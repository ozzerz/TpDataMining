{
  "comments": [
    "I get a \n\"Save could not be completed.\"\n\"Reason:\"\n\"org.eclipse.jdt.internal.compiler.lookup.BinaryTypeBinding\"\n\nThis started after I added this line to my code:\n\nout.println(\"Started \" + java.text.DateFormat.format(new java.util.Date()));\n\nIf I comment out the line, I can save and copy. With the line uncommented again,\nneither operation works.\n\nHere is the rest of the code.\n\nprivate void printTest () throws IOException {\n    File rebuiltLog \u003d new File(workingDir, \"rebuild.log\");\n    PrintStream out;\n            \n    rebuiltLog.createNewFile();\n            \n    out \u003d new PrintStream(new FileOutputStream(rebuiltLog));\n    out.println(\"Started \" + java.text.DateFormat.format(new java.util.Date()));\n}",
    "I found out it is the java.text.DateFormat part of the line that cause the error.\n\nIf I import java.text.DateFormat and just reference DateFormat the save works fine.",
    "Could you please provide the contents of your .log file?\nLook in .metadata folder.",
    "I think that is what you are looking for.\n\n!ENTRY org.eclipse.jdt.core 4 4 Oct 20, 2004 13:23:29.437\n!MESSAGE Exception occurred during problem detection: \n!STACK 0\njava.lang.ClassCastException:\norg.eclipse.jdt.internal.compiler.lookup.BinaryTypeBinding\n\tat\norg.eclipse.jdt.internal.compiler.ast.QualifiedNameReference.computeConversion(QualifiedNameReference.java:272)\n\tat\norg.eclipse.jdt.internal.compiler.ast.MessageSend.resolveType(MessageSend.java:335)\n\tat\norg.eclipse.jdt.internal.compiler.ast.LocalDeclaration.resolve(LocalDeclaration.java:190)\n\tat\norg.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolveStatements(AbstractMethodDeclaration.java:400)\n\tat\norg.eclipse.jdt.internal.compiler.ast.MethodDeclaration.resolveStatements(MethodDeclaration.java:139)\n\tat\norg.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve(AbstractMethodDeclaration.java:378)\n\tat\norg.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:940)\n\tat\norg.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:989)\n\tat\norg.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve(CompilationUnitDeclaration.java:280)\n\tat org.eclipse.jdt.internal.compiler.Compiler.resolve(Compiler.java:564)\n\tat\norg.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process(CompilationUnitProblemFinder.java:175)\n\tat\norg.eclipse.jdt.internal.core.CompilationUnit.buildStructure(CompilationUnit.java:148)\n\tat org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:202)\n\tat org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:544)\n\tat\norg.eclipse.jdt.internal.core.CompilationUnit.makeConsistent(CompilationUnit.java:978)\n\tat\norg.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.executeOperation(ReconcileWorkingCopyOperation.java:58)\n\tat\norg.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:700)\n\tat\norg.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:739)\n\tat\norg.eclipse.jdt.internal.core.CompilationUnit.reconcile(CompilationUnit.java:1104)\n\tat\norg.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:88)\n\tat\norg.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:129)\n\tat\norg.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.reconcile(CompositeReconcilingStrategy.java:86)\n\tat\norg.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.reconcile(JavaCompositeReconcilingStrategy.java:96)\n\tat org.eclipse.jface.text.reconciler.MonoReconciler.process(MonoReconciler.java:75)\n\tat org.eclipse.jdt.internal.ui.text.JavaReconciler.process(JavaReconciler.java:315)\n\tat\norg.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:204)\n",
    "Reproduced. Thanks for the stack trace.",
    "Created an attachment (id\u003d15312)\nTest case\n",
    "Created an attachment (id\u003d15313)\nApply on HEAD\n",
    "With the proposed patch the test case returns:\n----------\n1. ERROR in c:\\tests_sources\\X.java (at line 4)\n\treturn \"Started \" + java.text.DateFormat.format(new java.util.Date());\n\t                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nCannot make a static reference to the non-static method format(Date) from the\ntype DateFormat\n----------\n1 problem (1 error)",
    "Patch is good. Also avoid calling #computeConversion in this situation (when the\nreceiver is known to be invalid).\nAdded regression test: LookupTest#test049\nFixed",
    "Verified for 3.1M3 with build I200411040100"
  ],
  "commentCreationDates": [
    "2004-10-20T19:33:27+02:00",
    "2004-10-20T19:38:46+02:00",
    "2004-10-20T20:07:17+02:00",
    "2004-10-20T21:03:06+02:00",
    "2004-10-20T22:53:50+02:00",
    "2004-10-20T23:16:35+02:00",
    "2004-10-20T23:20:19+02:00",
    "2004-10-20T23:21:00+02:00",
    "2004-10-27T11:36:46+02:00",
    "2004-11-04T12:16:53+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.jdt.internal.compiler.lookup.BinaryTypeBinding",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.QualifiedNameReference.computeConversion",
          "source": "QualifiedNameReference.java:272"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.MessageSend.resolveType",
          "source": "MessageSend.java:335"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.LocalDeclaration.resolve",
          "source": "LocalDeclaration.java:190"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolveStatements",
          "source": "AbstractMethodDeclaration.java:400"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.resolveStatements",
          "source": "MethodDeclaration.java:139"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve",
          "source": "AbstractMethodDeclaration.java:378"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve",
          "source": "TypeDeclaration.java:940"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve",
          "source": "TypeDeclaration.java:989"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve",
          "source": "CompilationUnitDeclaration.java:280"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.resolve",
          "source": "Compiler.java:564"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process",
          "source": "CompilationUnitProblemFinder.java:175"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.buildStructure",
          "source": "CompilationUnit.java:148"
        },
        {
          "method": "org.eclipse.jdt.internal.core.Openable.generateInfos",
          "source": "Openable.java:202"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaElement.openWhenClosed",
          "source": "JavaElement.java:544"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.makeConsistent",
          "source": "CompilationUnit.java:978"
        },
        {
          "method": "org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.executeOperation",
          "source": "ReconcileWorkingCopyOperation.java:58"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.run",
          "source": "JavaModelOperation.java:700"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.runOperation",
          "source": "JavaModelOperation.java:739"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.reconcile",
          "source": "CompilationUnit.java:1104"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile",
          "source": "JavaReconcilingStrategy.java:88"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile",
          "source": "JavaReconcilingStrategy.java:129"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.reconcile",
          "source": "CompositeReconcilingStrategy.java:86"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.reconcile",
          "source": "JavaCompositeReconcilingStrategy.java:96"
        },
        {
          "method": "org.eclipse.jface.text.reconciler.MonoReconciler.process",
          "source": "MonoReconciler.java:75"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.JavaReconciler.process",
          "source": "JavaReconciler.java:315"
        },
        {
          "method": "org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run",
          "source": "AbstractReconciler.java:204"
        }
      ],
      "number": 0,
      "commentIndex": 3,
      "bugId": "76682",
      "date": "2004-10-20T21:03:06+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "76682",
  "bugId": "76682",
  "date": "2004-10-20T19:33:27+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}