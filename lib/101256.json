{
  "comments": [
    "I had an empty palette and tried to bring up the popup menu. Got the following\nexception because it tried to get the first selected editpart, but since there\nwere none it failed:\n\nENTRY org.eclipse.ui 4 0 2005-06-22 10:27:01.722\n!MESSAGE Index: 0, Size: 0\n!STACK 0\njava.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n\tat java.util.ArrayList.RangeCheck(ArrayList.java:507)\n\tat java.util.ArrayList.get(ArrayList.java:324)\n\tat java.util.Collections$UnmodifiableList.get(Collections.java:1139)\n\tat\norg.eclipse.gef.ui.palette.PaletteContextMenuProvider.buildContextMenu(PaletteContextMenuProvider.java:54)\n\tat org.eclipse.gef.ContextMenuProvider.menuAboutToShow(ContextMenuProvider.java:60)\n\tat org.eclipse.jface.action.MenuManager.fireAboutToShow(MenuManager.java:285)\n\tat org.eclipse.jface.action.MenuManager.handleAboutToShow(MenuManager.java:372)\n\tat org.eclipse.jface.action.MenuManager.access$0(MenuManager.java:369)\n\tat org.eclipse.jface.action.MenuManager$2.menuShown(MenuManager.java:386)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:116)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:844)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:868)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:849)\n\tat org.eclipse.swt.widgets.Control.WM_INITMENUPOPUP(Control.java:3336)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:3063)\n\tat org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1577)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:3682)\n\tat org.eclipse.swt.internal.win32.OS.TrackPopupMenu(Native Method)\n\tat org.eclipse.swt.widgets.Menu._setVisible(Menu.java:225)\n\tat org.eclipse.swt.widgets.Display.runPopups(Display.java:3084)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2685)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1716)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1680)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:365)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n\tat org.eclipse.core.launcher.Main.run(Main.java:973)\n\tat org.eclipse.core.launcher.Main.main(Main.java:948)\n\n!ENTRY org.eclipse.ui 4 4 2005-06-22 10:27:05.698\n!MESSAGE Unhandled event loop exception",
    "Ok, so don\u0027t set a context menu on an empty viewer?!?",
    "No, it is just trying to use the selected editpart to determine if it is a\ndrawer so that it can add \"pinned\" to the menu. I would just first check if\nthere are none selected then just skip that part but continue with the the rest\nof the menu.",
    "Are you not calling EditPartViewer#setContextMenu(MenuManager)?",
    "No I\u0027m not, but it\u0027s not needed for me to do that. That is taken care of by the\ngef.PaletteViewerProvider. \n\nThat\u0027s not the problem. The problem was that I had an empty palette when I tried\nto bring up the menu. The\norg.eclipse.gef.ui.palette.PaletteContextMenuProvider.buildContextMenu(PaletteContextMenuProvider.java:54)\nmethod did not handle this case. It assumed that there is always at least one\nselected editpart in the palette. With an empty palette there can\u0027t be any\nselected. "
  ],
  "commentCreationDates": [
    "2005-06-22T16:35:04+02:00",
    "2005-06-22T18:14:33+02:00",
    "2005-06-22T19:05:23+02:00",
    "2005-06-22T19:28:31+02:00",
    "2005-06-22T19:47:59+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IndexOutOfBoundsException",
      "message": "Index: 0, Size: 0",
      "elements": [
        {
          "method": "java.util.ArrayList.RangeCheck",
          "source": "ArrayList.java:507"
        },
        {
          "method": "java.util.ArrayList.get",
          "source": "ArrayList.java:324"
        },
        {
          "method": "java.util.Collections$UnmodifiableList.get",
          "source": "Collections.java:1139"
        },
        {
          "method": "org.eclipse.gef.ui.palette.PaletteContextMenuProvider.buildContextMenu",
          "source": "PaletteContextMenuProvider.java:54"
        },
        {
          "method": "org.eclipse.gef.ContextMenuProvider.menuAboutToShow",
          "source": "ContextMenuProvider.java:60"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.fireAboutToShow",
          "source": "MenuManager.java:285"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.handleAboutToShow",
          "source": "MenuManager.java:372"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.access$0",
          "source": "MenuManager.java:369"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager$2.menuShown",
          "source": "MenuManager.java:386"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:116"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:844"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:868"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:849"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.WM_INITMENUPOPUP",
          "source": "Control.java:3336"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:3063"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.windowProc",
          "source": "Decorations.java:1577"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:3682"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.TrackPopupMenu",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Menu._setVisible",
          "source": "Menu.java:225"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runPopups",
          "source": "Display.java:3084"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2685"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1716"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1680"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:365"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "101256",
      "date": "2005-06-22T16:35:04+02:00",
      "product": "GEF",
      "component": "GEF",
      "severity": "normal"
    }
  ],
  "groupId": "101256",
  "bugId": "101256",
  "date": "2005-06-22T16:35:04+02:00",
  "product": "GEF",
  "component": "GEF",
  "severity": "normal"
}