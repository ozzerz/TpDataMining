{
  "comments": [
    "System throws following exceptions when multiple requests come just after application server startupped:\n\nSEVERE: Cannot open connection.\norg.eclipse.birt.report.data.oda.jdbc.JDBCException: Missing properties in Connection.open(Properties).\n\tat org.eclipse.birt.report.data.oda.jdbc.Connection.open(Connection.java:112)\n\tat org.eclipse.datatools.connectivity.oda.consumer.helper.OdaConnection.open(OdaConnection.java:235)\n\tat org.eclipse.birt.data.engine.odaconsumer.ConnectionManager.openConnection(ConnectionManager.java:145)\n\tat org.eclipse.birt.data.engine.executor.DataSource.newConnection(DataSource.java:134)\n\tat org.eclipse.birt.data.engine.executor.DataSource.open(DataSource.java:121)\n\tat org.eclipse.birt.data.engine.impl.DataSourceRuntime.openOdiDataSource(DataSourceRuntime.java:214)\n\tat org.eclipse.birt.data.engine.impl.QueryExecutor.openDataSource(QueryExecutor.java:265)\n\tat org.eclipse.birt.data.engine.impl.QueryExecutor.prepareExecution(QueryExecutor.java:210)\n\tat org.eclipse.birt.data.engine.impl.PreparedQuery.doPrepare(PreparedQuery.java:499)\n\tat org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.execute(PreparedDataSourceQuery.java:161)\n\tat org.eclipse.birt.data.engine.impl.PreparedOdaDSQuery.execute(PreparedOdaDSQuery.java:142)\n\tat org.eclipse.birt.report.data.adapter.impl.DataRequestSessionImpl.execute(DataRequestSessionImpl.java:438)\n\tat org.eclipse.birt.report.engine.data.dte.DteDataEngine.doExecuteQuery(DteDataEngine.java:151)\n\tat org.eclipse.birt.report.engine.data.dte.DteDataEngine.doExecuteQuery(DteDataEngine.java:117)\n\tat org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.execute(AbstractDataEngine.java:182)\n\tat org.eclipse.birt.report.engine.executor.ExecutionContext.executeQuery(ExecutionContext.java:1683)\n\tat org.eclipse.birt.report.engine.executor.QueryItemExecutor.executeQuery(QueryItemExecutor.java:75)\n\tat org.eclipse.birt.report.engine.executor.TableItemExecutor.execute(TableItemExecutor.java:61)\n\tat org.eclipse.birt.report.engine.internal.executor.dup.SuppressDuplicateItemExecutor.execute(SuppressDuplicateItemExecutor.java:42)\n\tat org.eclipse.birt.report.engine.internal.executor.wrap.WrappedReportItemExecutor.execute(WrappedReportItemExecutor.java:45)\n\tat org.eclipse.birt.report.engine.internal.executor.l18n.LocalizedReportItemExecutor.execute(LocalizedReportItemExecutor.java:33)\n\tat org.eclipse.birt.report.engine.layout.html.HTMLBlockStackingLM.layoutNodes(HTMLBlockStackingLM.java:63)\n\tat org.eclipse.birt.report.engine.layout.html.HTMLPageLM.layout(HTMLPageLM.java:85)\n\tat org.eclipse.birt.report.engine.layout.html.HTMLReportLayoutEngine.layout(HTMLReportLayoutEngine.java:106)\n\tat org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.doRun(RunAndRenderTask.java:140)\n\tat org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run(RunAndRenderTask.java:68)\n\tat com.actuate.stress.sv.RunAndRender.execute(RunAndRender.java:91)\n\tat com.actuate.stress.TestEngineServlet.doGet(TestEngineServlet.java:74)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:689)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:214)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:825)\n\tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:738)\n\tat org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:526)\n\tat org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)\n\tat java.lang.Thread.run(Thread.java:595)",
    "I think it\u0027s not synchronized in #getExtensionManifest method in ManifestExplorer. Because ExtensionManifest is cached in hashtable, so when multiple threads , there is something wrong. I will check with linda, and fix it. thx ",
    "This issue should have fixes in both \n1) ODA framework (#204972) and \n2) Model to add error handling when ManifestExplorer.getExtensionManifest returns NULL for any reason.",
    "Bug https://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d204972 is resolved, but same exception exists in the latest build using the oda jars with the Linda\u0027s changes made to fix 204972. It seems that the synchronization should be done for the hashtable when call getExtensionManifest method. Another point is that Model will call this method when open the design file. If Model does as Linda suggests, does it mean that the design file can not be opened just because the getExtensionManifest returns null? Model can not determine whether the returned value is null because the extension id is not valid or just because some initialization has error in ExtensionManifest . Model can do nothing to stop processing. Assign it to Data tools to do further work about the synchronization to fix 204972 and this one.",
    "For the synchronization issue, will re-open bug 204972 to look into it.\n\nThis bug should be kept for any additional error handling in BIRT Model, when ManifestExplorer.getExtensionManifest returns NULL for any reason.",
    "Fixed. bug 204972 is fixed to resolve the synchronization. Furthermore, Model adds semantic checks in design time to check whether the manifest is null or not."
  ],
  "commentCreationDates": [
    "2007-09-20T11:19:31+02:00",
    "2007-09-24T04:49:30+02:00",
    "2007-09-29T05:09:03+02:00",
    "2007-11-01T08:04:33+01:00",
    "2007-11-01T09:04:32+01:00",
    "2007-11-09T07:13:00+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.birt.report.data.oda.jdbc.JDBCException",
      "message": "Missing properties in Connection.open(Properties).",
      "elements": [
        {
          "method": "org.eclipse.birt.report.data.oda.jdbc.Connection.open",
          "source": "Connection.java:112"
        },
        {
          "method": "org.eclipse.datatools.connectivity.oda.consumer.helper.OdaConnection.open",
          "source": "OdaConnection.java:235"
        },
        {
          "method": "org.eclipse.birt.data.engine.odaconsumer.ConnectionManager.openConnection",
          "source": "ConnectionManager.java:145"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.DataSource.newConnection",
          "source": "DataSource.java:134"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.DataSource.open",
          "source": "DataSource.java:121"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.DataSourceRuntime.openOdiDataSource",
          "source": "DataSourceRuntime.java:214"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.QueryExecutor.openDataSource",
          "source": "QueryExecutor.java:265"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.QueryExecutor.prepareExecution",
          "source": "QueryExecutor.java:210"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedQuery.doPrepare",
          "source": "PreparedQuery.java:499"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.execute",
          "source": "PreparedDataSourceQuery.java:161"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedOdaDSQuery.execute",
          "source": "PreparedOdaDSQuery.java:142"
        },
        {
          "method": "org.eclipse.birt.report.data.adapter.impl.DataRequestSessionImpl.execute",
          "source": "DataRequestSessionImpl.java:438"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.DteDataEngine.doExecuteQuery",
          "source": "DteDataEngine.java:151"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.DteDataEngine.doExecuteQuery",
          "source": "DteDataEngine.java:117"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.execute",
          "source": "AbstractDataEngine.java:182"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ExecutionContext.executeQuery",
          "source": "ExecutionContext.java:1683"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.QueryItemExecutor.executeQuery",
          "source": "QueryItemExecutor.java:75"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.TableItemExecutor.execute",
          "source": "TableItemExecutor.java:61"
        },
        {
          "method": "org.eclipse.birt.report.engine.internal.executor.dup.SuppressDuplicateItemExecutor.execute",
          "source": "SuppressDuplicateItemExecutor.java:42"
        },
        {
          "method": "org.eclipse.birt.report.engine.internal.executor.wrap.WrappedReportItemExecutor.execute",
          "source": "WrappedReportItemExecutor.java:45"
        },
        {
          "method": "org.eclipse.birt.report.engine.internal.executor.l18n.LocalizedReportItemExecutor.execute",
          "source": "LocalizedReportItemExecutor.java:33"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLBlockStackingLM.layoutNodes",
          "source": "HTMLBlockStackingLM.java:63"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLPageLM.layout",
          "source": "HTMLPageLM.java:85"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLReportLayoutEngine.layout",
          "source": "HTMLReportLayoutEngine.java:106"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.doRun",
          "source": "RunAndRenderTask.java:140"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run",
          "source": "RunAndRenderTask.java:68"
        },
        {
          "method": "com.actuate.stress.sv.RunAndRender.execute",
          "source": "RunAndRender.java:91"
        },
        {
          "method": "com.actuate.stress.TestEngineServlet.doGet",
          "source": "TestEngineServlet.java:74"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:689"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:802"
        },
        {
          "method": "org.apache.catalina.core.ApplicationFilterChain.internalDoFilter",
          "source": "ApplicationFilterChain.java:252"
        },
        {
          "method": "org.apache.catalina.core.ApplicationFilterChain.doFilter",
          "source": "ApplicationFilterChain.java:173"
        },
        {
          "method": "org.apache.catalina.core.StandardWrapperValve.invoke",
          "source": "StandardWrapperValve.java:214"
        },
        {
          "method": "org.apache.catalina.core.StandardContextValve.invoke",
          "source": "StandardContextValve.java:178"
        },
        {
          "method": "org.apache.catalina.core.StandardHostValve.invoke",
          "source": "StandardHostValve.java:126"
        },
        {
          "method": "org.apache.catalina.valves.ErrorReportValve.invoke",
          "source": "ErrorReportValve.java:105"
        },
        {
          "method": "org.apache.catalina.core.StandardEngineValve.invoke",
          "source": "StandardEngineValve.java:107"
        },
        {
          "method": "org.apache.catalina.connector.CoyoteAdapter.service",
          "source": "CoyoteAdapter.java:148"
        },
        {
          "method": "org.apache.coyote.http11.Http11Processor.process",
          "source": "Http11Processor.java:825"
        },
        {
          "method": "org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection",
          "source": "Http11Protocol.java:738"
        },
        {
          "method": "org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket",
          "source": "PoolTcpEndpoint.java:526"
        },
        {
          "method": "org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt",
          "source": "LeaderFollowerWorkerThread.java:80"
        },
        {
          "method": "org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run",
          "source": "ThreadPool.java:684"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:595"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "204087",
      "date": "2007-09-20T11:19:31+02:00",
      "product": "BIRT",
      "component": "Report",
      "severity": "normal"
    }
  ],
  "groupId": "204087",
  "bugId": "204087",
  "date": "2007-09-20T11:19:31+02:00",
  "product": "BIRT",
  "component": "Report",
  "severity": "normal"
}