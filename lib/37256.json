{
  "comments": [
    "After changing line 198 of spacewar/Debug.java from\n\n  info.setEditable(false);\n\nto\n\n  info.setEditable(false);\n  info.addNotify();\n\nget ClassDefNotFoundError when trying to run.\n\nTrue of compiler in 1.1rc1 and current tree, and when\nrunning java 1.1, 1.3, and 1.4.\n\n  $ cd examples\n  $ mkdir classes\n  $ ../../bin/ajc -d classes -classpath ../../lib/aspectjrt.jar \\\n   -argfile spacewar/debug.lst\n  $ java -classpath \"classes;../../lib/aspectjrt.jar\" spacewar.Game\n\n  Exception in thread \"main\" java.lang.NoClassDefFoundError\n        at spacewar.Game.main(Game.java:45) \n\n  $ jar -tf  ../../lib/aspectjrt.jar org/aspectj/lang/JoinPoint.class\n  org/aspectj/lang/JoinPoint.class",
    "This is a dup of bug #34206.  This is another example of the sort of strange \nbehavior you can get with before+pure after advice.  You\u0027re seeing this \nproblem because there is an exception being thrown during the class \ninitializer of the Debug aspect (which has the dangerous before+pure after \nadvice).\n\nThe \"fix\" is to change all of the after advice in Debug.java to after \nreturning advice.  There\u0027s no good reason not to do this and that will make \nthe failure much more graceful.  Here\u0027s the stack trace you see when doing \nthat:\n\njava.lang.ExceptionInInitializerError: java.lang.NullPointerException: peer\n\tat sun.awt.windows.WTextAreaPeer.create(Native Method)\n\tat sun.awt.windows.WComponentPeer.\u003cinit\u003e(WComponentPeer.java:375)\n\tat sun.awt.windows.WTextComponentPeer.\u003cinit\u003e\n(WTextComponentPeer.java:39)\n\tat sun.awt.windows.WTextAreaPeer.\u003cinit\u003e(WTextAreaPeer.java:47)\n\tat sun.awt.windows.WToolkit.createTextArea(WToolkit.java:267)\n\tat java.awt.TextArea.addNotify(TextArea.java:230)\n\tat spacewar.InfoWin.\u003cinit\u003e(Debug.java:200)\n\tat spacewar.Debug.\u003cclinit\u003e(Debug.java:58)\n\tat spacewar.Game.main(Game.java)\nException in thread \"main\"\n\nI don\u0027t understand what\u0027s wrong with the code here, but this makes it clear \nthat the underlying issue is something in the AWT.\n\najc should probably add an exception handler to every aspect\u0027s clint method \nthat will somehow produce a useful message for the user.  However, failures in \nclinit can have very unusual behavior and this will take some thought to \nhandle correctly.\n\nSee the duplicate bug for another manifestation of this same confusing \nbehavior.\n\n\n\n*** This bug has been marked as a duplicate of 34206 ***"
  ],
  "commentCreationDates": [
    "2003-05-06T11:22:55+02:00",
    "2003-05-06T20:20:55+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoClassDefFoundError",
      "elements": [
        {
          "method": "spacewar.Game.main",
          "source": "Game.java:45"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "37256",
      "duplicateId": "34206",
      "date": "2003-05-06T11:22:55+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "message": "peer",
      "elements": [
        {
          "method": "sun.awt.windows.WTextAreaPeer.create",
          "source": "Native Method"
        },
        {
          "method": "sun.awt.windows.WComponentPeer.\u003cinit\u003e",
          "source": "WComponentPeer.java:375"
        },
        {
          "method": "sun.awt.windows.WTextComponentPeer.\u003cinit\u003e",
          "source": "WTextComponentPeer.java:39"
        },
        {
          "method": "sun.awt.windows.WTextAreaPeer.\u003cinit\u003e",
          "source": "WTextAreaPeer.java:47"
        },
        {
          "method": "sun.awt.windows.WToolkit.createTextArea",
          "source": "WToolkit.java:267"
        },
        {
          "method": "java.awt.TextArea.addNotify",
          "source": "TextArea.java:230"
        },
        {
          "method": "spacewar.InfoWin.\u003cinit\u003e",
          "source": "Debug.java:200"
        },
        {
          "method": "spacewar.Debug.\u003cclinit\u003e",
          "source": "Debug.java:58"
        },
        {
          "method": "spacewar.Game.main",
          "source": "Game.java"
        }
      ],
      "number": 1,
      "commentIndex": 1,
      "bugId": "37256",
      "duplicateId": "34206",
      "date": "2003-05-06T20:20:55+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "34206",
  "bugId": "37256",
  "duplicateId": "34206",
  "date": "2003-05-06T11:22:55+02:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}