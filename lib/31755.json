{
  "comments": [
    "using CVS head sources from 2003-02-11 I get the following exception when an \nedit part is deleted. It doesn\u0027t ocure on all edit parts.\n\nMight it be possible that the parent of the EditPart figure was not set \ncorrectly? From debugging I know that the figure that is going to be removed \nhas no parent set but is a child of the figure. It might be probably threading \nissues. The events my edit parts recieve are executed in the UI thread \n(Display#syncExec).\n\nAs a result, the edit part is removed, but the figure is still visible.\n\njava.lang.IllegalArgumentException: IWAG0003E Figure is not a child of this \nparent\n\tat org.eclipse.draw2d.Figure.remove(Figure.java:1031)\n\tat org.eclipse.draw2d.FreeformLayer.remove(FreeformLayer.java:49)\n\tat org.eclipse.gef.editparts.AbstractGraphicalEditPart.removeChildVisual\n(AbstractGraphicalEditPart.java:671)\n\tat \ncom.intershop.enfinitystudio.internal.vpm.editor.edit.PipelineEditPart.removeChi\nldVisual(PipelineEditPart.java:292)\n\tat org.eclipse.gef.editparts.AbstractEditPart.removeChild\n(AbstractEditPart.java:844)\n\tat org.eclipse.gef.editparts.AbstractEditPart.refreshChildren\n(AbstractEditPart.java:763)\n\tat \ncom.intershop.enfinitystudio.internal.vpm.editor.edit.PipelineEditPart.handleEve\nnt(PipelineEditPart.java:245)\n\tat \ncom.intershop.enfinitystudio.internal.vpm.editor.edit.AbstractBeehiveElementEdit\nPart$1.run(AbstractBeehiveElementEditPart.java:188)\n\tat org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:123)\n\tat org.eclipse.ui.internal.UISynchronizer.syncExec\n(UISynchronizer.java:18)\n\tat org.eclipse.swt.widgets.Display.syncExec(Display.java:2000)\n\tat \ncom.intershop.enfinitystudio.internal.vpm.editor.edit.AbstractBeehiveElementEdit\nPart.elementChange(AbstractBeehiveElementEditPart.java:180)\n\tat \ncom.intershop.beehive.eclipse.core.common.BeehiveElementManager.informElementCha\nngeListeners(BeehiveElementManager.java:747)\n\tat \ncom.intershop.beehive.eclipse.core.common.BeehiveElementManager.doFireBeehiveEle\nmentChangeEvent(BeehiveElementManager.java:734)\n\tat \ncom.intershop.beehive.eclipse.core.common.BeehiveElementManager.doFireBeehiveEle\nmentChangeEvent(BeehiveElementManager.java:716)\n\tat \ncom.intershop.beehive.eclipse.core.common.BeehiveElementManager.doFinishBeehiveE\nlementChange(BeehiveElementManager.java:616)\n\tat \ncom.intershop.beehive.eclipse.core.common.BeehiveElementManager.finishBeehiveEle\nmentChange(BeehiveElementManager.java:599)\n\tat \ncom.intershop.enfinitystudio.internal.vpm.editor.edit.commands.DeletePipelineNod\neCommand.redo(DeletePipelineNodeCommand.java:95)\n\tat \ncom.intershop.enfinitystudio.internal.vpm.editor.edit.commands.DeletePipelineNod\neCommand.execute(DeletePipelineNodeCommand.java:49)\n\tat org.eclipse.gef.commands.CompoundCommand.execute\n(CompoundCommand.java:102)\n\tat org.eclipse.gef.commands.CommandStack.execute(CommandStack.java:64)\n\tat org.eclipse.gef.ui.actions.EditorPartAction.execute\n(EditorPartAction.java:54)\n\tat org.eclipse.gef.ui.actions.DeleteAction.run(DeleteAction.java:115)\n\tat org.eclipse.gef.KeyHandler.performStroke(KeyHandler.java:68)\n\tat org.eclipse.gef.KeyHandler.keyPressed(KeyHandler.java:44)\n\tat org.eclipse.gef.KeyHandler.keyPressed(KeyHandler.java:46)\n\tat org.eclipse.gef.ui.parts.GraphicalViewerKeyHandler.keyPressed\n(GraphicalViewerKeyHandler.java:186)\n\tat org.eclipse.gef.tools.SelectionTool.handleKeyDown\n(SelectionTool.java:227)\n\tat org.eclipse.gef.tools.AbstractTool.keyDown(AbstractTool.java:606)\n\tat org.eclipse.gef.tools.SelectionTool.keyDown(SelectionTool.java:330)\n\tat org.eclipse.gef.DefaultEditDomain.keyDown(DefaultEditDomain.java:150)\n\tat org.eclipse.gef.ui.parts.DomainEventDispatcher.dispatchKeyPressed\n(DomainEventDispatcher.java:154)\n\tat org.eclipse.draw2d.LightweightSystem$EventHandler.keyPressed\n(LightweightSystem.java:386)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent\n(TypedListener.java:118)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:77)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:836)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1692)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1410)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1289)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1272)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:845)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:247)\n\tat org.eclipse.core.launcher.Main.run(Main.java:703)\n\tat org.eclipse.core.launcher.Main.main(Main.java:539)",
    "No steps to reproduce.",
    "If I would have steps to reproduce I would have post it. I only know that a \nfigure is not removed correctly from my editor when this exception is thrown.\n\nBecause of the Eclipse \"Exception\" breakpoints I could realize that the figure \nthat is going to be removed from the container is in the container but returns \nnull in IFigure#getParent();.\n\nI don\u0027t know the states when this could happen. I never add or remove a figure \nmanually. I only overwrite EditPart#createFigure and let the \nAbstractGraphicalEditPart implementation do the job of adding/removing them to \ntheir parent. Thus I don\u0027t know how to get into this state."
  ],
  "commentCreationDates": [
    "2003-02-13T10:37:29+01:00",
    "2003-02-17T20:50:43+01:00",
    "2003-02-17T21:45:40+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "IWAG0003E Figure is not a child of this  parent",
      "elements": [
        {
          "method": "org.eclipse.draw2d.Figure.remove",
          "source": "Figure.java:1031"
        },
        {
          "method": "org.eclipse.draw2d.FreeformLayer.remove",
          "source": "FreeformLayer.java:49"
        },
        {
          "method": "org.eclipse.gef.editparts.AbstractGraphicalEditPart.removeChildVisual",
          "source": "AbstractGraphicalEditPart.java:671"
        },
        {
          "method": "com.intershop.enfinitystudio.internal.vpm.editor.edit.PipelineEditPart.removeChildVisual",
          "source": "PipelineEditPart.java:292"
        },
        {
          "method": "org.eclipse.gef.editparts.AbstractEditPart.removeChild",
          "source": "AbstractEditPart.java:844"
        },
        {
          "method": "org.eclipse.gef.editparts.AbstractEditPart.refreshChildren",
          "source": "AbstractEditPart.java:763"
        },
        {
          "method": "com.intershop.enfinitystudio.internal.vpm.editor.edit.PipelineEditPart.handleEvent",
          "source": "PipelineEditPart.java:245"
        },
        {
          "method": "com.intershop.enfinitystudio.internal.vpm.editor.edit.AbstractBeehiveElementEditPart$1.run",
          "source": "AbstractBeehiveElementEditPart.java:188"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.syncExec",
          "source": "Synchronizer.java:123"
        },
        {
          "method": "org.eclipse.ui.internal.UISynchronizer.syncExec",
          "source": "UISynchronizer.java:18"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.syncExec",
          "source": "Display.java:2000"
        },
        {
          "method": "com.intershop.enfinitystudio.internal.vpm.editor.edit.AbstractBeehiveElementEditPart.elementChange",
          "source": "AbstractBeehiveElementEditPart.java:180"
        },
        {
          "method": "com.intershop.beehive.eclipse.core.common.BeehiveElementManager.informElementChangeListeners",
          "source": "BeehiveElementManager.java:747"
        },
        {
          "method": "com.intershop.beehive.eclipse.core.common.BeehiveElementManager.doFireBeehiveElementChangeEvent",
          "source": "BeehiveElementManager.java:734"
        },
        {
          "method": "com.intershop.beehive.eclipse.core.common.BeehiveElementManager.doFireBeehiveElementChangeEvent",
          "source": "BeehiveElementManager.java:716"
        },
        {
          "method": "com.intershop.beehive.eclipse.core.common.BeehiveElementManager.doFinishBeehiveElementChange",
          "source": "BeehiveElementManager.java:616"
        },
        {
          "method": "com.intershop.beehive.eclipse.core.common.BeehiveElementManager.finishBeehiveElementChange",
          "source": "BeehiveElementManager.java:599"
        },
        {
          "method": "com.intershop.enfinitystudio.internal.vpm.editor.edit.commands.DeletePipelineNodeCommand.redo",
          "source": "DeletePipelineNodeCommand.java:95"
        },
        {
          "method": "com.intershop.enfinitystudio.internal.vpm.editor.edit.commands.DeletePipelineNodeCommand.execute",
          "source": "DeletePipelineNodeCommand.java:49"
        },
        {
          "method": "org.eclipse.gef.commands.CompoundCommand.execute",
          "source": "CompoundCommand.java:102"
        },
        {
          "method": "org.eclipse.gef.commands.CommandStack.execute",
          "source": "CommandStack.java:64"
        },
        {
          "method": "org.eclipse.gef.ui.actions.EditorPartAction.execute",
          "source": "EditorPartAction.java:54"
        },
        {
          "method": "org.eclipse.gef.ui.actions.DeleteAction.run",
          "source": "DeleteAction.java:115"
        },
        {
          "method": "org.eclipse.gef.KeyHandler.performStroke",
          "source": "KeyHandler.java:68"
        },
        {
          "method": "org.eclipse.gef.KeyHandler.keyPressed",
          "source": "KeyHandler.java:44"
        },
        {
          "method": "org.eclipse.gef.KeyHandler.keyPressed",
          "source": "KeyHandler.java:46"
        },
        {
          "method": "org.eclipse.gef.ui.parts.GraphicalViewerKeyHandler.keyPressed",
          "source": "GraphicalViewerKeyHandler.java:186"
        },
        {
          "method": "org.eclipse.gef.tools.SelectionTool.handleKeyDown",
          "source": "SelectionTool.java:227"
        },
        {
          "method": "org.eclipse.gef.tools.AbstractTool.keyDown",
          "source": "AbstractTool.java:606"
        },
        {
          "method": "org.eclipse.gef.tools.SelectionTool.keyDown",
          "source": "SelectionTool.java:330"
        },
        {
          "method": "org.eclipse.gef.DefaultEditDomain.keyDown",
          "source": "DefaultEditDomain.java:150"
        },
        {
          "method": "org.eclipse.gef.ui.parts.DomainEventDispatcher.dispatchKeyPressed",
          "source": "DomainEventDispatcher.java:154"
        },
        {
          "method": "org.eclipse.draw2d.LightweightSystem$EventHandler.keyPressed",
          "source": "LightweightSystem.java:386"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:118"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:77"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:836"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1692"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1410"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1272"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:247"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:703"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:539"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "31755",
      "date": "2003-02-13T10:37:29+01:00",
      "product": "GEF",
      "component": "GEF",
      "severity": "blocker"
    }
  ],
  "groupId": "31755",
  "bugId": "31755",
  "date": "2003-02-13T10:37:29+01:00",
  "product": "GEF",
  "component": "GEF",
  "severity": "blocker"
}