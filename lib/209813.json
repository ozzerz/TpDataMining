{
  "comments": [
    "Build ID: M20071023-1652\ncdt 4.0.1\n\nIn following situation the indexer goes into infinite loop and finishes with \"java.lang.OutOfMemoryError: Java heap space error\" when parsing .cpp file cited below. Several times I\u0027ve tried to prepare some test project, but I failed - this must have something to do with other contents of the index :( Maybe someone will get an idea from my description. \nbtw: this happened also in pre 4.0.0 and 4.0.0 builds.\n\nThe affected projects are part of a quite big workspace. \nThere\u0027s a header file in one project (the problem occurs even when I cut it down to empty class declaration in a namespace):\n\n------------------------\n#include \u003cstring\u003e\n#include \u003cvector\u003e\n\nnamespace isserverplus {\nnamespace util {\nnamespace comm {\n\nusing namespace std;\nclass MockReader {\n...\n};\n}\n}\n}\n------------------------\nthis header is included in a .cpp file in other project:\n\n------------------------\n#include \u003cisserverplus/util/comm/MockReader.h\u003e\n#include \u003cstring\u003e\n\nusing namespace std;\nusing namespace isserverplus::util::comm;\n\nvoid ble() {\n  vector\u003cstring\u003e inputData;\n  MockReader* mr \u003d new MockReader(inputData);\n}\n------------------------\n\nWhen I remove \"using namespace isserverplus::util::comm;\" and give the full namespace \"path\" for MockReader (isserverplus::util::comm::MockReader), then the file is parsed correctly.\n\nThe workspace log contains then various exception backtraces:\n\n!ENTRY org.eclipse.cdt.core 4 4 2007-11-14 13:16:34.235\n!MESSAGE Error while parsing /isserverplus.util.command.test/source/DefaultCommandListenerTest.cpp.\n!STACK 0\njava.lang.OutOfMemoryError: Java heap space\n        at org.eclipse.cdt.core.parser.util.ObjectTable.resize(ObjectTable.java:76)\n        at org.eclipse.cdt.core.parser.util.HashTable.resize(HashTable.java:72)\n        at org.eclipse.cdt.core.parser.util.ObjectTable.add(ObjectTable.java:88)\n        at org.eclipse.cdt.core.parser.util.ObjectSet.put(ObjectSet.java:68)\n        at org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.lookupInNominated(CPPSemantics.java:1617)\n        at org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.lookup(CPPSemantics.java:1108)\n        at org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.resolveBinding(CPPSemantics.java:632)\n        at org.eclipse.cdt.internal.core.dom.parser.cpp.CPPVisitor.createBinding(CPPVisitor.java:167)\n        at org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTName.resolveBinding(CPPASTName.java:78)\n        at org.eclipse.cdt.internal.core.dom.parser.cpp.CPPTemplates.createBinding(CPPTemplates.java:266)\n        at org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTTemplateId.resolveBinding(CPPASTTemplateId.java:81)\n        at org.eclipse.cdt.internal.core.pdom.PDOMWriter.addSymbols(PDOMWriter.java:163)\n        at org.eclipse.cdt.internal.core.pdom.indexer.PDOMIndexerTask.parseTU(PDOMIndexerTask.java:334)\n        at org.eclipse.cdt.internal.core.pdom.indexer.PDOMIndexerTask.internalParseTUs(PDOMIndexerTask.java:219)\n        at org.eclipse.cdt.internal.core.pdom.indexer.PDOMIndexerTask.parseTUs(PDOMIndexerTask.java:192)\n        at org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastIndexerTask.run(PDOMFastIndexerTask.java:102)\n        at org.eclipse.cdt.internal.core.pdom.indexer.PDOMRebuildTask.run(PDOMRebuildTask.java:75)\n        at org.eclipse.cdt.internal.core.pdom.PDOMIndexerJob.run(PDOMIndexerJob.java:90)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)\n\n\n!ENTRY org.eclipse.cdt.core 4 4 2007-11-14 13:57:03.887\n!MESSAGE Error while parsing /isserverplus.util.command.test/source/DefaultCommandListenerTest.cpp.\n!STACK 0\njava.lang.OutOfMemoryError: Java heap space\n        at java.util.Arrays.copyOfRange(Arrays.java:3209)\n        at java.lang.String.\u003cinit\u003e(String.java:216)\n        at java.lang.StringBuffer.toString(StringBuffer.java:585)\n        at org.eclipse.cdt.internal.core.pdom.PDOM.createKeyForCache(PDOM.java:831)\n        at org.eclipse.cdt.internal.core.pdom.dom.cpp.PDOMCPPNamespace.getBindingsViaCache(PDOMCPPNamespace.java:148)\n        at org.eclipse.cdt.internal.core.pdom.dom.cpp.PDOMCPPNamespace.getBinding(PDOMCPPNamespace.java:124)\n        at org.eclipse.cdt.internal.core.index.composite.cpp.CompositeCPPNamespaceScope.getBinding(CompositeCPPNamespaceScope.java:47)\n        at org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.lookupInNominated(CPPSemantics.java:1623)\n        at org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.lookup(CPPSemantics.java:1108)\n        at org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.resolveBinding(CPPSemantics.java:632)\n        at org.eclipse.cdt.internal.core.dom.parser.cpp.CPPVisitor.createBinding(CPPVisitor.java:167)\n        at org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTName.resolveBinding(CPPASTName.java:78)\n        at org.eclipse.cdt.internal.core.dom.parser.cpp.CPPTemplates.createBinding(CPPTemplates.java:266)\n        at org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTTemplateId.resolveBinding(CPPASTTemplateId.java:81)\n        at org.eclipse.cdt.internal.core.pdom.PDOMWriter.addSymbols(PDOMWriter.java:163)\n        at org.eclipse.cdt.internal.core.pdom.indexer.PDOMIndexerTask.parseTU(PDOMIndexerTask.java:334)\n        at org.eclipse.cdt.internal.core.pdom.indexer.PDOMIndexerTask.internalParseTUs(PDOMIndexerTask.java:219)\n        at org.eclipse.cdt.internal.core.pdom.indexer.PDOMIndexerTask.parseTUs(PDOMIndexerTask.java:192)\n        at org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastIndexerTask.run(PDOMFastIndexerTask.java:102)\n        at org.eclipse.cdt.internal.core.pdom.indexer.PDOMRebuildTask.run(PDOMRebuildTask.java:75)\n        at org.eclipse.cdt.internal.core.pdom.PDOMIndexerJob.run(PDOMIndexerJob.java:90)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)"
  ],
  "commentCreationDates": [
    "2007-11-14T15:06:09+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.OutOfMemoryError",
      "message": "Java heap space",
      "elements": [
        {
          "method": "org.eclipse.cdt.core.parser.util.ObjectTable.resize",
          "source": "ObjectTable.java:76"
        },
        {
          "method": "org.eclipse.cdt.core.parser.util.HashTable.resize",
          "source": "HashTable.java:72"
        },
        {
          "method": "org.eclipse.cdt.core.parser.util.ObjectTable.add",
          "source": "ObjectTable.java:88"
        },
        {
          "method": "org.eclipse.cdt.core.parser.util.ObjectSet.put",
          "source": "ObjectSet.java:68"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.lookupInNominated",
          "source": "CPPSemantics.java:1617"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.lookup",
          "source": "CPPSemantics.java:1108"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.resolveBinding",
          "source": "CPPSemantics.java:632"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPVisitor.createBinding",
          "source": "CPPVisitor.java:167"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTName.resolveBinding",
          "source": "CPPASTName.java:78"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPTemplates.createBinding",
          "source": "CPPTemplates.java:266"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTTemplateId.resolveBinding",
          "source": "CPPASTTemplateId.java:81"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.PDOMWriter.addSymbols",
          "source": "PDOMWriter.java:163"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.PDOMIndexerTask.parseTU",
          "source": "PDOMIndexerTask.java:334"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.PDOMIndexerTask.internalParseTUs",
          "source": "PDOMIndexerTask.java:219"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.PDOMIndexerTask.parseTUs",
          "source": "PDOMIndexerTask.java:192"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastIndexerTask.run",
          "source": "PDOMFastIndexerTask.java:102"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.PDOMRebuildTask.run",
          "source": "PDOMRebuildTask.java:75"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.PDOMIndexerJob.run",
          "source": "PDOMIndexerJob.java:90"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:55"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "209813",
      "date": "2007-11-14T15:06:09+01:00",
      "product": "CDT",
      "component": "cdt-core",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.OutOfMemoryError",
      "message": "Java heap space",
      "elements": [
        {
          "method": "java.util.Arrays.copyOfRange",
          "source": "Arrays.java:3209"
        },
        {
          "method": "java.lang.String.\u003cinit\u003e",
          "source": "String.java:216"
        },
        {
          "method": "java.lang.StringBuffer.toString",
          "source": "StringBuffer.java:585"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.PDOM.createKeyForCache",
          "source": "PDOM.java:831"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.dom.cpp.PDOMCPPNamespace.getBindingsViaCache",
          "source": "PDOMCPPNamespace.java:148"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.dom.cpp.PDOMCPPNamespace.getBinding",
          "source": "PDOMCPPNamespace.java:124"
        },
        {
          "method": "org.eclipse.cdt.internal.core.index.composite.cpp.CompositeCPPNamespaceScope.getBinding",
          "source": "CompositeCPPNamespaceScope.java:47"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.lookupInNominated",
          "source": "CPPSemantics.java:1623"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.lookup",
          "source": "CPPSemantics.java:1108"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.resolveBinding",
          "source": "CPPSemantics.java:632"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPVisitor.createBinding",
          "source": "CPPVisitor.java:167"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTName.resolveBinding",
          "source": "CPPASTName.java:78"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPTemplates.createBinding",
          "source": "CPPTemplates.java:266"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTTemplateId.resolveBinding",
          "source": "CPPASTTemplateId.java:81"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.PDOMWriter.addSymbols",
          "source": "PDOMWriter.java:163"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.PDOMIndexerTask.parseTU",
          "source": "PDOMIndexerTask.java:334"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.PDOMIndexerTask.internalParseTUs",
          "source": "PDOMIndexerTask.java:219"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.PDOMIndexerTask.parseTUs",
          "source": "PDOMIndexerTask.java:192"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastIndexerTask.run",
          "source": "PDOMFastIndexerTask.java:102"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.PDOMRebuildTask.run",
          "source": "PDOMRebuildTask.java:75"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.PDOMIndexerJob.run",
          "source": "PDOMIndexerJob.java:90"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:55"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "209813",
      "date": "2007-11-14T15:06:09+01:00",
      "product": "CDT",
      "component": "cdt-core",
      "severity": "normal"
    }
  ],
  "groupId": "209813",
  "bugId": "209813",
  "date": "2007-11-14T15:06:09+01:00",
  "product": "CDT",
  "component": "cdt-core",
  "severity": "normal"
}