{
  "comments": [
    "Build ID: v200710040500\n\nSteps To Reproduce:\n1. Create a read-only PDOM for headers at location ROLoc and below\n2. Create a project Prj\n3. Register/load the read-only PDOM for project Prj such that source-navigation works (Open Element must open the element at location ROLoc, if the element is in the read-only PDOM)\n4. Create a new linked folder in the project that points to ROLoc\n\nIssue 1: When files are parsed that are including headers of ROLoc or below, then the exception below is thrown.\nIssue 2: Files in the linked folder itself are not parsed at all, if there are any changes, or if there are other indexer options (references are not enabled for the read-only PDOM, but they are for the project).\n\n\n\nMore information:\njava.lang.AssertionError: Attempt to clear file of read-only fragment\n\tat org.eclipse.cdt.internal.core.index.WritableCIndex.clearFile(WritableCIndex.java:92)\n\tat org.eclipse.cdt.internal.core.pdom.PDOMWriter.addToIndex(PDOMWriter.java:444)\n\tat org.eclipse.cdt.internal.core.pdom.PDOMWriter.addSymbols(PDOMWriter.java:213)\n\tat org.eclipse.cdt.internal.core.pdom.indexer.PDOMIndexerTask.parseTU(PDOMIndexerTask.java:334)\n\tat org.eclipse.cdt.internal.core.pdom.indexer.PDOMIndexerTask.internalParseTUs(PDOMIndexerTask.java:236)\n\tat org.eclipse.cdt.internal.core.pdom.indexer.PDOMIndexerTask.parseTUs(PDOMIndexerTask.java:192)\n\tat org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastIndexerTask.run(PDOMFastIndexerTask.java:102)\n\tat org.eclipse.cdt.internal.core.pdom.PDOMIndexerJob.run(PDOMIndexerJob.java:90)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)",
    "Additional info:\nto issue 1:\nThe error log says \"Error while parsing \u003cfile name\u003e.\" If there are too many errors, then it says \"Too many problems while indexing project \u0027\u003cproject name\u003e\u0027, stopping indexer.\"\n\nEither issue 1 or issue 2 makes it impossible to toggle between source and declaration, if the declaration is in the read-only PDOM and the implementation is outside. If both, the file containing the declaration and the file containing the implementation are linked to the project, it should be possible to toggle between them, no matter if the declaration is also in an read-only PDOM.\n",
    "Fixed in 4.0.2 and 5.0 \u003e 20071009."
  ],
  "commentCreationDates": [
    "2007-10-05T12:10:49+02:00",
    "2007-10-05T13:42:42+02:00",
    "2007-10-09T13:52:42+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.AssertionError",
      "message": "Attempt to clear file of read-only fragment",
      "elements": [
        {
          "method": "org.eclipse.cdt.internal.core.index.WritableCIndex.clearFile",
          "source": "WritableCIndex.java:92"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.PDOMWriter.addToIndex",
          "source": "PDOMWriter.java:444"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.PDOMWriter.addSymbols",
          "source": "PDOMWriter.java:213"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.PDOMIndexerTask.parseTU",
          "source": "PDOMIndexerTask.java:334"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.PDOMIndexerTask.internalParseTUs",
          "source": "PDOMIndexerTask.java:236"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.PDOMIndexerTask.parseTUs",
          "source": "PDOMIndexerTask.java:192"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastIndexerTask.run",
          "source": "PDOMFastIndexerTask.java:102"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.PDOMIndexerJob.run",
          "source": "PDOMIndexerJob.java:90"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:55"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "205555",
      "date": "2007-10-05T12:10:49+02:00",
      "product": "CDT",
      "component": "cdt-core",
      "severity": "normal"
    }
  ],
  "groupId": "205555",
  "bugId": "205555",
  "date": "2007-10-05T12:10:49+02:00",
  "product": "CDT",
  "component": "cdt-core",
  "severity": "normal"
}