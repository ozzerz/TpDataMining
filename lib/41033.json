{
  "comments": [
    "I am experiencing very regular \"crashes\" of eclipse where a dialog notifies\nme to exit immediately due to a SWT error.\n\nThe problems seem to be very highly correlated with the use of Mozilla 1.4 or\nthe 0.1 beta of Thunderbird while eclipse is running. In particular these often\nexperience display glitches around about the same time as eclipse issues its error\nmessage. Generally it only takes an hour or so of concurrent use for the problem to\nappear.\n\n Here is the stacktrace from the eclipse log after one of the errors:\n \n org.eclipse.swt.SWTError: No more handles\n at org.eclipse.swt.SWT.error(SWT.java:2358)\n at org.eclipse.swt.SWT.error(SWT.java:2262)\n at org.eclipse.swt.graphics.Image.init(Image.java:1445)\n at org.eclipse.swt.graphics.Image.\u003cinit\u003e(Image.java:161)\n at org.eclipse.swt.custom.StyledText.performPaint(StyledText.java:5904)\n at org.eclipse.swt.custom.StyledText.handlePaint(StyledText.java:5288)\n at org.eclipse.swt.custom.StyledText$13.handleEvent(StyledText.java:4988)\n at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:81)\n at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:840)\n at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:865)\n at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:849)\n at org.eclipse.swt.widgets.Composite.WM_PAINT(Composite.java:730)\n at org.eclipse.swt.widgets.Control.windowProc(Control.java:2817)\n at org.eclipse.swt.widgets.Display.windowProc(Display.java:2361)\n at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)\n at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1303)\n at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1543)\n at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1402)\n at org.eclipse.ui.internal.Workbench.run(Workbench.java:1385)\n at\norg.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:858)\n at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n at java.lang.reflect.Method.invoke(Method.java:324)\n at org.eclipse.core.launcher.Main.basicRun(Main.java:291)\n at org.eclipse.core.launcher.Main.run(Main.java:747)\n at org.eclipse.core.launcher.Main.main(Main.java:583)",
    "I\u0027ve also seen this.  It happens (for us) in WebSphere Studio Application\nDeveloper 5.1, in the XSD editor.  We can reproduce it at will on different\nmachines.  The stack trace usually indicates \"no more handles\" (with different\ntraces getting there), but I also got a \"widget is disposed\", with an immediate\nexit to the desktop.  We see it on Windows XP and Windows 2000.",
    "Can\u0027t do anything with this other than note that Eclipse or a plugin is \nleaking.  Eric could try running the Sleak tool to pin-point the leak?\n\nMoving to UI.  (sorry)",
    "Moving to text as this occuring in the text component",
    "Steve, am I correct that the handles can also be wasted by some other application?\n\nEric, which editor do you use to see the problem?\n",
    "Yes but I would have expected Windows 2000 to be way more forgiving.  I know \nthere is a limit but this is normally huge.",
    "I cannot be sure of which editor is leaking SWT components. While the stacktrace\nI submitted shows a text editor failing to get a handle, it is certainly not\nclear that a text editor is leaking the handles.\n\nFYI: \"Maximum NT User Handles Per Process Is 10,000 in Windows 2000\"\nhttp://support.microsoft.com/default.aspx?kbid\u003d326591",
    "Maybe I am missing something: the stack I see has no reference to any editor.\nThe only \"text\" string I see is in StyledText widget which can be used in any\nplace (e.g. in a dialog). Do you refer to an other stack trace which is not\nattached to this bug?\n",
    "The original bug report has the only stack trace. I somewhat incorrectly was\nreferring to the the StyledText widget as being an \"editor\". The point I was\ntrying to make is that one cannot tell from the stack trace who is leaking the\nhandles. ",
    "Steve, do you have a utility which would allow to monitor the handles?\n",
    "There is the Sleak tool.  It can be downloaded from the SWT web page.",
    "I started getting the \u0027org.eclipse.swt.SWTError: No more handles\u0027 error after \nupgrading my nVidia video drivers and my JDK from 1.4.1_01 to 1.4.2. I don\u0027t \nknow which of the two upgrades caused this problem. Eclipse runs for a while, \nsometimes a few minutes and sometimes a few hours, then dies with a SWT error \nmessage with a \u0027No more handles\u0027 explanation in the .log file. It will die even \nif I\u0027m not doing anything in Eclipse.\n\nAttempting to restart Eclipse gives me the same \u0027No more handles\u0027 error.\n\nIf I don\u0027t run Eclipse I don\u0027t seem to run out of handles.\n\nYesterday I moved my old Eclipse install directory and re-installed the newest \nstable version. I am still having the same problems.\n\nThe only way I\u0027ve been able to recover from this is to reboot the computer.",
    "This points to a problem outside of Eclipse.  If you exit and restart Eclipse, \nall resources that Eclipse has acquired are released when the the process \nexits.  Make sure you don\u0027t have any zombie Eclipses in the task list.\n\nIf my theory is true, then any program that uses lots of resources should fail \nafter a while.",
    "Downgrading to JDK_1.4.1_04 seems to have resolved my issue. I did not \ndowngrade my nVidia video drivers, I am still at Detonator 45.23 (the most \nrecent one). I used Eclipse for several hours yesterday after the downgrade, \nleft it running overnight and have been using it for over an hour this morning \nwith no crashes. It seemed to crash within 30 minutes when I was using JDK \n1.4.2.\n\nIt did crash once after I downgraded the JDK. I didn\u0027t reboot after I \ndowngraded. I did shut down Eclipse before downgrading and started it back up \nafter downgrading.\n\nI agree, this is probably not an Eclipse-specific problem. I think that any \nhandle-heavy (anything gui-based, when you get down to it) Java application \nwill exhibit this same behavior.",
    "Eric, can you confirm that you also run on 1.4.2 and going back to 1.4.1 fixes\nthe problem?\n\n",
    "I spoke too soon. Eclipse just crashed on me when I tried to map an Oracle 9iFS \nnetwork drive. I\u0027m going to try downgrading my video drivers to detonator 44.03 \nnext. I\u0027ll post an update later today on how that goes. Here\u0027s my current video \nsetup:\n\nRunning nVidia Detonator 45.23 drivers (v6.14.10.4523)\nDual head GeForce2 MX\nWindows 2000 Pro (SP4) patches all up-to-date\n\nRight now, I have Eclipse running, I\u0027m looking at an \u0027Internal error\u0027 error \nthat informs me of an SWT error. When I go into Task Manager, the javaw process \nis using all available CPU and is grabbing memory at a rate of about \n50MB/minute. When I started this bug entry it was using 135MB of RAM, it\u0027s now \nup to 340MB.\n\nI tried to restart Eclipse but was not able to, the .log reports the usual \u0027No \nmore handles\u0027 error. I tried \u0027Exit\u0027ing the java console icon in my systray but \nthat did not allow me to restart Eclipse.\n\nI don\u0027t see any unusual processes in my plist, no Eclipse or Java processes are \nrunning.",
    "So far so good after the video driver downgrade. No crashes yet.",
    "Still no crashes. I upgraded my JDK back to 1.4.2 yesterday afternoon so I \nthink the problem was caused by nVidia\u0027s new video drivers.",
    "Eric, what video driver are you using?",
    "\u003cspamme314159@yahoo.com\u003e wrote to me:\nATI Technologies Inc. 3D RAGE PRO AGP 2X\nDriver Provider: Microsoft\nDriver Date: 11/18/1999\nDriver Version: 5.0.2184.1",
    "Eric, try to update the video driver and test with 1.4.1 as suggested in comment\n13. \n\nBefore reopening use the Sleak tool as outlined in comment 2 and attach your\nfindings to this PR.\n"
  ],
  "commentCreationDates": [
    "2003-07-31T22:45:10+02:00",
    "2003-08-05T22:02:07+02:00",
    "2003-08-08T20:03:41+02:00",
    "2003-08-11T16:09:47+02:00",
    "2003-08-11T18:57:53+02:00",
    "2003-08-11T19:08:50+02:00",
    "2003-08-11T20:02:49+02:00",
    "2003-08-11T20:05:06+02:00",
    "2003-08-11T20:26:09+02:00",
    "2003-08-15T14:11:57+02:00",
    "2003-08-18T18:09:10+02:00",
    "2003-08-19T22:40:41+02:00",
    "2003-08-19T23:59:03+02:00",
    "2003-08-20T16:41:51+02:00",
    "2003-08-20T16:58:18+02:00",
    "2003-08-20T17:18:47+02:00",
    "2003-08-20T22:25:25+02:00",
    "2003-08-21T20:45:34+02:00",
    "2003-08-25T15:25:10+02:00",
    "2003-09-08T20:28:48+02:00",
    "2003-09-15T11:53:28+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTError",
      "message": "No more handles",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2358"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2262"
        },
        {
          "method": "org.eclipse.swt.graphics.Image.init",
          "source": "Image.java:1445"
        },
        {
          "method": "org.eclipse.swt.graphics.Image.\u003cinit\u003e",
          "source": "Image.java:161"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.performPaint",
          "source": "StyledText.java:5904"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.handlePaint",
          "source": "StyledText.java:5288"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText$13.handleEvent",
          "source": "StyledText.java:4988"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:81"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:840"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:865"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:849"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.WM_PAINT",
          "source": "Composite.java:730"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:2817"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:2361"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessageW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessage",
          "source": "OS.java:1303"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1543"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1402"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1385"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:858"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:291"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:747"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:583"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "41033",
      "date": "2003-07-31T22:45:10+02:00",
      "product": "Platform",
      "component": "Text",
      "severity": "critical"
    }
  ],
  "groupId": "41033",
  "bugId": "41033",
  "date": "2003-07-31T22:45:10+02:00",
  "product": "Platform",
  "component": "Text",
  "severity": "critical"
}