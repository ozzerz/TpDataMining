{
  "comments": [
    "Build ID: I200705150304\n\nSteps To Reproduce:\n1. Run the Java Web service wizard with any Java bean.\n2. Target Tomcat 5.0 and Axis runtimes.\n3. Click next/finish.\n\nThe following error pops up.  Here are the details:\n\n\nIWAB0398E Error in generating WSDL from Java:  java.lang.LinkageError: loader constraints violated when linking javax/xml/namespace/QName class\n    java.lang.LinkageError: loader constraints violated when linking javax/xml/namespace/QName class\n    at org.apache.axis.wsdl.fromJava.Emitter.writeBinding(Emitter.java:895)\n    at org.apache.axis.wsdl.fromJava.Emitter.getWSDL(Emitter.java:482)\n    at org.apache.axis.wsdl.fromJava.Emitter.emit(Emitter.java:331)\n    at org.apache.axis.wsdl.fromJava.Emitter.emit(Emitter.java:430)\n    at org.apache.axis.tools.ant.wsdl.Java2WsdlAntTask.execute(Java2WsdlAntTask.java:243)\n    at org.eclipse.jst.ws.internal.axis.consumption.core.command.Java2WSDLCommand.executeAntTask(Java2WSDLCommand.java:179)\n    at org.eclipse.jst.ws.internal.axis.consumption.core.command.Java2WSDLCommand.execute(Java2WSDLCommand.java:94)\n    at org.eclipse.jst.ws.internal.axis.creation.ui.command.BUCodeGenOperation$BottomUpWSModifyOperation.execute(BUCodeGenOperation.java:116)\n    at org.eclipse.jst.ws.internal.axis.creation.ui.command.BUCodeGenOperation.execute(BUCodeGenOperation.java:80)\n    at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.runCommand(CommandFragmentEngine.java:418)\n    at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.visitTop(CommandFragmentEngine.java:358)\n    at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.moveForwardToNextStop(CommandFragmentEngine.java:253)\n    at org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager$5.run(SimpleCommandEngineManager.java:252)\n    at org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:369)\n    at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:313)\n    at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:934)\n    at org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager.runForwardToNextStop(SimpleCommandEngineManager.java:222)\n    at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.runForwardToNextStop(WizardPageManager.java:96)\n    at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getNextPage(WizardPageManager.java:147)\n    at org.eclipse.wst.command.internal.env.ui.widgets.SimpleWizardPage.getNextPage(SimpleWizardPage.java:136)\n    at org.eclipse.jface.wizard.WizardDialog.nextPressed(WizardDialog.java:813)\n    at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:369)\n    at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:616)\n    at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3673)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3284)\n    at org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\n    at org.eclipse.jface.window.Window.open(Window.java:796)\n    at org.eclipse.ui.actions.NewWizardAction.run(NewWizardAction.java:182)\n    at org.eclipse.ui.actions.NewWizardDropDownAction.run(NewWizardDropDownAction.java:174)\n    at org.eclipse.jface.action.Action.runWithEvent(Action.java:498)\n    at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:545)\n    at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490)\n    at org.eclipse.jface.action.ActionContributionItem$6.handleEvent(ActionContributionItem.java:443)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3673)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3284)\n    at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2365)\n    at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2329)\n    at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2204)\n    at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:497)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:436)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1162)\n\n\n\nMore information:",
    "Note:  This is the cause of the JUnit failure in the I200705150304 build log.",
    "This linkage error is caused by the latest change to depend on javax.wsdl v1.4 and org.w3c.dom.",
    "With the 200705151648 driver, I\u0027m getting the following in Axis 1.4 bottom-up scenario:\n\nIWAB0398E Error in generating WSDL from Java:  java.lang.VerifyError: javax/wsdl/Definition.getBinding(Ljavax/xml/namespace/QName;)Ljavax/wsdl/Binding;\n    java.lang.VerifyError: javax/wsdl/Definition.getBinding(Ljavax/xml/namespace/QName;)Ljavax/wsdl/Binding;\n    at org.apache.axis.wsdl.fromJava.Emitter.writeBinding(Emitter.java:895)\n    at org.apache.axis.wsdl.fromJava.Emitter.getWSDL(Emitter.java:482)\n    at org.apache.axis.wsdl.fromJava.Emitter.emit(Emitter.java:331)\n    at org.apache.axis.wsdl.fromJava.Emitter.emit(Emitter.java:430)\n    at org.apache.axis.tools.ant.wsdl.Java2WsdlAntTask.execute(Java2WsdlAntTask.java:243)\n    at org.eclipse.jst.ws.internal.axis.consumption.core.command.Java2WSDLCommand.executeAntTask(Java2WSDLCommand.java:179)\n    at org.eclipse.jst.ws.internal.axis.consumption.core.command.Java2WSDLCommand.execute(Java2WSDLCommand.java:94)\n    at org.eclipse.jst.ws.internal.axis.creation.ui.command.BUCodeGenOperation$BottomUpWSModifyOperation.execute(BUCodeGenOperation.java:116)\n    at org.eclipse.jst.ws.internal.axis.creation.ui.command.BUCodeGenOperation.execute",
    "I can get the Web services scenarios to work if I:\n\n1. Remove the following from javax.wsdl v1.4:\nRequire-Bundle: org.apache.xerces;bundle-version\u003d\"[2.8.0,3.0.0)\";resolution:\u003doptional\n\n2. Use version 1.1.2.8 for mainifest.mf for javax.wsdl (this is the latest version in CVS as of 05/15 05:30 EDT).\n\n3. Remove all required bundle change that had added dependency on org.dom.w3c in the Web services plugins.\n\nDavid, please make change #1 and #3 and release the changes.  \n\n\n",
    "One more issue to consider. Simon analyzed a bit more, and he things the issue is that javax.xml.rpc exports QName package, and in axis, it \"requires bundle\" with xml.rpc in front of xerces. \n\nHis theory was that removing the export of QName from xml.rpc would fix the problem too. \n\nI think this would be a more robust solution. Assuming it works. To revert to \"the way it was before\" would still be a fragile solution that would always depend on the order of xerces and xml.rpc. .. and someone, if not us, is bound to get it wrong sometime! \n\nI\u0027ll see what I can do to test the fix where QName is further \"hidden\". It may have been my solution was very close to working ... and just didn\u0027t quite go far enough. \n\n",
    "I tested in the PDE with the latest code checked into javax.wsdl, javax.xml.rpc and org.apache.axis and Web services plugins, the Axis 1.4 Web services bottom-up, top-down scenarios, and the Web Services Explorer are all OK.  Thanks David!",
    "\nBuild I200705160046 is the first  build with this fix. \nSee http://download.eclipse.org/webtools/committers/\n(but use latest build on that page when ready to verify). \n\n\nIMO, the Eclipse/OSGi teams deserves kudos, as this is the first release \nof Eclipse where bootdelegation\u003d* was not assumed, so it actually \nallows us to _override_ some \"old\" implementations of QName in third party jars, and allows use of the latest version of QName. While some of that code doesn\u0027t really need the latest version of QName per se, they all do need to be compatible, and there\u0027s a lot of them ... see bug 186903 .... , so this should provide for less brittle plugin stacks which are already complex enough. Much thanks Simon. \n\n",
    "Resolving this defect as the fixes had been checked in.  I\u0027ve verified this on the WTP 2.0 200705160748 build.  ",
    "This problem does not occur in the 05171455 WTP 2.0 driver anymore.  Closing."
  ],
  "commentCreationDates": [
    "2007-05-15T18:00:56+02:00",
    "2007-05-15T18:01:56+02:00",
    "2007-05-15T19:08:05+02:00",
    "2007-05-15T23:02:23+02:00",
    "2007-05-15T23:37:52+02:00",
    "2007-05-15T23:54:04+02:00",
    "2007-05-16T05:44:09+02:00",
    "2007-05-16T06:45:37+02:00",
    "2007-05-16T22:15:24+02:00",
    "2007-05-17T21:08:14+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.LinkageError",
      "message": "loader constraints violated when linking javax/xml/namespace/QName class",
      "elements": [
        {
          "method": "org.apache.axis.wsdl.fromJava.Emitter.writeBinding",
          "source": "Emitter.java:895"
        },
        {
          "method": "org.apache.axis.wsdl.fromJava.Emitter.getWSDL",
          "source": "Emitter.java:482"
        },
        {
          "method": "org.apache.axis.wsdl.fromJava.Emitter.emit",
          "source": "Emitter.java:331"
        },
        {
          "method": "org.apache.axis.wsdl.fromJava.Emitter.emit",
          "source": "Emitter.java:430"
        },
        {
          "method": "org.apache.axis.tools.ant.wsdl.Java2WsdlAntTask.execute",
          "source": "Java2WsdlAntTask.java:243"
        },
        {
          "method": "org.eclipse.jst.ws.internal.axis.consumption.core.command.Java2WSDLCommand.executeAntTask",
          "source": "Java2WSDLCommand.java:179"
        },
        {
          "method": "org.eclipse.jst.ws.internal.axis.consumption.core.command.Java2WSDLCommand.execute",
          "source": "Java2WSDLCommand.java:94"
        },
        {
          "method": "org.eclipse.jst.ws.internal.axis.creation.ui.command.BUCodeGenOperation$BottomUpWSModifyOperation.execute",
          "source": "BUCodeGenOperation.java:116"
        },
        {
          "method": "org.eclipse.jst.ws.internal.axis.creation.ui.command.BUCodeGenOperation.execute",
          "source": "BUCodeGenOperation.java:80"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.runCommand",
          "source": "CommandFragmentEngine.java:418"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.visitTop",
          "source": "CommandFragmentEngine.java:358"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.moveForwardToNextStop",
          "source": "CommandFragmentEngine.java:253"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager$5.run",
          "source": "SimpleCommandEngineManager.java:252"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:369"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:313"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.run",
          "source": "WizardDialog.java:934"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager.runForwardToNextStop",
          "source": "SimpleCommandEngineManager.java:222"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.runForwardToNextStop",
          "source": "WizardPageManager.java:96"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getNextPage",
          "source": "WizardPageManager.java:147"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.SimpleWizardPage.getNextPage",
          "source": "SimpleWizardPage.java:136"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.nextPressed",
          "source": "WizardDialog.java:813"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.buttonPressed",
          "source": "WizardDialog.java:369"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$2.widgetSelected",
          "source": "Dialog.java:616"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:227"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3673"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3284"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:820"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:796"
        },
        {
          "method": "org.eclipse.ui.actions.NewWizardAction.run",
          "source": "NewWizardAction.java:182"
        },
        {
          "method": "org.eclipse.ui.actions.NewWizardDropDownAction.run",
          "source": "NewWizardDropDownAction.java:174"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:498"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:545"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:490"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$6.handleEvent",
          "source": "ActionContributionItem.java:443"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3673"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3284"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2365"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2329"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2204"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:466"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:461"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:153"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:363"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:176"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:497"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:436"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1162"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "187038",
      "date": "2007-05-15T18:00:56+02:00",
      "product": "Web Tools",
      "component": "jst.ws",
      "severity": "blocker"
    },
    {
      "exceptionType": "java.lang.VerifyError",
      "message": "javax/wsdl/Definition.getBinding(Ljavax/xml/namespace/QName;)Ljavax/wsdl/Binding;",
      "elements": [
        {
          "method": "org.apache.axis.wsdl.fromJava.Emitter.writeBinding",
          "source": "Emitter.java:895"
        },
        {
          "method": "org.apache.axis.wsdl.fromJava.Emitter.getWSDL",
          "source": "Emitter.java:482"
        },
        {
          "method": "org.apache.axis.wsdl.fromJava.Emitter.emit",
          "source": "Emitter.java:331"
        },
        {
          "method": "org.apache.axis.wsdl.fromJava.Emitter.emit",
          "source": "Emitter.java:430"
        },
        {
          "method": "org.apache.axis.tools.ant.wsdl.Java2WsdlAntTask.execute",
          "source": "Java2WsdlAntTask.java:243"
        },
        {
          "method": "org.eclipse.jst.ws.internal.axis.consumption.core.command.Java2WSDLCommand.executeAntTask",
          "source": "Java2WSDLCommand.java:179"
        },
        {
          "method": "org.eclipse.jst.ws.internal.axis.consumption.core.command.Java2WSDLCommand.execute",
          "source": "Java2WSDLCommand.java:94"
        },
        {
          "method": "org.eclipse.jst.ws.internal.axis.creation.ui.command.BUCodeGenOperation$BottomUpWSModifyOperation.execute",
          "source": "BUCodeGenOperation.java:116"
        }
      ],
      "number": 1,
      "commentIndex": 3,
      "bugId": "187038",
      "date": "2007-05-15T23:02:23+02:00",
      "product": "Web Tools",
      "component": "jst.ws",
      "severity": "blocker"
    }
  ],
  "groupId": "187038",
  "bugId": "187038",
  "date": "2007-05-15T18:00:56+02:00",
  "product": "Web Tools",
  "component": "jst.ws",
  "severity": "blocker"
}