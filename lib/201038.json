{
  "comments": [
    "Description:\nThe joint dataset from library can not be used and exception occurs when preview in dataset[07]\n\nBuild number: \n2.2.1.v20070824-0630\n\nSteps to reproduce:\n1, New a library and create two datasets ds1 and ds2\n2, Creata a joint dataset ds3 using ds1 and ds2\n3, Publish the library\n4, New a report and using the Joint dataset and preview in joint dataset\n\nExpected result:\nThe preview should be successful\n\nActual result:\nException occurs\nError log:\njava.lang.ClassCastException: org.eclipse.birt.report.model.metadata.ElementRefValue\nat org.eclipse.birt.report.model.command.AbstractPropertyCommand.setupStructureContext(AbstractPropertyCommand.java:534)\nat org.eclipse.birt.report.model.command.AbstractPropertyCommand.makeLocalCompositeValue(AbstractPropertyCommand.java:440)\nat org.eclipse.birt.report.model.command.ComplexPropertyCommand.doRemoveItem(ComplexPropertyCommand.java:456)\nat org.eclipse.birt.report.model.command.ComplexPropertyCommand.removeItem(ComplexPropertyCommand.java:393)\nat org.eclipse.birt.report.model.api.PropertyHandle.removeItem(PropertyHandle.java:317)\nat org.eclipse.birt.report.model.api.SimpleValueHandle.removeItem(SimpleValueHandle.java:453)\nat org.eclipse.birt.report.model.api.JointDataSetHandle.removeDataSet(JointDataSetHandle.java:128)\nat org.eclipse.birt.report.designer.data.ui.dataset.JointDataSetPage.modifyJointCondition(JointDataSetPage.java:989)\nat org.eclipse.birt.report.designer.data.ui.dataset.JointDataSetPage.canLeave(JointDataSetPage.java:963)\nat org.eclipse.birt.report.designer.data.ui.property.AbstractPropertyDialog.showPage(AbstractPropertyDialog.java:554)\nat org.eclipse.birt.report.designer.data.ui.property.AbstractPropertyDialog.showSelectionPage(AbstractPropertyDialog.java:467)\nat org.eclipse.birt.report.designer.data.ui.dataset.DataSetEditor.showSelectionPage(DataSetEditor.java:820)\nat org.eclipse.birt.report.designer.data.ui.property.AbstractPropertyDialog$3.run(AbstractPropertyDialog.java:425)",
    "done it . fix class cast exception in AbstractPropertyCommand.",
    "Verified on v20070830-1348 build\nClosed and regards!"
  ],
  "commentCreationDates": [
    "2007-08-24T08:19:49+02:00",
    "2007-08-27T07:49:57+02:00",
    "2007-08-30T13:35:52+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.birt.report.model.metadata.ElementRefValue",
      "elements": [
        {
          "method": "org.eclipse.birt.report.model.command.AbstractPropertyCommand.setupStructureContext",
          "source": "AbstractPropertyCommand.java:534"
        },
        {
          "method": "org.eclipse.birt.report.model.command.AbstractPropertyCommand.makeLocalCompositeValue",
          "source": "AbstractPropertyCommand.java:440"
        },
        {
          "method": "org.eclipse.birt.report.model.command.ComplexPropertyCommand.doRemoveItem",
          "source": "ComplexPropertyCommand.java:456"
        },
        {
          "method": "org.eclipse.birt.report.model.command.ComplexPropertyCommand.removeItem",
          "source": "ComplexPropertyCommand.java:393"
        },
        {
          "method": "org.eclipse.birt.report.model.api.PropertyHandle.removeItem",
          "source": "PropertyHandle.java:317"
        },
        {
          "method": "org.eclipse.birt.report.model.api.SimpleValueHandle.removeItem",
          "source": "SimpleValueHandle.java:453"
        },
        {
          "method": "org.eclipse.birt.report.model.api.JointDataSetHandle.removeDataSet",
          "source": "JointDataSetHandle.java:128"
        },
        {
          "method": "org.eclipse.birt.report.designer.data.ui.dataset.JointDataSetPage.modifyJointCondition",
          "source": "JointDataSetPage.java:989"
        },
        {
          "method": "org.eclipse.birt.report.designer.data.ui.dataset.JointDataSetPage.canLeave",
          "source": "JointDataSetPage.java:963"
        },
        {
          "method": "org.eclipse.birt.report.designer.data.ui.property.AbstractPropertyDialog.showPage",
          "source": "AbstractPropertyDialog.java:554"
        },
        {
          "method": "org.eclipse.birt.report.designer.data.ui.property.AbstractPropertyDialog.showSelectionPage",
          "source": "AbstractPropertyDialog.java:467"
        },
        {
          "method": "org.eclipse.birt.report.designer.data.ui.dataset.DataSetEditor.showSelectionPage",
          "source": "DataSetEditor.java:820"
        },
        {
          "method": "org.eclipse.birt.report.designer.data.ui.property.AbstractPropertyDialog$3.run",
          "source": "AbstractPropertyDialog.java:425"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "201038",
      "date": "2007-08-24T08:19:49+02:00",
      "product": "BIRT",
      "component": "Report",
      "severity": "critical"
    }
  ],
  "groupId": "201038",
  "bugId": "201038",
  "date": "2007-08-24T08:19:49+02:00",
  "product": "BIRT",
  "component": "Report",
  "severity": "critical"
}