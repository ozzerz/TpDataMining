{
  "comments": [
    "This may be the reason for the trouble in bug 62913 or not\nThis buildfile will produce an NPE when parsing.\nThe target will have an error annotation indicating the NPE.\n\n\u003cproject ndefault\u003d\"make\"\u003e\n\u003ctarget name\u003d\"make\"\u003e\n\t\t\n\t\u003c/target\u003e\n\n\u003c/project\u003e\n\njava.lang.NullPointerException\nat org.eclipse.ant.internal.ui.editor.outline.AntModel.addTarget\n(AntModel.java:574)\nat \norg.eclipse.ant.internal.ui.editor.utils.ProjectHelper$TargetHandler.onStartEle\nment(ProjectHelper.java:305)\nat org.apache.tools.ant.helper.ProjectHelper2$RootHandler.startElement\n(ProjectHelper2.java:454)\nat org.apache.xerces.parsers.AbstractSAXParser.startElement(Unknown Source)\nat org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown \nSource)\nat \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher\n.dispatch(Unknown Source)\nat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown \nSource)\nat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\nat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\nat org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\nat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\nat org.eclipse.ant.internal.ui.editor.utils.ProjectHelper.parse\n(ProjectHelper.java:499)\nat org.eclipse.ant.internal.ui.editor.utils.ProjectHelper.parse\n(ProjectHelper.java:564)\nat org.eclipse.ant.internal.ui.editor.outline.AntModel.parseDocument\n(AntModel.java:258)\nat org.eclipse.ant.internal.ui.editor.outline.AntModel.reconcile\n(AntModel.java:184)\nat \norg.eclipse.ant.internal.ui.editor.text.XMLReconcilingStrategy.internalReconcil\ne(XMLReconcilingStrategy.java:47)\nat org.eclipse.ant.internal.ui.editor.text.XMLReconcilingStrategy.reconcile\n(XMLReconcilingStrategy.java:66)\nat org.eclipse.jface.text.reconciler.MonoReconciler.process\n(MonoReconciler.java:72)\nat org.eclipse.ant.internal.ui.editor.text.NotifyingReconciler.process\n(NotifyingReconciler.java:40)\nat org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run\n(AbstractReconciler.java:200)",
    "Something like this would fix the problem.  Just need to always create the \nproject node if you want to continue parsing.  Looks like this could be a \ncommon problem with parse on error.\n\nIndex: ProjectHelper.java\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\nRCS file: /home/eclipse/org.eclipse.ant.ui/Ant \nEditor/org/eclipse/ant/internal/ui/editor/utils/ProjectHelper.java,v\nretrieving revision 1.23\ndiff -u -r1.23 ProjectHelper.java\n--- ProjectHelper.java\t13 May 2004 00:03:53 -0000\t1.23\n+++ ProjectHelper.java\t20 May 2004 00:23:51 -0000\n@@ -260,16 +260,15 @@\n \t\t */\n \t\tpublic void onStartElement(String uri, String tag, String \nqname, Attributes attrs, AntXMLContext context) {\n \t\t\ttry {\n-\t\t\t\tsuper.onStartElement(uri, tag, qname, attrs, \ncontext);\n-\t\t\t\tif (currentImportStackSize \u003d\u003d 1) {\n-\t\t\t\t\tLocator locator\u003d context.getLocator();\n-\t\t\t\t\tgetAntModel().addProject\n(context.getProject(), locator.getLineNumber(), locator.getColumnNumber());\n-\t\t\t\t}\n-\t\t\t\t\n+\t\t\t\tsuper.onStartElement(uri, tag, qname, attrs, \ncontext);\t\t\t\t\n \t\t\t} catch (SAXParseException e) {\n \t\t\t\tgetAntModel().error(e);\n \t\t\t} catch (BuildException be) {\n \t\t\t\tgetAntModel().error(be);\n+\t\t\t}\n+\t\t\tif (currentImportStackSize \u003d\u003d 1) {\n+\t\t\t\tLocator locator\u003d context.getLocator();\n+\t\t\t\tgetAntModel().addProject(context.getProject(), \nlocator.getLineNumber(), locator.getColumnNumber());\n \t\t\t}\n \t\t}\n \t\t\n",
    "*** Bug 62913 has been marked as a duplicate of this bug. ***",
    "Thanks Michael.\nAdded test case to the code completion tests as well",
    "Please verify DarinW.",
    "Verified."
  ],
  "commentCreationDates": [
    "2004-05-20T00:49:00+02:00",
    "2004-05-20T02:38:41+02:00",
    "2004-05-20T03:52:02+02:00",
    "2004-05-20T04:38:35+02:00",
    "2004-05-20T04:39:01+02:00",
    "2004-05-20T18:56:55+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ant.internal.ui.editor.outline.AntModel.addTarget",
          "source": "AntModel.java:574"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.utils.ProjectHelper$TargetHandler.onStartElement",
          "source": "ProjectHelper.java:305"
        },
        {
          "method": "org.apache.tools.ant.helper.ProjectHelper2$RootHandler.startElement",
          "source": "ProjectHelper2.java:454"
        },
        {
          "method": "org.apache.xerces.parsers.AbstractSAXParser.startElement",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanStartElement",
          "source": "Unknown  Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument",
          "source": "Unknown  Source"
        },
        {
          "method": "org.apache.xerces.parsers.XML11Configuration.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.parsers.XML11Configuration.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.parsers.XMLParser.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.parsers.AbstractSAXParser.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.utils.ProjectHelper.parse",
          "source": "ProjectHelper.java:499"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.utils.ProjectHelper.parse",
          "source": "ProjectHelper.java:564"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.outline.AntModel.parseDocument",
          "source": "AntModel.java:258"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.outline.AntModel.reconcile",
          "source": "AntModel.java:184"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.text.XMLReconcilingStrategy.internalReconcile",
          "source": "XMLReconcilingStrategy.java:47"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.text.XMLReconcilingStrategy.reconcile",
          "source": "XMLReconcilingStrategy.java:66"
        },
        {
          "method": "org.eclipse.jface.text.reconciler.MonoReconciler.process",
          "source": "MonoReconciler.java:72"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.text.NotifyingReconciler.process",
          "source": "NotifyingReconciler.java:40"
        },
        {
          "method": "org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run",
          "source": "AbstractReconciler.java:200"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "63151",
      "date": "2004-05-20T00:49:00+02:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    }
  ],
  "groupId": "63151",
  "bugId": "63151",
  "date": "2004-05-20T00:49:00+02:00",
  "product": "Platform",
  "component": "Ant",
  "severity": "normal"
}