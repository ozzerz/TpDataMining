{
  "comments": [
    "In the method JSFAppConfigUtils.getConfigFileJARsFromClasspath, an assumption is made that all projects are placed on disk under the workspace root.\n\nThis is bad practice, and breaks for projects created/imported from other locations, or with linked resources, producing errors in the Error Log when searching for JSF libraries, with the following stacktrace:\n\njava.io.FileNotFoundException: C:\\Java\\Eclipse33M6\\workspace\\Ottoman\\WebContent\\WEB-INF\\lib\\myfaces-impl-1.1.4.jar (The system cannot find the path specified)\n\tat java.util.zip.ZipFile.open(Native Method)\n\tat java.util.zip.ZipFile.\u003cinit\u003e(Unknown Source)\n\tat java.util.jar.JarFile.\u003cinit\u003e(Unknown Source)\n\tat java.util.jar.JarFile.\u003cinit\u003e(Unknown Source)\n\tat org.eclipse.jst.jsf.core.jsfappconfig.JSFAppConfigUtils.getConfigFileJARsFromClasspath(JSFAppConfigUtils.java:338)\n\tat org.eclipse.jst.jsf.core.jsfappconfig.RuntimeClasspathJSFAppConfigLocater.locateProviders(RuntimeClasspathJSFAppConfigLocater.java:62)\n[...]\n\tat org.eclipse.jst.jsf.validation.internal.el.ASTSemanticValidator.visit(ASTSemanticValidator.java:363)\n\tat org.eclipse.jst.jsp.core.internal.java.jspel.ASTValuePrefix.jjtAccept(ASTValuePrefix.java:28)\n[...]\n\tat org.eclipse.jst.jsp.core.internal.validation.JSPValidator.validateInJob(JSPValidator.java:399)\n[...]\n\nAlso, the method uses an unsafe assumption about the path form of the classpath entries, which essentially breaks any libraries which are referenced directly using an absolute filesystem location on non-Windows platforms (hint: see JavaCore.newLibraryEntry). This could be a smaller problem then the one above.\n\nA patch is forthcoming.",
    "Created an attachment (id\u003d68973)\nSimple patch to the first problem\n\nSimple fix involving using the IResource / IFile abstraction of the workspace rather than the IPath directly.",
    "Created an attachment (id\u003d68974)\nA patch for both problems\n\n\nPatch for both problems at once, i.e. not falsely identifying relative paths on non-Windows platforms by checking for the existance of the project corresponding to the first path segment.\n\nThe reader may argue that the definition of workspaceRoot should be moved outside the loop, and it should (but that would make the patch harder to read).\n\nI didn\u0027t find a test case to check against, and haven\u0027t provided one, sorry.\n",
    "Please review for 2.0.",
    "Reviewed - we should get this fix in for 2.0, if PMC approves.",
    "Approved. Request PMC approval",
    "Fixed in RC2.",
    "Verified, closing -- thanks guys!"
  ],
  "commentCreationDates": [
    "2007-05-28T23:50:25+02:00",
    "2007-05-29T00:05:36+02:00",
    "2007-05-29T00:18:22+02:00",
    "2007-05-29T17:37:23+02:00",
    "2007-05-29T22:07:41+02:00",
    "2007-05-29T22:27:13+02:00",
    "2007-06-01T22:58:37+02:00",
    "2007-09-10T20:08:26+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.io.FileNotFoundException",
      "message": "C:\\Java\\Eclipse33M6\\workspace\\Ottoman\\WebContent\\WEB-INF\\lib\\myfaces-impl-1.1.4.jar (The system cannot find the path specified)",
      "elements": [
        {
          "method": "java.util.zip.ZipFile.open",
          "source": "Native Method"
        },
        {
          "method": "java.util.zip.ZipFile.\u003cinit\u003e",
          "source": "Unknown Source"
        },
        {
          "method": "java.util.jar.JarFile.\u003cinit\u003e",
          "source": "Unknown Source"
        },
        {
          "method": "java.util.jar.JarFile.\u003cinit\u003e",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jst.jsf.core.jsfappconfig.JSFAppConfigUtils.getConfigFileJARsFromClasspath",
          "source": "JSFAppConfigUtils.java:338"
        },
        {
          "method": "org.eclipse.jst.jsf.core.jsfappconfig.RuntimeClasspathJSFAppConfigLocater.locateProviders",
          "source": "RuntimeClasspathJSFAppConfigLocater.java:62"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "189520",
      "date": "2007-05-28T23:50:25+02:00",
      "product": "Java Server Faces",
      "component": "core",
      "severity": "normal"
    }
  ],
  "groupId": "189520",
  "bugId": "189520",
  "date": "2007-05-28T23:50:25+02:00",
  "product": "Java Server Faces",
  "component": "core",
  "severity": "normal"
}