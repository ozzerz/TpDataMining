{
  "comments": [
    "Build ID: latest build\n\nSteps To Reproduce:\nOpen library.71 for upgrade, the following exception can be seen in log:\njava.lang.NullPointerException\n\tat org.eclipse.epf.library.services.NameCache.getGuidFromFileName(NameCache.java:143)\n\tat org.eclipse.epf.library.util.ResourceHelper.getGuidFromFileName(ResourceHelper.java:437)\n\tat org.eclipse.epf.library.layout.LinkInfo.validateLink(LinkInfo.java:232)\n\tat org.eclipse.epf.library.layout.DefaultContentValidator.validateLink(DefaultContentValidator.java:83)\n\tat org.eclipse.epf.library.util.ResourceHelper.validateContent(ResourceHelper.java:696)\n\tat org.eclipse.epf.library.util.ResourceHelper.validateContent(ResourceHelper.java:645)\n\tat org.eclipse.epf.library.xmi.internal.migration.MigrationUtil.formatValue(MigrationUtil.java:88)\n\tat org.eclipse.epf.library.xmi.internal.migration.Migrator103.updateElement(Migrator103.java:164)\n\tat org.eclipse.epf.library.xmi.internal.migration.Migrator103.updateElement(Migrator103.java:145)\n\tat org.eclipse.epf.library.xmi.internal.migration.MigratorBase.updateAllContents(MigratorBase.java:64)\n\tat org.eclipse.epf.library.xmi.internal.migration.Migrator103.migrate(Migrator103.java:101)\n\tat org.eclipse.epf.persistence.migration.MappingUtil.migrate(MappingUtil.java:169)\n\tat org.eclipse.epf.library.ui.LibraryUIManager$4.execute(LibraryUIManager.java:331)\n\tat org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:101)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1797)\n\tat org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:113)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)\n\nMore information:",
    "This is a regression caused by 187699 fix. The newly introduced call for validateLink during migration relies on current library mgr, which is not available during migration. Some work arround is required at this time to avoid big changes\n\n ",
    "Fixed by working around not having curr lib mgr during migration. A static method getMethodElement in LinkInfo is used for this purpose.\n\nNote for QA: examine the log file for all exceptions after upgrading library.71. Note that the following type exception is harmless, which is due to some issues with library itself. There are quite many of these exceptions and can usually make spotting the real bad exceptions difficult.\n\njava.lang.IllegalArgumentException: The \u0027no duplicates\u0027 constraint is violated\n\tat org.eclipse.emf.common.util.BasicEList.set(BasicEList.java:580)\n\tat org.eclipse.emf.ecore.util.EcoreUtil.replace(EcoreUtil.java:2964)\n\tat org.eclipse.epf.uma.ecore.impl.MultiResourceEObject.replace(MultiResourceEObject.java:172)\n\tat org.eclipse.epf.uma.ecore.impl.MultiResourceEObject.eNotify(MultiResourceEObject.java:22",
    "Fix is verified on EPF 1.2M3 20070615. Closed."
  ],
  "commentCreationDates": [
    "2007-06-09T00:57:15+02:00",
    "2007-06-09T01:05:03+02:00",
    "2007-06-09T01:27:55+02:00",
    "2007-06-19T03:41:21+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.epf.library.services.NameCache.getGuidFromFileName",
          "source": "NameCache.java:143"
        },
        {
          "method": "org.eclipse.epf.library.util.ResourceHelper.getGuidFromFileName",
          "source": "ResourceHelper.java:437"
        },
        {
          "method": "org.eclipse.epf.library.layout.LinkInfo.validateLink",
          "source": "LinkInfo.java:232"
        },
        {
          "method": "org.eclipse.epf.library.layout.DefaultContentValidator.validateLink",
          "source": "DefaultContentValidator.java:83"
        },
        {
          "method": "org.eclipse.epf.library.util.ResourceHelper.validateContent",
          "source": "ResourceHelper.java:696"
        },
        {
          "method": "org.eclipse.epf.library.util.ResourceHelper.validateContent",
          "source": "ResourceHelper.java:645"
        },
        {
          "method": "org.eclipse.epf.library.xmi.internal.migration.MigrationUtil.formatValue",
          "source": "MigrationUtil.java:88"
        },
        {
          "method": "org.eclipse.epf.library.xmi.internal.migration.Migrator103.updateElement",
          "source": "Migrator103.java:164"
        },
        {
          "method": "org.eclipse.epf.library.xmi.internal.migration.Migrator103.updateElement",
          "source": "Migrator103.java:145"
        },
        {
          "method": "org.eclipse.epf.library.xmi.internal.migration.MigratorBase.updateAllContents",
          "source": "MigratorBase.java:64"
        },
        {
          "method": "org.eclipse.epf.library.xmi.internal.migration.Migrator103.migrate",
          "source": "Migrator103.java:101"
        },
        {
          "method": "org.eclipse.epf.persistence.migration.MappingUtil.migrate",
          "source": "MappingUtil.java:169"
        },
        {
          "method": "org.eclipse.epf.library.ui.LibraryUIManager$4.execute",
          "source": "LibraryUIManager.java:331"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation$1.run",
          "source": "WorkspaceModifyOperation.java:101"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1797"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation.run",
          "source": "WorkspaceModifyOperation.java:113"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:113"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "191787",
      "date": "2007-06-09T00:57:15+02:00",
      "product": "EPF",
      "component": "Tool",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "The \u0027no duplicates\u0027 constraint is violated",
      "elements": [
        {
          "method": "org.eclipse.emf.common.util.BasicEList.set",
          "source": "BasicEList.java:580"
        },
        {
          "method": "org.eclipse.emf.ecore.util.EcoreUtil.replace",
          "source": "EcoreUtil.java:2964"
        },
        {
          "method": "org.eclipse.epf.uma.ecore.impl.MultiResourceEObject.replace",
          "source": "MultiResourceEObject.java:172"
        }
      ],
      "number": 1,
      "commentIndex": 2,
      "bugId": "191787",
      "date": "2007-06-09T01:27:55+02:00",
      "product": "EPF",
      "component": "Tool",
      "severity": "normal"
    }
  ],
  "groupId": "191787",
  "bugId": "191787",
  "date": "2007-06-09T00:57:15+02:00",
  "product": "EPF",
  "component": "Tool",
  "severity": "normal"
}