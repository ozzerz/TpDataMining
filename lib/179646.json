{
  "comments": [
    "Build ID: 3.3M6\n\nSteps To Reproduce:\n1. I installed 3.3M6 and created a run-config without any workspace plugins, only 3.3M6 and all the plugins from platform: help works\n2. I installed several depending plugins I need from Europa update site: BIRT, GMF, UML2\n3. If I now run my runconfig with all platform plugins help fails\n\n\nMore information:\nException is:\njava.lang.NoClassDefFoundError: org/apache/commons/logging/LogFactory\nat java.lang.ClassLoader.defineClass1(Native Method)\nat java.lang.ClassLoader.defineClass(Unknown Source)\nat org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.defineClass(DefaultClassLoader.java:161)\nat org.eclipse.osgi.baseadaptor.loader.ClasspathManager.defineClass(ClasspathManager.java:501)\nat org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findClassImpl(ClasspathManager.java:471)\nat org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClassImpl(ClasspathManager.java:430)\nat org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:413)\nat org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:189)\nat org.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass(BundleLoader.java:340)\nat org.eclipse.osgi.framework.internal.core.BundleLoader.findClassInternal(BundleLoader.java:408)\nat org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:369)\nat org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:357)\nat org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:83)\nat java.lang.ClassLoader.loadClass(Unknown Source)\nat java.lang.ClassLoader.loadClassInternal(Unknown Source)\nat org.mortbay.util.Container.\u003cclinit\u003e(Container.java:39)\nat org.eclipse.equinox.http.jetty.internal.HttpServerManager.updated(HttpServerManager.java:72)\nat org.eclipse.equinox.http.jetty.internal.Activator.startServer(Activator.java:173)\nat org.eclipse.equinox.http.jetty.JettyConfigurator.startServer(JettyConfigurator.java:45)\nat org.eclipse.help.internal.server.WebappManager.start(WebappManager.java:46)\nat org.eclipse.help.internal.base.BaseHelpSystem.ensureWebappRunning(BaseHelpSystem.java:187)\nat org.eclipse.help.internal.base.HelpDisplay.displayHelpURL(HelpDisplay.java:152)\nat org.eclipse.help.internal.base.HelpDisplay.displayHelp(HelpDisplay.java:42)\nat org.eclipse.help.ui.internal.DefaultHelpUI.displayHelp(DefaultHelpUI.java:125)\nat org.eclipse.ui.internal.help.WorkbenchHelpSystem.displayHelp(WorkbenchHelpSystem.java:833)\nat org.eclipse.ui.internal.actions.HelpContentsAction$1.run(HelpContentsAction.java:83)\nat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)\nat org.eclipse.ui.internal.actions.HelpContentsAction.run(HelpContentsAction.java:81)\nat org.eclipse.jface.action.Action.runWithEvent(Action.java:498)\nat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:545)\nat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490)\nat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:402)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3673)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3284)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2337)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2301)\nat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2176)\nat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:463)\nat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:458)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\nat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:101)\nat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:146)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:356)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:171)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:476)\nat org.eclipse.equinox.launcher.Main.basicRun(Main.java:416)\nat org.eclipse.equinox.launcher.Main.run(Main.java:1141)\nat org.eclipse.equinox.launcher.Main.main(Main.java:1116)\n\nHowever, I made sure, that the commons.logging plugin is loaded. This breaks help in my RCP application. I suppost the bug is related to the recent changes in the help system",
    "I\u0027m guessing one of those projects has their own commons logging, or is doing something with the settings.",
    "First off -- immediately reproducible -- so good test case.\n\nTaking a look I see the Jetty bundle was being wired to GMF\u0027s Batik bundle which also happens to export commons.logging. Digging deeper it doesn\u0027t even actually contain commons.logging (or a number of the avalon pacakages) so the manifest is out of date.\n\nIdeally GMF should be using the Batik bundle from Orbit however at the very least we should not be exporting commons.logging from this bundle.\n\nMoving to GMF.\n\n\n",
    "Switching to releng component.",
    "Surely this is an Eclipse Platform problem too.\n\nNo matter how bad the GMF plug-ins are the platform should survive.\n\n",
    "This is turning out to be a blocker.. affecting many products unable to use help at all. Could you update the manifest, please?\n\nEdward, I\u0027m not sure what we can do to prevent this in the platform, because if I recall correctly, commons logging uses context class loaders which circumvent normal eclipse class loading. There\u0027s only so far eclipse can go to isolate such failures.",
    "(In reply to comment #2)\n\u003e Ideally GMF should be using the Batik bundle from Orbit however at the very\n\u003e least we should not be exporting commons.logging from this bundle.\n\u003e Moving to GMF.\n\nSo removing org.apache.commons.logging from the export list in the MANIFEST.MF solves this issue?\n\n",
    "(In reply to comment #6)\n\u003e So removing org.apache.commons.logging from the export list in the MANIFEST.MF\n\u003e solves this issue?\n\nOur local documentation team here had the same blocking issue. I created a patch with the above change. The doc team installed the patch and everything is fine. Their help comes up.\n\nFor GMF M7 we should use the Batik bundle from Orbit.\n\nThe GMF Releng team (Max) should confirm this is possible.",
    " For the M7 GMF will switch to the Orbit bundles",
    " Orbit bundles are used now in GMF starting from M7. Not reproducible.",
    "I think you may want to change the Target Milestone and Version.",
    "(In reply to comment #10)\n\u003e I think you may want to change the Target Milestone and Version.\n\nThis was fixed in GMF 2.0 M7, the Target Milestone and Version is correct."
  ],
  "commentCreationDates": [
    "2007-03-28T07:04:24+02:00",
    "2007-03-28T16:25:06+02:00",
    "2007-03-28T17:16:07+02:00",
    "2007-03-28T17:22:42+02:00",
    "2007-04-11T21:15:08+02:00",
    "2007-04-20T18:34:34+02:00",
    "2007-04-20T22:34:18+02:00",
    "2007-05-01T21:02:38+02:00",
    "2007-05-09T16:52:43+02:00",
    "2007-05-24T15:34:55+02:00",
    "2007-05-24T16:10:15+02:00",
    "2007-05-24T16:30:07+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoClassDefFoundError",
      "message": "org/apache/commons/logging/LogFactory",
      "elements": [
        {
          "method": "java.lang.ClassLoader.defineClass1",
          "source": "Native Method"
        },
        {
          "method": "java.lang.ClassLoader.defineClass",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.defineClass",
          "source": "DefaultClassLoader.java:161"
        },
        {
          "method": "org.eclipse.osgi.baseadaptor.loader.ClasspathManager.defineClass",
          "source": "ClasspathManager.java:501"
        },
        {
          "method": "org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findClassImpl",
          "source": "ClasspathManager.java:471"
        },
        {
          "method": "org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClassImpl",
          "source": "ClasspathManager.java:430"
        },
        {
          "method": "org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass",
          "source": "ClasspathManager.java:413"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass",
          "source": "DefaultClassLoader.java:189"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass",
          "source": "BundleLoader.java:340"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClassInternal",
          "source": "BundleLoader.java:408"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClass",
          "source": "BundleLoader.java:369"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClass",
          "source": "BundleLoader.java:357"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass",
          "source": "DefaultClassLoader.java:83"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.ClassLoader.loadClassInternal",
          "source": "Unknown Source"
        },
        {
          "method": "org.mortbay.util.Container.\u003cclinit\u003e",
          "source": "Container.java:39"
        },
        {
          "method": "org.eclipse.equinox.http.jetty.internal.HttpServerManager.updated",
          "source": "HttpServerManager.java:72"
        },
        {
          "method": "org.eclipse.equinox.http.jetty.internal.Activator.startServer",
          "source": "Activator.java:173"
        },
        {
          "method": "org.eclipse.equinox.http.jetty.JettyConfigurator.startServer",
          "source": "JettyConfigurator.java:45"
        },
        {
          "method": "org.eclipse.help.internal.server.WebappManager.start",
          "source": "WebappManager.java:46"
        },
        {
          "method": "org.eclipse.help.internal.base.BaseHelpSystem.ensureWebappRunning",
          "source": "BaseHelpSystem.java:187"
        },
        {
          "method": "org.eclipse.help.internal.base.HelpDisplay.displayHelpURL",
          "source": "HelpDisplay.java:152"
        },
        {
          "method": "org.eclipse.help.internal.base.HelpDisplay.displayHelp",
          "source": "HelpDisplay.java:42"
        },
        {
          "method": "org.eclipse.help.ui.internal.DefaultHelpUI.displayHelp",
          "source": "DefaultHelpUI.java:125"
        },
        {
          "method": "org.eclipse.ui.internal.help.WorkbenchHelpSystem.displayHelp",
          "source": "WorkbenchHelpSystem.java:833"
        },
        {
          "method": "org.eclipse.ui.internal.actions.HelpContentsAction$1.run",
          "source": "HelpContentsAction.java:83"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:67"
        },
        {
          "method": "org.eclipse.ui.internal.actions.HelpContentsAction.run",
          "source": "HelpContentsAction.java:81"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:498"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:545"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:490"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:402"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3673"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3284"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2337"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2301"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2176"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:463"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:458"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:101"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:146"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:356"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:171"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:476"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:416"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1141"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1116"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "179646",
      "date": "2007-03-28T07:04:24+02:00",
      "product": "GMF",
      "component": "Releng",
      "severity": "blocker"
    }
  ],
  "groupId": "179646",
  "bugId": "179646",
  "date": "2007-03-28T07:04:24+02:00",
  "product": "GMF",
  "component": "Releng",
  "severity": "blocker"
}