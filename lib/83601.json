{
  "comments": [
    "when a plugin starts automatically, and a PartInitException is thrown from \nViewPart.init(IViewSite) then \norg.eclipse.ui.internal.ViewPane.setVisible()\nmay be called after ViewPane.dispose(),\n\nthen the code\nif (isvToolBar !\u003d null) {\n\tisvToolBar.setVisible(makeVisible \u0026\u0026 toolbarIsVisible());\n}\ncauses a wigit disposed exception, \n\nthe ViewPane.dispose() call disposes of the variable isvToolBarMgr.toolbar  and \nsets it\nto null, but the isvToolBar variable remains non-null even though it is\ndisposed.",
    "\nmy email changed to gpb@wilken.de\n\nhere is the stack trace:\n\n!ENTRY org.eclipse.ui 4 0 Feb 17, 2005 14:14:02.938\n!MESSAGE Widget is disposed\n!STACK 0\norg.eclipse.swt.SWTException: Widget is disposed\n\tat org.eclipse.swt.SWT.error(SWT.java:2691)\n\tat org.eclipse.swt.SWT.error(SWT.java:2616)\n\tat org.eclipse.swt.SWT.error(SWT.java:2587)\n\tat org.eclipse.swt.widgets.Widget.error(Widget.java:381)\n\tat org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:283)\n\tat org.eclipse.swt.widgets.Control.setVisible(Control.java:2371)\n\tat org.eclipse.ui.internal.ViewPane.setVisible(ViewPane.java:571)\n\tat org.eclipse.ui.internal.presentations.PresentablePart.setVisible\n(PresentablePart.java:122)\n\tat \norg.eclipse.ui.internal.presentations.DefaultPartPresentation.selectPart\n(DefaultPartPresentation.java:1116)\n\tat org.eclipse.ui.internal.PartStack.refreshPresentationSelection\n(PartStack.java:946)\n\tat org.eclipse.ui.internal.PartStack.setSelection(PartStack.java:921)\n\tat org.eclipse.ui.internal.PartStack.showPart(PartStack.java:1020)\n\tat org.eclipse.ui.internal.PartStack.createControl(PartStack.java:383)\n\tat org.eclipse.ui.internal.PartStack.createControl(PartStack.java:367)\n\tat org.eclipse.ui.internal.PartSashContainer.createControl\n(PartSashContainer.java:432)\n\tat org.eclipse.ui.internal.PerspectiveHelper.activate\n(PerspectiveHelper.java:155)\n\tat org.eclipse.ui.internal.Perspective.onActivate(Perspective.java:732)\n\tat org.eclipse.ui.internal.WorkbenchPage.onActivate\n(WorkbenchPage.java:2063)\n\tat org.eclipse.ui.internal.WorkbenchWindow$4.run\n(WorkbenchWindow.java:1858)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n\tat org.eclipse.ui.internal.WorkbenchWindow.setActivePage\n(WorkbenchWindow.java:1845)\n\tat org.eclipse.ui.internal.WorkbenchWindow.busyOpenPage\n(WorkbenchWindow.java:498)\n\tat org.eclipse.ui.internal.WorkbenchWindow$3.run\n(WorkbenchWindow.java:1076)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n\tat org.eclipse.ui.internal.WorkbenchWindow.openPage\n(WorkbenchWindow.java:1073)\n\tat org.eclipse.ui.internal.Workbench.openFirstTimeWindow\n(Workbench.java:992)\n\tat org.eclipse.ui.internal.WorkbenchConfigurer.openFirstTimeWindow\n(WorkbenchConfigurer.java:174)\n\tat org.eclipse.ui.application.WorkbenchAdvisor.openWindows\n(WorkbenchAdvisor.java:658)\n\tat org.eclipse.ui.internal.Workbench.init(Workbench.java:819)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1325)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench\n(Workbench.java:254)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run\n(IDEApplication.java:96)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run\n(PlatformActivator.java:335)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:273)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:129)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\n\tat org.eclipse.core.launcher.Main.run(Main.java:704)\n\tat org.eclipse.core.launcher.Main.main(Main.java:688)\n",
    "Any steps to reproduce?",
    "(In reply to comment #2)\n\u003e Any steps to reproduce?\n\nunfortuneately my plugin is large, and i don\u0027t have time to write a small \nexample to duplicate the problem.\nbasically, if the plugin has a startup problem, that is,\nif the plugin throws an exception during initialization,\nthen the error is only displayed if the plugin is started after eclipse is \nstarted.\n\nfor example: the plugin was working fine, and then a developement\nproblem causes it to be broken.\nthe next time the eclipse is started (from a batch file, not the \nide) then eclipse fails to start.\n\nin order to start eclipse, i delete the plugin, then eclipse starts,\nthen i copy the plugin back, then eclipse starts without the plugin,\nbecause the plugin wasn\u0027t running the last time.\n\nthen i start the plugin by activating one of the menus, \nthen i get a nice error message in the error log telling me\nwhy the plugin can\u0027t start.\n\nif the error occurs while eclipse loads the initial plugins, \nthen eclipse stops before logging an error to the error log,\nand the errror is lost and can also not be seen in \nthe dos window.\n",
    "The part init code has changed significantly last night. The PartPane is now\ndisposed with the part reference rather than the concrete part, so it is likely\nthat this is fixed now (if a PartInitException is thrown, the PartPane won\u0027t be\ndisposed anymore because the reference still exists).\n\nSadly, it\u0027s hard to verify this without any way to reproduce, but I suspect it\nwon\u0027t show up in 3.1 builds after March 11, 2005. Please reopen if you observe\nit again. (BTW, if this recurs, it would be really helpful if you could drop a\nbreakpoint on the line of code that disposes the isvToolBar -- make sure it\u0027s\nthe same one that throws the WDE -- and attach the resulting stack trace).\n",
    "Verified on I20050401-1205\n\nTo verify: The o.e.ui.tests plugin now contains an \"Error Handling\" category of\nviews. Open all the views in this category and restart the workbench. One of the\nviews always throws a PartInitException in ViewPart.init (the rest test other\nexceptions thrown at various times).\n"
  ],
  "commentCreationDates": [
    "2005-01-25T12:35:25+01:00",
    "2005-02-18T09:07:56+01:00",
    "2005-03-11T01:09:57+01:00",
    "2005-03-11T06:46:08+01:00",
    "2005-03-11T19:07:11+01:00",
    "2005-04-01T20:16:58+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Widget is disposed",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2691"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2616"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2587"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:381"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.checkWidget",
          "source": "Widget.java:283"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.setVisible",
          "source": "Control.java:2371"
        },
        {
          "method": "org.eclipse.ui.internal.ViewPane.setVisible",
          "source": "ViewPane.java:571"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.PresentablePart.setVisible",
          "source": "PresentablePart.java:122"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.DefaultPartPresentation.selectPart",
          "source": "DefaultPartPresentation.java:1116"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.refreshPresentationSelection",
          "source": "PartStack.java:946"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.setSelection",
          "source": "PartStack.java:921"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.showPart",
          "source": "PartStack.java:1020"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.createControl",
          "source": "PartStack.java:383"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.createControl",
          "source": "PartStack.java:367"
        },
        {
          "method": "org.eclipse.ui.internal.PartSashContainer.createControl",
          "source": "PartSashContainer.java:432"
        },
        {
          "method": "org.eclipse.ui.internal.PerspectiveHelper.activate",
          "source": "PerspectiveHelper.java:155"
        },
        {
          "method": "org.eclipse.ui.internal.Perspective.onActivate",
          "source": "Perspective.java:732"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.onActivate",
          "source": "WorkbenchPage.java:2063"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow$4.run",
          "source": "WorkbenchWindow.java:1858"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.setActivePage",
          "source": "WorkbenchWindow.java:1845"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.busyOpenPage",
          "source": "WorkbenchWindow.java:498"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow$3.run",
          "source": "WorkbenchWindow.java:1076"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.openPage",
          "source": "WorkbenchWindow.java:1073"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.openFirstTimeWindow",
          "source": "Workbench.java:992"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchConfigurer.openFirstTimeWindow",
          "source": "WorkbenchConfigurer.java:174"
        },
        {
          "method": "org.eclipse.ui.application.WorkbenchAdvisor.openWindows",
          "source": "WorkbenchAdvisor.java:658"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.init",
          "source": "Workbench.java:819"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1325"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:254"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:141"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:96"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:335"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:273"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:704"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:688"
        }
      ],
      "number": 0,
      "commentIndex": 1,
      "bugId": "83601",
      "date": "2005-02-18T09:07:56+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "83601",
  "bugId": "83601",
  "date": "2005-01-25T12:35:25+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}