{
  "comments": [
    "Created an attachment (id\u003d84323)\nEclipse .log file, from start of session through failures\n\nBuild ID: M20070921-1145\n\nI have a large workspace (521 projects, mostly plug-in projects, some features, some misc other projects).  Auto-build is disabled (have never built in this workspace, just use it for reading code).\n\nStarted eclipse today, and minimized.  After a while noticed an error dialog, and found the attached errors, which show concurrent hash map access by the main thread and the reconciler thread.\n\nBoth stack traces look similar to this (near the point of failure):\n\n!ENTRY org.eclipse.ui.workbench 4 2 2007-12-03 09:52:40.488\n!MESSAGE Problems occurred when invoking code from plug-in: \"org.eclipse.ui.workbench\".\n!STACK 0\njava.util.ConcurrentModificationException: concurrent access to HashMap attempted by Thread[main,6,main]\n\tat java.util.HashMap.onEntry(HashMap.java:213)\n\tat java.util.HashMap.transfer(HashMap.java:632)\n\tat java.util.HashMap.resize(HashMap.java:622)\n\tat java.util.HashMap.addEntry(HashMap.java:994)\n\tat java.util.HashMap.put(HashMap.java:510)\n\tat org.eclipse.jdt.internal.core.util.Util.getSourceAttachmentProperty(Util.java:1093)\n\tat org.eclipse.jdt.internal.core.DeltaProcessingState.initializeRoots(DeltaProcessingState.java:240)\n\tat org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:717)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1797)\n\tat org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:785)\n\tat org.eclipse.jdt.core.JavaCore.setClasspathContainer(JavaCore.java:4519)\n\tat org.eclipse.jdt.internal.launching.JREContainerInitializer.initialize(JREContainerInitializer.java:69)\n\tat org.eclipse.jdt.internal.core.JavaModelManager.initializeContainer(JavaModelManager.java:2218)\n\tat org.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer(JavaModelManager.java:1546)\n\tat org.eclipse.jdt.core.JavaCore.getClasspathContainer(JavaCore.java:1571)\n\nI\u0027ll attach a file with the relevant portion of the log (today\u0027s session).",
    "Created an attachment (id\u003d84342)\nProposed fix\n\n",
    "Fix released for 3.4M4",
    "The fix is trivial. Without it, there is a risk of\nConcurrentModificationException at startup which can prevent the reconciler from running.\nPlease approve for 3.3.2.",
    "(In reply to comment #2)\n\u003e Fix released for 3.4M4\n\nThanks!",
    "+1 for 3.3.2",
    "Fix released for 3.3.2",
    "Verified for 3.4 M4 using build I20071211-0010"
  ],
  "commentCreationDates": [
    "2007-12-03T15:21:53+01:00",
    "2007-12-03T17:58:54+01:00",
    "2007-12-04T11:10:28+01:00",
    "2007-12-04T11:12:59+01:00",
    "2007-12-04T15:38:44+01:00",
    "2007-12-05T12:08:36+01:00",
    "2007-12-05T14:35:19+01:00",
    "2007-12-12T15:22:17+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.util.ConcurrentModificationException",
      "message": "concurrent access to HashMap attempted by Thread[main,6,main]",
      "elements": [
        {
          "method": "java.util.HashMap.onEntry",
          "source": "HashMap.java:213"
        },
        {
          "method": "java.util.HashMap.transfer",
          "source": "HashMap.java:632"
        },
        {
          "method": "java.util.HashMap.resize",
          "source": "HashMap.java:622"
        },
        {
          "method": "java.util.HashMap.addEntry",
          "source": "HashMap.java:994"
        },
        {
          "method": "java.util.HashMap.put",
          "source": "HashMap.java:510"
        },
        {
          "method": "org.eclipse.jdt.internal.core.util.Util.getSourceAttachmentProperty",
          "source": "Util.java:1093"
        },
        {
          "method": "org.eclipse.jdt.internal.core.DeltaProcessingState.initializeRoots",
          "source": "DeltaProcessingState.java:240"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.run",
          "source": "JavaModelOperation.java:717"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1797"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.runOperation",
          "source": "JavaModelOperation.java:785"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore.setClasspathContainer",
          "source": "JavaCore.java:4519"
        },
        {
          "method": "org.eclipse.jdt.internal.launching.JREContainerInitializer.initialize",
          "source": "JREContainerInitializer.java:69"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelManager.initializeContainer",
          "source": "JavaModelManager.java:2218"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer",
          "source": "JavaModelManager.java:1546"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore.getClasspathContainer",
          "source": "JavaCore.java:1571"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "211762",
      "date": "2007-12-03T15:21:53+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "211762",
  "bugId": "211762",
  "date": "2007-12-03T15:21:53+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}