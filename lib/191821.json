{
  "comments": [
    "The following problem can be reproduced by using this JavaEE5 EAR file (for JBoss 4.2):\nhttp://www.informatik.fh-wiesbaden.de/~knauf/public/Stateless.ear\n\nAfter importing it an error for the app client project is shown: \n\"CHKJ1001E: Validation failed:\t\tStatelessClient\"\n\nThe log shows this:\n\n!ENTRY org.eclipse.wst.validation 4 0 2007-06-09 17:56:10.734\n!MESSAGE \n*** ERROR ***: Sat Jun 09 17:56:10 CEST 2007    org.eclipse.wst.validation.internal.core.ValidationException: CHKJ1001E: Validation failed:\n    \tat org.eclipse.jst.j2ee.model.internal.validation.ApplicationClientValidator.validateInJob(ApplicationClientValidator.java:153)\n    \tat org.eclipse.jst.j2ee.internal.validation.UIApplicationClientValidator.validateInJob(UIApplicationClientValidator.java:54)\n    \tat org.eclipse.wst.validation.internal.operations.ValidatorJob.run(ValidatorJob.java:75)\n    \tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)\n\n!ENTRY org.eclipse.wst.validation 4 0 2007-06-09 17:56:10.734\n!MESSAGE \n*** ERROR ***: Sat Jun 09 17:56:10 CEST 2007    org.eclipse.jst.j2ee.commonarchivecore.internal.exception.DeploymentDescriptorLoadException: META-INF/application-client.xml\n    Stack trace of nested exception:\n    java.lang.ClassCastException: org.eclipse.jst.javaee.applicationclient.internal.impl.ApplicationClientDeploymentDescriptorImpl\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.AppClient12ImportStrategyImpl.loadDeploymentDescriptor(AppClient12ImportStrategyImpl.java:87)\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.AppClient12ImportStrategyImpl.importMetaData(AppClient12ImportStrategyImpl.java:81)\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ApplicationClientFileImpl.getDeploymentDescriptor(ApplicationClientFileImpl.java:64)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.ApplicationClientValidator.validateInJob(ApplicationClientValidator.java:143)\n    \tat org.eclipse.jst.j2ee.internal.validation.UIApplicationClientValidator.validateInJob(UIApplicationClientValidator.java:54)\n    \tat org.eclipse.wst.validation.internal.operations.ValidatorJob.run(ValidatorJob.java:75)\n    \tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)",
    "We need to know what WTP build you used.  This sounds like the same problem that was solved with bug 181593 (where the files were imported as if they were J2EE 1.4 files and had J2EE 1.4 facets, but would try to load with Java EE 5 because of the descriptors).  Can you verify that this still happens, even after that fix?  (I imported stateless.ear into the S-2.0RC3-200706081356 driver and that worked.)",
    "I found it with wtp-S-2.0RC3-200706082106 from the comitters page and a newly created eclipse installation.\n\nBug 181593 is fully fixed, import works fine. But it seems the app client validator has a problem with JavaEE5.",
    "Hari- the J2EE validators should not be running against Java EE 5 projects.",
    "Created an attachment (id\u003d71069)\npatch\n\nThis patch updates the extension point to only enable the validator if it is at or below version 1.4.  This is a simple fix and has been tested using the UI for all app client project levels as well as the original test case.  This fix is consistent with the way other validators are defined (e.g. EJB, EAR).",
    "I agree with this patch - This was overlooked, and is only a more specialized enablement (same as all the other j2ee validators)\n\nI have tested, and approve.",
    "This sounds right to me, and seems simple enough ... though I\u0027m not sure what the general strategy is. I am assuming validators will always be specific to a version? Let\u0027s be sure to well document any \"architectural\" tidbits such as that (if it\u0027s true, or recommended approach). \n \n\n",
    "code checked into CVS.",
    "Verified against wtp-S-2.0RC4-200706212235, works fine now.",
    "Closing."
  ],
  "commentCreationDates": [
    "2007-06-09T18:02:20+02:00",
    "2007-06-11T15:29:38+02:00",
    "2007-06-11T16:01:19+02:00",
    "2007-06-11T18:05:10+02:00",
    "2007-06-12T20:53:42+02:00",
    "2007-06-12T20:57:50+02:00",
    "2007-06-12T21:09:11+02:00",
    "2007-06-12T22:17:24+02:00",
    "2007-06-25T20:08:03+02:00",
    "2007-06-25T20:08:50+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.wst.validation.internal.core.ValidationException",
      "message": "CHKJ1001E: Validation failed:",
      "elements": [
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.ApplicationClientValidator.validateInJob",
          "source": "ApplicationClientValidator.java:153"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.validation.UIApplicationClientValidator.validateInJob",
          "source": "UIApplicationClientValidator.java:54"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidatorJob.run",
          "source": "ValidatorJob.java:75"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:55"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "191821",
      "date": "2007-06-09T18:02:20+02:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.jst.javaee.applicationclient.internal.impl.ApplicationClientDeploymentDescriptorImpl",
      "elements": [
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.AppClient12ImportStrategyImpl.loadDeploymentDescriptor",
          "source": "AppClient12ImportStrategyImpl.java:87"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.AppClient12ImportStrategyImpl.importMetaData",
          "source": "AppClient12ImportStrategyImpl.java:81"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ApplicationClientFileImpl.getDeploymentDescriptor",
          "source": "ApplicationClientFileImpl.java:64"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.ApplicationClientValidator.validateInJob",
          "source": "ApplicationClientValidator.java:143"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.validation.UIApplicationClientValidator.validateInJob",
          "source": "UIApplicationClientValidator.java:54"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidatorJob.run",
          "source": "ValidatorJob.java:75"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:55"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "191821",
      "date": "2007-06-09T18:02:20+02:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "major"
    }
  ],
  "groupId": "191821",
  "bugId": "191821",
  "date": "2007-06-09T18:02:20+02:00",
  "product": "Web Tools",
  "component": "jst.j2ee",
  "severity": "major"
}