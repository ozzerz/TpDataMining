{
  "comments": [
    "This exception occurs when running the snippet of bug 84641 comment 6.\n\neclipse.buildId\u003dI20070625-1500\njava.version\u003d1.6.0_03\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_US\nCommand-line arguments:  -os win32 -ws win32 -arch x86\n\nError\nMon Oct 29 10:40:11 CET 2007\nUnhandled event loop exception\n\norg.eclipse.swt.SWTException: Failed to execute runnable (java.lang.StringIndexOutOfBoundsException: String index out of range: -1)\nat org.eclipse.swt.SWT.error(SWT.java:3563)\nat org.eclipse.swt.SWT.error(SWT.java:3481)\nat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:126)\nat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3659)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3296)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353)\nat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219)\nat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)\nat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\nat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\nat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:169)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:508)\nat org.eclipse.equinox.launcher.Main.basicRun(Main.java:447)\nat org.eclipse.equinox.launcher.Main.run(Main.java:1173)\nCaused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -1\nat java.lang.String.charAt(Unknown Source)\nat org.eclipse.ui.internal.console.ConsoleDocumentAdapter.countNewLines(ConsoleDocumentAdapter.java:323)\nat org.eclipse.ui.internal.console.ConsoleDocumentAdapter.documentAboutToBeChanged(ConsoleDocumentAdapter.java:291)\nat org.eclipse.jface.text.AbstractDocument.fireDocumentAboutToBeChanged(AbstractDocument.java:606)\nat org.eclipse.jface.text.AbstractDocument.replace(AbstractDocument.java:1072)\nat org.eclipse.jface.text.AbstractDocument.replace(AbstractDocument.java:1091)\nat org.eclipse.ui.internal.console.ConsoleDocument.replace(ConsoleDocument.java:82)\nat org.eclipse.ui.internal.console.IOConsolePartitioner$QueueProcessingJob.runInUIThread(IOConsolePartitioner.java:536)\nat org.eclipse.ui.progress.UIJob$1.run(UIJob.java:94)\nat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\nat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n... 22 more",
    "Happens on 3.4 as well:\n\npublic class CarriageReturn {\n    public static void main(String[] args) {\n        System.out.print(\"\\r\");\n    }\n}",
    "Created an attachment (id\u003d81452)\npatch\n\nPatch. Missing case for a line/document that is only \u0027\\r\u0027.",
    "Released to HEAD. Should also fix in 3.3.2.",
    "Fixed in 3.3.2 and HEAD.",
    "Please verify, Mike.",
    "This fix brings more bad than it does good, see bug 208084. This needs to be pulled out for 3.4 M3 and also reverted for 3.3.2.\n",
    "re-closing, the patch that fixes 208084 is built on this fix.",
    "Needs PMC approval. This fix is really one fix along with the fix for bug 208084",
    "*** Bug 208084 has been marked as a duplicate of this bug. ***",
    "Justification: Simply a bug in the console that people run into once in a while when the console processes a single \u0027\\r\u0027 character as one chunk of output.",
    "+1 for 3.3.2",
    "*** Bug 211431 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2007-10-29T10:52:24+01:00",
    "2007-10-29T14:28:39+01:00",
    "2007-10-29T14:54:57+01:00",
    "2007-10-29T14:55:46+01:00",
    "2007-10-29T15:33:14+01:00",
    "2007-10-29T15:34:11+01:00",
    "2007-10-31T13:16:59+01:00",
    "2007-10-31T20:07:47+01:00",
    "2007-11-21T03:27:06+01:00",
    "2007-11-21T21:47:01+01:00",
    "2007-11-21T21:51:02+01:00",
    "2007-11-23T14:21:45+01:00",
    "2007-12-07T03:14:44+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.StringIndexOutOfBoundsException",
      "message": "String index out of range: -1)",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3563"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3481"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:126"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3659"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3296"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2389"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2353"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2219"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:466"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:461"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:169"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:363"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:176"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:508"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:447"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1173"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.StringIndexOutOfBoundsException",
        "message": "String index out of range: -1",
        "elements": [
          {
            "method": "java.lang.String.charAt",
            "source": "Unknown Source"
          },
          {
            "method": "org.eclipse.ui.internal.console.ConsoleDocumentAdapter.countNewLines",
            "source": "ConsoleDocumentAdapter.java:323"
          },
          {
            "method": "org.eclipse.ui.internal.console.ConsoleDocumentAdapter.documentAboutToBeChanged",
            "source": "ConsoleDocumentAdapter.java:291"
          },
          {
            "method": "org.eclipse.jface.text.AbstractDocument.fireDocumentAboutToBeChanged",
            "source": "AbstractDocument.java:606"
          },
          {
            "method": "org.eclipse.jface.text.AbstractDocument.replace",
            "source": "AbstractDocument.java:1072"
          },
          {
            "method": "org.eclipse.jface.text.AbstractDocument.replace",
            "source": "AbstractDocument.java:1091"
          },
          {
            "method": "org.eclipse.ui.internal.console.ConsoleDocument.replace",
            "source": "ConsoleDocument.java:82"
          },
          {
            "method": "org.eclipse.ui.internal.console.IOConsolePartitioner$QueueProcessingJob.runInUIThread",
            "source": "IOConsolePartitioner.java:536"
          },
          {
            "method": "org.eclipse.ui.progress.UIJob$1.run",
            "source": "UIJob.java:94"
          },
          {
            "method": "org.eclipse.swt.widgets.RunnableLock.run",
            "source": "RunnableLock.java:35"
          },
          {
            "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
            "source": "Synchronizer.java:123"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "207743",
      "date": "2007-10-29T10:52:24+01:00",
      "product": "Platform",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "207743",
  "bugId": "207743",
  "date": "2007-10-29T10:52:24+01:00",
  "product": "Platform",
  "component": "Debug",
  "severity": "normal"
}