{
  "comments": [
    "Build 20040529\n\nThe dialog to attach source to a JAR allows you to choose a directory. However, I don\u0027t get the \nsource for my .class files in the JAR.\n\n1. Create a project containing a class with a main method, Hello.java (default package).\n2. Create a JAR containing only Hello.class.\n3. Double-click Hello.class.\n4. A class file editor opens.\n5. Click \"Change attached source...\".\n6. In the resulting dialog, choose to add an external directory (bug 65186 prevents you from \nchoosing the project with the workspace button) and point to the project containing Hello.java\n7. You still get the class file editor. The source file Hello.java is not shown.",
    "I\u0027m not sure if external folders are supported as source attachment location.\nMoving to jdt.core for comments.\nIf not, please move back so I can fix that the source attachment does not allow\nthis.\n\n",
    "Olivier - pls check expectation, no feature to add; we only want to align core \nand ui here.",
    "That case works for me. I can get the source of the Hello class pointing to an\nexternal folder.",
    "If I put \"P\" (when my java project is called P), I end up with:\n\norg.eclipse.jdt.internal.core.Assert$AssertionFailedException: Assertion failed;\nSource attachment path \u0027P\u0027 for IClasspathEntry must be absolute\nat org.eclipse.jdt.internal.core.Assert.isTrue(Assert.java:89)\nat org.eclipse.jdt.core.JavaCore.newLibraryEntry(JavaCore.java:2749)\nat\norg.eclipse.jdt.internal.ui.wizards.buildpaths.SourceAttachmentBlock.getNewEntry(SourceAttachmentBlock.java:226)\nat\norg.eclipse.jdt.internal.ui.wizards.buildpaths.SourceAttachmentDialog.getResult(SourceAttachmentDialog.java:89)\nat\norg.eclipse.jdt.ui.wizards.BuildPathDialogAccess.configureSourceAttachment(BuildPathDialogAccess.java:96)\nat\norg.eclipse.jdt.internal.ui.javaeditor.ClassFileEditor$3.widgetSelected(ClassFileEditor.java:270)\nat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2719)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2385)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1363)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1334)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:253)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\nat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96)\nat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:334)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:128)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:324)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\nat org.eclipse.core.launcher.Main.run(Main.java:638)\nat org.eclipse.core.launcher.Main.main(Main.java:622)\n\nThe wizard should not allow a relative path to be used.\n\n/P doesn\u0027t seem to work better. I will investigate this second case.",
    "External folders should be supported.\nBut some validation must be done.\n1) The source attachment path must be absolute\n2) An external folder is not supposed to be able to point to a folder inside the\nworkspace.\n\nI tried to debug the case where I put /P as the source attachment path. I don\u0027t\nknow where this is discarded, but I end up with an empty source attachment in\nthe .classpath file. The source mapper is not even called.\n\nAs long as /P means the path to the project location, it should work from my\npoint of view.\n\nWhen I click on the Workspace button, only an internal jar or a internal fodler\nare expected to be found. The folder representing the project should be a valid\noption.\n\nMove back to JDT/UI for addition of validation in these scenarii.",
    "fixed \u003e 20040610\n- You can now select projects\n- I added validation to require absolute paths\n- I didn\u0027t yet added the check if folders are located in the workbench. It is\nnot so cheap testing that (due to linked resources). Is this validation\nessential or is it just a recommendation to use local folders if possible?",
    "Olivier, see my last question in comment 6",
    "No, it works. The path is absolute anyway. It is simply weird that you click on\n\"External folder\" and you can select a folder located inside the workspace.\nThe remaining issue is in bug 65186. I don\u0027t see why /P is discarded. It needs\nmore investigation.",
    "start verifying...",
    "verified that a external directory can be used to attach the source. Couldn\u0027t \nverify the project case due to bug 65186."
  ],
  "commentCreationDates": [
    "2004-06-02T00:02:24+02:00",
    "2004-06-07T15:38:48+02:00",
    "2004-06-08T11:19:02+02:00",
    "2004-06-08T17:29:23+02:00",
    "2004-06-09T21:47:14+02:00",
    "2004-06-09T23:21:22+02:00",
    "2004-06-10T10:59:38+02:00",
    "2004-06-10T11:00:16+02:00",
    "2004-06-10T15:47:29+02:00",
    "2004-06-11T17:16:18+02:00",
    "2004-06-11T17:23:20+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.jdt.internal.core.Assert$AssertionFailedException",
      "message": "Assertion failed; Source attachment path \u0027P\u0027 for IClasspathEntry must be absolute",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.Assert.isTrue",
          "source": "Assert.java:89"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore.newLibraryEntry",
          "source": "JavaCore.java:2749"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.wizards.buildpaths.SourceAttachmentBlock.getNewEntry",
          "source": "SourceAttachmentBlock.java:226"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.wizards.buildpaths.SourceAttachmentDialog.getResult",
          "source": "SourceAttachmentDialog.java:89"
        },
        {
          "method": "org.eclipse.jdt.ui.wizards.BuildPathDialogAccess.configureSourceAttachment",
          "source": "BuildPathDialogAccess.java:96"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.ClassFileEditor$3.widgetSelected",
          "source": "ClassFileEditor.java:270"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:89"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:796"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2719"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2385"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1363"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1334"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:253"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:141"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:96"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:334"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:273"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:128"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:638"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:622"
        }
      ],
      "number": 0,
      "commentIndex": 4,
      "bugId": "65191",
      "date": "2004-06-09T21:47:14+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "65191",
  "bugId": "65191",
  "date": "2004-06-02T00:02:24+02:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}