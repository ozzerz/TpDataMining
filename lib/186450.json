{
  "comments": [
    "[Linux] UnsatisfiedLinkError when launching SWT Browser widget.\n\nUsing the I20070502-1800 Eclipse 3.3 build, the following error is thrown when launching SWT Browser widget (see enclose sample code):\n\nException in thread \"main\" org.eclipse.swt.SWTError: No more handles\n(java.lang.UnsatisfiedLinkError: no swt-mozilla-gtk-3339 or swt-mozilla-gtk in\nswt.library.path, java.library.path or the jar file)\n        at org.eclipse.swt.SWT.error(SWT.java:3573)\n        at org.eclipse.swt.SWT.error(SWT.java:3465)\n        at org.eclipse.swt.browser.Mozilla.create(Mozilla.java:334)\n        at org.eclipse.swt.browser.Browser.\u003cinit\u003e(Browser.java:109)\n        at urlautotest.TestShell.buildWindow(TestShell.java:80)\n        at urlautotest.TestShell.\u003cinit\u003e(TestShell.java:33)\n        at urlautotest.TestShell.main(TestShell.java:92)\nCaused by: java.lang.UnsatisfiedLinkError: no swt-mozilla-gtk-3339 or\nswt-mozilla-gtk in swt.library.path, java.library.path or the jar file\n        at org.eclipse.swt.internal.Library.loadLibrary(Library.java:219)\n        at org.eclipse.swt.internal.Library.loadLibrary(Library.java:151)\n        at org.eclipse.swt.browser.Mozilla.create(Mozilla.java:319)\n        ... 4 more\n\nOS:\n\nLinux RedHat Enterprise 4\n\nJRE:\n\n1.4.2 and 1.5 SR4 IBM JVM\u0027s\n\nNote, the same configuration worked with S-3.3M6-200703231616.",
    "OS:\n\n2.6.9-34.0.2.EL #1 Fri Jun 30 10:23:19 EDT 2006 i686 i686 i386 GNU/Linux",
    "I ran the snippet from https://bugs.eclipse.org/bugs/attachment.cgi?id\u003d38323 with the latest swt and I don\u0027t see this problem.\n\n- I\u0027m on RHEL4 with no updates; does the RHEL4 that you see this on have updates?\n- I assume you\u0027re on a 32-bit machine/OS?\n- Do you still see this with 3.3M7?  It was built only one day later than the build that you reported against, but I notice that swt\u0027s libraries were recompiled in the interim because the version number is bumped up to 3340.\n",
    "Yes, this was on a 32 bit RH Enterprise 4 that has not been updated in a long time.  Defect 186209 is how we discovered the problem, which was confirmed by Liz Dancy on another Linux machine.\n\nI\u0027ll try http://download.eclipse.org/eclipse/downloads/drops/S-3.3M7-200705031400/ and see what happens and update the results.  Thanks for the info.  \n",
    "I tried the eclipse build in comment #3 and still get the same exceptions.  (This is the 3.3M7 Stable Build link).\n\nI found I get the same results using Window-\u003eShow View-\u003eGeneral-\u003eInternal Web Browser without needing to run the java class referenced in comment #2.\n\nHowever, the installed version of the SWT libraries is still 3339, not incremented to 3340.  What build did you use to pickup SWT libraries at version 3340? ",
    "My mistake, the libraries in 3.3M7 were 3339.  I was using 3340 from HEAD and did not realize that the libraries had been rebuilt earlier this week.\n\nCan you:\n- unzip the org.eclipse.swt.gtk.linux.x86...jar plugin\n- ldd libswt-mozilla-gtk-3339.so\n  -\u003e do any of its dependencies other than libxpcom.so resolve to \"not found\"?\n",
    "After extracting, I had to change file permissions, the .so file did not have execute permission.\n\nNo errors, here is the output:\n\nldd libswt-mozilla-gtk-3339.so\n\tlibc.so.6 \u003d\u003e /lib/tls/libc.so.6 (0x00dfe000)\n\t/lib/ld-linux.so.2 (0x003e8000)\n",
    "The ldd should look like what\u0027s shown below, so the library seems to have forgotten about some of its dependencies on your end.  I\u0027m not sure how this is possible.\n\nYou mentioned that 3.3M6 worked on your same machine; can you extract and ldd its libswt-mozilla-gtk-XXXX.so, to see which of our ldd\u0027s it resembles?\n\nsh-3.00$ ldd libswt-mozilla-gtk-3339.so\n        libxpcom.so \u003d\u003e not found   [** this one is ok, determined at runtime **]\n        libnspr4.so \u003d\u003e /usr/lib/libnspr4.so (0x00d39000)\n        libplds4.so \u003d\u003e /usr/lib/libplds4.so (0x00c09000)\n        libplc4.so \u003d\u003e /usr/lib/libplc4.so (0x00ce8000)\n        libstdc++.so.6 \u003d\u003e /usr/lib/libstdc++.so.6 (0x00181000)\n        libm.so.6 \u003d\u003e /lib/tls/libm.so.6 (0x00a51000)\n        libgcc_s.so.1 \u003d\u003e /lib/libgcc_s.so.1 (0x00111000)\n        libc.so.6 \u003d\u003e /lib/tls/libc.so.6 (0x00671000)\n        libpthread.so.0 \u003d\u003e /lib/tls/libpthread.so.0 (0x00a3d000)\n        libdl.so.2 \u003d\u003e /lib/libdl.so.2 (0x00119000)\n        /lib/ld-linux.so.2 (0x005b2000)\n",
    "Here are the results on my machine for comment #7:\n\n\tlibxpcom.so \u003d\u003e not found\n\tlibnspr4.so \u003d\u003e /usr/lib/libnspr4.so (0x00d8c000)\n\tlibplds4.so \u003d\u003e /usr/lib/libplds4.so (0x00518000)\n\tlibplc4.so \u003d\u003e /usr/lib/libplc4.so (0x0059f000)\n\tlibstdc++.so.6 \u003d\u003e /usr/lib/libstdc++.so.6 (0x00401000)\n\tlibm.so.6 \u003d\u003e /lib/tls/libm.so.6 (0x00eb1000)\n\tlibgcc_s.so.1 \u003d\u003e /lib/libgcc_s.so.1 (0x002c6000)\n\tlibc.so.6 \u003d\u003e /lib/tls/libc.so.6 (0x006db000)\n\tlibpthread.so.0 \u003d\u003e /lib/tls/libpthread.so.0 (0x00111000)\n\tlibdl.so.2 \u003d\u003e /lib/libdl.so.2 (0x00fed000)\n\t/lib/ld-linux.so.2 (0x003e8000)\n\n\n",
    "(In reply to comment #8)\n\nHi Grant, is there any update on this defect?",
    "All that I can think of here is that swt\u0027s libraries were not compiled quite right for 3.3M7.  They have not been recompiled on gtk since 3.3M7 (just renamed) so I\u0027ve asked them to be rebuilt on linux for tonight\u0027s build.  Please try this build tomorrow and follow up here whether it works better for you or not.\n\nOut of curiosity, do you have file /usr/lib/libstdc++.so.5 or something similar ( similar \u003d\u003d libstdc++*5* ) on your machine?\n",
    "Yes, there is a libstdc++.so.5 and libstdc++.so.5.0.7 as well as libstdc++.so.6 and libstdc++.so.6.0.3.",
    "(In reply to comment #10)\n\nUsing the Eclipse 3.3.3 I20070525-1350 build, the same problem exists.\n\nGrant, TPTP requires this defect for Europa.  Is it possible to increase the priority to P1?",
    "Can I remote to your machine somehow?\n",
    "I remoted to Duwayne\u0027s machine and we determined that it was a setup problem (MOZILLA_FIVE_HOME was pointing at an invalid GRE).  Closing report.\n",
    "(In reply to comment #14)\n\u003e I remoted to Duwayne\u0027s machine and we determined that it was a setup problem\n\u003e (MOZILLA_FIVE_HOME was pointing at an invalid GRE).  Closing report.\n\u003e \n\nThanks Grant for your help.  Apologies for the confusion.",
    "Closing."
  ],
  "commentCreationDates": [
    "2007-05-10T21:52:54+02:00",
    "2007-05-11T13:12:52+02:00",
    "2007-05-11T18:35:01+02:00",
    "2007-05-11T19:04:28+02:00",
    "2007-05-11T19:43:13+02:00",
    "2007-05-11T21:06:54+02:00",
    "2007-05-11T21:44:24+02:00",
    "2007-05-15T22:08:13+02:00",
    "2007-05-16T20:23:54+02:00",
    "2007-05-22T14:25:27+02:00",
    "2007-05-24T18:04:36+02:00",
    "2007-05-24T18:41:54+02:00",
    "2007-06-01T19:32:19+02:00",
    "2007-06-01T19:42:54+02:00",
    "2007-06-01T20:54:24+02:00",
    "2007-06-01T20:56:06+02:00",
    "2007-06-02T18:37:36+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.UnsatisfiedLinkError",
      "message": "no swt-mozilla-gtk-3339 or swt-mozilla-gtk in swt.library.path, java.library.path or the jar file)",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3573"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3465"
        },
        {
          "method": "org.eclipse.swt.browser.Mozilla.create",
          "source": "Mozilla.java:334"
        },
        {
          "method": "org.eclipse.swt.browser.Browser.\u003cinit\u003e",
          "source": "Browser.java:109"
        },
        {
          "method": "urlautotest.TestShell.buildWindow",
          "source": "TestShell.java:80"
        },
        {
          "method": "urlautotest.TestShell.\u003cinit\u003e",
          "source": "TestShell.java:33"
        },
        {
          "method": "urlautotest.TestShell.main",
          "source": "TestShell.java:92"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.UnsatisfiedLinkError",
        "message": "no swt-mozilla-gtk-3339 or swt-mozilla-gtk in swt.library.path, java.library.path or the jar file",
        "elements": [
          {
            "method": "org.eclipse.swt.internal.Library.loadLibrary",
            "source": "Library.java:219"
          },
          {
            "method": "org.eclipse.swt.internal.Library.loadLibrary",
            "source": "Library.java:151"
          },
          {
            "method": "org.eclipse.swt.browser.Mozilla.create",
            "source": "Mozilla.java:319"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "186450",
      "date": "2007-05-10T21:52:54+02:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "blocker"
    }
  ],
  "groupId": "186450",
  "bugId": "186450",
  "date": "2007-05-10T21:52:54+02:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "blocker"
}