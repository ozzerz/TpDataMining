{
  "comments": [
    "This doesn\u0027t allow to get thread\u0027s class needed for threads view,\nbecause thread.getThreadObject().getIsA() causes NPE.\n\nThere\u0027s workaround for this issue: \n((TRCMethodInvocation)thread.getInitialInvocations().get(0)).getMethod().getDefiningClass(), but when some of profiled app\u0027s classes are filtered out this workaround produces wrong results.",
    "Pavel,\n  So you are telling that when the Thread Class is filtered out you do not have the ThreadDef and hence cannot get the Thread information. \n\nI see this as a serious limitation in the view. Given our plans - I am inclined to release note it since the workaround is to not filter the class out",
    "The workaround helps only when the threads have method invocation info. Unfortunately the invocation info does not exist in thread analysis\u0027 output.\n\nI would suggest removing the thread\u0027s class name column from the threads view because it cannot be populated at the moment, both explicitly or with the workaround.",
    "The correct way to solve this problem is to add the following information to the thread profiler\u0027s output stream:\n- Generate \u003cclassDef\u003e and \u003cobjAlloc\u003e elements for each new thread. This will introduce the thread\u0027s class name information to the data model.\n- Generate the \"objectIdRef\" attribute in the \u003cthreadStart\u003e element. This will create the missing link between the thread and it\u0027s class information.\n\nTo do that, both Martini and ThreadProf should be enhanced to generate the missing information.",
    "Targetted to i3",
    "Resolved or addressed by other bugs",
    "Resolving 161918 did not resolve this problem. The Class column in the Thread Statistics view is still empty",
    "Created an attachment (id\u003d53909)\nPatch - Create the thread object in the trace loader\n\n",
    "Ruth\n  This was discussed in the PMC call this morning. The patch is on hand(see attachment) and has been tested. Pls check the patch in following PMC approval.",
    "I tried to test the patch with the candidate driver + the JVMTI client and new JavaProfiler plugin, and it hangs at 78% then I get these errors:\n\n!ENTRY org.eclipse.osgi 2 1 2006-11-15 16:19:12.991\n!MESSAGE NLS unused message: ERROR_TI_MODEL_CREATION in: org.eclipse.tptp.platform.jvmti.client.internal.messages\n\n!ENTRY org.eclipse.osgi 2 1 2006-11-15 16:19:13.001\n!MESSAGE NLS unused message: TASK_CONNECTING_TO_AGENT; in: org.eclipse.tptp.platform.jvmti.client.internal.messages\n\n!ENTRY org.eclipse.osgi 2 1 2006-11-15 16:19:13.051\n!MESSAGE NLS missing message: TASK_CONNECTING_TO_AGENT in: org.eclipse.tptp.platform.jvmti.client.internal.messages\n\nPlease let me know how should I test this defect or you could add a sample trace file.\n",
    "After a while I get an error dialog saying:\n\nThe JVMTI agent org.eclipse.tptp.jvmti is not available. ...\n\nand then the launch job ends.",
    "It seems that the JVMTI profiler has difficulty to initially establish a connection with the JVMTI agent.  When I click on test availability, I get an agent not found error dialog.  I have to click the button 3+ times until a successful connection is made.  I was running with the candidate build, which doesn\u0027t include the fix for https://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d163181.  I suggested to Marius to use a newer build to see if the fix from bug 163181 resolves his issue.\n\nThe launch will sometimes get stuck at 78% but when it actually does the launch, I get the following exception logged to the workspace error log:\n\norg.eclipse.swt.SWTException: Failed to execute runnable (java.lang.NoClassDefFoundError: org/eclipse/ui/console/ConsolePlugin)\n\tat org.eclipse.swt.SWT.error(SWT.java:3374)\n\tat org.eclipse.swt.SWT.error(SWT.java:3297)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:126)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3325)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2971)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)\nCaused by: java.lang.NoClassDefFoundError: org/eclipse/ui/console/ConsolePlugin\n\tat org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.getConsole(TIDelegateHelper.java:1014)\n\tat org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.access$1(TIDelegateHelper.java:1013)\n\tat org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper$2.run(TIDelegateHelper.java:265)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\t... 20 more\n\n\nI\u0027m launching using the Thread Analysis type.",
    "This exeption is probably caused by plug-in dependency issue, which is already resolved with the fix for bug 163181.\n",
    "This was resolved on 11/7. \nHas the attached patch been applied.",
    "Whats the status of this patch? \nHas this been applied. This was approved by the PMC ",
    "Whats the status of this patch? \nHas this been applied. This was approved by the PMC ",
    "Fix in CVS.\n\nI was finally able to test today this patch on 20061116 driver, using Sun JRE 1.5_06 on both AC side and Eclipse side.\n\nWith IBM JREs 1.5 I wasn\u0027t able to use the new JVMTI agent (as explained above).\n",
    "I reopen the bug and already reverted the fix.\n\nI didn\u0027t realized that this was the last test pass for 4.3 (I\u0027m still catching up after the long vacation). \n\nThanks to Valentina for noting that this patch was not suppose to go in today (was approved only if applied in 2006/11/15).\n\nInitially I thought that the patch would not affect any scenario, but after a bit of investigation I think there might be some cases where the patch might not work as expected and it might affect the current behavior (for non JVMTI cases).\n\nThere needs to be special handling for each collection mode case.\n\n",
    "Deferred to 4.4 as it is too late to fix in 4.3 stream and this defect is known to impact tech preview support for JVMTI collection. ",
    "This is a must needed fix for JVMTI. This needs to be checked in so that the TI team can develop on the top of this fix.",
    "Fix in CVS.",
    "Updated target to match the iteration when this defect was processed"
  ],
  "commentCreationDates": [
    "2006-10-13T17:33:43+02:00",
    "2006-10-17T18:37:01+02:00",
    "2006-10-18T16:29:40+02:00",
    "2006-10-19T17:00:30+02:00",
    "2006-10-20T15:19:46+02:00",
    "2006-10-30T16:58:02+01:00",
    "2006-11-15T12:44:13+01:00",
    "2006-11-15T13:55:51+01:00",
    "2006-11-15T15:43:27+01:00",
    "2006-11-15T21:34:17+01:00",
    "2006-11-15T21:48:31+01:00",
    "2006-11-15T22:11:30+01:00",
    "2006-11-16T16:45:25+01:00",
    "2006-11-17T04:14:48+01:00",
    "2006-11-17T20:57:27+01:00",
    "2006-11-17T21:03:22+01:00",
    "2006-11-20T17:39:22+01:00",
    "2006-11-20T21:06:11+01:00",
    "2006-11-22T15:58:01+01:00",
    "2006-12-12T18:13:49+01:00",
    "2006-12-18T19:59:44+01:00",
    "2007-05-29T06:49:34+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoClassDefFoundError",
      "message": "org/eclipse/ui/console/ConsolePlugin)",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3374"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3297"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:126"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3325"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2971"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1914"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1878"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:280"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.NoClassDefFoundError",
        "message": "org/eclipse/ui/console/ConsolePlugin",
        "elements": [
          {
            "method": "org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.getConsole",
            "source": "TIDelegateHelper.java:1014"
          },
          {
            "method": "org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.access$1",
            "source": "TIDelegateHelper.java:1013"
          },
          {
            "method": "org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper$2.run",
            "source": "TIDelegateHelper.java:265"
          },
          {
            "method": "org.eclipse.swt.widgets.RunnableLock.run",
            "source": "RunnableLock.java:35"
          },
          {
            "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
            "source": "Synchronizer.java:123"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 11,
      "bugId": "160882",
      "date": "2006-11-15T22:11:30+01:00",
      "product": "TPTP Profiling",
      "component": "Platform.Model",
      "severity": "critical"
    }
  ],
  "groupId": "160882",
  "bugId": "160882",
  "date": "2006-10-13T17:33:43+02:00",
  "product": "TPTP Profiling",
  "component": "Platform.Model",
  "severity": "critical"
}