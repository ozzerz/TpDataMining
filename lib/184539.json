{
  "comments": [
    "-- Error Log --\nDate: Fri Apr 27 15:56:04 PDT 2007\nMessage: Could not read task list.  Consider restoring via File -\u003e Import -\u003e Mylar Task Data\nSeverity: Info\nPlugin ID: org.eclipse.mylar\nStack Trace:\norg.eclipse.mylar.tasks.core.TaskExternalizationException: TaskList was not well formed XML\nat org.eclipse.mylar.internal.tasks.ui.util.TaskListWriter.readTaskList(TaskListWriter.java:250)\nat org.eclipse.mylar.tasks.ui.TaskListManager.readExistingOrCreateNewList(TaskListManager.java:742)\nat org.eclipse.mylar.tasks.ui.TasksUiPlugin.start(TasksUiPlugin.java:431)\nat org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run(BundleContextImpl.java:999)\nat java.security.AccessController.doPrivileged(Native Method)\nat org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:993)\nat org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:974)\nat org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:346)\nat org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:260)\nat org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:400)\nat org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:111)\nat org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:417)\nat org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:189)\nat org.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass(BundleLoader.java:340)\nat org.eclipse.osgi.framework.internal.core.SingleSourcePackage.loadClass(SingleSourcePackage.java:37)\nat org.eclipse.osgi.framework.internal.core.BundleLoader.findClassInternal(BundleLoader.java:405)\nat org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:369)\nat org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:357)\nat org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:83)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:251)\nat java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319)\nat com.tasktop.client.ui.TaskProgressBar.addListeners(TaskProgressBar.java:175)\nat com.tasktop.client.ui.TaskProgressBar.\u003cinit\u003e(TaskProgressBar.java:121)\nat com.tasktop.client.ui.TaskProgressTrimWidget.createControl(TaskProgressTrimWidget.java:48)\nat org.eclipse.jface.action.ControlContribution.fill(ControlContribution.java:97)\nat org.eclipse.jface.action.ToolBarManager.update(ToolBarManager.java:324)\nat org.eclipse.jface.action.ToolBarManager.createControl(ToolBarManager.java:108)\nat org.eclipse.ui.internal.menus.TrimContributionManager$ToolBarTrimProxy.dock(TrimContributionManager.java:87)\nat org.eclipse.ui.internal.menus.TrimContributionManager.update(TrimContributionManager.java:231)\nat org.eclipse.ui.internal.WorkbenchWindow.updateLayoutDataForContents(WorkbenchWindow.java:3535)\nat org.eclipse.ui.internal.WorkbenchWindow.setLayoutDataForContents(WorkbenchWindow.java:3546)\nat org.eclipse.ui.internal.WorkbenchWindow.createDefaultContents(WorkbenchWindow.java:1071)\nat org.eclipse.ui.internal.WorkbenchWindowConfigurer.createDefaultContents(WorkbenchWindowConfigurer.java:624)\nat org.eclipse.ui.application.WorkbenchWindowAdvisor.createWindowContents(WorkbenchWindowAdvisor.java:268)\nat org.eclipse.ui.internal.WorkbenchWindow.createContents(WorkbenchWindow.java:955)\nat org.eclipse.jface.window.Window.create(Window.java:426)\nat org.eclipse.ui.internal.Workbench$57.runWithException(Workbench.java:3293)\nat org.eclipse.ui.internal.StartupThreading$StartupRunnable.run(StartupThreading.java:31)\nat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\nat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\nat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3650)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3287)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2288)\nat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2204)\nat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)\nat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\nat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:101)\nat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:359)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:174)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:585)\nat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:475)\nat org.eclipse.equinox.launcher.Main.basicRun(Main.java:415)\nat org.eclipse.equinox.launcher.Main.run(Main.java:1140)\nat org.eclipse.equinox.launcher.Main.main(Main.java:1115)",
    "Came along with this: [Fatal Error] :1:840244: Premature end of file.",
    "Same problem here, but my has nothing to do with premature end of file. One task has not well formed Notes parameter. It seems that I\u0027ve pasted some binary output from my application to notes, and Mylar has escaped it well (as \u0026#3;) but after that, it was not able to parse this data again. I\u0027ve deleted this characters and task list was loadable again...\n\n!STACK 0\norg.eclipse.mylar.tasks.core.TaskExternalizationException: TaskList was not well formed XML\n\tat org.eclipse.mylar.internal.tasks.ui.util.TaskListWriter.readTaskList(TaskListWriter.java:254)\n",
    "Rob: regarding the malformed character, we have to make sure that we fail gracefully in that case.\n\nSebastian: could you attach a sample Task List with such a character?",
    "The character in question is posted to comment#2. I guess we need to clean all text...this is an odd one because this is being encoded by the dom I believe then failing upon reading in...",
    "Created an attachment (id\u003d65560)\nfixes corrupt tasklist\n\n* By informing the xml parser that we\u0027re using xml 1.1, the encoded control character is now handled without error. \n* Eliminated race condition which was likely the cause of \"Premature end of file.\"\n* Tasklist now saved (if required) every minute and once upon workbench shutdown\n* If tasklist fails to load, corrupt tasklist is currently being saved with a timestamp. \n\nMik, I change the oder of things in TasksUiPlugin.stop() so please have a quick look to see if it makes sense.\n\nI\u0027m going to run bootstrapped with these changes then if all is well release them to head tomorrow afternoon.",
    "Created an attachment (id\u003d65561)\nmylar/context/zip\n\n",
    "Also, we should notice some degree of performance improvements once this is applied as we will no longer be writing the tasklist incessantly.",
    "Created an attachment (id\u003d65562)\nupdatedPatch\n\n",
    "Created an attachment (id\u003d65594)\nTask which caused my problems\n\n",
    "Thanks Sebastian. Once I apply this patch this old tasklist will still fail to load but once you have a working tasklist it will get persisted and read correctly (even with these control characters).\n \nTracking idea of automatically restoring tasklist from backup as part of bug#158067.",
    "Fixes committed to head.",
    "Reopening as we\u0027ve had to switch back to 1.0 due to a bug in 1.1 parsing. Will likely need to do some manual clean up of these control characters.",
    "Fixed. Stripping control characters from notes and summary. Method is protected so can be used by other externalizers."
  ],
  "commentCreationDates": [
    "2007-04-28T01:43:54+02:00",
    "2007-04-28T02:05:43+02:00",
    "2007-05-01T15:17:10+02:00",
    "2007-05-02T02:24:19+02:00",
    "2007-05-02T02:38:28+02:00",
    "2007-05-02T06:33:11+02:00",
    "2007-05-02T06:33:13+02:00",
    "2007-05-02T06:39:46+02:00",
    "2007-05-02T07:03:01+02:00",
    "2007-05-02T14:32:53+02:00",
    "2007-05-02T20:02:08+02:00",
    "2007-05-02T22:14:39+02:00",
    "2007-05-04T21:56:14+02:00",
    "2007-05-11T02:14:16+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.mylar.tasks.core.TaskExternalizationException",
      "message": "TaskList was not well formed XML",
      "elements": [
        {
          "method": "org.eclipse.mylar.internal.tasks.ui.util.TaskListWriter.readTaskList",
          "source": "TaskListWriter.java:250"
        },
        {
          "method": "org.eclipse.mylar.tasks.ui.TaskListManager.readExistingOrCreateNewList",
          "source": "TaskListManager.java:742"
        },
        {
          "method": "org.eclipse.mylar.tasks.ui.TasksUiPlugin.start",
          "source": "TasksUiPlugin.java:431"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run",
          "source": "BundleContextImpl.java:999"
        },
        {
          "method": "java.security.AccessController.doPrivileged",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator",
          "source": "BundleContextImpl.java:993"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.start",
          "source": "BundleContextImpl.java:974"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleHost.startWorker",
          "source": "BundleHost.java:346"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.AbstractBundle.start",
          "source": "AbstractBundle.java:260"
        },
        {
          "method": "org.eclipse.osgi.framework.util.SecureAction.start",
          "source": "SecureAction.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass",
          "source": "EclipseLazyStarter.java:111"
        },
        {
          "method": "org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass",
          "source": "ClasspathManager.java:417"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass",
          "source": "DefaultClassLoader.java:189"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass",
          "source": "BundleLoader.java:340"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.SingleSourcePackage.loadClass",
          "source": "SingleSourcePackage.java:37"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClassInternal",
          "source": "BundleLoader.java:405"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClass",
          "source": "BundleLoader.java:369"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClass",
          "source": "BundleLoader.java:357"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass",
          "source": "DefaultClassLoader.java:83"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:251"
        },
        {
          "method": "java.lang.ClassLoader.loadClassInternal",
          "source": "ClassLoader.java:319"
        },
        {
          "method": "com.tasktop.client.ui.TaskProgressBar.addListeners",
          "source": "TaskProgressBar.java:175"
        },
        {
          "method": "com.tasktop.client.ui.TaskProgressBar.\u003cinit\u003e",
          "source": "TaskProgressBar.java:121"
        },
        {
          "method": "com.tasktop.client.ui.TaskProgressTrimWidget.createControl",
          "source": "TaskProgressTrimWidget.java:48"
        },
        {
          "method": "org.eclipse.jface.action.ControlContribution.fill",
          "source": "ControlContribution.java:97"
        },
        {
          "method": "org.eclipse.jface.action.ToolBarManager.update",
          "source": "ToolBarManager.java:324"
        },
        {
          "method": "org.eclipse.jface.action.ToolBarManager.createControl",
          "source": "ToolBarManager.java:108"
        },
        {
          "method": "org.eclipse.ui.internal.menus.TrimContributionManager$ToolBarTrimProxy.dock",
          "source": "TrimContributionManager.java:87"
        },
        {
          "method": "org.eclipse.ui.internal.menus.TrimContributionManager.update",
          "source": "TrimContributionManager.java:231"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.updateLayoutDataForContents",
          "source": "WorkbenchWindow.java:3535"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.setLayoutDataForContents",
          "source": "WorkbenchWindow.java:3546"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.createDefaultContents",
          "source": "WorkbenchWindow.java:1071"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindowConfigurer.createDefaultContents",
          "source": "WorkbenchWindowConfigurer.java:624"
        },
        {
          "method": "org.eclipse.ui.application.WorkbenchWindowAdvisor.createWindowContents",
          "source": "WorkbenchWindowAdvisor.java:268"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.createContents",
          "source": "WorkbenchWindow.java:955"
        },
        {
          "method": "org.eclipse.jface.window.Window.create",
          "source": "Window.java:426"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$57.runWithException",
          "source": "Workbench.java:3293"
        },
        {
          "method": "org.eclipse.ui.internal.StartupThreading$StartupRunnable.run",
          "source": "StartupThreading.java:31"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:123"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3650"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3287"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2288"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2204"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:466"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:461"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:101"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:153"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:359"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:174"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:475"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:415"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1140"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1115"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "184539",
      "date": "2007-04-28T01:43:54+02:00",
      "product": "Mylyn",
      "component": "Tasks",
      "severity": "major"
    },
    {
      "exceptionType": "org.eclipse.mylar.tasks.core.TaskExternalizationException",
      "message": "TaskList was not well formed XML",
      "elements": [
        {
          "method": "org.eclipse.mylar.internal.tasks.ui.util.TaskListWriter.readTaskList",
          "source": "TaskListWriter.java:254"
        }
      ],
      "number": 1,
      "commentIndex": 2,
      "bugId": "184539",
      "date": "2007-05-01T15:17:10+02:00",
      "product": "Mylyn",
      "component": "Tasks",
      "severity": "major"
    }
  ],
  "groupId": "184539",
  "bugId": "184539",
  "date": "2007-04-28T01:43:54+02:00",
  "product": "Mylyn",
  "component": "Tasks",
  "severity": "major"
}