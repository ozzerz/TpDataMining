{
  "comments": [
    "When using Cell.getAsTableDescription with the following JUNIT, you will see that MSA-1 when it is created through Load has the value stored one level down in a child.\n\nMSA-1 has a linked table\nMSA-1-1 does not have a linked table\n\n\norg.eclipse.ohf.hl7v2.core.utilities.HL7V2Exception: Table is not assigned\n\tat org.eclipse.ohf.hl7v2.core.utilities.Worker.condition(Worker.java:69)\n\tat org.eclipse.ohf.hl7v2.core.message.model.Cell.getAsTableCode(Cell.java:624)\n\tat org.eclipse.ohf.hl7v2.core.message.model.Cell.getAsTableCode(Cell.java:621)\n\tat org.eclipse.ohf.ihe.pdq.consumer.internal.MSA1Test.testMSA1(MSA1Test.java:69)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat junit.framework.TestCase.runTest(TestCase.java:154)\n\tat junit.framework.TestCase.runBare(TestCase.java:127)\n\tat junit.framework.TestResult$1.protect(TestResult.java:106)\n\tat junit.framework.TestResult.runProtected(TestResult.java:124)\n\tat junit.framework.TestResult.run(TestResult.java:109)\n\tat junit.framework.TestCase.run(TestCase.java:118)\n\tat junit.framework.TestSuite.runTest(TestSuite.java:208)\n\tat junit.framework.TestSuite.run(TestSuite.java:203)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:481)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:347)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n\n\n\n\n\tpublic void testMSA1() throws HL7V2Exception {\n\t\t\n\t\t//Prepare globalFactory to create message\n\t\tString msAccessFile \u003d \"C:\\\\workspace\\\\hl7_58.mdb\";\n\t\tMSAccess msA \u003d new MSAccess(msAccessFile);\n\t\tVersionDefnList versions \u003d msA.load(); \n\t\tMessageManager globalFactory \u003d MessageManager.getFactory();\n\t\tglobalFactory.setVersionDefinitions(versions);\t\t\n\t\t\n\t\t//RSP^K22 HL7 String to load\n\t\tStringBuffer rawHL7 \u003d new StringBuffer();\n\t\trawHL7.append(\"MSH|^~\\\\\u0026|OTHER_KIOSK|HIMSSSANDIEGO|OHFConsumer1|OHFFacility1|20060912164902-0500||RSP^K22|1158097742577187ibmo|P|2.5\");\n\t\trawHL7.append(\"\\r\");\n\t\trawHL7.append(\"MSA|AA|1308144315869549028\");\n\t\trawHL7.append(\"\\r\");\n\t\trawHL7.append(\"QAK|1308144315869549028559301014023|OK\");\n\t\trawHL7.append(\"\\r\");\n\t\trawHL7.append(\"QPD|Q22^Find Candidates|1308144315869549028559301014023|@PID.8^F\");\n\t\trawHL7.append(\"\\r\");\n\t\trawHL7.append(\"PID|||JM19400814^^^HIMSS2005\u00261.3.6.1.4.1.21367.2005.1.1\u0026ISO||Murphy^Joyce^Marie|Haney|19400814|F||WH^White|903 Susan Pl^^Lacrosse^WI^54603||^PRN^PH^^^608^7836578|||M^Married||||WI08141940|||LaCrosse|||801419403\");\n\t\trawHL7.append(\"\\r\");\n\t\trawHL7.append(\"QRI|174.0\");\n\t\t\n\t\tString hl7 \u003d rawHL7.toString();\n\t\t\n\t\t//Load into message\n\t\tByteArrayInputStream inStream \u003d new ByteArrayInputStream(hl7.getBytes());\n    \tParsingOptions pOptions \u003d new ParsingOptions();\n\t\tMessage msg \u003d null;\n     \tmsg \u003d globalFactory.createMessage(VersionDefnList.hv25);\n     \tpOptions.setFormat(Formats.hfVerticalBar);\n\n     \tif (hl7.compareTo(\"\") \u003d\u003d 0) {\n     \t\tmsg \u003d null;\n     \t} else {\n     \t\tglobalFactory.load(inStream, msg, pOptions);    \t\t\n     \t\tSegment seg \u003d msg.getSegments().getByCodeAndIndex(\"MSA\", 1);\n     \t\tField fld \u003d seg.forceField(0);\n         \tSystem.out.println(\"MSA-1 code is: \" + fld.getAsString());\n         \tif (fld.hasTable()) {\n         \t\tSystem.out.println(\"MSA-1 description is: \" + fld.getAsTableCode());\n         \t}\n     \t}\n\t}",
    "fixed this - table values are checked properly now.\nthanks for the JUnit",
    "Fixed. :)\n\nResponseACK: Original mode: Application Accept - Enhanced mode: Application acknowledgment: Accept\nQuery Status: Data found, no errors (this is the default)"
  ],
  "commentCreationDates": [
    "2006-09-13T01:02:49+02:00",
    "2006-09-13T01:44:44+02:00",
    "2006-09-13T02:10:56+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.ohf.hl7v2.core.utilities.HL7V2Exception",
      "message": "Table is not assigned",
      "elements": [
        {
          "method": "org.eclipse.ohf.hl7v2.core.utilities.Worker.condition",
          "source": "Worker.java:69"
        },
        {
          "method": "org.eclipse.ohf.hl7v2.core.message.model.Cell.getAsTableCode",
          "source": "Cell.java:624"
        },
        {
          "method": "org.eclipse.ohf.hl7v2.core.message.model.Cell.getAsTableCode",
          "source": "Cell.java:621"
        },
        {
          "method": "org.eclipse.ohf.ihe.pdq.consumer.internal.MSA1Test.testMSA1",
          "source": "MSA1Test.java:69"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "junit.framework.TestCase.runTest",
          "source": "TestCase.java:154"
        },
        {
          "method": "junit.framework.TestCase.runBare",
          "source": "TestCase.java:127"
        },
        {
          "method": "junit.framework.TestResult$1.protect",
          "source": "TestResult.java:106"
        },
        {
          "method": "junit.framework.TestResult.runProtected",
          "source": "TestResult.java:124"
        },
        {
          "method": "junit.framework.TestResult.run",
          "source": "TestResult.java:109"
        },
        {
          "method": "junit.framework.TestCase.run",
          "source": "TestCase.java:118"
        },
        {
          "method": "junit.framework.TestSuite.runTest",
          "source": "TestSuite.java:208"
        },
        {
          "method": "junit.framework.TestSuite.run",
          "source": "TestSuite.java:203"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests",
          "source": "RemoteTestRunner.java:481"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run",
          "source": "RemoteTestRunner.java:347"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main",
          "source": "RemoteTestRunner.java:197"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "157115",
      "date": "2006-09-13T01:02:49+02:00",
      "product": "OHF",
      "component": "HL7V2",
      "severity": "normal"
    }
  ],
  "groupId": "157115",
  "bugId": "157115",
  "date": "2006-09-13T01:02:49+02:00",
  "product": "OHF",
  "component": "HL7V2",
  "severity": "normal"
}