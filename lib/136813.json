{
  "comments": [
    "I have regular nightmares when I (re)load plugins as projects. It used to take\nabout 30 mins of random open/close/rebuild/clean/restart to magically get rid\nof bad build-path errors. With the aid of \"update the classpath and compiler\ncompliance settings\" it now only takes 15 mins. \nI think I can now repro one of my problems.\n\nIt arises when switching between the plugin version of EMFT OCL 1.0.0M6a and the\nproject version created from plugin sources.\n\nI have JUnit tests that use EMFT OCL 1.0.0M6a standalone.\nThese work when EMFT is a project. They fail when EMFT is a plugin.\nThe EMFT lib/lpgjavaruntime is not\non the class path, but the failure is from an EMFT class, demonstrating that\nthe plugin started up correctly.\n\njava.lang.NoClassDefFoundError: lpg/lpgjavaruntime/RuleAction\n\tat java.lang.ClassLoader.defineClass1(Native Method)\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:620)\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:124)\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:260)\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:56)\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:195)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:188)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:268)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:251)\n\tat java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319)\n\tat org.eclipse.emf.ocl.expressions.util.ExpressionsUtil.createParser(ExpressionsUtil.java:675)\n\tat org.eclipse.emf.ocl.expressions.util.ExpressionsUtil.createParser(ExpressionsUtil.java:658)\n\tat org.eclipse.emf.ocl.expressions.util.ExpressionsUtil.createQuery(ExpressionsUtil.java:176)\n\tat org.eclipse.emf.ocl.helper.OCLHelper.createQuery(OCLHelper.java:129)\n\tat org.eclipse.gmt.umlx.ucore.impl.UHelperImpl.getExpressionValue(UHelperImpl.java:210)\n\tat org.eclipse.gmt.umlx.ucore.impl.UExpressionImpl.getOCLExpression(UExpressionImpl.java:171)\n\tat org.eclipse.gmt.umlx.ucore.impl.UHelperImpl.getOCLExpression(UHelperImpl.java:228)\n\tat org.eclipse.gmt.umlx.utils.tests.TestOCLExpressions.checkOkString(TestOCLExpressions.java:193)\n\tat org.eclipse.gmt.umlx.utils.tests.TestOCLExpressions.checkOkString(TestOCLExpressions.java:189)\n\tat org.eclipse.gmt.umlx.utils.tests.TestOCLExpressions.testHelperBody(TestOCLExpressions.java:88)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat junit.framework.TestCase.runTest(TestCase.java:154)\n\tat junit.framework.TestCase.runBare(TestCase.java:127)\n\tat junit.framework.TestResult$1.protect(TestResult.java:106)\n\tat junit.framework.TestResult.runProtected(TestResult.java:124)\n\tat junit.framework.TestResult.run(TestResult.java:109)\n\tat junit.framework.TestCase.run(TestCase.java:118)\n\tat junit.framework.TestSuite.runTest(TestSuite.java:208)\n\tat junit.framework.TestSuite.run(TestSuite.java:203)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:478)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:344)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196)\n\n\nIt seems that lib/lpgjavaruntime.jar is exported to the class path when EMFT\nis a project, but not when EMFT is a library. (Adding lpgjavaruntime.jar to\nthe test project path fixes the problem.)\n\n?? in the plugin variant lpgjavaruntime.jar is packed inside the plugin jar,\nwhereas the project is unpacked. ?? is there a bug in the loader preventing\nresolution of packed elements.\n\nWhen the using application is an Eclipse application both plugin and project work satisfactorily.",
    "Nested JARs are not supported at development time.  JDT does not support nested JARs on a classpath.\n\nIf you must have your code in a lpgjavaruntime.jar, then you either have to import it into your workspace (as you\u0027ve done) or your plug-in has to exist as a \"directory structure\" NOT as a JAR in your Eclipse install.\n\n*** This bug has been marked as a duplicate of 135012 ***"
  ],
  "commentCreationDates": [
    "2006-04-14T09:54:14+02:00",
    "2006-04-14T10:02:42+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoClassDefFoundError",
      "message": "lpg/lpgjavaruntime/RuleAction",
      "elements": [
        {
          "method": "java.lang.ClassLoader.defineClass1",
          "source": "Native Method"
        },
        {
          "method": "java.lang.ClassLoader.defineClass",
          "source": "ClassLoader.java:620"
        },
        {
          "method": "java.security.SecureClassLoader.defineClass",
          "source": "SecureClassLoader.java:124"
        },
        {
          "method": "java.net.URLClassLoader.defineClass",
          "source": "URLClassLoader.java:260"
        },
        {
          "method": "java.net.URLClassLoader.access$100",
          "source": "URLClassLoader.java:56"
        },
        {
          "method": "java.net.URLClassLoader$1.run",
          "source": "URLClassLoader.java:195"
        },
        {
          "method": "java.security.AccessController.doPrivileged",
          "source": "Native Method"
        },
        {
          "method": "java.net.URLClassLoader.findClass",
          "source": "URLClassLoader.java:188"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:306"
        },
        {
          "method": "sun.misc.Launcher$AppClassLoader.loadClass",
          "source": "Launcher.java:268"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:251"
        },
        {
          "method": "java.lang.ClassLoader.loadClassInternal",
          "source": "ClassLoader.java:319"
        },
        {
          "method": "org.eclipse.emf.ocl.expressions.util.ExpressionsUtil.createParser",
          "source": "ExpressionsUtil.java:675"
        },
        {
          "method": "org.eclipse.emf.ocl.expressions.util.ExpressionsUtil.createParser",
          "source": "ExpressionsUtil.java:658"
        },
        {
          "method": "org.eclipse.emf.ocl.expressions.util.ExpressionsUtil.createQuery",
          "source": "ExpressionsUtil.java:176"
        },
        {
          "method": "org.eclipse.emf.ocl.helper.OCLHelper.createQuery",
          "source": "OCLHelper.java:129"
        },
        {
          "method": "org.eclipse.gmt.umlx.ucore.impl.UHelperImpl.getExpressionValue",
          "source": "UHelperImpl.java:210"
        },
        {
          "method": "org.eclipse.gmt.umlx.ucore.impl.UExpressionImpl.getOCLExpression",
          "source": "UExpressionImpl.java:171"
        },
        {
          "method": "org.eclipse.gmt.umlx.ucore.impl.UHelperImpl.getOCLExpression",
          "source": "UHelperImpl.java:228"
        },
        {
          "method": "org.eclipse.gmt.umlx.utils.tests.TestOCLExpressions.checkOkString",
          "source": "TestOCLExpressions.java:193"
        },
        {
          "method": "org.eclipse.gmt.umlx.utils.tests.TestOCLExpressions.checkOkString",
          "source": "TestOCLExpressions.java:189"
        },
        {
          "method": "org.eclipse.gmt.umlx.utils.tests.TestOCLExpressions.testHelperBody",
          "source": "TestOCLExpressions.java:88"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "junit.framework.TestCase.runTest",
          "source": "TestCase.java:154"
        },
        {
          "method": "junit.framework.TestCase.runBare",
          "source": "TestCase.java:127"
        },
        {
          "method": "junit.framework.TestResult$1.protect",
          "source": "TestResult.java:106"
        },
        {
          "method": "junit.framework.TestResult.runProtected",
          "source": "TestResult.java:124"
        },
        {
          "method": "junit.framework.TestResult.run",
          "source": "TestResult.java:109"
        },
        {
          "method": "junit.framework.TestCase.run",
          "source": "TestCase.java:118"
        },
        {
          "method": "junit.framework.TestSuite.runTest",
          "source": "TestSuite.java:208"
        },
        {
          "method": "junit.framework.TestSuite.run",
          "source": "TestSuite.java:203"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests",
          "source": "RemoteTestRunner.java:478"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run",
          "source": "RemoteTestRunner.java:344"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main",
          "source": "RemoteTestRunner.java:196"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "136813",
      "duplicateId": "135012",
      "date": "2006-04-14T09:54:14+02:00",
      "product": "PDE",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "135012",
  "bugId": "136813",
  "duplicateId": "135012",
  "date": "2006-04-14T09:54:14+02:00",
  "product": "PDE",
  "component": "UI",
  "severity": "normal"
}