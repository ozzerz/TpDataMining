{
  "comments": [
    "An (uncatchable) NullPointerException occurred when invoking equals on \nIProject. Probably it will happen on invoking equals on any type of IResource ( \nwhich declares an equals-method). \n\nSample code:\n\nIProject project \u003d ResourcesPlugin.getWorkspace().getRoot().getProject\n(\"myProject\");\nProject project1 \u003d (Project)project;\nboolean b \u003d project1.equals(project1);\nSystem.out.println(\"b is: \" + b); // reaches here\ntry {\n\tb \u003d project.equals(project);\n\tSystem.out.println(\"b is now: \" + b); // never reaches here\n}\ncatch (Throwable e) {\n\tSystem.out.println(\"NPE in equals\"); // never reaches here \n}\n\nSytem output when running sample code:\n\nb is: true\n!ENTRY org.eclipse.ui 4 4 Jul 03, 2003 11:35:45.677\n!MESSAGE Unhandled exception caught in event loop.\nUnhandled exception caught in event loop.\nReason:\n!ENTRY org.eclipse.ui 4 0 Jul 03, 2003 11:35:45.687\n!MESSAGE java.lang.NullPointerException\n!STACK 0\njava.lang.NullPointerException\n\tat \nde.xapio.tools.eclipse.produktdialog.views.profittest.SnippetView.createItem\n(SnippetView.java:269)\n\tat \nde.xapio.tools.eclipse.produktdialog.views.profittest.SnippetView.access$2\n(SnippetView.java:236)\n\tat \nde.xapio.tools.eclipse.produktdialog.views.profittest.SnippetView$3.run\n(SnippetView.java:131)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:842)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:456)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent\n(ActionContributionItem.java:403)\n\tat org.eclipse.jface.action.ActionContributionItem.access$0\n(ActionContributionItem.java:397)\n\tat \norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent\n(ActionContributionItem.java:72)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:81)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:840)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1838)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1545)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1402)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1385)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:845)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:248)\n\tat org.eclipse.core.launcher.Main.run(Main.java:698)\n\tat org.eclipse.core.launcher.Main.main(Main.java:534)\njava.lang.NullPointerException\n!ENTRY org.vssplugin 1 0 Jul 03, 2003 11:36:58.196\n!MESSAGE Using jawin library \nD:/Prog/Eclipse/2.0/eclipse/plugins/org.vssplugin_1.4.1/lib/jawin.dll",
    "The fact you are casting an IProject reference to Project does not make them\ndifferent - they still refer to the same object, so project \u003d\u003d project1 is\ncertainly true. If the first equals does not fail, the second one shouldn\u0027t fail\neither - they are exactly the same thing (and considering the equals operation\ndoes not change the state of the object). So if Project is\norg.eclipse.core.internal.resources.Project (which you should not be\nreferencing, anyway), your test case does not seem valid.\n\nAlso, the stack trace you included is for a NPE that happens in third-party code\n- not in the Resources plug-in. Why do you think the problem has anything to do\nwith Eclipse and the resources plug-in?",
    "Also, there is no such thing as an \"uncatchable\" NullPointerException.  If the\ncatch clause in the sample code is not being reached, then that\u0027s not where the\nNullPointerException is happening.\n\nI suggest running your plugin in a runtime workbench in debug mode (Run \u003e Debug\nas... Run-time Workbench).  Then, in Breakpoints view of the debug perspective,\nset an exception breakpoint.  This is done by clicking on the \"J!\" button, and\nselecting NullPointerException in the dialog.  This way, the debugger will\nsuspend exactly when the exception occurs, and you can see where it\u0027s happening.",
    "Peter wrote:\n\n\u003e I already tried the debugger with the exception breakpoint for NPE. It gives me \n\u003e no additional information.\n\nThe exception breakpoint will stop on the exact line where the NPE occurs.  When\nyou set the breakpoint, what line does it stop on?",
    "I already tried John??s suggestion before I enter the bug report. The strange \nthing is, it gave me no additional information. When I run the debugger with a \nNullPointerException-breakpoint set, the debugger stops somewhere in my test \nmethod, saying ??unknown line number??. Pressing F5 brings me to the finally-\nblock of the EventTable.sendEvent(). The line number of the first line in the \nstacktrace is the line of the closing bracket of the method containing my test \ncode:\n\n\tprivate void createItem() {\n\t\tIProject project \u003d ResourcesPlugin.getWorkspace().getRoot\n().getProject(\"myProject\");\n\t\tProject project1 \u003d (Project)project;\n\t\tboolean b \u003d project1.equals(project1);\n\t\tSystem.out.println(\"b is: \" + b); // reaches here\n\t\ttry {\n\t\t\tb \u003d project.equals(project);\n\t\t\tSystem.out.println(\"here we are\"); // never reaches here\n\t\t}\n\t\tcatch (Throwable e) {\n\t\t\tSystem.out.println(\"NPE in equals\"); // never reaches \nhere \n\t\t}\n\t\tSystem.out.println(\"Now we are here\"); // never reaches here\n\t}\t?? line number in stack trace\n\n\nI agree that the observed behaviour may have nothing to do with Eclipse, and \nmay be a problem of the VM (or of my setup, of course). By the way, I use Sun \nj2sdk 1.4.0_01. \nThe idea that Eclipse (and specially the equals-definition in IResource) may be \ninvolved occures to me, when I found a report in the newsgroups from 23.07.2002 \nby Tiziano Leidi reporting a similar behaviour.\n\nCould you run my little example without problems? If so, it has to be a problem \nof my configuration.\n\n",
    "Yes, I can run your example without problems.  I suspect a VM or user problem."
  ],
  "commentCreationDates": [
    "2003-07-03T12:49:15+02:00",
    "2003-07-03T16:01:52+02:00",
    "2003-07-03T16:21:19+02:00",
    "2003-07-03T17:10:02+02:00",
    "2003-07-04T09:24:45+02:00",
    "2003-07-14T20:18:08+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "de.xapio.tools.eclipse.produktdialog.views.profittest.SnippetView.createItem",
          "source": "SnippetView.java:269"
        },
        {
          "method": "de.xapio.tools.eclipse.produktdialog.views.profittest.SnippetView.access$2",
          "source": "SnippetView.java:236"
        },
        {
          "method": "de.xapio.tools.eclipse.produktdialog.views.profittest.SnippetView$3.run",
          "source": "SnippetView.java:131"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:842"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:456"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java:403"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem.java:397"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java:72"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:81"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:840"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1838"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1545"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1402"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1385"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:248"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:698"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:534"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "39591",
      "date": "2003-07-03T12:49:15+02:00",
      "product": "Platform",
      "component": "Resources",
      "severity": "normal"
    }
  ],
  "groupId": "39591",
  "bugId": "39591",
  "date": "2003-07-03T12:49:15+02:00",
  "product": "Platform",
  "component": "Resources",
  "severity": "normal"
}