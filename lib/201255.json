{
  "comments": [
    "A NullPointerException can occur if a fragment attempts to attach to an uninstalled bundle.  This may happen if the host bundle is placed in the removal pending state by the resolver.  Recent discussions in CPEG have clarified the spec to prohibit constraints (Import-Package, Require-Bundle, Fragment-Host) from resolving to uninstalled bundles.  The resolver should be updated to prevent this from happening.\n\n\njava.lang.NullPointerException\n\tat org.eclipse.osgi.framework.internal.core.PackageAdminImpl.setResolved(PackageAdminImpl.java:332)\n\tat org.eclipse.osgi.framework.internal.core.PackageAdminImpl.applyDeltas(PackageAdminImpl.java:347)\n\tat org.eclipse.osgi.framework.internal.core.PackageAdminImpl.processDelta(PackageAdminImpl.java:424)\n\tat org.eclipse.osgi.framework.internal.core.PackageAdminImpl.doResolveBundles(PackageAdminImpl.java:221)\n\tat org.eclipse.osgi.framework.internal.core.PackageAdminImpl.resolveBundles(PackageAdminImpl.java:175)\n\tat org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:304)\n\tat org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:260)\n\tat org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:252)\n\tat org.osgi.test.cases.framework.div.tbc.Bundle.GetBundleContext.testGetBundleContext0004(GetBundleContext.java:132)\n\tat org.osgi.test.cases.framework.div.tbc.Bundle.GetBundleContext.run(GetBundleContext.java:66)\n\tat org.osgi.test.cases.framework.div.tbc.Activator.testBundleGetBundleContext(Activator.java:849)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:615)\n\tat org.osgi.test.cases.util.DefaultTestBundleControl.run(DefaultTestBundleControl.java:271)\n\tat java.lang.Thread.run(Thread.java:799)",
    "Created an attachment (id\u003d77037)\npatch\n\nproposed patch to prohibit resolving to uninstalled bundles.",
    "Fix released for 3.4 M2."
  ],
  "commentCreationDates": [
    "2007-08-27T16:05:37+02:00",
    "2007-08-27T17:30:11+02:00",
    "2007-08-27T17:39:14+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.osgi.framework.internal.core.PackageAdminImpl.setResolved",
          "source": "PackageAdminImpl.java:332"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.PackageAdminImpl.applyDeltas",
          "source": "PackageAdminImpl.java:347"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.PackageAdminImpl.processDelta",
          "source": "PackageAdminImpl.java:424"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.PackageAdminImpl.doResolveBundles",
          "source": "PackageAdminImpl.java:221"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.PackageAdminImpl.resolveBundles",
          "source": "PackageAdminImpl.java:175"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleHost.startWorker",
          "source": "BundleHost.java:304"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.AbstractBundle.start",
          "source": "AbstractBundle.java:260"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.AbstractBundle.start",
          "source": "AbstractBundle.java:252"
        },
        {
          "method": "org.osgi.test.cases.framework.div.tbc.Bundle.GetBundleContext.testGetBundleContext0004",
          "source": "GetBundleContext.java:132"
        },
        {
          "method": "org.osgi.test.cases.framework.div.tbc.Bundle.GetBundleContext.run",
          "source": "GetBundleContext.java:66"
        },
        {
          "method": "org.osgi.test.cases.framework.div.tbc.Activator.testBundleGetBundleContext",
          "source": "Activator.java:849"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:64"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:43"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:615"
        },
        {
          "method": "org.osgi.test.cases.util.DefaultTestBundleControl.run",
          "source": "DefaultTestBundleControl.java:271"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:799"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "201255",
      "date": "2007-08-27T16:05:37+02:00",
      "product": "Equinox",
      "component": "Framework",
      "severity": "normal"
    }
  ],
  "groupId": "201255",
  "bugId": "201255",
  "date": "2007-08-27T16:05:37+02:00",
  "product": "Equinox",
  "component": "Framework",
  "severity": "normal"
}