{
  "comments": [
    "Steps to reproduce:\n\n1. Open up an external plug-in in the Manifest editor that contains extension points.\n2. Go to the extension point tab\n3. Right click in the table.\n\nThe result is this NPE:\njava.lang.NullPointerException\nat java.util.StringTokenizer.\u003cinit\u003e(StringTokenizer.java:197)\nat org.osgi.framework.Version.\u003cinit\u003e(Version.java:127)\nat org.eclipse.pde.internal.core.SourceLocationManager.searchBundleManifestLocations(SourceLocationManager.java:287)\nat org.eclipse.pde.internal.core.SourceLocationManager.findSourceFile(SourceLocationManager.java:89)\nat org.eclipse.pde.internal.core.schema.SchemaRegistry.getSchemaFromSourceExtension(SchemaRegistry.java:116)\nat org.eclipse.pde.internal.core.schema.SchemaRegistry.getSchemaURL(SchemaRegistry.java:110)\nat org.eclipse.pde.internal.ui.editor.actions.OpenSchemaAction.findSchema(OpenSchemaAction.java:151)\nat org.eclipse.pde.internal.ui.editor.actions.OpenSchemaAction.setInput(OpenSchemaAction.java:97)\n\nI went back to 3.3 to see how it handled this situation.  When the plugin id was null, they simply returned null from the SourceLocationManager.findSourceFile(..).  So we just need to do the same and do some checking before passing a null to Version.",
    "Created an attachment (id\u003d85096)\nFix\n\nAdds null check for the id and version of the plugin on all the public methods that use those values.",
    "Nice job Curtis.  Thanks for working on this one last minute and getting a fix for it right away, I really appreciate it.\n\nThe only thing I modified was instead of return a new HashSet(0), you can instead return Collections.EMPTY_SET.  It is a really minor thing but a cool trick that should save some memory ;-)\n\nFix will be available in I20071212-1800."
  ],
  "commentCreationDates": [
    "2007-12-12T16:09:59+01:00",
    "2007-12-12T17:47:45+01:00",
    "2007-12-12T23:40:22+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "java.util.StringTokenizer.\u003cinit\u003e",
          "source": "StringTokenizer.java:197"
        },
        {
          "method": "org.osgi.framework.Version.\u003cinit\u003e",
          "source": "Version.java:127"
        },
        {
          "method": "org.eclipse.pde.internal.core.SourceLocationManager.searchBundleManifestLocations",
          "source": "SourceLocationManager.java:287"
        },
        {
          "method": "org.eclipse.pde.internal.core.SourceLocationManager.findSourceFile",
          "source": "SourceLocationManager.java:89"
        },
        {
          "method": "org.eclipse.pde.internal.core.schema.SchemaRegistry.getSchemaFromSourceExtension",
          "source": "SchemaRegistry.java:116"
        },
        {
          "method": "org.eclipse.pde.internal.core.schema.SchemaRegistry.getSchemaURL",
          "source": "SchemaRegistry.java:110"
        },
        {
          "method": "org.eclipse.pde.internal.ui.editor.actions.OpenSchemaAction.findSchema",
          "source": "OpenSchemaAction.java:151"
        },
        {
          "method": "org.eclipse.pde.internal.ui.editor.actions.OpenSchemaAction.setInput",
          "source": "OpenSchemaAction.java:97"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "212771",
      "date": "2007-12-12T16:09:59+01:00",
      "product": "PDE",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "212771",
  "bugId": "212771",
  "date": "2007-12-12T16:09:59+01:00",
  "product": "PDE",
  "component": "UI",
  "severity": "normal"
}