{
  "comments": [
    "I20050215-2300 (m5 test pass)\n\nin the following code search put the caret on \u0027E\u0027 and search workspace references.\n\n-------\npackage searching;\n\npublic class Test\u003cE\u003e {\n\n}\n----------\n\n!ENTRY org.eclipse.core.runtime 4 2 2005-02-16 16:09:56.609\n!MESSAGE An internal error occurred during: \"Java Search\".\n!STACK 0\njava.lang.NullPointerException\n\tat\norg.eclipse.jdt.internal.compiler.env.AccessRestriction.equals(AccessRestriction.java:43)\n\tat\norg.eclipse.jdt.internal.core.search.matching.TypeParameterPattern.findIndexMatches(TypeParameterPattern.java:94)\n\tat\norg.eclipse.jdt.internal.core.search.matching.MatchLocator.findIndexMatches(MatchLocator.java:306)\n\tat\norg.eclipse.jdt.internal.core.search.PatternSearchJob.search(PatternSearchJob.java:111)\n\tat\norg.eclipse.jdt.internal.core.search.PatternSearchJob.execute(PatternSearchJob.java:64)\n\tat\norg.eclipse.jdt.internal.core.search.processing.JobManager.performConcurrentJob(JobManager.java:260)\n\tat\norg.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches(BasicSearchEngine.java:181)\n\tat\norg.eclipse.jdt.internal.core.search.BasicSearchEngine.search(BasicSearchEngine.java:382)\n\tat org.eclipse.jdt.core.search.SearchEngine.search(SearchEngine.java:512)\n\tat org.eclipse.jdt.internal.ui.search.JavaSearchQuery.run(JavaSearchQuery.java:131)\n\tat\norg.eclipse.search2.internal.ui.InternalSearchUI$InternalSearchJob.run(InternalSearchUI.java:93)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)",
    "Cannot reproduce. Can you provide entire project?\nI suspect there\u0027s something special with access restriction in classpath...",
    "Created an attachment (id\u003d17998)\nproject.zip\n\nThe attached project shows the described behavior when searching references to\nthe type variable \u0027T\u0027 in searching.TestGeneric (in searching/Test.java).\n\nCannot reproduce either on a fresh project.",
    "ok, I got it, thanks",
    "A simpler test case is:\n.classpath:\n    \u003c?xml version\u003d\"1.0\" encoding\u003d\"UTF-8\"?\u003e\n    \u003cclasspath\u003e\n\t\u003cclasspathentry excluding\u003d\"tmp\" kind\u003d\"src\" path\u003d\"\"/\u003e\n\t\u003cclasspathentry kind\u003d\"con\" path\u003d\"org.eclipse.jdt.launching.JRE_CONTAINER\"/\u003e\n\t\u003cclasspathentry kind\u003d\"output\" path\u003d\"\"/\u003e\n    \u003c/classpath\u003e\n\nTest.java:\n    public class Test\u003cE\u003e implements In\u003cTest\u003cE\u003e\u003e {\n\tE e;\n    }\n    interface In\u003cT\u003e {}\n\nNPE occurs while searching reference of E in project...\n",
    "Fixed.\n\nType parameter references are found even if access restriction is set on classpath.\nProblem came from comparison of this access restriction with not initialized\naccess restriction from JavaSearchScope...\n\n[jdt-core-internal]\nChange done in findIndexMatches method of TypeParameterPattern and\nLocalVariablePattern.\nNo test case added but add an access restriction to classpath of JavaSearch15\nproject in org.eclipse.jdt.core.tests.model to get same context.\n",
    "Verified in I20050330-0500"
  ],
  "commentCreationDates": [
    "2005-02-16T15:13:16+01:00",
    "2005-02-16T17:05:30+01:00",
    "2005-02-16T17:28:56+01:00",
    "2005-02-16T17:49:17+01:00",
    "2005-02-17T14:11:05+01:00",
    "2005-02-21T17:15:07+01:00",
    "2005-03-30T21:56:47+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.env.AccessRestriction.equals",
          "source": "AccessRestriction.java:43"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.TypeParameterPattern.findIndexMatches",
          "source": "TypeParameterPattern.java:94"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.findIndexMatches",
          "source": "MatchLocator.java:306"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.PatternSearchJob.search",
          "source": "PatternSearchJob.java:111"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.PatternSearchJob.execute",
          "source": "PatternSearchJob.java:64"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.processing.JobManager.performConcurrentJob",
          "source": "JobManager.java:260"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches",
          "source": "BasicSearchEngine.java:181"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.BasicSearchEngine.search",
          "source": "BasicSearchEngine.java:382"
        },
        {
          "method": "org.eclipse.jdt.core.search.SearchEngine.search",
          "source": "SearchEngine.java:512"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.search.JavaSearchQuery.run",
          "source": "JavaSearchQuery.java:131"
        },
        {
          "method": "org.eclipse.search2.internal.ui.InternalSearchUI$InternalSearchJob.run",
          "source": "InternalSearchUI.java:93"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:67"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "85421",
      "date": "2005-02-16T15:13:16+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "85421",
  "bugId": "85421",
  "date": "2005-02-16T15:13:16+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}