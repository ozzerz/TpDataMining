{
  "comments": [
    "(Not sure what the appropriate Component should be for this bug, so taking a\nguess; apologies if it\u0027s the wrong one.)\n\nProblem occurs when trying to open a large .suo - this is a binary-format Visual\nStudio solution-level prefs file - into an Eclipse editor view. (No, there\u0027s no\ngood reason to want to do this; I gather it happened by accident.) This\nimmediately crashed Eclipse, but not before the view was added to the workspace,\nso every subsequent launch of Eclipse tried to reopen the file and crashed\nagain. The only way I was able to recover the workspace was by manually removing\nthe relevant \u003ceditor\u003e element from the\n\".metadata\\.plugins\\org.eclipse.ui.workbench\\workbench.xml\" config file.\n\nProblem is reproducible every time with that particular file (I\u0027ll add it as an\nattachment as soon as I can clear this with my line manager), even after a\nsystem reboot. It\u0027s also reproducible on a Win2K machine. It did NOT occur with\na different, smaller .suo file.\n\nRelevant portion of .metadata\\.log :\n\n!SESSION Jul 19, 2004 13:35:35.910 ---------------------------------------------\neclipse.buildId\u003dI200406251208\njava.version\u003d1.4.1_02\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_GB\n\n!ENTRY org.eclipse.ui 4 4 Jul 19, 2004 13:35:35.910\n!MESSAGE Unhandled event loop exception\n\n!ENTRY org.eclipse.ui 4 0 Jul 19, 2004 13:35:35.925\n!MESSAGE No more handles\n!STACK 0\norg.eclipse.swt.SWTError: No more handles\n\tat org.eclipse.swt.SWT.error(SWT.java:2717)\n\tat org.eclipse.swt.SWT.error(SWT.java:2616)\n\tat org.eclipse.swt.SWT.error(SWT.java:2587)\n\tat org.eclipse.swt.graphics.Image.internal_new_GC(Image.java:1723)\n\tat org.eclipse.swt.graphics.GC.\u003cinit\u003e(GC.java:120)\n\tat org.eclipse.swt.graphics.GC.\u003cinit\u003e(GC.java:87)\n\tat\norg.eclipse.jface.text.source.AnnotationRulerColumn.doubleBufferPaint(AnnotationRulerColumn.java:528)\n\tat\norg.eclipse.jface.text.source.AnnotationRulerColumn.access$3(AnnotationRulerColumn.java:511)\n\tat\norg.eclipse.jface.text.source.AnnotationRulerColumn$1.paintControl(AnnotationRulerColumn.java:306)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:82)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:820)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:805)\n\tat org.eclipse.swt.widgets.Composite.WM_PAINT(Composite.java:803)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:3020)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:3338)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1467)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2429)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1377)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1348)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:254)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:335)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:183)\n\tat org.eclipse.core.launcher.Main.run(Main.java:644)\n\tat org.eclipse.core.launcher.Main.main(Main.java:628)",
    "Created an attachment (id\u003d13411)\nFile causing the crash\n",
    "Have just seen this again with another, smaller .suo file (67k compared to the\noriginal attachment\u0027s 385k). It wasn\u0027t a one-off. Symptoms, .log contents,\nbehaviour and workaround as before.\n",
    "I can reproduce this problem in eclipse 3.0, but this works fine for me if I \nsubstitute the SWT from HEAD (ie.- the current 3.1 stream).  So this has been \nfixed; changing report status accordingly.\n",
    "Great, thanks. Do you want a copy of the smaller crasher-file for a regression\ntest, or is such a test not going to be practicable?\n\nThere\u0027s still the wider issue of whether the workspace should be trying to\nautomatically reload a file on startup that caused it to crash last time. This\nis what made me unsure about the Component when originally filing this bug. The\ninescapable crash loop was nasty, but I suppose it\u0027s a question of whether this\nsort of thing happens often enough to justify the effort.",
    "It\u0027s worth giving the smaller .suo a try also.  If you aren\u0027t keeping up with \n3.1-stream milestone releases on your end then attach the .suo here and I\u0027ll \ntry it.\n\nAuto-opening a file that caused a previous crash was quite bad in this case.  \nI\u0027d suggest opening a new bug report with Platform - UI that mentions this \nissue specifically, and provide a link to this report as an example.\n",
    "Opened Bug 72463 for the auto-open issue, as suggested.\n\nThanks again!",
    "Might be related to bug 68478.\nIsn\u0027t this a 3.0.1 candidate?\n",
    "I\u0027ve tracked the change that fixes this case to be bug 63571.  That fix is \ncurrently not planned for inclusion in 3.0.1 because of its complexity, but if \nit proves to fix various scenarios then it may receive more consideration.  \nMarking this report as a duplicate.\n",
    "\n\n*** This bug has been marked as a duplicate of 63571 ***",
    "*** Bug 75077 has been marked as a duplicate of this bug. ***",
    "*** Bug 87436 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2004-07-19T15:10:07+02:00",
    "2004-07-19T16:12:28+02:00",
    "2004-08-17T13:12:32+02:00",
    "2004-08-23T19:26:01+02:00",
    "2004-08-23T19:47:50+02:00",
    "2004-08-23T19:57:29+02:00",
    "2004-08-23T21:44:14+02:00",
    "2004-08-25T12:37:51+02:00",
    "2004-08-25T17:50:01+02:00",
    "2004-08-25T17:50:37+02:00",
    "2004-09-27T15:39:27+02:00",
    "2005-03-10T17:56:26+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTError",
      "message": "No more handles",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2717"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2616"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2587"
        },
        {
          "method": "org.eclipse.swt.graphics.Image.internal_new_GC",
          "source": "Image.java:1723"
        },
        {
          "method": "org.eclipse.swt.graphics.GC.\u003cinit\u003e",
          "source": "GC.java:120"
        },
        {
          "method": "org.eclipse.swt.graphics.GC.\u003cinit\u003e",
          "source": "GC.java:87"
        },
        {
          "method": "org.eclipse.jface.text.source.AnnotationRulerColumn.doubleBufferPaint",
          "source": "AnnotationRulerColumn.java:528"
        },
        {
          "method": "org.eclipse.jface.text.source.AnnotationRulerColumn.access$3",
          "source": "AnnotationRulerColumn.java:511"
        },
        {
          "method": "org.eclipse.jface.text.source.AnnotationRulerColumn$1.paintControl",
          "source": "AnnotationRulerColumn.java:306"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:796"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:820"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:805"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.WM_PAINT",
          "source": "Composite.java:803"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:3020"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:3338"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessageW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessage",
          "source": "OS.java:1467"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2429"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1377"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1348"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:254"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:141"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:96"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:335"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:273"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:183"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:644"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:628"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "70322",
      "duplicateId": "63571",
      "date": "2004-07-19T15:10:07+02:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "major"
    }
  ],
  "groupId": "63571",
  "bugId": "70322",
  "duplicateId": "63571",
  "date": "2004-07-19T15:10:07+02:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "major"
}