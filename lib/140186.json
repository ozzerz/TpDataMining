{
  "comments": [
    "Inspired by the news-group thread started at the news:e374cq$pbd$1@utils.eclipse.org. Complete steps to reproduce are at the news:e37v36$3tv$1@utils.eclipse.org\n\nActually if gmgraph node points to the figure with some layout other than XYlayout, and the corresponding GenNode has listLayout \u003d false, generated code installs XYLayoutEditpolicy to the parent edit part. \nIn this case, attempt to create child in this node fails with following exception: \n\njava.lang.ClassCastException: org.eclipse.draw2d.ToolbarLayout\n\tat org.eclipse.gef.editpolicies.XYLayoutEditPolicy.getXYLayout(XYLayoutEditPolicy.java:131)\n\tat org.eclipse.gef.editpolicies.XYLayoutEditPolicy.getLayoutOrigin(XYLayoutEditPolicy.java:110)\n\tat org.eclipse.gef.editpolicies.ConstrainedLayoutEditPolicy.getConstraintFor(ConstrainedLayoutEditPolicy.java:209)\n\tat org.eclipse.gmf.runtime.diagram.ui.editpolicies.XYLayoutEditPolicy.getConstraintFor(XYLayoutEditPolicy.java:336)\n\tat org.eclipse.gmf.runtime.diagram.ui.editpolicies.XYLayoutEditPolicy.getCreateCommand(XYLayoutEditPolicy.java:256)\n\tat org.eclipse.gmf.runtime.diagram.ui.editpolicies.XYLayoutEditPolicy.getCommand(XYLayoutEditPolicy.java:321)\n\tat org.eclipse.gef.editparts.AbstractEditPart.getCommand(AbstractEditPart.java:470)\n\nExpected: It should be possible to create child node. To achive this, do not install XYLayoutEditPolicy for such cases.",
    "Created an attachment (id\u003d41616)\nFixes the subj\n\nProperty isListLayout now is applicable only to GenCompartment\u0027s.\nFor GenNode\u0027s the editpolicies, applicable notation styles, etc is determined from gnfgraph layout for node figure. \nTo achive this without adding dependency gmfgen -\u003e gmfgraph, the kind of used figure\u0027s (that is, viewmap\u0027s) layout is provided to gmfgen as Viewmap#layoutType property. \n",
    "Reviewed and committed"
  ],
  "commentCreationDates": [
    "2006-05-04T18:04:44+02:00",
    "2006-05-16T19:48:34+02:00",
    "2006-05-17T15:52:34+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.draw2d.ToolbarLayout",
      "elements": [
        {
          "method": "org.eclipse.gef.editpolicies.XYLayoutEditPolicy.getXYLayout",
          "source": "XYLayoutEditPolicy.java:131"
        },
        {
          "method": "org.eclipse.gef.editpolicies.XYLayoutEditPolicy.getLayoutOrigin",
          "source": "XYLayoutEditPolicy.java:110"
        },
        {
          "method": "org.eclipse.gef.editpolicies.ConstrainedLayoutEditPolicy.getConstraintFor",
          "source": "ConstrainedLayoutEditPolicy.java:209"
        },
        {
          "method": "org.eclipse.gmf.runtime.diagram.ui.editpolicies.XYLayoutEditPolicy.getConstraintFor",
          "source": "XYLayoutEditPolicy.java:336"
        },
        {
          "method": "org.eclipse.gmf.runtime.diagram.ui.editpolicies.XYLayoutEditPolicy.getCreateCommand",
          "source": "XYLayoutEditPolicy.java:256"
        },
        {
          "method": "org.eclipse.gmf.runtime.diagram.ui.editpolicies.XYLayoutEditPolicy.getCommand",
          "source": "XYLayoutEditPolicy.java:321"
        },
        {
          "method": "org.eclipse.gef.editparts.AbstractEditPart.getCommand",
          "source": "AbstractEditPart.java:470"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "140186",
      "date": "2006-05-04T18:04:44+02:00",
      "product": "GMF",
      "component": "Generation",
      "severity": "normal"
    }
  ],
  "groupId": "140186",
  "bugId": "140186",
  "date": "2006-05-04T18:04:44+02:00",
  "product": "GMF",
  "component": "Generation",
  "severity": "normal"
}