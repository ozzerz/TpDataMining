{
  "comments": [
    "Again, this is probably just a bug in the example, but it might be a bug in the Image code?\n\tAn \"Unsupported Color Depth\" error occurred on the drop, and I got the walkback\n\tlisted below.  Probably the example should just be catching the exception,\n\tbut maybe there is something deeper here.\n\tTo replicate:\n\tOn Carolyn\u0027s Win2000 machine (who knows, it might be display-dependent?):\n\t- run internal DragAndDropUseCase\n\t- check DragDetect hooked and DropTargetRegistered\n\t- change both widgets to a Canvas\n\t- turn ON Image target type for both widgets\n\t- turn OFF String target type for both widgets\n\t- drag from the DragSource onto the DropTarget\n\t- walkback\n\norg.eclipse.swt.SWTException: Unsupported color depth\n\tat org.eclipse.swt.SWT.error(SWT.java:1808)\n\tat org.eclipse.swt.SWT.error(SWT.java:1741)\n\tat org.eclipse.swt.internal.image.WinBMPFileFormat.unloadIntoByteStream(WinBMPFileFormat.java:570)\n\tat org.eclipse.swt.internal.image.FileFormat.unloadIntoStream(FileFormat.java:98)\n\tat org.eclipse.swt.internal.image.FileFormat.save(FileFormat.java:62)\n\tat org.eclipse.swt.graphics.ImageLoader.save(ImageLoader.java:180)\n\tat org.eclipse.swt.examples.dnd.ImageTransfer.javaToNative(ImageTransfer.java:36)\n\tat org.eclipse.swt.dnd.DragSource.GetData(DragSource.java:321)\n\tat org.eclipse.swt.dnd.DragSource.access$7(DragSource.java:282)\n\tat org.eclipse.swt.dnd.DragSource$5.method3(DragSource.java:176)\n\tat org.eclipse.swt.internal.ole.win32.COMObject.callback3(COMObject.java(Compiled Code))\n\tat org.eclipse.swt.internal.ole.win32.COM.VtblCall(Native Method)\n\tat org.eclipse.swt.internal.ole.win32.IDataObject.GetData(IDataObject.java:19)\n\tat org.eclipse.swt.dnd.ByteArrayTransfer.nativeToJava(ByteArrayTransfer.java:116)\n\tat org.eclipse.swt.examples.dnd.ImageTransfer.nativeToJava(ImageTransfer.java:49)\n\tat org.eclipse.swt.dnd.DropTarget.Drop(DropTarget.java:449)\n\tat org.eclipse.swt.dnd.DropTarget.access$7(DropTarget.java:380)\n\tat org.eclipse.swt.dnd.DropTarget$4.method6(DropTarget.java:180)\n\tat org.eclipse.swt.internal.ole.win32.COMObject.callback6(COMObject.java:109)\n\tat org.eclipse.swt.internal.ole.win32.COM.DoDragDrop(Native Method)\n\tat org.eclipse.swt.dnd.DragSource.drag(DragSource.java:232)\n\tat org.eclipse.swt.dnd.DragSource.access$0(DragSource.java:214)\n\tat org.eclipse.swt.dnd.DragSource$1.handleEvent(DragSource.java:117)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:841)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Control.WM_LBUTTONDOWN(Control.java:2976)\n\tat org.eclipse.swt.widgets.Composite.WM_LBUTTONDOWN(Composite.java:394)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java(Compiled Code))\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessage(Native Method)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code))\n\tat org.eclipse.swt.examples.dnd.DragAndDropUseCase.run(DragAndDropUseCase.java(Compiled Code))\n\tat org.eclipse.swt.examples.dnd.DragAndDropUseCase.main(DragAndDropUseCase.java:588)\n\nNOTES: n",
    "PRODUCT VERSION:\n\t118\n\n",
    "Is this still happening?  CAR to investigate.",
    "Works fine on WinXP.\nWill try on Win2K next time I reboot.",
    "Works on Win2K.\nClosing bug."
  ],
  "commentCreationDates": [
    "2001-10-11T20:21:28+02:00",
    "2001-10-29T21:31:47+01:00",
    "2004-11-19T22:46:26+01:00",
    "2004-11-19T23:09:01+01:00",
    "2004-11-22T21:30:52+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Unsupported color depth",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:1808"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:1741"
        },
        {
          "method": "org.eclipse.swt.internal.image.WinBMPFileFormat.unloadIntoByteStream",
          "source": "WinBMPFileFormat.java:570"
        },
        {
          "method": "org.eclipse.swt.internal.image.FileFormat.unloadIntoStream",
          "source": "FileFormat.java:98"
        },
        {
          "method": "org.eclipse.swt.internal.image.FileFormat.save",
          "source": "FileFormat.java:62"
        },
        {
          "method": "org.eclipse.swt.graphics.ImageLoader.save",
          "source": "ImageLoader.java:180"
        },
        {
          "method": "org.eclipse.swt.examples.dnd.ImageTransfer.javaToNative",
          "source": "ImageTransfer.java:36"
        },
        {
          "method": "org.eclipse.swt.dnd.DragSource.GetData",
          "source": "DragSource.java:321"
        },
        {
          "method": "org.eclipse.swt.dnd.DragSource.access$7",
          "source": "DragSource.java:282"
        },
        {
          "method": "org.eclipse.swt.dnd.DragSource$5.method3",
          "source": "DragSource.java:176"
        },
        {
          "method": "org.eclipse.swt.internal.ole.win32.COMObject.callback3",
          "source": "COMObject.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.internal.ole.win32.COM.VtblCall",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.ole.win32.IDataObject.GetData",
          "source": "IDataObject.java:19"
        },
        {
          "method": "org.eclipse.swt.dnd.ByteArrayTransfer.nativeToJava",
          "source": "ByteArrayTransfer.java:116"
        },
        {
          "method": "org.eclipse.swt.examples.dnd.ImageTransfer.nativeToJava",
          "source": "ImageTransfer.java:49"
        },
        {
          "method": "org.eclipse.swt.dnd.DropTarget.Drop",
          "source": "DropTarget.java:449"
        },
        {
          "method": "org.eclipse.swt.dnd.DropTarget.access$7",
          "source": "DropTarget.java:380"
        },
        {
          "method": "org.eclipse.swt.dnd.DropTarget$4.method6",
          "source": "DropTarget.java:180"
        },
        {
          "method": "org.eclipse.swt.internal.ole.win32.COMObject.callback6",
          "source": "COMObject.java:109"
        },
        {
          "method": "org.eclipse.swt.internal.ole.win32.COM.DoDragDrop",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.dnd.DragSource.drag",
          "source": "DragSource.java:232"
        },
        {
          "method": "org.eclipse.swt.dnd.DragSource.access$0",
          "source": "DragSource.java:214"
        },
        {
          "method": "org.eclipse.swt.dnd.DragSource$1.handleEvent",
          "source": "DragSource.java:117"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:841"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.WM_LBUTTONDOWN",
          "source": "Control.java:2976"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.WM_LBUTTONDOWN",
          "source": "Composite.java:394"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessage",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.examples.dnd.DragAndDropUseCase.run",
          "source": "DragAndDropUseCase.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.examples.dnd.DragAndDropUseCase.main",
          "source": "DragAndDropUseCase.java:588"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "4697",
      "date": "2001-10-11T20:21:28+02:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    }
  ],
  "groupId": "4697",
  "bugId": "4697",
  "date": "2001-10-11T20:21:28+02:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "normal"
}