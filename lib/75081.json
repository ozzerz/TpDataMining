{
  "comments": [
    "This started happening often during nightly builds. Need to figure out what\nchanged in recent builds so we can understand what is triggering this problem.\nCould not reproduce it running the tests on my machine. Here is the assertion\nfailure:\n\njunit.framework.AssertionFailedError: 1.4.1Verifying delta for /\nVerifying delta for /MyProject\nConflicting change\nExpected change flags: \u003c0\u003e actual change flags: \u003c1048576\u003e\nVerifying delta for /MyProject/file1.txt\nVerifying delta for /MyProject/file2.txt\n\nat org.eclipse.core.tests.resources.CharsetTest.testDeltasFile(CharsetTest.java:544)\n...",
    "By \"often\" I meant \"so far, only on N20040925\":\n\nhttp://download.eclipse.org/downloads/drops/N-N20040925-200409250010/index.php",
    "And now on I200409281200.",
    "Finally got it: tests would leave some resources with user-set charsets behind.\nThat should be ok (he thought) since we are deleting all resources we created\nduring tearDown()... the problem is that the deletion of the resources\u0027 project\npreferences by tearDown() schedules the CharsetDeltaJob to propagate a delta\ncontaining encoding changes for all resources in that project. And we end up\nseeing these changes in another test later.\n\nThe fix (in the test) was to ensure we don\u0027t leave user-set charset settings\nbehind. Not sure we can do anything in the code itself.\n\nTo reproduce, I created a test suite containing 1000 instances of the same test\ncase. It would fail several times (~1/50). With the fix to the test, it will\npass all (1000) times."
  ],
  "commentCreationDates": [
    "2004-09-27T16:09:06+02:00",
    "2004-09-27T16:47:13+02:00",
    "2004-09-29T17:33:30+02:00",
    "2004-10-08T19:25:20+02:00"
  ],
  "traces": [
    {
      "exceptionType": "junit.framework.AssertionFailedError",
      "message": "1.4.1Verifying delta for / Verifying delta for /MyProject Conflicting change Expected change flags: \u003c0\u003e actual change flags: \u003c1048576\u003e Verifying delta for /MyProject/file1.txt Verifying delta for /MyProject/file2.txt",
      "elements": [
        {
          "method": "org.eclipse.core.tests.resources.CharsetTest.testDeltasFile",
          "source": "CharsetTest.java:544"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "75081",
      "date": "2004-09-27T16:09:06+02:00",
      "product": "Platform",
      "component": "Resources",
      "severity": "normal"
    }
  ],
  "groupId": "75081",
  "bugId": "75081",
  "date": "2004-09-27T16:09:06+02:00",
  "product": "Platform",
  "component": "Resources",
  "severity": "normal"
}