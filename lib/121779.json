{
  "comments": [
    "If you create an emf model using XMIZipSerializer with a filename containing illegal characters for XML (such as \"\u0026\") and them make a reference to an element in that model, the persisted href is not escaped, and the subsequent model throws a sax parse exception on reload.  For example:\n\n\u003cinteractionFragments xsi:type\u003d\"Common_Behavior_Interactions:BVRExecutionOccurrence\" id\u003d\"A1DA72382403BA1FEA4FB83A5FE234FF\" name\u003d\"C:\\files\\xxx\u0026amp;.rmt  (asdfasdfhere)\"\u003e\n        \u003cotherBehavior href\u003d\"../../../files/xxx\u0026.rmt#A1DA7236CB529B80E725ACF1A142FDFB\"/\u003e\n\nHere is the interesting portion of the error from the .log file:\n\norg.xml.sax.SAXParseException: The entity name must immediately follow the \u0027\u0026\u0027 in the entity reference.\n\tat org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)\n\tat org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)\n\tat org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\n\tat org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\n\tat org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)\n\tat org.apache.xerces.impl.XMLScanner.scanAttributeValue(Unknown Source)\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanAttribute(Unknown Source)\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanStartElement(Unknown Source)\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n\tat org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n\tat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n\tat javax.xml.parsers.SAXParser.parse(Unknown Source)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLLoadImpl.load(Unknown Source)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLResourceImpl.doLoad(Unknown Source)\n\tat org.eclipse.hyades.models.common.facades.behavioral.impl.FacadeResourceImpl.doLoad(Unknown Source)\n\tat org.eclipse.emf.ecore.resource.impl.ResourceImpl.load(Unknown Source)\n\tat org.eclipse.emf.ecore.resource.impl.ResourceImpl.load(Unknown Source)\n\tat org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoad(Unknown Source)\n\tat org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoadHelper(Unknown Source)\n\tat org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.getResource(Unknown Source)\n\tat org.eclipse.hyades.models.common.facades.behavioral.impl.HyadesFactory.loadTestSuite(Unknown Source)",
    "Probably you\u0027ll want to use this XMLResource save option then:\n\n  /**\n   * Skip escaping special characters, such as \u0027\u0026\u0027 char, in URIs during XML serialization.\n   * The default is \u003ccode\u003eBoolean.TRUE\u003c/code\u003e. To enforce escaping special characters, set this \n   * option to \u003ccode\u003eBoolean.FALSE\u003c/code\u003e.\n   */\n  String OPTION_SKIP_ESCAPE_URI \u003d \"SKIP_ESCAPE_URI\";"
  ],
  "commentCreationDates": [
    "2005-12-21T21:53:54+01:00",
    "2005-12-21T22:29:05+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.xml.sax.SAXParseException",
      "message": "The entity name must immediately follow the \u0027\u0026\u0027 in the entity reference.",
      "elements": [
        {
          "method": "org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.util.ErrorHandlerWrapper.fatalError",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLErrorReporter.reportError",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLErrorReporter.reportError",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLScanner.reportFatalError",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLScanner.scanAttributeValue",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanAttribute",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanStartElement",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.parsers.XML11Configuration.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.parsers.XML11Configuration.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.parsers.XMLParser.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.parsers.AbstractSAXParser.parse",
          "source": "Unknown Source"
        },
        {
          "method": "javax.xml.parsers.SAXParser.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLLoadImpl.load",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLResourceImpl.doLoad",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.hyades.models.common.facades.behavioral.impl.FacadeResourceImpl.doLoad",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceImpl.load",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceImpl.load",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoad",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoadHelper",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.getResource",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.hyades.models.common.facades.behavioral.impl.HyadesFactory.loadTestSuite",
          "source": "Unknown Source"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "121779",
      "date": "2005-12-21T21:53:54+01:00",
      "product": "EMF",
      "component": "XML/XMI",
      "severity": "major"
    }
  ],
  "groupId": "121779",
  "bugId": "121779",
  "date": "2005-12-21T21:53:54+01:00",
  "product": "EMF",
  "component": "XML/XMI",
  "severity": "major"
}