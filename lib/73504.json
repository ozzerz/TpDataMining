{
  "comments": [
    "When I run ajc to weave aspects into a JAR file (ajc -injars WrapperClassJar.jar\n-sourceroots . -outjar TracedWrapper.jar) I get the following exception:\n\nC:\\work\\ajc_failure\u003eajc -injars WrapperClassJar.jar -sourceroots . -outjar\nTracedWrapper.jar\ntrouble in:\nABORT\n\nException thrown from AspectJ 1.2\n\nThis might be logged as a bug already -- find current bugs at\n  http://bugs.eclipse.org/bugs/buglist.cgi?product\u003dAspectJ\u0026component\u003dCompiler\n\nBugs for exceptions thrown have titles File:line from the top stack,\ne.g., \"SomeFile.java:243\"\n\nIf you don\u0027t find the exception below in a bug, please add a new bug\nat http://bugs.eclipse.org/bugs/enter_bug.cgi?product\u003dAspectJ\nTo make the bug a priority, please include a test program\nthat can reproduce this exception.\nInvalid method signature: \u003cmissing\u003e\nInvalid method signature: \u003cmissing\u003e\norg.apache.bcel.classfile.ClassFormatException: Invalid method signature: \u003cmissing\u003e\n        at org.apache.bcel.classfile.Utility.typeOfSignature(Utility.java:1024)\n        at org.apache.bcel.generic.Type.getType(Type.java:158)\n        at org.aspectj.weaver.bcel.BcelWorld.makeBcelType(BcelWorld.java:155)\n        at org.aspectj.weaver.bcel.BcelVar.createCopyFrom(BcelVar.java:68)\n        at\norg.aspectj.weaver.bcel.BcelShadow.initializeArgVars(BcelShadow.java:1095)\n        at org.aspectj.weaver.bcel.BcelShadow.getArgVar(BcelShadow.java:836)\n        at\norg.aspectj.weaver.bcel.BcelShadow.createThisJoinPoint(BcelShadow.java:963)\n        at\norg.aspectj.weaver.bcel.BcelShadow.initializeThisJoinPoint(BcelShadow.java:890)\n        at org.aspectj.weaver.bcel.BcelShadow.prepareForMungers(BcelShadow.java:260)\n        at org.aspectj.weaver.Shadow.implement(Shadow.java:324)\n        at\norg.aspectj.weaver.bcel.BcelClassWeaver.implement(BcelClassWeaver.java:1145)\n        at org.aspectj.weaver.bcel.BcelClassWeaver.weave(BcelClassWeaver.java:357)\n        at org.aspectj.weaver.bcel.BcelClassWeaver.weave(BcelClassWeaver.java:80)\n        at org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:724)\n        at org.aspectj.weaver.bcel.BcelWeaver.weaveWithoutDump(BcelWeaver.java:689)\n        at org.aspectj.weaver.bcel.BcelWeaver.weaveAndNotify(BcelWeaver.java:615)\n        at org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:563)\n        at\norg.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave(AjCompilerAdapter.java:239)\n        at\norg.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling(AjCompilerAdapter.java:114)\n        at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:376)\n        at\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:601)\n        at\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:160)\n        at\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:94)\n        at org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:102)\n        at org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:53)\n        at org.aspectj.tools.ajc.Main.run(Main.java:280)\n        at org.aspectj.tools.ajc.Main.runMain(Main.java:217)\n        at org.aspectj.tools.ajc.Main.main(Main.java:79)\n\n\n1 fail|abort",
    "I have added some missing classes to my batch file and the problem went away:\n\n@echo off \nset libext\u003d../Libraries2/external/java\nset libint\u003d../Libraries2/internal/java\nset CP\u003d-classpath\n%CLASSPATH%;%libext%/xalan.jar;%libext%/junit.jar;%libint%/StatusCodes.jar\nset opts\u003d-verbose\nSEt INJARS\u003d-injars ../Libraries2/internal/java/WrapperClassJar.jar\nset outjars\u003d-outjar TracedWrapper.jar\nset ajs\u003dWrapperClasses/openharbor/tracker/CollectionBase.aj\nWrapperClasses/openharbor/tracker/SetterBase.aj\nset ajs\u003d%ajs% WrapperClasses/openharbor/boa/BoaBaseCollectionTracker.aj\nset ajs\u003d%ajs% WrapperClasses/openharbor/boa/BoaBaseSetterTracker.aj\ncall ajc %CP% %opts% %INJARS% %AJS% %OUTJARS%\n",
    "This bug (ClassFormatException when dependendencies are missing from the\nclasspath) is still present in the latest snapshot.",
    "needs investigation for M4...",
    "I was able to reproduce this independently in a related scenario. The error was due to us reading in string \nsignatures for methods from the bytecode, trying to resolve the types (and failing), but then trying to write \nout bytecode with the \u003cmissing\u003e type signatures before the true error had been reported. This problem \nhas now been fixed, and the compiler is also much more tolerant of missing types in these situations (see \nbug 77076).\n\nFix commited in tree and will be available in next published build from AspectJ download page.",
    "*** Bug 76355 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2004-09-09T01:03:32+02:00",
    "2004-09-09T02:10:43+02:00",
    "2005-07-21T19:58:56+02:00",
    "2005-08-26T17:11:01+02:00",
    "2005-09-24T11:41:52+02:00",
    "2005-09-24T11:57:44+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.apache.bcel.classfile.ClassFormatException",
      "message": "Invalid method signature: \u003cmissing\u003e",
      "elements": [
        {
          "method": "org.apache.bcel.classfile.Utility.typeOfSignature",
          "source": "Utility.java:1024"
        },
        {
          "method": "org.apache.bcel.generic.Type.getType",
          "source": "Type.java:158"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWorld.makeBcelType",
          "source": "BcelWorld.java:155"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelVar.createCopyFrom",
          "source": "BcelVar.java:68"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelShadow.initializeArgVars",
          "source": "BcelShadow.java:1095"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelShadow.getArgVar",
          "source": "BcelShadow.java:836"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelShadow.createThisJoinPoint",
          "source": "BcelShadow.java:963"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelShadow.initializeThisJoinPoint",
          "source": "BcelShadow.java:890"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelShadow.prepareForMungers",
          "source": "BcelShadow.java:260"
        },
        {
          "method": "org.aspectj.weaver.Shadow.implement",
          "source": "Shadow.java:324"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.implement",
          "source": "BcelClassWeaver.java:1145"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.weave",
          "source": "BcelClassWeaver.java:357"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.weave",
          "source": "BcelClassWeaver.java:80"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weave",
          "source": "BcelWeaver.java:724"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveWithoutDump",
          "source": "BcelWeaver.java:689"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveAndNotify",
          "source": "BcelWeaver.java:615"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weave",
          "source": "BcelWeaver.java:563"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave",
          "source": "AjCompilerAdapter.java:239"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling",
          "source": "AjCompilerAdapter.java:114"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:376"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:601"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:160"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBuildManager.java:94"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.doCommand",
          "source": "AjdtCommand.java:102"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.runCommand",
          "source": "AjdtCommand.java:53"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.run",
          "source": "Main.java:280"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.runMain",
          "source": "Main.java:217"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.main",
          "source": "Main.java:79"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "73504",
      "date": "2004-09-09T01:03:32+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "73504",
  "bugId": "73504",
  "date": "2004-09-09T01:03:32+02:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}