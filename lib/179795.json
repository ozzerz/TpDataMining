{
  "comments": [
    "It appears that there is no logic to deal with the case where a module becomes unsupported by a server after having been added to the server (it was supported at that time). This sounds pretty weird, but we\u0027ve ran into this with a pretty basic scenario. Basically, WLS 10.0 does not support WLS 9.2 facets, so you have this case...\n\n1. Create a project targeting WLS 9.2 and publish it to a 9.2 server.\n2. Change the project to use WLS 10.0 runtime and facets.\n3. Observe that the project is still associated with the 9.2 server. If you try to remove it, you get the following exception.\n\njava.lang.NullPointerException\n    at org.eclipse.wst.server.ui.internal.view.servers.ModuleSloshAction.perform(ModuleSloshAction.java:68)\n    at org.eclipse.wst.server.ui.internal.view.servers.AbstractServerAction.run(AbstractServerAction.java:53)\n    at org.eclipse.jface.action.Action.runWithEvent(Action.java:499)\n    at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539)\n    at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\n    at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)\n    at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1930)\n    at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1894)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:422)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n    at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n    at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:585)\n    at org.eclipse.core.launcher.Main.invokeFramework(Main.java:339)\n    at org.eclipse.core.launcher.Main.basicRun(Main.java:283)\n    at org.eclipse.core.launcher.Main.run(Main.java:984)\n    at org.eclipse.core.launcher.Main.eclipse_main(Main.java:959)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:585)\n    at com.m7.installer.util.NitroxMain$1.run(NitroxMain.java:36)\n    at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:199)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:461)\n    at java.awt.EventDispatchThread.pumpOneEventForHierarchy(EventDispatchThread.java:242)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:163)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:157)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:149)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:110)",
    "Kinda stuck reproducing since we don\u0027t have any servers like this in WTP. ;-)\n\nI went back to 1.5.3 to see what line this is happening on, and it isn\u0027t making much sense to me. ModuleSloshAction line 68 is:\n\n  IModule[] modules2 \u003d ServerUtil.getModules(server.getServerType().\n    getRuntimeType().getModuleTypes());\n\nThis isn\u0027t related to the module at all - it\u0027s just getting the general types of modules that the server supports. Is it possible that this is actually a case of not being robust (e.g. the adapter for the server you were clicking on had been removed or had an invalid runtime) and not related to the modules? If not, any chance you can set a breakpoint and tell me which part is null?",
    "Tim,\n\nMy appologies. I oppened this bug using a scenario and the stack trace I got from someone else and did not try to repro it myself. Indeed the problem has nothing to do with modules support. The underlying cause was a deficiency in the BEA Workshop workspace upgrade. It wasn\u0027t updating server definitions. The server type is null on the NPE line because the definition is referring to a type that doesn\u0027t exist.\n\nLeaving this open since it would be good to handle this situation, but lowering the severity to reflect that it is less likely to happen than originally thought.",
    "k, np. Should be an easy fix (I\u0027ll probably just disable the menu item), so I\u0027ll get it in M6.",
    "Turns out I already fixed this for 2.0 in an earlier milestone.",
    "Closing old bugs."
  ],
  "commentCreationDates": [
    "2007-03-28T19:35:47+02:00",
    "2007-03-30T06:36:27+02:00",
    "2007-03-30T15:50:30+02:00",
    "2007-03-30T16:00:06+02:00",
    "2007-04-02T01:08:33+02:00",
    "2007-09-27T21:16:11+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.wst.server.ui.internal.view.servers.ModuleSloshAction.perform",
          "source": "ModuleSloshAction.java:68"
        },
        {
          "method": "org.eclipse.wst.server.ui.internal.view.servers.AbstractServerAction.run",
          "source": "AbstractServerAction.java:53"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:499"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:539"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3348"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2968"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1930"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1894"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:422"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:339"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:283"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:984"
        },
        {
          "method": "org.eclipse.core.launcher.Main.eclipse_main",
          "source": "Main.java:959"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "com.m7.installer.util.NitroxMain$1.run",
          "source": "NitroxMain.java:36"
        },
        {
          "method": "java.awt.event.InvocationEvent.dispatch",
          "source": "InvocationEvent.java:199"
        },
        {
          "method": "java.awt.EventQueue.dispatchEvent",
          "source": "EventQueue.java:461"
        },
        {
          "method": "java.awt.EventDispatchThread.pumpOneEventForHierarchy",
          "source": "EventDispatchThread.java:242"
        },
        {
          "method": "java.awt.EventDispatchThread.pumpEventsForHierarchy",
          "source": "EventDispatchThread.java:163"
        },
        {
          "method": "java.awt.EventDispatchThread.pumpEvents",
          "source": "EventDispatchThread.java:157"
        },
        {
          "method": "java.awt.EventDispatchThread.pumpEvents",
          "source": "EventDispatchThread.java:149"
        },
        {
          "method": "java.awt.EventDispatchThread.run",
          "source": "EventDispatchThread.java:110"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "179795",
      "date": "2007-03-28T19:35:47+02:00",
      "product": "Web Tools",
      "component": "wst.server",
      "severity": "minor"
    }
  ],
  "groupId": "179795",
  "bugId": "179795",
  "date": "2007-03-28T19:35:47+02:00",
  "product": "Web Tools",
  "component": "wst.server",
  "severity": "minor"
}