{
  "comments": [
    "The Zoom tests have been failing with errors like this:\n\ntestActivateOtherStack\tFailure\tPage should not be zoomed\n\njunit.framework.AssertionFailedError: Page should not be zoomed\nat org.eclipse.ui.tests.zoom.ZoomTestCase.assertZoomed(ZoomTestCase.java:187)\nat\norg.eclipse.ui.tests.zoom.ActivateTest.testActivateOtherStack(ActivateTest.java:68)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:313)\nat org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:199)\nat org.eclipse.test.UITestApplication$3.run(UITestApplication.java:188)\nat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\nat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:118)\nat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2705)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2430)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1611)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1577)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:292)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)\nat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102)\nat org.eclipse.test.UITestApplication.runApplication(UITestApplication.java:131)\nat org.eclipse.test.UITestApplication.run(UITestApplication.java:58)\nat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:333)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:150)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat org.eclipse.core.launcher.Main.invokeFramework(Main.java:268)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:260)\nat org.eclipse.core.launcher.Main.run(Main.java:887)\nat org.eclipse.core.launcher.Main.main(Main.java:871)",
    "Unable to reproduce, but this appears to be another situation where\ngetActiveWorkbenchWindow was causing problems.\n\nNick\u0027s theory is that this was caused by the recent changes to the DnD code,\nwhich would have affected ZoomTestCase.doSetUp.\n\nThis seems likely. Drop targets are still using getActiveWorkbenchWindow when\nused outside the DnD suites, which sometimes gives unexpected results on GTK. If\nthe drop target in ZoomTestCase.doSetUp gave the wrong window, then the drag\nwould have been a NOP and all the editors would end up in the same stack.\n\nThis means that zooming the stack and activating an inactive editor would not\nhave affected the zoom state, which explains the failures.\n\nI\u0027m not sure why this started occurring immediately after the change to the DnD\ntests, and without access to a machine, but it does seem to be the likely culprit:\n\nI\u0027ve refactored the DnD suites with the following changes (not all related to\nthe failures):\n\n1. Drop targets always explicitly drag to a particular window, and never use\ngetActiveWorkbenchWindow\n2. The DragTestSuite pattern (a bunch of auto-generated tests where the intended\nresults are read from an XML file) is now implemented using the generic\nAutoTestSuite.\n3. Added tests for dragging to the top of a stack\n4. Updated the zoom suites to explicitly pass in the target page for drags.\n\nIf getActiveWorkbenchWindow is the culprit, items 1 and 4 should solve the\nproblem nicely. We\u0027ll reopen this if the problems recur in the next nightly build.\n\n",
    "Thanks for fixing this...."
  ],
  "commentCreationDates": [
    "2005-02-23T00:18:08+01:00",
    "2005-02-23T00:48:42+01:00",
    "2005-02-23T15:44:49+01:00"
  ],
  "traces": [
    {
      "exceptionType": "junit.framework.AssertionFailedError",
      "message": "Page should not be zoomed",
      "elements": [
        {
          "method": "org.eclipse.ui.tests.zoom.ZoomTestCase.assertZoomed",
          "source": "ZoomTestCase.java:187"
        },
        {
          "method": "org.eclipse.ui.tests.zoom.ActivateTest.testActivateOtherStack",
          "source": "ActivateTest.java:68"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "org.eclipse.test.EclipseTestRunner.run",
          "source": "EclipseTestRunner.java:313"
        },
        {
          "method": "org.eclipse.test.EclipseTestRunner.run",
          "source": "EclipseTestRunner.java:199"
        },
        {
          "method": "org.eclipse.test.UITestApplication$3.run",
          "source": "UITestApplication.java:188"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:118"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:2705"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2430"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1611"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1577"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:292"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:144"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:102"
        },
        {
          "method": "org.eclipse.test.UITestApplication.runApplication",
          "source": "UITestApplication.java:131"
        },
        {
          "method": "org.eclipse.test.UITestApplication.run",
          "source": "UITestApplication.java:58"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:228"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:333"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:150"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:268"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:260"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:887"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:871"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "86219",
      "date": "2005-02-23T00:18:08+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "86219",
  "bugId": "86219",
  "date": "2005-02-23T00:18:08+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}