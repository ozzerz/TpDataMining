{
  "comments": [
    "Build ID: M20070921-1145\n\nSteps To Reproduce:\nI\u0027m doing filetransfer in my own java application using the Agent Controller API as documented in http://www.eclipse.org/tptp/platform/documents/newtechAC/javadoc/overview-summary.html.\n\nIf both, client and server use version 4.4.0.2 everything works fine. But when I use 4.3.1 on the server (have to because we need to support SUN Solaris), the connect fails. On the other hand, I can import log files from the SUN, so the AC seems to be installed properly.\n\nAfter debugging a while I found, that the TPTP ImportLogWizard does not use the API above but uses some internal classes. Is the API above the recommended way to use Agent Controllers?\n\nHere is an example code that fails:\n\n    final String HOST \u003d \"sun.tonbeller.com\";\n    final int PORT \u003d 10002;\n    ConnectionInfo connectionInfo \u003d new ConnectionInfo();\n    INode node \u003d NodeFactory.createNode(HOST);\n    connectionInfo.setHostName(HOST);\n    connectionInfo.setPort(PORT);\n    IAgentController agentController \u003d node.connect(connectionInfo);\n\nnode.connect() throws \n\norg.eclipse.tptp.platform.execution.exceptions.AgentControllerUnavailableException: Error: Unable to connect to the Agent Controller.Timeout while waiting for connection to complete\n\tat org.eclipse.tptp.platform.execution.client.core.internal.NodeImpl.connect(NodeImpl.java:146)\n\nThe servicelog.log conatins among others an entry \n\n \tmsg\u003d\"Connection accepted on socket 17\"\n\nso the connection happened, but then something went wrong.\n\n\n\nMore information:",
    "This is as designed. The new technology API only works with the new technology agent controllers. The platforms with new technology agent controllers are Linux and Windows only (various flavors). \n\nThe Solaris AC is an old tech AC, and so only supports the \"old tech\" AC API. The old tech API is similar to the new tech API, but also different in some areas. The old tech API is under org.eclipse.hyades.execution (primarily org.eclipse.hyades.execution.local.control.*, http://archive.eclipse.org/tptp/4.4.0/javadoc/Platform/public/org/eclipse/hyades/execution/local/control/package-summary.html)\n\nLet me know if you have any trouble with the old tech API.\n\n",
    "Thank you very much, this helped a lot, my app now mostly works with the old tech AC.\n\nIt is confusing that there seem to be two implementations of (e.g.) the Connection interface. One is defined in org.eclipse.hyades.execution.local.control, but access is denied because its not exported by the org.eclipse.hyades.execution plugin. The other interface is in org.eclipse.hyades.internal.execution.local.control, this version is accessable (package is exported although its name contains \"internal\"). Both interfaces seem to be copy/paste versions - identical except some formatting. \n\nAlso there is an odd dependency in that org.eclipse.hyades.execution.local.file.FileManagerFactory#create() takes the \"internal\" version  of the Connection interface as its argument. Because of that I used the \"internal\" version of the API mostly. Not sure if this is a good idea. \n\nThe only remaining problem is that ProcessListener#processExited() is never called. But I will find a work around for this (e.g. poll for files containing a status code).\n\nThanks again.\n\n"
  ],
  "commentCreationDates": [
    "2007-12-07T09:30:54+01:00",
    "2007-12-09T20:19:31+01:00",
    "2007-12-10T12:08:22+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.tptp.platform.execution.exceptions.AgentControllerUnavailableException",
      "message": "Error: Unable to connect to the Agent Controller.Timeout while waiting for connection to complete",
      "elements": [
        {
          "method": "org.eclipse.tptp.platform.execution.client.core.internal.NodeImpl.connect",
          "source": "NodeImpl.java:146"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "212248",
      "date": "2007-12-07T09:30:54+01:00",
      "product": "TPTP Agent Controller",
      "component": "Platform.Execution.Framework",
      "severity": "normal"
    }
  ],
  "groupId": "212248",
  "bugId": "212248",
  "date": "2007-12-07T09:30:54+01:00",
  "product": "TPTP Agent Controller",
  "component": "Platform.Execution.Framework",
  "severity": "normal"
}