{
  "comments": [
    "This problem occurs on Linux, using build TPTP-4.2.0-200604040905.  After successfully recording and generating a test, then generating the java code, I execute the test by right-clicking from the Test Navigator and selecting \u0027Run As-\u003eTest\u0027 .  The progress window hangs at \u0027Running and collecting results\u0027 while the Executing Tests indicator hangs at 93%.",
    "The test results (execution history) returns and is successful.  \n\nThis is not blocking because you can \u0027cancel\u0027 the \u0027running and collecting\u0027 window and everything seems to work fine afterward.",
    "This also happens when running from a Windows workbench to RAC on Linux.",
    "\nThanks for verifying the same failure on Windows-\u003eLinux, I will investigate.",
    "I found the following exception in the log file.  I am not 100% this is directly related to the problem, but it is suspicious:\n\nat org.eclipse.hyades.execution.harness.TestExecutionHarness.stopTest(TestExecutionHarness.java:2549)\n        at org.eclipse.hyades.test.core.internal.launch.processes.TestExecutionProcess.terminate(TestExecutionProcess.java:138)\n        at org.eclipse.debug.core.Launch.terminate(Launch.java:241)\n        at org.eclipse.debug.internal.core.LaunchManager.shutdown(LaunchManager.java:1954)\n        at org.eclipse.debug.core.DebugPlugin.stop(DebugPlugin.java:560)\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl$3.run(BundleContextImpl.java:1035)\n        at java.security.AccessController.doPrivileged(AccessController.java:241)\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1031)\n        at org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:396)\n        at org.eclipse.osgi.framework.internal.core.AbstractBundle.stop(AbstractBundle.java:400)\n        at org.eclipse.core.runtime.internal.adaptor.BundleStopper.basicStopBundles(BundleStopper.java:86)\n        at org.eclipse.core.runtime.internal.adaptor.BundleStopper.stopBundles(BundleStopper.java:73)\n        at org.eclipse.core.runtime.internal.adaptor.EclipseAdaptorHook.frameworkStopping(EclipseAdaptorHook.java:156)\n        at org.eclipse.osgi.baseadaptor.BaseAdaptor.frameworkStopping(BaseAdaptor.java:288)\n        at org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:529)\n        at org.eclipse.osgi.framework.internal.core.Framework.close(Framework.java:440)\n        at org.eclipse.osgi.framework.internal.core.OSGi.close(OSGi.java:41)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.shutdown(EclipseStarter.java:399)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:185)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:615)\n        at org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n        at org.eclipse.core.launcher.Main.run(Main.java:977)\n        at org.eclipse.core.launcher.Main.main(Main.java:952)\nCaused by: org.eclipse.hyades.internal.execution.local.control.InactiveAgentException\n        at org.eclipse.hyades.internal.execution.local.control.AgentImpl.invokeCustomCommand(AgentImpl.java:475)\n        at org.eclipse.hyades.execution.local.SessionImpl.invokeRemote(SessionImpl.java:104)\n        ... 31 more\n\n\n",
    "Deferring to 4.2i3.  The noted hang appears to be associated with certain tests but not others.  There are some URL tests that seem to play back correctly every time.  The one that I had trouble with was a google chunk-encoded server playback.  This was recently fixed.  So, now I wonder what is being distributed with the RAC.  Will investigate to see if it is stale bits in the RAC build.  Therefore, since test execution is not generally broken on Linux, it seems appropriate to defer this to 4.2i3.",
    "Note:  This problem does not occur when executing a test on a remote machine of a different platform.  When I executed a test from a Linux workbench on a Windows agent controller, the progress indicator went away as it should and the \u0027Executing Test\u0027 indicator did not hang. ",
    "Now what is interesting is Mark\u0027s comment above.  After discussion, it turns out that there is a consistent hang irrespective of the test that is being excuted on his Red Hat Enterprise 4 machine, but evidently not on my RH3 box testing a couple of days ago as I reported.  In both cases, running the IBM 1.5 JVM.  I shall have to reconfirm on my RH3 box with the latest build.",
    "I have been testing this further today and found it seems to be specific to which website you recorded.  The problem occurs when I record/generate/execute a test from a recording of google.  I tried another website today and found it did not have the problem.  \n\nMy guess the problem is in the URLRunner.  Try a recording with google, then search for something, then generate/execute. ",
    "After further discussion, investigation, and review, this defect seems to be more related to test execution of specific URL tests against a chunk-encoded server, perhaps just on Linux, perhaps not.  It is not a general failure of either Linux, Google tests, or chunk-encoded servers.  Seems more likely a hole in the specific sequence of requests and responses to a chunk-encoded server.\n\nTherefore, I\u0027m downgrading the defect from major to normal and the priority to P2.",
    "*** Bug 129337 has been marked as a duplicate of this bug. ***",
    "Per comment #9, this seems to only happen with very specific recordings from chunk-encoded servers.  Thus, it is not judged to be a 4.2 stop-ship.  Deferring to 4.2.1 due to other higher priority P1 and P2 defects.",
    "Changing milestone to 4.3 since 4.2.1 has been changed to only major approved defect fixes.",
    "Corrected an error in HttpRequestHandler.java that was causing a hang in certain chunk encoded server responses. Basically, the existing code did not follow through reading the next chunk in the case where a given chunk ended exactly at the end of a socket buffer read.  The problem was reproduced on both Windows and Linux with the same test.",
    "ACTION: Please update the target to the release AND iteration that this defect was returned/fixed.",
    "Changed target to indicate the iteration where the defect was fixed.",
    "ACTION: Please verify/close this defect.",
    "closing"
  ],
  "commentCreationDates": [
    "2006-04-07T15:45:18+02:00",
    "2006-04-07T15:47:02+02:00",
    "2006-04-07T15:52:53+02:00",
    "2006-04-09T17:42:54+02:00",
    "2006-04-10T22:43:45+02:00",
    "2006-04-12T15:15:45+02:00",
    "2006-04-14T19:44:31+02:00",
    "2006-04-14T22:35:04+02:00",
    "2006-05-03T19:13:55+02:00",
    "2006-05-04T19:15:44+02:00",
    "2006-05-04T19:54:01+02:00",
    "2006-05-12T19:53:01+02:00",
    "2006-07-21T18:53:57+02:00",
    "2006-09-19T19:49:46+02:00",
    "2006-11-13T14:36:18+01:00",
    "2006-11-13T16:01:45+01:00",
    "2006-11-16T14:01:07+01:00",
    "2006-11-16T17:23:11+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.hyades.internal.execution.local.control.InactiveAgentException",
      "elements": [
        {
          "method": "org.eclipse.hyades.internal.execution.local.control.AgentImpl.invokeCustomCommand",
          "source": "AgentImpl.java:475"
        },
        {
          "method": "org.eclipse.hyades.execution.local.SessionImpl.invokeRemote",
          "source": "SessionImpl.java:104"
        }
      ],
      "number": 0,
      "commentIndex": 4,
      "bugId": "135534",
      "date": "2006-04-10T22:43:45+02:00",
      "product": "TPTP Testing",
      "component": "Test.Execution.ExecutionHarness",
      "severity": "normal"
    }
  ],
  "groupId": "135534",
  "bugId": "135534",
  "date": "2006-04-07T15:45:18+02:00",
  "product": "TPTP Testing",
  "component": "Test.Execution.ExecutionHarness",
  "severity": "normal"
}