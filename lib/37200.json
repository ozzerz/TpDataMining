{
  "comments": [
    "I defined a field for a class and then tried to generate delegate methods for \nthe field. After I picked the methods to generate and hit \"OK\" an error \nmessage appeared which directed me to the log file:\n\n!SESSION May 04, 2003 06:59:50.210 --------------------------------------------\n-\njava.version\u003d1.4.2-beta\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_US\nCommand-line arguments: -os win32 -ws win32 -arch x86 -data C:\\Documents and \nSettings\\Assaf\\.eclipse-workspace -install file:C:/Program Files/eclipse/\n!ENTRY org.eclipse.jdt.ui 4 10001 May 04, 2003 06:59:50.210\n!MESSAGE Internal Error\n!STACK 0\njava.lang.reflect.InvocationTargetException\n\tat org.eclipse.jface.operation.ModalContext.runInCurrentThread\n(ModalContext.java:313)\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:252)\n\tat org.eclipse.jface.dialogs.ProgressMonitorDialog.run\n(ProgressMonitorDialog.java:357)\n\tat org.eclipse.jdt.ui.actions.AddDelegateMethodsAction.processResults\n(AddDelegateMethodsAction.java:554)\n\tat org.eclipse.jdt.ui.actions.AddDelegateMethodsAction.showUI\n(AddDelegateMethodsAction.java:365)\n\tat org.eclipse.jdt.ui.actions.AddDelegateMethodsAction.run\n(AddDelegateMethodsAction.java:251)\n\tat org.eclipse.jdt.ui.actions.AddDelegateMethodsAction.run\n(AddDelegateMethodsAction.java:282)\n\tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun\n(SelectionDispatchAction.java:193)\n\tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.run\n(SelectionDispatchAction.java:169)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:842)\n\tat \norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:456)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent\n(ActionContributionItem.java:403)\n\tat org.eclipse.jface.action.ActionContributionItem.access$0\n(ActionContributionItem.java:397)\n\tat \norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent\n(ActionContributionItem.java:72)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:81)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:840)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1838)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1545)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1402)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1385)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:845)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:291)\n\tat org.eclipse.core.launcher.Main.run(Main.java:747)\n\tat org.eclipse.core.launcher.Main.main(Main.java:583)\nCaused by: java.lang.NullPointerException\n\tat \norg.eclipse.jdt.internal.core.CreateElementInCUOperation.executeOperation\n(CreateElementInCUOperation.java:140)\n\tat org.eclipse.jdt.internal.core.JavaModelOperation.execute\n(JavaModelOperation.java:365)\n\tat org.eclipse.jdt.internal.core.JavaModelOperation.run\n(JavaModelOperation.java:684)\n\tat org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1595)\n\tat org.eclipse.jdt.internal.core.JavaElement.runOperation\n(JavaElement.java:543)\n\tat org.eclipse.jdt.internal.core.SourceType.createMethod\n(SourceType.java:109)\n\tat org.eclipse.jdt.ui.actions.AddDelegateMethodsAction$ResultRunner.run\n(AddDelegateMethodsAction.java:479)\n\tat org.eclipse.jdt.internal.core.BatchOperation.executeOperation\n(BatchOperation.java:34)\n\tat org.eclipse.jdt.internal.core.JavaModelOperation.execute\n(JavaModelOperation.java:365)\n\tat org.eclipse.jdt.internal.core.JavaModelOperation.run\n(JavaModelOperation.java:684)\n\tat org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1595)\n\tat org.eclipse.jdt.core.JavaCore.run(JavaCore.java:2711)\n\tat org.eclipse.jdt.internal.ui.actions.WorkbenchRunnableAdapter.run\n(WorkbenchRunnableAdapter.java:42)\n\tat org.eclipse.jface.operation.ModalContext.runInCurrentThread\n(ModalContext.java:302)\n\t... 28 more",
    "Could you please attach your compilation unit source prior to the addition of\nthe getters/setters of your field? I need a reproducable test case.\nThanks.",
    "This seems to be easily reproducible. Just use the following:\n\npublic class Test {\n    protected java.util.Map map;\n}\n\n... and try to generate delegate methods (not getters and setters) for \nthe \"map\" field. Note that I am using JDK 1.4.2 beta.\n",
    "I tried the same test case without much success. I end up with:\n\nimport java.util.Collection;\nimport java.util.Map;\nimport java.util.Set;\n\npublic class Test {\n    protected java.util.Map map;\n\t/**\n\t * \n\t */\n\tpublic void clear() {\n\t\tmap.clear();\n\t}\n\n\t/**\n\t * @param key\n\t * @return\n\t */\n\tpublic boolean containsKey(Object key) {\n\t\treturn map.containsKey(key);\n\t}\n\n\t/**\n\t * @param value\n\t * @return\n\t */\n\tpublic boolean containsValue(Object value) {\n\t\treturn map.containsValue(value);\n\t}\n\n\t/**\n\t * @return\n\t */\n\tpublic Set entrySet() {\n\t\treturn map.entrySet();\n\t}\n\n\t/* (non-Javadoc)\n\t * @see java.lang.Object#equals(java.lang.Object)\n\t */\n\tpublic boolean equals(Object obj) {\n\t\treturn map.equals(obj);\n\t}\n\n\t/**\n\t * @param key\n\t * @return\n\t */\n\tpublic Object get(Object key) {\n\t\treturn map.get(key);\n\t}\n\n\t/* (non-Javadoc)\n\t * @see java.lang.Object#hashCode()\n\t */\n\tpublic int hashCode() {\n\t\treturn map.hashCode();\n\t}\n\n\t/**\n\t * @return\n\t */\n\tpublic boolean isEmpty() {\n\t\treturn map.isEmpty();\n\t}\n\n\t/**\n\t * @return\n\t */\n\tpublic Set keySet() {\n\t\treturn map.keySet();\n\t}\n\n\t/**\n\t * @param key\n\t * @param value\n\t * @return\n\t */\n\tpublic Object put(Object key, Object value) {\n\t\treturn map.put(key, value);\n\t}\n\n\t/**\n\t * @param t\n\t */\n\tpublic void putAll(Map t) {\n\t\tmap.putAll(t);\n\t}\n\n\t/**\n\t * @param key\n\t * @return\n\t */\n\tpublic Object remove(Object key) {\n\t\treturn map.remove(key);\n\t}\n\n\t/**\n\t * @return\n\t */\n\tpublic int size() {\n\t\treturn map.size();\n\t}\n\n\t/* (non-Javadoc)\n\t * @see java.lang.Object#toString()\n\t */\n\tpublic String toString() {\n\t\treturn map.toString();\n\t}\n\n\t/**\n\t * @return\n\t */\n\tpublic Collection values() {\n\t\treturn map.values();\n\t}\n\n}\n\nAnd no errors.\nDo you have an error in your class prior to generate delegate methods? Could you\nplease try with a new workspace from scratch? Do you have autobuild on?\nYou might have something wrong with your workspace. I need to understand what is\nwrong.",
    "Got it! I created a brand new workspace and things worked just fine. I then \nwent ahead and applied some of my non-default preferences to the new workspace \nand found the reason.\n\nSimply go to Window-\u003ePreferences-\u003eJava-\u003eCode Generation-\u003eCode and Comments\" \nand modify the pattern for Methods from:\n\n/**\n * ${tags}\n */\n\nto:\n\n//\n\nOnce you have made this change on the new workspace you can reproduce the bug!\n",
    "A workaround is to add a line break after the \u0027//\u0027 in the method comment. The\nbug comes from the fact that the method comment is added in front of the\ngenerated source and because there is no line break, the method header is\nincluded in the line comment. So you end up trying to create a method with the\nfollowing source:\n\t//public void clear() {\n\tmap.clear();\n}\ninstead of:\n//\npublic void clear() {\n\tmap.clear();\n}\n\nI will changed the jdtcore operation to report a error in this case. The UI code\nneeds to be updated as well. I will enter another bug report for this against\nJDT/UI.",
    "I will fix JDT/Core bug, but as long as this bug 37331 has not been fixed, your\ntest case will still fail.",
    "Fixed and released in HEAD stream.\nRegression tests will be added shortly.",
    "Verified."
  ],
  "commentCreationDates": [
    "2003-05-04T14:17:53+02:00",
    "2003-05-05T19:50:26+02:00",
    "2003-05-06T01:32:01+02:00",
    "2003-05-06T16:10:41+02:00",
    "2003-05-07T01:31:42+02:00",
    "2003-05-07T16:43:36+02:00",
    "2003-05-07T17:53:20+02:00",
    "2003-05-07T18:46:11+02:00",
    "2003-07-18T13:50:20+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.reflect.InvocationTargetException",
      "elements": [
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:313"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:252"
        },
        {
          "method": "org.eclipse.jface.dialogs.ProgressMonitorDialog.run",
          "source": "ProgressMonitorDialog.java:357"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.AddDelegateMethodsAction.processResults",
          "source": "AddDelegateMethodsAction.java:554"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.AddDelegateMethodsAction.showUI",
          "source": "AddDelegateMethodsAction.java:365"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.AddDelegateMethodsAction.run",
          "source": "AddDelegateMethodsAction.java:251"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.AddDelegateMethodsAction.run",
          "source": "AddDelegateMethodsAction.java:282"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun",
          "source": "SelectionDispatchAction.java:193"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.run",
          "source": "SelectionDispatchAction.java:169"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:842"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:456"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java:403"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem.java:397"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java:72"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:81"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:840"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1838"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1545"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1402"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1385"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:291"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:747"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:583"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.NullPointerException",
        "elements": [
          {
            "method": "org.eclipse.jdt.internal.core.CreateElementInCUOperation.executeOperation",
            "source": "CreateElementInCUOperation.java:140"
          },
          {
            "method": "org.eclipse.jdt.internal.core.JavaModelOperation.execute",
            "source": "JavaModelOperation.java:365"
          },
          {
            "method": "org.eclipse.jdt.internal.core.JavaModelOperation.run",
            "source": "JavaModelOperation.java:684"
          },
          {
            "method": "org.eclipse.core.internal.resources.Workspace.run",
            "source": "Workspace.java:1595"
          },
          {
            "method": "org.eclipse.jdt.internal.core.JavaElement.runOperation",
            "source": "JavaElement.java:543"
          },
          {
            "method": "org.eclipse.jdt.internal.core.SourceType.createMethod",
            "source": "SourceType.java:109"
          },
          {
            "method": "org.eclipse.jdt.ui.actions.AddDelegateMethodsAction$ResultRunner.run",
            "source": "AddDelegateMethodsAction.java:479"
          },
          {
            "method": "org.eclipse.jdt.internal.core.BatchOperation.executeOperation",
            "source": "BatchOperation.java:34"
          },
          {
            "method": "org.eclipse.jdt.internal.core.JavaModelOperation.execute",
            "source": "JavaModelOperation.java:365"
          },
          {
            "method": "org.eclipse.jdt.internal.core.JavaModelOperation.run",
            "source": "JavaModelOperation.java:684"
          },
          {
            "method": "org.eclipse.core.internal.resources.Workspace.run",
            "source": "Workspace.java:1595"
          },
          {
            "method": "org.eclipse.jdt.core.JavaCore.run",
            "source": "JavaCore.java:2711"
          },
          {
            "method": "org.eclipse.jdt.internal.ui.actions.WorkbenchRunnableAdapter.run",
            "source": "WorkbenchRunnableAdapter.java:42"
          },
          {
            "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
            "source": "ModalContext.java:302"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "37200",
      "date": "2003-05-04T14:17:53+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "37200",
  "bugId": "37200",
  "date": "2003-05-04T14:17:53+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}