{
  "comments": [
    "Overview Description:\n---------------------\n\nBuild of my project fails with the Internal compiler error all the time, it is \nnot possible to compile it. There was no problem there in the previous version.\n\nSteps to Reproduce:\n-------------------\n\nOpen or clean the project to trigger the automatic build.\n\nActual Results:\n---------------\n\nA dialog with the error message and a stack trace, red cross icon on the \nproject indicating failure. The target build directory contains only copied \njavadoc HTML files, no weaved sources nor binary class files.\n\nExpected Results:\n-----------------\n\nFinish the build successfully as in the earlier version.\n\nBuild Date \u0026 Platform:\n\nAll version were tested on Windows XP SP2.\nThe version which works: 1.3.0.20050830104659\nThe previous version which started to fail this way: 1.3.0.20051003120608\nThe new version which is still failing: 1.3.0.20051011134207\n\nAdditional Information:\n-----------------------\n\nEnvironment:\n\nEclipse SDK Version: 3.1.1, Build id: M20050929-0840\norg.aspectj.ajde (1.5.0.20051011134207) \"AspectJ\"\norg.aspectj.runtime (1.5.0.20051011134207) \"AspectJ Runtime\"\norg.aspectj.weaver (1.5.0.20051011134207) \"AspectJ Weaver\"\norg.eclipse.ajdt.core (1.3.0.20051011134207) \"AspectJ Development Tools Core\"\norg.eclipse.ajdt.examples (1.3.0.20051011134207) \"AspectJ Examples\"\norg.eclipse.ajdt.source (1.3.0.20051011134207) \"AspectJ Development Tools SDK\"\norg.eclipse.ajdt.ui (1.3.0.20051011134207) \"AspectJ Development Tools UI\"\norg.eclipse.aspectj (1.3.0.20051011134207) \"AspectJ Development Tools\"\n\nException from the log:\n\n!SESSION 2005-10-11 17:44:15.936 -----------------------------------------------\neclipse.buildId\u003dI20050627-1435\njava.version\u003d1.5.0_05\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003dcs_CZ\nCommand-line arguments:  -os win32 -ws win32 -arch x86\n\n!ENTRY org.eclipse.ajdt.ui 4 0 2005-10-11 17:48:06.634\n!MESSAGE NullPointerException thrown: null\n!STACK 0\njava.lang.NullPointerException\nat org.aspectj.weaver.World.resolveGenericTypeFor(World.java:332)\nat org.aspectj.weaver.World.resolveToReferenceType(World.java:279)\nat org.aspectj.weaver.World.resolve(World.java:209)\nat org.aspectj.weaver.World.resolve(World.java:131)\nat org.aspectj.ajdt.internal.compiler.lookup.EclipseFactory.fromEclipse\n(EclipseFactory.java:126)\nat \norg.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.weaveInterTypeDecl\narations(AjLookupEnvironment.java:440)\nat \norg.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.weaveInterTypeDecl\narations(AjLookupEnvironment.java:431)\nat org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.doPendingWeaves\n(AjLookupEnvironment.java:298)\nat \norg.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.completeTypeBindin\ngs(AjLookupEnvironment.java:176)\nat org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.beginToCompile\n(Compiler.java:301)\nat org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile\n(Compiler.java:315)\nat org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation\n(AjBuildManager.java:759)\nat org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild\n(AjBuildManager.java:225)\nat org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild\n(AjBuildManager.java:151)\nat org.aspectj.ajde.internal.CompilerAdapter.compile(CompilerAdapter.java:122)\nat org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run\n(AspectJBuildManager.java:191)\n\nNullPointerException thrown: null\n\nSource code:\n\nThere are two aspects there which have two parent abstract classes, cca 200 \nbrutto lines of the source code. Neither generics or other 5.-0 features are \nused. Here we are an example:\n\n   public final static FullTrace getTrace() {\n      return trace;\n   }\n\n   final pointcut forbiddenExecution():\n      within(com.opentext.notes.archiving.aspects..*) ||\n      within(com.opentext.notes.archiving.log..*);\n\n   final pointcut forbiddenInvocation():\n      forbiddenExecution() ||\n      target(PerformanceMeasure) ||\n      target(TraceAspectBase+) ||\n      target(TraceManager+) ||\n      target(TraceSwitch+) ||\n      target(Trace+);\n\n   final pointcut callInvocation():\n         !forbiddenInvocation() \u0026\u0026 (call(new(..)) || call(* *(..)));\n\n   before(): callInvocation() \u0026\u0026\n         if(getTraceSwitch().isCall()) {\n      getTrace().invoke(thisJoinPointStaticPart);\n   }\n\nI can provide a compilable project excerpt if you ask for it.\n\nI looked into the sources of the weaver and it seemed to me that the array \ntypeParameters was null at org.aspectj.weaver.World.resolveGenericTypeFor\n(World.java:332):\n\nif (rawType.isSimpleType() \u0026\u0026 anUnresolvedType.typeParameters.length\u003d\u003d0) {",
    "Created an attachment (id\u003d28127)\nMinimum failing Java sources with the according Eclipse/AJDT project.\n\nThe project is a kind of a learning or evaluating pilot for debug logging,\nrather too rich on pointcuts.",
    "I fixed this yesterday...",
    "The same bug remains in the yesterday\u0027s build 1.3.0.20051012172335. I am \nwaiting eagerly for a new one...",
    "It is fixed in AspectJ - and in the latest dev builds of AJ, it has not been put\ninto an AJDT yet.",
    "Thank you for the answer. I injected World.class and BcelWorld.class from \naspectj-DEVELOPMENT-20051013121600.jar.zip into aspectjweaver.jar from \najdt_1.3.0.20051012172335_archive.zip and the compiler works now.\nThanks again and keep up the good work!",
    "its great that you could test the fix like that :)  Sorry I couldn\u0027t get you an\nAJDT sooner, I have thousands of bugs to get through ...  AJDT is updated with a\nnew AspectJ just about every week, so the fix will definetly be in the next dev\nrelease of AJDT.\n",
    "AJDT now contains this fix.",
    "Tested successfully with the AJDT 1.3.0.20051027144606. Thanks again."
  ],
  "commentCreationDates": [
    "2005-10-11T20:18:16+02:00",
    "2005-10-11T20:31:21+02:00",
    "2005-10-12T09:30:26+02:00",
    "2005-10-13T10:30:54+02:00",
    "2005-10-13T10:41:57+02:00",
    "2005-10-13T18:56:08+02:00",
    "2005-10-14T10:32:51+02:00",
    "2005-10-28T09:42:02+02:00",
    "2005-10-28T14:33:16+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.aspectj.weaver.World.resolveGenericTypeFor",
          "source": "World.java:332"
        },
        {
          "method": "org.aspectj.weaver.World.resolveToReferenceType",
          "source": "World.java:279"
        },
        {
          "method": "org.aspectj.weaver.World.resolve",
          "source": "World.java:209"
        },
        {
          "method": "org.aspectj.weaver.World.resolve",
          "source": "World.java:131"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.EclipseFactory.fromEclipse",
          "source": "EclipseFactory.java:126"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.weaveInterTypeDeclarations",
          "source": "AjLookupEnvironment.java:440"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.weaveInterTypeDeclarations",
          "source": "AjLookupEnvironment.java:431"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.doPendingWeaves",
          "source": "AjLookupEnvironment.java:298"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.completeTypeBindings",
          "source": "AjLookupEnvironment.java:176"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.beginToCompile",
          "source": "Compiler.java:301"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:315"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:759"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:225"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBuildManager.java:151"
        },
        {
          "method": "org.aspectj.ajde.internal.CompilerAdapter.compile",
          "source": "CompilerAdapter.java:122"
        },
        {
          "method": "org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run",
          "source": "AspectJBuildManager.java:191"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "112241",
      "date": "2005-10-11T20:18:16+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "blocker"
    }
  ],
  "groupId": "112241",
  "bugId": "112241",
  "date": "2005-10-11T20:18:16+02:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "blocker"
}