{
  "comments": [
    "The following code:\n\npublic class TestTable2Combo {\n   \n   public static class Show {\n      private PropertyChangeSupport pcs \u003d new PropertyChangeSupport(this);\n      \n      public void addPropertyChangeListener(PropertyChangeListener l) {\n         pcs.addPropertyChangeListener(l);\n      }\n      \n      public void removePropertyChangeListener(PropertyChangeListener l) {\n         pcs.removePropertyChangeListener(l);\n      }\n      \n      private String showName;\n      \n      public Show(String string) {\n         this.showName \u003d string;\n      }\n\n      public String getShowName() {\n         return showName;\n      }\n      \n      public void setShowName(String showName) {\n         String oldValue \u003d this.showName;\n         this.showName \u003d showName;\n         pcs.firePropertyChange(\"showName\", oldValue, showName);\n      }\n      \n   }\n   \n   private Shell sShell \u003d null;  //  @jve:decl-index\u003d0:visual-constraint\u003d\"10,10\"\n   private Table showsTable \u003d null;\n   \n   private List shows \u003d new ArrayList();\n   private Combo combo \u003d null;\n   public TestTable2Combo() {\n      Show show \u003d new Show(\"Sally\u0027s party\");\n      shows.add(show);\n      show \u003d new Show(\"Jane\u0027s party\");\n      shows.add(show);\n   }\n\n\n   public List getShows() {\n      return shows;\n   }\n\n\n   /**\n    * This method initializes table\t\n    *\n    */\n   private void createTable2() {\n      GridData gridData4 \u003d new org.eclipse.swt.layout.GridData();\n      gridData4.horizontalAlignment \u003d org.eclipse.swt.layout.GridData.FILL;\n      gridData4.grabExcessHorizontalSpace \u003d true;\n      gridData4.grabExcessVerticalSpace \u003d true;\n      gridData4.horizontalSpan \u003d 2;\n      gridData4.verticalAlignment \u003d org.eclipse.swt.layout.GridData.FILL;\n      showsTable \u003d new Table(sShell, SWT.NONE);\n      showsTable.setHeaderVisible(true);\n      showsTable.setLayoutData(gridData4);\n      showsTable.setLinesVisible(true);\n      TableColumn tableColumn2 \u003d new TableColumn(showsTable, SWT.NONE);\n      tableColumn2.setWidth(200);\n      tableColumn2.setText(\"Show Name\");\n   }\n\n   /**\n    * This method initializes combo\t\n    *\n    */\n   private void createCombo() {\n      combo \u003d new Combo(sShell, SWT.NONE);\n   }\n\n\n   /**\n    * @param args\n    */\n   public static void main(String[] args) {\n      Display display \u003d Display.getDefault();\n      TestTable2Combo thisClass \u003d new TestTable2Combo();\n      thisClass.createSShell();\n      thisClass.bindControls();\n      thisClass.sShell.open();\n      while (!thisClass.sShell.isDisposed()) {\n         if (!display.readAndDispatch())\n            display.sleep();\n      }\n      display.dispose();\n   }\n\n   private void bindControls() {\n      // Initialize data binding\n      IDataBindingContext dbc \u003d DataBinding.createContext(sShell);\n      \n      TableViewer showTableViewer \u003d new TableViewer(showsTable);\n      TableViewerDescription tableViewerDescription \u003d new TableViewerDescription(showTableViewer);\n      tableViewerDescription.addColumn(\"showName\");\n      \n      dbc.bind(tableViewerDescription, new Property(this, \"shows\", Show.class, true), null);\n      \n      IUpdatableValue selectedShow \u003d (IUpdatableValue) dbc\n         .createUpdatable(new Property(showTableViewer, ViewersProperties.SINGLE_SELECTION));\n      \n      dbc.bind(combo, new Property(selectedShow, \"name\", String.class, false), null);\n      \n   }\n\n   /**\n    * This method initializes sShell\n    */\n   private void createSShell() {\n      GridLayout gridLayout1 \u003d new GridLayout();\n      gridLayout1.numColumns \u003d 3;\n      sShell \u003d new Shell();\n      sShell.setText(\"Test\");\n      createTable2();\n      createCombo();\n      sShell.setLayout(gridLayout1);\n      sShell.setSize(new org.eclipse.swt.graphics.Point(379,315));\n   }\n\n}\n\n\nproduces the following stack trace:\n\n\nException in thread \"main\" org.eclipse.jface.databinding.BindingException: incompatible updatables: target is collection, model is org.eclipse.jface.databinding.internal.NestedUpdatableValue\n\tat org.eclipse.jface.databinding.internal.DataBindingContext.bind(DataBindingContext.java:297)\n\tat org.eclipse.jface.databinding.internal.DataBindingContext.bind(DataBindingContext.java:350)\n\tat org.eclipse.jface.databinding.internal.DataBindingContext.bind(DataBindingContext.java:407)\n\tat com.tpc.binding.test.bugs.TestTable2Combo.bindControls(TestTable2Combo.java:131)\n\tat com.tpc.binding.test.bugs.TestTable2Combo.main(TestTable2Combo.java:109)",
    "What would you expect? You are trying to bind a combo to the selected show\u0027s name.",
    "(In reply to comment #1)\n\u003e What would you expect? You are trying to bind a combo to the selected show\u0027s\n\u003e name.\n\nYes, exactly.\n",
    "Maybe I need to be a bit more specific.\n\nIn my mind, this is just another instance of the master-detail scenario.  We currently can bind a table or list box\u0027s selection to a Text, why not a Combo?",
    "you can bind a property of a selection to a text, but not the underlying table/list/combo itself. I still don\u0027t understand what your intent is. Where should the items of the combo come from?",
    "Sorry about the noise, I should have assigned this to me earlier.",
    "(In reply to comment #4)\n\u003e you can bind a property of a selection to a text, but not the underlying\n\u003e table/list/combo itself. I still don\u0027t understand what your intent is. Where\n\u003e should the items of the combo come from?\n\nOk, there are two issues here:\n\n1) I\u0027d like to bind a property of the selection to the text property of the combo.  Unless I\u0027m mistaken, that\u0027s what the code above tries to do.\n\n2) For our purposes here, I don\u0027t care about the items property.  It\u0027s bound separately.  Think of a grid that holds a list of Address objects, and you want to bind the state property to a separate Combo where you can type a state name or you can pick a state from a list.  That list of states in the items property would be bound separately to some other states collection in the model.\n",
    "Now I get it. I think the default (when using the combo as the description object) is that you get an IUpdatableCollection holding the items.\n\nTry this:\ndbc.bind(new Property(combo, SWTProperties.TEXT), new Property(selectedShow, \"name\", String.class, false), null);",
    "This is a dup of Bug 119129",
    "Boris, you were right; it was my coding mistake.  Thanks.\n\nResolved--INVALID\n"
  ],
  "commentCreationDates": [
    "2005-12-05T16:58:28+01:00",
    "2005-12-05T17:23:44+01:00",
    "2005-12-05T17:36:09+01:00",
    "2005-12-05T17:42:24+01:00",
    "2005-12-05T17:49:10+01:00",
    "2005-12-05T17:49:46+01:00",
    "2005-12-05T19:14:13+01:00",
    "2005-12-05T19:19:00+01:00",
    "2005-12-05T19:37:31+01:00",
    "2005-12-05T20:45:35+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.jface.databinding.BindingException",
      "message": "incompatible updatables: target is collection, model is org.eclipse.jface.databinding.internal.NestedUpdatableValue",
      "elements": [
        {
          "method": "org.eclipse.jface.databinding.internal.DataBindingContext.bind",
          "source": "DataBindingContext.java:297"
        },
        {
          "method": "org.eclipse.jface.databinding.internal.DataBindingContext.bind",
          "source": "DataBindingContext.java:350"
        },
        {
          "method": "org.eclipse.jface.databinding.internal.DataBindingContext.bind",
          "source": "DataBindingContext.java:407"
        },
        {
          "method": "com.tpc.binding.test.bugs.TestTable2Combo.bindControls",
          "source": "TestTable2Combo.java:131"
        },
        {
          "method": "com.tpc.binding.test.bugs.TestTable2Combo.main",
          "source": "TestTable2Combo.java:109"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "119268",
      "date": "2005-12-05T16:58:28+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "119268",
  "bugId": "119268",
  "date": "2005-12-05T16:58:28+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}