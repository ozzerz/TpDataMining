{
  "comments": [
    "On WTP Feb 07,\n\nWe get the following exception in our  headless app which does not use runtime target.  This fails all .EAR test cases in our bvt.\n\n I can modified the   EarComponentCreationFacetOperation.java   execute method as follows and that fixes the problem.\n\npublic IStatus execute(IProgressMonitor monitor, IAdaptable info) throws ExecutionException {\n\n\n\t\tIDataModel dm \u003d DataModelFactory.createDataModel(new FacetProjectCreationDataModelProvider());\n\t\tString runtime \u003d model.getStringProperty(IJavaComponentCreationDataModelProperties.RUNTIME_TARGET_ID);\n\t\t//runtime \u003d ServerCore.findRuntime(runtime).getName();\n\t\tIRuntime facetRuntime \u003d null;\n\t\ttry {\n\t\t\truntime \u003d ServerCore.findRuntime(runtime).getName();\n\t\t\tfacetRuntime \u003d RuntimeManager.getRuntime(runtime);\n\t\t} catch (Exception e) {\n\t\t\t// proceed with facetRuntime \u003d null\n\t\t}\n\n\n-----------------------------------------------------------\n\njava.lang.NullPointerException\n\tat org.eclipse.jst.j2ee.internal.earcreation.EarComponentCreationFacetOperation.execute(EarComponentCreationFacetOperation.java:58)\n\tat org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.doExecute(ExtendableOperationImpl.java:163)\n\tat org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl$1.run(ExtendableOperationImpl.java:131)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1721)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1741)\n\tat org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.execute(ExtendableOperationImpl.java:137)\n\tat org.eclipse.jst.j2ee.internal.archive.operations.J2EEArtifactImportOperation.createVirtualComponent(J2EEArtifactImportOperation.java:78)\n\tat org.eclipse.jst.j2ee.internal.archive.operations.J2EEArtifactImportOperation.doExecute(J2EEArtifactImportOperation.java:66)\n\tat org.eclipse.jst.j2ee.internal.archive.operations.EARComponentImportOperation.doExecute(EARComponentImportOperation.java:59)\n\tat org.eclipse.jst.j2ee.internal.archive.operations.J2EEArtifactImportOperation.execute(J2EEArtifactImportOperation.java:55)\n\tat org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.doExecute(ExtendableOperationImpl.java:163)\n\tat org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl$1.run(ExtendableOperationImpl.java:131)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1721)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1741)\n\tat org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.execute(ExtendableOperationImpl.java:137)\n\tat com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.importEar(BatchExtension.java:957)\n\tat com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.runEarDeploy(BatchExtension.java:322)\n\tat com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.access$0(BatchExtension.java:317)\n\tat com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension$RunDeploy.run(BatchExte",
    "Bala,\n\nGood catch, we now support the case where you don\u0027t have a server target, so this wasn\u0027t tracked before...\n\nQuestion becomes how critical is this?  Is this a stop ship wtp 1.0.1 defect for your product, meaing we reset the dates for WTP?",
    "it is stop ship.  we cannot deploy any .ear files.\nAlthough i have fixed it and created a patch myself we need this\ngets updated in the wtp code base.",
    "This would need to be approved by the PMC of WTP.  What they will want to know is why you have to have support for ear import without a server.  Is this only for the zOS case, what are the use cases?",
    "runtime target would work for only Windows and Linux.\nOur headless app runs on several other platforms including Zos\nand SUN platforms. ",
    "After talking with Chuck, I don\u0027t think we will win this battle of holding up 1.0.1, however, we can use this to push for a 1.0.2 release which your product could pick up.  I will flag this as a 1.0.2 candidate.",
    "This is a regression from last week\u0027s driver.",
    "I will bring this up in WTP status call to get approval for 1.0.1.",
    "Approved by PMC for 1.0.1.",
    "Good news, this is approved, fixed and released for WTP 1.0.1, 02/10/06 M committers build and WTP 1.5 stream.",
    "Released.",
    "Turns out \nsimilar change is needed in another place to handle .EAR application that have a utility jar project.\n\nWe get NPE at this line.\norg.eclipse.jst.j2ee.application.internal.operations.J2EEUtilityJarImportOperationNew.execute(J2EEUtilityJarImportOperationNew.java:64)",
    "This was already fixed and released as part of the resolution for the original defect.",
    "OK"
  ],
  "commentCreationDates": [
    "2006-02-09T14:33:27+01:00",
    "2006-02-09T14:39:41+01:00",
    "2006-02-09T14:43:42+01:00",
    "2006-02-09T14:51:50+01:00",
    "2006-02-09T14:55:40+01:00",
    "2006-02-09T15:13:13+01:00",
    "2006-02-09T15:42:32+01:00",
    "2006-02-09T17:13:55+01:00",
    "2006-02-09T19:33:43+01:00",
    "2006-02-09T21:03:21+01:00",
    "2006-02-09T21:03:57+01:00",
    "2006-02-10T20:02:40+01:00",
    "2006-02-13T14:14:28+01:00",
    "2006-06-13T17:29:05+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jst.j2ee.internal.earcreation.EarComponentCreationFacetOperation.execute",
          "source": "EarComponentCreationFacetOperation.java:58"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.doExecute",
          "source": "ExtendableOperationImpl.java:163"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl$1.run",
          "source": "ExtendableOperationImpl.java:131"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1721"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1741"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.execute",
          "source": "ExtendableOperationImpl.java:137"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.archive.operations.J2EEArtifactImportOperation.createVirtualComponent",
          "source": "J2EEArtifactImportOperation.java:78"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.archive.operations.J2EEArtifactImportOperation.doExecute",
          "source": "J2EEArtifactImportOperation.java:66"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.archive.operations.EARComponentImportOperation.doExecute",
          "source": "EARComponentImportOperation.java:59"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.archive.operations.J2EEArtifactImportOperation.execute",
          "source": "J2EEArtifactImportOperation.java:55"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.doExecute",
          "source": "ExtendableOperationImpl.java:163"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl$1.run",
          "source": "ExtendableOperationImpl.java:131"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1721"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1741"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.execute",
          "source": "ExtendableOperationImpl.java:137"
        },
        {
          "method": "com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.importEar",
          "source": "BatchExtension.java:957"
        },
        {
          "method": "com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.runEarDeploy",
          "source": "BatchExtension.java:322"
        },
        {
          "method": "com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.access$0",
          "source": "BatchExtension.java:317"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "127069",
      "date": "2006-02-09T14:33:27+01:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "blocker"
    }
  ],
  "groupId": "127069",
  "bugId": "127069",
  "date": "2006-02-09T14:33:27+01:00",
  "product": "Web Tools",
  "component": "jst.j2ee",
  "severity": "blocker"
}