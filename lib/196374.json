{
  "comments": [
    "Build ID: TPTP 4.4.0\n\nSteps To Reproduce:\n1.Import the xml log\n2.Import xpath symptom catalog\n3.perform xpath analysis.\n\nFollowing exception get thrown.\n\n!ENTRY org.eclipse.hyades.sdb 2 0 2007-07-12 14:46:46.296\n!MESSAGE org.eclipse.emf.ecore.impl.EAttributeImpl incompatible with org.eclipse.emf.ecore.EReference\n!STACK 0\njava.lang.ClassCastException: org.eclipse.emf.ecore.impl.EAttributeImpl incompatible with org.eclipse.emf.ecore.EReference\n\tat org.eclipse.emf.ecore.impl.BasicEObjectImpl.eContainingFeature(BasicEObjectImpl.java:498)\n\tat org.eclipse.emf.ecore.resource.impl.ResourceImpl.getURIFragment(ResourceImpl.java:597)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLResourceImpl.getURIFragment(XMLResourceImpl.java:418)\n\tat org.eclipse.emf.ecore.util.EcoreUtil.getURI(EcoreUtil.java:2748)\n\tat org.eclipse.tptp.symptom.analysis.XPathCorrelationEngine.emitSymptom(XPathCorrelationEngine.java:723)\n\tat org.eclipse.tptp.symptom.analysis.XPathCorrelationEngine.processCBECommonBaseEvents(XPathCorrelationEngine.java:399)\n\tat org.eclipse.tptp.symptom.analysis.XPathCorrelationEngine.buildResults(XPathCorrelationEngine.java:282)\n\tat org.eclipse.tptp.symptom.analysis.XPathCorrelationEngine.correlate(XPathCorrelationEngine.java:225)\n\tat org.eclipse.hyades.logc.internal.util.AnalysisFacade.analyzeLog(AnalysisFacade.java:121)\n\tat org.eclipse.hyades.sdb.internal.util.LogAnalyzerDelegator.correlate(LogAnalyzerDelegator.java:80)\n\tat org.eclipse.tptp.platform.log.views.internal.actions.ExtendedAnalyzeAction$1.run(ExtendedAnalyzeAction.java:137)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)\n\n\nMore information:",
    "This is with the large log support",
    "This is happens in all the drivers for the 1st time until xpath code is compiled.\nEven on TPTP 4.4.0.1 build.",
    "null pointer does not occur, if RCP restart with the same workspace and\nperform analysis again.\nAlso this is only for first few events. But again this is unpredictable, how\nmany first few events.",
    "Were do you see a null pointer? There is a class cast expection happening in EMF at org.eclipse.emf.ecore.impl.BasicEObjectImpl.eContainingFeature(BasicEObjectImpl.java:905). The CBEs on which the exception happens areloaded from the database so I suspect there is something weird with them.",
    "If you restart the workbench things work normally. ",
    "Yes, class cast exception and not null pointer.\n",
    "The problem seem to happen with EMF2.2.3, only with EMF2.3.0.",
    "This seems to be for large resource support, reassigning accordingly.",
    "I mean the problem doesn\u0027t seem to happen with EMF2.2.3, only with EMF2.3.0.\n",
    "Created an attachment (id\u003d73777)\nPath for XPAthCorrelationEngine\n\nI am attaching a patch for the XPAthCorrelationEngine to avoid the symptom emission failure. The code will now catch any exception that might occur when the CBE URI is looked up. The symptom will be emitted but it won\u0027t have any CBE associated.",
    "This is requested for TPTP 4.4.1 from downstream product.",
    "Created an attachment (id\u003d74932)\nPatch with the fix\n\n",
    "Fix in CVS (HEAD).",
    "Created an attachment (id\u003d74933)\ndbresource.jar with the patched class\n\nShould work on 4.4 and later.",
    "Tested with attached jar and is fix is working as expected.\n",
    "This really should have been P1."
  ],
  "commentCreationDates": [
    "2007-07-12T22:03:02+02:00",
    "2007-07-12T22:43:07+02:00",
    "2007-07-13T00:25:55+02:00",
    "2007-07-13T16:16:52+02:00",
    "2007-07-13T16:21:15+02:00",
    "2007-07-13T16:22:13+02:00",
    "2007-07-13T16:28:04+02:00",
    "2007-07-13T17:07:58+02:00",
    "2007-07-13T17:19:34+02:00",
    "2007-07-13T17:24:24+02:00",
    "2007-07-13T23:57:04+02:00",
    "2007-07-25T16:23:27+02:00",
    "2007-07-30T16:10:13+02:00",
    "2007-07-30T16:10:54+02:00",
    "2007-07-30T16:24:02+02:00",
    "2007-07-31T17:01:59+02:00",
    "2007-09-19T19:59:44+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.emf.ecore.impl.EAttributeImpl incompatible with org.eclipse.emf.ecore.EReference",
      "elements": [
        {
          "method": "org.eclipse.emf.ecore.impl.BasicEObjectImpl.eContainingFeature",
          "source": "BasicEObjectImpl.java:498"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceImpl.getURIFragment",
          "source": "ResourceImpl.java:597"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLResourceImpl.getURIFragment",
          "source": "XMLResourceImpl.java:418"
        },
        {
          "method": "org.eclipse.emf.ecore.util.EcoreUtil.getURI",
          "source": "EcoreUtil.java:2748"
        },
        {
          "method": "org.eclipse.tptp.symptom.analysis.XPathCorrelationEngine.emitSymptom",
          "source": "XPathCorrelationEngine.java:723"
        },
        {
          "method": "org.eclipse.tptp.symptom.analysis.XPathCorrelationEngine.processCBECommonBaseEvents",
          "source": "XPathCorrelationEngine.java:399"
        },
        {
          "method": "org.eclipse.tptp.symptom.analysis.XPathCorrelationEngine.buildResults",
          "source": "XPathCorrelationEngine.java:282"
        },
        {
          "method": "org.eclipse.tptp.symptom.analysis.XPathCorrelationEngine.correlate",
          "source": "XPathCorrelationEngine.java:225"
        },
        {
          "method": "org.eclipse.hyades.logc.internal.util.AnalysisFacade.analyzeLog",
          "source": "AnalysisFacade.java:121"
        },
        {
          "method": "org.eclipse.hyades.sdb.internal.util.LogAnalyzerDelegator.correlate",
          "source": "LogAnalyzerDelegator.java:80"
        },
        {
          "method": "org.eclipse.tptp.platform.log.views.internal.actions.ExtendedAnalyzeAction$1.run",
          "source": "ExtendedAnalyzeAction.java:137"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:55"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "196374",
      "date": "2007-07-12T22:03:02+02:00",
      "product": "TPTP Profiling",
      "component": "Platform.Model",
      "severity": "critical"
    }
  ],
  "groupId": "196374",
  "bugId": "196374",
  "date": "2007-07-12T22:03:02+02:00",
  "product": "TPTP Profiling",
  "component": "Platform.Model",
  "severity": "critical"
}