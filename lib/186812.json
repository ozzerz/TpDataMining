{
  "comments": [
    "Build ID:  I20070503-1400\n\nSteps To Reproduce:\nI am using the simple osgi httpservice implementation (i.e. not the jetty based one).\n\nI have a bundle with a servlet that uses a class from another bundle that imports org.w3c.dom.* and javax.xml.parsers.* classes that are a part of java 1.4 and higher. When I access the servlet with a browser I get a classnotfoundexception for org.w3c.dom.Node, which is strange.\n\nThe error does not occur when testing with the jetty based implementation that I get when I test the bundles in eclipse (which launches the jetty based http service implementation), only when I launch the standalone equinox and use the simple httpservice implementation intended for embedded devices I get the exception.\n\nWorkaround:\nI managed to resolve the issue by explicitly importing org.w3c.dom and javax.xml.parsers in the bundle import packages. This makes the error go away. But it still seems strange to me that I need to declare dependencies on standard java classes when none of my bundles restrict execution environment in any way.\n\nMore information:",
    "Created an attachment (id\u003d68278)\nproposed patch\n\nHttpListener is an instance of Thread but isn\u0027t calling super() which does a lot of the Thread initialization like setting a name and relevant to this bug setting the Thread\u0027s Context Class Loader from the current thread. The HttpListener in turn creates the ThreadPool threads which do call super however at that point the TCCL is null so the value does not get propagated.\n\nThis patch has HttpListener call super().\n",
    "The fix is small and targetted and affects our abilities to use this service with any servlets that either directly or indirectly use the TCCL.\nWe should maybe consider this for rc2.",
    "is there any issue with the fact that we will not have a different TCCL with this patch?  people might be depending on the current (erroneous) behaviour.\n\nwould be good to get a couple people to review the fix and see what folks think about the risks...",
    "Untargetting.\n*sigh* this patch is totally unnecessary to initialize the Thread. The call to super() is of course implicit. In my defence it was late at night ;)\n\nI constructed a quick sample and could not reproduce this. The TCCL looks like it\u0027s set correctly so I have no idea why we\u0027re getting a ClassNotFoundException.\n\nJilles, could you provide a sample that demonstrates the problem, I followed your instructions but it worked for me.\n\n--\nAs an aside, it is \"always\" a good practice for your bundles to import all non-java.* package dependencies regardless if they\u0027re available in the JRE. The JRE is only checked as a last resort by Equinox\u0027s bundle class loader and you should not rely on this behaviour.",
    "not just good practice (importing non java.* packages), it is required by the spec.  It happens that in the default configuration of Equinox you will get access to more but in other configurations or on other frameworks your bundles may not work.\n",
    "Created an attachment (id\u003d69497)\ntestcase\n\nHere\u0027s a testcase that reproduces the problem (sorry it took some time to find a moment to do this).\n\nrecreate:\n1 import both projects to workspace; \n2 use export wizard to create plugins to the standalone distribution of equinox\n3 copy provided config.ini to configuration dir\n4 start equinox into console\n\nobserve the pluginA bundle has not started and that if you try to you will get the error. It might be possible to narrow the testcase further by removing pluginB, but this at least reproduces it.\n\nI understand from other comments that this might be behavior required by the spec. If so, why does it work with inside eclipse with the alternative httpservice implementation?",
    "Thanks Jilles,\n\nI still wasn\u0027t able to reproduce this.\n\nI see you were importing framework 1.4 so I tried a variety of older 3.3 milestones as well as RC2. I also tried a few different VMs with no problem.\nI was doing my tests on XP sp2\n\nCan you provide any additional environment info and version info for the VM and Eclipse -- that might help.\nThanks.\n",
    "One thing to look out for is the osgi.compatibility.bootdelegation\u003dfalse when running standalone. Perhaps take a look at bug 190275 as it seems similar.\n\nIs it possible you did your original testing on M6 but then ran into problems when you upgrader to M7 or RCx?\n\nTo be clear in my testing I has CNF exceptions for both equinox.http.jetty and the equinox.http without the imports and it worked with both when the imports were present.\n",
    "For the test case I unzipped eclipse equinox 3.3M7 release to a new directory (so absolutely clean install) and only added the two plugins (exported from eclipse 3.3M7 PDE). The config.ini I provided in test case basically only includes bundles that are actually required to run the test case. That doesn\u0027t include any JMX stuff as far as I know. I pasted the error output at the bottom of this comment.\n\nI use JDK 1.6.0_01 to launch it from the commandline (windows XP). The project where I found this issue is being tested on a Nokia N800 with jamvm and gnu classpath where we get exact same errors. So, this is unlikely to be issue with the java version or OS. Also no support for JMX is present in this release of gnu classpath 0.93.0 (I believe).\n\nI noticed while making the testcase that the problem doesn\u0027t surface until I actually put in some code that accesses parser classes. So having a Document foo() { return null; } is not good enough.\n\nI hope this helps you narrow it down. The issue is not critical for us since we can work around it by explicitly putting the imports in the manifest. Also we have decided to start using SUN\u0027s CDC 1.1 runtime for N800 instead of jamvm/gnu classpath.\n\nBTW. I\u0027m on vacation next two weeks and will be mostly offline and away from my eclipse workspace.\n\nHere\u0027s commandline output I get running the two bundles:\n\nC:\\Temp\\eclipse\\plugins\u003ejava -jar org.eclipse.osgi_3.3.0.v20070430.jar -console -clean\n\nosgi\u003e starting bar\nss\n\nFramework is launched.\n\nid      State       Bundle\n0       ACTIVE      org.eclipse.osgi_3.3.0.v20070430\n1       ACTIVE      org.eclipse.equinox.common_3.3.0.v20070426\n2       ACTIVE      org.eclipse.equinox.http_1.0.100.v20070423\n3       RESOLVED    org.eclipse.osgi.util_3.1.100.v20060918\n4       RESOLVED    org.eclipse.osgi.services_3.1.100.v20060918\n5       RESOLVED    javax.servlet_2.4.0.v200704241052\n6       RESOLVED    pluginB_1.0.0\n7       RESOLVED    pluginA_1.0.0\n\nosgi\u003e start 7\nstarting bar\norg.osgi.framework.BundleException: Exception in plugina.Activator.start() of bundle pluginA.\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:1018)\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:974)\n        at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:346)\n        at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:260)\n        at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:252)\n        at org.eclipse.osgi.framework.internal.core.FrameworkCommandProvider._start(FrameworkCommandProvider.java:260)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.lang.reflect.Method.invoke(Unknown Source)\n        at org.eclipse.osgi.framework.internal.core.FrameworkCommandInterpreter.execute(FrameworkCommandInterpreter.java:145)\n        at org.eclipse.osgi.framework.internal.core.FrameworkConsole.docommand(FrameworkConsole.java:291)\n        at org.eclipse.osgi.framework.internal.core.FrameworkConsole.console(FrameworkConsole.java:276)\n        at org.eclipse.osgi.framework.internal.core.FrameworkConsole.run(FrameworkConsole.java:218)\n        at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.NoClassDefFoundError: javax/xml/parsers/ParserConfigurationException\n        at plugina.Activator$1.addingService(Activator.java:20)\n        at org.osgi.util.tracker.ServiceTracker$Tracked.trackAdding(ServiceTracker.java:1064)\n        at org.osgi.util.tracker.ServiceTracker$Tracked.trackInitialServices(ServiceTracker.java:926)\n        at org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:330)\n        at org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:274)\n        at plugina.Activator.start(Activator.java:32)\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run(BundleContextImpl.java:999)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:993)\n        ... 14 more\nNested Exception:\njava.lang.NoClassDefFoundError: javax/xml/parsers/ParserConfigurationException\n        at plugina.Activator$1.addingService(Activator.java:20)\n        at org.osgi.util.tracker.ServiceTracker$Tracked.trackAdding(ServiceTracker.java:1064)\n        at org.osgi.util.tracker.ServiceTracker$Tracked.trackInitialServices(ServiceTracker.java:926)\n        at org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:330)\n        at org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:274)\n        at plugina.Activator.start(Activator.java:32)\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run(BundleContextImpl.java:999)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:993)\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:974)\n        at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:346)\n        at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:260)\n        at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:252)\n        at org.eclipse.osgi.framework.internal.core.FrameworkCommandProvider._start(FrameworkCommandProvider.java:260)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.lang.reflect.Method.invoke(Unknown Source)\n        at org.eclipse.osgi.framework.internal.core.FrameworkCommandInterpreter.execute(FrameworkCommandInterpreter.java:145)\n        at org.eclipse.osgi.framework.internal.core.FrameworkConsole.docommand(FrameworkConsole.java:291)\n        at org.eclipse.osgi.framework.internal.core.FrameworkConsole.console(FrameworkConsole.java:276)\n        at org.eclipse.osgi.framework.internal.core.FrameworkConsole.run(FrameworkConsole.java:218)\n        at java.lang.Thread.run(Unknown Source)\nNested Exception:\njava.lang.NoClassDefFoundError: javax/xml/parsers/ParserConfigurationException\n        at plugina.Activator$1.addingService(Activator.java:20)\n        at org.osgi.util.tracker.ServiceTracker$Tracked.trackAdding(ServiceTracker.java:1064)\n        at org.osgi.util.tracker.ServiceTracker$Tracked.trackInitialServices(ServiceTracker.java:926)\n        at org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:330)\n        at org.osgi.util.tracker.ServiceTracker.open(ServiceTracker.java:274)\n        at plugina.Activator.start(Activator.java:32)\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run(BundleContextImpl.java:999)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:993)\n        at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:974)\n        at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:346)\n        at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:260)\n        at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:252)\n        at org.eclipse.osgi.framework.internal.core.FrameworkCommandProvider._start(FrameworkCommandProvider.java:260)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.lang.reflect.Method.invoke(Unknown Source)\n        at org.eclipse.osgi.framework.internal.core.FrameworkCommandInterpreter.execute(FrameworkCommandInterpreter.java:145)\n        at org.eclipse.osgi.framework.internal.core.FrameworkConsole.docommand(FrameworkConsole.java:291)\n        at org.eclipse.osgi.framework.internal.core.FrameworkConsole.console(FrameworkConsole.java:276)\n        at org.eclipse.osgi.framework.internal.core.FrameworkConsole.run(FrameworkConsole.java:218)\n        at java.lang.Thread.run(Unknown Source)\n\nosgi\u003e",
    "Here\u0027s some more info about my environment from getprop\njava.vendor\u003dSun Microsystems Inc.\nsun.java.launcher\u003dSUN_STANDARD\norg.osgi.supports.framework.extension\u003dtrue\nsun.management.compiler\u003dHotSpot Client Compiler\nosgi.framework.beginningstartlevel\u003d1\nos.name\u003dWindows XP\nsun.boot.class.path\u003dC:\\Program Files\\Java\\jre1.6.0_01\\lib\\resources.jar;C:\\Program Files\\Java\\jre1.6.0_01\\lib\\rt.jar;C:\\Program Files\\Java\\jre1.6.0_01\\lib\\sunrs\nasign.jar;C:\\Program Files\\Java\\jre1.6.0_01\\lib\\jsse.jar;C:\\Program Files\\Java\\jre1.6.0_01\\lib\\jce.jar;C:\\Program Files\\Java\\jre1.6.0_01\\lib\\charsets.jar;C:\\Pro\ngram Files\\Java\\jre1.6.0_01\\classes\nosgi.ws\u003dwin32\nsun.desktop\u003dwindows\njava.vm.specification.vendor\u003dSun Microsystems Inc.\njava.runtime.version\u003d1.6.0_01-b06\nosgi.noShutdown\u003dtrue\nuser.name\u003djivangur\norg.osgi.framework.system.packages\u003djavax.accessibility,javax.activation,javax.activity,javax.annotation,javax.annotation.processing,javax.crypto,javax.crypto.in\nterfaces,javax.crypto.spec,javax.imageio,javax.imageio.event,javax.imageio.metadata,javax.imageio.plugins.bmp,javax.imageio.plugins.jpeg,javax.imageio.spi,javax\n.imageio.stream,javax.jws,javax.jws.soap,javax.lang.model,javax.lang.model.element,javax.lang.model.type,javax.lang.model.util,javax.management,javax.management\n.loading,javax.management.modelmbean,javax.management.monitor,javax.management.openmbean,javax.management.relation,javax.management.remote,javax.management.remo\nte.rmi,javax.management.timer,javax.naming,javax.naming.directory,javax.naming.event,javax.naming.ldap,javax.naming.spi,javax.net,javax.net.ssl,javax.print,java\nx.print.attribute,javax.print.attribute.standard,javax.print.event,javax.rmi,javax.rmi.CORBA,javax.rmi.ssl,javax.script,javax.security.auth,javax.security.auth.\ncallback,javax.security.auth.kerberos,javax.security.auth.login,javax.security.auth.spi,javax.security.auth.x500,javax.security.cert,javax.security.sasl,javax.s\nound.midi,javax.sound.midi.spi,javax.sound.sampled,javax.sound.sampled.spi,javax.sql,javax.sql.rowset,javax.sql.rowset.serial,javax.sql.rowset.spi,javax.swing,j\navax.swing.border,javax.swing.colorchooser,javax.swing.event,javax.swing.filechooser,javax.swing.plaf,javax.swing.plaf.basic,javax.swing.plaf.metal,javax.swing.\nplaf.multi,javax.swing.plaf.synth,javax.swing.table,javax.swing.text,javax.swing.text.html,javax.swing.text.html.parser,javax.swing.text.rtf,javax.swing.tree,ja\nvax.swing.undo,javax.tools,javax.transaction,javax.transaction.xa,javax.xml,javax.xml.bind,javax.xml.bind.annotation,javax.xml.bind.annotation.adapters,javax.xm\nl.bind.attachment,javax.xml.bind.helpers,javax.xml.bind.util,javax.xml.crypto,javax.xml.crypto.dom,javax.xml.crypto.dsig,javax.xml.crypto.dsig.dom,javax.xml.cry\npto.dsig.keyinfo,javax.xml.crypto.dsig.spec,javax.xml.datatype,javax.xml.namespace,javax.xml.parsers,javax.xml.soap,javax.xml.stream,javax.xml.stream.events,jav\nax.xml.stream.util,javax.xml.transform,javax.xml.transform.dom,javax.xml.transform.sax,javax.xml.transform.stax,javax.xml.transform.stream,javax.xml.validation,\njavax.xml.ws,javax.xml.ws.handler,javax.xml.ws.handler.soap,javax.xml.ws.http,javax.xml.ws.soap,javax.xml.ws.spi,javax.xml.xpath,org.ietf.jgss,org.omg.CORBA,org\n.omg.CORBA_2_3,org.omg.CORBA_2_3.portable,org.omg.CORBA.DynAnyPackage,org.omg.CORBA.ORBPackage,org.omg.CORBA.portable,org.omg.CORBA.TypeCodePackage,org.omg.CosN\naming,org.omg.CosNaming.NamingContextExtPackage,org.omg.CosNaming.NamingContextPackage,org.omg.Dynamic,org.omg.DynamicAny,org.omg.DynamicAny.DynAnyFactoryPackag\ne,org.omg.DynamicAny.DynAnyPackage,org.omg.IOP,org.omg.IOP.CodecFactoryPackage,org.omg.IOP.CodecPackage,org.omg.Messaging,org.omg.PortableInterceptor,org.omg.Po\nrtableInterceptor.ORBInitInfoPackage,org.omg.PortableServer,org.omg.PortableServer.CurrentPackage,org.omg.PortableServer.POAManagerPackage,org.omg.PortableServe\nr.POAPackage,org.omg.PortableServer.portable,org.omg.PortableServer.ServantLocatorPackage,org.omg.SendingContext,org.omg.stub.java.rmi,org.w3c.dom,org.w3c.dom.b\nootstrap,org.w3c.dom.events,org.w3c.dom.ls,org.xml.sax,org.xml.sax.ext,org.xml.sax.helpers\norg.osgi.framework.language\u003den\nuser.language\u003den\norg.osgi.framework.processor\u003dx86\nosgi.syspath\u003dc:\\Temp\\eclipse\\plugins\nsun.boot.library.path\u003dC:\\Program Files\\Java\\jre1.6.0_01\\bin\nosgi.manifest.cache\u003dC:\\Temp\\eclipse\\plugins\\configuration\\org.eclipse.osgi\\manifests\nosgi.compatibility.bootdelegation\u003dfalse\njava.version\u003d1.6.0_01\norg.osgi.framework.os.name\u003dWindowsXP\nuser.timezone\u003dEurope/Helsinki\nsun.arch.data.model\u003d32\nosgi.bundles\u003dorg.eclipse.equinox.common@2:start, org.eclipse.equinox.http@2:start, org.eclipse.osgi.util, org.eclipse.osgi.services, javax.servlet, pluginB, plu\nginA@2:start\njava.endorsed.dirs\u003dC:\\Program Files\\Java\\jre1.6.0_01\\lib\\endorsed\nsun.cpu.isalist\u003dpentium_pro+mmx pentium_pro pentium+mmx pentium i486 i386 i86\nsun.jnu.encoding\u003dCp1252\nfile.encoding.pkg\u003dsun.io\norg.osgi.framework.vendor\u003dEclipse\nfile.separator\u003d\\\njava.specification.name\u003dJava Platform API Specification\njava.class.version\u003d50.0\nuser.country\u003dUS\njava.home\u003dC:\\Program Files\\Java\\jre1.6.0_01\nosgi.os\u003dwin32\njava.vm.info\u003dmixed mode, sharing\nos.version\u003d5.1\nosgi.arch\u003dx86\npath.separator\u003d;\njava.vm.version\u003d1.6.0_01-b06\norg.osgi.supports.framework.fragment\u003dtrue\nosgi.console\u003d\nuser.variant\u003d\njava.awt.printerjob\u003dsun.awt.windows.WPrinterJob\nsun.io.unicode.encoding\u003dUnicodeLittle\norg.osgi.framework.version\u003d1.4.0\nawt.toolkit\u003dsun.awt.windows.WToolkit\nosgi.install.area\u003dfile:/C:/Temp/eclipse/plugins/\nosgi.framework\u003dfile:/C:/Temp/eclipse/plugins/org.eclipse.osgi_3.3.0.v20070430.jar\nuser.home\u003dC:\\Documents and Settings\\jivangur\nosgi.bundlestore\u003dC:\\Temp\\eclipse\\plugins\\configuration\\org.eclipse.osgi\\bundles\njava.specification.vendor\u003dSun Microsystems Inc.\nosgi.nl\u003den_US\njava.library.path\u003dC:\\WINNT\\system32;.;C:\\WINNT\\Sun\\Java\\bin;C:\\WINNT\\system32;C:\\WINNT;C:\\MiKTeX 2.5\\miktex\\bin;C:\\Program Files\\PC Connectivity Solution\\;C:\\ca\nrbidej\\Carbide_j\\bin;C:\\Perl\\bin\\;C:\\Program Files\\ThinkPad\\Utilities;C:\\WINNT\\system32;C:\\WINNT;C:\\WINNT\\System32\\Wbem;C:\\PROGRA~1\\PuTTY;C:\\Program Files\\ATI T\nechnologies\\ATI Control Panel;C:\\Program Files\\Common Files\\GTK\\2.0\\bin;C:\\Program Files\\Java\\jdk1.6.0_01\\bin;C:\\apache-ant-1.6.5\\bin;C:\\maven-2.0.4\\bin;c:\\axis\n2-1.0\\bin;C:\\Nokia\\Update_Manager\\bin;C:\\Program Files\\jEdit;C:\\php5;c:\\php5\\ext;C:\\Program Files\\Subversion\\bin;C:\\Program Files\\svk\\bin;C:\\Program Files\\Quick\nTime\\QTSystem\\\njava.vendor.url\u003dhttp://java.sun.com/\norg.osgi.framework.os.version\u003d5.1\neclipse.startTime\u003d1180683428031\njava.vm.vendor\u003dSun Microsystems Inc.\neclipse.ignoreApp\u003dtrue\njava.runtime.name\u003dJava(TM) SE Runtime Environment\njava.class.path\u003dorg.eclipse.osgi_3.3.0.v20070430.jar\njava.vm.specification.name\u003dJava Virtual Machine Specification\njava.vm.specification.version\u003d1.0\nsun.cpu.endian\u003dlittle\nsun.os.patch.level\u003dService Pack 2\njava.io.tmpdir\u003dC:\\DOCUME~1\\jivangur\\LOCALS~1\\Temp\\\njava.vendor.url.bug\u003dhttp://java.sun.com/cgi-bin/bugreport.cgi\nos.arch\u003dx86\njava.awt.graphicsenv\u003dsun.awt.Win32GraphicsEnvironment\njava.ext.dirs\u003dC:\\Program Files\\Java\\jre1.6.0_01\\lib\\ext;C:\\WINNT\\Sun\\Java\\lib\\ext\nuser.dir\u003dC:\\Temp\\eclipse\\plugins\norg.osgi.supports.framework.requirebundle\u003dtrue\nosgi.clean\u003dtrue\nline.separator\u003d\n\njava.vm.name\u003dJava HotSpot(TM) Client VM\neclipse.ee.install.verify\u003dfalse\nfile.encoding\u003dCp1252\nosgi.framework.version\u003d3.3.0.v20070430\njava.specification.version\u003d1.6\norg.osgi.framework.executionenvironment\u003dOSGi/Minimum-1.0,OSGi/Minimum-1.1,JRE-1.1,J2SE-1.2,J2SE-1.3,J2SE-1.4,J2SE-1.5,JavaSE-1.6\nosgi.logfile\u003dC:\\Temp\\eclipse\\plugins\\configuration\\1180683428156.log\nosgi.configuration.area\u003dfile:/C:/Temp/eclipse/plugins/configuration/",
    "The reason this works OK inside Eclipse and fails outside is the difference in class loading behavior in these two configuration. Until M7, the default behavior that you get access to all packages found in the JDK without needing to import them.\n\nAfter M7, it is required that you import all packages except java.* The workaround is not really a workaround, it is the correct way to do this.",
    "I\u0027m  getting the same CNF error as you here when use org.eclipse.equinox.http. This is expected since \"osgi.compatibility.bootdelegation\u003dfalse\" is set when you launch standalone.\n\nWhat I can\u0027t duplicate is success in the same environment with Jetty.\ne.g. I get the same CNF errors when I use org.eclipse.equinox.http.jetty"
  ],
  "commentCreationDates": [
    "2007-05-14T17:26:54+02:00",
    "2007-05-23T07:13:13+02:00",
    "2007-05-23T07:18:39+02:00",
    "2007-05-23T15:32:58+02:00",
    "2007-05-23T17:45:39+02:00",
    "2007-05-23T18:00:32+02:00",
    "2007-05-31T13:23:18+02:00",
    "2007-05-31T16:18:01+02:00",
    "2007-05-31T20:35:06+02:00",
    "2007-06-01T09:42:41+02:00",
    "2007-06-01T09:50:50+02:00",
    "2007-06-01T10:00:45+02:00",
    "2007-06-01T10:14:02+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.osgi.framework.BundleException",
      "message": "Exception in plugina.Activator.start() of bundle pluginA.",
      "elements": [
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator",
          "source": "BundleContextImpl.java:1018"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.start",
          "source": "BundleContextImpl.java:974"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleHost.startWorker",
          "source": "BundleHost.java:346"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.AbstractBundle.start",
          "source": "AbstractBundle.java:260"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.AbstractBundle.start",
          "source": "AbstractBundle.java:252"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkCommandProvider._start",
          "source": "FrameworkCommandProvider.java:260"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkCommandInterpreter.execute",
          "source": "FrameworkCommandInterpreter.java:145"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkConsole.docommand",
          "source": "FrameworkConsole.java:291"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkConsole.console",
          "source": "FrameworkConsole.java:276"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkConsole.run",
          "source": "FrameworkConsole.java:218"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Unknown Source"
        }
      ],
      "causedBy": {
        "exceptionType": "javax.xml.parsers.ParserConfigurationException",
        "elements": [
          {
            "method": "plugina.Activator$1.addingService",
            "source": "Activator.java:20"
          },
          {
            "method": "org.osgi.util.tracker.ServiceTracker$Tracked.trackAdding",
            "source": "ServiceTracker.java:1064"
          },
          {
            "method": "org.osgi.util.tracker.ServiceTracker$Tracked.trackInitialServices",
            "source": "ServiceTracker.java:926"
          },
          {
            "method": "org.osgi.util.tracker.ServiceTracker.open",
            "source": "ServiceTracker.java:330"
          },
          {
            "method": "org.osgi.util.tracker.ServiceTracker.open",
            "source": "ServiceTracker.java:274"
          },
          {
            "method": "plugina.Activator.start",
            "source": "Activator.java:32"
          },
          {
            "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run",
            "source": "BundleContextImpl.java:999"
          },
          {
            "method": "java.security.AccessController.doPrivileged",
            "source": "Native Method"
          },
          {
            "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator",
            "source": "BundleContextImpl.java:993"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 9,
      "bugId": "186812",
      "date": "2007-06-01T09:42:41+02:00",
      "product": "Equinox",
      "component": "Bundles",
      "severity": "normal"
    },
    {
      "exceptionType": "javax.xml.parsers.ParserConfigurationException",
      "elements": [
        {
          "method": "plugina.Activator$1.addingService",
          "source": "Activator.java:20"
        },
        {
          "method": "org.osgi.util.tracker.ServiceTracker$Tracked.trackAdding",
          "source": "ServiceTracker.java:1064"
        },
        {
          "method": "org.osgi.util.tracker.ServiceTracker$Tracked.trackInitialServices",
          "source": "ServiceTracker.java:926"
        },
        {
          "method": "org.osgi.util.tracker.ServiceTracker.open",
          "source": "ServiceTracker.java:330"
        },
        {
          "method": "org.osgi.util.tracker.ServiceTracker.open",
          "source": "ServiceTracker.java:274"
        },
        {
          "method": "plugina.Activator.start",
          "source": "Activator.java:32"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run",
          "source": "BundleContextImpl.java:999"
        },
        {
          "method": "java.security.AccessController.doPrivileged",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator",
          "source": "BundleContextImpl.java:993"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.start",
          "source": "BundleContextImpl.java:974"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleHost.startWorker",
          "source": "BundleHost.java:346"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.AbstractBundle.start",
          "source": "AbstractBundle.java:260"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.AbstractBundle.start",
          "source": "AbstractBundle.java:252"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkCommandProvider._start",
          "source": "FrameworkCommandProvider.java:260"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkCommandInterpreter.execute",
          "source": "FrameworkCommandInterpreter.java:145"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkConsole.docommand",
          "source": "FrameworkConsole.java:291"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkConsole.console",
          "source": "FrameworkConsole.java:276"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkConsole.run",
          "source": "FrameworkConsole.java:218"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Unknown Source"
        }
      ],
      "number": 1,
      "commentIndex": 9,
      "bugId": "186812",
      "date": "2007-06-01T09:42:41+02:00",
      "product": "Equinox",
      "component": "Bundles",
      "severity": "normal"
    },
    {
      "exceptionType": "javax.xml.parsers.ParserConfigurationException",
      "elements": [
        {
          "method": "plugina.Activator$1.addingService",
          "source": "Activator.java:20"
        },
        {
          "method": "org.osgi.util.tracker.ServiceTracker$Tracked.trackAdding",
          "source": "ServiceTracker.java:1064"
        },
        {
          "method": "org.osgi.util.tracker.ServiceTracker$Tracked.trackInitialServices",
          "source": "ServiceTracker.java:926"
        },
        {
          "method": "org.osgi.util.tracker.ServiceTracker.open",
          "source": "ServiceTracker.java:330"
        },
        {
          "method": "org.osgi.util.tracker.ServiceTracker.open",
          "source": "ServiceTracker.java:274"
        },
        {
          "method": "plugina.Activator.start",
          "source": "Activator.java:32"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run",
          "source": "BundleContextImpl.java:999"
        },
        {
          "method": "java.security.AccessController.doPrivileged",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator",
          "source": "BundleContextImpl.java:993"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.start",
          "source": "BundleContextImpl.java:974"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleHost.startWorker",
          "source": "BundleHost.java:346"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.AbstractBundle.start",
          "source": "AbstractBundle.java:260"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.AbstractBundle.start",
          "source": "AbstractBundle.java:252"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkCommandProvider._start",
          "source": "FrameworkCommandProvider.java:260"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkCommandInterpreter.execute",
          "source": "FrameworkCommandInterpreter.java:145"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkConsole.docommand",
          "source": "FrameworkConsole.java:291"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkConsole.console",
          "source": "FrameworkConsole.java:276"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkConsole.run",
          "source": "FrameworkConsole.java:218"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Unknown Source"
        }
      ],
      "number": 2,
      "commentIndex": 9,
      "bugId": "186812",
      "date": "2007-06-01T09:42:41+02:00",
      "product": "Equinox",
      "component": "Bundles",
      "severity": "normal"
    }
  ],
  "groupId": "186812",
  "bugId": "186812",
  "date": "2007-05-14T17:26:54+02:00",
  "product": "Equinox",
  "component": "Bundles",
  "severity": "normal"
}