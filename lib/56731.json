{
  "comments": [
    "Test case\n1) open an 3.0M8 eclipse\n2) import all plugins as binary\n3) import jdtcore from JDK_1_5 stream\n4) create a new launch configuration with 1.5.0 jre and launch it\n5) create a java project P\n6) create a class X.java\n7) export workspace preferences in \"pref.epf\"\n8) add the follwoing line in this file\n   /instance/org.eclipse.jdt.core/org.eclipse.jdt.core.compiler.source\u003d1.5\n9) import the preferences file\n10) paste the following code in X.java and compile\n--------------------------------------------------\npublic class X  \u003cT extends AX\u003c? super int\u003e\u003e { \n    public static void main(String[] args) { \n\t\tAX\u003cString\u003e ax; \n\t\tSystem.out.println(\"SUCCESS\"); \n\t} \n\tvoid foo(X\u003c?\u003e x) { \n\t} \n} \n \nclass AX\u003cP\u003e { \n}\n---------------------------------------------------\n\na NPE occurs\n\njava.lang.NullPointerException\n\tat org.eclipse.jdt.internal.compiler.classfmt.ClassFileStruct.u2At\n(ClassFileStruct.java:71)\n\tat \norg.eclipse.jdt.internal.compiler.classfmt.FieldInfo.getGenericSignature\n(FieldInfo.java:85)\n\tat \norg.eclipse.jdt.internal.compiler.lookup.BinaryTypeBinding.createFields\n(BinaryTypeBinding.java:206)\n\tat \norg.eclipse.jdt.internal.compiler.lookup.BinaryTypeBinding.cachePartsFrom\n(BinaryTypeBinding.java:191)\n\tat \norg.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.createBinaryTypeFrom\n(LookupEnvironment.java:316)\n\tat \norg.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.createBinaryTypeFrom\n(LookupEnvironment.java:299)\n\tat org.eclipse.jdt.internal.compiler.Compiler.accept(Compiler.java:191)\n\tat org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType\n(LookupEnvironment.java:83)\n\tat \norg.eclipse.jdt.internal.compiler.lookup.UnresolvedReferenceBinding.resolve\n(UnresolvedReferenceBinding.java:30)\n\tat org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getType\n(PackageBinding.java:127)\n\tat org.eclipse.jdt.internal.compiler.lookup.Scope.findType\n(Scope.java:769)\n\tat org.eclipse.jdt.internal.compiler.lookup.Scope.getTypeOrPackage\n(Scope.java:1479)\n\tat org.eclipse.jdt.internal.compiler.lookup.Scope.getType\n(Scope.java:1263)\n\tat \norg.eclipse.jdt.internal.compiler.ast.ArrayTypeReference.getTypeBinding\n(ArrayTypeReference.java:42)\n\tat org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType\n(TypeReference.java:110)\n\tat \norg.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.resolveTypesFor\n(SourceTypeBinding.java:802)\n\tat org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.methods\n(SourceTypeBinding.java:665)\n\tat \norg.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.faultInTypesForFields\nAndMethods(SourceTypeBinding.java:344)\n\tat \norg.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.faultInTypes\n(CompilationUnitScope.java:344)\n\tat org.eclipse.jdt.internal.compiler.Compiler.resolve(Compiler.java:574)\n\tat org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process\n(CompilationUnitProblemFinder.java:174)\n\tat org.eclipse.jdt.internal.core.CompilationUnit.buildStructure\n(CompilationUnit.java:145)\n\tat org.eclipse.jdt.internal.core.Openable.generateInfos\n(Openable.java:169)\n\tat org.eclipse.jdt.internal.core.JavaElement.openWhenClosed\n(JavaElement.java:543)\n\tat org.eclipse.jdt.internal.core.CompilationUnit.makeConsistent\n(CompilationUnit.java:939)\n\tat \norg.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.executeOperation\n(ReconcileWorkingCopyOperation.java:56)\n\tat org.eclipse.jdt.internal.core.JavaModelOperation.run\n(JavaModelOperation.java:700)\n\tat org.eclipse.jdt.internal.core.JavaModelOperation.runOperation\n(JavaModelOperation.java:739)\n\tat org.eclipse.jdt.internal.core.CompilationUnit.reconcile\n(CompilationUnit.java:1051)\n\tat \norg.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile\n(JavaReconcilingStrategy.java:85)\n\tat \norg.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile\n(JavaReconcilingStrategy.java:116)\n\tat \norg.eclipse.jface.text.reconciler.CompositeReconcilingStrategy.reconcile\n(CompositeReconcilingStrategy.java:83)\n\tat \norg.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.reconcile\n(JavaCompositeReconcilingStrategy.java:97)\n\tat org.eclipse.jface.text.reconciler.MonoReconciler.process\n(MonoReconciler.java:76)\n\tat \norg.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run\n(AbstractReconciler.java:189)",
    "With latest code, the error is:\n\n----------\n1. ERROR in C:\\tests_sources\\X2.java (at line 1)\n\tpublic class X2  \u003cT extends AX\u003c? super int\u003e\u003e { \n\t                                       ^^^\nSyntax error on token \"int\", Dimensions expected after this token\n----------\n1 problem (1 error)\n\nNo more NPE.\nOk to close?",
    "NPE still occur for me with I20040330 + JDK_1_5",
    "It fails in the Java model. I don\u0027t think this is done using 1.5 parser and\nconstruct.\nSimply compiling this code is not an issue.",
    "The getGenericSignature() needs to be called in the initialize() method of the\nFieldInfo. Otherwise we end up with a NPE.\nFixed and released in 1.5 stream."
  ],
  "commentCreationDates": [
    "2004-03-30T14:22:20+02:00",
    "2004-03-31T20:23:21+02:00",
    "2004-04-01T10:36:26+02:00",
    "2004-04-01T16:54:31+02:00",
    "2004-04-01T18:53:23+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.classfmt.ClassFileStruct.u2At",
          "source": "ClassFileStruct.java:71"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.classfmt.FieldInfo.getGenericSignature",
          "source": "FieldInfo.java:85"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.BinaryTypeBinding.createFields",
          "source": "BinaryTypeBinding.java:206"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.BinaryTypeBinding.cachePartsFrom",
          "source": "BinaryTypeBinding.java:191"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.createBinaryTypeFrom",
          "source": "LookupEnvironment.java:316"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.createBinaryTypeFrom",
          "source": "LookupEnvironment.java:299"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.accept",
          "source": "Compiler.java:191"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType",
          "source": "LookupEnvironment.java:83"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.UnresolvedReferenceBinding.resolve",
          "source": "UnresolvedReferenceBinding.java:30"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getType",
          "source": "PackageBinding.java:127"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.Scope.findType",
          "source": "Scope.java:769"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.Scope.getTypeOrPackage",
          "source": "Scope.java:1479"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.Scope.getType",
          "source": "Scope.java:1263"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.ArrayTypeReference.getTypeBinding",
          "source": "ArrayTypeReference.java:42"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType",
          "source": "TypeReference.java:110"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.resolveTypesFor",
          "source": "SourceTypeBinding.java:802"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.methods",
          "source": "SourceTypeBinding.java:665"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.faultInTypesForFieldsAndMethods",
          "source": "SourceTypeBinding.java:344"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.faultInTypes",
          "source": "CompilationUnitScope.java:344"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.resolve",
          "source": "Compiler.java:574"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process",
          "source": "CompilationUnitProblemFinder.java:174"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.buildStructure",
          "source": "CompilationUnit.java:145"
        },
        {
          "method": "org.eclipse.jdt.internal.core.Openable.generateInfos",
          "source": "Openable.java:169"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaElement.openWhenClosed",
          "source": "JavaElement.java:543"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.makeConsistent",
          "source": "CompilationUnit.java:939"
        },
        {
          "method": "org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.executeOperation",
          "source": "ReconcileWorkingCopyOperation.java:56"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.run",
          "source": "JavaModelOperation.java:700"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.runOperation",
          "source": "JavaModelOperation.java:739"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.reconcile",
          "source": "CompilationUnit.java:1051"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile",
          "source": "JavaReconcilingStrategy.java:85"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile",
          "source": "JavaReconcilingStrategy.java:116"
        },
        {
          "method": "org.eclipse.jface.text.reconciler.CompositeReconcilingStrategy.reconcile",
          "source": "CompositeReconcilingStrategy.java:83"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.reconcile",
          "source": "JavaCompositeReconcilingStrategy.java:97"
        },
        {
          "method": "org.eclipse.jface.text.reconciler.MonoReconciler.process",
          "source": "MonoReconciler.java:76"
        },
        {
          "method": "org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run",
          "source": "AbstractReconciler.java:189"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "56731",
      "date": "2004-03-30T14:22:20+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "56731",
  "bugId": "56731",
  "date": "2004-03-30T14:22:20+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}