{
  "comments": [
    "Build 20040219\n\nIf my self-hosted workspace (all plugins as binaries) doesn\u0027t match exactly my \nSDK, then JUnit launch configs will refuse to run.\n\n!SESSION ----------------------------------------------------------------------\n!ENTRY org.eclipse.core.launcher 4 0 Feb 26, 2004 11:33:53.901\n!MESSAGE Exception launching the Eclipse Platform:\n!STACK\njava.lang.IllegalStateException: Bundle \nreference:file:D:/eclipse/workspaces/dev3.0-1.5/plugins/org.eclipse.osgi.util/ \n[2] is not active\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.ensureBundlesActive\n(EclipseStarter.java:123)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:93)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:279)\n\tat org.eclipse.core.launcher.Main.run(Main.java:742)\n\tat org.eclipse.core.launcher.Main.main(Main.java:581)\n\n\nCould not uninstall unused bundle reference:file:D:/eclipse/workspaces/dev3.0-\n1.5/plugins/org.eclipse.update.configurator/\nIgnoring bundle at: reference:file:d:/eclipse/sdk/plugins/org.apache.ant_1.6.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.apache.lucene_1.3.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.apache.xerces_4.0.13\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.ant.core_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.ant.ui_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.compare_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.core.filebuffers_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.core.resources.win32_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.core.resources_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.core.runtime.compatibility_3.0\n.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.core.runtime_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.core.variables_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.debug.core_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.debug.ui_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.help.appserver_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.help.base_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.help.ide_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.help.ui_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.help.webapp_3.0.0\nIgnoring bundle at: reference:file:d:/eclipse/sdk/plugins/org.eclipse.help_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.jdt.core_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.jdt.debug.ui_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.jdt.debug_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.jdt.doc.isv_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.jdt.doc.user_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.jdt.junit.runtime_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.jdt.junit_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.jdt.launching.j9_2.1.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.jdt.launching_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.jdt.source_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.jdt.ui_3.0.0\nIgnoring bundle at: reference:file:d:/eclipse/sdk/plugins/org.eclipse.jdt_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.jface.text_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.jface_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.pde.build_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.pde.core_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.pde.doc.user_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.pde.junit.runtime_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.pde.runtime_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.pde.source_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.pde.ui_3.0.0\nIgnoring bundle at: reference:file:d:/eclipse/sdk/plugins/org.eclipse.pde_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.platform.doc.isv_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.platform.doc.user_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.platform.source.win32.win32.x8\n6_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.platform.source_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.platform_3.0.0\nIgnoring bundle at: reference:file:d:/eclipse/sdk/plugins/org.eclipse.sdk_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.search_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.swt.win32_3.0.0\nIgnoring bundle at: reference:file:d:/eclipse/sdk/plugins/org.eclipse.swt_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.team.core_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.team.cvs.core_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.team.cvs.ssh2_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.team.cvs.ssh_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.team.cvs.ui_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.team.ui_3.0.0\nIgnoring bundle at: reference:file:d:/eclipse/sdk/plugins/org.eclipse.text_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.tomcat_4.1.29\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.ui.console_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.ui.editors_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.ui.externaltools_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.ui.ide_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.ui.versioncheck_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.ui.views_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.ui.win32_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.ui.workbench.compatibility_3.0\n.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.ui.workbench.texteditor_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.ui.workbench_3.0.0\nIgnoring bundle at: reference:file:d:/eclipse/sdk/plugins/org.eclipse.ui_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.update.configurator_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.update.core.win32_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.update.core_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.update.scheduler_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.update.ui.forms_3.0.0\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/org.eclipse.update.ui_3.0.0\nIgnoring bundle at: reference:file:d:/eclipse/sdk/plugins/org.junit_3.8.1\nIgnoring bundle at: \nreference:file:d:/eclipse/sdk/plugins/ru.nlmk.eclipse.plugins.profiler",
    "Philippe, what do you mean by \"not matching exactly my SDK\"?\nWhat build are you using for target platform? host platform?\n\nDorian, Jeff,\nThis is the same problem with \"ignoring\" bundles, except that it is at a much \nlarger scale here.  Please shed some light.",
    "These messages come from the update configurator. It appears that the \nsame .config is used in two lunches, but the set of automatically started \nplugins (including the update configurator) in the current session is \ndifferent that the ones previously ran. I will try to reproduce it on my \nmachine.",
    "My SDK is 20040225, and my workspace contents was 20040219 (but the target \nplatform is set to 20040225). \n\nI usually use one SDK to run all my workspaces (could even be workspace holding \na 2.1.x content).",
    "Philippe, can you attach the platform.xml in the \nworkspace/.metadata/.plugins/org.eclipse.pde.core/xxxxx-runtime-worbench-\nworskpace/platformx.xml ?\n\nOn my machine, I\u0027ve seen some situations when PDE provided an apparently \nincorrect platform.xml, with some plugins being picked twice (with different \nurl\u0027s), from both the workspace and from the target directory.",
    "Side note that is unrelated to this defect:\nPhilippe, when you have 2.1 content in your workspace, always make sure you \npoint your target platform to a 2.1-based platform.  \nThe whole self-hosting story is based on the target platform being set up \ncorrectly.  It is the sole deciding factor whether PDE should do things in \nbackward compatibility or OSGi modes.",
    "\u003eOn my machine, I\u0027ve seen some situations when PDE provided an apparently \n\u003eincorrect platform.xml, with some plugins being picked twice (with different \n\u003eurl\u0027s), from both the workspace and from the target directory.\n\nThere is absolutely no way that PDE could be passing two copies of a certain \nplug-in to Update when creating a configuration.",
    "\"There is absolutely no way that PDE could be passing two copies of a certain \nplug-in to Update when creating a configuration.\"\n\nAsk Dejan, I showed him proof (org.eclipse.swt was one of those plugins) :-)",
    "I reenacted Philippe\u0027s scenario:\n1. I launched 0225 on a fresh workspace.\n2. I imported all the plug-ins from 0219 into my workspace.\n3. The target platform is set to 0225.\n4. I tried to launch, but it failed.\nI will attach both the .log file and the platform.xml.  \nI did not however get the stack that Philippe got.\n\nI suspect the problem lies with the fact that when we launch we use the \nstartup.jar from the target platform.  Therefore, people must specify the \ncorrect target platform for things to run smoothly.\n\nFor a long time, this had not been a problem because startup.jar in the 2.x \ncycle remained unchanged for the longest time.  So people could get away with \nnot changing the target platform, but that was nothing more than a happy \naccident.\n\nI tried the same scenario, but with the 0226 as target platform, and \ninterestingly, it failed for a different reason.  I guess Core changed things \nbetween the 0225 and 0226.\n\nJeff, I\u0027m not sure this is a problem we or you or anyone could address.  All \nwe ask is that the user simply points to the target platform that is compliant \nwith the plug-ins in his workspace.",
    "Created an attachment (id\u003d8200)\nplatform.xml showing all plug-ins come from workspace with no dups\n",
    "Created an attachment (id\u003d8201)\nconfig ini file showing all osgi bundles coming from workspace\n",
    "Created an attachment (id\u003d8202)\nLog file\n",
    "Actually, I don\u0027t think the problem is with startup.jar after all.\n\nI think the problem is that PDE in 0225 (host platform) produces a \nplatform.xml file, while the update.configuration in my workspace (imported \nfrom 0219) is expecting a platform.cfg.\n\nDorian, please validate whether or not this is the case.  I suspect that my \ntheory is true because even when I set my target platform to 0219, it still \nfailed with the same log.\n\nAs of this week\u0027s I-build, PDE generates a platform.xml if in OSGi mode, and a \nlegacy 2.1 platform.cfg otherwise.\n\n",
    "Yes, starting with the I 0225 build, the update configurator expects a \nplatform.xml to be created by PDE. This is a change from the previous build \nwhen the config was saved in the platform.cfg.\n",
    "In summary,\nIn 0225, update.configurator expects a \"platform.xml\" and PDE generates one \nfor it.\nIn 0219, update.configurator expects a \"platform.cfg\" and PDE generates one \nfor it.\n\nTherefore, using 0225 as host, PDE generates a platform.xml that is not \nunderstood by the update.configurator that has been imported from 0219 into \nthe workspace.\n\nWhile we apologize for the inconvenience (and heartache ;-) this may have \ncaused Philippe, it is important to note that core runtime and update are \nstill moving targets.  So while PDE certainly has backward compatibility for \n2.x., we cannot provide backward compatiblity at this fine granularity (i.e. \nat a build date level \u003cg\u003e).  ",
    "Re-opening...",
    "We need to address this in a temporary solution, so that we don\u0027t get an \ninflux of bug reports when M8 comes out saying that you can\u0027t use it to target \nM7.\n\nSince PDE can\u0027t determine whether the version of update.configurator in the \ntarget platform requires a platform.cfg or a plaform.xml.  PDE will generate \nboth, and the update.configurator can just pick the one that it wants and \nignore the other one.  The platform.cfg that we generate is the same one that \nwe generate for 2.x backward compatibility.\n\nI just tested this solution on 2.x, 3.0 that uses platform.cfg and 3.0 that \nuses platform.xml and it worked without problems.\n\nOf course, this is a temporary solution that will be removed from the code in \n3.0M9."
  ],
  "commentCreationDates": [
    "2004-02-26T10:48:36+01:00",
    "2004-02-26T14:19:40+01:00",
    "2004-02-26T15:15:25+01:00",
    "2004-02-26T16:37:36+01:00",
    "2004-02-26T16:49:29+01:00",
    "2004-02-26T17:00:24+01:00",
    "2004-02-26T17:04:53+01:00",
    "2004-02-26T17:32:58+01:00",
    "2004-02-27T04:12:46+01:00",
    "2004-02-27T04:15:08+01:00",
    "2004-02-27T04:15:52+01:00",
    "2004-02-27T04:16:50+01:00",
    "2004-02-27T04:58:50+01:00",
    "2004-02-27T15:02:34+01:00",
    "2004-02-27T18:40:11+01:00",
    "2004-03-02T06:46:14+01:00",
    "2004-03-02T06:51:02+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalStateException",
      "message": "Bundle  reference:file:D:/eclipse/workspaces/dev3.0-1.5/plugins/org.eclipse.osgi.util/  [2] is not active",
      "elements": [
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.ensureBundlesActive",
          "source": "EclipseStarter.java:123"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:93"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:279"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:742"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:581"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "53159",
      "date": "2004-02-26T10:48:36+01:00",
      "product": "PDE",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "53159",
  "bugId": "53159",
  "date": "2004-02-26T10:48:36+01:00",
  "product": "PDE",
  "component": "UI",
  "severity": "major"
}