{
  "comments": [
    "build I20050426-1700\n\n- launched target workspace\n- shutdown as soon as it came up\n- saw the following in the console\n\nIt looks like the Java builder was still executing while plug-ins were being\nshut down.\n\njava.lang.NoClassDefFoundError:\norg.eclipse.jdt.internal.compiler.lookup.MemberTypeBinding\n\tat java.lang.Class.verifyImpl(Native Method)\n\tat java.lang.Class.verify(Class.java:253)\n\tat java.lang.Class.initialize(Class.java:315)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.buildTypeBindings(CompilationUnitScope.java:120)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.buildTypeBindings(LookupEnvironment.java:144)\n\tat org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:292)\n\tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:315)\n\tat\norg.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:240)\n\tat\norg.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:190)\n\tat\norg.eclipse.jdt.internal.core.builder.BatchImageBuilder.build(BatchImageBuilder.java:50)\n\tat org.eclipse.jdt.internal.core.builder.JavaBuilder.buildAll(JavaBuilder.java:213)\n\tat org.eclipse.jdt.internal.core.builder.JavaBuilder.build(JavaBuilder.java:141)\n\tat org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:585)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1026)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:757)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:168)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:202)\n\tat org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:231)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1026)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:757)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:234)\n\tat\norg.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:253)\n\tat org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:282)\n\tat org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:139)\n\tat org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:200)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)",
    "Expectation:\n- builders either finish fully or are canceled before core resources shuts down\n",
    "I believe we are currently doing everything possible in core.resources to\nprevent this from happening:\n\n - The autobuild job is canceled on shutdown\n - The autobuild job will never start a new builder if the system is currently\nbeing shut down (by checking system bundle state).\n\nUnfortunately, it will still be possible to get this error.  The builder might\nnot have checked for cancelation quickly enough.  Also, since JDT core is shut\ndown before core.resources, it will start to fail on class loads before we get a\nchance to cancel builds.\n\nIt would be nice if we could improve the error message at the runtime level in\nthis case.  If this is actually a case of a plugin that is trying to load a\nclass after its plugin has shut down, that should somehow be indicated in the\nerror message.",
    "Perhaps the initial diagnosis is wrong.  I noticed this in my log, from a\nsimilar situation where the builder was running after JDT had shut down.  Notice\nin my case that the ClassNotFoundException explains the cause, but in Nick\u0027s\ncase it does not.  I wonder if Nick is seeing a different problem.\n\njava.lang.ClassNotFoundException: The class\n\"org.eclipse.jdt.internal.compiler.lookup.UnresolvedReferenceBinding\" cannot be\nloaded because the system is shutting down and the plug-in\n\"org.eclipse.jdt.core\" has already been stopped.\n",
    "*** Bug 96900 has been marked as a duplicate of this bug. ***",
    "\n\n*** This bug has been marked as a duplicate of 99384 ***"
  ],
  "commentCreationDates": [
    "2005-04-29T17:46:19+02:00",
    "2005-04-29T17:46:55+02:00",
    "2005-05-02T16:55:52+02:00",
    "2005-05-02T22:37:56+02:00",
    "2005-05-27T16:26:00+02:00",
    "2005-06-17T22:08:47+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoClassDefFoundError",
      "message": "org.eclipse.jdt.internal.compiler.lookup.MemberTypeBinding",
      "elements": [
        {
          "method": "java.lang.Class.verifyImpl",
          "source": "Native Method"
        },
        {
          "method": "java.lang.Class.verify",
          "source": "Class.java:253"
        },
        {
          "method": "java.lang.Class.initialize",
          "source": "Class.java:315"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.buildTypeBindings",
          "source": "CompilationUnitScope.java:120"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.buildTypeBindings",
          "source": "LookupEnvironment.java:144"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.beginToCompile",
          "source": "Compiler.java:292"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:315"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile",
          "source": "AbstractImageBuilder.java:240"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile",
          "source": "AbstractImageBuilder.java:190"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.BatchImageBuilder.build",
          "source": "BatchImageBuilder.java:50"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.JavaBuilder.buildAll",
          "source": "JavaBuilder.java:213"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.JavaBuilder.build",
          "source": "JavaBuilder.java:141"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$2.run",
          "source": "BuildManager.java:585"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1026"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:757"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:168"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:202"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$1.run",
          "source": "BuildManager.java:231"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1026"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:757"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:234"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuildLoop",
          "source": "BuildManager.java:253"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.build",
          "source": "BuildManager.java:282"
        },
        {
          "method": "org.eclipse.core.internal.events.AutoBuildJob.doBuild",
          "source": "AutoBuildJob.java:139"
        },
        {
          "method": "org.eclipse.core.internal.events.AutoBuildJob.run",
          "source": "AutoBuildJob.java:200"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:67"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "93280",
      "duplicateId": "99384",
      "date": "2005-04-29T17:46:19+02:00",
      "product": "Platform",
      "component": "Runtime",
      "severity": "normal"
    }
  ],
  "groupId": "99384",
  "bugId": "93280",
  "duplicateId": "99384",
  "date": "2005-04-29T17:46:19+02:00",
  "product": "Platform",
  "component": "Runtime",
  "severity": "normal"
}