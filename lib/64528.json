{
  "comments": [
    "Hi,\nI had defined a policy aspect to detect all System.out and System.err usages:\n\npublic aspect DetectSystemOutErrorUsage \n{\n pointcut allSystemOutAndSystemErrAccesses(): \n  (get(* System.out) || get(* System.err))\n  \u0026\u0026 !adviceexecution();\n \n declare warning: \n  allSystemOutAndSystemErrAccesses() \n  \u0026\u0026 !within(myproject.test..*) // we don\u0027t care about test code\n  \u0026\u0026 !within(myproject.log..*) // and the Log-package can log to whereever it \nwants to...\n\u003e\u003e  \u0026\u0026 !withincode(* myproject.Test.create(..)) // the logger is only created \nin that method, so we must not log calls to this method\n  : \"Warning: use of System.out or System.err - consider logging instead!\";\n}\n\nThis advice was working fine. But then I added the line marked with \u003e\u003e since it \nalso complained about the create() method, in which I create the logger and if \nthat fails I write a message to System.err about the failed logger creation. \nThis should not yield a warning, so I wanted to exclude that from the pointcut.\n\nBut If I add that to the aspect and then re-compile my project I get a null-\npointer exception:\n\nExcept from the eclipse log:\n-------------------------------------------------------\n...\neclipse.buildId\u003dI200405211200\njava.version\u003d1.4.2_03\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_US\n!ENTRY org.eclipse.ajdt.ui 4 0 May 28, 2004 12:35:58.259\n!MESSAGE NullPointerException thrown: null\n!STACK 0\njava.lang.NullPointerException\n at org.aspectj.weaver.patterns.SignaturePattern.matches\n(SignaturePattern.java:87)\n at org.aspectj.weaver.patterns.WithincodePointcut.match\n(WithincodePointcut.java:42)\n at org.aspectj.weaver.patterns.NotPointcut.match(NotPointcut.java:45)\n at org.aspectj.weaver.patterns.AndPointcut.match(AndPointcut.java:42)\n at org.aspectj.weaver.patterns.AndPointcut.match(AndPointcut.java:42)\n at org.aspectj.weaver.patterns.AndPointcut.match(AndPointcut.java:42)\n at org.aspectj.weaver.ShadowMunger.match(ShadowMunger.java:62)\n at org.aspectj.weaver.Checker.match(Checker.java:48)\n at org.aspectj.weaver.bcel.BcelClassWeaver.match(BcelClassWeaver.java:1121)\n at org.aspectj.weaver.bcel.BcelClassWeaver.matchInit(BcelClassWeaver.java:895)\n at org.aspectj.weaver.bcel.BcelClassWeaver.match(BcelClassWeaver.java:793)\n at org.aspectj.weaver.bcel.BcelClassWeaver.weave(BcelClassWeaver.java:343)\n at org.aspectj.weaver.bcel.BcelClassWeaver.weave(BcelClassWeaver.java:80)\n at org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:724)\n at org.aspectj.weaver.bcel.BcelWeaver.weaveWithoutDump(BcelWeaver.java:689)\n at org.aspectj.weaver.bcel.BcelWeaver.weaveAndNotify(BcelWeaver.java:615)\n at org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:563)\n at org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave\n(AjCompilerAdapter.java:239)\n at org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling\n(AjCompilerAdapter.java:114)\n at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:376)\n at org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation\n(AjBuildManager.java:601)\n at org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild\n(AjBuildManager.java:160)\n at org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild\n(AjBuildManager.java:94)\n at org.aspectj.ajde.internal.CompilerAdapter.compile(CompilerAdapter.java:108)\n at org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run\n(AspectJBuildManager.java:165)\n-------------------------------------------------------\n\nThis is using Eclipse 3.0M9 and AJDT 1.1.10.\n\nRegards,\nMichael",
    "Hi Michael,\n\nSorry I\u0027m only just getting to this bug ! Is there any way you can supply me the\nmyproject.Test class?  As I can\u0027t recreate this with my own version.  The\nproblem is that one of the join points we attempt to match on in myproject.Test\nis returning null as its enclosing code signature (the enclosing code signature\nis what is compared with the withincode() supplied signature)",
    "Fixed under bug 67774.  Build now available containing the fix:\n\nBUILD COMPLETE -  build.324\nDate of build: 08/02/2004 15:14:37\nTime to build: 100 minutes 0 seconds\nLast changed: 08/02/2004 14:43:47\nLast log entry: Fix for Bugzilla Bug 67774 Nullpointer-exception in pointcuts\nusing withincode() clause\nLatest good AspectJ jar available at:\ndownload.eclipse.org/technology/ajdt/dev/aspectj-DEVELOPMENT.jar",
    "Fix released as part of AspectJ 1.2.1"
  ],
  "commentCreationDates": [
    "2004-05-28T13:03:28+02:00",
    "2004-07-26T12:43:30+02:00",
    "2004-08-06T15:39:37+02:00",
    "2004-10-21T10:31:26+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.aspectj.weaver.patterns.SignaturePattern.matches",
          "source": "SignaturePattern.java:87"
        },
        {
          "method": "org.aspectj.weaver.patterns.WithincodePointcut.match",
          "source": "WithincodePointcut.java:42"
        },
        {
          "method": "org.aspectj.weaver.patterns.NotPointcut.match",
          "source": "NotPointcut.java:45"
        },
        {
          "method": "org.aspectj.weaver.patterns.AndPointcut.match",
          "source": "AndPointcut.java:42"
        },
        {
          "method": "org.aspectj.weaver.patterns.AndPointcut.match",
          "source": "AndPointcut.java:42"
        },
        {
          "method": "org.aspectj.weaver.patterns.AndPointcut.match",
          "source": "AndPointcut.java:42"
        },
        {
          "method": "org.aspectj.weaver.ShadowMunger.match",
          "source": "ShadowMunger.java:62"
        },
        {
          "method": "org.aspectj.weaver.Checker.match",
          "source": "Checker.java:48"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.match",
          "source": "BcelClassWeaver.java:1121"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.matchInit",
          "source": "BcelClassWeaver.java:895"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.match",
          "source": "BcelClassWeaver.java:793"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.weave",
          "source": "BcelClassWeaver.java:343"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.weave",
          "source": "BcelClassWeaver.java:80"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weave",
          "source": "BcelWeaver.java:724"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveWithoutDump",
          "source": "BcelWeaver.java:689"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveAndNotify",
          "source": "BcelWeaver.java:615"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weave",
          "source": "BcelWeaver.java:563"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave",
          "source": "AjCompilerAdapter.java:239"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling",
          "source": "AjCompilerAdapter.java:114"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:376"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:601"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:160"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBuildManager.java:94"
        },
        {
          "method": "org.aspectj.ajde.internal.CompilerAdapter.compile",
          "source": "CompilerAdapter.java:108"
        },
        {
          "method": "org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run",
          "source": "AspectJBuildManager.java:165"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "64528",
      "date": "2004-05-28T13:03:28+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "major"
    }
  ],
  "groupId": "64528",
  "bugId": "64528",
  "date": "2004-05-28T13:03:28+02:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "major"
}