{
  "comments": [
    "This problem was reported by Brian Svihovec \u003csvihovec@us.ibm.com\u003e\nIf a java project has invalid classpath container entries and you expand it in the Project Explorer view, cpu goes to 100% and stays like that forever.\n\nSteps\n1. Open Eclipse in java perspective.\nHere is attached a zip file, extract it somewhere on your filesystem.\n2. And use File-Import-Existing Projects into workspace, choose this project, javaProject1 and import it.\n3. Now activate Project Explorer view, expand the javaProject1, see that CPU goes to 100% and stays there.\n\nThe project is a simplification of real projects  in a product based on WTP with many plugins, and this is a problem seen in all their projects so its really high severity problem. Its classpath looks like this\n\n\u003c?xml version\u003d\"1.0\" encoding\u003d\"UTF-8\"?\u003e\n\u003cclasspath\u003e\n\t\u003cclasspathentry kind\u003d\"src\" path\u003d\"src\"/\u003e\n\t\u003cclasspathentry kind\u003d\"con\" path\u003d\"org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/WebSphere v6 JRE\"/\u003e\n\t\u003cclasspathentry kind\u003d\"con\" path\u003d\"blahblah1\"/\u003e\n\t\u003cclasspathentry kind\u003d\"con\" path\u003d\"blahblah2\"/\u003e\n\t\u003cclasspathentry kind\u003d\"output\" path\u003d\"bin\"/\u003e\n\u003c/classpath\u003e\n\nWhen we suspended the threads, it looked like this\n\n\"Worker-7\" prio\u003d6 tid\u003d0x040416f0 nid\u003d0x1634 in Object.wait() [0x0496f000..0x049\nfa68]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x1563aec0\u003e (a org.eclipse.core.internal.jobs.WorkerPool)\n        at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:173)\n        - locked \u003c0x1563aec0\u003e (a org.eclipse.core.internal.jobs.WorkerPool)\n        at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:2\n5)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:51)\n\n\"Worker-6\" prio\u003d6 tid\u003d0x04041018 nid\u003d0x7fc in Object.wait() [0x0492f000..0x0492\nae8]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x1563aec0\u003e (a org.eclipse.core.internal.jobs.WorkerPool)\n        at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:173)\n        - locked \u003c0x1563aec0\u003e (a org.eclipse.core.internal.jobs.WorkerPool)\n        at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:2\n5)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:51)\n\n\"Worker-4\" prio\u003d6 tid\u003d0x032b4f78 nid\u003d0x214 waiting on condition [0x04b9f000..0x\n4b9f9e8]\n        at java.lang.Thread.sleep(Native Method)\n        at org.eclipse.ui.internal.decorators.DecorationScheduler$1.run(Decorat\nonScheduler.java:279)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\n\n\"Worker-3\" prio\u003d6 tid\u003d0x00ac4260 nid\u003d0x1694 in Object.wait() [0x04adf000..0x04a\nfa68]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x1563aec0\u003e (a org.eclipse.core.internal.jobs.WorkerPool)\n        at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:173)\n        - locked \u003c0x1563aec0\u003e (a org.eclipse.core.internal.jobs.WorkerPool)\n        at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:2\n5)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:51)\n\n\"Java indexing\" daemon prio\u003d4 tid\u003d0x03199ed0 nid\u003d0x354 in Object.wait() [0x049a\n000..0x049afbe8]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x1598dbb8\u003e (a org.eclipse.jdt.internal.core.search.index\nng.IndexManager)\n        at java.lang.Object.wait(Object.java:474)\n        at org.eclipse.jdt.internal.core.search.processing.JobManager.run(JobMa\nager.java:349)\n        - locked \u003c0x1598dbb8\u003e (a org.eclipse.jdt.internal.core.search.indexing.\nndexManager)\n        at java.lang.Thread.run(Thread.java:595)\n\n\"Start Level Event Dispatcher\" daemon prio\u003d6 tid\u003d0x0303a7a8 nid\u003d0xb48 in Object\nwait() [0x0341f000..0x0341fce8]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x155ebfd8\u003e (a org.eclipse.osgi.framework.eventmgr.EventM\nnager$EventThread)\n        at java.lang.Object.wait(Object.java:474)\n        at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.getNext\nvent(EventManager.java:349)\n        - locked \u003c0x155ebfd8\u003e (a org.eclipse.osgi.framework.eventmgr.EventManag\nr$EventThread)\n        at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(Eve\ntManager.java:287)\n\n\"Framework Event Dispatcher\" daemon prio\u003d6 tid\u003d0x00ace020 nid\u003d0x1394 in Object.\nait() [0x033df000..0x033dfd68]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x155ec040\u003e (a org.eclipse.osgi.framework.eventmgr.EventM\nnager$EventThread)\n        at java.lang.Object.wait(Object.java:474)\n        at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.getNext\nvent(EventManager.java:349)\n        - locked \u003c0x155ec040\u003e (a org.eclipse.osgi.framework.eventmgr.EventManag\nr$EventThread)\n        at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(Eve\ntManager.java:287)\n\n\"State Data Manager\" daemon prio\u003d6 tid\u003d0x02f9dc68 nid\u003d0x1330 waiting on conditi\nn [0x0339f000..0x0339f9e8]\n        at java.lang.Thread.sleep(Native Method)\n        at org.eclipse.osgi.internal.baseadaptor.StateManager.run(StateManager.\nava:297)\n        at java.lang.Thread.run(Thread.java:595)\n\n\"Low Memory Detector\" daemon prio\u003d6 tid\u003d0x00a70908 nid\u003d0x12f8 runnable [0x00000\n00..0x00000000]\n\n\"CompilerThread0\" daemon prio\u003d10 tid\u003d0x00a6f3b0 nid\u003d0xe4 waiting on condition [\nx00000000..0x02cdf948]\n\n\"Signal Dispatcher\" daemon prio\u003d10 tid\u003d0x00a6e698 nid\u003d0x924 waiting on conditio\n [0x00000000..0x00000000]\n\n\"Finalizer\" daemon prio\u003d8 tid\u003d0x00a69748 nid\u003d0x12b8 in Object.wait() [0x02c5f00\n..0x02c5fbe8]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x15592698\u003e (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:116)\n        - locked \u003c0x15592698\u003e (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:132)\n        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:159)\n\n\"Reference Handler\" daemon prio\u003d10 tid\u003d0x00a682d0 nid\u003d0x14f0 in Object.wait() [\nx02c1f000..0x02c1fce8]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x15592718\u003e (a java.lang.ref.Reference$Lock)\n        at java.lang.Object.wait(Object.java:474)\n        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:116)\n        - locked \u003c0x15592718\u003e (a java.lang.ref.Reference$Lock)\n\n\"main\" prio\u003d6 tid\u003d0x00035538 nid\u003d0x474 runnable [0x0007e000..0x0007fc3c]\n        at java.io.FileOutputStream.close0(Native Method)\n        at java.io.FileOutputStream.close(FileOutputStream.java:279)\n        at java.io.FilterOutputStream.close(FilterOutputStream.java:143)\n        at java.io.FilterOutputStream.close(FilterOutputStream.java:143)\n        at org.eclipse.core.internal.localstore.Bucket.save(Bucket.java:345)\n        at org.eclipse.core.internal.properties.PropertyBucket.save(PropertyBuc\net.java:285)\n        at org.eclipse.core.internal.properties.PropertyManager2.setProperty(Pr\npertyManager2.java:165)\n        - locked \u003c0x15675680\u003e (a org.eclipse.core.internal.properties.PropertyM\nnager2)\n        at org.eclipse.core.internal.resources.Resource.setPersistentProperty(R\nsource.java:1514)\n        at org.eclipse.jdt.internal.core.PackageFragmentRoot.setSourceAttachmen\nProperty(PackageFragmentRoot.java:667)\n        at org.eclipse.jdt.internal.core.SetClasspathOperation.generateClasspat\nChangeDeltas(SetClasspathOperation.java:485)\n        at org.eclipse.jdt.internal.core.SetClasspathOperation.updateClasspath(\netClasspathOperation.java:657)\n        at org.eclipse.jdt.internal.core.SetClasspathOperation.executeOperation\nSetClasspathOperation.java:267)\n        at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperat\non.java:720)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:173\n)\n        at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaMo\nelOperation.java:784)\n        at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProjec\n.java:3016)\n        at org.eclipse.jdt.core.JavaCore$5.run(JavaCore.java:4214)\n        at org.eclipse.jdt.internal.core.BatchOperation.executeOperation(BatchO\neration.java:39)\n        at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperat\non.java:720)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:173\n)\n        at org.eclipse.jdt.core.JavaCore.run(JavaCore.java:4023)\n        at org.eclipse.jdt.core.JavaCore.setClasspathContainer(JavaCore.java:41\n7)\n        at org.eclipse.jdt.internal.launching.JREContainerInitializer.initializ\n(JREContainerInitializer.java:57)\n        at org.eclipse.jdt.internal.core.JavaModelManager.initializeContainer(J\nvaModelManager.java:1900)\n        at org.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer\nJavaModelManager.java:1267)\n        at org.eclipse.jdt.core.JavaCore.getClasspathContainer(JavaCore.java:14\n0)\n        at org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaP\noject.java:2169)\n        at org.eclipse.jdt.internal.core.JavaProject.findPackageFragmentRoots(J\nvaProject.java:1158)\n        at org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvid\nr.rootsAndContainers(PackageExplorerContentProvider.java:182)\n        at org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvid\nr.getChildren(PackageExplorerContentProvider.java:163)\n        at org.eclipse.jdt.internal.ui.navigator.JavaNavigatorContentProvider.g\ntPipelinedChildren(JavaNavigatorContentProvider.java:123)\n        at org.eclipse.ui.internal.navigator.NavigatorContentServiceContentProv\nder.pipelineChildren(NavigatorContentServiceContentProvider.java:310)\n        at org.eclipse.ui.internal.navigator.NavigatorContentServiceContentProv\nder.internalGetChildren(NavigatorContentServiceContentProvider.java:252)\n        at org.eclipse.ui.internal.navigator.NavigatorContentServiceContentProv\nder.getChildren(NavigatorContentServiceContentProvider.java:635)\n        at org.eclipse.jface.viewers.AbstractTreeViewer.getRawChildren(Abstract\nreeViewer.java:1151)\n        at org.eclipse.jface.viewers.TreeViewer.getRawChildren(TreeViewer.java:\n68)\n        at org.eclipse.jface.viewers.AbstractTreeViewer.getFilteredChildren(Abs\nractTreeViewer.java:565)\n        at org.eclipse.jface.viewers.AbstractTreeViewer.getSortedChildren(Abstr\nctTreeViewer.java:534)\n        at org.eclipse.jface.viewers.AbstractTreeViewer.updateChildren(Abstract\nreeViewer.java:2324)\n        at org.eclipse.jface.viewers.AbstractTreeViewer.internalRefreshStruct(A\nstractTreeViewer.java:1640)\n        at org.eclipse.jface.viewers.TreeViewer.internalRefreshStruct(TreeViewe\n.java:955)\n        at org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh(Abstrac\nTreeViewer.java:1616)\n        at org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh(Abstrac\nTreeViewer.java:1571)\n        at org.eclipse.ui.navigator.CommonViewer.internalRefresh(CommonViewer.j\nva:410)\n        at org.eclipse.jface.viewers.StructuredViewer$8.run(StructuredViewer.ja\na:1415)\n        at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(Struc\nuredViewer.java:1323)\n        at org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.\nava:1413)\n        at org.eclipse.ui.navigator.CommonViewer.update(CommonViewer.java:381)\n        at org.eclipse.jface.viewers.StructuredViewer.update(StructuredViewer.j\nva:1840)\n        at org.eclipse.jface.viewers.StructuredViewer.handleLabelProviderChange\n(StructuredViewer.java:1108)\n        at org.eclipse.ui.navigator.CommonViewer.handleLabelProviderChanged(Com\nonViewer.java:143)\n        at org.eclipse.jface.viewers.ContentViewer$1.labelProviderChanged(Conte\ntViewer.java:74)\n        at org.eclipse.ui.internal.navigator.NavigatorContentServiceLabelProvid\nr$1.run(NavigatorContentServiceLabelProvider.java:292)\n        at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n        at org.eclipse.ui.internal.navigator.NavigatorContentServiceLabelProvid\nr.fireLabelProviderChanged(NavigatorContentServiceLabelProvider.java:290)\n        at org.eclipse.ui.internal.navigator.NavigatorContentServiceLabelProvid\nr.labelProviderChanged(NavigatorContentServiceLabelProvider.java:350)\n        at org.eclipse.jdt.ui.ProblemsLabelDecorator.fireProblemsChanged(Proble\nsLabelDecorator.java:380)\n        at org.eclipse.jdt.ui.ProblemsLabelDecorator.access$0(ProblemsLabelDeco\nator.java:375)\n        at org.eclipse.jdt.ui.ProblemsLabelDecorator$1.problemsChanged(Problems\nabelDecorator.java:355)\n        at org.eclipse.jdt.internal.ui.viewsupport.ProblemMarkerManager$1.run(P\noblemMarkerManager.java:177)\n        at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n        at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.j\nva:123)\n        - locked \u003c0x15c44f98\u003e (a org.eclipse.swt.widgets.RunnableLock)\n        at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3325)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2971)\n        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)\n        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)\n        at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.ja\na:419)\n        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n        at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:9\n)\n        at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformAc\nivator.java:78)\n        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runAppl\ncation(EclipseAppLauncher.java:92)\n        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(E\nlipseAppLauncher.java:68)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.j\nva:400)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.j\nva:177)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl\njava:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcce\nsorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:585)\n        at org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n        at org.eclipse.core.launcher.Main.run(Main.java:977)\n        at org.eclipse.core.launcher.Main.main(Main.java:952)\n\n\nIt looks like the problems view decorator tries to set the java classpath of the project, and because the classpath container is invalid its somehow causing this problem.",
    "Created an attachment (id\u003d52463)\nzipped up java project\n\n",
    "I was looking into the problem further and I have an inkling to what happened, \n\nIt looks like the problem happens when the classpath entry\n\n\u003cclasspathentry kind\u003d\"con\"\npath\u003d\"org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/WebSphere\nv6 JRE\"/\u003e\n\nis attempted to be resolved in this code.\n\nThread [main] (Suspended (breakpoint at line 58 in JREContainerInitializer))\t\n\tJREContainerInitializer.initialize(IPath, IJavaProject) line: 57\t\n\tJavaModelManager.initializeContainer(IJavaProject, IPath) line: 1900\t\n\tJavaModelManager.getClasspathContainer(IPath, IJavaProject) line: 1267\t\n\tJavaCore.getClasspathContainer(IPath, IJavaProject) line: 1470\t\n\tJavaProject.getResolvedClasspath(IClasspathEntry[], IPath, boolean, boolean, Map) line: 2169\t\n\tJavaProject.findPackageFragmentRoots(IClasspathEntry) line: 1158\t\n\tClassPathContainer.getPackageFragmentRoots() line: 118\t\n\tJavaElementSorter.getPackageFragmentRoot(Object) line: 294\t\n\tJavaElementSorter.compare(Viewer, Object, Object) line: 203\t\n\tCommonViewerSorter.compare(Viewer, TreePath, Object, Object) line: 97\t\n\tTreePathViewerSorter$1.compare(Object, Object) line: 105\t\n        .....\n\nIf you look at the method JREContainerInitializer.initialize(IPath, IJavaProject)\n\nwhich is in the plug-in org.eclipse.jdt.launching\n\n\n\n\tpublic void initialize(IPath containerPath, IJavaProject project) throws CoreException {\t\t\n\t\tint size \u003d containerPath.segmentCount();\n\t\tif (size \u003e 0) {\n\t\t\tif (containerPath.segment(0).equals(JavaRuntime.JRE_CONTAINER)) {\n\t\t\t\tIVMInstall vm \u003d resolveVM(containerPath);\n\t\t\t\tJREContainer container \u003d null;\n\t\t\t\tif (vm !\u003d null) {\n\t\t\t\t\tcontainer \u003d new JREContainer(vm, containerPath);\n\t\t\t\t}\nJavaCore.setClasspathContainer(containerPath, new IJavaProject[] {project}, new IClasspathContainer[] {container}, null);\n\t\t\t}\n\t\t}\n\t}\n\nI found that \nline 52 ---\u003e IVMInstall vm \u003d resolveVM(containerPath);\n\nreturned null for the containerPath\n\nand lines 53-58 were like\n\n\t\t\t\tJREContainer container \u003d null;\n\t\t\t\tif (vm !\u003d null) {\n\t\t\t\t\tcontainer \u003d new JREContainer(vm, containerPath);\n\t\t\t\t}\nJavaCore.setClasspathContainer(containerPath, new IJavaProject[] {project}, new IClasspathContainer[] {container}, null);\n\n\nSO in line 58, \n\nwe were still calling \n\nJavaCore.setClasspathContainer(containerPath, new IJavaProject[] {project}, new IClasspathContainer[] {container}, null);\n\nfor a NULL container.\n\nWhen I put a condition like\n\nif(container !\u003d null)\nJavaCore.setClasspathContainer(containerPath, new IJavaProject[] {project}, new IClasspathContainer[] {container}, null);\n\nThe problem went away (cpu did not stay at 100% when i expand project in project explorer).\n\nHowever, I do not know if this is the right fix in the given context.\n\nSo, please investigate.\n\nAlso it does not matter what the vmid was \nI changed my classpath entry to\n\n\n\u003cclasspathentry kind\u003d\"con\"\npath\u003d\"org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/blahblahJRE\"/\u003e\n\nand was able to reproduce the problem.\n\n",
    "Moving to JDT/Core for comments and to decide whether the fix for bug 160005 should be backported to 3.2.2.\n\nIn N20061026-0010, I get the exception below, which indicates an error in the current fix for bug 160005.\n\n\njava.lang.IllegalArgumentException: Invalid classpath container implementation: getClasspathEntries() returns null. blahblah2\n\tat org.eclipse.jdt.internal.ui.packageview.ClassPathContainer.getRequiredProjects(ClassPathContainer.java:141)\n\tat org.eclipse.jdt.internal.ui.packageview.ClassPathContainer.getChildren(ClassPathContainer.java:132)\n\tat org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.getContainerPackageFragmentRoots(PackageExplorerContentProvider.java:257)\n\tat org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.getChildren(PackageExplorerContentProvider.java:203)\n\tat org.eclipse.jdt.ui.StandardJavaElementContentProvider.hasChildren(StandardJavaElementContentProvider.java:232)\n\tat org.eclipse.ui.internal.navigator.extensions.SafeDelegateTreeContentProvider.hasChildren(SafeDelegateTreeContentProvider.java:107)\n\tat org.eclipse.ui.internal.navigator.extensions.SafeDelegateTreeContentProvider.hasChildren(SafeDelegateTreeContentProvider.java:292)\n\tat org.eclipse.ui.internal.navigator.NavigatorContentServiceContentProvider.hasChildren(NavigatorContentServiceContentProvider.java:654)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.isExpandable(AbstractTreeViewer.java:1974)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.updatePlus(AbstractTreeViewer.java:2572)\n\tat org.eclipse.jface.viewers.TreeViewer.updatePlus(TreeViewer.java:993)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem(AbstractTreeViewer.java:798)\n\tat org.eclipse.ui.navigator.CommonViewer.createTreeItem(CommonViewer.java:150)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer$1.run(AbstractTreeViewer.java:775)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:749)\n\tat org.eclipse.jface.viewers.TreeViewer.createChildren(TreeViewer.java:794)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.handleTreeExpand(AbstractTreeViewer.java:1301)\n\tat org.eclipse.jface.viewers.TreeViewer.handleTreeExpand(TreeViewer.java:1050)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer$4.treeExpanded(AbstractTreeViewer.java:1312)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:181)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:949)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:934)\n\tat org.eclipse.swt.widgets.Tree.wmNotifyChild(Tree.java:6442)\n\tat org.eclipse.swt.widgets.Control.wmNotify(Control.java:4221)\n\tat org.eclipse.swt.widgets.Composite.wmNotify(Composite.java:1480)\n\tat org.eclipse.swt.widgets.Control.WM_NOTIFY(Control.java:3874)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:3382)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:4132)\n\tat org.eclipse.swt.internal.win32.OS.CallWindowProcW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.CallWindowProc(OS.java:1903)\n\tat org.eclipse.swt.widgets.Tree.callWindowProc(Tree.java:1323)\n\tat org.eclipse.swt.widgets.Tree.WM_LBUTTONDOWN(Tree.java:5321)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:3363)\n\tat org.eclipse.swt.widgets.Tree.windowProc(Tree.java:4900)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:4145)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1989)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3075)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1924)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1888)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:104)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:74)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:348)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:165)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:341)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:285)\n\tat org.eclipse.core.launcher.Main.run(Main.java:987)\n\tat org.eclipse.core.launcher.Main.main(Main.java:962)\n",
    "Markus, can you please expand on how you\u0027re getting the exception from comment #3 ?",
    "\u003e Markus, can you please expand on how you\u0027re getting the exception from comment\n\u003e #3 ?\n\nI imported the project from attachment 52463 into a clean runtime workspace and then expanded \"javaProject1\" in the Project Explorer (same effect as in Package Explorer). This is with I20061024-1200 or later.",
    "Re: backporting fix for bug 160005,\nIsn\u0027t it adding a new API ? If so, this is problematic, as no API addition may occur in a service release.\n\nWe should rather provide an empty container for free in case clients forgets to initialize... unoptimal, but will address this very issue.\n\nAssumption is that this problem cannot occur on 3.3 after fix for bug 160005. Is this true ?\n\nRaj - would 3.2.2 be the right target for your needs ?",
    "Yes, I think it should be backported to Eclipse 322, Not sure what Brian\u0027s time frame is.",
    "Changed ClasspathContainerInitializer#getFailureContainer(...) to return a container that returns an empty classpath instead of null. This takes care of the problem reported in comment 3.\nAdded regresion test ClasspathInitializerTests#testContainerInitializer15().\n\nStill need to backport to 3.2.2.",
    "Note this was released for 3.3M4.",
    "Backport for 3.2.2 consists in changing JavaModelManager#getClasspathContainer(IPath, IJavaProject) in R3_2_maintenance stream to always return a default container (with an empty classpath) if the initializer failed to initialize the container. As a consequence, ClasspathInitiazerTests#testContainerInitializer05() has to be changed to not assume that the initializer would be called again in this case.\nAlso testContainerInitializer14() and testContainerInitializer15() where backported to the R3_2_maintenance stream.\n\nReleased for 3.2.2.",
    "Verified for 3.2.2 using build I20070112-1200.\n"
  ],
  "commentCreationDates": [
    "2006-10-21T19:45:21+02:00",
    "2006-10-21T19:46:40+02:00",
    "2006-10-21T23:19:43+02:00",
    "2006-10-26T12:29:25+02:00",
    "2006-10-26T13:10:01+02:00",
    "2006-10-26T14:11:21+02:00",
    "2006-10-26T15:19:16+02:00",
    "2006-10-26T16:39:18+02:00",
    "2006-10-27T18:23:23+02:00",
    "2007-01-09T12:18:31+01:00",
    "2007-01-09T13:00:26+01:00",
    "2007-01-15T13:40:15+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Invalid classpath container implementation: getClasspathEntries() returns null. blahblah2",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.ClassPathContainer.getRequiredProjects",
          "source": "ClassPathContainer.java:141"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.ClassPathContainer.getChildren",
          "source": "ClassPathContainer.java:132"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.getContainerPackageFragmentRoots",
          "source": "PackageExplorerContentProvider.java:257"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.getChildren",
          "source": "PackageExplorerContentProvider.java:203"
        },
        {
          "method": "org.eclipse.jdt.ui.StandardJavaElementContentProvider.hasChildren",
          "source": "StandardJavaElementContentProvider.java:232"
        },
        {
          "method": "org.eclipse.ui.internal.navigator.extensions.SafeDelegateTreeContentProvider.hasChildren",
          "source": "SafeDelegateTreeContentProvider.java:107"
        },
        {
          "method": "org.eclipse.ui.internal.navigator.extensions.SafeDelegateTreeContentProvider.hasChildren",
          "source": "SafeDelegateTreeContentProvider.java:292"
        },
        {
          "method": "org.eclipse.ui.internal.navigator.NavigatorContentServiceContentProvider.hasChildren",
          "source": "NavigatorContentServiceContentProvider.java:654"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.isExpandable",
          "source": "AbstractTreeViewer.java:1974"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.updatePlus",
          "source": "AbstractTreeViewer.java:2572"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.updatePlus",
          "source": "TreeViewer.java:993"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem",
          "source": "AbstractTreeViewer.java:798"
        },
        {
          "method": "org.eclipse.ui.navigator.CommonViewer.createTreeItem",
          "source": "CommonViewer.java:150"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$1.run",
          "source": "AbstractTreeViewer.java:775"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:67"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.createChildren",
          "source": "AbstractTreeViewer.java:749"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.createChildren",
          "source": "TreeViewer.java:794"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.handleTreeExpand",
          "source": "AbstractTreeViewer.java:1301"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.handleTreeExpand",
          "source": "TreeViewer.java:1050"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$4.treeExpanded",
          "source": "AbstractTreeViewer.java:1312"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:181"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:925"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:949"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:934"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.wmNotifyChild",
          "source": "Tree.java:6442"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.wmNotify",
          "source": "Control.java:4221"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.wmNotify",
          "source": "Composite.java:1480"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.WM_NOTIFY",
          "source": "Control.java:3874"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:3382"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:4132"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.CallWindowProcW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.CallWindowProc",
          "source": "OS.java:1903"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.callWindowProc",
          "source": "Tree.java:1323"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.WM_LBUTTONDOWN",
          "source": "Tree.java:5321"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:3363"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.windowProc",
          "source": "Tree.java:4900"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:4145"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessageW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessage",
          "source": "OS.java:1989"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3075"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1924"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1888"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:104"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:74"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:348"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:165"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:341"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:285"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:987"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:962"
        }
      ],
      "number": 0,
      "commentIndex": 3,
      "bugId": "161846",
      "date": "2006-10-26T12:29:25+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "major"
    }
  ],
  "groupId": "161846",
  "bugId": "161846",
  "date": "2006-10-21T19:45:21+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "major"
}