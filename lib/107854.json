{
  "comments": [
    "right click on any file in Package Explorer or Navigator, no context menu shows up.\n\nError log shows:\n\n!SESSION 2005-08-24 10:23:33.934 -----------------------------------------------\neclipse.buildId\u003dI20050627-1435\njava.version\u003d1.4.2_07\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dlinux, ARCH\u003dx86, WS\u003dgtk, NL\u003den_CA\nCommand-line arguments:  -os linux -ws gtk -arch x86\n\nThis is a continuation of log file /home/lihui/dms_NC50/poc/.metadata/.bak_0.log\nCreated Time: 2005-08-24 10:23:50.749\n\n!ENTRY org.eclipse.ui 4 4 2005-08-24 10:23:50.749\n!MESSAGE Unhandled event loop exception\n\n!ENTRY org.eclipse.ui 4 0 2005-08-24 10:23:50.750\n!MESSAGE Unsupported or unrecognized format\n!STACK 0\norg.eclipse.swt.SWTException: Unsupported or unrecognized format\n\tat org.eclipse.swt.SWT.error(SWT.java:2942)\n\tat org.eclipse.swt.SWT.error(SWT.java:2865)\n\tat org.eclipse.swt.SWT.error(SWT.java:2836)\n\tat org.eclipse.swt.internal.image.FileFormat.load(FileFormat.java:73)\n\tat org.eclipse.swt.graphics.ImageLoader.load(ImageLoader.java:126)\n\tat org.eclipse.swt.graphics.ImageDataLoader.load(ImageDataLoader.java:18)\n\tat org.eclipse.swt.graphics.ImageData.\u003cinit\u003e(ImageData.java:327)\n\tat\norg.eclipse.jface.resource.URLImageDescriptor.getImageData(URLImageDescriptor.java:57)\n\tat org.eclipse.jface.resource.ImageDescriptor.createImage(ImageDescriptor.java:279)\n\tat\norg.eclipse.jface.resource.ImageDescriptor.createResource(ImageDescriptor.java:171)\n\tat\norg.eclipse.jface.resource.DeviceResourceManager.allocate(DeviceResourceManager.java:56)\n\tat\norg.eclipse.jface.resource.AbstractResourceManager.create(AbstractResourceManager.java:87)\n\tat\norg.eclipse.jface.resource.LocalResourceManager.allocate(LocalResourceManager.java:83)\n\tat\norg.eclipse.jface.resource.AbstractResourceManager.create(AbstractResourceManager.java:87)\n\tat\norg.eclipse.jface.resource.ResourceManager.createImageWithDefault(ResourceManager.java:107)\n\tat\norg.eclipse.jface.action.ActionContributionItem.updateImages(ActionContributionItem.java:958)\n\tat\norg.eclipse.jface.action.ActionContributionItem.update(ActionContributionItem.java:812)\n\tat\norg.eclipse.jface.action.ActionContributionItem.fill(ActionContributionItem.java:281)\n\tat org.eclipse.jface.action.MenuManager.update(MenuManager.java:627)\n\tat org.eclipse.jface.action.MenuManager.update(MenuManager.java:549)\n\tat org.eclipse.jface.action.MenuManager.fill(MenuManager.java:232)\n\tat org.eclipse.jface.action.MenuManager.update(MenuManager.java:627)\n\tat org.eclipse.jface.action.MenuManager.handleAboutToShow(MenuManager.java:373)\n\tat org.eclipse.jface.action.MenuManager.access$0(MenuManager.java:369)\n\tat org.eclipse.jface.action.MenuManager$2.menuShown(MenuManager.java:386)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:117)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1021)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1045)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1026)\n\tat org.eclipse.swt.widgets.Menu._setVisible(Menu.java:175)\n\tat org.eclipse.swt.widgets.Display.runPopups(Display.java:2893)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2569)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n\tat org.eclipse.core.launcher.Main.run(Main.java:973)\n\tat org.eclipse.core.launcher.Main.main(Main.java:948)",
    "This happened after I switched to a new workspace. The context menu showed up\nfine in the original workspace.",
    "Do you have any third party plugins installed?  I\u0027m guessing someone is using an icon in an action that\u0027s \ncontributed to these views that is not in a supported format.",
    "I do have viplugin and clay installed, yet after disabling them, the problem\npersists.\n\nWeird thing is, the problem exists in one workspace not another. Maybe something\nis missing in the .metadata/.plugin directory when I created the new workspace?\nIt was done with the \"file - switch workspace\" wizard.",
    "I would suggest trying a clean install of eclipse with no 3rd party plugins on the workspace that\u0027s giving \nyou grief.  It\u0027s possible that some remnants of those two plug-ins may be lingering.  If that still produces \nan error, would it be possible to get a copy of your workspace?",
    "If you\u0027re feeling adventurous, you can also try debugging Eclipse itself?  \nCreate a workspace and import external plug-ins and fragments.  You\u0027ll \n\"org.eclipse.swt\", \"org.eclipse.swt.gtk.linux.x86\" and \"org.eclipse.jface\". \n \nOn the first line of \"ActionContributionItem.updateImages(boolean)\", add  \n \n    System.out.println(action.getId()); \n \nOn the first line of \"URLImageDescriptor.getImageData()\", add \n \n    System.out.println(url); \n ",
    "Created an attachment (id\u003d26416)\nPatched \"ResourceManager\" class\n\nI\u0027ve applied a patch to ResourceManager that will prevent JFace from failing to\nopen the context menu in the event of an SWTException.\tIt also provides more\ndebugging information.\n\nAn alternative to my above comment is to replace\n\"org/eclipse/jface/resource/ResourceManager.class\" with the class I am\nattaching.  This class is found in the \"org.eclipse.jface_3.1.0.jar\".\n",
    "The patch I\u0027ve applied allow the context menu to open.  Any further problems I \nwould believe to be either a rogue plug-in or a corrupted install. ",
    "(In reply to comment #5)\n\u003e If you\u0027re feeling adventurous, you can also try debugging Eclipse itself?  \n\u003e Create a workspace and import external plug-ins and fragments.  You\u0027ll \n\u003e \"org.eclipse.swt\", \"org.eclipse.swt.gtk.linux.x86\" and \"org.eclipse.jface\". \n\u003e  \n\u003e On the first line of \"ActionContributionItem.updateImages(boolean)\", add  \n\u003e  \n\u003e     System.out.println(action.getId()); \n\u003e  \n\u003e On the first line of \"URLImageDescriptor.getImageData()\", add \n\u003e  \n\u003e     System.out.println(url); \n\u003e  \n\nIt turns out to be xmleditor is referencing newprj_wiz.gif, somehow the image is\nempty. It\u0027ll be nice to log the image when the exception is thrown."
  ],
  "commentCreationDates": [
    "2005-08-24T16:38:36+02:00",
    "2005-08-24T16:42:46+02:00",
    "2005-08-24T16:48:25+02:00",
    "2005-08-24T16:58:10+02:00",
    "2005-08-24T19:42:12+02:00",
    "2005-08-24T19:52:30+02:00",
    "2005-08-24T20:14:51+02:00",
    "2005-08-24T20:16:40+02:00",
    "2005-08-24T21:57:18+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Unsupported or unrecognized form",
      "elements": [
        {
          "method": "atorg.eclipse.swt.SWT.error",
          "source": "SWT.java:2942"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2865"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2836"
        },
        {
          "method": "org.eclipse.swt.internal.image.FileFormat.load",
          "source": "FileFormat.java:73"
        },
        {
          "method": "org.eclipse.swt.graphics.ImageLoader.load",
          "source": "ImageLoader.java:126"
        },
        {
          "method": "org.eclipse.swt.graphics.ImageDataLoader.load",
          "source": "ImageDataLoader.java:18"
        },
        {
          "method": "org.eclipse.swt.graphics.ImageData.\u003cinit\u003e",
          "source": "ImageData.java:327"
        },
        {
          "method": "org.eclipse.jface.resource.URLImageDescriptor.getImageData",
          "source": "URLImageDescriptor.java:57"
        },
        {
          "method": "org.eclipse.jface.resource.ImageDescriptor.createImage",
          "source": "ImageDescriptor.java:279"
        },
        {
          "method": "org.eclipse.jface.resource.ImageDescriptor.createResource",
          "source": "ImageDescriptor.java:171"
        },
        {
          "method": "org.eclipse.jface.resource.DeviceResourceManager.allocate",
          "source": "DeviceResourceManager.java:56"
        },
        {
          "method": "org.eclipse.jface.resource.AbstractResourceManager.create",
          "source": "AbstractResourceManager.java:87"
        },
        {
          "method": "org.eclipse.jface.resource.LocalResourceManager.allocate",
          "source": "LocalResourceManager.java:83"
        },
        {
          "method": "org.eclipse.jface.resource.AbstractResourceManager.create",
          "source": "AbstractResourceManager.java:87"
        },
        {
          "method": "org.eclipse.jface.resource.ResourceManager.createImageWithDefault",
          "source": "ResourceManager.java:107"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.updateImages",
          "source": "ActionContributionItem.java:958"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.update",
          "source": "ActionContributionItem.java:812"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.fill",
          "source": "ActionContributionItem.java:281"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.update",
          "source": "MenuManager.java:627"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.update",
          "source": "MenuManager.java:549"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.fill",
          "source": "MenuManager.java:232"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.update",
          "source": "MenuManager.java:627"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.handleAboutToShow",
          "source": "MenuManager.java:373"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.access$0",
          "source": "MenuManager.java:369"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager$2.menuShown",
          "source": "MenuManager.java:386"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:117"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1021"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1045"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1026"
        },
        {
          "method": "org.eclipse.swt.widgets.Menu._setVisible",
          "source": "Menu.java:175"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runPopups",
          "source": "Display.java:2893"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2569"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1699"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1663"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:367"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "107854",
      "date": "2005-08-24T16:38:36+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "107854",
  "bugId": "107854",
  "date": "2005-08-24T16:38:36+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}