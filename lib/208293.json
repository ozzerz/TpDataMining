{
  "comments": [
    "I got the following while using the agent UI (not sure if it was in preferences or the agent UI itself):\n\njava.lang.NullPointerException\n        at org.eclipse.jface.dialogs.IconAndMessageDialog.getSWTImage(IconAndMessageDialog.java:274)\n        at org.eclipse.jface.dialogs.IconAndMessageDialog.getQuestionImage(IconAndMessageDialog.java:251)\n        at org.eclipse.jface.dialogs.MessageDialog.\u003cinit\u003e(MessageDialog.java:149)\n        at org.eclipse.equinox.internal.p2.ui.ApplyProfileChangesDialog.\u003cinit\u003e(ApplyProfileChangesDialog.java:34)\n        at org.eclipse.equinox.internal.p2.ui.ApplyProfileChangesDialog.promptForRestart(ApplyProfileChangesDialog.java:53)\n        at org.eclipse.equinox.p2.ui.ProvUI.requestRestart(ProvUI.java:100)\n        at org.eclipse.equinox.p2.ui.ProvUIActivator$1.notify(ProvUIActivator.java:119)\n        at org.eclipse.equinox.p2.core.eventbus.ProvisioningEventBus.dispatchEvent(ProvisioningEventBus.java:71)\n        at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:209)\n        at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:319)",
    "I got the same traceback after hitting \"Review and apply these updates\" upon startup.",
    "See also bug #208047 and #208251.  If we want to do something about this for M3, we should just disable the profile change listener in ProvUIActivator.  If we fix the threading problem, we\u0027ll get bogus restart dialogs.",
    "Created an attachment (id\u003d81773)\npatch to profile change listener\n\nthis will prevent the NPE for now",
    "pascal, we should probably put the NPE prevention fix in",
    "fixed for 6pm build.  Will do the real fix as part of the other bugs, closing this one."
  ],
  "commentCreationDates": [
    "2007-10-31T19:19:03+01:00",
    "2007-10-31T19:24:20+01:00",
    "2007-10-31T20:55:37+01:00",
    "2007-10-31T21:00:48+01:00",
    "2007-10-31T21:01:49+01:00",
    "2007-10-31T22:10:12+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jface.dialogs.IconAndMessageDialog.getSWTImage",
          "source": "IconAndMessageDialog.java:274"
        },
        {
          "method": "org.eclipse.jface.dialogs.IconAndMessageDialog.getQuestionImage",
          "source": "IconAndMessageDialog.java:251"
        },
        {
          "method": "org.eclipse.jface.dialogs.MessageDialog.\u003cinit\u003e",
          "source": "MessageDialog.java:149"
        },
        {
          "method": "org.eclipse.equinox.internal.p2.ui.ApplyProfileChangesDialog.\u003cinit\u003e",
          "source": "ApplyProfileChangesDialog.java:34"
        },
        {
          "method": "org.eclipse.equinox.internal.p2.ui.ApplyProfileChangesDialog.promptForRestart",
          "source": "ApplyProfileChangesDialog.java:53"
        },
        {
          "method": "org.eclipse.equinox.p2.ui.ProvUI.requestRestart",
          "source": "ProvUI.java:100"
        },
        {
          "method": "org.eclipse.equinox.p2.ui.ProvUIActivator$1.notify",
          "source": "ProvUIActivator.java:119"
        },
        {
          "method": "org.eclipse.equinox.p2.core.eventbus.ProvisioningEventBus.dispatchEvent",
          "source": "ProvisioningEventBus.java:71"
        },
        {
          "method": "org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent",
          "source": "EventManager.java:209"
        },
        {
          "method": "org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run",
          "source": "EventManager.java:319"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "208293",
      "date": "2007-10-31T19:19:03+01:00",
      "product": "Equinox",
      "component": "Incubator",
      "severity": "normal"
    }
  ],
  "groupId": "208293",
  "bugId": "208293",
  "date": "2007-10-31T19:19:03+01:00",
  "product": "Equinox",
  "component": "Incubator",
  "severity": "normal"
}