{
  "comments": [
    "Build 20030605 (M1)\nI tried to extract an interface from the following class. In the dialog, I\nchose to change references to the class to reference the interface where\npossible and I selected the getSelectedResource() method to be placed in the\ninterface:\n\npublic class ExpandVariableContext {\n\t\n\tprivate IResource selectedResource \u003d null;\n\t\n\t/**\n\t * Create a context for a launch configuration running\n\t * with the given resource selected.\n\t * \n\t * @param selectedResource the \u003ccode\u003eIResource\u003c/code\u003e selected\n\t * \t\tor \u003ccode\u003enull\u003c/code\u003e if none.\n\t */\n\tpublic ExpandVariableContext(IResource selectedResource) {\n\t\tsuper();\n\t\tif (selectedResource !\u003d null) {\n\t\t\tthis.selectedResource \u003d selectedResource;\n\t\t}\n\t}\n\t\n\t/**\n\t * Returns the resource selected at the time the tool\n\t * is run, or \u003ccode\u003enull\u003c/code\u003e if none selected.\n\t * \n\t * @return the \u003ccode\u003eIResource\u003c/code\u003e selected, or \u003ccode\u003enull\u003c/code\u003e if none\n\t */\n\tpublic IResource getSelectedResource() {\n\t\treturn selectedResource;\n\t}\n}\n\n!ENTRY org.eclipse.jdt.ui 4 10001 Jun 07, 2003 13:40:46.765\n!MESSAGE Internal Error\n!STACK 0\njava.lang.reflect.InvocationTargetException\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:283)\n\tat org.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2.\nrun(RefactoringWizardDialog2.java:271)\n\tat org.eclipse.jdt.internal.ui.refactoring.RefactoringWizard.\ncreateChange(RefactoringWizard.java:339)\n\tat org.eclipse.jdt.internal.ui.refactoring.RefactoringWizard.\ncomputeUserInputSuccessorPage(RefactoringWizard.java:261)\n\tat org.eclipse.jdt.internal.ui.refactoring.RefactoringWizard.\ncomputeUserInputSuccessorPage(RefactoringWizard.java:257)\n\tat org.eclipse.jdt.internal.ui.refactoring.UserInputWizardPage.\ngetNextPage(UserInputWizardPage.java:79)\n\tat org.eclipse.jdt.internal.ui.refactoring.\nExtractInterfaceWizard$ExtractInterfaceInputPage.\ngetNextPage(ExtractInterfaceWizard.java:220)\n\tat org.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2.\npreviewPressed(RefactoringWizardDialog2.java:418)\n\tat org.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2.\naccess$3(RefactoringWizardDialog2.java:416)\n\tat org.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2$1.\nwidgetSelected(RefactoringWizardDialog2.java:547)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:81)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:933)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1735)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1527)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:583)\n\tat org.eclipse.jface.window.Window.open(Window.java:563)\n\tat org.eclipse.jdt.internal.ui.refactoring.actions.RefactoringStarter.\nactivate(RefactoringStarter.java:55)\n\tat org.eclipse.jdt.ui.actions.ExtractInterfaceAction.\nstartRefactoring(ExtractInterfaceAction.java:176)\n\tat org.eclipse.jdt.ui.actions.ExtractInterfaceAction.\nrun(ExtractInterfaceAction.java:100)\n\tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.\ndispatchRun(SelectionDispatchAction.java:191)\n\tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.\nrun(SelectionDispatchAction.java:169)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:842)\n\tat org.eclipse.jface.action.ActionContributionItem.\nhandleWidgetSelection(ActionContributionItem.java:542)\n\tat org.eclipse.jface.action.ActionContributionItem.\naccess$4(ActionContributionItem.java:496)\n\tat org.eclipse.jface.action.ActionContributionItem$6.\nhandleEvent(ActionContributionItem.java:468)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:81)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:933)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1735)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1527)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1399)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1382)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.\nrun(InternalBootLoader.java:858)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\njava:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.\ninvoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:291)\n\tat org.eclipse.core.launcher.Main.run(Main.java:747)\n\tat org.eclipse.core.launcher.Main.main(Main.java:583)\nCaused by: java.lang.IndexOutOfBoundsException: Index: 1, Size: 1\n\tat java.util.ArrayList.RangeCheck(ArrayList.java:508)\n\tat java.util.ArrayList.get(ArrayList.java:320)\n\tat org.eclipse.jdt.core.dom.ASTNode$NodeList.get(ASTNode.java:747)\n\tat org.eclipse.jdt.internal.corext.refactoring.structure.\nUseSupertypeWherePossibleUtil.\ngetParameterDeclarationNode(UseSupertypeWherePossibleUtil.java:393)\n\tat org.eclipse.jdt.internal.corext.refactoring.structure.\nUseSupertypeWherePossibleUtil.\ngetParameterDeclarationNode(UseSupertypeWherePossibleUtil.java:387)\n\tat org.eclipse.jdt.internal.corext.refactoring.structure.\nUseSupertypeWherePossibleUtil.\nisAnyParameterDeclarationExcluded(UseSupertypeWherePossibleUtil.java:375)\n\tat org.eclipse.jdt.internal.corext.refactoring.structure.\nUseSupertypeWherePossibleUtil.hasIndirectProblems(UseSupertypeWherePossibleUtil.\njava:289)\n\tat org.eclipse.jdt.internal.corext.refactoring.structure.\nUseSupertypeWherePossibleUtil.\ncomputeNodesToRemove(UseSupertypeWherePossibleUtil.java:242)\n\tat org.eclipse.jdt.internal.corext.refactoring.structure.\nUseSupertypeWherePossibleUtil.\nretainUpdatableNodes(UseSupertypeWherePossibleUtil.java:215)\n\tat org.eclipse.jdt.internal.corext.refactoring.structure.\nUseSupertypeWherePossibleUtil.getNodesToUpdate(UseSupertypeWherePossibleUtil.\njava:210)\n\tat org.eclipse.jdt.internal.corext.refactoring.structure.\nUseSupertypeWherePossibleUtil.\naddReferenceUpdatesAndImports(UseSupertypeWherePossibleUtil.java:175)\n\tat org.eclipse.jdt.internal.corext.refactoring.structure.\nUseSupertypeWherePossibleUtil.updateReferences(UseSupertypeWherePossibleUtil.\njava:138)\n\tat org.eclipse.jdt.internal.corext.refactoring.structure.\nUseSupertypeWherePossibleUtil.updateReferences(UseSupertypeWherePossibleUtil.\njava:147)\n\tat org.eclipse.jdt.internal.corext.refactoring.structure.\nExtractInterfaceRefactoring.updateReferences(ExtractInterfaceRefactoring.java:\n323)\n\tat org.eclipse.jdt.internal.corext.refactoring.structure.\nExtractInterfaceRefactoring.createChangeManager(ExtractInterfaceRefactoring.\njava:289)\n\tat org.eclipse.jdt.internal.corext.refactoring.structure.\nExtractInterfaceRefactoring.checkInput(ExtractInterfaceRefactoring.java:206)\n\tat org.eclipse.jdt.internal.ui.refactoring.CheckConditionsOperation.\nrun(CheckConditionsOperation.java:65)\n\tat org.eclipse.jdt.internal.ui.refactoring.CreateChangeOperation.\nrun(CreateChangeOperation.java:100)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.\nrun(ModalContext.java:101)",
    "I get the exception whether I press \"OK\" or \"Preview\".",
    "Adam, please take care.",
    "i guess there must have been other references to that class\ni cannot reproduce by just creating the class and an empty interface IResource\nwill try getting debug in source and retry then",
    "can\u0027t reproduce - i took debug.core and debug.ui in source and tried this \nrefactoring but no error appeared",
    "I\u0027m also unable to reproduce the problem. I even tried running on the 20030605 \nbuild and checking out version 20030603 of the affected projects.\n\nStill, I don\u0027t think this exception should be ignored. It could just be that \nthere is some other prerequisite for making it happen - for instance, I\u0027d done a \nnumber of other refactorings (mostly Move) before I tried Extract Interface. The \nproblem could have been caused by whatever refactoring I did before this one.",
    "the problem is that we now rewrote the whole thing completely and the \nstacktrace is not informative anymore\nso without a reproduible test case i cannot do much"
  ],
  "commentCreationDates": [
    "2003-06-07T20:38:43+02:00",
    "2003-06-07T20:41:10+02:00",
    "2003-06-10T10:49:13+02:00",
    "2003-07-11T12:08:31+02:00",
    "2003-07-11T12:19:19+02:00",
    "2003-07-11T17:30:06+02:00",
    "2003-07-11T18:10:48+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.reflect.InvocationTargetException",
      "elements": [
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:283"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2.run",
          "source": "RefactoringWizardDialog2.java:271"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.RefactoringWizard.createChange",
          "source": "RefactoringWizard.java:339"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.RefactoringWizard.computeUserInputSuccessorPage",
          "source": "RefactoringWizard.java:261"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.RefactoringWizard.computeUserInputSuccessorPage",
          "source": "RefactoringWizard.java:257"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.UserInputWizardPage.getNextPage",
          "source": "UserInputWizardPage.java:79"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.ExtractInterfaceWizard$ExtractInterfaceInputPage.getNextPage",
          "source": "ExtractInterfaceWizard.java:220"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2.previewPressed",
          "source": "RefactoringWizardDialog2.java:418"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2.access$3",
          "source": "RefactoringWizardDialog2.java:416"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2$1.widgetSelected",
          "source": "RefactoringWizardDialog2.java:547"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:89"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:81"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:933"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1735"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1527"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:583"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:563"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.actions.RefactoringStarter.activate",
          "source": "RefactoringStarter.java:55"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.ExtractInterfaceAction.startRefactoring",
          "source": "ExtractInterfaceAction.java:176"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.ExtractInterfaceAction.run",
          "source": "ExtractInterfaceAction.java:100"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun",
          "source": "SelectionDispatchAction.java:191"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.run",
          "source": "SelectionDispatchAction.java:169"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:842"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:542"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$4",
          "source": "ActionContributionItem.java:496"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$6.handleEvent",
          "source": "ActionContributionItem.java:468"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:81"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:933"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1735"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1527"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1399"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1382"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:858"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl. java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:291"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:747"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:583"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.IndexOutOfBoundsException",
        "message": "Index: 1, Size: 1",
        "elements": [
          {
            "method": "java.util.ArrayList.RangeCheck",
            "source": "ArrayList.java:508"
          },
          {
            "method": "java.util.ArrayList.get",
            "source": "ArrayList.java:320"
          },
          {
            "method": "org.eclipse.jdt.core.dom.ASTNode$NodeList.get",
            "source": "ASTNode.java:747"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.refactoring.structure.UseSupertypeWherePossibleUtil.getParameterDeclarationNode",
            "source": "UseSupertypeWherePossibleUtil.java:393"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.refactoring.structure.UseSupertypeWherePossibleUtil.getParameterDeclarationNode",
            "source": "UseSupertypeWherePossibleUtil.java:387"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.refactoring.structure.UseSupertypeWherePossibleUtil.isAnyParameterDeclarationExcluded",
            "source": "UseSupertypeWherePossibleUtil.java:375"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.refactoring.structure.UseSupertypeWherePossibleUtil.hasIndirectProblems",
            "source": "UseSupertypeWherePossibleUtil. java:289"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.refactoring.structure.UseSupertypeWherePossibleUtil.computeNodesToRemove",
            "source": "UseSupertypeWherePossibleUtil.java:242"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.refactoring.structure.UseSupertypeWherePossibleUtil.retainUpdatableNodes",
            "source": "UseSupertypeWherePossibleUtil.java:215"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.refactoring.structure.UseSupertypeWherePossibleUtil.getNodesToUpdate",
            "source": "UseSupertypeWherePossibleUtil. java:210"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.refactoring.structure.UseSupertypeWherePossibleUtil.addReferenceUpdatesAndImports",
            "source": "UseSupertypeWherePossibleUtil.java:175"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.refactoring.structure.UseSupertypeWherePossibleUtil.updateReferences",
            "source": "UseSupertypeWherePossibleUtil. java:138"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.refactoring.structure.UseSupertypeWherePossibleUtil.updateReferences",
            "source": "UseSupertypeWherePossibleUtil. java:147"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.refactoring.structure.ExtractInterfaceRefactoring.updateReferences",
            "source": "ExtractInterfaceRefactoring.java: 323"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.refactoring.structure.ExtractInterfaceRefactoring.createChangeManager",
            "source": "ExtractInterfaceRefactoring. java:289"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.refactoring.structure.ExtractInterfaceRefactoring.checkInput",
            "source": "ExtractInterfaceRefactoring.java:206"
          },
          {
            "method": "org.eclipse.jdt.internal.ui.refactoring.CheckConditionsOperation.run",
            "source": "CheckConditionsOperation.java:65"
          },
          {
            "method": "org.eclipse.jdt.internal.ui.refactoring.CreateChangeOperation.run",
            "source": "CreateChangeOperation.java:100"
          },
          {
            "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
            "source": "ModalContext.java:101"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "38625",
      "date": "2003-06-07T20:38:43+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "38625",
  "bugId": "38625",
  "date": "2003-06-07T20:38:43+02:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}