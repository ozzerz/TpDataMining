{
  "comments": [
    "This bug is for 3.0 RC2. I did not encounter this with RC1 or with M9.\nTrying to create a new file association (like *.sql, *.tmpl), it fails with a NPE.\n\nHere is the log.\n!ENTRY org.eclipse.core.runtime 4 0 Jun 13, 2004 10:00:51.938\n!MESSAGE java.lang.NullPointerException\n!STACK 0\njava.lang.NullPointerException\n\tat\norg.eclipse.ui.internal.registry.EditorRegistry.addExternalEditorsToEditorMap(EditorRegistry.java:199)\n\tat\norg.eclipse.ui.internal.registry.EditorRegistry.rebuildEditorMap(EditorRegistry.java:779)\n\tat\norg.eclipse.ui.internal.registry.EditorRegistry.setFileEditorMappings(EditorRegistry.java:904)\n\tat\norg.eclipse.ui.internal.dialogs.FileEditorsPreferencePage.performOk(FileEditorsPreferencePage.java:406)\n\tat org.eclipse.jface.preference.PreferenceDialog$11.run(PreferenceDialog.java:745)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:615)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:758)\n\tat\norg.eclipse.jface.preference.PreferenceDialog.okPressed(PreferenceDialog.java:728)\n\tat\norg.eclipse.jface.preference.PreferenceDialog.buttonPressed(PreferenceDialog.java:199)\n\tat\norg.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog.buttonPressed(WorkbenchPreferenceDialog.java:75)\n\tat org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:506)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2732)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2398)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:668)\n\tat org.eclipse.jface.window.Window.open(Window.java:648)\n\tat org.eclipse.ui.internal.OpenPreferencesAction.run(OpenPreferencesAction.java:72)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:881)\n\tat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:915)\n\tat\norg.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:866)\n\tat\norg.eclipse.jface.action.ActionContributionItem$7.handleEvent(ActionContributionItem.java:785)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2732)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2398)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1362)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1333)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:252)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:334)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:272)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:128)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\n\tat org.eclipse.core.launcher.Main.run(Main.java:638)\n\tat org.eclipse.core.launcher.Main.main(Main.java:622)",
    "I cannot replicate this on RC2.  Can you provide any further details?",
    "Some changes were made to the EditorRegistry to fix Bug 48116 for M9. This is\nprobably related. I will download RC2 and take a look.",
    "I could not reproduce either with RC2. I added 2 file associations (Internal\neditors and External programs).  ",
    "Seems that I can\u0027t reproduce it anymore. ",
    "Had you installed any other plugins on top of RC2?",
    "I have a set of plugins that I am using. Two are standing out:\nXMLBuddy 2.0.10 and Freemarker editor plugin v0.3.\nHere is what I did:\nI installed 3.0RC2 with a new workspace.\nI added an plugin extension to the directory and Eclipse restarted.\nHere however Eclipse died. I had to kill the process and start Eclipse again.\nI got the error when I was trying to set an association *.tmpl to Freemarker.\nWhen I restarted Eclipse, the error did not show again, so I am guessing maybe\nthe workspace was corrupted.\n\nI will install RC2 again and see if it happens again.\n \n\n\n",
    "Visual inspection of the code seems to indicate that this NPE would only be \npossible if another exception happened earlier -- preventing the initialization \nof the editor registry.  If this were the case, Eclipse would be largely \nunusable and there should be many more exceptions in the log.  Was there \nanything else in the log? \n \nThe only other thing I can think of is some kind of threading issue, but I \ndidn\u0027t think the editor registry needed to be thread-safe. \n \nKim, Ines: Could one of you (if you have a chance) look at the code to make \nsure I\u0027m not missing something? \n \n \n ",
    "closing"
  ],
  "commentCreationDates": [
    "2004-06-13T16:06:26+02:00",
    "2004-06-13T17:30:06+02:00",
    "2004-06-13T21:37:50+02:00",
    "2004-06-13T22:11:15+02:00",
    "2004-06-14T05:17:27+02:00",
    "2004-06-14T13:45:21+02:00",
    "2004-06-14T15:18:53+02:00",
    "2004-06-14T15:46:00+02:00",
    "2004-06-24T16:01:09+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.internal.registry.EditorRegistry.addExternalEditorsToEditorMap",
          "source": "EditorRegistry.java:199"
        },
        {
          "method": "org.eclipse.ui.internal.registry.EditorRegistry.rebuildEditorMap",
          "source": "EditorRegistry.java:779"
        },
        {
          "method": "org.eclipse.ui.internal.registry.EditorRegistry.setFileEditorMappings",
          "source": "EditorRegistry.java:904"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.FileEditorsPreferencePage.performOk",
          "source": "FileEditorsPreferencePage.java:406"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog$11.run",
          "source": "PreferenceDialog.java:745"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:615"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:758"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog.okPressed",
          "source": "PreferenceDialog.java:728"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog.buttonPressed",
          "source": "PreferenceDialog.java:199"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog.buttonPressed",
          "source": "WorkbenchPreferenceDialog.java:75"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$2.widgetSelected",
          "source": "Dialog.java:506"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:89"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:796"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2732"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2398"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:668"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:648"
        },
        {
          "method": "org.eclipse.ui.internal.OpenPreferencesAction.run",
          "source": "OpenPreferencesAction.java:72"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:881"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:915"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:866"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$7.handleEvent",
          "source": "ActionContributionItem.java:785"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:796"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2732"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2398"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1362"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1333"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:252"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:141"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:96"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:334"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:272"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:128"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:638"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:622"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "66864",
      "date": "2004-06-13T16:06:26+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "critical"
    }
  ],
  "groupId": "66864",
  "bugId": "66864",
  "date": "2004-06-13T16:06:26+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "critical"
}