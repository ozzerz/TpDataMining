{
  "comments": [
    "Illiminate uneccessary work from the debug UI plug-in startup.",
    "Investigate lazy init of image registry.",
    "Fixed. Removed agressive init of image registry in debug platform UI and java \ndebug UI. The registry is created lazily on demand.",
    "Please verify, Darin S.",
    "This opens all of the SWT thread access problems again.\nTest case:\nHave a workspace with only the java perspective open (no debug)\nSet a breakpoint in some source that will get installed.\nSet it so that no switching occurs on a debug launch\n\njava.lang.ExceptionInInitializerError\n\tat \norg.eclipse.jdt.internal.debug.ui.JDIImageDescriptor.drawBreakpointOverlays\n(JDIImageDescriptor.java:169)\n\tat org.eclipse.jdt.internal.debug.ui.JDIImageDescriptor.drawOverlays\n(JDIImageDescriptor.java:155)\n\tat \norg.eclipse.jdt.internal.debug.ui.JDIImageDescriptor.drawCompositeImage\n(JDIImageDescriptor.java:104)\n\tat org.eclipse.jface.resource.CompositeImageDescriptor.getImageData\n(CompositeImageDescriptor.java:184)\n\tat org.eclipse.jface.resource.ImageDescriptor.createImage\n(ImageDescriptor.java:112)\n\tat org.eclipse.jface.resource.ImageDescriptor.createImage\n(ImageDescriptor.java:88)\n\tat org.eclipse.jface.resource.ImageDescriptor.createImage\n(ImageDescriptor.java:77)\n\tat org.eclipse.jdt.internal.debug.ui.ImageDescriptorRegistry.get\n(ImageDescriptorRegistry.java:60)\n\tat \norg.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getJavaBreakpointImage\n(JDIModelPresentation.java:697)\n\tat \norg.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getBreakpointImage\n(JDIModelPresentation.java:662)\n\tat org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getImage\n(JDIModelPresentation.java:631)\n\tat org.eclipse.debug.internal.ui.LazyModelPresentation.getImage\n(LazyModelPresentation.java:61)\n\tat org.eclipse.debug.internal.ui.DelegatingModelPresentation.getImage\n(DelegatingModelPresentation.java:105)\n\tat \norg.eclipse.jdt.internal.ui.javaeditor.JavaMarkerAnnotation.initialize\n(JavaMarkerAnnotation.java:77)\n\tat org.eclipse.ui.texteditor.MarkerAnnotation.update\n(MarkerAnnotation.java:208)\n\tat \norg.eclipse.ui.texteditor.AbstractMarkerAnnotationModel.modifyMarkerAnnotation\n(AbstractMarkerAnnotationModel.java:305)\n\tat org.eclipse.ui.texteditor.ResourceMarkerAnnotationModel.update\n(ResourceMarkerAnnotationModel.java:124)\n\tat org.eclipse.ui.texteditor.ResourceMarkerAnnotationModel.access$2\n(ResourceMarkerAnnotationModel.java:109)\n\tat \norg.eclipse.ui.texteditor.ResourceMarkerAnnotationModel$ResourceDeltaVisitor.vi\nsit(ResourceMarkerAnnotationModel.java:68)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:71)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:52)\n\tat \norg.eclipse.ui.texteditor.ResourceMarkerAnnotationModel$ResourceChangeListener.\nresourceChanged(ResourceMarkerAnnotationModel.java:52)\n\tat org.eclipse.core.internal.events.NotificationManager$1.run\n(NotificationManager.java:137)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:850)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:413)\n\tat org.eclipse.core.internal.events.NotificationManager.notify\n(NotificationManager.java:152)\n\tat \norg.eclipse.core.internal.events.NotificationManager.broadcastChanges\n(NotificationManager.java:67)\n\tat org.eclipse.core.internal.resources.Workspace.broadcastChanges\n(Workspace.java:153)\n\tat org.eclipse.core.internal.resources.Workspace.endOperation\n(Workspace.java:862)\n\tat org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1562)\n\tat org.eclipse.debug.core.model.Breakpoint.setAttribute\n(Breakpoint.java:174)\n\tat \norg.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.incrementInstall\nCount(JavaBreakpoint.java:690)\n\tat \norg.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.registerRequest\n(JavaBreakpoint.java:186)\n\tat \norg.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.createRequest\n(JavaBreakpoint.java:349)\n\tat \norg.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.handleClassPrepa\nreEvent(JavaBreakpoint.java:266)\n\tat \norg.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.handleEvent\n(JavaBreakpoint.java:241)\n\tat org.eclipse.jdt.internal.debug.core.EventDispatcher.dispatch\n(EventDispatcher.java:129)\n\tat org.eclipse.jdt.internal.debug.core.EventDispatcher.run\n(EventDispatcher.java:205)\n\tat java.lang.Thread.run(Unknown Source)",
    "Caused by: org.eclipse.swt.SWTException: Invalid thread access\n\tat org.eclipse.swt.SWT.error(SWT.java:2180)\n\tat org.eclipse.swt.SWT.error(SWT.java:2110)\n\tat org.eclipse.swt.widgets.Display.error(Display.java:558)\n\tat org.eclipse.swt.widgets.Display.checkDevice(Display.java:426)\n\tat org.eclipse.swt.widgets.Display.disposeExec(Display.java:535)\n\tat org.eclipse.jface.resource.ImageRegistry.hookDisplayDispose\n(ImageRegistry.java:99)\n\tat org.eclipse.jface.resource.ImageRegistry.\u003cinit\u003e\n(ImageRegistry.java:59)\n\tat org.eclipse.jdt.internal.debug.ui.JavaDebugImages.\u003cclinit\u003e\n(JavaDebugImages.java:38)\n\nWe need to take a look at JavaPluginImages..they seem to have come up with a \nmechanism for handling these cases...see JavaPluginImages.fgAvoidSWTErrorMap.\nI don\u0027t fully understand how it works...but it might make sense in the \nmorning :-)",
    "I filed a bug against JDT-UI for this (bug 29499).",
    "I removed the change in the Java debug UI. The image registry looks like it \nneed a complete re-work.",
    "I will file a bug (deferred) for improving the java debug ui plug-in startup. \nIt is not critical, and is risky at this point. I will leave the Debug ui plug-\nin with the new lazy support.",
    "Fixed java debug images using the same impl as JavaPluginImages. Images are \nstored in a temp hashtable when the image class is loaded, and then copied to \nan image registry when requested (which should be in the UI thread).\n\nDebug UI plugin does not need to do this, since the image reg is simply created \nlazily when requested.",
    "Please verify, Darin S.",
    "Verified."
  ],
  "commentCreationDates": [
    "2002-12-05T17:29:17+01:00",
    "2003-01-14T22:19:16+01:00",
    "2003-01-15T02:15:43+01:00",
    "2003-01-15T02:16:03+01:00",
    "2003-01-15T02:44:14+01:00",
    "2003-01-15T02:49:49+01:00",
    "2003-01-15T02:59:12+01:00",
    "2003-01-15T03:52:13+01:00",
    "2003-01-15T16:03:11+01:00",
    "2003-01-15T16:27:04+01:00",
    "2003-01-15T16:27:20+01:00",
    "2003-01-15T22:36:08+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ExceptionInInitializerError",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JDIImageDescriptor.drawBreakpointOverlays",
          "source": "JDIImageDescriptor.java:169"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JDIImageDescriptor.drawOverlays",
          "source": "JDIImageDescriptor.java:155"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JDIImageDescriptor.drawCompositeImage",
          "source": "JDIImageDescriptor.java:104"
        },
        {
          "method": "org.eclipse.jface.resource.CompositeImageDescriptor.getImageData",
          "source": "CompositeImageDescriptor.java:184"
        },
        {
          "method": "org.eclipse.jface.resource.ImageDescriptor.createImage",
          "source": "ImageDescriptor.java:112"
        },
        {
          "method": "org.eclipse.jface.resource.ImageDescriptor.createImage",
          "source": "ImageDescriptor.java:88"
        },
        {
          "method": "org.eclipse.jface.resource.ImageDescriptor.createImage",
          "source": "ImageDescriptor.java:77"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.ImageDescriptorRegistry.get",
          "source": "ImageDescriptorRegistry.java:60"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getJavaBreakpointImage",
          "source": "JDIModelPresentation.java:697"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getBreakpointImage",
          "source": "JDIModelPresentation.java:662"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getImage",
          "source": "JDIModelPresentation.java:631"
        },
        {
          "method": "org.eclipse.debug.internal.ui.LazyModelPresentation.getImage",
          "source": "LazyModelPresentation.java:61"
        },
        {
          "method": "org.eclipse.debug.internal.ui.DelegatingModelPresentation.getImage",
          "source": "DelegatingModelPresentation.java:105"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.JavaMarkerAnnotation.initialize",
          "source": "JavaMarkerAnnotation.java:77"
        },
        {
          "method": "org.eclipse.ui.texteditor.MarkerAnnotation.update",
          "source": "MarkerAnnotation.java:208"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractMarkerAnnotationModel.modifyMarkerAnnotation",
          "source": "AbstractMarkerAnnotationModel.java:305"
        },
        {
          "method": "org.eclipse.ui.texteditor.ResourceMarkerAnnotationModel.update",
          "source": "ResourceMarkerAnnotationModel.java:124"
        },
        {
          "method": "org.eclipse.ui.texteditor.ResourceMarkerAnnotationModel.access$2",
          "source": "ResourceMarkerAnnotationModel.java:109"
        },
        {
          "method": "org.eclipse.ui.texteditor.ResourceMarkerAnnotationModel$ResourceDeltaVisitor.visit",
          "source": "ResourceMarkerAnnotationModel.java:68"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:71"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:52"
        },
        {
          "method": "org.eclipse.ui.texteditor.ResourceMarkerAnnotationModel$ResourceChangeListener.resourceChanged",
          "source": "ResourceMarkerAnnotationModel.java:52"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager$1.run",
          "source": "NotificationManager.java:137"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:850"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:413"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.notify",
          "source": "NotificationManager.java:152"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.broadcastChanges",
          "source": "NotificationManager.java:67"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.broadcastChanges",
          "source": "Workspace.java:153"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.endOperation",
          "source": "Workspace.java:862"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1562"
        },
        {
          "method": "org.eclipse.debug.core.model.Breakpoint.setAttribute",
          "source": "Breakpoint.java:174"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.incrementInstallCount",
          "source": "JavaBreakpoint.java:690"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.registerRequest",
          "source": "JavaBreakpoint.java:186"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.createRequest",
          "source": "JavaBreakpoint.java:349"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.handleClassPrepareEvent",
          "source": "JavaBreakpoint.java:266"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.handleEvent",
          "source": "JavaBreakpoint.java:241"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.EventDispatcher.dispatch",
          "source": "EventDispatcher.java:129"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.EventDispatcher.run",
          "source": "EventDispatcher.java:205"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Unknown Source"
        }
      ],
      "number": 0,
      "commentIndex": 4,
      "bugId": "27782",
      "date": "2003-01-15T02:44:14+01:00",
      "product": "Platform",
      "component": "Debug",
      "severity": "enhancement"
    },
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Invalid thread access",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2180"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2110"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.error",
          "source": "Display.java:558"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.checkDevice",
          "source": "Display.java:426"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.disposeExec",
          "source": "Display.java:535"
        },
        {
          "method": "org.eclipse.jface.resource.ImageRegistry.hookDisplayDispose",
          "source": "ImageRegistry.java:99"
        },
        {
          "method": "org.eclipse.jface.resource.ImageRegistry.\u003cinit\u003e",
          "source": "ImageRegistry.java:59"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JavaDebugImages.\u003cclinit\u003e",
          "source": "JavaDebugImages.java:38"
        }
      ],
      "number": 1,
      "commentIndex": 5,
      "bugId": "27782",
      "date": "2003-01-15T02:49:49+01:00",
      "product": "Platform",
      "component": "Debug",
      "severity": "enhancement"
    }
  ],
  "groupId": "27782",
  "bugId": "27782",
  "date": "2002-12-05T17:29:17+01:00",
  "product": "Platform",
  "component": "Debug",
  "severity": "enhancement"
}