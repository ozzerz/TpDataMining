{
  "comments": [
    "Description: \nThe following IOException is thrown from the Debug core when supplying a running program with some data through the console.\n!MESSAGE Error logged from Debug Core:\n!STACK 0\njava.io.IOException: read error\n        at org.eclipse.cdt.utils.pty.PTYInputStream.read0(Native Method)\n        at org.eclipse.cdt.utils.pty.PTYInputStream.read(PTYInputStream.java:59)\n        at java.io.BufferedInputStream.read1(BufferedInputStream.java:254)\n        at java.io.BufferedInputStream.read(BufferedInputStream.java:313)\n        at java.io.FilterInputStream.read(FilterInputStream.java:90)\n        at org.eclipse.debug.internal.core.OutputStreamMonitor.read\n(OutputStreamMonitor.java:144)\n        at org.eclipse.debug.internal.core.OutputStreamMonitor.access$1\n(OutputStreamMonitor.java:134)\n        at org.eclipse.debug.internal.core.OutputStreamMonitor$1.run\n(OutputStreamMonitor.java:207)\n        at java.lang.Thread.run(Thread.java:595)\n\nBuild date: I20070426\nOS: RedHat Enterprise Linux V4.0 \n\nSteps to recreate\n1- Create an executable C++ project\n - Menu File -\u003e New -\u003e Project... -\u003e C++ project\n - Enter Project name, select Executable as project type and click Next, the\nFinish.\n2- Create a new C++ source file and type its content from the attached file\nbelow (main.cpp)\n3- Right Click on the project and select Build Project\n4- Run the resulted executable: Right click on it and select Run \u003e Run Local C/C++ Application\n5- Enter some text when prompted at the console\n\nExpected output:\nThe program is executed correctly but an IOException is thrown after entering the text at the console.\n\nAdditional info:\nThis bug occured also in Solaris10(Sparc GTK) platform.",
    "Created an attachment (id\u003d65189)\nmain.cpp\n\n",
    "Hi Karim,\n\nAs with bug 184400, I cannot reproduce the this on the latest CDT build (I200704301150).  Can you\nplease give this build a try?  Here\u0027s the link again:\nhttp://fullmoon.torolab.ibm.com/tools/cdt/builds/4.0.0/I.I200704301150/index.html\n\nThanks.",
    "We had a few respins so please get the latest build from this link:\n\nhttp://fullmoon.torolab.ibm.com/tools/cdt/builds/4.0.0/index.html\n\nThanks",
    "I was able to reproduce this with build I200704302030 on RHEL 5.0.\n\nI got a different error message though:\n!ENTRY org.eclipse.debug.core 4 120 2007-05-01 06:49:28.416\n!MESSAGE Error logged from Debug Core: \n!STACK 0\njava.io.IOException: read error\n   at java.lang.reflect.Constructor.newInstance(libgcj.so.7rh)\n\nAssigning this bug to cdt-debug.",
    "(In reply to comment #4)\n\u003e I was able to reproduce this with build I200704302030 on RHEL 5.0.\n\u003e java.io.IOException: read error\n\u003e    at java.lang.reflect.Constructor.newInstance(libgcj.so.7rh)\n\nThis is totally different. Given the libgcj, I assume you\u0027re using the gcj VM which is not a supported VM and is fraught with issues.",
    "My bad...\n\nI was using the IBM JVM to try it out again and I got the following error:\n!ENTRY org.eclipse.debug.core 4 120 2007-05-01 07:56:20.345\n!MESSAGE Error logged from Debug Core: \n!STACK 0\njava.io.IOException: read error\n\tat org.eclipse.cdt.utils.spawner.SpawnerInputStream.read(SpawnerInputStream.java:60)\n\tat java.io.BufferedInputStream.read1(BufferedInputStream.java:265)\n\tat java.io.BufferedInputStream.read(BufferedInputStream.java:324)\n\tat java.io.FilterInputStream.read(FilterInputStream.java:113)\n\tat org.eclipse.debug.internal.core.OutputStreamMonitor.read(OutputStreamMonitor.java:144)\n\tat org.eclipse.debug.internal.core.OutputStreamMonitor.access$1(OutputStreamMonitor.java:134)\n\tat org.eclipse.debug.internal.core.OutputStreamMonitor$1.run(OutputStreamMonitor.java:207)\n\tat java.lang.Thread.run(Thread.java:803)\n",
    "BTW I can only reproduce this bug on the nightly builds.  The error message didn\u0027t show up if I ran it from HEAD.",
    "In the linux_x86 fragment, I modified io.c (where the native method for SpawnerInputStream.read0() is defined) to give back what errno is set to when the call to read() fails.\n\nIn this case, it\u0027s EIO.  Here\u0027s the description from the man page:\n\n       EIO    I/O error. This will happen for example when the process is in a\n              background  process  group,  tries  to read from its controlling\n              tty, and either it is ignoring or blocking SIGTTIN or  its  pro-\n              cess  group is orphaned.  It may also occur when there is a low-\n              level I/O error while reading from a disk or tape.\n\nAs Vivian mentioned, the odd thing is that errno is set to EIO when I run a build.  I can\u0027t reproduce this when I run a workbench based on source checked out from HEAD.  \n",
    "I have the same problem with a slightly different call stack:\n\nError logged from Debug Core:\njava.io.IOException: read error\nat org.eclipse.cdt.utils.spawner.SpawnerInputStream.read0(Native Method)\nat org.eclipse.cdt.utils.spawner.SpawnerInputStream.read(SpawnerInputStream.java:60)\nat java.io.BufferedInputStream.read1(BufferedInputStream.java:256)\nat java.io.BufferedInputStream.read(BufferedInputStream.java:317)\nat java.io.FilterInputStream.read(FilterInputStream.java:90)\nat org.eclipse.debug.internal.core.OutputStreamMonitor.read(OutputStreamMonitor.java:144)\nat org.eclipse.debug.internal.core.OutputStreamMonitor.access$1(OutputStreamMonitor.java:134)\nat org.eclipse.debug.internal.core.OutputStreamMonitor$1.run(OutputStreamMonitor.java:207)\nat java.lang.Thread.run(Thread.java:619)\n\neclipse.buildId\u003dI20070525-1350\njava.version\u003d1.6.0_01\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dlinux, ARCH\u003dx86_64, WS\u003dgtk, NL\u003dde_DE\nCommand-line arguments:  -os linux -ws gtk -arch x86_64\n\nIt happens whenever I want to debug my program. I first get an\nsegfault whcih I want to debug, try to analyse it by selecting\na top level frame (one higher level in the callstack) and the\ndebugger session stops.\n\nMy application doesn\u0027t expect any kind of input ...\n"
  ],
  "commentCreationDates": [
    "2007-04-27T12:40:52+02:00",
    "2007-04-27T12:42:41+02:00",
    "2007-04-30T16:56:13+02:00",
    "2007-05-01T03:36:41+02:00",
    "2007-05-01T16:54:36+02:00",
    "2007-05-01T16:57:47+02:00",
    "2007-05-01T17:58:32+02:00",
    "2007-05-03T17:20:14+02:00",
    "2007-05-03T17:35:18+02:00",
    "2007-06-11T11:16:49+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.io.IOException",
      "message": "read error",
      "elements": [
        {
          "method": "org.eclipse.cdt.utils.pty.PTYInputStream.read0",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.cdt.utils.pty.PTYInputStream.read",
          "source": "PTYInputStream.java:59"
        },
        {
          "method": "java.io.BufferedInputStream.read1",
          "source": "BufferedInputStream.java:254"
        },
        {
          "method": "java.io.BufferedInputStream.read",
          "source": "BufferedInputStream.java:313"
        },
        {
          "method": "java.io.FilterInputStream.read",
          "source": "FilterInputStream.java:90"
        },
        {
          "method": "org.eclipse.debug.internal.core.OutputStreamMonitor.read",
          "source": "OutputStreamMonitor.java:144"
        },
        {
          "method": "org.eclipse.debug.internal.core.OutputStreamMonitor.access$1",
          "source": "OutputStreamMonitor.java:134"
        },
        {
          "method": "org.eclipse.debug.internal.core.OutputStreamMonitor$1.run",
          "source": "OutputStreamMonitor.java:207"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:595"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "184403",
      "date": "2007-04-27T12:40:52+02:00",
      "product": "CDT",
      "component": "cdt-debug",
      "severity": "normal"
    },
    {
      "exceptionType": "java.io.IOException",
      "message": "read error",
      "elements": [
        {
          "method": "java.lang.reflect.Constructor.newInstance",
          "source": "libgcj.so.7rh"
        }
      ],
      "number": 1,
      "commentIndex": 4,
      "bugId": "184403",
      "date": "2007-05-01T16:54:36+02:00",
      "product": "CDT",
      "component": "cdt-debug",
      "severity": "normal"
    },
    {
      "exceptionType": "java.io.IOException",
      "message": "read error \u003e",
      "elements": [
        {
          "method": "java.lang.reflect.Constructor.newInstance",
          "source": "libgcj.so.7rh"
        }
      ],
      "number": 2,
      "commentIndex": 5,
      "bugId": "184403",
      "date": "2007-05-01T16:57:47+02:00",
      "product": "CDT",
      "component": "cdt-debug",
      "severity": "normal"
    },
    {
      "exceptionType": "java.io.IOException",
      "message": "read error",
      "elements": [
        {
          "method": "org.eclipse.cdt.utils.spawner.SpawnerInputStream.read",
          "source": "SpawnerInputStream.java:60"
        },
        {
          "method": "java.io.BufferedInputStream.read1",
          "source": "BufferedInputStream.java:265"
        },
        {
          "method": "java.io.BufferedInputStream.read",
          "source": "BufferedInputStream.java:324"
        },
        {
          "method": "java.io.FilterInputStream.read",
          "source": "FilterInputStream.java:113"
        },
        {
          "method": "org.eclipse.debug.internal.core.OutputStreamMonitor.read",
          "source": "OutputStreamMonitor.java:144"
        },
        {
          "method": "org.eclipse.debug.internal.core.OutputStreamMonitor.access$1",
          "source": "OutputStreamMonitor.java:134"
        },
        {
          "method": "org.eclipse.debug.internal.core.OutputStreamMonitor$1.run",
          "source": "OutputStreamMonitor.java:207"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:803"
        }
      ],
      "number": 3,
      "commentIndex": 6,
      "bugId": "184403",
      "date": "2007-05-01T17:58:32+02:00",
      "product": "CDT",
      "component": "cdt-debug",
      "severity": "normal"
    },
    {
      "exceptionType": "java.io.IOException",
      "message": "read error",
      "elements": [
        {
          "method": "org.eclipse.cdt.utils.spawner.SpawnerInputStream.read0",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.cdt.utils.spawner.SpawnerInputStream.read",
          "source": "SpawnerInputStream.java:60"
        },
        {
          "method": "java.io.BufferedInputStream.read1",
          "source": "BufferedInputStream.java:256"
        },
        {
          "method": "java.io.BufferedInputStream.read",
          "source": "BufferedInputStream.java:317"
        },
        {
          "method": "java.io.FilterInputStream.read",
          "source": "FilterInputStream.java:90"
        },
        {
          "method": "org.eclipse.debug.internal.core.OutputStreamMonitor.read",
          "source": "OutputStreamMonitor.java:144"
        },
        {
          "method": "org.eclipse.debug.internal.core.OutputStreamMonitor.access$1",
          "source": "OutputStreamMonitor.java:134"
        },
        {
          "method": "org.eclipse.debug.internal.core.OutputStreamMonitor$1.run",
          "source": "OutputStreamMonitor.java:207"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:619"
        }
      ],
      "number": 4,
      "commentIndex": 9,
      "bugId": "184403",
      "date": "2007-06-11T11:16:49+02:00",
      "product": "CDT",
      "component": "cdt-debug",
      "severity": "normal"
    }
  ],
  "groupId": "184403",
  "bugId": "184403",
  "date": "2007-04-27T12:40:52+02:00",
  "product": "CDT",
  "component": "cdt-debug",
  "severity": "normal"
}