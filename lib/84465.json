{
  "comments": [
    "With the latest code in HEAD (02/04 11:00 a.m.) from server tooling, when I go \nthrough a Web services scenario with an existing Tomcat 4.1 server and a \nproject not added to the server yet, I got the error:\n\nIWAB0534E Unable to add EAR project to Server Configuration.\n    java.lang.IllegalArgumentException:\n    at org.eclipse.core.internal.runtime.Assert.isLegal(Assert.java:58)\n    at org.eclipse.core.internal.runtime.Assert.isLegal(Assert.java:42)\n    at org.eclipse.core.runtime.Status.setMessage(Status.java:174)\n    at org.eclipse.core.runtime.Status.\u003cinit\u003e(Status.java:81)\n    at org.eclipse.wst.server.core.internal.ServerWorkingCopy.modifyModules\n(ServerWorkingCopy.java:344)\n    at org.eclipse.wst.server.core.ServerUtil.modifyModules(ServerUtil.java:398)\n    at org.eclipse.jst.ws.internal.common.ServerUtils.modifyModules\n(ServerUtils.java:129)\n    at \norg.eclipse.jst.ws.internal.consumption.command.common.ServerDeployableConfigura\ntionCommand.execute(ServerDeployableConfigurationCommand.java:104)\n    at \norg.eclipse.wst.command.env.core.fragment.CommandFragmentEngine.runCommand\n(CommandFragmentEngine.java:322)\n\nThe error is a general error in ServerDeployableConfigurationCommand when an \nexception occured.  The exception occurs during modify module.  The message \nshould probably be changed to something more generic since there\u0027s no EAR \ninvolved in the Tomcat server case.",
    "We suspect this problem is beneath the server tools API. Would you please have \na look at this? Seng (sengpl@ca.ibm.com) is chasing this issue from the Web \nservices tools side.\n\nThanks - CB.",
    "Can you please enable tracing for org.eclipse.wst.server.core and rerun the \nscenario? This will log the actual error message so that we can see what the \nproblem is here. I suspect an underlying NPE, which is why we\u0027re not getting \nthe error message already.",
    "Hi Tim,\nHere\u0027s the trace for this problem.  You\u0027re right about the NPE.  It appears \nthere is an NPE in ServerWorkingCopy(line 327).  Hope this helps.\n\n\norg.eclipse.wst.server.core FINEST    11/02/05 14:42.12.212 Firing global \nmodule event\norg.eclipse.wst.server.core LISTENERS 11/02/05 14:42.12.212 -\u003e- Firing \nmoduleEvents 0 1\norg.eclipse.wst.server.core LISTENERS 11/02/05 14:42.12.212   2\u003e \norg.eclipse.wst.server.core.model.ModuleFactoryEvent@7144090\norg.eclipse.wst.server.core LISTENERS 11/02/05 14:42.12.222 -\u003c- Firing \nmoduleEvents 0 0\norg.eclipse.wst.server.core FINEST    11/02/05 14:42.12.222 -\u003c- Done \nProjectModuleFactoryDelegate responding to resource change -\u003c-\njava.lang.NullPointerException\n\tat org.eclipse.wst.server.core.internal.ServerWorkingCopy.modifyModules\n(ServerWorkingCopy.java:327)\n\tat org.eclipse.wst.server.core.ServerUtil.modifyModules\n(ServerUtil.java:398)\n\tat org.eclipse.jst.ws.internal.common.ServerUtils.modifyModules\n(ServerUtils.java:129)\n\tat \norg.eclipse.jst.ws.internal.consumption.command.common.ServerDeployableConfigura\ntionCommand.execute(ServerDeployableConfigurationCommand.java:104)\n\tat \norg.eclipse.wst.command.env.core.fragment.CommandFragmentEngine.runCommand\n(CommandFragmentEngine.java:322)\n\tat \norg.eclipse.wst.command.env.core.fragment.CommandFragmentEngine.visitTop\n(CommandFragmentEngine.java:288)\n\tat \norg.eclipse.wst.command.env.core.fragment.CommandFragmentEngine.moveForwardToNex\ntStop(CommandFragmentEngine.java:208)\n\tat \norg.eclipse.wst.command.env.ui.widgets.SimpleCommandEngineManager$4.run\n(SimpleCommandEngineManager.java:206)\n\tat org.eclipse.jface.operation.ModalContext.runInCurrentThread\n(ModalContext.java:322)\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:269)\n\tat org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:824)\n\tat \norg.eclipse.wst.command.env.ui.widgets.SimpleCommandEngineManager.runForwardToNe\nxtStop(SimpleCommandEngineManager.java:175)\n\tat \norg.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.runForwardToNe\nxtStop(WizardPageManager.java:69)\n\tat \norg.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getNextPage\n(WizardPageManager.java:91)\n\tat \norg.eclipse.wst.command.internal.env.ui.widgets.SimpleWizardPage.getNextPage\n(SimpleWizardPage.java:123)\n\tat org.eclipse.jface.wizard.WizardDialog.nextPressed\n(WizardDialog.java:741)\n\tat org.eclipse.jface.wizard.WizardDialog.buttonPressed\n(WizardDialog.java:338)\n\tat org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:543)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent\n(TypedListener.java:89)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:833)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2803)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java\n(Compiled Code))\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:718)\n\tat org.eclipse.jface.window.Window.open(Window.java:696)\n\tat org.eclipse.ui.actions.NewWizardAction.run(NewWizardAction.java:172)\n\tat org.eclipse.ui.actions.NewWizardDropDownAction.run\n(NewWizardDropDownAction.java:149)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:989)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:555)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2\n(ActionContributionItem.java:505)\n\tat org.eclipse.jface.action.ActionContributionItem$7.handleEvent\n(ActionContributionItem.java:460)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:833)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2803)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2448)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1569)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1540)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench\n(Workbench.java:285)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run\n(IDEApplication.java:102)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run\n(PlatformActivator.java:220)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:273)org.eclipse.wst.server.core RESOURCES 11/02/05 \n14:42.12.643 -\u003e- ServerModelResourceManager responding to resource change: 1 -\u003e-\norg.eclipse.wst.server.core FINEST    11/02/05 14:42.12.643 Loading project \npreferences: P/Servers\norg.eclipse.wst.server.core RESOURCES 11/02/05 14:42.12.653 Resource changed: \nF/Servers/Tomcat v4.1 Server @ localhost-config 4\norg.eclipse.wst.server.core RESOURCES 11/02/05 14:42.12.653 Resource changed: \nL/Servers/Tomcat v4.1 Server @ localhost-config/web.xml 4\norg.eclipse.wst.server.core RESOURCES 11/02/05 14:42.12.663 handleChangedFile: \nL/Servers/Tomcat v4.1 Server @ localhost-config/web.xml\norg.eclipse.wst.server.core RESOURCES 11/02/05 14:42.12.663 No server resource \nfound at: L/Servers/Tomcat v4.1 Server @ localhost-config/web.xml\norg.eclipse.wst.server.core RESOURCES 11/02/05 14:42.12.663 -\u003c- Done \nServerModelResourceManager responding to resource change -\u003c-\norg.eclipse.wst.server.core FINEST    11/02/05 14:42.12.663 -\u003e- \nPublishResourceManager responding to resource change: 1 -\u003e-\norg.eclipse.wst.server.core FINEST    11/02/05 14:42.12.663 \u003e \npublishHandleProjectChange P/Servers\norg.eclipse.wst.server.core FINEST    11/02/05 14:42.12.663 - \npublishHandleProjectChange\norg.eclipse.wst.server.core FINEST    11/02/05 14:42.12.663 \u003c \npublishHandleProjectChange\norg.eclipse.wst.server.core FINEST    11/02/05 14:42.12.663 -\u003c- Done \nPublishResourceManager responding to resource change -\u003c-\norg.eclipse.wst.server.core FINEST    11/02/05 14:42.12.663 -\u003e- \nProjectModuleFactoryDelegate listener responding to resource change: 1 -\u003e-\norg.eclipse.wst.server.core FINEST    11/02/05 14:42.12.663 Firing global \nmodule event\norg.eclipse.wst.server.core FINEST    11/02/05 14:42.12.663 -\u003c- Done \nProjectModuleFactoryDelegate responding to resource change -\u003c-\norg.eclipse.wst.server.core SEVERE    11/02/05 14:42.12.663 Error calling \ndelegate modifyModule() ServerWorkingCopy org.eclipse.jst.server.tomcat.41\n\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:129)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:79)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:41)\n\tat java.lang.reflect.Method.invoke(Method.java:386)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\n\tat org.eclipse.core.launcher.Main.run(Main.java:710)\n\tat org.eclipse.core.launcher.Main.main(Main.java:694)\norg.eclipse.wst.server.core LISTENERS 11/02/05 14:42.12.683 -\u003e- Firing server \nevent: Tomcat v4.1 Server @ localhost -\u003e-\norg.eclipse.wst.server.core LISTENERS 11/02/05 14:42.12.683   Firing server \nevent to org.eclipse.wst.server.core.internal.ServerListener@7608c08d\norg.eclipse.wst.server.core LISTENERS 11/02/05 14:42.12.683   Firing server \nevent to org.eclipse.wst.server.util.internal.Startup$3@4422808e\norg.eclipse.wst.server.core LISTENERS 11/02/05 14:42.12.683   Firing server \nevent to \norg.eclipse.wst.server.ui.internal.view.servers.ServerTableViewer$6@ebc08d\norg.eclipse.wst.server.core LISTENERS 11/02/05 14:42.12.683 -\u003c- Done firing \nserver event -\u003c-",
    "Yup, found it. An array was initialized is other paths but not the one you\u0027re\ntaking. Fix dropped to HEAD stream.",
    "Verified in M3.",
    "Changed Version field given new release numbering.\n"
  ],
  "commentCreationDates": [
    "2005-02-04T19:22:53+01:00",
    "2005-02-09T16:18:54+01:00",
    "2005-02-10T13:52:28+01:00",
    "2005-02-11T19:47:35+01:00",
    "2005-02-12T22:57:32+01:00",
    "2005-03-09T19:49:06+01:00",
    "2005-06-15T07:32:51+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "",
      "elements": [
        {
          "method": "org.eclipse.core.internal.runtime.Assert.isLegal",
          "source": "Assert.java:58"
        },
        {
          "method": "org.eclipse.core.internal.runtime.Assert.isLegal",
          "source": "Assert.java:42"
        },
        {
          "method": "org.eclipse.core.runtime.Status.setMessage",
          "source": "Status.java:174"
        },
        {
          "method": "org.eclipse.core.runtime.Status.\u003cinit\u003e",
          "source": "Status.java:81"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.ServerWorkingCopy.modifyModules",
          "source": "ServerWorkingCopy.java:344"
        },
        {
          "method": "org.eclipse.wst.server.core.ServerUtil.modifyModules",
          "source": "ServerUtil.java:398"
        },
        {
          "method": "org.eclipse.jst.ws.internal.common.ServerUtils.modifyModules",
          "source": "ServerUtils.java:129"
        },
        {
          "method": "org.eclipse.jst.ws.internal.consumption.command.common.ServerDeployableConfigurationCommand.execute",
          "source": "ServerDeployableConfigurationCommand.java:104"
        },
        {
          "method": "org.eclipse.wst.command.env.core.fragment.CommandFragmentEngine.runCommand",
          "source": "CommandFragmentEngine.java:322"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "84465",
      "date": "2005-02-04T19:22:53+01:00",
      "product": "Web Tools",
      "component": "wst.server",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.wst.server.core.internal.ServerWorkingCopy.modifyModules",
          "source": "ServerWorkingCopy.java:327"
        },
        {
          "method": "org.eclipse.wst.server.core.ServerUtil.modifyModules",
          "source": "ServerUtil.java:398"
        },
        {
          "method": "org.eclipse.jst.ws.internal.common.ServerUtils.modifyModules",
          "source": "ServerUtils.java:129"
        },
        {
          "method": "org.eclipse.jst.ws.internal.consumption.command.common.ServerDeployableConfigurationCommand.execute",
          "source": "ServerDeployableConfigurationCommand.java:104"
        },
        {
          "method": "org.eclipse.wst.command.env.core.fragment.CommandFragmentEngine.runCommand",
          "source": "CommandFragmentEngine.java:322"
        },
        {
          "method": "org.eclipse.wst.command.env.core.fragment.CommandFragmentEngine.visitTop",
          "source": "CommandFragmentEngine.java:288"
        },
        {
          "method": "org.eclipse.wst.command.env.core.fragment.CommandFragmentEngine.moveForwardToNextStop",
          "source": "CommandFragmentEngine.java:208"
        },
        {
          "method": "org.eclipse.wst.command.env.ui.widgets.SimpleCommandEngineManager$4.run",
          "source": "SimpleCommandEngineManager.java:206"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:322"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:269"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.run",
          "source": "WizardDialog.java:824"
        },
        {
          "method": "org.eclipse.wst.command.env.ui.widgets.SimpleCommandEngineManager.runForwardToNextStop",
          "source": "SimpleCommandEngineManager.java:175"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.runForwardToNextStop",
          "source": "WizardPageManager.java:69"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getNextPage",
          "source": "WizardPageManager.java:91"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.SimpleWizardPage.getNextPage",
          "source": "SimpleWizardPage.java:123"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.nextPressed",
          "source": "WizardDialog.java:741"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.buttonPressed",
          "source": "WizardDialog.java:338"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$2.widgetSelected",
          "source": "Dialog.java:543"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:89"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:833"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2803"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:718"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:696"
        },
        {
          "method": "org.eclipse.ui.actions.NewWizardAction.run",
          "source": "NewWizardAction.java:172"
        },
        {
          "method": "org.eclipse.ui.actions.NewWizardDropDownAction.run",
          "source": "NewWizardDropDownAction.java:149"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:989"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:555"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:505"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$7.handleEvent",
          "source": "ActionContributionItem.java:460"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:833"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2803"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2448"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1569"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1540"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:285"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:144"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:102"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:220"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:273"
        }
      ],
      "number": 1,
      "commentIndex": 3,
      "bugId": "84465",
      "date": "2005-02-11T19:47:35+01:00",
      "product": "Web Tools",
      "component": "wst.server",
      "severity": "normal"
    }
  ],
  "groupId": "84465",
  "bugId": "84465",
  "date": "2005-02-04T19:22:53+01:00",
  "product": "Web Tools",
  "component": "wst.server",
  "severity": "normal"
}