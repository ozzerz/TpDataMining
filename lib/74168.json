{
  "comments": [
    "R3.0, R3.0.1 and I20040914\n\n1. launch JUnit test for A\n2. rename A to B\n3. delete launch config\n4. undo rename\n\u003d\u003d\u003e error dialog plus .log entry:\n\norg.eclipse.debug.core.DebugException: Launch configuration MoneyTest at\nC:\\eclipse\\drops\\I200409140800\\workspace\\.metadata\\.plugins\\org.eclipse.debug.core\\.launches\\MoneyTest.launch\ndoes not exist.\nat org.eclipse.debug.internal.core.LaunchManager.createDebugException(Unknown\nSource)\nat org.eclipse.debug.internal.core.LaunchManager.getInfo(Unknown Source)\nat org.eclipse.debug.internal.core.LaunchConfiguration.getInfo(Unknown Source)\nat org.eclipse.debug.internal.core.LaunchConfiguration.getAttribute(Unknown Source)\nat\norg.eclipse.jdt.internal.junit.refactoring.LaunchConfigTypeChange.perform(Unknown\nSource)\nat org.eclipse.ltk.core.refactoring.CompositeChange.perform(Unknown Source)\nat org.eclipse.ltk.core.refactoring.CompositeChange.perform(Unknown Source)\nat org.eclipse.ltk.internal.core.refactoring.UndoManager$1.run(Unknown Source)\nat org.eclipse.core.internal.resources.Workspace.run(Unknown Source)\nat org.eclipse.core.internal.resources.Workspace.run(Unknown Source)\nat org.eclipse.ltk.internal.core.refactoring.UndoManager.executeChange(Unknown\nSource)\nat org.eclipse.ltk.internal.core.refactoring.UndoManager.performUndo(Unknown Source)\nat org.eclipse.ltk.ui.refactoring.UndoRefactoringAction$2.run(Unknown Source)\nat org.eclipse.jface.operation.ModalContext.runInCurrentThread(Unknown Source)\nat org.eclipse.jface.operation.ModalContext.run(Unknown Source)\nat org.eclipse.jface.dialogs.ProgressMonitorDialog.run(Unknown Source)\nat org.eclipse.ui.internal.progress.ProgressManager$5.run(Unknown Source)\nat org.eclipse.swt.custom.BusyIndicator.showWhile(Unknown Source)\nat org.eclipse.ui.internal.progress.ProgressManager.runInUI(Unknown Source)\nat org.eclipse.ltk.internal.ui.refactoring.UndoManagerAction.run(Unknown Source)\nat org.eclipse.ui.internal.PluginAction.runWithEvent(Unknown Source)\nat org.eclipse.ui.internal.WWinPluginAction.runWithEvent(Unknown Source)\nat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(Unknown\nSource)\nat org.eclipse.jface.action.ActionContributionItem.access$2(Unknown Source)\nat org.eclipse.jface.action.ActionContributionItem$6.handleEvent(Unknown Source)\nat org.eclipse.swt.widgets.EventTable.sendEvent(Unknown Source)\nat org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Unknown Source)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Unknown Source)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Unknown Source)\nat org.eclipse.ui.internal.Workbench.runUI(Unknown Source)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Unknown Source)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(Unknown Source)\nat org.eclipse.ui.internal.ide.IDEApplication.run(Unknown Source)\nat org.eclipse.core.internal.runtime.PlatformActivator$1.run(Unknown Source)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)\nat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)\nat java.lang.reflect.Method.invoke(Method.java:391)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\nat org.eclipse.core.launcher.Main.run(Main.java:684)\nat org.eclipse.core.launcher.Main.main(Main.java:668)",
    "Erich, the undo change should check in isValid if the launch config still \nexists.",
    "CCing Darin - the Changes for java launch config have the same issue.\n\nAdded a check in isValid() and this fixes this exception.\n\nHowever, when returning an error from isValid() then the entire undo operation \nis aborted. In this particular case I would still like the undo to proceed so \nthat the rename of the type is undone. I haven\u0027t found a way to \nexpress \"ignore this change\". Dirk please advise.\n\n",
    "Erich, \n\ninstead of creating a fatal error in isValid you can create an error or \nwarning saying that there is no undo for the launch config. In this case the \nuser is presented with a dialog letting him decide whether he wants to \ncontinue or not. The perform method is still called for the undo change object \nin this case. So it should handle the case and should simply perform a NOP.",
    "Created an attachment (id\u003d21620)\nThe suggested patch\n\nIn addition to fixing the described error, also adds:\n\n1) JUnit launches named after projects are renamed when the project is renamed.\n\n2) JUnit launches that run all tests in a project still work when the project\nis renamed.",
    "CC\u0027ing Kevin. I think we fixed this in a different way via bug 94687.",
    "Markus,\n\nDirk mentioned reviewing this code together tomorrow.",
    "Markus,\n\nTobias reviewed the patch, and recommended some improvements",
    "Sorry.  This means that the bug should be reassigned back to me for the moment.",
    "Moving back to David.",
    "Created an attachment (id\u003d21801)\nThe new patch\n\n* Uses appropriate javacore API to create new handles\n* Only adds one warning per invalid change\n* Launch names affected are included in the warnings\n* Errors are indicated on Undo, not warnings.",
    "Reviewed and released patch by David\n\nFixed \u003e 20050526",
    "Start verifying...",
    "Verified in I20050527-0010. "
  ],
  "commentCreationDates": [
    "2004-09-17T15:14:44+02:00",
    "2004-09-17T15:31:31+02:00",
    "2004-09-20T16:20:41+02:00",
    "2004-10-05T11:47:21+02:00",
    "2005-05-24T15:01:28+02:00",
    "2005-05-24T15:04:39+02:00",
    "2005-05-24T15:41:06+02:00",
    "2005-05-25T11:43:49+02:00",
    "2005-05-25T11:45:11+02:00",
    "2005-05-25T11:52:36+02:00",
    "2005-05-26T11:01:05+02:00",
    "2005-05-26T13:09:12+02:00",
    "2005-05-27T11:51:11+02:00",
    "2005-05-27T12:03:18+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.debug.core.DebugException",
      "message": "Launch configuration MoneyTest at C:\\eclipse\\drops\\I200409140800\\workspace\\.metadata\\.plugins\\org.eclipse.debug.core\\.launches\\MoneyTest.launch does not exist.",
      "elements": [
        {
          "method": "org.eclipse.debug.internal.core.LaunchManager.createDebugException",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.debug.internal.core.LaunchManager.getInfo",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.debug.internal.core.LaunchConfiguration.getInfo",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.debug.internal.core.LaunchConfiguration.getAttribute",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.refactoring.LaunchConfigTypeChange.perform",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ltk.core.refactoring.CompositeChange.perform",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ltk.core.refactoring.CompositeChange.perform",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ltk.internal.core.refactoring.UndoManager$1.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ltk.internal.core.refactoring.UndoManager.executeChange",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ltk.internal.core.refactoring.UndoManager.performUndo",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ltk.ui.refactoring.UndoRefactoringAction$2.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.dialogs.ProgressMonitorDialog.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ui.internal.progress.ProgressManager$5.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ui.internal.progress.ProgressManager.runInUI",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ltk.internal.ui.refactoring.UndoManagerAction.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ui.internal.WWinPluginAction.runWithEvent",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$6.handleEvent",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:273"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:58"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:60"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:391"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:684"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:668"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "74168",
      "date": "2004-09-17T15:14:44+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "74168",
  "bugId": "74168",
  "date": "2004-09-17T15:14:44+02:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}