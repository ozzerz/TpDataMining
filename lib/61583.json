{
  "comments": [
    "The UI will let me add two update URLs.  I know it does not make sense, but I \nguess I wanted to see what would happen at install/service time.  Did not get \nthat far.  If this is in a feature referenced by a site:\n   \u003curl\u003e\n      \u003cupdate label\u003d\"JS Team\" \nurl\u003d\"http://jumpstart.raleigh.ibm.com/UpdateSite\"/\u003e\n      \u003cupdate label\u003d\"Local JS Site\" url\u003d\"file:E:/Eclipse-3.0/Install-\nExtras/UpdateSite\"/\u003e\n      \u003cdiscovery label\u003d\"JS Team\" \nurl\u003d\"http://jumpstart.raleigh.ibm.com/UpdateSite\"/\u003e\n   \u003c/url\u003e\n\nThe site build will fail.  The build says compilation error and that I should \nlook in the logs directory for why.  There is no logs directory.  It was only \nby hunt/peck/inference that I removed my duplicate update URL and found out \nthat this was the real problem.\n\nNeed log content if you say it exists.\nNeed the pde feature.xml editor to block multiple update URLs is not supported -\n or the site build to accept them if they are....",
    "What build are you using?",
    "This was M8.  Where I still do my \u0027production\u0027 work.\n\nJust tried again on I0506 and could not even get that far.  I created a site to \nbuild a feature and it kept saying it could not find the feature and even \nseemed to have deleted the feature I added. \n\n\nMy feature name/id was q.r.s but it says it can\u0027t find q.r.s.",
    "\u003eNeed log content if you say it exists.\nThis one was certainly fixed in the M9 cycle.\n\n\u003eand even seemed to have deleted the feature I added.\nDeleted it from your workspace?  This would be impossible.\nRemoved it from the site.xml?",
    "Was on the site.xml page with features on the lef and category type info on the \nright.  Did a build, the feature on the left went away but the cat structure \nand feature was still there on the right.\n\nCould not repeat unless I deleted the sitebuild.xml file.  But I did not \nknowingly do this the first time.\n\nShould I see good things in I0506 or should I prepare a jump to N0510 or what?",
    "Then it\u0027s a problem with the new site editor.",
    "I tried this out on M8 and N0510.\n\nI see what you mean on M8 :(  The good news is that on N0510, it definitely\ndoesn\u0027t delete the feature you\u0027ve added into the site editor :)\n\nThe not-as-good news is that it will still give you an error about not finding\nthe feature (i.e. I tried it on a sample feature \u0027myfeature1id\u0027).  The actual\nerror comes from the following stack trace when there are duplicate update URLs:\n\n\norg.eclipse.core.runtime.CoreException: Cannot find feature: myfeature1id.\n\tat\norg.eclipse.pde.internal.build.builder.FeatureBuildScriptGenerator.initializeVariables(FeatureBuildScriptGenerator.java:754)\n\tat\norg.eclipse.pde.internal.build.builder.FeatureBuildScriptGenerator.generate(FeatureBuildScriptGenerator.java:176)\n\tat\norg.eclipse.pde.internal.build.BuildScriptGenerator.generateFeatures(BuildScriptGenerator.java:114)\n\tat\norg.eclipse.pde.internal.build.BuildScriptGenerator.generate(BuildScriptGenerator.java:58)\n\tat\norg.eclipse.pde.internal.ui.wizards.exports.FeatureExportJob.makeScript(FeatureExportJob.java:211)\n\tat\norg.eclipse.pde.internal.ui.wizards.exports.FeatureExportJob.doExport(FeatureExportJob.java:156)\n\tat\norg.eclipse.pde.internal.ui.wizards.exports.FeatureExportJob.doExports(FeatureExportJob.java:119)\n\tat\norg.eclipse.pde.internal.ui.wizards.exports.FeatureExportJob.run(FeatureExportJob.java:76)\n\tat org.eclipse.pde.internal.ui.build.BuildSiteJob.run(BuildSiteJob.java:28)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)\n\n\nThus, the site editor is working as designed (gives an error and will not build\nif the feature cannot be exported) but, it does not provide a clear indication\nof the what caused the error.\n\nA workaround may be to more clearly identify the problem with the feature from\nthe site editor end _or_ to catch duplicate URLs from the feature editor end. \nHaving said this, the latter could lead to excessive validation in feature\neditor since other things could potentially joggle site building.\n\nThe best solution (for now) may be to just throw more informative errors when\nfeature export fails during site building.\n\nWassim?  What do you think?\n\n\n",
    "Thanks for the investigative reporting, Cherie.  Moving to PDE-Build.",
    "The build fails because the feature parsing fails. The error was caught and\nrethrown by pde build but was silently consumed by the following udpate code\nFeatureReference#getVersionedIdentifier():\n\n\t\ttry {\n\t\t\tversionId \u003d getFeature(null).getVersionedIdentifier();\n\t\t} catch (CoreException e) {\n\t\t\tUpdateCore.warn(\"\", e);\n\t\t}\n\n\nNow pde logs an error. The fix is in HEAD.\n\nHowever to questions:\n- to pde ui, why don\u0027t you prevent the creation of bogus feature.xml\n- to update, could you avoid silently consuming the error\n",
    "The update manager is not a replacement for build time correctness (just like \nyou don\u0027t ship .java files that don\u0027t compile, you should not ship features \nthat are not valid).\nHowever, it tries to at least handle it in a non-disrupting fashion (in this \ncase, it outputs a warning message). Developers can runwith -debug if they \nneed more output when things go wrong.\n\nSo, given the proper fix during feature building, I don\u0027t think it is worth \nadding much more to update runtime."
  ],
  "commentCreationDates": [
    "2004-05-10T15:24:37+02:00",
    "2004-05-10T17:14:08+02:00",
    "2004-05-10T17:26:20+02:00",
    "2004-05-10T17:31:06+02:00",
    "2004-05-10T17:38:02+02:00",
    "2004-05-10T17:43:05+02:00",
    "2004-05-11T01:21:10+02:00",
    "2004-05-11T01:41:25+02:00",
    "2004-05-14T17:53:54+02:00",
    "2004-05-14T18:09:03+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.runtime.CoreException",
      "message": "Cannot find feature: myfeature1id.",
      "elements": [
        {
          "method": "org.eclipse.pde.internal.build.builder.FeatureBuildScriptGenerator.initializeVariables",
          "source": "FeatureBuildScriptGenerator.java:754"
        },
        {
          "method": "org.eclipse.pde.internal.build.builder.FeatureBuildScriptGenerator.generate",
          "source": "FeatureBuildScriptGenerator.java:176"
        },
        {
          "method": "org.eclipse.pde.internal.build.BuildScriptGenerator.generateFeatures",
          "source": "BuildScriptGenerator.java:114"
        },
        {
          "method": "org.eclipse.pde.internal.build.BuildScriptGenerator.generate",
          "source": "BuildScriptGenerator.java:58"
        },
        {
          "method": "org.eclipse.pde.internal.ui.wizards.exports.FeatureExportJob.makeScript",
          "source": "FeatureExportJob.java:211"
        },
        {
          "method": "org.eclipse.pde.internal.ui.wizards.exports.FeatureExportJob.doExport",
          "source": "FeatureExportJob.java:156"
        },
        {
          "method": "org.eclipse.pde.internal.ui.wizards.exports.FeatureExportJob.doExports",
          "source": "FeatureExportJob.java:119"
        },
        {
          "method": "org.eclipse.pde.internal.ui.wizards.exports.FeatureExportJob.run",
          "source": "FeatureExportJob.java:76"
        },
        {
          "method": "org.eclipse.pde.internal.ui.build.BuildSiteJob.run",
          "source": "BuildSiteJob.java:28"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:66"
        }
      ],
      "number": 0,
      "commentIndex": 6,
      "bugId": "61583",
      "date": "2004-05-11T01:21:10+02:00",
      "product": "PDE",
      "component": "Build",
      "severity": "normal"
    }
  ],
  "groupId": "61583",
  "bugId": "61583",
  "date": "2004-05-10T15:24:37+02:00",
  "product": "PDE",
  "component": "Build",
  "severity": "normal"
}