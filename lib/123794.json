{
  "comments": [
    "on WTP 101, our headless application result in a NPE for\nthis particular EAR. The NPE happens about once in 8 runs.\nThis used to happen in WTP 0.7 and got resolved in WTP 1.0.0\nBut has come back in WTP 1.0.1\n------------------------------------------------------------\n\nValidating\n  Removing EJB Validator messages on Increment has started...\n  Messages removed.\n  Validation of Increment by EJB Validator has started...\n  Validating com.ibm.defaultapplication.IncrementBean.\n  Validating com.ibm.defaultapplication.Increment.\n  Validating com.ibm.defaultapplication.IncrementHome.\nnull\nnull\n*** ERROR ***: Fri Jan 13 05:59:34 EST 2006    java.lang.NullPointerException\n    \tat org.eclipse.jem.java.impl.JavaClassImpl.isExistingType(JavaClassImpl.java:984)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.ValidationRuleUtility.isValidType(ValidationRuleUtility.java:1376)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.ValidationRuleUtility.isSerializable(ValidationRuleUtility.java:1205)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.ValidationRuleUtility.isLegalRMI_IIOPType(ValidationRuleUtility.java:1026)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.ATypeVRule.validateRMI_IIOPTypeRules(ATypeVRule.java:589)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.AHomeVRule.validate(AHomeVRule.java:125)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.ATypeVRule.validate(ATypeVRule.java:229)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.ATypeVRule.validate(ATypeVRule.java:80)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.AbstractEJBValidator.run(AbstractEJBValidator.java:127)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.EJBValidator.fullValidate(EJBValidator.java:414)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.EJBValidator.validate(EJBValidator.java:80)\n    \tat org.eclipse.jst.j2ee.internal.ejb.workbench.validation.UIEjbValidator.validate(UIEjbValidator.java:48)\n    \tat org.eclipse.wst.validation.internal.core.ValidatorLauncher.start(ValidatorLauncher.java:90)\n    \tat org.eclipse.wst.validation.internal.operations.ValidationOperation.launchValidator(ValidationOperation.java:1220)\n    \tat org.eclipse.wst.validation.internal.operations.ValidationOperation.internalValidate(ValidationOperation.java:1046)\n    \tat org.eclipse.wst.validation.internal.operations.ValidationOperation.validate(ValidationOperation.java:929)\n    \tat org.eclipse.wst.validation.internal.operations.ValidationOperation.run(ValidationOperation.java:640)\n    \tat com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.validate(BatchExtension.java:1826)\n    \tat com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.processEJBComponent(BatchExtension.java:604)\n    \tat com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.runEarDeploy(BatchExtension.java:387)\n    \tat com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.access$0(BatchExtension.java:317)\n    \tat com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension$RunDeploy.run(BatchExtension.java:300)",
    "Created an attachment (id\u003d32996)\ntest ear file\n\near test case",
    "I have tried the patch 118300 and it is no help. Further I am different\nkinds of exceptions for the same test case at different runs.\n\nWhen run about 5 times. it works fine with no error or erro logging about 3 times.  At other times I get NPE and the test fails. Some other times \nThe test passes but there are ConcurrentModification exceptions logged.\n\nThis seems to indicate there is a threadding/timing bug in the framework\nwhich is happening quite frequently on WTP 101.",
    "Here is the concurrent modification stack trace.\nD:\\EJBDeployX602.126\\itp\u003eejbdeploy d:\\tests\\undeployed_DefaultApplication.ear wo\nrking defout.ear -dbvendor \"ORACLE_V9I\"\nStarting workbench.\nframework search path: d:\\EJBDeployX602.126\\itp\\plugins\nCreating the project.\nDeploying jar Increment\nValidating\nnulllidating com.ibm.defaultapplication.IncrementBean.\nnull\n\n*** ERROR ***: Fri Jan 13 16:22:34 EST 2006    java.util.ConcurrentModificationE\nxception\n        at org.eclipse.emf.common.util.BasicEList$EIterator.checkModCount(BasicE\nList.java:1252)\n        at org.eclipse.emf.common.util.BasicEList$EIterator.next(BasicEList.java\n:1206)\n        at org.eclipse.jem.java.impl.JavaClassImpl.getFieldExtended(JavaClassImp\nl.java:438)\n        at org.eclipse.jst.j2ee.model.internal.validation.CMPBeanClassVRule.vali\ndateCmpField(CMPBeanClassVRule.java:351)\n        at org.eclipse.jst.j2ee.model.internal.validation.CMPBeanClassVRule.vali\ndate(CMPBeanClassVRule.java:246)\n        at org.eclipse.jst.j2ee.model.internal.validation.ATypeVRule.validate(AT\nypeVRule.java:76)\n        at org.eclipse.jst.j2ee.model.internal.validation.AbstractEJBValidator.r\nun(AbstractEJBValidator.java:127)\n        at org.eclipse.jst.j2ee.model.internal.validation.EJBValidator.fullValid\nate(EJBValidator.java:417)\n        at org.eclipse.jst.j2ee.model.internal.validation.EJBValidator.validate(\nEJBValidator.java:80)\n        at org.eclipse.jst.j2ee.internal.ejb.workbench.validation.UIEjbValidator\n.validate(UIEjbValidator.java:48)\n        at org.eclipse.wst.validation.internal.core.ValidatorLauncher.start(Vali\ndatorLauncher.java:90)\n        at org.eclipse.wst.validation.internal.operations.ValidationOperation.la\nunchValidator(ValidationOperation.java:1220)\n        at org.eclipse.wst.validation.internal.operations.ValidationOperation.in\nternalValidate(ValidationOperation.java:1046)\n        at org.eclipse.wst.validation.internal.operations.ValidationOperation.va\nlidate(ValidationOperation.java:929)\n        at org.eclipse.wst.validation.internal.operations.ValidationOperation.ru\nn(ValidationOperation.java:640)\n        at com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.validate(BatchEx\ntension.java:1826)",
    "The exception is occuring in the JEM code.",
    "Before I can debug this, I\u0027ll need help again to setup the env. I still have what was needed for bug 118300 set up, but I don\u0027t know what has changed since then.",
    "Hi took a quick look at the concurrent mod problem, and it may be possible to get the same collection instance....   I recommend cloning the collection in \"getExtendedLookupIterator()\".\n\n\nAlso - the first null pointer... not sure if thats still happening?     The readadapter is coming back null - maybe from an unloaded proxy instance?",
    "We are still getting the null. Although frequency is down. But still\nfrequent enough to cause daily failures in our bvt.",
    "Actually we are getting this null random error not just in\nvalidator but in several places.  For example we get the following\nfor a test case in our auto  bvt.\n\nnull\n\njava.lang.NullPointerException\n\tat org.eclipse.wst.common.componentcore.internal.util.ComponentUtilities.findComponent(ComponentUtilities.java:173)\n\tat com.ibm.etools.ejbrdbmapping.impl.EjbRdbDocumentRootImpl.getBackendID(EjbRdbDocumentRootImpl.java:989)\n\nAnd I could not reproduce it running manually few times.  ",
    "And line 173 in ComponentUtilities.java\nis\nreturn (IVirtualComponent)WorkbenchResourceHelper.getFile(aResource).getAdapter(IVirtualComponent.class);\n\nSo seems to be related to Chuck\u0027s comment.",
    "Not able to reproduce any NPE\u0027s. But did find ConcurrentModificationException problem.\n\nThis was caused by the classpath change notification going out in the middle of someone iterating over a list from the JavaClass. The current mechanism causes all of the JavaClass\u0027s data to be flushed. This means the lists were cleared, even though someone was using an iterator. This is actually too aggressive. The changes that are now released to 1.2M2 HEAD simply set a flag indicating the class is stale. Only when it is next accessed will the class be flushed and re-reflected.",
    "This has been released for VE 1.2M2",
    "Closing"
  ],
  "commentCreationDates": [
    "2006-01-13T17:26:43+01:00",
    "2006-01-13T17:28:08+01:00",
    "2006-01-13T21:20:42+01:00",
    "2006-01-13T21:25:21+01:00",
    "2006-01-14T17:29:28+01:00",
    "2006-01-16T15:50:00+01:00",
    "2006-01-17T15:30:52+01:00",
    "2006-01-17T16:56:58+01:00",
    "2006-01-17T17:21:47+01:00",
    "2006-01-17T17:30:18+01:00",
    "2006-01-26T15:21:02+01:00",
    "2006-02-01T23:31:08+01:00",
    "2006-04-18T20:28:16+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jem.java.impl.JavaClassImpl.isExistingType",
          "source": "JavaClassImpl.java:984"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.ValidationRuleUtility.isValidType",
          "source": "ValidationRuleUtility.java:1376"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.ValidationRuleUtility.isSerializable",
          "source": "ValidationRuleUtility.java:1205"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.ValidationRuleUtility.isLegalRMI_IIOPType",
          "source": "ValidationRuleUtility.java:1026"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.ATypeVRule.validateRMI_IIOPTypeRules",
          "source": "ATypeVRule.java:589"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.AHomeVRule.validate",
          "source": "AHomeVRule.java:125"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.ATypeVRule.validate",
          "source": "ATypeVRule.java:229"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.ATypeVRule.validate",
          "source": "ATypeVRule.java:80"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.AbstractEJBValidator.run",
          "source": "AbstractEJBValidator.java:127"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.EJBValidator.fullValidate",
          "source": "EJBValidator.java:414"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.EJBValidator.validate",
          "source": "EJBValidator.java:80"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.ejb.workbench.validation.UIEjbValidator.validate",
          "source": "UIEjbValidator.java:48"
        },
        {
          "method": "org.eclipse.wst.validation.internal.core.ValidatorLauncher.start",
          "source": "ValidatorLauncher.java:90"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidationOperation.launchValidator",
          "source": "ValidationOperation.java:1220"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidationOperation.internalValidate",
          "source": "ValidationOperation.java:1046"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidationOperation.validate",
          "source": "ValidationOperation.java:929"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidationOperation.run",
          "source": "ValidationOperation.java:640"
        },
        {
          "method": "com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.validate",
          "source": "BatchExtension.java:1826"
        },
        {
          "method": "com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.processEJBComponent",
          "source": "BatchExtension.java:604"
        },
        {
          "method": "com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.runEarDeploy",
          "source": "BatchExtension.java:387"
        },
        {
          "method": "com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.access$0",
          "source": "BatchExtension.java:317"
        },
        {
          "method": "com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension$RunDeploy.run",
          "source": "BatchExtension.java:300"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "123794",
      "date": "2006-01-13T17:26:43+01:00",
      "product": "Web Tools",
      "component": "jst.jem",
      "severity": "blocker"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.wst.common.componentcore.internal.util.ComponentUtilities.findComponent",
          "source": "ComponentUtilities.java:173"
        },
        {
          "method": "com.ibm.etools.ejbrdbmapping.impl.EjbRdbDocumentRootImpl.getBackendID",
          "source": "EjbRdbDocumentRootImpl.java:989"
        }
      ],
      "number": 1,
      "commentIndex": 8,
      "bugId": "123794",
      "date": "2006-01-17T17:21:47+01:00",
      "product": "Web Tools",
      "component": "jst.jem",
      "severity": "blocker"
    }
  ],
  "groupId": "123794",
  "bugId": "123794",
  "date": "2006-01-13T17:26:43+01:00",
  "product": "Web Tools",
  "component": "jst.jem",
  "severity": "blocker"
}