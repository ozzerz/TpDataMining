{
  "comments": [
    "Build ID: I20070625-1500\n\nSteps To Reproduce:\n1.  Create plugin and that contains a graphical control and associated help files.  \n2.   Define context help file and define the context XML file--do not provide \u003cdescription\u003e element in the \u003ccontext\u003e element.\n3.  Launch debug workbench (or create plugin build and run in standalone Eclipse).  Select the control and press F1 for context help.  You will get a null pointer.\n\n\n\n\nMore information:\nThis is something that appeared in Eclipse 3.3--the same context file does not cause the exception on Eclipse 3.2.\n\nI\u0027ve tracked it down to DefaultHelpUI and Context--it seems that DefaultHelpUI in Eclipse 3.3 added a couple lines of code (line 270-274) that invokes Context.getText() which is throwing a NullPointerException because there is no \u003cdescription\u003e element in my context help XML file.\n\nIn my contexts.xml file, if I have:\n\u003ccontext id\u003d\"ApplicationTab\"\u003e\n\u003ctopic href\u003d\"UserGuide/ApplicationTab.html\" label\u003d\"Application Tab\"/\u003e\n\u003c/context\u003e\nthen I will get the null pointer.\n\nIf I add\n\u003ccontext id\u003d\"ApplicationTab\"\u003e\n\u003cdescription\u003e This is a sample F1 help string.\u003c/description\u003e\n\u003ctopic href\u003d\"UserGuide/ApplicationTab.html\" label\u003d\"Application Tab\"/\u003e\n\u003c/context\u003e\nthen there is no null pointer.\n\nAccording to the Eclipse documentation, \u003cdescription\u003e is an optional tag and none of my contexts have descriptions (I have thousands of context definitions, so this isn\u0027t a quick simple fix on my end).  This functionality also changed in Eclipse 3.3 (things work fine on Eclipse 3.2.x).\n\nWhat\u0027s odd is that the org.eclipse.help.internal.Context object for my context seems to think that there is a description element--it\u0027s code in getText() looks fine, but when it\u0027s looping through the nodes, it seems to find a node with the name \"description\" even though there is none in my XML document...\n\nStack trace:\neclipse.buildId\u003dI20070625-1500\njava.version\u003d1.5.0_11\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_US\nFramework arguments:  -product org.eclipse.sdk.ide -pdelaunch\nCommand-line arguments:  -product org.eclipse.sdk.ide -data \nC:\\tools\\ws\\4.1-workspace/../runtime-workspace-3.3 -dev \nfile:C:/tools/ws/4.1-workspace/.metadata/.plugins/org.eclipse.pde.core/Dialog \nDesigner/dev.properties -pdelaunch -os win32 -ws win32 -arch x86\n\nError\nTue Aug 07 16:31:44 PDT 2007\nUnhandled event loop exception\n\njava.lang.NullPointerException\n at org.eclipse.help.internal.context.Context.getText(Context.java:88)\n at \norg.eclipse.help.ui.internal.DefaultHelpUI.displayContext(DefaultHelpUI.java:272)\n at \norg.eclipse.help.ui.internal.DefaultHelpUI.displayContext(DefaultHelpUI.java:246)\n at \norg.eclipse.ui.internal.help.WorkbenchHelpSystem.displayContext(WorkbenchHelpSystem.java:896)\n at \norg.eclipse.ui.internal.help.WorkbenchHelpSystem$WorkbenchHelpListener.helpRequested(WorkbenchHelpSystem.java:140)\n at \norg.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:140)\n at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3682)\n at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3293)\n at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389)\n at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353)\n at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219)\n at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)\n at \norg.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\n at \norg.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)\n at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n at \norg.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\n at \norg.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153)\n at \norg.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n at \norg.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n at \norg.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363)\n at \norg.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\n at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n at \nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n at \nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n at java.lang.reflect.Method.invoke(Method.java:585)\n at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:504)\n at org.eclipse.equinox.launcher.Main.basicRun(Main.java:443)\n at org.eclipse.equinox.launcher.Main.run(Main.java:1169)\n at org.eclipse.equinox.launcher.Main.main(Main.java:1144)",
    "This is a duplicate of Bug 197250, which has been fixed and contains a patch.\n\n*** This bug has been marked as a duplicate of bug 197250 ***"
  ],
  "commentCreationDates": [
    "2007-08-08T20:37:14+02:00",
    "2007-08-10T19:01:07+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.help.internal.context.Context.getText",
          "source": "Context.java:88"
        },
        {
          "method": "org.eclipse.help.ui.internal.DefaultHelpUI.displayContext",
          "source": "DefaultHelpUI.java:272"
        },
        {
          "method": "org.eclipse.help.ui.internal.DefaultHelpUI.displayContext",
          "source": "DefaultHelpUI.java:246"
        },
        {
          "method": "org.eclipse.ui.internal.help.WorkbenchHelpSystem.displayContext",
          "source": "WorkbenchHelpSystem.java:896"
        },
        {
          "method": "org.eclipse.ui.internal.help.WorkbenchHelpSystem$WorkbenchHelpListener.helpRequested",
          "source": "WorkbenchHelpSystem.java:140"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:140"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3682"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3293"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2389"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2353"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2219"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:466"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:461"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:153"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:363"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:176"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:504"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:443"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1169"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1144"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "199306",
      "duplicateId": "197250",
      "date": "2007-08-08T20:37:14+02:00",
      "product": "Platform",
      "component": "User Assistance",
      "severity": "major"
    }
  ],
  "groupId": "197250",
  "bugId": "199306",
  "duplicateId": "197250",
  "date": "2007-08-08T20:37:14+02:00",
  "product": "Platform",
  "component": "User Assistance",
  "severity": "major"
}