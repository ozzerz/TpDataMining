{
  "comments": [
    "import org.eclipse.swt.graphics.*;\nimport org.eclipse.swt.widgets.*;\nimport org.eclipse.swt.*;\n\npublic class ScreenshotTest {\npublic static void main(String[] argv) {\n\tDisplay display \u003d new Display();\n\tImage image \u003d new Image(display, 200, 200);\n\tGC gc \u003d new GC(display);\n\tgc.copyArea(image, 0, 0);\n\tImageLoader loader \u003d new ImageLoader();\n\tloader.data \u003d new ImageData[] { image.getImageData() };\n\tloader.save(\"foo.jpg\", SWT.IMAGE_JPEG);\n\tgc.dispose();\n\timage.dispose();\n}\n}\n\nWhen this code is run on both Windows 2000 and Motif it results in the \nfollowing:\n\n\tat org.eclipse.swt.SWT.error(SWT.java:1877)\n\tat org.eclipse.swt.internal.image.FileFormat.unloadIntoStream\n(FileFormat.java:102)\n\tat org.eclipse.swt.internal.image.FileFormat.save(FileFormat.java:82)\n\tat org.eclipse.swt.graphics.ImageLoader.save(ImageLoader.java:188)\n\tat org.eclipse.swt.graphics.ImageLoader.save(ImageLoader.java:228)\n\tat ScreenshotTest.main(ScreenshotTest.java:14)\n*** Stack trace of contained exception ***\njava.lang.NullPointerException\n\tat org.eclipse.swt.internal.image.JPEGFileFormat.extractData\n(JPEGFileFormat.java:924)\n\tat org.eclipse.swt.internal.image.JPEGFileFormat.encodeMCUAtXAndY\n(JPEGFileFormat.java:859)\n\tat org.eclipse.swt.internal.image.JPEGFileFormat.encodeScan\n(JPEGFileFormat.java:871)\n\tat org.eclipse.swt.internal.image.JPEGFileFormat.unloadIntoByteStream\n(JPEGFileFormat.java:1883)\n\tat org.eclipse.swt.internal.image.FileFormat.unloadIntoStream\n(FileFormat.java:98)\n\tat org.eclipse.swt.internal.image.FileFormat.save(FileFormat.java:82)\n\tat org.eclipse.swt.graphics.ImageLoader.save(ImageLoader.java:188)\n\tat org.eclipse.swt.graphics.ImageLoader.save(ImageLoader.java:228)\n\tat ScreenshotTest.main(ScreenshotTest.java:14)\nException in thread \"main\"",
    "Fixed 20011121.\nPD, please verify.\n",
    "NPE is gone and JPEG looks fine on both win32 and Motif."
  ],
  "commentCreationDates": [
    "2001-11-21T16:40:43+01:00",
    "2001-11-21T22:46:23+01:00",
    "2001-11-22T15:23:25+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.swt.internal.image.JPEGFileFormat.extractData",
          "source": "JPEGFileFormat.java:924"
        },
        {
          "method": "org.eclipse.swt.internal.image.JPEGFileFormat.encodeMCUAtXAndY",
          "source": "JPEGFileFormat.java:859"
        },
        {
          "method": "org.eclipse.swt.internal.image.JPEGFileFormat.encodeScan",
          "source": "JPEGFileFormat.java:871"
        },
        {
          "method": "org.eclipse.swt.internal.image.JPEGFileFormat.unloadIntoByteStream",
          "source": "JPEGFileFormat.java:1883"
        },
        {
          "method": "org.eclipse.swt.internal.image.FileFormat.unloadIntoStream",
          "source": "FileFormat.java:98"
        },
        {
          "method": "org.eclipse.swt.internal.image.FileFormat.save",
          "source": "FileFormat.java:82"
        },
        {
          "method": "org.eclipse.swt.graphics.ImageLoader.save",
          "source": "ImageLoader.java:188"
        },
        {
          "method": "org.eclipse.swt.graphics.ImageLoader.save",
          "source": "ImageLoader.java:228"
        },
        {
          "method": "ScreenshotTest.main",
          "source": "ScreenshotTest.java:14"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "6171",
      "date": "2001-11-21T16:40:43+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    }
  ],
  "groupId": "6171",
  "bugId": "6171",
  "date": "2001-11-21T16:40:43+01:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "normal"
}