{
  "comments": [
    "build I20030304\n\nNot sure how this happened, but I noticed several stack dumps in the log like:\n\n!ENTRY org.eclipse.ui 4 0 Mar 05, 2003 12:59:51.26\n!MESSAGE Graphic is disposed\n!STACK 0\norg.eclipse.swt.SWTException: Graphic is disposed\n\tat org.eclipse.swt.SWT.error(SWT.java:2316)\n\tat org.eclipse.swt.graphics.Image.getBounds(Image.java(Compiled Code))\n\tat org.eclipse.swt.graphics.Image.getBounds(Image.java(Compiled Code))\n\tat org.eclipse.swt.custom.CLabel.getTotalSize(CLabel.java:187)\n\tat org.eclipse.swt.custom.CLabel.computeSize(CLabel.java:136)\n\tat org.eclipse.swt.widgets.Control.computeSize(Control.java:370)\n\tat org.eclipse.swt.custom.ViewForm.layout(ViewForm.java:261)\n\tat org.eclipse.swt.widgets.Composite.layout(Composite.java:272)\n\tat org.eclipse.swt.custom.ViewForm.setFont(ViewForm.java:474)\n\tat org.eclipse.swt.widgets.Control.updateFont(Control.java:2693)\n\tat org.eclipse.swt.widgets.Composite.updateFont(Composite.java:513)\n\tat org.eclipse.swt.widgets.Composite.updateFont(Composite.java:510)\n\tat org.eclipse.swt.widgets.Composite.updateFont(Composite.java:510)\n\tat org.eclipse.swt.widgets.Composite.updateFont(Composite.java:510)\n\tat org.eclipse.swt.widgets.Display.updateFont(Display.java:2256)\n\tat org.eclipse.swt.widgets.Display.messageProc(Display.java:1390)\n\tat org.eclipse.swt.internal.win32.OS.PeekMessageW(Native Method)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java\n(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java\n(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1251)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:845)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:247)\n\tat org.eclipse.core.launcher.Main.run(Main.java:703)\n\tat org.eclipse.core.launcher.Main.main(Main.java:539)\n\nI was not tweaking my font settings at the time.",
    "This is bizzare.  Were you playing with the Control Panel?  In any case, when \nsomeone disposed the image that a CLabel is using underneath it, it isn\u0027t the \nfault of the CLabel.\n\nAssigning to Chrix to try and reproduce.",
    "No, I was not changing system font or appearance settings at this time.\nSome time recently I was tweaking my task tray options (sizing, locked, auto-\nhide), but I don\u0027t think I was at that exact time.\n\n",
    "Using the first RC3 build, I saw many of these logs while working on screen \nshots.  Unfortunately my console was not visisble so I do not know what I was \ndoing when it happenned.\n\nI was not updating anything in the Eclipse that generated the logs, only using \nit to view .jpg files.  I would occasionally reload a couple of doc related \npackages from source.\n\nHave about 2 dozen of these logs in a 4 hour period.  Eclipse was running \ncontinously for 3 days.\n\nA few times during that 4 hour period my XP machine would appear to freeze in a \ndifferent application.",
    "I saw a few of these in my log today, and they seemed to correlate to when I \nunlocked the screen saver.  Sure enough, I was able to reproduce the problem by \nhitting Ctrl+Alt+Del, locking the system, then unlocking it.\nOn I20030324.\n",
    "Locking/unlock does cause Eclipse to go through the code showed in the stack \ntrace. However on my box, the exception is not triggered.\nNick, can you confirm it is reproduceable on your current config ly \nlocking/unlocking? If so, I can provide a special swt.jar which will give us \nmore info on this CLabel.\n\nChris",
    "Hmm.  Just tried again with I20030325 and could not reproduce it.\n",
    "I\u0027ve emailed Andrew a SWT jar which should output the alloc stack trace of the \nfaulty CLabel and the alloc/dispose stack traces of its image.\nHopefully Andrew will be able to paste this info to this PR next time it \noccurs on his box.",
    "When I tried reproducing it earlier, I was on Windows 2000 (on my laptop).\nI can reproduce it consistently in Windows XP on my desktop.\n\nMy window has only a Java perspective open, containing the usual views plus \nNavigator (as a regular view docked with Package Explorer), Synchronize (fast \nview), CVS Resource History (fast view) and Outline (fast view).\nNo editors are open.\n\nI\u0027ll try running with the instrumented jar.\n",
    "*** Bug 37826 has been marked as a duplicate of this bug. ***",
    "If the font that the CLabel is using is being disposed while in use, there\u0027s \nnot much that Veronika can do.  Nick, is this still happening?",
    "I haven\u0027t seen this in a while.  But I suggest that custom controls should check\nthat their fonts, images, or other resources, are not disposed before accessing\nthem.\n",
    "I am closing this as WONTFIX.  It is not just custom widgets that are \naffected.  Anywhere within SWT, the policy has always been that you should not \ndispose of a resource that you have set on a control.  You can call setX(null) \non the widget and then dispose the resource or you can dispose the resource \nwhen you know that all widgets that reference the resource have been \ndisposed.  Changing the custom widgets to check for disposed resources will \njust mask a problem.  Suddenly, an image will stop appearing in a widget or a \nfont will change and it will be very hard to figure out what happened.\n\nFor more information on the SWT policy regarding resources, see:\n\nhttp://www.eclipse.org/articles/swt-design-2/swt-design-2.html"
  ],
  "commentCreationDates": [
    "2003-03-05T18:38:04+01:00",
    "2003-03-06T02:26:16+01:00",
    "2003-03-06T17:48:31+01:00",
    "2003-03-25T22:22:48+01:00",
    "2003-03-26T02:37:25+01:00",
    "2003-03-27T16:22:36+01:00",
    "2003-03-27T20:50:00+01:00",
    "2003-03-27T21:44:50+01:00",
    "2003-03-27T22:34:38+01:00",
    "2003-05-20T17:14:07+02:00",
    "2005-04-12T04:15:53+02:00",
    "2005-04-12T18:05:18+02:00",
    "2005-04-12T20:02:57+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Graphic is disposed",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2316"
        },
        {
          "method": "org.eclipse.swt.graphics.Image.getBounds",
          "source": "Image.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.graphics.Image.getBounds",
          "source": "Image.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.custom.CLabel.getTotalSize",
          "source": "CLabel.java:187"
        },
        {
          "method": "org.eclipse.swt.custom.CLabel.computeSize",
          "source": "CLabel.java:136"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.computeSize",
          "source": "Control.java:370"
        },
        {
          "method": "org.eclipse.swt.custom.ViewForm.layout",
          "source": "ViewForm.java:261"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.layout",
          "source": "Composite.java:272"
        },
        {
          "method": "org.eclipse.swt.custom.ViewForm.setFont",
          "source": "ViewForm.java:474"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.updateFont",
          "source": "Control.java:2693"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.updateFont",
          "source": "Composite.java:513"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.updateFont",
          "source": "Composite.java:510"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.updateFont",
          "source": "Composite.java:510"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.updateFont",
          "source": "Composite.java:510"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.updateFont",
          "source": "Display.java:2256"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.messageProc",
          "source": "Display.java:1390"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.PeekMessageW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1251"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:247"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:703"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:539"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "33880",
      "date": "2003-03-05T18:38:04+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    }
  ],
  "groupId": "33880",
  "bugId": "33880",
  "date": "2003-03-05T18:38:04+01:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "normal"
}