{
  "comments": [
    "Start a self hosted target with the \"Clear workspace data before launch\" option \nenabled.\nAttempt to start a second target.\nGet following in Console (expected):\n------------------------------------------------------\njava.lang.reflect.InvocationTargetException\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.startup\n(InternalBootLoader.java:862)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:732)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:424)\n\tat EclipseRuntimeLauncher.main(EclipseRuntimeLauncher.java:24)\nCaused by: org.eclipse.core.runtime.CoreException: \nThe platform metadata area is already in use by another platform instance, or \nthere was a failure\nin deleting the old lock file.  If no other platform instances are running, \ndelete the \nlock file (C:\\workspaces3\\.metadata\\.lock) and try starting the platform again.\n\tat org.eclipse.core.internal.runtime.InternalPlatform.createLockFile\n(InternalPlatform.java:195)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.loaderStartup\n(InternalPlatform.java:546)\n\t... 8 more\nException in thread \"main\" \n------------------------------------------------------\n\nAttempt to shutdown first target. \nError dialog--\u003e\nProblems occurred while trying to save the state of the workspace\n    Reason:\n      Could not save master table.\n\nand following in log:\n------------------------------------------------------\njava.io.FileNotFoundException: C:\\workspaces3\n\\.metadata\\.plugins\\org.eclipse.core.resources\\.safetable\\org.eclipse.core.resou\nrces.bak (The system cannot find the path specified)\n\tat java.io.FileOutputStream.openAppend(Native Method)\n\tat java.io.FileOutputStream.\u003cinit\u003e(FileOutputStream.java:174)\n\tat java.io.FileOutputStream.\u003cinit\u003e(FileOutputStream.java:102)\n\tat org.eclipse.core.internal.localstore.SafeChunkyOutputStream.\u003cinit\u003e\n(SafeChunkyOutputStream.java:35)\n\tat org.eclipse.core.internal.localstore.SafeChunkyOutputStream.\u003cinit\u003e\n(SafeChunkyOutputStream.java:32)\n\tat org.eclipse.core.internal.resources.SaveManager.saveMasterTable\n(SaveManager.java:720)\n\tat org.eclipse.core.internal.resources.SaveManager.cleanMasterTable\n(SaveManager.java:120)\n\tat org.eclipse.core.internal.resources.SaveManager.save\n(SaveManager.java:1210)\n\tat org.eclipse.core.internal.resources.Workspace.save\n(Workspace.java:1388)\n\tat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:308)\n\tat org.eclipse.jface.operation.ModalContext.runInCurrentThread\n(ModalContext.java:296)\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:249)\n\tat org.eclipse.jface.dialogs.ProgressMonitorDialog.run\n(ProgressMonitorDialog.java:335)\n\tat org.eclipse.ui.internal.Workbench.disconnectFromWorkspace\n(Workbench.java:315)\n\tat org.eclipse.ui.internal.Workbench.busyClose(Workbench.java:207)\n\tat org.eclipse.ui.internal.Workbench.access$5(Workbench.java:148)\n\tat org.eclipse.ui.internal.Workbench$3.run(Workbench.java:288)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:56)\n\tat org.eclipse.ui.internal.Workbench.close(Workbench.java:286)\n\tat org.eclipse.ui.internal.Workbench.close(Workbench.java:278)\n\tat org.eclipse.ui.internal.Workbench.close(Workbench.java:272)\n\tat org.eclipse.ui.internal.QuitAction.run(QuitAction.java:31)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:590)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:407)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent\n(ActionContributionItem.java:361)\n\tat org.eclipse.jface.action.ActionContributionItem.access$0\n(ActionContributionItem.java:352)\n\tat \norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent\n(ActionContributionItem.java:47)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:75)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:825)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1513)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1275)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1085)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1068)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:739)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:424)\n\tat EclipseRuntimeLauncher.main(EclipseRuntimeLauncher.java:24)",
    "Isn\u0027t this a Core bug?",
    "Clearing the workspace is problematic if the workspace is running.\n\nCan we provide a better error message in this case?",
    "From the Core perspective, this is like deleting the workspace from the \nfilesystem while running.\n\nPerhaps PDE knows that a runtime workbench is already running at that location \nand can prompt the user and not clear the area?\n\nMoving to PDE/UI for comment.\n",
    "PDE has been down the path that DJ suggests here and the behavior was \nfrustrating for developers. As DJ said, running a launch config that clears \nthe workspace is just like deleting the workspace from the filesystem. That \nseems to make this a Core issue (PDE isn\u0027t required for this problem).\n\nThe message \"Could not save master table.\" is not necessarily meaningful to \nthe user. The error message should be improved to say something like \"Could \nnot save workspace data. The workspace location no longer exists.\"",
    "The current Core behavior seems reasonable.  If you launch a runtime instance \n(with or without the clear workspace option) on a workspace already in use, \nthe launch fails and terminates gracefully."
  ],
  "commentCreationDates": [
    "2002-05-20T22:48:51+02:00",
    "2002-05-21T14:55:43+02:00",
    "2002-05-31T02:50:50+02:00",
    "2002-09-27T19:52:01+02:00",
    "2002-10-01T21:02:22+02:00",
    "2003-01-19T23:06:18+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.reflect.InvocationTargetException",
      "elements": [
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.startup",
          "source": "InternalBootLoader.java:862"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:732"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:424"
        },
        {
          "method": "EclipseRuntimeLauncher.main",
          "source": "EclipseRuntimeLauncher.java:24"
        }
      ],
      "causedBy": {
        "exceptionType": "org.eclipse.core.runtime.CoreException",
        "message": "The platform metadata area is already in use by another platform instance, or  there was a failure in deleting the old lock file.  If no other platform instances are running,  delete the  lock file (C:\\workspaces3\\.metadata\\.lock) and try starting the platform again.",
        "elements": [
          {
            "method": "org.eclipse.core.internal.runtime.InternalPlatform.createLockFile",
            "source": "InternalPlatform.java:195"
          },
          {
            "method": "org.eclipse.core.internal.runtime.InternalPlatform.loaderStartup",
            "source": "InternalPlatform.java:546"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "16486",
      "date": "2002-05-20T22:48:51+02:00",
      "product": "PDE",
      "component": "UI",
      "severity": "normal"
    },
    {
      "exceptionType": "java.io.FileNotFoundException",
      "message": "C:\\workspaces3 \\.metadata\\.plugins\\org.eclipse.core.resources\\.safetable\\org.eclipse.core.resou rces.bak (The system cannot find the path specified)",
      "elements": [
        {
          "method": "java.io.FileOutputStream.openAppend",
          "source": "Native Method"
        },
        {
          "method": "java.io.FileOutputStream.\u003cinit\u003e",
          "source": "FileOutputStream.java:174"
        },
        {
          "method": "java.io.FileOutputStream.\u003cinit\u003e",
          "source": "FileOutputStream.java:102"
        },
        {
          "method": "org.eclipse.core.internal.localstore.SafeChunkyOutputStream.\u003cinit\u003e",
          "source": "SafeChunkyOutputStream.java:35"
        },
        {
          "method": "org.eclipse.core.internal.localstore.SafeChunkyOutputStream.\u003cinit\u003e",
          "source": "SafeChunkyOutputStream.java:32"
        },
        {
          "method": "org.eclipse.core.internal.resources.SaveManager.saveMasterTable",
          "source": "SaveManager.java:720"
        },
        {
          "method": "org.eclipse.core.internal.resources.SaveManager.cleanMasterTable",
          "source": "SaveManager.java:120"
        },
        {
          "method": "org.eclipse.core.internal.resources.SaveManager.save",
          "source": "SaveManager.java:1210"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.save",
          "source": "Workspace.java:1388"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:308"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:296"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:249"
        },
        {
          "method": "org.eclipse.jface.dialogs.ProgressMonitorDialog.run",
          "source": "ProgressMonitorDialog.java:335"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.disconnectFromWorkspace",
          "source": "Workbench.java:315"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.busyClose",
          "source": "Workbench.java:207"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$5",
          "source": "Workbench.java:148"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$3.run",
          "source": "Workbench.java:288"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:56"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.close",
          "source": "Workbench.java:286"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.close",
          "source": "Workbench.java:278"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.close",
          "source": "Workbench.java:272"
        },
        {
          "method": "org.eclipse.ui.internal.QuitAction.run",
          "source": "QuitAction.java:31"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:590"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:407"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java:361"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem.java:352"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java:47"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:75"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:825"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1513"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1275"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1085"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1068"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:739"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:424"
        },
        {
          "method": "EclipseRuntimeLauncher.main",
          "source": "EclipseRuntimeLauncher.java:24"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "16486",
      "date": "2002-05-20T22:48:51+02:00",
      "product": "PDE",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "16486",
  "bugId": "16486",
  "date": "2002-05-20T22:48:51+02:00",
  "product": "PDE",
  "component": "UI",
  "severity": "normal"
}