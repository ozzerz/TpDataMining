{
  "comments": [
    "Candidate 4.3 build: TPTP-4.3.0-200609200100\n\n- Start a fresh workspace\n- Open the error log view\n- Import an apache access log file\n- Using the context menu of the log view, select analyze settings...\n- Switch to the Symptom Database tab\n- Select Add Database\n- Click on \"Local host\" (If there is already something in the local host text box, then erase it)\n\nNotice that an exception is logged in the error log.\nThis is failing one automated gui test case.  The exception is:\n\njava.lang.StringIndexOutOfBoundsException: String index out of range: -1\n\tat java.lang.String.substring(Unknown Source)\n\tat org.eclipse.hyades.sdb.internal.wizard.ImportSymptomDBPage2.updateDefaultLocalFileName(ImportSymptomDBPage2.java:572)\n\tat org.eclipse.hyades.sdb.internal.wizard.ImportSymptomDBPage2.widgetSelected(ImportSymptomDBPage2.java:1022)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\n\tat org.eclipse.jface.window.Window.open(Window.java:796)\n\tat org.eclipse.hyades.sdb.internal.preferences.SymptomDBUI.launchImportWizard(SymptomDBUI.java:404)\n\tat org.eclipse.hyades.sdb.internal.preferences.SymptomDBUI.widgetSelected(SymptomDBUI.java:357)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\n\tat org.eclipse.jface.window.Window.open(Window.java:796)\n\tat org.eclipse.tptp.symptom.internal.actions.ConfigureAnalysisActionDelegate.run(ConfigureAnalysisActionDelegate.java:47)\n\tat org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:254)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)",
    "Moving to major because it is failing automated GUI test cases.",
    "Created an attachment (id\u003d51764)\nPatch\n\nThis patch fixes this problem.\n\nLiz, this requires a change in a method you recently modified. Could you please review the patch.  I\u0027m just checking to see if a string is empty.\n\nEugene, could you please submit this patch.  I don\u0027t have write access to Monitoring project.  Modified plugin is org.eclipse.hyades.sdb.",
    "Patch submitted.",
    "Liz, please let me know if you have any concerns.",
    "I have reviewed the patch and it looks good.",
    "I can still reproduce this defect.\nFor every character typed in the \"Local Host\" file text box, I get the following exception:\n\njava.lang.StringIndexOutOfBoundsException: String index out of range: -1\n\tat java.lang.String.substring(Unknown Source)\n\tat org.eclipse.hyades.sdb.internal.wizard.ImportSymptomDBPage2.updateDefaultLocalFileName(ImportSymptomDBPage2.java:580)\n\tat org.eclipse.hyades.sdb.internal.wizard.ImportSymptomDBPage2.modifyText(ImportSymptomDBPage2.java:842)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:196)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\n...",
    "The problem shows up when the source sdb doesn\u0027t have an extension. And indeed if you type in the source path you get an exception on every character input. The code needs to handle the case when the source is a path to a directory or a path to a file with no extension.",
    "I have opened https://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d163822 to address this problem. Liz you can mark it as a duplicate of this one.",
    "*** Bug 163822 has been marked as a duplicate of this bug. ***",
    "Created an attachment (id\u003d53576)\nPatch\n\nThis patch makes a number of changes to the org.eclipse.hyades.sdb.internal.wizard.ImportSymptomDBPage2 class:\n\n- I got rid of the \u0027fileNameSet\u0027 boolean.  According to the comments, this boolean was suppose to be set when \"the user manually enters a file name\".  However, it was never being set in the code.  There\u0027s no way to distinguish when the user types in a filename or select a file from the browse menu.  The same listener is invoked in both scenarios.\n\n- The updateDefaultRemoteFileName() method always assumed that the file separator was a backslash.  This would fail under Linux.  I modified it so it gets the file separator through the \"file.separator\" property.\n\n- updateDefaultRemoteFileName() was updated so that it doesn\u0027t always assume that there is a file separator and extension specified in the file path.  When it can\u0027t find a file separator, the symptom name starts from the beginning of the file path.  When there is no extension specified, the symptom name goes all the way to the end of the file path.",
    "The affect of this defect is that a symptom name might not automatically be generated.  It can also result in a few errors being logged in Eclipse\u0027s log file.\n\nThis is not serious enough to be included in 4.3.  I\u0027m deferring to 4.4 with the originator\u0027s agreement.  I\u0027m also setting its priority to P1 so that it\u0027s fixed immediately in 4.4.",
    "Eugene, since 4.4 is open, could you please submit this patch? I don\u0027t have write access to the monitoring project. ",
    "fix in comment #10 is submitted. ",
    "This defect exists in 4.3.1 also. Please review for inclusion in the 4.3.1 code base as it is failing the Monitor.UI.SDBEditor test case.",
    "This defect is still reproduceable with TPTP-4.4.0-200702150100. \nInput for example the following local source path : D:\\TPTP-4.4.0-200702150100\\eclipse\\auto-gui-workspace\\ExportedSD\n\nthe method ImportSymptomDBPage2.updateDefaultLocalFileName() fails with an IndexOutOfBoundsException at line 599.\nAny file path that contains \".\" in the directory part of the path but has no file extension will trick the code.\nThere are some other things which I find weird, for example if I already provided a valid name to the target file, it will be overwritten if I type in something into the source text box. I don\u0027t think this is what a user would want to see. The idea was that we propose a default file name based on the source file when no target file name is provided, but we shouldn\u0027t overwrite what the user already typed into.\nThen if I type in d:\\ the proposed target file name is .symptom and the Finish button is enabled, which is again strange.\nThe old code had also some flaws in handling user input, we should make it better in 4.4.",
    "Reopening this defect because as Alex indicates the problem still exists for some cases and it is still failing the AGR test suite Monitor.UI.SDBEditor with the TPTP-4.4.0-200702190100 driver.",
    "I can\u0027t contain this in 4.4.",
    "ImportSymptomDBPage2#updateDefaultLocalFileName() has been refactored with the fix https://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d176179 and this problem has been resolved.\n\nI have verified with the TPTP-4.4.0-200705310943 driver.  Please confirm.\n",
    "This is required from AC perspective.  Please verify if it has been fixed!\n",
    "I\u0027m unable to reproduce this defect.  Reassigning to component owner for further investigation.  ",
    "Problem is not reproducible in TPTP 4402 candidate build anymore."
  ],
  "commentCreationDates": [
    "2006-09-22T17:47:03+02:00",
    "2006-10-02T21:18:30+02:00",
    "2006-10-11T18:04:03+02:00",
    "2006-10-11T19:05:34+02:00",
    "2006-10-11T19:53:24+02:00",
    "2006-10-11T19:55:28+02:00",
    "2006-11-08T23:15:38+01:00",
    "2006-11-09T15:10:25+01:00",
    "2006-11-09T15:12:06+01:00",
    "2006-11-09T15:17:21+01:00",
    "2006-11-09T19:45:00+01:00",
    "2006-11-09T19:51:00+01:00",
    "2006-12-12T20:22:20+01:00",
    "2006-12-12T21:56:05+01:00",
    "2007-02-08T22:59:39+01:00",
    "2007-02-22T23:14:45+01:00",
    "2007-02-22T23:35:56+01:00",
    "2007-05-05T06:14:26+02:00",
    "2007-06-02T03:03:42+02:00",
    "2007-08-09T17:28:14+02:00",
    "2007-08-09T19:03:52+02:00",
    "2007-08-13T20:26:13+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.StringIndexOutOfBoundsException",
      "message": "String index out of range: -1",
      "elements": [
        {
          "method": "java.lang.String.substring",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.hyades.sdb.internal.wizard.ImportSymptomDBPage2.updateDefaultLocalFileName",
          "source": "ImportSymptomDBPage2.java:572"
        },
        {
          "method": "org.eclipse.hyades.sdb.internal.wizard.ImportSymptomDBPage2.widgetSelected",
          "source": "ImportSymptomDBPage2.java:1022"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:90"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3348"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2968"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:820"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:796"
        },
        {
          "method": "org.eclipse.hyades.sdb.internal.preferences.SymptomDBUI.launchImportWizard",
          "source": "SymptomDBUI.java:404"
        },
        {
          "method": "org.eclipse.hyades.sdb.internal.preferences.SymptomDBUI.widgetSelected",
          "source": "SymptomDBUI.java:357"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:90"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3348"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2968"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:820"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:796"
        },
        {
          "method": "org.eclipse.tptp.symptom.internal.actions.ConfigureAnalysisActionDelegate.run",
          "source": "ConfigureAnalysisActionDelegate.java:47"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:254"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:539"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3348"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2968"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1914"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1878"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:280"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "158335",
      "date": "2006-09-22T17:47:03+02:00",
      "product": "TPTP Log Analyzer",
      "component": "Monitor.UI.SDBEditor",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.StringIndexOutOfBoundsException",
      "message": "String index out of range: -1",
      "elements": [
        {
          "method": "java.lang.String.substring",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.hyades.sdb.internal.wizard.ImportSymptomDBPage2.updateDefaultLocalFileName",
          "source": "ImportSymptomDBPage2.java:580"
        },
        {
          "method": "org.eclipse.hyades.sdb.internal.wizard.ImportSymptomDBPage2.modifyText",
          "source": "ImportSymptomDBPage2.java:842"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:196"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        }
      ],
      "number": 1,
      "commentIndex": 6,
      "bugId": "158335",
      "date": "2006-11-08T23:15:38+01:00",
      "product": "TPTP Log Analyzer",
      "component": "Monitor.UI.SDBEditor",
      "severity": "major"
    }
  ],
  "groupId": "158335",
  "bugId": "158335",
  "date": "2006-09-22T17:47:03+02:00",
  "product": "TPTP Log Analyzer",
  "component": "Monitor.UI.SDBEditor",
  "severity": "major"
}