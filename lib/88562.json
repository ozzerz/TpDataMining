{
  "comments": [
    "When using the JDT/Core batch compiler to compile the GNU Classpath library, a\nNullPointerException is thrown.  Unfortunately, I wasn\u0027t able to isolate a\nsimple autonomous test case.\n\nSteps to reproduce:\n\n1. Grab a snapshot of the Classpath source tree and unpack:\n\n$ wget ftp://ftp.gnu.org/pub/gnu/classpath/classpath-0.14.tar.gz\n$ tar zxf classpath-0.14.tar.gz; cd classpath-0.14\n\n2. Apply the attached patch (conf.patch) to configure the source tree.  Note\nthat this step is only needed to make sure Configure.java is compilable. \nNormally, the ./configure script is run.\n\n$ patch -p0 \u003c conf.patch\n$ mv gnu/classpath/Configuration.java.in \\\n  gnu/classpath/Configuration.java\n\n3. Run the batch compiler.  GdkGraphics2D.java is causing the NPE, so we\u0027re\ncompiling it directly:\n\n$ java -classpath jdtcore.jar \\\n  org.eclipse.jdt.internal.compiler.batch.Main \\\n  gnu/java/awt/peer/gtk/GdkGraphics2D.java\n\nActual Results:\n\n1. ERROR in gnu/java/awt/peer/gtk/GdkGraphics2D.java\n (at line 0)\n        /* GdkGraphics2D.java --\n        ^\nInternal compiler error\njava.lang.NullPointerException\n        at\norg.eclipse.jdt.internal.compiler.ast.AllocationExpression.generateCode(AllocationExpression.java:91)\n        at\norg.eclipse.jdt.internal.compiler.ast.FieldDeclaration.generateCode(FieldDeclaration.java:120)\n        at\norg.eclipse.jdt.internal.compiler.ast.Clinit.generateCode(Clinit.java:216)\n        at org.eclipse.jdt.internal.compiler.ast.Clinit.generateCode(Clinit.java:91)\n        at\norg.eclipse.jdt.internal.compiler.ast.TypeDeclaration.generateCode(TypeDeclaration.java:561)\n        at\norg.eclipse.jdt.internal.compiler.ast.TypeDeclaration.generateCode(TypeDeclaration.java:615)\n        at\norg.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.generateCode(CompilationUnitDeclaration.java:181)\n        at org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:516)\n        at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:335)\n        at\norg.eclipse.jdt.internal.compiler.batch.Main.performCompilation(Main.java:2366)\n        at org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:1106)\n        at org.eclipse.jdt.internal.compiler.batch.Main.main(Main.java:1011)\n\nBuild Date \u0026 Platform:\n\neclipse-SDK-3.1M5a-linux-gtk\nJRE: java-sun-1.5.0 (also reproduced using java-sun-1.4.2 and gij)\n\nAdditional Information:\n\nThis seems to be triggered by the first code block in the static initializer\n(GdkGraphics2D.java, lines 102-104) -- commenting it out resolves the issue.",
    "Created an attachment (id\u003d19017)\nPatch to configure the Classpath source tree\n",
    "Reproduced once applying the patch and renaming Configuration.java.in into\nConfiguration.java, and using following .classpath:\n\u003c?xml version\u003d\"1.0\" encoding\u003d\"UTF-8\"?\u003e\n\u003cclasspath\u003e\n\t\u003cclasspathentry\nexcluding\u003d\"examples/|external/sax/|external/w3c_dom/|vm/reference/\" kind\u003d\"src\"\npath\u003d\"classpath-0.14\"/\u003e\n\t\u003cclasspathentry kind\u003d\"con\" path\u003d\"org.eclipse.jdt.launching.JRE_CONTAINER\"/\u003e\n\t\u003cclasspathentry kind\u003d\"src\" path\u003d\"classpath-0.14/examples\"/\u003e\n\t\u003cclasspathentry kind\u003d\"src\" path\u003d\"classpath-0.14/external/sax\"/\u003e\n\t\u003cclasspathentry kind\u003d\"src\" path\u003d\"classpath-0.14/external/w3c_dom\"/\u003e\n\t\u003cclasspathentry kind\u003d\"src\" path\u003d\"classpath-0.14/vm/reference\"/\u003e\n\t\u003cclasspathentry kind\u003d\"output\" path\u003d\"bin\"/\u003e\n\u003c/classpath\u003e",
    "Simpler testcase:\npublic class X {\n\tstatic {\n\t\tif (true) throw new NullPointerException();\n\t}\n\tstatic Object o \u003d new Object();\n}",
    "Needed to tag as unreachable field (static/non static) when flow info was not\nreachable, so that they are not generated in the end.\nAdded InitializationTest#test185-186.\nFixed",
    "Verified in I20050330-0500"
  ],
  "commentCreationDates": [
    "2005-03-19T11:17:52+01:00",
    "2005-03-19T11:18:53+01:00",
    "2005-03-20T09:33:54+01:00",
    "2005-03-20T20:06:26+01:00",
    "2005-03-20T20:14:44+01:00",
    "2005-03-31T16:23:00+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.AllocationExpression.generateCode",
          "source": "AllocationExpression.java:91"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.FieldDeclaration.generateCode",
          "source": "FieldDeclaration.java:120"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.Clinit.generateCode",
          "source": "Clinit.java:216"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.Clinit.generateCode",
          "source": "Clinit.java:91"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.generateCode",
          "source": "TypeDeclaration.java:561"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.generateCode",
          "source": "TypeDeclaration.java:615"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.generateCode",
          "source": "CompilationUnitDeclaration.java:181"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.process",
          "source": "Compiler.java:516"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:335"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.batch.Main.performCompilation",
          "source": "Main.java:2366"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.batch.Main.compile",
          "source": "Main.java:1106"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.batch.Main.main",
          "source": "Main.java:1011"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "88562",
      "date": "2005-03-19T11:17:52+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "88562",
  "bugId": "88562",
  "date": "2005-03-19T11:17:52+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}