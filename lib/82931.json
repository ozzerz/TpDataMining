{
  "comments": [
    "java.lang.NullPointerException\n\tat \norg.eclipse.debug.internal.ui.views.memory.RenderingViewPane.removeMemoryRenderi\nng(RenderingViewPane.java:1107)\n\tat \norg.eclipse.debug.internal.ui.views.memory.ViewPaneRenderingMgr.handleDebugEvent\n(ViewPaneRenderingMgr.java:235)\n\tat \norg.eclipse.debug.internal.ui.views.memory.ViewPaneRenderingMgr.handleDebugEvent\ns(ViewPaneRenderingMgr.java:213)\n\tat org.eclipse.debug.core.DebugPlugin$EventNotifier.run\n(DebugPlugin.java:1043)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:1044)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:747)\n\tat org.eclipse.debug.core.DebugPlugin$EventNotifier.dispatch\n(DebugPlugin.java:1075)\n\tat org.eclipse.debug.core.DebugPlugin$EventDispatchJob.run\n(DebugPlugin.java:336)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)",
    "*** Bug 82820 has been marked as a duplicate of this bug. ***",
    "Hi Mikhail -\nWhat were you doing to get this exception? terminating a debug session?  \nremoving a memory rendering?\nThanks\nSamantha",
    "Looking at the original log sent by Oyvind, it looks like the NPE is a side-\neffect from other exceptions.\n\n!ENTRY org.eclipse.ui 4 4 2005-01-14 08:09:05.415\n!MESSAGE Unhandled event loop exception\n\n!ENTRY org.eclipse.ui 4 0 2005-01-14 08:09:05.446\n!MESSAGE Widget is disposed\n!STACK 0\norg.eclipse.swt.SWTException: Widget is disposed\n\tat org.eclipse.swt.SWT.error(SWT.java:2827)\n\tat org.eclipse.swt.SWT.error(SWT.java:2752)\n\tat org.eclipse.swt.SWT.error(SWT.java:2723)\n\tat org.eclipse.swt.widgets.Widget.error(Widget.java:388)\n\tat org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:290)\n\tat org.eclipse.swt.widgets.Tree.getSelection(Tree.java:620)\n\tat org.eclipse.jface.viewers.TreeViewer.getSelection\n(TreeViewer.java:205)\n\tat org.eclipse.jface.viewers.TreeViewer.setSelection\n(TreeViewer.java:265)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.setSelectionToWidget\n(AbstractTreeViewer.java:1448)\n\tat org.eclipse.jface.viewers.StructuredViewer.setSelectionToWidget\n(StructuredViewer.java:1391)\n\tat org.eclipse.jface.viewers.StructuredViewer.preservingSelection\n(StructuredViewer.java:1116)\n\tat org.eclipse.jface.viewers.StructuredViewer.refresh\n(StructuredViewer.java:1170)\n\tat org.eclipse.jface.viewers.StructuredViewer.refresh\n(StructuredViewer.java:1129)\n\tat \norg.eclipse.debug.internal.ui.views.memory.MemoryBlocksTreeViewPane$1.run\n(MemoryBlocksTreeViewPane.java:215)\n\tat org.eclipse.ui.internal.UILockListener.doPendingWork\n(UILockListener.java:150)\n\tat org.eclipse.ui.internal.UISynchronizer$1.run(UISynchronizer.java:36)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages\n(Synchronizer.java:118)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2780)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2451)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1569)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1540)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench\n(Workbench.java:285)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run\n(IDEApplication.java:102)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run\n(PlatformActivator.java:220)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:273)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:129)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\n\tat org.eclipse.core.launcher.Main.run(Main.java:710)\n\tat org.eclipse.core.launcher.Main.main(Main.java:694)\n\nThere is an unhandled exception and a SWT exception from the tree viewer.  \nLooking at RenderingViewPane, the only possible cause of this NPE is that the \nview pane rendering manager is null.  I am not comfortable with just putting a \nnull pointer check to the view to get around the exception.  I think it\u0027s \nbetter to figure out the reason for the other two exceptions.  \n\nSo, Oyvind, would you please provide me the steps to reproduce the problem?  I \ntried to reproduce the problem with my testcases, but was not successful.  \n\nThanks for your help\nSamantha",
    "Samantha, it looks like a race condition. I haven\u0027t been able to reproduce it, \nbut if the RenderingViewPane is processing a terminate event at the same time \nwhen the Memory View is getting closed (by the context view binding mechanism, \nfor example) this situation is quite possible. Isn\u0027t it?\n",
    "Mikhail -\n\nYou are right.  I was finally able to reproduce the problem.\nThe NPE from Rendering View Pane is a result of the view pane getting disposed \nbefore it got the memory rendering removed event.  This will only happen if the \nview is closed when the debug session is terminated because the context is \nbeing disabled.\n\nThe SWT exception is a bit harder to reproduce.  But it also has something to \ndo with the view being disposed before it has received all the events.  \n\nThanks\nSamantha",
    "Created an attachment (id\u003d17221)\nPatch to org.eclipse.debug.ui\n\nMemoryBlockTreeViewPane - the tree viewer is disposed in the middle of the\nmemory blocks removed event.  Check if the viewer is disposed before\nproccessing an event.\n\nRenderingViewPane - the view pane rendering manager receives a terminate event\nafter the view is disposed.  When the view pane\u0027s rendering manager is\ndisposed, we should also clear the list of renderings.\tThis will prevent the\nNPE as the manager will not need to handle the terminate event when this is no\nrendering.  MemoryViewTab will be disposed properly as it already listens for\ndispose events from its tab folder.",
    "Darin -\nPlease apply patch.  Thanks\nSamantha",
    "Applied patch.",
    "marking verified."
  ],
  "commentCreationDates": [
    "2005-01-16T22:44:12+01:00",
    "2005-01-16T22:55:29+01:00",
    "2005-01-17T15:38:10+01:00",
    "2005-01-17T16:22:22+01:00",
    "2005-01-17T20:24:48+01:00",
    "2005-01-17T20:42:11+01:00",
    "2005-01-17T22:21:22+01:00",
    "2005-01-17T22:37:36+01:00",
    "2005-01-18T13:29:34+01:00",
    "2005-01-20T15:50:44+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.debug.internal.ui.views.memory.RenderingViewPane.removeMemoryRendering",
          "source": "RenderingViewPane.java:1107"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.memory.ViewPaneRenderingMgr.handleDebugEvent",
          "source": "ViewPaneRenderingMgr.java:235"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.memory.ViewPaneRenderingMgr.handleDebugEvents",
          "source": "ViewPaneRenderingMgr.java:213"
        },
        {
          "method": "org.eclipse.debug.core.DebugPlugin$EventNotifier.run",
          "source": "DebugPlugin.java:1043"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1044"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:747"
        },
        {
          "method": "org.eclipse.debug.core.DebugPlugin$EventNotifier.dispatch",
          "source": "DebugPlugin.java:1075"
        },
        {
          "method": "org.eclipse.debug.core.DebugPlugin$EventDispatchJob.run",
          "source": "DebugPlugin.java:336"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:66"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "82931",
      "date": "2005-01-16T22:44:12+01:00",
      "product": "Platform",
      "component": "Debug",
      "severity": "normal"
    },
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Widget is disposed",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2827"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2752"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2723"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:388"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.checkWidget",
          "source": "Widget.java:290"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.getSelection",
          "source": "Tree.java:620"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.getSelection",
          "source": "TreeViewer.java:205"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.setSelection",
          "source": "TreeViewer.java:265"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.setSelectionToWidget",
          "source": "AbstractTreeViewer.java:1448"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.setSelectionToWidget",
          "source": "StructuredViewer.java:1391"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.preservingSelection",
          "source": "StructuredViewer.java:1116"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.refresh",
          "source": "StructuredViewer.java:1170"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.refresh",
          "source": "StructuredViewer.java:1129"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.memory.MemoryBlocksTreeViewPane$1.run",
          "source": "MemoryBlocksTreeViewPane.java:215"
        },
        {
          "method": "org.eclipse.ui.internal.UILockListener.doPendingWork",
          "source": "UILockListener.java:150"
        },
        {
          "method": "org.eclipse.ui.internal.UISynchronizer$1.run",
          "source": "UISynchronizer.java:36"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:118"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:2780"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2451"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1569"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1540"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:285"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:144"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:102"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:220"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:273"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:710"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:694"
        }
      ],
      "number": 1,
      "commentIndex": 3,
      "bugId": "82931",
      "date": "2005-01-17T16:22:22+01:00",
      "product": "Platform",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "82931",
  "bugId": "82931",
  "date": "2005-01-16T22:44:12+01:00",
  "product": "Platform",
  "component": "Debug",
  "severity": "normal"
}