{
  "comments": [
    "When run attached report there is a error:\nPage for config-vars test in data item\ntest list filter orderid any\ntest list filter EMail is null\nFirst Last EMail \nEnd of list10\n\n--------------------------------------------------------------------------------\n\nThe following items have errors: \n\n\nreport report: \n+ Cannot fetch the next data row.\nCannot move down to next row in the result set.\n[DataDirect][DB2 JDBC Driver]Cursor identified in Fetch statement is not open. It could have been closed by a previous commit or rollback. \nodaconsumer.CannotFetchNextRow ( 1 time(s) )\ndetail : org.eclipse.birt.data.engine.core.DataException: Cannot fetch the next data row.Cannot move down to next row in the result set.[DataDirect][DB2 JDBC Driver]Cursor identified in Fetch statement is not open. It could have been closed by a previous commit or rollback. at org.eclipse.birt.data.engine.odaconsumer.ResultSet.fetch(ResultSet.java:120) at org.eclipse.birt.data.engine.executor.cache.OdiAdapter.fetch(OdiAdapter.java:140) at org.eclipse.birt.data.engine.executor.cache.RowResultSet.next(RowResultSet.java:91) at org.eclipse.birt.data.engine.executor.cache.ExpandableRowResultSet.next(ExpandableRowResultSet.java:62) at org.eclipse.birt.data.engine.executor.cache.SmartCache.populateData(SmartCache.java:262) at org.eclipse.birt.data.engine.executor.cache.SmartCache.initInstance(SmartCache.java:102) at org.eclipse.birt.data.engine.executor.cache.SmartCache.init(SmartCache.java:226) at org.eclipse.birt.data.engine.executor.cache.SmartCache.\u003cinit\u003e(SmartCache.java:176) at org.eclipse.birt.data.engine.executor.transform.SinglePassRowProcessor.initOdiResultSet(SinglePassRowProcessor.java:97) at org.eclipse.birt.data.engine.executor.transform.SinglePassRowProcessor.pass(SinglePassRowProcessor.java:61) at org.eclipse.birt.data.engine.executor.transform.MultiPassRowProcessor.populateResultSetCacheInResultSetPopulator(MultiPassRowProcessor.java:174) at org.eclipse.birt.data.engine.executor.transform.MultiPassRowProcessor.doPopulation(MultiPassRowProcessor.java:129) at org.eclipse.birt.data.engine.executor.transform.MultiPassRowProcessor.pass(MultiPassRowProcessor.java:103) at org.eclipse.birt.data.engine.executor.transform.ResultSetPopulator.populateResultSet(ResultSetPopulator.java:206) at org.eclipse.birt.data.engine.executor.transform.CachedResultSet.\u003cinit\u003e(CachedResultSet.java:69) at org.eclipse.birt.data.engine.executor.DataSourceQuery.execute(DataSourceQuery.java:488) at org.eclipse.birt.data.engine.impl.PreparedOdaDSQuery$OdaDSQueryExecutor.executeOdiQuery(PreparedOdaDSQuery.java:257) at org.eclipse.birt.data.engine.impl.QueryExecutor.execute(QueryExecutor.java:677) at org.eclipse.birt.data.engine.impl.ServiceForQueryResults.executeQuery(ServiceForQueryResults.java:147) at org.eclipse.birt.data.engine.impl.QueryResults.getResultIterator(QueryResults.java:158) at org.eclipse.birt.report.engine.data.dte.DteResultSet.\u003cinit\u003e(DteResultSet.java:79) at org.eclipse.birt.report.engine.data.dte.DteDataEngine.doExecuteQuery(DteDataEngine.java:113) at org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.execute(AbstractDataEngine.java:214) at org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.execute(AbstractDataEngine.java:204) at org.eclipse.birt.report.engine.executor.QueryItemExecutor.openResultSet(QueryItemExecutor.java:62) at org.eclipse.birt.report.engine.executor.ListItemExecutor.execute(ListItemExecutor.java:79) at org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitListItem(ReportExecutorVisitor.java:98) at org.eclipse.birt.report.engine.ir.ListItemDesign.accept(ListItemDesign.java:125) at org.eclipse.birt.report.engine.executor.ReportExecutor.execute(ReportExecutor.java:129) at org.eclipse.birt.report.engine.executor.ReportExecutor.execute(ReportExecutor.java:89) at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run(RunAndRenderTask.java:171) at org.eclipse.birt.report.engine.api.ReportRunner.runAndRenderReport(ReportRunner.java:238) at org.eclipse.birt.report.engine.api.ReportRunner.execute(ReportRunner.java:164) at org.eclipse.birt.report.engine.api.ReportRunner.main(ReportRunner.java:120)Caused by: org.eclipse.birt.report.data.oda.jdbc.JDBCException: Cannot move down to next row in the result set.[DataDirect][DB2 JDBC Driver]Cursor identified in Fetch statement is not open. It could have been closed by a previous commit or rollback. at org.eclipse.birt.report.data.oda.jdbc.ResultSet.next(ResultSet.java:181) at org.eclipse.datatools.connectivity.oda.consumer.helper.OdaResultSet.next(OdaResultSet.java:177) at org.eclipse.birt.data.engine.odaconsumer.ResultSet.fetch(ResultSet.java:113) ... 33 moreCaused by: java.sql.SQLException: [DataDirect][DB2 JDBC Driver]Cursor identified in Fetch statement is not open. It could have been closed by a previous commit or rollback. at com.ddtek.jdbc.base.BaseExceptions.createException(Unknown Source) at com.ddtek.jdbc.base.BaseExceptions.getException(Unknown Source) at com.ddtek.jdbc.db2.drda.DRDAStatementRequest.processCodePoint(Unknown Source) at com.ddtek.jdbc.db2.drda.DRDAResultSetRequest.processCodePoint(Unknown Source) at com.ddtek.jdbc.db2.drda.DRDARequest.processReply(Unknown Source) at com.ddtek.jdbc.db2.drda.DRDARequest.ensureBytes(Unknown Source) at com.ddtek.jdbc.db2.drda.DRDARequest.processSQLCA(Unknown Source) at com.ddtek.jdbc.db2.drda.DRDAResultSetRequest.getNextRow(Unknown Source) at com.ddtek.jdbc.db2.DB2ImplResultSet.fetchAtPosition(Unknown Source) at com.ddtek.jdbc.base.BaseImplResultSet.next(Unknown Source) at com.ddtek.jdbc.base.BaseResultSet.next(Unknown Source) at org.eclipse.birt.report.data.oda.jdbc.ResultSet.next(ResultSet.java:172) ... 35 more",
    "*** Bug 145944 has been marked as a duplicate of this bug. ***",
    "The problem disppear when using \"db2jcc.jar\" as jdbc driver\nSo the problem seems to be caused by DataDirect\u0027s driver.\n\nI write a simple java example to simulate the process of getting schema tables in Birt.\nWhen running the example the same java.sql.SQLException is thrown. \n\nMy test class:\n\nimport java.net.URL;\nimport java.net.URLClassLoader;\nimport java.sql.Connection;\nimport java.sql.DatabaseMetaData;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\n\npublic class TestDatadirectDB2Driver\n{\n\tpublic static void main( String[] args )\n\t{\n\t\ttry\n\t\t{\n\t\t\tString className \u003d \"com.merant.datadirect.jdbc.db2.DB2Driver\";\n\t\t\tString url \u003d \"jdbc:datadirect:db2://192.168.218.225:50000;databasename\u003dspmdb_1\";\n\t\t\tString userName \u003d \"jmo\";\n\t\t\tString password \u003d \"Actuate8\";\n\t\t\t\n\t\t\tURLClassLoader extraDriverLoader \u003d new URLClassLoader( new URL[]{\n\t\t\t\t\tnew URL( \"file://C:/drivers/base.jar\" ),\n\t\t\t\t\tnew URL( \"file://C:/drivers/db2.jar\" ),\n\t\t\t\t\tnew URL( \"file://C:/drivers/util.jar\" )\n\t\t\t} );\n\t\t\tClass c \u003d extraDriverLoader.loadClass( className );\n\t\t\tc.newInstance( );\n\t\t\tConnection con \u003d DriverManager.getConnection( url,\n\t\t\t\t\tuserName,\n\t\t\t\t\tpassword );\n\t\t\tcon \u003d DriverManager.getConnection( url, userName, password );\n\t\t\t\n\t\t\tprintSchemaTables(con);\n\t\t\t\n\t\t}\n\t\tcatch ( Exception e )\n\t\t{\n\t\t\tSystem.out.println( \"An error has occurred: \" + e.toString( ) );\n\t\t\te.printStackTrace( );\n\t\t}\n\n\t}\n\t\n\tstatic void printSchemaTables( Connection con ) throws SQLException\n\t{\n\t\tDatabaseMetaData metaData \u003d con.getMetaData( );\n\t\tString[] schmaName \u003d new String[]{\n\t\t\t\t\"JMO\", \"JZHOU\", \"NULLID\", \"SYSCAT\"\n\t\t};\n\t\tfor ( int i \u003d 0; i \u003c schmaName.length; i++ )\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tResultSet metaRS \u003d metaData.getTables( \"spmdb_1\",\n\t\t\t\t\t\tschmaName[i],\n\t\t\t\t\t\t\"%\",\n\t\t\t\t\t\tnew String[]{\n\t\t\t\t\t\t\t\t\"TABLE\", \"VIEW\"\n\t\t\t\t\t\t} );\n\t\t\t\twhile ( metaRS.next( ) )\n\t\t\t\t{\n\t\t\t\t\tSystem.out.println( metaRS.getString( \"TABLE_NAME\" ) );\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch ( SQLException se )\n\t\t\t{\n\t\t\t\tse.printStackTrace( );\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t}\n}",
    "I think there is no bug in data, since other things can also cause this bug, such as incorrect configuration of database server or the bug of driver itself.",
    "The version of DB2 Datadirect driver used in the attched report is v3.40 .\n\nI download the latest version of DB2 Datadirect driver and run the report\nagain. Then the bug disppear.\nThe latest version is v3.5 .\n\nThe information about database support of Datadirect driver can be found:\nhttp://www.datadirect.com/products/jdbc/matrix/jdbcpublic.htm\n",
    "verified and close it."
  ],
  "commentCreationDates": [
    "2006-06-08T09:15:21+02:00",
    "2006-06-09T04:52:17+02:00",
    "2006-06-12T08:33:06+02:00",
    "2006-06-12T10:03:18+02:00",
    "2006-06-12T11:02:19+02:00",
    "2006-06-20T08:53:17+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.birt.data.engine.core.DataException",
      "message": "Cannot fetch the next data row.Cannot move down to next row in the result set.[DataDirect][DB2 JDBC Driver]Cursor identified in Fetch statement is not open. It could have been closed by a previous commit or rollback.",
      "elements": [
        {
          "method": "org.eclipse.birt.data.engine.odaconsumer.ResultSet.fetch",
          "source": "ResultSet.java:120"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.cache.OdiAdapter.fetch",
          "source": "OdiAdapter.java:140"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.cache.RowResultSet.next",
          "source": "RowResultSet.java:91"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.cache.ExpandableRowResultSet.next",
          "source": "ExpandableRowResultSet.java:62"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.cache.SmartCache.populateData",
          "source": "SmartCache.java:262"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.cache.SmartCache.initInstance",
          "source": "SmartCache.java:102"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.cache.SmartCache.init",
          "source": "SmartCache.java:226"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.cache.SmartCache.\u003cinit\u003e",
          "source": "SmartCache.java:176"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.SinglePassRowProcessor.initOdiResultSet",
          "source": "SinglePassRowProcessor.java:97"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.SinglePassRowProcessor.pass",
          "source": "SinglePassRowProcessor.java:61"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.MultiPassRowProcessor.populateResultSetCacheInResultSetPopulator",
          "source": "MultiPassRowProcessor.java:174"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.MultiPassRowProcessor.doPopulation",
          "source": "MultiPassRowProcessor.java:129"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.MultiPassRowProcessor.pass",
          "source": "MultiPassRowProcessor.java:103"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.ResultSetPopulator.populateResultSet",
          "source": "ResultSetPopulator.java:206"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.CachedResultSet.\u003cinit\u003e",
          "source": "CachedResultSet.java:69"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.DataSourceQuery.execute",
          "source": "DataSourceQuery.java:488"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedOdaDSQuery$OdaDSQueryExecutor.executeOdiQuery",
          "source": "PreparedOdaDSQuery.java:257"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.QueryExecutor.execute",
          "source": "QueryExecutor.java:677"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.ServiceForQueryResults.executeQuery",
          "source": "ServiceForQueryResults.java:147"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.QueryResults.getResultIterator",
          "source": "QueryResults.java:158"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.DteResultSet.\u003cinit\u003e",
          "source": "DteResultSet.java:79"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.DteDataEngine.doExecuteQuery",
          "source": "DteDataEngine.java:113"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.execute",
          "source": "AbstractDataEngine.java:214"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.execute",
          "source": "AbstractDataEngine.java:204"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.QueryItemExecutor.openResultSet",
          "source": "QueryItemExecutor.java:62"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ListItemExecutor.execute",
          "source": "ListItemExecutor.java:79"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitListItem",
          "source": "ReportExecutorVisitor.java:98"
        },
        {
          "method": "org.eclipse.birt.report.engine.ir.ListItemDesign.accept",
          "source": "ListItemDesign.java:125"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutor.execute",
          "source": "ReportExecutor.java:129"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutor.execute",
          "source": "ReportExecutor.java:89"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run",
          "source": "RunAndRenderTask.java:171"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.ReportRunner.runAndRenderReport",
          "source": "ReportRunner.java:238"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.ReportRunner.execute",
          "source": "ReportRunner.java:164"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.ReportRunner.main",
          "source": "ReportRunner.java:120"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "145943",
      "date": "2006-06-08T09:15:21+02:00",
      "product": "BIRT",
      "component": "Data",
      "severity": "normal"
    },
    {
      "exceptionType": "org.eclipse.birt.report.data.oda.jdbc.JDBCException",
      "message": "Cannot move down to next row in the result set.[DataDirect][DB2 JDBC Driver]Cursor identified in Fetch statement is not open. It could have been closed by a previous commit or rollback.",
      "elements": [
        {
          "method": "org.eclipse.birt.report.data.oda.jdbc.ResultSet.next",
          "source": "ResultSet.java:181"
        },
        {
          "method": "org.eclipse.datatools.connectivity.oda.consumer.helper.OdaResultSet.next",
          "source": "OdaResultSet.java:177"
        },
        {
          "method": "org.eclipse.birt.data.engine.odaconsumer.ResultSet.fetch",
          "source": "ResultSet.java:113"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "145943",
      "date": "2006-06-08T09:15:21+02:00",
      "product": "BIRT",
      "component": "Data",
      "severity": "normal"
    },
    {
      "exceptionType": "java.sql.SQLException",
      "message": "[DataDirect][DB2 JDBC Driver]Cursor identified in Fetch statement is not open. It could have been closed by a previous commit or rollback.",
      "elements": [
        {
          "method": "com.ddtek.jdbc.base.BaseExceptions.createException",
          "source": "Unknown Source"
        },
        {
          "method": "com.ddtek.jdbc.base.BaseExceptions.getException",
          "source": "Unknown Source"
        },
        {
          "method": "com.ddtek.jdbc.db2.drda.DRDAStatementRequest.processCodePoint",
          "source": "Unknown Source"
        },
        {
          "method": "com.ddtek.jdbc.db2.drda.DRDAResultSetRequest.processCodePoint",
          "source": "Unknown Source"
        },
        {
          "method": "com.ddtek.jdbc.db2.drda.DRDARequest.processReply",
          "source": "Unknown Source"
        },
        {
          "method": "com.ddtek.jdbc.db2.drda.DRDARequest.ensureBytes",
          "source": "Unknown Source"
        },
        {
          "method": "com.ddtek.jdbc.db2.drda.DRDARequest.processSQLCA",
          "source": "Unknown Source"
        },
        {
          "method": "com.ddtek.jdbc.db2.drda.DRDAResultSetRequest.getNextRow",
          "source": "Unknown Source"
        },
        {
          "method": "com.ddtek.jdbc.db2.DB2ImplResultSet.fetchAtPosition",
          "source": "Unknown Source"
        },
        {
          "method": "com.ddtek.jdbc.base.BaseImplResultSet.next",
          "source": "Unknown Source"
        },
        {
          "method": "com.ddtek.jdbc.base.BaseResultSet.next",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.data.oda.jdbc.ResultSet.next",
          "source": "ResultSet.java:172"
        }
      ],
      "number": 2,
      "commentIndex": 0,
      "bugId": "145943",
      "date": "2006-06-08T09:15:21+02:00",
      "product": "BIRT",
      "component": "Data",
      "severity": "normal"
    }
  ],
  "groupId": "145943",
  "bugId": "145943",
  "date": "2006-06-08T09:15:21+02:00",
  "product": "BIRT",
  "component": "Data",
  "severity": "normal"
}