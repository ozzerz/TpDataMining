{
  "comments": [
    "I create a DeferredCreateConnectionViewAndElementCommand something like this:\n\nnew DeferredCreateConnectionViewAndElementCommand(\n                    new CreateConnectionRequest(),\n                    new ObjectAdapter(/*blah*/),\n                    /*blah*/,\n                    /*blah*/,\n                    /*blah*/)\n\nThe command returns true from canExecute(), but during execute() it throws a\nNullPointerException in doExecuteWithResult() (line 220, a call to setLocation(Point)). The problem is that doExecuteWithResult() does not ensure that the local variable \"CreateConnectionViewRequest req\" is non-null before dereferencing it. Specifically, it will be null when:\n   (a) the original request is a simple CreateConnectionRequest, or\n   (b) typeInfoAdapter.getAdapter(IElementType.class) returns null (there seems to be a missing \"return\"), or\n   (c) the original request is a CreateUnspecifiedTypeConnectionRequest that contains no CreateConnectionViewRequest (a naive reading looks like the latter could even throw a ClassCastException).\n\nEven if it is reasonable to create a DeferredCreateConnectionViewAndElementCommand with a simple CreateConnectionRequest (that is, one that is neither a CreateConnectionViewRequest nor a CreateUnspecifiedTypeConnectionRequest; case (a) above), canExecute() should return false for all of those cases listed above in which execution would fail.",
    "A similar problem exists when the request does not identify a source and/or target edit part: canExecute() returns true, but execution fails with an exception like this:\n\njava.lang.NullPointerException\n\tat org.eclipse.gmf.runtime.diagram.ui.commands.DeferredCreateConnectionViewAndElementCommand.getSourceEditPart(DeferredCreateConnectionViewAndElementCommand.java:175)\n\tat org.eclipse.gmf.runtime.diagram.ui.commands.DeferredCreateConnectionViewAndElementCommand.doExecuteWithResult(DeferredCreateConnectionViewAndElementCommand.java:230)\n\t..."
  ],
  "commentCreationDates": [
    "2006-11-14T18:27:18+01:00",
    "2006-11-14T18:33:00+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.gmf.runtime.diagram.ui.commands.DeferredCreateConnectionViewAndElementCommand.getSourceEditPart",
          "source": "DeferredCreateConnectionViewAndElementCommand.java:175"
        },
        {
          "method": "org.eclipse.gmf.runtime.diagram.ui.commands.DeferredCreateConnectionViewAndElementCommand.doExecuteWithResult",
          "source": "DeferredCreateConnectionViewAndElementCommand.java:230"
        }
      ],
      "number": 0,
      "commentIndex": 1,
      "bugId": "164513",
      "date": "2006-11-14T18:33:00+01:00",
      "product": "GMF",
      "component": "Runtime Diagram",
      "severity": "normal"
    }
  ],
  "groupId": "164513",
  "bugId": "164513",
  "date": "2006-11-14T18:27:18+01:00",
  "product": "GMF",
  "component": "Runtime Diagram",
  "severity": "normal"
}