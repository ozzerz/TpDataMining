{
  "comments": [
    "This does /not/ occur all the time -- not even for the same file. I don\u0027t how I\nget into the state where this exception is thrown. However, doing a\nclean-rebuild seems to clear it up.\n\n----\njava.lang.ClassCastException:\norg.aspectj.ajdt.internal.compiler.lookup.EclipseSourceType\n\tat org.aspectj.weaver.bcel.BcelWorld.getBcelObjectType(BcelWorld.java:414)\n\tat org.aspectj.weaver.bcel.BcelWeaver.getClassType(BcelWeaver.java:1135)\n\tat org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:947)\n\tat\norg.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave(AjCompilerAdapter.java:286)\n\tat\norg.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling(AjCompilerAdapter.java:165)\n\tat\norg.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$afterReturning$org_aspectj_ajdt_internal_compiler_CompilerAdapter$2$f9cc9ca0(CompilerAdapter.aj:70)\n\tat\norg.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:368)\n\tat\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:727)\n\tat\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:229)\n\tat\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.incrementalBuild(AjBuildManager.java:147)\n\tat org.aspectj.ajde.internal.CompilerAdapter.compile(CompilerAdapter.java:116)\n\tat\norg.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run(AspectJBuildManager.java:191)",
    "Passing over to AspectJ",
    "try and look at it for m3. will be tricky to debug without more info - might\nneed to put trace into the weaver and ship a debug build.",
    "Ok ... for any ReferenceType (String/Integer/List/etc) there is a delegate which\ncan answer real questions about the reference type (whats your superclass? what\nare your methods?)  Delegates fit the interface ReferenceTypeDelegate and there\nare two possible implementations of this interface.\n\n1. BcelObjectType - this is the delegate used when the code for the reference\ntype is recovered from bytecode (from a .class file)\n\n2. EclipseSourceType - this is the delegate used when the source for the\nreferencetype was passed in to the front end compiler (and so we haven\u0027t needed\nto go the bytecode)\n\nIn this failure case we have accessed the delegate for a reference type assuming\nit is a BcelObjectType but in fact it is an EclipseSourceType.\n\nNow, with all the generics changes recently, Adrian and I have changed\nprocessing for referencetypes and their delegates.  We *may* have inadvertently\nfixed this...  needs a retry when we upgrade AJDT with an AJ build.",
    "not generics related, bumping to M4",
    "Fixed a while ago, this can\u0027t happen any more.  If the delegate for a type is\nnot a bcelObjectType then getBcelObjectType returns null and the caller is\nexpected to deal with it.  Quite frequently during incremental compilation we go\ndigging for reweavable state that may have been stashed for a type - and that\nleads to this classcastexception because we happen to be processing an eclipse\nsource type.  Given that an eclipsesourcetype delegate can\u0027t have reweavable\nstate we simply allow for null to occur from getBcelObjectType() and assume that\nmeans there is no reweavable state."
  ],
  "commentCreationDates": [
    "2005-06-05T23:20:15+02:00",
    "2005-06-07T12:26:07+02:00",
    "2005-06-08T10:30:14+02:00",
    "2005-07-27T15:52:31+02:00",
    "2005-08-24T16:34:33+02:00",
    "2005-10-03T11:18:43+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.aspectj.ajdt.internal.compiler.lookup.EclipseSourceType",
      "elements": [
        {
          "method": "org.aspectj.weaver.bcel.BcelWorld.getBcelObjectType",
          "source": "BcelWorld.java:414"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.getClassType",
          "source": "BcelWeaver.java:1135"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weave",
          "source": "BcelWeaver.java:947"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave",
          "source": "AjCompilerAdapter.java:286"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling",
          "source": "AjCompilerAdapter.java:165"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$afterReturning$org_aspectj_ajdt_internal_compiler_CompilerAdapter$2$f9cc9ca0",
          "source": "CompilerAdapter.aj:70"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:368"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:727"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:229"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.incrementalBuild",
          "source": "AjBuildManager.java:147"
        },
        {
          "method": "org.aspectj.ajde.internal.CompilerAdapter.compile",
          "source": "CompilerAdapter.java:116"
        },
        {
          "method": "org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run",
          "source": "AspectJBuildManager.java:191"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "98451",
      "date": "2005-06-05T23:20:15+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "98451",
  "bugId": "98451",
  "date": "2005-06-05T23:20:15+02:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}