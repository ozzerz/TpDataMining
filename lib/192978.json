{
  "comments": [
    "Once a SML-IF file is created, there is no easy way to add more SML model units to that file.  The export wizard will always replace an existing SML-IF file.  We should add an option to insert SML documents into an existing SML-IF file, so you don\u0027t have to find all the documents you want again to build the SML-IF file from scratch.  A nice \"stretch goal\" of this enhancement would be to support drag/drop from an SML document to an SML-IF file.",
    "Another nice addition to this feature would be the ability to add an external SML document to an SML-IF file (or should this be in a seperate enhancement?).  Mark says this would be an important use case, and it would also make the feature implemented as part of bug 187055.",
    "I have a design question for this line item.  Let\u0027s say I do an export and select an existing SML-IF file in the wizard.  If the existing file already has identity info in it, or rule bindings, should the values specified in the export wizard replace whatever is in the selected file?  If so, I would guess that when an existing file is selected, the user should be asked if this data should be read into the wizard\u0027s fields.\n\nA simpler way to implement this line item would be to not support exporting to an existing file from the export wizard, but only via drag/drop, so you wouldn\u0027t have to deal with identity \u0026 rule bindings data, since as you can see from my questions, can get complicated.  \n\nWhat do you all think... does this need to be supported from the export wizard, and if so, how should the SML-IF related data in the existing file be handled?",
    "(In reply to comment #0)\n\u003e Once a SML-IF file is created, there is no easy way to add more SML model units\n\nYou can use the context menu of the \u0027Definitions\u0027 or \u0027Instances\u0027 items that appear in the logical tree of the second page (i.e. the Documents page) to add more documents.  \n\n(In reply to comment #2)\nIMO the export operation should only provide the option of overwriting an existing SML-IF file.  Therefore it shouldn\u0027t populate any fields based on an existing file.\n",
    "(In reply to comment #3)\n\u003e (In reply to comment #0)\n\u003e \u003e Once a SML-IF file is created, there is no easy way to add more SML model units\n\u003e \n\u003e You can use the context menu of the \u0027Definitions\u0027 or \u0027Instances\u0027 items that\n\u003e appear in the logical tree of the second page (i.e. the Documents page) to add\n\u003e more documents.  \n\nI got an error when I tried to do that.  I had an editor open on Rules/Valid.xml from our test resources, and tried to add one of the xsd files through the Add Definition menu option.  I got this error:\n\norg.w3c.dom.DOMException\nINVALID_CHARACTER_ERR: An invalid or illegal XML character is specified.\norg.w3c.dom.DOMException: INVALID_CHARACTER_ERR: An invalid or illegal XML character is specified.\n  at org.apache.xerces.dom.CoreDocumentImpl.checkQName(Unknown Source)\n  at org.apache.xerces.dom.ElementNSImpl.setName(Unknown Source)\n  at org.apache.xerces.dom.ElementNSImpl.\u003cinit\u003e(Unknown Source)\n  at org.apache.xerces.dom.CoreDocumentImpl.createElementNS(Unknown Source)\n  at org.eclipse.cosmos.rm.smlif.internal.editor.DocumentsPage.adoptNode(DocumentsPage.java:789)\n  at org.eclipse.cosmos.rm.smlif.internal.editor.DocumentsPage.handleOperation(DocumentsPage.java:530)\n  at org.eclipse.cosmos.rm.smlif.internal.editor.DocumentsPage.widgetSelected(DocumentsPage.java:488)\n  at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227)\n  at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n  at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n  at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3682)\n  at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3293)\n  at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389)\n  at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353)\n  at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219)\n  at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)\n  at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\n  at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)\n  at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n  at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\n  at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153)\n  at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n  at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n  at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363)\n  at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n  at java.lang.reflect.Method.invoke(Method.java:585)\n  at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:504)\n  at org.eclipse.equinox.launcher.Main.basicRun(Main.java:443)\n  at org.eclipse.equinox.launcher.Main.run(Main.java:1169)\n  at org.eclipse.equinox.launcher.Main.main(Main.java:1144)\n\n \n\u003e (In reply to comment #2)\n\u003e IMO the export operation should only provide the option of overwriting an\n\u003e existing SML-IF file.  Therefore it shouldn\u0027t populate any fields based on an\n\u003e existing file.\n\nOriginally this bug report was written for the export operation.  Are you now saying you don\u0027t believe this is a valid bug report?  Or do you think it\u0027s only valid in the drag/drop scenario?  If the latter, then shouldn\u0027t it use the export operation to add those new definitions/instances to the SML-IF file?",
    "I fixed the error I encountered in Add Definition.  The problem was there was no break; statement at the end of the code that adopts a comment node.  So when I added an element that had comments in it was adopted, and the recursive code kicked in, the break didn\u0027t happen in the block for comment nodes, and it fell through to the element block.",
    "I have found a couple other problems with Add Document.  I entered these as part of bug 197560.",
    "\u003e Originally this bug report was written for the export operation.  Are you now\n\u003e saying you don\u0027t believe this is a valid bug report?  Or do you think it\u0027s only\n\u003e valid in the drag/drop scenario?  If the latter, then shouldn\u0027t it use the\n\u003e export operation to add those new definitions/instances to the SML-IF file?\n \n\nI\u0027m just saying that we should only support overwriting existing SML-IF file as opposed to giving the option of either overwriting or appending to the file.\n\n",
    "Downgrading priority since this is an enhancement, and should only be designed as drag/drop of an SML document on the SML-IF editor."
  ],
  "commentCreationDates": [
    "2007-06-15T21:26:19+02:00",
    "2007-06-15T21:29:19+02:00",
    "2007-07-23T17:13:58+02:00",
    "2007-07-23T21:43:56+02:00",
    "2007-07-24T00:46:40+02:00",
    "2007-07-24T00:59:50+02:00",
    "2007-07-24T01:16:57+02:00",
    "2007-07-24T16:13:06+02:00",
    "2007-07-25T16:08:31+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.w3c.dom.DOMException",
      "message": "INVALID_CHARACTER_ERR: An invalid or illegal XML character is specified.",
      "elements": [
        {
          "method": "org.apache.xerces.dom.CoreDocumentImpl.checkQName",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.dom.ElementNSImpl.setName",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.dom.ElementNSImpl.\u003cinit\u003e",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.dom.CoreDocumentImpl.createElementNS",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.cosmos.rm.smlif.internal.editor.DocumentsPage.adoptNode",
          "source": "DocumentsPage.java:789"
        },
        {
          "method": "org.eclipse.cosmos.rm.smlif.internal.editor.DocumentsPage.handleOperation",
          "source": "DocumentsPage.java:530"
        },
        {
          "method": "org.eclipse.cosmos.rm.smlif.internal.editor.DocumentsPage.widgetSelected",
          "source": "DocumentsPage.java:488"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:227"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3682"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3293"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2389"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2353"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2219"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:466"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:461"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:153"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:363"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:176"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:504"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:443"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1169"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1144"
        }
      ],
      "number": 0,
      "commentIndex": 4,
      "bugId": "192978",
      "date": "2007-07-24T00:46:40+02:00",
      "product": "Cosmos",
      "component": "ResourceModeling",
      "severity": "enhancement"
    }
  ],
  "groupId": "192978",
  "bugId": "192978",
  "date": "2007-06-15T21:26:19+02:00",
  "product": "Cosmos",
  "component": "ResourceModeling",
  "severity": "enhancement"
}