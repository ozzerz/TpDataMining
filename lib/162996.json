{
  "comments": [
    "Version: 3.3.0\nBuild id: I20061031-0656\n\nNote: I\u0027m running on Windows Vista, I did not test Win32.\n\nI can\u0027t open the Run External Tool... dialog, steps:\nSelect a build.xml file. in my case: \n/org.eclipse.swt/Eclipse SWT PI/wpf/library/build.xml\nContext menu, Run as-\u003eAnt build...\nCrash\njava.lang.NullPointerException\n\tat org.eclipse.debug.internal.core.EnvironmentVariableResolver.resolveValue(EnvironmentVariableResolver.java:47)\n\tat org.eclipse.core.internal.variables.DynamicVariable.getValue(DynamicVariable.java:54)\n\tat org.eclipse.ant.core.AntCorePreferences.getToolsJarEntry(AntCorePreferences.java:731)\n\tat org.eclipse.ant.core.AntCorePreferences.restoreAdditionalEntries(AntCorePreferences.java:245)\n\tat org.eclipse.ant.core.AntCorePreferences.restoreCustomObjects(AntCorePreferences.java:195)\n\tat org.eclipse.ant.core.AntCorePreferences.\u003cinit\u003e(AntCorePreferences.java:157)\n\tat org.eclipse.ant.core.AntCorePlugin.getPreferences(AntCorePlugin.java:219)\n\tat org.eclipse.ant.internal.ui.launchConfigurations.AntPropertiesTab.initializeAsGlobal(AntPropertiesTab.java:143)\n\tat org.eclipse.ant.internal.ui.launchConfigurations.AntPropertiesTab.initializeFrom(AntPropertiesTab.java:130)\n\tat org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupWrapper.initializeFrom(LaunchConfigurationTabGroupWrapper.java:119)\n\tat org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer.displayInstanceTabs(LaunchConfigurationTabGroupViewer.java:710)\n\tat org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer$7.run(LaunchConfigurationTabGroupViewer.java:612)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)\n\tat org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer.inputChanged(LaunchConfigurationTabGroupViewer.java:630)\n\tat org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer.setInput(LaunchConfigurationTabGroupViewer.java:592)\n\tat org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationPropertiesDialog.initializeContent(LaunchConfigurationPropertiesDialog.java:77)\n\tat org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.createContents(LaunchConfigurationsDialog.java:441)\n\tat org.eclipse.jface.window.Window.create(Window.java:426)\n\tat org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1111)\n\tat org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.create(LaunchConfigurationsDialog.java:370)\n\tat org.eclipse.jface.window.Window.open(Window.java:785)\n\tat org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.open(LaunchConfigurationsDialog.java:1095)\n\tat org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationPropertiesDialog.open(LaunchConfigurationPropertiesDialog.java:180)\n\tat org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialog(DebugUITools.java:458)\n\tat org.eclipse.ant.internal.ui.launchConfigurations.AntLaunchShortcut.launch(AntLaunchShortcut.java:337)\n\tat org.eclipse.ant.internal.ui.launchConfigurations.AntLaunchShortcut.launch(AntLaunchShortcut.java:232)\n\tat org.eclipse.ant.internal.ui.launchConfigurations.AntLaunchShortcut.launch(AntLaunchShortcut.java:177)\n\tat org.eclipse.ant.internal.ui.launchConfigurations.AntLaunchShortcut.launch(AntLaunchShortcut.java:85)\n\tat org.eclipse.debug.internal.ui.launchConfigurations.LaunchShortcutExtension.launch(LaunchShortcutExtension.java:369)\n\tat org.eclipse.debug.internal.ui.actions.LaunchShortcutAction.run(LaunchShortcutAction.java:68)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:499)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3463)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3077)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1924)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1888)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:104)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:74)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:348)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:165)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:341)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:285)\n\tat org.eclipse.core.launcher.Main.run(Main.java:987)\n\tat org.eclipse.core.launcher.Main.main(Main.java:962)",
    "Running set in a cmd line in my vista machine:\n\nC:\\Users\\Felipe\u003eset\nALLUSERSPROFILE\u003dC:\\ProgramData\nAPPDATA\u003dC:\\Users\\Felipe\\AppData\\Roaming\nCommonProgramFiles\u003dC:\\Program Files\\Common Files\nCOMPUTERNAME\u003dTVISTABETA\nComSpec\u003dC:\\Windows\\system32\\cmd.exe\nFP_NO_HOST_CHECK\u003dNO\nHOMEDRIVE\u003dC:\nHOMEPATH\u003d\\Users\\Felipe\nINCLUDE\u003dC:\\Program Files\\Microsoft Visual Studio 8\\VC\\include;C:\\Program Files\\M\nicrosoft Visual Studio 8\\SDK\\v2.0\\include;\nLIB\u003dC:\\Program Files\\Microsoft Visual Studio 8\\VC\\lib;C:\\Program Files\\Microsoft\n Visual Studio 8\\SDK\\v2.0\\Lib;\nLOCALAPPDATA\u003dC:\\Users\\Felipe\\AppData\\Local\nLOGONSERVER\u003d\\\\TVISTABETA\nNetSamplePath\u003dC:\\Program Files\\Microsoft Visual Studio 8\\SDK\\v2.0\nNUMBER_OF_PROCESSORS\u003d1\nOS\u003dWindows_NT\nPath\u003dC:\\Program Files\\Microsoft Visual Studio 8\\SDK\\v2.0\\Bin;C:\\Windows\\Microsof\nt.NET\\Framework\\v2.0.50727;C:\\Program Files\\Microsoft Visual Studio 8\\VC\\bin;C:\\\nProgram Files\\Microsoft Visual Studio 8\\Common7\\IDE;C:\\Program Files\\Microsoft V\nisual Studio 8\\VC\\vcpackages;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\\nWbem\nPATHEXT\u003d.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC\nPROCESSOR_ARCHITECTURE\u003dx86\nPROCESSOR_IDENTIFIER\u003dx86 Family 15 Model 2 Stepping 7, GenuineIntel\nPROCESSOR_LEVEL\u003d15\nPROCESSOR_REVISION\u003d0207\nProgramData\u003dC:\\ProgramData\nProgramFiles\u003dC:\\Program Files\nPROMPT\u003d$P$G\nPUBLIC\u003dC:\\Users\\Public\nSESSIONNAME\u003dConsole\nSystemDrive\u003dC:\nSystemRoot\u003dC:\\Windows\nTEMP\u003dC:\\Users\\Felipe\\AppData\\Local\\Temp\nTMP\u003dC:\\Users\\Felipe\\AppData\\Local\\Temp\nUSERDOMAIN\u003dTVISTABETA\nUSERNAME\u003dFelipe\nUSERPROFILE\u003dC:\\Users\\Felipe\nVCBUILD_DEFAULT_CFG\u003dDebug|Win32\nVCBUILD_DEFAULT_OPTIONS\u003d/useenv\nVS80COMNTOOLS\u003dC:\\Program Files\\Microsoft Visual Studio 8\\Common7\\Tools\\\nwindir\u003dC:\\Windows",
    "Maybe this matter maybe don\u0027t, in my registry I add:\nHKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Command Processor\\AutoRun\u003d\"C:\\Program Files\\Microsoft Visual Studio 8\\SDK\\v2.0\\Bin\\sdkvars.bat\"\n\nthis run every time I open a cmd window. These batch file sets a few variables in my env to enable the compiler.",
    "I removed the AutoRun key from my registry it works fine now.\nhere is the result of set\nC:\\Users\\Felipe\u003eset\nALLUSERSPROFILE\u003dC:\\ProgramData\nAPPDATA\u003dC:\\Users\\Felipe\\AppData\\Roaming\nCommonProgramFiles\u003dC:\\Program Files\\Common Files\nCOMPUTERNAME\u003dTVISTABETA\nComSpec\u003dC:\\Windows\\system32\\cmd.exe\nFP_NO_HOST_CHECK\u003dNO\nHOMEDRIVE\u003dC:\nHOMEPATH\u003d\\Users\\Felipe\nLOCALAPPDATA\u003dC:\\Users\\Felipe\\AppData\\Local\nLOGONSERVER\u003d\\\\TVISTABETA\nNUMBER_OF_PROCESSORS\u003d1\nOS\u003dWindows_NT\nPath\u003dC:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem\nPATHEXT\u003d.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC\nPROCESSOR_ARCHITECTURE\u003dx86\nPROCESSOR_IDENTIFIER\u003dx86 Family 15 Model 2 Stepping 7, GenuineIntel\nPROCESSOR_LEVEL\u003d15\nPROCESSOR_REVISION\u003d0207\nProgramData\u003dC:\\ProgramData\nProgramFiles\u003dC:\\Program Files\nPROMPT\u003d$P$G\nPUBLIC\u003dC:\\Users\\Public\nSESSIONNAME\u003dConsole\nSystemDrive\u003dC:\nSystemRoot\u003dC:\\Windows\nTEMP\u003dC:\\Users\\Felipe\\AppData\\Local\\Temp\nTMP\u003dC:\\Users\\Felipe\\AppData\\Local\\Temp\nUSERDOMAIN\u003dTVISTABETA\nUSERNAME\u003dFelipe\nUSERPROFILE\u003dC:\\Users\\Felipe\nVS80COMNTOOLS\u003dC:\\Program Files\\Microsoft Visual Studio 8\\Common7\\Tools\\\nwindir\u003dC:\\Windows\n\n-\u003d-\u003d-\u003d-\u003d-\u003d-\u003d-\u003d-\u003d-\u003d-\u003d-\u003d-\n\nStill, I like having cmd ready to run the compiler, and it is a *NPE* in java - it should be easy to fix...\n",
    "Created an attachment (id\u003d53148)\nproposed patch\n\nI suspect that there are line breaks appearing in the path, from what I see of the original SET  output, where single letters are appearing on their own line....(does not seem like text wrapping would cause that). \n\nCurrently we assume that all entries appear only on one line. This patch will process entries that span more than one line.\n\nFelipe, is there any way you could apply this patch and tell me if it solves the issue?",
    "for some reason I can\u0027t reproduce the problem when I self-host. if you release the code to head I can test the nightly build.",
    "ok I\u0027ll release it after 3.3 M3 ships",
    "applied patch.\n\nFelipe can you test if this fixes the problem?",
    "fixed in I20061114-0927 (I guess, the first two times I tried it fail with a recursive loop... unrelated problem I hope).",
    "marking as verified, thanks Felip."
  ],
  "commentCreationDates": [
    "2006-10-31T21:30:32+01:00",
    "2006-11-02T15:46:25+01:00",
    "2006-11-02T15:48:54+01:00",
    "2006-11-02T16:23:15+01:00",
    "2006-11-02T17:06:34+01:00",
    "2006-11-02T20:56:42+01:00",
    "2006-11-03T13:44:13+01:00",
    "2006-11-06T21:05:11+01:00",
    "2006-11-14T17:43:34+01:00",
    "2006-11-14T18:26:04+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.debug.internal.core.EnvironmentVariableResolver.resolveValue",
          "source": "EnvironmentVariableResolver.java:47"
        },
        {
          "method": "org.eclipse.core.internal.variables.DynamicVariable.getValue",
          "source": "DynamicVariable.java:54"
        },
        {
          "method": "org.eclipse.ant.core.AntCorePreferences.getToolsJarEntry",
          "source": "AntCorePreferences.java:731"
        },
        {
          "method": "org.eclipse.ant.core.AntCorePreferences.restoreAdditionalEntries",
          "source": "AntCorePreferences.java:245"
        },
        {
          "method": "org.eclipse.ant.core.AntCorePreferences.restoreCustomObjects",
          "source": "AntCorePreferences.java:195"
        },
        {
          "method": "org.eclipse.ant.core.AntCorePreferences.\u003cinit\u003e",
          "source": "AntCorePreferences.java:157"
        },
        {
          "method": "org.eclipse.ant.core.AntCorePlugin.getPreferences",
          "source": "AntCorePlugin.java:219"
        },
        {
          "method": "org.eclipse.ant.internal.ui.launchConfigurations.AntPropertiesTab.initializeAsGlobal",
          "source": "AntPropertiesTab.java:143"
        },
        {
          "method": "org.eclipse.ant.internal.ui.launchConfigurations.AntPropertiesTab.initializeFrom",
          "source": "AntPropertiesTab.java:130"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupWrapper.initializeFrom",
          "source": "LaunchConfigurationTabGroupWrapper.java:119"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer.displayInstanceTabs",
          "source": "LaunchConfigurationTabGroupViewer.java:710"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer$7.run",
          "source": "LaunchConfigurationTabGroupViewer.java:612"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:67"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer.inputChanged",
          "source": "LaunchConfigurationTabGroupViewer.java:630"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer.setInput",
          "source": "LaunchConfigurationTabGroupViewer.java:592"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationPropertiesDialog.initializeContent",
          "source": "LaunchConfigurationPropertiesDialog.java:77"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.createContents",
          "source": "LaunchConfigurationsDialog.java:441"
        },
        {
          "method": "org.eclipse.jface.window.Window.create",
          "source": "Window.java:426"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog.create",
          "source": "Dialog.java:1111"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.create",
          "source": "LaunchConfigurationsDialog.java:370"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:785"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.open",
          "source": "LaunchConfigurationsDialog.java:1095"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationPropertiesDialog.open",
          "source": "LaunchConfigurationPropertiesDialog.java:180"
        },
        {
          "method": "org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialog",
          "source": "DebugUITools.java:458"
        },
        {
          "method": "org.eclipse.ant.internal.ui.launchConfigurations.AntLaunchShortcut.launch",
          "source": "AntLaunchShortcut.java:337"
        },
        {
          "method": "org.eclipse.ant.internal.ui.launchConfigurations.AntLaunchShortcut.launch",
          "source": "AntLaunchShortcut.java:232"
        },
        {
          "method": "org.eclipse.ant.internal.ui.launchConfigurations.AntLaunchShortcut.launch",
          "source": "AntLaunchShortcut.java:177"
        },
        {
          "method": "org.eclipse.ant.internal.ui.launchConfigurations.AntLaunchShortcut.launch",
          "source": "AntLaunchShortcut.java:85"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchShortcutExtension.launch",
          "source": "LaunchShortcutExtension.java:369"
        },
        {
          "method": "org.eclipse.debug.internal.ui.actions.LaunchShortcutAction.run",
          "source": "LaunchShortcutAction.java:68"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:499"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:539"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:925"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3463"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3077"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1924"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1888"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:104"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:74"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:348"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:165"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:341"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:285"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:987"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:962"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "162996",
      "date": "2006-10-31T21:30:32+01:00",
      "product": "Platform",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "162996",
  "bugId": "162996",
  "date": "2006-10-31T21:30:32+01:00",
  "product": "Platform",
  "component": "Debug",
  "severity": "normal"
}