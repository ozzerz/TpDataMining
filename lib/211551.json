{
  "comments": [
    "Right click on three folders inside a tar file, and move it to a folder inside another tar file.  I got the error:\n\njava.lang.NullPointerException\nat org.eclipse.rse.services.clientserver.archiveutils.SystemTarHandler.extractVirtualFile(SystemTarHandler.java:849)\nat org.eclipse.rse.services.clientserver.archiveutils.SystemTarHandler.extractVirtualDirectory(SystemTarHandler.java:991)\nat org.eclipse.rse.services.clientserver.archiveutils.SystemTarHandler.extractVirtualDirectory(SystemTarHandler.java:924)\nat org.eclipse.rse.services.clientserver.archiveutils.SystemTarHandler.extractVirtualDirectory(SystemTarHandler.java:2186)\nat org.eclipse.rse.services.clientserver.archiveutils.VirtualChild.getExtractedFile(VirtualChild.java:199)\nat org.eclipse.rse.internal.services.local.files.LocalFileService.copyFromArchive(LocalFileService.java:1264)\nat org.eclipse.rse.internal.services.local.files.LocalFileService.copy(LocalFileService.java:1106)\nat org.eclipse.rse.internal.services.local.files.LocalFileService.move(LocalFileService.java:1079)\nat org.eclipse.rse.subsystems.files.core.servicesubsystem.FileServiceSubSystem.move(FileServiceSubSystem.java:617)\nat org.eclipse.rse.internal.files.ui.actions.SystemMoveRemoteFileAction.doCopy(SystemMoveRemoteFileAction.java:90)\nat org.eclipse.rse.ui.actions.SystemBaseCopyAction.run(SystemBaseCopyAction.java:314)\nat org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:369)\nat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:313)\nat org.eclipse.jface.dialogs.ProgressMonitorDialog.run(ProgressMonitorDialog.java:495)\nat org.eclipse.rse.ui.actions.SystemBaseCopyAction.getDialogValue(SystemBaseCopyAction.java:188)\nat org.eclipse.rse.ui.actions.SystemBaseDialogAction.run(SystemBaseDialogAction.java:317)\n\nAnd only the first one is moved to its destination.\nThe rest two seems still in the tar file.  But if you start the workspace again, and expand that tar file, you could those two virtual directories are not there any more.  \n\nThis case was found during the testing for bug #209825.  But the same problem exists in 2.0.1 driver already.  So I opened this bug to separate it out.",
    "Created an attachment (id\u003d84135)\nTest tar file used to recreate this problem\n\n",
    "Steps to recreated using attached tar file:\n. expand the tar file, and then expand copyTo folder.\n. move the following three folders to one of the virtual folder of your own tar file:\ncom\ncom.ibm.etools.jve.core_7.0.0.v20060905_1930-2PD88P8Y8OKAYG8\ncom.ibm.etools.jve.express_7.0.0.v20060905_1930-0842282A27m3A52",
    "Actually, this problem is very specific to this tar file.\n\nWhen we delete a folder inside a tar file, we find out all the children/granchildren/etc of this folder, and put it into the omit list when we create a new archive file (which will replace the old one).\n\nWhen we check if a virtual file/folder is a decendant of the deleted folder, we check if the full virtual path starts with the virtual path of the deleted folder.  In this case, the virtual path of the deleted folder is copyTo/com.\nBut there are two other folder in this archive starts with copyTo/com.ibm...\nAnd they are also considered to be the decendants of the deleted folder, and got deleted.\n\nThe fix for this problem is checking for startsWith() of (deleted folder full name plus \"/\").",
    "Created an attachment (id\u003d84207)\nfix for this problem\n\n",
    "I\u0027ve committed the fix to cvs.",
    "According to bug 209825 comment 3, this problem existed in 2.0.1 already."
  ],
  "commentCreationDates": [
    "2007-11-30T05:49:45+01:00",
    "2007-11-30T05:51:10+01:00",
    "2007-11-30T05:53:14+01:00",
    "2007-11-30T17:55:14+01:00",
    "2007-11-30T17:59:14+01:00",
    "2007-11-30T18:00:37+01:00",
    "2007-12-03T12:43:19+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.rse.services.clientserver.archiveutils.SystemTarHandler.extractVirtualFile",
          "source": "SystemTarHandler.java:849"
        },
        {
          "method": "org.eclipse.rse.services.clientserver.archiveutils.SystemTarHandler.extractVirtualDirectory",
          "source": "SystemTarHandler.java:991"
        },
        {
          "method": "org.eclipse.rse.services.clientserver.archiveutils.SystemTarHandler.extractVirtualDirectory",
          "source": "SystemTarHandler.java:924"
        },
        {
          "method": "org.eclipse.rse.services.clientserver.archiveutils.SystemTarHandler.extractVirtualDirectory",
          "source": "SystemTarHandler.java:2186"
        },
        {
          "method": "org.eclipse.rse.services.clientserver.archiveutils.VirtualChild.getExtractedFile",
          "source": "VirtualChild.java:199"
        },
        {
          "method": "org.eclipse.rse.internal.services.local.files.LocalFileService.copyFromArchive",
          "source": "LocalFileService.java:1264"
        },
        {
          "method": "org.eclipse.rse.internal.services.local.files.LocalFileService.copy",
          "source": "LocalFileService.java:1106"
        },
        {
          "method": "org.eclipse.rse.internal.services.local.files.LocalFileService.move",
          "source": "LocalFileService.java:1079"
        },
        {
          "method": "org.eclipse.rse.subsystems.files.core.servicesubsystem.FileServiceSubSystem.move",
          "source": "FileServiceSubSystem.java:617"
        },
        {
          "method": "org.eclipse.rse.internal.files.ui.actions.SystemMoveRemoteFileAction.doCopy",
          "source": "SystemMoveRemoteFileAction.java:90"
        },
        {
          "method": "org.eclipse.rse.ui.actions.SystemBaseCopyAction.run",
          "source": "SystemBaseCopyAction.java:314"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:369"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:313"
        },
        {
          "method": "org.eclipse.jface.dialogs.ProgressMonitorDialog.run",
          "source": "ProgressMonitorDialog.java:495"
        },
        {
          "method": "org.eclipse.rse.ui.actions.SystemBaseCopyAction.getDialogValue",
          "source": "SystemBaseCopyAction.java:188"
        },
        {
          "method": "org.eclipse.rse.ui.actions.SystemBaseDialogAction.run",
          "source": "SystemBaseDialogAction.java:317"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "211551",
      "date": "2007-11-30T05:49:45+01:00",
      "product": "Target Management",
      "component": "RSE",
      "severity": "normal"
    }
  ],
  "groupId": "211551",
  "bugId": "211551",
  "date": "2007-11-30T05:49:45+01:00",
  "product": "Target Management",
  "component": "RSE",
  "severity": "normal"
}