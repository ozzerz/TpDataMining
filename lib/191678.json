{
  "comments": [
    "Hi,\n\nWhen the web service wizard is started without a project containing selection the first wizard page is initialized with the following default values:\n\nService project: WebServiceProject\nService EAR project: WebServiceProjectEAR\n\nThe framework tries to identify the service project runtime and initialize the wizard with it. This is done in \norg.eclipse.jst.ws.internal.consumption.ui.widgets.runtime.ClientRuntimeSelectionWidgetDefaultingCommand.getDefaultRuntime(IRpoject, String, boolean)\nWhen the workspace contains a project called \"WebServiceProject\", the following piece of code is executed in the method above:\n\n DefaultRuntimeTriplet drt \u003d new DefaultRuntimeTriplet();\n drt.setFacetMatcher(null);\n //If the project doesn\u0027t exist, use the name of the project that was passed in.\n //If the project exists, it means that previous code in this method\n //determined it to not be a suitable project. Clear the project name.\n if (project\u003d\u003dnull || project.exists())\n {\n   drt.setProjectName(null);\n }\n else\n {\n   drt.setProjectName(project.getName());\n }\n drt.setRuntimeId(preferredRuntimeIds[m]);\n return drt;            \n\nNote that in that snippet the facet matcher is set to \"null\". \n\nLater on the ClientRuntimeSelectionWidgetDefaultingCommand.getServerFromProject() uses the default runtime returned in the following statement:\n\n\tif (facetMatcher.getFacetsToAdd() !\u003d null)\n\t{\n\t............\n\t}\n\t\n\t\nSince the facet matcher is \"null\", a NullPointerException is thrown. Thus the WS wizard fails to start. Here is the NPE stack trace:\n\nIWAB0234E An internal error occurred. Details: null\n    java.lang.NullPointerException\n    at org.eclipse.jst.ws.internal.consumption.ui.widgets.runtime.ClientRuntimeSelectionWidgetDefaultingCommand.getServerFromProject(ClientRuntimeSelectionWidgetDefaultingCommand.java:554)\n    at org.eclipse.jst.ws.internal.creation.ui.widgets.runtime.ServerRuntimeSelectionWidgetDefaultingCommand.setServiceDefaultServer(ServerRuntimeSelectionWidgetDefaultingCommand.java:309)\n    at org.eclipse.jst.ws.internal.creation.ui.widgets.runtime.ServerRuntimeSelectionWidgetDefaultingCommand.execute(ServerRuntimeSelectionWidgetDefaultingCommand.java:172)\n    at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.runCommand(CommandFragmentEngine.java:418)\n    at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.visitTop(CommandFragmentEngine.java:358)\n    at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.moveForwardToNextStop(CommandFragmentEngine.java:253)\n    at org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager$5.run(SimpleCommandEngineManager.java:252)\n    at org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager.runForwardToNextStop(SimpleCommandEngineManager.java:216)\n    at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.runForwardToNextStop(WizardPageManager.java:96)\n    at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getNextPage(WizardPageManager.java:147)\n    at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getStartingPage(WizardPageManager.java:78)\n    at org.eclipse.wst.command.internal.env.ui.widgets.DynamicWizard.getStartingPage(DynamicWizard.java:314)\n    at org.eclipse.jface.wizard.WizardDialog.showStartingPage(WizardDialog.java:1173)\n    at org.eclipse.jface.wizard.WizardDialog.createContents(WizardDialog.java:545)\n    at org.eclipse.jface.window.Window.create(Window.java:426)\n    at org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1081)\n    at org.eclipse.jface.window.Window.open(Window.java:785)\n    at com.sap.ide.jee.ws.common.integration.internal.esr.AbstractEsrWizardStarter.run(AbstractEsrWizardStarter.java:39)\n    at com.sap.ide.es.browser.facade.actions.WsdlAction.run(WsdlAction.java:47)\n    at com.sap.ide.es.browser.ui.internal.menu.DelegatingAction.run(DelegatingAction.java:27)\n    at org.eclipse.jface.action.Action.runWithEvent(Action.java:498)\n    at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:545)\n    at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490)\n    at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:402)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3673)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3284)\n    at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389)\n    at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353)\n    at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219)\n    at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:585)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:497)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:436)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1162)\n    at org.eclipse.equinox.launcher.Main.main(Main.java:1137)\n\n\nThe issue can be easily reproduced via following steps:\n1. Create a dynamic web project called \"WebServiceProject\"\n2. Start the WS wizard by selecting File -\u003e New -\u003e Other -\u003e Web Services -\u003e Web Service\n\nI think that this issue seems pretty close to bug 176826.\n\nRegards, Danail",
    "Hello,\n\nI would like to increase the priority of this issue to \"Major\" because it seems that it is a very common situation that \"WebServiceProject\" exists in the workspace, especially when someone would like to get some impression of the WS tooling in Eclipse. It is not very nice not to be able to start the wizard after several clicks.\n\nRegards,\nDanail",
    "Hi Danail,\n\nThanks for the detail analysis!  However, I am not able to reproduce the problem on WTP 2.0 on Windows.  I have no problem going through the Web Service Wizard or Web Service Client wizard with a dynamic Web project called \"WebServiceProject\" in the workspace.  Could you please retry on WTP 2.0?  If the problem still exists for you, please re-open the defect and provide more detail steps on how to reproduce the problem",
    "This defect has been in RESOLVE state for some time.  Please verify it with the latest driver.  WTP 2.0.1 RC1 is available at:\n\nhttp://download.eclipse.org/webtools/downloads/drops/R2.0/M-2.0.1RC1-20070907070540/",
    "Hi,\n\nI tried to reproduce the problem with the latest WTP release I could not achieve that. Therefore, I am verifying the issue.\n\nBest regards, Danail",
    "Closing."
  ],
  "commentCreationDates": [
    "2007-06-08T12:44:45+02:00",
    "2007-06-12T11:49:16+02:00",
    "2007-08-10T23:05:31+02:00",
    "2007-09-11T19:36:17+02:00",
    "2007-09-14T09:15:08+02:00",
    "2007-11-01T20:26:18+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jst.ws.internal.consumption.ui.widgets.runtime.ClientRuntimeSelectionWidgetDefaultingCommand.getServerFromProject",
          "source": "ClientRuntimeSelectionWidgetDefaultingCommand.java:554"
        },
        {
          "method": "org.eclipse.jst.ws.internal.creation.ui.widgets.runtime.ServerRuntimeSelectionWidgetDefaultingCommand.setServiceDefaultServer",
          "source": "ServerRuntimeSelectionWidgetDefaultingCommand.java:309"
        },
        {
          "method": "org.eclipse.jst.ws.internal.creation.ui.widgets.runtime.ServerRuntimeSelectionWidgetDefaultingCommand.execute",
          "source": "ServerRuntimeSelectionWidgetDefaultingCommand.java:172"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.runCommand",
          "source": "CommandFragmentEngine.java:418"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.visitTop",
          "source": "CommandFragmentEngine.java:358"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.moveForwardToNextStop",
          "source": "CommandFragmentEngine.java:253"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager$5.run",
          "source": "SimpleCommandEngineManager.java:252"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager.runForwardToNextStop",
          "source": "SimpleCommandEngineManager.java:216"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.runForwardToNextStop",
          "source": "WizardPageManager.java:96"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getNextPage",
          "source": "WizardPageManager.java:147"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getStartingPage",
          "source": "WizardPageManager.java:78"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.DynamicWizard.getStartingPage",
          "source": "DynamicWizard.java:314"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.showStartingPage",
          "source": "WizardDialog.java:1173"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.createContents",
          "source": "WizardDialog.java:545"
        },
        {
          "method": "org.eclipse.jface.window.Window.create",
          "source": "Window.java:426"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog.create",
          "source": "Dialog.java:1081"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:785"
        },
        {
          "method": "com.sap.ide.jee.ws.common.integration.internal.esr.AbstractEsrWizardStarter.run",
          "source": "AbstractEsrWizardStarter.java:39"
        },
        {
          "method": "com.sap.ide.es.browser.facade.actions.WsdlAction.run",
          "source": "WsdlAction.java:47"
        },
        {
          "method": "com.sap.ide.es.browser.ui.internal.menu.DelegatingAction.run",
          "source": "DelegatingAction.java:27"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:498"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:545"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:490"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:402"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3673"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3284"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2389"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2353"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2219"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:466"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:461"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:153"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:363"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:176"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:497"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:436"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1162"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1137"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "191678",
      "date": "2007-06-08T12:44:45+02:00",
      "product": "Web Tools",
      "component": "wst.ws",
      "severity": "major"
    }
  ],
  "groupId": "191678",
  "bugId": "191678",
  "date": "2007-06-08T12:44:45+02:00",
  "product": "Web Tools",
  "component": "wst.ws",
  "severity": "major"
}