{
  "comments": [
    "This happens a lot in my RCP application because none of my editors are\npersistable. Here are the steps to reproduce with the SDK:\n1. open CVS repositories view\n2. close all open editors\n3. open two remote files\n4. move the editors so that they are side-by-side\n5. ensure that only the two editors are open, no other.\n6. restart Eclipse. Notice that there are two editor stacks that are empty. Try\nand drag them together. NPE all the time. Eclipse can\u0027t open any editors after that.\n\n\njava.lang.NullPointerException\nat org.eclipse.ui.internal.PartSashContainer.dropObject(PartSashContainer.java:1092)\nat\norg.eclipse.ui.internal.PartSashContainer$SashContainerDropTarget.drop(PartSashContainer.java:130)\nat org.eclipse.ui.internal.dnd.DragUtil.performDrag(DragUtil.java:130)\nat org.eclipse.ui.internal.PartStack.dragStart(PartStack.java:1272)\nat org.eclipse.ui.internal.PartStack$1.dragStart(PartStack.java:85)\nat\norg.eclipse.ui.internal.presentations.newapi.TabbedStackPresentation$1.handleEvent(TabbedStackPresentation.java:95)\nat\norg.eclipse.ui.internal.presentations.newapi.AbstractTabFolder.fireEvent(AbstractTabFolder.java:263)\nat\norg.eclipse.ui.internal.presentations.newapi.AbstractTabFolder.fireEvent(AbstractTabFolder.java:276)\nat\norg.eclipse.ui.internal.presentations.newapi.AbstractTabFolder.handleDragStarted(AbstractTabFolder.java:345)\nat\norg.eclipse.ui.internal.presentations.newapi.AbstractTabFolder$2.handleEvent(AbstractTabFolder.java:68)\nat\norg.eclipse.ui.presentations.PresentationUtil.handleMouseMove(PresentationUtil.java:96)\nat org.eclipse.ui.presentations.PresentationUtil.access$4(PresentationUtil.java:89)\nat\norg.eclipse.ui.presentations.PresentationUtil$2.handleEvent(PresentationUtil.java:61)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2783)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2442)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1443)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1414)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:271)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)\nat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102)\nat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:335)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\nat org.eclipse.core.launcher.Main.run(Main.java:704)\nat org.eclipse.core.launcher.Main.main(Main.java:688)",
    "I can confirm this.\n\nI am writing an RCP application where I have two or more EditorParts open in \nmy RCP app that have been docked either side by side or on top of each other \nin the editor area, and then I quit the app.\n\nUpon relaunching the app, the editor area still contains the divider (sash?) \nlines, but no editor parts.  Launching a new editor part puts the editor part \nin one of the sash areas, but when dragging to a new location leads to an \nerror:\n\n!MESSAGE Index out of bounds\n!STACK 0\njava.lang.IllegalArgumentException: Index out of bounds\nat org.eclipse.swt.SWT.error(SWT.java:2677)\nat org.eclipse.swt.SWT.error(SWT.java:2616)\nat org.eclipse.swt.SWT.error(SWT.java:2587)\nat org.eclipse.swt.custom.CTabFolder.getItem(CTabFolder.java:1213)\nat org.eclipse.ui.internal.presentations.PaneFolder.getIte(PaneFolder.java:597)\nat org.eclipse.ui.internal.presentations.DefaultPartPresentation.dragOver\n(DefaultPartPresentation.java:1253)\nat org.eclipse.ui.internal.PartStack$2.drag(PartStack.java:419)\nat org.eclipse.ui.internal.dnd.DragUtil.getDropTarget(DragUtil.java:303)\nat org.eclipse.ui.internal.dnd.DragUtil.getDropTarget(DragUtil.java:323)\nat org.eclipse.ui.internal.dnd.DragUtil$2.run(DragUtil.java:211)\nat org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:135)\nat org.eclipse.ui.internal.UISynchronizer.syncExec(UISynchronizer.java:25)\nat org.eclipse.swt.widgets.Display.syncExec(Display.java:3096)\nat org.eclipse.ui.internal.dnd.DragUtil$1.handleEvent(DragUtil.java:205)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:820)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:805)\nat org.eclipse.swt.widgets.Tracker.open(Tracker.java:584)\nat org.eclipse.ui.internal.dnd.DragUtil.dragToTarget(DragUtil.java:260)\nat org.eclipse.ui.internal.dnd.DragUtil.performDrag(DragUtil.java:121)\nat org.eclipse.ui.internal.PartStack.dragStart(PartStack.java:1147)\nat org.eclipse.ui.internal.PartStack$1.dragStart(PartStack.java:78)\nat org.eclipse.ui.internal.presentations.DefaultPartPresentation$11.handleEvent\n(DefaultPartPresentation.java:333)\nat org.eclipse.ui.presentations.PresentationUtil.handleMouseMove\n(PresentationUtil.java:89)\nat \norg.eclipse.ui.presentations.PresentationUtil.access$4PresentationUtil.java:83)\nat org.eclipse.ui.presentations.PresentationUtil$2.handleEvent\n(PresentationUtil.java:55)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2772)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2431)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1377)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1348)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:254)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\nat uk.ac.reload.straker.StrakerApp.run(StrakerApp.java:95)\nat org.eclipse.core.internal.runtime.PlatformActivator$1.run\n(PlatformActivator.java:335)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke \nDelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:324)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\nat org.eclipse.core.launcher.Main.run(Main.java:704)\nat org.eclipse.core.launcher.Main.main(Main.java:688)\n\n\nTo get round this problem, I tried closing all open editors on exit in my \nWorkbenchAdvisor like this:\n\npublic boolean preWindowShellClose(IWorkbenchWindowConfigurer configurer) {\n     IWorkbenchPage page \u003d configurer.getWindow().getActivePage();\n     page.closeAllEditors(true);\n     return true;\n}\n \nHowever, this is not a satisfactory solution since the editor closing \nprocedures are now called twice, such that quitting the app with a dirty \neditor invokes the \"Save Resources\" dialog twice.\n\nPhil Beauvoir\n",
    "\nIt\u0027s a bit better now but still opens the two empty ares. However, opening a real file allows you to drag it into the \u0027empty\u0027 stacks, cleaning them up.\n\nStill looks bad though...\n",
    "\nBoris, do you know anything about the base issue here (i.e. that closing and restarting eclipse with remote files open leaves the WB in an invalid state)?\n\nIf that were fixed then this bug would likely not be reproducible...\n",
    "We have a bug for that: Bug 110684. I\u0027d recommend using the steps from this bug to reproduce because it can be done with just the SDK.",
    "\nPaul, I\u0027m going to mark this one as a dup of bug 110684 on the assumption that if we don\u0027t re-open \u0027empty\u0027 editors then we won\u0027t have any problems dragging them around...;-). Essentially the DnD error is a result of the layout being in a corrupt state at the end of the restart...\n\nLet me know if you think they\u0027re different issues.\n\n\n*** This bug has been marked as a duplicate of bug 110684 ***"
  ],
  "commentCreationDates": [
    "2004-09-24T03:40:07+02:00",
    "2004-12-17T09:35:54+01:00",
    "2007-06-21T17:52:54+02:00",
    "2007-09-11T16:39:24+02:00",
    "2007-09-11T17:40:46+02:00",
    "2007-09-11T21:05:18+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.internal.PartSashContainer.dropObject",
          "source": "PartSashContainer.java:1092"
        },
        {
          "method": "org.eclipse.ui.internal.PartSashContainer$SashContainerDropTarget.drop",
          "source": "PartSashContainer.java:130"
        },
        {
          "method": "org.eclipse.ui.internal.dnd.DragUtil.performDrag",
          "source": "DragUtil.java:130"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.dragStart",
          "source": "PartStack.java:1272"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack$1.dragStart",
          "source": "PartStack.java:85"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.newapi.TabbedStackPresentation$1.handleEvent",
          "source": "TabbedStackPresentation.java:95"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.newapi.AbstractTabFolder.fireEvent",
          "source": "AbstractTabFolder.java:263"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.newapi.AbstractTabFolder.fireEvent",
          "source": "AbstractTabFolder.java:276"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.newapi.AbstractTabFolder.handleDragStarted",
          "source": "AbstractTabFolder.java:345"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.newapi.AbstractTabFolder$2.handleEvent",
          "source": "AbstractTabFolder.java:68"
        },
        {
          "method": "org.eclipse.ui.presentations.PresentationUtil.handleMouseMove",
          "source": "PresentationUtil.java:96"
        },
        {
          "method": "org.eclipse.ui.presentations.PresentationUtil.access$4",
          "source": "PresentationUtil.java:89"
        },
        {
          "method": "org.eclipse.ui.presentations.PresentationUtil$2.handleEvent",
          "source": "PresentationUtil.java:61"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:796"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2783"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2442"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1443"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1414"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:271"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:144"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:102"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:335"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:273"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:704"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:688"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "74899",
      "duplicateId": "110684",
      "date": "2004-09-24T03:40:07+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Index out of bounds",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2677"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2616"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2587"
        },
        {
          "method": "org.eclipse.swt.custom.CTabFolder.getItem",
          "source": "CTabFolder.java:1213"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.PaneFolder.getIte",
          "source": "PaneFolder.java:597"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.DefaultPartPresentation.dragOver",
          "source": "DefaultPartPresentation.java:1253"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack$2.drag",
          "source": "PartStack.java:419"
        },
        {
          "method": "org.eclipse.ui.internal.dnd.DragUtil.getDropTarget",
          "source": "DragUtil.java:303"
        },
        {
          "method": "org.eclipse.ui.internal.dnd.DragUtil.getDropTarget",
          "source": "DragUtil.java:323"
        },
        {
          "method": "org.eclipse.ui.internal.dnd.DragUtil$2.run",
          "source": "DragUtil.java:211"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.syncExec",
          "source": "Synchronizer.java:135"
        },
        {
          "method": "org.eclipse.ui.internal.UISynchronizer.syncExec",
          "source": "UISynchronizer.java:25"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.syncExec",
          "source": "Display.java:3096"
        },
        {
          "method": "org.eclipse.ui.internal.dnd.DragUtil$1.handleEvent",
          "source": "DragUtil.java:205"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:796"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:820"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:805"
        },
        {
          "method": "org.eclipse.swt.widgets.Tracker.open",
          "source": "Tracker.java:584"
        },
        {
          "method": "org.eclipse.ui.internal.dnd.DragUtil.dragToTarget",
          "source": "DragUtil.java:260"
        },
        {
          "method": "org.eclipse.ui.internal.dnd.DragUtil.performDrag",
          "source": "DragUtil.java:121"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.dragStart",
          "source": "PartStack.java:1147"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack$1.dragStart",
          "source": "PartStack.java:78"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.DefaultPartPresentation$11.handleEvent",
          "source": "DefaultPartPresentation.java:333"
        },
        {
          "method": "org.eclipse.ui.presentations.PresentationUtil.handleMouseMove",
          "source": "PresentationUtil.java:89"
        }
      ],
      "number": 1,
      "commentIndex": 1,
      "bugId": "74899",
      "duplicateId": "110684",
      "date": "2004-12-17T09:35:54+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "110684",
  "bugId": "74899",
  "duplicateId": "110684",
  "date": "2004-09-24T03:40:07+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}