{
  "comments": [
    "Build 20020409\n\nThe following NPE appeared in my OS console when I switched JRE\u0027s in my host\nfrom JDK 1.4.0 to IBM 1.3.\n\njava.lang.NullPointerException\n\tat\norg.eclipse.jdt.internal.core.index.impl.IndexerOutput.addRef(IndexerOutput.java(Compiled\nCode))\n\tat\norg.eclipse.jdt.internal.core.search.indexing.AbstractIndexer.addTypeReference(AbstractIndexer.java:164)\n\tat\norg.eclipse.jdt.internal.core.search.indexing.AbstractIndexer.addMethodDeclaration(AbstractIndexer.java:116)\n\tat\norg.eclipse.jdt.internal.core.search.indexing.BinaryIndexer.indexClassFile(BinaryIndexer.java:485)\n\tat\norg.eclipse.jdt.internal.core.search.indexing.BinaryIndexer.indexFile(BinaryIndexer.java:513)\n\tat\norg.eclipse.jdt.internal.core.search.indexing.AbstractIndexer.index(AbstractIndexer.java:558)\n\tat org.eclipse.jdt.internal.core.index.impl.Index.add(Index.java:88)\n\tat\norg.eclipse.jdt.internal.core.search.indexing.AddJarFileToIndex.execute(AddJarFileToIndex.java(Compiled\nCode))\n\tat\norg.eclipse.jdt.internal.core.search.processing.JobManager.run(JobManager.java:298)\n\tat java.lang.Thread.run(Thread.java:512)\n\n\nWhen I then tried to switch the JRE back to JDK 1.4.0, Eclipse crashed completely.\n\nThis is a reproducable problem. If I switch from IBM 1.3 to JDK 1.4.0 a few\ntimes, Eclipse always crashes (it can crash when switching in either direction).",
    "Created an attachment (id\u003d579)\njavacore.txt - the java core file generated when Eclipse crashes\n",
    "Can you reproduce it ?\n\nThe only possible NPE in the offending code would occur at the last line.\n\n\tpublic void addRef(char[] word) {\n\t\tif (indexedFile \u003d\u003d null) {\n\t\t\tthrow new IllegalStateException();\n\t\t}\n\t\tindex.addRef(indexedFile, word); \u003c\u003c\u003c\u003c\u003c\u003c\u003c\u003c\u003c\u003c\u003c\u003c\u003c\u003c\n\t}\n\nThe index field is initialized once in the constructor of the IndexerOutput, \nand never reassigned.\n\nGuessing this could be a VM bug, which would also explain the GPF (a NPE should \ncause one).\n",
    "Yes, it happens to me consistently running Eclipse on IBM 1.3.1.",
    "Note that I\u0027ve only seen this in my host. I haven\u0027t been able to reproduce the\nproblem in my target Eclipse (not with a simple \"Bonjour, le monde!\" anyway).",
    "Does it happen too when running on a different VM ?",
    "I\u0027ve only been able to reproduce it on IBM 1.3.1.",
    "Sounds like a VM bug.",
    "Can you turn off the jit and see if it still occurs ? Alternatively trying to \nreproduce it under the debugger would also do the trick",
    "Closing as a jit bug."
  ],
  "commentCreationDates": [
    "2002-04-11T16:48:50+02:00",
    "2002-04-11T16:49:25+02:00",
    "2002-04-11T17:06:30+02:00",
    "2002-04-11T17:17:17+02:00",
    "2002-04-11T17:17:55+02:00",
    "2002-04-11T18:57:24+02:00",
    "2002-04-12T15:32:25+02:00",
    "2002-04-16T13:30:45+02:00",
    "2002-04-17T15:30:34+02:00",
    "2002-04-26T12:20:50+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.index.impl.IndexerOutput.addRef",
          "source": "IndexerOutput.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.AbstractIndexer.addTypeReference",
          "source": "AbstractIndexer.java:164"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.AbstractIndexer.addMethodDeclaration",
          "source": "AbstractIndexer.java:116"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.BinaryIndexer.indexClassFile",
          "source": "BinaryIndexer.java:485"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.BinaryIndexer.indexFile",
          "source": "BinaryIndexer.java:513"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.AbstractIndexer.index",
          "source": "AbstractIndexer.java:558"
        },
        {
          "method": "org.eclipse.jdt.internal.core.index.impl.Index.add",
          "source": "Index.java:88"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.AddJarFileToIndex.execute",
          "source": "AddJarFileToIndex.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.processing.JobManager.run",
          "source": "JobManager.java:298"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:512"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "13527",
      "date": "2002-04-11T16:48:50+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "13527",
  "bugId": "13527",
  "date": "2002-04-11T16:48:50+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}