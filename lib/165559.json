{
  "comments": [
    "I am using the import task in Ant to bring in some shared targets into my build script.  When I first open the build.xml file it is ok, but when edit it and the file is reparsed I get the following problems:\n\n- Each part of the file is shown in the outline view with [from null] at the end e.g from the files below\n\"test {from null]\"\n\"imported-target [from import build-shared-targets.xml [from null]]\n\n- When I edit the file it no longer indents properly when I add new lines of code\n- An error is displayed in the problems window for targets used which are in the imported file (this happens in my real buildfile, but not in my simple reproduction script below)\n- A warning is displayed in the problems window because it cannot find the import file (this happens in my real buildfile, but not in my simple reproduction script below)\n- The following stack trace was produced in the error log:\n\nError logged from Ant UI:\n\njava.lang.NullPointerException\nat java.io.File.\u003cinit\u003e(Unknown Source)\nat org.apache.tools.ant.helper.AntXMLContext.setBuildFile(AntXMLContext.java:115)\nat org.eclipse.ant.internal.ui.editor.utils.ProjectHelper.parse(ProjectHelper.java:569)\nat org.eclipse.ant.internal.ui.editor.utils.ProjectHelper.parse(ProjectHelper.java:651)\nat org.eclipse.ant.internal.ui.model.AntModel.parseDocument(AntModel.java:315)\nat org.eclipse.ant.internal.ui.model.AntModel.reconcile(AntModel.java:263)\nat org.eclipse.ant.internal.ui.editor.text.XMLReconcilingStrategy.internalReconcile(XMLReconcilingStrategy.java:43)\nat org.eclipse.ant.internal.ui.editor.text.XMLReconcilingStrategy.reconcile(XMLReconcilingStrategy.java:56)\nat org.eclipse.jface.text.reconciler.MonoReconciler.process(MonoReconciler.java:75)\nat org.eclipse.ant.internal.ui.editor.text.NotifyingReconciler.process(NotifyingReconciler.java:39)\nat org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:204)\n\nSession data:\neclipse.buildId\u003dM20060921-0945\njava.version\u003d1.5.0_06\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_GB\nCommand-line arguments:  -os win32 -ws win32 -arch x86\n\nHere are the build scripts I used to reproduce this:\n\n\u003cproject name\u003d\"importer\" basedir\u003d\".\"\u003e\n\t\n\t\u003cimport file\u003d\"build-shared-targets.xml\"/\u003e\n\t\n\t\u003ctarget name\u003d\"test\" depends\u003d\"imported-target\" \u003e\n\t\t\u003cecho message\u003d\"test\" /\u003e\n\t\u003c/target\u003e\n\t\n\u003c/project\u003e\n\n\u003cproject name\u003d\"imported\" \u003e\n\n\t\u003ctarget name\u003d\"imported-target\"\u003e\n\t\t\u003cecho message\u003d\"imported target\" /\u003e\n\t\u003c/target\u003e\n\t\n\u003c/project\u003e\n\nEven if the outline view has been broken, and their are errors in the problems window, the build file still works fine.\n\nWorkaround: close the editor window and reopen it.  The outline will be correct. Once you edit something it will break.",
    "Here is another workaround: Replace the org.eclipse.ant.ui_3.2.1.r321_v20060828.jar file of the Eclipse 3.2.1 with the org.eclipse.ant.ui_3.2.0.v20060531.jar file of the Eclipse 3.2.0 Distribution. Make sure Eclipse IDE is not running during the replace operation and backup the original file. \n\nIt worked for me, but may not work for you. Yes, nasty hack but then, the Ant Editor in 3.2.1 is really messed up, sorry.\n\n- Stefan",
    "Fixed for the 3.3 stream.\n\n*** This bug has been marked as a duplicate of bug 174759 ***"
  ],
  "commentCreationDates": [
    "2006-11-22T23:08:26+01:00",
    "2007-01-05T18:52:36+01:00",
    "2007-03-16T21:38:29+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "java.io.File.\u003cinit\u003e",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.tools.ant.helper.AntXMLContext.setBuildFile",
          "source": "AntXMLContext.java:115"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.utils.ProjectHelper.parse",
          "source": "ProjectHelper.java:569"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.utils.ProjectHelper.parse",
          "source": "ProjectHelper.java:651"
        },
        {
          "method": "org.eclipse.ant.internal.ui.model.AntModel.parseDocument",
          "source": "AntModel.java:315"
        },
        {
          "method": "org.eclipse.ant.internal.ui.model.AntModel.reconcile",
          "source": "AntModel.java:263"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.text.XMLReconcilingStrategy.internalReconcile",
          "source": "XMLReconcilingStrategy.java:43"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.text.XMLReconcilingStrategy.reconcile",
          "source": "XMLReconcilingStrategy.java:56"
        },
        {
          "method": "org.eclipse.jface.text.reconciler.MonoReconciler.process",
          "source": "MonoReconciler.java:75"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.text.NotifyingReconciler.process",
          "source": "NotifyingReconciler.java:39"
        },
        {
          "method": "org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run",
          "source": "AbstractReconciler.java:204"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "165559",
      "duplicateId": "174759",
      "date": "2006-11-22T23:08:26+01:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    }
  ],
  "groupId": "174759",
  "bugId": "165559",
  "duplicateId": "174759",
  "date": "2006-11-22T23:08:26+01:00",
  "product": "Platform",
  "component": "Ant",
  "severity": "normal"
}