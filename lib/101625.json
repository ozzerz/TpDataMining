{
  "comments": [
    "In I20050624-0010.\n\n1) Start a Call Hierarchy query that is likely to take a long time (for example,\non SomeClass.toString()).\n2) Try to cancel the search before it completes.\n\nThe search is not cancelled, and the following is written to the error log:\n\njava.lang.NullPointerException\n\tat\norg.eclipse.ui.progress.DeferredTreeContentManager$1.isParent(DeferredTreeContentManager.java:225)\n\tat\norg.eclipse.ui.progress.DeferredTreeContentManager$1.belongsTo(DeferredTreeContentManager.java:206)\n\tat org.eclipse.core.internal.jobs.JobManager.select(JobManager.java:876)\n\tat org.eclipse.core.internal.jobs.JobManager.select(JobManager.java:898)\n\tat org.eclipse.core.internal.jobs.JobManager.select(JobManager.java:886)\n\tat org.eclipse.core.internal.jobs.JobManager.cancel(JobManager.java:229)\n\tat\norg.eclipse.ui.progress.DeferredTreeContentManager.cancel(DeferredTreeContentManager.java:365)\n\tat\norg.eclipse.jdt.internal.ui.callhierarchy.CallHierarchyContentProvider.cancelJobs(CallHierarchyContentProvider.java:171)\n\tat\norg.eclipse.jdt.internal.ui.callhierarchy.CallHierarchyViewer.cancelJobs(CallHierarchyViewer.java:129)\n\tat\norg.eclipse.jdt.internal.ui.callhierarchy.CallHierarchyViewPart.cancelJobs(CallHierarchyViewPart.java:922)\n\tat\norg.eclipse.jdt.internal.ui.callhierarchy.CancelSearchAction.run(CancelSearchAction.java:37)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:996)\n\tat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)\n\tat\norg.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\n\tat\norg.eclipse.jface.action.ActionContributionItem$6.handleEvent(ActionContributionItem.java:441)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n\tat org.eclipse.core.launcher.Main.run(Main.java:973)\n\tat org.eclipse.core.launcher.Main.main(Main.java:948)",
    "The problem is that we pass in null into DeferredTreeContentManager#cancel, but\nnull isn\u0027t allowed here.\n\nInterestingly null worked in M7 since we didn\u0027t change the code here. \n\nThis is annoying, but IMO not a stop ship since the tools remains functional. A\nwork around is to cancel the search in the progress view.\n\nDefinitelly a 3.1.1 fix.",
    "After a long debate we decided that it is too critical to fix this for 3.1. We\nbasically have to change the semantic of an equals method of elements presented\nin the viewer and thats too risky at this time.\n\nWhat we do for 3.1 is to disable the button all the time. This is unhappy, but\ncan\u0027t be avoided. As said the work around is to cancel the call hiearchy search\nfrom the progress view.\n\nPhilippe, can you cast your vote.",
    "Dani, can you cast your vote.",
    "+1 for 3.1 RC4 for disabling the cancel button",
    "+1 for RC4",
    "Created an attachment (id\u003d23952)\nPatch to disable the cancel button and avoid throwing an NPE\n",
    "Relased patch to HEAD. Reviewed by Martin and Dirk.",
    "I have verified in I20050624-1300 that:\n- the stop button in the Call Hierarchy is disabled\n- I can stop the computation using the Progress view\n- no error gets logged"
  ],
  "commentCreationDates": [
    "2005-06-24T15:02:32+02:00",
    "2005-06-24T15:35:23+02:00",
    "2005-06-24T18:03:24+02:00",
    "2005-06-24T18:03:57+02:00",
    "2005-06-24T18:07:01+02:00",
    "2005-06-24T18:12:28+02:00",
    "2005-06-24T18:19:15+02:00",
    "2005-06-24T18:21:20+02:00",
    "2005-06-24T21:11:15+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.progress.DeferredTreeContentManager$1.isParent",
          "source": "DeferredTreeContentManager.java:225"
        },
        {
          "method": "org.eclipse.ui.progress.DeferredTreeContentManager$1.belongsTo",
          "source": "DeferredTreeContentManager.java:206"
        },
        {
          "method": "org.eclipse.core.internal.jobs.JobManager.select",
          "source": "JobManager.java:876"
        },
        {
          "method": "org.eclipse.core.internal.jobs.JobManager.select",
          "source": "JobManager.java:898"
        },
        {
          "method": "org.eclipse.core.internal.jobs.JobManager.select",
          "source": "JobManager.java:886"
        },
        {
          "method": "org.eclipse.core.internal.jobs.JobManager.cancel",
          "source": "JobManager.java:229"
        },
        {
          "method": "org.eclipse.ui.progress.DeferredTreeContentManager.cancel",
          "source": "DeferredTreeContentManager.java:365"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.callhierarchy.CallHierarchyContentProvider.cancelJobs",
          "source": "CallHierarchyContentProvider.java:171"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.callhierarchy.CallHierarchyViewer.cancelJobs",
          "source": "CallHierarchyViewer.java:129"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.callhierarchy.CallHierarchyViewPart.cancelJobs",
          "source": "CallHierarchyViewPart.java:922"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.callhierarchy.CancelSearchAction.run",
          "source": "CancelSearchAction.java:37"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:996"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:538"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$6.handleEvent",
          "source": "ActionContributionItem.java:441"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:843"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3080"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2713"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1699"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1663"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:367"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "101625",
      "date": "2005-06-24T15:02:32+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "101625",
  "bugId": "101625",
  "date": "2005-06-24T15:02:32+02:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}