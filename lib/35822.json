{
  "comments": [
    "It seems like if you close all the perspective using the Perspective Toolbar on \nthe left, and then use that toolbar to open a new perspective, it opens the \nperspective in a new window, instead of opening it in the same window.",
    "I cannot reproduce this in the latest build.\nDo you have steps to reproduce this in a new workspace?\nWhat is the setting of \"Open a new perspective\" in Window \u003e Preferences \u003e \nWorkbench \u003e Perspectives?\n",
    "Current Setting:\nOpen a new perspective: In the same window\nopen a new view: within the perspective.\n\nI am using RC1\nTo Reproduce:\n1) Start Eclipse with atleast One perspective open\n2) Now close all the perspectives (Window \u003e Close All Perspective)\n3) Now open a new perspective (Window \u003e Open Perspective \u003e Resources)\n\nThe resources perspective will open up in a new window, instead of the same one.\n\n",
    "I\u0027m using integration build 200303272130 (candidate for 2.1 release).\n\nI start with a new workspace. Eclipse starts up with the resource perspective \nopen. Check my preferences, and they are set the same as what you reported \nabove. I close all perspectives (Window \u003e Close All Perspectives), then open \nthe resource perspective (Window \u003e Open Perspective \u003e Resource). It opens in \nthe same window.\n\nI will try RC1. Can you try the latest integration build? Also, is there \nanything if your .log file?",
    "Ok..I will try the latest integration build that is available.\n\nI know RC1 has this problem for sure, I have tried it on two different \ncomputer, I was able to reproduce it on both of them.\n\nAs far as the log file goes, this is what I found in it...\n!ENTRY org.eclipse.ui.workbench 4 2 Mar 28, 2003 14:19:30.565\n!MESSAGE Problems occurred when invoking code from plug-\nin: \"org.eclipse.ui.workbench\".\n!STACK 0\njava.lang.RuntimeException: Read reference count error:  ReferencedXMIResource, \nfile \u003d platform:/resource/AutoWorldExample/ejbModule/META-\nINF/Schema/Schema.dbxmi R\u003d -1 W\u003d 0\n\tat \ncom.ibm.etools.emf.workbench.ReferencedXMIResourceImpl.releaseFromRead\n(ReferencedXMIResourceImpl.java:186)\n\tat \ncom.ibm.etools.rsc.core.ui.view.DataTreeSynchronizer.releaseTrackedResource\n(DataTreeSynchronizer.java:702)\n\tat \ncom.ibm.etools.rsc.core.ui.view.DataTreeSynchronizer.releaseTrackedResources\n(DataTreeSynchronizer.java:686)\n\tat com.ibm.etools.rsc.core.ui.view.DataTreeSynchronizer.dispose\n(DataTreeSynchronizer.java:677)\n\tat com.ibm.etools.j2ee.provider.J2EEDataGrp.dispose(J2EEDataGrp.java:35)\n\tat com.ibm.etools.j2ee.provider.J2EERoot.release(J2EERoot.java:694)\n\tat com.ibm.etools.j2ee.provider.J2EERoot.removeListener\n(J2EERoot.java:701)\n\tat com.ibm.etools.j2ee.ui.J2EEView.dispose(J2EEView.java:645)\n\tat org.eclipse.ui.internal.WorkbenchPartReference.dispose\n(WorkbenchPartReference.java:154)\n\tat org.eclipse.ui.internal.ViewFactory$ViewReference.dispose\n(ViewFactory.java:348)\n\tat org.eclipse.ui.internal.WorkbenchPage$5.run(WorkbenchPage.java:1015)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java(Compiled Code))\n\tat org.eclipse.core.runtime.Platform.run(Platform.java(Compiled Code))\n\tat org.eclipse.ui.internal.WorkbenchPage.disposePart\n(WorkbenchPage.java:1013)\n\tat org.eclipse.ui.internal.WorkbenchPage.disposePerspective\n(WorkbenchPage.java:1102)\n\tat org.eclipse.ui.internal.WorkbenchPage.closePerspective\n(WorkbenchPage.java:902)\n\tat org.eclipse.ui.internal.WorkbenchPage.closeAllPerspectives\n(WorkbenchPage.java:934)\n\tat org.eclipse.ui.internal.WorkbenchWindow$11.widgetSelected\n(WorkbenchWindow.java:1618)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java\n(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java\n(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1254)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:845)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:247)\n\tat org.eclipse.core.launcher.Main.run(Main.java:703)\n\tat org.eclipse.core.launcher.Main.main(Main.java:539)\n",
    "OK, just tried 2.1 RC1 and could not reproduce the problem. Looking at your \nlast comment, it looks like one of the view fails to dispose properly, throwing \na runtime exception. That would explain why I can\u0027t reproduce it. I will \nattempt to place a runtime exception into the Nav view and see if i can \nreproduce the problem.\n\nPS By the way, you should mention in your bug report that you are running \nEclipse SDK 2.1 RC1 plus other plugins (in this case, it looks like you are \nrunning websphere studio). Otherwise, there is no way to know this and \ntherefore will never be able to reproduce the problem using simply Eclipse SDK.",
    "Correct, when I got that stack, I was running Websphere studio, which is based \noff RC1, but I can reproduce the problem in one of my other workspace, which is \nrunning just Eclipse, but I can not reproduce this problem in some of the other \nworkspaces.\n\nMay be this has to do with workspace some how getting corrupted. I will see if \nI can reproduce in a different workspace.\n",
    "On the workspaces you can reproduce this problem on (with just Eclipse), is \nthere a .log file too? Can you include it if one exist?",
    "Simon,\nI guess this is a problem that Websphere is introducing....I went to couple of \nother people and saw if they were able to produce it, and no one was..\n\nSo if you want, you can close the defect out.\n\n\nThanks",
    "I\u0027ll leave it open for now because I\u0027d like to make sure the workbench handles \na failing view dipose properly. Thanks for the info you provided.",
    "I modified the Navigator view to throw a runtime exception during its dispose() \nmethod. But when I close all perspectives (and saw the Navigator throw the \nruntime exception), and then open the Resource perspective, it opens in the \nsame window, not in a new window.\n\nThere must be something going on. Did you fix the J2EE view to now throw a \nruntime exception during its dispose() method? If so, did that fix this problem \nalso or can you still reproduce it? Was there anything else in the .log file?",
    "Hey,\nI am sorry but, I wasn\u0027t able to reproduce that problem again, yesterday I \nbuild a workspace, and wasnt able to reproduce it in there, I think it was my \nworkspace that was screwed up. With the new workspace its working like a charm.\n",
    "Do you still have access to an old workspace in which you could reproduce this \nproblem? If so, could you attach to this bug report the file\n   \u003c\u003cworkspace_dir\u003e\u003e/.metadata/.plugins/org.eclipse.ui.workbench/workbench.xml",
    "No further info provided by the reporter. Can\u0027t reproduce by throwing a runtime \nexception in ResourceNavigator.dispose().\n\nThe only thing I can see in the code that would cause another window to open is \nif the window contained a page already. The only way to verify that is if the \nbug reporter still has access to the workbench.xml file from a machine that \nthis problem could be reproduced on).\n\nClosing this problem as WORKSFORME. If the bug reporter has access to the \nrequested file, please attach and reopen this bug report.",
    "Closed"
  ],
  "commentCreationDates": [
    "2003-03-28T16:57:32+01:00",
    "2003-03-28T18:50:59+01:00",
    "2003-03-28T19:03:35+01:00",
    "2003-03-28T19:23:42+01:00",
    "2003-03-28T19:28:13+01:00",
    "2003-03-28T19:35:41+01:00",
    "2003-03-28T19:41:10+01:00",
    "2003-03-28T20:15:50+01:00",
    "2003-03-28T20:22:39+01:00",
    "2003-03-28T21:17:37+01:00",
    "2003-04-01T17:54:20+02:00",
    "2003-04-01T18:01:11+02:00",
    "2003-04-03T15:40:12+02:00",
    "2003-04-11T20:52:12+02:00",
    "2005-10-04T22:42:37+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.RuntimeException",
      "message": "Read reference count error:  ReferencedXMIResource,  file \u003d platform:/resource/AutoWorldExample/ejbModule/META- INF/Schema/Schema.dbxmi R\u003d -1 W\u003d 0",
      "elements": [
        {
          "method": "com.ibm.etools.emf.workbench.ReferencedXMIResourceImpl.releaseFromRead",
          "source": "ReferencedXMIResourceImpl.java:186"
        },
        {
          "method": "com.ibm.etools.rsc.core.ui.view.DataTreeSynchronizer.releaseTrackedResource",
          "source": "DataTreeSynchronizer.java:702"
        },
        {
          "method": "com.ibm.etools.rsc.core.ui.view.DataTreeSynchronizer.releaseTrackedResources",
          "source": "DataTreeSynchronizer.java:686"
        },
        {
          "method": "com.ibm.etools.rsc.core.ui.view.DataTreeSynchronizer.dispose",
          "source": "DataTreeSynchronizer.java:677"
        },
        {
          "method": "com.ibm.etools.j2ee.provider.J2EEDataGrp.dispose",
          "source": "J2EEDataGrp.java:35"
        },
        {
          "method": "com.ibm.etools.j2ee.provider.J2EERoot.release",
          "source": "J2EERoot.java:694"
        },
        {
          "method": "com.ibm.etools.j2ee.provider.J2EERoot.removeListener",
          "source": "J2EERoot.java:701"
        },
        {
          "method": "com.ibm.etools.j2ee.ui.J2EEView.dispose",
          "source": "J2EEView.java:645"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPartReference.dispose",
          "source": "WorkbenchPartReference.java:154"
        },
        {
          "method": "org.eclipse.ui.internal.ViewFactory$ViewReference.dispose",
          "source": "ViewFactory.java:348"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$5.run",
          "source": "WorkbenchPage.java:1015"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.disposePart",
          "source": "WorkbenchPage.java:1013"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.disposePerspective",
          "source": "WorkbenchPage.java:1102"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.closePerspective",
          "source": "WorkbenchPage.java:902"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.closeAllPerspectives",
          "source": "WorkbenchPage.java:934"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow$11.widgetSelected",
          "source": "WorkbenchWindow.java:1618"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1254"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:247"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:703"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:539"
        }
      ],
      "number": 0,
      "commentIndex": 4,
      "bugId": "35822",
      "date": "2003-03-28T19:28:13+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "35822",
  "bugId": "35822",
  "date": "2003-03-28T16:57:32+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}