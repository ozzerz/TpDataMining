{
  "comments": [
    "Build ID: M20070212-1330\n\nSteps To Reproduce:\n1. Generate EMF .ecore file in Eclipse from Rose model. \n2. Select .ecore file in Eclipse\n3. Right click and select Teneo|Generate EMF - Hibernate OR Mapping (super-class)\n\n\nMore information:\nThe generated Hibernate OR mapping file does not conform to the Hibernate mapping DTD. \nThe issue is an \u003cid\u003e and \u003cversion\u003e tags which have been inserted below a \u003csubclass\u003e tag. \nWhen attempting to run a Hibernate application with this generated file, the following errors are produced.\n\n\norg.hibernate.InvalidMappingException: Could not parse mapping document from resource hibernate_sdmx_config.xml\n    at org.hibernate.cfg.Configuration.addResource(Configuration.java:569)\n    at etc etc etc.\n    ... 31 more\nCaused by: org.xml.sax.SAXParseException: The content of element type \"subclass\" must match \"(meta*,tuplizer*,synchronize*,(property|many-to-one|one-to-one|component|dynamic-component|any|map|set|list|bag|idbag|array|primitive-array)*,join*,subclass*,loader?,sql-insert?,sql-update?,sql-delete?,resultset*,(query|sql-query)*)\".\n    at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:236)\n    .... etc etc etc\n\n\nSetup is: Teneo 0.75, EMF2.2, Hibernate 3.2\n\nSnippit from generated mapping file:\n\n\u003cclass entity-name\u003d\"Annotable\" abstract\u003d\"true\" lazy\u003d\"false\" discriminator-value\u003d\"Annotable\" table\u003d\"`annotable`\"\u003e\n\t\t\u003cmeta attribute\u003d\"eclassName\"\u003eAnnotable\u003c/meta\u003e\n\t\t\u003cmeta attribute\u003d\"epackage\"\u003ehttp://www.sdmx.org/resources/infomodel/1.0/base.xmi\u003c/meta\u003e\n\t\t\u003cid type\u003d\"long\" name\u003d\"e_id\" column\u003d\"e_id\" access\u003d\"org.eclipse.emf.teneo.hibernate.mapping.identifier.IdentifierPropertyHandler\"\u003e\n\t\t\t\u003cmeta attribute\u003d\"syntheticId\"\u003etrue\u003c/meta\u003e\n\t\t\t\u003cgenerator class\u003d\"native\"/\u003e\n\t\t\u003c/id\u003e\n\t\t\u003cdiscriminator column\u003d\"`dtype`\" type\u003d\"string\"/\u003e\n\t\t\u003cversion name\u003d\"e_version\" column\u003d\"e_version\" access\u003d\"org.eclipse.emf.teneo.hibernate.mapping.property.VersionPropertyHandler\"\u003e\n\t\t\t\u003cmeta attribute\u003d\"syntheticVersion\"\u003etrue\u003c/meta\u003e\n\t\t\u003c/version\u003e\n\t\t\u003clist name\u003d\"Annotation\" lazy\u003d\"true\" cascade\u003d\"all,delete-orphan\"\u003e\n\t\t\t\u003ckey update\u003d\"true\"\u003e\n\t\t\t\t\u003ccolumn name\u003d\"`annotable_annotation_e_id`\" not-null\u003d\"false\" unique\u003d\"false\"/\u003e\n\t\t\t\u003c/key\u003e\n\t\t\t\u003clist-index column\u003d\"`annotable_annotation_idx`\"/\u003e\n\t\t\t\u003cone-to-many entity-name\u003d\"Annotation\"/\u003e\n\t\t\u003c/list\u003e\n\t\u003c/class\u003e\n\t\u003csubclass entity-name\u003d\"Identifiable\" abstract\u003d\"true\" lazy\u003d\"false\" extends\u003d\"Annotable\" discriminator-value\u003d\"Identifiable\"\u003e\n\t\t\u003cmeta attribute\u003d\"eclassName\"\u003eIdentifiable\u003c/meta\u003e\n\t\t\u003cmeta attribute\u003d\"epackage\"\u003ehttp://www.sdmx.org/resources/infomodel/1.0/base.xmi\u003c/meta\u003e\n\t\t\u003cid name\u003d\"urn\" type\u003d\"java.lang.String\"\u003e\n\t\t\t\u003ccolumn not-null\u003d\"true\" unique\u003d\"false\" name\u003d\"`urn`\"/\u003e\n\t\t\u003c/id\u003e\n\t\t\u003cversion name\u003d\"e_version\" column\u003d\"e_version\" access\u003d\"org.eclipse.emf.teneo.hibernate.mapping.property.VersionPropertyHandler\"\u003e\n\t\t\t\u003cmeta attribute\u003d\"syntheticVersion\"\u003etrue\u003c/meta\u003e\n\t\t\u003c/version\u003e\n\t\t\u003cproperty name\u003d\"id\" lazy\u003d\"false\" insert\u003d\"true\" update\u003d\"true\" not-null\u003d\"false\" unique\u003d\"false\" type\u003d\"java.lang.String\"\u003e\n\t\t\t\u003ccolumn not-null\u003d\"false\" unique\u003d\"false\" name\u003d\"`id`\"/\u003e\n\t\t\u003c/property\u003e\n\t\t\u003cproperty name\u003d\"uri\" lazy\u003d\"false\" insert\u003d\"true\" update\u003d\"true\" not-null\u003d\"false\" unique\u003d\"false\" type\u003d\"java.lang.String\"\u003e\n\t\t\t\u003ccolumn not-null\u003d\"false\" unique\u003d\"false\" name\u003d\"`uri`\"/\u003e\n\t\t\u003c/property\u003e\n\t\t\u003cmany-to-one name\u003d\"Name\" entity-name\u003d\"InternationalString\" cascade\u003d\"all\" lazy\u003d\"false\" insert\u003d\"true\" update\u003d\"true\" not-null\u003d\"false\"\u003e\n\t\t\t\u003ccolumn not-null\u003d\"false\" unique\u003d\"false\" name\u003d\"`internationalstring_name_e_id`\"/\u003e\n\t\t\u003c/many-to-one\u003e\n\t\t\u003cmany-to-one name\u003d\"Description\" entity-name\u003d\"InternationalString\" cascade\u003d\"all\" lazy\u003d\"false\" insert\u003d\"true\" update\u003d\"true\" not-null\u003d\"false\"\u003e\n\t\t\t\u003ccolumn not-null\u003d\"false\" unique\u003d\"false\" name\u003d\"`internationalstring_description_e_id`\"/\u003e\n\t\t\u003c/many-to-one\u003e\n\t\u003c/subclass\u003e\n\nFull Ecore files passed to Teneo lead.",
    "Hi,\nI checked the ecore files and the Identifiable has an efeature (urn) with the id property (in ecore) set to true). This means that this efeature is mapped as the id. Teneo does this eventhough it is a subclass (it is considered to be the designers responsibility to assign id\u0027s only to the root of the inheritance structure). \nThere is an option (PersistenceOptions.ID_FEATURE_AS_PRIMARY_KEY) to control if Teneo should use the id\u003dtrue efeatures as the pk. You can set this to false.\nAnother approach could be to map the annotatable as a @MappedSuperclass.\n\nLet me know if this answers this issue.\n\ngr. Martin",
    "Assuming this is not an issue anymore. If it still is then please re-open this bug.\n\ngr. Martin"
  ],
  "commentCreationDates": [
    "2007-03-09T14:16:07+01:00",
    "2007-03-09T17:59:02+01:00",
    "2007-03-16T10:09:59+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.hibernate.InvalidMappingException",
      "message": "Could not parse mapping document from resource hibernate_sdmx_config.xml",
      "elements": [
        {
          "method": "org.hibernate.cfg.Configuration.addResource",
          "source": "Configuration.java:569"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "176821",
      "date": "2007-03-09T14:16:07+01:00",
      "product": "EMFT",
      "component": "Teneo",
      "severity": "critical"
    },
    {
      "exceptionType": "org.xml.sax.SAXParseException",
      "message": "The content of element type \"subclass\" must match \"(meta*,tuplizer*,synchronize*,(property|many-to-one|one-to-one|component|dynamic-component|any|map|set|list|bag|idbag|array|primitive-array)*,join*,subclass*,loader?,sql-insert?,sql-update?,sql-delete?,resultset*,(query|sql-query)*)\".",
      "elements": [
        {
          "method": "com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException",
          "source": "ErrorHandlerWrapper.java:236"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "176821",
      "date": "2007-03-09T14:16:07+01:00",
      "product": "EMFT",
      "component": "Teneo",
      "severity": "critical"
    }
  ],
  "groupId": "176821",
  "bugId": "176821",
  "date": "2007-03-09T14:16:07+01:00",
  "product": "EMFT",
  "component": "Teneo",
  "severity": "critical"
}