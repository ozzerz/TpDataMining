{
  "comments": [
    "In RC1.\n\nI\u0027m getting an intermittent NPE in SourceTypeConverter as below.  In the\nattached project, if I repeatedly move DjTests.ErrorString to a new file and\nthen undo, every second or third time the error will be logged, titled \"Error in\nJDT Core during reconcile\".  This is always accompanied by a second error titled\n\"Exception occurred during problem detection:\", with essentially the same\nbacktrace.  Sorry not to have more info.\n\norg.eclipse.jdt.core.JavaModelException[1005]: java.lang.NullPointerException\n\tat\norg.eclipse.jdt.internal.compiler.parser.SourceTypeConverter.convert(SourceTypeConverter.java:164)\n\tat\norg.eclipse.jdt.internal.compiler.parser.SourceTypeConverter.buildCompilationUnit(SourceTypeConverter.java:108)\n\tat\norg.eclipse.jdt.internal.core.CompilationUnitProblemFinder.accept(CompilationUnitProblemFinder.java:100)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:131)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage(PackageBinding.java:178)\n\tat org.eclipse.jdt.internal.compiler.lookup.Scope.getTypeOrPackage(Scope.java:2491)\n\tat org.eclipse.jdt.internal.compiler.lookup.Scope.getType(Scope.java:2237)\n\tat\norg.eclipse.jdt.internal.compiler.ast.ParameterizedSingleTypeReference.internalResolveType(ParameterizedSingleTypeReference.java:99)\n\tat\norg.eclipse.jdt.internal.compiler.ast.ParameterizedSingleTypeReference.resolveType(ParameterizedSingleTypeReference.java:209)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.Scope.connectTypeVariables(Scope.java:402)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:880)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.connectTypeHierarchy(CompilationUnitScope.java:254)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:195)\n\tat org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:301)\n\tat org.eclipse.jdt.internal.compiler.Compiler.resolve(Compiler.java:540)\n\tat org.eclipse.jdt.internal.compiler.Compiler.resolve(Compiler.java:599)\n\tat\norg.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process(CompilationUnitProblemFinder.java:165)\n\tat\norg.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process(CompilationUnitProblemFinder.java:214)\n\tat\norg.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.executeOperation(ReconcileWorkingCopyOperation.java:79)\n\tat\norg.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:718)\n\tat\norg.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:777)\n\tat\norg.eclipse.jdt.internal.core.CompilationUnit.reconcile(CompilationUnit.java:1081)\n\tat\norg.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy$1.run(JavaReconcilingStrategy.java:104)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1038)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:775)\n\tat\norg.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:82)\n\tat\norg.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:147)\n\tat\norg.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.reconcile(CompositeReconcilingStrategy.java:86)\n\tat\norg.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.reconcile(JavaCompositeReconcilingStrategy.java:94)\n\tat org.eclipse.jface.text.reconciler.MonoReconciler.process(MonoReconciler.java:75)\n\tat org.eclipse.jdt.internal.ui.text.JavaReconciler.process(JavaReconciler.java:318)\n\tat\norg.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:204)\nCaused by: java.lang.NullPointerException\n\tat\norg.eclipse.jdt.internal.compiler.parser.SourceTypeConverter.convert(SourceTypeConverter.java:164)\n\tat\norg.eclipse.jdt.internal.compiler.parser.SourceTypeConverter.buildCompilationUnit(SourceTypeConverter.java:108)\n\tat\norg.eclipse.jdt.internal.core.CompilationUnitProblemFinder.accept(CompilationUnitProblemFinder.java:100)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:131)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage(PackageBinding.java:178)\n\tat org.eclipse.jdt.internal.compiler.lookup.Scope.getTypeOrPackage(Scope.java:2491)\n\tat org.eclipse.jdt.internal.compiler.lookup.Scope.getType(Scope.java:2237)\n\tat\norg.eclipse.jdt.internal.compiler.ast.ParameterizedSingleTypeReference.internalResolveType(ParameterizedSingleTypeReference.java:99)\n\tat\norg.eclipse.jdt.internal.compiler.ast.ParameterizedSingleTypeReference.resolveType(ParameterizedSingleTypeReference.java:209)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.Scope.connectTypeVariables(Scope.java:402)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:880)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.connectTypeHierarchy(CompilationUnitScope.java:254)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:195)\n\tat org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:301)\n\tat org.eclipse.jdt.internal.compiler.Compiler.resolve(Compiler.java:540)\n\tat org.eclipse.jdt.internal.compiler.Compiler.resolve(Compiler.java:599)\n\tat\norg.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process(CompilationUnitProblemFinder.java:165)\n\tat\norg.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process(CompilationUnitProblemFinder.java:214)\n\tat\norg.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.executeOperation(ReconcileWorkingCopyOperation.java:79)\n\tat\norg.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:718)\n\tat\norg.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:777)\n\tat\norg.eclipse.jdt.internal.core.CompilationUnit.reconcile(CompilationUnit.java:1081)\n\tat\norg.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy$1.run(JavaReconcilingStrategy.java:104)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1038)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:775)\n\tat\norg.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:82)\n\tat\norg.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:147)\n\tat\norg.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.reconcile(CompositeReconcilingStrategy.java:86)\n\tat\norg.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.reconcile(JavaCompositeReconcilingStrategy.java:94)\n\tat org.eclipse.jface.text.reconciler.MonoReconciler.process(MonoReconciler.java:75)\n\tat org.eclipse.jdt.internal.ui.text.JavaReconciler.process(JavaReconciler.java:318)\n\tat\norg.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:204)",
    "Created an attachment (id\u003d22034)\nThe project in question\n",
    "+1 for RC2",
    "I will investigate.",
    "How do you perform the Undo operation?",
    "Could you please let me know what VM you are using?",
    "I tried multiple times to refactor the annotation type to a new file and then\nundo it, but I could not reproduce the problem so far.",
    "Could you please attach your configuration?\nGo to Help\u003eAbout Eclipse Platform\u003eConfiguration Details. And save the\nconfiguration into a file.\nThanks.",
    "Created an attachment (id\u003d22150)\nApply on HEAD\n\nJ?r?me, could you please double-check this patch?\nIt is also a patch for bug 90916.",
    "It looks good",
    "Fixed and released in HEAD.\nDavid, could you please let us know if you get it again with this fix?\nI could not reproduce, but looking at the code shows some potential concurrency\nissues.",
    "Verified for 3.1RC2 using build N20050607-0010 + JDT/COre HEAD by looking the fix",
    "Verified for 3.1 RC2 using build I20050610-0010 by looking the fix"
  ],
  "commentCreationDates": [
    "2005-05-31T15:34:54+02:00",
    "2005-05-31T15:35:16+02:00",
    "2005-05-31T16:08:40+02:00",
    "2005-05-31T17:18:35+02:00",
    "2005-05-31T17:52:04+02:00",
    "2005-05-31T17:54:50+02:00",
    "2005-05-31T18:24:44+02:00",
    "2005-05-31T19:54:54+02:00",
    "2005-06-01T16:41:57+02:00",
    "2005-06-01T16:44:28+02:00",
    "2005-06-01T16:46:32+02:00",
    "2005-06-07T19:39:33+02:00",
    "2005-06-10T12:04:00+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.parser.SourceTypeConverter.convert",
          "source": "SourceTypeConverter.java:164"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.parser.SourceTypeConverter.buildCompilationUnit",
          "source": "SourceTypeConverter.java:108"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.accept",
          "source": "CompilationUnitProblemFinder.java:100"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType",
          "source": "LookupEnvironment.java:131"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage",
          "source": "PackageBinding.java:178"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.Scope.getTypeOrPackage",
          "source": "Scope.java:2491"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.Scope.getType",
          "source": "Scope.java:2237"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.ParameterizedSingleTypeReference.internalResolveType",
          "source": "ParameterizedSingleTypeReference.java:99"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.ParameterizedSingleTypeReference.resolveType",
          "source": "ParameterizedSingleTypeReference.java:209"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.Scope.connectTypeVariables",
          "source": "Scope.java:402"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy",
          "source": "ClassScope.java:880"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.connectTypeHierarchy",
          "source": "CompilationUnitScope.java:254"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings",
          "source": "LookupEnvironment.java:195"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.beginToCompile",
          "source": "Compiler.java:301"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.resolve",
          "source": "Compiler.java:540"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.resolve",
          "source": "Compiler.java:599"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process",
          "source": "CompilationUnitProblemFinder.java:165"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process",
          "source": "CompilationUnitProblemFinder.java:214"
        },
        {
          "method": "org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.executeOperation",
          "source": "ReconcileWorkingCopyOperation.java:79"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.run",
          "source": "JavaModelOperation.java:718"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.runOperation",
          "source": "JavaModelOperation.java:777"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.reconcile",
          "source": "CompilationUnit.java:1081"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy$1.run",
          "source": "JavaReconcilingStrategy.java:104"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1038"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:775"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile",
          "source": "JavaReconcilingStrategy.java:82"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile",
          "source": "JavaReconcilingStrategy.java:147"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.reconcile",
          "source": "CompositeReconcilingStrategy.java:86"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.reconcile",
          "source": "JavaCompositeReconcilingStrategy.java:94"
        },
        {
          "method": "org.eclipse.jface.text.reconciler.MonoReconciler.process",
          "source": "MonoReconciler.java:75"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.JavaReconciler.process",
          "source": "JavaReconciler.java:318"
        },
        {
          "method": "org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run",
          "source": "AbstractReconciler.java:204"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.NullPointerException",
        "elements": [
          {
            "method": "org.eclipse.jdt.internal.compiler.parser.SourceTypeConverter.convert",
            "source": "SourceTypeConverter.java:164"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.parser.SourceTypeConverter.buildCompilationUnit",
            "source": "SourceTypeConverter.java:108"
          },
          {
            "method": "org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.accept",
            "source": "CompilationUnitProblemFinder.java:100"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType",
            "source": "LookupEnvironment.java:131"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage",
            "source": "PackageBinding.java:178"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.lookup.Scope.getTypeOrPackage",
            "source": "Scope.java:2491"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.lookup.Scope.getType",
            "source": "Scope.java:2237"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.ast.ParameterizedSingleTypeReference.internalResolveType",
            "source": "ParameterizedSingleTypeReference.java:99"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.ast.ParameterizedSingleTypeReference.resolveType",
            "source": "ParameterizedSingleTypeReference.java:209"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.lookup.Scope.connectTypeVariables",
            "source": "Scope.java:402"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy",
            "source": "ClassScope.java:880"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.connectTypeHierarchy",
            "source": "CompilationUnitScope.java:254"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings",
            "source": "LookupEnvironment.java:195"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.Compiler.beginToCompile",
            "source": "Compiler.java:301"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.Compiler.resolve",
            "source": "Compiler.java:540"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.Compiler.resolve",
            "source": "Compiler.java:599"
          },
          {
            "method": "org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process",
            "source": "CompilationUnitProblemFinder.java:165"
          },
          {
            "method": "org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process",
            "source": "CompilationUnitProblemFinder.java:214"
          },
          {
            "method": "org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.executeOperation",
            "source": "ReconcileWorkingCopyOperation.java:79"
          },
          {
            "method": "org.eclipse.jdt.internal.core.JavaModelOperation.run",
            "source": "JavaModelOperation.java:718"
          },
          {
            "method": "org.eclipse.jdt.internal.core.JavaModelOperation.runOperation",
            "source": "JavaModelOperation.java:777"
          },
          {
            "method": "org.eclipse.jdt.internal.core.CompilationUnit.reconcile",
            "source": "CompilationUnit.java:1081"
          },
          {
            "method": "org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy$1.run",
            "source": "JavaReconcilingStrategy.java:104"
          },
          {
            "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
            "source": "InternalPlatform.java:1038"
          },
          {
            "method": "org.eclipse.core.runtime.Platform.run",
            "source": "Platform.java:775"
          },
          {
            "method": "org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile",
            "source": "JavaReconcilingStrategy.java:82"
          },
          {
            "method": "org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile",
            "source": "JavaReconcilingStrategy.java:147"
          },
          {
            "method": "org.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.reconcile",
            "source": "CompositeReconcilingStrategy.java:86"
          },
          {
            "method": "org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.reconcile",
            "source": "JavaCompositeReconcilingStrategy.java:94"
          },
          {
            "method": "org.eclipse.jface.text.reconciler.MonoReconciler.process",
            "source": "MonoReconciler.java:75"
          },
          {
            "method": "org.eclipse.jdt.internal.ui.text.JavaReconciler.process",
            "source": "JavaReconciler.java:318"
          },
          {
            "method": "org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run",
            "source": "AbstractReconciler.java:204"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "97466",
      "date": "2005-05-31T15:34:54+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "97466",
  "bugId": "97466",
  "date": "2005-05-31T15:34:54+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}