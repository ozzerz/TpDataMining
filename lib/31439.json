{
  "comments": [
    "I get the following exception when opening an ant build file in the ant editor. \nThe editor seems to be working, but the outline isn\u0027t showing.\n\nThe problems seems to be related to including an external xml snippet as an \nentity:\n\n----\n\u003c!DOCTYPE project [\n\t\u003c!ENTITY common SYSTEM \"file:../Build/common_build.xml\"\u003e\n]\u003e\n\n\u003cproject basedir\u003d\".\" default\u003d\"build\" name\u003d\"...\"\u003e\n\n\t\u0026common;\n...\n----\n\n\n\norg.eclipse.ui.externaltools.internal.ant.editor.PlantyException: Substring {0} \ncannot be found in the specified source string.\n\tat \norg.eclipse.ui.externaltools.internal.ant.editor.outline.PlantyContentOutlinePag\ne.findIndexOfSubstringAfterIndex(PlantyContentOutlinePage.java:521)\n\tat \norg.eclipse.ui.externaltools.internal.ant.editor.outline.PlantyContentOutlinePag\ne.fixTagLocations(PlantyContentOutlinePage.java:403)\n\tat \norg.eclipse.ui.externaltools.internal.ant.editor.outline.PlantyContentOutlinePag\ne.getContentOutline(PlantyContentOutlinePage.java:312)\n\tat \norg.eclipse.ui.externaltools.internal.ant.editor.outline.PlantyContentOutlinePag\ne.createControl(PlantyContentOutlinePage.java:232)\n\tat org.eclipse.ui.views.contentoutline.ContentOutline.doCreatePage\n(ContentOutline.java:125)\n\tat org.eclipse.ui.part.PageBookView.createPage(PageBookView.java:306)\n\tat org.eclipse.ui.part.PageBookView.partActivated(PageBookView.java:561)\n\tat org.eclipse.ui.internal.PartListenerList$1.run\n(PartListenerList.java:43)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:867)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:413)\n\tat org.eclipse.ui.internal.PartListenerList.firePartActivated\n(PartListenerList.java:41)\n\tat org.eclipse.ui.internal.WorkbenchPage.firePartActivated\n(WorkbenchPage.java:1170)\n\tat org.eclipse.ui.internal.WorkbenchPage.setActivePart\n(WorkbenchPage.java:2431)\n\tat org.eclipse.ui.internal.WorkbenchPage.activate\n(WorkbenchPage.java:405)\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor\n(WorkbenchPage.java:2005)\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor\n(WorkbenchPage.java:1844)\n\tat org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor\n(EditorUtility.java:129)\n\tat org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor\n(EditorUtility.java:102)\n\tat org.eclipse.jdt.internal.ui.actions.OpenActionUtil.open\n(OpenActionUtil.java:47)\n\tat org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:158)\n\tat org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:147)\n\tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun\n(SelectionDispatchAction.java:191)\n\tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.run\n(SelectionDispatchAction.java:169)\n\tat \norg.eclipse.jdt.internal.ui.packageview.PackageExplorerActionGroup.handleOpen\n(PackageExplorerActionGroup.java:326)\n\tat org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart$3.open\n(PackageExplorerPart.java:308)\n\tat org.eclipse.jface.viewers.StructuredViewer$2.run\n(StructuredViewer.java:397)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:867)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:413)\n\tat org.eclipse.jface.viewers.StructuredViewer.fireOpen\n(StructuredViewer.java:395)\n\tat org.eclipse.jface.viewers.StructuredViewer.handleOpen\n(StructuredViewer.java:602)\n\tat org.eclipse.jface.viewers.StructuredViewer$6.handleOpen\n(StructuredViewer.java:689)\n\tat org.eclipse.jface.util.OpenStrategy.fireOpenEvent\n(OpenStrategy.java:203)\n\tat org.eclipse.jface.util.OpenStrategy.access$2(OpenStrategy.java:198)\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent\n(OpenStrategy.java:227)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:77)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:836)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1692)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1410)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1289)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1272)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:845)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:247)\n\tat org.eclipse.core.launcher.Main.run(Main.java:703)\n\tat org.eclipse.core.launcher.Main.main(Main.java:539)",
    "Please indicate the Eclipse build you are using.\nWe have done a lot or work to clean up the Ant editor for external enities in \nthe recent builds.",
    "Sorry - I am using M5.\n\nIn M4, there were similar problems, though. I was hoping for M5 to fix \nthem... ;-)",
    "Is it possible to include both the build file and the common_build.xml?\nWe have had trouble reproducing this one in the past...see bug 30472.",
    "Created an attachment (id\u003d3384)\nThe ant script causing the exception\n",
    "Created an attachment (id\u003d3385)\nThe snippet included in build.xml\n",
    "The minimal files from the attachements are still causing the Exception.\n\nBTW, I noticed *two* entries for the Ant Editor in the \"Open With...\" menu \nitem, though I deleted the gebit-plugin recently. Perhaps something messed up \nmy eclipse installation?",
    "Thanks for the attachments.\nWhat file associations have you set up for xml files?\nDouble entries in the Open With... has been logged as bug 29977.",
    "Importing the attached scripts, I get the exception reported here.",
    "Thanks for the pointer to bug 29977 - that explains the double entry. :-)",
    "Alf, any thoughts?",
    "I will get to that by Friday, ok?",
    "postponed to Weekend or Monday :-(\n(to busy those days)",
    "You probably found out by yourself already that the reason for the\nexception is that the target element is external.\nI have two trivial ideas of fixing that:\n1. Ignore all external elements by adding the following code in\n   fixTagLocations():\n      ...\n      XmlElement tempElement \u003d aRootElement;\n      while(tempElement !\u003d null) {\n        if(tempElement.isExternal()) {\n          tempElement \u003d findNextElementToFixAfter(tempElement, false);\n        }\n      ... \n2. Ignore those external elements right away when parsing with the\n   DefaultHandler.\n\nIt probably depends on what you need the external elements for\nand whether you really want to display them in the outline. I don\u0027t\nthink that they belong there, but well that is your decision.",
    "I agree; I don\u0027t think that elements defined in an external file should be \nshown in the outline.",
    "Fixed in PlantyContentOutlinePage.\nNo need to fix the tags of external entities...they cannot be shown in the \ncurrent document context..changes to findNextElementToFixAfter(XmlElement, \nboolean)\n\nPlease verify (Jared).\n\nOut of interest how would you like to have external targets, etc be indicated \nin the outline. Apache ant makes no such distinction (-projecthelp)",
    "Verified."
  ],
  "commentCreationDates": [
    "2003-02-10T10:10:47+01:00",
    "2003-02-10T13:52:10+01:00",
    "2003-02-10T14:07:48+01:00",
    "2003-02-10T14:16:12+01:00",
    "2003-02-10T15:02:00+01:00",
    "2003-02-10T15:09:16+01:00",
    "2003-02-10T15:12:27+01:00",
    "2003-02-10T16:25:44+01:00",
    "2003-02-10T16:43:40+01:00",
    "2003-02-11T08:53:54+01:00",
    "2003-02-12T16:03:47+01:00",
    "2003-02-13T07:49:10+01:00",
    "2003-02-14T17:00:45+01:00",
    "2003-02-17T12:13:12+01:00",
    "2003-02-17T12:30:43+01:00",
    "2003-02-17T18:16:54+01:00",
    "2003-02-17T21:24:33+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.ui.externaltools.internal.ant.editor.PlantyException",
      "message": "Substring {0}  cannot be found in the specified source string.",
      "elements": [
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.editor.outline.PlantyContentOutlinePage.findIndexOfSubstringAfterIndex",
          "source": "PlantyContentOutlinePage.java:521"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.editor.outline.PlantyContentOutlinePage.fixTagLocations",
          "source": "PlantyContentOutlinePage.java:403"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.editor.outline.PlantyContentOutlinePage.getContentOutline",
          "source": "PlantyContentOutlinePage.java:312"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.editor.outline.PlantyContentOutlinePage.createControl",
          "source": "PlantyContentOutlinePage.java:232"
        },
        {
          "method": "org.eclipse.ui.views.contentoutline.ContentOutline.doCreatePage",
          "source": "ContentOutline.java:125"
        },
        {
          "method": "org.eclipse.ui.part.PageBookView.createPage",
          "source": "PageBookView.java:306"
        },
        {
          "method": "org.eclipse.ui.part.PageBookView.partActivated",
          "source": "PageBookView.java:561"
        },
        {
          "method": "org.eclipse.ui.internal.PartListenerList$1.run",
          "source": "PartListenerList.java:43"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:867"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:413"
        },
        {
          "method": "org.eclipse.ui.internal.PartListenerList.firePartActivated",
          "source": "PartListenerList.java:41"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.firePartActivated",
          "source": "WorkbenchPage.java:1170"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.setActivePart",
          "source": "WorkbenchPage.java:2431"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.activate",
          "source": "WorkbenchPage.java:405"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:2005"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:1844"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor",
          "source": "EditorUtility.java:129"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor",
          "source": "EditorUtility.java:102"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.actions.OpenActionUtil.open",
          "source": "OpenActionUtil.java:47"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.OpenAction.run",
          "source": "OpenAction.java:158"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.OpenAction.run",
          "source": "OpenAction.java:147"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun",
          "source": "SelectionDispatchAction.java:191"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.run",
          "source": "SelectionDispatchAction.java:169"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.PackageExplorerActionGroup.handleOpen",
          "source": "PackageExplorerActionGroup.java:326"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart$3.open",
          "source": "PackageExplorerPart.java:308"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$2.run",
          "source": "StructuredViewer.java:397"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:867"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:413"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.fireOpen",
          "source": "StructuredViewer.java:395"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleOpen",
          "source": "StructuredViewer.java:602"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$6.handleOpen",
          "source": "StructuredViewer.java:689"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireOpenEvent",
          "source": "OpenStrategy.java:203"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$2",
          "source": "OpenStrategy.java:198"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "OpenStrategy.java:227"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:77"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:836"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1692"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1410"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1272"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:247"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:703"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:539"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "31439",
      "date": "2003-02-10T10:10:47+01:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    }
  ],
  "groupId": "31439",
  "bugId": "31439",
  "date": "2003-02-10T10:10:47+01:00",
  "product": "Platform",
  "component": "Ant",
  "severity": "normal"
}