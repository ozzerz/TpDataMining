{
  "comments": [
    "EMF 2.2.0M4\n\nOpened in the ecore editor and the genmodel editor:\n\nThis simple ecore model\n\n\u003c?xml version\u003d\"1.0\" encoding\u003d\"UTF-8\"?\u003e\n\u003cecore:EPackage xmi:version\u003d\"2.0\"\n    xmlns:xmi\u003d\"http://www.omg.org/XMI\" xmlns:xsi\u003d\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:ecore\u003d\"http://www.eclipse.org/emf/2002/Ecore\" name\u003d\"package\"\u003e\n  \u003ceClassifiers xsi:type\u003d\"ecore:EClass\" name\u003d\"klass\"\u003e\n    \u003ceStructuralFeatures xsi:type\u003d\"ecore:EReference\" name\u003d\"index\" eType\u003d\"#//inst\"/\u003e\n  \u003c/eClassifiers\u003e\n  \u003ceClassifiers xsi:type\u003d\"ecore:EClass\" name\u003d\"inst\" instanceClassName\u003d\"java.util.List\"/\u003e\n\u003c/ecore:EPackage\u003e\n\nand a genmodel derived from it\n\n\u003c?xml version\u003d\"1.0\" encoding\u003d\"UTF-8\"?\u003e\n\u003cgenmodel:GenModel xmi:version\u003d\"2.0\"\n    xmlns:xmi\u003d\"http://www.omg.org/XMI\" xmlns:ecore\u003d\"http://www.eclipse.org/emf/2002/Ecore\"\n    xmlns:genmodel\u003d\"http://www.eclipse.org/emf/2002/GenModel\" modelDirectory\u003d\"/test2/src\"\n    modelPluginID\u003d\"test2\" modelName\u003d\"My\" importerID\u003d\"org.eclipse.emf.importer.ecore\"\u003e\n  \u003cforeignModel\u003eMy.ecore\u003c/foreignModel\u003e\n  \u003cgenPackages prefix\u003d\"Package\" disposableProviderFactory\u003d\"true\" ecorePackage\u003d\"My.ecore#/\"\u003e\n    \u003cgenClasses ecoreClass\u003d\"My.ecore#//klass\"\u003e\n      \u003cgenFeatures notify\u003d\"false\" createChild\u003d\"false\" ecoreFeature\u003d\"ecore:EReference My.ecore#//klass/index\"/\u003e\n    \u003c/genClasses\u003e\n    \u003cgenClasses ecoreClass\u003d\"My.ecore#//inst\"/\u003e\n  \u003c/genPackages\u003e\n\u003c/genmodel:GenModel\u003e\n\nRemoving the reference \u0027index\u0027 from class \u0027klass\u0027, deleting class \u0027inst\u0027, creating a datatype \u0027inst\u0027 with instanceClass the same as the deleted class \u0027inst\u0027 results in this ecore model\n\n\u003c?xml version\u003d\"1.0\" encoding\u003d\"UTF-8\"?\u003e\n\u003cecore:EPackage xmi:version\u003d\"2.0\"\n    xmlns:xmi\u003d\"http://www.omg.org/XMI\" xmlns:xsi\u003d\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:ecore\u003d\"http://www.eclipse.org/emf/2002/Ecore\" name\u003d\"package\"\u003e\n  \u003ceClassifiers xsi:type\u003d\"ecore:EClass\" name\u003d\"klass\"/\u003e\n  \u003ceClassifiers xsi:type\u003d\"ecore:EDataType\" name\u003d\"inst\" instanceClassName\u003d\"java.util.List\"/\u003e\n\u003c/ecore:EPackage\u003e\n\nSwitching to the genmodel editor results in this ClassCastException:\n\n\n\n\nError 2006-01-23 21:44:35.875 Problems occurred when invoking code from plug-in: \"org.eclipse.ui.workbench\".\njava.lang.ClassCastException: org.eclipse.emf.ecore.impl.EDataTypeImpl\nat org.eclipse.emf.codegen.ecore.genmodel.impl.GenClassImpl.getEcoreClass(GenClassImpl.java:285)\nat org.eclipse.emf.codegen.ecore.genmodel.impl.GenClassImpl.reconcile(GenClassImpl.java:2122)\nat org.eclipse.emf.codegen.ecore.genmodel.impl.GenPackageImpl.reconcile(GenPackageImpl.java:3418)\nat org.eclipse.emf.codegen.ecore.genmodel.impl.GenModelImpl.reconcile(GenModelImpl.java:5687)\nat org.eclipse.emf.codegen.ecore.genmodel.presentation.GenModelEditor.initialize(GenModelEditor.java:391)\nat org.eclipse.emf.codegen.ecore.genmodel.presentation.GenModelEditor.handleChangedResources(GenModelEditor.java:385)\nat org.eclipse.emf.codegen.ecore.genmodel.presentation.GenModelEditor.handleActivate(GenModelEditor.java:349)\nat org.eclipse.emf.codegen.ecore.genmodel.presentation.GenModelEditor$1.partActivated(GenModelEditor.java:199)\nat org.eclipse.ui.internal.PartListenerList$1.run(PartListenerList.java:71)\nat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\nat org.eclipse.core.runtime.Platform.run(Platform.java:785)\nat org.eclipse.ui.internal.PartListenerList.fireEvent(PartListenerList.java:57)\nat org.eclipse.ui.internal.PartListenerList.firePartActivated(PartListenerList.java:69)\nat org.eclipse.ui.internal.PartService.firePartActivated(PartService.java:73)\nat org.eclipse.ui.internal.PartService.setActivePart(PartService.java:171)\nat org.eclipse.ui.internal.WorkbenchPagePartList.fireActivePartChanged(WorkbenchPagePartList.java:56)\nat org.eclipse.ui.internal.PartList.setActivePart(PartList.java:117)\nat org.eclipse.ui.internal.WorkbenchPage.setActivePart(WorkbenchPage.java:2966)\nat org.eclipse.ui.internal.WorkbenchPage.requestActivation(WorkbenchPage.java:2534)\nat org.eclipse.ui.internal.PartPane.requestActivation(PartPane.java:251)\nat org.eclipse.ui.internal.EditorPane.requestActivation(EditorPane.java:88)\nat org.eclipse.ui.internal.PartPane.setFocus(PartPane.java:297)\nat org.eclipse.ui.internal.EditorPane.setFocus(EditorPane.java:116)\nat org.eclipse.ui.internal.PartStack.presentationSelectionChanged(PartStack.java:798)\nat org.eclipse.ui.internal.PartStack.access$1(PartStack.java:781)\nat org.eclipse.ui.internal.PartStack$1.selectPart(PartStack.java:122)\nat org.eclipse.ui.internal.presentations.util.TabbedStackPresentation$1.handleEvent(TabbedStackPresentation.java:126)\nat org.eclipse.ui.internal.presentations.util.AbstractTabFolder.fireEvent(AbstractTabFolder.java:267)\nat org.eclipse.ui.internal.presentations.util.AbstractTabFolder.fireEvent(AbstractTabFolder.java:276)\nat org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder.access$1(DefaultTabFolder.java:1)\nat org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder$2.handleEvent(DefaultTabFolder.java:84)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:914)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:923)\nat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:695)\nat org.eclipse.swt.custom.CTabFolder.setSelection(CTabFolder.java:3191)\nat org.eclipse.swt.custom.CTabFolder.onMouse(CTabFolder.java:1975)\nat org.eclipse.swt.custom.CTabFolder$1.handleEvent(CTabFolder.java:294)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:914)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3285)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2905)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1762)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1726)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:397)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\nat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)\nat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:109)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:379)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:282)\nat org.eclipse.core.launcher.Main.run(Main.java:977)\nat org.eclipse.core.launcher.Main.main(Main.java:952)",
    "We could certainly handle this more gracefully, but it seems like one of those \"it hurts when I do this -- well, don\u0027t do that\" situations.\n\nI won\u0027t close the bug, but with time as tight as it is, I doubt it will get immediate attention.",
    "Changes to avoid this problem have been committed to CVS.",
    "Fixed in 2.2.0 I200601260027",
    "*** Bug 75994 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2006-01-23T20:56:46+01:00",
    "2006-01-23T21:36:37+01:00",
    "2006-01-24T14:03:23+01:00",
    "2006-01-26T07:05:43+01:00",
    "2006-02-10T19:19:39+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.emf.ecore.impl.EDataTypeImpl",
      "elements": [
        {
          "method": "org.eclipse.emf.codegen.ecore.genmodel.impl.GenClassImpl.getEcoreClass",
          "source": "GenClassImpl.java:285"
        },
        {
          "method": "org.eclipse.emf.codegen.ecore.genmodel.impl.GenClassImpl.reconcile",
          "source": "GenClassImpl.java:2122"
        },
        {
          "method": "org.eclipse.emf.codegen.ecore.genmodel.impl.GenPackageImpl.reconcile",
          "source": "GenPackageImpl.java:3418"
        },
        {
          "method": "org.eclipse.emf.codegen.ecore.genmodel.impl.GenModelImpl.reconcile",
          "source": "GenModelImpl.java:5687"
        },
        {
          "method": "org.eclipse.emf.codegen.ecore.genmodel.presentation.GenModelEditor.initialize",
          "source": "GenModelEditor.java:391"
        },
        {
          "method": "org.eclipse.emf.codegen.ecore.genmodel.presentation.GenModelEditor.handleChangedResources",
          "source": "GenModelEditor.java:385"
        },
        {
          "method": "org.eclipse.emf.codegen.ecore.genmodel.presentation.GenModelEditor.handleActivate",
          "source": "GenModelEditor.java:349"
        },
        {
          "method": "org.eclipse.emf.codegen.ecore.genmodel.presentation.GenModelEditor$1.partActivated",
          "source": "GenModelEditor.java:199"
        },
        {
          "method": "org.eclipse.ui.internal.PartListenerList$1.run",
          "source": "PartListenerList.java:71"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:785"
        },
        {
          "method": "org.eclipse.ui.internal.PartListenerList.fireEvent",
          "source": "PartListenerList.java:57"
        },
        {
          "method": "org.eclipse.ui.internal.PartListenerList.firePartActivated",
          "source": "PartListenerList.java:69"
        },
        {
          "method": "org.eclipse.ui.internal.PartService.firePartActivated",
          "source": "PartService.java:73"
        },
        {
          "method": "org.eclipse.ui.internal.PartService.setActivePart",
          "source": "PartService.java:171"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPagePartList.fireActivePartChanged",
          "source": "WorkbenchPagePartList.java:56"
        },
        {
          "method": "org.eclipse.ui.internal.PartList.setActivePart",
          "source": "PartList.java:117"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.setActivePart",
          "source": "WorkbenchPage.java:2966"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.requestActivation",
          "source": "WorkbenchPage.java:2534"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.requestActivation",
          "source": "PartPane.java:251"
        },
        {
          "method": "org.eclipse.ui.internal.EditorPane.requestActivation",
          "source": "EditorPane.java:88"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.setFocus",
          "source": "PartPane.java:297"
        },
        {
          "method": "org.eclipse.ui.internal.EditorPane.setFocus",
          "source": "EditorPane.java:116"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.presentationSelectionChanged",
          "source": "PartStack.java:798"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.access$1",
          "source": "PartStack.java:781"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack$1.selectPart",
          "source": "PartStack.java:122"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.util.TabbedStackPresentation$1.handleEvent",
          "source": "TabbedStackPresentation.java:126"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.util.AbstractTabFolder.fireEvent",
          "source": "AbstractTabFolder.java:267"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.util.AbstractTabFolder.fireEvent",
          "source": "AbstractTabFolder.java:276"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder.access$1",
          "source": "DefaultTabFolder.java:1"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder$2.handleEvent",
          "source": "DefaultTabFolder.java:84"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:914"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:923"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:695"
        },
        {
          "method": "org.eclipse.swt.custom.CTabFolder.setSelection",
          "source": "CTabFolder.java:3191"
        },
        {
          "method": "org.eclipse.swt.custom.CTabFolder.onMouse",
          "source": "CTabFolder.java:1975"
        },
        {
          "method": "org.eclipse.swt.custom.CTabFolder$1.handleEvent",
          "source": "CTabFolder.java:294"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:914"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3285"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2905"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1762"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1726"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:397"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:109"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:379"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:338"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:282"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "124933",
      "date": "2006-01-23T20:56:46+01:00",
      "product": "EMF",
      "component": "Tools",
      "severity": "normal"
    }
  ],
  "groupId": "124933",
  "bugId": "124933",
  "date": "2006-01-23T20:56:46+01:00",
  "product": "EMF",
  "component": "Tools",
  "severity": "normal"
}