{
  "comments": [
    "Build ID: TPTP-4.4.0-200703270100\n\nSteps To Reproduce:\n1. Start profiling Eclipse Workbench with Thread Analysis (Java 5.0+) on clean workspace\n2. Switch to Profiling and Logging Perspective\n3. in Profiling Monitor select the node corresponded this launch\n\nDeviceResourceException will be thrown and Eclipse Workbench will not be started. Probably, this exception may be thrown when Eclipse is trying to display tool bar.\nThe log file will contain the following:\n\n!ENTRY org.eclipse.jface 2 0 2007-03-28 17:13:12.251\n!MESSAGE The image could not be loaded: URLImageDescriptor(bundleentry://134/icons/full/dlcl16/message_options.gif)\n!STACK 0\norg.eclipse.jface.resource.DeviceResourceException: Unable to create resource URLImageDescriptor(bundleentry://134/icons/full/dlcl16/message_options.gif)\n        at org.eclipse.jface.resource.ImageDescriptor.createResource(ImageDescriptor.java:167)\n        at org.eclipse.jface.resource.DeviceResourceManager.allocate(DeviceResourceManager.java:56)\n        at org.eclipse.jface.resource.AbstractResourceManager.create(AbstractResourceManager.java:88)\n        at org.eclipse.jface.resource.LocalResourceManager.allocate(LocalResourceManager.java:82)\n        at org.eclipse.jface.resource.AbstractResourceManager.create(AbstractResourceManager.java:88)\n        at org.eclipse.jface.resource.ResourceManager.createImageWithDefault(ResourceManager.java:192)\n        at org.eclipse.jface.action.ActionContributionItem.updateImages(ActionContributionItem.java:960)\n        at org.eclipse.jface.action.ActionContributionItem.update(ActionContributionItem.java:724)\n        at org.eclipse.jface.action.ActionContributionItem.fill(ActionContributionItem.java:332)\n        at org.eclipse.jface.action.ToolBarManager.update(ToolBarManager.java:324)\n        at org.eclipse.tptp.trace.ui.internal.control.provider.ControlUtility.addContributedItems(ControlUtility.java:105)\n        at org.eclipse.hyades.trace.internal.ui.PDProjectExplorer.selectionChanged(PDProjectExplorer.java:650)\n        at org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:162)\n        at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n        at org.eclipse.core.runtime.Platform.run(Platform.java:850)\n        at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:45)\n        at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:153)\n        at org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:160)\n        at org.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:2058)\n        at org.eclipse.jface.viewers.StructuredViewer.handleSelect(StructuredViewer.java:1138)\n        at org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected(StructuredViewer.java:1164)\n        at org.eclipse.jface.util.OpenStrategy.fireSelectionEvent(OpenStrategy.java:227)\n        at org.eclipse.jface.util.OpenStrategy.access$3(OpenStrategy.java:221)\n        at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:388)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3673)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3284)\n        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2337)\n        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2301)\n        at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2176)\n        at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:463)",
    "This seems like being caused due to a missing image  in the icons directory.\nEugene, since we do not have committers in this space I will assign this back to you to check in the fix. I will own this until we find the right image that will be provided as patch",
    "project org.eclipse.hyades.trace.ui\n\nmessage_options.gif is avilable in \u0027c\u0027 and \u0027e\u0027 folders:\n org.eclipse.hyades.trace.ui\\icons\\full\\clcl16 (16 icons)\n org.eclipse.hyades.trace.ui\\icons\\full\\elcl16 (16 icons)\n\nmessage_options.gif is missing in \u0027d\u0027 folder:\n org.eclipse.hyades.trace.ui\\icons\\full\\dlcl16 (15 icons) - here is place to adde missing icon\n",
    "Eugene,\n  The defect is due to a missing icon in the folder \"icons\\full\\dlcl16\".\nRuslan investigated this defect and opines that \"d in the folder may contain the disabled icons. \nTo get over the immediate i2 requirement of having the Tool bar show up - the build has to be patched with this icon. The missing icon per Ruslan is the Message_options.gif this has to be copied over from \"icons\\full\\clcl16\" to the \"icons\\full\\dlcl16\". This should enable the tool bar and testing. \nThe pending action then will be if the \"d\" in the directory name stands for disabled then to have the icon grayed out and that action can be addressed as a lower priority defect.\n\n",
    "Guru, yes the \u0027d\u0027 stands for disable icon folder. \nIf this is not blocking, I agree this should be addressed post i2.",
    "I believe this is a blocking defect since the tool bar is not displayed. If its a disabled icon folder why do we have the same number of icons in the \"c\" \u0026 \"e\" folders?\n",
    "It looks like it\u0027s a regression from bug 153453.\nI will prepare a patch and ask for PMC approval to be patched in i2 driver.",
    "Thanks Eugene\n",
    "Guru and Ruslan, I retried with TPTP-4.4.0-200703270100A build and I don\u0027t see any problem getting the toolbar in profiling perspective. There is error about Action Set: org.eclipse.tptp.trace.jvmti.heapActionSet and the image file, but I believe the image file has nothing to do with the reported missing toolbar.\n\nI will attach a screen shot of my profile session.",
    "Created an attachment (id\u003d62339)\nscreen shot of TPTP 4400A \n\nScreen shot of tptp.sdk-TPTP-4.4.0-200703270100A showing 2 profiles, first is a PI profile and second one is a TI profile, both run with no error, and toolbar (circled in red) is displayed. However, in the error log I see problem reported about getting action set Action Set: org.eclipse.tptp.trace.jvmti.heapActionSet.\n\nIs there something I missed?",
    "Created an attachment (id\u003d62373)\nfix for heapAction\n\nI did not reproduce and see \u0027unable to find Action Set\u0027. Anyway I removed reference for \"org.eclipse.tptp.trace.jvmti.heapActionSet\" from perspectiveExtension in plugin.xml as it is not defined and causes error shown in previous screenshot.\nSimple patch provided for project org.eclipse.tptp.trace.jvmti.client.\n",
    "(In reply to comment #9)\n\u003e Created an attachment (id\u003d62339) [details]\n\u003e screen shot of TPTP 4400A \n\u003e Screen shot of tptp.sdk-TPTP-4.4.0-200703270100A showing 2 profiles, first is a\n\u003e PI profile and second one is a TI profile, both run with no error, and toolbar\n\u003e (circled in red) is displayed. However, in the error log I see problem reported\n\u003e about getting action set Action Set:\n\u003e org.eclipse.tptp.trace.jvmti.heapActionSet.\n\u003e Is there something I missed?\n\nThanks to Ruslan I found out the cause of such behaviour. The exception does not affect this failure.\nWhen Eclipse started on a new workspace the Welcome windows appears at first.\nIf the Profiling and Logging perspective will be chosen at this moment (not closing the Welcome window), the tool bar won\u0027t be drawn.\nBut if the Java (or some other) perspective will be chosen after starting Eclipse at once, the tool bar will be correctly shown.\n\nEugene,\n\nProbably, before strating profiling you closed the Welcome window which always appears on clean workspace. Don\u0027t close the window and you will be able to reproduce the bug.\n",
    "Thanks Ruslan and Vitaly for your investigation and patches. I think this is a platform bug as the same problem happens when I switch to other perspective without closing the welcome page (eg. J2EE, Report Design). The workaround I found is just by closing the perspective and it will reset and open Java perspective and load the toolbar.\n\n",
    "Reassign to Platform.",
    "problem of missing image file is now tracked under bug 179995, and \nproblem of action set is now tracked under bug 180000.",
    "I cannot reproduce this on I20070920-0936, is this still a problem on 3.3 and up?",
    "I can not reproduce this as well.",
    "As per Remy\u0027s investigation, this appears to be fixed as of I20070920-0936.\n\nPlease reopen if this still occurs in 3.4\n\nPW\n"
  ],
  "commentCreationDates": [
    "2007-03-28T12:36:14+02:00",
    "2007-03-28T16:35:42+02:00",
    "2007-03-28T17:22:30+02:00",
    "2007-03-28T18:25:24+02:00",
    "2007-03-28T18:38:24+02:00",
    "2007-03-28T18:41:52+02:00",
    "2007-03-28T23:46:37+02:00",
    "2007-03-29T00:12:53+02:00",
    "2007-03-29T06:28:02+02:00",
    "2007-03-29T06:30:44+02:00",
    "2007-03-29T13:24:02+02:00",
    "2007-03-29T15:02:42+02:00",
    "2007-03-29T16:10:05+02:00",
    "2007-03-29T16:10:51+02:00",
    "2007-03-29T16:33:56+02:00",
    "2007-09-21T04:28:36+02:00",
    "2007-09-28T04:30:09+02:00",
    "2007-10-02T16:34:08+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.jface.resource.DeviceResourceException",
      "message": "Unable to create resource URLImageDescriptor(bundleentry://134/icons/full/dlcl16/message_options.gif)",
      "elements": [
        {
          "method": "org.eclipse.jface.resource.ImageDescriptor.createResource",
          "source": "ImageDescriptor.java:167"
        },
        {
          "method": "org.eclipse.jface.resource.DeviceResourceManager.allocate",
          "source": "DeviceResourceManager.java:56"
        },
        {
          "method": "org.eclipse.jface.resource.AbstractResourceManager.create",
          "source": "AbstractResourceManager.java:88"
        },
        {
          "method": "org.eclipse.jface.resource.LocalResourceManager.allocate",
          "source": "LocalResourceManager.java:82"
        },
        {
          "method": "org.eclipse.jface.resource.AbstractResourceManager.create",
          "source": "AbstractResourceManager.java:88"
        },
        {
          "method": "org.eclipse.jface.resource.ResourceManager.createImageWithDefault",
          "source": "ResourceManager.java:192"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.updateImages",
          "source": "ActionContributionItem.java:960"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.update",
          "source": "ActionContributionItem.java:724"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.fill",
          "source": "ActionContributionItem.java:332"
        },
        {
          "method": "org.eclipse.jface.action.ToolBarManager.update",
          "source": "ToolBarManager.java:324"
        },
        {
          "method": "org.eclipse.tptp.trace.ui.internal.control.provider.ControlUtility.addContributedItems",
          "source": "ControlUtility.java:105"
        },
        {
          "method": "org.eclipse.hyades.trace.internal.ui.PDProjectExplorer.selectionChanged",
          "source": "PDProjectExplorer.java:650"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer$2.run",
          "source": "Viewer.java:162"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:850"
        },
        {
          "method": "org.eclipse.ui.internal.JFaceUtil$1.run",
          "source": "JFaceUtil.java:45"
        },
        {
          "method": "org.eclipse.jface.util.SafeRunnable.run",
          "source": "SafeRunnable.java:153"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer.fireSelectionChanged",
          "source": "Viewer.java:160"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateSelection",
          "source": "StructuredViewer.java:2058"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleSelect",
          "source": "StructuredViewer.java:1138"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected",
          "source": "StructuredViewer.java:1164"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireSelectionEvent",
          "source": "OpenStrategy.java:227"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$3",
          "source": "OpenStrategy.java:221"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "OpenStrategy.java:388"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3673"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3284"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2337"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2301"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2176"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:463"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "179704",
      "date": "2007-03-28T12:36:14+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "179704",
  "bugId": "179704",
  "date": "2007-03-28T12:36:14+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}