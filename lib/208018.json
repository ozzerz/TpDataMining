{
  "comments": [
    "I20071030-0010\n\nI was sync\u0027ing my workspace (in the synchronize perspective) and while waiting I tried to change back to the Java perspective. I had the javadoc view open (not the active view) and it was showing doc from a class. During the switch I got the following error:\n\njava.lang.StringIndexOutOfBoundsException: String index out of range: -1\nat java.lang.String.substring(String.java:1938)\nat org.eclipse.jface.internal.text.link.contentassist.LineBreakingReader.findNextBreakOffset(LineBreakingReader.java:111)\nat org.eclipse.jface.internal.text.link.contentassist.LineBreakingReader.readLine(LineBreakingReader.java:78)\nat org.eclipse.jface.internal.text.html.HTMLTextPresenter.updatePresentation(HTMLTextPresenter.java:127)\nat org.eclipse.jdt.internal.ui.infoviews.JavadocView.setInput(JavadocView.java:537)\nat org.eclipse.jdt.internal.ui.infoviews.JavadocView$2.controlResized(JavadocView.java:322)\nat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:221)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1105)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1129)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1110)\nat org.eclipse.swt.widgets.Control.setBounds(Control.java:819)\nat org.eclipse.swt.widgets.Composite.setBounds(Composite.java:1230)\nat org.eclipse.swt.widgets.Canvas.setBounds(Canvas.java:315)\nat org.eclipse.swt.widgets.Control.setBounds(Control.java:683)\nat org.eclipse.swt.layout.FillLayout.layout(FillLayout.java:198)\nat org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:1414)\nat org.eclipse.swt.widgets.Composite.setBounds(Composite.java:1233)\nat org.eclipse.swt.widgets.Control.setBounds(Control.java:683)\nat org.eclipse.swt.layout.FillLayout.layout(FillLayout.java:198)\nat org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:1414)\nat org.eclipse.swt.widgets.Composite.setBounds(Composite.java:1233)\nat org.eclipse.swt.widgets.Control.setBounds(Control.java:655)\nat org.eclipse.ui.internal.LayoutPart.setBounds(LayoutPart.java:300)\nat org.eclipse.ui.internal.presentations.PresentablePart.enableInputs(PresentablePart.java:387)\nat org.eclipse.ui.internal.PartStack.setActive(PartStack.java:628)\nat org.eclipse.ui.internal.PartSashContainer.setActive(PartSashContainer.java:490)\nat org.eclipse.ui.internal.PerspectiveHelper.activate(PerspectiveHelper.java:271)\nat org.eclipse.ui.internal.Perspective.onActivate(Perspective.java:931)\nat org.eclipse.ui.internal.WorkbenchPage.setPerspective(WorkbenchPage.java:3461)\nat org.eclipse.ui.internal.WorkbenchPage.busySetPerspective(WorkbenchPage.java:988)\nat org.eclipse.ui.internal.WorkbenchPage.access$17(WorkbenchPage.java:972)\nat org.eclipse.ui.internal.WorkbenchPage$18.run(WorkbenchPage.java:3560)\nat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)\nat org.eclipse.ui.internal.WorkbenchPage.setPerspective(WorkbenchPage.java:3558)\nat org.eclipse.ui.internal.PerspectiveBarContributionItem.select(PerspectiveBarContributionItem.java:123)\nat org.eclipse.ui.internal.PerspectiveBarContributionItem$1.widgetSelected(PerspectiveBarContributionItem.java:92)\nat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1105)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3335)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2982)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2395)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2359)\nat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2225)\nat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:468)\nat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:288)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:463)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\nat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\nat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:362)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:175)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:515)\nat org.eclipse.equinox.launcher.Main.basicRun(Main.java:455)\nat org.eclipse.equinox.launcher.Main.run(Main.java:1193)",
    "Am I right that the Browser widget isn\u0027t installed/working? It looks like the fall back code is running here.\n\nCan you reproduce?",
    "The browser widget was not working (but is now). And I have not been able to reproduce. Maybe the fall-back code could handle it more gracefully?\n\n",
    "\u003eMaybe the fall-back code could handle it more gracefully?\nWell, it should of course. I suspect some speciality with the source it wanted to show. We would need a test case to do something here.",
    "this is the class and javadoc header it was showing at the time the error occurred:\n\n\n/**\n * This preference page allows {@link IApiProfile}s to be created/removed/edited\n * @since 1.0.0\n */\npublic class ApiProfilesPreferencePage extends PreferencePage implements IWorkbenchPreferencePage {\n\n...\n\u003csnip\u003e\n...\n}\n\nThe ApiProfilesPreferencePage class is in the org.eclipse.pde.api.tools.ui (manifest_tooling branch) pde-incubator project.",
    "just got the error again, with my browser working correctly, and the javadoc view not the the focus view. Immediately after I was hit with an out of memory error, maybe one has an effect on the other?\n\n",
    "\u003ejust got the error again, w\nThat\u0027s not possible. If the Browser is now working then it cannot be the same code path. Must be a slightly different path.\n\nCan you provide reproducible steps?",
    "I have no concrete steps, it seems to occur intermittently. I have not seen it at all today."
  ],
  "commentCreationDates": [
    "2007-10-30T16:10:54+01:00",
    "2007-10-30T17:08:17+01:00",
    "2007-10-30T17:46:32+01:00",
    "2007-10-30T17:55:10+01:00",
    "2007-10-30T19:05:44+01:00",
    "2007-10-30T20:59:29+01:00",
    "2007-10-31T08:42:03+01:00",
    "2007-10-31T20:27:09+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.StringIndexOutOfBoundsException",
      "message": "String index out of range: -1",
      "elements": [
        {
          "method": "java.lang.String.substring",
          "source": "String.java:1938"
        },
        {
          "method": "org.eclipse.jface.internal.text.link.contentassist.LineBreakingReader.findNextBreakOffset",
          "source": "LineBreakingReader.java:111"
        },
        {
          "method": "org.eclipse.jface.internal.text.link.contentassist.LineBreakingReader.readLine",
          "source": "LineBreakingReader.java:78"
        },
        {
          "method": "org.eclipse.jface.internal.text.html.HTMLTextPresenter.updatePresentation",
          "source": "HTMLTextPresenter.java:127"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.infoviews.JavadocView.setInput",
          "source": "JavadocView.java:537"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.infoviews.JavadocView$2.controlResized",
          "source": "JavadocView.java:322"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:221"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1105"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1129"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1110"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.setBounds",
          "source": "Control.java:819"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.setBounds",
          "source": "Composite.java:1230"
        },
        {
          "method": "org.eclipse.swt.widgets.Canvas.setBounds",
          "source": "Canvas.java:315"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.setBounds",
          "source": "Control.java:683"
        },
        {
          "method": "org.eclipse.swt.layout.FillLayout.layout",
          "source": "FillLayout.java:198"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.updateLayout",
          "source": "Composite.java:1414"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.setBounds",
          "source": "Composite.java:1233"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.setBounds",
          "source": "Control.java:683"
        },
        {
          "method": "org.eclipse.swt.layout.FillLayout.layout",
          "source": "FillLayout.java:198"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.updateLayout",
          "source": "Composite.java:1414"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.setBounds",
          "source": "Composite.java:1233"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.setBounds",
          "source": "Control.java:655"
        },
        {
          "method": "org.eclipse.ui.internal.LayoutPart.setBounds",
          "source": "LayoutPart.java:300"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.PresentablePart.enableInputs",
          "source": "PresentablePart.java:387"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.setActive",
          "source": "PartStack.java:628"
        },
        {
          "method": "org.eclipse.ui.internal.PartSashContainer.setActive",
          "source": "PartSashContainer.java:490"
        },
        {
          "method": "org.eclipse.ui.internal.PerspectiveHelper.activate",
          "source": "PerspectiveHelper.java:271"
        },
        {
          "method": "org.eclipse.ui.internal.Perspective.onActivate",
          "source": "Perspective.java:931"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.setPerspective",
          "source": "WorkbenchPage.java:3461"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.busySetPerspective",
          "source": "WorkbenchPage.java:988"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.access$17",
          "source": "WorkbenchPage.java:972"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$18.run",
          "source": "WorkbenchPage.java:3560"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:67"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.setPerspective",
          "source": "WorkbenchPage.java:3558"
        },
        {
          "method": "org.eclipse.ui.internal.PerspectiveBarContributionItem.select",
          "source": "PerspectiveBarContributionItem.java:123"
        },
        {
          "method": "org.eclipse.ui.internal.PerspectiveBarContributionItem$1.widgetSelected",
          "source": "PerspectiveBarContributionItem.java:92"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:227"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1105"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3335"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2982"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2395"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2359"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2225"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:468"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:288"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:463"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:193"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:362"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:175"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:597"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:515"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:455"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1193"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "208018",
      "date": "2007-10-30T16:10:54+01:00",
      "product": "JDT",
      "component": "Text",
      "severity": "minor"
    }
  ],
  "groupId": "208018",
  "bugId": "208018",
  "date": "2007-10-30T16:10:54+01:00",
  "product": "JDT",
  "component": "Text",
  "severity": "minor"
}