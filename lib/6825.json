{
  "comments": [
    "I ran into a bug in the UI that caused a runtime exception (see bug 6824).  This \nexception was caused by a JDT bug, but I wanted to report here the fact that \neclipse completely CRASHED immediately after the error dialog was closed.  This \nsuggests that some exception occurred *during* the exception handling code in \nthe Workbench class.  There is no logging of this, so I can\u0027t give any \ndetails about what happened (the best the boot loader can do is \nprintStackTrace(), but at that point it\u0027s too late).  To be extra safe, maybe \nthe call to handleExceptionInEventLoop could also be run in a try/catch block, \nat least in the case of relatively minor runtime exceptions.",
    "This has happened twice again today.  This is pretty serious, you lose all \ncontext, UI layouts, open editor buffers, built state, etc.  Eclipse just \ndisappears...",
    "Ok, I hacked the boot loader to capture the exception stack trace, and \nreproduced the error.  The stack trace below represents the error that causes \nEclipse to crash.  Note that it is the same exception as the reference PR, but \nit is happening in the event loop of the MessageDialog.  Since there is no \nprotective code around the MessageDialog invocation, this crashes the \nworkbench.  There are no consistent steps to reproduce. Roughly, it happens \nafter hitting Ctrl+S in an editor.  Immediately after the save/build progress \ndialog closes, I click in the content outline and the error occurs.\n\n\n\njava.lang.IllegalArgumentException: Index out of bounds\n        at org.eclipse.swt.SWT.error(SWT.java:1873)\n        at org.eclipse.swt.SWT.error(SWT.java:1819)\n        at \norg.eclipse.swt.custom.StyledText.getLocationAtOffset(StyledText.java:3295)\n        at \norg.eclipse.jdt.internal.ui.text.link.LinkedPositionUI.getMinimumLocation(Linked\nPositionUI.java:323)\n        at \norg.eclipse.jdt.internal.ui.text.link.LinkedPositionUI.paintControl(LinkedPositi\nonUI.java:307)\n        at \norg.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java(Compiled \nCode))\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Compiled Code))\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Compiled Code))\n        at org.eclipse.swt.widgets.Composite.WM_PAINT(Composite.java(Compiled \nCode))\n        at org.eclipse.swt.widgets.Control.windowProc(Control.java(Compiled \nCode))\n        at org.eclipse.swt.widgets.Display.windowProc(Display.java(Compiled \nCode))\n        at org.eclipse.swt.internal.win32.OS.RedrawWindow(Native Method)\n        at org.eclipse.swt.widgets.Control.update(Control.java(Compiled Code))\n        at org.eclipse.swt.widgets.Display.update(Display.java(Compiled Code))\n        at org.eclipse.jface.window.Window.runEventLoop(Window.java:554)\n        at org.eclipse.jface.window.Window.open(Window.java:523)\n        at \norg.eclipse.jface.dialogs.MessageDialog.openError(MessageDialog.java:318)\n        at \norg.eclipse.ui.internal.Workbench.handleExceptionInEventLoop(Workbench.java:373)\n        at \norg.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code))\n        at org.eclipse.ui.internal.Workbench.run(Workbench.java:758)\n        at \norg.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:82\n0)\n        at org.eclipse.core.boot.BootLoader.run(BootLoader.java:285)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:151)\n        at org.eclipse.core.launcher.Main.run(Main.java:502)\n        at org.eclipse.core.launcher.Main.main(Main.java:362)",
    "From stack trace looks like JFace text. ",
    "Eduardo,\n\n   Pls verify that the triggering bug has been fixed. If its in JFace text pls \nwork with Kai to resolve. ALso note that the real intent of this defect is to \npoint out a problem in our code that handles exceptions.",
    "Released a fix handling the case were an exception happend while handling \nexception in the event loop."
  ],
  "commentCreationDates": [
    "2001-12-11T22:10:38+01:00",
    "2001-12-14T19:43:10+01:00",
    "2001-12-14T20:09:28+01:00",
    "2001-12-19T18:20:27+01:00",
    "2001-12-19T20:29:56+01:00",
    "2002-01-31T22:28:28+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Index out of bounds",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:1873"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:1819"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.getLocationAtOffset",
          "source": "StyledText.java:3295"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.link.LinkedPositionUI.getMinimumLocation",
          "source": "Linked PositionUI.java:323"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.link.LinkedPositionUI.paintControl",
          "source": "LinkedPositi onUI.java:307"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.WM_PAINT",
          "source": "Composite.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.RedrawWindow",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.update",
          "source": "Control.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.update",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:554"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:523"
        },
        {
          "method": "org.eclipse.jface.dialogs.MessageDialog.openError",
          "source": "MessageDialog.java:318"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.handleExceptionInEventLoop",
          "source": "Workbench.java:373"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:758"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:82 0"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:285"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:151"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:502"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:362"
        }
      ],
      "number": 0,
      "commentIndex": 2,
      "bugId": "6825",
      "date": "2001-12-14T20:09:28+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "critical"
    }
  ],
  "groupId": "6825",
  "bugId": "6825",
  "date": "2001-12-11T22:10:38+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "critical"
}