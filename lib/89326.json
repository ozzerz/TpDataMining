{
  "comments": [
    "Sometimes I am getting the following exception when I attempt to run JUnit tests\nin my AJ-enabled project:\n\njava.lang.StringIndexOutOfBoundsException: String index out of range: -1\n\tat java.lang.String.substring(String.java:1768)\n\tat\norg.eclipse.jdt.internal.core.search.matching.JavaSearchNameEnvironment.\u003cinit\u003e(JavaSearchNameEnvironment.java:62)\n\tat\norg.eclipse.jdt.internal.core.search.matching.MatchLocator.initialize(MatchLocator.java:820)\n\tat\norg.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:841)\n\tat\norg.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:928)\n\tat\norg.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1045)\n\tat\norg.eclipse.jdt.internal.core.search.JavaSearchParticipant.locateMatches(JavaSearchParticipant.java:94)\n\tat\norg.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches(BasicSearchEngine.java:196)\n\tat\norg.eclipse.jdt.internal.core.search.BasicSearchEngine.search(BasicSearchEngine.java:382)\n\tat org.eclipse.jdt.core.search.SearchEngine.search(SearchEngine.java:512)\n\tat\norg.eclipse.jdt.internal.junit.util.TestSearchEngine.searchMethod(TestSearchEngine.java:106)\n\tat\norg.eclipse.jdt.internal.junit.util.TestSearchEngine.searchMethod(TestSearchEngine.java:97)\n\tat\norg.eclipse.jdt.internal.junit.util.TestSearchEngine.searchSuiteMethods(TestSearchEngine.java:245)\n\tat\norg.eclipse.jdt.internal.junit.util.TestSearchEngine.collectTypes(TestSearchEngine.java:182)\n\tat\norg.eclipse.jdt.internal.junit.util.TestSearchEngine.doFindTests(TestSearchEngine.java:144)\n\tat\norg.eclipse.jdt.internal.junit.launcher.JUnitBaseLaunchConfiguration.findTestsInContainer(JUnitBaseLaunchConfiguration.java:144)\n\tat\norg.eclipse.jdt.internal.junit.launcher.JUnitBaseLaunchConfiguration.getTestTypes(JUnitBaseLaunchConfiguration.java:131)\n\tat\norg.eclipse.jdt.internal.junit.launcher.JUnitBaseLaunchConfiguration.launch(JUnitBaseLaunchConfiguration.java:75)\n\tat\norg.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:590)\n\tat\norg.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:515)\n\tat\norg.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch(DebugUIPlugin.java:795)\n\tat org.eclipse.debug.internal.ui.DebugUIPlugin$6.run(DebugUIPlugin.java:993)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)\n\nThis prevents the test from starting. A workaround for that is restarting the\nworkbench.\n\nI have also seen this similar error when using Refactor \u003e Rename: The trace also\nstarted with:\n\njava.lang.StringIndexOutOfBoundsException: String index out of range: -1\n\tat java.lang.String.substring(String.java:1768)\n\tat\norg.eclipse.jdt.internal.core.search.matching.JavaSearchNameEnvironment.\u003cinit\u003e(JavaSearchNameEnvironment.java:62)\n\nUnfortunately I am not able to reliably reproduce this bug :-(\n\nI am using local builds of AspectJ/AJDT CVS HEAD.",
    "Which version of Eclipse does this happen on?\n",
    "3.1M5a. I\u0027m going to download 3.1M6 today, rebuild \u0026 reinstal AJDT and add a let\nyou know if it happens again.",
    "Rafal, I\u0027d recommend holding off on the AJDT side of that for a day or two as\nAJDT doesn\u0027t compile on M6 yet, because of the internal API we use. I\u0027ve fixed\nsome of it, but have a fair bit more to do. I\u0027ll append here when it at least\ncompiles.",
    "Sure. I\u0027d be happy to give it a spin when it\u0027s ready.",
    "Okay, CVS HEAD should now compile on 3.1M6. You need to install a \"bootstrap\"\nversion of AJDT first to build the sources with it, which is available here:\nhttp://www.eclipse.org/downloads/download.php?file\u003d/technology/ajdt/31/dev/update/ajdt_1.2.0.20050405164513_archive.zip\nKnown issues with the M6 support remain the AJ export wizards and launch\nconfigurations. Let us know if this problem still happens, or you spot any other\nproblems.",
    "I\u0027ve compiled AspectJ and AJDT with 3.1M6 and got it running without any\napparent problems. I\u0027ll try working a bit on my toy project in the following\ndays and keep an eye on this issue.",
    "It is still happening with 3.1M6 + CVS HEAD AJDT from yesterday (April 6th), but\nthe stacktrace is a bit different:\n\njava.lang.StringIndexOutOfBoundsException: String index out of range: -1\n\tat java.lang.String.substring(String.java:1768)\n\tat\norg.eclipse.jdt.internal.core.util.Util.getNameWithoutJavaLikeExtension(Util.java:890)\n\tat\norg.eclipse.jdt.internal.core.search.matching.PossibleMatch.getQualifiedName(PossibleMatch.java:101)\n\tat\norg.eclipse.jdt.internal.core.search.matching.PossibleMatch.\u003cinit\u003e(PossibleMatch.java:41)\n\tat\norg.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1079)\n\tat\norg.eclipse.jdt.internal.core.search.JavaSearchParticipant.locateMatches(JavaSearchParticipant.java:94)\n\tat\norg.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches(BasicSearchEngine.java:208)\n\tat\norg.eclipse.jdt.internal.core.search.BasicSearchEngine.search(BasicSearchEngine.java:394)\n\tat org.eclipse.jdt.core.search.SearchEngine.search(SearchEngine.java:532)\n\tat\norg.eclipse.jdt.internal.junit.util.TestSearchEngine.searchMethod(TestSearchEngine.java:106)\n\tat\norg.eclipse.jdt.internal.junit.util.TestSearchEngine.searchMethod(TestSearchEngine.java:97)\n\tat\norg.eclipse.jdt.internal.junit.util.TestSearchEngine.searchSuiteMethods(TestSearchEngine.java:245)\n\tat\norg.eclipse.jdt.internal.junit.util.TestSearchEngine.collectTypes(TestSearchEngine.java:182)\n\tat\norg.eclipse.jdt.internal.junit.util.TestSearchEngine.doFindTests(TestSearchEngine.java:144)\n\tat\norg.eclipse.jdt.internal.junit.launcher.JUnitBaseLaunchConfiguration.findTestsInContainer(JUnitBaseLaunchConfiguration.java:144)\n\tat\norg.eclipse.jdt.internal.junit.launcher.JUnitBaseLaunchConfiguration.getTestTypes(JUnitBaseLaunchConfiguration.java:131)\n\tat\norg.eclipse.jdt.internal.junit.launcher.JUnitBaseLaunchConfiguration.launch(JUnitBaseLaunchConfiguration.java:75)\n\tat\norg.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:590)\n\tat\norg.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:515)\n\tat\norg.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch(DebugUIPlugin.java:731)\n\tat org.eclipse.debug.internal.ui.DebugUIPlugin$6.run(DebugUIPlugin.java:929)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)\n\nThe tests lanucher worked after starting eclipse, failed after doing some\ndevelopment, and then worked againg after restarting eclipse.",
    "The test failure you mentioned in comment 7 was fixed this morning (7th \nApril).  I think this second exception was probably unrelated to the error you \nmentioned initially.",
    "Although the exception is slightly different I think this is probably a \nduplicate of 98547.\n\n*** This bug has been marked as a duplicate of 98547 ***"
  ],
  "commentCreationDates": [
    "2005-03-29T10:02:51+02:00",
    "2005-04-01T09:43:26+02:00",
    "2005-04-04T09:02:54+02:00",
    "2005-04-04T10:02:08+02:00",
    "2005-04-04T10:14:43+02:00",
    "2005-04-05T19:09:00+02:00",
    "2005-04-06T15:14:53+02:00",
    "2005-04-07T10:48:53+02:00",
    "2005-04-07T12:01:17+02:00",
    "2005-08-03T11:57:19+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.StringIndexOutOfBoundsException",
      "message": "String index out of range: -1",
      "elements": [
        {
          "method": "java.lang.String.substring",
          "source": "String.java:1768"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.JavaSearchNameEnvironment.\u003cinit\u003e",
          "source": "JavaSearchNameEnvironment.java:62"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.initialize",
          "source": "MatchLocator.java:820"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches",
          "source": "MatchLocator.java:841"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches",
          "source": "MatchLocator.java:928"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches",
          "source": "MatchLocator.java:1045"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.JavaSearchParticipant.locateMatches",
          "source": "JavaSearchParticipant.java:94"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches",
          "source": "BasicSearchEngine.java:196"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.BasicSearchEngine.search",
          "source": "BasicSearchEngine.java:382"
        },
        {
          "method": "org.eclipse.jdt.core.search.SearchEngine.search",
          "source": "SearchEngine.java:512"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.util.TestSearchEngine.searchMethod",
          "source": "TestSearchEngine.java:106"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.util.TestSearchEngine.searchMethod",
          "source": "TestSearchEngine.java:97"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.util.TestSearchEngine.searchSuiteMethods",
          "source": "TestSearchEngine.java:245"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.util.TestSearchEngine.collectTypes",
          "source": "TestSearchEngine.java:182"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.util.TestSearchEngine.doFindTests",
          "source": "TestSearchEngine.java:144"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.launcher.JUnitBaseLaunchConfiguration.findTestsInContainer",
          "source": "JUnitBaseLaunchConfiguration.java:144"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.launcher.JUnitBaseLaunchConfiguration.getTestTypes",
          "source": "JUnitBaseLaunchConfiguration.java:131"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.launcher.JUnitBaseLaunchConfiguration.launch",
          "source": "JUnitBaseLaunchConfiguration.java:75"
        },
        {
          "method": "org.eclipse.debug.internal.core.LaunchConfiguration.launch",
          "source": "LaunchConfiguration.java:590"
        },
        {
          "method": "org.eclipse.debug.internal.core.LaunchConfiguration.launch",
          "source": "LaunchConfiguration.java:515"
        },
        {
          "method": "org.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch",
          "source": "DebugUIPlugin.java:795"
        },
        {
          "method": "org.eclipse.debug.internal.ui.DebugUIPlugin$6.run",
          "source": "DebugUIPlugin.java:993"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:67"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "89326",
      "duplicateId": "98547",
      "date": "2005-03-29T10:02:51+02:00",
      "product": "AJDT",
      "component": "Core",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.StringIndexOutOfBoundsException",
      "message": "String index out of range: -1",
      "elements": [
        {
          "method": "java.lang.String.substring",
          "source": "String.java:1768"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.JavaSearchNameEnvironment.\u003cinit\u003e",
          "source": "JavaSearchNameEnvironment.java:62"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "89326",
      "duplicateId": "98547",
      "date": "2005-03-29T10:02:51+02:00",
      "product": "AJDT",
      "component": "Core",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.StringIndexOutOfBoundsException",
      "message": "String index out of range: -1",
      "elements": [
        {
          "method": "java.lang.String.substring",
          "source": "String.java:1768"
        },
        {
          "method": "org.eclipse.jdt.internal.core.util.Util.getNameWithoutJavaLikeExtension",
          "source": "Util.java:890"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.PossibleMatch.getQualifiedName",
          "source": "PossibleMatch.java:101"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.PossibleMatch.\u003cinit\u003e",
          "source": "PossibleMatch.java:41"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches",
          "source": "MatchLocator.java:1079"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.JavaSearchParticipant.locateMatches",
          "source": "JavaSearchParticipant.java:94"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches",
          "source": "BasicSearchEngine.java:208"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.BasicSearchEngine.search",
          "source": "BasicSearchEngine.java:394"
        },
        {
          "method": "org.eclipse.jdt.core.search.SearchEngine.search",
          "source": "SearchEngine.java:532"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.util.TestSearchEngine.searchMethod",
          "source": "TestSearchEngine.java:106"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.util.TestSearchEngine.searchMethod",
          "source": "TestSearchEngine.java:97"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.util.TestSearchEngine.searchSuiteMethods",
          "source": "TestSearchEngine.java:245"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.util.TestSearchEngine.collectTypes",
          "source": "TestSearchEngine.java:182"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.util.TestSearchEngine.doFindTests",
          "source": "TestSearchEngine.java:144"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.launcher.JUnitBaseLaunchConfiguration.findTestsInContainer",
          "source": "JUnitBaseLaunchConfiguration.java:144"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.launcher.JUnitBaseLaunchConfiguration.getTestTypes",
          "source": "JUnitBaseLaunchConfiguration.java:131"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.launcher.JUnitBaseLaunchConfiguration.launch",
          "source": "JUnitBaseLaunchConfiguration.java:75"
        },
        {
          "method": "org.eclipse.debug.internal.core.LaunchConfiguration.launch",
          "source": "LaunchConfiguration.java:590"
        },
        {
          "method": "org.eclipse.debug.internal.core.LaunchConfiguration.launch",
          "source": "LaunchConfiguration.java:515"
        },
        {
          "method": "org.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch",
          "source": "DebugUIPlugin.java:731"
        },
        {
          "method": "org.eclipse.debug.internal.ui.DebugUIPlugin$6.run",
          "source": "DebugUIPlugin.java:929"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:67"
        }
      ],
      "number": 2,
      "commentIndex": 7,
      "bugId": "89326",
      "duplicateId": "98547",
      "date": "2005-04-07T10:48:53+02:00",
      "product": "AJDT",
      "component": "Core",
      "severity": "major"
    }
  ],
  "groupId": "98547",
  "bugId": "89326",
  "duplicateId": "98547",
  "date": "2005-03-29T10:02:51+02:00",
  "product": "AJDT",
  "component": "Core",
  "severity": "major"
}