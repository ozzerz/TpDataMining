{
  "comments": [
    "The following program causes the compiler to crash on either XP or Linux when \nthe assert is uncommented:\n\npublic class Test {\n    class CacheEntry {\n        private void add(int i) {\n//          assert (i \u003c 0) : \"message\";\n        }\n    }\n}\n\nThe log entries are:\n\n!ENTRY org.eclipse.ui 4 4 Dec 20, 2002 09:24:15.720\n!MESSAGE Save Failed\n!ENTRY org.eclipse.ui 2 0 Dec 20, 2002 09:24:15.720\n!MESSAGE Save Failed\n!STACK 0\njava.lang.NullPointerException\n\tat org.eclipse.jdt.internal.compiler.ClassFile.addFieldInfo\n(ClassFile.java:434)\n\tat org.eclipse.jdt.internal.compiler.ClassFile.addFieldInfos\n(ClassFile.java:579)\n\tat org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.generateCode\n(TypeDeclaration.java:694)\n\tat org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.generateCode\n(TypeDeclaration.java:762)\n\tat org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.generateCode\n(TypeDeclaration.java:709)\n\tat org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.generateCode\n(TypeDeclaration.java:770)\n\tat \norg.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.generateCode\n(CompilationUnitDeclaration.java:158)\n\tat org.eclipse.jdt.internal.compiler.Compiler.resolve\n(Compiler.java:591)\n\tat org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process\n(CompilationUnitProblemFinder.java:204)\n\tat org.eclipse.jdt.internal.core.CompilationUnit.buildStructure\n(CompilationUnit.java:90)\n\tat org.eclipse.jdt.internal.core.CompilationUnit.makeConsistent\n(CompilationUnit.java:664)\n\tat org.eclipse.jdt.internal.core.WorkingCopy.reconcile\n(WorkingCopy.java:446)\n\tat org.eclipse.jdt.internal.core.WorkingCopy.reconcile\n(WorkingCopy.java:421)\n\tat \norg.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider.doSaveDo\ncument(CompilationUnitDocumentProvider.java:903)\n\tat org.eclipse.ui.texteditor.AbstractDocumentProvider.saveDocument\n(AbstractDocumentProvider.java:454)\n\tat org.eclipse.ui.texteditor.AbstractTextEditor$11.execute\n(AbstractTextEditor.java:2772)\n\tat org.eclipse.ui.actions.WorkspaceModifyOperation$1.run\n(WorkspaceModifyOperation.java:65)\n\tat org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1564)\n\tat org.eclipse.ui.actions.WorkspaceModifyOperation.run\n(WorkspaceModifyOperation.java:79)\n\tat org.eclipse.ui.texteditor.AbstractTextEditor.performSaveOperation\n(AbstractTextEditor.java:2790)\n\tat \norg.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.performSaveOperati\non(CompilationUnitEditor.java:849)\n\tat org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.doSave\n(CompilationUnitEditor.java:913)\n\tat org.eclipse.ui.internal.EditorManager$11.run\n(EditorManager.java:1032)\n\tat org.eclipse.ui.internal.EditorManager$8.run(EditorManager.java:901)\n\tat org.eclipse.jface.operation.ModalContext.runInCurrentThread\n(ModalContext.java:296)\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:246)\n\tat org.eclipse.jface.window.ApplicationWindow$1.run\n(ApplicationWindow.java:432)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile\n(BusyIndicator.java:65)\n\tat org.eclipse.jface.window.ApplicationWindow.run\n(ApplicationWindow.java:429)\n\tat org.eclipse.ui.internal.WorkbenchWindow.run\n(WorkbenchWindow.java:1174)\n\tat org.eclipse.ui.internal.EditorManager.runProgressMonitorOperation\n(EditorManager.java:907)\n\tat org.eclipse.ui.internal.EditorManager.saveEditor\n(EditorManager.java:1037)\n\tat org.eclipse.ui.internal.WorkbenchPage.saveEditor\n(WorkbenchPage.java:2143)\n\tat org.eclipse.ui.internal.SaveAction.run(SaveAction.java:30)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:769)\n\tat org.eclipse.ui.internal.WWinKeyBindingService.invoke\n(WWinKeyBindingService.java:139)\n\tat org.eclipse.ui.internal.WWinKeyBindingService.pressed\n(WWinKeyBindingService.java:120)\n\tat org.eclipse.ui.internal.WWinKeyBindingService$6.widgetSelected\n(WWinKeyBindingService.java:376)\n\tat org.eclipse.ui.internal.AcceleratorMenu$2.handleEvent\n(AcceleratorMenu.java:55)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:77)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:825)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1692)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1410)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1446)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1429)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:845)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:462)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:247)\n\tat org.eclipse.core.launcher.Main.run(Main.java:703)\n\tat org.eclipse.core.launcher.Main.main(Main.java:539)",
    "I will investigate.",
    "The bug is due to the fact that two synthetic fields share the same index.\nTherefore we got a null in the synthetic fields arrays and we cannot generate\nthe field info properly.\nI will see how to fix it.",
    "I think the bug is that we put 0 as the index for the assertion synthetic fields\ninstead of synthetics[FIELD].size().\nA fix could be to replace:\n\t\tsynthField \u003d new SyntheticFieldBinding(\n\t\t\t\"$assertionsDisabled\".toCharArray(), //$NON-NLS-1$\n\t\t\tBooleanBinding,\n\t\t\tAccDefault | AccStatic | AccSynthetic | AccFinal,\n\t\t\tthis,\n\t\t\tConstant.NotAConstant,\n\t\t\t0);\n\t\tsynthetics[FIELD].put(\"assertionEmulation\", synthField); //$NON-NLS-1$\n\t\nwith:\n\n\t\tsynthField \u003d new SyntheticFieldBinding(\n\t\t\t\"$assertionsDisabled\".toCharArray(), //$NON-NLS-1$\n\t\t\tBooleanBinding,\n\t\t\tAccDefault | AccStatic | AccSynthetic | AccFinal,\n\t\t\tthis,\n\t\t\tConstant.NotAConstant,\n\t\t\tsynthetics[FIELD].size());\n\t\tsynthetics[FIELD].put(\"assertionEmulation\", synthField); //$NON-NLS-1$\n\t\nin SourceTypeBinding.addSyntheticField(AssertStatement assertStatement,\nBlockScope blockScope).\n\n",
    "*** Bug 28819 has been marked as a duplicate of this bug. ***",
    "*** Bug 28760 has been marked as a duplicate of this bug. ***",
    "*** Bug 28934 has been marked as a duplicate of this bug. ***",
    "*** Bug 28953 has been marked as a duplicate of this bug. ***",
    "*** Bug 28954 has been marked as a duplicate of this bug. ***",
    "*** Bug 28980 has been marked as a duplicate of this bug. ***",
    "How did it ever work ?",
    "I think it never worked inside an inner class that required its enclosing instance.\nI will release the fix tomorrow.",
    "Fixed and released in 2.1 stream.\nRegression test added.",
    "*** Bug 29031 has been marked as a duplicate of this bug. ***",
    "*** Bug 29029 has been marked as a duplicate of this bug. ***",
    "*** Bug 29088 has been marked as a duplicate of this bug. ***",
    "*** Bug 29197 has been marked as a duplicate of this bug. ***",
    "*** Bug 29229 has been marked as a duplicate of this bug. ***",
    "*** Bug 29267 has been marked as a duplicate of this bug. ***",
    "*** Bug 30232 has been marked as a duplicate of this bug. ***",
    "*** Bug 30418 has been marked as a duplicate of this bug. ***",
    "*** Bug 30746 has been marked as a duplicate of this bug. ***",
    "Verified."
  ],
  "commentCreationDates": [
    "2002-12-20T15:53:47+01:00",
    "2002-12-20T16:32:49+01:00",
    "2002-12-20T16:43:15+01:00",
    "2002-12-20T16:49:10+01:00",
    "2002-12-24T14:59:55+01:00",
    "2002-12-24T15:00:44+01:00",
    "2003-01-03T00:33:41+01:00",
    "2003-01-03T00:34:08+01:00",
    "2003-01-03T00:34:49+01:00",
    "2003-01-04T18:02:15+01:00",
    "2003-01-05T23:39:39+01:00",
    "2003-01-06T03:15:49+01:00",
    "2003-01-06T13:49:33+01:00",
    "2003-01-06T15:41:55+01:00",
    "2003-01-06T15:43:15+01:00",
    "2003-01-07T15:30:20+01:00",
    "2003-01-09T11:03:27+01:00",
    "2003-01-09T18:33:58+01:00",
    "2003-01-10T15:05:34+01:00",
    "2003-01-25T22:13:26+01:00",
    "2003-01-28T19:28:00+01:00",
    "2003-01-31T22:10:26+01:00",
    "2003-02-06T16:38:23+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.ClassFile.addFieldInfo",
          "source": "ClassFile.java:434"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ClassFile.addFieldInfos",
          "source": "ClassFile.java:579"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.generateCode",
          "source": "TypeDeclaration.java:694"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.generateCode",
          "source": "TypeDeclaration.java:762"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.generateCode",
          "source": "TypeDeclaration.java:709"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.generateCode",
          "source": "TypeDeclaration.java:770"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.generateCode",
          "source": "CompilationUnitDeclaration.java:158"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.resolve",
          "source": "Compiler.java:591"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process",
          "source": "CompilationUnitProblemFinder.java:204"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.buildStructure",
          "source": "CompilationUnit.java:90"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.makeConsistent",
          "source": "CompilationUnit.java:664"
        },
        {
          "method": "org.eclipse.jdt.internal.core.WorkingCopy.reconcile",
          "source": "WorkingCopy.java:446"
        },
        {
          "method": "org.eclipse.jdt.internal.core.WorkingCopy.reconcile",
          "source": "WorkingCopy.java:421"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider.doSaveDocument",
          "source": "CompilationUnitDocumentProvider.java:903"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractDocumentProvider.saveDocument",
          "source": "AbstractDocumentProvider.java:454"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor$11.execute",
          "source": "AbstractTextEditor.java:2772"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation$1.run",
          "source": "WorkspaceModifyOperation.java:65"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1564"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation.run",
          "source": "WorkspaceModifyOperation.java:79"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor.performSaveOperation",
          "source": "AbstractTextEditor.java:2790"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.performSaveOperation",
          "source": "CompilationUnitEditor.java:849"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.doSave",
          "source": "CompilationUnitEditor.java:913"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager$11.run",
          "source": "EditorManager.java:1032"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager$8.run",
          "source": "EditorManager.java:901"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:296"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:246"
        },
        {
          "method": "org.eclipse.jface.window.ApplicationWindow$1.run",
          "source": "ApplicationWindow.java:432"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:65"
        },
        {
          "method": "org.eclipse.jface.window.ApplicationWindow.run",
          "source": "ApplicationWindow.java:429"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.run",
          "source": "WorkbenchWindow.java:1174"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.runProgressMonitorOperation",
          "source": "EditorManager.java:907"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.saveEditor",
          "source": "EditorManager.java:1037"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.saveEditor",
          "source": "WorkbenchPage.java:2143"
        },
        {
          "method": "org.eclipse.ui.internal.SaveAction.run",
          "source": "SaveAction.java:30"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:769"
        },
        {
          "method": "org.eclipse.ui.internal.WWinKeyBindingService.invoke",
          "source": "WWinKeyBindingService.java:139"
        },
        {
          "method": "org.eclipse.ui.internal.WWinKeyBindingService.pressed",
          "source": "WWinKeyBindingService.java:120"
        },
        {
          "method": "org.eclipse.ui.internal.WWinKeyBindingService$6.widgetSelected",
          "source": "WWinKeyBindingService.java:376"
        },
        {
          "method": "org.eclipse.ui.internal.AcceleratorMenu$2.handleEvent",
          "source": "AcceleratorMenu.java:55"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:77"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:825"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1692"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1410"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1446"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1429"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:462"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:247"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:703"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:539"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "28750",
      "date": "2002-12-20T15:53:47+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "major"
    }
  ],
  "groupId": "28750",
  "bugId": "28750",
  "date": "2002-12-20T15:53:47+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "major"
}