{
  "comments": [
    "I have an XSD editor with a property sheet for a XSDElementDeclaration. One of the editable features is \"Abstract\".\nThe possible values are booleans TRUE, FALSE, and an extra String value \"(false)\" which designates the default value.\nThese values are rendered thru a combo box. If the default value is initially selected and user re-selects it from combo, then the following exception is thrown:\n\njava.lang.NullPointerException\n\nat org.eclipse.xsd.impl.XSDElementDeclarationImpl.eSet(XSDElementDeclarationImpl.java:1981)\nat org.eclipse.emf.ecore.impl.BasicEObjectImpl.eSet(BasicEObjectImpl.java:642)\nat org.eclipse.emf.edit.provider.ItemPropertyDescriptor.setPropertyValue(ItemPropertyDescriptor.java:1374)\nat org.eclipse.xsd.provider.XSDItemProviderAdapter$ItemPropertyDescriptorWithDefault.setPropertyValue(XSDItemProviderAdapter.java:172)\nat org.eclipse.xsd.provider.XSDElementDeclarationItemProvider$DelegatingItemPropertyDescriptor.setPropertyValue(XSDElementDeclarationItemProvider.java:115)\nat com.conceptwave.servicedesigner.XSDPropertyProvider.setValue(XSDPropertyProvider.java:354)\nat com.conceptwave.servicedesigner.XSDPropertyTable$XSDPropertyModel.setValueAt(XSDPropertyTable.java:312)\nat javax.swing.JTable.setValueAt(JTable.java:1794)\nat javax.swing.JTable.editingStopped(JTable.java:3167)\nat javax.swing.AbstractCellEditor.fireEditingStopped(AbstractCellEditor.java:124)\nat javax.swing.AbstractCellEditor.stopCellEditing(AbstractCellEditor.java:67)\nat javax.swing.JTable.editCellAt(JTable.java:2510)\nat javax.swing.plaf.basic.BasicTableUI$MouseInputHandler.adjustFocusAndSelection(BasicTableUI.java:510)\nat javax.swing.plaf.basic.BasicTableUI$MouseInputHandler.mousePressed(BasicTableUI.java:494)\nat java.awt.AWTEventMulticaster.mousePressed(AWTEventMulticaster.java:222)\nat java.awt.Component.processMouseEvent(Component.java:5097)\nat java.awt.Component.processEvent(Component.java:4897)\nat java.awt.Container.processEvent(Container.java:1569)\nat java.awt.Component.dispatchEventImpl(Component.java:3615)\nat java.awt.Container.dispatchEventImpl(Container.java:1627)\nat java.awt.Component.dispatchEvent(Component.java:3477)\nat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:3483)\nat java.awt.LightweightDispatcher.processMouseEvent(Container.java:3195)\nat java.awt.LightweightDispatcher.dispatchEvent(Container.java:3128)\nat java.awt.Container.dispatchEventImpl(Container.java:1613)\nat java.awt.Window.dispatchEventImpl(Window.java:1606)\nat java.awt.Component.dispatchEvent(Component.java:3477)\nat java.awt.EventQueue.dispatchEvent(EventQueue.java:456)\nat java.awt.EventDispatchThread.pumpOneEventForHierarchy(EventDispatchThread.java:201)\nat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:151)\nat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:145)\nat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:137)\nat java.awt.EventDispatchThread.run(EventDispatchThread.java:100)\n\nIt seems that the code around XSDItemProviderAdapter.java:172 is something like this:\n\n          Object propertyDefaultValue \u003d getPropertyDefaultValue(o);\n          if (propertyDefaultValue.equals(value))\n          {\n            super.setPropertyValue(o, null);\n            return;\n          }\n\nSo basically from that moment on, the newValue passed is null. Unfortunately, the XSDElementDeclarationImpl.eSet() method does not expect this null value and doesn\u0027t handle it. The same is true for \"Nillable\" property.\n\nNot the same happens to the \"Constraint\" feature, with possible values default, fixed and \"(default)\". If the \"(default)\" value is selected, XSDElementDeclarationImpl.eSet() will delegate to XSDFeatureImpl.eSet() which handles correctly the situation.",
    "*** Bug 153815 has been marked as a duplicate of this bug. ***",
    "A fix to XSDItemProvider has been committed to CVS.",
    "Fixed in M200608170000."
  ],
  "commentCreationDates": [
    "2006-08-14T21:20:45+02:00",
    "2006-08-14T22:12:38+02:00",
    "2006-08-15T15:43:29+02:00",
    "2006-08-17T21:22:17+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.xsd.impl.XSDElementDeclarationImpl.eSet",
          "source": "XSDElementDeclarationImpl.java:1981"
        },
        {
          "method": "org.eclipse.emf.ecore.impl.BasicEObjectImpl.eSet",
          "source": "BasicEObjectImpl.java:642"
        },
        {
          "method": "org.eclipse.emf.edit.provider.ItemPropertyDescriptor.setPropertyValue",
          "source": "ItemPropertyDescriptor.java:1374"
        },
        {
          "method": "org.eclipse.xsd.provider.XSDItemProviderAdapter$ItemPropertyDescriptorWithDefault.setPropertyValue",
          "source": "XSDItemProviderAdapter.java:172"
        },
        {
          "method": "org.eclipse.xsd.provider.XSDElementDeclarationItemProvider$DelegatingItemPropertyDescriptor.setPropertyValue",
          "source": "XSDElementDeclarationItemProvider.java:115"
        },
        {
          "method": "com.conceptwave.servicedesigner.XSDPropertyProvider.setValue",
          "source": "XSDPropertyProvider.java:354"
        },
        {
          "method": "com.conceptwave.servicedesigner.XSDPropertyTable$XSDPropertyModel.setValueAt",
          "source": "XSDPropertyTable.java:312"
        },
        {
          "method": "javax.swing.JTable.setValueAt",
          "source": "JTable.java:1794"
        },
        {
          "method": "javax.swing.JTable.editingStopped",
          "source": "JTable.java:3167"
        },
        {
          "method": "javax.swing.AbstractCellEditor.fireEditingStopped",
          "source": "AbstractCellEditor.java:124"
        },
        {
          "method": "javax.swing.AbstractCellEditor.stopCellEditing",
          "source": "AbstractCellEditor.java:67"
        },
        {
          "method": "javax.swing.JTable.editCellAt",
          "source": "JTable.java:2510"
        },
        {
          "method": "javax.swing.plaf.basic.BasicTableUI$MouseInputHandler.adjustFocusAndSelection",
          "source": "BasicTableUI.java:510"
        },
        {
          "method": "javax.swing.plaf.basic.BasicTableUI$MouseInputHandler.mousePressed",
          "source": "BasicTableUI.java:494"
        },
        {
          "method": "java.awt.AWTEventMulticaster.mousePressed",
          "source": "AWTEventMulticaster.java:222"
        },
        {
          "method": "java.awt.Component.processMouseEvent",
          "source": "Component.java:5097"
        },
        {
          "method": "java.awt.Component.processEvent",
          "source": "Component.java:4897"
        },
        {
          "method": "java.awt.Container.processEvent",
          "source": "Container.java:1569"
        },
        {
          "method": "java.awt.Component.dispatchEventImpl",
          "source": "Component.java:3615"
        },
        {
          "method": "java.awt.Container.dispatchEventImpl",
          "source": "Container.java:1627"
        },
        {
          "method": "java.awt.Component.dispatchEvent",
          "source": "Component.java:3477"
        },
        {
          "method": "java.awt.LightweightDispatcher.retargetMouseEvent",
          "source": "Container.java:3483"
        },
        {
          "method": "java.awt.LightweightDispatcher.processMouseEvent",
          "source": "Container.java:3195"
        },
        {
          "method": "java.awt.LightweightDispatcher.dispatchEvent",
          "source": "Container.java:3128"
        },
        {
          "method": "java.awt.Container.dispatchEventImpl",
          "source": "Container.java:1613"
        },
        {
          "method": "java.awt.Window.dispatchEventImpl",
          "source": "Window.java:1606"
        },
        {
          "method": "java.awt.Component.dispatchEvent",
          "source": "Component.java:3477"
        },
        {
          "method": "java.awt.EventQueue.dispatchEvent",
          "source": "EventQueue.java:456"
        },
        {
          "method": "java.awt.EventDispatchThread.pumpOneEventForHierarchy",
          "source": "EventDispatchThread.java:201"
        },
        {
          "method": "java.awt.EventDispatchThread.pumpEventsForHierarchy",
          "source": "EventDispatchThread.java:151"
        },
        {
          "method": "java.awt.EventDispatchThread.pumpEvents",
          "source": "EventDispatchThread.java:145"
        },
        {
          "method": "java.awt.EventDispatchThread.pumpEvents",
          "source": "EventDispatchThread.java:137"
        },
        {
          "method": "java.awt.EventDispatchThread.run",
          "source": "EventDispatchThread.java:100"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "153813",
      "date": "2006-08-14T21:20:45+02:00",
      "product": "MDT",
      "component": "XSD",
      "severity": "normal"
    }
  ],
  "groupId": "153813",
  "bugId": "153813",
  "date": "2006-08-14T21:20:45+02:00",
  "product": "MDT",
  "component": "XSD",
  "severity": "normal"
}