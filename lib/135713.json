{
  "comments": [
    "The most recent time I re-started M6 on my existing workspace, I got the walkback shown below. I\u0027m not sure if this is a problem with startup view creation or a PDE or JDT issue. Sending to UI for initial consideration...\n\njava.lang.IllegalMonitorStateException: current thread not owner\n   at java.lang.Object.notifyAll (libgcj.so.7)\n   at java.lang.Class.initializeClass (libgcj.so.7)\n   at org.eclipse.pde.internal.core.WorkspaceModelManager.getWorkspaceModel (WorkspaceModelManager.java:187)\n   at org.eclipse.pde.internal.core.WorkspaceModelManager.getWorkspacePluginModel (WorkspaceModelManager.java:206)\n   at org.eclipse.pde.internal.core.PluginModelManager.findEntry (PluginModelManager.java:170)\n   at org.eclipse.pde.internal.core.RequiredPluginsInitializer.initialize (RequiredPluginsInitializer.java:37)\n   at org.eclipse.jdt.internal.core.JavaModelManager.initializeContainer (JavaModelManager.java:1897)\n   at org.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer (JavaModelManager.java:1261)\n   at org.eclipse.jdt.core.JavaCore.getClasspathContainer (JavaCore.java:1472)\n   at org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath (JavaProject.java:2160)\n   at org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath (JavaProject.java:2064)\n   at org.eclipse.jdt.core.JavaCore.setClasspathContainer (JavaCore.java:4178)\n   at org.eclipse.jdt.internal.launching.JREContainerInitializer.initialize (JREContainerInitializer.java:59)\n   at org.eclipse.jdt.internal.core.JavaModelManager.initializeContainer (JavaModelManager.java:1897)\n   at org.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer (JavaModelManager.java:1261)\n   at org.eclipse.jdt.core.JavaCore.getClasspathContainer (JavaCore.java:1472)\n   at org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath (JavaProject.java:2160)\n   at org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath (JavaProject.java:2064)\n   at org.eclipse.jdt.internal.core.JavaModelManager.determineIfOnClasspath (JavaModelManager.java:805)\n   at org.eclipse.jdt.internal.core.JavaModelManager.create (JavaModelManager.java:697)\n   at org.eclipse.jdt.internal.core.JavaModelManager.create (JavaModelManager.java:626)\n   at org.eclipse.jdt.core.JavaCore.create (JavaCore.java:1385)\n   at org.eclipse.jdt.internal.ui.ResourceAdapterFactory.getAdapter (ResourceAdapterFactory.java:44)\n   at org.eclipse.core.internal.runtime.AdapterFactoryProxy.getAdapter (AdapterFactoryProxy.java:63)\n   at org.eclipse.core.internal.runtime.AdapterManager.getAdapter (AdapterManager.java:253)\n   at org.eclipse.core.runtime.PlatformObject.getAdapter (PlatformObject.java:65)\n   at org.eclipse.jdt.internal.ui.filters.NamePatternFilter.select (NamePatternFilter.java:62)\n   at org.eclipse.jdt.internal.ui.viewsupport.ProblemTreeViewer.isFiltered (ProblemTreeViewer.java:183)\n   at org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart$PackageExplorerProblemTreeViewer.isFiltered (PackageExplorerPart.java:298)\n   at org.eclipse.jdt.internal.ui.viewsupport.ProblemTreeViewer.isExpandable (ProblemTreeViewer.java:170)\n   at org.eclipse.jface.viewers.AbstractTreeViewer.isExpandable (AbstractTreeViewer.java:1851)\n   at org.eclipse.jface.viewers.AbstractTreeViewer.updatePlus (AbstractTreeViewer.java:2422)\n   at org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem (AbstractTreeViewer.java:739)\n   at org.eclipse.jface.viewers.AbstractTreeViewer$1.run (AbstractTreeViewer.java:714)\n   at org.eclipse.swt.custom.BusyIndicator.showWhile (BusyIndicator.java:69)\n   at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren (AbstractTreeViewer.java:721)\n   at org.eclipse.jface.viewers.TreeViewer.createChildren (TreeViewer.java:870)\n   at org.eclipse.jface.viewers.AbstractTreeViewer$5.run (AbstractTreeViewer.java:1240)\n   at org.eclipse.jface.viewers.StructuredViewer.preservingSelection (StructuredViewer.java:1294)\n   at org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart$PackageExplorerProblemTreeViewer.preservingSelection (PackageExplorerPart.java:399)\n   at org.eclipse.jface.viewers.AbstractTreeViewer.inputChanged (AbstractTreeViewer.java:1246)\n   at org.eclipse.jface.viewers.ContentViewer.setInput (ContentViewer.java:251)\n   at org.eclipse.jface.viewers.StructuredViewer.setInput (StructuredViewer.java:1518)\n   at org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart.createPartControl (PackageExplorerPart.java:634)\n   at org.eclipse.ui.internal.ViewReference.createPartHelper (ViewReference.java:334)\n   at org.eclipse.ui.internal.ViewReference.createPart (ViewReference.java:197)\n   at org.eclipse.ui.internal.WorkbenchPartReference.getPart (WorkbenchPartReference.java:566)\n   at org.eclipse.ui.internal.WorkbenchPage$ActivationList.setActive (WorkbenchPage.java:3808)\n   at org.eclipse.ui.internal.WorkbenchPage.restoreState (WorkbenchPage.java:2842)\n   at org.eclipse.ui.internal.WorkbenchWindow.restoreState (WorkbenchWindow.java:1932)\n   at org.eclipse.ui.internal.Workbench.doRestoreState (Workbench.java:2857)\n   at org.eclipse.ui.internal.Workbench.access$14 (Workbench.java:2805)\n   at org.eclipse.ui.internal.Workbench$19.run (Workbench.java:1682)\n   at org.eclipse.ui.internal.Workbench.runStartupWithProgress (Workbench.java:1422)\n   at org.eclipse.ui.internal.Workbench.restoreState (Workbench.java:1679)\n   at org.eclipse.ui.internal.Workbench.access$12 (Workbench.java:1650)\n   at org.eclipse.ui.internal.Workbench$17.run (Workbench.java:1529)\n   at org.eclipse.core.runtime.SafeRunner.run (SafeRunner.java:37)\n   at org.eclipse.ui.internal.Workbench.restoreState (Workbench.java:1550)\n   at org.eclipse.ui.internal.WorkbenchConfigurer.restoreState (WorkbenchConfigurer.java:183)\n   at org.eclipse.ui.application.WorkbenchAdvisor.openWindows (WorkbenchAdvisor.java:702)\n   at org.eclipse.ui.internal.Workbench.init (Workbench.java:1085)\n   at org.eclipse.ui.internal.Workbench.runUI (Workbench.java:1847)\n   at org.eclipse.ui.internal.Workbench.createAndRunWorkbench (Workbench.java:419)\n   at org.eclipse.ui.PlatformUI.createAndRunWorkbench (PlatformUI.java:143)\n   at org.eclipse.ui.internal.ide.IDEApplication.run (IDEApplication.java:95)\n   at org.eclipse.core.internal.runtime.PlatformActivator$1.run (PlatformActivator.java:78)\n   at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication (EclipseAppLauncher.java:92)\n   at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start (EclipseAppLauncher.java:68)\n   at org.eclipse.core.runtime.adaptor.EclipseStarter.run (EclipseStarter.java:376)\n   at org.eclipse.core.runtime.adaptor.EclipseStarter.run (EclipseStarter.java:169)\n   at java.lang.reflect.Method.invoke (libgcj.so.7)\n   at org.eclipse.core.launcher.Main.invokeFramework (Main.java:336)\n   at org.eclipse.core.launcher.Main.basicRun (Main.java:281)\n   at org.eclipse.core.launcher.Main.run (Main.java:978)\n   at org.eclipse.core.launcher.Main.main (Main.java:952)",
    "The logs show you are using gcj as your JVM.  Can you also try\nwith a commercial JVM?",
    "\nThanks Billy! I\u0027m going to send this to teh PDE group for the first look...\n",
    "JohnA, smells like a VM thing?",
    "Billy, your comment is perfectly correct, but there is a bit of a new wrinkle here: I didn\u0027t do *anything* to get a VM. I simply downloaded Eclipse and double clicked on the executable. Because this now actually works in modern linux distros, it feels like we must either make sure we run on GCJ, or detect it explicitely and say \"Eclipse won\u0027t run on this VM\".\n\nEssentially, everyone who runs Eclipse on a clean linux install will hit this, since there\u0027s no indication that it will not work.\n\n(btw, I was running FC5)",
    "This definitely looks like a bug in the VM or class libraries - the monitor it is failing to aquire is in java.lang.Class.  Andrew, do you know of a bug like this in gcj/classpath? I agree with McQ that if users on major distros are going to run into this we should consider a workaround or at least a prominent readme entry.",
    "(In reply to comment #5)\n\u003e This definitely looks like a bug in the VM or class libraries - the monitor it\n\u003e is failing to aquire is in java.lang.Class.  Andrew, do you know of a bug like\n\u003e this in gcj/classpath? I agree with McQ that if users on major distros are\n\u003e going to run into this we should consider a workaround or at least a prominent\n\u003e readme entry.\n\nWe\u0027ll try to see what the problem is.",
    "The startup.jar already has the ability to check a vm version. We might be able to add a check against a vendor or something like that. ",
    "(In reply to comment #5)\n\u003e This definitely looks like a bug in the VM or class libraries - the monitor it\n\u003e is failing to aquire is in java.lang.Class.  Andrew, do you know of a bug like\n\u003e this in gcj/classpath? I agree with McQ that if users on major distros are\n\u003e going to run into this we should consider a workaround or at least a prominent\n\u003e readme entry.\n\nI downloaded M6, uncompressed and ran it.  I used an existing workspace (~/workspace) and it worked fine.  I had some views set as Fast View and the fast view bar looked odd but other than that things went okay.\n",
    "Hmm, haven\u0027t seen this bug before.  The code in libgcj is\ndefinitely ok... there is no unsynchronized notifyAll call\nin initializeClass.  So, maybe we\u0027re seeing a compiler bug\nor maybe we\u0027re seeing a bug in the mutex code.\n\nAlso, could you install the debuginfo packages and try again?\nThat should let us see line numbers in the stack trace.\n\nWill this happen with a clean workspace?  I\u0027m wondering whether\nthere is a simple way for me to reproduce it on my FC5 box...",
    "First off, the problem may be timing related. I started Eclipse, connected to two repositories, loaded some projects, exitted, and restarted, and got this error. However, I did not see it the following two times I started Eclipse. (This is not my development machine; I don\u0027t run on it regularly.)\n\nIt *might* be a compiler bug, but this is less likely since we haven\u0027t seen it on Sun or IBM VMs. (Not impossible, but less likely). We did see problems that felt similar to this in the early betas of the IBM VM, which were eventually traced down to JIT bugs.\n\nI\u0027ll try to get steps to replicate it, but I won\u0027t have a chance to do this until at least next weekend.\n",
    "Sorry for the confusion... when I said it might be a compiler\nbug, I meant a bug in g++ when compiling libgcj\u0027s\nClass::initializeClass method.\n",
    "Old summary: Unable to create view at startup.\n\nMike, have you seen this problem in the 3.3 builds?",
    "I have not seen it, but unfortunately I have been running exclusively on Mac lately, so can\u0027t tell you whether or not it still happens."
  ],
  "commentCreationDates": [
    "2006-04-08T16:48:43+02:00",
    "2006-04-08T19:40:40+02:00",
    "2006-04-10T16:04:20+02:00",
    "2006-04-10T16:13:51+02:00",
    "2006-04-10T16:19:36+02:00",
    "2006-04-10T16:40:14+02:00",
    "2006-04-10T17:03:46+02:00",
    "2006-04-10T17:44:34+02:00",
    "2006-04-10T18:13:51+02:00",
    "2006-04-10T18:51:02+02:00",
    "2006-04-10T20:17:09+02:00",
    "2006-04-10T20:19:56+02:00",
    "2007-03-27T23:41:20+02:00",
    "2007-03-28T19:48:22+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalMonitorStateException",
      "message": "current thread not owner",
      "elements": [
        {
          "method": "java.lang.Object.notifyAll",
          "source": "libgcj.so.7"
        },
        {
          "method": "java.lang.Class.initializeClass",
          "source": "libgcj.so.7"
        },
        {
          "method": "org.eclipse.pde.internal.core.WorkspaceModelManager.getWorkspaceModel",
          "source": "WorkspaceModelManager.java:187"
        },
        {
          "method": "org.eclipse.pde.internal.core.WorkspaceModelManager.getWorkspacePluginModel",
          "source": "WorkspaceModelManager.java:206"
        },
        {
          "method": "org.eclipse.pde.internal.core.PluginModelManager.findEntry",
          "source": "PluginModelManager.java:170"
        },
        {
          "method": "org.eclipse.pde.internal.core.RequiredPluginsInitializer.initialize",
          "source": "RequiredPluginsInitializer.java:37"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelManager.initializeContainer",
          "source": "JavaModelManager.java:1897"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer",
          "source": "JavaModelManager.java:1261"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore.getClasspathContainer",
          "source": "JavaCore.java:1472"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath",
          "source": "JavaProject.java:2160"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath",
          "source": "JavaProject.java:2064"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore.setClasspathContainer",
          "source": "JavaCore.java:4178"
        },
        {
          "method": "org.eclipse.jdt.internal.launching.JREContainerInitializer.initialize",
          "source": "JREContainerInitializer.java:59"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelManager.initializeContainer",
          "source": "JavaModelManager.java:1897"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer",
          "source": "JavaModelManager.java:1261"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore.getClasspathContainer",
          "source": "JavaCore.java:1472"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath",
          "source": "JavaProject.java:2160"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath",
          "source": "JavaProject.java:2064"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelManager.determineIfOnClasspath",
          "source": "JavaModelManager.java:805"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelManager.create",
          "source": "JavaModelManager.java:697"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelManager.create",
          "source": "JavaModelManager.java:626"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore.create",
          "source": "JavaCore.java:1385"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.ResourceAdapterFactory.getAdapter",
          "source": "ResourceAdapterFactory.java:44"
        },
        {
          "method": "org.eclipse.core.internal.runtime.AdapterFactoryProxy.getAdapter",
          "source": "AdapterFactoryProxy.java:63"
        },
        {
          "method": "org.eclipse.core.internal.runtime.AdapterManager.getAdapter",
          "source": "AdapterManager.java:253"
        },
        {
          "method": "org.eclipse.core.runtime.PlatformObject.getAdapter",
          "source": "PlatformObject.java:65"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.filters.NamePatternFilter.select",
          "source": "NamePatternFilter.java:62"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.viewsupport.ProblemTreeViewer.isFiltered",
          "source": "ProblemTreeViewer.java:183"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart$PackageExplorerProblemTreeViewer.isFiltered",
          "source": "PackageExplorerPart.java:298"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.viewsupport.ProblemTreeViewer.isExpandable",
          "source": "ProblemTreeViewer.java:170"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.isExpandable",
          "source": "AbstractTreeViewer.java:1851"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.updatePlus",
          "source": "AbstractTreeViewer.java:2422"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem",
          "source": "AbstractTreeViewer.java:739"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$1.run",
          "source": "AbstractTreeViewer.java:714"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.createChildren",
          "source": "AbstractTreeViewer.java:721"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.createChildren",
          "source": "TreeViewer.java:870"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$5.run",
          "source": "AbstractTreeViewer.java:1240"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.preservingSelection",
          "source": "StructuredViewer.java:1294"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart$PackageExplorerProblemTreeViewer.preservingSelection",
          "source": "PackageExplorerPart.java:399"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.inputChanged",
          "source": "AbstractTreeViewer.java:1246"
        },
        {
          "method": "org.eclipse.jface.viewers.ContentViewer.setInput",
          "source": "ContentViewer.java:251"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.setInput",
          "source": "StructuredViewer.java:1518"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart.createPartControl",
          "source": "PackageExplorerPart.java:634"
        },
        {
          "method": "org.eclipse.ui.internal.ViewReference.createPartHelper",
          "source": "ViewReference.java:334"
        },
        {
          "method": "org.eclipse.ui.internal.ViewReference.createPart",
          "source": "ViewReference.java:197"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPartReference.getPart",
          "source": "WorkbenchPartReference.java:566"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$ActivationList.setActive",
          "source": "WorkbenchPage.java:3808"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.restoreState",
          "source": "WorkbenchPage.java:2842"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.restoreState",
          "source": "WorkbenchWindow.java:1932"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.doRestoreState",
          "source": "Workbench.java:2857"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$14",
          "source": "Workbench.java:2805"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$19.run",
          "source": "Workbench.java:1682"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runStartupWithProgress",
          "source": "Workbench.java:1422"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.restoreState",
          "source": "Workbench.java:1679"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$12",
          "source": "Workbench.java:1650"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$17.run",
          "source": "Workbench.java:1529"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.restoreState",
          "source": "Workbench.java:1550"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchConfigurer.restoreState",
          "source": "WorkbenchConfigurer.java:183"
        },
        {
          "method": "org.eclipse.ui.application.WorkbenchAdvisor.openWindows",
          "source": "WorkbenchAdvisor.java:702"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.init",
          "source": "Workbench.java:1085"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1847"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:169"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "libgcj.so.7"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:281"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:978"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "135713",
      "date": "2006-04-08T16:48:43+02:00",
      "product": "Equinox",
      "component": "Framework",
      "severity": "normal"
    }
  ],
  "groupId": "135713",
  "bugId": "135713",
  "date": "2006-04-08T16:48:43+02:00",
  "product": "Equinox",
  "component": "Framework",
  "severity": "normal"
}