{
  "comments": [
    "3.1 M5\n\nAn NPE can occur in PropertySheetViewer.updateChildrenOf if one of the top level\nitems has null data.  Although this should never happen, apparently it can (not\nsure how).\n\nCaused by: java.lang.NullPointerException\n\tat\norg.eclipse.ui.views.properties.PropertySheetViewer.updateChildrenOf(PropertySheetViewer.java:1117)\n\tat\norg.eclipse.ui.views.properties.PropertySheetViewer.setInput(PropertySheetViewer.java:850)\n\tat\norg.eclipse.ui.views.properties.PropertySheetPage.refresh(PropertySheetPage.java:397)\n\tat com.rational.clearcase.RSCMService$19.run(RSCMService.java:4459)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:118)\n\n\nIn this last exception, at line 1117, this line in the code reads: item.dispose();\nIn the code from updateChildrenOf containing 1117 we have:\n\n\t\tSet set \u003d new HashSet(childItems.length * 2 + 1);\n\n\t\tfor (int i \u003d 0; i \u003c childItems.length; i++) {\n\t\t\tObject data \u003d childItems[i].getData();\n\t\t\tif (data !\u003d null) {\n\t\t\t\tObject e \u003d data;\n\t\t\t\tint ix \u003d children.indexOf(e);\n\t\t\t\tif (ix \u003c 0) { // not found\n\t\t\t\t\tremoveItem(childItems[i]);\n\t\t\t\t} else { // found\n\t\t\t\t\tset.add(e);\n\t\t\t\t}\n\t\t\t} else if (data \u003d\u003d null) { // the dummy\n\t\t\t\titem.dispose();                         \u003c----------------line 1117\n\t\t\t}\n\t\t}",
    "The item.dispose() should be childItems[i].dispose().\nFixed.\n\nThis fix is not a candidate for 3.0.2 since this code should not be hit in\nnormal circumstances.  I believe the case seen by John was due to an earlier,\nmore fundamental, error.\n"
  ],
  "commentCreationDates": [
    "2005-03-10T16:19:43+01:00",
    "2005-03-10T16:28:10+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetViewer.updateChildrenOf",
          "source": "PropertySheetViewer.java:1117"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetViewer.setInput",
          "source": "PropertySheetViewer.java:850"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetPage.refresh",
          "source": "PropertySheetPage.java:397"
        },
        {
          "method": "com.rational.clearcase.RSCMService$19.run",
          "source": "RSCMService.java:4459"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:118"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "87662",
      "date": "2005-03-10T16:19:43+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "87662",
  "bugId": "87662",
  "date": "2005-03-10T16:19:43+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}