{
  "comments": [
    "Build ID: I20070625-1500\n\nSteps To Reproduce:\n1. install CDT\n2. Import a junit plug-in testsuite. (please let me know if I should email it to you. I\u0027m under the impression that it\u0027s not to attach company-specific stuff here)\n3. Run as JUnit Plug-in test\n\nMore information:\nHi.\nI have been having a problem running our Junit Plug-in test in CDT4. The same test runs ok in CDT3 (Eclipse SDK version 3.2.1 Build id: M20060921-0945). Also I am able to run org.eclipse.cdt Junit Plug-in tests in my CDT4 environment.  I have done sanity checks (the class does exist, etc.) and everything looks ok.  The debugger says loadclass has correct class name. Another thing I did was to copy org.eclipse.cdt.make.core.tests/ to a com.intel directory (say com.intel.make.core.tests/), make minimal modification (replace org.eclipse.cdt.make.core.tests with com.intel.make.core.tests in files and src directory structure) and to run it as Junit Plug-in. And I found that I encountered a similar \"class not found\" problem, even if I am able to run this suite ok in its original location.\nOur original MANIFEST.MF does not have Bundle-ClassPath: entry. I tried adding Bundle-ClassPath: \".,testlibname.jar\" as Bugzilla 167453 says but this didn\u0027t help.\nI could list here numerous other things I tried 8-) but I guess it\u0027s not relevant.\nThe \"class not found \" backtrace I get is as follows.\nI would appreciate any help resolving this issue.\nThanks.\nClass not found com.intel.compiler.cdt.managedbuilder.ui.tests.suite.AllIntelTests\njava.lang.ClassNotFoundException: com.intel.compiler.cdt.managedbuilder.ui.tests.suite.AllIntelTests\n\tat java.lang.ClassLoader.findClass(ClassLoader.java:341)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:289)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:235)\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.findClassInternal(BundleLoader.java:429)\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:369)\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:357)\n\tat org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:83)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:235)\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.loadClass(BundleLoader.java:289)\n\tat org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleHost.java:227)\n\tat org.eclipse.osgi.framework.internal.core.AbstractBundle.loadClass(AbstractBundle.java:1269)\n\tat org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner$BundleClassLoader.findClass(RemotePluginTestRunner.java:36)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:289)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:235)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.loadClass(RemoteTestRunner.java:683)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.loadClasses(RemoteTestRunner.java:425)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:445)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386)\n\tat org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(RemotePluginTestRunner.java:58)\n\tat org.eclipse.pde.internal.junit.runtime.UITestApplication$1.run(UITestApplication.java:122)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3296)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2974)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353)\n\tat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219)\n\tat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\n\tat org.eclipse.pde.internal.junit.runtime.UITestApplication.start(UITestApplication.java:52)\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:504)\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:443)\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1169)\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1144)",
    "Well.. it\u0027s been a month since I filed this and noone seems to have taken a look at it. Please let me know if you need extra info, etc. Thanks.",
    "Can you attach the MANIFEST.MF and build.properties?",
    "Created an attachment (id\u003d83253)\nmanifest.mf and build.properties zipped up\n\nI tried using\nBundle-Version: 4.0.0.qualifier\nBundle-Activator: org.eclipse.cdt.managedbuilder.ui.tests.testsplugin.TestsPlugin\ninstead but it didn\u0027t help either.",
    "I also modeled after the difference between cdt3_1 and HEAD in org.eclipse.cdt.managedbuilder.core.tests/build.properties, and used build.properties\nbin.includes \u003d META-INF/, \\\ncom/,\\\n.,\\\nplugin.xml\nsource .. \u003d com/intel/compiler/cdt/managedbuilder/ui/tests\njars.compile.order \u003d .\n\nbut this didnt work either.",
    "Created an attachment (id\u003d83820)\nwhole project zipped up\n\nHi.\nI\u0027m attaching the whole project here. Please note that build.properties and manifest.mf and build.poperties in this zip are different from what I\u0027ve already attached. This reflects another attempt I made. (I tried to model after org.eclipse.cdt.managedbuilder.ui.tests to create my suite).\nIf you need any more info, please let me know.",
    "Miawko, after looking at the project I found what was causing the problem.  When you look at the entire stack trace, you will probably see that org.eclipse.cdt.managedbuilder.ui.tests.testplugin.TestsPlugin (your Bundle-Activator) is not found.\n\nYou should not be referencing this Bundle-Activator from your bundle.  It will cause problems in the future (like when you try to retrieve resource strings it will look in the cdt plug-in instead of yours).  Instead, you should create a new Bundle-Activator (if you require) specific to your plug-in.  Your plug-in should work if you simply remove the Bundle-Activator header.",
    "Created an attachment (id\u003d84375)\nbacktrace files\n\nHi. Unfortunately, neither of your suggestions resolved the issue.\nThe zip file contains three backtraces.\n1. withbundle.txt - original \"class not found\" backtrace\n2. withoutbundle.txt - \"class not found\" backtrace I got after bundle-activator was removed from MANIFEST.MF\n3. after_moving_activater.txt - \"class not found\" backtrace I got after creating my own bundle activator.\n\nAll three backtrace seems identical.",
    "I just added an attachment, i.e. the solutions you suggested do not seem to work.  You closed the bug as \"works for me\". Did you actually try creating a junit testsuite and it worked?",
    "\u003e You closed the bug as \"works for me\". Did you actually try creating a\n\u003e junit testsuite and it worked?\n\u003e \n\nYes, on Linux (RH Enterprise 4) I took the archive file you attached for the project and did the following modifications:\n\nMETA-INF/MANIFEST.MF\n1. Removed Bundle-Activator header\n2. There was a typo for the Bundle-Classpath header, the value needs to be \"tests.jar\"\n\ncom.intel.compiler.cdt.managedbuilder.ui.tests.IntelManagedBuildTests.java\n1. Where you create a new TestSuite object on line 58, remove the \".getName()\" from the class object\n2. Add:\n\"public static void testDummy() {\n\tassertTrue(true);\n}\"\n\nThen I ran it as a Plug-in J-Unit Runtime workbench testing com.intel.compiler.cdt.managedbuilder.ui.tests.IntelManagedBuildTests and it successfully finished one testcase with a success.",
    "Mm. ok. This works for me too. Thans. Let me try to plug in the real testsuite and see if it works. (BTW, I don\u0027t think there is a typo on Bundle-ClassPath. I have\nBundle-ClassPath: tests.jar",
    "\n\u003e (BTW, I don\u0027t think there is a typo on Bundle-ClassPath. I\n\u003e have\n\u003e Bundle-ClassPath: tests.jar\n\nI tried this on both windows and linux.  I didn\u0027t remember changing it on windows but I know I was having problems in linux.  Could have been a random keystroke I made.  Some how the library was tests.jars (a extra s on the end).  But as long as it is working, that is all that counts :) \n\n"
  ],
  "commentCreationDates": [
    "2007-10-17T20:26:06+02:00",
    "2007-11-17T00:26:38+01:00",
    "2007-11-19T15:58:58+01:00",
    "2007-11-19T16:59:46+01:00",
    "2007-11-24T04:48:15+01:00",
    "2007-11-26T22:45:20+01:00",
    "2007-11-30T17:02:33+01:00",
    "2007-12-03T23:52:30+01:00",
    "2007-12-03T23:55:19+01:00",
    "2007-12-04T22:34:06+01:00",
    "2007-12-05T23:37:37+01:00",
    "2007-12-06T15:21:24+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassNotFoundException",
      "message": "com.intel.compiler.cdt.managedbuilder.ui.tests.suite.AllIntelTests",
      "elements": [
        {
          "method": "java.lang.ClassLoader.findClass",
          "source": "ClassLoader.java:341"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:289"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:235"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClassInternal",
          "source": "BundleLoader.java:429"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClass",
          "source": "BundleLoader.java:369"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClass",
          "source": "BundleLoader.java:357"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass",
          "source": "DefaultClassLoader.java:83"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:235"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.loadClass",
          "source": "BundleLoader.java:289"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleHost.loadClass",
          "source": "BundleHost.java:227"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.AbstractBundle.loadClass",
          "source": "AbstractBundle.java:1269"
        },
        {
          "method": "org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner$BundleClassLoader.findClass",
          "source": "RemotePluginTestRunner.java:36"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:289"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:235"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.loadClass",
          "source": "RemoteTestRunner.java:683"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.loadClasses",
          "source": "RemoteTestRunner.java:425"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests",
          "source": "RemoteTestRunner.java:445"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests",
          "source": "RemoteTestRunner.java:673"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run",
          "source": "RemoteTestRunner.java:386"
        },
        {
          "method": "org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main",
          "source": "RemotePluginTestRunner.java:58"
        },
        {
          "method": "org.eclipse.pde.internal.junit.runtime.UITestApplication$1.run",
          "source": "UITestApplication.java:122"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:123"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3296"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2974"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2389"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2353"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2219"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:466"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:461"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.pde.internal.junit.runtime.UITestApplication.start",
          "source": "UITestApplication.java:52"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:153"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:363"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:176"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:504"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:443"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1169"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1144"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "206672",
      "date": "2007-10-17T20:26:06+02:00",
      "product": "PDE",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "206672",
  "bugId": "206672",
  "date": "2007-10-17T20:26:06+02:00",
  "product": "PDE",
  "component": "UI",
  "severity": "major"
}