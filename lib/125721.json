{
  "comments": [
    "Please see 116783 for reference on adding support for external jars.  After fixing up the J2EE deployables to return the module resources for the external jars in the appropriate module folders, an error was exposed in the generic server layer.\n\nAdd an external jar to a web app and publish the web app to a server.  You see the following trace:\n\n\njava.lang.NullPointerException\n\tat org.eclipse.jst.server.generic.core.internal.publishers.ModulePackager.write(ModulePackager.java:107)\n\tat org.eclipse.jst.server.generic.core.internal.publishers.AbstractModuleAssembler.doPackModule(AbstractModuleAssembler.java:123)\n\tat org.eclipse.jst.server.generic.core.internal.publishers.AbstractModuleAssembler.doPackModule(AbstractModuleAssembler.java:118)\n\tat org.eclipse.jst.server.generic.core.internal.publishers.AbstractModuleAssembler.doPackModule(AbstractModuleAssembler.java:118)\n\tat org.eclipse.jst.server.generic.core.internal.publishers.AbstractModuleAssembler.packModule(AbstractModuleAssembler.java:74)\n\tat org.eclipse.jst.server.generic.core.internal.publishers.EarModuleAssembler.assemble(EarModuleAssembler.java:34)\n\tat org.eclipse.jst.server.generic.core.internal.publishers.AntPublisher.assembleModule(AntPublisher.java:106)\n\tat org.eclipse.jst.server.generic.core.internal.publishers.AntPublisher.publish(AntPublisher.java:93)\n\tat org.eclipse.jst.server.generic.core.internal.GenericServerBehaviour.publishModule(GenericServerBehaviour.java:90)\n\tat org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publishModule(ServerBehaviourDelegate.java:668)\n\tat org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publishModules(ServerBehaviourDelegate.java:748)\n\tat org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish(ServerBehaviourDelegate.java:606)\n\tat org.eclipse.wst.server.core.internal.Server.doPublish(Server.java:801)\n\tat org.eclipse.wst.server.core.internal.Server.publish(Server.java:789)\n\tat org.eclipse.wst.server.core.internal.PublishServerJob.run(PublishServerJob.java:145)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)\n!SUBENTRY 1 org.eclipse.core.runtime 0 0 2006-01-30 11:55:21.215\n!MESSAGE OK\n\n\nThis is because the AbstractModuleAssembler in the doPackModule method is always assuming an IFile instance and in this external case, this is not correct.\n\nJ2EE changes released Mon 1/30/06.",
    "Created an attachment (id\u003d33799)\nPossible patch\n\nAttaching potential patch for this problem.",
    "Gorkem - Can you review the patch and release to 1.0.1 if you agree with this change? To support external jar files (bug 116783), IModuleFile support adapting to IFile or plain old File now.",
    "I had to release this plugin to do 125257 at David\u0027s request, so I released this fix as well. The fix will be in this week\u0027s M-build.",
    "Verified."
  ],
  "commentCreationDates": [
    "2006-01-30T17:06:45+01:00",
    "2006-01-30T17:33:54+01:00",
    "2006-01-30T17:36:01+01:00",
    "2006-01-31T16:15:27+01:00",
    "2006-06-16T19:58:12+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jst.server.generic.core.internal.publishers.ModulePackager.write",
          "source": "ModulePackager.java:107"
        },
        {
          "method": "org.eclipse.jst.server.generic.core.internal.publishers.AbstractModuleAssembler.doPackModule",
          "source": "AbstractModuleAssembler.java:123"
        },
        {
          "method": "org.eclipse.jst.server.generic.core.internal.publishers.AbstractModuleAssembler.doPackModule",
          "source": "AbstractModuleAssembler.java:118"
        },
        {
          "method": "org.eclipse.jst.server.generic.core.internal.publishers.AbstractModuleAssembler.doPackModule",
          "source": "AbstractModuleAssembler.java:118"
        },
        {
          "method": "org.eclipse.jst.server.generic.core.internal.publishers.AbstractModuleAssembler.packModule",
          "source": "AbstractModuleAssembler.java:74"
        },
        {
          "method": "org.eclipse.jst.server.generic.core.internal.publishers.EarModuleAssembler.assemble",
          "source": "EarModuleAssembler.java:34"
        },
        {
          "method": "org.eclipse.jst.server.generic.core.internal.publishers.AntPublisher.assembleModule",
          "source": "AntPublisher.java:106"
        },
        {
          "method": "org.eclipse.jst.server.generic.core.internal.publishers.AntPublisher.publish",
          "source": "AntPublisher.java:93"
        },
        {
          "method": "org.eclipse.jst.server.generic.core.internal.GenericServerBehaviour.publishModule",
          "source": "GenericServerBehaviour.java:90"
        },
        {
          "method": "org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publishModule",
          "source": "ServerBehaviourDelegate.java:668"
        },
        {
          "method": "org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publishModules",
          "source": "ServerBehaviourDelegate.java:748"
        },
        {
          "method": "org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish",
          "source": "ServerBehaviourDelegate.java:606"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.Server.doPublish",
          "source": "Server.java:801"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.Server.publish",
          "source": "Server.java:789"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.PublishServerJob.run",
          "source": "PublishServerJob.java:145"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:76"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "125721",
      "date": "2006-01-30T17:06:45+01:00",
      "product": "Web Tools",
      "component": "jst.server",
      "severity": "major"
    }
  ],
  "groupId": "125721",
  "bugId": "125721",
  "date": "2006-01-30T17:06:45+01:00",
  "product": "Web Tools",
  "component": "jst.server",
  "severity": "major"
}