{
  "comments": [
    "This is reminiscent of bug 119111 which we fixed, though the exception is\ndifferent here:\n\n1. Started WTP 1.5 (SDK) on Sun java full version \"1.4.2_05-b04\".\n2. Chose a new workspace.\n3. Created a new Dynamic Web Project, changing the version of the Java facet\nfrom 6.0 to 1.4, and leaving all other defaults intact.\n4. Created a new Java class, \"examples.Echo\", with a single business method\ntaking and returning a String.\n5. Selected the class and chose New ... Web Services - Web Service.\n6. Observed the message in the banner of the first page of the wizard \"No\nserver has been selected. The Web service will not be deployed, installed, or\nrun.\"\n7. Clicked Finish on the first page.\n8. Received an IWAB0014E Unexpected Exception with the trace below:\n\njava.lang.NullPointerException\n      at\norg.eclipse.jst.ws.internal.consumption.command.common.CreateFacetedProjectCommand.execute(CreateFacetedProjectCommand.java:149)\n      at\norg.eclipse.jst.ws.internal.creation.ui.extension.PreServiceAssembleCommand.execute(PreServiceAssembleCommand.java:85)\n      at\norg.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.runCommand(CommandFragmentEngine.java:413)",
    "The problem actually happens regardless of whether there\u0027s a server runtime installed or not.  It happens whenever the dynamic Web project does not have a target runtime.  The CreateFacetedProjectCommand has a NPE when trying to add the default facet to the EAR.  I\u0027ve corrected that command to bypass adding default facet to the EAR when there\u0027s no facetRuntime.  I\u0027ve also updated the code to assume that the project does not need EAR if the serverId is null (when the project does not have a target runtime).  The following commands are updated:\n\n- ClientRuntimeSelectionWidgetDefaultingCommand\n- ServerRuntimeSelectionWidgetDefaultingCommand\n- ValidationUtils",
    "Created an attachment (id\u003d49437)\nMulti plugin patch \n\n",
    "Requesting approval for WTP 1.5.1.\n\nSymptom:  Exception when going through Web service wizard with dynamic Web project not targetted to any server.\n\nFix:  Simple fixes to 4 files to check for cases when server id is null and facet runtime is null.\n\nPatch is included above.",
    "Targetted to 1.5.1.",
    "Looks good Kathy. Reviewed, approved and committed.",
    "Released to HEAD and R1_5_Maintenance under tag v200609062128.",
    "Verified on WTP 1.5.1 200609220504."
  ],
  "commentCreationDates": [
    "2006-09-05T19:25:19+02:00",
    "2006-09-05T22:27:02+02:00",
    "2006-09-05T22:57:31+02:00",
    "2006-09-05T22:59:42+02:00",
    "2006-09-06T14:25:38+02:00",
    "2006-09-06T21:27:47+02:00",
    "2006-09-06T23:32:39+02:00",
    "2006-09-22T17:07:49+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jst.ws.internal.consumption.command.common.CreateFacetedProjectCommand.execute",
          "source": "CreateFacetedProjectCommand.java:149"
        },
        {
          "method": "org.eclipse.jst.ws.internal.creation.ui.extension.PreServiceAssembleCommand.execute",
          "source": "PreServiceAssembleCommand.java:85"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.runCommand",
          "source": "CommandFragmentEngine.java:413"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "156230",
      "date": "2006-09-05T19:25:19+02:00",
      "product": "Web Tools",
      "component": "jst.ws",
      "severity": "major"
    }
  ],
  "groupId": "156230",
  "bugId": "156230",
  "date": "2006-09-05T19:25:19+02:00",
  "product": "Web Tools",
  "component": "jst.ws",
  "severity": "major"
}