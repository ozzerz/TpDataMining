{
  "comments": [
    "I\u0027m not sure if this is a Core or JDT issue. Whoever generates this message needs to improve the grammar and make it clearer why my fix failed.\n\nThe fix \u0027Add type parameters to \u0027Class\u0027\u0027 did generate a null change.\n\nshould be \n\nThe fix \u0027Add type parameters to \u0027Class\u0027\u0027 generated a null change.\n\nHaving said that I am not sure why my Quick Fix failed and if it is not valid we should not have it enabled for me to select.\n\nSTEPS\n1) Load org.eclipse.ui.examples.job\n2) Open the class ProgressExampleAdapterFactory\n3) In the problems view select Show-\u003e Warnings on Selection from the toolbar menu\n4) Select  \"Class is a raw type. References to generic type Class\u003cT\u003e should be parameterized\t\"\n5) Select Quick Fix\n6) Select Add Type parameters to class\n7) I got the following exception (although I am not getting it now so I suspect there was some inconsistent state going on).\n\n\n!ENTRY org.eclipse.jdt.ui 4 10001 2007-12-11 09:40:41.898\n!MESSAGE Internal Error\n!STACK 1\norg.eclipse.core.runtime.CoreException: The fix \u0027Add type parameters to \u0027Class\u0027\u0027 did generate a null change.\n\tat org.eclipse.jdt.internal.corext.fix.CompilationUnitRewriteOperationsFix.createChange(CompilationUnitRewriteOperationsFix.java:104)\n\tat org.eclipse.jdt.internal.ui.text.correction.proposals.FixCorrectionProposal.createTextChange(FixCorrectionProposal.java:151)\n\tat org.eclipse.jdt.internal.ui.text.correction.proposals.CUCorrectionProposal.createChange(CUCorrectionProposal.java:478)\n\tat org.eclipse.jdt.internal.ui.text.correction.proposals.ChangeCorrectionProposal.getChange(ChangeCorrectionProposal.java:229)\n\tat org.eclipse.jdt.internal.ui.text.correction.proposals.ChangeCorrectionProposal.performChange(ChangeCorrectionProposal.java:105)\n\tat org.eclipse.jdt.internal.ui.text.correction.proposals.CUCorrectionProposal.performChange(CUCorrectionProposal.java:344)\n\tat org.eclipse.jdt.internal.ui.text.correction.proposals.CUCorrectionProposal.apply(CUCorrectionProposal.java:322)\n\tat org.eclipse.jdt.internal.ui.text.correction.CorrectionMarkerResolutionGenerator$CorrectionMarkerResolution.run(CorrectionMarkerResolutionGenerator.java:117)\n\tat org.eclipse.jdt.internal.ui.text.correction.CorrectionMarkerResolutionGenerator$CorrectionMarkerResolution.run(CorrectionMarkerResolutionGenerator.java:130)\n\tat org.eclipse.ui.internal.provisional.views.markers.QuickFixPage$11.run(QuickFixPage.java:543)\n\tat org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:407)\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:347)\n\tat org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:934)\n\tat org.eclipse.ui.internal.provisional.views.markers.QuickFixPage.performFinish(QuickFixPage.java:532)\n\tat org.eclipse.ui.internal.provisional.views.markers.QuickFixWizard$1.run(QuickFixWizard.java:96)\n\tat org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:407)\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:347)\n\tat org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:934)\n\tat org.eclipse.ui.internal.provisional.views.markers.QuickFixWizard.performFinish(QuickFixWizard.java:105)\n\tat org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:742)\n\tat org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:373)\n\tat org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:623)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:952)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3750)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3361)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:825)\n\tat org.eclipse.jface.window.Window.open(Window.java:801)\n\tat org.eclipse.ui.internal.provisional.views.markers.QuickFixHandler.execute(QuickFixHandler.java:149)\n\tat org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:240)\n\tat org.eclipse.core.commands.Command.executeWithChecks(Command.java:475)\n\tat org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:470)\n\tat org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:165)\n\tat org.eclipse.ui.internal.handlers.SlaveHandlerService.executeCommand(SlaveHandlerService.java:247)\n\tat org.eclipse.ui.menus.CommandContributionItem.handleWidgetSelection(CommandContributionItem.java:612)\n\tat org.eclipse.ui.menus.CommandContributionItem.access$9(CommandContributionItem.java:598)\n\tat org.eclipse.ui.menus.CommandContributionItem$3.handleEvent(CommandContributionItem.java:588)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:952)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3750)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3361)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2381)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2345)\n\tat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2211)\n\tat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:473)\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:288)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:468)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:362)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:175)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:561)\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:501)\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1239)",
    "(In reply to comment #0)\n\u003e should be \n\u003e The fix \u0027Add type parameters to \u0027Class\u0027\u0027 generated a null change.\n\nThanks\n\n\u003e Having said that I am not sure why my Quick Fix failed and if it is not valid\n\u003e we should not have it enabled for me to select.\n\nThat\u0027s exactly why I throw the exception: I want to find this cases. See i.e. bug 211808.\n\n\u003e STEPS\nGiven:\npackage test1;\npublic class E1 {\n\tpublic Class[] get() {\n\t\treturn null;\n\t}\n}\n1. QF add \u0027Class[]\u0027\n2. Select \u0027Add type parameter to \u0027Class\u0027\u0027\nIs:\n Exception is thrown\n\nLooks like a bug in infer type arguments:\nGiven:\npackage test1;\npublic class E1 {\n\tpublic Class[] get() {\n\t\treturn null;\n\t}\n}\n1. Infer type arguments\n2. Do not leave unconstrained raw\nIs:\n no changes\nShould:\npublic Class\u003c?\u003e[] get() {",
    "For M4 if easy to fix...",
    "Created an attachment (id\u003d85069)\nfix\n\nThis seams to be super tough to fix, see bug 166164. I will just disable the quick fix in this situations. I\u0027ve also improved the exception message and added a regression test.",
    "fixed \u003e I20071211-0010",
    "see also bug 212750"
  ],
  "commentCreationDates": [
    "2007-12-11T14:47:45+01:00",
    "2007-12-11T16:17:19+01:00",
    "2007-12-11T16:20:52+01:00",
    "2007-12-12T14:46:38+01:00",
    "2007-12-12T14:48:56+01:00",
    "2007-12-12T14:49:48+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.runtime.CoreException",
      "message": "The fix \u0027Add type parameters to \u0027Class\u0027\u0027 did generate a null change.",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.corext.fix.CompilationUnitRewriteOperationsFix.createChange",
          "source": "CompilationUnitRewriteOperationsFix.java:104"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.correction.proposals.FixCorrectionProposal.createTextChange",
          "source": "FixCorrectionProposal.java:151"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.correction.proposals.CUCorrectionProposal.createChange",
          "source": "CUCorrectionProposal.java:478"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.correction.proposals.ChangeCorrectionProposal.getChange",
          "source": "ChangeCorrectionProposal.java:229"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.correction.proposals.ChangeCorrectionProposal.performChange",
          "source": "ChangeCorrectionProposal.java:105"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.correction.proposals.CUCorrectionProposal.performChange",
          "source": "CUCorrectionProposal.java:344"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.correction.proposals.CUCorrectionProposal.apply",
          "source": "CUCorrectionProposal.java:322"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.correction.CorrectionMarkerResolutionGenerator$CorrectionMarkerResolution.run",
          "source": "CorrectionMarkerResolutionGenerator.java:117"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.correction.CorrectionMarkerResolutionGenerator$CorrectionMarkerResolution.run",
          "source": "CorrectionMarkerResolutionGenerator.java:130"
        },
        {
          "method": "org.eclipse.ui.internal.provisional.views.markers.QuickFixPage$11.run",
          "source": "QuickFixPage.java:543"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:407"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:347"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.run",
          "source": "WizardDialog.java:934"
        },
        {
          "method": "org.eclipse.ui.internal.provisional.views.markers.QuickFixPage.performFinish",
          "source": "QuickFixPage.java:532"
        },
        {
          "method": "org.eclipse.ui.internal.provisional.views.markers.QuickFixWizard$1.run",
          "source": "QuickFixWizard.java:96"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:407"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:347"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.run",
          "source": "WizardDialog.java:934"
        },
        {
          "method": "org.eclipse.ui.internal.provisional.views.markers.QuickFixWizard.performFinish",
          "source": "QuickFixWizard.java:105"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.finishPressed",
          "source": "WizardDialog.java:742"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.buttonPressed",
          "source": "WizardDialog.java:373"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$2.widgetSelected",
          "source": "Dialog.java:623"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:227"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:952"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3750"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3361"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:825"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:801"
        },
        {
          "method": "org.eclipse.ui.internal.provisional.views.markers.QuickFixHandler.execute",
          "source": "QuickFixHandler.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.handlers.HandlerProxy.execute",
          "source": "HandlerProxy.java:240"
        },
        {
          "method": "org.eclipse.core.commands.Command.executeWithChecks",
          "source": "Command.java:475"
        },
        {
          "method": "org.eclipse.core.commands.ParameterizedCommand.executeWithChecks",
          "source": "ParameterizedCommand.java:470"
        },
        {
          "method": "org.eclipse.ui.internal.handlers.HandlerService.executeCommand",
          "source": "HandlerService.java:165"
        },
        {
          "method": "org.eclipse.ui.internal.handlers.SlaveHandlerService.executeCommand",
          "source": "SlaveHandlerService.java:247"
        },
        {
          "method": "org.eclipse.ui.menus.CommandContributionItem.handleWidgetSelection",
          "source": "CommandContributionItem.java:612"
        },
        {
          "method": "org.eclipse.ui.menus.CommandContributionItem.access$9",
          "source": "CommandContributionItem.java:598"
        },
        {
          "method": "org.eclipse.ui.menus.CommandContributionItem$3.handleEvent",
          "source": "CommandContributionItem.java:588"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:952"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3750"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3361"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2381"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2345"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2211"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:473"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:288"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:468"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:193"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:362"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:175"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:597"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:561"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:501"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1239"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "212557",
      "date": "2007-12-11T14:47:45+01:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "212557",
  "bugId": "212557",
  "date": "2007-12-11T14:47:45+01:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}