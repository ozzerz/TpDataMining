{
  "comments": [
    "When I am running the ProvAdminUI launch configuration and my workspace is targeting an Eclipse 3.3 build, I have no problems.\n\nBut when I run with OSGi from HEAD or target a later build (0904 specifically), I get the following error when trying to create a new metadata or artifact repository. (the default ones are added OK)\n\n!ENTRY org.eclipse.equinox.prov.ui 4 0 2007-09-12 14:01:35.005\n!MESSAGE \n!STACK 0\ncom.thoughtworks.xstream.converters.ConversionException: org.eclipse.equinox.internal.prov.metadata.repository.LocalMetadataRepository : org.eclipse.equinox.internal.prov.metadata.repository.LocalMetadataRepository\n---- Debugging information ----\nmessage             : org.eclipse.equinox.internal.prov.metadata.repository.LocalMetadataRepository : org.eclipse.equinox.internal.prov.metadata.repository.LocalMetadataRepository\ncause-exception     : com.thoughtworks.xstream.mapper.CannotResolveClassException\ncause-message       : org.eclipse.equinox.internal.prov.metadata.repository.LocalMetadataRepository : org.eclipse.equinox.internal.prov.metadata.repository.LocalMetadataRepository\nclass               : [Ljava.lang.Object;\nrequired-type       : [Ljava.lang.Object;\npath                : /object-array/org.eclipse.equinox.internal.prov.metadata.repository.LocalMetadataRepository\nline number         : 2\n-------------------------------\n\tat com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:63)\n\tat com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert(AbstractReferenceUnmarshaller.java:45)\n\tat com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother(TreeUnmarshaller.java:46)\n\tat com.thoughtworks.xstream.core.TreeUnmarshaller.start(TreeUnmarshaller.java:117)\n\tat com.thoughtworks.xstream.core.ReferenceByXPathMarshallingStrategy.unmarshal(ReferenceByXPathMarshallingStrategy.java:29)\n\tat com.thoughtworks.xstream.XStream.unmarshal(XStream.java:832)\n\tat com.thoughtworks.xstream.XStream.unmarshal(XStream.java:819)\n\tat com.thoughtworks.xstream.XStream.fromXML(XStream.java:775)\n\tat org.eclipse.equinox.internal.prov.metadata.repository.MetadataRepositoryIO.readMetadata(MetadataRepositoryIO.java:36)\n\tat org.eclipse.equinox.internal.prov.metadata.repository.LocalMetadataRepository.load(LocalMetadataRepository.java:94)\n\tat org.eclipse.equinox.internal.prov.metadata.repository.LocalMetadataRepository.\u003cinit\u003e(LocalMetadataRepository.java:53)\n\tat org.eclipse.equinox.internal.prov.metadata.repository.LocalMetadataRepository.\u003cinit\u003e(LocalMetadataRepository.java:44)\n\tat org.eclipse.equinox.prov.metadata.repository.MetadataRepositoryManager.addRepository(MetadataRepositoryManager.java:83)\n\tat org.eclipse.equinox.prov.ui.ProvisioningUtil.addMetadataRepository(ProvisioningUtil.java:48)\n\tat org.eclipse.equinox.prov.ui.operations.AddMetadataRepositoryOperation.doExecute(AddMetadataRepositoryOperation.java:34)\n\tat org.eclipse.equinox.prov.ui.operations.ProvisioningOperation.execute(ProvisioningOperation.java:47)\n\tat org.eclipse.core.commands.operations.DefaultOperationHistory.execute(DefaultOperationHistory.java:511)\n\tat org.eclipse.equinox.prov.ui.dialogs.AddRepositoryDialog$2.run(AddRepositoryDialog.java:90)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)\nCaused by: com.thoughtworks.xstream.mapper.CannotResolveClassException: org.eclipse.equinox.internal.prov.metadata.repository.LocalMetadataRepository : org.eclipse.equinox.internal.prov.metadata.repository.LocalMetadataRepository\n\tat com.thoughtworks.xstream.mapper.DefaultMapper.realClass(DefaultMapper.java:49)\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:26)\n\tat com.thoughtworks.xstream.mapper.ClassAliasingMapper.realClass(ClassAliasingMapper.java:72)\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:26)\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:26)\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:26)\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:26)\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:26)\n\tat com.thoughtworks.xstream.mapper.DynamicProxyMapper.realClass(DynamicProxyMapper.java:60)\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:26)\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:26)\n\tat com.thoughtworks.xstream.mapper.ArrayMapper.realClass(ArrayMapper.java:76)\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:26)\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:26)\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:26)\n\tat com.thoughtworks.xstream.mapper.CachingMapper.realClass(CachingMapper.java:34)\n\tat com.thoughtworks.xstream.converters.collections.AbstractCollectionConverter.readItem(AbstractCollectionConverter.java:62)\n\tat com.thoughtworks.xstream.converters.collections.ArrayConverter.unmarshal(ArrayConverter.java:44)\n\tat com.thoughtworks.xstream.core.TreeUnmarshaller.convert(TreeUnmarshaller.java:56)\n\t... 18 more",
    "I believe my steps (for those non-p2 OSGi folk out there :) were...\n\nSetup\n- run Eclipse 3.4 i-build (0904)\n- load equinox-incubator/provisioning/org.eclipse.equinox.prov.releng\n- load extssh project set file\n\nServer Generation\n- Open the Metadata Generator SDK launch config and modify the arguments appropriately\n\nUsing the UI\n- run the ProvAdminUI launch config\n- in the UI add a new repository (doesn\u0027t matter if its a metadata one or artifact one) and point it to the new servers you just generated\n",
    "This is Framework bug introduced by the fix to bug 177007.  We are delegating to boot even when we found a class in a buddy bundle.  I have released a fix to HEAD.",
    "Fixed for 3.4 M2."
  ],
  "commentCreationDates": [
    "2007-09-12T21:46:29+02:00",
    "2007-09-12T22:48:01+02:00",
    "2007-09-13T00:07:35+02:00",
    "2007-09-13T00:08:31+02:00"
  ],
  "traces": [
    {
      "exceptionType": "com.thoughtworks.xstream.converters.ConversionException",
      "message": "org.eclipse.equinox.internal.prov.metadata.repository.LocalMetadataRepository : org.eclipse.equinox.internal.prov.metadata.repository.LocalMetadataRepository ---- Debugging information ---- message             : org.eclipse.equinox.internal.prov.metadata.repository.LocalMetadataRepository : org.eclipse.equinox.internal.prov.metadata.repository.LocalMetadataRepository cause-exception     : com.thoughtworks.xstream.mapper.CannotResolveClassException cause-message       : org.eclipse.equinox.internal.prov.metadata.repository.LocalMetadataRepository : org.eclipse.equinox.internal.prov.metadata.repository.LocalMetadataRepository class               : [Ljava.lang.Object; required-type       : [Ljava.lang.Object; path                : /object-array/org.eclipse.equinox.internal.prov.metadata.repository.LocalMetadataRepository line number         : 2 -------------------------------",
      "elements": [
        {
          "method": "com.thoughtworks.xstream.core.TreeUnmarshaller.convert",
          "source": "TreeUnmarshaller.java:63"
        },
        {
          "method": "com.thoughtworks.xstream.core.AbstractReferenceUnmarshaller.convert",
          "source": "AbstractReferenceUnmarshaller.java:45"
        },
        {
          "method": "com.thoughtworks.xstream.core.TreeUnmarshaller.convertAnother",
          "source": "TreeUnmarshaller.java:46"
        },
        {
          "method": "com.thoughtworks.xstream.core.TreeUnmarshaller.start",
          "source": "TreeUnmarshaller.java:117"
        },
        {
          "method": "com.thoughtworks.xstream.core.ReferenceByXPathMarshallingStrategy.unmarshal",
          "source": "ReferenceByXPathMarshallingStrategy.java:29"
        },
        {
          "method": "com.thoughtworks.xstream.XStream.unmarshal",
          "source": "XStream.java:832"
        },
        {
          "method": "com.thoughtworks.xstream.XStream.unmarshal",
          "source": "XStream.java:819"
        },
        {
          "method": "com.thoughtworks.xstream.XStream.fromXML",
          "source": "XStream.java:775"
        },
        {
          "method": "org.eclipse.equinox.internal.prov.metadata.repository.MetadataRepositoryIO.readMetadata",
          "source": "MetadataRepositoryIO.java:36"
        },
        {
          "method": "org.eclipse.equinox.internal.prov.metadata.repository.LocalMetadataRepository.load",
          "source": "LocalMetadataRepository.java:94"
        },
        {
          "method": "org.eclipse.equinox.internal.prov.metadata.repository.LocalMetadataRepository.\u003cinit\u003e",
          "source": "LocalMetadataRepository.java:53"
        },
        {
          "method": "org.eclipse.equinox.internal.prov.metadata.repository.LocalMetadataRepository.\u003cinit\u003e",
          "source": "LocalMetadataRepository.java:44"
        },
        {
          "method": "org.eclipse.equinox.prov.metadata.repository.MetadataRepositoryManager.addRepository",
          "source": "MetadataRepositoryManager.java:83"
        },
        {
          "method": "org.eclipse.equinox.prov.ui.ProvisioningUtil.addMetadataRepository",
          "source": "ProvisioningUtil.java:48"
        },
        {
          "method": "org.eclipse.equinox.prov.ui.operations.AddMetadataRepositoryOperation.doExecute",
          "source": "AddMetadataRepositoryOperation.java:34"
        },
        {
          "method": "org.eclipse.equinox.prov.ui.operations.ProvisioningOperation.execute",
          "source": "ProvisioningOperation.java:47"
        },
        {
          "method": "org.eclipse.core.commands.operations.DefaultOperationHistory.execute",
          "source": "DefaultOperationHistory.java:511"
        },
        {
          "method": "org.eclipse.equinox.prov.ui.dialogs.AddRepositoryDialog$2.run",
          "source": "AddRepositoryDialog.java:90"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:113"
        }
      ],
      "causedBy": {
        "exceptionType": "com.thoughtworks.xstream.mapper.CannotResolveClassException",
        "message": "org.eclipse.equinox.internal.prov.metadata.repository.LocalMetadataRepository : org.eclipse.equinox.internal.prov.metadata.repository.LocalMetadataRepository",
        "elements": [
          {
            "method": "com.thoughtworks.xstream.mapper.DefaultMapper.realClass",
            "source": "DefaultMapper.java:49"
          },
          {
            "method": "com.thoughtworks.xstream.mapper.MapperWrapper.realClass",
            "source": "MapperWrapper.java:26"
          },
          {
            "method": "com.thoughtworks.xstream.mapper.ClassAliasingMapper.realClass",
            "source": "ClassAliasingMapper.java:72"
          },
          {
            "method": "com.thoughtworks.xstream.mapper.MapperWrapper.realClass",
            "source": "MapperWrapper.java:26"
          },
          {
            "method": "com.thoughtworks.xstream.mapper.MapperWrapper.realClass",
            "source": "MapperWrapper.java:26"
          },
          {
            "method": "com.thoughtworks.xstream.mapper.MapperWrapper.realClass",
            "source": "MapperWrapper.java:26"
          },
          {
            "method": "com.thoughtworks.xstream.mapper.MapperWrapper.realClass",
            "source": "MapperWrapper.java:26"
          },
          {
            "method": "com.thoughtworks.xstream.mapper.MapperWrapper.realClass",
            "source": "MapperWrapper.java:26"
          },
          {
            "method": "com.thoughtworks.xstream.mapper.DynamicProxyMapper.realClass",
            "source": "DynamicProxyMapper.java:60"
          },
          {
            "method": "com.thoughtworks.xstream.mapper.MapperWrapper.realClass",
            "source": "MapperWrapper.java:26"
          },
          {
            "method": "com.thoughtworks.xstream.mapper.MapperWrapper.realClass",
            "source": "MapperWrapper.java:26"
          },
          {
            "method": "com.thoughtworks.xstream.mapper.ArrayMapper.realClass",
            "source": "ArrayMapper.java:76"
          },
          {
            "method": "com.thoughtworks.xstream.mapper.MapperWrapper.realClass",
            "source": "MapperWrapper.java:26"
          },
          {
            "method": "com.thoughtworks.xstream.mapper.MapperWrapper.realClass",
            "source": "MapperWrapper.java:26"
          },
          {
            "method": "com.thoughtworks.xstream.mapper.MapperWrapper.realClass",
            "source": "MapperWrapper.java:26"
          },
          {
            "method": "com.thoughtworks.xstream.mapper.CachingMapper.realClass",
            "source": "CachingMapper.java:34"
          },
          {
            "method": "com.thoughtworks.xstream.converters.collections.AbstractCollectionConverter.readItem",
            "source": "AbstractCollectionConverter.java:62"
          },
          {
            "method": "com.thoughtworks.xstream.converters.collections.ArrayConverter.unmarshal",
            "source": "ArrayConverter.java:44"
          },
          {
            "method": "com.thoughtworks.xstream.core.TreeUnmarshaller.convert",
            "source": "TreeUnmarshaller.java:56"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "203135",
      "date": "2007-09-12T21:46:29+02:00",
      "product": "Equinox",
      "component": "Framework",
      "severity": "normal"
    }
  ],
  "groupId": "203135",
  "bugId": "203135",
  "date": "2007-09-12T21:46:29+02:00",
  "product": "Equinox",
  "component": "Framework",
  "severity": "normal"
}