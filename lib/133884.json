{
  "comments": [
    "In our batch headless product, the following exception started occurring recently while we created and configured projects:\n\n!ENTRY org.eclipse.core.runtime 4 2 2006-03-29 12:08:39.78\n!MESSAGE An internal error occurred during: \"J2EEComponentLinkAdditionJob\".\n!STACK 0\njava.lang.IllegalArgumentException: Path must include project and resource name:\n /MyProject\n        at org.eclipse.core.internal.utils.Assert.isLegal(Assert.java:60)\n        at org.eclipse.core.internal.resources.Workspace.newResource(Workspace.j\nava:1556)\n        at org.eclipse.core.internal.resources.Container.getFolder(Container.jav\na:139)\n        at org.eclipse.wst.common.componentcore.internal.resources.VirtualContai\nner.createLink(VirtualContainer.java:251)\n        at org.eclipse.jst.j2ee.refactor.listeners.J2EEElementChangedListener$1.\nrunInWorkspace(J2EEElementChangedListener.java:113)\n        at org.eclipse.core.internal.resources.InternalWorkspaceJob.run(Internal\nWorkspaceJob.java:38)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)\n\nI\u0027m not sure if this has any adverse effects yet but it certainly looks like it might. I\u0027m using the WTP 1.0.2 200603160607 build.",
    "That is triggered when a src path is added for the project root; the call to createLink() is being made with a zero-segment Path, however, the Path does not have a leading separator (J2EEElementChangeListener is removing the first segment from a relative path to create an empty path) so the test for isRoot() fails in VirtualComponent (I don\u0027t think it should be making this check since the method asks for a project relative path) and instead an attempt is made to call \"resource \u003d getProject().getFolder(aProjectRelativeLocation);\" which obviously fails - other than generating an error message and failing to automatically add a mapping to the .component file, this should not have other negative consequences.\n\nAlthough this could be fixed in J2EEElementChangeListener, I think the correct fix is in VirtualComponent (include a check for isEmpty()); I\u0027ve verified this and will attach a patch. \n\n",
    "Created an attachment (id\u003d37251)\nPatch for VirtualContainer.java\n\nNote: this is a patch of the R1_0_maintenance version",
    "John - sending your way for patch eval/commit",
    "Please consider this for inclusion in WTP 1.0.2.\n\nThanks,\nYen",
    "This patch has been reviewed and tested.  It is released for the 1.5 WTP 040306 build and awaiting PMC approval for inclusion in WTP 1.0.2.\n\nThanks, Rob.",
    "With no PMC objections, this is released for the 040406 WTP 1.0.2 build.",
    "I verified the patch on top of 200603160607.",
    "+1 for WTP 1.0.2 RC",
    "OK"
  ],
  "commentCreationDates": [
    "2006-03-29T18:09:46+02:00",
    "2006-03-29T23:06:48+02:00",
    "2006-03-29T23:08:41+02:00",
    "2006-03-29T23:09:33+02:00",
    "2006-03-30T02:51:57+02:00",
    "2006-03-31T17:02:23+02:00",
    "2006-04-03T16:53:35+02:00",
    "2006-04-03T16:55:50+02:00",
    "2006-04-03T20:50:39+02:00",
    "2006-06-13T17:29:04+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Path must include project and resource name:  /MyProject",
      "elements": [
        {
          "method": "org.eclipse.core.internal.utils.Assert.isLegal",
          "source": "Assert.java:60"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.newResource",
          "source": "Workspace.j ava:1556"
        },
        {
          "method": "org.eclipse.core.internal.resources.Container.getFolder",
          "source": "Container.jav a:139"
        },
        {
          "method": "org.eclipse.wst.common.componentcore.internal.resources.VirtualContainer.createLink",
          "source": "VirtualContainer.java:251"
        },
        {
          "method": "org.eclipse.jst.j2ee.refactor.listeners.J2EEElementChangedListener$1.runInWorkspace",
          "source": "J2EEElementChangedListener.java:113"
        },
        {
          "method": "org.eclipse.core.internal.resources.InternalWorkspaceJob.run",
          "source": "Internal WorkspaceJob.java:38"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:76"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "133884",
      "date": "2006-03-29T18:09:46+02:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "major"
    }
  ],
  "groupId": "133884",
  "bugId": "133884",
  "date": "2006-03-29T18:09:46+02:00",
  "product": "Web Tools",
  "component": "jst.j2ee",
  "severity": "major"
}