{
  "comments": [
    "RC3a\nwhenever I exit Eclipse with some small test workspace,\nI get the following NPE:\n\n!SESSION Mar 21, 2003 16:04:43.492 ---------------------------------------------\njava.version\u003d1.4.1-beta\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_US\nCommand-line arguments: -os win32 -ws win32 -arch x86 -install \nfile:D:/eclipse/rt/eclipse/\n!ENTRY org.eclipse.core.runtime 4 2 Mar 21, 2003 16:04:43.492\n!MESSAGE Problems occurred when invoking code from plug-\nin: \"org.eclipse.core.runtime\".\n!STACK 0\njava.lang.NullPointerException\n\tat org.eclipse.jdt.internal.core.search.indexing.IndexManager.shutdown\n(IndexManager.java:511)\n\tat org.eclipse.jdt.internal.core.JavaModelManager.shutdown\n(JavaModelManager.java:1550)\n\tat org.eclipse.jdt.core.JavaCore.shutdown(JavaCore.java:3004)\n\tat org.eclipse.core.internal.plugins.PluginRegistry$2.run\n(PluginRegistry.java:283)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:937)\n\tat org.eclipse.core.internal.plugins.PluginRegistry$1.visit\n(PluginRegistry.java:296)\n\tat org.eclipse.core.internal.plugins.PluginRegistry.accept\n(PluginRegistry.java:55)\n\tat org.eclipse.core.internal.plugins.PluginRegistry.shutdownPlugins\n(PluginRegistry.java:299)\n\tat org.eclipse.core.internal.plugins.PluginRegistry.shutdown\n(PluginRegistry.java:265)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.loaderShutdown\n(InternalPlatform.java:518)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.shutdown\n(InternalBootLoader.java:979)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:850)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:291)\n\tat org.eclipse.core.launcher.Main.run(Main.java:747)\n\tat org.eclipse.core.launcher.Main.main(Main.java:583)\n\n\nTo reproduce\n- download the workspace from http://www.weinand.org/eclipse/workspace.zip (its \nbeing uploaded so wait for another 30 minutes).\n- Unzip and copy the workspace into the same directory where Eclipse lives.\n- Start Eclipse and quit immediately.\n- open the .log file. There should be a new entry at the end.",
    "In this code,\n\n\tIIndex[] selectedIndexes \u003d indexSelector.getIndexes();\n\tSimpleLookupTable knownPaths \u003d new SimpleLookupTable();\n\tfor (int i \u003d 0, max \u003d selectedIndexes.length; i \u003c max; i++) {\n\t\tString path \u003d selectedIndexes[i].getIndexFile().getAbsolutePath();\n\t\tknownPaths.put(path, path);\n\t}\n\ngetIndexes() can return a collection which contains null entries, if some index\nneeds to be created.\nSo a fix would be to add a null check in the for loop.\n\tIIndex[] selectedIndexes \u003d indexSelector.getIndexes();\n\tSimpleLookupTable knownPaths \u003d new SimpleLookupTable();\n\tfor (int i \u003d 0, max \u003d selectedIndexes.length; i \u003c max; i++) {\n                IIndex selectedIndex \u003d selectedIndexes[i];\n                if (selectedIndex !\u003d null) {\n                     String path \u003d selectedIndex.getIndexFile().getAbsolutePath();\n\t\t     knownPaths.put(path, path);\n                }\n\t}",
    "Created an attachment (id\u003d4289)\nPatch for this NPE\n\nApplying this patch fixed the problem on my machine.",
    "Null indexes could be computed incorrectly as a consequence of fix for bug \n35306. This is a regression.\n\nNeed to be fixed for RC4 (null indexes are simply to be ignored).",
    "Created an attachment (id\u003d4290)\nBetter fix for this issue\n\n#getIndexes() must not answer null indexes, since clients do not expect this.\nAlso the problem may occur elsewhere than during shutdown (whenever a search\njob is running without waiting for indexing to have finished).",
    "Patch verified.",
    "+1",
    "Is this a regression of Bug 33462?  I am seeing it in RC3b.",
    "No, this is a different problem. In fact, this is a consequence of fixing bug \n35306.\n\nFix is not yet released (that\u0027s why you\u0027re seeing it in RC3b)",
    "*** Bug 35608 has been marked as a duplicate of this bug. ***",
    "*** Bug 35642 has been marked as a duplicate of this bug. ***",
    "Fix released for integration",
    "Verified."
  ],
  "commentCreationDates": [
    "2003-03-21T15:28:17+01:00",
    "2003-03-21T17:15:11+01:00",
    "2003-03-21T17:19:47+01:00",
    "2003-03-21T17:22:03+01:00",
    "2003-03-21T17:25:32+01:00",
    "2003-03-21T17:38:05+01:00",
    "2003-03-21T17:44:11+01:00",
    "2003-03-24T16:02:18+01:00",
    "2003-03-24T22:09:32+01:00",
    "2003-03-24T22:12:39+01:00",
    "2003-03-25T14:51:40+01:00",
    "2003-03-25T17:01:05+01:00",
    "2003-03-28T11:46:03+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.IndexManager.shutdown",
          "source": "IndexManager.java:511"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelManager.shutdown",
          "source": "JavaModelManager.java:1550"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore.shutdown",
          "source": "JavaCore.java:3004"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginRegistry$2.run",
          "source": "PluginRegistry.java:283"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:937"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginRegistry$1.visit",
          "source": "PluginRegistry.java:296"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginRegistry.accept",
          "source": "PluginRegistry.java:55"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginRegistry.shutdownPlugins",
          "source": "PluginRegistry.java:299"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginRegistry.shutdown",
          "source": "PluginRegistry.java:265"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.loaderShutdown",
          "source": "InternalPlatform.java:518"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.shutdown",
          "source": "InternalBootLoader.java:979"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:850"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:291"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:747"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:583"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "35473",
      "date": "2003-03-21T15:28:17+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "35473",
  "bugId": "35473",
  "date": "2003-03-21T15:28:17+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}