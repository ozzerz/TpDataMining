{
  "comments": [
    "After switching between the resource and java perspectives the open and close\nproject menu entries (in the menu bar) are always disabled when the java\nperspective is the active one.\nThe popup menu still works as expected.",
    "I see a similar problme with 3.1 M6 Win2k3.\nWhen this happens i find the following stacktrace in the .log file:\n\n!ENTRY org.eclipse.ui 4 0 2005-04-21 16:47:29.911\n!MESSAGE org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart\n!STACK 0\njava.lang.ClassCastException:\norg.eclipse.jdt.internal.ui.packageview.PackageExplorerPart\n\tat\norg.epic.core.popupmenus.TogglePerlNatureActionDelegate.setActivePart(TogglePerlNatureActionDelegate.java:40)\n\tat\norg.eclipse.ui.internal.ObjectPluginAction.setActivePart(ObjectPluginAction.java:66)\n\tat\norg.eclipse.ui.internal.ObjectActionContributor.contributeObjectActions(ObjectActionContributor.java:135)\n\tat\norg.eclipse.ui.internal.ObjectActionContributorManager.contributeObjectActions(ObjectActionContributorManager.java:137)\n\tat\norg.eclipse.ui.internal.PopupMenuExtender.addObjectActions(PopupMenuExtender.java:201)\n\tat\norg.eclipse.ui.internal.PopupMenuExtender.menuAboutToShow(PopupMenuExtender.java:226)\n\tat org.eclipse.jface.action.MenuManager.fireAboutToShow(MenuManager.java:285)\n\tat org.eclipse.jface.action.MenuManager.handleAboutToShow(MenuManager.java:372)\n\tat org.eclipse.jface.action.MenuManager.access$0(MenuManager.java:369)\n\tat org.eclipse.jface.action.MenuManager$2.menuShown(MenuManager.java:386)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:116)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:866)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:847)\n\tat org.eclipse.swt.widgets.Control.WM_INITMENUPOPUP(Control.java:3327)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:3055)\n\tat org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1493)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:3466)\n\tat org.eclipse.swt.internal.win32.OS.TrackPopupMenu(Native Method)\n\tat org.eclipse.swt.widgets.Menu._setVisible(Menu.java:225)\n\tat org.eclipse.swt.widgets.Display.runPopups(Display.java:2920)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2521)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1570)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1534)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:306)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:156)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:315)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:268)\n\tat org.eclipse.core.launcher.Main.run(Main.java:942)\n\tat org.eclipse.core.launcher.Main.main(Main.java:926)\n",
    "Christophe,\n\nthe exception happens in \n\norg.epic.core.popupmenus.TogglePerlNatureActionDelegate.setActivePart\n\nwhich isn\u0027t eclipse code. Please report the problem to the provide of the\nplug-in you are using.",
    "(In reply to comment #2)\n\u003e Christophe,\n\u003e \n\u003e the exception happens in \n\u003e \n\u003e org.epic.core.popupmenus.TogglePerlNatureActionDelegate.setActivePart\n\u003e \n\u003e which isn\u0027t eclipse code. Please report the problem to the provide of the\n\u003e plug-in you are using.\n\nSorry, dirk: i don\u0027t have any org.epic... plugin, and the bug is still present\non a vanilla M6 installation.\n\nDo you need some more feedback on how to reproduce it?\n--\nChristophe\n",
    "(In reply to comment #2)\n\u003e Christophe,\n\u003e \n\u003e the exception happens in \n\u003e \n\u003e org.epic.core.popupmenus.TogglePerlNatureActionDelegate.setActivePart\n\u003e \n\u003e which isn\u0027t eclipse code. Please report the problem to the provide of the\n\u003e plug-in you are using.\n\nThat may be the case, but the CCE happened inside eclipse code. Eclipse did not\ncheck for the type before casting. It needs to be robust against mis-behaving\nplugins. A bad plugin shouldn\u0027t be allowed to wreak havoc on the entire\napplication. A CCE inside of EPIC should not break project open/close project\nfunctionality.\n\n",
    "\n\n*** This bug has been marked as a duplicate of 91502 ***"
  ],
  "commentCreationDates": [
    "2004-11-27T16:25:47+01:00",
    "2005-04-22T02:12:25+02:00",
    "2005-04-22T10:33:12+02:00",
    "2005-04-22T18:10:21+02:00",
    "2005-04-26T01:13:21+02:00",
    "2005-04-26T11:50:38+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart",
      "elements": [
        {
          "method": "org.epic.core.popupmenus.TogglePerlNatureActionDelegate.setActivePart",
          "source": "TogglePerlNatureActionDelegate.java:40"
        },
        {
          "method": "org.eclipse.ui.internal.ObjectPluginAction.setActivePart",
          "source": "ObjectPluginAction.java:66"
        },
        {
          "method": "org.eclipse.ui.internal.ObjectActionContributor.contributeObjectActions",
          "source": "ObjectActionContributor.java:135"
        },
        {
          "method": "org.eclipse.ui.internal.ObjectActionContributorManager.contributeObjectActions",
          "source": "ObjectActionContributorManager.java:137"
        },
        {
          "method": "org.eclipse.ui.internal.PopupMenuExtender.addObjectActions",
          "source": "PopupMenuExtender.java:201"
        },
        {
          "method": "org.eclipse.ui.internal.PopupMenuExtender.menuAboutToShow",
          "source": "PopupMenuExtender.java:226"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.fireAboutToShow",
          "source": "MenuManager.java:285"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.handleAboutToShow",
          "source": "MenuManager.java:372"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.access$0",
          "source": "MenuManager.java:369"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager$2.menuShown",
          "source": "MenuManager.java:386"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:116"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:842"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:866"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:847"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.WM_INITMENUPOPUP",
          "source": "Control.java:3327"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:3055"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.windowProc",
          "source": "Decorations.java:1493"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:3466"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.TrackPopupMenu",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Menu._setVisible",
          "source": "Menu.java:225"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runPopups",
          "source": "Display.java:2920"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2521"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1570"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1534"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:306"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:228"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:344"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:156"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:315"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:268"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:942"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:926"
        }
      ],
      "number": 0,
      "commentIndex": 1,
      "bugId": "79622",
      "duplicateId": "91502",
      "date": "2005-04-22T02:12:25+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "91409",
  "bugId": "79622",
  "duplicateId": "91502",
  "date": "2004-11-27T16:25:47+01:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}