{
  "comments": [
    "Using eclipse.buildId\u003dI20070516-0800\njava.version\u003d1.6.0_02-ea\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003dfr_CA\nFramework arguments:  -startup D:\\eclipse\\I0516\\eclipse\\plugins\\org.eclipse.equinox.launcher_1.0.0.v20070515.jar -showlocation\nCommand-line arguments:  -os win32 -ws win32 -arch x86 -startup D:\\eclipse\\I0516\\eclipse\\plugins\\org.eclipse.equinox.launcher_1.0.0.v20070515.jar -debug -consolelog -console -showlocation\n\nI got this NPE trying to exclude part of a patch. Is this related to the old model ?\n\njava.lang.NullPointerException\n\tat org.eclipse.compare.internal.patch.Patcher.setEnabledHunk(Patcher.java:581)\n\tat org.eclipse.compare.internal.patch.Patcher.setEnabledFile(Patcher.java:564)\n\tat org.eclipse.compare.internal.patch.Patcher.setEnabled(Patcher.java:549)\n\tat org.eclipse.compare.internal.patch.PatchDiffNode.setEnabled(PatchDiffNode.java:37)\n\tat org.eclipse.compare.internal.patch.PreviewPatchPage2$5.run(PreviewPatchPage2.java:193)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:498)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:545)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:402)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3673)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3284)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\n\tat org.eclipse.jface.window.Window.open(Window.java:796)\n\tat org.eclipse.compare.patch.ApplyPatchOperation.openWizard(ApplyPatchOperation.java:154)\n\tat org.eclipse.compare.patch.ApplyPatchOperation.run(ApplyPatchOperation.java:198)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)\n\tat org.eclipse.compare.internal.patch.CompareWithPatchAction$1.run(CompareWithPatchAction.java:59)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3650)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3287)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2365)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2329)\n\tat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2204)\n\tat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:497)\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:436)\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1162)\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1137)",
    "Would it be possible for you to attach the patch that caused the problem?",
    "This is the patch attached to bug 187329. It is not a workspace patch.",
    "I wanted to apply only the test part and I could not exclude parts inside org.eclipse.jdt.core after I selected the compiler tests project as the location to apply the patch.\nThe part relative to org.eclipse.jdt.core was failing since it is not part of the compiler tests. But I could not exclude them without getting the NPE.",
    "Tomasz, please investigate.",
    "Created an attachment (id\u003d67634)\nPatch\n\nThis looks like an easy one. NPE was thrown due to fact that the patch provided by Olivier wasn\u0027t a workspace patch (it had no information about it\u0027s project). Two simple checks inside Patcher#setEnabledHunk should do the job. At least it works for me now :)",
    "Created an attachment (id\u003d67635)\nmylar/context/zip\n\n",
    "The fix looks safe enough to consider for RC2.",
    "Olivier, could I get you to review the patch. It\u0027s fairly straight forward.",
    "+1. Patch is straight forward and help to exclude part of a patch when the patch is not a workspace patch",
    "+1. Patch reviewed and released to HEAD.",
    "Created an attachment (id\u003d68751)\nSimple test\n\nI\u0027ve been thinking about making the test more high-level (eg. start the test from parsing a non-workspace patch), but I hope the way it works now will also do the job.",
    "Verified in I20070524-1800 and against the attached test.",
    "Tests released."
  ],
  "commentCreationDates": [
    "2007-05-16T21:33:43+02:00",
    "2007-05-16T21:39:39+02:00",
    "2007-05-16T21:41:46+02:00",
    "2007-05-16T21:44:17+02:00",
    "2007-05-16T21:45:59+02:00",
    "2007-05-17T11:29:37+02:00",
    "2007-05-17T11:29:40+02:00",
    "2007-05-17T16:29:14+02:00",
    "2007-05-23T14:54:00+02:00",
    "2007-05-23T15:31:11+02:00",
    "2007-05-23T15:44:28+02:00",
    "2007-05-25T13:03:51+02:00",
    "2007-05-25T13:05:47+02:00",
    "2007-05-25T15:15:08+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.compare.internal.patch.Patcher.setEnabledHunk",
          "source": "Patcher.java:581"
        },
        {
          "method": "org.eclipse.compare.internal.patch.Patcher.setEnabledFile",
          "source": "Patcher.java:564"
        },
        {
          "method": "org.eclipse.compare.internal.patch.Patcher.setEnabled",
          "source": "Patcher.java:549"
        },
        {
          "method": "org.eclipse.compare.internal.patch.PatchDiffNode.setEnabled",
          "source": "PatchDiffNode.java:37"
        },
        {
          "method": "org.eclipse.compare.internal.patch.PreviewPatchPage2$5.run",
          "source": "PreviewPatchPage2.java:193"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:498"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:545"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:490"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:402"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3673"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3284"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:820"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:796"
        },
        {
          "method": "org.eclipse.compare.patch.ApplyPatchOperation.openWizard",
          "source": "ApplyPatchOperation.java:154"
        },
        {
          "method": "org.eclipse.compare.patch.ApplyPatchOperation.run",
          "source": "ApplyPatchOperation.java:198"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:67"
        },
        {
          "method": "org.eclipse.compare.internal.patch.CompareWithPatchAction$1.run",
          "source": "CompareWithPatchAction.java:59"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:123"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3650"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3287"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2365"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2329"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2204"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:466"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:461"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:153"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:363"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:176"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:597"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:497"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:436"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1162"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1137"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "187365",
      "date": "2007-05-16T21:33:43+02:00",
      "product": "Platform",
      "component": "Compare",
      "severity": "normal"
    }
  ],
  "groupId": "187365",
  "bugId": "187365",
  "date": "2007-05-16T21:33:43+02:00",
  "product": "Platform",
  "component": "Compare",
  "severity": "normal"
}