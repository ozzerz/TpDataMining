{
  "comments": [
    "I20050104-1600 + jdt.core v_530a\n\nclass F\u003cT\u003e {\n\tObject[] objectArr;\n\tvoid foo() {\n\t\tT x\u003d (T) objectArr;\n\t}\n}\n\nError 2005-01-10 21:22:57.662 An internal error occurred during: \"Java AST\ncreation\".\njava.lang.ClassCastException\nat\norg.eclipse.jdt.internal.compiler.ast.Expression.checkCastTypesCompatibility(Expression.java:300)\nat\norg.eclipse.jdt.internal.compiler.ast.CastExpression.resolveType(CastExpression.java:376)\nat\norg.eclipse.jdt.internal.compiler.ast.LocalDeclaration.resolve(LocalDeclaration.java:201)\nat\norg.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolveStatements(AbstractMethodDeclaration.java:411)\nat\norg.eclipse.jdt.internal.compiler.ast.MethodDeclaration.resolveStatements(MethodDeclaration.java:160)\nat\norg.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve(AbstractMethodDeclaration.java:389)\nat\norg.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1014)\nat\norg.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1063)\nat\norg.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve(CompilationUnitDeclaration.java:280)\nat\norg.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:651)\nat\norg.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:443)\nat org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:708)\nat org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)\nat\norg.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:563)\nat org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:494)\nat\norg.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:165)\nat\norg.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:142)\nat org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)",
    "Created an attachment (id\u003d17058)\nApply on Expression class in HEAD\n",
    "Cool, that patch does the job. But in the meantime, I found that the other\ndirection suffers from the same / a similar problem\n\nclass F\u003cT\u003e {\n\tvoid foo(T o) {\n\t\tint[] x\u003d (int[]) o;\n\t}\n}\n\nStacktrace with patch applied:\n\njava.lang.ClassCastException\n\tat\norg.eclipse.jdt.internal.compiler.ast.Expression.checkCastTypesCompatibility(Expression.java:331)\n\tat\norg.eclipse.jdt.internal.compiler.ast.CastExpression.resolveType(CastExpression.java:376)\n\tat\norg.eclipse.jdt.internal.compiler.ast.LocalDeclaration.resolve(LocalDeclaration.java:201)\n...",
    "Olivier - I don\u0027t think the patch works. Using the leaf type doesn\u0027t provide the\nright semantics. I have another version in progress, but must still adjust\nwarnings (unsafe cast, unnecessary cast).",
    "New behavior implemented. Added regression test: GenericTypeTest#test454.\nFixed (will released post today\u0027s 2pm integration since too late).",
    "Verified in I20050214"
  ],
  "commentCreationDates": [
    "2005-01-10T20:28:49+01:00",
    "2005-01-10T20:59:36+01:00",
    "2005-01-10T21:23:32+01:00",
    "2005-01-11T09:07:39+01:00",
    "2005-01-11T12:39:52+01:00",
    "2005-02-15T10:40:26+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.Expression.checkCastTypesCompatibility",
          "source": "Expression.java:300"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.CastExpression.resolveType",
          "source": "CastExpression.java:376"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.LocalDeclaration.resolve",
          "source": "LocalDeclaration.java:201"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolveStatements",
          "source": "AbstractMethodDeclaration.java:411"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.resolveStatements",
          "source": "MethodDeclaration.java:160"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve",
          "source": "AbstractMethodDeclaration.java:389"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve",
          "source": "TypeDeclaration.java:1014"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve",
          "source": "TypeDeclaration.java:1063"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve",
          "source": "CompilationUnitDeclaration.java:280"
        },
        {
          "method": "org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve",
          "source": "CompilationUnitResolver.java:651"
        },
        {
          "method": "org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve",
          "source": "CompilationUnitResolver.java:443"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTParser.internalCreateAST",
          "source": "ASTParser.java:708"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTParser.createAST",
          "source": "ASTParser.java:574"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST",
          "source": "ASTProvider.java:563"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST",
          "source": "ASTProvider.java:494"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform",
          "source": "SelectionListenerWithASTManager.java:165"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run",
          "source": "SelectionListenerWithASTManager.java:142"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:66"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "82504",
      "date": "2005-01-10T20:28:49+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.ClassCastException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.Expression.checkCastTypesCompatibility",
          "source": "Expression.java:331"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.CastExpression.resolveType",
          "source": "CastExpression.java:376"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.LocalDeclaration.resolve",
          "source": "LocalDeclaration.java:201"
        }
      ],
      "number": 1,
      "commentIndex": 2,
      "bugId": "82504",
      "date": "2005-01-10T21:23:32+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "82504",
  "bugId": "82504",
  "date": "2005-01-10T20:28:49+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}