{
  "comments": [
    "When opening Key Preferences Page from workbench preferences, Eclipse creates a\nfollowing log entry:\n-------------\n!MESSAGE Failed to execute runnable (java.lang.StackOverflowError)\n!STACK 0\norg.eclipse.swt.SWTException: Failed to execute runnable\n(java.lang.StackOverflowError)\n        at org.eclipse.swt.SWT.error(SWT.java:2367)\n        ...\n-------------\n\nThe key preferences page eventually opens, but when attempting to change\nselected category from the category dropdown, eclipse ends up with a stack\noverflow error. Same happend with other dropdown boxes as well.\nThe stack trace:\n-------------\n*** Stack trace of contained exception ***\n!ENTRY org.eclipse.ui 4 0 Aug 29, 2003 12:37:57.480\n!MESSAGE java.lang.StackOverflowError\n!STACK 0\njava.lang.StackOverflowError\n        at org.eclipse.swt.events.SelectionEvent.\u003cinit\u003e(SelectionEvent.java:92)\n        at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:88)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:953)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:977)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:958)\n        at org.eclipse.swt.widgets.Combo.gtk_changed(Combo.java:745)\n        at org.eclipse.swt.widgets.Widget.windowProc(Widget.java:1174)\n        at org.eclipse.swt.widgets.Display.windowProc(Display.java:2344)\n        at org.eclipse.swt.internal.gtk.OS.gtk_entry_set_text(Native Method)\n        at org.eclipse.swt.widgets.Combo.setText(Combo.java:1216)\n        at org.eclipse.swt.widgets.Combo.select(Combo.java:1050)\n        at\norg.eclipse.ui.internal.commands.KeysPreferencePage.setCommandId(KeysPreferencePage.java:1270)\n        at\norg.eclipse.ui.internal.commands.KeysPreferencePage.setCommandsForCategory(KeysPreferencePage.java:1285)\n        at\norg.eclipse.ui.internal.commands.KeysPreferencePage.update(KeysPreferencePage.java:1353)\n        at\norg.eclipse.ui.internal.commands.KeysPreferencePage.selectedComboCommand(KeysPreferencePage.java:1160)\n        at\norg.eclipse.ui.internal.commands.KeysPreferencePage.access$2(KeysPreferencePage.java:1159)\n        at\norg.eclipse.ui.internal.commands.KeysPreferencePage$3.widgetSelected(KeysPreferencePage.java:637)\n        at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89)\n        .....\n--------------",
    "I also get this error.  I\u0027m attaching the full error log I get from starting\neclipse to eclipse crashing.  This was with eclipse 3.0M3 build ID 200308281813\nrunning on RH Linux 9.  The sequence of events from the user\u0027s perspective is:\n\n1. Start Eclipse\n2. Select Window-\u003ePreferences in the menu bar.\n3. Go to the Workbench/Keys preferences.\n4. Open the \"Category: \" combo and select \"Search\".\n5. *boom*  (A dialog box appears giving the choice between exiting or trying to\ncontinue.)\n\nThis is 100% reproducible.\n",
    "Created an attachment (id\u003d5907)\nThe full error log.  Knock yourself out.\n\nHere\u0027s the log.",
    "*** Bug 42387 has been marked as a duplicate of this bug. ***",
    "Created an attachment (id\u003d5988)\nPatch to KeysPreferencePage\n\nThe problem is caused by multiple invocations of update().  The root cause is\nthat the select(int) and setItems(Object[]) methods on the combo boxes are\nbeing called during the update ... which triggers another update.  The problem\nis further complicated by other things, like GTK not updating the selection\nindex until the call to select(int) completes successfully.\n\nThis patch modifies the update method so that the method can only appear once\non the stack at any time.  The entry and exit to the method are controlled by a\nflag.  This way the method can only be executing once in the system at any\npoint in time.\tThe update method is not thread-safe anyway, so no synchronized\nblocks have been added.",
    "chris: review/apply.",
    "*** Bug 42432 has been marked as a duplicate of this bug. ***",
    "Grant has committed a fix to SWT that fixes this problem as well.  Waiting on\nhis response.  This patch may not be necessary.",
    "The swt fix is adequate for fixing this (actually it wasn\u0027t me that committed \nthe fix).  I tested it by self-hosting the M3 build with swt\u0027s current HEAD \ncontents.\n\nIf you wish you can verify that the change at your level is not needed by \ngetting tonight\u0027s nightly build.\n",
    "cool. i\u0027d prefer not to apply the patch if possible. (safer fix would be to \nwrap update in a try-finally block to make sure that flag will be set false in \ncase of runtime exception..)\n\nour update method should never be reentrant anyway, this was an swt problem. \ndoug please close when swt fix is confirmed..",
    "update:  the nightly Eclipse build (0905) failed to compile.  will check later....",
    "*** Bug 42286 has been marked as a duplicate of this bug. ***",
    "This bug was fixed by SWT.\n\n*** This bug has been marked as a duplicate of 42465 ***"
  ],
  "commentCreationDates": [
    "2003-08-29T12:10:24+02:00",
    "2003-08-29T17:37:53+02:00",
    "2003-08-29T17:39:49+02:00",
    "2003-09-03T20:09:40+02:00",
    "2003-09-04T17:36:09+02:00",
    "2003-09-04T17:36:51+02:00",
    "2003-09-04T17:38:02+02:00",
    "2003-09-04T22:15:32+02:00",
    "2003-09-04T22:53:10+02:00",
    "2003-09-05T14:50:51+02:00",
    "2003-09-05T15:41:27+02:00",
    "2003-09-05T15:53:33+02:00",
    "2003-09-09T15:46:25+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Failed to execute runnable (java.lang.StackOverflowError)",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2367"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "42245",
      "duplicateId": "42465",
      "date": "2003-08-29T12:10:24+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "critical"
    },
    {
      "exceptionType": "java.lang.StackOverflowError",
      "elements": [
        {
          "method": "org.eclipse.swt.events.SelectionEvent.\u003cinit\u003e",
          "source": "SelectionEvent.java:92"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:88"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:953"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:977"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:958"
        },
        {
          "method": "org.eclipse.swt.widgets.Combo.gtk_changed",
          "source": "Combo.java:745"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.windowProc",
          "source": "Widget.java:1174"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:2344"
        },
        {
          "method": "org.eclipse.swt.internal.gtk.OS.gtk_entry_set_text",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Combo.setText",
          "source": "Combo.java:1216"
        },
        {
          "method": "org.eclipse.swt.widgets.Combo.select",
          "source": "Combo.java:1050"
        },
        {
          "method": "org.eclipse.ui.internal.commands.KeysPreferencePage.setCommandId",
          "source": "KeysPreferencePage.java:1270"
        },
        {
          "method": "org.eclipse.ui.internal.commands.KeysPreferencePage.setCommandsForCategory",
          "source": "KeysPreferencePage.java:1285"
        },
        {
          "method": "org.eclipse.ui.internal.commands.KeysPreferencePage.update",
          "source": "KeysPreferencePage.java:1353"
        },
        {
          "method": "org.eclipse.ui.internal.commands.KeysPreferencePage.selectedComboCommand",
          "source": "KeysPreferencePage.java:1160"
        },
        {
          "method": "org.eclipse.ui.internal.commands.KeysPreferencePage.access$2",
          "source": "KeysPreferencePage.java:1159"
        },
        {
          "method": "org.eclipse.ui.internal.commands.KeysPreferencePage$3.widgetSelected",
          "source": "KeysPreferencePage.java:637"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:89"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "42245",
      "duplicateId": "42465",
      "date": "2003-08-29T12:10:24+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "critical"
    }
  ],
  "groupId": "42465",
  "bugId": "42245",
  "duplicateId": "42465",
  "date": "2003-08-29T12:10:24+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "critical"
}