{
  "comments": [
    "In the web service wizard, select a Top-down java scenario.  *Ensure* the service definition field is blank.  Now click on the browse button to bring up the browse dialog, then cancel from that dialog.  Now enter any valid wsdl URL in the service definition field.  There will be 2 symptoms:\n\n1) If you click on browse button again, the URL is not filled inside the browse dialog.\n\n2) Clicking on Next in the wizard results in an NPE:\n\nIWAB0014E Unexpected exception occured.\n  \n      java.lang.NullPointerException\n      at org.eclipse.jst.ws.internal.creation.ui.extension.PreServiceDevelopCommand.execute(PreServiceDevelopCommand.java:113)\n      at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.runCommand(CommandFragmentEngine.java:413)\n      at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.visitTop(CommandFragmentEngine.java:353)\n      at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.moveForwardToNextStop(CommandFragmentEngine.java:251)\n      at org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager$5.run(SimpleCommandEngineManager.java:250)\n      at org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:369)\n      at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:313)\n      at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:851)\n      at org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager.runForwardToNextStop(SimpleCommandEngineManager.java:220)\n      at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.runForwardToNextStop(WizardPageManager.java:94)\n      at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getNextPage(WizardPageManager.java:145)\n      at org.eclipse.wst.command.internal.env.ui.widgets.SimpleWizardPage.getNextPage(SimpleWizardPage.java:136)\n      at org.eclipse.jface.wizard.WizardDialog.nextPressed(WizardDialog.java:751)\n...",
    "This does not seem like a common sequence of steps. Once the NPE occurs, can you try browsing for and/or entering a URL again, and proceed thru the wizard normally? Are there any other, more common, sequences of actions that result in the NPE?\n\nTargetting to 1.5.3 for now.",
    "After the NPE occurs, you can browse for or enter a valid wsdl from within the Browse dialog, then you can proceed through the wizard (However, the next button is disabled and only the finish button can be pressed.  This may be a side-effect of the NPE).\n\nI have not encountered this NPE with other sequences of actions yet.",
    "I also run into a very similar problem without using the Browse button.  Here\u0027s what I did:\n\n1. With no project in the workspace, bring up Web service wizard (Web Services -\u003e Web service).\n2. The default Web service type is bottom-up Java.  Paste in a WSDL URL:\n\nhttp://www.xmethods.net/sd/2001/TemperatureService.wsdl\n\n3. Go back to change Web service type to top-down Java.  The Service Definition field is now blanked out.\n4. Paste in WSDL URL\n\nhttp://www.xmethods.net/sd/2001/TemperatureService.wsdl\n\n5. Move client scale to test.  Check Monitor Web service check box.\n6. Click Finish.\n\nI got this exception:\n\nIWAB0014E Unexpected exception occured.\n  \n      java.lang.NullPointerException\n      at org.eclipse.jst.ws.internal.creation.ui.extension.PreServiceDevelopCommand.execute(Unknown Source)\n      at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.runCommand(Unknown Source)\n      at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.visitTop(Unknown Source)\n      at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.moveForwardToNextStop(Unknown Source)\n      at org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager$5.run(Unknown Source)\n      at org.eclipse.jface.operation.ModalContext.runInCurrentThread(Unknown Source)\n      at org.eclipse.jface.operation.ModalContext.run(Unknown Source)\n      at org.eclipse.jface.wizard.WizardDialog.run(Unknown Source)\n      at org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager.runForwardToNextStop(Unknown Source)\n      at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.runForwardToNextStop(Unknown Source)\n      at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.performFinish(Unknown Source)\n      at org.eclipse.wst.command.internal.env.ui.widgets.DynamicWizard.performFinish(Unknown Source)\n\nHowever, when I tried the same sequence of steps again, I could not reproduce the problem.  \n\nLooking at line 131 in PreServiceDevelopCommand:\n\nString wsdlURL \u003d (String)(selection_.getSelection())[0];\n\nI suspect the problem is the selection is null in this case when the problem occurs.\n\nThe stack trace is identical to 157559 which we were not able to reproduce before.\n",
    "Created an attachment (id\u003d55421)\npatch for org.eclipse.jst.ws.consumption.ui plugin\n\nHere is the cause of the problem: The wizard is attempting to get the object selection from the selection widget (in this case it\u0027s getting the selected wsdl from the WSDLSelectionWidget).  The WSDLSelectionWidget attempts to get the selected wsdl from its internal tree widget, however, it did not account for the fact that the selected wsdl from the tree might be null.  This simple fix adds a null check on the wsdl returned from the tree as well.  It fixes the original symptom and the one reported by Kathy also.",
    "Ready for review and commit, thanks!",
    "Patch reviewed, tested and committed.  Will release later on today.",
    "Released to HEAD and R1_5_maintenance.",
    "Verified in M200701261424. Closing."
  ],
  "commentCreationDates": [
    "2006-10-19T17:27:45+02:00",
    "2006-10-20T14:16:34+02:00",
    "2006-10-21T00:38:19+02:00",
    "2006-11-10T20:05:25+01:00",
    "2006-12-11T18:57:21+01:00",
    "2006-12-11T18:57:59+01:00",
    "2006-12-13T15:07:53+01:00",
    "2006-12-14T04:50:11+01:00",
    "2007-02-01T15:18:40+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jst.ws.internal.creation.ui.extension.PreServiceDevelopCommand.execute",
          "source": "PreServiceDevelopCommand.java:113"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.runCommand",
          "source": "CommandFragmentEngine.java:413"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.visitTop",
          "source": "CommandFragmentEngine.java:353"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.moveForwardToNextStop",
          "source": "CommandFragmentEngine.java:251"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager$5.run",
          "source": "SimpleCommandEngineManager.java:250"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:369"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:313"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.run",
          "source": "WizardDialog.java:851"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager.runForwardToNextStop",
          "source": "SimpleCommandEngineManager.java:220"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.runForwardToNextStop",
          "source": "WizardPageManager.java:94"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getNextPage",
          "source": "WizardPageManager.java:145"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.SimpleWizardPage.getNextPage",
          "source": "SimpleWizardPage.java:136"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.nextPressed",
          "source": "WizardDialog.java:751"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "161589",
      "date": "2006-10-19T17:27:45+02:00",
      "product": "Web Tools",
      "component": "jst.ws",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jst.ws.internal.creation.ui.extension.PreServiceDevelopCommand.execute",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.runCommand",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.visitTop",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.moveForwardToNextStop",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager$5.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager.runForwardToNextStop",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.runForwardToNextStop",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.performFinish",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.DynamicWizard.performFinish",
          "source": "Unknown Source"
        }
      ],
      "number": 1,
      "commentIndex": 3,
      "bugId": "161589",
      "date": "2006-11-10T20:05:25+01:00",
      "product": "Web Tools",
      "component": "jst.ws",
      "severity": "normal"
    }
  ],
  "groupId": "161589",
  "bugId": "161589",
  "date": "2006-10-19T17:27:45+02:00",
  "product": "Web Tools",
  "component": "jst.ws",
  "severity": "normal"
}