{
  "comments": [
    "Build id: I20051122-0800\n\nIf I try to open the archive file export wizard while I have projects with non-local locations, I get a NullPointerException.\n\nWizardFileSystemResourceExportPage1.getConflictingContainerNameFor has this line of problematic code:\n\nif (projects[i].getLocation().isPrefixOf(testPath))\n\nIf the project location is null, this causes the NPE.  I suggest deleting this method and using IWorkspaceRoot.findContainersForLocation, which does all the same checks and more (such as overlapping with linked resources).\n\njava.lang.NullPointerException\n\tat org.eclipse.ui.internal.wizards.datatransfer.WizardFileSystemResourceExportPage1.getConflictingContainerNameFor(WizardFileSystemResourceExportPage1.java:478)\n\tat org.eclipse.ui.internal.wizards.datatransfer.WizardFileSystemResourceExportPage1.validateDestinationGroup(WizardFileSystemResourceExportPage1.java:424)\n\tat org.eclipse.ui.internal.wizards.datatransfer.WizardArchiveFileResourceExportPage1.validateDestinationGroup(WizardArchiveFileResourceExportPage1.java:393)\n\tat org.eclipse.ui.dialogs.WizardDataTransferPage.determinePageCompletion(WizardDataTransferPage.java:178)\n\tat org.eclipse.ui.dialogs.WizardExportResourcesPage.updateWidgetEnablements(WizardExportResourcesPage.java:617)\n\tat org.eclipse.ui.dialogs.WizardExportResourcesPage.createControl(WizardExportResourcesPage.java:244)\n\tat org.eclipse.ui.internal.wizards.datatransfer.WizardFileSystemResourceExportPage1.createControl(WizardFileSystemResourceExportPage1.java:105)\n\tat org.eclipse.ui.internal.wizards.datatransfer.WizardArchiveFileResourceExportPage1.createControl(WizardArchiveFileResourceExportPage1.java:76)\n\tat org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:179)\n\tat org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:611)\n\tat org.eclipse.jface.wizard.WizardDialog.setWizard(WizardDialog.java:978)\n\tat org.eclipse.jface.wizard.WizardDialog.updateForPage(WizardDialog.java:1029)\n\tat org.eclipse.jface.wizard.WizardDialog.access$2(WizardDialog.java:1026)\n\tat org.eclipse.jface.wizard.WizardDialog$4.run(WizardDialog.java:1016)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n\tat org.eclipse.jface.wizard.WizardDialog.showPage(WizardDialog.java:1014)\n\tat org.eclipse.ui.internal.dialogs.ImportExportPage.treeDoubleClicked(ImportExportPage.java:235)\n\tat org.eclipse.ui.internal.dialogs.ExportPage$2.doubleClick(ExportPage.java:65)\n\tat org.eclipse.jface.viewers.StructuredViewer$1.run(StructuredViewer.java:720)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:785)\n\tat org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)\n\tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148)\n\tat org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick(StructuredViewer.java:718)\n\tat org.eclipse.jface.viewers.StructuredViewer.handleDoubleSelect(StructuredViewer.java:950)\n\tat org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected(StructuredViewer.java:1057)\n\tat org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent(OpenStrategy.java:220)\n\tat org.eclipse.jface.util.OpenStrategy.access$0(OpenStrategy.java:217)\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:276)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:905)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3241)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2861)",
    "bug 107757 may be the same problem but we couldn\u0027t figure out a test case.  When can the project location ever be null?",
    "I don\u0027t think there is a test case in current builds.  I am working on a zip file system implementation, and when I create a project in the zip file system, getLocation() method returns null (as expected). I.e., it\u0027s an error people will be seeing in the future, but I can\u0027t see how it could have occurred in the past.",
    "Created an attachment (id\u003d30586)\napply patch to WizardFileSystemResourceExportPage1.java\n\nTod, can you check this patch?",
    "I think instead of:\n\nreturn containers[0].getProject().getName()\n\nIt should be:\n\nreturn containers[0].getName()\n\nBecause in the case of linked resources, you want to report the linked resource name to the user rather than the project name. (IResource.getProject() can also return null, but only in the root case that you have already checked above).",
    "Created an attachment (id\u003d30616)\nupdated patch\n\n",
    "Tod, can you check this patch?",
    "Patch released",
    "Marking fixed",
    "*** Bug 107757 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2005-11-24T19:43:01+01:00",
    "2005-11-24T20:31:40+01:00",
    "2005-11-24T20:37:09+01:00",
    "2005-11-24T22:42:43+01:00",
    "2005-11-25T14:41:37+01:00",
    "2005-11-25T15:15:59+01:00",
    "2005-11-30T15:17:50+01:00",
    "2005-11-30T18:03:10+01:00",
    "2005-12-06T16:37:12+01:00",
    "2006-06-28T22:33:36+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.internal.wizards.datatransfer.WizardFileSystemResourceExportPage1.getConflictingContainerNameFor",
          "source": "WizardFileSystemResourceExportPage1.java:478"
        },
        {
          "method": "org.eclipse.ui.internal.wizards.datatransfer.WizardFileSystemResourceExportPage1.validateDestinationGroup",
          "source": "WizardFileSystemResourceExportPage1.java:424"
        },
        {
          "method": "org.eclipse.ui.internal.wizards.datatransfer.WizardArchiveFileResourceExportPage1.validateDestinationGroup",
          "source": "WizardArchiveFileResourceExportPage1.java:393"
        },
        {
          "method": "org.eclipse.ui.dialogs.WizardDataTransferPage.determinePageCompletion",
          "source": "WizardDataTransferPage.java:178"
        },
        {
          "method": "org.eclipse.ui.dialogs.WizardExportResourcesPage.updateWidgetEnablements",
          "source": "WizardExportResourcesPage.java:617"
        },
        {
          "method": "org.eclipse.ui.dialogs.WizardExportResourcesPage.createControl",
          "source": "WizardExportResourcesPage.java:244"
        },
        {
          "method": "org.eclipse.ui.internal.wizards.datatransfer.WizardFileSystemResourceExportPage1.createControl",
          "source": "WizardFileSystemResourceExportPage1.java:105"
        },
        {
          "method": "org.eclipse.ui.internal.wizards.datatransfer.WizardArchiveFileResourceExportPage1.createControl",
          "source": "WizardArchiveFileResourceExportPage1.java:76"
        },
        {
          "method": "org.eclipse.jface.wizard.Wizard.createPageControls",
          "source": "Wizard.java:179"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.createPageControls",
          "source": "WizardDialog.java:611"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.setWizard",
          "source": "WizardDialog.java:978"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.updateForPage",
          "source": "WizardDialog.java:1029"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.access$2",
          "source": "WizardDialog.java:1026"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog$4.run",
          "source": "WizardDialog.java:1016"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.showPage",
          "source": "WizardDialog.java:1014"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.ImportExportPage.treeDoubleClicked",
          "source": "ImportExportPage.java:235"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.ExportPage$2.doubleClick",
          "source": "ExportPage.java:65"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$1.run",
          "source": "StructuredViewer.java:720"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:785"
        },
        {
          "method": "org.eclipse.ui.internal.JFaceUtil$1.run",
          "source": "JFaceUtil.java:44"
        },
        {
          "method": "org.eclipse.jface.util.SafeRunnable.run",
          "source": "SafeRunnable.java:148"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick",
          "source": "StructuredViewer.java:718"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleDoubleSelect",
          "source": "StructuredViewer.java:950"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected",
          "source": "StructuredViewer.java:1057"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent",
          "source": "OpenStrategy.java:220"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$0",
          "source": "OpenStrategy.java:217"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "OpenStrategy.java:276"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:905"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3241"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2861"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "117949",
      "date": "2005-11-24T19:43:01+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "117949",
  "bugId": "117949",
  "date": "2005-11-24T19:43:01+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "major"
}