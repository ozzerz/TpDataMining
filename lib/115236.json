{
  "comments": [
    "After switching to Eclipse 3.2M3 on Linux i86 gtk, I have the following problem:\nSelecting search/file in the main menu brings up an error message \"The chosen\noperation is currently not available.\"\n\nIn the log file I find the following stacktrace:\n\n!ENTRY org.eclipse.ui 4 0 2005-11-06 13:51:27.647\n!MESSAGE org/eclipse/search/ui/NewSearchUI\n!STACK 0\njava.lang.NoClassDefFoundError: org/eclipse/search/ui/NewSearchUI\n        at\norg.eclipse.jdt.internal.ui.search.OpenJavaSearchPageAction.run(OpenJavaSearchPageAction.java:43)\n        at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:251)\n        at\norg.eclipse.ui.internal.WWinPluginAction.runWithEvent(WWinPluginAction.java:223)\n        at\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:544)\n        at\norg.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:494)\n        at\norg.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:406)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1056)\n        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3061)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2743)\n        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1774)\n        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1738)\n        at\norg.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:376)\n        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n        at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)\n        at\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n        at\norg.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\n        at\norg.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:165)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:585)\n        at org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:282)\n        at org.eclipse.core.launcher.Main.run(Main.java:977)\n        at org.eclipse.core.launcher.Main.main(Main.java:952)",
    "Did you reuse the eclipse install directory, say did you copy thye new plugins\nover the old ones? (never do that!)\n\nIs there any other message in the log?",
    "Eclipse is installed in /usr/local/eclipse. I do completely remove that\ndirectory before extracting a new version. I am using an additional extension\nlocation, though, which hasn\u0027t been cleared.\n\nNow, that you are asking for it, I notice, that there are indeed more search\nrelated error messages. I\u0027ll attach my complete .log below. Additionally, I find\nstack traces in the command line (as opposed to the log file), which tell me\nthat some projects could not be opened. (Which is fine, because I closed\nthem...) I\u0027ll add a stacktrace below.\n\nStacktrace telling that a project could not be opened:\n\norg.eclipse.core.internal.resources.ResourceException: Resource /ws-xmlrpc-2 is\nnot open.\n        at\norg.eclipse.core.internal.resources.Project.checkAccessible(Project.java:129)\n        at\norg.eclipse.core.internal.resources.Resource.findMarkers(Resource.java:814)\n        at org.epic.core.decorators.PerlDecorator.decorate(PerlDecorator.java:119)\n        at\norg.eclipse.ui.internal.decorators.LightweightDecoratorDefinition.decorate(LightweightDecoratorDefinition.java:244)\n        at\norg.eclipse.ui.internal.decorators.LightweightDecoratorManager$LightweightRunnable.run(LightweightDecoratorManager.java:66)\n        at\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)\n        at org.eclipse.core.runtime.Platform.run(Platform.java:783)\n        at\norg.eclipse.ui.internal.decorators.LightweightDecoratorManager.decorate(LightweightDecoratorManager.java:323)\n        at\norg.eclipse.ui.internal.decorators.LightweightDecoratorManager.getDecorations(LightweightDecoratorManager.java:309)\n        at\norg.eclipse.ui.internal.decorators.DecorationScheduler$1.run(DecorationScheduler.java:292)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)",
    "Created an attachment (id\u003d29407)\n.log file\n",
    "It seems, that I found a cause for the problem: The folder /usr/local/eclipse\nwas write protected. The problem vanished as soon as I changed the owner to me.\n\nI leave it to you to decide whether the bug should be closed or not. (The desire\nto have a write protected and shareable installation directory should be uncommon.)\n",
    "I\u0027m moving the bug to platform.runtime to decide if the is an Eclipse or a user\nbug (I would also think that you should be able to have the Eclipse installation\nat a read-only location).\n\nThe change in search for M3 was that the search plugin does not use the\ncompatibility mode anymore. The stack trace indicates that the bundle loader\nstill tries to load the plugin in compatibility mode.\nMy guess is that Eclipse still has some old configuration data, can\u0027t update it\nand ends up using the old information instead of the new one.\n\nJochen, when you made the install directory read-only, was that after you first\nstarted Eclipse (and the original configuration data was written)?\n\n",
    "I extracted the directory using \"sudo\". In other words, it was read-only from\nthe start.\n",
    "Was there a directory called \"configuration\" created as a sub-directory of the\n\"eclipse\" directory?  When Eclipse first starts, it tries to create this\ndirectory. If it cannot, it creates the configuration directory under user-home\ninstead. If this directory was created and then afterwards you change\npermissions or user, I suspect it could cause problems.",
    "I think it would be good if the startup of Eclipse fails immediatly when no\nupdating of the configuration directory is possible. An error message should\nexplain the problem so the user knows what to change.",
    "(In reply to comment #7)\n\n\u003e Was there a directory called \"configuration\" created as a sub-directory of the\n\u003e \"eclipse\" directory?\n\nWithout read permissions, it obviously wasn\u0027t.",
    "The whole issue seems to be related to a setup problem in the install. For further details, please see the doc."
  ],
  "commentCreationDates": [
    "2005-11-06T13:03:44+01:00",
    "2005-11-06T23:24:07+01:00",
    "2005-11-07T07:26:50+01:00",
    "2005-11-07T07:28:29+01:00",
    "2005-11-07T08:12:17+01:00",
    "2005-11-07T09:57:33+01:00",
    "2005-11-07T10:08:44+01:00",
    "2005-11-09T14:52:31+01:00",
    "2005-11-09T14:59:44+01:00",
    "2005-11-09T15:33:06+01:00",
    "2006-03-22T20:18:50+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoClassDefFoundError",
      "message": "org/eclipse/search/ui/NewSearchUI",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.ui.search.OpenJavaSearchPageAction.run",
          "source": "OpenJavaSearchPageAction.java:43"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:251"
        },
        {
          "method": "org.eclipse.ui.internal.WWinPluginAction.runWithEvent",
          "source": "WWinPluginAction.java:223"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:544"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:494"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:406"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1056"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3061"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2743"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1774"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1738"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:376"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:165"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:338"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:282"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "115236",
      "date": "2005-11-06T13:03:44+01:00",
      "product": "Platform",
      "component": "Runtime",
      "severity": "major"
    },
    {
      "exceptionType": "org.eclipse.core.internal.resources.ResourceException",
      "message": "Resource /ws-xmlrpc-2 is not open.",
      "elements": [
        {
          "method": "org.eclipse.core.internal.resources.Project.checkAccessible",
          "source": "Project.java:129"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource.findMarkers",
          "source": "Resource.java:814"
        },
        {
          "method": "org.epic.core.decorators.PerlDecorator.decorate",
          "source": "PerlDecorator.java:119"
        },
        {
          "method": "org.eclipse.ui.internal.decorators.LightweightDecoratorDefinition.decorate",
          "source": "LightweightDecoratorDefinition.java:244"
        },
        {
          "method": "org.eclipse.ui.internal.decorators.LightweightDecoratorManager$LightweightRunnable.run",
          "source": "LightweightDecoratorManager.java:66"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1044"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:783"
        },
        {
          "method": "org.eclipse.ui.internal.decorators.LightweightDecoratorManager.decorate",
          "source": "LightweightDecoratorManager.java:323"
        },
        {
          "method": "org.eclipse.ui.internal.decorators.LightweightDecoratorManager.getDecorations",
          "source": "LightweightDecoratorManager.java:309"
        },
        {
          "method": "org.eclipse.ui.internal.decorators.DecorationScheduler$1.run",
          "source": "DecorationScheduler.java:292"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:76"
        }
      ],
      "number": 1,
      "commentIndex": 2,
      "bugId": "115236",
      "date": "2005-11-07T07:26:50+01:00",
      "product": "Platform",
      "component": "Runtime",
      "severity": "major"
    }
  ],
  "groupId": "115236",
  "bugId": "115236",
  "date": "2005-11-06T13:03:44+01:00",
  "product": "Platform",
  "component": "Runtime",
  "severity": "major"
}