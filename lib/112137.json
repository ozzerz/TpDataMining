{
  "comments": [
    "While coding in Java, I CTRL+clicked on an allocation call to InetSocketAddress, \nin order to open the sources and read a bit.\nHowever, the call failed, and below you\u0027ll find what was printed in the log.\n\nAfter closing the failed window, I did it again and it worked. There were no \nbackground tasks (AFAIK), and I had only a single window open. The project type \n(if relevant) is a regular Java project.\n\nI didn\u0027t find another bug about this, and even though I have no idea how to \nreproduce it, hopefully someone familiar with the sources will be able to get \nsomething out of the stack trace below.\n\neclipse.buildId\u003dI20050627-1435\njava.version\u003d1.5.0_05\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dlinux, ARCH\u003dx86, WS\u003dgtk, NL\u003den_US\nCommand-line arguments:  -os linux -ws gtk -arch x86\n\n!ENTRY org.eclipse.ui 4 0 2005-10-10 14:51:33.131\n!MESSAGE Unable to create editor ID org.eclipse.jdt.ui.ClassFileEditor: Editor \ncould not be initialized.\n!STACK 0\njava.util.ConcurrentModificationException\n        at java.util.AbstractList$Itr.checkForComodification(AbstractList.java:\n449)\n        at java.util.AbstractList$Itr.next(AbstractList.java:420)\n        at org.eclipse.jdt.internal.core.SourceMapper.findSource(SourceMapper.\njava:830)\n        at org.eclipse.jdt.internal.core.SourceMapper.findSource(SourceMapper.\njava:796)\n        at org.eclipse.jdt.internal.core.ClassFile.mapSource(ClassFile.java:628)\n        at org.eclipse.jdt.internal.core.ClassFile.openBuffer(ClassFile.java:\n540)\n        at org.eclipse.jdt.internal.core.Openable.getBuffer(Openable.java:263)\n        at org.eclipse.jdt.internal.core.ClassFile.getBuffer(ClassFile.java:263)\n        at org.eclipse.jdt.internal.core.ClassFile.getSourceRange(ClassFile.\njava:428)\n        at org.eclipse.jdt.internal.ui.javaeditor.ClassFileEditor.\nprobeInputForSource(ClassFileEditor.java:688)\n        at org.eclipse.jdt.internal.ui.javaeditor.ClassFileEditor.\ndoSetInput(ClassFileEditor.java:617)\n        at org.eclipse.ui.texteditor.AbstractTextEditor$16.\nrun(AbstractTextEditor.java:2360)\n        at org.eclipse.jface.operation.ModalContext.\nrunInCurrentThread(ModalContext.java:346)\n        at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291)\n        at org.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.\njava:624)\n        at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n        at org.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.\njava:621)\n        at org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:\n2134)\n        at org.eclipse.ui.texteditor.AbstractTextEditor.\ninternalInit(AbstractTextEditor.java:2378)\n        at org.eclipse.ui.texteditor.AbstractTextEditor.init(AbstractTextEditor.\njava:2405)\n        at org.eclipse.ui.internal.EditorManager.createSite(EditorManager.java:\n773)\n        at org.eclipse.ui.internal.EditorReference.\ncreatePartHelper(EditorReference.java:572)\n        at org.eclipse.ui.internal.EditorReference.createPart(EditorReference.\njava:365)\n        at org.eclipse.ui.internal.WorkbenchPartReference.\ngetPart(WorkbenchPartReference.java:552)\n        at org.eclipse.ui.internal.EditorReference.getEditor(EditorReference.\njava:214)\n        at org.eclipse.ui.internal.WorkbenchPage.\nbusyOpenEditorBatched(WorkbenchPage.java:2325)\n        at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.\njava:2258)\n        at org.eclipse.ui.internal.WorkbenchPage.access$9(WorkbenchPage.java:\n2250)\n        at org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:2236)\n        at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n        at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:\n2231)\n        at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:\n2212)\n        at org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.\nopenInEditor(EditorUtility.java:263)\n        at org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.\nopenInEditor(EditorUtility.java:140)\n        at org.eclipse.jdt.internal.ui.actions.OpenActionUtil.\nopen(OpenActionUtil.java:49)\n        at org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:169)\n        at org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:141)\n        at org.eclipse.jdt.ui.actions.SelectionDispatchAction.\ndispatchRun(SelectionDispatchAction.java:226)\n        at org.eclipse.jdt.ui.actions.SelectionDispatchAction.\nrun(SelectionDispatchAction.java:198)\n        at org.eclipse.jdt.internal.ui.javaeditor.JavaElementHyperlink.\nopen(JavaElementHyperlink.java:55)\n        at org.eclipse.jface.text.hyperlink.HyperlinkManager.\nmouseUp(HyperlinkManager.java:388)\n        at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:\n137)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1021)\n        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2867)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2572)\n        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)\n        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)\n        at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.\njava:367)\n        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n        at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:\n103)\n        at org.eclipse.core.internal.runtime.PlatformActivator$1.\nrun(PlatformActivator.java:226)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.\njava:376)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.\njava:163)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\njava:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.\ninvoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:585)\n        at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n        at org.eclipse.core.launcher.Main.run(Main.java:973)\n        at org.eclipse.core.launcher.Main.main(Main.java:948)",
    "Olivier - could it be a bug in JRE ?",
    "It looks like the source has been retrieved from two different threads and this\ncode is not thread safe.\nJ?r?me, this seems to be an issue for all java element. Is it safe not to\nprotect the access to the buffer contents?\nI think the call should be protected before accessing the Source mapper.",
    "Please indicate the Eclipse build ID you\u0027re using.",
    "(In reply to comment #3)\n\u003e Please indicate the Eclipse build ID you\u0027re using.\n\neclipse.buildId\u003dI20050627-1435",
    "In fact only 1 buffer is created. Fix should be in SourceMapper#findSource(...)",
    "I\u0027ve been thinking about it - when holding down CTRL and hovering the mouse over \na method gives the method\u0027s definition in a \"tooltip\" window, while clicking on \nthe method opens the source file.\n\nPerhaps those were the two actions taking place, competing for the same \nresource?",
    "Would you have a reproducable test case you could try when this is fixed?",
    "Fixed and released in HEAD.\nDino, could you please try to reproduce with next integration build?\nI could not find a regression test that reproduced this racing condition.",
    "Assume that problem is fixed for 3.2 M3 as Dino did not shout...\n"
  ],
  "commentCreationDates": [
    "2005-10-10T22:22:48+02:00",
    "2005-10-11T09:43:31+02:00",
    "2005-10-11T17:27:38+02:00",
    "2005-10-13T13:07:26+02:00",
    "2005-10-13T21:57:45+02:00",
    "2005-10-17T16:06:47+02:00",
    "2005-10-17T16:20:26+02:00",
    "2005-10-17T17:54:53+02:00",
    "2005-10-17T20:17:02+02:00",
    "2005-10-31T11:21:55+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.util.ConcurrentModificationException",
      "elements": [
        {
          "method": "java.util.AbstractList$Itr.checkForComodification",
          "source": "AbstractList.java: 449"
        },
        {
          "method": "java.util.AbstractList$Itr.next",
          "source": "AbstractList.java:420"
        },
        {
          "method": "org.eclipse.jdt.internal.core.SourceMapper.findSource",
          "source": "SourceMapper. java:830"
        },
        {
          "method": "org.eclipse.jdt.internal.core.SourceMapper.findSource",
          "source": "SourceMapper. java:796"
        },
        {
          "method": "org.eclipse.jdt.internal.core.ClassFile.mapSource",
          "source": "ClassFile.java:628"
        },
        {
          "method": "org.eclipse.jdt.internal.core.ClassFile.openBuffer",
          "source": "ClassFile.java: 540"
        },
        {
          "method": "org.eclipse.jdt.internal.core.Openable.getBuffer",
          "source": "Openable.java:263"
        },
        {
          "method": "org.eclipse.jdt.internal.core.ClassFile.getBuffer",
          "source": "ClassFile.java:263"
        },
        {
          "method": "org.eclipse.jdt.internal.core.ClassFile.getSourceRange",
          "source": "ClassFile. java:428"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.ClassFileEditor.probeInputForSource",
          "source": "ClassFileEditor.java:688"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.ClassFileEditor.doSetInput",
          "source": "ClassFileEditor.java:617"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor$16.run",
          "source": "AbstractTextEditor.java:2360"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:346"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:291"
        },
        {
          "method": "org.eclipse.jface.window.ApplicationWindow$1.run",
          "source": "ApplicationWindow. java:624"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.jface.window.ApplicationWindow.run",
          "source": "ApplicationWindow. java:621"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.run",
          "source": "WorkbenchWindow.java: 2134"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor.internalInit",
          "source": "AbstractTextEditor.java:2378"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor.init",
          "source": "AbstractTextEditor. java:2405"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.createSite",
          "source": "EditorManager.java: 773"
        },
        {
          "method": "org.eclipse.ui.internal.EditorReference.createPartHelper",
          "source": "EditorReference.java:572"
        },
        {
          "method": "org.eclipse.ui.internal.EditorReference.createPart",
          "source": "EditorReference. java:365"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPartReference.getPart",
          "source": "WorkbenchPartReference.java:552"
        },
        {
          "method": "org.eclipse.ui.internal.EditorReference.getEditor",
          "source": "EditorReference. java:214"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched",
          "source": "WorkbenchPage.java:2325"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor",
          "source": "WorkbenchPage. java:2258"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.access$9",
          "source": "WorkbenchPage.java: 2250"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$9.run",
          "source": "WorkbenchPage.java:2236"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java: 2231"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java: 2212"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor",
          "source": "EditorUtility.java:263"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor",
          "source": "EditorUtility.java:140"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.actions.OpenActionUtil.open",
          "source": "OpenActionUtil.java:49"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.OpenAction.run",
          "source": "OpenAction.java:169"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.OpenAction.run",
          "source": "OpenAction.java:141"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun",
          "source": "SelectionDispatchAction.java:226"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.run",
          "source": "SelectionDispatchAction.java:198"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.JavaElementHyperlink.open",
          "source": "JavaElementHyperlink.java:55"
        },
        {
          "method": "org.eclipse.jface.text.hyperlink.HyperlinkManager.mouseUp",
          "source": "HyperlinkManager.java:388"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java: 137"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1021"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2867"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2572"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1699"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1663"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench. java:367"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java: 103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter. java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter. java:163"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl. java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "112137",
      "date": "2005-10-10T22:22:48+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "112137",
  "bugId": "112137",
  "date": "2005-10-10T22:22:48+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}