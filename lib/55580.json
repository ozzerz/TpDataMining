{
  "comments": [
    "I20040318\n\n- started a refactoring\n- refactoring got blocked by a background activity\n- selected refactoring and hit cancel.\n\nThe VM dump is as follows:\n\norg.eclipse.core.launcher.Main at localhost:3087\n\tThread [main] (Suspended)\n\t\tSemaphore(Object).wait(long, int) line: not available [native \nmethod]\n\t\tSemaphore(Object).wait(long) line: 223\n\t\tSemaphore.acquire(long) line: 36\n\t\tOrderedLock.doAcquire(Semaphore, long) line: 161\n\t\tOrderedLock.acquire(long) line: 99\n\t\tOrderedLock.acquire() line: 75\n\t\tWorkManager.checkIn(ISchedulingRule, IProgressMonitor) line: 92\n\t\tWorkspace.prepareOperation(ISchedulingRule, IProgressMonitor) \nline: 1521\n\t\tWorkspace.run(IWorkspaceRunnable, ISchedulingRule, int, \nIProgressMonitor) line: 1554\n\t\tJavaCore.run(IWorkspaceRunnable, ISchedulingRule, \nIProgressMonitor) line: 3208\n\t\tJavaCore.run(IWorkspaceRunnable, IProgressMonitor) line: 3165\n\t\tWorkbenchRunnableAdapter.run(IProgressMonitor) line: 50\n\t\tBusyIndicatorRunnableContext$BusyRunnable.internalRun(boolean, \nIRunnableWithProgress) line: 113\n\t\tBusyIndicatorRunnableContext$BusyRunnable.run() line: 80\n\t\tBusyIndicator.showWhile(Display, Runnable) line: 84\n\t\tBusyIndicatorRunnableContext.run(boolean, boolean, \nIRunnableWithProgress) line: 126\n\t\tRefactoringStarter.checkActivation(Refactoring) line: 72\n\t\tRefactoringStarter.activate(Refactoring, RefactoringWizard, \nShell, String, boolean) line: 48\n\t\tSelfEncapsulateFieldAction.run(IField) line: 159\n\t\tSelfEncapsulateFieldAction.run(IStructuredSelection) line: 142\n\t\tSelfEncapsulateFieldAction(SelectionDispatchAction).dispatchRun\n(ISelection) line: 212\n\t\tSelfEncapsulateFieldAction(SelectionDispatchAction).run() \nline: 188\n\t\tSelfEncapsulateFieldAction(Action).runWithEvent(Event) line: \n881\n\t\tActionContributionItem.handleWidgetSelection(Event, boolean) \nline: 550\n\t\tActionContributionItem.access$2(ActionContributionItem, Event, \nboolean) line: 502\n\t\tActionContributionItem$5.handleEvent(Event) line: 435\n\t\tEventTable.sendEvent(Event) line: 82\n\t\tMenuItem(Widget).sendEvent(Event) line: 810\n\t\tDisplay.runDeferredEvents() line: 2424\n\t\tDisplay.readAndDispatch() line: 2102\n\t\tWorkbench.runEventLoop(Window$IExceptionHandler, Display) \nline: 1448\n\t\tWorkbench.runUI() line: 1419\n\t\tWorkbench.createAndRunWorkbench(Display, WorkbenchAdvisor) \nline: 257\n\t\tPlatformUI.createAndRunWorkbench(Display, WorkbenchAdvisor) \nline: 139\n\t\tIDEApplication.run(Object) line: 90\n\t\tPlatformActivator$1.run(Object) line: 260\n\t\tEclipseStarter.run(Object) line: 173\n\t\tEclipseStarter.run(String[], Runnable) line: 106\n\t\tNativeMethodAccessorImpl.invoke0(Method, Object, Object[]) \nline: not available [native method]\n\t\tNativeMethodAccessorImpl.invoke(Object, Object[]) line: 79\n\t\tDelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 41\n\t\tMethod.invoke(Object, Object[]) line: 386\n\t\tMain.basicRun(String[]) line: 305\n\t\tMain.run(String[]) line: 729\n\t\tMain.main(String[]) line: 713\n\tThread [Framework Event Dispatcher] (Suspended)\n\t\tEventThread(Object).wait(long, int) line: not available \n[native method]\n\t\tEventThread(Object).wait() line: 193\n\t\tEventThread.getNextEvent() line: 167\n\t\tEventThread.run() line: 118\n\tThread [Start Level Event Dispatcher] (Suspended)\n\t\tEventThread(Object).wait(long, int) line: not available \n[native method]\n\t\tEventThread(Object).wait() line: 193\n\t\tEventThread.getNextEvent() line: 167\n\t\tEventThread.run() line: 118\n\tThread [Worker-0] (Suspended)\n\t\tSemaphore(Object).wait(long, int) line: not available [native \nmethod]\n\t\tSemaphore(Object).wait(long) line: 223\n\t\tSemaphore.acquire(long) line: 36\n\t\tOrderedLock.doAcquire(Semaphore, long) line: 161\n\t\tOrderedLock.acquire(long) line: 99\n\t\tOrderedLock.acquire() line: 75\n\t\tWorkManager.checkIn(ISchedulingRule, IProgressMonitor) line: 92\n\t\tWorkspace.prepareOperation(ISchedulingRule, IProgressMonitor) \nline: 1521\n\t\tSaveManager.save(int, Project, IProgressMonitor) line: 1264\n\t\tDelayedSnapshotJob.run(IProgressMonitor) line: 40\n\t\tWorker.run() line: 62\n\tThread [Java indexing] (Suspended)\n\t\tIndexManager(Object).wait(long, int) line: not available \n[native method]\n\t\tIndexManager(Object).wait() line: 193\n\t\tIndexManager(JobManager).run() line: 327\n\t\tThread.run() line: 802\n\tThread [org.eclipse.jdt.internal.ui.text.JavaReconciler] (Suspended)\n\t\tDirtyRegionQueue(Object).wait(long, int) line: not available \n[native method]\n\t\tDirtyRegionQueue(Object).wait(long) line: 223\n\t\tAbstractReconciler$BackgroundThread.run() line: 161\n\tThread [Worker-3] (Suspended)\n\t\tSemaphore(Object).wait(long, int) line: not available [native \nmethod]\n\t\tSemaphore(Object).wait(long) line: 223\n\t\tSemaphore.acquire(long) line: 36\n\t\tOrderedLock.doAcquire(Semaphore, long) line: 161\n\t\tOrderedLock.acquire(long) line: 99\n\t\tOrderedLock.acquire() line: 75\n\t\tWorkManager.endUnprotected(int) line: 140\n\t\tWorkspace.run(IWorkspaceRunnable, ISchedulingRule, int, \nIProgressMonitor) line: 1567\n\t\tNotificationManager$NotifyJob.run(IProgressMonitor) line: 37\n\t\tWorker.run() line: 62\n\tThread [Worker-4] (Suspended)\n\t\tWorkerPool(Object).wait(long, int) line: not available [native \nmethod]\n\t\tWorkerPool(Object).wait(long) line: 223\n\t\tWorkerPool.sleep(long) line: 185\n\t\tWorkerPool.startJob(Worker) line: 211\n\t\tWorker.run() line: 55",
    "There appear to several threads waiting for the workspace lock, but nobody owns\nit.  Were there any errors in your log file around the time it occurred?",
    "I found this in the log, which could be related to the problem:\n\n!MESSAGE Problems occurred while trying to save the state of the workbench.\n!SUBENTRY 1 org.eclipse.core.resources 4 76 Mar 22, 2004 20:35:19.205\n!MESSAGE Save cannot be called from inside an operation.\n!STACK 0\njava.lang.IllegalStateException\n\tat java.lang.Throwable.\u003cinit\u003e(Throwable.java)\n\tat org.eclipse.core.internal.resources.Workspace.save\n(Workspace.java:1590)\n\tat org.eclipse.ui.internal.ide.IDEWorkbenchAdvisor$7.run\n(IDEWorkbenchAdvisor.java:543)\n\tat org.eclipse.jface.operation.ModalContext.runInCurrentThread\n(ModalContext.java:302)\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:252)\n\tat org.eclipse.jface.dialogs.ProgressMonitorDialog.run\n(ProgressMonitorDialog.java:400)\n\tat \norg.eclipse.ui.internal.ide.IDEWorkbenchAdvisor.disconnectFromWorkspace\n(IDEWorkbenchAdvisor.java:550)\n\tat org.eclipse.ui.internal.ide.IDEWorkbenchAdvisor.postShutdown\n(IDEWorkbenchAdvisor.java:256)\n\tat org.eclipse.ui.internal.Workbench.shutdown(Workbench.java:1716)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1423)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench\n(Workbench.java:257)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run\n(IDEApplication.java:90)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run\n(PlatformActivator.java:260)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:173)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:106)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:79)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:41)\n\tat java.lang.reflect.Method.invoke(Method.java:386)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:305)\n\tat org.eclipse.core.launcher.Main.run(Main.java:729)\n\tat org.eclipse.core.launcher.Main.main(Main.java:713)",
    "Closing, this has not be reproduced."
  ],
  "commentCreationDates": [
    "2004-03-22T19:49:55+01:00",
    "2004-03-22T22:41:12+01:00",
    "2004-03-23T09:50:03+01:00",
    "2004-04-30T22:42:36+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalStateException",
      "elements": [
        {
          "method": "java.lang.Throwable.\u003cinit\u003e",
          "source": "Throwable.java"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.save",
          "source": "Workspace.java:1590"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEWorkbenchAdvisor$7.run",
          "source": "IDEWorkbenchAdvisor.java:543"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:302"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:252"
        },
        {
          "method": "org.eclipse.jface.dialogs.ProgressMonitorDialog.run",
          "source": "ProgressMonitorDialog.java:400"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEWorkbenchAdvisor.disconnectFromWorkspace",
          "source": "IDEWorkbenchAdvisor.java:550"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEWorkbenchAdvisor.postShutdown",
          "source": "IDEWorkbenchAdvisor.java:256"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.shutdown",
          "source": "Workbench.java:1716"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1423"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:257"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:139"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:90"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:260"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:173"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:106"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:79"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:41"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:386"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:305"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:729"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:713"
        }
      ],
      "number": 0,
      "commentIndex": 2,
      "bugId": "55580",
      "date": "2004-03-23T09:50:03+01:00",
      "product": "Platform",
      "component": "Resources",
      "severity": "major"
    }
  ],
  "groupId": "55580",
  "bugId": "55580",
  "date": "2004-03-22T19:49:55+01:00",
  "product": "Platform",
  "component": "Resources",
  "severity": "major"
}