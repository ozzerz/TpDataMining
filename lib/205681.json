{
  "comments": [
    "Created an attachment (id\u003d79871)\nConnction profile\n\nDescription:\nFailed to preview the flatfile dataset if the dataset has correct local connection properties and invalid connection profile properties\n\nBuild number: \n2.2.1.v20071007-0630\n\nSteps to reproduce:\n1, Create a connection profile including a flatfile datasource make sure in the path there is no csv file\n2, New a datasource from the connction profile\n3, Correct the path: \u003cproperty name\u003d\"HOME\"\u003eC:\u003c/property\u003e and make sure under C disk there are some csv files\n4, New a dataset and select all the columns \n5, Preview in dataset\n\nExpected result:\nIf we get the connection from the connection profile first, we should not pop up the csv list in C disk. Or if the local connection properties has higher priority, the preview should be ok \n\nActual result:\nAfter step3 and step4, we can get the csv list in C disk and select all the columns but failed to preview in dataset and exception occurs\n\nError log:\norg.eclipse.birt.data.engine.core.DataException: Failed to prepare the following query for the data set type org.eclipse.datatools.connectivity.oda.flatfile.dataSet.\n[select \"ONumber\", \"StartDate\", \"EndDate\", \"Status\", \"Pnumber\", \"Value1\", \"Value2\", \"High\", \"Close\", \"Low\", \"Open\" from Chart.csv : {\"ONumber\",\"ONumber\",INT;\"StartDate\",\"StartDate\",DATE;\"EndDate\",\"EndDate\",DATE;\"Status\",\"Status\",STRING;\"Pnumber\",\"Pnumber\",INT;\"Value1\",\"Value1\",DOUBLE;\"Value2\",\"Value2\",DOUBLE;\"High\",\"High\",DOUBLE;\"Close\",\"Close\",DOUBLE;\"Low\",\"Low\",DOUBLE;\"Open\",\"Open\",DOUBLE}]\nInvalid table name:Chart.csv\nat org.eclipse.birt.data.engine.odaconsumer.Connection.prepareOdaQuery(Connection.java:232)\nat org.eclipse.birt.data.engine.odaconsumer.Connection.prepareStatement(Connection.java:158)\nat org.eclipse.birt.data.engine.executor.DataSource.prepareStatement(DataSource.java:191)\nat org.eclipse.birt.data.engine.executor.DataSourceQuery.prepare(DataSourceQuery.java:249)\nat org.eclipse.birt.data.engine.impl.PreparedOdaDSQuery$OdaDSQueryExecutor.prepareOdiQuery(PreparedOdaDSQuery.java:352)\nat org.eclipse.birt.data.engine.impl.QueryExecutor.prepareExecution(QueryExecutor.java:230)\nat org.eclipse.birt.data.engine.impl.PreparedQuery.doPrepare(PreparedQuery.java:500)\nat org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.execute(PreparedDataSourceQuery.java:161)\nat org.eclipse.birt.data.engine.impl.PreparedOdaDSQuery.execute(PreparedOdaDSQuery.java:142)\nat org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.execute(PreparedDataSourceQuery.java:141)",
    "The connection profile should take priority when make flatfile connections."
  ],
  "commentCreationDates": [
    "2007-10-08T07:40:38+02:00",
    "2007-10-08T11:58:11+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.birt.data.engine.core.DataException",
      "message": "Failed to prepare the following query for the data set type org.eclipse.datatools.connectivity.oda.flatfile.dataSet. [select \"ONumber\", \"StartDate\", \"EndDate\", \"Status\", \"Pnumber\", \"Value1\", \"Value2\", \"High\", \"Close\", \"Low\", \"Open\" from Chart.csv : {\"ONumber\",\"ONumber\",INT;\"StartDate\",\"StartDate\",DATE;\"EndDate\",\"EndDate\",DATE;\"Status\",\"Status\",STRING;\"Pnumber\",\"Pnumber\",INT;\"Value1\",\"Value1\",DOUBLE;\"Value2\",\"Value2\",DOUBLE;\"High\",\"High\",DOUBLE;\"Close\",\"Close\",DOUBLE;\"Low\",\"Low\",DOUBLE;\"Open\",\"Open\",DOUBLE}] Invalid table name:Chart.csv",
      "elements": [
        {
          "method": "org.eclipse.birt.data.engine.odaconsumer.Connection.prepareOdaQuery",
          "source": "Connection.java:232"
        },
        {
          "method": "org.eclipse.birt.data.engine.odaconsumer.Connection.prepareStatement",
          "source": "Connection.java:158"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.DataSource.prepareStatement",
          "source": "DataSource.java:191"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.DataSourceQuery.prepare",
          "source": "DataSourceQuery.java:249"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedOdaDSQuery$OdaDSQueryExecutor.prepareOdiQuery",
          "source": "PreparedOdaDSQuery.java:352"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.QueryExecutor.prepareExecution",
          "source": "QueryExecutor.java:230"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedQuery.doPrepare",
          "source": "PreparedQuery.java:500"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.execute",
          "source": "PreparedDataSourceQuery.java:161"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedOdaDSQuery.execute",
          "source": "PreparedOdaDSQuery.java:142"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.execute",
          "source": "PreparedDataSourceQuery.java:141"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "205681",
      "date": "2007-10-08T07:40:38+02:00",
      "product": "Data Tools",
      "component": "Connectivity",
      "severity": "major"
    }
  ],
  "groupId": "205681",
  "bugId": "205681",
  "date": "2007-10-08T07:40:38+02:00",
  "product": "Data Tools",
  "component": "Connectivity",
  "severity": "major"
}