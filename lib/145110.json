{
  "comments": [
    "To repro:\n1- Create a new XSD with arbitrary elements\n2- Close the XSD\n3- Make the XSD read-only (In my case, the XSD was made read only because it was added to a Perforce SCM depot)\n4- Reopen the XSD and try to edit it (In my case, I attempted to add an attribute to an element)\n5A - If the file is in the workspace then the \"Would you like to make it writeable ?\" option dialog is shown. Click \"No\" (see the stack below)\n5B- If the file is outside of the workspace then the dialog is not popped (see the stack below)\n\nRESULT:\njava.lang.NullPointerException\n\tat org.eclipse.wst.xml.core.internal.provisional.format.ElementNodeFormatter.getUndefinedRegions(ElementNodeFormatter.java:349)\n\tat org.eclipse.wst.xml.core.internal.provisional.format.ElementNodeFormatter.formatStartTag(ElementNodeFormatter.java:175)\n\tat org.eclipse.wst.xml.core.internal.provisional.format.ElementNodeFormatter.formatNode(ElementNodeFormatter.java:107)\n\tat org.eclipse.wst.xml.core.internal.provisional.format.NodeFormatter.format(NodeFormatter.java:158)\n\tat org.eclipse.wst.sse.core.internal.format.AbstractStructuredFormatProcessor.formatNode(AbstractStructuredFormatProcessor.java:379)\n\tat org.eclipse.wst.xsd.ui.internal.actions.CreateElementAction.formatChild(CreateElementAction.java:199)\n\tat org.eclipse.wst.xsd.ui.internal.actions.CreateElementAction.createAndAddNewChildElement(CreateElementAction.java:183)\n\tat org.eclipse.wst.xsd.ui.internal.actions.CreateElementAction.run(CreateElementAction.java:214)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:996)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3125)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2758)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n\tat org.eclipse.core.launcher.Main.run(Main.java:973)\n\tat org.eclipse.core.launcher.Main.main(Main.java:948)",
    "\n\n*** This bug has been marked as a duplicate of 144230 ***",
    "This is part of a mass update to close out all stale WTP defects already verified by the reporter but awaiting closure by the assignee.  If you feel this defect was closed inappropriately, please reopen.\n\nThanks, John Lanuti"
  ],
  "commentCreationDates": [
    "2006-06-02T19:45:48+02:00",
    "2006-06-07T15:10:09+02:00",
    "2006-11-28T20:41:06+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.wst.xml.core.internal.provisional.format.ElementNodeFormatter.getUndefinedRegions",
          "source": "ElementNodeFormatter.java:349"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.provisional.format.ElementNodeFormatter.formatStartTag",
          "source": "ElementNodeFormatter.java:175"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.provisional.format.ElementNodeFormatter.formatNode",
          "source": "ElementNodeFormatter.java:107"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.provisional.format.NodeFormatter.format",
          "source": "NodeFormatter.java:158"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.format.AbstractStructuredFormatProcessor.formatNode",
          "source": "AbstractStructuredFormatProcessor.java:379"
        },
        {
          "method": "org.eclipse.wst.xsd.ui.internal.actions.CreateElementAction.formatChild",
          "source": "CreateElementAction.java:199"
        },
        {
          "method": "org.eclipse.wst.xsd.ui.internal.actions.CreateElementAction.createAndAddNewChildElement",
          "source": "CreateElementAction.java:183"
        },
        {
          "method": "org.eclipse.wst.xsd.ui.internal.actions.CreateElementAction.run",
          "source": "CreateElementAction.java:214"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:996"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:538"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:843"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3125"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2758"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1699"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1663"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:367"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "145110",
      "duplicateId": "144230",
      "date": "2006-06-02T19:45:48+02:00",
      "product": "Web Tools",
      "component": "wst.xsd",
      "severity": "normal"
    }
  ],
  "groupId": "144230",
  "bugId": "145110",
  "duplicateId": "144230",
  "date": "2006-06-02T19:45:48+02:00",
  "product": "Web Tools",
  "component": "wst.xsd",
  "severity": "normal"
}