{
  "comments": [
    "I\u0027ve noticed some undesirable behaviors when using the SWT Browser\nEmbedding/HTML Widget on Linux.  The browser area will \"break out\" of the\nEclipse workbench into its own independent top-level window when the user takes\ncertain actions or when it is configured in certain fashions.  I have so far\nfound that it does this under EITHER of these two conditions:\n\n- The user enables \"Fast View\" on a view containing a browser component.\n- A browser component is placed inside of a MultiPageEditor.\n\nThis problem may be replicated using the browser example, without any\nmodification to its source code.  Just start the  example, open the HTML view,\nand set it to \"Fast View\".  Show and hide the view once or twice.  The browser\u0027s\ncontents will disappear.  Then press enter with the browser\u0027s location bar\nfocused, and the web page will be displayed in an external top-level window.\n\nThe bigger problem (in my case) is actually the MultiPageEditor issue, but to\ndemonstrate that takes far more work than the fast view example above.  Both\ncases have nearly identical behavior though.\n\nI\u0027ve tried this on three systems (Two RedHat 9, One RedHat 7.3), each of which\nhas had Ximian Desktop 2 installed, which includes the latest GTK+2.2 libraries,\nand Mozilla 1.4.0 built with GTK+2 support.  I\u0027ve tried Eclipse 3.0M3, and\nvarious post-M3 nightly and integration builds.  On Windows, the problem does\nnot occur.",
    "I\u0027ve just tried the October 7 integration build\n(eclipse-SDK-I20031007-linux-gtk.zip), and this issue appears to be corrected,\nat least with regard to embedding browsers in MultiPageEditors.\n\nI did notice one additional problem though: If you close the last editor that\ncontains a browser, and then open a new editor that contains a browser it fails\nwith an SWTError (see bottom).  Basically, you can go from a state with zero\nbrowser-containing multi page editors to a state with one or more editors, but\nif you go back to a state with zero editors, then attempting to open a\nbrowser-utilizing editor will cause this crash.\n\nI\u0027d be happy to file a new bug report if you\u0027d like.\n\nHere\u0027s the stack trace (this is with the Oct 7 int. build):\n\n!SESSION Oct 07, 2003 18:36:39.74 ----------------------------------------------\njava.version\u003d1.4.2\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dlinux, ARCH\u003dx86, WS\u003dgtk, NL\u003den_US\nCommand-line arguments: -pdelaunch -data /home/tliebeck/runtime-workspace\n-feature org.eclipse.platform -dev bin,tmp/eclipse_build -os linux -ws gtk -arch\nx86 -nl en_US -configuration\nfile:/home/tliebeck/eclipse/workspace3.0m3/.metadata/.plugins/org.eclipse.pde.core/_home_tliebeck_runtime-workspace/platform.cfg\n-install file:/usr/local/eclipse3/\n!ENTRY org.eclipse.ui 4 4 Oct 07, 2003 18:36:39.74\n!MESSAGE Unhandled exception caught in event loop.\n!ENTRY org.eclipse.ui 4 0 Oct 07, 2003 18:36:39.75\n!MESSAGE XPCOM error Not initialized.\n!STACK 0\norg.eclipse.swt.SWTError: XPCOM error Not initialized.\n\tat org.eclipse.swt.browser.Browser.\u003cinit\u003e(Browser.java:117)\n\tat nextapp.es.browser.internalswt.SwtBrowser.\u003cinit\u003e(SwtBrowser.java:23)\n\tat nextapp.es.browser.BrowserFactory.create(BrowserFactory.java:14)\n\tat nextapp.es.form.editor.PreviewEditor.createPartControl(PreviewEditor.java:40)\n\tat org.eclipse.ui.part.MultiPageEditorPart.addPage(MultiPageEditorPart.java:107)\n\tat nextapp.es.form.editor.FormEditor.createPreviewPage(FormEditor.java:120)\n\tat nextapp.es.form.editor.FormEditor.createPages(FormEditor.java:110)\n\tat\norg.eclipse.ui.part.MultiPageEditorPart.createPartControl(MultiPageEditorPart.java:166)\n\tat org.eclipse.ui.internal.PartPane$4.run(PartPane.java:141)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1034)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:432)\n\tat org.eclipse.ui.internal.PartPane.createChildControl(PartPane.java:137)\n\tat org.eclipse.ui.internal.PartPane.createControl(PartPane.java:186)\n\tat org.eclipse.ui.internal.EditorWorkbook.createPage(EditorWorkbook.java:404)\n\tat org.eclipse.ui.internal.EditorWorkbook.add(EditorWorkbook.java:123)\n\tat org.eclipse.ui.internal.EditorArea.addEditor(EditorArea.java:55)\n\tat\norg.eclipse.ui.internal.EditorPresentation.openEditor(EditorPresentation.java:351)\n\tat org.eclipse.ui.internal.EditorManager$2.run(EditorManager.java:585)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)\n\tat org.eclipse.ui.internal.EditorManager.createEditorTab(EditorManager.java:574)\n\tat org.eclipse.ui.internal.EditorManager.openInternalEditor(EditorManager.java:668)\n\tat\norg.eclipse.ui.internal.EditorManager.openEditorFromDescriptor(EditorManager.java:459)\n\tat\norg.eclipse.ui.internal.EditorManager.openEditorFromInput(EditorManager.java:333)\n\tat org.eclipse.ui.internal.EditorManager.openEditor(EditorManager.java:424)\n\tat org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2081)\n\tat org.eclipse.ui.internal.WorkbenchPage.access$6(WorkbenchPage.java:2029)\n\tat org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:2016)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2011)\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:1912)\n\tat\norg.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:132)\n\tat\norg.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:105)\n\tat org.eclipse.jdt.internal.ui.actions.OpenActionUtil.open(OpenActionUtil.java:49)\n\tat org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:158)\n\tat org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:147)\n\tat\norg.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:194)\n\tat\norg.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:172)\n\tat\norg.eclipse.jdt.internal.ui.packageview.PackageExplorerActionGroup.handleOpen(PackageExplorerActionGroup.java:316)\n\tat\norg.eclipse.jdt.internal.ui.packageview.PackageExplorerPart$5.open(PackageExplorerPart.java:326)\n\tat org.eclipse.jface.viewers.StructuredViewer$2.run(StructuredViewer.java:392)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1034)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:432)\n\tat org.eclipse.jface.viewers.StructuredViewer.fireOpen(StructuredViewer.java:390)\n\tat org.eclipse.jface.viewers.StructuredViewer.handleOpen(StructuredViewer.java:600)\n\tat\norg.eclipse.jface.viewers.StructuredViewer$6.handleOpen(StructuredViewer.java:689)\n\tat org.eclipse.jface.util.OpenStrategy.fireOpenEvent(OpenStrategy.java:209)\n\tat org.eclipse.jface.util.OpenStrategy.access$2(OpenStrategy.java:204)\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:233)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:962)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1815)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1595)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2315)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:2298)\n\tat\norg.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:858)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:298)\n\tat org.eclipse.core.launcher.Main.run(Main.java:764)\n\tat org.eclipse.core.launcher.Main.main(Main.java:598)",
    "Thanks for the info Tod. Please reopen if you identify a reproduceable case \nwhere the Browser comes up into a top level window instead of being embedded.\n\nAbout the second problem you mention: please add yourself to bug 43837"
  ],
  "commentCreationDates": [
    "2003-09-29T23:43:53+02:00",
    "2003-10-08T04:07:22+02:00",
    "2003-10-08T15:42:35+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTError",
      "message": "XPCOM error Not initialized.",
      "elements": [
        {
          "method": "org.eclipse.swt.browser.Browser.\u003cinit\u003e",
          "source": "Browser.java:117"
        },
        {
          "method": "nextapp.es.browser.internalswt.SwtBrowser.\u003cinit\u003e",
          "source": "SwtBrowser.java:23"
        },
        {
          "method": "nextapp.es.browser.BrowserFactory.create",
          "source": "BrowserFactory.java:14"
        },
        {
          "method": "nextapp.es.form.editor.PreviewEditor.createPartControl",
          "source": "PreviewEditor.java:40"
        },
        {
          "method": "org.eclipse.ui.part.MultiPageEditorPart.addPage",
          "source": "MultiPageEditorPart.java:107"
        },
        {
          "method": "nextapp.es.form.editor.FormEditor.createPreviewPage",
          "source": "FormEditor.java:120"
        },
        {
          "method": "nextapp.es.form.editor.FormEditor.createPages",
          "source": "FormEditor.java:110"
        },
        {
          "method": "org.eclipse.ui.part.MultiPageEditorPart.createPartControl",
          "source": "MultiPageEditorPart.java:166"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane$4.run",
          "source": "PartPane.java:141"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1034"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:432"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.createChildControl",
          "source": "PartPane.java:137"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.createControl",
          "source": "PartPane.java:186"
        },
        {
          "method": "org.eclipse.ui.internal.EditorWorkbook.createPage",
          "source": "EditorWorkbook.java:404"
        },
        {
          "method": "org.eclipse.ui.internal.EditorWorkbook.add",
          "source": "EditorWorkbook.java:123"
        },
        {
          "method": "org.eclipse.ui.internal.EditorArea.addEditor",
          "source": "EditorArea.java:55"
        },
        {
          "method": "org.eclipse.ui.internal.EditorPresentation.openEditor",
          "source": "EditorPresentation.java:351"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager$2.run",
          "source": "EditorManager.java:585"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:84"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.createEditorTab",
          "source": "EditorManager.java:574"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.openInternalEditor",
          "source": "EditorManager.java:668"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.openEditorFromDescriptor",
          "source": "EditorManager.java:459"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.openEditorFromInput",
          "source": "EditorManager.java:333"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.openEditor",
          "source": "EditorManager.java:424"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor",
          "source": "WorkbenchPage.java:2081"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.access$6",
          "source": "WorkbenchPage.java:2029"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$9.run",
          "source": "WorkbenchPage.java:2016"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:84"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:2011"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:1912"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor",
          "source": "EditorUtility.java:132"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor",
          "source": "EditorUtility.java:105"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.actions.OpenActionUtil.open",
          "source": "OpenActionUtil.java:49"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.OpenAction.run",
          "source": "OpenAction.java:158"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.OpenAction.run",
          "source": "OpenAction.java:147"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun",
          "source": "SelectionDispatchAction.java:194"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.run",
          "source": "SelectionDispatchAction.java:172"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.PackageExplorerActionGroup.handleOpen",
          "source": "PackageExplorerActionGroup.java:316"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart$5.open",
          "source": "PackageExplorerPart.java:326"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$2.run",
          "source": "StructuredViewer.java:392"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1034"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:432"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.fireOpen",
          "source": "StructuredViewer.java:390"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleOpen",
          "source": "StructuredViewer.java:600"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$6.handleOpen",
          "source": "StructuredViewer.java:689"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireOpenEvent",
          "source": "OpenStrategy.java:209"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$2",
          "source": "OpenStrategy.java:204"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "OpenStrategy.java:233"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:962"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1815"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1595"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2315"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:2298"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:858"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:298"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:764"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:598"
        }
      ],
      "number": 0,
      "commentIndex": 1,
      "bugId": "43878",
      "date": "2003-10-08T04:07:22+02:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    }
  ],
  "groupId": "43878",
  "bugId": "43878",
  "date": "2003-09-29T23:43:53+02:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "normal"
}