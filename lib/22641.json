{
  "comments": [
    "Eclipse reports that it cannot build the project and gives the following error\nmessage:\n\n\"The project was not built since it is inconsistent. Ensure no other tool is \nbrowsing the output directory, then try refreshing this project and rebuilding \nit.\"\n\nI\u0027ve checked the .log file and found the following entries:\n\n!ENTRY org.eclipse.jdt.core 4 4 Aug 21, 2002 10:58:33.312\n!MESSAGE JavaBuilder handling ImageBuilderInternalException\n!STACK 1\norg.eclipse.core.internal.resources.ResourceException: Problems encountered\nwhile deleting resources.\n\tat org.eclipse.core.internal.resources.Resource.delete(Resource.java:460)\n\tat\norg.eclipse.jdt.internal.core.builder.BatchImageBuilder.scrubOutputFolder(BatchImageBuilder.java:86)\n\tat\norg.eclipse.jdt.internal.core.builder.BatchImageBuilder.build(BatchImageBuilder.java:33)\n\tat org.eclipse.jdt.internal.core.builder.JavaBuilder.buildAll(JavaBuilder.java:170)\n\tat org.eclipse.jdt.internal.core.builder.JavaBuilder.build(JavaBuilder.java:94)\n\tat org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:392)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:831)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:416)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:120)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:176)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:186)\n\tat org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:146)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:831)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:416)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:160)\n\tat org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:232)\n\tat org.eclipse.core.internal.resources.Project.build(Project.java:85)\n\tat org.eclipse.ui.actions.BuildAction.invokeOperation(BuildAction.java:151)\n\tat org.eclipse.ui.actions.WorkspaceAction.execute(WorkspaceAction.java:112)\n\tat org.eclipse.ui.actions.WorkspaceAction$1.execute(WorkspaceAction.java:269)\n\tat\norg.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:64)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1361)\n\tat\norg.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:78)\n\tat\norg.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:98)\n!ENTRY org.eclipse.core.resources 4 4 Aug 21, 2002 10:58:33.312\n!MESSAGE Problems encountered while deleting resources.\n!SUBENTRY 1 org.eclipse.core.resources 4 273 Aug 21, 2002 10:58:33.312\n!MESSAGE Could not delete: C:\\SHARED\\BR\\code\\bin\\images.\n\nAfter manually deleting the bin (output) directory, everything seemed to rebuild\nfine. It still doesn\u0027t work fine, though, but I\u0027m not sure if its a different\neclipse bug: Even though the app builds fine, it won\u0027t run reporting a\nclassNotFoundExcep -- if it can find the class in the buildpath, shouldn\u0027t it\nfind it in the classpath (and it IS in the classpath). Again, I\u0027m not sure if\nthis is related, but its happening at the same time.\n\nThis bug may in some way be related to bug 17647, since both are reporting the\nsame error message. I am using VSS to manage the project, (17647 deals with\nClearCase integration problems), but don\u0027t feel this is relevant because no VSS\noperations were performed during the time when the bug cropped up, and the \u0027bin\u0027\ndirectory is not managed by VSS.\n\nFor now I\u0027m back to editing in eclipse and running in jBuilder. Would love to\nget this cleared up soon!\n\nThanks,\nBrian.",
    "At one point I tried to manually delete the files from the bin directory and\ncouldn\u0027t because of a \u0027sharing violation\u0027. The only app that had a hold on them\nwas eclipse. Quitting eclipse allowed me to delete them and when i restarted, it\nwas fine. Somehow, I think its right hand doesn\u0027t know what its left is doing!",
    "Is this bug consistently reproducible?  If possible, describe simple steps to\nreproduce the problem.  Also, is there anything special about your setup, such\nas working against a network drive, Samba drive, ClearCase, etc?  Do you know of\nany other tools that are operating on resources in the output folder?  Is there\na particular reason why you\u0027re running batch builds instead of incremental builds?",
    "Sorry, but I can\u0027t provide steps to reproduce. As I said, I occasionally find\nmyself with a non-working project, how or why it happens is a mystery. Its\nunfortunate that the ImageBuilderInternalException is hiding the true cause of\nthe problem.",
    "From the log file the underlying cause is clear: it is unable to delete the\nfollowing file:\n\nC:\\SHARED\\BR\\code\\bin\\images\n\nIs that a file or directory?  The failure means we called java.io.File.delete()\non that file, and it failed.  The reason for this failure is invariably because\nsome other process has an open file handle on that file or folder. Is there any\nchance some other process you are running might be retaining an open handle on\nthat file/folder?  For example, even having a command prompt open on that\ndirectory will prevent anyone from deleting it.",
    "The reason why I think this is a bug in eclipse, is because quitting eclipse\nallowed me to manually delete the files. It seemed that some other part of\neclipse had a hold on the directory.\n\nIf this is not going to be meaningful without a reproducible testcase, then we\ncan just file as worksforme and hope it doesn\u0027t happen to anyone else(?).",
    "If you are using ClearCase and Samba drives, then please add yourself to bug \n16280 and follow its progress.\n\nClosing at originator\u0027s request."
  ],
  "commentCreationDates": [
    "2002-08-21T17:08:44+02:00",
    "2002-08-22T15:12:52+02:00",
    "2002-08-23T22:33:46+02:00",
    "2002-08-26T20:43:37+02:00",
    "2002-08-26T22:05:48+02:00",
    "2002-08-26T23:06:57+02:00",
    "2002-09-27T21:33:08+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.internal.resources.ResourceException",
      "message": "Problems encountered while deleting resources.",
      "elements": [
        {
          "method": "org.eclipse.core.internal.resources.Resource.delete",
          "source": "Resource.java:460"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.BatchImageBuilder.scrubOutputFolder",
          "source": "BatchImageBuilder.java:86"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.BatchImageBuilder.build",
          "source": "BatchImageBuilder.java:33"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.JavaBuilder.buildAll",
          "source": "JavaBuilder.java:170"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.JavaBuilder.build",
          "source": "JavaBuilder.java:94"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$2.run",
          "source": "BuildManager.java:392"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:831"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:416"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:120"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:176"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:186"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$1.run",
          "source": "BuildManager.java:146"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:831"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:416"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:160"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.build",
          "source": "BuildManager.java:232"
        },
        {
          "method": "org.eclipse.core.internal.resources.Project.build",
          "source": "Project.java:85"
        },
        {
          "method": "org.eclipse.ui.actions.BuildAction.invokeOperation",
          "source": "BuildAction.java:151"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceAction.execute",
          "source": "WorkspaceAction.java:112"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceAction$1.execute",
          "source": "WorkspaceAction.java:269"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation$1.run",
          "source": "WorkspaceModifyOperation.java:64"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1361"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation.run",
          "source": "WorkspaceModifyOperation.java:78"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:98"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "22641",
      "date": "2002-08-21T17:08:44+02:00",
      "product": "Platform",
      "component": "Resources",
      "severity": "critical"
    }
  ],
  "groupId": "22641",
  "bugId": "22641",
  "date": "2002-08-21T17:08:44+02:00",
  "product": "Platform",
  "component": "Resources",
  "severity": "critical"
}