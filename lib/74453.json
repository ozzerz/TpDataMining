{
  "comments": [
    "build I20040921-0800\n\n- tried launching eclipse after upgrading to the new build\n- got some errors that some editors could not be restored\n- shut down\n- log had an NPE in PresentablePartFolder.internalRemove\n\nExcerpt from the log:\n\n\n!ENTRY org.eclipse.ui 4 4 Sep 21, 2004 13:33:56.546\n!MESSAGE Exception creating editor: The classfile is not on the classpath\n\n!ENTRY org.eclipse.ui 4 4 Sep 21, 2004 13:33:56.566\n!MESSAGE Exception creating editor: The classfile is not on the classpath\n\n!ENTRY org.eclipse.ui 4 4 Sep 21, 2004 13:33:56.576\n!MESSAGE Exception creating editor: The classfile is not on the classpath\n\n!ENTRY org.eclipse.core.runtime 4 2 Sep 21, 2004 13:34:07.272\n!MESSAGE Problems occurred when invoking code from plug-in:\n\"org.eclipse.core.runtime\".\n!STACK 0\njava.lang.NullPointerException\n\tat\norg.eclipse.ui.internal.presentations.newapi.PresentablePartFolder.internalRemove(PresentablePartFolder.java:211)\n\tat\norg.eclipse.ui.internal.presentations.newapi.PresentablePartFolder.remove(PresentablePartFolder.java:206)\n\tat\norg.eclipse.ui.internal.presentations.newapi.LeftToRightTabOrder.remove(LeftToRightTabOrder.java:58)\n\tat\norg.eclipse.ui.internal.presentations.newapi.TabbedStackPresentation.removePart(TabbedStackPresentation.java:366)\n\tat org.eclipse.ui.internal.PartStack.remove(PartStack.java:743)\n\tat\norg.eclipse.ui.internal.EditorSashContainer.removeEditor(EditorSashContainer.java:213)\n\tat org.eclipse.ui.internal.EditorAreaHelper.closeEditor(EditorAreaHelper.java:122)\n\tat org.eclipse.ui.internal.EditorAreaHelper.closeEditor(EditorAreaHelper.java:100)\n\tat org.eclipse.ui.internal.EditorManager.closeEditor(EditorManager.java:221)\n\tat org.eclipse.ui.internal.WorkbenchPage.closeEditors(WorkbenchPage.java:937)\n\tat org.eclipse.ui.internal.WorkbenchPage.closeAllEditors(WorkbenchPage.java:880)\n\tat org.eclipse.ui.internal.WorkbenchPage.dispose(WorkbenchPage.java:1252)\n\tat org.eclipse.ui.internal.WorkbenchWindow.closeAllPages(WorkbenchWindow.java:653)\n\tat org.eclipse.ui.internal.WorkbenchWindow.hardClose(WorkbenchWindow.java:1189)\n\tat org.eclipse.ui.internal.WorkbenchWindow.busyClose(WorkbenchWindow.java:542)\n\tat org.eclipse.ui.internal.WorkbenchWindow.access$0(WorkbenchWindow.java:523)\n\tat org.eclipse.ui.internal.WorkbenchWindow$1.run(WorkbenchWindow.java:618)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n\tat org.eclipse.ui.internal.WorkbenchWindow.close(WorkbenchWindow.java:616)\n\tat org.eclipse.jface.window.WindowManager.close(WindowManager.java:108)\n\tat org.eclipse.ui.internal.Workbench$10.run(Workbench.java:490)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:616)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:747)\n\tat org.eclipse.ui.internal.Workbench.busyClose(Workbench.java:486)\n\tat org.eclipse.ui.internal.Workbench.access$8(Workbench.java:421)\n\tat org.eclipse.ui.internal.Workbench$12.run(Workbench.java:606)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n\tat org.eclipse.ui.internal.Workbench.close(Workbench.java:604)\n\tat org.eclipse.ui.internal.Workbench.close(Workbench.java:579)\n\tat org.eclipse.ui.internal.QuitAction.run(QuitAction.java:55)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:988)\n\tat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:555)\n\tat\norg.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:505)\n\tat\norg.eclipse.jface.action.ActionContributionItem$6.handleEvent(ActionContributionItem.java:419)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2783)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2442)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1443)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1414)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:271)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:335)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)\n\tat java.lang.reflect.Method.invoke(Method.java:391)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\n\tat org.eclipse.core.launcher.Main.run(Main.java:684)\n\tat org.eclipse.core.launcher.Main.main(Main.java:668)",
    "Created an attachment (id\u003d14684)\nPresentablePartFolder patch\n\nHmm... hard to replicate.\n\nMost likely, the editor part failed to be created in such a manner as to\nprevent the presentation from creating a tab for its error part. When the\nworkbench tried to shut down, an attempt was made to remove an editor that\ndidn\u0027t exist, causing the NPE. There appears to be several bugs here:\n\n1. The workbench should always be able to create an error part and associated\ntab if an editor is unable to initialize.\n\n2. Attempting to remove a non-existant editor should really be a NOP, not a\nNPE.\n\nThis patch SHOULD fix item 2, but without knowing what went wrong with the\noriginal editor, we will be unable to verify this. Were there any other\nexceptions in your log immediately before this? (I\u0027d expect either a widget is\ndisposed exception on the title image, or an exception thrown in one of the\ninitialization methods of the editor).\n",
    "BTW, did the exception cause any data loss? If not, we should downgrade this\nfrom critial to normal.\n",
    "It might be possible to replicate this by writing a set of test editors that\nthrow exceptions at various points during initialization.",
    "No, no data loss.\n\nNote that I had the editor presentation in \"unibrow\" mode, though I doubt that\nmakes any difference given the stack above.\n\n",
    "Just got this by:\n- launching I200409231635\n- changing the presentation to R21\n- restarting by \"switching\" to the current workspace location (got the same\nproblem with an editor, and NPE logged)\n\nTrying to reproduce this by just restarting, changing the presentation back to\ndefault and restarting, changing the presentation back to R21 and restarting, to\nno avail.",
    "fixed by the patch to bug 87468",
    "Verified in I20050401-1205. Still can\u0027t reproduce this exact stack trace, but I\nhave confirmed that internalRemove contains the patch with the null check.\n\n(The closest I\u0027ve come to reproducing this is by running the workspace from bug\n84711 on M2 and M5a -- I was able to get the error dialog and the \"classpath\"\nmessage in my log, but the stack trace pointed to an Assertation failure rather\nthan an NPE).\n"
  ],
  "commentCreationDates": [
    "2004-09-21T19:53:29+02:00",
    "2004-09-21T22:06:19+02:00",
    "2004-09-21T22:07:43+02:00",
    "2004-09-21T22:10:05+02:00",
    "2004-09-21T22:17:26+02:00",
    "2004-09-24T17:04:36+02:00",
    "2005-03-11T03:40:50+01:00",
    "2005-04-01T21:01:21+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.internal.presentations.newapi.PresentablePartFolder.internalRemove",
          "source": "PresentablePartFolder.java:211"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.newapi.PresentablePartFolder.remove",
          "source": "PresentablePartFolder.java:206"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.newapi.LeftToRightTabOrder.remove",
          "source": "LeftToRightTabOrder.java:58"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.newapi.TabbedStackPresentation.removePart",
          "source": "TabbedStackPresentation.java:366"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.remove",
          "source": "PartStack.java:743"
        },
        {
          "method": "org.eclipse.ui.internal.EditorSashContainer.removeEditor",
          "source": "EditorSashContainer.java:213"
        },
        {
          "method": "org.eclipse.ui.internal.EditorAreaHelper.closeEditor",
          "source": "EditorAreaHelper.java:122"
        },
        {
          "method": "org.eclipse.ui.internal.EditorAreaHelper.closeEditor",
          "source": "EditorAreaHelper.java:100"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.closeEditor",
          "source": "EditorManager.java:221"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.closeEditors",
          "source": "WorkbenchPage.java:937"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.closeAllEditors",
          "source": "WorkbenchPage.java:880"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.dispose",
          "source": "WorkbenchPage.java:1252"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.closeAllPages",
          "source": "WorkbenchWindow.java:653"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.hardClose",
          "source": "WorkbenchWindow.java:1189"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.busyClose",
          "source": "WorkbenchWindow.java:542"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.access$0",
          "source": "WorkbenchWindow.java:523"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow$1.run",
          "source": "WorkbenchWindow.java:618"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.close",
          "source": "WorkbenchWindow.java:616"
        },
        {
          "method": "org.eclipse.jface.window.WindowManager.close",
          "source": "WindowManager.java:108"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$10.run",
          "source": "Workbench.java:490"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:616"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:747"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.busyClose",
          "source": "Workbench.java:486"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$8",
          "source": "Workbench.java:421"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$12.run",
          "source": "Workbench.java:606"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.close",
          "source": "Workbench.java:604"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.close",
          "source": "Workbench.java:579"
        },
        {
          "method": "org.eclipse.ui.internal.QuitAction.run",
          "source": "QuitAction.java:55"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:988"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:555"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:505"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$6.handleEvent",
          "source": "ActionContributionItem.java:419"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:796"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2783"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2442"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1443"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1414"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:271"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:144"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:102"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:335"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:273"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:58"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:60"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:391"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:684"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:668"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "74453",
      "date": "2004-09-21T19:53:29+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "74453",
  "bugId": "74453",
  "date": "2004-09-21T19:53:29+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "major"
}