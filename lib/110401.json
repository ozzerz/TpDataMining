{
  "comments": [
    "We r using AspectJ1.2.1 as a part of our application\nWe are yet to test our application with AspectJ1.5 . I\u0027ll just explain the \nerror tht we\u0027ve got while compiling an aspect,\n\nInternal compiler error\norg.aspectj.weaver.BCException: malformed \norg.aspectj.weaver.PointcutDeclaration attribute java.io.EOFException\n\tat org.aspectj.weaver.AjAttribute.read(AjAttribute.java:121)\n\tat org.aspectj.weaver.bcel.BcelAttributes.readAjAttributes\n(BcelAttributes.java:59)\n\tat org.aspectj.weaver.bcel.BcelObjectType.unpackAspectAttributes\n(BcelObjectType.java:249)\n\tat org.aspectj.weaver.bcel.BcelObjectType.\u003cinit\u003e\n(BcelObjectType.java:119)\n\tat org.aspectj.weaver.bcel.BcelWorld.makeBcelObjectType\n(BcelWorld.java:244)\n\tat org.aspectj.weaver.bcel.BcelWorld.resolveDelegate\n(BcelWorld.java:239)\n\tat org.aspectj.weaver.World.resolveToReferenceType(World.java:277)\n\tat org.aspectj.weaver.World.resolve(World.java:205)\n\tat org.aspectj.weaver.World.resolve(World.java:127)\n\tat org.aspectj.ajdt.internal.compiler.lookup.EclipseFactory.fromEclipse\n(EclipseFactory.java:125)\n\tat \norg.aspectj.ajdt.internal.compiler.lookup.EclipseSourceType.getSuperclass\n(EclipseSourceType.java:115)\n\tat org.aspectj.weaver.ReferenceType.getSuperclass\n(ReferenceType.java:443)\n\tat org.aspectj.ajdt.internal.compiler.ast.AspectDeclaration.checkSpec\n(AspectDeclaration.java:170)\n\tat \norg.aspectj.ajdt.internal.compiler.ast.AspectDeclaration.buildInterTypeAndPerCl\nause(AspectDeclaration.java:1045)\n\tat \norg.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.buildInterTypeAnd\nPerClause(AjLookupEnvironment.java:312)\n\tat \norg.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.completeTypeBindi\nngs(AjLookupEnvironment.java:128)\n\tat \norg.aspectj.org.eclipse.jdt.internal.compiler.Compiler.beginToCompile\n(Compiler.java:301)\n\tat org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile\n(Compiler.java:315)\n\tat \norg.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation\n(AjBuildManager.java:728)\n\tat org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild\n(AjBuildManager.java:206)\n\tat org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild\n(AjBuildManager.java:140)\n\tat org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:112)\n\tat org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:60)\n\tat org.aspectj.tools.ajc.Main.run(Main.java:324)\n\tat org.aspectj.tools.ajc.Main.runMain(Main.java:238)\n\tat org.aspectj.tools.ajc.Main.main(Main.java:82)\n\nabort ABORT -- (BCException) malformed org.aspectj.weaver.PointcutDeclaration \nattribute java.io.EOFException\nmalformed org.aspectj.weaver.PointcutDeclaration attribute java.io.EOFException\norg.aspectj.weaver.BCException: malformed \norg.aspectj.weaver.PointcutDeclaration attribute java.io.EOFException\n\tat org.aspectj.weaver.AjAttribute.read(AjAttribute.java:121)\n\tat org.aspectj.weaver.bcel.BcelAttributes.readAjAttributes\n(BcelAttributes.java:59)\n\tat org.aspectj.weaver.bcel.BcelObjectType.unpackAspectAttributes\n(BcelObjectType.java:249)\n\tat org.aspectj.weaver.bcel.BcelObjectType.\u003cinit\u003e\n(BcelObjectType.java:119)\n\tat org.aspectj.weaver.bcel.BcelWorld.makeBcelObjectType\n(BcelWorld.java:244)\n\tat org.aspectj.weaver.bcel.BcelWorld.resolveDelegate\n(BcelWorld.java:239)\n\tat org.aspectj.weaver.World.resolveToReferenceType(World.java:277)\n\tat org.aspectj.weaver.World.resolve(World.java:205)\n\tat org.aspectj.weaver.World.resolve(World.java:127)\n\tat org.aspectj.ajdt.internal.compiler.lookup.EclipseFactory.fromEclipse\n(EclipseFactory.java:125)\n\tat \norg.aspectj.ajdt.internal.compiler.lookup.EclipseSourceType.getSuperclass\n(EclipseSourceType.java:115)\n\tat org.aspectj.weaver.ReferenceType.getSuperclass\n(ReferenceType.java:443)\n\tat org.aspectj.ajdt.internal.compiler.ast.AspectDeclaration.checkSpec\n(AspectDeclaration.java:170)\n\tat \norg.aspectj.ajdt.internal.compiler.ast.AspectDeclaration.buildInterTypeAndPerCl\nause(AspectDeclaration.java:1045)\n\tat \norg.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.buildInterTypeAnd\nPerClause(AjLookupEnvironment.java:312)\n\tat \norg.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.completeTypeBindi\nngs(AjLookupEnvironment.java:128)\n\tat \norg.aspectj.org.eclipse.jdt.internal.compiler.Compiler.beginToCompile\n(Compiler.java:301)\n\tat org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile\n(Compiler.java:315)\n\tat \norg.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation\n(AjBuildManager.java:728)\n\tat org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild\n(AjBuildManager.java:206)\n\tat org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild\n(AjBuildManager.java:140)\n\tat org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:112)\n\tat org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:60)\n\tat org.aspectj.tools.ajc.Main.run(Main.java:324)\n\tat org.aspectj.tools.ajc.Main.runMain(Main.java:238)\n\tat org.aspectj.tools.ajc.Main.main(Main.java:82)\n\nOur aspect is very simple.It has only one parameter\n\nexecution (void orderentry.FMRServletBase.initializeRequestContext\n(com.iplanet.jato.RequestContext))\n;\n\nWe never faced any such kind of erros when we compiled in windows environment.\n\nThis is the environment whr we compiled the aspect\n\nJDK Version:            1.4.2_05\nOS version:             Solaris 8\nAspectJ Version:        AspectJ1.2.1\n\nCan u just let us know how should proceed in this error.\n\nregards\nHari..",
    "I see you have raised this with the same comment you added to 92201.  Seems\nreasonable as that bug is closed - I\u0027ll comment on this one. Few questions that\nmay help to get to the bottom of it:\n\n1. Are you using an abstract aspect with concrete sub-aspect?\n2. Are you binary weaving or building everything from source?\n\nThe bug you have described will happen if some aspect has been built by 1.2.0\nand then 1.2.1 attempts to load it.  AspectJ5 has far better support for loading\n1.2.0 and 1.2.1 aspects, I would suggest trying your compilation with the latest\ndev build of AspectJ - it might be a dev build but it passes every test that\n1.2.1 did plus over 1200 more tests.  However, I know some users can\u0027t move off\n1.2.1 yet so if you are stuck at that level we can try to get to the bottom of\nit - is there any way you could send me the entire aspect? (perhaps privately\nvia email if you don\u0027t want to attach it into public bugzilla).\n\nI\u0027ve never seen a problem that didn\u0027t manifest on windows yet manifested on\nSolaris.  I don\u0027t have solaris here so it\u0027s gonna be tough to fix.",
    "I\u0027ve been sent the code privately (thanks!) and have recreated the failure on\n1.2.1 (doesnt seem to happen on 1.5.0).  i\u0027m investigating now.",
    "This problem is the result of building an aspect with AspectJ5 then asking\nAspectJ1.2.1 to process it.  The WeaverVersionInfo attribute in the class file\ntells you what version of AspectJ was used to build the aspect.\n\nWeaverVersion 1.0 \u003d\u003e AspectJ1.2.1\nWeaverVersion 2.0 \u003d\u003e AspectJ1.5.0\n\nHere is the decompiled output from javap\u0027ing InstrumentJavaAspect:\n\nCompiled from \"InstrumentJavaAspect.aj\"\npublic class InstrumentJavaAspect extends\ncom.infosys.radien.profiler.agent.aspects.aj.AbstractInstrumentJava\n  ...\n                                                                               \n                                                                               \n                                                                               \n                 org.aspectj.weaver.WeaverVersion: length \u003d 0x4\n   00 02 00 00\n  ...",
    "Many BCExceptions have been resolved in recent 1.5.0 builds - we should now\nproperly support code built with 1.2.1.  If we don\u0027t its a 1.5 bug."
  ],
  "commentCreationDates": [
    "2005-09-23T09:37:29+02:00",
    "2005-09-23T09:52:04+02:00",
    "2005-09-23T11:38:06+02:00",
    "2005-09-23T12:07:26+02:00",
    "2005-10-28T15:33:28+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.io.EOFException",
      "elements": [
        {
          "method": "org.aspectj.weaver.AjAttribute.read",
          "source": "AjAttribute.java:121"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelAttributes.readAjAttributes",
          "source": "BcelAttributes.java:59"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelObjectType.unpackAspectAttributes",
          "source": "BcelObjectType.java:249"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelObjectType.\u003cinit\u003e",
          "source": "BcelObjectType.java:119"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWorld.makeBcelObjectType",
          "source": "BcelWorld.java:244"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWorld.resolveDelegate",
          "source": "BcelWorld.java:239"
        },
        {
          "method": "org.aspectj.weaver.World.resolveToReferenceType",
          "source": "World.java:277"
        },
        {
          "method": "org.aspectj.weaver.World.resolve",
          "source": "World.java:205"
        },
        {
          "method": "org.aspectj.weaver.World.resolve",
          "source": "World.java:127"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.EclipseFactory.fromEclipse",
          "source": "EclipseFactory.java:125"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.EclipseSourceType.getSuperclass",
          "source": "EclipseSourceType.java:115"
        },
        {
          "method": "org.aspectj.weaver.ReferenceType.getSuperclass",
          "source": "ReferenceType.java:443"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.ast.AspectDeclaration.checkSpec",
          "source": "AspectDeclaration.java:170"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.ast.AspectDeclaration.buildInterTypeAndPerClause",
          "source": "AspectDeclaration.java:1045"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.buildInterTypeAndPerClause",
          "source": "AjLookupEnvironment.java:312"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.completeTypeBindings",
          "source": "AjLookupEnvironment.java:128"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.beginToCompile",
          "source": "Compiler.java:301"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:315"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:728"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:206"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBuildManager.java:140"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.doCommand",
          "source": "AjdtCommand.java:112"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.runCommand",
          "source": "AjdtCommand.java:60"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.run",
          "source": "Main.java:324"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.runMain",
          "source": "Main.java:238"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.main",
          "source": "Main.java:82"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "110401",
      "date": "2005-09-23T09:37:29+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "blocker"
    },
    {
      "exceptionType": "java.io.EOFException",
      "elements": [
        {
          "method": "org.aspectj.weaver.AjAttribute.read",
          "source": "AjAttribute.java:121"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelAttributes.readAjAttributes",
          "source": "BcelAttributes.java:59"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelObjectType.unpackAspectAttributes",
          "source": "BcelObjectType.java:249"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelObjectType.\u003cinit\u003e",
          "source": "BcelObjectType.java:119"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWorld.makeBcelObjectType",
          "source": "BcelWorld.java:244"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWorld.resolveDelegate",
          "source": "BcelWorld.java:239"
        },
        {
          "method": "org.aspectj.weaver.World.resolveToReferenceType",
          "source": "World.java:277"
        },
        {
          "method": "org.aspectj.weaver.World.resolve",
          "source": "World.java:205"
        },
        {
          "method": "org.aspectj.weaver.World.resolve",
          "source": "World.java:127"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.EclipseFactory.fromEclipse",
          "source": "EclipseFactory.java:125"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.EclipseSourceType.getSuperclass",
          "source": "EclipseSourceType.java:115"
        },
        {
          "method": "org.aspectj.weaver.ReferenceType.getSuperclass",
          "source": "ReferenceType.java:443"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.ast.AspectDeclaration.checkSpec",
          "source": "AspectDeclaration.java:170"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.ast.AspectDeclaration.buildInterTypeAndPerClause",
          "source": "AspectDeclaration.java:1045"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.buildInterTypeAndPerClause",
          "source": "AjLookupEnvironment.java:312"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.completeTypeBindings",
          "source": "AjLookupEnvironment.java:128"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.beginToCompile",
          "source": "Compiler.java:301"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:315"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:728"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:206"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBuildManager.java:140"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.doCommand",
          "source": "AjdtCommand.java:112"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.runCommand",
          "source": "AjdtCommand.java:60"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.run",
          "source": "Main.java:324"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.runMain",
          "source": "Main.java:238"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.main",
          "source": "Main.java:82"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "110401",
      "date": "2005-09-23T09:37:29+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "blocker"
    }
  ],
  "groupId": "110401",
  "bugId": "110401",
  "date": "2005-09-23T09:37:29+02:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "blocker"
}