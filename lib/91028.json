{
  "comments": [
    "I am using WebTools 1.0.3\n\nI performed a Search/Replace in a Web project\u0027s web source folder: I\nwas replacing all occurrences of \"jf_footer.jsp\" with \"footer.jsp\"\nWhen I selected Replace All in File, I got the following Internal Error\n\norg.eclipse.core.internal.resources.ResourceException(c:/djb/eclipse-workspace/ReviewWebApp/Source/content/listComment.jsp)[272]:\njava.io.FileNotFoundException:\nc:\\djb\\eclipse-workspace\\ReviewWebApp\\Source\\content\\listComment.jsp (The\nrequested operation cannot be performed on a file with a user-mapped section open)\n\tat java.io.FileOutputStream.open(Native Method)\n\tat java.io.FileOutputStream.\u003cinit\u003e(FileOutputStream.java:179)\n\tat java.io.FileOutputStream.\u003cinit\u003e(FileOutputStream.java:102)\n\tat\norg.eclipse.core.internal.localstore.FileSystemStore.createStream(FileSystemStore.java:105)\n\tat\norg.eclipse.core.internal.localstore.FileSystemStore.write(FileSystemStore.java:386)\n\tat\norg.eclipse.core.internal.localstore.FileSystemResourceManager.write(FileSystemResourceManager.java:778)\n\tat org.eclipse.core.internal.resources.File.internalSetContents(File.java:295)\n\tat org.eclipse.core.internal.resources.File.setContents(File.java:339)\n\tat org.eclipse.core.internal.resources.File.setContents(File.java:439)\n\tat\norg.eclipse.core.internal.filebuffers.ResourceTextFileBuffer.commitFileBufferContent(ResourceTextFileBuffer.java:315)\n\tat\norg.eclipse.core.internal.filebuffers.ResourceFileBuffer.commit(ResourceFileBuffer.java:317)\n\tat\norg.eclipse.search.internal.ui.text.ReplaceDialog2.doReplaceInFile(ReplaceDialog2.java:466)\n\tat\norg.eclipse.search.internal.ui.text.ReplaceDialog2.replaceInFile(ReplaceDialog2.java:416)\n\tat\norg.eclipse.search.internal.ui.text.ReplaceDialog2.replaceInFile(ReplaceDialog2.java:398)\n\tat\norg.eclipse.search.internal.ui.text.ReplaceDialog2.access$3(ReplaceDialog2.java:394)\n\tat\norg.eclipse.search.internal.ui.text.ReplaceDialog2$3.doReplace(ReplaceDialog2.java:339)\n\tat\norg.eclipse.search.internal.ui.text.ReplaceDialog2$ReplaceOperation.run(ReplaceDialog2.java:102)\n\tat\norg.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:344)\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:289)\n\tat\norg.eclipse.search.internal.ui.util.ExtendedDialogWindow.run(ExtendedDialogWindow.java:192)\n\tat\norg.eclipse.ui.internal.progress.ProgressManager$5.run(ProgressManager.java:1061)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n\tat\norg.eclipse.ui.internal.progress.ProgressManager.runInUI(ProgressManager.java:1057)\n\tat org.eclipse.search.internal.ui.text.ReplaceDialog2.run(ReplaceDialog2.java:381)\n\tat\norg.eclipse.search.internal.ui.text.ReplaceDialog2.buttonPressed(ReplaceDialog2.java:341)\n\tat org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:543)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2908)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2541)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:718)\n\tat org.eclipse.jface.window.Window.open(Window.java:696)\n\tat org.eclipse.search.internal.ui.text.ReplaceDialog2.open(ReplaceDialog2.java:187)\n\tat org.eclipse.search.internal.ui.text.ReplaceAction2.run(ReplaceAction2.java:167)\n\tat\norg.eclipse.search.internal.ui.text.TextSearchPage$1.run(TextSearchPage.java:225)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:118)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2885)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2544)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1612)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1578)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:293)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:333)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:150)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:268)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:260)\n\tat org.eclipse.core.launcher.Main.run(Main.java:887)\n\tat org.eclipse.core.launcher.Main.main(Main.java:871)\n\nSession Data:\n\neclipse.buildId\u003dI20050219-1500\njava.version\u003d1.4.2_04\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_US\nCommand-line arguments:  -os win32 -ws win32 -arch x86 -data\nc:\\djb\\eclipse-workspace\n\nAlso, after I reinvoked a File Search for \"jf_footer.jsp\" and maually\nediting the remaining occurrences and trying to save all files, I got\na \"Save problems\" dialog: \n\n  Save could not be completed.\n  Reason: Could not write file:\nc:\\djb\\eclipse-workspace\\ReviewWebApp\\Source\\content\\showPath.jsp\n\nThe directory and file exists and have normal permissions.\n\nMay be related to bug 81361",
    "Changed Version field given new release numbering.\n",
    "\n\n*** This bug has been marked as a duplicate of 81361 ***",
    "I performed a (Ctrl-H) Search... for a text string, entered a replacement text\n(not a regular expression). I replaced the first occurrence in the file, then\nclicked Replace All in File. The operation took several seconds (on a relatively\nsmall jsp file), then I got a dialog (which I could not focus because the\nsearch/replace dialog had focus) which said:\n\nAn internal error occurred during: \"Processing Dirty Regions\".\n\nAfter dismissing the Search/Replace dialog and the above error, I view the\nEclipse error log and got the details (see traceback below). I do not\nknow if this is the same/related problem or a different bug.\nPerhaps the original resource problem was resolved, leaving this one.\nThus, I am not sure if this is a duplicate of 81361 or should be\na new bug. I will reopen for evaluation\n\njava.lang.NullPointerException\n\tat\norg.eclipse.wst.sse.ui.internal.reconcile.AbstractStructuredTextReconcilingStrategy.getStructuredDocumentRegions(AbstractStructuredTextReconcilingStrategy.java:275)\n\tat\norg.eclipse.wst.sse.ui.internal.reconcile.AbstractStructuredTextReconcilingStrategy.getAnnotationsToRemove(AbstractStructuredTextReconcilingStrategy.java:169)\n\tat\norg.eclipse.wst.sse.ui.internal.reconcile.validator.ValidatorStrategy.reconcile(ValidatorStrategy.java:177)\n\tat\norg.eclipse.wst.sse.ui.internal.reconcile.StructuredRegionProcessor.process(StructuredRegionProcessor.java:137)\n\tat\norg.eclipse.wst.sse.ui.internal.reconcile.DirtyRegionProcessor.run(DirtyRegionProcessor.java:412)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)",
    "Please note: this \"user-mapped section open\" message is a bit of a mystery to me. \nPlease see comments in bug 96062 and see if any of that sounds related to your system. \n\n",
    "FYI, I recently ran across this \"user-mapped section\" problem after upgrading to a new machine. After a great deal of head-scratching, I found it was caused by a spyware detection tool running on my machine (Spyware Doctor), that was actively scanning recently modified files. It appears to be opening the files in such a way that another process trying to concurrently modify the file is not permitted to do so by the OS.  Any file that is rapidly written multiple times seems to be susceptible - I had errors both from CVS, and from core resources during storage of a persistent property. Presumably the first write triggers the spyware tool to start its scan, which then collides with a subsequent attempt to modify the file.\n\nThis is certainly not an Eclipse problem, or even a Java problem, as evidenced by this thread concerning the same error running other Windows apps such as Visual Studio:\n\nhttp://forums.microsoft.com/MSDN/ShowPost.aspx?PostID\u003d50113\u0026SiteID\u003d1\n\nTo anyone experiencing the problem, I suggest looking for any virus scanner or spyware tool that may be causing the problem."
  ],
  "commentCreationDates": [
    "2005-04-11T19:42:05+02:00",
    "2005-06-15T07:21:35+02:00",
    "2005-06-21T07:21:02+02:00",
    "2005-07-11T18:12:48+02:00",
    "2006-03-28T08:09:41+02:00",
    "2007-06-11T23:16:23+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.io.FileNotFoundException",
      "message": "c:\\djb\\eclipse-workspace\\ReviewWebApp\\Source\\content\\listComment.jsp (The requested operation cannot be performed on a file with a user-mapped section open)",
      "elements": [
        {
          "method": "java.io.FileOutputStream.open",
          "source": "Native Method"
        },
        {
          "method": "java.io.FileOutputStream.\u003cinit\u003e",
          "source": "FileOutputStream.java:179"
        },
        {
          "method": "java.io.FileOutputStream.\u003cinit\u003e",
          "source": "FileOutputStream.java:102"
        },
        {
          "method": "org.eclipse.core.internal.localstore.FileSystemStore.createStream",
          "source": "FileSystemStore.java:105"
        },
        {
          "method": "org.eclipse.core.internal.localstore.FileSystemStore.write",
          "source": "FileSystemStore.java:386"
        },
        {
          "method": "org.eclipse.core.internal.localstore.FileSystemResourceManager.write",
          "source": "FileSystemResourceManager.java:778"
        },
        {
          "method": "org.eclipse.core.internal.resources.File.internalSetContents",
          "source": "File.java:295"
        },
        {
          "method": "org.eclipse.core.internal.resources.File.setContents",
          "source": "File.java:339"
        },
        {
          "method": "org.eclipse.core.internal.resources.File.setContents",
          "source": "File.java:439"
        },
        {
          "method": "org.eclipse.core.internal.filebuffers.ResourceTextFileBuffer.commitFileBufferContent",
          "source": "ResourceTextFileBuffer.java:315"
        },
        {
          "method": "org.eclipse.core.internal.filebuffers.ResourceFileBuffer.commit",
          "source": "ResourceFileBuffer.java:317"
        },
        {
          "method": "org.eclipse.search.internal.ui.text.ReplaceDialog2.doReplaceInFile",
          "source": "ReplaceDialog2.java:466"
        },
        {
          "method": "org.eclipse.search.internal.ui.text.ReplaceDialog2.replaceInFile",
          "source": "ReplaceDialog2.java:416"
        },
        {
          "method": "org.eclipse.search.internal.ui.text.ReplaceDialog2.replaceInFile",
          "source": "ReplaceDialog2.java:398"
        },
        {
          "method": "org.eclipse.search.internal.ui.text.ReplaceDialog2.access$3",
          "source": "ReplaceDialog2.java:394"
        },
        {
          "method": "org.eclipse.search.internal.ui.text.ReplaceDialog2$3.doReplace",
          "source": "ReplaceDialog2.java:339"
        },
        {
          "method": "org.eclipse.search.internal.ui.text.ReplaceDialog2$ReplaceOperation.run",
          "source": "ReplaceDialog2.java:102"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:344"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:289"
        },
        {
          "method": "org.eclipse.search.internal.ui.util.ExtendedDialogWindow.run",
          "source": "ExtendedDialogWindow.java:192"
        },
        {
          "method": "org.eclipse.ui.internal.progress.ProgressManager$5.run",
          "source": "ProgressManager.java:1061"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.ui.internal.progress.ProgressManager.runInUI",
          "source": "ProgressManager.java:1057"
        },
        {
          "method": "org.eclipse.search.internal.ui.text.ReplaceDialog2.run",
          "source": "ReplaceDialog2.java:381"
        },
        {
          "method": "org.eclipse.search.internal.ui.text.ReplaceDialog2.buttonPressed",
          "source": "ReplaceDialog2.java:341"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$2.widgetSelected",
          "source": "Dialog.java:543"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:89"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:842"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2908"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2541"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:718"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:696"
        },
        {
          "method": "org.eclipse.search.internal.ui.text.ReplaceDialog2.open",
          "source": "ReplaceDialog2.java:187"
        },
        {
          "method": "org.eclipse.search.internal.ui.text.ReplaceAction2.run",
          "source": "ReplaceAction2.java:167"
        },
        {
          "method": "org.eclipse.search.internal.ui.text.TextSearchPage$1.run",
          "source": "TextSearchPage.java:225"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:118"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:2885"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2544"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1612"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1578"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:293"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:144"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:102"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:228"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:333"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:150"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:268"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:260"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:887"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:871"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "91028",
      "date": "2005-04-11T19:42:05+02:00",
      "product": "Web Tools",
      "component": "wst.sse",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.wst.sse.ui.internal.reconcile.AbstractStructuredTextReconcilingStrategy.getStructuredDocumentRegions",
          "source": "AbstractStructuredTextReconcilingStrategy.java:275"
        },
        {
          "method": "org.eclipse.wst.sse.ui.internal.reconcile.AbstractStructuredTextReconcilingStrategy.getAnnotationsToRemove",
          "source": "AbstractStructuredTextReconcilingStrategy.java:169"
        },
        {
          "method": "org.eclipse.wst.sse.ui.internal.reconcile.validator.ValidatorStrategy.reconcile",
          "source": "ValidatorStrategy.java:177"
        },
        {
          "method": "org.eclipse.wst.sse.ui.internal.reconcile.StructuredRegionProcessor.process",
          "source": "StructuredRegionProcessor.java:137"
        },
        {
          "method": "org.eclipse.wst.sse.ui.internal.reconcile.DirtyRegionProcessor.run",
          "source": "DirtyRegionProcessor.java:412"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:76"
        }
      ],
      "number": 1,
      "commentIndex": 3,
      "bugId": "91028",
      "date": "2005-07-11T18:12:48+02:00",
      "product": "Web Tools",
      "component": "wst.sse",
      "severity": "normal"
    }
  ],
  "groupId": "91028",
  "bugId": "91028",
  "date": "2005-04-11T19:42:05+02:00",
  "product": "Web Tools",
  "component": "wst.sse",
  "severity": "normal"
}