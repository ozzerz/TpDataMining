{
  "comments": [
    "Using I20051025-0800, I defined an external tool builder to use a specific ant\nscript. So far, so good. Then I wanted to get a refresh on selected resources\nbecause I am copying a jar file in another project.\nWhen I clicked on the button to select the resources I want to be refreshed I\ngot this NPE.\n\njava.lang.NullPointerException\n\tat\norg.eclipse.ui.internal.dialogs.WorkingSetEditWizard.\u003cinit\u003e(WorkingSetEditWizard.java:41)\n\tat\norg.eclipse.ui.internal.AbstractWorkingSetManager.createWorkingSetEditWizard(AbstractWorkingSetManager.java:500)\n\tat org.eclipse.debug.ui.RefreshTab.selectResources(RefreshTab.java:207)\n\tat org.eclipse.debug.ui.RefreshTab.access$1(RefreshTab.java:201)\n\tat org.eclipse.debug.ui.RefreshTab$3.widgetSelected(RefreshTab.java:190)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:893)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3238)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2858)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:809)\n\tat org.eclipse.jface.window.Window.open(Window.java:787)\n\tat\norg.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.open(LaunchConfigurationsDialog.java:439)\n\tat org.eclipse.debug.ui.DebugUITools$1.run(DebugUITools.java:356)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n\tat\norg.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup(DebugUITools.java:360)\n\tat\norg.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup(DebugUITools.java:302)\n\tat\norg.eclipse.debug.ui.actions.OpenLaunchDialogAction.run(OpenLaunchDialogAction.java:80)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:996)\n\tat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:544)\n\tat\norg.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:494)\n\tat\norg.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:406)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:893)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3238)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2858)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1763)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1727)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:371)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:375)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:164)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:282)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)",
    "Seems to belong to Platform/Debug",
    "The bug comes from the fact that the working set created in\nRefreshTab.selectResources has no id set. Therefore this leads to a NPE.",
    "It seems that there are two bugs.\n1) No id set leads to a NPE when trying to get the working set page.\n2) In\norg.eclipse.ui.internal.AbstractWorkingSetManager.createWorkingSetEditWizard\nthere is no protection if registry.getWorkingSetPage(editPageId) returns null.\nThe editPage would still be null and this can lead to another NPE.\nSome code was commented out.\nMaybe this is a consequence of putting a random id for the editPageId. But\nbecause the method can potentially return null, this should be handled.\nKim, I put you on the CC list since you were the one that commented out the null\ncheck.",
    "I patched the code by setting the id to \"org.eclipse.ui.resourceWorkingSetPage\".\nThis string is defined in org.eclipse.ui.internal.registry.WorkingSetRegistry as\na  constant, but I also found it at other locations like:\norg.eclipse.ui.internal.registry.WorkingSetRegistry line 125\norg.eclipse.ui.internal.registry.WorkingSetRegistry line 53\n\nThe same constant should be reused.",
    "I will sort this out first thing in the AM.  I will flog myself now... how silly of me.",
    "I\u0027ve reverted my change.",
    "I think this should be moved back to Platform/debug in order to fix the fact\nthat no id is set for the working set they create.",
    "Well, it\u0027s perfectly valid not to have one.  Technically they aren\u0027t doing anything wrong, and if the default \npage is adequate for their set everything should be fine.  I have a philosophical problem with the fact that \nwe\u0027re throwing resource edit pages at arbitrary working sets but that\u0027s what the API is documented to do.  \nSigh... \n\nIf you feel it\u0027s important, feel free to punt it back.  By the letter of the law they\u0027re innocent.",
    "Then it is ok. I thought there were two bugs.\nThanks for fixing it.",
    "Moving to UI, as debug did not fix anything here.",
    "Verified in I20051101-1204"
  ],
  "commentCreationDates": [
    "2005-10-25T20:49:30+02:00",
    "2005-10-25T20:51:15+02:00",
    "2005-10-25T21:09:47+02:00",
    "2005-10-25T21:23:57+02:00",
    "2005-10-25T21:32:45+02:00",
    "2005-10-25T23:47:02+02:00",
    "2005-10-26T16:58:35+02:00",
    "2005-10-26T17:02:25+02:00",
    "2005-10-26T17:10:24+02:00",
    "2005-10-26T17:16:52+02:00",
    "2005-10-26T20:42:08+02:00",
    "2005-11-02T14:22:34+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.internal.dialogs.WorkingSetEditWizard.\u003cinit\u003e",
          "source": "WorkingSetEditWizard.java:41"
        },
        {
          "method": "org.eclipse.ui.internal.AbstractWorkingSetManager.createWorkingSetEditWizard",
          "source": "AbstractWorkingSetManager.java:500"
        },
        {
          "method": "org.eclipse.debug.ui.RefreshTab.selectResources",
          "source": "RefreshTab.java:207"
        },
        {
          "method": "org.eclipse.debug.ui.RefreshTab.access$1",
          "source": "RefreshTab.java:201"
        },
        {
          "method": "org.eclipse.debug.ui.RefreshTab$3.widgetSelected",
          "source": "RefreshTab.java:190"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:90"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:893"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3238"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2858"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:809"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:787"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.open",
          "source": "LaunchConfigurationsDialog.java:439"
        },
        {
          "method": "org.eclipse.debug.ui.DebugUITools$1.run",
          "source": "DebugUITools.java:356"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup",
          "source": "DebugUITools.java:360"
        },
        {
          "method": "org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup",
          "source": "DebugUITools.java:302"
        },
        {
          "method": "org.eclipse.debug.ui.actions.OpenLaunchDialogAction.run",
          "source": "OpenLaunchDialogAction.java:80"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:996"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:544"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:494"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:406"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:893"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3238"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2858"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1763"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1727"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:371"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:375"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:164"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:338"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:282"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "113688",
      "date": "2005-10-25T20:49:30+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "critical"
    }
  ],
  "groupId": "113688",
  "bugId": "113688",
  "date": "2005-10-25T20:49:30+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "critical"
}