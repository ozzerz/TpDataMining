{
  "comments": [
    "3.2M5 changed the semantics of the parameter \u0027pluginPath\u0027 on\neclipse.buildScript to permit you to specify a list of directories in which\nto search for plugins and features. This is a much welcomed feature as\nit permits you to organize your features and plugins into separate directories\nby functionality. \neclipse.buildScript will, however, cause exceptions if it cannot find any\nfeatures/plugins within buildDirectory. Specifically if there isn\u0027t a\nfeatures and plugins directories, an exception is generated.\nIf however, there is an empty features and plugins directories under buildDirectory, no exception is generated.\nI am pointing buildDirectory elsewhere for the purpose of\norganizing/managing the generated assemble.* and package.* scripts.\n\nThe workaround for this is to ensure you have dummy features and plugins\ndirectory under buildDirectory.\n\nIt would be nice, however, if the exception wasn\u0027t thrown at all.\n\nIt should be noted that this seems to be the same exception that is thrown\nwhen you attempt to build a plugin that only has an OSGI manifest.\n(i.e. no need for plugin.xml if there aren\u0027t any extensions).\n\nI am attaching a tar.gz that fully demonstrates this.\n\nJohn.\n\n\nBelow is the actual exception:\n[eclipse.buildScript] !SESSION 2006-03-15 08:30:53.264 -----------------------------------------------\n[eclipse.buildScript] eclipse.buildId\u003dI20060217-1115\n[eclipse.buildScript] java.version\u003d1.4.2_09\n[eclipse.buildScript] java.vendor\u003dSun Microsystems Inc.\n[eclipse.buildScript] BootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_US\n[eclipse.buildScript] Framework arguments:  -application org.eclipse.ant.core.antRunner -buildfile generate.xml -DbaseLocation\u003dc:/eclipse_3.2M5 -DpluginPath\u003dc:/bug/myStuff -DbuildDirectory\u003dc:/bug/buildDirectory -Dfeatures\u003dfeature@f1\n[eclipse.buildScript] Command-line arguments:  -consolelog -ws win32 -application org.eclipse.ant.core.antRunner -buildfile generate.xml -DbaseLocation\u003dc:/eclipse_3.2M5 -DpluginPath\u003dc:/bug/myStuff -DbuildDirectory\u003dc:/bug/buildDirectory -Dfeatures\u003dfeature@f1\n\n[eclipse.buildScript] !ENTRY org.eclipse.pde.build 2 0 2006-03-15 08:30:55.217\n[eclipse.buildScript] !MESSAGE An error occured while generating manifest for c:\\bug\\buildDirectory.\n[eclipse.buildScript] !STACK 0\n[eclipse.buildScript] org.eclipse.osgi.service.pluginconversion.PluginConversionException: Could not find a plugin.xml or a fragment.xml in c:\\bug\\buildDirectory.\n[eclipse.buildScript] \tat org.eclipse.core.runtime.internal.adaptor.PluginConverterImpl.fillPluginInfo(PluginConverterImpl.java:107)\n[eclipse.buildScript] \tat org.eclipse.core.runtime.internal.adaptor.PluginConverterImpl.convertManifest(PluginConverterImpl.java:703)\n[eclipse.buildScript] \tat org.eclipse.pde.internal.build.site.PDEState.convertPluginManifest(PDEState.java:297)\n[eclipse.buildScript] \tat org.eclipse.pde.internal.build.site.PDEState.basicLoadManifest(PDEState.java:232)\n[eclipse.buildScript] \tat org.eclipse.pde.internal.build.site.PDEState.loadManifest(PDEState.java:284)\n[eclipse.buildScript] \tat org.eclipse.pde.internal.build.site.PDEState.addBundle(PDEState.java:158)\n[eclipse.buildScript] \tat org.eclipse.pde.internal.build.site.PDEState.addBundles(PDEState.java:326)\n[eclipse.buildScript] \tat org.eclipse.pde.internal.build.site.BuildTimeSite.getRegistry(BuildTimeSite.java:72)\n[eclipse.buildScript] \tat org.eclipse.pde.internal.build.builder.FeatureBuildScriptGenerator.computeElements(FeatureBuildScriptGenerator.java:113)\n[eclipse.buildScript] \tat org.eclipse.pde.internal.build.builder.FeatureBuildScriptGenerator.generateChildrenScripts(FeatureBuildScriptGenerator.java:762)\n[eclipse.buildScript] \tat org.eclipse.pde.internal.build.builder.FeatureBuildScriptGenerator.generate(FeatureBuildScriptGenerator.java:233)\n[eclipse.buildScript] \tat org.eclipse.pde.internal.build.BuildScriptGenerator.generateFeatures(BuildScriptGenerator.java:168)\n[eclipse.buildScript] \tat org.eclipse.pde.internal.build.BuildScriptGenerator.generate(BuildScriptGenerator.java:80)\n[eclipse.buildScript] \tat org.eclipse.pde.internal.build.tasks.BuildScriptGeneratorTask.run(BuildScriptGeneratorTask.java:80)\n[eclipse.buildScript] \tat org.eclipse.pde.internal.build.tasks.BuildScriptGeneratorTask.execute(BuildScriptGeneratorTask.java:72)\n[eclipse.buildScript] \tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n[eclipse.buildScript] \tat org.apache.tools.ant.Task.perform(Task.java:364)\n[eclipse.buildScript] \tat org.apache.tools.ant.Target.execute(Target.java:341)\n[eclipse.buildScript] \tat org.apache.tools.ant.Target.performTasks(Target.java:369)\n[eclipse.buildScript] \tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)\n[eclipse.buildScript] \tat org.apache.tools.ant.Project.executeTarget(Project.java:1185)\n[eclipse.buildScript] \tat org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:40)\n[eclipse.buildScript] \tat org.eclipse.ant.internal.core.ant.EclipseDefaultExecutor.executeTargets(EclipseDefaultExecutor.java:32)\n[eclipse.buildScript] \tat org.apache.tools.ant.Project.executeTargets(Project.java:1068)\n[eclipse.buildScript] \tat org.eclipse.ant.internal.core.ant.InternalAntRunner.run(InternalAntRunner.java:704)\n[eclipse.buildScript] \tat org.eclipse.ant.internal.core.ant.InternalAntRunner.run(InternalAntRunner.java:582)\n[eclipse.buildScript] \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[eclipse.buildScript] \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n[eclipse.buildScript] \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n[eclipse.buildScript] \tat java.lang.reflect.Method.invoke(Method.java:324)\n[eclipse.buildScript] \tat org.eclipse.ant.core.AntRunner.run(AntRunner.java:494)\n[eclipse.buildScript] \tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:99)\n[eclipse.buildScript] \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n[eclipse.buildScript] \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n[eclipse.buildScript] \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:374)\n[eclipse.buildScript] \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)\n[eclipse.buildScript] \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[eclipse.buildScript] \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n[eclipse.buildScript] \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n[eclipse.buildScript] \tat java.lang.reflect.Method.invoke(Method.java:324)\n[eclipse.buildScript] \tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)\n[eclipse.buildScript] \tat org.eclipse.core.launcher.Main.basicRun(Main.java:282)\n[eclipse.buildScript] \tat org.eclipse.core.launcher.Main.run(Main.java:977)\n[eclipse.buildScript] \tat org.eclipse.core.launcher.Main.main(Main.java:952)\nBUILD SUCCESSFUL\n\nBUILD SUCCESSFUL\nTotal time: 0 seconds",
    "Created an attachment (id\u003d36330)\nSource and example script demonstrating eclipse.buildScript throwning an exception\n\nUnpack bug.tar.gz\nSee bug/readme.txt for description.\n\nContents:\n    bug/\n        readme.txt\n\n        buildDirectory/\n            build.bat\n            build.log\n            generate.xml\n\n        myStuff/\n            features/\n                f1/\n            plugins/\n                p1/\n",
    "I ran into this, too. It\u0027s very confusing to see a SUCCESS result with an exception message.",
    "I believe this has been fixed by Andrew in M6. Leaving open for now for confirmation.",
    "John, could you please check?",
    "This is the same as 147292.  I haven\u0027t fixed it yet, I did look briefly at fixing it before EclipseCon but it wasn\u0027t as easy as I had first hoped so I did nothing at the time.\n\n*** This bug has been marked as a duplicate of bug 147292 ***"
  ],
  "commentCreationDates": [
    "2006-03-15T14:04:15+01:00",
    "2006-03-15T14:06:49+01:00",
    "2006-09-17T14:32:09+02:00",
    "2007-03-30T15:20:24+02:00",
    "2007-03-30T15:20:41+02:00",
    "2007-03-30T17:37:52+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.osgi.service.pluginconversion.PluginConversionException",
      "message": "Could not find a plugin.xml or a fragment.xml in c:\\bug\\buildDirectory. [eclipse.buildScript]",
      "elements": [
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.PluginConverterImpl.fillPluginInfo",
          "source": "PluginConverterImpl.java:107"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "131923",
      "duplicateId": "147292",
      "date": "2006-03-15T14:04:15+01:00",
      "product": "PDE",
      "component": "Build",
      "severity": "normal"
    }
  ],
  "groupId": "147292",
  "bugId": "131923",
  "duplicateId": "147292",
  "date": "2006-03-15T14:04:15+01:00",
  "product": "PDE",
  "component": "Build",
  "severity": "normal"
}