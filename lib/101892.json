{
  "comments": [
    "When I lanch Eclipse 3.1RC4 on my linux laptop, I have the following fatal error:\n---------------------------------------------------------------------------\nBootLoader constants: OS\u003dlinux, ARCH\u003dx86, WS\u003dgtk, NL\u003dfr_FR\nCommand-line arguments:  -os linux -ws gtk -arch x86\n\n!ENTRY org.eclipse.osgi 2005-06-27 18:35:21.134\n!MESSAGE Error reading configuration:\n/home/latelier/eclipse/v3.1RC4/rhel4.0/eclipse/configuration/org.eclipse.osgi/.manager/.fileTableLock\n(No such file or directory)\n!STACK 0\njava.io.FileNotFoundException:\n/home/latelier/eclipse/v3.1RC4/rhel4.0/eclipse/configuration/org.eclipse.osgi/.manager/.fileTableLock\n(No such file or directory)\n        at java.io.FileOutputStream.openAppend(Native Method)\n        at java.io.FileOutputStream.\u003cinit\u003e(FileOutputStream.java:177)\n        at\norg.eclipse.core.runtime.internal.adaptor.Locker_JavaNio.lock(Locker_JavaNio.java:34)\n        at org.eclipse.core.runtime.adaptor.FileManager.lock(FileManager.java:361)\n        at org.eclipse.core.runtime.adaptor.FileManager.open(FileManager.java:658)\n        at\norg.eclipse.core.runtime.adaptor.EclipseAdaptor.initFileManager(EclipseAdaptor.java:809)\n        at\norg.eclipse.core.runtime.adaptor.EclipseAdaptor.initialize(EclipseAdaptor.java:139)\n        at\norg.eclipse.osgi.framework.internal.core.Framework.initialize(Framework.java:126)\n        at\norg.eclipse.osgi.framework.internal.core.Framework.\u003cinit\u003e(Framework.java:104)\n        at\norg.eclipse.osgi.framework.internal.core.OSGi.createFramework(OSGi.java:90)\n        at org.eclipse.osgi.framework.internal.core.OSGi.\u003cinit\u003e(OSGi.java:31)\n        at\norg.eclipse.core.runtime.adaptor.EclipseStarter.startup(EclipseStarter.java:272)\n        at\norg.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:159)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n        at org.eclipse.core.launcher.Main.run(Main.java:973)\n        at org.eclipse.core.launcher.Main.main(Main.java:948)\n---------------------------------------------------------------------------\n\nContext:\n--------\nSystem : Red Hat Entreprise Linux 4.0\nEclipse: 3.1RC4 (version for GTK)\nJ2SE   : 1.4.2\n\nMy Eclipse 3.1RC4 is not installed on same account that I used it: Eclipse is\ninstalled on account \"latelier\" and I use it from the \"wieczorek\" account. The\nuser \"wieczorek\" can\u0027t modifie the content of the directory \"latelier\".\n\nThe directory .../eclipse/configuration/org.eclipse.osgi\" doesn\u0027t exist, and I\ndon\u0027t known what is this directory \"org.eclipse.osgi\" (it doesn\u0027t exist on\nprevious versions: 3.1RC1 and 3.0.2).\n\nWith the versions 3.0.2 and 3.1RC1, Eclipse works well...",
    "Is there a ~wieczorek/.eclipse/org.eclipse.platform_3.1.0 directory? If so,\nrename it to something else (for instance, org.eclipse.platform_3.1.0.old), then\ntry starting again. Does it work?",
    "From originator:\n\n\"That doesn\u0027t work.\n\nYes I have a directory ~wieczorek/.eclipse/org.eclipse.platform_3.1.0,\nbut even when I remove it Eclipse 3.1RC4 refuses to start (I obtain the\nsame error message).\n\nThat doesn\u0027t work either when I remove all the directory\n\"~wieczorek/.eclipse\".\n\"",
    "Frank, Eclipse supports running against a central locked down shared install but\nnot running against other user\u0027s install. This is what we think might be causing\nyou problems. Do you think that it might have happened, i.e., eventually users\nlatelier and wieczorek run Eclipse at the same time?\n\nEither way, could you list here the output of:\n\nls -l /home/latelier/eclipse/v3.1RC4/rhel4.0/eclipse/configuration/*\n\nThanks.",
    "From originator:\n\n\"No, nobody is logged on latelier and no Eclipse run from latelier.\nHere is the contents of the directory\n\"/home/latelier/eclipse/v3.1RC4/rhel4.0/eclipse/configuration\" :\n------------------------------------------------\n-rw-r--r--  1 latelier users 3330 jun 24 22:08 config.ini\n------------------------------------------------\n\nI made several tests with several versions of Eclipse and plugins, and\nfinally, I was able to put in evidence that the problem did not come\nfrom Eclipse but from the last build of the CDT plugin. If I do not\ninstall CDT, Eclipse 3.1RC4 works well. But, as soon as I install CDT\n(I200506270955), Eclipse cannot start any more (I tried with Eclipse\n3.1RC3 et 3.1RC4).\n\"",
    "Could you please describe how you installed CDT? Thanks.\n\n(please respond using the Bugzilla form - just clicking on the link at the very\ntop of the message)",
    "(In reply to comment #5)\n\u003e Could you please describe how you installed CDT? Thanks.\n\u003e \n\u003e (please respond using the Bugzilla form - just clicking on the link at the very\n\u003e top of the message)\n\nHere are commands that I execute to install Eclipse 3.1RC4 with CDT:\n-------------------------------------------------------------------------\nsu - latelier\numask 022\nmkdir -p eclipse/v3.1RC4/rhel4.0\ncd eclipse/v3.1RC4/rhel4.0\ntar xzvf $PKGDIR/eclipse-3.1RC4/eclipse-platform-3.1RC4-linux-gtk.tar.gz\nunzip -n $PKGDIR/eclipse-3.1RC4/eclipse-PDE-3.1RC4.zip\nunzip -n $PKGDIR/eclipse-3.1RC4/eclipse-JDT-3.1RC4.zip\ntar xzvf $PKGDIR/cdt/org.eclipse.cdt-3.0.0-I200506270955-linux.x86.tar.gz\n-----------------------------------------------------------------------------\n\nAfter, to run Eclipse I execute the following command from the account \"wieczorek\":\n-----------------------------------------------------------------------------\n/home/latelier/eclipse/v3.1RC4/rhel4.0/eclipse/eclipse\n-----------------------------------------------------------------------------",
    "Frank, could you run the failing scenario with -debug? Please add the output to\nthis PR (attachment would be fine). Thanks.",
    "Created an attachment (id\u003d24224)\nOutputs produced by Eclipse with the option -debug\n",
    "Ok, thanks. Another request - what is the output of:\n\nls -l /home/latelier/eclipse/v3.1RC4/rhel4.0/eclipse/",
    "(In reply to comment #9)\n\u003e Ok, thanks. Another request - what is the output of:\n\u003e \n\u003e ls -l /home/latelier/eclipse/v3.1RC4/rhel4.0/eclipse/\n\nwieczorek\u003e ls -l /home/latelier/eclipse/v3.1RC4/rhel4.0/eclipse/\ntotal 336\ndrwxr-xr-x   2 latelier users   4096 jun 24 22:08 about_files/\n-rw-r--r--   1 latelier users    585 jun 24 22:08 about.html\ndrwxr-xr-x   2 latelier users   4096 jun 24 22:08 configuration/\n-rwxr-xr-x   1 latelier users  22161 jun 24 22:08 eclipse\n-rw-r--r--   1 latelier users     25 jun 24 22:08 eclipse.ini\n-rw-rw-r--   1 latelier users  16536 jun 24 22:48 epl-v10.html\ndrwxrwxr-x   9 latelier users   4096 jun 27 18:27 features/\n-rw-r--r--   1 latelier users   9022 jun 24 22:08 icon.xpm\n-rwxr-xr-x   1 latelier users 203300 jun 24 22:08 libcairo.so.1\n-rw-rw-r--   1 latelier users   6506 jun 24 22:48 notice.html\ndrwxrwxr-x  41 latelier users  12288 jun 27 18:27 plugins/\ndrwxr-xr-x   2 latelier users   4096 jun 24 22:08 readme/\n-rw-r--r--   1 latelier users  31420 jun 24 22:08 startup.jar\nwieczorek\u003e",
    "Ok, sorry, we need to see the eclipse install parmission flags. It should have\nbeen: \n\nls -la ...\n\ninstead. We are only interested in the \".\" entry (the directory itself).\n\n",
    "Basically, it should be rwxr-xr-x (the install should be write protected). If it\nis rwxrwxrwx or rwxrwxr-x that would explain the problem.",
    "(In reply to comment #12)\n\u003e Basically, it should be rwxr-xr-x (the install should be write protected). If it\n\u003e is rwxrwxrwx or rwxrwxr-x that would explain the problem.\n\nThat works !\n\nIt was well a problem of permissions on the repertory\n\"/home/latelier/eclipse/v3.1RC4/rhel4.0/eclipse\". I had rwxrwxr-x, and since I\nput rwxr-xr-x everything works.\n\nBut, I tried to understand at which time the permissions of the directory had\nbeen modified. It\u0027s the installation of an archiv \"*.tar.gz\" which change the\npermission when the directory \"eclipse\" already exists. If I install\n\"org.eclipse.cdt-3.0.0-I200506270955-linux.x86.tar.gz\" in an empty directory,\nthe directory \"eclipse\" is created with the right permissions. But if I create a\ndirectory \"eclipse\" with the right permissions, and then I install the CDT\narchiv, the permissions are modified. The problem appears also with the archiv \"\neclipse-platform-3.1RC4-linux-gtk.tar.gz\".\n\nwieczorek\u003e umask 022\nwieczorek\u003e mkdir tmp\nwieczorek\u003e cd tmp\n\n## Test 1\nwieczorek\u003e tar xzvf org.eclipse.cdt-3.0.0-I200506270955-linux.x86.tar.gz\nwieczorek\u003e ls -l\ndrwxr-xr-x  4 wieczorek users 4096 jun 27 16:07 eclipse/\nwieczorek\u003e rm -rf eclipse\n\n## Test 2\nwieczorek\u003e mkdir eclipse\nwieczorek\u003e ls -l\ndrwxr-xr-x  4 wieczorek users 4096 jun 27 16:07 eclipse/\nwieczorek\u003e tar xzvf org.eclipse.cdt-3.0.0-I200506270955-linux.x86.tar.gz\nwieczorek\u003e ls -l\ndrwxrwxr-x  4 wieczorek users 4096 jun 27 16:07 eclipse/\n\n\nI made the same test with an archiv that I generated, and the problem appears\nonly if the original directory used to produce the archiv have the permission\nrwxrwxr-x. In this case, the permissions are stored in the archiv, and if the\ndirectory already exists, when I install the archiv \"tar\" ignore \"umask\" and\nchange the permissions. I suppose that is a bug of the \"tar\" command. But, this\nalso means that the developpers which produced these archives have too the\npermissions rwxrwxr-x on directory \"eclipse\". Should not they thus have too the\nproblem?",
    "Ok, thanks for all the testing. Moving to CDT. Can you guys make sure the CDT\ndrop has the \"eclipse\" dir as drwxr-xr-x?",
    "I\u0027ll take a look.",
    "Turns out the umask on my build machine was set to 0002. I\u0027ve fixed it in my\nbuild scripts and all new builds should be fine."
  ],
  "commentCreationDates": [
    "2005-06-27T19:09:09+02:00",
    "2005-06-27T19:31:42+02:00",
    "2005-06-28T15:58:07+02:00",
    "2005-06-28T16:13:24+02:00",
    "2005-06-28T18:37:54+02:00",
    "2005-06-28T18:40:49+02:00",
    "2005-06-29T10:12:59+02:00",
    "2005-06-29T19:21:18+02:00",
    "2005-06-30T19:08:00+02:00",
    "2005-06-30T19:14:32+02:00",
    "2005-06-30T19:24:27+02:00",
    "2005-06-30T19:45:25+02:00",
    "2005-06-30T19:46:31+02:00",
    "2005-07-01T11:26:47+02:00",
    "2005-07-01T22:00:49+02:00",
    "2005-07-02T17:43:15+02:00",
    "2005-07-13T22:56:47+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.io.FileNotFoundException",
      "message": "/home/latelier/eclipse/v3.1RC4/rhel4.0/eclipse/configuration/org.eclipse.osgi/.manager/.fileTableLock (No such file or directory)",
      "elements": [
        {
          "method": "java.io.FileOutputStream.openAppend",
          "source": "Native Method"
        },
        {
          "method": "java.io.FileOutputStream.\u003cinit\u003e",
          "source": "FileOutputStream.java:177"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.Locker_JavaNio.lock",
          "source": "Locker_JavaNio.java:34"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.FileManager.lock",
          "source": "FileManager.java:361"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.FileManager.open",
          "source": "FileManager.java:658"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseAdaptor.initFileManager",
          "source": "EclipseAdaptor.java:809"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseAdaptor.initialize",
          "source": "EclipseAdaptor.java:139"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.Framework.initialize",
          "source": "Framework.java:126"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.Framework.\u003cinit\u003e",
          "source": "Framework.java:104"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.OSGi.createFramework",
          "source": "OSGi.java:90"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.OSGi.\u003cinit\u003e",
          "source": "OSGi.java:31"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.startup",
          "source": "EclipseStarter.java:272"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:159"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "101892",
      "date": "2005-06-27T19:09:09+02:00",
      "product": "CDT",
      "component": "cdt-releng",
      "severity": "blocker"
    }
  ],
  "groupId": "101892",
  "bugId": "101892",
  "date": "2005-06-27T19:09:09+02:00",
  "product": "CDT",
  "component": "cdt-releng",
  "severity": "blocker"
}