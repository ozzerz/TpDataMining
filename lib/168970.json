{
  "comments": [
    "Build ID:  M20060921-0945\n\nSteps To Reproduce:\n1. Create a Dynamic Web Project\n2. Select properties-\u003eJ2EE Module Dependencies-\u003eWeb libraries\n3. click on \"Add Variable\"\n4. Create a new variable (Es: MyLIB) pointing to a jar somwhere in your file system. \n5. Create a Tomcat 5.5 Server configuration and add your webapp\n6. A \"Cannot publish to server.\" error appear.\njava.lang.IllegalArgumentException: Path must include project and resource name: /MyLIB\n\tat org.eclipse.core.runtime.Assert.isLegal(Assert.java:62)\n\tat org.eclipse.core.internal.resources.Workspace.newResource(Workspace.java:1571)\n\tat org.eclipse.core.internal.resources.Container.getFile(Container.java:123)\n\tat org.eclipse.wst.common.componentcore.internal.resources.VirtualArchiveComponent.getWorkspaceRelativePath(VirtualArchiveComponent.java:113)\n\tat org.eclipse.wst.web.internal.deployables.ComponentDeployable.addUtilMembers(ComponentDeployable.java:350)\n\tat org.eclipse.jst.j2ee.internal.deployables.J2EEFlexProjDeployable.members(J2EEFlexProjDeployable.java:193)\n\tat org.eclipse.wst.server.core.internal.ModulePublishInfo.fillCache(ModulePublishInfo.java:212)\n\tat org.eclipse.wst.server.core.internal.ModulePublishInfo.getDelta(ModulePublishInfo.java:261)\n\tat org.eclipse.wst.server.core.internal.ServerPublishInfo.getDelta(ServerPublishInfo.java:274)\n\tat org.eclipse.wst.server.core.internal.Server.getPublishedResourceDelta(Server.java:1026)\n\tat org.eclipse.wst.server.core.model.ServerBehaviourDelegate.getPublishedResourceDelta(ServerBehaviourDelegate.java:491)\n\tat org.eclipse.jst.server.tomcat.core.internal.TomcatServerBehaviour.getPublishedResourceDelta(TomcatServerBehaviour.java:748)\n\tat org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish(ServerBehaviourDelegate.java:555)\n\tat org.eclipse.wst.server.core.internal.Server.doPublish(Server.java:862)\n\tat org.eclipse.wst.server.core.internal.Server.publish(Server.java:850)\n\tat org.eclipse.wst.server.core.internal.PublishServerJob.run(PublishServerJob.java:142)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\n\n\nMore information:\nIf the variable is related to a Folder (MyLIBPath) an not a File (so you have to \"Extend...\" to point to your jar) everything works fine.\n\nWeb Libraries dialog reports the two variables in different way:\n\nVariable - JAR/module\nMyLIB - \"MyLIB\"\nMyLIBPath - \"var/MyLIBPath/myutils.jar\"\n\nEven if everytings works fine (MyLIBPath case) the jar icon in the dialog has an exclamation mark on an orange triangle... what doos it means?\nThe same icon appears if I use \"Add jar...\" or \"Add Extenral jars...\".",
    "Created an attachment (id\u003d57044)\npatch\n\n",
    "dropped to build",
    "Created an attachment (id\u003d57045)\nAdd if statement to get rid of NPE.\n\n",
    "Closing as fixed since WTP 1.5.3.  Please reopen if closed in error."
  ],
  "commentCreationDates": [
    "2006-12-23T13:51:34+01:00",
    "2007-01-17T22:07:52+01:00",
    "2007-01-17T22:08:13+01:00",
    "2007-01-17T22:09:08+01:00",
    "2007-04-03T17:32:20+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Path must include project and resource name: /MyLIB",
      "elements": [
        {
          "method": "org.eclipse.core.runtime.Assert.isLegal",
          "source": "Assert.java:62"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.newResource",
          "source": "Workspace.java:1571"
        },
        {
          "method": "org.eclipse.core.internal.resources.Container.getFile",
          "source": "Container.java:123"
        },
        {
          "method": "org.eclipse.wst.common.componentcore.internal.resources.VirtualArchiveComponent.getWorkspaceRelativePath",
          "source": "VirtualArchiveComponent.java:113"
        },
        {
          "method": "org.eclipse.wst.web.internal.deployables.ComponentDeployable.addUtilMembers",
          "source": "ComponentDeployable.java:350"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.deployables.J2EEFlexProjDeployable.members",
          "source": "J2EEFlexProjDeployable.java:193"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.ModulePublishInfo.fillCache",
          "source": "ModulePublishInfo.java:212"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.ModulePublishInfo.getDelta",
          "source": "ModulePublishInfo.java:261"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.ServerPublishInfo.getDelta",
          "source": "ServerPublishInfo.java:274"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.Server.getPublishedResourceDelta",
          "source": "Server.java:1026"
        },
        {
          "method": "org.eclipse.wst.server.core.model.ServerBehaviourDelegate.getPublishedResourceDelta",
          "source": "ServerBehaviourDelegate.java:491"
        },
        {
          "method": "org.eclipse.jst.server.tomcat.core.internal.TomcatServerBehaviour.getPublishedResourceDelta",
          "source": "TomcatServerBehaviour.java:748"
        },
        {
          "method": "org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish",
          "source": "ServerBehaviourDelegate.java:555"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.Server.doPublish",
          "source": "Server.java:862"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.Server.publish",
          "source": "Server.java:850"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.PublishServerJob.run",
          "source": "PublishServerJob.java:142"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "168970",
      "date": "2006-12-23T13:51:34+01:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "normal"
    }
  ],
  "groupId": "168970",
  "bugId": "168970",
  "date": "2006-12-23T13:51:34+01:00",
  "product": "Web Tools",
  "component": "jst.j2ee",
  "severity": "normal"
}