{
  "comments": [
    "If a project is checked into a read-only source control system like perforce or subversion, you get an exception like the following during annotation processing:\n\norg.eclipse.core.runtime.CoreException: File /wlwLabInventoryWar/.settings/org.eclipse.core.resources.prefs is read-only.\n    at org.eclipse.core.internal.resources.ProjectPreferences$2.run(ProjectPreferences.java:556)\n    at org.eclipse.core.internal.resources.ProjectPreferences.save(ProjectPreferences.java:577)\n    at org.eclipse.core.internal.preferences.EclipsePreferences.flush(EclipsePreferences.java:352)\n    at org.eclipse.core.internal.resources.ProjectPreferences.flush(ProjectPreferences.java:379)\n    at org.eclipse.core.internal.preferences.EclipsePreferences.flush(EclipsePreferences.java:340)\n    at org.eclipse.core.internal.resources.ProjectPreferences.flush(ProjectPreferences.java:379)\n    at org.eclipse.core.internal.resources.CharsetManager.setCharsetFor(CharsetManager.java:281)\n    at org.eclipse.core.internal.resources.File.setCharset(File.java:440)\n    at org.eclipse.jdt.apt.core.internal.env.EncodedFileOutputStream.close(EncodedFileOutputStream.java:36)\n    at sun.nio.cs.StreamEncoder$CharsetSE.implClose(StreamEncoder.java:431)\n    at sun.nio.cs.StreamEncoder.close(StreamEncoder.java:160)\n    at java.io.OutputStreamWriter.close(OutputStreamWriter.java:222)\n    at java.io.PrintWriter.close(PrintWriter.java:287)\n    at org.apache.beehive.netui.compiler.genmodel.GenStrutsApp.writeToFile(GenStrutsApp.java:358)\n\nNeed to have a validateEdit() call on the resources.prefs file before setting the charset.",
    "Here is a related platform bug (fixed in 3.3) that has a new validateEdit() API that we can use:\n\nhttps://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d160905\n",
    "This behavior is present in 3.2 as well, correct?  (If this is a regression we should perhaps push to get it into 3.3 even though we are already in RC3 and changes are extremely unpopular.  If we can wait till 3.3.1, that\u0027s easier.)",
    "Correct: this behavior was present in 3.2.",
    "Created an attachment (id\u003d69640)\nPatch for calling validateEdit when setting encoding\n\n",
    "Note: underlying all this is the basic problem that char encoding settings for generated files are stored in a file that is under source control.  This is a fundamental Eclipse problem.\n\nIn other words, even if we call validateEdit() here, the best that\u0027s going to happen is that a bunch of prefs files will be checked out, and eventually checked back in, containing data about generated files that should never have been version controlled in the first place.\n\nThe real fix is to better tie encoding settings to the files they modify.",
    "Released patch to HEAD and to 3.3.1",
    "Created an attachment (id\u003d80493)\nPatch for 3.2.2\n\nAttached patch is a workaround for version 3.2.2.",
    "(In reply to comment #5)\n\u003e Note: underlying all this is the basic problem that char encoding settings for\n\u003e generated files are stored in a file that is under source control.  \n\nThis has been entered as bug 207510."
  ],
  "commentCreationDates": [
    "2007-05-31T18:29:20+02:00",
    "2007-05-31T20:49:14+02:00",
    "2007-05-31T21:13:49+02:00",
    "2007-05-31T21:16:40+02:00",
    "2007-06-01T01:14:10+02:00",
    "2007-06-01T02:04:15+02:00",
    "2007-07-21T01:04:41+02:00",
    "2007-10-16T21:50:57+02:00",
    "2007-10-31T06:45:04+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.runtime.CoreException",
      "message": "File /wlwLabInventoryWar/.settings/org.eclipse.core.resources.prefs is read-only.",
      "elements": [
        {
          "method": "org.eclipse.core.internal.resources.ProjectPreferences$2.run",
          "source": "ProjectPreferences.java:556"
        },
        {
          "method": "org.eclipse.core.internal.resources.ProjectPreferences.save",
          "source": "ProjectPreferences.java:577"
        },
        {
          "method": "org.eclipse.core.internal.preferences.EclipsePreferences.flush",
          "source": "EclipsePreferences.java:352"
        },
        {
          "method": "org.eclipse.core.internal.resources.ProjectPreferences.flush",
          "source": "ProjectPreferences.java:379"
        },
        {
          "method": "org.eclipse.core.internal.preferences.EclipsePreferences.flush",
          "source": "EclipsePreferences.java:340"
        },
        {
          "method": "org.eclipse.core.internal.resources.ProjectPreferences.flush",
          "source": "ProjectPreferences.java:379"
        },
        {
          "method": "org.eclipse.core.internal.resources.CharsetManager.setCharsetFor",
          "source": "CharsetManager.java:281"
        },
        {
          "method": "org.eclipse.core.internal.resources.File.setCharset",
          "source": "File.java:440"
        },
        {
          "method": "org.eclipse.jdt.apt.core.internal.env.EncodedFileOutputStream.close",
          "source": "EncodedFileOutputStream.java:36"
        },
        {
          "method": "sun.nio.cs.StreamEncoder$CharsetSE.implClose",
          "source": "StreamEncoder.java:431"
        },
        {
          "method": "sun.nio.cs.StreamEncoder.close",
          "source": "StreamEncoder.java:160"
        },
        {
          "method": "java.io.OutputStreamWriter.close",
          "source": "OutputStreamWriter.java:222"
        },
        {
          "method": "java.io.PrintWriter.close",
          "source": "PrintWriter.java:287"
        },
        {
          "method": "org.apache.beehive.netui.compiler.genmodel.GenStrutsApp.writeToFile",
          "source": "GenStrutsApp.java:358"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "190268",
      "date": "2007-05-31T18:29:20+02:00",
      "product": "JDT",
      "component": "APT",
      "severity": "normal"
    }
  ],
  "groupId": "190268",
  "bugId": "190268",
  "date": "2007-05-31T18:29:20+02:00",
  "product": "JDT",
  "component": "APT",
  "severity": "normal"
}