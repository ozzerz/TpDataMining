{
  "comments": [
    "Clicked to the line in Call Hierarchy view and got an exception:\n\njava.lang.ArrayIndexOutOfBoundsException\nat org.eclipse.jdt.internal.ui.javaeditor.DocumentAdapter.getText(DocumentAdapter.java:317)\nat org.eclipse.jdt.internal.corext.callhierarchy.CallLocation.initCallTextAndLineNumber(CallLocation.java:91)\nat org.eclipse.jdt.internal.corext.callhierarchy.CallLocation.getLineNumber(CallLocation.java:71)\nat org.eclipse.jdt.internal.ui.callhierarchy.LocationLabelProvider.getColumnText(LocationLabelProvider.java:93)\nat org.eclipse.jface.viewers.TableViewer.doUpdateItem(TableViewer.java:473)\nat org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run(StructuredViewer.java:434)\nat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\nat org.eclipse.core.runtime.Platform.run(Platform.java:785)\nat org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)\nat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148)\nat org.eclipse.jface.viewers.StructuredViewer.updateItem(StructuredViewer.java:1763)\nat org.eclipse.jface.viewers.TableViewer.internalRefreshAll(TableViewer.java:859)\nat org.eclipse.jface.viewers.TableViewer.internalRefresh(TableViewer.java:796)\nat org.eclipse.jface.viewers.TableViewer.internalRefresh(TableViewer.java:785)\nat org.eclipse.jface.viewers.StructuredViewer$7.run(StructuredViewer.java:1264)\nat org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1201)\nat org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1262)\nat org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1221)\nat org.eclipse.jface.viewers.TableViewer.inputChanged(TableViewer.java:746)\nat org.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:249)\nat org.eclipse.jface.viewers.StructuredViewer.setInput(StructuredViewer.java:1417)\nat org.eclipse.jdt.internal.ui.callhierarchy.CallHierarchyViewPart.updateLocationsView(CallHierarchyViewPart.java:866)\nat org.eclipse.jdt.internal.ui.callhierarchy.CallHierarchyViewPart.methodSelectionChanged(CallHierarchyViewPart.java:601)\nat org.eclipse.jdt.internal.ui.callhierarchy.CallHierarchyViewPart.selectionChanged(CallHierarchyViewPart.java:586)\nat org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:162)\nat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\nat org.eclipse.core.runtime.Platform.run(Platform.java:785)\nat org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)\nat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148)\nat org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:160)\nat org.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:1784)\nat org.eclipse.jface.viewers.StructuredViewer.handleSelect(StructuredViewer.java:1027)\nat org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected(StructuredViewer.java:1053)\nat org.eclipse.jface.util.OpenStrategy.fireSelectionEvent(OpenStrategy.java:210)\nat org.eclipse.jface.util.OpenStrategy.access$3(OpenStrategy.java:205)\nat org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:365)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:914)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3285)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2905)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1762)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1726)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:397)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\nat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)\nat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:109)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:379)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:282)\nat org.eclipse.core.launcher.Main.run(Main.java:977)\nat org.eclipse.core.launcher.Main.main(Main.java:952)\n\nI don\u0027t mean that I get it always :-) Anyway, exception is exception.",
    "A bit more info would be welcome (build id, steps, etc.) next time ;-)\n\nCallLocation ignores the fact that documents can be edited: it stores start and end without updating them when the document changes. The CallLocation should either re-calculate the start and end offset or store the info in a document position which gets automatically adjusted. If you decide to use a position then don\u0027t forget to check whether it has been deleted.",
    "Markus, can you have a look?",
    "I used official 3.2M4 build.\nI\u0027m sorry but I cannot recollect any specific steps beside those I\u0027ve already reported. I guess that I wanted to check method signature and before doing that decided to check all method call occurences. Exception was raised for the last one in the list. I do not remember that I edited text between getting of the call list and the error.  \nIt also clear to me that calling tree is essencially a static data and if one wants to see the correct information, she probably has to refresh it before. However even in case of unsynchronized data, raising of the exception  is not the best possible  system reaction, I suppose :-)",
    "Released a workaround to HEAD to not throw an exception. The real solution should try to reuse code from search (PositionTracker). See also bug 83234 for problems with java model changes."
  ],
  "commentCreationDates": [
    "2005-12-22T17:00:38+01:00",
    "2005-12-23T10:21:10+01:00",
    "2005-12-23T10:32:13+01:00",
    "2005-12-23T13:40:15+01:00",
    "2006-01-03T17:04:38+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.DocumentAdapter.getText",
          "source": "DocumentAdapter.java:317"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.callhierarchy.CallLocation.initCallTextAndLineNumber",
          "source": "CallLocation.java:91"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.callhierarchy.CallLocation.getLineNumber",
          "source": "CallLocation.java:71"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.callhierarchy.LocationLabelProvider.getColumnText",
          "source": "LocationLabelProvider.java:93"
        },
        {
          "method": "org.eclipse.jface.viewers.TableViewer.doUpdateItem",
          "source": "TableViewer.java:473"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run",
          "source": "StructuredViewer.java:434"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:785"
        },
        {
          "method": "org.eclipse.ui.internal.JFaceUtil$1.run",
          "source": "JFaceUtil.java:44"
        },
        {
          "method": "org.eclipse.jface.util.SafeRunnable.run",
          "source": "SafeRunnable.java:148"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateItem",
          "source": "StructuredViewer.java:1763"
        },
        {
          "method": "org.eclipse.jface.viewers.TableViewer.internalRefreshAll",
          "source": "TableViewer.java:859"
        },
        {
          "method": "org.eclipse.jface.viewers.TableViewer.internalRefresh",
          "source": "TableViewer.java:796"
        },
        {
          "method": "org.eclipse.jface.viewers.TableViewer.internalRefresh",
          "source": "TableViewer.java:785"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$7.run",
          "source": "StructuredViewer.java:1264"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.preservingSelection",
          "source": "StructuredViewer.java:1201"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.refresh",
          "source": "StructuredViewer.java:1262"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.refresh",
          "source": "StructuredViewer.java:1221"
        },
        {
          "method": "org.eclipse.jface.viewers.TableViewer.inputChanged",
          "source": "TableViewer.java:746"
        },
        {
          "method": "org.eclipse.jface.viewers.ContentViewer.setInput",
          "source": "ContentViewer.java:249"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.setInput",
          "source": "StructuredViewer.java:1417"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.callhierarchy.CallHierarchyViewPart.updateLocationsView",
          "source": "CallHierarchyViewPart.java:866"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.callhierarchy.CallHierarchyViewPart.methodSelectionChanged",
          "source": "CallHierarchyViewPart.java:601"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.callhierarchy.CallHierarchyViewPart.selectionChanged",
          "source": "CallHierarchyViewPart.java:586"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer$2.run",
          "source": "Viewer.java:162"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:785"
        },
        {
          "method": "org.eclipse.ui.internal.JFaceUtil$1.run",
          "source": "JFaceUtil.java:44"
        },
        {
          "method": "org.eclipse.jface.util.SafeRunnable.run",
          "source": "SafeRunnable.java:148"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer.fireSelectionChanged",
          "source": "Viewer.java:160"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateSelection",
          "source": "StructuredViewer.java:1784"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleSelect",
          "source": "StructuredViewer.java:1027"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected",
          "source": "StructuredViewer.java:1053"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireSelectionEvent",
          "source": "OpenStrategy.java:210"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$3",
          "source": "OpenStrategy.java:205"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "OpenStrategy.java:365"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:914"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3285"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2905"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1762"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1726"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:397"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:109"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:379"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:338"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:282"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "121900",
      "date": "2005-12-22T17:00:38+01:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "121900",
  "bugId": "121900",
  "date": "2005-12-22T17:00:38+01:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}