{
  "comments": [
    "I20060926-0935\n\n1. open a comparison (Open In Compare Editor) in Team Synchronizing perspective\n2. close it\n\u003d\u003d\u003e NPE\n\nProbably caused when fixing bug 154431.\n\n!SESSION 2006-09-26 17:31:25.309 -----------------------------------------------\neclipse.buildId\u003dI20060926-0935\njava.version\u003d1.5.0_06\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003dde_CH\nFramework arguments:  -update -keyring c:\\eclipse\\.keyring -application org.eclipse.ui.ide.workbench -showlocation\nCommand-line arguments:  -update -keyring c:\\eclipse\\.keyring -application org.eclipse.ui.ide.workbench -showlocation -data c:\\eclipse\\workspaces\\Development_3_3\\plugins\n\n!ENTRY org.eclipse.ui.workbench 4 2 2006-09-26 17:58:18.701\n!MESSAGE Problems occurred when invoking code from plug-in: \"org.eclipse.ui.workbench\".\n!STACK 0\njava.lang.NullPointerException\n\tat org.eclipse.ui.internal.NavigationHistoryAction.update(NavigationHistoryAction.java:231)\n\tat org.eclipse.ui.internal.NavigationHistory.updateActions(NavigationHistory.java:377)\n\tat org.eclipse.ui.internal.NavigationHistory.access$2(NavigationHistory.java:375)\n\tat org.eclipse.ui.internal.NavigationHistory$1.partClosed(NavigationHistory.java:87)\n\tat org.eclipse.ui.internal.PartListenerList2$3.run(PartListenerList2.java:98)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:850)\n\tat org.eclipse.ui.internal.PartListenerList2.fireEvent(PartListenerList2.java:53)\n\tat org.eclipse.ui.internal.PartListenerList2.firePartClosed(PartListenerList2.java:96)\n\tat org.eclipse.ui.internal.PartService.firePartClosed(PartService.java:103)\n\tat org.eclipse.ui.internal.WorkbenchPagePartList.firePartClosed(WorkbenchPagePartList.java:38)\n\tat org.eclipse.ui.internal.PartList.partClosed(PartList.java:255)\n\tat org.eclipse.ui.internal.PartList.removePart(PartList.java:176)\n\tat org.eclipse.ui.internal.WorkbenchPage.disposePart(WorkbenchPage.java:1532)\n\tat org.eclipse.ui.internal.WorkbenchPage.handleDeferredEvents(WorkbenchPage.java:1308)\n\tat org.eclipse.ui.internal.WorkbenchPage.deferUpdates(WorkbenchPage.java:1292)\n\tat org.eclipse.ui.internal.WorkbenchPage.closeEditors(WorkbenchPage.java:1266)\n\tat org.eclipse.ui.internal.WorkbenchPage.closeEditor(WorkbenchPage.java:1321)\n\tat org.eclipse.ui.internal.EditorPane.doHide(EditorPane.java:54)\n\tat org.eclipse.ui.internal.PartStack.close(PartStack.java:502)\n\tat org.eclipse.ui.internal.EditorStack.close(EditorStack.java:205)\n\tat org.eclipse.ui.internal.PartStack$1.close(PartStack.java:109)\n\tat org.eclipse.ui.internal.presentations.util.TabbedStackPresentation$1.handleEvent(TabbedStackPresentation.java:81)\n\tat org.eclipse.ui.internal.presentations.util.AbstractTabFolder.fireEvent(AbstractTabFolder.java:267)\n\tat org.eclipse.ui.internal.presentations.util.AbstractTabFolder.fireEvent(AbstractTabFolder.java:276)\n\tat org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder.access$1(DefaultTabFolder.java:1)\n\tat org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder$1.closeButtonPressed(DefaultTabFolder.java:67)\n\tat org.eclipse.ui.internal.presentations.PaneFolder.notifyCloseListeners(PaneFolder.java:580)\n\tat org.eclipse.ui.internal.presentations.PaneFolder$3.close(PaneFolder.java:187)\n\tat org.eclipse.swt.custom.CTabFolder.onMouse(CTabFolder.java:2107)\n\tat org.eclipse.swt.custom.CTabFolder$1.handleEvent(CTabFolder.java:292)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3401)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3020)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:104)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:74)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:348)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:165)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:341)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:285)\n\tat org.eclipse.core.launcher.Main.run(Main.java:987)\n\tat org.eclipse.core.launcher.Main.main(Main.java:962)",
    "Happens each time last one is closed or Close All is used.",
    "Mmm I can\u0027t reproduce this using your steps.  Were you seeing this on a clean workspace or one that already had an established history?",
    "You need to compare with a CVS shared file I guess. Did you try that?",
    "After nuking my \u003cnavigationHistory\u003e element from workbench.xml I can now reproduce it.  Having any history prior to doing this seems to prevent it from happening.",
    "With a fresh workspace I cannot yet reproduce. I see it in my dev workspace.",
    "Steps with a fresh workspace:\n0. load a project form CVS\n1. open a file from that project\n2. Team \u003e Synchronize (click \u0027Yes\u0027 to the dialog)\n3. exit\n4. start again\n5. populate the view Synchronize view and open the changed file\n6. close it again",
    "Steps without CVS:\n- new workspace\n- import org.eclipse.core.expressions as binary plugin\n- open MANIFEST.FM\n- open plugin.xml\n- Close All",
    "The problem is with non-persistable elements.  When closed, non-persistable elements are removed from the navigation history.  The fix for 154431 assumes that the closed editor is still in the history.  ",
    "Fix in HEAD.  \n\nI appreciate you pounding on this code.  I have the sinking suspicion that the fix for bug 154431 is going to be a rats nest of problems such as this.  ",
    "In which plug-in is the fix? I need to get it because it makes using the I-build a pain for me.",
    "o.e.u.workbench",
    "*** Bug 159008 has been marked as a duplicate of this bug. ***",
    "Verified in N20060928-0010.",
    "*** Bug 159034 has been marked as a duplicate of this bug. ***",
    "*** Bug 159563 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2006-09-26T18:00:55+02:00",
    "2006-09-26T18:04:23+02:00",
    "2006-09-27T14:39:37+02:00",
    "2006-09-27T14:52:48+02:00",
    "2006-09-27T14:58:02+02:00",
    "2006-09-27T14:59:38+02:00",
    "2006-09-27T15:21:33+02:00",
    "2006-09-27T15:28:03+02:00",
    "2006-09-27T15:32:28+02:00",
    "2006-09-27T16:05:51+02:00",
    "2006-09-27T16:14:27+02:00",
    "2006-09-27T16:23:54+02:00",
    "2006-09-27T20:04:59+02:00",
    "2006-09-28T09:53:06+02:00",
    "2006-10-02T17:19:30+02:00",
    "2006-10-03T15:53:40+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.internal.NavigationHistoryAction.update",
          "source": "NavigationHistoryAction.java:231"
        },
        {
          "method": "org.eclipse.ui.internal.NavigationHistory.updateActions",
          "source": "NavigationHistory.java:377"
        },
        {
          "method": "org.eclipse.ui.internal.NavigationHistory.access$2",
          "source": "NavigationHistory.java:375"
        },
        {
          "method": "org.eclipse.ui.internal.NavigationHistory$1.partClosed",
          "source": "NavigationHistory.java:87"
        },
        {
          "method": "org.eclipse.ui.internal.PartListenerList2$3.run",
          "source": "PartListenerList2.java:98"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:850"
        },
        {
          "method": "org.eclipse.ui.internal.PartListenerList2.fireEvent",
          "source": "PartListenerList2.java:53"
        },
        {
          "method": "org.eclipse.ui.internal.PartListenerList2.firePartClosed",
          "source": "PartListenerList2.java:96"
        },
        {
          "method": "org.eclipse.ui.internal.PartService.firePartClosed",
          "source": "PartService.java:103"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPagePartList.firePartClosed",
          "source": "WorkbenchPagePartList.java:38"
        },
        {
          "method": "org.eclipse.ui.internal.PartList.partClosed",
          "source": "PartList.java:255"
        },
        {
          "method": "org.eclipse.ui.internal.PartList.removePart",
          "source": "PartList.java:176"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.disposePart",
          "source": "WorkbenchPage.java:1532"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.handleDeferredEvents",
          "source": "WorkbenchPage.java:1308"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.deferUpdates",
          "source": "WorkbenchPage.java:1292"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.closeEditors",
          "source": "WorkbenchPage.java:1266"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.closeEditor",
          "source": "WorkbenchPage.java:1321"
        },
        {
          "method": "org.eclipse.ui.internal.EditorPane.doHide",
          "source": "EditorPane.java:54"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.close",
          "source": "PartStack.java:502"
        },
        {
          "method": "org.eclipse.ui.internal.EditorStack.close",
          "source": "EditorStack.java:205"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack$1.close",
          "source": "PartStack.java:109"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.util.TabbedStackPresentation$1.handleEvent",
          "source": "TabbedStackPresentation.java:81"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.util.AbstractTabFolder.fireEvent",
          "source": "AbstractTabFolder.java:267"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.util.AbstractTabFolder.fireEvent",
          "source": "AbstractTabFolder.java:276"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder.access$1",
          "source": "DefaultTabFolder.java:1"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder$1.closeButtonPressed",
          "source": "DefaultTabFolder.java:67"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.PaneFolder.notifyCloseListeners",
          "source": "PaneFolder.java:580"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.PaneFolder$3.close",
          "source": "PaneFolder.java:187"
        },
        {
          "method": "org.eclipse.swt.custom.CTabFolder.onMouse",
          "source": "CTabFolder.java:2107"
        },
        {
          "method": "org.eclipse.swt.custom.CTabFolder$1.handleEvent",
          "source": "CTabFolder.java:292"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3401"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3020"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1914"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1878"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:104"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:74"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:348"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:165"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:341"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:285"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:987"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:962"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "158791",
      "date": "2006-09-26T18:00:55+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "158791",
  "bugId": "158791",
  "date": "2006-09-26T18:00:55+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "major"
}