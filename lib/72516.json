{
  "comments": [
    "Malcom Zung (2004-08-24 11:41:22)\n\n  \n I have isolated the problem to the follow Hyades 3.0.1 method:\n\norg.eclipse.hyades.resources.database.internal.impl.SetReferenceC\nommand.doUpdates()\n\nThe code generates the following SQL:\n\nUPDATE TRCAgent SET agentProxy \u003d ? WHERE id \u003d 23871\n\nthen tries to update parameter 2 with the value 23871.\n\nTo fix this problem, either place a \"?\" for the id\n value or don\u0027t try to set the sourceId value in the prepared\n statement.\n\nBug in the following code:\n\n- When sourceId is not null, the value is appended to the buffer\n instead of a \"?\".  Then, the code tries to put sourceId\n into the prepared statement.\n\n\t\tif(sourceId\u003d\u003dnull)\n\t\t\tbuffer.append(\u0027?\u0027);\n\t\telse\n\t\t\tbuffer.append(sourceId); //BAD\n\n\t\t\tif(sourceId\u003d\u003dnull)\n\t\t\t\tps.setInt(order ? 3 : 2, ((Integer)\n targets.get(i)).intValue());\n\t\t\telse {\n\n\tps.setInt(order ? 3 : 2, ((Integer) sourceId).intValue()); \n //EXCEPTION HAPPENS HERE\n\t\t\t}\n\n\ncom.ibm.db2.jcc.b.SqlException: Invalid argument: parameter index\n 2 is out of range.\n\tat com.ibm.db2.jcc.b.cp.d(cp.java(Inlined Compiled Code))\n\tat com.ibm.db2.jcc.b.cp.c(cp.java(Inlined Compiled Code))\n\tat com.ibm.db2.jcc.b.cp.c(cp.java(Compiled Code))\n\tat com.ibm.db2.jcc.b.cp.setInt(cp.java(Compiled Code))\n\tat org.eclipse.hyades.resources.database.internal.impl.SetRefere\nnceCommand.doUpdates(SetReferenceCommand.java)",
    "Marius, please take a look at this problem.",
    "Fix in CVS.",
    "correcting bugzilla target milestone -- setting back to 3.1 i2",
    "closing bug"
  ],
  "commentCreationDates": [
    "2004-08-24T18:24:20+02:00",
    "2004-08-24T18:25:19+02:00",
    "2004-08-30T18:03:24+02:00",
    "2004-10-05T14:29:15+02:00",
    "2004-11-05T20:29:03+01:00"
  ],
  "traces": [
    {
      "exceptionType": "com.ibm.db2.jcc.b.SqlException",
      "message": "Invalid argument: parameter index  2 is out of range.",
      "elements": [
        {
          "method": "com.ibm.db2.jcc.b.cp.d",
          "source": "cp.java(Inlined Compiled Code)"
        },
        {
          "method": "com.ibm.db2.jcc.b.cp.c",
          "source": "cp.java(Inlined Compiled Code)"
        },
        {
          "method": "com.ibm.db2.jcc.b.cp.c",
          "source": "cp.java(Compiled Code)"
        },
        {
          "method": "com.ibm.db2.jcc.b.cp.setInt",
          "source": "cp.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.hyades.resources.database.internal.impl.SetReferenceCommand.doUpdates",
          "source": "SetReferenceCommand.java"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "72516",
      "date": "2004-08-24T18:24:20+02:00",
      "product": "Hyades",
      "component": "UI.log_view",
      "severity": "normal"
    }
  ],
  "groupId": "72516",
  "bugId": "72516",
  "date": "2004-08-24T18:24:20+02:00",
  "product": "Hyades",
  "component": "UI.log_view",
  "severity": "normal"
}