{
  "comments": [
    "The Web services code needs to be more tolerate of error when navigating facet templates.  Currently, in FacetUtils.getFacetCombinations(), if one of the arrayOfProjectFacetVersionArrays has a template that does not meet facet constraint check,\n\nProjectFacetsManager.check( new HashSet(), actions )\n\nit might cause an exception such as,\n\norg.eclipse.wst.common.project.facet.core.internal.ProjectFacet incompatible with java.lang.String\n    java.lang.ClassCastException: org.eclipse.wst.common.project.facet.core.internal.ProjectFacet incompatible with java.lang.String\n    at org.eclipse.wst.common.project.facet.core.internal.Constraint.check(Constraint.java:129)\n    at org.eclipse.wst.common.project.facet.core.internal.Constraint.check(Constraint.java:77)\n    at org.eclipse.wst.common.project.facet.core.internal.ProjectFacetsManagerImpl.check(ProjectFacetsManagerImpl.java:684)\n    at org.eclipse.wst.common.project.facet.core.ProjectFacetsManager.check(ProjectFacetsManager.java:376)\n    at org.eclipse.jst.ws.internal.consumption.common.FacetUtils.getFacetCombinations(FacetUtils.java:203)\nat org.eclipse.jst.ws.internal.consumption.common.FacetSetsByTemplateCache.getFacetVersionCombinationsFromTemplate(FacetSetsByTemplateCache.java:115)\n    at org.eclipse.jst.ws.internal.consumption.ui.wsrt.FacetMatchCache.getTemplates(FacetMatchCache.java:335)\n    at org.eclipse.jst.ws.internal.consumption.ui.wsrt.FacetMatchCache.getTemplatesForClientRuntime(FacetMatchCache.java:299)\n    at org.eclipse.jst.ws.internal.consumption.ui.wsrt.WebServiceRuntimeExtensionUtils2.getClientProjectTemplates(WebServiceRuntimeExtensionUtils2.java:1178)\n    at org.eclipse.jst.ws.internal.consumption.ui.widgets.runtime.ClientRuntimeSelectionWidgetDefaultingCommand.updateClientProject(ClientRuntimeSelectionWidgetDefaultingCommand.java:1128)\n    at org.eclipse.jst.ws.internal.creation.ui.widgets.runtime.ServerRuntimeSelectionWidgetDefaultingCommand.execute(ServerRuntimeSelectionWidgetDefaultingCommand.java:130)\n\nThis cause the wizard to fail.  The wizard should just ignore that template and carry on.  \n\nThere might be other parts of the facet navigation code that needs to be more error tolerant as well.\n\nI\u0027ll also be opening a defect on project facet\u0027s ProjectFacetsManager.check() for it to either report that it might throw an exception or be more error tolerant.",
    "I\u0027ve opened bug 137551 to have ProjectFacetsManager.check() be more error tolerant.",
    "Updated FacetUtils\u0027s call to ProjectFacetManager.check() to catch possible exceptions.\n\nChanges released to WTP 1.5 as v200604200300.",
    "Verified on RC3-200605180627."
  ],
  "commentCreationDates": [
    "2006-04-19T19:59:00+02:00",
    "2006-04-19T20:09:45+02:00",
    "2006-04-21T19:00:46+02:00",
    "2006-05-18T20:33:36+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.wst.common.project.facet.core.internal.ProjectFacet incompatible with java.lang.String",
      "elements": [
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.Constraint.check",
          "source": "Constraint.java:129"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.Constraint.check",
          "source": "Constraint.java:77"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.ProjectFacetsManagerImpl.check",
          "source": "ProjectFacetsManagerImpl.java:684"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.ProjectFacetsManager.check",
          "source": "ProjectFacetsManager.java:376"
        },
        {
          "method": "org.eclipse.jst.ws.internal.consumption.common.FacetUtils.getFacetCombinations",
          "source": "FacetUtils.java:203"
        },
        {
          "method": "org.eclipse.jst.ws.internal.consumption.common.FacetSetsByTemplateCache.getFacetVersionCombinationsFromTemplate",
          "source": "FacetSetsByTemplateCache.java:115"
        },
        {
          "method": "org.eclipse.jst.ws.internal.consumption.ui.wsrt.FacetMatchCache.getTemplates",
          "source": "FacetMatchCache.java:335"
        },
        {
          "method": "org.eclipse.jst.ws.internal.consumption.ui.wsrt.FacetMatchCache.getTemplatesForClientRuntime",
          "source": "FacetMatchCache.java:299"
        },
        {
          "method": "org.eclipse.jst.ws.internal.consumption.ui.wsrt.WebServiceRuntimeExtensionUtils2.getClientProjectTemplates",
          "source": "WebServiceRuntimeExtensionUtils2.java:1178"
        },
        {
          "method": "org.eclipse.jst.ws.internal.consumption.ui.widgets.runtime.ClientRuntimeSelectionWidgetDefaultingCommand.updateClientProject",
          "source": "ClientRuntimeSelectionWidgetDefaultingCommand.java:1128"
        },
        {
          "method": "org.eclipse.jst.ws.internal.creation.ui.widgets.runtime.ServerRuntimeSelectionWidgetDefaultingCommand.execute",
          "source": "ServerRuntimeSelectionWidgetDefaultingCommand.java:130"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "137548",
      "date": "2006-04-19T19:59:00+02:00",
      "product": "Web Tools",
      "component": "jst.ws",
      "severity": "normal"
    }
  ],
  "groupId": "137548",
  "bugId": "137548",
  "date": "2006-04-19T19:59:00+02:00",
  "product": "Web Tools",
  "component": "jst.ws",
  "severity": "normal"
}