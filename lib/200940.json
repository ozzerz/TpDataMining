{
  "comments": [
    "Build ID: I20070601-1539\n\nSteps To Reproduce:\n1.Sync from CVS or import as workspace projects all the jpt projects.\norg.eclipse.jpt.core\norg.eclipse.jpt.db\norg.eclipse.jpt.db.ui\norg.eclipse.jpt.doc.user\norg.eclipse.jpt.gen\norg.eclipse.jpt.ui\norg.eclipse.jpt.utility\n\n2.Start a new runtime workbench but only with the above plugins and their dependencies using the \"Add Required Plug-ins\" button in the runtime configuration plug-ins tab\n\n3.Try to create a new JPA project. The following exception will be thrown:\njava.lang.IllegalArgumentException: Version 3.0 of project facet jst.ejb does not exist.\nat org.eclipse.wst.common.project.facet.core.internal.util.Versionable.getVersion(Versionable.java:80)\nat org.eclipse.wst.common.project.facet.core.internal.ProjectFacet.getVersion(ProjectFacet.java:1)\nat org.eclipse.jpt.core.internal.facet.JpaFacetDataModelProvider.runtimeSupportsEjb30(JpaFacetDataModelProvider.java:141)\nat org.eclipse.jpt.core.internal.facet.JpaFacetDataModelProvider.getDefaultProperty(JpaFacetDataModelProvider.java:71)\nat org.eclipse.wst.common.frameworks.internal.datamodel.DataModelImpl.getProperty(DataModelImpl.java:130)\nat org.eclipse.wst.common.frameworks.internal.datamodel.DataModelImpl.getBooleanProperty(DataModelImpl.java:146)\nat org.eclipse.jpt.ui.internal.wizards.JpaFacetWizardPage$ClasspathConfigGroup.\u003cinit\u003e(JpaFacetWizardPage.java:352)\nat org.eclipse.jpt.ui.internal.wizards.JpaFacetWizardPage.createTopLevelComposite(JpaFacetWizardPage.java:91)\nat org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelWizardPage.createControl(DataModelWizardPage.java:101)\nat org.eclipse.wst.common.project.facet.ui.ModifyFacetedProjectWizard.handleSelectedFacetsChangedEvent(ModifyFacetedProjectWizard.java:514)\nat org.eclipse.wst.common.project.facet.ui.ModifyFacetedProjectWizard.createPageControls(ModifyFacetedProjectWizard.java:240)\nat org.eclipse.wst.web.ui.internal.wizards.NewProjectDataModelFacetWizard.createPageControls(NewProjectDataModelFacetWizard.java:135)\nat org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:669)\nat org.eclipse.jface.wizard.WizardDialog.setWizard(WizardDialog.java:1083)\nat org.eclipse.jface.wizard.WizardDialog.updateForPage(WizardDialog.java:1142)\nat org.eclipse.jface.wizard.WizardDialog.access$2(WizardDialog.java:1139)\nat org.eclipse.jface.wizard.WizardDialog$4.run(WizardDialog.java:1128)\nat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)\nat org.eclipse.jface.wizard.WizardDialog.showPage(WizardDialog.java:1126)\nat org.eclipse.jface.wizard.WizardDialog.nextPressed(WizardDialog.java:820)\nat org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:369)\nat org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:616)\nat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3682)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3293)\nat org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\nat org.eclipse.jface.window.Window.open(Window.java:796)\nat org.eclipse.ui.actions.NewWizardAction.run(NewWizardAction.java:182)\nat org.eclipse.ui.internal.handlers.WizardHandler.execute(WizardHandler.java:123)\nat org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:239)\nat org.eclipse.core.commands.Command.executeWithChecks(Command.java:475)\nat org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:429)\nat org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:165)\nat org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:470)\nat org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:821)\nat org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:879)\nat org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:568)\nat org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:510)\nat org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:126)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Display.filterEvent(Display.java:1141)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:937)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:962)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:947)\n\nThe jst.ejb facet with version 3.0 is registered by org.eclipse.jst.jee.ejb.\n\nThis means that JPA project wizard needs such a facet so it needs org.eclipsel.jst.jee.ejb, but it does not depend on it.",
    "Created an attachment (id\u003d76766)\nA patch checking for the exsistence of the facet version\n\n",
    "This patch looks reasonable for 1.0.1, can you take a look Paul?",
    "Would simply requiring the *.jst.jee.ejb plugin be an unacceptable solution?\n\nWhile the patch does work, I\u0027m not sure that the spirit of it is what we\u0027d like.  We\u0027re asking whether the runtime chosen by the user can provide a JPA implementation, and currently the only way we can do that is by asking if it supports EJB 3.0, since there really is no concept of the runtime supporting JPA (because, among other things, the idea of \"support\" is so slippery.)",
    "Created an attachment (id\u003d77757)\nproposed patch\n\nSince there has been no response so far, I\u0027m going to go with adding ...jst.jee.ejb as a dependency.  I think the solution is functionally better.\n\n(committed patch for RC build)",
    "(comment previously added, silly bugzilla)"
  ],
  "commentCreationDates": [
    "2007-08-23T15:16:17+02:00",
    "2007-08-23T15:24:12+02:00",
    "2007-08-23T20:38:01+02:00",
    "2007-08-29T21:53:09+02:00",
    "2007-09-05T23:38:14+02:00",
    "2007-09-05T23:40:27+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Version 3.0 of project facet jst.ejb does not exist.",
      "elements": [
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.util.Versionable.getVersion",
          "source": "Versionable.java:80"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.ProjectFacet.getVersion",
          "source": "ProjectFacet.java:1"
        },
        {
          "method": "org.eclipse.jpt.core.internal.facet.JpaFacetDataModelProvider.runtimeSupportsEjb30",
          "source": "JpaFacetDataModelProvider.java:141"
        },
        {
          "method": "org.eclipse.jpt.core.internal.facet.JpaFacetDataModelProvider.getDefaultProperty",
          "source": "JpaFacetDataModelProvider.java:71"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.DataModelImpl.getProperty",
          "source": "DataModelImpl.java:130"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.DataModelImpl.getBooleanProperty",
          "source": "DataModelImpl.java:146"
        },
        {
          "method": "org.eclipse.jpt.ui.internal.wizards.JpaFacetWizardPage$ClasspathConfigGroup.\u003cinit\u003e",
          "source": "JpaFacetWizardPage.java:352"
        },
        {
          "method": "org.eclipse.jpt.ui.internal.wizards.JpaFacetWizardPage.createTopLevelComposite",
          "source": "JpaFacetWizardPage.java:91"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelWizardPage.createControl",
          "source": "DataModelWizardPage.java:101"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.ui.ModifyFacetedProjectWizard.handleSelectedFacetsChangedEvent",
          "source": "ModifyFacetedProjectWizard.java:514"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.ui.ModifyFacetedProjectWizard.createPageControls",
          "source": "ModifyFacetedProjectWizard.java:240"
        },
        {
          "method": "org.eclipse.wst.web.ui.internal.wizards.NewProjectDataModelFacetWizard.createPageControls",
          "source": "NewProjectDataModelFacetWizard.java:135"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.createPageControls",
          "source": "WizardDialog.java:669"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.setWizard",
          "source": "WizardDialog.java:1083"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.updateForPage",
          "source": "WizardDialog.java:1142"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.access$2",
          "source": "WizardDialog.java:1139"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog$4.run",
          "source": "WizardDialog.java:1128"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:67"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.showPage",
          "source": "WizardDialog.java:1126"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.nextPressed",
          "source": "WizardDialog.java:820"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.buttonPressed",
          "source": "WizardDialog.java:369"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$2.widgetSelected",
          "source": "Dialog.java:616"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:227"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3682"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3293"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:820"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:796"
        },
        {
          "method": "org.eclipse.ui.actions.NewWizardAction.run",
          "source": "NewWizardAction.java:182"
        },
        {
          "method": "org.eclipse.ui.internal.handlers.WizardHandler.execute",
          "source": "WizardHandler.java:123"
        },
        {
          "method": "org.eclipse.ui.internal.handlers.HandlerProxy.execute",
          "source": "HandlerProxy.java:239"
        },
        {
          "method": "org.eclipse.core.commands.Command.executeWithChecks",
          "source": "Command.java:475"
        },
        {
          "method": "org.eclipse.core.commands.ParameterizedCommand.executeWithChecks",
          "source": "ParameterizedCommand.java:429"
        },
        {
          "method": "org.eclipse.ui.internal.handlers.HandlerService.executeCommand",
          "source": "HandlerService.java:165"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand",
          "source": "WorkbenchKeyboard.java:470"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.press",
          "source": "WorkbenchKeyboard.java:821"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent",
          "source": "WorkbenchKeyboard.java:879"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings",
          "source": "WorkbenchKeyboard.java:568"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3",
          "source": "WorkbenchKeyboard.java:510"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent",
          "source": "WorkbenchKeyboard.java:126"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.filterEvent",
          "source": "Display.java:1141"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:937"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:962"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:947"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "200940",
      "date": "2007-08-23T15:16:17+02:00",
      "product": "Dali JPA Tools",
      "component": "Framework",
      "severity": "normal"
    }
  ],
  "groupId": "200940",
  "bugId": "200940",
  "date": "2007-08-23T15:16:17+02:00",
  "product": "Dali JPA Tools",
  "component": "Framework",
  "severity": "normal"
}