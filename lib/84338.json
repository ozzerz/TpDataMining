{
  "comments": [
    "(3.1M4) The testcase is MyAnnotationType.java with the following contents:\npackage package1.packageTp1;\n\n/**\n * MyAnnotationType annotation type.\n */\n@interface MyAnnotationType {\n\n\tint field2 \u003d 0;\n\n \tString method1();\n\n}\n\nSelect \"method1\" in the Outline view and try to delete it. All attempts fail. \n\nDeletion via setting the CU\u0027s buffer contents (IBuffer.setContents, \nIBuffer.save) does not fire correct JDT delta, only \"MyAnnotationType(cu) [*]\" \ncomes in, no \"method1 [-]\".\n\nRunning the DeleteRefactoring on \"method1\" ends in this:\norg.eclipse.jface.util.Assert$AssertionFailedException: Assertion failed: \nSearch for method declaration did not find original element\n\tat org.eclipse.jface.util.Assert.isTrue(Assert.java:180)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.rename.RippleMethodFinder2.getAllRip\npleMethods(RippleMethodFinder2.java:136)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.rename.RippleMethodFinder2.getRelate\ndMethods(RippleMethodFinder2.java:123)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.rename.RenameMethodProcessor.initial\nizeMethodsToRename(RenameMethodProcessor.java:162)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.rename.RenameMethodProcessor.checkFi\nnalConditions(RenameMethodProcessor.java:258)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.rename.RenameVirtualMethodProcessor.\ncheckFinalConditions(RenameVirtualMethodProcessor.java:91)\n\tat \norg.eclipse.ltk.core.refactoring.participants.ProcessorBasedRefactoring.checkFin\nalConditions(ProcessorBasedRefactoring.java:153)",
    "3 problems are reported in 1 bug report. Please enter separate bugs for the\nsecond and third problems.\n\nLooking at the first one, ISourceManipulation#delete(...) is not called by JDT UI.\nMoving to JDT UI for comment",
    "ISourceManipulation#delete(...) is indeed not called, since the deletion is\nimplemented with an ASTRewrite. Fixed the deletion problem in HEAD.\n\nThe stacktrace is completely unrelated, since it happens in the Rename\nrefactoring and not in delete (already known as bug 81441 and bug 83230)."
  ],
  "commentCreationDates": [
    "2005-02-03T15:55:39+01:00",
    "2005-02-14T15:40:03+01:00",
    "2005-02-15T16:58:28+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.jface.util.Assert$AssertionFailedException",
      "message": "Assertion failed:  Search for method declaration did not find original element",
      "elements": [
        {
          "method": "org.eclipse.jface.util.Assert.isTrue",
          "source": "Assert.java:180"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.rename.RippleMethodFinder2.getAllRippleMethods",
          "source": "RippleMethodFinder2.java:136"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.rename.RippleMethodFinder2.getRelatedMethods",
          "source": "RippleMethodFinder2.java:123"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.rename.RenameMethodProcessor.initializeMethodsToRename",
          "source": "RenameMethodProcessor.java:162"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.rename.RenameMethodProcessor.checkFinalConditions",
          "source": "RenameMethodProcessor.java:258"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.rename.RenameVirtualMethodProcessor.checkFinalConditions",
          "source": "RenameVirtualMethodProcessor.java:91"
        },
        {
          "method": "org.eclipse.ltk.core.refactoring.participants.ProcessorBasedRefactoring.checkFinalConditions",
          "source": "ProcessorBasedRefactoring.java:153"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "84338",
      "date": "2005-02-03T15:55:39+01:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "84338",
  "bugId": "84338",
  "date": "2005-02-03T15:55:39+01:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}