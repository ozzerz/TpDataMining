{
  "comments": [
    "Build id: I20070228-0930\n\nTrying to complete in code below where RED, I selected \u0027DataChangeList\u003cT\u003e\u0027\nand nothing got inserted, but a NPE got dumped into the console.\n------------------------------\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nclass ArchiveRecordList\u003cR extends ArchiveRecord\u003e extends ArrayList\u003cR\u003e {\n      @Override public ArchiveRecordList\u003cR\u003e subList(int fromIndex, int\ntoIndex) {\n            return (ArchiveRecordList\u003cR\u003e)super.subList(fromIndex, toIndex);\n      }\n}\n\nclass DataChangeList\u003cT\u003e extends ArchiveRecordList\u003cDataChangeRecord\u003cT\u003e\u003e {\n      public DataChangeList\u003cT\u003e getDataBetween(long from, long to) {\n            return (Data[ASSIST-HERE]subList(indexOf(from), indexOf(to) +\n1);\n      }\n}\n\nclass IntDataChangeList extends DataChangeList\u003cInteger\u003e {\n      public IntDataChangeList getDataBetween(long from, long to) {\n            return super.getDataBetween(from, to);\n      }\n}\n\nclass DblDataChangeList extends DataChangeList\u003cDouble\u003e {\n      public DblDataChangeList getDataBetween(long from, long to) {\n            return super.getDataBetween(from, to);\n      }\n}\n\nclass ArchiveRecord {}\nclass DataChangeRecord\u003cT\u003e extends ArchiveRecord {}\n\n\n\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n\n!ENTRY org.eclipse.ui 4 0 2007-03-13 10:11:41.858\n!MESSAGE Unhandled event loop exception\n!STACK 0\njava.lang.NullPointerException\n        at org.eclipse.jdt.internal.core.util.BindingKeyResolver.consumeTypeVariable(BindingKeyResolver.java:348)\n        at org.eclipse.jdt.internal.core.util.BindingKeyParser.parseTypeVariable(BindingKeyParser.java:823)\n        at org.eclipse.jdt.internal.core.util.BindingKeyParser.parse(BindingKeyParser.java:591)\n        at org.eclipse.jdt.internal.core.util.BindingKeyParser.parse(BindingKeyParser.java:529)\n        at org.eclipse.jdt.internal.core.util.BindingKeyParser.parseTypeArgument(BindingKeyParser.java:796)\n        at org.eclipse.jdt.internal.core.util.BindingKeyParser.parseParameterizedType(BindingKeyParser.java:752)\n        at org.eclipse.jdt.internal.core.util.BindingKeyParser.parse(BindingKeyParser.java:561)\n        at org.eclipse.jdt.internal.core.util.BindingKeyParser.parse(BindingKeyParser.java:529)\n        at org.eclipse.jdt.internal.core.util.BindingKeyResolver.getCompilerBinding(BindingKeyResolver.java:446)\n        at org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:790)\n        at org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:466)\n        at org.eclipse.jdt.core.dom.ASTParser.createASTs(ASTParser.java:705)\n        at org.eclipse.jdt.internal.ui.text.java.LazzyGenericTypeProposal.getExpectedType(LazzyGenericTypeProposal.java:602)\n        at org.eclipse.jdt.internal.ui.text.java.LazzyGenericTypeProposal.computeTypeArgumentProposals(LazzyGenericTypeProposal.java:298)\n        at org.eclipse.jdt.internal.ui.text.java.LazzyGenericTypeProposal.apply(LazzyGenericTypeProposal.java:195)\n        at org.eclipse.jdt.internal.ui.text.java.AbstractJavaCompletionProposal.apply(AbstractJavaCompletionProposal.java:453)\n        at org.eclipse.jface.text.contentassist.CompletionProposalPopup.insertProposal(CompletionProposalPopup.java:806)\n        at org.eclipse.jface.text.contentassist.CompletionProposalPopup.insertSelectedProposalWithMask(CompletionProposalPopup.java:757)\n        at org.eclipse.jface.text.contentassist.CompletionProposalPopup.verifyKey(CompletionProposalPopup.java:1164)\n        at org.eclipse.jface.text.contentassist.ContentAssistant$InternalListener.verifyKey(ContentAssistant.java:782)\n        at org.eclipse.jface.text.TextViewer$VerifyKeyListenersManager.verifyKey(TextViewer.java:438)\n        at org.eclipse.swt.custom.StyledTextListener.handleEvent(StyledTextListener.java:61)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:962)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:947)\n        at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:706)\n        at org.eclipse.swt.custom.StyledText.handleKeyDown(StyledText.java:5075)\n        at org.eclipse.swt.custom.StyledText$7.handleEvent(StyledText.java:4817)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:962)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:947)\n        at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:975)\n        at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:971)\n        at org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1285)\n        at org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3601)\n        at org.eclipse.swt.widgets.Control.windowProc(Control.java:3501)\n        at org.eclipse.swt.widgets.Display.windowProc(Display.java:4308)\n        at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)\n        at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2209)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3251)\n        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2306)\n        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2270)\n        at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2145)\n        at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:460)\n        at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\n        at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:455)\n        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n        at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:101)\n        at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:146)\n        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:476)\n        at org.eclipse.equinox.launcher.Main.basicRun(Main.java:416)\n        at org.eclipse.equinox.launcher.Main.run(Main.java:1124)\n        at org.eclipse.equinox.launcher.Main.main(Main.java:1099)",
    "Reproduced in debugger: offending signature looks like:\nLX~DataChangeList\u003cLX~DataChangeList;:TT;\u003e;",
    "Issue is located on line marked with \u0027\u003e\u003e\u003e\u003e\u003e\u003e\u003e\u0027 since both methodBinding and typeBinding are null.\n\n\tpublic void consumeTypeVariable(char[] position, char[] typeVariableName) {\n\t\tif (position.length \u003e 0) {\n\t\t\tint pos \u003d Integer.parseInt(new String(position));\n\t\t\tMethodBinding[] methods \u003d ((ReferenceBinding) this.typeBinding).methods();\n\t\t\tif (methods !\u003d null \u0026\u0026 pos \u003c methods.length) {\n\t\t\t\tthis.methodBinding \u003d methods[pos];\n\t\t\t}\n\t\t}\n\u003e\u003e\u003e\u003e\u003e\u003e\u003e\t \tTypeVariableBinding[] typeVariableBindings \u003d this.methodBinding !\u003d null ? this.methodBinding.typeVariables() : this.typeBinding.typeVariables();\n\t \tfor (int i \u003d 0, length \u003d typeVariableBindings.length; i \u003c length; i++) {\n\t\t\tTypeVariableBinding typeVariableBinding \u003d typeVariableBindings[i];\n\t\t\tif (CharOperation.equals(typeVariableName, typeVariableBinding.sourceName())) {\n\t\t\t\tthis.typeBinding \u003d typeVariableBinding;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n",
    "Missing step: the unit file name was \"X.java\".\nLooks like the decoding doesn\u0027t handle situation where no \u0027X\u0027 type is actually present in the unit.\n\nFeels like the support for finding secondary types could be used directly, instead of relying on ability to find a primary type.",
    "To reproduce:\n1. Start a new workspace on a 1.5 VM\n2. Create a new Java project (verify that compliance is 1.5)\n3. Create a new type X in the default package\n4. In the X.java editor, replace the whole content with:\nclass Y\u003cT\u003e {\n\tpublic Y\u003cT\u003e foo() {\n\t\treturn Y//complete here\n\t}\n}\n\n5. Code complete after 2nd Y\nObserve: you get the NPE reported above in the .log",
    "Changed BindingKeyParser to parse the secondary type name before pausing after fully qualified name parsing.\nChanged BindingKeyResolver to handle null binding when looking up the primary type binding, and to default to use the secondary type lookup.\nAdded regression test BatchASTCreationTests#test083().\n\nReleased for 3.3M6 in HEAD.",
    "*** Bug 86990 has been marked as a duplicate of this bug. ***",
    "Pls backport to 3.2.x stream.",
    "Created an attachment (id\u003d60778)\nCorresponding reverse patch\n\nTo apply, choose the Reverse patch option in the Apply patch wizard.",
    "Patch applied in R3_2_maintenance stream (no target milestone yet)",
    "Verified for 3.3 M6 using build I20070319-1335."
  ],
  "commentCreationDates": [
    "2007-03-13T10:14:49+01:00",
    "2007-03-13T12:45:10+01:00",
    "2007-03-13T12:47:24+01:00",
    "2007-03-13T13:12:36+01:00",
    "2007-03-13T15:29:35+01:00",
    "2007-03-14T10:33:25+01:00",
    "2007-03-14T11:15:43+01:00",
    "2007-03-14T12:03:44+01:00",
    "2007-03-14T12:21:41+01:00",
    "2007-03-14T14:01:30+01:00",
    "2007-03-20T09:15:19+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.util.BindingKeyResolver.consumeTypeVariable",
          "source": "BindingKeyResolver.java:348"
        },
        {
          "method": "org.eclipse.jdt.internal.core.util.BindingKeyParser.parseTypeVariable",
          "source": "BindingKeyParser.java:823"
        },
        {
          "method": "org.eclipse.jdt.internal.core.util.BindingKeyParser.parse",
          "source": "BindingKeyParser.java:591"
        },
        {
          "method": "org.eclipse.jdt.internal.core.util.BindingKeyParser.parse",
          "source": "BindingKeyParser.java:529"
        },
        {
          "method": "org.eclipse.jdt.internal.core.util.BindingKeyParser.parseTypeArgument",
          "source": "BindingKeyParser.java:796"
        },
        {
          "method": "org.eclipse.jdt.internal.core.util.BindingKeyParser.parseParameterizedType",
          "source": "BindingKeyParser.java:752"
        },
        {
          "method": "org.eclipse.jdt.internal.core.util.BindingKeyParser.parse",
          "source": "BindingKeyParser.java:561"
        },
        {
          "method": "org.eclipse.jdt.internal.core.util.BindingKeyParser.parse",
          "source": "BindingKeyParser.java:529"
        },
        {
          "method": "org.eclipse.jdt.internal.core.util.BindingKeyResolver.getCompilerBinding",
          "source": "BindingKeyResolver.java:446"
        },
        {
          "method": "org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve",
          "source": "CompilationUnitResolver.java:790"
        },
        {
          "method": "org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve",
          "source": "CompilationUnitResolver.java:466"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTParser.createASTs",
          "source": "ASTParser.java:705"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.LazzyGenericTypeProposal.getExpectedType",
          "source": "LazzyGenericTypeProposal.java:602"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.LazzyGenericTypeProposal.computeTypeArgumentProposals",
          "source": "LazzyGenericTypeProposal.java:298"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.LazzyGenericTypeProposal.apply",
          "source": "LazzyGenericTypeProposal.java:195"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.AbstractJavaCompletionProposal.apply",
          "source": "AbstractJavaCompletionProposal.java:453"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.insertProposal",
          "source": "CompletionProposalPopup.java:806"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.insertSelectedProposalWithMask",
          "source": "CompletionProposalPopup.java:757"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.verifyKey",
          "source": "CompletionProposalPopup.java:1164"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.ContentAssistant$InternalListener.verifyKey",
          "source": "ContentAssistant.java:782"
        },
        {
          "method": "org.eclipse.jface.text.TextViewer$VerifyKeyListenersManager.verifyKey",
          "source": "TextViewer.java:438"
        },
        {
          "method": "org.eclipse.swt.custom.StyledTextListener.handleEvent",
          "source": "StyledTextListener.java:61"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:962"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:947"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:706"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.handleKeyDown",
          "source": "StyledText.java:5075"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText$7.handleEvent",
          "source": "StyledText.java:4817"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:962"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:947"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendKeyEvent",
          "source": "Widget.java:975"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendKeyEvent",
          "source": "Widget.java:971"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.wmChar",
          "source": "Widget.java:1285"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.WM_CHAR",
          "source": "Control.java:3601"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:3501"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:4308"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessageW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessage",
          "source": "OS.java:2209"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3251"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2306"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2270"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2145"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:460"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:455"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:101"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:146"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:354"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:169"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:597"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:476"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:416"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1124"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1099"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "177115",
      "date": "2007-03-13T10:14:49+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "177115",
  "bugId": "177115",
  "date": "2007-03-13T10:14:49+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}