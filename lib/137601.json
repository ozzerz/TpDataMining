{
  "comments": [
    "Eclipse 3.1.2 and WTP-R-1.0.2RC2-200604132214\n\nPreviously, I had my XML Content Assist set to use \"Suggestion strategy: Lax\" and \"Use inferred grammar in absence of DTD/Schema\".\nNow I changed it to use \"Suggestion strategy: Strict\" and unchecked \"Use inferred grammar in absence of DTD/Schema\".\nWhen I hit Ctrl+Space in a XML file, I got:\n\njava.lang.NullPointerException\nat org.eclipse.wst.xml.ui.internal.contentassist.AbstractContentAssistProcessor.addAttributeValueProposals(AbstractContentAssistProcessor.java:258)\nat org.eclipse.wst.xml.ui.internal.contentassist.XMLContentAssistProcessor.addAttributeValueProposals(XMLContentAssistProcessor.java:48)\nat org.springframework.ide.eclipse.beans.ui.editor.contentassist.BeansContentAssistProcessor.addAttributeValueProposals(BeansContentAssistProcessor.java:524)\nat org.springframework.ide.eclipse.beans.ui.editor.contentassist.BeansContentAssistProcessor.addTagCloseProposals(BeansContentAssistProcessor.java:707)\nat org.eclipse.wst.xml.ui.internal.contentassist.AbstractContentAssistProcessor.computeTagNameProposals(AbstractContentAssistProcessor.java:1519)\nat org.eclipse.wst.xml.ui.internal.contentassist.AbstractContentAssistProcessor.computeCompletionProposals(AbstractContentAssistProcessor.java:1156)\nat org.eclipse.wst.xml.ui.internal.contentassist.XMLContentAssistProcessor.computeCompletionProposals(XMLContentAssistProcessor.java:102)\nat org.eclipse.wst.xml.ui.internal.contentassist.AbstractContentAssistProcessor.computeCompletionProposals(AbstractContentAssistProcessor.java:1278)\nat org.eclipse.wst.xml.ui.internal.contentassist.XMLContentAssistProcessor.computeCompletionProposals(XMLContentAssistProcessor.java:113)\nat org.eclipse.wst.sse.ui.internal.contentassist.CompoundContentAssistProcessor.computeCompletionProposals(CompoundContentAssistProcessor.java:232)\nat org.eclipse.jface.text.contentassist.ContentAssistant.computeCompletionProposals(ContentAssistant.java:1503)\nat org.eclipse.jface.text.contentassist.CompletionProposalPopup.computeProposals(CompletionProposalPopup.java:301)\nat org.eclipse.jface.text.contentassist.CompletionProposalPopup.access$13(CompletionProposalPopup.java:298)\nat org.eclipse.jface.text.contentassist.CompletionProposalPopup$2.run(CompletionProposalPopup.java:261)\nat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\nat org.eclipse.jface.text.contentassist.CompletionProposalPopup.showProposals(CompletionProposalPopup.java:256)\nat org.eclipse.jface.text.contentassist.ContentAssistant.showPossibleCompletions(ContentAssistant.java:1352)\nat org.eclipse.wst.sse.ui.internal.StructuredTextViewer.doOperation(StructuredTextViewer.java:374)\nat org.eclipse.ui.texteditor.TextOperationAction$1.run(TextOperationAction.java:122)\nat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\nat org.eclipse.ui.texteditor.TextOperationAction.run(TextOperationAction.java:120)\nat org.eclipse.jface.action.Action.runWithEvent(Action.java:996)\nat org.eclipse.ui.commands.ActionHandler.execute(ActionHandler.java:182)\nat org.eclipse.ui.internal.handlers.LegacyHandlerWrapper.execute(LegacyHandlerWrapper.java:108)\nat org.eclipse.core.commands.Command.execute(Command.java:311)\nat org.eclipse.core.commands.ParameterizedCommand.execute(ParameterizedCommand.java:396)\nat org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:459)\nat org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:781)\nat org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:828)\nat org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:550)\nat org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:493)\nat org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:117)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Display.filterEvent(Display.java:919)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)",
    "I don\u0027t know if this makes any difference, but I forgot to mention: the XML file in question is for the Spring Framework, and I have the \"SpringIDE\" plugin installed, which adds the DTD for this DOCTYPE to the XML Catalog.\n",
    "I reverted my configuration change, and still got the NPE in the same place. I tested some more, and it only occurs when I hit Ctrl+Space after the \"\u003cbean \" (note space). If I hit Ctrl+Space exactly after the \"\u003cbean\" (note NO space) I get no errors.\n\nThe problem XML is attached.",
    "Created an attachment (id\u003d39029)\nXML that causes the NPE\n\n",
    "These 2 lines seem suspicious:\norg.springframework.ide.eclipse.beans.ui.editor.contentassist.BeansContentAssistProcessor.addAttributeValueProposals(BeansContentAssistProcessor.java:524)\nat\norg.springframework.ide.eclipse.beans.ui.editor.contentassist.BeansContentAssistProcessor.addTagCloseProposals(BeansContentAssistProcessor.java:707)\n\nHave you tried looking in the spring ide bug system to see if anyone else has seen this?  I was not able to recreate this problem if I just had WTP installed and manually added spring-beans.dtd to the XML Catalog.",
    "Thanks for looking into this, Amy. ",
    "Daniel, if you can reproduce on a WTP-only environment, please re-open. \n\n",
    "This is part of a mass update to close out all stale WTP bugs which are in the resolved state without an appropriate targeted version.  If you feel this bug was closed inappropriately, please reopen."
  ],
  "commentCreationDates": [
    "2006-04-19T23:07:37+02:00",
    "2006-04-19T23:19:52+02:00",
    "2006-04-20T15:32:04+02:00",
    "2006-04-20T15:33:02+02:00",
    "2006-04-25T21:06:18+02:00",
    "2006-05-14T04:27:03+02:00",
    "2006-05-14T04:27:53+02:00",
    "2006-11-28T20:48:39+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.wst.xml.ui.internal.contentassist.AbstractContentAssistProcessor.addAttributeValueProposals",
          "source": "AbstractContentAssistProcessor.java:258"
        },
        {
          "method": "org.eclipse.wst.xml.ui.internal.contentassist.XMLContentAssistProcessor.addAttributeValueProposals",
          "source": "XMLContentAssistProcessor.java:48"
        },
        {
          "method": "org.springframework.ide.eclipse.beans.ui.editor.contentassist.BeansContentAssistProcessor.addAttributeValueProposals",
          "source": "BeansContentAssistProcessor.java:524"
        },
        {
          "method": "org.springframework.ide.eclipse.beans.ui.editor.contentassist.BeansContentAssistProcessor.addTagCloseProposals",
          "source": "BeansContentAssistProcessor.java:707"
        },
        {
          "method": "org.eclipse.wst.xml.ui.internal.contentassist.AbstractContentAssistProcessor.computeTagNameProposals",
          "source": "AbstractContentAssistProcessor.java:1519"
        },
        {
          "method": "org.eclipse.wst.xml.ui.internal.contentassist.AbstractContentAssistProcessor.computeCompletionProposals",
          "source": "AbstractContentAssistProcessor.java:1156"
        },
        {
          "method": "org.eclipse.wst.xml.ui.internal.contentassist.XMLContentAssistProcessor.computeCompletionProposals",
          "source": "XMLContentAssistProcessor.java:102"
        },
        {
          "method": "org.eclipse.wst.xml.ui.internal.contentassist.AbstractContentAssistProcessor.computeCompletionProposals",
          "source": "AbstractContentAssistProcessor.java:1278"
        },
        {
          "method": "org.eclipse.wst.xml.ui.internal.contentassist.XMLContentAssistProcessor.computeCompletionProposals",
          "source": "XMLContentAssistProcessor.java:113"
        },
        {
          "method": "org.eclipse.wst.sse.ui.internal.contentassist.CompoundContentAssistProcessor.computeCompletionProposals",
          "source": "CompoundContentAssistProcessor.java:232"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.ContentAssistant.computeCompletionProposals",
          "source": "ContentAssistant.java:1503"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.computeProposals",
          "source": "CompletionProposalPopup.java:301"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.access$13",
          "source": "CompletionProposalPopup.java:298"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup$2.run",
          "source": "CompletionProposalPopup.java:261"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.showProposals",
          "source": "CompletionProposalPopup.java:256"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.ContentAssistant.showPossibleCompletions",
          "source": "ContentAssistant.java:1352"
        },
        {
          "method": "org.eclipse.wst.sse.ui.internal.StructuredTextViewer.doOperation",
          "source": "StructuredTextViewer.java:374"
        },
        {
          "method": "org.eclipse.ui.texteditor.TextOperationAction$1.run",
          "source": "TextOperationAction.java:122"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.ui.texteditor.TextOperationAction.run",
          "source": "TextOperationAction.java:120"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:996"
        },
        {
          "method": "org.eclipse.ui.commands.ActionHandler.execute",
          "source": "ActionHandler.java:182"
        },
        {
          "method": "org.eclipse.ui.internal.handlers.LegacyHandlerWrapper.execute",
          "source": "LegacyHandlerWrapper.java:108"
        },
        {
          "method": "org.eclipse.core.commands.Command.execute",
          "source": "Command.java:311"
        },
        {
          "method": "org.eclipse.core.commands.ParameterizedCommand.execute",
          "source": "ParameterizedCommand.java:396"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand",
          "source": "WorkbenchKeyboard.java:459"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.press",
          "source": "WorkbenchKeyboard.java:781"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent",
          "source": "WorkbenchKeyboard.java:828"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings",
          "source": "WorkbenchKeyboard.java:550"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3",
          "source": "WorkbenchKeyboard.java:493"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent",
          "source": "WorkbenchKeyboard.java:117"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.filterEvent",
          "source": "Display.java:919"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:842"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "137601",
      "date": "2006-04-19T23:07:37+02:00",
      "product": "Web Tools",
      "component": "wst.xml",
      "severity": "major"
    }
  ],
  "groupId": "137601",
  "bugId": "137601",
  "date": "2006-04-19T23:07:37+02:00",
  "product": "Web Tools",
  "component": "wst.xml",
  "severity": "major"
}