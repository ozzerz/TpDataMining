{
  "comments": [
    "Build ID: M20070212-1330\n\nSteps To Reproduce:\nSee discussion of problem below.\n\n\nMore information:\nI am an adopter that contributes a lot of builders to the build cycle. At the end of a rather lengthy (5-15 minutes) build cycle, I see in the progress monitor details that a lot of validation jobs get kicked off concurrently (validators not contributed by our product). \n\nOccassionally I receive the following in the console log during these validator jobs:\n\n*** ERROR ***: Wed Sep 26 15:10:16 CDT 2007    org.eclipse.wst.common.internal.emfworkbench.edit.ClientAccessRegistryException: IWAE0011E Key already used to access Resource : org.eclipse.wst.common.internal.emfworkbench.EditModelLeastUsedCache@3b583b58\n    This exception was generated to indicate an invalid usage of reference counts.\n     Typically, this occurs on attempts to open an already open artifact edit.\n     Make sure the dispose method is called when done accessing.\n     Please examine the stack trace.\n     Client Access Exception of type INVALID_ACCESS_KEY \n    org.eclipse.wst.common.internal.emfworkbench.edit.ClientAccessRegistryException: IWAE0011E Key already used to access Resource : org.eclipse.wst.common.internal.emfworkbench.EditModelLeastUsedCache@3b583b58\n    This exception was generated to indicate an invalid usage of reference counts.\n     Typically, this occurs on attempts to open an already open artifact edit.\n     Make sure the dispose method is called when done accessing.\n     Please examine the stack trace.\n     Client Access Exception of type INVALID_ACCESS_KEY \n    \tat org.eclipse.wst.common.internal.emfworkbench.edit.ReadOnlyClientAccessRegistry.access(ReadOnlyClientAccessRegistry.java:32)\n    \tat org.eclipse.wst.common.internal.emfworkbench.integration.EditModel.access(EditModel.java:944)\n    \tat org.eclipse.wst.common.internal.emfworkbench.EditModelLeastUsedCache.access(EditModelLeastUsedCache.java:78)\n    \tat org.eclipse.wst.common.internal.emfworkbench.EMFWorkbenchContext.getEditModelForRead(EMFWorkbenchContext.java:144)\n    \tat org.eclipse.wst.common.internal.emfworkbench.integration.EditModelNature.getEditModelForRead(EditModelNature.java:49)\n    \tat org.eclipse.wst.common.internal.emfworkbench.integration.EditModelNature.getEditModelForRead(EditModelNature.java:39)\n    \tat org.eclipse.wst.common.componentcore.ModuleCoreNature.getModuleStructuralModelForRead(ModuleCoreNature.java:241)\n    \tat org.eclipse.wst.common.componentcore.internal.StructureEdit.\u003cinit\u003e(StructureEdit.java:320)\n    \tat org.eclipse.wst.common.componentcore.internal.StructureEdit.getStructureEditForRead(StructureEdit.java:119)\n    \tat org.eclipse.wst.common.componentcore.internal.resources.VirtualComponent.getMetaResources(VirtualComponent.java:207)\n    \tat org.eclipse.wst.common.componentcore.internal.resources.VirtualContainer.members(VirtualContainer.java:159)\n    \tat org.eclipse.jst.j2ee.componentcore.util.EARVirtualRootFolder.superMembers(EARVirtualRootFolder.java:29)\n    \tat org.eclipse.jst.j2ee.componentcore.util.EARVirtualRootFolder.superMembers(EARVirtualRootFolder.java:25)\n    \tat org.eclipse.jst.j2ee.componentcore.util.EARVirtualComponent.getLooseArchiveReferences(EARVirtualComponent.java:160)\n    \tat org.eclipse.jst.j2ee.componentcore.util.EARVirtualComponent.getLooseArchiveReferences(EARVirtualComponent.java:184)\n    \tat org.eclipse.jst.j2ee.componentcore.util.EARVirtualComponent.getLooseArchiveReferences(EARVirtualComponent.java:184)\n    \tat org.eclipse.jst.j2ee.componentcore.util.EARVirtualComponent.getLooseArchiveReferences(EARVirtualComponent.java:184)\n    \tat org.eclipse.jst.j2ee.componentcore.util.EARVirtualComponent.getLooseArchiveReferences(EARVirtualComponent.java:154)\n    \tat org.eclipse.jst.j2ee.componentcore.util.EARVirtualComponent.getReferences(EARVirtualComponent.java:200)\n    \tat org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getComponentReferencesAsList(EARArtifactEdit.java:548)\n    \tat org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getComponentReferences(EARArtifactEdit.java:533)\n    \tat org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getComponentReferences(EARArtifactEdit.java:513)\n    \tat org.eclipse.jst.j2ee.internal.archive.operations.EARComponentLoadStrategyImpl.addModulesAndUtilities(EARComponentLoadStrategyImpl.java:67)\n    \tat org.eclipse.jst.j2ee.internal.archive.operations.EARComponentLoadStrategyImpl.getFiles(EARComponentLoadStrategyImpl.java:51)\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.LoadStrategyImpl.collectFiles(LoadStrategyImpl.java:286)\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ContainerImpl.getFiles(ContainerImpl.java:237)\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ContainerImpl.getFile(ContainerImpl.java:197)\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.initModuleFileFromEAR(ModuleRefImpl.java:122)\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.getModuleFile(ModuleRefImpl.java:106)\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.impl.EARFileImpl.getModuleFile(EARFileImpl.java:93)\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.impl.EARFileImpl.getDeploymentDescriptor(EARFileImpl.java:333)\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.getDeploymentDescriptor(ModuleRefImpl.java:165)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateEJBModuleRefs(EarValidator.java:463)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateRefs(EarValidator.java:399)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validate(EarValidator.java:122)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateInJob(EarValidator.java:144)\n    \tat org.eclipse.jst.j2ee.internal.validation.UIEarValidator.validateInJob(UIEarValidator.java:220)\n    \tat org.eclipse.wst.validation.internal.operations.ValidatorJob.run(ValidatorJob.java:70)\n    \tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\n\nIt does not happen every time, but the fact that it happened once indicates that there is a threading problem. This bug is to track that and ensure that these classes are made thread-safe moving forward."
  ],
  "commentCreationDates": [
    "2007-09-26T22:24:01+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.wst.common.internal.emfworkbench.edit.ClientAccessRegistryException",
      "message": "IWAE0011E Key already used to access Resource : org.eclipse.wst.common.internal.emfworkbench.EditModelLeastUsedCache@3b583b58     This exception was generated to indicate an invalid usage of reference counts.      Typically, this occurs on attempts to open an already open artifact edit.      Make sure the dispose method is called when done accessing.      Please examine the stack trace.      Client Access Exception of type INVALID_ACCESS_KEY",
      "elements": [
        {
          "method": "org.eclipse.wst.common.internal.emfworkbench.edit.ReadOnlyClientAccessRegistry.access",
          "source": "ReadOnlyClientAccessRegistry.java:32"
        },
        {
          "method": "org.eclipse.wst.common.internal.emfworkbench.integration.EditModel.access",
          "source": "EditModel.java:944"
        },
        {
          "method": "org.eclipse.wst.common.internal.emfworkbench.EditModelLeastUsedCache.access",
          "source": "EditModelLeastUsedCache.java:78"
        },
        {
          "method": "org.eclipse.wst.common.internal.emfworkbench.EMFWorkbenchContext.getEditModelForRead",
          "source": "EMFWorkbenchContext.java:144"
        },
        {
          "method": "org.eclipse.wst.common.internal.emfworkbench.integration.EditModelNature.getEditModelForRead",
          "source": "EditModelNature.java:49"
        },
        {
          "method": "org.eclipse.wst.common.internal.emfworkbench.integration.EditModelNature.getEditModelForRead",
          "source": "EditModelNature.java:39"
        },
        {
          "method": "org.eclipse.wst.common.componentcore.ModuleCoreNature.getModuleStructuralModelForRead",
          "source": "ModuleCoreNature.java:241"
        },
        {
          "method": "org.eclipse.wst.common.componentcore.internal.StructureEdit.\u003cinit\u003e",
          "source": "StructureEdit.java:320"
        },
        {
          "method": "org.eclipse.wst.common.componentcore.internal.StructureEdit.getStructureEditForRead",
          "source": "StructureEdit.java:119"
        },
        {
          "method": "org.eclipse.wst.common.componentcore.internal.resources.VirtualComponent.getMetaResources",
          "source": "VirtualComponent.java:207"
        },
        {
          "method": "org.eclipse.wst.common.componentcore.internal.resources.VirtualContainer.members",
          "source": "VirtualContainer.java:159"
        },
        {
          "method": "org.eclipse.jst.j2ee.componentcore.util.EARVirtualRootFolder.superMembers",
          "source": "EARVirtualRootFolder.java:29"
        },
        {
          "method": "org.eclipse.jst.j2ee.componentcore.util.EARVirtualRootFolder.superMembers",
          "source": "EARVirtualRootFolder.java:25"
        },
        {
          "method": "org.eclipse.jst.j2ee.componentcore.util.EARVirtualComponent.getLooseArchiveReferences",
          "source": "EARVirtualComponent.java:160"
        },
        {
          "method": "org.eclipse.jst.j2ee.componentcore.util.EARVirtualComponent.getLooseArchiveReferences",
          "source": "EARVirtualComponent.java:184"
        },
        {
          "method": "org.eclipse.jst.j2ee.componentcore.util.EARVirtualComponent.getLooseArchiveReferences",
          "source": "EARVirtualComponent.java:184"
        },
        {
          "method": "org.eclipse.jst.j2ee.componentcore.util.EARVirtualComponent.getLooseArchiveReferences",
          "source": "EARVirtualComponent.java:184"
        },
        {
          "method": "org.eclipse.jst.j2ee.componentcore.util.EARVirtualComponent.getLooseArchiveReferences",
          "source": "EARVirtualComponent.java:154"
        },
        {
          "method": "org.eclipse.jst.j2ee.componentcore.util.EARVirtualComponent.getReferences",
          "source": "EARVirtualComponent.java:200"
        },
        {
          "method": "org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getComponentReferencesAsList",
          "source": "EARArtifactEdit.java:548"
        },
        {
          "method": "org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getComponentReferences",
          "source": "EARArtifactEdit.java:533"
        },
        {
          "method": "org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getComponentReferences",
          "source": "EARArtifactEdit.java:513"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.archive.operations.EARComponentLoadStrategyImpl.addModulesAndUtilities",
          "source": "EARComponentLoadStrategyImpl.java:67"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.archive.operations.EARComponentLoadStrategyImpl.getFiles",
          "source": "EARComponentLoadStrategyImpl.java:51"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.LoadStrategyImpl.collectFiles",
          "source": "LoadStrategyImpl.java:286"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ContainerImpl.getFiles",
          "source": "ContainerImpl.java:237"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ContainerImpl.getFile",
          "source": "ContainerImpl.java:197"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.initModuleFileFromEAR",
          "source": "ModuleRefImpl.java:122"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.getModuleFile",
          "source": "ModuleRefImpl.java:106"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.impl.EARFileImpl.getModuleFile",
          "source": "EARFileImpl.java:93"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.impl.EARFileImpl.getDeploymentDescriptor",
          "source": "EARFileImpl.java:333"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.getDeploymentDescriptor",
          "source": "ModuleRefImpl.java:165"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateEJBModuleRefs",
          "source": "EarValidator.java:463"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateRefs",
          "source": "EarValidator.java:399"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validate",
          "source": "EarValidator.java:122"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateInJob",
          "source": "EarValidator.java:144"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.validation.UIEarValidator.validateInJob",
          "source": "UIEarValidator.java:220"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidatorJob.run",
          "source": "ValidatorJob.java:70"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "204726",
      "date": "2007-09-26T22:24:01+02:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "normal"
    }
  ],
  "groupId": "204726",
  "bugId": "204726",
  "date": "2007-09-26T22:24:01+02:00",
  "product": "Web Tools",
  "component": "jst.j2ee",
  "severity": "normal"
}