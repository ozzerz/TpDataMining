{
  "comments": [
    "Build ID: M20071023-1652\n\nSteps To Reproduce:\n1.operational eclipse 3.4M1 on mac os 10.4 (up to date) using Java 1.5_07 JRE \nand ant UI in \"run as external tools dialog\"\n2.install mac os 10.5\n3.attempt to run build.xml with external tools dialog\n\n[occurred both with 3.3.1.1 and with 3.4M1]\n\n\nMore information:\nintel mac pro.\nant run in separate JRE, with 512M heap\n\nI see two different behaviors:\na-without having ANT_OPTS set to 512M\nXML parser factory has not been configured correctly: Provider com.icl.saxon.aelfred.SAXParserFactoryImpl not found\n\nb-with having ANT_OPTS set to 512M\nhere is .log entry\n!ENTRY org.eclipse.ant.ui 4 120 2007-11-05 22:10:46.866\n!MESSAGE Error logged from Ant UI:\n!STACK 0\njava.net.SocketTimeoutException: Accept timed out\n        at java.net.PlainSocketImpl.socketAccept(Native Method)\n        at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:384)\n        at java.net.ServerSocket.implAccept(ServerSocket.java:450)\n        at java.net.ServerSocket.accept(ServerSocket.java:421)\n        at org.eclipse.ant.internal.ui.launchConfigurations.RemoteAntBuildListener$ServerConnection.run(RemoteAntBuildListener.java:95)\n\nin eclipse/preferences/ant the timeout for a separate JRE is set to 120 seconds.",
    "After installing Mac OS 10.5 are you sure that something is not blocking socket communication?",
    "I see nothing obvious.\nI reset the firewall to enable input for testing but no change in behavior,\nnetstat indicates socket connections exist.\n\nIn addition to eclipse, I have \nmacports v 1.5 installed and default configuration;\nsubversion.\n\nI ran DoorStop and it indicates that ports 53, 67-68,123, 5353 are open.\nlots of services appear to be running to no surprise.\n\nI ran the socketfilterfw -d and got these results:\nhttpd,\nsshd-keygen-wrapper,\nApplceVNCServer,\nAppleFileServer,\nAEServer,\nftpd,\nsmbd,\ncupsd\n\nwere trusted.\n\nthere were some exceptions which were probably permissions issues.\n\n\n\n\n\n\n\n",
    "here is a log file from doorstop:\n\nNov 6 23:54:18 bi2 kernel: DoorStop: Year 2007\nNov  6 23:58:14 bi2 kernel[0]: IPv6 packet filtering initialized, default to accept, logging disabled\nNov  7 00:41:07 bi2 kernel[0]: Limiting closed port RST response from 252 to 250 packets per second\nNov  7 00:59:03 bi2 kernel[0]: ALF:DumpInternalData app entries\nNov  7 00:59:03 bi2 kernel[0]: ALF: app \u003d 0x8e6b704, smbd in app list tcp_connect \u003d 11 app_pe\u003d 0\nNov  7 00:59:03 bi2 kernel[0]: ALF: app \u003d 0x8e6b784, ftpd in app list tcp_connect \u003d 11 app_pe\u003d 0\nNov  7 00:59:03 bi2 kernel[0]: ALF: app \u003d 0x8e6b604, AEServer in app list tcp_connect \u003d 11 app_pe\u003d 0\nNov  7 00:59:03 bi2 kernel[0]: ALF: app \u003d 0x8e6b684, AppleVNCServer in app list tcp_connect \u003d 11 app_pe\u003d 0\nNov  7 00:59:03 bi2 kernel[0]: ALF: app \u003d 0x8e6b584, sshd-keygen-wrapper in app list tcp_connect \u003d 11 app_pe\u003d 0\nNov  7 00:59:03 bi2 kernel[0]: ALF: app \u003d 0x8e6bc04, httpd in app list tcp_connect \u003d 11 app_pe\u003d 0\nNov  7 00:59:03 bi2 kernel[0]: ALF: app \u003d 0x8bf3384, AppleFileServer in app list tcp_connect \u003d 11 app_pe\u003d 0x884c604\nNov  7 00:59:03 bi2 kernel[0]: ALF: app \u003d 0x884c684, cupsd in app list tcp_connect \u003d 11 app_pe\u003d 0x87fb584\nNov  7 00:59:03 bi2 kernel[0]: ALF:DumpInternalData pid_entry entries\nNov  7 00:59:03 bi2 kernel[0]: ALF: pe \u003d 0xf0b1a84, procname TextEdit, procpath , tcp_connect 0x11, udp_connect 0x11, pe-\u003epe_pid\u003d 522, pe_ref \u003d 1 pe_app 0, pe_flag 0x101\nNov  7 00:59:03 bi2 kernel[0]: ALF: pe \u003d 0xf480804, procname eclipse, procpath , tcp_connect 0x11, udp_connect 0x11, pe-\u003epe_pid\u003d 488, pe_ref \u003d 3 pe_app 0, pe_flag 0x1\nNov  7 00:59:03 bi2 kernel[0]: ALF: pe \u003d 0xe6b1e84, procname Network Utility, procpath , tcp_connect 0x11, udp_connect 0x11, pe-\u003epe_pid\u003d 273, pe_ref \u003d 1 pe_app 0, pe_flag 0x101\nNov  7 00:59:03 bi2 kernel[0]: ALF: pe \u003d 0xd0fa404, procname Parallels, procpath , tcp_connect 0x11, udp_connect 0x11, pe-\u003epe_pid\u003d 267, pe_ref \u003d 2 pe_app 0, pe_flag 0x1\nNov  7 00:59:03 bi2 kernel[0]: ALF: pe \u003d 0x85c4084, procname Safari, procpath , tcp_connect 0x11, udp_connect 0x11, pe-\u003epe_pid\u003d 178, pe_ref \u003d 1 pe_app 0, pe_flag 0x101\nNov  7 00:59:03 bi2 kernel[0]: ALF: pe \u003d 0xab54104, procname thunderbird-bin, procpath , tcp_connect 0x11, udp_connect 0x11, pe-\u003epe_pid\u003d 138, pe_ref \u003d 1 pe_app 0, pe_flag 0x1\nNov  7 00:59:03 bi2 kernel[0]: ALF: pe \u003d 0x9330884, procname DirectoryServic, procpath , tcp_connect 0x11, udp_connect 0x11, pe-\u003epe_pid\u003d 11, pe_ref \u003d 1 pe_app 0, pe_flag 0x3\nNov  7 00:59:03 bi2 kernel[0]: ALF: pe \u003d 0x931d004, procname pvsnatd, procpath , tcp_connect 0x11, udp_connect 0x11, pe-\u003epe_pid\u003d 94, pe_ref \u003d 1 pe_app 0, pe_flag 0x3\nNov  7 00:59:03 bi2 kernel[0]: ALF: pe \u003d 0x92de984, procname HP USB EWS Gate, procpath , tcp_connect 0x11, udp_connect 0x11, pe-\u003epe_pid\u003d 84, pe_ref \u003d 3 pe_app 0, pe_flag 0x3\nNov  7 00:59:03 bi2 kernel[0]: ALF: pe \u003d 0x92dee04, procname ntpd, procpath , tcp_connect 0x11, udp_connect 0x11, pe-\u003epe_pid\u003d 26, pe_ref \u003d 9 pe_app 0, pe_flag 0x3\nNov  7 00:59:03 bi2 kernel[0]: ALF: pe \u003d 0x92dee84, procname llipd, procpath , tcp_connect 0x11, udp_connect 0x11, pe-\u003epe_pid\u003d 76, pe_ref \u003d 1 pe_app 0, pe_flag 0x3\nNov  7 00:59:03 bi2 kernel[0]: ALF: pe \u003d 0x8ec4184, procname krb5kdc, procpath , tcp_connect 0x11, udp_connect 0x11, pe-\u003epe_pid\u003d 57, pe_ref \u003d 10 pe_app 0, pe_flag 0x3\nNov  7 00:59:03 bi2 kernel[0]: ALF: pe \u003d 0x8b4c284, procname mDNSResponder, procpath , tcp_connect 0x11, udp_connect 0x11, pe-\u003epe_pid\u003d 15, pe_ref \u003d 3 pe_app 0, pe_flag 0x101\nNov  7 00:59:03 bi2 kernel[0]: ALF: pe \u003d 0x8b26a84, procname configd, procpath , tcp_connect 0x11, udp_connect 0x11, pe-\u003epe_pid\u003d 14, pe_ref \u003d 2 pe_app 0, pe_flag 0x3\nNov  7 00:59:03 bi2 kernel[0]: ALF: pe \u003d 0x884c604, procname AppleFileServer, procpath /usr/sbin/AppleFileServer, tcp_connect 0x11, udp_connect 0x11, pe-\u003epe_pid\u003d 0, pe_ref \u003d 3 pe_app 0x8bf3384, pe_flag 0x3\nNov  7 00:59:03 bi2 kernel[0]: ALF: pe \u003d 0x87fb584, procname cupsd, procpath /usr/sbin/cupsd, tcp_connect 0x11, udp_connect 0x11, pe-\u003epe_pid\u003d 0, pe_ref \u003d 6 pe_app 0x884c684, pe_flag 0x3\nNov  7 00:59:03 bi2 kernel[0]: ALF:TOTAL proc in table \u003d 16\n \n",
    "1-changed ant runtime JRE option to run in same JRE as workspace.\nbuild successfully completed.\n\n2-With the configuration noted in (1), following warning is displayed on the Environment tab:\n\"An environment can only be used when running in a separate JRE.\nThis setting can be configured on the JRE tab.\"\nThese variables are apparently ignored:\nANT_HOME; ANT_OPTS.\n\nHowever, the build did execute so maybe this is an unrelated item.",
    "Exact same issue with my latest Eclipse 3.3.2 installation on OS X 10.5.  Running ant within same JRE works, but RemoteAntBuildListener throws exception when running in separate JRE.",
    "ANT_OPTS is not used by the Eclipse Ant integration and should have no impact on behavior.\n\nI have no access to a Mac with 10.5 at this time.\nMy educated guesses:\n - something is blocking interfering with the socket communication\n - multi xml parsing libraries are on the Ant runtime classpath for the separate JRE build. Are you ensuring you are using the same JRE for both cases?\n",
    "-blocking socket communication:nothing obvious; as mentioned I ran a test using two ruby functions.\n-multi xml parsing libraries: tested both with/without saxon 6.5.5 jars. no effect\n-used default install of eclipse. no effect\n-same JRE? appears to be.  in os 10.5, v1.5 is a link to 1.5.0_13xxx\n\n",
    "according to configuration details, the JRE is exactly the same for internal and external in my configuration.",
    "I also confirmed that Eclipse is running under the same JRE as the launching JRE for ant, JDK 1.5.0.13, which is bundled with OS X 10.5.\n\nDoes anyone know which port is being used by RemoteAntBuildListener?",
    "It is dynamic.\n\norg.eclipse.jdt.launching.SocketUtil.findFreePort() returns a port that is supposed to be available and this is what is used by the RemoteAntBuildListener.\n\nSee org.eclipse.ant.internal.ui.launchConfigurations.AntLaunchDelegate.launch(ILaunchConfiguration, String, ILaunch, IProgressMonitor) for all the details."
  ],
  "commentCreationDates": [
    "2007-11-06T05:02:14+01:00",
    "2007-11-06T05:47:08+01:00",
    "2007-11-07T07:03:09+01:00",
    "2007-11-07T07:23:32+01:00",
    "2007-11-08T04:06:59+01:00",
    "2007-11-12T18:40:25+01:00",
    "2007-11-12T18:54:57+01:00",
    "2007-11-13T03:46:20+01:00",
    "2007-11-13T03:51:56+01:00",
    "2007-11-13T16:18:05+01:00",
    "2007-11-13T18:39:13+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.net.SocketTimeoutException",
      "message": "Accept timed out",
      "elements": [
        {
          "method": "java.net.PlainSocketImpl.socketAccept",
          "source": "Native Method"
        },
        {
          "method": "java.net.PlainSocketImpl.accept",
          "source": "PlainSocketImpl.java:384"
        },
        {
          "method": "java.net.ServerSocket.implAccept",
          "source": "ServerSocket.java:450"
        },
        {
          "method": "java.net.ServerSocket.accept",
          "source": "ServerSocket.java:421"
        },
        {
          "method": "org.eclipse.ant.internal.ui.launchConfigurations.RemoteAntBuildListener$ServerConnection.run",
          "source": "RemoteAntBuildListener.java:95"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "208852",
      "date": "2007-11-06T05:02:14+01:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    }
  ],
  "groupId": "208852",
  "bugId": "208852",
  "date": "2007-11-06T05:02:14+01:00",
  "product": "Platform",
  "component": "Ant",
  "severity": "normal"
}