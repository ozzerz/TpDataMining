{
  "comments": [
    "Hello, firstly sorry for my bad english... \n\nI hope someone can help me... \n\nI work with 4.1.0-alpha-max-nt, mysql-connector-java-3.0.8-stable-bin.jar and \nBirt.\nVersion: 2.1.0.N20060628-1351\nBuild id: 200606281537\n\nI try to change Data Source dynamic in BeforeOpen property like this\nextensionProperties.odaUser \u003d \"IO\";\nextensionProperties.odaPassword \u003d \"RM\";\nextensionProperties.odaURL \u003d \"jdbc:mysql://localhost/apa\";\nextensionProperties.odaDriverClass \u003d \"com.mysql.jdbc.Driver\";\n\nand received\n\nThe following items have errors: \n\n\nTable (id \u003d 66): \n- Cannot open the connection for the driver: org.eclipse.birt.report.data.oda.jdbc\nFailed to get connection.\nSQL error #1: Communication link failure: java.io.IOException, underlying cause: Unexpected end of input stream\n\n** BEGIN NESTED EXCEPTION ** \n\njava.io.IOException\nMESSAGE: Unexpected end of input stream\n\nSTACKTRACE:\n\njava.io.IOException: Unexpected end of input stream\n at com.mysql.jdbc.MysqlIO.readPacket(MysqlIO.java:1096)\n at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:626)\n at com.mysql.jdbc.Connection.createNewIO(Connection.java:1562)\n at com.mysql.jdbc.Connection.\u003cinit\u003e(Connection.java:491)\n at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:346)\n at org.eclipse.birt.report.data.oda.jdbc.JDBCDriverManager$WrappedDriver.connect(JDBCDriverManager.java:787)\n at java.sql.DriverManager.getConnection(Unknown Source)\n at java.sql.DriverManager.getConnection(Unknown Source)\n at org.eclipse.birt.report.data.oda.jdbc.JDBCDriverManager.doConnect(JDBCDriverManager.java:185)\n at org.eclipse.birt.report.data.oda.jdbc.JDBCDriverManager.getConnection(JDBCDriverManager.java:146)\n at org.eclipse.birt.report.data.oda.jdbc.Connection.connectByUrl(Connection.java:149)\n at org.eclipse.birt.report.data.oda.jdbc.Connection.open(Connection.java:111)\n at org.eclipse.datatools.connectivity.oda.consumer.helper.OdaConnection.open(OdaConnection.java:235)\n at org.eclipse.birt.data.engine.odaconsumer.ConnectionManager.openConnection(ConnectionManager.java:124)\n at org.eclipse.birt.data.engine.executor.DataSource.newConnection(DataSource.java:120)\n at org.eclipse.birt.data.engine.executor.DataSource.open(DataSource.java:108)\n at org.eclipse.birt.data.engine.impl.DataSourceRuntime.openOdiDataSource(DataSourceRuntime.java:206)\n at org.eclipse.birt.data.engine.impl.QueryExecutor.openDataSource(QueryExecutor.java:261)\n at org.eclipse.birt.data.engine.impl.QueryExecutor.prepareExecution(QueryExecutor.java:210)\n at org.eclipse.birt.data.engine.impl.PreparedQuery.doPrepare(PreparedQuery.java:366)\n at org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.execute(PreparedDataSourceQuery.java:139)\n at org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.execute(PreparedDataSourceQuery.java:122)\n at org.eclipse.birt.report.engine.data.dte.DteDataEngine.doExecuteQuery(DteDataEngine.java:112)\n at org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.execute(AbstractDataEngine.java:208)\n at org.eclipse.birt.report.engine.executor.ExecutionContext.executeQuery(ExecutionContext.java:1541)\n at org.eclipse.birt.report.engine.executor.QueryItemExecutor.executeQuery(QueryItemExecutor.java:62)\n at org.eclipse.birt.report.engine.executor.TableItemExecutor.execute(TableItemExecutor.java:74)\n at org.eclipse.birt.report.engine.internal.executor.l18n.LocalizedReportItemExecutor.execute(LocalizedReportItemExecutor.java:35)\n at org.eclipse.birt.report.engine.layout.html.HTMLPageLM.layoutChildren(HTMLPageLM.java:123)\n at org.eclipse.birt.report.engine.layout.html.HTMLPageLM.layout(HTMLPageLM.java:81)\n at org.eclipse.birt.report.engine.layout.html.HTMLReportLayoutEngine.layout(HTMLReportLayoutEngine.java:80)\n at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run(RunAndRenderTask.java:187)\n at org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport(Unknown Source)\n at org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport(Unknown Source)\n at org.eclipse.birt.report.service.BirtViewerReportService.runAndRenderReport(Unknown Source)\n at org.eclipse.birt.report.service.actionhandler.BirtRunAndRenderActionHandler.__execute(Unknown Source)\n at org.eclipse.birt.report.service.actionhandler.AbstractBaseActionHandler.execute(Unknown Source)\n at org.eclipse.birt.report.presentation.aggregation.layout.EngineFragment.doService(Unknown Source)\n at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.service(Unknown Source)\n at org.eclipse.birt.report.servlet.BirtEngineServlet.__doGet(Unknown Source)\n at org.eclipse.birt.report.servlet.BaseReportEngineServlet.doGet(Unknown Source)\n at javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\n at org.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:327)\n at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:247)\n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:256)\n at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n at org.apache.catalina.valves.CertificatesValve.invoke(CertificatesValve.java:246)\n at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)\n at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n at org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2422)\n at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:180)\n at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n at org.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherValve.java:171)\n at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)\n at org.eclipse.tomcat.internal.EclipseErrorReportValve.invoke(EclipseErrorReportValve.java:153)\n at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)\n at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:174)\n at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n at org.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:199)\n at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:828)\n at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:700)\n at org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:584)\n at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:683)\n at java.lang.Thread.run(Unknown Source)\n\n\n** END NESTED EXCEPTION **\n\nMy guess is what writhing in report for connecting dynamic data source.\nI test my report in Birt 2.0 and works fine.\n\nTanks.",
    "Hi there, \n\nCan you attach the report that of problem? So that we can do more detailed investigation?\n\nThanks~\n",
    "Created an attachment (id\u003d49035)\nReport design with bug\n\nBirt report not work script DataSource beforeOpen",
    "*** Bug 155961 has been marked as a duplicate of this bug. ***",
    "beforeOpen should work.\nThere are two possibilities that will cause the problem\n1. Although I don\u0027t see anything wrong with the format, it\u0027s recommended you double check the values you entered.\n2. Upgrade the driver to any version later than 3.1, there might be a little probelm with the older one.\n\nKeep me posted, will you?\n",
    "How did it go?",
    "It still not Working because my driver must be mysql-connector-java-3.0.8-stable-bin.jar for my application.",
    "um, this is a little driver specific\nWhat if you use report parameter instead?",
    "We\u0027ve tested the driver(mysql-connector-java-3.0.8-stable-bin.jar) in BIRT 2.0 \u0026 BIRT 2.1 environment, which fails either way.\nThe builds work with newer drivers though,I guess it\u0027s safe to say your problem is caused by the driver.\nPlease double check if you driver works with your MySQL server and in the meantime, you could always use report parameters as workaround",
    "It turned out the scenario is really driver specific,I need to close it as worksforme\nPlease feel free to leave messages though if you have any further questions\nregards"
  ],
  "commentCreationDates": [
    "2006-08-29T15:32:34+02:00",
    "2006-08-30T04:42:31+02:00",
    "2006-08-30T09:10:59+02:00",
    "2006-09-04T05:28:58+02:00",
    "2006-09-25T07:56:52+02:00",
    "2006-10-08T05:32:22+02:00",
    "2006-10-09T09:29:48+02:00",
    "2006-10-10T05:23:34+02:00",
    "2006-10-10T11:27:43+02:00",
    "2006-10-11T09:54:42+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.io.IOException",
      "message": "Unexpected end of input stream",
      "elements": [
        {
          "method": "com.mysql.jdbc.MysqlIO.readPacket",
          "source": "MysqlIO.java:1096"
        },
        {
          "method": "com.mysql.jdbc.MysqlIO.doHandshake",
          "source": "MysqlIO.java:626"
        },
        {
          "method": "com.mysql.jdbc.Connection.createNewIO",
          "source": "Connection.java:1562"
        },
        {
          "method": "com.mysql.jdbc.Connection.\u003cinit\u003e",
          "source": "Connection.java:491"
        },
        {
          "method": "com.mysql.jdbc.NonRegisteringDriver.connect",
          "source": "NonRegisteringDriver.java:346"
        },
        {
          "method": "org.eclipse.birt.report.data.oda.jdbc.JDBCDriverManager$WrappedDriver.connect",
          "source": "JDBCDriverManager.java:787"
        },
        {
          "method": "java.sql.DriverManager.getConnection",
          "source": "Unknown Source"
        },
        {
          "method": "java.sql.DriverManager.getConnection",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.data.oda.jdbc.JDBCDriverManager.doConnect",
          "source": "JDBCDriverManager.java:185"
        },
        {
          "method": "org.eclipse.birt.report.data.oda.jdbc.JDBCDriverManager.getConnection",
          "source": "JDBCDriverManager.java:146"
        },
        {
          "method": "org.eclipse.birt.report.data.oda.jdbc.Connection.connectByUrl",
          "source": "Connection.java:149"
        },
        {
          "method": "org.eclipse.birt.report.data.oda.jdbc.Connection.open",
          "source": "Connection.java:111"
        },
        {
          "method": "org.eclipse.datatools.connectivity.oda.consumer.helper.OdaConnection.open",
          "source": "OdaConnection.java:235"
        },
        {
          "method": "org.eclipse.birt.data.engine.odaconsumer.ConnectionManager.openConnection",
          "source": "ConnectionManager.java:124"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.DataSource.newConnection",
          "source": "DataSource.java:120"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.DataSource.open",
          "source": "DataSource.java:108"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.DataSourceRuntime.openOdiDataSource",
          "source": "DataSourceRuntime.java:206"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.QueryExecutor.openDataSource",
          "source": "QueryExecutor.java:261"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.QueryExecutor.prepareExecution",
          "source": "QueryExecutor.java:210"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedQuery.doPrepare",
          "source": "PreparedQuery.java:366"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.execute",
          "source": "PreparedDataSourceQuery.java:139"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.execute",
          "source": "PreparedDataSourceQuery.java:122"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.DteDataEngine.doExecuteQuery",
          "source": "DteDataEngine.java:112"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.execute",
          "source": "AbstractDataEngine.java:208"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ExecutionContext.executeQuery",
          "source": "ExecutionContext.java:1541"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.QueryItemExecutor.executeQuery",
          "source": "QueryItemExecutor.java:62"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.TableItemExecutor.execute",
          "source": "TableItemExecutor.java:74"
        },
        {
          "method": "org.eclipse.birt.report.engine.internal.executor.l18n.LocalizedReportItemExecutor.execute",
          "source": "LocalizedReportItemExecutor.java:35"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLPageLM.layoutChildren",
          "source": "HTMLPageLM.java:123"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLPageLM.layout",
          "source": "HTMLPageLM.java:81"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLReportLayoutEngine.layout",
          "source": "HTMLReportLayoutEngine.java:80"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run",
          "source": "RunAndRenderTask.java:187"
        },
        {
          "method": "org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.service.BirtViewerReportService.runAndRenderReport",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.service.actionhandler.BirtRunAndRenderActionHandler.__execute",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.service.actionhandler.AbstractBaseActionHandler.execute",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.presentation.aggregation.layout.EngineFragment.doService",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.service",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.servlet.BirtEngineServlet.__doGet",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.servlet.BaseReportEngineServlet.doGet",
          "source": "Unknown Source"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:740"
        },
        {
          "method": "org.apache.axis.transport.http.AxisServletBase.service",
          "source": "AxisServletBase.java:327"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:853"
        },
        {
          "method": "org.apache.catalina.core.ApplicationFilterChain.internalDoFilter",
          "source": "ApplicationFilterChain.java:247"
        },
        {
          "method": "org.apache.catalina.core.ApplicationFilterChain.doFilter",
          "source": "ApplicationFilterChain.java:193"
        },
        {
          "method": "org.apache.catalina.core.StandardWrapperValve.invoke",
          "source": "StandardWrapperValve.java:256"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext",
          "source": "StandardPipeline.java:643"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline.invoke",
          "source": "StandardPipeline.java:480"
        },
        {
          "method": "org.apache.catalina.core.ContainerBase.invoke",
          "source": "ContainerBase.java:995"
        },
        {
          "method": "org.apache.catalina.core.StandardContextValve.invoke",
          "source": "StandardContextValve.java:191"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext",
          "source": "StandardPipeline.java:643"
        },
        {
          "method": "org.apache.catalina.valves.CertificatesValve.invoke",
          "source": "CertificatesValve.java:246"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext",
          "source": "StandardPipeline.java:641"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline.invoke",
          "source": "StandardPipeline.java:480"
        },
        {
          "method": "org.apache.catalina.core.ContainerBase.invoke",
          "source": "ContainerBase.java:995"
        },
        {
          "method": "org.apache.catalina.core.StandardContext.invoke",
          "source": "StandardContext.java:2422"
        },
        {
          "method": "org.apache.catalina.core.StandardHostValve.invoke",
          "source": "StandardHostValve.java:180"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext",
          "source": "StandardPipeline.java:643"
        },
        {
          "method": "org.apache.catalina.valves.ErrorDispatcherValve.invoke",
          "source": "ErrorDispatcherValve.java:171"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext",
          "source": "StandardPipeline.java:641"
        },
        {
          "method": "org.eclipse.tomcat.internal.EclipseErrorReportValve.invoke",
          "source": "EclipseErrorReportValve.java:153"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext",
          "source": "StandardPipeline.java:641"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline.invoke",
          "source": "StandardPipeline.java:480"
        },
        {
          "method": "org.apache.catalina.core.ContainerBase.invoke",
          "source": "ContainerBase.java:995"
        },
        {
          "method": "org.apache.catalina.core.StandardEngineValve.invoke",
          "source": "StandardEngineValve.java:174"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext",
          "source": "StandardPipeline.java:643"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline.invoke",
          "source": "StandardPipeline.java:480"
        },
        {
          "method": "org.apache.catalina.core.ContainerBase.invoke",
          "source": "ContainerBase.java:995"
        },
        {
          "method": "org.apache.coyote.tomcat4.CoyoteAdapter.service",
          "source": "CoyoteAdapter.java:199"
        },
        {
          "method": "org.apache.coyote.http11.Http11Processor.process",
          "source": "Http11Processor.java:828"
        },
        {
          "method": "org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection",
          "source": "Http11Protocol.java:700"
        },
        {
          "method": "org.apache.tomcat.util.net.TcpWorkerThread.runIt",
          "source": "PoolTcpEndpoint.java:584"
        },
        {
          "method": "org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run",
          "source": "ThreadPool.java:683"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Unknown Source"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "155540",
      "date": "2006-08-29T15:32:34+02:00",
      "product": "BIRT",
      "component": "Data Access",
      "severity": "blocker"
    }
  ],
  "groupId": "155540",
  "bugId": "155540",
  "date": "2006-08-29T15:32:34+02:00",
  "product": "BIRT",
  "component": "Data Access",
  "severity": "blocker"
}