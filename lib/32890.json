{
  "comments": [
    "I commented out part of the ant script and the coloring was not updated.\n\nWill attach picture.\n\n\nI found an exception, I don\u0027t know if it is relevant.\n\n!SESSION feb 25, 2003 10:02:36.167 ---------------------------------------------\njava.version\u003d1.4.1_01\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003dno_NO\nCommand-line arguments: -os win32 -ws win32 -arch x86 -install file:C:/eclipse/\n!ENTRY org.eclipse.ui 4 4 feb 25, 2003 10:02:36.167\n!MESSAGE Unhandled exception caught in event loop.\n!ENTRY org.eclipse.ui 4 0 feb 25, 2003 10:02:36.177\n!MESSAGE -1000\n!STACK 0\njava.lang.ArrayIndexOutOfBoundsException: -1000\n\tat org.eclipse.jface.text.rules.BufferedRuleBasedScanner.read\n(BufferedRuleBasedScanner.java:113)\n\tat org.eclipse.jface.text.rules.PatternRule.doEvaluate\n(PatternRule.java:113)\n\tat org.eclipse.jface.text.rules.PatternRule.evaluate\n(PatternRule.java:199)\n\tat org.eclipse.jface.text.rules.PatternRule.evaluate\n(PatternRule.java:130)\n\tat org.eclipse.jface.text.rules.RuleBasedScanner.nextToken\n(RuleBasedScanner.java:149)\n\tat org.eclipse.jface.text.rules.RuleBasedPartitionScanner.nextToken\n(RuleBasedPartitionScanner.java:104)\n\tat org.eclipse.jface.text.rules.DefaultPartitioner.documentChanged2\n(DefaultPartitioner.java:256)\n\tat org.eclipse.jface.text.AbstractDocument.updateDocumentStructures\n(AbstractDocument.java:531)\n\tat org.eclipse.jface.text.AbstractDocument.fireDocumentChanged\n(AbstractDocument.java:610)\n\tat org.eclipse.jface.text.AbstractDocument.replace\n(AbstractDocument.java:896)\n\tat \norg.eclipse.ui.externaltools.internal.ant.editor.text.PartiallySynchronizedDocum\nent.replace(PartiallySynchronizedDocument.java:61)\n\tat org.eclipse.jface.text.DocumentAdapter.replaceTextRange\n(DocumentAdapter.java:165)\n\tat org.eclipse.swt.custom.StyledText.modifyContent(StyledText.java:5776)\n\tat org.eclipse.swt.custom.StyledText.sendKeyEvent(StyledText.java:6708)\n\tat org.eclipse.swt.custom.StyledText.doDelete(StyledText.java:2787)\n\tat org.eclipse.swt.custom.StyledText.cut(StyledText.java:2338)\n\tat org.eclipse.jface.text.TextViewer.doOperation(TextViewer.java:2819)\n\tat org.eclipse.jface.text.source.SourceViewer.doOperation\n(SourceViewer.java:495)\n\tat org.eclipse.ui.texteditor.TextOperationAction$1.run\n(TextOperationAction.java:129)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:65)\n\tat org.eclipse.ui.texteditor.TextOperationAction.run\n(TextOperationAction.java:127)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:841)\n\tat org.eclipse.ui.internal.WWinKeyBindingService.pressed\n(WWinKeyBindingService.java:146)\n\tat org.eclipse.ui.internal.WWinKeyBindingService$5.widgetSelected\n(WWinKeyBindingService.java:327)\n\tat org.eclipse.ui.internal.AcceleratorMenu$2.handleEvent\n(AcceleratorMenu.java:55)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:77)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:836)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1775)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1483)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1271)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1254)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:845)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:247)\n\tat org.eclipse.core.launcher.Main.run(Main.java:703)\n\tat org.eclipse.core.launcher.Main.main(Main.java:539)",
    "Created an attachment (id\u003d3689)\nShows incorrect coloring in ant-editor of commented out xml statements\n",
    "Is this consistentantly reproduceable?\nIf so is it possible to attach a build file that causes the problem/\nThanks",
    "Shorter build.xml, which reproduces the problem consistently below.\n\nCut and paste the comment end \"--\u003e\" before and after the line \"\u003carg value\u003d\"-\nOs\"/\u003e\", saving after each change. The coloring quickly gets confused.\n\n\n?yvind\n\n\n\u003cproject name\u003d\"EdgeMasterDeployment\" default\u003d\"dailywebstart\" basedir\u003d\".\"\u003e\n\n\t\u003ctarget name\u003d\"compile\" depends\u003d\"buildlibs\"\u003e\n\t\t\u003capply failonerror\u003d\"true\" executable\u003d\"${gcc}\\gcj\" \nparallel\u003d\"true\"\u003e\n\t\t\t\u003c!-- \n\t\t\t--\u003e \n\t\t\t\u003carg value\u003d\"-Os\"/\u003e\n\t\t\u003c/apply\u003e\n\t\t\n\t\u003c/target\u003e\n\u003c/project\u003e",
    "Thanks ?yvind\nPlease keep an eye out for reproducing the exception stack trace",
    "\u003eThanks ?yvind\n\u003ePlease keep an eye out for reproducing the exception stack trace\n\nThere is a very good chance that stack trace is completely unrelated. I \nincluded it because I saw it at the time.\n\n?yvind",
    "Created an attachment (id\u003d3706)\nReproduced stack trace\n\nThe exception is fairly reproduceable, though I don\u0027t know what I do to\nreproduce it yet.",
    "On removal of \"--\u003e\" the comment is not properly terminated and the multiline\nrule for comments (see PlantyPartitionScanner) doesn\u0027t match anymore. The\nexpected behaviour would probably be to let the comment rule match (and\ntherefore color) from \"\u003c!--\" until EOF in this case.\n\nNot sure whether this addresses the problem as I can\u0027t reproduce the exception.\n",
    "Created an attachment (id\u003d3879)\nLet\u0027s the comment rule match unterminated comments.\n",
    "Thanks.\nI could not get the exception either.\n\nThe problem is more when you put the termination of the comment back in (after \nthe arg value line), the coloring remains incorrect for that line. Or is it the \nsame problem. ",
    "CC Christof to see last comment.",
    "Not sure how that happens. The patch seems to fix it.",
    "Fixed in PlantyPartitionScanner.\nPlease verify Luc.\nnote we could not reproduce the exceptions.\n?yvind please open a new bug report if that problem persists.",
    "Verified.\nPlease update the build notes (DarinS)."
  ],
  "commentCreationDates": [
    "2003-02-25T09:09:56+01:00",
    "2003-02-25T09:10:37+01:00",
    "2003-02-25T15:08:17+01:00",
    "2003-02-25T15:15:37+01:00",
    "2003-02-25T15:29:40+01:00",
    "2003-02-25T16:56:03+01:00",
    "2003-02-26T08:43:45+01:00",
    "2003-03-06T16:46:19+01:00",
    "2003-03-06T16:47:38+01:00",
    "2003-03-06T16:51:06+01:00",
    "2003-03-06T16:51:44+01:00",
    "2003-03-06T17:09:25+01:00",
    "2003-03-06T17:47:03+01:00",
    "2003-03-06T23:41:50+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "-1000",
      "elements": [
        {
          "method": "org.eclipse.jface.text.rules.BufferedRuleBasedScanner.read",
          "source": "BufferedRuleBasedScanner.java:113"
        },
        {
          "method": "org.eclipse.jface.text.rules.PatternRule.doEvaluate",
          "source": "PatternRule.java:113"
        },
        {
          "method": "org.eclipse.jface.text.rules.PatternRule.evaluate",
          "source": "PatternRule.java:199"
        },
        {
          "method": "org.eclipse.jface.text.rules.PatternRule.evaluate",
          "source": "PatternRule.java:130"
        },
        {
          "method": "org.eclipse.jface.text.rules.RuleBasedScanner.nextToken",
          "source": "RuleBasedScanner.java:149"
        },
        {
          "method": "org.eclipse.jface.text.rules.RuleBasedPartitionScanner.nextToken",
          "source": "RuleBasedPartitionScanner.java:104"
        },
        {
          "method": "org.eclipse.jface.text.rules.DefaultPartitioner.documentChanged2",
          "source": "DefaultPartitioner.java:256"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.updateDocumentStructures",
          "source": "AbstractDocument.java:531"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.fireDocumentChanged",
          "source": "AbstractDocument.java:610"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.replace",
          "source": "AbstractDocument.java:896"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.editor.text.PartiallySynchronizedDocument.replace",
          "source": "PartiallySynchronizedDocument.java:61"
        },
        {
          "method": "org.eclipse.jface.text.DocumentAdapter.replaceTextRange",
          "source": "DocumentAdapter.java:165"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.modifyContent",
          "source": "StyledText.java:5776"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.sendKeyEvent",
          "source": "StyledText.java:6708"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.doDelete",
          "source": "StyledText.java:2787"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.cut",
          "source": "StyledText.java:2338"
        },
        {
          "method": "org.eclipse.jface.text.TextViewer.doOperation",
          "source": "TextViewer.java:2819"
        },
        {
          "method": "org.eclipse.jface.text.source.SourceViewer.doOperation",
          "source": "SourceViewer.java:495"
        },
        {
          "method": "org.eclipse.ui.texteditor.TextOperationAction$1.run",
          "source": "TextOperationAction.java:129"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:65"
        },
        {
          "method": "org.eclipse.ui.texteditor.TextOperationAction.run",
          "source": "TextOperationAction.java:127"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:841"
        },
        {
          "method": "org.eclipse.ui.internal.WWinKeyBindingService.pressed",
          "source": "WWinKeyBindingService.java:146"
        },
        {
          "method": "org.eclipse.ui.internal.WWinKeyBindingService$5.widgetSelected",
          "source": "WWinKeyBindingService.java:327"
        },
        {
          "method": "org.eclipse.ui.internal.AcceleratorMenu$2.handleEvent",
          "source": "AcceleratorMenu.java:55"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:77"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:836"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1775"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1483"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1271"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1254"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:247"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:703"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:539"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "32890",
      "date": "2003-02-25T09:09:56+01:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    }
  ],
  "groupId": "32890",
  "bugId": "32890",
  "date": "2003-02-25T09:09:56+01:00",
  "product": "Platform",
  "component": "Ant",
  "severity": "normal"
}