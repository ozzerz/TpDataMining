{
  "comments": [
    "Received the following when closing workbench (build F2):\n\n!ENTRY org.eclipse.ui 4 2 Jun 04, 2002 14:59:51.682\n!MESSAGE Problems occurred when invoking code from plug-in: \"org.eclipse.ui\".\n!STACK 0\njava.lang.NullPointerException\n\tat org.eclipse.ui.internal.EditorManager$12.run(EditorManager.java:1030)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:802)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:416)\n\tat org.eclipse.ui.internal.EditorManager.saveState\n(EditorManager.java:1012)\n\tat org.eclipse.ui.internal.WorkbenchPage.saveState\n(WorkbenchPage.java:1972)\n\tat org.eclipse.ui.internal.WorkbenchWindow.saveState\n(WorkbenchWindow.java:1120)\n\tat org.eclipse.ui.internal.Workbench.saveState(Workbench.java:1196)\n\tat org.eclipse.ui.internal.Workbench.recordWorkbenchState\n(Workbench.java:1048)\n\tat org.eclipse.ui.internal.Workbench.access$0(Workbench.java:1046)\n\tat org.eclipse.ui.internal.Workbench$1.run(Workbench.java:154)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:802)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:416)\n\tat org.eclipse.ui.internal.Workbench.busyClose(Workbench.java:152)\n\tat org.eclipse.ui.internal.Workbench.access$5(Workbench.java:150)\n\tat org.eclipse.ui.internal.Workbench$3.run(Workbench.java:291)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:64)\n\tat org.eclipse.ui.internal.Workbench.close(Workbench.java:289)\n\tat org.eclipse.ui.internal.Workbench.close(Workbench.java:281)\n\tat org.eclipse.ui.internal.Workbench.close(Workbench.java:275)\n\tat org.eclipse.ui.internal.WorkbenchWindow.busyClose\n(WorkbenchWindow.java:318)\n\tat org.eclipse.ui.internal.WorkbenchWindow.access$3\n(WorkbenchWindow.java:311)\n\tat org.eclipse.ui.internal.WorkbenchWindow$2.run\n(WorkbenchWindow.java:367)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:64)\n\tat org.eclipse.ui.internal.WorkbenchWindow.close\n(WorkbenchWindow.java:365)\n\tat org.eclipse.jface.window.Window.handleShellCloseEvent\n(Window.java:479)\n\tat org.eclipse.jface.window.Window$2.shellClosed(Window.java:430)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent\n(TypedListener.java:150)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:75)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:841)\n\tat org.eclipse.swt.widgets.Decorations.WM_CLOSE(Decorations.java:1382)\n\tat org.eclipse.swt.widgets.Shell.WM_CLOSE(Shell.java:1049)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:2658)\n\tat org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1343)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:1984)\n\tat org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1214)\n\tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:70)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:2730)\n\tat org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1343)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:1984)\n\tat org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1214)\n\tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:70)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:2730)\n\tat org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1343)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:1984)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1219)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1287)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1177)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1160)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:739)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:462)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:244)\n\tat org.eclipse.core.launcher.Main.run(Main.java:693)\n\tat org.eclipse.core.launcher.Main.main(Main.java:526)",
    "It turns out that this a more serious bug than I first noticed: When I tried \nopen the Workbench again, I got the following trace in the log along with a \nmessage saying that Workbench UI state could not restored (to be expected, in \nhindsight) and would be reset. This resulted in my perspectives being lost:\n\n!SESSION Jun 04, 2002 15:19:08.856 ---------------------------------------------\njava.version\u003d1.4.0\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_US\nCommand-line arguments: -os win32 -ws win32 -arch x86 -data c:\\dev\\wss\\work -\ninstall file:C:/Dev/eclipse/2.0-stable/eclipse.F2/\n!ENTRY org.eclipse.ui 4 2 Jun 04, 2002 15:19:08.866\n!MESSAGE Problems occurred when invoking code from plug-in: \"org.eclipse.ui\".\n!STACK 0\njava.lang.NullPointerException\n\tat org.eclipse.ui.internal.EditorManager.restoreState\n(EditorManager.java:693)\n\tat org.eclipse.ui.internal.WorkbenchPage.restoreState\n(WorkbenchPage.java:1846)\n\tat org.eclipse.ui.internal.WorkbenchPage.\u003cinit\u003e(WorkbenchPage.java:306)\n\tat org.eclipse.ui.internal.WorkbenchWindow.restoreState\n(WorkbenchWindow.java:1017)\n\tat org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1080)\n\tat org.eclipse.ui.internal.Workbench.access$7(Workbench.java:1060)\n\tat org.eclipse.ui.internal.Workbench$6.run(Workbench.java:796)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:802)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:416)\n\tat org.eclipse.ui.internal.Workbench.openPreviousWorkbenchState\n(Workbench.java:748)\n\tat org.eclipse.ui.internal.Workbench.init(Workbench.java:562)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1153)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:739)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:462)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:244)\n\tat org.eclipse.core.launcher.Main.run(Main.java:693)\n\tat org.eclipse.core.launcher.Main.main(Main.java:526)\n\nI haven\u0027t been able to replicate the bug. \n",
    "Line 1030 of EditorManager is:\neditorMem.putString(IWorkbenchConstants.TAG_WORKBOOK, editorPane.getWorkbook\n().getID());\n\neditorMem cannot be null, so either editorPane or editorPane.getWorkbook() \nmust be null.\n",
    "Can\u0027t reproduce it. It seems that something happened before and left things in \nan inconcistent state. I checked the code and I don\u0027t see how the workbook \nwould be null. The editorPane code path is more complex and I can\u0027t guaranty \nthe same. \n\nI could add a null check since I can\u0027t reproduce it but that would not be a \nreal fix; it would only \"hide\" the real problem.\n\nCagatay, have you seen this again, or just this once.",
    "I didn\u0027t come across this again, no. I remember opening and closing a lot of\neditors in quick succession in the session I saw the error. I\u0027ll let you know\nmore if I can reproduce it again. I should have saved the files under\n.metadata/org.eclipse.ui after I saw the error, now that I think about it.",
    "I just encountered this bug again. From the salvaged workbench.xml it appears\nthat one of the editors is not getting serialized properly. Here is the\noffending part:\n\n\u003ceditor id\u003d\"org.eclipse.jdt.ui.CompilationUnitEditor\"\ntitle\u003d\"DocumentDetailsFunction.java\"\ntooltip\u003d\"cat.isa.dev/src/java/com/cat/isa/backend/crm/order/DocumentDetailsFunction.java\"/\u003e\n\nNotice that there isn\u0027t any \"workbook\" attribute or \"input\" element. I can\nrestart the workbench without problems if I remove this fragment from workbench.xml.",
    "Yes, that happened because of the NPE exception which I think is concequence of \nof something that happened before. It is important we find a reproduceble case \notherwise I am inclined to not do anything about it for now.\n\nI know it is important to fix it because the workbench state was lost but \nputting null check without undestanding the problem will only hide the problem. \n",
    "Marking as WORKSFORME since I can\u0027t reproduce it.\nPlease reopen it if you see this problem again. It would be nice if we could \nreproduce it and find out what is the real problem behind this NPE."
  ],
  "commentCreationDates": [
    "2002-06-04T21:50:14+02:00",
    "2002-06-04T22:13:13+02:00",
    "2002-06-06T06:14:55+02:00",
    "2002-06-07T23:40:12+02:00",
    "2002-06-08T08:17:40+02:00",
    "2002-06-08T22:01:50+02:00",
    "2002-06-10T16:34:32+02:00",
    "2002-06-10T18:10:31+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.internal.EditorManager$12.run",
          "source": "EditorManager.java:1030"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:802"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:416"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.saveState",
          "source": "EditorManager.java:1012"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.saveState",
          "source": "WorkbenchPage.java:1972"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.saveState",
          "source": "WorkbenchWindow.java:1120"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.saveState",
          "source": "Workbench.java:1196"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.recordWorkbenchState",
          "source": "Workbench.java:1048"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$0",
          "source": "Workbench.java:1046"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$1.run",
          "source": "Workbench.java:154"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:802"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:416"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.busyClose",
          "source": "Workbench.java:152"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$5",
          "source": "Workbench.java:150"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$3.run",
          "source": "Workbench.java:291"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:64"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.close",
          "source": "Workbench.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.close",
          "source": "Workbench.java:281"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.close",
          "source": "Workbench.java:275"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.busyClose",
          "source": "WorkbenchWindow.java:318"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.access$3",
          "source": "WorkbenchWindow.java:311"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow$2.run",
          "source": "WorkbenchWindow.java:367"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:64"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.close",
          "source": "WorkbenchWindow.java:365"
        },
        {
          "method": "org.eclipse.jface.window.Window.handleShellCloseEvent",
          "source": "Window.java:479"
        },
        {
          "method": "org.eclipse.jface.window.Window$2.shellClosed",
          "source": "Window.java:430"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:150"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:75"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:841"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.WM_CLOSE",
          "source": "Decorations.java:1382"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.WM_CLOSE",
          "source": "Shell.java:1049"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:2658"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.windowProc",
          "source": "Decorations.java:1343"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:1984"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DefWindowProcW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DefWindowProc",
          "source": "OS.java:1214"
        },
        {
          "method": "org.eclipse.swt.widgets.Scrollable.callWindowProc",
          "source": "Scrollable.java:70"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:2730"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.windowProc",
          "source": "Decorations.java:1343"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:1984"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DefWindowProcW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DefWindowProc",
          "source": "OS.java:1214"
        },
        {
          "method": "org.eclipse.swt.widgets.Scrollable.callWindowProc",
          "source": "Scrollable.java:70"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:2730"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.windowProc",
          "source": "Decorations.java:1343"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:1984"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessageW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessage",
          "source": "OS.java:1219"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1287"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1177"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1160"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:739"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:462"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:244"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:693"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:526"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "19191",
      "date": "2002-06-04T21:50:14+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "critical"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.internal.EditorManager.restoreState",
          "source": "EditorManager.java:693"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.restoreState",
          "source": "WorkbenchPage.java:1846"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.\u003cinit\u003e",
          "source": "WorkbenchPage.java:306"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.restoreState",
          "source": "WorkbenchWindow.java:1017"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.restoreState",
          "source": "Workbench.java:1080"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$7",
          "source": "Workbench.java:1060"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$6.run",
          "source": "Workbench.java:796"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:802"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:416"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.openPreviousWorkbenchState",
          "source": "Workbench.java:748"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.init",
          "source": "Workbench.java:562"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1153"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:739"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:462"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:244"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:693"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:526"
        }
      ],
      "number": 1,
      "commentIndex": 1,
      "bugId": "19191",
      "date": "2002-06-04T22:13:13+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "critical"
    }
  ],
  "groupId": "19191",
  "bugId": "19191",
  "date": "2002-06-04T21:50:14+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "critical"
}