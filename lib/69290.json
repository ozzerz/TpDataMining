{
  "comments": [
    "Checking out some modules in an existing project run well. Updating the project \nin resource view failed with an lock-error because of checking out CVSROOT. In \nour repositories the directory CVSROOT can\u0027t and shoudn\u0027t be checked out by a \nnormal user. \nConcurrent Versions System (CVS) 1.11.5 (client/server) on Solaris\ndrwxrwsr-x   admin-user   admin-group    CVSROOT\ndrwxrwxr-x   normal-user  normal-group   bin\nCVSROOT\\Emptydir\ndrwxrwxr-x   normal-user  admin-group      96 Jul  5 10:45 Emptydir\n\nI think the reason is, that update now, in opposite of eclipse 2.1.x, want to \ncheck out CVSROOT if the option \u0027fetch absent directories on update\u0027 is set. If \nthe option is reset, it works. \n\nWhat can be done to \u0027fetch absent directories on update\u0027 belonging to the \nmodules checked out in the project but not all the absent modules in the \nrepository including CVSROOT.",
    "Could you perform the steps outlined in the following URL to capture a trace \nof the failed update and attch the trace to this bug. This will help us \nunderstand why the CVSROOT/Emptydir is being updated.\n\nhttp://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/platform-vcm-\nhome/docs/online/cvs_features2.0/cvs-faq.html#misc_0",
    "Whating for information from reporter",
    "I\u0027ve done what\u0027s described in the named URL. Here the output:\n\n------- create new project \t  cvs_sudo_test\n------- checkout module eigener_test\n------- option \"fetch absent or new directories is set\"\n------- team update project cvs_sudo_test\n\n***\ncvs co -d \"eigener_test\" -P -A \"/cvs_sudo_test/eigener_test\"\n  cvs server: Updating eigener_test\n  U eigener_test/test_file.sam\n  U eigener_test/test_file.txt\n  U eigener_test/test_file_3.txt\n  U eigener_test/test_header.txt\n  U eigener_test/test_history.txt\n  cvs server: Updating eigener_test/src\n  U eigener_test/src/test_file2.txt\nok (took 0:00.260)\n***\n\n***\ncvs update -d -P \"/cvs_sudo_test\"\n  ? .project\n  cvs server: Updating .\n  cvs server: Updating CVSROOT\n  cvs server: failed to create lock directory for \n`/cm/cvsstst/cvs_sudo_test/CVSROOT\u0027 \n(/cm/cvsstst/cvs_sudo_test/CVSROOT/#cvs.lock): Permission denied\n  cvs server: failed to obtain dir lock in repository \n`/cm/cvsstst/cvs_sudo_test/CVSROOT\u0027\n  cvs [server aborted]: read lock failed - giving up\nThe server reported an error while performing the \"cvs update\" command. (took \n0:00.180)\nError: cvs_sudo_test: cvs server: failed to create lock directory for \n`/cm/cvsstst/cvs_sudo_test/CVSROOT\u0027 \n(/cm/cvsstst/cvs_sudo_test/CVSROOT/#cvs.lock): Permission denied\nError: cvs_sudo_test: cvs server: failed to obtain dir lock in repository \n`/cm/cvsstst/cvs_sudo_test/CVSROOT\u0027\nError: cvs_sudo_test: cvs [server aborted]: read lock failed - giving up\n***\n\n\nc:\\jdk1.3.1\\jre\\bin\\java.exe\n\nStartup: using configuration file:C:\\eclipse\\workspace\\.metadata\\.config\\platfor\nm.cfg\nBoot URL: file:C:/Programme/eclipse 3.0M2/eclipse/plugins/org.eclipse.core.boot_\n3.0.0/boot.jar\nStartup: splash path \u003d C:\\Programme\\eclipse 3.0M2\\eclipse\\plugins\\org.eclipse.pl\natform_3.0.0\\splash.bmp\nWorkspace location:\n   C:\\eclipse\\workspace\nDebug-Options:\n    file:C:/Programme/eclipse 3.0M2/.options\nInstall URL:\n    file:C:/Programme/eclipse 3.0M2/eclipse/\n!ENTRY org.eclipse.team.cvs.ui 4 0 Aug 24, 2004 18:19:47.414\n!MESSAGE The server reported an error while performing the \"cvs update\" command.\n\n!STACK 1\norg.eclipse.team.internal.ccvs.core.connection.CVSServerException: The server re\nported an error while performing the \"cvs update\" command.\n        at org.eclipse.team.internal.ccvs.core.CVSTeamProvider$12.run(CVSTeamPro\nvider.java:909)\n        at org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run\n(EclipseSynchronizer.java:1300)\n        at org.eclipse.team.internal.ccvs.core.resources.EclipseFolder$3.run(Ecl\nipseFolder.java:302)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1595\n)\n        at org.eclipse.team.internal.ccvs.core.resources.EclipseFolder.run(Eclip\nseFolder.java:299)\n        at org.eclipse.team.internal.ccvs.core.client.Session.internalRun(Sessio\nn.java:209)\n        at org.eclipse.team.internal.ccvs.core.client.Session.run(Session.java:1\n58)\n        at org.eclipse.team.internal.ccvs.core.CVSTeamProvider.update(CVSTeamPro\nvider.java:903)\n        at org.eclipse.team.internal.ccvs.ui.actions.UpdateAction$1.execute(Upda\nteAction.java:54)\n        at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModify\nOperation.java:71)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1595\n)\n        at org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOp\neration.java:85)\n        at org.eclipse.team.internal.ccvs.ui.repo.RepositoryManager.run(Reposito\nryManager.java:802)\n        at org.eclipse.team.internal.ccvs.ui.actions.CVSAction$1.run(CVSAction.j\nava:241)\n        at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(Modal\nContext.java:101)\n!ENTRY org.eclipse.team.cvs.core 4 -10 Aug 24, 2004 18:19:47.414\n!MESSAGE The server reported an error while performing the \"cvs update\" command.\n\n!SUBENTRY 1 org.eclipse.team.cvs.core 4 -14 Aug 24, 2004 18:19:47.414\n!MESSAGE cvs_sudo_test: cvs server: failed to create lock directory for `/cm/cvs\nstst/cvs_sudo_test/CVSROOT\u0027 (/cm/cvsstst/cvs_sudo_test/CVSROOT/#cvs.lock): Permi\nssion denied\n!SUBENTRY 1 org.eclipse.team.cvs.core 4 -14 Aug 24, 2004 18:19:47.414\n!MESSAGE cvs_sudo_test: cvs server: failed to obtain dir lock in repository `/cm\n/cvsstst/cvs_sudo_test/CVSROOT\u0027\n!SUBENTRY 1 org.eclipse.team.cvs.core 4 -14 Aug 24, 2004 18:19:47.414\n!MESSAGE cvs_sudo_test: cvs [server aborted]: read lock failed - giving up\n\n\n\n\n------- delete project \t  cvs_sudo_test - also delete contents\n------- create new project \t  cvs_sudo_test\n------- checkout module eigener_test\n------- option \"fetch absent or new directories is set\"\n------- team update project cvs_sudo_test\n\n\n***\ncvs co -d \"eigener_test\" -P -A \"/cvs_sudo_test/eigener_test\"\n  cvs server: Updating eigener_test\n  U eigener_test/test_file.sam\n  U eigener_test/test_file.txt\n  U eigener_test/test_file_3.txt\n  U eigener_test/test_header.txt\n  U eigener_test/test_history.txt\n  cvs server: Updating eigener_test/src\n  U eigener_test/src/test_file2.txt\nok (took 0:00.260)\n***\n\n***\ncvs update -P \"/cvs_sudo_test\"\n  ? .project\n  cvs server: Updating .\n  cvs server: Updating eigener_test\n  cvs server: Updating eigener_test/src\nok (took 0:00.391)\n***\n",
    "You have included the output in the CVS console in Eclipse. What about the \noutput to stdout (i.e. when you run Eclipse with java.exe and the other \noptions mentioned in the URL, you should have gotten a DOS console to which \nthe stdout of Java would be dumped. Can you attach what appeared there as well?",
    "I\u0027ve put these output in the last comment, perhaps not easy to see. You find it \nif you search for \"c:\\jdk1.3.1\\jre\\bin\\java.exe\".",
    "Right. I see it now. It looks like the .options file didn\u0027t have the right \ndebug trace enablement. Did you add the debug enablement lines from the URL to \nfile C:/Programme/eclipse 3.0M2/.options? The lines should be:\n\n   org.eclipse.team.cvs.core/debug\u003dtrue\n   org.eclipse.team.cvs.core/cvsprotocol\u003dtrue\n\nAlthough you should also be able to enable tracing using the \"Display detailed \nprotocol output to stdout\" option on the Team/CVS preference page.",
    "Sorry, now I started eclipse in the directory where the exe is installed.\n\nC:\\Programme\\eclipse 3.0M2\\eclipse\u003emore .options\norg.eclipse.team.cvs.core/debug\u003dtrue\norg.eclipse.team.cvs.core/cvsprotocol\u003dtrue\n\nC:\\Programme\\eclipse 3.0M2\\eclipse\u003eeclipse -vm C:\\jdk1.3.1\\jre\\bin\\java.exe   -d\nata C:\\eclipse\\workspace -debug -consolelog\n\nIs it now the right output ?\n\nStartup: using configuration \nfile:C:\\eclipse\\workspace\\.metadata\\.config\\platform.cfg\nBoot URL: file:C:/Programme/eclipse \n3.0M2/eclipse/plugins/org.eclipse.core.boot_3.0.0/boot.jar\nStartup: splash path \u003d C:\\Programme\\eclipse 3.0M2\n\\eclipse\\plugins\\org.eclipse.platform_3.0.0\\splash.bmp\nWorkspace location:\n   C:\\eclipse\\workspace\nDebug-Options:\n    file:C:/Programme/eclipse 3.0M2/eclipse/.options\nInstall URL:\n    file:C:/Programme/eclipse 3.0M2/eclipse/\nI LOVE YOU\nValid-responses ok error M E Set-sticky Checked-in Mod-time Clear-static-\ndirectory Updated Valid-requests Removed Clear-sticky Update-existing Module-\nexpansion MT New-entry Set-static-directory Merged Created Notified Remove-\nentry Template Copy-file\nvalid-requests\nValid-requests Root Valid-responses valid-requests Repository Directory Max-\ndotdot Static-directory Sticky Checkin-prog Update-prog Entry Kopt Checkin-time \nModified Is-modified UseUnchanged Unchanged Notify Questionable Case Argument \nArgumentx Global_option Gzip-stream wrapper-sendme-rcsOptions Set expand-\nmodules ci co update diff log rlog add remove update-patches gzip-file-contents \nstatus rdiff tag rtag import admin export history release watch-on watch-off \nwatch-add watch-remove watchers editors init annotate rannotate noop version\nok\nRoot /cm/cvsstst/cvs_sudo_test\nCMD\u003e cvs version\nversion\nM Concurrent Versions System (CVS) 1.11.5 (client/server)\nok\nRESULT\u003e Status OKorg.eclipse.team.cvs.core code\u003d0 ok null\nCMD\u003e cvs -n update -d \"\"\nGlobal_option -n\nArgument -d\nDirectory .\n/cm/cvsstst/cvs_sudo_test/\nArgument .\nDirectory .\n/cm/cvsstst/cvs_sudo_test/\nupdate\nE cvs server: Updating .\nE cvs server: New directory `CVSROOT\u0027 -- ignored\nE cvs server: New directory `Modul_jbf415\u0027 -- ignored\nE cvs server: New directory `bin\u0027 -- ignored\nE cvs server: New directory `buchungsdatum\u0027 -- ignored\nE cvs server: New directory `buchungsdatum_deleted_elements\u0027 -- ignored\nE cvs server: New directory \n`buchungsdatum_geprueft_20040512_vor_weiteren_Anpassungen\u0027 -- ignored\nE cvs server: New directory `buchungsdatum_save_vor_delete\u0027 -- ignored\nE cvs server: New directory `cbx_Modul_jbf415\u0027 -- ignored\nE cvs server: New directory `cp_bediener_from_cbx_module\u0027 -- ignored\nE cvs server: New directory `cvs_scripts_test\u0027 -- ignored\nE cvs server: New directory `db\u0027 -- ignored\nE cvs server: New directory `dist\u0027 -- ignored\nE cvs server: New directory `eigener_test\u0027 -- ignored\nE cvs server: New directory `eigener_test_neue_Struktur\u0027 -- ignored\nE cvs server: New directory `lib\u0027 -- ignored\nE cvs server: New directory `neues_modul\u0027 -- ignored\nE cvs server: New directory `new_sudo\u0027 -- ignored\nE cvs server: New directory `prj\u0027 -- ignored\nE cvs server: New directory `prototyp\u0027 -- ignored\nE cvs server: New directory `sudo\u0027 -- ignored\nE cvs server: New directory `template\u0027 -- ignored\nE cvs server: New directory `test_for_jbfseu_branches\u0027 -- ignored\nok\nRESULT\u003e Status OKorg.eclipse.team.cvs.core code\u003d0 ok null\nI LOVE YOU\nValid-responses ok error M E Set-sticky Checked-in Mod-time Clear-static-\ndirectory Updated Valid-requests Removed Clear-sticky Update-existing Module-\nexpansion New-entry Set-static-directory Merged Created Notified Remove-entry \nTemplate Copy-file\nvalid-requests\nValid-requests Root Valid-responses valid-requests Repository Directory Max-\ndotdot Static-directory Sticky Checkin-prog Update-prog Entry Kopt Checkin-time \nModified Is-modified UseUnchanged Unchanged Notify Questionable Case Argument \nArgumentx Global_option Gzip-stream wrapper-sendme-rcsOptions Set expand-\nmodules ci co update diff log rlog add remove update-patches gzip-file-contents \nstatus rdiff tag rtag import admin export history release watch-on watch-off \nwatch-add watch-remove watchers editors init annotate rannotate noop version\nok\nRoot /cm/cvsstst/cvs_sudo_test\nCMD\u003e cvs co -c\nArgument -c\nDirectory .\n/cm/cvsstst/cvs_sudo_test/\nco\nM Modul_jbf415 Modul_jbf415\nM all          -a Modul_jbf415 bin buchungsdatum buchungsdatum_deleted_elements\nM              buchungsdatum_geprueft_20040512_vor_weiteren_Anpassungen\nM              buchungsdatum_save_vor_delete cbx_Modul_jbf415\nM              cp_bediener_from_cbx_module cvs_scripts_test db dist eigener_test\nM              eigener_test_neue_Struktur lib new_sudo prj prototyp sudo \ntemplate\nM              test_for_jbfseu_branches\nM all_cb       \u0026Modul_jbf415 \u0026bin \u0026buchungsdatum \u0026buchungsdatum_deleted_elements\nM              \u0026buchungsdatum_geprueft_20040512_vor_weiteren_Anpassungen\nM              \u0026buchungsdatum_save_vor_delete \u0026cbx_Modul_jbf415\nM              \u0026cp_bediener_from_cbx_module \u0026cvs_scripts_test \u0026db \u0026dist\nM              \u0026eigener_test \u0026eigener_test_neue_Struktur \u0026lib \u0026new_sudo \u0026prj\nM              \u0026prototyp \u0026sudo \u0026template \u0026test_for_jbfseu_branches\nM bin          bin\nM buchungsdatum buchungsdatum\nM buchungsdatum_deleted_elements buchungsdatum_deleted_elements\nM buchungsdatum_geprueft_20040512_vor_weiteren_Anpassungen \nbuchungsdatum_geprueft_20040512_vor_weiteren_Anpassungen\nM buchungsdatum_save_vor_delete buchungsdatum_save_vor_delete\nM cbx_Modul_jbf415 cbx_Modul_jbf415\nM cp_bediener_from_cbx_module cp_bediener_from_cbx_module\nM cvs_scripts_test cvs_scripts_test\nM db           db\nM dist         dist\nM eigener_test eigener_test\nM eigener_test_neue_Struktur eigener_test_neue_Struktur\nM lib          lib\nM new_sudo     new_sudo\nM prj          prj\nM prototyp     prototyp\nM std          -a bin db dist doc lib prj prototyp vorlagen\nM sudo         sudo\nM template     template\nM test_for_jbfseu_branches test_for_jbfseu_branches\nok\nRESULT\u003e Status OKorg.eclipse.team.cvs.core code\u003d0 ok null\nI LOVE YOU\nValid-responses ok error M E Set-sticky Checked-in Mod-time Clear-static-\ndirectory Updated Valid-requests Removed Clear-sticky Update-existing Module-\nexpansion New-entry Set-static-directory Merged Created Notified Remove-entry \nTemplate Copy-file\nvalid-requests\nValid-requests Root Valid-responses valid-requests Repository Directory Max-\ndotdot Static-directory Sticky Checkin-prog Update-prog Entry Kopt Checkin-time \nModified Is-modified UseUnchanged Unchanged Notify Questionable Case Argument \nArgumentx Global_option Gzip-stream wrapper-sendme-rcsOptions Set expand-\nmodules ci co update diff log rlog add remove update-patches gzip-file-contents \nstatus rdiff tag rtag import admin export history release watch-on watch-off \nwatch-add watch-remove watchers editors init annotate rannotate noop version\nok\nRoot /cm/cvsstst/cvs_sudo_test\nCMD\u003e cvs -n update -d \"\"\nGlobal_option -n\nArgument -d\nDirectory .\n/cm/cvsstst/cvs_sudo_test/eigener_test\nArgument .\nDirectory .\n/cm/cvsstst/cvs_sudo_test/eigener_test\nupdate\nE cvs server: Updating .\nM U test_file.sam\nM U test_file.txt\nM U test_file_3.txt\nM U test_header.txt\nM U test_history.txt\nE cvs server: New directory `src\u0027 -- ignored\nok\nRESULT\u003e Status OKorg.eclipse.team.cvs.core code\u003d0 ok null\nCMD\u003e cvs \nstatus \"test_file.sam\" \"test_file.txt\" \"test_file_3.txt\" \"test_header.txt\" \"test\n_history.txt\"\nDirectory .\n/cm/cvsstst/cvs_sudo_test/eigener_test\nEntry /test_file.sam/0///\nIs-modified test_file.sam\nEntry /test_file.txt/0///\nIs-modified test_file.txt\nEntry /test_file_3.txt/0///\nIs-modified test_file_3.txt\nEntry /test_header.txt/0///\nIs-modified test_header.txt\nEntry /test_history.txt/0///\nIs-modified test_history.txt\nArgument test_file.sam\nArgument test_file.txt\nArgument test_file_3.txt\nArgument test_header.txt\nArgument test_history.txt\nDirectory .\n/cm/cvsstst/cvs_sudo_test/eigener_test\nstatus\nE cvs server: conflict: test_file.sam created independently by second party\nM \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\nM File: test_file.sam    \tStatus: Unresolved Conflict\nM \nM    Working revision:\tNew file!\nM    Repository revision:\t1.2\n\t/cm/cvsstst/cvs_sudo_test/eigener_test/test_file.sam,v\nM    Sticky Tag:\t\t(none)\nM    Sticky Date:\t\t(none)\nM    Sticky Options:\t(none)\nM \nE cvs server: conflict: test_file.txt created independently by second party\nM \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\nM File: test_file.txt    \tStatus: Unresolved Conflict\nM \nM    Working revision:\tNew file!\nM    Repository revision:\t1.3\n\t/cm/cvsstst/cvs_sudo_test/eigener_test/test_file.txt,v\nM    Sticky Tag:\t\t(none)\nM    Sticky Date:\t\t(none)\nM    Sticky Options:\t(none)\nM \nE cvs server: conflict: test_file_3.txt created independently by second party\nM \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\nM File: test_file_3.txt  \tStatus: Unresolved Conflict\nM \nM    Working revision:\tNew file!\nM    Repository revision:\t1.3\n\t/cm/cvsstst/cvs_sudo_test/eigener_test/test_file_3.txt,v\nM    Sticky Tag:\t\t(none)\nM    Sticky Date:\t\t(none)\nM    Sticky Options:\t(none)\nM \nE cvs server: conflict: test_header.txt created independently by second party\nM \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\nM File: test_header.txt  \tStatus: Unresolved Conflict\nM \nM    Working revision:\tNew file!\nM    Repository revision:\t1.1\n\t/cm/cvsstst/cvs_sudo_test/eigener_test/test_header.txt,v\nM    Sticky Tag:\t\t(none)\nM    Sticky Date:\t\t(none)\nM    Sticky Options:\t(none)\nM \nE cvs server: conflict: test_history.txt created independently by second party\nM \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\nM File: test_history.txt \tStatus: Unresolved Conflict\nM \nM    Working revision:\tNew file!\nM    Repository revision:\t1.12\n\t/cm/cvsstst/cvs_sudo_test/eigener_test/test_history.txt,v\nM    Sticky Tag:\t\t(none)\nM    Sticky Date:\t\t(none)\nM    Sticky Options:\t(none)\nM \nok\nRESULT\u003e Status WARNINGorg.eclipse.team.cvs.core code\u003d1 The following warnings \nwere reported while performing the \"cvs status\" command. null children\u003d[Status \nWARNINGorg.eclipse.team.cvs.core code\u003d-12 cvs server: conflict: test_file.sam \ncreated independently by second party null Status \nWARNINGorg.eclipse.team.cvs.core code\u003d-12 cvs server: conflict: test_file.txt \ncreated independently by second party null Status \nWARNINGorg.eclipse.team.cvs.core code\u003d-12 cvs server: conflict: test_file_3.txt \ncreated independently by second party null Status \nWARNINGorg.eclipse.team.cvs.core code\u003d-12 cvs server: conflict: test_header.txt \ncreated independently by second party null Status \nWARNINGorg.eclipse.team.cvs.core code\u003d-12 cvs server: conflict: \ntest_history.txt created independently by second party null]\nI LOVE YOU\nValid-responses ok error M E Set-sticky Checked-in Mod-time Clear-static-\ndirectory Updated Valid-requests Removed Clear-sticky Update-existing Module-\nexpansion New-entry Set-static-directory Merged Created Notified Remove-entry \nTemplate Copy-file\nvalid-requests\nValid-requests Root Valid-responses valid-requests Repository Directory Max-\ndotdot Static-directory Sticky Checkin-prog Update-prog Entry Kopt Checkin-time \nModified Is-modified UseUnchanged Unchanged Notify Questionable Case Argument \nArgumentx Global_option Gzip-stream wrapper-sendme-rcsOptions Set expand-\nmodules ci co update diff log rlog add remove update-patches gzip-file-contents \nstatus rdiff tag rtag import admin export history release watch-on watch-off \nwatch-add watch-remove watchers editors init annotate rannotate noop version\nok\nRoot /cm/cvsstst/cvs_sudo_test\nCMD\u003e cvs co -d \"eigener_test\" -P -A \"/cvs_sudo_test/eigener_test\"\nArgument eigener_test\nexpand-modules\nModule-expansion eigener_test\nok\nArgument -d\nArgument eigener_test\nArgument -P\nArgument -A\nArgument eigener_test\nDirectory .\n/cm/cvsstst/cvs_sudo_test/\nco\nClear-static-directory ./\n/cm/cvsstst/cvs_sudo_test/\nClear-sticky eigener_test/\n/cm/cvsstst/cvs_sudo_test/eigener_test/\nClear-static-directory eigener_test/\n/cm/cvsstst/cvs_sudo_test/eigener_test/\nClear-sticky eigener_test/\n/cm/cvsstst/cvs_sudo_test/eigener_test/\nE cvs server: Updating eigener_test\nMod-time 13 Feb 2004 17:25:40 -0000\nM U eigener_test/test_file.sam\nCreated eigener_test/\n/cm/cvsstst/cvs_sudo_test/eigener_test/test_file.sam\n/test_file.sam/1.2//-kb/\nu\u003drw,g\u003drw,o\u003drw\n66\nMod-time 13 Feb 2004 18:07:27 -0000\nM U eigener_test/test_file.txt\nCreated eigener_test/\n/cm/cvsstst/cvs_sudo_test/eigener_test/test_file.txt\n/test_file.txt/1.3///\nu\u003drw,g\u003drw,o\u003drw\n89\nMod-time 13 Feb 2004 17:16:09 -0000\nM U eigener_test/test_file_3.txt\nCreated eigener_test/\n/cm/cvsstst/cvs_sudo_test/eigener_test/test_file_3.txt\n/test_file_3.txt/1.3///\nu\u003drw,g\u003drw,o\u003drw\n80\nMod-time 6 Jul 2004 13:45:44 -0000\nM U eigener_test/test_header.txt\nCreated eigener_test/\n/cm/cvsstst/cvs_sudo_test/eigener_test/test_header.txt\n/test_header.txt/1.1///\nu\u003drw,g\u003drw,o\u003drw\n124\nMod-time 6 Jul 2004 16:59:04 -0000\nM U eigener_test/test_history.txt\nCreated eigener_test/\n/cm/cvsstst/cvs_sudo_test/eigener_test/test_history.txt\n/test_history.txt/1.12///\nu\u003drw,g\u003drw,o\u003drw\n1246\nClear-sticky eigener_test/\n/cm/cvsstst/cvs_sudo_test/eigener_test/\nClear-sticky eigener_test/src/\n/cm/cvsstst/cvs_sudo_test/eigener_test/src/\nClear-static-directory eigener_test/src/\n/cm/cvsstst/cvs_sudo_test/eigener_test/src/\nClear-sticky eigener_test/src/\n/cm/cvsstst/cvs_sudo_test/eigener_test/src/\nE cvs server: Updating eigener_test/src\nMod-time 6 Jul 2004 14:22:57 -0000\nM U eigener_test/src/test_file2.txt\nCreated eigener_test/src/\n/cm/cvsstst/cvs_sudo_test/eigener_test/src/test_file2.txt\n/test_file2.txt/1.14///\nu\u003drw,g\u003drw,o\u003drw\n137\nClear-sticky eigener_test/src/\n/cm/cvsstst/cvs_sudo_test/eigener_test/src/\nok\nRESULT\u003e Status OKorg.eclipse.team.cvs.core code\u003d0 ok null\nI LOVE YOU\nValid-responses ok error M E Set-sticky Checked-in Mod-time Clear-static-\ndirectory Updated Valid-requests Removed Clear-sticky Update-existing Module-\nexpansion New-entry Set-static-directory Merged Created Notified Remove-entry \nTemplate Copy-file\nvalid-requests\nValid-requests Root Valid-responses valid-requests Repository Directory Max-\ndotdot Static-directory Sticky Checkin-prog Update-prog Entry Kopt Checkin-time \nModified Is-modified UseUnchanged Unchanged Notify Questionable Case Argument \nArgumentx Global_option Gzip-stream wrapper-sendme-rcsOptions Set expand-\nmodules ci co update diff log rlog add remove update-patches gzip-file-contents \nstatus rdiff tag rtag import admin export history release watch-on watch-off \nwatch-add watch-remove watchers editors init annotate rannotate noop version\nok\nRoot /cm/cvsstst/cvs_sudo_test\nCMD\u003e cvs update -d -P \"/cvs_sudo_test\"\nArgument -d\nArgument -P\nDirectory .\n/cm/cvsstst/cvs_sudo_test/\nQuestionable .project\nDirectory eigener_test\n/cm/cvsstst/cvs_sudo_test/eigener_test\nEntry /test_file.sam/1.2//-kb/\nUnchanged test_file.sam\nEntry /test_file.txt/1.3///\nUnchanged test_file.txt\nEntry /test_file_3.txt/1.3///\nUnchanged test_file_3.txt\nEntry /test_header.txt/1.1///\nUnchanged test_header.txt\nEntry /test_history.txt/1.12///\nUnchanged test_history.txt\nDirectory eigener_test/src\n/cm/cvsstst/cvs_sudo_test/eigener_test/src\nEntry /test_file2.txt/1.14///\nUnchanged test_file2.txt\nArgument .\nDirectory .\n/cm/cvsstst/cvs_sudo_test/\nupdate\nM ? .project\nClear-static-directory ./\n/cm/cvsstst/cvs_sudo_test/\nE cvs server: Updating .\nClear-sticky CVSROOT/\n/cm/cvsstst/cvs_sudo_test/CVSROOT/\nClear-static-directory CVSROOT/\n/cm/cvsstst/cvs_sudo_test/CVSROOT/\nE cvs server: Updating CVSROOT\nE cvs server: failed to create lock directory for \n`/cm/cvsstst/cvs_sudo_test/CVSROOT\u0027 \n(/cm/cvsstst/cvs_sudo_test/CVSROOT/#cvs.lock): Permission denied\nE cvs server: failed to obtain dir lock in repository \n`/cm/cvsstst/cvs_sudo_test/CVSROOT\u0027\nE cvs [server aborted]: read lock failed - giving up\nerror  \nRESULT\u003e Status ERRORorg.eclipse.team.cvs.core code\u003d-10 The server reported an \nerror while performing the \"cvs update\" command. null children\u003d[Status \nERRORorg.eclipse.team.cvs.core code\u003d-14 cvs server: failed to create lock \ndirectory for `/cm/cvsstst/cvs_sudo_test/CVSROOT\u0027 \n(/cm/cvsstst/cvs_sudo_test/CVSROOT/#cvs.lock): Permission denied null Status \nERRORorg.eclipse.team.cvs.core code\u003d-14 cvs server: failed to obtain dir lock \nin repository `/cm/cvsstst/cvs_sudo_test/CVSROOT\u0027 null Status \nERRORorg.eclipse.team.cvs.core code\u003d-14 cvs [server aborted]: read lock failed -\n giving up null]\n!ENTRY org.eclipse.team.cvs.ui 4 0 Aug 25, 2004 11:34:57.520\n!MESSAGE The server reported an error while performing the \"cvs update\" command.\n!STACK 1\norg.eclipse.team.internal.ccvs.core.connection.CVSServerException: The server \nreported an error while performing the \"cvs update\" command.\n\tat org.eclipse.team.internal.ccvs.core.CVSTeamProvider$12.run\n(CVSTeamProvider.java:909)\n\tat org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run\n(EclipseSynchronizer.java:1300)\n\tat org.eclipse.team.internal.ccvs.core.resources.EclipseFolder$3.run\n(EclipseFolder.java:302)\n\tat org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1595)\n\tat org.eclipse.team.internal.ccvs.core.resources.EclipseFolder.run\n(EclipseFolder.java:299)\n\tat org.eclipse.team.internal.ccvs.core.client.Session.internalRun\n(Session.java:209)\n\tat org.eclipse.team.internal.ccvs.core.client.Session.run\n(Session.java:158)\n\tat org.eclipse.team.internal.ccvs.core.CVSTeamProvider.update\n(CVSTeamProvider.java:903)\n\tat org.eclipse.team.internal.ccvs.ui.actions.UpdateAction$1.execute\n(UpdateAction.java:54)\n\tat org.eclipse.ui.actions.WorkspaceModifyOperation$1.run\n(WorkspaceModifyOperation.java:71)\n\tat org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1595)\n\tat org.eclipse.ui.actions.WorkspaceModifyOperation.run\n(WorkspaceModifyOperation.java:85)\n\tat org.eclipse.team.internal.ccvs.ui.repo.RepositoryManager.run\n(RepositoryManager.java:802)\n\tat org.eclipse.team.internal.ccvs.ui.actions.CVSAction$1.run\n(CVSAction.java:241)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run\n(ModalContext.java:101)\n!ENTRY org.eclipse.team.cvs.core 4 -10 Aug 25, 2004 11:34:57.530\n!MESSAGE The server reported an error while performing the \"cvs update\" command.\n!SUBENTRY 1 org.eclipse.team.cvs.core 4 -14 Aug 25, 2004 11:34:57.530\n!MESSAGE cvs_sudo_test: cvs server: failed to create lock directory for \n`/cm/cvsstst/cvs_sudo_test/CVSROOT\u0027 \n(/cm/cvsstst/cvs_sudo_test/CVSROOT/#cvs.lock): Permission denied\n!SUBENTRY 1 org.eclipse.team.cvs.core 4 -14 Aug 25, 2004 11:34:57.530\n!MESSAGE cvs_sudo_test: cvs server: failed to obtain dir lock in repository \n`/cm/cvsstst/cvs_sudo_test/CVSROOT\u0027\n!SUBENTRY 1 org.eclipse.team.cvs.core 4 -14 Aug 25, 2004 11:34:57.530\n!MESSAGE cvs_sudo_test: cvs [server aborted]: read lock failed - giving up",
    "There is something quite odd about the trac you have provided. You are \nchecking out the module \"eigener_test\" and the checkout seems to have gone \nwell. However, the update you are doing seems to be on a project that \ncontain \"eigener_test\" asw a subdirectory. Is this correct? Can you give me \nthe details of the operatios you performed so I can match them to the trace\n(i.e. the trace doesn\u0027t contain that information).",
    "It\u0027s right what you said. \nThe user check out some modules from a repository to a project (here \neigener_test from repository cvs_sudo_test in project cvs_sudo_test). After \nsome time they want to make an update of all the modules checked out, so they \nmake team update of the project, that means update all the modules included in \nthe project (here update project cvs_sudo_test - and therefore update module \neigener_test).",
    "And how did they create the project \"cvs_sudo_test\"?",
    "Create new project (file - new - project) - simple project - name the project - \nfinish.",
    "Sorry, I should have stated my question better. How did the project get \ncreated and shared with the repository root (as it appears to be from the \ntrace). It would be easiest if you gave me a complete explanation of all the \nsteps that you take to cause the problem to happen and provide as much detail \nas possible. I could then match this up with the trace to determine where the \nproblem is.",
    "There are only a few steps\n\ncvs-view:           - add a new cvs-repository (/cm/cvsstst/cvs_sudo_test)\nresource-view:      - create a simple project (cvs_sudo_test)\n                      in my tests the project is named as the repository\ncvs-view:           - expand the head (from cvs_sudo_test)\n                    - mark a module (eigener_test)\n                    - check out as - in an existing project \n                      this is checkout \n                      /cm/cvsstst/cvs_sudo_test/eigener_test\n                      in project cvs_sudo_test)\nresource-view:      - mark project cvs_sudo_test\n                    - team update \nthat\u0027s all\n\n",
    "OK, I\u0027ve figured out what is going wrong. The repository you are using is \nconfigured to provide a top level admin directory (i.e. the \nline \"TopLevelAdmin\u003dyes\" appears in your CVSROOT/config file). When you do a \ncheckout of the \"eigener_test\" module into the simple project, Eclipse is \nreceiving the top level admin directory and assigning it to the parent \nproject. Eclipse CVS does ignore the top-level-admin when it is checking out a \nproject (i.e. when the admin directory is the root of the repository). \nHowever, it does not when the top-level-admin folder is a project or \nsubfolder. \n\nIt\u0027s not clear to me what, if anything, we want to do here. The implication of \nconfiguring a repository to use topLevelAdmin is that the users will be able \nto perform an update on multiple projects but will not be able to use the -d \noption to fetch the absent directories. The current workarounds are to turn \noff topLevelAdmins, turn off fetch absent directories for the project or only \nperform updates on the subfolder that was checked out. Alternatively, the user \ncould define a module in the CVSROOT/modules file that created a project that \nhad the proper structure.\n\nThe problem would be lessened if the update command itself allowed the user to \ndecide whether to fetch absent directories or not.",
    "I\u0027m a litle late, but last week I wasn\u0027t here. First thank you for your answer. \nNow I need to discuss the situation here. For this, please can you tell me the \nreason why eclipse version 3... handles the situation in another way as version \n2.1.x. Perhaps this will help us to find the right solution. ",
    "Improvments were made to CVS checkout in 3.0. Unfortunately, these \nimprovements had the unforseen consequences you are experiencing."
  ],
  "commentCreationDates": [
    "2004-07-05T16:50:05+02:00",
    "2004-08-09T16:58:48+02:00",
    "2004-08-16T20:50:50+02:00",
    "2004-08-24T18:39:40+02:00",
    "2004-08-24T19:12:02+02:00",
    "2004-08-24T19:31:27+02:00",
    "2004-08-24T19:45:32+02:00",
    "2004-08-25T11:45:41+02:00",
    "2004-08-25T15:35:38+02:00",
    "2004-08-25T16:49:49+02:00",
    "2004-08-25T16:55:17+02:00",
    "2004-08-25T17:04:22+02:00",
    "2004-08-25T17:24:18+02:00",
    "2004-08-25T17:50:59+02:00",
    "2004-08-25T19:17:59+02:00",
    "2004-09-06T16:44:32+02:00",
    "2004-09-07T15:39:21+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.team.internal.ccvs.core.connection.CVSServerException",
      "message": "The server re ported an error while performing the \"cvs update\" command.",
      "elements": [
        {
          "method": "org.eclipse.team.internal.ccvs.core.CVSTeamProvider$12.run",
          "source": "CVSTeamPro vider.java:909"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run",
          "source": "EclipseSynchronizer.java:1300"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseFolder$3.run",
          "source": "Ecl ipseFolder.java:302"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1595 "
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseFolder.run",
          "source": "Eclip seFolder.java:299"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.client.Session.internalRun",
          "source": "Sessio n.java:209"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.client.Session.run",
          "source": "Session.java:1 58"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.CVSTeamProvider.update",
          "source": "CVSTeamPro vider.java:903"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.actions.UpdateAction$1.execute",
          "source": "Upda teAction.java:54"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation$1.run",
          "source": "WorkspaceModify Operation.java:71"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1595 "
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation.run",
          "source": "WorkspaceModifyOp eration.java:85"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.repo.RepositoryManager.run",
          "source": "Reposito ryManager.java:802"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.actions.CVSAction$1.run",
          "source": "CVSAction.j ava:241"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "Modal Context.java:101"
        }
      ],
      "number": 0,
      "commentIndex": 3,
      "bugId": "69290",
      "date": "2004-08-24T18:39:40+02:00",
      "product": "Platform",
      "component": "CVS",
      "severity": "normal"
    },
    {
      "exceptionType": "org.eclipse.team.internal.ccvs.core.connection.CVSServerException",
      "message": "The server  reported an error while performing the \"cvs update\" command.",
      "elements": [
        {
          "method": "org.eclipse.team.internal.ccvs.core.CVSTeamProvider$12.run",
          "source": "CVSTeamProvider.java:909"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run",
          "source": "EclipseSynchronizer.java:1300"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseFolder$3.run",
          "source": "EclipseFolder.java:302"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1595"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseFolder.run",
          "source": "EclipseFolder.java:299"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.client.Session.internalRun",
          "source": "Session.java:209"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.client.Session.run",
          "source": "Session.java:158"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.CVSTeamProvider.update",
          "source": "CVSTeamProvider.java:903"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.actions.UpdateAction$1.execute",
          "source": "UpdateAction.java:54"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation$1.run",
          "source": "WorkspaceModifyOperation.java:71"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1595"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation.run",
          "source": "WorkspaceModifyOperation.java:85"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.repo.RepositoryManager.run",
          "source": "RepositoryManager.java:802"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.actions.CVSAction$1.run",
          "source": "CVSAction.java:241"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:101"
        }
      ],
      "number": 1,
      "commentIndex": 7,
      "bugId": "69290",
      "date": "2004-08-25T11:45:41+02:00",
      "product": "Platform",
      "component": "CVS",
      "severity": "normal"
    }
  ],
  "groupId": "69290",
  "bugId": "69290",
  "date": "2004-07-05T16:50:05+02:00",
  "product": "Platform",
  "component": "CVS",
  "severity": "normal"
}