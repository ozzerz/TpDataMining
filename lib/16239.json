{
  "comments": [
    "After an OS crash I get NPE every time I close Eclipse.\nAnd changes in preferences are lost after restart...\n\n\u0027.metadata/.log\u0027 contains:\n\n!SESSION\n!ENTRY org.eclipse.ui 2 2 Fri May 17 15:43:03 EEST 2002\n!MESSAGE Problems occurred when invoking code from plug-in: org.eclipse.ui.\n!STACK java.lang.NullPointerException\n\tat\norg.eclipse.jdt.internal.ui.packageview.PackageExplorerPart.dispose(PackageExplorerPart.java:235)\n\tat org.eclipse.ui.internal.WorkbenchPage.dispose(WorkbenchPage.java:877)\n\tat org.eclipse.ui.internal.WorkbenchWindow.closeAllPages(WorkbenchWindow.java:370)\n\tat org.eclipse.ui.internal.WorkbenchWindow.hardClose(WorkbenchWindow.java:787)\n\tat org.eclipse.ui.internal.WorkbenchWindow.busyClose(WorkbenchWindow.java:297)\n\tat org.eclipse.ui.internal.WorkbenchWindow.access$3(WorkbenchWindow.java:286)\n\tat org.eclipse.ui.internal.WorkbenchWindow$1.run(WorkbenchWindow.java:342)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:56)\n\tat org.eclipse.ui.internal.WorkbenchWindow.close(WorkbenchWindow.java:340)\n\tat org.eclipse.jface.window.WindowManager.close(WindowManager.java:103)\n\tat org.eclipse.ui.internal.Workbench$2.run(Workbench.java:186)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:784)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:411)\n\tat org.eclipse.ui.internal.Workbench.busyClose(Workbench.java:158)\n\tat org.eclipse.ui.internal.Workbench.access$5(Workbench.java:136)\n\tat org.eclipse.ui.internal.Workbench$3.run(Workbench.java:248)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:56)\n\tat org.eclipse.ui.internal.Workbench.close(Workbench.java:246)\n\tat org.eclipse.ui.internal.Workbench.close(Workbench.java:238)\n\tat org.eclipse.ui.internal.Workbench.close(Workbench.java:232)\n\tat org.eclipse.ui.internal.WorkbenchWindow.busyClose(WorkbenchWindow.java:293)\n\tat org.eclipse.ui.internal.WorkbenchWindow.access$3(WorkbenchWindow.java:286)\n\tat org.eclipse.ui.internal.WorkbenchWindow$1.run(WorkbenchWindow.java:342)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:56)\n\tat org.eclipse.ui.internal.WorkbenchWindow.close(WorkbenchWindow.java:340)\n\tat org.eclipse.jface.window.Window.handleShellCloseEvent(Window.java:464)\n\tat org.eclipse.jface.window.Window$2.shellClosed(Window.java:415)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:150)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:75)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:841)\n\tat org.eclipse.swt.widgets.Decorations.WM_CLOSE(Decorations.java:1373)\n\tat org.eclipse.swt.widgets.Shell.WM_CLOSE(Shell.java:1037)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:2655)\n\tat org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1334)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:1817)\n\tat org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1208)\n\tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:70)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:2727)\n\tat org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1334)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:1817)\n\tat org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1208)\n\tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:70)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:2727)\n\tat org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1334)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:1817)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1213)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1206)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:833)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:816)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:643)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:349)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:160)\n\tat org.eclipse.core.launcher.Main.run(Main.java:548)\n\tat org.eclipse.core.launcher.Main.main(Main.java:403)",
    "no JDT code involved in the stack trace moving one layer down.",
    "The NPE occurs in PackageExplorerPart.dispose.\nMoving back to JDT.\n\nNote that dispose can be called without createPartControl being called if the \nview is in a hidden perspective which was never activated.\n\nAs for the preferences, we need to change all preference pages to save changes \nwhen they are applied.\n\nIgor, did you mean that you were only losing preferences (i.e. Window / \nPreferences) or other settings as well?\n\nIt would also help to know what kind of OS crashes you\u0027re seeing.  I assume \nyou don\u0027t mean an OS crash caused by Eclipse since you say you can still close \nEclipse after this occurs.",
    "It was a power failure. Then, after reboot, every time I closed Eclipse error\nwindow was thrown with message \"Error closing eclise\" (but don\u0027t remember exact\nmessage). After clicking \"Ok\" progress message \"Saving workspace\" was shown as\nusual.\n\nI\u0027ve already recreated workspace. But still get this exception sometimes when I\nclose Eclipse, but now this happens rarely. Don\u0027t know about other settings - I\nnoticed only loosing changes in Window-\u003ePreferences.\n\nPS! I often work with two Eclipse instances (on two different workspaces) open\nat the same time and noticed that this error happens most often when two\nEclipses run simultaneously. I run Eclipses without -data parameter, in place of\nit I run it from workspace directory.",
    "Again get this error! Text of the message is \"An error has ocurred when closing\nthe workbench\". Only one instance of Eclipse was running.",
    "Igor, which build are you on?  Is there anything besides this stack trace in \nthe .metadata/.log file?\n",
    "oops, sorry Nick I\u0027ve overlooked the first line...\n\nI really need to know the build number. We had a bug related to assuming that \ncreatePartControl is always called before dispose. This got fixed some time ago.\n\nThe line number in the walkback hints that this isn\u0027t one of the latest \nintegration builds.\n",
    "Just noticed the build number is in the title.\nThis has probably been fixed.",
    "verified that the bug was still in 20020425. Fixed in the latest integration \nbuild."
  ],
  "commentCreationDates": [
    "2002-05-17T14:45:55+02:00",
    "2002-05-18T01:49:14+02:00",
    "2002-05-19T04:49:07+02:00",
    "2002-05-19T16:08:13+02:00",
    "2002-05-19T17:30:17+02:00",
    "2002-05-19T17:38:17+02:00",
    "2002-05-19T18:15:25+02:00",
    "2002-05-19T19:46:10+02:00",
    "2002-05-19T22:06:49+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart.dispose",
          "source": "PackageExplorerPart.java:235"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.dispose",
          "source": "WorkbenchPage.java:877"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.closeAllPages",
          "source": "WorkbenchWindow.java:370"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.hardClose",
          "source": "WorkbenchWindow.java:787"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.busyClose",
          "source": "WorkbenchWindow.java:297"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.access$3",
          "source": "WorkbenchWindow.java:286"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow$1.run",
          "source": "WorkbenchWindow.java:342"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:56"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.close",
          "source": "WorkbenchWindow.java:340"
        },
        {
          "method": "org.eclipse.jface.window.WindowManager.close",
          "source": "WindowManager.java:103"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$2.run",
          "source": "Workbench.java:186"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:784"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:411"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.busyClose",
          "source": "Workbench.java:158"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$5",
          "source": "Workbench.java:136"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$3.run",
          "source": "Workbench.java:248"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:56"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.close",
          "source": "Workbench.java:246"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.close",
          "source": "Workbench.java:238"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.close",
          "source": "Workbench.java:232"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.busyClose",
          "source": "WorkbenchWindow.java:293"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.access$3",
          "source": "WorkbenchWindow.java:286"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow$1.run",
          "source": "WorkbenchWindow.java:342"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:56"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.close",
          "source": "WorkbenchWindow.java:340"
        },
        {
          "method": "org.eclipse.jface.window.Window.handleShellCloseEvent",
          "source": "Window.java:464"
        },
        {
          "method": "org.eclipse.jface.window.Window$2.shellClosed",
          "source": "Window.java:415"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:150"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:75"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:841"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.WM_CLOSE",
          "source": "Decorations.java:1373"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.WM_CLOSE",
          "source": "Shell.java:1037"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:2655"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.windowProc",
          "source": "Decorations.java:1334"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:1817"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DefWindowProcW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DefWindowProc",
          "source": "OS.java:1208"
        },
        {
          "method": "org.eclipse.swt.widgets.Scrollable.callWindowProc",
          "source": "Scrollable.java:70"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:2727"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.windowProc",
          "source": "Decorations.java:1334"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:1817"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DefWindowProcW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DefWindowProc",
          "source": "OS.java:1208"
        },
        {
          "method": "org.eclipse.swt.widgets.Scrollable.callWindowProc",
          "source": "Scrollable.java:70"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:2727"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.windowProc",
          "source": "Decorations.java:1334"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:1817"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessageW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessage",
          "source": "OS.java:1213"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1206"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:833"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:816"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:643"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:349"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:160"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:548"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:403"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "16239",
      "date": "2002-05-17T14:45:55+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "critical"
    }
  ],
  "groupId": "16239",
  "bugId": "16239",
  "date": "2002-05-17T14:45:55+02:00",
  "product": "JDT",
  "component": "UI",
  "severity": "critical"
}