{
  "comments": [
    "As discussed on the newsgroup under the Thread with the same name I am opening this bug entry. Here is a history of the thread.\n\n-- From Ed Merks\n\nPatrick,\n\nThe value is checked before it\u0027s applied and can\u0027t be applied until it\u0027s valid.  But this BigDecimal cases behaves oddly because the exception thrown by \n\nnew BigDecimal(\"badvalue\") \n\nhas a null message and the property editor relies on returning a non-null message string to indicate there is an error.  \n\nPlease open a bugzilla which I\u0027ll fix like this:\n\n### Eclipse Workspace Patch 1.0\n#P org.eclipse.emf.edit.ui\nIndex: src/org/eclipse/emf/edit/ui/provider/PropertyDescriptor.java\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\nRCS file: /cvsroot/tools/org.eclipse.emf/plugins/org.eclipse.emf.edit.ui/src/org/eclipse/emf/edit/ui/provider/PropertyDescriptor.java,v\nretrieving revision 1.10\ndiff -u -r1.10 PropertyDescriptor.java\n--- src/org/eclipse/emf/edit/ui/provider/PropertyDescriptor.java    21 Mar 2006 16:42:30 -0000    1.10\n+++ src/org/eclipse/emf/edit/ui/provider/PropertyDescriptor.java    20 Apr 2006 11:59:10 -0000\n@@ -162,7 +162,8 @@\n                }\n                catch (Exception exception)\n                {\n-                 return exception.getMessage();\n+                 String message \u003d exception.getMessage();\n+                 return message \u003d\u003d null ? exception.toString() : message;\n                }\n              }\n              Diagnostic diagnostic \u003d Diagnostician.INSTANCE.validate(EDataTypeCellEditor.this.eDataType, value);\n\n\nPatrick Sodre wrote: \nHi, \n   It seems that if the user inputs an invalid parameter that gets created from \"createFromString\" the Editor locks-up until the user explicitly calls \"restore Default Value\". \n   Is this the expected behavior or could something better be done? For instance if an exception is thrown restore the value back to what it was before after displaying a pop-up error message. \n   I understand that for DataTypes defined by the user he/she should take care of catching the exceptions but for the default ones like BigInteger/BigDecimal I think the EMF runtime could do some of the grunt work... \n   If you think this is something worth pursuing I could post an entry in Bugzilla. \n\nRegards, \nPatrick Sodre \n\n\nBelow is the stack trace that I got from the Editor... \n\njava.lang.NumberFormatException \nat java.math.BigDecimal.\u003cinit\u003e(BigDecimal.java:368) \nat java.math.BigDecimal.\u003cinit\u003e(BigDecimal.java:647) \nat org.eclipse.emf.ecore.impl.EcoreFactoryImpl.createEBigDecimalFromString(EcoreFactoryImpl.java:559) \nat org.eclipse.emf.ecore.impl.EcoreFactoryImpl.createFromString(EcoreFactoryImpl.java:116) \nat org.eclipse.emf.edit.ui.provider.PropertyDescriptor$EDataTypeCellEditor.doGetValue(PropertyDescriptor.java:183) \nat org.eclipse.jface.viewers.CellEditor.getValue(CellEditor.java:449) \nat org.eclipse.ui.views.properties.PropertySheetEntry.applyEditorValue(PropertySheetEntry.java:135) \nat org.eclipse.ui.views.properties.PropertySheetViewer.applyEditorValue(PropertySheetViewer.java:249) \nat",
    "The fix has been committed to CVS.  Thanks for reporting this problem.",
    "Fixed in the I200604270000 built"
  ],
  "commentCreationDates": [
    "2006-04-20T20:25:12+02:00",
    "2006-04-20T21:09:23+02:00",
    "2006-04-27T16:44:24+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NumberFormatException",
      "elements": [
        {
          "method": "java.math.BigDecimal.\u003cinit\u003e",
          "source": "BigDecimal.java:368"
        },
        {
          "method": "java.math.BigDecimal.\u003cinit\u003e",
          "source": "BigDecimal.java:647"
        },
        {
          "method": "org.eclipse.emf.ecore.impl.EcoreFactoryImpl.createEBigDecimalFromString",
          "source": "EcoreFactoryImpl.java:559"
        },
        {
          "method": "org.eclipse.emf.ecore.impl.EcoreFactoryImpl.createFromString",
          "source": "EcoreFactoryImpl.java:116"
        },
        {
          "method": "org.eclipse.emf.edit.ui.provider.PropertyDescriptor$EDataTypeCellEditor.doGetValue",
          "source": "PropertyDescriptor.java:183"
        },
        {
          "method": "org.eclipse.jface.viewers.CellEditor.getValue",
          "source": "CellEditor.java:449"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetEntry.applyEditorValue",
          "source": "PropertySheetEntry.java:135"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetViewer.applyEditorValue",
          "source": "PropertySheetViewer.java:249"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "137808",
      "date": "2006-04-20T20:25:12+02:00",
      "product": "EMF",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "137808",
  "bugId": "137808",
  "date": "2006-04-20T20:25:12+02:00",
  "product": "EMF",
  "component": "Core",
  "severity": "normal"
}