{
  "comments": [
    "After changing of target-platform settings or props for compiler (e.g. what\u0027s \nreported as error), Eclipse asks for rebuild-all.\n\nOn ~10 attempts, I got 2 OOME:\n\njava.lang.OutOfMemoryError: unable to create new native thread\n\tat java.lang.Thread.start(Native Method)\n\tat org.eclipse.jdt.internal.debug.ui.JavaDebugOptionsManager.fork\n(JavaDebugOptionsManager.java:698)\n\tat \norg.eclipse.jdt.internal.debug.ui.JavaDebugOptionsManager.problemRemoved\n(JavaDebugOptionsManager.java:312)\n\tat \norg.eclipse.jdt.internal.debug.ui.JavaDebugOptionsManager.resourceChanged\n(JavaDebugOptionsManager.java:167)\n\tat org.eclipse.core.internal.events.NotificationManager$1.run\n(NotificationManager.java:137)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:867)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:413)\n\tat org.eclipse.core.internal.events.NotificationManager.notify\n(NotificationManager.java:152)\n\tat \norg.eclipse.core.internal.events.NotificationManager.broadcastChanges\n(NotificationManager.java:67)\n\tat org.eclipse.core.internal.resources.Workspace.broadcastChanges\n(Workspace.java:161)\n\tat org.eclipse.core.internal.resources.Workspace.endOperation\n(Workspace.java:892)\n\tat org.eclipse.core.internal.resources.Workspace.build\n(Workspace.java:187)\n\tat \norg.eclipse.pde.internal.ui.preferences.CompilersPreferencePage$3.run\n(CompilersPreferencePage.java:238)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run\n(ModalContext.java:95)\n\nEclipse (I20030211) is started by\neclipse.exe\" -debug -console -data \"%ECLIPSE_HOME%\\workspace\" -vm \"%JAVA_HOME%\n\\bin\\javaw.exe\" -vmargs -Xmx400m -Xms50m\nPC has 1GB of RAM.\n\nIn workspace there are ~60 plugins. Target platform is set to Eclipse2.0.1. M4 \nis working well with the set of plugins (note: I didn\u0027t upgrade workspace, but \ncreated new one and imported all plugins again).",
    "Does the OOME occurr with the same stack trace each time? I.e. is it always in \nthe JavaDebugOptionsManager? ",
    "No, the exception trace in log was only once - another time there was \nonly \"java.lang.OutOfMemoryError: unable to create new native thread\" no stack \ntrace at all...\n",
    "Seems likely that the OOME was caused by the compiler and the call in debugland\njust happened to come at the wrong time?",
    "Yes, the \"java debug options manager\" is simply updating its cache of java \ncompilation problems. The code in the trace only runs when all errors are \nremoved from the workspace. The debugger was not active even active in this \ncase. Moving to JCORE for comment.\n\nHowever, I have filed bug 31882 against the java debugger - it can avoid \nforking a thread in this case. ",
    "If the Java builder was throwing the exception, it would show up in the stack \ntrace. IMO, it rather occurs during resource change notification.\n\nBack to debug.",
    "Fair enough. Our code wasn\u0027t doing anything that should have generated an OOME,\nbut it\u0027s gone now so we can\u0027t be blamed anymore. :)\n\n*** This bug has been marked as a duplicate of 31882 ***"
  ],
  "commentCreationDates": [
    "2003-02-13T11:00:20+01:00",
    "2003-02-14T02:14:47+01:00",
    "2003-02-14T09:24:56+01:00",
    "2003-02-14T16:12:41+01:00",
    "2003-02-14T16:29:37+01:00",
    "2003-02-14T17:15:23+01:00",
    "2003-02-17T23:11:40+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.OutOfMemoryError",
      "message": "unable to create new native thread",
      "elements": [
        {
          "method": "java.lang.Thread.start",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JavaDebugOptionsManager.fork",
          "source": "JavaDebugOptionsManager.java:698"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JavaDebugOptionsManager.problemRemoved",
          "source": "JavaDebugOptionsManager.java:312"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JavaDebugOptionsManager.resourceChanged",
          "source": "JavaDebugOptionsManager.java:167"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager$1.run",
          "source": "NotificationManager.java:137"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:867"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:413"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.notify",
          "source": "NotificationManager.java:152"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.broadcastChanges",
          "source": "NotificationManager.java:67"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.broadcastChanges",
          "source": "Workspace.java:161"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.endOperation",
          "source": "Workspace.java:892"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.build",
          "source": "Workspace.java:187"
        },
        {
          "method": "org.eclipse.pde.internal.ui.preferences.CompilersPreferencePage$3.run",
          "source": "CompilersPreferencePage.java:238"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:95"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "31760",
      "duplicateId": "31882",
      "date": "2003-02-13T11:00:20+01:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "major"
    }
  ],
  "groupId": "31882",
  "bugId": "31760",
  "duplicateId": "31882",
  "date": "2003-02-13T11:00:20+01:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "major"
}