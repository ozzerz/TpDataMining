{
  "comments": [
    "An unexpected error has occurred in the application. You may be able to continue working with reduced functionality.\n  Version: 1.0.1\n  org.eclipse.jface.util.Assert$AssertionFailedException: null argument;\n  org.eclipse.jface.util.Assert.isNotNull(Assert.java:149)\n  org.eclipse.jface.util.Assert.isNotNull(Assert.java:125)\n  org.eclipse.jface.viewers.StructuredViewer.assertElementsNotNull(StructuredViewer.java:545)\n  org.eclipse.jface.viewers.StructuredViewer.getRawChildren(StructuredViewer.java:849)\n  org.eclipse.jface.viewers.TableViewer.getRawChildren(TableViewer.java:1086)\n  org.eclipse.jface.viewers.StructuredViewer.getFilteredChildren(StructuredViewer.java:790)\n  org.eclipse.jface.viewers.StructuredViewer.getSortedChildren(StructuredViewer.java:905)\n  org.eclipse.jface.viewers.TableViewer.internalRefreshAll(TableViewer.java:798)\n  org.eclipse.jface.viewers.TableViewer.internalRefresh(TableViewer.java:748)\n  org.eclipse.jface.viewers.TableViewer.internalRefresh(TableViewer.java:737)\n  org.eclipse.jface.viewers.StructuredViewer$7.run(StructuredViewer.java:1264)\n  org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1201)\n  org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1262)\n  org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1221)\n  org.eclipse.jface.databinding.internal.viewers.TableViewerUpdatableCollection.internalAddElement(TableViewerUpdatableCollection.java:75)\n  org.eclipse.jface.databinding.internal.viewers.TableViewerUpdatableCollection.access$1(TableViewerUpdatableCollection.java:70)\n  org.eclipse.jface.databinding.internal.viewers.TableViewerUpdatableCollection$4.run(TableViewerUpdatableCollection.java:115)\n  org.eclipse.jface.databinding.internal.swt.AsyncRunnable.runOn(AsyncRunnable.java:26)\n  org.eclipse.jface.databinding.internal.viewers.TableViewerUpdatableCollection.setElement(TableViewerUpdatableCollection.java:119)\n  org.eclipse.jface.databinding.internal.CollectionBinding.update(CollectionBinding.java:123)\n  org.eclipse.jface.databinding.internal.CollectionBinding.handleChange(CollectionBinding.java:95)\n  org.eclipse.jface.databinding.Updatable.fireChangeEvent(Updatable.java:61)\n  org.eclipse.jface.databinding.Updatable.fireChangeEvent(Updatable.java:48)\n  org.eclipse.jface.databinding.Updatable.fireChangeEvent(Updatable.java:44)\n  org.eclipse.jface.databinding.internal.NestedUpdatableCollection.access$1(NestedUpdatableCollection.java:1)\n  org.eclipse.jface.databinding.internal.NestedUpdatableCollection$1.handleChange(NestedUpdatableCollection.java:35)\n  org.eclipse.jface.databinding.Updatable.fireChangeEvent(Updatable.java:61)\n  org.eclipse.jface.databinding.Updatable.fireChangeEvent(Updatable.java:48)\n  org.eclipse.jface.databinding.internal.beans.JavaBeanUpdatableCollection.access$6(JavaBeanUpdatableCollection.java:1)\n  org.eclipse.jface.databinding.internal.beans.JavaBeanUpdatableCollection$1.propertyChange(JavaBeanUpdatableCollection.java:48)\n  java.beans.PropertyChangeSupport.firePropertyChange(Unknown Source)\n  java.beans.PropertyChangeSupport.firePropertyChange(Unknown Source)\n  com.tpc.ipartner.model.ModelObject.firePropertyChange(ModelObject.java:46)\n  com.tpc.ipartner.model.ShowPerson.removeGiftCertificate(ShowPerson.java:819)\n  com.tpc.ipartner.show.editors.pages.customer.tabs.giftcertificate.GiftCertificateTableRemoveHandler.removeObject(GiftCertificateTableRemoveHandler.java:20)\n  com.tpc.custom.controls.table.AbstractRemoveButtonHandler.mouseClickProceed(AbstractRemoveButtonHandler.java:33)\n  com.tpc.custom.controls.table.AbstractButtonHandler.mouseClick(AbstractButtonHandler.java:86)\n  com.tpc.custom.controls.table.AbstractButtonHandler.mouseUp(AbstractButtonHandler.java:79)\n  org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:137)\n  org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n  org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)\n  org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)\n  org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)\n  org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)\n  org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)\n  org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)\n  org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n  com.tpc.ipartner.BaseApplication.run(BaseApplication.java:31)\n  org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n  org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\n  org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)\n  sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n  java.lang.reflect.Method.invoke(Unknown Source)\n  org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n  org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n  org.eclipse.core.launcher.Main.run(Main.java:973)\n  org.eclipse.core.launcher.Main.main(Main.java:948)\n\nThe problem appears to be at:\n\n  org.eclipse.jface.databinding.Updatable.fireChangeEvent(Updatable.java:44)\n\nHere is a patch that fixes the problem:\n\n\n\nIndex: Updatable.java\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\nRCS file: /home/eclipse/org.eclipse.jface.databinding/src/org/eclipse/jface/databinding/Updatable.java,v\nretrieving revision 1.5\ndiff -u -r1.5 Updatable.java\n--- Updatable.java\t19 Nov 2005 05:06:36 -0000\t1.5\n+++ Updatable.java\t30 Nov 2005 17:16:29 -0000\n@@ -41,7 +41,7 @@\n \n \tprotected ChangeEvent fireChangeEvent(int changeType, Object oldValue,\n \t\t\tObject newValue) {\n-\t\treturn fireChangeEvent(changeType, oldValue, newValue, 0);\n+\t\treturn fireChangeEvent(changeType, oldValue, newValue, -1);\t// FIXME: djo We came from a collection delete event; we don\u0027t know the position\n \t}\n \t\n \tprotected ChangeEvent fireChangeEvent(int changeType, Object oldValue, Object newValue,  int position) {\n\nThe problem is that the old code passes 0 as the position parameter, but TableViewerUpdatableCollection expects -1 for the position parameter to mean that \"we don\u0027t know the position\".\n\nChanging the code as shown in the above patch causes TableViewerUpdatableCollection to work properly, but causes a unit test failure as follows:\n\nThere was 1 failure:\n1) testFireChangeEvent(org.eclipse.jface.tests.databinding.UpdatableTest)junit.framework.AssertionFailedError: unexpected method call: handleChange\n\tat org.eclipse.jface.tests.databinding.util.Mocks$MockInvocationHandler.invoke(Mocks.java:137)\n\tat org.eclipse.jface.tests.databinding.util.$Proxy0.handleChange(Unknown Source)\n\tat org.eclipse.jface.databinding.Updatable.fireChangeEvent(Updatable.java:61)\n\tat org.eclipse.jface.databinding.Updatable.fireChangeEvent(Updatable.java:48)\n\tat org.eclipse.jface.databinding.Updatable.fireChangeEvent(Updatable.java:44)\n\tat org.eclipse.jface.tests.databinding.UpdatableTest$MyUpdatable.fireChange(UpdatableTest.java:27)\n\tat org.eclipse.jface.tests.databinding.UpdatableTest.testFireChangeEvent(UpdatableTest.java:137)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat org.eclipse.jface.tests.databinding.BindingTestSuite.main(BindingTestSuite.java:21)\n\n\nI\u0027m not sure if my fix is the correct fix since it causes a failure in exactly the unit test that I would expect to be failing due to this bug.\n\nBoris or Joe: Please review and advise.",
    "Fix released for builds \u003e20051130.\n\nDave, could you please check if the changes I made fix your original problem? I made some more changes than the one from your patch. The tests pass. Please mark as fixed if the issue is solved.",
    "Looks good here.  Closing.",
    "Verified: I20051213-0010, Linux/GTK."
  ],
  "commentCreationDates": [
    "2005-11-30T17:54:48+01:00",
    "2005-11-30T18:22:17+01:00",
    "2005-12-02T04:54:05+01:00",
    "2005-12-14T04:14:54+01:00"
  ],
  "traces": [
    {
      "exceptionType": "junit.framework.AssertionFailedError",
      "message": "unexpected method call: handleChange",
      "elements": [
        {
          "method": "org.eclipse.jface.tests.databinding.util.Mocks$MockInvocationHandler.invoke",
          "source": "Mocks.java:137"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "118674",
      "date": "2005-11-30T17:54:48+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "118674",
  "bugId": "118674",
  "date": "2005-11-30T17:54:48+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}