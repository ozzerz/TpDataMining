{
  "comments": [
    "Creates a new java 5 project:\n\npackage java.nio.channels.spi;\n\npublic abstract class AbstractSelectableChannel\n\textends java.nio.channels.SelectableChannel\n{\n}\n\npackage test;\n\nclass A\u003cC extends java.nio.channels.Channel\u003e\n{\n\tclass B\n\t\textends A\u003cjava.nio.channels.SocketChannel\u003e\n\t{\n\t}\n}\n\nThen an internal compiler error was issued:\njava.lang.NullPointerException\n\tat\norg.eclipse.jdt.internal.compiler.lookup.ReferenceBinding.implementsInterface(ReferenceBinding.java:682)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.ReferenceBinding.isCompatibleWith(ReferenceBinding.java:768)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.TypeVariableBinding.boundCheck(TypeVariableBinding.java:135)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.ParameterizedTypeBinding.boundCheck(ParameterizedTypeBinding.java:58)\n\tat\norg.eclipse.jdt.internal.compiler.ast.ParameterizedSingleTypeReference.checkBounds(ParameterizedSingleTypeReference.java:40)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.ClassScope.checkParameterizedTypeBounds(ClassScope.java:702)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:935)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.ClassScope.connectMemberTypes(ClassScope.java:723)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:936)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.connectTypeHierarchy(CompilationUnitScope.java:254)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:195)\n...\n\nThe null reference is SourceTypeBinding.superInterfaces for class\nAbstractSelectableChannel.\nNo error when the type parameter of class A is changed into \u003cC extends\nSocketChannel\u003e",
    "To repeat this error, the package name of class A must be after \"java\" in alphabet",
    "Cannot reproduce in latest. Likely dup of bug 101456.\n\nKent - pls add a regression test",
    "Actually, after addressing bug 103528, it reproduces quite easily (stricter\nbound check).\n\nProblem arises from the fact that when connecting type hierarchy of A$B, it\nneeds to check that SocketChannel is within bounds of \u003cC extends Channel\u003e.\nHowever, the binary type SocketChannel has the source type\nAbstractSelectableChannel as its superclass, and AbstractSelectableChannel\nsuperinterfaces are still null since haven\u0027t been connected yet.\n\nIn order to handle type compatibility rules (which bound check needs), it seems\nthat bound checks should be deferred until entire connecting has occurred (and\nnot happen during type hierarchy connecting).",
    "A needs to be compiled before AbstractSelectableChannel for the problem to show up.\n",
    "Added GenericTypeTest#test788-789.\n\nNPE from test788 is:\n\njava.lang.NullPointerException\n\tat\norg.eclipse.jdt.internal.compiler.lookup.ReferenceBinding.implementsInterface(ReferenceBinding.java:681)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.ReferenceBinding.isCompatibleWith(ReferenceBinding.java:766)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.TypeVariableBinding.boundCheck(TypeVariableBinding.java:137)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.ParameterizedTypeBinding.boundCheck(ParameterizedTypeBinding.java:58)\n\tat\norg.eclipse.jdt.internal.compiler.ast.ParameterizedSingleTypeReference.checkBounds(ParameterizedSingleTypeReference.java:40)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.ClassScope.checkParameterizedTypeBounds(ClassScope.java:698)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:939)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.ClassScope.connectMemberTypes(ClassScope.java:719)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy(ClassScope.java:940)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.connectTypeHierarchy(CompilationUnitScope.java:254)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:195)\n\tat org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:301)\n\tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:315)\n\tat\norg.eclipse.jdt.core.tests.compiler.regression.AbstractRegressionTest.runConformTest(AbstractRegressionTest.java:217)\n\tat\norg.eclipse.jdt.core.tests.compiler.regression.AbstractComparableTest.runConformTest(AbstractComparableTest.java:182)\n\tat\norg.eclipse.jdt.core.tests.compiler.regression.AbstractRegressionTest.runConformTest(AbstractRegressionTest.java:174)\n\tat\norg.eclipse.jdt.core.tests.compiler.regression.AbstractRegressionTest.runConformTest(AbstractRegressionTest.java:165)\n\tat\norg.eclipse.jdt.core.tests.compiler.regression.GenericTypeTest.test788(GenericTypeTest.java:22795)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat junit.framework.TestCase.runTest(TestCase.java:154)\n\tat junit.framework.TestCase.runBare(TestCase.java:127)\n\tat junit.framework.TestResult$1.protect(TestResult.java:106)\n\tat junit.framework.TestResult.runProtected(TestResult.java:124)\n\tat junit.framework.TestResult.run(TestResult.java:109)\n\tat junit.framework.TestCase.run(TestCase.java:118)\n\tat junit.framework.TestSuite.runTest(TestSuite.java:208)\n\tat junit.framework.TestSuite.run(TestSuite.java:203)\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\n\tat junit.extensions.TestDecorator.run(TestDecorator.java:28)\n\tat org.eclipse.jdt.core.tests.util.CompilerTestSetup.run(CompilerTestSetup.java:48)\n\tat junit.framework.TestSuite.runTest(TestSuite.java:208)\n\tat junit.framework.TestSuite.run(TestSuite.java:203)\n\tat\norg.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:478)\n\tat\norg.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:344)\n\tat\norg.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(RemotePluginTestRunner.java:57)\n\tat\norg.eclipse.pde.internal.junit.runtime.CoreTestApplication.run(CoreTestApplication.java:24)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n\tat org.eclipse.core.launcher.Main.run(Main.java:973)\n\tat org.eclipse.core.launcher.Main.main(Main.java:948)\n\n",
    "The ordering is what makes the difference (no influence from bug 103528 as said\nin comment 3).",
    "Created an attachment (id\u003d24969)\nProposed fix\n\nPatch defers bound checks after super type hierarchy got fully interconnected.",
    "Created an attachment (id\u003d24970)\nBetter fix\n\nHad forgotten the case of completeTypeBindings for a single unit.",
    "Fixed. Kent - pls verify the patch.",
    "Fixed (both in 3.1 maintenance \u0026 HEAD)",
    "looks good.",
    "Verified in 3.2 M1 with build I20050808-2000.",
    "*** Bug 106740 has been marked as a duplicate of this bug. ***",
    "Verified using M20050923-1430 for 3.1.1"
  ],
  "commentCreationDates": [
    "2005-07-15T15:23:03+02:00",
    "2005-07-15T15:29:57+02:00",
    "2005-07-18T17:04:56+02:00",
    "2005-07-19T12:47:53+02:00",
    "2005-07-19T12:54:26+02:00",
    "2005-07-19T12:57:18+02:00",
    "2005-07-19T12:59:00+02:00",
    "2005-07-19T13:24:48+02:00",
    "2005-07-19T14:25:10+02:00",
    "2005-07-19T14:25:50+02:00",
    "2005-07-19T14:40:24+02:00",
    "2005-07-26T18:24:26+02:00",
    "2005-08-09T18:45:40+02:00",
    "2005-08-12T00:13:36+02:00",
    "2005-09-26T17:26:31+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ReferenceBinding.implementsInterface",
          "source": "ReferenceBinding.java:682"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ReferenceBinding.isCompatibleWith",
          "source": "ReferenceBinding.java:768"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.TypeVariableBinding.boundCheck",
          "source": "TypeVariableBinding.java:135"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ParameterizedTypeBinding.boundCheck",
          "source": "ParameterizedTypeBinding.java:58"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.ParameterizedSingleTypeReference.checkBounds",
          "source": "ParameterizedSingleTypeReference.java:40"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.checkParameterizedTypeBounds",
          "source": "ClassScope.java:702"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy",
          "source": "ClassScope.java:935"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectMemberTypes",
          "source": "ClassScope.java:723"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy",
          "source": "ClassScope.java:936"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.connectTypeHierarchy",
          "source": "CompilationUnitScope.java:254"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings",
          "source": "LookupEnvironment.java:195"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "103994",
      "date": "2005-07-15T15:23:03+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ReferenceBinding.implementsInterface",
          "source": "ReferenceBinding.java:681"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ReferenceBinding.isCompatibleWith",
          "source": "ReferenceBinding.java:766"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.TypeVariableBinding.boundCheck",
          "source": "TypeVariableBinding.java:137"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ParameterizedTypeBinding.boundCheck",
          "source": "ParameterizedTypeBinding.java:58"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.ParameterizedSingleTypeReference.checkBounds",
          "source": "ParameterizedSingleTypeReference.java:40"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.checkParameterizedTypeBounds",
          "source": "ClassScope.java:698"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy",
          "source": "ClassScope.java:939"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectMemberTypes",
          "source": "ClassScope.java:719"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.connectTypeHierarchy",
          "source": "ClassScope.java:940"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.connectTypeHierarchy",
          "source": "CompilationUnitScope.java:254"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings",
          "source": "LookupEnvironment.java:195"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.beginToCompile",
          "source": "Compiler.java:301"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:315"
        },
        {
          "method": "org.eclipse.jdt.core.tests.compiler.regression.AbstractRegressionTest.runConformTest",
          "source": "AbstractRegressionTest.java:217"
        },
        {
          "method": "org.eclipse.jdt.core.tests.compiler.regression.AbstractComparableTest.runConformTest",
          "source": "AbstractComparableTest.java:182"
        },
        {
          "method": "org.eclipse.jdt.core.tests.compiler.regression.AbstractRegressionTest.runConformTest",
          "source": "AbstractRegressionTest.java:174"
        },
        {
          "method": "org.eclipse.jdt.core.tests.compiler.regression.AbstractRegressionTest.runConformTest",
          "source": "AbstractRegressionTest.java:165"
        },
        {
          "method": "org.eclipse.jdt.core.tests.compiler.regression.GenericTypeTest.test788",
          "source": "GenericTypeTest.java:22795"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "junit.framework.TestCase.runTest",
          "source": "TestCase.java:154"
        },
        {
          "method": "junit.framework.TestCase.runBare",
          "source": "TestCase.java:127"
        },
        {
          "method": "junit.framework.TestResult$1.protect",
          "source": "TestResult.java:106"
        },
        {
          "method": "junit.framework.TestResult.runProtected",
          "source": "TestResult.java:124"
        },
        {
          "method": "junit.framework.TestResult.run",
          "source": "TestResult.java:109"
        },
        {
          "method": "junit.framework.TestCase.run",
          "source": "TestCase.java:118"
        },
        {
          "method": "junit.framework.TestSuite.runTest",
          "source": "TestSuite.java:208"
        },
        {
          "method": "junit.framework.TestSuite.run",
          "source": "TestSuite.java:203"
        },
        {
          "method": "junit.extensions.TestDecorator.basicRun",
          "source": "TestDecorator.java:22"
        },
        {
          "method": "junit.extensions.TestDecorator.run",
          "source": "TestDecorator.java:28"
        },
        {
          "method": "org.eclipse.jdt.core.tests.util.CompilerTestSetup.run",
          "source": "CompilerTestSetup.java:48"
        },
        {
          "method": "junit.framework.TestSuite.runTest",
          "source": "TestSuite.java:208"
        },
        {
          "method": "junit.framework.TestSuite.run",
          "source": "TestSuite.java:203"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests",
          "source": "RemoteTestRunner.java:478"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run",
          "source": "RemoteTestRunner.java:344"
        },
        {
          "method": "org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main",
          "source": "RemotePluginTestRunner.java:57"
        },
        {
          "method": "org.eclipse.pde.internal.junit.runtime.CoreTestApplication.run",
          "source": "CoreTestApplication.java:24"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "number": 1,
      "commentIndex": 5,
      "bugId": "103994",
      "date": "2005-07-19T12:57:18+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "major"
    }
  ],
  "groupId": "103994",
  "bugId": "103994",
  "date": "2005-07-15T15:23:03+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "major"
}