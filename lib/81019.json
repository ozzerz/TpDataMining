{
  "comments": [
    "Simple C program:\n\nint main(int argc, char *argv[])\n{\n        int a[4];\n        \n        a[2] \u003d 5;\n}\n\nCompile and launch program under debugger. Expanding variable \u0027a\u0027 in Variables view produces the \nfollowing error message:\n\nProblems occurred when invoking code from plug-in: \"org.eclipse.core.runtime\".\n\njava.lang.NullPointerException\n\tat org.eclipse.jface.viewers.CustomHashtable.put(CustomHashtable.java:289)\n\tat org.eclipse.jface.viewers.StructuredViewer.mapElement(StructuredViewer.java:789)\n\tat org.eclipse.jface.viewers.StructuredViewer.associate(StructuredViewer.java:260)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.associate(AbstractTreeViewer.java:294)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:457)\n\tat org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run(StructuredViewer.java:\n128)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:616)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:747)\n\tat org.eclipse.jface.viewers.StructuredViewer.updateItem(StructuredViewer.java:1374)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem(AbstractTreeViewer.java:381)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer$1.run(AbstractTreeViewer.java:361)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:342)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.handleTreeExpand(AbstractTreeViewer.java:754)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer$4.treeExpanded(AbstractTreeViewer.java:765)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:179)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1196)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1220)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1205)\n\tat org.eclipse.swt.widgets.Tree.itemNotificationProc(Tree.java:876)\n\tat org.eclipse.swt.widgets.Display.itemNotificationProc(Display.java:2006)\n\tat org.eclipse.swt.internal.carbon.OS.CallNextEventHandler(Native Method)\n\tat org.eclipse.swt.widgets.Tree.kEventMouseDown(Tree.java:932)\n\tat org.eclipse.swt.widgets.Widget.mouseProc(Widget.java:1026)\n\tat org.eclipse.swt.widgets.Display.mouseProc(Display.java:2463)\n\tat org.eclipse.swt.internal.carbon.OS.SendEventToEventTarget(Native Method)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2523)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1377)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1348)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:254)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:335)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:183)\n\tat org.eclipse.core.launcher.Main.run(Main.java:644)\n\tat org.eclipse.core.launcher.Main.main(Main.java:628)",
    "What is your Eclipse version?",
    "Sorry. 3.0.1",
    "Reassigning to platform.",
    "Actually, I think this is a CDT-debug problem. It seems that gdb 5.3 on MacOS X returns a list rather \nthan a tuple as a result of the -var-list-children command. This causes the parser in \nMIVarListChildrenInfo to fail. Unfortunately, this means that the values of the variable, which has \nalready been created, are set to null.\n\nMy fix was to remove the MITuple test in MIVarListChildrenInfo.parse():\n\n\t} else if (var.equals(\"children\")) { //$NON-NLS-1$\n\t\tparseChildren(value, aList);\n\t}\n\nand change MIVarListChildrenInfo.parseChildren() as follows:\n\n\tvoid parseChildren(MIValue val, List aList) {\n\t\tMIResult[] results \u003d null;\n\t\tif (val instanceof MITuple) {\n\t\t\tresults \u003d ((MITuple)val).getMIResults();\n\t\t} else if (val instanceof MIList) {\n\t\t\tresults \u003d ((MIList)val).getMIResults();\n\t\t}\n\t\tif (results !\u003d null) {\n\t\t\tfor (int i \u003d 0; i \u003c results.length; i++) {\n\t\t\t\tString var \u003d results[i].getVariable();\n\t\t\t\tif (var.equals(\"child\")) { //$NON-NLS-1$\n\t\t\t\t\tMIValue value \u003d results[i].getMIValue();\n\t\t\t\t\tif (value instanceof MITuple) {\n\t\t\t\t\t\taList.add(new MIVar((MITuple)value));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}",
    "Yes, I see.  A few points\n- according to MI 1, it should\n  not have been this way 8-) .. but\n\n- Do you have a patch handy instead.\n\nWe could apply this to the head only, unless you have\nsome strong biais for a particular release",
    "\u003e - Do you have a patch handy instead.\n\nDo not bother with the patch, you code\nin the PR was clear enough.\n\n",
    "Fix in the head, from the code in this PR.\n\nPlease verify(if satisfy with the fix)\nor reopen if not.\n",
    "Yes, it is now fixed. It would be really nice if this could go into 2.1.",
    "Resetting milestone to 2.1.1\n\nFix in the branch"
  ],
  "commentCreationDates": [
    "2004-12-14T22:45:37+01:00",
    "2004-12-14T23:13:15+01:00",
    "2004-12-15T00:17:58+01:00",
    "2004-12-15T02:44:58+01:00",
    "2004-12-18T00:58:42+01:00",
    "2004-12-20T17:22:57+01:00",
    "2004-12-20T17:36:06+01:00",
    "2004-12-20T17:44:20+01:00",
    "2004-12-20T20:36:11+01:00",
    "2005-01-18T16:21:56+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jface.viewers.CustomHashtable.put",
          "source": "CustomHashtable.java:289"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.mapElement",
          "source": "StructuredViewer.java:789"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.associate",
          "source": "StructuredViewer.java:260"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.associate",
          "source": "AbstractTreeViewer.java:294"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem",
          "source": "AbstractTreeViewer.java:457"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run",
          "source": "StructuredViewer.java: 128"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:616"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:747"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateItem",
          "source": "StructuredViewer.java:1374"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem",
          "source": "AbstractTreeViewer.java:381"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$1.run",
          "source": "AbstractTreeViewer.java:361"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.createChildren",
          "source": "AbstractTreeViewer.java:342"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.handleTreeExpand",
          "source": "AbstractTreeViewer.java:754"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$4.treeExpanded",
          "source": "AbstractTreeViewer.java:765"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:179"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1196"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1220"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1205"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.itemNotificationProc",
          "source": "Tree.java:876"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.itemNotificationProc",
          "source": "Display.java:2006"
        },
        {
          "method": "org.eclipse.swt.internal.carbon.OS.CallNextEventHandler",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.kEventMouseDown",
          "source": "Tree.java:932"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.mouseProc",
          "source": "Widget.java:1026"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.mouseProc",
          "source": "Display.java:2463"
        },
        {
          "method": "org.eclipse.swt.internal.carbon.OS.SendEventToEventTarget",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2523"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1377"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1348"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:254"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:141"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:96"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:335"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:273"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:183"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:644"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:628"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "81019",
      "date": "2004-12-14T22:45:37+01:00",
      "product": "CDT",
      "component": "cdt-debug",
      "severity": "normal"
    }
  ],
  "groupId": "81019",
  "bugId": "81019",
  "date": "2004-12-14T22:45:37+01:00",
  "product": "CDT",
  "component": "cdt-debug",
  "severity": "normal"
}