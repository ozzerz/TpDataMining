{
  "comments": [
    "Build ID: M20060921-0945\n\nSteps To Reproduce:\n1.Create Java Project\n2.Import any POJO\u0027s with default package (no package specified in java code.\n3.Enable JAX-WS for project created in first step\n4. Annote type and public method using JAX-WS default setting\n3. Save it,  it will kicks on builder (if Build is Autoenabled) or select build to start a build.\n4.It will generate exception, that prevent creation of types classes and wsdl generation. See stack trace below:\n\nThe following exception will be thrown:\n\norg.apache.cxf.tools.common.ToolException: Fail to load class : .Soap\n\tat org.apache.cxf.tools.util.AnnotationUtil.loadClass(AnnotationUtil.java:83)\n\tat org.apache.cxf.tools.java2wsdl.processor.JavaToWSDLProcessor.init(JavaToWSDLProcessor.java:78)\n\tat org.apache.cxf.tools.java2wsdl.processor.JavaToWSDLProcessor.process(JavaToWSDLProcessor.java:53)\n\tat org.eclipse.stp.sc.cxf.generators.CeltixJavaToWsdlGenerator.run(CeltixJavaToWsdlGenerator.java:99)\n\tat org.eclipse.stp.sc.jaxws.builders.ScJavaToWsdlBuilder.generate(ScJavaToWsdlBuilder.java:76)\n\tat org.eclipse.stp.sc.jaxws.builders.ScJavaToWsdlBuilder.buildOneJavaFile(ScJavaToWsdlBuilder.java:48)\n\tat org.eclipse.stp.sc.common.builders.ScJavaBuilder.visitResourceFile(ScJavaBuilder.java:126)\n\tat org.eclipse.stp.sc.common.builders.ScJavaBuilder.access$0(ScJavaBuilder.java:114)\n\tat org.eclipse.stp.sc.common.builders.ScJavaBuilder$ScBuildVisitor.visit(ScJavaBuilder.java:173)\n\tat org.eclipse.core.internal.resources.Resource$2.visit(Resource.java:105)\n\tat org.eclipse.core.internal.resources.Resource$1.visitElement(Resource.java:57)\n\tat org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java:81)\n\tat org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java:85)\n\tat org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java:85)\n\tat org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java:85)\n\tat org.eclipse.core.internal.watson.ElementTreeIterator.iterate(ElementTreeIterator.java:126)\n\tat org.eclipse.core.internal.resources.Resource.accept(Resource.java:67)\n\tat org.eclipse.core.internal.resources.Resource.accept(Resource.java:103)\n\tat org.eclipse.core.internal.resources.Resource.accept(Resource.java:87)\n\tat org.eclipse.stp.sc.common.builders.ScJavaBuilder.fullBuild(ScJavaBuilder.java:77)\n\tat org.eclipse.stp.sc.common.builders.ScJavaBuilder.build(ScJavaBuilder.java:54)\n\tat org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:603)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:167)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:201)\n\tat org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:230)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:233)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:252)\n\tat org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:285)\n\tat org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:145)\n\tat org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:208)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\nCaused by: java.lang.ClassNotFoundException: .Soap\n\tat java.net.URLClassLoader$1.run(Unknown Source)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.net.URLClassLoader.findClass(Unknown Source)\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\n\tat org.apache.cxf.tools.util.AnnotationUtil.loadClass(AnnotationUtil.java:80)\n\t... 32 more\n\n\nMore information:\nProblem caused by JDTUtils.getJavaClassNameFromFile() method, it wrongly caculate path for default package case.\n\nSee line below: \n\n clsName +\u003d \".\" + javaUnit.getElementName().substring(0,\n                                                                 javaUnit.getElementName().lastIndexOf(\".\"));",
    "Created an attachment (id\u003d67357)\npatch for bug 185626\n\n1. Fix the bug when handling default package name.\n2. Set default package name as \"default_package\" when adding annotation to method.\n3. Add related test case.",
    "applied patch"
  ],
  "commentCreationDates": [
    "2007-05-05T00:46:07+02:00",
    "2007-05-16T09:12:31+02:00",
    "2007-05-17T04:09:05+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.apache.cxf.tools.common.ToolException",
      "message": "Fail to load class : .Soap",
      "elements": [
        {
          "method": "org.apache.cxf.tools.util.AnnotationUtil.loadClass",
          "source": "AnnotationUtil.java:83"
        },
        {
          "method": "org.apache.cxf.tools.java2wsdl.processor.JavaToWSDLProcessor.init",
          "source": "JavaToWSDLProcessor.java:78"
        },
        {
          "method": "org.apache.cxf.tools.java2wsdl.processor.JavaToWSDLProcessor.process",
          "source": "JavaToWSDLProcessor.java:53"
        },
        {
          "method": "org.eclipse.stp.sc.cxf.generators.CeltixJavaToWsdlGenerator.run",
          "source": "CeltixJavaToWsdlGenerator.java:99"
        },
        {
          "method": "org.eclipse.stp.sc.jaxws.builders.ScJavaToWsdlBuilder.generate",
          "source": "ScJavaToWsdlBuilder.java:76"
        },
        {
          "method": "org.eclipse.stp.sc.jaxws.builders.ScJavaToWsdlBuilder.buildOneJavaFile",
          "source": "ScJavaToWsdlBuilder.java:48"
        },
        {
          "method": "org.eclipse.stp.sc.common.builders.ScJavaBuilder.visitResourceFile",
          "source": "ScJavaBuilder.java:126"
        },
        {
          "method": "org.eclipse.stp.sc.common.builders.ScJavaBuilder.access$0",
          "source": "ScJavaBuilder.java:114"
        },
        {
          "method": "org.eclipse.stp.sc.common.builders.ScJavaBuilder$ScBuildVisitor.visit",
          "source": "ScJavaBuilder.java:173"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource$2.visit",
          "source": "Resource.java:105"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource$1.visitElement",
          "source": "Resource.java:57"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.doIteration",
          "source": "ElementTreeIterator.java:81"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.doIteration",
          "source": "ElementTreeIterator.java:85"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.doIteration",
          "source": "ElementTreeIterator.java:85"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.doIteration",
          "source": "ElementTreeIterator.java:85"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.iterate",
          "source": "ElementTreeIterator.java:126"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource.accept",
          "source": "Resource.java:67"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource.accept",
          "source": "Resource.java:103"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource.accept",
          "source": "Resource.java:87"
        },
        {
          "method": "org.eclipse.stp.sc.common.builders.ScJavaBuilder.fullBuild",
          "source": "ScJavaBuilder.java:77"
        },
        {
          "method": "org.eclipse.stp.sc.common.builders.ScJavaBuilder.build",
          "source": "ScJavaBuilder.java:54"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$2.run",
          "source": "BuildManager.java:603"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:167"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:201"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$1.run",
          "source": "BuildManager.java:230"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:233"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuildLoop",
          "source": "BuildManager.java:252"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.build",
          "source": "BuildManager.java:285"
        },
        {
          "method": "org.eclipse.core.internal.events.AutoBuildJob.doBuild",
          "source": "AutoBuildJob.java:145"
        },
        {
          "method": "org.eclipse.core.internal.events.AutoBuildJob.run",
          "source": "AutoBuildJob.java:208"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.ClassNotFoundException",
        "message": ".Soap",
        "elements": [
          {
            "method": "java.net.URLClassLoader$1.run",
            "source": "Unknown Source"
          },
          {
            "method": "java.security.AccessController.doPrivileged",
            "source": "Native Method"
          },
          {
            "method": "java.net.URLClassLoader.findClass",
            "source": "Unknown Source"
          },
          {
            "method": "java.lang.ClassLoader.loadClass",
            "source": "Unknown Source"
          },
          {
            "method": "java.lang.ClassLoader.loadClass",
            "source": "Unknown Source"
          },
          {
            "method": "org.apache.cxf.tools.util.AnnotationUtil.loadClass",
            "source": "AnnotationUtil.java:80"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "185626",
      "date": "2007-05-05T00:46:07+02:00",
      "product": "SOA",
      "component": "org.eclipse.stp.servicecreation",
      "severity": "normal"
    }
  ],
  "groupId": "185626",
  "bugId": "185626",
  "date": "2007-05-05T00:46:07+02:00",
  "product": "SOA",
  "component": "org.eclipse.stp.servicecreation",
  "severity": "normal"
}