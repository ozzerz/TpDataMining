{
  "comments": [
    "Eclipse Project SDK\nversion: 2.0 (pre-release)\nbuild: ******\n\n\n\nHi,\nI want to add imports statement in a java class...\nsometimes I\u0027ve got a \"bizarre\" NullPointerException about colors when a\nrun this code: \n\n----------------------------------------------------------------------\nImportsStructure imports\u003d new ImportsStructure(parentCU, prefOrder,\nthreshold, false);\nfor( Iterator i \u003d javaClass.getImports().iterator();i.hasNext();) {\n  imports.addImport((String) i.next());\n}\nimports.create(true, new SubProgressMonitor(monitor, 1));\n-----------------------------------------------------------------------\n\nException is\n\n-----------------------------------------------------------------------\njava.lang.NullPointerException\n\tat\norg.eclipse.jdt.internal.ui.text.JavaColorManager.getColor\n(JavaColorManager.java:53)\n\tat\norg.eclipse.jdt.internal.ui.text.JavaColorManager.getColor\n(JavaColorManager.java:85)\n\tat\norg.eclipse.jdt.internal.ui.text.AbstractJavaScanner.addToken\n(AbstractJavaScanner.java:90)\n\tat\norg.eclipse.jdt.internal.ui.text.AbstractJavaScanner.initialize\n(AbstractJavaScanner.java:75)\n\tat\norg.eclipse.jdt.internal.ui.text.java.JavaCodeScanner.\u003cinit\u003e\n(JavaCodeScanner.java:117)\n\tat org.eclipse.jdt.ui.text.JavaTextTools.\u003cinit\u003e(JavaTextTools.java:73)\n\tat\norg.eclipse.jdt.internal.ui.JavaPlugin.getJavaTextTools(JavaPlugin.java:266)\n\tat\norg.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider.createDoc\nument(CompilationUnitDocumentProvider.java:532)\n\tat\norg.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider$BufferFac\ntory.internalGetDocument(CompilationUnitDocumentProvider.java:312)\n\tat\norg.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider$BufferFac\ntory.createBuffer(CompilationUnitDocumentProvider.java:326)\n\tat\norg.eclipse.jdt.internal.core.WorkingCopy.openBuffer(WorkingCopy.java:318)\n\tat org.eclipse.jdt.internal.core.Openable.getBuffer(Openable.java:181)\n\tat\norg.eclipse.jdt.internal.core.CompilationUnit.getSource\n(CompilationUnit.java:530)\n\tat\norg.eclipse.jdt.internal.core.CompilationUnitProblemFinder.resolve\n(CompilationUnitProblemFinder.java:153)\n\tat\norg.eclipse.jdt.internal.core.CompilationUnit.buildStructure\n(CompilationUnit.java:80)\n\tat\norg.eclipse.jdt.internal.core.Openable.openWhenClosed(Openable.java:382)\n\tat org.eclipse.jdt.internal.core.Openable.open(Openable.java:332)\n\tat org.eclipse.jdt.internal.core.WorkingCopy.open(WorkingCopy.java:309)\n\tat\norg.eclipse.jdt.internal.core.CompilationUnit.getWorkingCopy\n(CompilationUnit.java:613)\n\tat\norg.eclipse.jdt.internal.core.CompilationUnit.getSharedWorkingCopy\n(CompilationUnit.java:585)\n\tat\norg.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider.createEle\nmentInfo(CompilationUnitDocumentProvider.java:421)\n\tat\norg.eclipse.ui.texteditor.AbstractDocumentProvider.connect\n(AbstractDocumentProvider.java:261)\n\tat\norg.eclipse.jdt.internal.corext.textmanipulation.TextBufferFactory.acquire\n(TextBufferFactory.java:76)\n\tat\norg.eclipse.jdt.internal.corext.textmanipulation.TextBuffer.acquire\n(TextBuffer.java:349)\n\tat\norg.eclipse.jdt.internal.corext.codemanipulation.ImportsStructure.aquireTextBuff\ner(ImportsStructure.java:401)\n\tat\norg.eclipse.jdt.internal.corext.codemanipulation.ImportsStructure.create\n(ImportsStructure.java:376)\n\tat\ncom.cross.generator.jdt.JdtJavaClassGenerator.createType\n(JdtJavaClassGenerator.java:245)\n-----------------------------------------------------------------------",
    "This happens when the code is not executed in the UI thread (it uses \nDisplay.getCurrent()). You have to make sure that the code is executed in the \nUI thread using Display.syncExec or Display.asyncExec.\n\n\n",
    "- ok, work fine ... so this \"virtual\" bug resolved ;)\n\nThanx (and sorry)\n\n-Emmanuel"
  ],
  "commentCreationDates": [
    "2002-05-24T12:11:10+02:00",
    "2002-05-25T21:36:01+02:00",
    "2002-05-27T00:05:25+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.ui.text.JavaColorManager.getColor",
          "source": "JavaColorManager.java:53"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.JavaColorManager.getColor",
          "source": "JavaColorManager.java:85"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.AbstractJavaScanner.addToken",
          "source": "AbstractJavaScanner.java:90"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.AbstractJavaScanner.initialize",
          "source": "AbstractJavaScanner.java:75"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.JavaCodeScanner.\u003cinit\u003e",
          "source": "JavaCodeScanner.java:117"
        },
        {
          "method": "org.eclipse.jdt.ui.text.JavaTextTools.\u003cinit\u003e",
          "source": "JavaTextTools.java:73"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.JavaPlugin.getJavaTextTools",
          "source": "JavaPlugin.java:266"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider.createDocument",
          "source": "CompilationUnitDocumentProvider.java:532"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider$BufferFactory.internalGetDocument",
          "source": "CompilationUnitDocumentProvider.java:312"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider$BufferFactory.createBuffer",
          "source": "CompilationUnitDocumentProvider.java:326"
        },
        {
          "method": "org.eclipse.jdt.internal.core.WorkingCopy.openBuffer",
          "source": "WorkingCopy.java:318"
        },
        {
          "method": "org.eclipse.jdt.internal.core.Openable.getBuffer",
          "source": "Openable.java:181"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.getSource",
          "source": "CompilationUnit.java:530"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.resolve",
          "source": "CompilationUnitProblemFinder.java:153"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.buildStructure",
          "source": "CompilationUnit.java:80"
        },
        {
          "method": "org.eclipse.jdt.internal.core.Openable.openWhenClosed",
          "source": "Openable.java:382"
        },
        {
          "method": "org.eclipse.jdt.internal.core.Openable.open",
          "source": "Openable.java:332"
        },
        {
          "method": "org.eclipse.jdt.internal.core.WorkingCopy.open",
          "source": "WorkingCopy.java:309"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.getWorkingCopy",
          "source": "CompilationUnit.java:613"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.getSharedWorkingCopy",
          "source": "CompilationUnit.java:585"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider.createElementInfo",
          "source": "CompilationUnitDocumentProvider.java:421"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractDocumentProvider.connect",
          "source": "AbstractDocumentProvider.java:261"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.textmanipulation.TextBufferFactory.acquire",
          "source": "TextBufferFactory.java:76"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.textmanipulation.TextBuffer.acquire",
          "source": "TextBuffer.java:349"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.codemanipulation.ImportsStructure.aquireTextBuffer",
          "source": "ImportsStructure.java:401"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.codemanipulation.ImportsStructure.create",
          "source": "ImportsStructure.java:376"
        },
        {
          "method": "com.cross.generator.jdt.JdtJavaClassGenerator.createType",
          "source": "JdtJavaClassGenerator.java:245"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "17579",
      "date": "2002-05-24T12:11:10+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "17579",
  "bugId": "17579",
  "date": "2002-05-24T12:11:10+02:00",
  "product": "JDT",
  "component": "UI",
  "severity": "major"
}