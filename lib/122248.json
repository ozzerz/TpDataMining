{
  "comments": [
    "Hi !!\nI use ajdt_1.3_for_eclipse_3.1.zip with eclipse 3.1.1 and fick this error when the eclipse try to make the workbrench:\n\n\njava.lang.IllegalStateException\nat org.aspectj.weaver.TypeFactory.createParameterizedType(TypeFactory.java:42)\nat org.aspectj.weaver.bcel.BcelGenericSignatureToTypeXConverter.classTypeSignature2TypeX(BcelGenericSignatureToTypeXConverter.java:82)\nat org.aspectj.weaver.bcel.BcelGenericSignatureToTypeXConverter.classTypeSignature2TypeX(BcelGenericSignatureToTypeXConverter.java:42)\nat org.aspectj.weaver.bcel.BcelObjectType.unpackGenericSignature(BcelObjectType.java:657)\nat org.aspectj.weaver.bcel.BcelObjectType.getSuperclass(BcelObjectType.java:181)\nat org.aspectj.weaver.ReferenceType.getSuperclass(ReferenceType.java:514)\nat org.aspectj.weaver.bcel.BcelWeaver.weaveParentsFor(BcelWeaver.java:1192)\nat org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:1047)\nat org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave(AjCompilerAdapter.java:300)\nat org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling(AjCompilerAdapter.java:178)\nat org.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$afterReturning$org_aspectj_ajdt_internal_compiler_CompilerAdapter$2$f9cc9ca0(CompilerAdapter.aj:70)\nat org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:367)\nat org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:811)\nat org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:230)\nat org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:156)\nat org.aspectj.ajde.internal.CompilerAdapter.compile(CompilerAdapter.java:122)\nat org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run(AspectJBuildManager.java:191)\n\nIllegalStateException thrown: Expecting raw type",
    "Is there any way you can attach the source code that shows this problem?  I\u0027m guessing you are using the December 20th release of AJDT that included AspectJ 5 final?",
    "I saw this behaviour reproduced in another context. It happens when the world is set NOT to behave in a Java 5 way. The impact of this is that the world creates only simple types rather than raw or generic types.\n\nHowever, BcelObjectType.unpackGenericSignature was *always* unpacking the generic signature, whether the world was in Java 5 mode or not. If a class had a parameterized superclass, the type converter was getting the base class from the world (and getting a simple type, rather than the expected generic or raw type) and then trying to parameterize it - leading to the illegal state exception. \n\nThe solution to all this is to only unpack generic signatures when the world is set to behave in a java 5 way (which sounds emminently sensible). \n\nI\u0027m verifying that change in BcelObjectType, BcelMethod, and BcelField against the test suite...",
    "fix commited in tree, waiting on build...",
    "build available. will appear in AJDT in a few days."
  ],
  "commentCreationDates": [
    "2005-12-28T14:35:06+01:00",
    "2006-01-10T16:02:09+01:00",
    "2006-01-15T20:51:33+01:00",
    "2006-01-15T21:32:32+01:00",
    "2006-01-17T16:55:38+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalStateException",
      "elements": [
        {
          "method": "org.aspectj.weaver.TypeFactory.createParameterizedType",
          "source": "TypeFactory.java:42"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelGenericSignatureToTypeXConverter.classTypeSignature2TypeX",
          "source": "BcelGenericSignatureToTypeXConverter.java:82"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelGenericSignatureToTypeXConverter.classTypeSignature2TypeX",
          "source": "BcelGenericSignatureToTypeXConverter.java:42"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelObjectType.unpackGenericSignature",
          "source": "BcelObjectType.java:657"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelObjectType.getSuperclass",
          "source": "BcelObjectType.java:181"
        },
        {
          "method": "org.aspectj.weaver.ReferenceType.getSuperclass",
          "source": "ReferenceType.java:514"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveParentsFor",
          "source": "BcelWeaver.java:1192"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weave",
          "source": "BcelWeaver.java:1047"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave",
          "source": "AjCompilerAdapter.java:300"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling",
          "source": "AjCompilerAdapter.java:178"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$afterReturning$org_aspectj_ajdt_internal_compiler_CompilerAdapter$2$f9cc9ca0",
          "source": "CompilerAdapter.aj:70"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:367"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:811"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:230"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBuildManager.java:156"
        },
        {
          "method": "org.aspectj.ajde.internal.CompilerAdapter.compile",
          "source": "CompilerAdapter.java:122"
        },
        {
          "method": "org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run",
          "source": "AspectJBuildManager.java:191"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "122248",
      "date": "2005-12-28T14:35:06+01:00",
      "product": "AspectJ",
      "component": "IDE",
      "severity": "critical"
    }
  ],
  "groupId": "122248",
  "bugId": "122248",
  "date": "2005-12-28T14:35:06+01:00",
  "product": "AspectJ",
  "component": "IDE",
  "severity": "critical"
}