{
  "comments": [
    "Reproduce\n1) Import attached plug-ins into your workspace\n2) Attempt to create a generator model\n\n!ENTRY org.eclipse.core.jobs 4 2 2006-01-12 15:55:54.948\n!MESSAGE An internal error occurred during: \"Create generator model...\".\n!STACK 0\njava.lang.NullPointerException\n\tat org.eclipse.gmf.bridge.genmodel.BasicDiagramRunTimeModelHelper.loadGenModel(BasicDiagramRunTimeModelHelper.java:81)\n\tat org.eclipse.gmf.bridge.genmodel.BasicDiagramRunTimeModelHelper.get(BasicDiagramRunTimeModelHelper.java:49)\n\tat org.eclipse.gmf.bridge.genmodel.DiagramGenModelTransformer.findRunTimeClass(DiagramGenModelTransformer.java:406)\n\tat org.eclipse.gmf.bridge.genmodel.DiagramGenModelTransformer.process(DiagramGenModelTransformer.java:154)\n\tat org.eclipse.gmf.bridge.genmodel.MappingTransformer.transform(MappingTransformer.java:28)\n\tat org.eclipse.gmf.internal.codegen.popup.actions.TransformToGenModel$1.transform(TransformToGenModel.java:141)\n\tat org.eclipse.gmf.internal.codegen.popup.actions.TransformToGenModel$1.run(TransformToGenModel.java:121)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)",
    "Created an attachment (id\u003d32912)\nPlug-ins for reproducing the defect.\n\n",
    "With M3, HEAD, or nightly integration build?",
    "M3",
    "Could you please validate with M4?\nAccessing notation genmodel in M4 is simplified compared to M3 and should no longer cause any problems in any environment.",
    "I recently downloaded M4. I encountered what seems to be this bug while going through the tutorial (http://www.eclipse.org/gmf/tutorial/index.php), but encountered a different error while trying to reproduce it with the projects attached to this bug. The bug happens for me every time I try to run \"Create generator model...\", so GMF is pretty much 100% crippled by this.\n\nHere\u0027s the stack trace I encountered while going through the tutorial:\n\n!ENTRY org.eclipse.core.jobs 4 2 2006-02-09 10:55:06.531\n!MESSAGE An internal error occurred during: \"Create generator model...\".\n!STACK 0\njava.lang.NullPointerException\n\tat org.eclipse.gmf.bridge.genmodel.BasicGenModelAccess.constructDefaultFromModel(BasicGenModelAccess.java:67)\n\tat org.eclipse.gmf.bridge.genmodel.BasicGenModelAccess.initDefault(BasicGenModelAccess.java:47)\n\tat org.eclipse.gmf.bridge.genmodel.GenModelMatcher.\u003cinit\u003e(GenModelMatcher.java:43)\n\tat org.eclipse.gmf.bridge.genmodel.DiagramGenModelTransformer.process(DiagramGenModelTransformer.java:144)\n\tat org.eclipse.gmf.bridge.genmodel.MappingTransformer.transform(MappingTransformer.java:28)\n\tat org.eclipse.gmf.internal.codegen.popup.actions.TransformToGenModel$1.transform(TransformToGenModel.java:144)\n\tat org.eclipse.gmf.internal.codegen.popup.actions.TransformToGenModel$1.run(TransformToGenModel.java:124)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\n\nAnd, for the sake of completeness, here\u0027s what happened when I tried the same thing with the \u0027aaa\u0027 plug-ins attached to this bug:\n\n!ENTRY org.eclipse.ui 4 0 2006-02-09 11:18:20.296\n!MESSAGE org.eclipse.emf.ecore.xmi.ClassNotFoundException: Class \u0027CreationTool\u0027 not found. (platform:/resource/aaa.company/model/company.gmfmap, 7, 59)\n!STACK 0\norg.eclipse.emf.common.util.WrappedException: org.eclipse.emf.ecore.xmi.ClassNotFoundException: Class \u0027CreationTool\u0027 not found. (platform:/resource/aaa.company/model/company.gmfmap, 7, 59)\n\tat org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoadHelper(ResourceSetImpl.java:268)\n\tat org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.getResource(ResourceSetImpl.java:349)\n\tat org.eclipse.gmf.internal.codegen.popup.actions.TransformToGenModel.run(TransformToGenModel.java:79)\n\tat org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:251)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:530)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:480)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:392)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:914)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3285)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2905)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1762)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1726)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:397)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:109)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:379)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:282)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)\nCaused by: org.eclipse.emf.ecore.xmi.ClassNotFoundException: Class \u0027CreationTool\u0027 not found. (platform:/resource/aaa.company/model/company.gmfmap, 7, 59)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLHandler.validateCreateObjectFromFactory(XMLHandler.java:1886)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLHandler.validateCreateObjectFromFactory(XMLHandler.java:1998)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLHandler.createObjectFromTypeName(XMLHandler.java:1740)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLHandler.createObject(XMLHandler.java:1672)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLHandler.handleFeature(XMLHandler.java:1489)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLHandler.processElement(XMLHandler.java:793)\n\tat org.eclipse.emf.ecore.xmi.impl.XMIHandler.processElement(XMIHandler.java:80)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLHandler.startElement(XMLHandler.java:771)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLHandler.startElement(XMLHandler.java:558)\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(Unknown Source)\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(Unknown Source)\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(Unknown Source)\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source)\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source)\n\tat javax.xml.parsers.SAXParser.parse(Unknown Source)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLLoadImpl.load(XMLLoadImpl.java:162)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLResourceImpl.doLoad(XMLResourceImpl.java:172)\n\tat org.eclipse.emf.ecore.resource.impl.ResourceImpl.load(ResourceImpl.java:1015)\n\tat org.eclipse.emf.ecore.resource.impl.ResourceImpl.load(ResourceImpl.java:869)\n\tat org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoad(ResourceSetImpl.java:249)\n\tat org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoadHelper(ResourceSetImpl.java:264)\n\t... 28 more",
    "It seems that the problem I had (described in comment #5) was related to the lack of a NS URI in the ecore file. I added one and the generator model was created just fine. That implies two fixes:\n   * Don\u0027t dereference the result of EPackage.getNsURI() without first checking it for null: null is the default state of this value if the user hasn\u0027t specified one explicitly (at least if the user is using the default EMF ecore editor).\n   * Update the tutorial to mention that the URI needs to be set.\n\nNote that I haven\u0027t looked at the code referred to in the stack trace of the initial bug report to check whether it also attempts to dereference a NS URI. It\u0027s possible that Eliza and I encountered two different bugs with the same symptom.",
    "Generally, NPEs were due to failures to find genmodel. With changes https://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d116432, action to create generator model does its best to get correct genmodel into transformer (i.e. asks for one if none found using default mechanism or there are several domain packages referenced in the map)\n\nMarked as WONTFIX as nothing particular was fixed for this request, all changes were done as part of other improvements."
  ],
  "commentCreationDates": [
    "2006-01-12T15:59:17+01:00",
    "2006-01-12T16:01:46+01:00",
    "2006-01-12T16:09:52+01:00",
    "2006-01-12T17:59:35+01:00",
    "2006-01-16T14:19:44+01:00",
    "2006-02-09T19:28:31+01:00",
    "2006-02-09T21:46:01+01:00",
    "2006-02-14T20:09:42+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.gmf.bridge.genmodel.BasicDiagramRunTimeModelHelper.loadGenModel",
          "source": "BasicDiagramRunTimeModelHelper.java:81"
        },
        {
          "method": "org.eclipse.gmf.bridge.genmodel.BasicDiagramRunTimeModelHelper.get",
          "source": "BasicDiagramRunTimeModelHelper.java:49"
        },
        {
          "method": "org.eclipse.gmf.bridge.genmodel.DiagramGenModelTransformer.findRunTimeClass",
          "source": "DiagramGenModelTransformer.java:406"
        },
        {
          "method": "org.eclipse.gmf.bridge.genmodel.DiagramGenModelTransformer.process",
          "source": "DiagramGenModelTransformer.java:154"
        },
        {
          "method": "org.eclipse.gmf.bridge.genmodel.MappingTransformer.transform",
          "source": "MappingTransformer.java:28"
        },
        {
          "method": "org.eclipse.gmf.internal.codegen.popup.actions.TransformToGenModel$1.transform",
          "source": "TransformToGenModel.java:141"
        },
        {
          "method": "org.eclipse.gmf.internal.codegen.popup.actions.TransformToGenModel$1.run",
          "source": "TransformToGenModel.java:121"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "123608",
      "date": "2006-01-12T15:59:17+01:00",
      "product": "GMF",
      "component": "Generation",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.gmf.bridge.genmodel.BasicGenModelAccess.constructDefaultFromModel",
          "source": "BasicGenModelAccess.java:67"
        },
        {
          "method": "org.eclipse.gmf.bridge.genmodel.BasicGenModelAccess.initDefault",
          "source": "BasicGenModelAccess.java:47"
        },
        {
          "method": "org.eclipse.gmf.bridge.genmodel.GenModelMatcher.\u003cinit\u003e",
          "source": "GenModelMatcher.java:43"
        },
        {
          "method": "org.eclipse.gmf.bridge.genmodel.DiagramGenModelTransformer.process",
          "source": "DiagramGenModelTransformer.java:144"
        },
        {
          "method": "org.eclipse.gmf.bridge.genmodel.MappingTransformer.transform",
          "source": "MappingTransformer.java:28"
        },
        {
          "method": "org.eclipse.gmf.internal.codegen.popup.actions.TransformToGenModel$1.transform",
          "source": "TransformToGenModel.java:144"
        },
        {
          "method": "org.eclipse.gmf.internal.codegen.popup.actions.TransformToGenModel$1.run",
          "source": "TransformToGenModel.java:124"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 1,
      "commentIndex": 5,
      "bugId": "123608",
      "date": "2006-02-09T19:28:31+01:00",
      "product": "GMF",
      "component": "Generation",
      "severity": "normal"
    },
    {
      "exceptionType": "org.eclipse.emf.ecore.xmi.ClassNotFoundException",
      "message": "Class \u0027CreationTool\u0027 not found. (platform:/resource/aaa.company/model/company.gmfmap, 7, 59)",
      "elements": [
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoadHelper",
          "source": "ResourceSetImpl.java:268"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.getResource",
          "source": "ResourceSetImpl.java:349"
        },
        {
          "method": "org.eclipse.gmf.internal.codegen.popup.actions.TransformToGenModel.run",
          "source": "TransformToGenModel.java:79"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:251"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:530"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:480"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:392"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:914"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3285"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2905"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1762"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1726"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:397"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:109"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:379"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:338"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:282"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "causedBy": {
        "exceptionType": "org.eclipse.emf.ecore.xmi.ClassNotFoundException",
        "message": "Class \u0027CreationTool\u0027 not found. (platform:/resource/aaa.company/model/company.gmfmap, 7, 59)",
        "elements": [
          {
            "method": "org.eclipse.emf.ecore.xmi.impl.XMLHandler.validateCreateObjectFromFactory",
            "source": "XMLHandler.java:1886"
          },
          {
            "method": "org.eclipse.emf.ecore.xmi.impl.XMLHandler.validateCreateObjectFromFactory",
            "source": "XMLHandler.java:1998"
          },
          {
            "method": "org.eclipse.emf.ecore.xmi.impl.XMLHandler.createObjectFromTypeName",
            "source": "XMLHandler.java:1740"
          },
          {
            "method": "org.eclipse.emf.ecore.xmi.impl.XMLHandler.createObject",
            "source": "XMLHandler.java:1672"
          },
          {
            "method": "org.eclipse.emf.ecore.xmi.impl.XMLHandler.handleFeature",
            "source": "XMLHandler.java:1489"
          },
          {
            "method": "org.eclipse.emf.ecore.xmi.impl.XMLHandler.processElement",
            "source": "XMLHandler.java:793"
          },
          {
            "method": "org.eclipse.emf.ecore.xmi.impl.XMIHandler.processElement",
            "source": "XMIHandler.java:80"
          },
          {
            "method": "org.eclipse.emf.ecore.xmi.impl.XMLHandler.startElement",
            "source": "XMLHandler.java:771"
          },
          {
            "method": "org.eclipse.emf.ecore.xmi.impl.XMLHandler.startElement",
            "source": "XMLHandler.java:558"
          },
          {
            "method": "com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement",
            "source": "Unknown Source"
          },
          {
            "method": "com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement",
            "source": "Unknown Source"
          },
          {
            "method": "com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement",
            "source": "Unknown Source"
          },
          {
            "method": "com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch",
            "source": "Unknown Source"
          },
          {
            "method": "com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument",
            "source": "Unknown Source"
          },
          {
            "method": "com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse",
            "source": "Unknown Source"
          },
          {
            "method": "com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse",
            "source": "Unknown Source"
          },
          {
            "method": "com.sun.org.apache.xerces.internal.parsers.XMLParser.parse",
            "source": "Unknown Source"
          },
          {
            "method": "com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse",
            "source": "Unknown Source"
          },
          {
            "method": "javax.xml.parsers.SAXParser.parse",
            "source": "Unknown Source"
          },
          {
            "method": "org.eclipse.emf.ecore.xmi.impl.XMLLoadImpl.load",
            "source": "XMLLoadImpl.java:162"
          },
          {
            "method": "org.eclipse.emf.ecore.xmi.impl.XMLResourceImpl.doLoad",
            "source": "XMLResourceImpl.java:172"
          },
          {
            "method": "org.eclipse.emf.ecore.resource.impl.ResourceImpl.load",
            "source": "ResourceImpl.java:1015"
          },
          {
            "method": "org.eclipse.emf.ecore.resource.impl.ResourceImpl.load",
            "source": "ResourceImpl.java:869"
          },
          {
            "method": "org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoad",
            "source": "ResourceSetImpl.java:249"
          },
          {
            "method": "org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoadHelper",
            "source": "ResourceSetImpl.java:264"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 2,
      "commentIndex": 5,
      "bugId": "123608",
      "date": "2006-02-09T19:28:31+01:00",
      "product": "GMF",
      "component": "Generation",
      "severity": "normal"
    }
  ],
  "groupId": "123608",
  "bugId": "123608",
  "date": "2006-01-12T15:59:17+01:00",
  "product": "GMF",
  "component": "Generation",
  "severity": "normal"
}