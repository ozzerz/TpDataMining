{
  "comments": [
    "I20041214-0800\n\nThe following CU causes a NPE in ASTConverter#convert\nimport java.util.*;\npublic class X {\n  public enum Rank { DEUCE, THREE, FOUR, FIVE, SIX,\n    SEVEN, EIGHT, NINE, TEN, JACK, QUEEN, KING, ACE }\n\n  //public enum Suit { CLUBS, DIAMONDS, HEARTS, SPADES }\n  public enum Suit{\n\n  private X(int rank, int suit) {  \n  }\n  \n  private static final List\u003cX\u003e protoDeck \u003d new ArrayList\u003cX\u003e();\n  \n  public static ArrayList\u003cX\u003e newDeck() {\n      return new ArrayList\u003cX\u003e(protoDeck); // Return copy of prototype deck\n  }\n}\n\nThe stack trace is:\njava.lang.NullPointerException\n        at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1314)\n        at\norg.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:238)\n        at\norg.eclipse.jdt.core.dom.ASTConverter.convertToEnumDeclaration(ASTConverter.java:2607)\n        at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:2356)\n        at\norg.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:180)\n        at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:2419)\n        at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1159)\n        at\norg.eclipse.jdt.core.dom.CompilationUnitResolver.convert(CompilationUnitResolver.java:220)\n        at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:729)\n        at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:574)\n        at\norg.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:563)\n        at\norg.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:494)\n        at\norg.eclipse.jdt.internal.ui.text.java.hover.NLSStringHover.getHoverInfo(NLSStringHover.java:84)\n        at\norg.eclipse.jdt.internal.ui.text.java.hover.BestMatchHover.getHoverInfo(BestMatchHover.java:102)\n        at\norg.eclipse.jdt.internal.ui.text.java.hover.JavaEditorTextHoverProxy.getHoverInfo(JavaEditorTextHoverProxy.java:69)\n        at\norg.eclipse.jface.text.TextViewerHoverManager$4.run(TextViewerHoverManager.java:160)",
    "Fix is trivial.\nMissing a null check.",
    "Adding null check.\nFixed and released in HEAD.\nAdded test092 in ASTConverter15Test.\nI will open a new PR for improving the error recovery in this case.",
    "See bug 80970.",
    "Verified in 200412141600"
  ],
  "commentCreationDates": [
    "2004-12-14T18:03:19+01:00",
    "2004-12-14T18:27:50+01:00",
    "2004-12-14T18:45:06+01:00",
    "2004-12-14T18:50:06+01:00",
    "2004-12-15T04:33:18+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.core.dom.ASTConverter.convert",
          "source": "ASTConverter.java:1314"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations",
          "source": "ASTConverter.java:238"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTConverter.convertToEnumDeclaration",
          "source": "ASTConverter.java:2607"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTConverter.convert",
          "source": "ASTConverter.java:2356"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations",
          "source": "ASTConverter.java:180"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTConverter.convert",
          "source": "ASTConverter.java:2419"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTConverter.convert",
          "source": "ASTConverter.java:1159"
        },
        {
          "method": "org.eclipse.jdt.core.dom.CompilationUnitResolver.convert",
          "source": "CompilationUnitResolver.java:220"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTParser.internalCreateAST",
          "source": "ASTParser.java:729"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTParser.createAST",
          "source": "ASTParser.java:574"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST",
          "source": "ASTProvider.java:563"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST",
          "source": "ASTProvider.java:494"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.hover.NLSStringHover.getHoverInfo",
          "source": "NLSStringHover.java:84"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.hover.BestMatchHover.getHoverInfo",
          "source": "BestMatchHover.java:102"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.hover.JavaEditorTextHoverProxy.getHoverInfo",
          "source": "JavaEditorTextHoverProxy.java:69"
        },
        {
          "method": "org.eclipse.jface.text.TextViewerHoverManager$4.run",
          "source": "TextViewerHoverManager.java:160"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "80960",
      "date": "2004-12-14T18:03:19+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "80960",
  "bugId": "80960",
  "date": "2004-12-14T18:03:19+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}