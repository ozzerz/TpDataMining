{
  "comments": [
    "I get that error dialog, with the Details panel as below. This is after updating to the latest AJDT via the update site, for an existing project that was working fine.\n\nEclipse Version: 3.2.0 Build id: M20060628-1325\n\nAJDT plugin:\norg.aspectj 1.5.3.20060802071129\norg.eclipse.aspectj 1.4.1.20060802071129\n\n\njava.lang.ClassCastException\nat org.aspectj.weaver.patterns.SignaturePattern.matchesAnnotations(SignaturePattern.java:477)\nat org.aspectj.weaver.patterns.SignaturePattern.matchesExactly(SignaturePattern.java:332)\nat org.aspectj.weaver.patterns.SignaturePattern.matches(SignaturePattern.java:289)\nat org.aspectj.weaver.patterns.KindedPointcut.matchInternal(KindedPointcut.java:106)\nat org.aspectj.weaver.patterns.Pointcut.match(Pointcut.java:146)\nat org.aspectj.weaver.patterns.AndPointcut.matchInternal(AndPointcut.java:51)\nat org.aspectj.weaver.patterns.Pointcut.match(Pointcut.java:146)\nat org.aspectj.weaver.patterns.AndPointcut.matchInternal(AndPointcut.java:51)\nat org.aspectj.weaver.patterns.Pointcut.match(Pointcut.java:146)\nat org.aspectj.weaver.ShadowMunger.match(ShadowMunger.java:71)\nat org.aspectj.weaver.Advice.match(Advice.java:112)\nat org.aspectj.weaver.bcel.BcelAdvice.match(BcelAdvice.java:107)\nat org.aspectj.weaver.bcel.BcelClassWeaver.match(BcelClassWeaver.java:2805)\nat org.aspectj.weaver.bcel.BcelClassWeaver.matchInvokeInstruction(BcelClassWeaver.java:2746)\nat org.aspectj.weaver.bcel.BcelClassWeaver.match(BcelClassWeaver.java:2505)\nat org.aspectj.weaver.bcel.BcelClassWeaver.match(BcelClassWeaver.java:2331)\nat org.aspectj.weaver.bcel.BcelClassWeaver.weave(BcelClassWeaver.java:494)\nat org.aspectj.weaver.bcel.BcelClassWeaver.weave(BcelClassWeaver.java:119)\nat org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:1597)\nat org.aspectj.weaver.bcel.BcelWeaver.weaveWithoutDump(BcelWeaver.java:1548)\nat org.aspectj.weaver.bcel.BcelWeaver.weaveAndNotify(BcelWeaver.java:1328)\nat org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:1124)\nat org.aspectj.ajdt.internal.compiler.AjPipeliningCompilerAdapter.weaveQueuedEntries(AjPipeliningCompilerAdapter.java:451)\nat org.aspectj.ajdt.internal.compiler.AjPipeliningCompilerAdapter.queueForWeaving(AjPipeliningCompilerAdapter.java:389)\nat org.aspectj.ajdt.internal.compiler.AjPipeliningCompilerAdapter.afterProcessing(AjPipeliningCompilerAdapter.java:377)\nat org.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$after$org_aspectj_ajdt_internal_compiler_CompilerAdapter$5$6b855184(CompilerAdapter.aj:98)\nat org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:533)\nat org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:329)\nat org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:891)\nat org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:246)\nat org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:165)\nat org.aspectj.ajde.internal.CompilerAdapter.compile(CompilerAdapter.java:122)\nat org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run(AspectJBuildManager.java:191)\n\ntrouble in: \npublic class org.jrig.keyvalue.KvbMixin extends java.lang.Object:\n  TypeMungers: [(BcelTypeMunger ResolvedTypeMunger(Field, java.util.Map org.jrig.keyvalue.KvbMixinImpl.bindings)), (BcelTypeMunger ResolvedTypeMunger(Method, void org.jrig.keyvalue.KvbMixinImpl.bind(java.lang.String, java.lang.Object, java.lang.String, java.util.Map))), (BcelTypeMunger ResolvedTypeMunger(Method, void org.jrig.keyvalue.KvbMixinImpl.unbind(java.lang.String))), (BcelTypeMunger ResolvedTypeMunger(Method, org.jrig.keyvalue.IKeyValueBinding$BindingInfo org.jrig.keyvalue.KvbMixinImpl.infoForBinding(java.lang.String))), (BcelTypeMunger ResolvedTypeMunger(Method, java.util.List org.jrig.keyvalue.KvbMixinImpl.exposedBindings())), (BcelTypeMunger ResolvedTypeMunger(Method, java.lang.Class org.jrig.keyvalue.KvbMixinImpl.valueClassForBinding(java.lang.String)))]\n     declares: [declare parents: @org.jrig.keyvalue.annotation.KeyValue * extends (org.jrig.keyvalue.IKeyValueBinding, org.jrig.keyvalue.KvbMixinImpl);]\n  private static Throwable ajc$initFailureCause\n  public static final org.jrig.keyvalue.KvbMixin ajc$perSingletonInstance\n  static void \u003cclinit\u003e():\n    staticinitialization(void org.jrig.keyvalue.KvbMixin.\u003cclinit\u003e())\n    | catch java.lang.Throwable -\u003e E0\n    | |             INVOKESTATIC org.jrig.keyvalue.KvbMixin.ajc$postClinit ()V   (line 31)\n    | catch java.lang.Throwable -\u003e E0\n    |               GOTO L0\n    |           E0: ASTORE_0\n    |               ALOAD_0\n    |               PUTSTATIC org.jrig.keyvalue.KvbMixin.ajc$initFailureCause Ljava/lang/Throwable;\n    |           L0: RETURN\n    staticinitialization(void org.jrig.keyvalue.KvbMixin.\u003cclinit\u003e())\n  end static void \u003cclinit\u003e()\n\n  public void \u003cinit\u003e():\n                    ALOAD_0     // Lorg/jrig/keyvalue/KvbMixin; this   (line 31)\n                    INVOKESPECIAL java.lang.Object.\u003cinit\u003e ()V\n    constructor-execution(void org.jrig.keyvalue.KvbMixin.\u003cinit\u003e())\n    |               RETURN\n    constructor-execution(void org.jrig.keyvalue.KvbMixin.\u003cinit\u003e())\n  end public void \u003cinit\u003e()\n\n  void ajc$declare_parents_1()    org.aspectj.weaver.MethodDeclarationLineNumber: 33:1043\n:\n                    RETURN   (line 33)\n  end void ajc$declare_parents_1()\n\n  public static void ajc$interFieldInit$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$bindings(org.jrig.keyvalue.KvbMixinImpl)    org.aspectj.weaver.MethodDeclarationLineNumber: 35:1149\n:\n    method-execution(void org.jrig.keyvalue.KvbMixin.ajc$interFieldInit$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$bindings(org.jrig.keyvalue.KvbMixinImpl))\n    |               ALOAD_0     // Lorg/jrig/keyvalue/KvbMixinImpl; ajc$this_   (line 35)\n    |               NEW java.util.HashMap\n    |               DUP\n    |               INVOKESPECIAL java.util.HashMap.\u003cinit\u003e ()V\n    | field-set(java.util.Map org.jrig.keyvalue.KvbMixinImpl.bindings)\n    | |             INVOKEINTERFACE org.jrig.keyvalue.KvbMixinImpl.ajc$interFieldSet$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$bindings (Ljava/util/Map;)V\n    | field-set(java.util.Map org.jrig.keyvalue.KvbMixinImpl.bindings)\n    |               RETURN\n    method-execution(void org.jrig.keyvalue.KvbMixin.ajc$interFieldInit$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$bindings(org.jrig.keyvalue.KvbMixinImpl))\n  end public static void ajc$interFieldInit$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$bindings(org.jrig.keyvalue.KvbMixinImpl)\n\n  public static java.util.Map ajc$interFieldGetDispatch$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$bindings(org.jrig.keyvalue.KvbMixinImpl)    EffectiveSignatureAttribute(java.util.Map org.jrig.keyvalue.KvbMixinImpl.bindings, field-get)\n:\n                    ALOAD_0\n                    INVOKEINTERFACE org.jrig.keyvalue.KvbMixinImpl.ajc$interFieldGet$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$bindings ()Ljava/util/Map;\n                    ARETURN\n  end public static java.util.Map ajc$interFieldGetDispatch$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$bindings(org.jrig.keyvalue.KvbMixinImpl)\n\n  public static void ajc$interFieldSetDispatch$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$bindings(org.jrig.keyvalue.KvbMixinImpl, java.util.Map)    EffectiveSignatureAttribute(java.util.Map org.jrig.keyvalue.KvbMixinImpl.bindings, field-set)\n:\n                    ALOAD_0\n                    ALOAD_1\n                    INVOKEINTERFACE org.jrig.keyvalue.KvbMixinImpl.ajc$interFieldSet$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$bindings (Ljava/util/Map;)V\n                    RETURN\n  end public static void ajc$interFieldSetDispatch$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$bindings(org.jrig.keyvalue.KvbMixinImpl, java.util.Map)\n\n  public static void ajc$interMethod$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$bind(org.jrig.keyvalue.KvbMixinImpl, String, Object, String, java.util.Map)    EffectiveSignatureAttribute(void org.jrig.keyvalue.KvbMixinImpl.bind(java.lang.String, java.lang.Object, java.lang.String, java.util.Map), method-execution)\n:\n                    ALOAD_0     // Lorg/jrig/keyvalue/KvbMixinImpl; ajc$this_   (line 45)\n                    INVOKESTATIC org.jrig.keyvalue.KvbMixin.ajc$interFieldGetDispatch$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$bindings (Lorg/jrig/keyvalue/KvbMixinImpl;)Ljava/util/Map;\n                    ALOAD_0     // Lorg/jrig/keyvalue/KvbMixinImpl; ajc$this_\n                    ALOAD_1     // Ljava/lang/String; binding\n                    ALOAD_2     // Ljava/lang/Object; observable\n                    ALOAD_3     // Ljava/lang/String; key\n                    ALOAD 4     // Ljava/util/Map; options\n                    INVOKESTATIC org.jrig.keyvalue.KeyValueBinding.bind (Ljava/util/Map;Ljava/lang/Object;Ljava/lang/String;Ljava/lang/Object;Ljava/lang/String;Ljava/util/Map;)V\n                    RETURN   (line 46)\n  end public static void ajc$interMethod$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$bind(org.jrig.keyvalue.KvbMixinImpl, String, Object, String, java.util.Map)\n\n  public static void ajc$interMethodDispatch1$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$bind(org.jrig.keyvalue.KvbMixinImpl, String, Object, String, java.util.Map)    EffectiveSignatureAttribute(void org.jrig.keyvalue.KvbMixinImpl.bind(java.lang.String, java.lang.Object, java.lang.String, java.util.Map), method-call)\n:\n                    ALOAD_0\n                    ALOAD_1\n                    ALOAD_2\n                    ALOAD_3\n                    ALOAD 4\n                    INVOKEINTERFACE org.jrig.keyvalue.KvbMixinImpl.bind (Ljava/lang/String;Ljava/lang/Object;Ljava/lang/String;Ljava/util/Map;)V\n                    RETURN\n  end public static void ajc$interMethodDispatch1$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$bind(org.jrig.keyvalue.KvbMixinImpl, String, Object, String, java.util.Map)\n\n  public static void ajc$interMethod$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$unbind(org.jrig.keyvalue.KvbMixinImpl, String)    EffectiveSignatureAttribute(void org.jrig.keyvalue.KvbMixinImpl.unbind(java.lang.String), method-execution)\n:\n                    ALOAD_0     // Lorg/jrig/keyvalue/KvbMixinImpl; ajc$this_   (line 49)\n                    INVOKESTATIC org.jrig.keyvalue.KvbMixin.ajc$interFieldGetDispatch$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$bindings (Lorg/jrig/keyvalue/KvbMixinImpl;)Ljava/util/Map;\n                    ALOAD_1     // Ljava/lang/String; binding\n                    INVOKESTATIC org.jrig.keyvalue.KeyValueBinding.unbind (Ljava/util/Map;Ljava/lang/String;)V\n                    RETURN   (line 50)\n  end public static void ajc$interMethod$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$unbind(org.jrig.keyvalue.KvbMixinImpl, String)\n\n  public static void ajc$interMethodDispatch1$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$unbind(org.jrig.keyvalue.KvbMixinImpl, String)    EffectiveSignatureAttribute(void org.jrig.keyvalue.KvbMixinImpl.unbind(java.lang.String), method-call)\n:\n                    ALOAD_0\n                    ALOAD_1\n                    INVOKEINTERFACE org.jrig.keyvalue.KvbMixinImpl.unbind (Ljava/lang/String;)V\n                    RETURN\n  end public static void ajc$interMethodDispatch1$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$unbind(org.jrig.keyvalue.KvbMixinImpl, String)\n\n  public static org.jrig.keyvalue.IKeyValueBinding$BindingInfo ajc$interMethod$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$infoForBinding(org.jrig.keyvalue.KvbMixinImpl, String)    EffectiveSignatureAttribute(org.jrig.keyvalue.IKeyValueBinding$BindingInfo org.jrig.keyvalue.KvbMixinImpl.infoForBinding(java.lang.String), method-execution)\n:\n                    ALOAD_0     // Lorg/jrig/keyvalue/KvbMixinImpl; ajc$this_   (line 55)\n                    INVOKESTATIC org.jrig.keyvalue.KvbMixin.ajc$interFieldGetDispatch$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$bindings (Lorg/jrig/keyvalue/KvbMixinImpl;)Ljava/util/Map;\n                    ALOAD_1     // Ljava/lang/String; binding\n                    INVOKESTATIC org.jrig.keyvalue.KeyValueBinding.infoForBinding (Ljava/util/Map;Ljava/lang/String;)Lorg/jrig/keyvalue/IKeyValueBinding$BindingInfo;\n                    ARETURN\n  end public static org.jrig.keyvalue.IKeyValueBinding$BindingInfo ajc$interMethod$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$infoForBinding(org.jrig.keyvalue.KvbMixinImpl, String)\n\n  public static org.jrig.keyvalue.IKeyValueBinding$BindingInfo ajc$interMethodDispatch1$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$infoForBinding(org.jrig.keyvalue.KvbMixinImpl, String)    EffectiveSignatureAttribute(org.jrig.keyvalue.IKeyValueBinding$BindingInfo org.jrig.keyvalue.KvbMixinImpl.infoForBinding(java.lang.String), method-call)\n:\n                    ALOAD_0\n                    ALOAD_1\n                    INVOKEINTERFACE org.jrig.keyvalue.KvbMixinImpl.infoForBinding (Ljava/lang/String;)Lorg/jrig/keyvalue/IKeyValueBinding$BindingInfo;\n                    ARETURN\n  end public static org.jrig.keyvalue.IKeyValueBinding$BindingInfo ajc$interMethodDispatch1$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$infoForBinding(org.jrig.keyvalue.KvbMixinImpl, String)\n\n  public static java.util.List ajc$interMethod$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$exposedBindings(org.jrig.keyvalue.KvbMixinImpl)    EffectiveSignatureAttribute(java.util.List org.jrig.keyvalue.KvbMixinImpl.exposedBindings(), method-execution)\n:\n                    ALOAD_0     // Lorg/jrig/keyvalue/KvbMixinImpl; ajc$this_   (line 61)\n                    INVOKESTATIC org.jrig.keyvalue.KeyValueBinding.exposedBindings (Ljava/lang/Object;)Ljava/util/List;\n                    ARETURN\n  end public static java.util.List ajc$interMethod$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$exposedBindings(org.jrig.keyvalue.KvbMixinImpl)\n\n  public static java.util.List ajc$interMethodDispatch1$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$exposedBindings(org.jrig.keyvalue.KvbMixinImpl)    EffectiveSignatureAttribute(java.util.List org.jrig.keyvalue.KvbMixinImpl.exposedBindings(), method-call)\n:\n                    ALOAD_0\n                    INVOKEINTERFACE org.jrig.keyvalue.KvbMixinImpl.exposedBindings ()Ljava/util/List;\n                    ARETURN\n  end public static java.util.List ajc$interMethodDispatch1$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$exposedBindings(org.jrig.keyvalue.KvbMixinImpl)\n\n  public static Class ajc$interMethod$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$valueClassForBinding(org.jrig.keyvalue.KvbMixinImpl, String)    EffectiveSignatureAttribute(java.lang.Class org.jrig.keyvalue.KvbMixinImpl.valueClassForBinding(java.lang.String), method-execution)\n:\n                    ALOAD_0     // Lorg/jrig/keyvalue/KvbMixinImpl; ajc$this_   (line 65)\n                    ALOAD_1     // Ljava/lang/String; binding\n                    INVOKESTATIC org.jrig.keyvalue.KeyValueBinding.valueClassForBinding (Ljava/lang/Object;Ljava/lang/String;)Ljava/lang/Class;\n                    ARETURN\n  end public static Class ajc$interMethod$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$valueClassForBinding(org.jrig.keyvalue.KvbMixinImpl, String)\n\n  public static Class ajc$interMethodDispatch1$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$valueClassForBinding(org.jrig.keyvalue.KvbMixinImpl, String)    EffectiveSignatureAttribute(java.lang.Class org.jrig.keyvalue.KvbMixinImpl.valueClassForBinding(java.lang.String), method-call)\n:\n                    ALOAD_0\n                    ALOAD_1\n                    INVOKEINTERFACE org.jrig.keyvalue.KvbMixinImpl.valueClassForBinding (Ljava/lang/String;)Ljava/lang/Class;\n                    ARETURN\n  end public static Class ajc$interMethodDispatch1$org_jrig_keyvalue_KvbMixin$org_jrig_keyvalue_KvbMixinImpl$valueClassForBinding(org.jrig.keyvalue.KvbMixinImpl, String)\n\n  public static org.jrig.keyvalue.KvbMixin aspectOf()    org.aspectj.weaver.AjAttribute$AjSynthetic@33d8ad\n:\n                    GETSTATIC org.jrig.keyvalue.KvbMixin.ajc$perSingletonInstance Lorg/jrig/keyvalue/KvbMixin;   (line 1)\n                    IFNONNULL L0\n                    NEW org.aspectj.lang.NoAspectBoundException\n                    DUP\n                    LDC \"org_jrig_keyvalue_KvbMixin\"\n                    GETSTATIC org.jrig.keyvalue.KvbMixin.ajc$initFailureCause Ljava/lang/Throwable;\n                    INVOKESPECIAL org.aspectj.lang.NoAspectBoundException.\u003cinit\u003e (Ljava/lang/String;Ljava/lang/Throwable;)V\n                    ATHROW\n                L0: GETSTATIC org.jrig.keyvalue.KvbMixin.ajc$perSingletonInstance Lorg/jrig/keyvalue/KvbMixin;\n                    ARETURN\n  end public static org.jrig.keyvalue.KvbMixin aspectOf()\n\n  public static boolean hasAspect()    org.aspectj.weaver.AjAttribute$AjSynthetic@16dc7e\n:\n                    GETSTATIC org.jrig.keyvalue.KvbMixin.ajc$perSingletonInstance Lorg/jrig/keyvalue/KvbMixin;   (line 1)\n                    IFNULL L0\n                    ICONST_1\n                    IRETURN\n                L0: ICONST_0\n                    IRETURN\n  end public static boolean hasAspect()\n\n  private static void ajc$postClinit()    org.aspectj.weaver.AjAttribute$AjSynthetic@1abd9d\n:\n                    NEW org.jrig.keyvalue.KvbMixin   (line 1)\n                    DUP\n                    INVOKESPECIAL org.jrig.keyvalue.KvbMixin.\u003cinit\u003e ()V\n                    PUTSTATIC org.jrig.keyvalue.KvbMixin.ajc$perSingletonInstance Lorg/jrig/keyvalue/KvbMixin;\n                    RETURN\n  end private static void ajc$postClinit()\nend public class org.jrig.keyvalue.KvbMixin\n\nwhen weaving aspects \nwhen weaving \nwhen batch building BuildConfig[/Users/paul/Documents/workspace/.metadata/.plugins/org.eclipse.ajdt.core/JRigLocal.generated.lst] #Files\u003d114",
    "\nNote: If I revert to 1.4.1.20060728033634 then I dont get this error.\n\nI do this via Help -\u003e Software Updates -\u003e Manage Configuration -\u003e Replace With Another Version.\n\n",
    "Passing over to compiler",
    "suspect this is a pipeline bug - you can try deactivating the pipeline to see if it helps, set the option:\n\n-Xset:pipelineCompilation\u003dfalse\n\nin your project properties.  Pipelining compilation uses far less memory but is a brand new feature and thus has a few bugs to iron out.",
    "i found a different crash whilst investigating - fixing that first.\n",
    "I can confirm that when I set this:\n\n-Xset:pipelineCompilation\u003dfalse\n\nin the AspectJ Compiler Non-standard compiler options the problem does NOT appear.\n",
    "The problem appears to be due to the use of ITDs.  The cast that blows up is casting something it believes is a BcelTypeMunger.  Really the only other possibility for the object is an EclipseTypeMunger - but at this stage of weaving all the Eclipse ones ought to have been transformed into Bcel ones.  I don\u0027t want the fix to be a guard for checking it is an instanceof EclipseTypeMunger and skipping it in that case as we\u0027ll get peculiar results in some situations - we really need to get to the bottom of why this type munger hasn\u0027t been transformed.\n\nMy current thought is that we have exited stage one of the pipeline too early - at exit of stage one, all aspects must have been compiled and it is possible the code that identifies the aspects and sorts the list of files to process is misbehaving.\n\nCan you tell me - how are your aspects defined?  Are they code style/annotation style?  Are all aspects declared as top level types or do you have some member type aspects? How many aspects do you have?",
    "Downgraded seriousness - no reply for a month - can\u0027t progress this bug without a bit more info.  I presume you are continuing with the workaround flag?  please add a comment if you find a few moments to help me work on it.",
    "\u003e Can you tell me - how are your aspects defined?  Are they code style/annotation\n\u003e style?  Are all aspects declared as top level types or do you have some member\n\u003e type aspects? How many aspects do you have?\n\nI have 3 aspects in total, all small. The first simply makes any class that matches a class level annotation implement a particular interface:\n\n    declare parents: (@KeyValue *) implements IKeyValueCoding, KvcMixinImpl;\n    public Object KvcMixinImpl.getValueForKey( String key )\n    {\n        ....\n    }\n\netc. The next does the same, but also intercepts some variable setting:\n\n    after( IKeyValueObserving target ): \n        set( !@KvoManual java.util.List ( @KeyValue * ).* )\n        \u0026\u0026 target( target )\n\n    pointcut setter() : set( !@KvoManual * (@KeyValue *).* )\n        \u0026\u0026 @within(KeyValue)\n        \u0026\u0026 !withincode( new(..) );\n\n    void around( Object input, IKeyValueObserving target ): setter()\n        \u0026\u0026 args(input) \n        \u0026\u0026 target(target) \n\nThe last one does the same as the first, but for a different interface. I can post the entire aspect code here if thats appropriate? (It\u0027s open source at SourceForge).\n\nI have been using the workaround, and don\u0027t encounter the problem anymore. I haven\u0027t tried taking it off recently.",
    "If you could zip up the source and send it to me google ID, I can take a look at it...",
    "I get pretty much the same bug, I\u0027ll try to provide the relevant information. Hopefully it\u0027ll be enough to reproduce it.\n\nI also confirm that -Xset:pipelineCompilation\u003dfalse fixes the issue.\n\n\nRunning on Windows XP Professional.\n\nSun JDK\njava version \"1.5.0_10\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_10-b03)\nJava HotSpot(TM) Client VM (build 1.5.0_10-b03, mixed mode, sharing)\n\nEclipse SDK\nVersion: 3.2.1\nBuild id: M20060921-0945\n\nEclipse AspectJ Development Tools\nVersion: 1.4.1.200611230655\nAspectJ version: 1.5.3.200611221118\n\n\nAttempting to compile the project \"Java Beans Aspect\" (will create it as an attachment). \n\nTo keep attachment size down the project is missing three jgoodies libraries in lib/jgoodies folder (binding-1.1.jar forms-1.0.6.jar looks-1.3.2.jar); the particular instances of libraries were downloaded as a part of a .jar from: https://handyaspects.dev.java.net/servlets/ProjectDocumentList?folderID\u003d4848\u0026expandFolder\u003d4848\u0026folderID\u003d0\n\nThe exact trace as shown in Eclipse:\njava.lang.ClassCastException\nat org.aspectj.weaver.patterns.SignaturePattern.matchesAnnotations(SignaturePattern.java:477)\nat org.aspectj.weaver.patterns.SignaturePattern.matchesExactly(SignaturePattern.java:332)\nat org.aspectj.weaver.patterns.SignaturePattern.matches(SignaturePattern.java:289)\nat org.aspectj.weaver.patterns.KindedPointcut.matchInternal(KindedPointcut.java:106)\nat org.aspectj.weaver.patterns.Pointcut.match(Pointcut.java ...  \nwhen batch building BuildConfig[C:\\Lang\\eclipse-3.2.1\\workspace\\.metadata\\.plugins\\org.eclipse.ajdt.core\\Java Beans Aspect.generated.lst] #Files\u003d16\n",
    "Created an attachment (id\u003d55978)\nSmall AJ project that crashes pipiline compiler. Missing jgoodies libraries to keep size down.\n\n"
  ],
  "commentCreationDates": [
    "2006-08-10T05:39:56+02:00",
    "2006-08-10T05:45:36+02:00",
    "2006-08-10T08:34:58+02:00",
    "2006-08-10T09:27:49+02:00",
    "2006-08-10T12:57:12+02:00",
    "2006-08-10T22:29:48+02:00",
    "2006-08-23T10:02:08+02:00",
    "2006-09-25T17:04:13+02:00",
    "2006-09-25T22:43:49+02:00",
    "2006-09-26T08:59:54+02:00",
    "2006-12-20T17:03:11+01:00",
    "2006-12-20T17:05:21+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "elements": [
        {
          "method": "org.aspectj.weaver.patterns.SignaturePattern.matchesAnnotations",
          "source": "SignaturePattern.java:477"
        },
        {
          "method": "org.aspectj.weaver.patterns.SignaturePattern.matchesExactly",
          "source": "SignaturePattern.java:332"
        },
        {
          "method": "org.aspectj.weaver.patterns.SignaturePattern.matches",
          "source": "SignaturePattern.java:289"
        },
        {
          "method": "org.aspectj.weaver.patterns.KindedPointcut.matchInternal",
          "source": "KindedPointcut.java:106"
        },
        {
          "method": "org.aspectj.weaver.patterns.Pointcut.match",
          "source": "Pointcut.java:146"
        },
        {
          "method": "org.aspectj.weaver.patterns.AndPointcut.matchInternal",
          "source": "AndPointcut.java:51"
        },
        {
          "method": "org.aspectj.weaver.patterns.Pointcut.match",
          "source": "Pointcut.java:146"
        },
        {
          "method": "org.aspectj.weaver.patterns.AndPointcut.matchInternal",
          "source": "AndPointcut.java:51"
        },
        {
          "method": "org.aspectj.weaver.patterns.Pointcut.match",
          "source": "Pointcut.java:146"
        },
        {
          "method": "org.aspectj.weaver.ShadowMunger.match",
          "source": "ShadowMunger.java:71"
        },
        {
          "method": "org.aspectj.weaver.Advice.match",
          "source": "Advice.java:112"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelAdvice.match",
          "source": "BcelAdvice.java:107"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.match",
          "source": "BcelClassWeaver.java:2805"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.matchInvokeInstruction",
          "source": "BcelClassWeaver.java:2746"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.match",
          "source": "BcelClassWeaver.java:2505"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.match",
          "source": "BcelClassWeaver.java:2331"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.weave",
          "source": "BcelClassWeaver.java:494"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.weave",
          "source": "BcelClassWeaver.java:119"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weave",
          "source": "BcelWeaver.java:1597"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveWithoutDump",
          "source": "BcelWeaver.java:1548"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveAndNotify",
          "source": "BcelWeaver.java:1328"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weave",
          "source": "BcelWeaver.java:1124"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjPipeliningCompilerAdapter.weaveQueuedEntries",
          "source": "AjPipeliningCompilerAdapter.java:451"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjPipeliningCompilerAdapter.queueForWeaving",
          "source": "AjPipeliningCompilerAdapter.java:389"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjPipeliningCompilerAdapter.afterProcessing",
          "source": "AjPipeliningCompilerAdapter.java:377"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$after$org_aspectj_ajdt_internal_compiler_CompilerAdapter$5$6b855184",
          "source": "CompilerAdapter.aj:98"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.process",
          "source": "Compiler.java:533"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:329"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:891"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:246"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBuildManager.java:165"
        },
        {
          "method": "org.aspectj.ajde.internal.CompilerAdapter.compile",
          "source": "CompilerAdapter.java:122"
        },
        {
          "method": "org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run",
          "source": "AspectJBuildManager.java:191"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "153380",
      "date": "2006-08-10T05:39:56+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.ClassCastException",
      "elements": [
        {
          "method": "org.aspectj.weaver.patterns.SignaturePattern.matchesAnnotations",
          "source": "SignaturePattern.java:477"
        },
        {
          "method": "org.aspectj.weaver.patterns.SignaturePattern.matchesExactly",
          "source": "SignaturePattern.java:332"
        },
        {
          "method": "org.aspectj.weaver.patterns.SignaturePattern.matches",
          "source": "SignaturePattern.java:289"
        },
        {
          "method": "org.aspectj.weaver.patterns.KindedPointcut.matchInternal",
          "source": "KindedPointcut.java:106"
        }
      ],
      "number": 1,
      "commentIndex": 10,
      "bugId": "153380",
      "date": "2006-12-20T17:03:11+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "153380",
  "bugId": "153380",
  "date": "2006-08-10T05:39:56+02:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}