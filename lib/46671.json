{
  "comments": [
    "I have an aspect specification in a file called SimpleTracing.java whose \ncontents I give below. The command\najc SimpleTracing.java throws an exception that I give at the end of this \nmessage. Note that the pointcut references a class called SampleClass. If I \ncompile SampleClass.java before I compile SimpleTracing.java then there is no \nNullPointerException.\n\n\n\n/*\n * Created on Nov 13, 2003\n *\n * To change the template for this generated file go to\n * Window\u003ePreferences\u003eJava\u003eCode Generation\u003eCode and Comments\n */\n/**\n * @author Arun_Sh\n *\n * To change the template for this generated type comment go to\n * Window\u003ePreferences\u003eJava\u003eCode Generation\u003eCode and Comments\n */\naspect SimpleTracing\n{\n\tpointcut traceCall():\n\t\tcall (void SampleClass.foo(..));\n\t\t\n\tbefore(): traceCall()\n\t{\n\t\tSystem.out.println (\"Entering: \" + thisJoinPoint);\n\t}\n\t\n\tafter(): traceCall()\n\t{\n\t\tSystem.out.println (\"Exiting: \" + thisJoinPoint);\n\t}\n}\n\nThe exception message is (the message is for ajc -verbose SimpleTracing.java):\n\nzipfile classpath entry does not exist: C:\\j2sdk1.4.1_02\\jre\\lib\\i18n.jar\ndirectory classpath entry does not exist: C:\\j2sdk1.4.1_02\\jre\\classes\ncompiling C:\\Arun\\AspectJTrial\\SimpleTracing.java\ncompiling C:\\Arun\\AspectJTrial\\.\\SampleClass.java\njava.lang.NullPointerException\n        at org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.fields(Sou\nrceTypeBinding.java:363)\n        at org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.faultInTyp\nesForFieldsAndMethods(SourceTypeBinding.java:351)\n        at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.faultIn\nTypes(CompilationUnitScope.java:354)\n        at org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:531)\n\n        at org.aspectj.ajdt.internal.compiler.AjCompiler.process(AjCompiler.java\n:65)\n        at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:338)\n\n        at org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilat\nion(AjBuildManager.java:373)\n        at org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuild\nManager.java:125)\n        at org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBu\nildManager.java:70)\n        at org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:99)\n        at org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:53)\n        at org.aspectj.tools.ajc.Main.run(Main.java:217)\n        at org.aspectj.tools.ajc.Main.runMain(Main.java:155)\n        at org.aspectj.tools.ajc.Main.main(Main.java:72)\nC:\\Arun\\AspectJTrial\\SampleClass.java:0 Internal compiler error\njava.lang.NullPointerException\n        at org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.fields(Sou\nrceTypeBinding.java:363)\n        at org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.faultInTyp\nesForFieldsAndMethods(SourceTypeBinding.java:351)\n        at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.faultIn\nTypes(CompilationUnitScope.java:354)\n        at org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:531)\n\n        at org.aspectj.ajdt.internal.compiler.AjCompiler.process(AjCompiler.java\n:65)\n        at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:338)\n\n        at org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilat\nion(AjBuildManager.java:373)\n        at org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuild\nManager.java:125)\n        at org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBu\nildManager.java:70)\n        at org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:99)\n        at org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:53)\n        at org.aspectj.tools.ajc.Main.run(Main.java:217)\n        at org.aspectj.tools.ajc.Main.runMain(Main.java:155)\n        at org.aspectj.tools.ajc.Main.main(Main.java:72)\n\n\n!! no source information available !!\nABORT\nException thrown from AspectJ 1.1.1\n\nThis might be logged as a bug already -- find current bugs at\n  http://bugs.eclipse.org/bugs/buglist.cgi?product\u003dAspectJ\u0026component\u003dCompiler\n\nBugs for exceptions thrown have titles File:line from the top stack,\ne.g., \"SomeFile.java:243\"\n\nIf you don\u0027t find the exception below in a bug, please add a new bug\nat http://bugs.eclipse.org/bugs/enter_bug.cgi?product\u003dAspectJ\nTo make the bug a priority, please include a test program\nthat can reproduce this exception.\nnull\njava.lang.NullPointerException\n        at org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.fields(Sou\nrceTypeBinding.java:363)\n        at org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.faultInTyp\nesForFieldsAndMethods(SourceTypeBinding.java:351)\n        at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.faultIn\nTypes(CompilationUnitScope.java:354)\n        at org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:531)\n\n        at org.aspectj.ajdt.internal.compiler.AjCompiler.process(AjCompiler.java\n:65)\n        at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:338)\n\n        at org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilat\nion(AjBuildManager.java:373)\n        at org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuild\nManager.java:125)\n        at org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBu\nildManager.java:70)\n        at org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:99)\n        at org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:53)\n        at org.aspectj.tools.ajc.Main.run(Main.java:217)\n        at org.aspectj.tools.ajc.Main.runMain(Main.java:155)\n        at org.aspectj.tools.ajc.Main.main(Main.java:72)\n\n\n1 fail|abort, 1 error",
    "Created an attachment (id\u003d6784)\nThe source file for the SampleClass referenced in the pointcut\n",
    "I\u0027ve put the testcases into the aspectj harness that I run and I can\u0027t \nrecreate the failure.  Checking with Jim H, there doesn\u0027t seem to be any \nreason why the compiler would pull in SampleClass.java if only being told to \ncompile SimpleTracing.java.  We can see from the two lines:\n\nzipfile classpath entry does not exist: C:\\j2sdk1.4.1_02\\jre\\lib\\i18n.jar\ndirectory classpath entry does not exist: C:\\j2sdk1.4.1_02\\jre\\classes\ncompiling C:\\Arun\\AspectJTrial\\SimpleTracing.java\ncompiling C:\\Arun\\AspectJTrial\\.\\SampleClass.java\njava.lang.NullPointerException\nat org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.fields\n(SourceTypeBinding.java:363)\n\n\nThat *something* is causing SampleClass to be pulled in.  I guess I need \nconfirmation that you are definetly compiling it using AJC 1.1.1 and just the \ncommand \u0027ajc -verbose SimpleTracing.java\u0027 - and do you have any environment \nvariables set that might influence the compilation? (Maybe there is something \nin the face that the SampleClass.java reference is prefixed with a \u0027./\u0027 ....\n\nthanks.  Andy.",
    "Hold that thought ... I recreated it.  The \u0027faulting in\u0027 of SampleClass \nappears to occur if the source can be found on the classpath.  I\u0027ll continue \nto investigate.  I knew that \u0027./\u0027 was a clue ;)",
    "Fixed.  The default behaviour within the eclipse compiler is to dig around \nclasspath components (represented as ClasspathDirectory objects) for source \nwhen it can\u0027t find binary.  The fix is to add code to AjBuildManager such that \nwhen it builds the FileSystem object (in getLibraryAccess) for the \ncompilation, we override the default and force ClasspathDirectory objects to \nonly look for BINARY.\n\nPatch sent to Adrian for integration.",
    "*** Bug 46816 has been marked as a duplicate of this bug. ***",
    "Fixed by patch contributed by Andy Clement.",
    "updating target flag to indicate inclusion in 1.2 release."
  ],
  "commentCreationDates": [
    "2003-11-14T15:14:44+01:00",
    "2003-11-14T15:16:55+01:00",
    "2004-01-08T09:29:00+01:00",
    "2004-01-08T09:38:05+01:00",
    "2004-01-08T11:47:56+01:00",
    "2004-01-12T09:36:34+01:00",
    "2004-01-15T09:12:55+01:00",
    "2004-03-19T14:53:00+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.fields",
          "source": "Sou rceTypeBinding.java:363"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.faultInTypesForFieldsAndMethods",
          "source": "SourceTypeBinding.java:351"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.faultInTypes",
          "source": "CompilationUnitScope.java:354"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.process",
          "source": "Compiler.java:531"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompiler.process",
          "source": "AjCompiler.java :65"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:338"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:373"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuild Manager.java:125"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBu ildManager.java:70"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.doCommand",
          "source": "AjdtCommand.java:99"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.runCommand",
          "source": "AjdtCommand.java:53"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.run",
          "source": "Main.java:217"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.runMain",
          "source": "Main.java:155"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.main",
          "source": "Main.java:72"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "46671",
      "date": "2003-11-14T15:14:44+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.fields",
          "source": "Sou rceTypeBinding.java:363"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.faultInTypesForFieldsAndMethods",
          "source": "SourceTypeBinding.java:351"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.faultInTypes",
          "source": "CompilationUnitScope.java:354"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.process",
          "source": "Compiler.java:531"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompiler.process",
          "source": "AjCompiler.java :65"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:338"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:373"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuild Manager.java:125"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBu ildManager.java:70"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.doCommand",
          "source": "AjdtCommand.java:99"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.runCommand",
          "source": "AjdtCommand.java:53"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.run",
          "source": "Main.java:217"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.runMain",
          "source": "Main.java:155"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.main",
          "source": "Main.java:72"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "46671",
      "date": "2003-11-14T15:14:44+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.fields",
          "source": "Sou rceTypeBinding.java:363"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.faultInTypesForFieldsAndMethods",
          "source": "SourceTypeBinding.java:351"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.faultInTypes",
          "source": "CompilationUnitScope.java:354"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.process",
          "source": "Compiler.java:531"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompiler.process",
          "source": "AjCompiler.java :65"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:338"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:373"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuild Manager.java:125"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBu ildManager.java:70"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.doCommand",
          "source": "AjdtCommand.java:99"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.runCommand",
          "source": "AjdtCommand.java:53"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.run",
          "source": "Main.java:217"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.runMain",
          "source": "Main.java:155"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.main",
          "source": "Main.java:72"
        }
      ],
      "number": 2,
      "commentIndex": 0,
      "bugId": "46671",
      "date": "2003-11-14T15:14:44+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.fields",
          "source": "SourceTypeBinding.java:363"
        }
      ],
      "number": 3,
      "commentIndex": 2,
      "bugId": "46671",
      "date": "2004-01-08T09:29:00+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "46671",
  "bugId": "46671",
  "date": "2003-11-14T15:14:44+01:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}