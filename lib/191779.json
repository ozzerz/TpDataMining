{
  "comments": [
    "Build ID: Eclipse 3.3 RC3\n\nSteps To Reproduce:\n1. I had this workspace (I used to open it Eclipse 3.3 M6)\n2. I downloaded a RC3 build and opened this workspace\n3. Noticed that when i switch between editors (that are opened), selection does not change in project explorer. \nEven after I close and bring Eclipse back up/Close Project Explorer and reopen it.\n\nI do see these errors in the log.\n\neclipse.buildId\u003dI20070601-1539\njava.version\u003d1.5.0_08\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_US\nCommand-line arguments:  -os win32 -ws win32 -arch x86\norg.eclipse.swt.SWTException: Widget is disposed\nat org.eclipse.swt.SWT.error(SWT.java:3563)\nat org.eclipse.swt.SWT.error(SWT.java:3481)\nat org.eclipse.swt.SWT.error(SWT.java:3452)\nat org.eclipse.swt.widgets.Widget.error(Widget.java:432)\nat org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:325)\nat org.eclipse.swt.widgets.Tree.getItems(Tree.java:3105)\nat org.eclipse.jface.viewers.TreeViewer.getChildren(TreeViewer.java:158)\nat org.eclipse.jface.viewers.AbstractTreeViewer.internalCollectExpandedItems(AbstractTreeViewer.java:1504)\nat org.eclipse.jface.viewers.AbstractTreeViewer.getExpandedElements(AbstractTreeViewer.java:1139)\nat org.eclipse.ui.navigator.CommonNavigator.selectReveal(CommonNavigator.java:307)\nat org.eclipse.ui.internal.navigator.actions.LinkEditorAction$2.runInUIThread(LinkEditorAction.java:91)\nat org.eclipse.ui.progress.UIJob$1.run(UIJob.java:94)\nat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\nat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\nat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3659)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3296)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353)\nat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219)\nat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)\nat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\nat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\nat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:504)\nat org.eclipse.equinox.launcher.Main.basicRun(Main.java:443)\nat org.eclipse.equinox.launcher.Main.run(Main.java:1169)\n\n\nMore information:",
    "Quick comment: ths stack trace is NOT related to the broken selection algorithm, it is related to the bug 195046 which is about of SWT exception on *closing* view.\n\nHere are the steps to reproduce *current* bug:\n1) create Java project ProjectA\n2) create source folder src\n3) create package inside ProjectA/src called a\n4) create two Java classes A and B inside package a\n5) Open editors for A and B\n6) Open Project Explorer and *do not expand* ProjectA manually.\n7) Click on \"Link with editor\" button in Project Explorer\n8) Switch from editor A to B\n\nAS IS: Project Explorer does *not* expand ProjectA node, selection in Project Explorer is *not* changed to ProjectA-\u003esrc/a/B\n\nTO BE: Project Explorer *has* to expand ProjectA node, selection in Project Explorer *should* be changed to ProjectA-\u003esrc/a/B\n\nDuring debugging I found that the selection does not work always, especially for Java source files opened in editor. The Common Navigator fails to find items in the existing tree widget which should be expanded, probably because they are *not created* yet in the SWT tree? Stack trace ends in the internalSetExpanded() call which is unable to find the widget below of the current project to expand it for the selection, which contains both CompilationUnit AND IFile inside of the project...\n\nThread [main] (Suspended)\t\n\towns: RunnableLock  (id\u003d8001)\t\n\tCommonViewer(AbstractTreeViewer).internalSetExpanded(CustomHashtable, Widget) line: 1939\t\n\tCommonViewer(AbstractTreeViewer).internalSetExpanded(CustomHashtable, Widget) line: 1936\t\n\tCommonViewer(AbstractTreeViewer).internalSetExpanded(CustomHashtable, Widget) line: 1936\t\n\tCommonViewer(AbstractTreeViewer).setExpandedElements(Object[]) line: 2291\t\n\tCommonNavigator.selectReveal(ISelection) line: 311\t\n\tLinkEditorAction$2.runInUIThread(IProgressMonitor) line: 91\t\n\tUIJob$1.run() line: 94\t\n\nAfter opening ALL nodes in the ProjectA in Common Navigator manually, Common Navigator is able to link with editor as expected because it finds the tree widgets.\n\nPlease also change the bug title to something like \n\"[CommonNavigator] Project Explorer : \"Link with Editor\" does not always work\" because:\n1) it sometimes work :o)\n2) it does not have any relation to \"Widget is disposed\" SWT exception from bug 195046",
    "BTW, I\u0027ve seen this in 3.3 final",
    "Does this problem exist for non-Java resources (e.g. Turn off the Java extension under Customize View ..). This may be specific to the Java link with editor function. ",
    "Same example works perfectly in a non-Java (\"simple\") project, with the files A.txt and B. txt inside of src/a folder.\n\nIf you have *non* Java files inside of the *Java* project, bug still occurs (e.g. place A.txt).\n\nSwitching \"java\" content off by disabling Java content provider doesn\u0027t help too -\u003e closing/restarting the view again shows exactly same behavoir as before.\n\nBtw, what\u0027s about bug 195046 -\u003e isn\u0027t on your radar?",
    "This bug does also exist in the final 3.3 with the CDT plugin (no JDT plugin installed). I have to manually expand the tree before link editor works.\n\nBTW, the tool tip for the link editor icon shows the text:\n\"Link open editors with content in the Naviagtor\"\n                                       ^^^^^^^^^ ",
    "\n\n*** This bug has been marked as a duplicate of bug 195046 ***",
    "Why has this bug marked as a duplicate bug #195046? It is not related to this bug (see comment #2).",
    "\u003e Why has this bug marked as a duplicate bug #195046? It is not related to this\n\u003e bug (see comment #2).\nHave a look at comment #1:\nPlease also change the bug title to something like \n\"[CommonNavigator] Project Explorer : \"Link with Editor\" does not always work\"\nbecause:"
  ],
  "commentCreationDates": [
    "2007-06-08T22:46:16+02:00",
    "2007-07-01T11:53:46+02:00",
    "2007-07-01T11:57:41+02:00",
    "2007-07-02T14:24:03+02:00",
    "2007-07-02T21:57:54+02:00",
    "2007-07-10T09:07:15+02:00",
    "2007-08-20T00:40:53+02:00",
    "2007-08-21T16:52:37+02:00",
    "2007-09-03T08:47:36+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Widget is disposed",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3563"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3481"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3452"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:432"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.checkWidget",
          "source": "Widget.java:325"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.getItems",
          "source": "Tree.java:3105"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.getChildren",
          "source": "TreeViewer.java:158"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalCollectExpandedItems",
          "source": "AbstractTreeViewer.java:1504"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.getExpandedElements",
          "source": "AbstractTreeViewer.java:1139"
        },
        {
          "method": "org.eclipse.ui.navigator.CommonNavigator.selectReveal",
          "source": "CommonNavigator.java:307"
        },
        {
          "method": "org.eclipse.ui.internal.navigator.actions.LinkEditorAction$2.runInUIThread",
          "source": "LinkEditorAction.java:91"
        },
        {
          "method": "org.eclipse.ui.progress.UIJob$1.run",
          "source": "UIJob.java:94"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:123"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3659"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3296"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2389"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2353"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2219"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:466"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:461"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:153"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:363"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:176"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:504"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:443"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1169"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "191779",
      "duplicateId": "195046",
      "date": "2007-06-08T22:46:16+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "195046",
  "bugId": "191779",
  "duplicateId": "195046",
  "date": "2007-06-08T22:46:16+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}