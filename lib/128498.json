{
  "comments": [
    "Refactor/Rename (attepting to rename a class) fails, mentioning an illegal\nclass name.   There once was a file with that name, but it was deleted\nthrough the eclipse UI.   There doesn\u0027t seem to be any way to clear this\nerror.\n\n--\n\nRoot exception:\norg.eclipse.jdt.internal.core.Assert$AssertionFailedException: Assertion failed; The source type has an invalid name: HexGameBoard.1.12.2.4\n\tat org.eclipse.jdt.internal.core.Assert.isTrue(Assert.java:89)\n\tat org.eclipse.jdt.internal.core.SourceType.\u003cinit\u003e(SourceType.java:43)\n\tat org.eclipse.jdt.internal.core.CompilationUnit.getType(CompilationUnit.java:807)\n\tat org.eclipse.jdt.internal.core.search.matching.PossibleMatch.getQualifiedName(PossibleMatch.java:103)\n\tat org.eclipse.jdt.internal.core.search.matching.PossibleMatch.\u003cinit\u003e(PossibleMatch.java:41)\n\tat org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1110)\n\tat org.eclipse.jdt.internal.core.search.JavaSearchParticipant.locateMatches(JavaSearchParticipant.java:94)\n\tat org.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches(BasicSearchEngine.java:208)\n\tat org.eclipse.jdt.internal.core.search.BasicSearchEngine.search(BasicSearchEngine.java:424)\n\tat org.eclipse.jdt.core.search.SearchEngine.search(SearchEngine.java:532)\n\tat org.eclipse.jdt.internal.corext.refactoring.RefactoringSearchEngine.internalSearch(RefactoringSearchEngine.java:130)\n\tat org.eclipse.jdt.internal.corext.refactoring.RefactoringSearchEngine.search(RefactoringSearchEngine.java:104)\n\tat org.eclipse.jdt.internal.corext.refactoring.rename.RenameTypeProcessor.checkFinalConditions(RenameTypeProcessor.java:320)\n\tat org.eclipse.ltk.core.refactoring.participants.ProcessorBasedRefactoring.checkFinalConditions(ProcessorBasedRefactoring.java:169)\n\tat org.eclipse.ltk.core.refactoring.CheckConditionsOperation.run(CheckConditionsOperation.java:84)\n\tat org.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:114)\n\tat org.eclipse.ltk.core.refactoring.PerformChangeOperation.run(PerformChangeOperation.java:189)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1721)\n\tat org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:86)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)",
    "What is the eclipse build ID you\u0027re using?\nIs there any chance to try to update with 3.2 M5 (freshly available) and see if this problem still occurs. As indexes will be automatically regenerated on this milestones problem may be fixed if it comes from an invalid index file...\n",
    "some cache seems to be permanantly polluted with the bad name.  I\u0027d \nreally like to know which one and how to clear it.\n\nI\u0027m pretty sure the invalid name got into the system when I did a\nrefresh on the directory, and it contained an old version of a file\nwith that name left there by CVS.  The file contained an otherwise\nvalid class, but the class name was valid.",
    "Version: 3.1.2\nBuild id: M20060118-1600\n",
    "I downloaded 3.2.5 and tried it.  The rebuilding of caches\nas a result of the switch from 3.1.2 may have cleared the \nerror, but when I recreated the original conditions that led\nto the error, the same error occurred again.\n\nThere are two problems here.  An illegal class name such\nas \"HexGameBoard.1.12.2.4\" should not have been inserted into\nthe cache in the first place.  And once there, it shouldn\u0027t\npersist and cause this breakdown.\n\n--\nRoot exception:\norg.eclipse.jdt.internal.core.Assert$AssertionFailedException: Assertion failed; The source type has an invalid name: HexGameBoard.1.12.2.4\n\tat org.eclipse.jdt.internal.core.Assert.isTrue(Assert.java:89)\n\tat org.eclipse.jdt.internal.core.SourceType.\u003cinit\u003e(SourceType.java:43)\n\tat org.eclipse.jdt.internal.core.CompilationUnit.getType(CompilationUnit.java:820)\n\tat org.eclipse.jdt.internal.core.CompilationUnit.findPrimaryType(CompilationUnit.java:520)\n\tat org.eclipse.jdt.internal.debug.core.refactoring.BreakpointRenameTypeParticipant.gatherChanges(BreakpointRenameTypeParticipant.java:58)\n\tat org.eclipse.jdt.internal.debug.core.refactoring.BreakpointRenameParticipant.createChange(BreakpointRenameParticipant.java:99)\n\tat org.eclipse.ltk.core.refactoring.participants.ProcessorBasedRefactoring.createChange(ProcessorBasedRefactoring.java:249)\n\tat org.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:128)\n\tat org.eclipse.ltk.core.refactoring.PerformChangeOperation.run(PerformChangeOperation.java:189)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1733)\n\tat org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:87)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)\n",
    "Can you provide steps which reproduce this problem easily? This would be really helpful for me to understand what happen exactly here...\nThanks",
    "I think you can produce this easily in any workspace.  Duplicate any class\nfile, give class x.java a name such as x.1.2.java.   Use \"refresh\" to cause\neclipse to add x.1.2.java to your workspace.  Now try to use rename/refactor\nto change the class name inside x.1.2.java to newx.java\n\n",
    "(In reply to comment #6)\n\u003e I think you can produce this easily in any workspace.  Duplicate any class\n\u003e file, give class x.java a name such as x.1.2.java.   Use \"refresh\" to cause\n\u003e eclipse to add x.1.2.java to your workspace.  Now try to use rename/refactor\n\u003e to change the class name inside x.1.2.java to newx.java\n\u003e \nI got no problem with this scenario. When I click on refresh button x.1.2.java is not on the classpath. This is expected behavior as 1.2.java is not a java file extension. Then I can refactor this non-java resources as newx.java and see after this refactoring that the new file is now shown under the default package considered (its new name make it as a Java resource now...).\n\nI done this test with 3.2 M5 and 3.1.2 and both succeeded. Do you have any special settings on your project to have a different behavior?",
    "Please reopen while providing requested info, thanks"
  ],
  "commentCreationDates": [
    "2006-02-18T01:24:16+01:00",
    "2006-02-20T14:39:23+01:00",
    "2006-02-20T18:45:58+01:00",
    "2006-02-20T18:47:46+01:00",
    "2006-02-20T19:52:58+01:00",
    "2006-02-21T16:38:07+01:00",
    "2006-02-21T17:51:57+01:00",
    "2006-02-23T11:27:16+01:00",
    "2006-03-30T18:39:50+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.jdt.internal.core.Assert$AssertionFailedException",
      "message": "Assertion failed; The source type has an invalid name: HexGameBoard.1.12.2.4",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.Assert.isTrue",
          "source": "Assert.java:89"
        },
        {
          "method": "org.eclipse.jdt.internal.core.SourceType.\u003cinit\u003e",
          "source": "SourceType.java:43"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.getType",
          "source": "CompilationUnit.java:807"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.PossibleMatch.getQualifiedName",
          "source": "PossibleMatch.java:103"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.PossibleMatch.\u003cinit\u003e",
          "source": "PossibleMatch.java:41"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches",
          "source": "MatchLocator.java:1110"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.JavaSearchParticipant.locateMatches",
          "source": "JavaSearchParticipant.java:94"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches",
          "source": "BasicSearchEngine.java:208"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.BasicSearchEngine.search",
          "source": "BasicSearchEngine.java:424"
        },
        {
          "method": "org.eclipse.jdt.core.search.SearchEngine.search",
          "source": "SearchEngine.java:532"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.RefactoringSearchEngine.internalSearch",
          "source": "RefactoringSearchEngine.java:130"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.RefactoringSearchEngine.search",
          "source": "RefactoringSearchEngine.java:104"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.rename.RenameTypeProcessor.checkFinalConditions",
          "source": "RenameTypeProcessor.java:320"
        },
        {
          "method": "org.eclipse.ltk.core.refactoring.participants.ProcessorBasedRefactoring.checkFinalConditions",
          "source": "ProcessorBasedRefactoring.java:169"
        },
        {
          "method": "org.eclipse.ltk.core.refactoring.CheckConditionsOperation.run",
          "source": "CheckConditionsOperation.java:84"
        },
        {
          "method": "org.eclipse.ltk.core.refactoring.CreateChangeOperation.run",
          "source": "CreateChangeOperation.java:114"
        },
        {
          "method": "org.eclipse.ltk.core.refactoring.PerformChangeOperation.run",
          "source": "PerformChangeOperation.java:189"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1721"
        },
        {
          "method": "org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run",
          "source": "WorkbenchRunnableAdapter.java:86"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:113"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "128498",
      "date": "2006-02-18T01:24:16+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    },
    {
      "exceptionType": "org.eclipse.jdt.internal.core.Assert$AssertionFailedException",
      "message": "Assertion failed; The source type has an invalid name: HexGameBoard.1.12.2.4",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.Assert.isTrue",
          "source": "Assert.java:89"
        },
        {
          "method": "org.eclipse.jdt.internal.core.SourceType.\u003cinit\u003e",
          "source": "SourceType.java:43"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.getType",
          "source": "CompilationUnit.java:820"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.findPrimaryType",
          "source": "CompilationUnit.java:520"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.refactoring.BreakpointRenameTypeParticipant.gatherChanges",
          "source": "BreakpointRenameTypeParticipant.java:58"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.refactoring.BreakpointRenameParticipant.createChange",
          "source": "BreakpointRenameParticipant.java:99"
        },
        {
          "method": "org.eclipse.ltk.core.refactoring.participants.ProcessorBasedRefactoring.createChange",
          "source": "ProcessorBasedRefactoring.java:249"
        },
        {
          "method": "org.eclipse.ltk.core.refactoring.CreateChangeOperation.run",
          "source": "CreateChangeOperation.java:128"
        },
        {
          "method": "org.eclipse.ltk.core.refactoring.PerformChangeOperation.run",
          "source": "PerformChangeOperation.java:189"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1733"
        },
        {
          "method": "org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run",
          "source": "WorkbenchRunnableAdapter.java:87"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:113"
        }
      ],
      "number": 1,
      "commentIndex": 4,
      "bugId": "128498",
      "date": "2006-02-20T19:52:58+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "128498",
  "bugId": "128498",
  "date": "2006-02-18T01:24:16+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}