{
  "comments": [
    "Rational Performance Tester 6.1 has encountered a serious problem with the \nInvokedTestSelectionDialog (org.eclipse.hyades.test.common.internal.dialog \npackage).  We use this class within our testsuite to select a test to invoke \nas part of that suite.\n\nOur tests are rather large (512kB zipped, 7MB unzipped).  The problem can be \nrecreated with a workspace that contains 10 tests.\n\nThe first time the ITSD is shown, it takes a few seconds to expand the tree to \ndisplay the tests.  Each subsequent time the ITSD is shown, it takes \nexponentially longer for the tree to expand.  Around the 7-8th time the dialog \nis shown, it takes several minutes for the tree to expand.  Trying to display \nthe ITSD again will result in an OutOfMemoryException.  (Stack trace shown \nbelow.)\n\nWhile waiting for the tree to expand, the cpu utilization goes to 100%, and \nthe memory usage for the javaw.exe process increases each time.  Memory is not \nreleased when the dialog is closed.\n\nI can provide a workspace with the appropriate test files to recreate this \nproblem, if necessary.  This is a stop-ship problem for RPT 6.1.\n\nStack trace:\n!ENTRY org.eclipse.ui 4 0 Sep 30, 2004 16:04:21.437\n!MESSAGE java.lang.OutOfMemoryError\n!STACK 0\njava.lang.OutOfMemoryError\n\tat java.lang.reflect.Array.newArrayImpl(Native Method)\n\tat java.lang.reflect.Array.newInstance(Array.java:284)\n\tat org.eclipse.emf.ecore.util.EcoreEList.newData(Unknown Source)\n\tat org.eclipse.emf.common.util.BasicEList.grow(Unknown Source)\n\tat org.eclipse.emf.common.util.BasicEList.addUnique(Unknown Source)\n\tat org.eclipse.emf.common.notify.impl.NotifyingListImpl.addUnique\n(Unknown Source)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLHelperImpl.setValue(Unknown \nSource)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLHandler.setFeatureValue(Unknown \nSource)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLHandler.setFeatureValue(Unknown \nSource)\n\tat \norg.eclipse.emf.ecore.xmi.impl.XMLHandler.createObjectFromFeatureType(Unknown \nSource)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLHandler.createObject(Unknown \nSource)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLHandler.handleFeature(Unknown \nSource)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLHandler.processElement(Unknown \nSource)\n\tat org.eclipse.emf.ecore.xmi.impl.XMIHandler.processElement(Unknown \nSource)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLHandler.startElement(Unknown \nSource)\n\tat org.eclipse.emf.ecore.xmi.impl.SAXWrapper.startElement(Unknown \nSource)\n\tat org.apache.xerces.parsers.AbstractSAXParser.startElement(Unknown \nSource)\n\tat org.apache.xerces.parsers.AbstractXMLDocumentParser.emptyElement\n(Unknown Source)\n\tat \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanStartElement(Unknown \nSource)\n\tat \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher\n.dispatch(Unknown Source)\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument\n(Unknown Source)\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n\tat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n\tat org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n\tat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n\tat javax.xml.parsers.SAXParser.parse(Unknown Source)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLLoadImpl.load(Unknown Source)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLResourceImpl.doLoad(Unknown \nSource)\n\tat \norg.eclipse.hyades.models.common.facades.behavioral.impl.FacadeResourceImpl.doL\noad(Unknown Source)\n\tat org.eclipse.emf.ecore.resource.impl.ResourceImpl.load(Unknown \nSource)\n\tat org.eclipse.emf.ecore.resource.impl.ResourceImpl.load(Unknown \nSource)\n\tat org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoad\n(Unknown Source)\n\tat org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoadHelper\n(Unknown Source)\n\tat org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.getResource\n(Unknown Source)\n\tat org.eclipse.hyades.test.ui.internal.model.EMFUtil.load(Unknown \nSource)\n\tat org.eclipse.hyades.test.ui.internal.model.EMFUtil.load(Unknown \nSource)\n\tat org.eclipse.hyades.test.ui.internal.model.EMFUtil.load(Unknown \nSource)\n\tat \norg.eclipse.hyades.test.ui.internal.model.ui.EMFContentProvider.getChildren\n(Unknown Source)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.getRawChildren(Unknown \nSource)\n\tat org.eclipse.jface.viewers.StructuredViewer.getFilteredChildren\n(Unknown Source)\n\tat org.eclipse.jface.viewers.StructuredViewer.getSortedChildren\n(Unknown Source)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer$1.run(Unknown Source)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(Unknown Source)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(Unknown \nSource)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.handleTreeExpand\n(Unknown Source)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer$4.treeExpanded(Unknown \nSource)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(Unknown Source)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(Unknown Source)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\n\tat org.eclipse.swt.widgets.Tree.wmNotifyChild(Unknown Source)\n\tat org.eclipse.swt.widgets.Control.WM_NOTIFY(Unknown Source)\n\tat org.eclipse.swt.widgets.Composite.WM_NOTIFY(Unknown Source)\n\tat org.eclipse.swt.widgets.Control.windowProc(Unknown Source)\n\tat org.eclipse.swt.widgets.Display.windowProc(Unknown Source)\n\tat org.eclipse.swt.internal.win32.OS.CallWindowProcW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.CallWindowProc(Unknown Source)\n\tat org.eclipse.swt.widgets.Tree.callWindowProc(Unknown Source)\n\tat org.eclipse.swt.widgets.Tree.WM_LBUTTONDOWN(Unknown Source)\n\tat org.eclipse.swt.widgets.Control.windowProc(Unknown Source)\n\tat org.eclipse.swt.widgets.Display.windowProc(Unknown Source)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessage(Unknown Source)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Unknown Source)\n\tat org.eclipse.jface.window.Window.runEventLoop(Unknown Source)\n\tat org.eclipse.jface.window.Window.open(Unknown Source)\n\tat \ncom.ibm.rational.test.common.schedule.editor.dialog.TestSelectionDialog.selectT\nests(Unknown Source)\n\tat \ncom.ibm.rational.test.common.schedule.editor.dialog.TestSelectionDialog.selectM\nultipleTests(Unknown Source)\n\tat \ncom.ibm.rational.test.common.schedule.editor.ScheduleActionHandler.widgetSelect\ned(Unknown Source)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(Unknown Source)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(Unknown Source)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Unknown Source)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Unknown Source)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Unknown Source)\n\tat org.eclipse.ui.internal.Workbench.runUI(Unknown Source)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Unknown \nSource)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(Unknown Source)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(Unknown Source)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(Unknown \nSource)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:273)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:129)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:85)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:58)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:60)\n\tat java.lang.reflect.Method.invoke(Method.java:391)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\n\tat org.eclipse.core.launcher.Main.run(Main.java:684)\n\tat org.eclipse.core.launcher.Main.main(Main.java:668)",
    "A couple of comments about this defect:\n\n1) Please make sure that you are explicitly calling the dispose() method of \nthe InvokedTestSelectionDialog instance when you are done with it.  This sets \nsome attributes (including the resource set containing the EMF objects) to \nnull as a hint to the gc that it can clean things up.  This may or may not \nresolve the problem, but is worth a try\n2) Even if that doesn\u0027t work, it is very straightforward for you guys to \nsimply call your own UI instead of the Hyades one to support test case \nselection.  That\u0027s why I don\u0027t think this should be considered a stop ship \ndefect for 3.0.1.1 -- Hyades isn\u0027t forcing you to use this dialog.  Even if \nsomeone in Lex or Toulouse had to write the code to replace the dialog with \none that was efficient (which you would then ship), and even if we then \ncontributed it to Hyades going forward to replace this inefficient one, it\u0027s \nless risky to do that than to push for a rebuild of 3.0.1.1 with the limited \ntesting time we\u0027d have.\n\nI\u0027m duping this to an old defect about the that has had a low priority for a \nlong time.  I will reassign it to someone up here and raise the priority to \nmajor, but will target 3.2 (pending objection from you guys.)\n\n*** This bug has been marked as a duplicate of 49076 ***",
    "This defect (and its equivalent duplicate 49076) is considered stop-ship by a \nconsuming product of IES 3.0.1.1, and approved by IES CCB to be included in \nIES 3.0.1.1.",
    "Closing..."
  ],
  "commentCreationDates": [
    "2004-10-01T21:11:25+02:00",
    "2004-10-01T22:50:45+02:00",
    "2004-10-08T19:22:26+02:00",
    "2006-11-16T14:58:00+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.OutOfMemoryError",
      "elements": [
        {
          "method": "java.lang.reflect.Array.newArrayImpl",
          "source": "Native Method"
        },
        {
          "method": "java.lang.reflect.Array.newInstance",
          "source": "Array.java:284"
        },
        {
          "method": "org.eclipse.emf.ecore.util.EcoreEList.newData",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.emf.common.util.BasicEList.grow",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.emf.common.util.BasicEList.addUnique",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.emf.common.notify.impl.NotifyingListImpl.addUnique",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLHelperImpl.setValue",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLHandler.setFeatureValue",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLHandler.setFeatureValue",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLHandler.createObjectFromFeatureType",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLHandler.createObject",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLHandler.handleFeature",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLHandler.processElement",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMIHandler.processElement",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLHandler.startElement",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.SAXWrapper.startElement",
          "source": "Unknown  Source"
        },
        {
          "method": "org.apache.xerces.parsers.AbstractSAXParser.startElement",
          "source": "Unknown  Source"
        },
        {
          "method": "org.apache.xerces.parsers.AbstractXMLDocumentParser.emptyElement",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanStartElement",
          "source": "Unknown  Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.parsers.XML11Configuration.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.parsers.XML11Configuration.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.parsers.XMLParser.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.parsers.AbstractSAXParser.parse",
          "source": "Unknown Source"
        },
        {
          "method": "javax.xml.parsers.SAXParser.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLLoadImpl.load",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLResourceImpl.doLoad",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.hyades.models.common.facades.behavioral.impl.FacadeResourceImpl.doLoad",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceImpl.load",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceImpl.load",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoad",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoadHelper",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.getResource",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.hyades.test.ui.internal.model.EMFUtil.load",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.hyades.test.ui.internal.model.EMFUtil.load",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.hyades.test.ui.internal.model.EMFUtil.load",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.hyades.test.ui.internal.model.ui.EMFContentProvider.getChildren",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.getRawChildren",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.getFilteredChildren",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.getSortedChildren",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$1.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.createChildren",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.handleTreeExpand",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$4.treeExpanded",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.wmNotifyChild",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.WM_NOTIFY",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.WM_NOTIFY",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.CallWindowProcW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.CallWindowProc",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.callWindowProc",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.WM_LBUTTONDOWN",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessageW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessage",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Unknown Source"
        },
        {
          "method": "com.ibm.rational.test.common.schedule.editor.dialog.TestSelectionDialog.selectTests",
          "source": "Unknown Source"
        },
        {
          "method": "com.ibm.rational.test.common.schedule.editor.dialog.TestSelectionDialog.selectMultipleTests",
          "source": "Unknown Source"
        },
        {
          "method": "com.ibm.rational.test.common.schedule.editor.ScheduleActionHandler.widgetSelected",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:273"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:58"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:60"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:391"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:684"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:668"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "75491",
      "duplicateId": "49076",
      "date": "2004-10-01T21:11:25+02:00",
      "product": "Hyades",
      "component": "Test",
      "severity": "blocker"
    }
  ],
  "groupId": "49076",
  "bugId": "75491",
  "duplicateId": "49076",
  "date": "2004-10-01T21:11:25+02:00",
  "product": "Hyades",
  "component": "Test",
  "severity": "blocker"
}