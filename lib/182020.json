{
  "comments": [
    "I am using the profilers from the Eclipse TPTP workbench and trying to do a simple profile for Execution Time Analysis on an External Java Application but I keep getting empty results views when I use JVMTI. If I switch to use JVMPI I get results. I believe Seva is running into the same problem. Both of us were trying the D driver. I have also removed all Filters so it shouldn\u0027t be a filtering issue.",
    "Liz,\n There was a known issue for the aggregation that was resolved after the i2 and it is reflected in the daily build. \nMeanwhile, in the \"D\" driver, \"Select Execution Statistics and click \"Edit Options\"\" in the Edit options select \"Show execution flow graphical details\" and profile.",
    "On linux x86 I have different problem - launching stops at 27%, AC logs don\u0027t show anything, console shows an exception. Changing \"Show execution flow graphical details\" didn\u0027t help.\n\n\n org.eclipse.tptp.platform.execution.exceptions.TimeoutException: Launching Process command timed out.\n        at org.eclipse.tptp.platform.execution.client.core.internal.AgentController.queryAgentByProcessID(AgentController.java:471)\n        at org.eclipse.tptp.platform.execution.client.core.internal.AgentController.getAgent(AgentController.java:838)\n        at org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.locateTIAgent(TIDelegateHelper.java:563)\n        at org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.attachToAgent(TIDelegateHelper.java:467)\n        at org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.attachToAgent(TIDelegateHelper.java:432)\n        at org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.access$4(TIDelegateHelper.java:430)\n        at org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper$2.processLaunched(TIDelegateHelper.java:336)\n        at org.eclipse.tptp.platform.execution.client.core.internal.ProcessImpl.launchAC(ProcessImpl.java:599)\n        at org.eclipse.tptp.platform.execution.client.core.internal.ProcessImpl.launch(ProcessImpl.java:131)\n        at org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.launchProcess(TIDelegateHelper.java:380)\n        at org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.launch(TIDelegateHelper.java:253)\n        at org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIJavaLauncherDelegate.launch(TIJavaLauncherDelegate.java:37)\n        at org.eclipse.tptp.trace.ui.internal.launcher.core.LauncherUtility.delegateInit(LauncherUtility.java:1157)\n        at org.eclipse.tptp.trace.ui.provisional.launcher.PrimaryLaunchDelegate.run(PrimaryLaunchDelegate.java:190)\n        at java.lang.Thread.run(Thread.java:595)\njava.lang.NullPointerException\n        at org.eclipse.tptp.platform.execution.client.core.internal.AgentController.queryAgentByProcessID(AgentController.java:485)\n        at org.eclipse.tptp.platform.execution.client.core.internal.AgentController.getAgent(AgentController.java:838)\n        at org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.locateTIAgent(TIDelegateHelper.java:563)\n        at org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.attachToAgent(TIDelegateHelper.java:467)\n        at org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.attachToAgent(TIDelegateHelper.java:432)\n        at org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.access$4(TIDelegateHelper.java:430)\n        at org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper$2.processLaunched(TIDelegateHelper.java:336)\n        at org.eclipse.tptp.platform.execution.client.core.internal.ProcessImpl.launchAC(ProcessImpl.java:599)\n        at org.eclipse.tptp.platform.execution.client.core.internal.ProcessImpl.launch(ProcessImpl.java:131)\n        at org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.launchProcess(TIDelegateHelper.java:380)\n        at org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.launch(TIDelegateHelper.java:253)\n        at org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIJavaLauncherDelegate.launch(TIJavaLauncherDelegate.java:37)\n        at org.eclipse.tptp.trace.ui.internal.launcher.core.LauncherUtility.delegateInit(LauncherUtility.java:1157)\n        at org.eclipse.tptp.trace.ui.provisional.launcher.PrimaryLaunchDelegate.run(PrimaryLaunchDelegate.java:190)\n        at java.lang.Thread.run(Thread.java:595)\n\n\n",
    "The process launch failed in this case. Can you attach the app you are profiling. ALso, can let me know the os you are using. \n",
    "Created an attachment (id\u003d63550)\ntestcase\n\n",
    "linux IA32.\n\n",
    "The process launch failed in this case. Can you attach the app you are profiling. ALso, can let me know the os you are using. \n",
    "After selecting these options I am still not seeing any statistics. The Memory Analysis is also not showing any results. ",
    "Can you Test the Thread Profiler?\nThe only thing I can think of is the JVM version - whats the JVM version you are using",
    "(In reply to comment #8)\nThread Profiler - same thing.\n\njava version \"1.5.0_09\"\n",
    "Is this a IBM JVM?\nI am not having any issues profiling on Linux 32 (EL3 \u0026 EL4).\nI have tried with SUn hotspot and JRockit",
    "I am using IBM JRE 1.5 SR4. Thread analysis is giving the same results (not showing statistics).",
    "There is a known bug for the IBM JVM. \nCan you test with SUn hotspot ",
    "(In reply to comment #10)\nI use sun jdk.\n\nI saw a very strange behavior. I came  back 3 hours later, and those 10 or so processes that hang up are now up and running. Profilers now work and show reports. \n\nI saw a minor issue when I shutdown ACServer without restarting eclipse. In this case profilers fail: \n\nAgent Controller is unavailable under port 10002.  Make sure that the service is started and the port number is correct under preferences.\n\nAnyway, when I restart both ACServer and eclipse now, it work fine. Maybe things got messed up when I switched between different ACServers, maybe server shutdown wasn\u0027t clean (I think I just killed it) and a socket got stuck in the TIME_WAIT state.\n\n",
    "I saw some flaky behavior on multiprocessor machines (threading issue) both related to the Eclipse workbench and AC. But on the single proc machines they have been fine.",
    "WFM",
    "Is there a workaround for the multi-processor mahcines? I need to debug/test on these for the JVMTI enhancement. Did you notice a difference between the C driver and the D driver? I am able to get more consistent success on the C driver whereas on the D driver I am not able to get it working.",
    "Are you getting better results with \"C\" vs. \"D\" on windows or on linux?\n\nOn the multiprocessor - we have a defect that is addressing the threading issues that show up on the multiprocessor vs. the single ones. (180454)",
    "Windows (XP)",
    "Reg. Comment #16 - DId you see a difference of the data reported or were you not able to get it working at all with the \"D\" patch",
    "I get no data returned with the D driver. I have tried  restarting the RAC and the workbench. With the C driver I can get it to work on the first attempt but it is inconsistent after that.",
    "We are looking at the Threading erros. \nBut we have not seen any changes between C and the D driver on Windows. I just tested with a 4 way - WIndows XP.\nCan you elaborate on what you mean by \"Inconsistent\" results?\nYou cannot compare PI and TI because the approach of data collection is different. Depeding on your filters you will get either more or less data than PI.",
    " By inconsistent I meant sometimes I get results and sometimes I do not get any data. If I use the C driver I get data the first time but after that I may only get data every fifth or sixth attempt. It is unclear to me where it is failing. My concern is that I might be using some of the logic that is causing this problem when working on the Probekit code for JVMTI. ",
    "OK, I am seeing more of the threading on Linux rather than on Windows. On linux it is more to do with the JVM threads itself on multiway machines. \nThese issues are not seen on a single way.",
    "Liz - can you retry the profiler with the latest driver. A number of fixes have gone in and the code is much stable on multiprocessor machines.",
    "I tried it and found it to be much more stable. I am now getting results for Execution Time Analysis and Thread Analysis consistently. Thanks, Guru. Unfortunately, Memory Analysis is still not showing results on my mutli-threaded machine. ",
    "I was not able to reproduce any of these issues on an Intel Core2 Duo machine (dual core) running Windows XP and IBM Java 1.5 SR2. I used the TPTP Client D driver and the latest JVMTI runtime binaries (compiled from the HEAD branch). All profilers worked fine on both single and multi-threaded applications.\n\nOne note about the Heap Profiler: with the default settings, the viewer may appear empty because there is a default filter active on the view (this is a *view side* filter, not *profiler runtime* filter). Please remove this filter and check whether data is shown.\n\n",
    "Liz - pls reopen this defect if you are having issues on the latest driver "
  ],
  "commentCreationDates": [
    "2007-04-11T22:42:50+02:00",
    "2007-04-11T22:50:50+02:00",
    "2007-04-11T22:57:19+02:00",
    "2007-04-11T22:59:25+02:00",
    "2007-04-11T23:02:39+02:00",
    "2007-04-11T23:03:18+02:00",
    "2007-04-11T23:07:27+02:00",
    "2007-04-11T23:11:52+02:00",
    "2007-04-11T23:13:19+02:00",
    "2007-04-11T23:21:37+02:00",
    "2007-04-11T23:23:31+02:00",
    "2007-04-11T23:24:35+02:00",
    "2007-04-11T23:30:09+02:00",
    "2007-04-12T03:49:08+02:00",
    "2007-04-12T06:23:30+02:00",
    "2007-04-12T06:24:01+02:00",
    "2007-04-12T16:21:56+02:00",
    "2007-04-12T17:56:38+02:00",
    "2007-04-12T18:53:33+02:00",
    "2007-04-12T18:56:58+02:00",
    "2007-04-12T19:42:28+02:00",
    "2007-04-12T20:16:28+02:00",
    "2007-04-12T20:35:22+02:00",
    "2007-04-12T20:44:31+02:00",
    "2007-04-18T19:05:31+02:00",
    "2007-04-18T20:49:24+02:00",
    "2007-04-30T11:13:10+02:00",
    "2007-04-30T18:03:36+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.tptp.platform.execution.exceptions.TimeoutException",
      "message": "Launching Process command timed out.",
      "elements": [
        {
          "method": "org.eclipse.tptp.platform.execution.client.core.internal.AgentController.queryAgentByProcessID",
          "source": "AgentController.java:471"
        },
        {
          "method": "org.eclipse.tptp.platform.execution.client.core.internal.AgentController.getAgent",
          "source": "AgentController.java:838"
        },
        {
          "method": "org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.locateTIAgent",
          "source": "TIDelegateHelper.java:563"
        },
        {
          "method": "org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.attachToAgent",
          "source": "TIDelegateHelper.java:467"
        },
        {
          "method": "org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.attachToAgent",
          "source": "TIDelegateHelper.java:432"
        },
        {
          "method": "org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.access$4",
          "source": "TIDelegateHelper.java:430"
        },
        {
          "method": "org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper$2.processLaunched",
          "source": "TIDelegateHelper.java:336"
        },
        {
          "method": "org.eclipse.tptp.platform.execution.client.core.internal.ProcessImpl.launchAC",
          "source": "ProcessImpl.java:599"
        },
        {
          "method": "org.eclipse.tptp.platform.execution.client.core.internal.ProcessImpl.launch",
          "source": "ProcessImpl.java:131"
        },
        {
          "method": "org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.launchProcess",
          "source": "TIDelegateHelper.java:380"
        },
        {
          "method": "org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.launch",
          "source": "TIDelegateHelper.java:253"
        },
        {
          "method": "org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIJavaLauncherDelegate.launch",
          "source": "TIJavaLauncherDelegate.java:37"
        },
        {
          "method": "org.eclipse.tptp.trace.ui.internal.launcher.core.LauncherUtility.delegateInit",
          "source": "LauncherUtility.java:1157"
        },
        {
          "method": "org.eclipse.tptp.trace.ui.provisional.launcher.PrimaryLaunchDelegate.run",
          "source": "PrimaryLaunchDelegate.java:190"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:595"
        }
      ],
      "number": 0,
      "commentIndex": 2,
      "bugId": "182020",
      "date": "2007-04-11T22:57:19+02:00",
      "product": "TPTP Profiling",
      "component": "Platform.Agents.JVMTI",
      "severity": "blocker"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.tptp.platform.execution.client.core.internal.AgentController.queryAgentByProcessID",
          "source": "AgentController.java:485"
        },
        {
          "method": "org.eclipse.tptp.platform.execution.client.core.internal.AgentController.getAgent",
          "source": "AgentController.java:838"
        },
        {
          "method": "org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.locateTIAgent",
          "source": "TIDelegateHelper.java:563"
        },
        {
          "method": "org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.attachToAgent",
          "source": "TIDelegateHelper.java:467"
        },
        {
          "method": "org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.attachToAgent",
          "source": "TIDelegateHelper.java:432"
        },
        {
          "method": "org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.access$4",
          "source": "TIDelegateHelper.java:430"
        },
        {
          "method": "org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper$2.processLaunched",
          "source": "TIDelegateHelper.java:336"
        },
        {
          "method": "org.eclipse.tptp.platform.execution.client.core.internal.ProcessImpl.launchAC",
          "source": "ProcessImpl.java:599"
        },
        {
          "method": "org.eclipse.tptp.platform.execution.client.core.internal.ProcessImpl.launch",
          "source": "ProcessImpl.java:131"
        },
        {
          "method": "org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.launchProcess",
          "source": "TIDelegateHelper.java:380"
        },
        {
          "method": "org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.launch",
          "source": "TIDelegateHelper.java:253"
        },
        {
          "method": "org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIJavaLauncherDelegate.launch",
          "source": "TIJavaLauncherDelegate.java:37"
        },
        {
          "method": "org.eclipse.tptp.trace.ui.internal.launcher.core.LauncherUtility.delegateInit",
          "source": "LauncherUtility.java:1157"
        },
        {
          "method": "org.eclipse.tptp.trace.ui.provisional.launcher.PrimaryLaunchDelegate.run",
          "source": "PrimaryLaunchDelegate.java:190"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:595"
        }
      ],
      "number": 1,
      "commentIndex": 2,
      "bugId": "182020",
      "date": "2007-04-11T22:57:19+02:00",
      "product": "TPTP Profiling",
      "component": "Platform.Agents.JVMTI",
      "severity": "blocker"
    }
  ],
  "groupId": "182020",
  "bugId": "182020",
  "date": "2007-04-11T22:42:50+02:00",
  "product": "TPTP Profiling",
  "component": "Platform.Agents.JVMTI",
  "severity": "blocker"
}