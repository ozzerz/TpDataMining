{
  "comments": [
    "I just updated my AJDT/AspectJ installation to the latest today to the 1.3.0.20051128065742 version.\n\nWhen I openend some sample projects and then headed for the \"Problems\" view, I got the following NullPointerException error.\n\nAfter cleaning my AspectJ projects, I got the same error while building them again.\n\nCurrently the error appears on some other big project that has been included via a linked folder.\n\n\n\nError 2005-11-28 17:03:19.531 NullPointerException thrown: null\njava.lang.NullPointerException\nat org.aspectj.org.eclipse.jdt.internal.compiler.problem.ProblemReporter.missingDeprecatedAnnotationForMethod(ProblemReporter.java:3933)\nat org.aspectj.org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.resolveTypesFor(SourceTypeBinding.java:1271)\nat org.aspectj.org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.methods(SourceTypeBinding.java:1081)\nat org.aspectj.org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.getMethodsBase(SourceTypeBinding.java:912)\nat org.aspectj.org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.getMethods(SourceTypeBinding.java:900)\nat org.aspectj.org.eclipse.jdt.internal.compiler.lookup.Scope.findMethod(Scope.java:1060)\nat org.aspectj.org.eclipse.jdt.internal.compiler.ast.MessageSend.resolveType(MessageSend.java:333)\nat org.aspectj.org.eclipse.jdt.internal.compiler.ast.Expression.resolve(Expression.java:829)\nat org.aspectj.org.eclipse.jdt.internal.compiler.ast.Block.resolveUsing(Block.java:115)\nat org.aspectj.org.eclipse.jdt.internal.compiler.ast.TryStatement.resolve(TryStatement.java:504)\nat org.aspectj.org.eclipse.jdt.internal.compiler.ast.Block.resolve(Block.java:101)\nat org.aspectj.org.eclipse.jdt.internal.compiler.ast.IfStatement.resolve(IfStatement.java:225)\nat org.aspectj.org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolveStatements(AbstractMethodDeclaration.java:422)\nat org.aspectj.org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.resolveStatements(MethodDeclaration.java:178)\nat org.aspectj.org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve(AbstractMethodDeclaration.java:400)\nat org.aspectj.org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1088)\nat org.aspectj.org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1137)\nat org.aspectj.org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve(CompilationUnitDeclaration.java:305)\nat org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:514)\nat org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:329)\nat org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:809)\nat org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:230)\nat org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:156)\nat org.aspectj.ajde.internal.CompilerAdapter.compile(CompilerAdapter.java:122)\nat org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run(AspectJBuildManager.java:191)\n\neclipse.buildId\u003dI20050627-1435\njava.version\u003d1.5.0_04\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003dfr_FR\nCommand-line arguments:  -os win32 -ws win32 -arch x86",
    "I got exactly the same problem when trying to directly build the big project itself with the AspectJ nature (that is, with the AspectJ compiler instead of the Java compiler).\n\nI believe the problem is related to some OutOfMemoryError about the Java heap space.\n\nCurrently the project compiles without any error if Eclipse is launched with a *really* big Java heap space: 500MB heap space isn\u0027t enough, I succeeded to compile the project with more than 700MB heap space.\n\n\nNotice that the error still happen if I try to build the big project as a linked folder; when the error is thrown the Java heap space is used at about 150MB/170MB with still the 700MB maximum heap space.",
    "It is crashing trying to report a problem.  I don\u0027t think it\u0027s related to running out of memory in this case.  The error is not one I\u0027ve encountered before:\n\n\"missingDeprecatedAnnotationForMethod\"\n\nand we crash here\n\n  MethodBinding binding \u003d method.binding;\n\npresumably as the method passed in is null.\n\nThe message means a deprecated method has been found without the @Deprecated annotation on it...\n\nlooking at the code that makes the call to report the deprecation problem, and the code a little further down that method - I wonder if its a compiler bug.  The code a little further down allows for a null method but the call to the error reporting code does not.",
    "In the latest version of the compiler and AJDT, I have put in a guard that prevents this NPE from occurring.  It *may* just cause a different manifestation of the problem though, later in the compilers processing - can you give it a try?  You need an AJDT from yesterday afternoon or today (basically the latest)",
    "(In reply to comment #3)\n\u003e In the latest version of the compiler and AJDT, I have put in a guard that\n\u003e prevents this NPE from occurring.  It *may* just cause a different\n\u003e manifestation of the problem though, later in the compilers processing - can\n\u003e you give it a try?  You need an AJDT from yesterday afternoon or today\n\u003e (basically the latest)\n\nI gave it a try and no problem occured. Furthermore deprecation markers appears and works flawlessly.\n\nThe bug seems to be fixed, notive however that I hadn\u0027t tried extensively.\n\n\n\nJP\n",
    "ok ... thanks for trying it out so swiftly!  I\u0027ll close this for now - please reopen if you see a similar manifestation.."
  ],
  "commentCreationDates": [
    "2005-11-28T16:32:59+01:00",
    "2005-11-29T15:51:03+01:00",
    "2005-11-29T17:39:18+01:00",
    "2005-12-07T10:21:02+01:00",
    "2005-12-07T10:48:14+01:00",
    "2005-12-07T11:42:27+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.problem.ProblemReporter.missingDeprecatedAnnotationForMethod",
          "source": "ProblemReporter.java:3933"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.resolveTypesFor",
          "source": "SourceTypeBinding.java:1271"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.methods",
          "source": "SourceTypeBinding.java:1081"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.getMethodsBase",
          "source": "SourceTypeBinding.java:912"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.getMethods",
          "source": "SourceTypeBinding.java:900"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.lookup.Scope.findMethod",
          "source": "Scope.java:1060"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.MessageSend.resolveType",
          "source": "MessageSend.java:333"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.Expression.resolve",
          "source": "Expression.java:829"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.Block.resolveUsing",
          "source": "Block.java:115"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.TryStatement.resolve",
          "source": "TryStatement.java:504"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.Block.resolve",
          "source": "Block.java:101"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.IfStatement.resolve",
          "source": "IfStatement.java:225"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolveStatements",
          "source": "AbstractMethodDeclaration.java:422"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.resolveStatements",
          "source": "MethodDeclaration.java:178"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve",
          "source": "AbstractMethodDeclaration.java:400"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve",
          "source": "TypeDeclaration.java:1088"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve",
          "source": "TypeDeclaration.java:1137"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve",
          "source": "CompilationUnitDeclaration.java:305"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.process",
          "source": "Compiler.java:514"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:329"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:809"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:230"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBuildManager.java:156"
        },
        {
          "method": "org.aspectj.ajde.internal.CompilerAdapter.compile",
          "source": "CompilerAdapter.java:122"
        },
        {
          "method": "org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run",
          "source": "AspectJBuildManager.java:191"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "118249",
      "date": "2005-11-28T16:32:59+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "118249",
  "bugId": "118249",
  "date": "2005-11-28T16:32:59+01:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}