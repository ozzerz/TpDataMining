{
  "comments": [
    "Using RC2\n\nSteps to recreate:\n1. Run \u003e Debug\n2. Create a new Java Application LaunchConfig\n3. Enter a project name with a \\ or / in the name\n4. Observe error log\n\nReason for bug:\nJavaMainTab uses IWorkspaceRoot.getProject(String) to see whether a project \nexists. The implementation WorkspaceRoot.getProject(String) asserts that the \nproject name consists of exactly one segment, which is not the case on an empty \nproject name (0) or one with path seperators.\n\nProposed solution:\nUse IWorkspaceRoot.findMember(string) instead.\n\nProposed patch:\n*** JavaMainTab.java-orig\tTue Mar 18 14:16:44 2003\n--- JavaMainTab.java\tTue Mar 18 14:19:30 2003\n***************\n*** 394,404 ****\n  \t\tsetErrorMessage(null);\n\n  \t\tsetMessage(null);\n\n  \t\t\n\n  \t\tString name \u003d fProjText.getText().trim();\n\n  \t\tif (name.length() \u003e 0) {\n\n! \t\t\tif (!ResourcesPlugin.getWorkspace().getRoot().getProject\n(name).exists()) {\n\n  \t\t\t\tsetErrorMessage(LauncherMessages.getString\n(\"JavaMainTab.Project_does_not_exist_15\")); //$NON-NLS-1$\n\n  \t\t\t\treturn false;\n\n  \t\t\t}\n\n  \t\t}\n\n  \n\n--- 394,408 ----\n  \t\tsetErrorMessage(null);\n\n  \t\tsetMessage(null);\n\n  \t\t\n\n  \t\tString name \u003d fProjText.getText().trim();\n\n  \t\tif (name.length() \u003e 0) {\n\n! \t\t\tIResource resource \u003d\n\n! \t\t\t\tResourcesPlugin.getWorkspace().getRoot\n().findMember(name);\n\n! \t\t\tif (resource \u003d\u003d null\n\n! \t\t\t\t|| resource.getType() !\u003d IResource.PROJECT\n\n! \t\t\t\t|| (!((IProject) resource).exists())) {\n\n  \t\t\t\tsetErrorMessage(LauncherMessages.getString\n(\"JavaMainTab.Project_does_not_exist_15\")); //$NON-NLS-1$\n\n  \t\t\t\treturn false;\n\n  \t\t\t}\n\n  \t\t}",
    "Created an attachment (id\u003d4205)\nProposed patch\n\nSorry, the copy/pasted one got a little mangled.",
    "marking as RC3 candidate - needs approval.",
    "+1 for releasing it into RC3",
    "Jared, please apply/evaluate patch.",
    "The patch file is invalid. It looks like the patch was made against a file\ncalled JavaMainTab-orig? Michael, to create a patch in Eclipse just check out\nthe file you want to edit, make the edit, and choose \"Team-\u003eCreate patch\" from\nthe context menu. This will create a patch that diffs the file in your\nworkspace against the file in the repository.\n\nThe changes look good, though, and I\u0027ve applied them by hand.",
    "After I apply these changes, the original problem (an exception that occurs\nwhen we validate the Project field) goes away. However, another exception\nappears from the classpath page.\n\nSteps to reproduce:\n1. Open the dialog and change a config\u0027s project to \"Grah/blah\"\n2. With this patch, we correctly display an error stating that the project\ndoesn\u0027t exist.\n3. Click on a different config. When asked to save, click No. The following\nexception occurs:\n\n!ENTRY org.eclipse.jface 4 2 Mar 18, 2003 11:42:36.375\n!MESSAGE Problems occurred when invoking code from plug-in: \"org.eclipse.jface\".\n!STACK 0\njava.lang.IllegalArgumentException: Path for project must have only one segment.\n\tat org.eclipse.core.internal.utils.Assert.isLegal(Assert.java:55)\n\tat org.eclipse.core.internal.resources.WorkspaceRoot.getProject(WorkspaceRoot.java:112)\n\tat org.eclipse.jdt.internal.core.JavaModel.getJavaProject(JavaModel.java:355)\n\tat org.eclipse.jdt.launching.JavaRuntime.getJavaProject(JavaRuntime.java:979)\n\tat org.eclipse.jdt.launching.JavaRuntime.computeVMInstall(JavaRuntime.java:1014)\n\tat org.eclipse.jdt.internal.debug.ui.launcher.RuntimeClasspathEntryLabelProvider.getText(RuntimeClasspathEntryLabelProvider.java:142)\n\tat org.eclipse.jface.viewers.TableViewer.doUpdateItem(TableViewer.java:201)\n\tat org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run(StructuredViewer.java:119)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:867)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:413)\n\tat org.eclipse.jface.viewers.StructuredViewer.updateItem(StructuredViewer.java:1271)\n\tat org.eclipse.jface.viewers.TableViewer.internalRefresh(TableViewer.java:454)\n\tat org.eclipse.jface.viewers.TableViewer.internalRefresh(TableViewer.java:431)\n\tat org.eclipse.jface.viewers.StructuredViewer$7.run(StructuredViewer.java:861)\n\tat org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:801)\n\tat org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:859)\n\tat org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:821)\n\tat org.eclipse.jface.viewers.TableViewer.inputChanged(TableViewer.java:398)\n\tat org.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:238)\n\tat org.eclipse.jface.viewers.StructuredViewer.setInput(StructuredViewer.java:991)\n\tat org.eclipse.jdt.internal.debug.ui.launcher.RuntimeClasspathViewer.setEntries(RuntimeClasspathViewer.java:100)\n\tat org.eclipse.jdt.debug.ui.launchConfigurations.JavaClasspathTab.setClasspathEntries(JavaClasspathTab.java:303)\n\tat org.eclipse.jdt.debug.ui.launchConfigurations.JavaClasspathTab.initializeFrom(JavaClasspathTab.java:252)\n\tat org.eclipse.debug.ui.AbstractLaunchConfigurationTabGroup.initializeFrom(AbstractLaunchConfigurationTabGroup.java:84)\n\tat org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer.displayTabs(LaunchConfigurationTabGroupViewer.java:488)\n\tat org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer.inputChanged(LaunchConfigurationTabGroupViewer.java:448)\n\tat org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.showSaveChangesDialog(LaunchConfigurationsDialog.java:1117)\n\tat org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.showUnsavedChangesDialog(LaunchConfigurationsDialog.java:1084)\n\tat org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.canDiscardCurrentConfig(LaunchConfigurationsDialog.java:1070)\n\tat org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.handleClosePressed(LaunchConfigurationsDialog.java:1153)\n\tat org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.buttonPressed(LaunchConfigurationsDialog.java:315)",
    "Anytime you enter a project name with a slash and we ask the JavaModel for a\nproject with that name, we get the InvalidArgumentException because \nJavaModel.getJavaProject(String) makes the same call to\nIWorkspaceRoot.getProject(String) that was causing the problem in our UI.",
    "The same bug exists in the 2.0 product. There is a deeper problem here in that \nthe getProject(name) methods return a handle to a project which may/may not \nexist - but the methods also (undocumented) will not accept a name with more \nthan one segment. \n\nThis means all clients that call the method would have to verify that the name \nis valid. \n\nThe simplest fix would be to disallow slashes in the \"project name\" field in \nthe launch config tab. However, I believe that since the same problem existed \nin 2.0, this bug is not critical.\n\nNot planning to fix for RC3. Marking as later.\n\n(Erich, do you agree?).",
    "Deferred",
    "Reopening. It\u0027s easy for us to workaround this problem and it makes a real\nmess for the user if they happen to hit it.",
    "*** Bug 39322 has been marked as a duplicate of this bug. ***",
    "Fixed. I use the IWorkspace routine to validate the project name. When an error \noccurrs on the first tab, seoncday tabs do not validate (so there are no errors \ngenerated from the classpath tab).",
    "Please verify, Jared.",
    "Verified."
  ],
  "commentCreationDates": [
    "2003-03-18T13:27:13+01:00",
    "2003-03-18T13:33:39+01:00",
    "2003-03-18T15:03:05+01:00",
    "2003-03-18T15:05:40+01:00",
    "2003-03-18T16:01:21+01:00",
    "2003-03-18T16:20:28+01:00",
    "2003-03-18T17:58:02+01:00",
    "2003-03-18T18:02:06+01:00",
    "2003-03-18T21:49:43+01:00",
    "2003-03-18T21:50:14+01:00",
    "2003-04-09T18:09:47+02:00",
    "2003-06-25T15:35:27+02:00",
    "2003-07-11T20:54:52+02:00",
    "2003-07-11T20:55:06+02:00",
    "2003-07-15T02:43:51+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Path for project must have only one segment.",
      "elements": [
        {
          "method": "org.eclipse.core.internal.utils.Assert.isLegal",
          "source": "Assert.java:55"
        },
        {
          "method": "org.eclipse.core.internal.resources.WorkspaceRoot.getProject",
          "source": "WorkspaceRoot.java:112"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModel.getJavaProject",
          "source": "JavaModel.java:355"
        },
        {
          "method": "org.eclipse.jdt.launching.JavaRuntime.getJavaProject",
          "source": "JavaRuntime.java:979"
        },
        {
          "method": "org.eclipse.jdt.launching.JavaRuntime.computeVMInstall",
          "source": "JavaRuntime.java:1014"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.launcher.RuntimeClasspathEntryLabelProvider.getText",
          "source": "RuntimeClasspathEntryLabelProvider.java:142"
        },
        {
          "method": "org.eclipse.jface.viewers.TableViewer.doUpdateItem",
          "source": "TableViewer.java:201"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run",
          "source": "StructuredViewer.java:119"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:867"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:413"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateItem",
          "source": "StructuredViewer.java:1271"
        },
        {
          "method": "org.eclipse.jface.viewers.TableViewer.internalRefresh",
          "source": "TableViewer.java:454"
        },
        {
          "method": "org.eclipse.jface.viewers.TableViewer.internalRefresh",
          "source": "TableViewer.java:431"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$7.run",
          "source": "StructuredViewer.java:861"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.preservingSelection",
          "source": "StructuredViewer.java:801"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.refresh",
          "source": "StructuredViewer.java:859"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.refresh",
          "source": "StructuredViewer.java:821"
        },
        {
          "method": "org.eclipse.jface.viewers.TableViewer.inputChanged",
          "source": "TableViewer.java:398"
        },
        {
          "method": "org.eclipse.jface.viewers.ContentViewer.setInput",
          "source": "ContentViewer.java:238"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.setInput",
          "source": "StructuredViewer.java:991"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.launcher.RuntimeClasspathViewer.setEntries",
          "source": "RuntimeClasspathViewer.java:100"
        },
        {
          "method": "org.eclipse.jdt.debug.ui.launchConfigurations.JavaClasspathTab.setClasspathEntries",
          "source": "JavaClasspathTab.java:303"
        },
        {
          "method": "org.eclipse.jdt.debug.ui.launchConfigurations.JavaClasspathTab.initializeFrom",
          "source": "JavaClasspathTab.java:252"
        },
        {
          "method": "org.eclipse.debug.ui.AbstractLaunchConfigurationTabGroup.initializeFrom",
          "source": "AbstractLaunchConfigurationTabGroup.java:84"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer.displayTabs",
          "source": "LaunchConfigurationTabGroupViewer.java:488"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer.inputChanged",
          "source": "LaunchConfigurationTabGroupViewer.java:448"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.showSaveChangesDialog",
          "source": "LaunchConfigurationsDialog.java:1117"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.showUnsavedChangesDialog",
          "source": "LaunchConfigurationsDialog.java:1084"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.canDiscardCurrentConfig",
          "source": "LaunchConfigurationsDialog.java:1070"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.handleClosePressed",
          "source": "LaunchConfigurationsDialog.java:1153"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.buttonPressed",
          "source": "LaunchConfigurationsDialog.java:315"
        }
      ],
      "number": 0,
      "commentIndex": 6,
      "bugId": "35208",
      "date": "2003-03-18T17:58:02+01:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "35208",
  "bugId": "35208",
  "date": "2003-03-18T13:27:13+01:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "normal"
}