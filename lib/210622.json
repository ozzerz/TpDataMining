{
  "comments": [
    "Descrition:\nError occurs when change the value of a cascading parameter.\n\nbuild version:\nv20071122-0800\n\nsteps to reproduce:\n1. New a report.\n2. New a datasource with sample DB and new a dataset with table CUSTOMERS.\n3. New cascading parameter.Add a parameter p1, select COUNTRY as value and Display text.\n4. Fomat p1 as Uppercase. \n5. Save the report.\n6. Double click the cascading parameter and select p1, change its value to CUSTOMERNUMBER and click OK.\n\nExpected result: No error should pop up.\n\nActual result: Error pops up.\n\nError log:\njava.lang.NullPointerException\n\tat org.eclipse.birt.report.designer.ui.dialogs.CascadingParametersDialog.updateFormatField(CascadingParametersDialog.java:1924)\n\tat org.eclipse.birt.report.designer.ui.dialogs.CascadingParametersDialog.initFormatField(CascadingParametersDialog.java:1773)\n\tat org.eclipse.birt.report.designer.ui.dialogs.CascadingParametersDialog.changeDataType(CascadingParametersDialog.java:1694)\n\tat org.eclipse.birt.report.designer.ui.dialogs.CascadingParametersDialog.refreshParameterProperties(CascadingParametersDialog.java:1645)\n\tat org.eclipse.birt.report.designer.ui.dialogs.CascadingParametersDialog.editParameter(CascadingParametersDialog.java:764)\n\tat org.eclipse.birt.report.designer.ui.dialogs.CascadingParametersDialog$12.doubleClick(CascadingParametersDialog.java:674)\n\tat org.eclipse.jface.viewers.StructuredViewer$1.run(StructuredViewer.java:799)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:857)\n\tat org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:46)\n\tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:199)\n\tat org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick(StructuredViewer.java:797)\n\tat org.eclipse.jface.viewers.StructuredViewer.handleDoubleSelect(StructuredViewer.java:1061)\n\tat org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected(StructuredViewer.java:1173)\n\tat org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent(OpenStrategy.java:237)\n\tat org.eclipse.jface.util.OpenStrategy.access$0(OpenStrategy.java:234)\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:295)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:947)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3744)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3355)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:825)\n\tat org.eclipse.jface.window.Window.open(Window.java:801)\n\tat org.eclipse.birt.report.designer.internal.ui.dialogs.BaseDialog.open(BaseDialog.java:109)\n\tat org.eclipse.birt.report.designer.internal.ui.views.data.providers.CascadingParameterGroupNodeProvider.performEdit(CascadingParameterGroupNodeProvider.java:75)\n\tat org.eclipse.birt.report.designer.internal.ui.views.DefaultNodeProvider.performRequest(DefaultNodeProvider.java:371)\n\tat sun.reflect.GeneratedMethodAccessor17.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.birt.report.designer.ui.views.ElementAdapterInvocationHandler.invoke(ElementAdapterInvocationHandler.java:89)\n\tat $Proxy1.performRequest(Unknown Source)\n\tat org.eclipse.birt.report.designer.internal.ui.views.actions.EditAction.doAction(EditAction.java:80)\n\tat org.eclipse.birt.report.designer.internal.ui.views.actions.AbstractElementAction.run(AbstractElementAction.java:64)\n\tat org.eclipse.birt.report.designer.internal.ui.views.RenameListener.doubleClick(RenameListener.java:214)\n\tat org.eclipse.jface.viewers.StructuredViewer$1.run(StructuredViewer.java:799)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:857)\n\tat org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:46)\n\tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:199)\n\tat org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick(StructuredViewer.java:797)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.handleDoubleSelect(AbstractTreeViewer.java:1398)\n\tat org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected(StructuredViewer.java:1173)\n\tat org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent(OpenStrategy.java:237)\n\tat org.eclipse.jface.util.OpenStrategy.access$0(OpenStrategy.java:234)\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:295)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:947)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3744)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3355)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2395)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2359)\n\tat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2225)\n\tat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:468)\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:288)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:463)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:362)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:175)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:515)\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:455)\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1193)",
    "In step 6, when you change the value from CITY to CUSTOMERNUMBER, the data type also updates.The previous value is string, and the latter one is integer. For parameters with different data types have different format choice, and When setting Uppercase to string type, it\u0027s OK, but invalid for integer type. \n\nSo when data type is changed, if the format type is invalid for the new type, then set it to \"Unformatted\".\nFixed.",
    "verified and closed on build 2.3.0 v20071126-0800.\n"
  ],
  "commentCreationDates": [
    "2007-11-22T08:43:42+01:00",
    "2007-11-23T06:31:05+01:00",
    "2007-11-26T09:54:26+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.birt.report.designer.ui.dialogs.CascadingParametersDialog.updateFormatField",
          "source": "CascadingParametersDialog.java:1924"
        },
        {
          "method": "org.eclipse.birt.report.designer.ui.dialogs.CascadingParametersDialog.initFormatField",
          "source": "CascadingParametersDialog.java:1773"
        },
        {
          "method": "org.eclipse.birt.report.designer.ui.dialogs.CascadingParametersDialog.changeDataType",
          "source": "CascadingParametersDialog.java:1694"
        },
        {
          "method": "org.eclipse.birt.report.designer.ui.dialogs.CascadingParametersDialog.refreshParameterProperties",
          "source": "CascadingParametersDialog.java:1645"
        },
        {
          "method": "org.eclipse.birt.report.designer.ui.dialogs.CascadingParametersDialog.editParameter",
          "source": "CascadingParametersDialog.java:764"
        },
        {
          "method": "org.eclipse.birt.report.designer.ui.dialogs.CascadingParametersDialog$12.doubleClick",
          "source": "CascadingParametersDialog.java:674"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$1.run",
          "source": "StructuredViewer.java:799"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:857"
        },
        {
          "method": "org.eclipse.ui.internal.JFaceUtil$1.run",
          "source": "JFaceUtil.java:46"
        },
        {
          "method": "org.eclipse.jface.util.SafeRunnable.run",
          "source": "SafeRunnable.java:199"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick",
          "source": "StructuredViewer.java:797"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleDoubleSelect",
          "source": "StructuredViewer.java:1061"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected",
          "source": "StructuredViewer.java:1173"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent",
          "source": "OpenStrategy.java:237"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$0",
          "source": "OpenStrategy.java:234"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "OpenStrategy.java:295"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:947"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3744"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3355"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:825"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:801"
        },
        {
          "method": "org.eclipse.birt.report.designer.internal.ui.dialogs.BaseDialog.open",
          "source": "BaseDialog.java:109"
        },
        {
          "method": "org.eclipse.birt.report.designer.internal.ui.views.data.providers.CascadingParameterGroupNodeProvider.performEdit",
          "source": "CascadingParameterGroupNodeProvider.java:75"
        },
        {
          "method": "org.eclipse.birt.report.designer.internal.ui.views.DefaultNodeProvider.performRequest",
          "source": "DefaultNodeProvider.java:371"
        },
        {
          "method": "sun.reflect.GeneratedMethodAccessor17.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.designer.ui.views.ElementAdapterInvocationHandler.invoke",
          "source": "ElementAdapterInvocationHandler.java:89"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "210622",
      "date": "2007-11-22T08:43:42+01:00",
      "product": "BIRT",
      "component": "Report Designer",
      "severity": "normal"
    }
  ],
  "groupId": "210622",
  "bugId": "210622",
  "date": "2007-11-22T08:43:42+01:00",
  "product": "BIRT",
  "component": "Report Designer",
  "severity": "normal"
}