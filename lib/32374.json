{
  "comments": [
    "I get the folloing exception parsing a build file with external entity:\n\norg.eclipse.jface.text.BadLocationException\n\tat org.eclipse.jface.text.AbstractLineTracker.getLineOffset\n(AbstractLineTracker.java:214)\n\tat org.eclipse.jface.text.AbstractDocument.getLineOffset\n(AbstractDocument.java:688)\n\tat \norg.eclipse.ui.externaltools.internal.ant.editor.outline.OutlinePreparingHandler\n.getColumn(OutlinePreparingHandler.java:688)\n\tat \norg.eclipse.ui.externaltools.internal.ant.editor.outline.OutlinePreparingHandler\n.computeStartLocation(OutlinePreparingHandler.java:564)\n\tat \norg.eclipse.ui.externaltools.internal.ant.editor.outline.OutlinePreparingHandler\n.startElement(OutlinePreparingHandler.java:120)\n\tat com.sun.org.apache.crimson.internal.parser.Parser2.maybeElement\n(Parser2.java:1490)\n\tat com.sun.org.apache.crimson.internal.parser.Parser2.content\n(Parser2.java:1779)\n\tat com.sun.org.apache.crimson.internal.parser.Parser2.maybeElement\n(Parser2.java:1507)\n\tat com.sun.org.apache.crimson.internal.parser.Parser2.content\n(Parser2.java:1779)\n\tat \ncom.sun.org.apache.crimson.internal.parser.Parser2.externalParsedEntity\n(Parser2.java:2827)\n\tat \ncom.sun.org.apache.crimson.internal.parser.Parser2.expandEntityInContent\n(Parser2.java:2545)\n\tat \ncom.sun.org.apache.crimson.internal.parser.Parser2.maybeReferenceInContent\n(Parser2.java:2422)\n\tat com.sun.org.apache.crimson.internal.parser.Parser2.content\n(Parser2.java:1833)\n\tat com.sun.org.apache.crimson.internal.parser.Parser2.maybeElement\n(Parser2.java:1507)\n\tat com.sun.org.apache.crimson.internal.parser.Parser2.parseInternal\n(Parser2.java:500)\n\tat com.sun.org.apache.crimson.internal.parser.Parser2.parse\n(Parser2.java:305)\n\tat com.sun.org.apache.crimson.internal.parser.XMLReaderImpl.parse\n(XMLReaderImpl.java:442)\n\tat javax.xml.parsers.SAXParser.parse(SAXParser.java:345)\n\tat \norg.eclipse.ui.externaltools.internal.ant.editor.outline.AntModel.parseDocument\n(AntModel.java:187)\n\tat \norg.eclipse.ui.externaltools.internal.ant.editor.outline.AntModel.reconcile\n(AntModel.java:103)\n\tat \norg.eclipse.ui.externaltools.internal.ant.editor.text.XMLReconcilingStrategy.int\nernalReconcile(XMLReconcilingStrategy.java:40)\n\tat \norg.eclipse.ui.externaltools.internal.ant.editor.text.XMLReconcilingStrategy.rec\noncile(XMLReconcilingStrategy.java:48)\n\tat org.eclipse.jface.text.reconciler.MonoReconciler.process\n(MonoReconciler.java:76)\n\tat \norg.eclipse.ui.externaltools.internal.ant.editor.text.NotifyingReconciler.proces\ns(NotifyingReconciler.java:40)\n\tat \norg.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run\n(AbstractReconciler.java:189)",
    "main.xml---\n\u003c?xml version\u003d\"1.0\"  encoding\u003d\"iso-8859-1\"?\u003e\n\u003c!DOCTYPE project   [\n\u003c!ENTITY common SYSTEM \"file:src1/common.xml\"\u003e\n]\u003e\n\n\u003cproject name\u003d\"SomeProject\" default\u003d\"main2\" basedir\u003d\".\"\u003e\n  \n\u0026common;\n\n\u003c/project\u003e\n\ncommon.xml ----\n\u003ctarget name\u003d\"main2\"\u003e\n\t\u003cecho message\u003d \"Main2\"/\u003e\n\u003c/target\u003e",
    "Created an attachment (id\u003d3608)\nAdds handling of external elements to OutlinePreparingHandler (partial\nsolution)\n\nThe new code for computing the source locations currently doesn\u0027t support\nexternal elements properly.\nThis patch addresses only part of the problem, namely startEntity(..) and\nfixEndLocations(..) still lack proper support.\n",
    "Thanks again Christof.\n\nI fixed it up a little to distinguish between the \"root external entity\" (which \ndoes exist in the document) and true external entities.\nThis way the source locations are set properly for the external root element.",
    "Please verify (Jared).",
    "Verified."
  ],
  "commentCreationDates": [
    "2003-02-20T18:13:27+01:00",
    "2003-02-20T18:17:04+01:00",
    "2003-02-20T19:55:13+01:00",
    "2003-02-20T20:45:07+01:00",
    "2003-02-20T20:45:34+01:00",
    "2003-02-20T23:00:06+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.jface.text.BadLocationException",
      "elements": [
        {
          "method": "org.eclipse.jface.text.AbstractLineTracker.getLineOffset",
          "source": "AbstractLineTracker.java:214"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.getLineOffset",
          "source": "AbstractDocument.java:688"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.editor.outline.OutlinePreparingHandler.getColumn",
          "source": "OutlinePreparingHandler.java:688"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.editor.outline.OutlinePreparingHandler.computeStartLocation",
          "source": "OutlinePreparingHandler.java:564"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.editor.outline.OutlinePreparingHandler.startElement",
          "source": "OutlinePreparingHandler.java:120"
        },
        {
          "method": "com.sun.org.apache.crimson.internal.parser.Parser2.maybeElement",
          "source": "Parser2.java:1490"
        },
        {
          "method": "com.sun.org.apache.crimson.internal.parser.Parser2.content",
          "source": "Parser2.java:1779"
        },
        {
          "method": "com.sun.org.apache.crimson.internal.parser.Parser2.maybeElement",
          "source": "Parser2.java:1507"
        },
        {
          "method": "com.sun.org.apache.crimson.internal.parser.Parser2.content",
          "source": "Parser2.java:1779"
        },
        {
          "method": "com.sun.org.apache.crimson.internal.parser.Parser2.externalParsedEntity",
          "source": "Parser2.java:2827"
        },
        {
          "method": "com.sun.org.apache.crimson.internal.parser.Parser2.expandEntityInContent",
          "source": "Parser2.java:2545"
        },
        {
          "method": "com.sun.org.apache.crimson.internal.parser.Parser2.maybeReferenceInContent",
          "source": "Parser2.java:2422"
        },
        {
          "method": "com.sun.org.apache.crimson.internal.parser.Parser2.content",
          "source": "Parser2.java:1833"
        },
        {
          "method": "com.sun.org.apache.crimson.internal.parser.Parser2.maybeElement",
          "source": "Parser2.java:1507"
        },
        {
          "method": "com.sun.org.apache.crimson.internal.parser.Parser2.parseInternal",
          "source": "Parser2.java:500"
        },
        {
          "method": "com.sun.org.apache.crimson.internal.parser.Parser2.parse",
          "source": "Parser2.java:305"
        },
        {
          "method": "com.sun.org.apache.crimson.internal.parser.XMLReaderImpl.parse",
          "source": "XMLReaderImpl.java:442"
        },
        {
          "method": "javax.xml.parsers.SAXParser.parse",
          "source": "SAXParser.java:345"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.editor.outline.AntModel.parseDocument",
          "source": "AntModel.java:187"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.editor.outline.AntModel.reconcile",
          "source": "AntModel.java:103"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.editor.text.XMLReconcilingStrategy.internalReconcile",
          "source": "XMLReconcilingStrategy.java:40"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.editor.text.XMLReconcilingStrategy.reconcile",
          "source": "XMLReconcilingStrategy.java:48"
        },
        {
          "method": "org.eclipse.jface.text.reconciler.MonoReconciler.process",
          "source": "MonoReconciler.java:76"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.editor.text.NotifyingReconciler.process",
          "source": "NotifyingReconciler.java:40"
        },
        {
          "method": "org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run",
          "source": "AbstractReconciler.java:189"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "32374",
      "date": "2003-02-20T18:13:27+01:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    }
  ],
  "groupId": "32374",
  "bugId": "32374",
  "date": "2003-02-20T18:13:27+01:00",
  "product": "Platform",
  "component": "Ant",
  "severity": "normal"
}