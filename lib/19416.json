{
  "comments": [
    "I got the following exception while playing around with cancellation:\n\njava.lang.NullPointerException\n\tat org.eclipse.team.internal.ccvs.core.resources.EclipseFile.isModified\n(EclipseFile.java:115)\n\tat org.eclipse.team.internal.ccvs.ui.CVSDecorator.isDirty\n(CVSDecorator.java:461)\n\tat org.eclipse.team.internal.ccvs.ui.CVSDecorator$4.visitFile\n(CVSDecorator.java:490)\n\tat org.eclipse.team.internal.ccvs.core.resources.EclipseFile.accept\n(EclipseFile.java:124)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseFolder.acceptChildren\n(EclipseFolder.java:135)\n\tat org.eclipse.team.internal.ccvs.ui.CVSDecorator$4.visitFolder\n(CVSDecorator.java:506)\n\tat org.eclipse.team.internal.ccvs.core.resources.EclipseFolder.accept\n(EclipseFolder.java:147)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseFolder.acceptChildren\n(EclipseFolder.java:139)\n\tat org.eclipse.team.internal.ccvs.ui.CVSDecorator$4.visitFolder\n(CVSDecorator.java:506)\n\tat org.eclipse.team.internal.ccvs.core.resources.EclipseFolder.accept\n(EclipseFolder.java:147)\n\tat org.eclipse.team.internal.ccvs.ui.CVSDecorator.isDirty\n(CVSDecorator.java:488)\n\tat org.eclipse.team.internal.ccvs.ui.CVSDecorationRunnable.decorate\n(CVSDecorationRunnable.java:149)\n\tat org.eclipse.team.internal.ccvs.ui.CVSDecorationRunnable.run\n(CVSDecorationRunnable.java:105)\n\tat java.lang.Thread.run(Thread.java:512)\n\nThe problem is in this code in EclipseFile:\n\n\tpublic boolean isModified() throws CVSException {\na)\t\tif (!exists() || !isManaged()) {\n\t\t\treturn true;\n\t\t} else {\nb)\t\t\tResourceSyncInfo info \u003d getSyncInfo();\n\t\t\t// consider a merged file as always modified.\n\t\t\tif(info.isMerged()) return true;\n\t\t\treturn !getTimeStamp().equals(info.getTimeStamp());\n\t\t}\n\t}\n\nThe call to isManaged() (line a) ends up calling getSyncInfo() to ensure there \nis sync info. The problem is that another thread cleared the sync info in \nbetween lines a and b.",
    "Make a method isManaged(SyncInfo) that does the \u003d\u003d null check so can centralize \nsemantics.  Call that from isModified() to guard against sync info becoming \nnull.",
    "Fixed and verified by JM"
  ],
  "commentCreationDates": [
    "2002-06-05T21:57:12+02:00",
    "2002-06-05T23:39:53+02:00",
    "2002-06-07T18:10:09+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseFile.isModified",
          "source": "EclipseFile.java:115"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.CVSDecorator.isDirty",
          "source": "CVSDecorator.java:461"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.CVSDecorator$4.visitFile",
          "source": "CVSDecorator.java:490"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseFile.accept",
          "source": "EclipseFile.java:124"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseFolder.acceptChildren",
          "source": "EclipseFolder.java:135"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.CVSDecorator$4.visitFolder",
          "source": "CVSDecorator.java:506"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseFolder.accept",
          "source": "EclipseFolder.java:147"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseFolder.acceptChildren",
          "source": "EclipseFolder.java:139"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.CVSDecorator$4.visitFolder",
          "source": "CVSDecorator.java:506"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseFolder.accept",
          "source": "EclipseFolder.java:147"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.CVSDecorator.isDirty",
          "source": "CVSDecorator.java:488"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.CVSDecorationRunnable.decorate",
          "source": "CVSDecorationRunnable.java:149"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.CVSDecorationRunnable.run",
          "source": "CVSDecorationRunnable.java:105"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:512"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "19416",
      "date": "2002-06-05T21:57:12+02:00",
      "product": "Platform",
      "component": "Team",
      "severity": "major"
    }
  ],
  "groupId": "19416",
  "bugId": "19416",
  "date": "2002-06-05T21:57:12+02:00",
  "product": "Platform",
  "component": "Team",
  "severity": "major"
}