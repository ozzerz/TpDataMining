{
  "comments": [
    "I am using the 4.4 candidate driver; run a sample running with java 5\nTry to delete the process after termination and get this exception\n\njava.lang.NullPointerException\nat org.eclipse.hyades.trace.ui.internal.actions.DeleteAction.isAgentSavedOnDisk(DeleteAction.java:430)\nat org.eclipse.hyades.trace.ui.internal.actions.DeleteAction.areThereFilesOnDisk(DeleteAction.java:411)\nat org.eclipse.hyades.trace.ui.internal.actions.DeleteAction.run(DeleteAction.java:275)\nat org.eclipse.tptp.trace.ui.provisional.control.provider.AbstractControlProvider$ControlItemAdapter.run(AbstractControlProvider.java:182)\nat org.eclipse.jface.action.Action.runWithEvent(Action.java:498)\nat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:545)\nat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490)\nat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:402)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3682)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3293)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353)\nat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219)\nat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)\nat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\nat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\nat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:615)\nat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:504)\nat org.eclipse.equinox.launcher.Main.basicRun(Main.java:443)\nat org.eclipse.equinox.launcher.Main.run(Main.java:1169)",
    "This issue has been reported by a user; marking defect as 4.4.0.1 candidate\n\nEugene, can you please investigate ",
    "Hi Valentina,\n\nI cannot reproduce the problem with the following user cases:\n1. profile an application until it exits, and delete from profile monitor view.\n2. profile an application and terminate from WB profile action, and delete from profile monitor view.\n3. profile an application and terminate from application, and delete from profile monitor view.\n\nI am using tptp.sdk-TPTP-4.4.0-200706140100C build.\n\nBy looking at the code, the exception is thrown at line \n  String agentPath \u003d agentProxy.getAgent().eResource().getURI().toString();\nwhich is very unlikely to have a null reference.\n\nWould you please provide a use case to reproduce the problem (from the user maybe)?",
    "I talked with Ed and he wasn\u0027t able to reproduce this NPE today, I suspect the agent could be null on that line if a previous delete was not completed and the TRCAgentProxy was not removed from the UI and the link to TRCAgent was removed.\n\nEugene for now you could add some code to handle the exception even if this is not easy reproducible.\n",
    "Created an attachment (id\u003d72615)\npatch\n\nMarius, please review the patch and I will request approval if it\u0027s okay with you.\nThanks.",
    "It looks fine, please also add something like this before returning true:\n\nif(ModelDebugger.INSTANCE.debug)\n{\n  ModelDebugger.log(e)\n}",
    "Created an attachment (id\u003d72638)\nupdated patch based on Marius\u0027 feedback.\n\n",
    "The user cannot reproduce the problem ",
    "Approved by PMC and project lead. Patch is checked in."
  ],
  "commentCreationDates": [
    "2007-06-27T05:20:54+02:00",
    "2007-06-27T05:22:37+02:00",
    "2007-06-27T17:01:50+02:00",
    "2007-06-27T17:18:27+02:00",
    "2007-06-27T17:35:20+02:00",
    "2007-06-27T19:50:50+02:00",
    "2007-06-27T20:44:46+02:00",
    "2007-06-27T20:45:44+02:00",
    "2007-06-27T21:46:37+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.hyades.trace.ui.internal.actions.DeleteAction.isAgentSavedOnDisk",
          "source": "DeleteAction.java:430"
        },
        {
          "method": "org.eclipse.hyades.trace.ui.internal.actions.DeleteAction.areThereFilesOnDisk",
          "source": "DeleteAction.java:411"
        },
        {
          "method": "org.eclipse.hyades.trace.ui.internal.actions.DeleteAction.run",
          "source": "DeleteAction.java:275"
        },
        {
          "method": "org.eclipse.tptp.trace.ui.provisional.control.provider.AbstractControlProvider$ControlItemAdapter.run",
          "source": "AbstractControlProvider.java:182"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:498"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:545"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:490"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:402"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3682"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3293"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2389"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2353"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2219"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:466"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:461"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:153"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:363"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:176"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:64"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:43"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:615"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:504"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:443"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1169"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "194542",
      "date": "2007-06-27T05:20:54+02:00",
      "product": "TPTP Profiling",
      "component": "Platform.UI.ProfilingPerspective",
      "severity": "critical"
    }
  ],
  "groupId": "194542",
  "bugId": "194542",
  "date": "2007-06-27T05:20:54+02:00",
  "product": "TPTP Profiling",
  "component": "Platform.UI.ProfilingPerspective",
  "severity": "critical"
}