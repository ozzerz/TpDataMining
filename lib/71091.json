{
  "comments": [
    "Per analysis by Frank Malin, apparently there is a code page mis-match between \nthe code page which the hyades pre-req was compiled in and the Arabic code page \nused on Windows 2000 Professional Arabic during startserver server1 attempts on \nrecent WAS 6.0 drivers, including m0430.05 and m0429.27.\n\nCode page that Windows is using for the command prompt in which startserver \nserver1 is attempted, is 720, reported by the command mode con codepage /status.\n\nJohn Alcorn recommended that this be reported in this database.  It is also \ndocumented in CMVC as defect 220132, family botp, component WAS.ras, release \nWASX.IBASE, severity 2.\n\nSymptom is an InvocationTargetException on Windows 2000 Professional Arabic \nas the result of the startserver server1 command.\n\nNot reproduced on other Windows language platforms:  English, German, Greek, \nJapanese, Simplified Chinese.\n\nC:\\was60\\bin\u003estartserver server1\n*** creating org.eclipse.emf.ecore.impl.EPackageRegistryImpl\nADMU0116I: Tool information is being logged in file\n           C:\\was60\\profiles\\was60sas\\logs\\server1\\startServer.log\njava.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:85)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:58)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:60)\n        at java.lang.reflect.Method.invoke(Method.java:391)\n        at com.ibm.ws.bootstrap.WSLauncher.main(WSLauncher.java:186)\nCaused by: java.lang.IllegalStateException: 2004-07-28T14:01:05.312Z is not \na valid xsd:dateTime string\n        at \norg.eclipse.hyades.logging.events.cbe.impl.CommonBaseEventImpl.getCrea\ntionTimeAsLong(CommonBaseEventImpl.java:588)\n        at \norg.eclipse.hyades.logging.java.CommonBaseEventLogRecord.getMillis(Com\nmonBaseEventLogRecord.java:590)\n        at com.ibm.ws.logging.TraceLogFormatter.formatTimeAndThread\n(TraceLogFormatter.java:96)\n        at com.ibm.ws.logging.TraceLogFormatter.formatHeaderBasic\n(TraceLogFormatter.java:170)\n        at com.ibm.ws.logging.TraceLogFormatter.formatBasic\n(TraceLogFormatter.java:362)\n        at com.ibm.ejs.ras.TraceLogger.doLog(TraceLogger.java:224)\n        at com.ibm.ejs.ras.TraceLogger.processEvent(TraceLogger.java:215)\n        at com.ibm.ws.logging.WsHandlerWrapper.publish\n(WsHandlerWrapper.java:40)\n        at java.util.logging.Logger.log(Logger.java:438)\n        at com.ibm.ejs.ras.Tr.logToJSR47Logger(Tr.java:1478)\n        at com.ibm.ejs.ras.Tr.fireEvent(Tr.java:1418)\n        at com.ibm.ejs.ras.Tr.fireMessageEvent(Tr.java:1353)\n        at com.ibm.ejs.ras.Tr.error(Tr.java:635)\n        at com.ibm.ws.management.tools.AdminTool.executeUtility\n(AdminTool.java:230)\n        at com.ibm.ws.management.tools.WsServerController.executeUtility\n(WsServerController.java:108)\n        at com.ibm.ws.management.tools.WsServerLauncher.main\n(WsServerLauncher.java:148)\n        ... 6 more\n\nC:\\was60\\bin\u003e\n\nFollowing are Frank Malin\u0027s findings, posted on websphere.austin.ibm.com \nnewsgroup in ibm.websphere.appserver.wbi.general under topic\n\"WAS 6.0 startserver exception on Windows Arabic\".\n\n****\n\nWed 28 Jul 2004\nSubject: Re: WAS 6.0 startserver exception on Windows Arabic\nFrom: \"Frank Malin\" \u003cmalin@us.ibm.com\u003e\nNewsgroups: ibm.websphere.appserver.wbi.general\n\nJack, \nI took a quick look at the problem, I think that you should start by opening a \ndefect against the WAS.ras component on this one. It seems that they are using \nhyades to do some formatting of the date time string. I suspect that there is a \ncode page mis-match between the code page which the hyades pre-req was compiled \nin and the Arabic code page which you are running with. \n\nAlthough, I can not be 100% certain, it seems that the hyades line which is \nfailing is : \n\n/* 334*/            int k \u003d s.indexOf(\u0027-\u0027);\n/* 336*/            if(k \u003d\u003d -1)\n/* 337*/                throw new IllegalArgumentException(s + \" is not a valid \nxsd:dateTime. Cannot find \u0027-\u0027.\");\n\nAs indicates in the message that you get, the timestamp : \n2004-07-28T14:01:05.312Z is what is causing the failure, looking at the code \nit seems that this is the only check which could really fail. And it seems that \nthe - is the only thing which could cause the failure to occur...\n\nHope that help, although, I am not sure that you will be able to get your \ndriver started. \n\nFrank\n\n****\n\nAfter Frank\u0027s findings came an endorsement from John Alcorn:\n\n****\n\nWed 28 Jul 2004\nSubject: Re: WAS 6.0 startserver exception on Windows Arabic\nFrom: \"John W. Alcorn\" \u003cjalcorn@us.ibm.com\u003e\nNewsgroups: ibm.websphere.appserver.wbi.general\n\nFrank,\n     That\u0027s some good debugging.  You should probably report this via the \nHyades Bugzilla database at http://www.eclipse.org/hyades.  And FYI, Hyades \nis now being brought into the 6.0 builds via WCCM (just like other Eclipse \nprojects, such as EMF, SDO, and XSD), instead of via the RAS component, so \nanyone using Hyades in their component should now list a dependency on \nprereq.wccm if you didn\u0027t already have that.  The Hyades jars are now part \nof the build output in WCCM, and are there in WCCM build 6.008 (available at \nftp://websphere.raleigh.ibm.com/WebSphere/prereqs/wccm/6.008/).\n\nJohn W. Alcorn (jalcorn@us.ibm.com)\nSenior Software Engineer\nWebSphere Business Integration Development (WCCM, CMP/A, etc.) \u0026 Bring-Up\nhttp://www.ibm.com/software/integration/wbisf/features\n\n****\n\nJack Kipp\nkipp@us.ibm.com\n\nFrank Malin\nmalin@us.ibm.com\n\nJohn Alcorn\njalcorn@us.ibm.com",
    "Richard,\nThis is about the org.eclipse.hyades.logging.java14 plugin.",
    "Paul,\n\nCan you take a look at this?  This is likely either due to RAS setting an \ninvalid time field or we are not creating a valid timefield from the content \nwhich is being set.  I would recommend you work with Don Bourne on this.",
    "This defect has been fixed under Hyades defect #69256 \n(https://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d69256).  \n\nThe hlcbe101.jar files associated with WebSphere Application Server v6 \ninstallation on the Windows 2000 Professional Arabic machine are from the \n20040608_1355 Hyades build and do not contain the #69256 fix.  \n\n\n*** This bug has been marked as a duplicate of 69256 ***",
    "Test case to verify fix:\n\nimport java.util.Locale;\n\nimport org.eclipse.hyades.logging.events.cbe.CommonBaseEvent;\nimport org.eclipse.hyades.logging.events.cbe.EventFactory;\n\npublic class Test {\n\n    public static void main(String[] args) {\n       \n        Locale.setDefault(new Locale(\"ar\",\"SA\"));        \n            \n        CommonBaseEvent commonBaseEvent \u003d \nEventFactory.eINSTANCE.createCommonBaseEvent();\n        commonBaseEvent.setCreationTimeAsLong(System.currentTimeMillis());\n        \n        System.out.println(\"LONG: \" + commonBaseEvent.getCreationTimeAsLong());\n        System.out.println(\"LOCALE: \"+Locale.getDefault());\n    }\n}",
    "Paul Slauenwhite reports that he has a fix for this problem in Hyades 3.0.1, \ndated July 12 or later.  WAS base needs to pick up this version of Hyades\nin order to fix the problem starting the server in Arabic.\n"
  ],
  "commentCreationDates": [
    "2004-07-29T17:45:33+02:00",
    "2004-07-29T18:15:57+02:00",
    "2004-07-29T18:22:46+02:00",
    "2004-08-04T21:44:47+02:00",
    "2004-08-05T23:14:24+02:00",
    "2004-08-05T23:35:59+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.reflect.InvocationTargetException",
      "elements": [
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:58"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:60"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:391"
        },
        {
          "method": "com.ibm.ws.bootstrap.WSLauncher.main",
          "source": "WSLauncher.java:186"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.IllegalStateException",
        "message": "2004-07-28T14:01:05.312Z is not  a valid xsd:dateTime string",
        "elements": [
          {
            "method": "org.eclipse.hyades.logging.events.cbe.impl.CommonBaseEventImpl.getCreationTimeAsLong",
            "source": "CommonBaseEventImpl.java:588"
          },
          {
            "method": "org.eclipse.hyades.logging.java.CommonBaseEventLogRecord.getMillis",
            "source": "Com monBaseEventLogRecord.java:590"
          },
          {
            "method": "com.ibm.ws.logging.TraceLogFormatter.formatTimeAndThread",
            "source": "TraceLogFormatter.java:96"
          },
          {
            "method": "com.ibm.ws.logging.TraceLogFormatter.formatHeaderBasic",
            "source": "TraceLogFormatter.java:170"
          },
          {
            "method": "com.ibm.ws.logging.TraceLogFormatter.formatBasic",
            "source": "TraceLogFormatter.java:362"
          },
          {
            "method": "com.ibm.ejs.ras.TraceLogger.doLog",
            "source": "TraceLogger.java:224"
          },
          {
            "method": "com.ibm.ejs.ras.TraceLogger.processEvent",
            "source": "TraceLogger.java:215"
          },
          {
            "method": "com.ibm.ws.logging.WsHandlerWrapper.publish",
            "source": "WsHandlerWrapper.java:40"
          },
          {
            "method": "java.util.logging.Logger.log",
            "source": "Logger.java:438"
          },
          {
            "method": "com.ibm.ejs.ras.Tr.logToJSR47Logger",
            "source": "Tr.java:1478"
          },
          {
            "method": "com.ibm.ejs.ras.Tr.fireEvent",
            "source": "Tr.java:1418"
          },
          {
            "method": "com.ibm.ejs.ras.Tr.fireMessageEvent",
            "source": "Tr.java:1353"
          },
          {
            "method": "com.ibm.ejs.ras.Tr.error",
            "source": "Tr.java:635"
          },
          {
            "method": "com.ibm.ws.management.tools.AdminTool.executeUtility",
            "source": "AdminTool.java:230"
          },
          {
            "method": "com.ibm.ws.management.tools.WsServerController.executeUtility",
            "source": "WsServerController.java:108"
          },
          {
            "method": "com.ibm.ws.management.tools.WsServerLauncher.main",
            "source": "WsServerLauncher.java:148"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "71091",
      "duplicateId": "69256",
      "date": "2004-07-29T17:45:33+02:00",
      "product": "Hyades",
      "component": "Hyades",
      "severity": "major"
    }
  ],
  "groupId": "69256",
  "bugId": "71091",
  "duplicateId": "69256",
  "date": "2004-07-29T17:45:33+02:00",
  "product": "Hyades",
  "component": "Hyades",
  "severity": "major"
}