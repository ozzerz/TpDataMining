{
  "comments": [
    "build.eclipse.org is unable to run eclipse with a GUI.\n\nTo replicate the problem do this:\n\n1) SSH to build.eclipse.org - set X tunneling over ssh\n   (this is only necessary because it is the only way we can access)\n\n2) tar zxvf ~/downloads/eclipse/downloads/drops/R-3.1.1-200509290840/eclipse-SDK-3.1.1-linux-gtk-ppc.tar.gz\n\n3) run eclipse.\n\nYou will get the following exception recorded in the .log file.  The exception suggests that eclipse is unable initialize its OS/platform support - meaning GTK.\n\nThis problem is a blocking issue for us to run WTP builds on build.eclipse.org.   Build depends on our ability to run eclipse in gui and headless modes.  We are able to run eclipse in the headless mode, but not with a GUI.\n\n\n\n\n!SESSION 2006-01-28 01:50:43.658 -----------------------------------------------\neclipse.buildId\u003dM20050929-0840\njava.fullversion\u003dJ2RE 1.4.2 IBM build cxp64142-20050929 (SR3) (JIT enabled: jitc)\nBootLoader constants: OS\u003dlinux, ARCH\u003dppc, WS\u003dgtk, NL\u003den_US\nCommand-line arguments:  -os linux -ws gtk -arch ppc\n\n!ENTRY org.eclipse.osgi 2006-01-28 01:50:49.750\n!MESSAGE Application error\n!STACK 1\njava.lang.ExceptionInInitializerError\n        at org.eclipse.swt.internal.Converter.wcsToMbcs(Converter.java:63)\n        at org.eclipse.swt.internal.Converter.wcsToMbcs(Converter.java:54)\n        at org.eclipse.swt.widgets.Display.\u003cclinit\u003e(Display.java:122)\n        at org.eclipse.ui.internal.Workbench.createDisplay(Workbench.java:381)\n        at org.eclipse.ui.PlatformUI.createDisplay(PlatformUI.java:155)\n        at org.eclipse.ui.internal.ide.IDEApplication.createDisplay(IDEApplication.java:128)\n        at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:79)\n        at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)\n        at java.lang.reflect.Method.invoke(Method.java:391)\n        at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n        at org.eclipse.core.launcher.Main.run(Main.java:973)\n        at org.eclipse.core.launcher.Main.main(Main.java:948)\nCaused by: java.lang.NullPointerException\n        at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:2171)\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1988)\n        at java.lang.Runtime.loadLibrary0(Runtime.java:824)\n        at java.lang.System.loadLibrary(System.java:910)\n        at org.eclipse.swt.internal.Library.loadLibrary(Library.java:123)\n        at org.eclipse.swt.internal.gtk.OS.\u003cclinit\u003e(OS.java:19)",
    "*** Bug 125607 has been marked as a duplicate of this bug. ***",
    "*** Bug 125606 has been marked as a duplicate of this bug. ***",
    "I was able to launch KDE, the Konqueror browser, an e-mail application and a host of other X-based applications on that box. I tried Eclipse and I got an exception regarding swt.\n\nI suggest filing a bug against Eclipse.  strace shows that Eclipse seems to load the GTK libraries properly.  This is out of my court.\n\n*shrug*\n\nD.",
    "Dearest friends in SWT-land ... can you please look at this stack trace and advise if its a \"silly user error\" ... or, if we have perhaps found an early bug on PPC, 64 bit installs of Eclipse? \n\n",
    "Steps to reproduce:\n\n- From a Linux box with an X Server, ssh -X build.eclipse.org\n- Confirm X sessions are tunneled: launching xclock appears on my linux display\n- Install Eclipse PPC: tar zxvf ~/downloads/eclipse/downloads/drops/R-3.1.1-200509290840/eclipse-SDK-3.1.1-linux-gtk-ppc.tar.gz\n- launch Eclipse: ./eclipse/eclipse\n\nHere is the stack trace I got when launching:\n\n!SESSION 2006-02-03 09:14:00.73 ------------------------------------------------\neclipse.buildId\u003dM20050929-0840\njava.fullversion\u003dJ2RE 1.4.2 IBM build cxp641420ifx-20040722 (142GA+75755) (JIT enabled: jitc)\nBootLoader constants: OS\u003dlinux, ARCH\u003dppc, WS\u003dgtk, NL\u003den_US\nCommand-line arguments:  -os linux -ws gtk -arch ppc\n\n!ENTRY org.eclipse.osgi 2006-02-03 09:14:18.719\n!MESSAGE Application error\n!STACK 1\njava.lang.UnsatisfiedLinkError: /home/data/users/droy/eclipse/configuration/org.eclipse.osgi/bundles/71/1/.cp/libswt-pi-gtk-3139.so: /home/data/users/droy/eclipse/configuration/org.eclipse.osgi/bundles/71/1/.cp/libswt-pi-gtk-3139.so: cannot open shared object file: No such file or directory\n        at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n        at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:2120)\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1968)\n        at java.lang.Runtime.loadLibrary0(Runtime.java:824)\n        at java.lang.System.loadLibrary(System.java:908)\n        at org.eclipse.swt.internal.Library.loadLibrary(Library.java:123)\n        at org.eclipse.swt.internal.gtk.OS.\u003cclinit\u003e(OS.java:19)\n        at org.eclipse.swt.internal.Converter.wcsToMbcs(Converter.java:63)\n        at org.eclipse.swt.internal.Converter.wcsToMbcs(Converter.java:54)\n        at org.eclipse.swt.widgets.Display.\u003cclinit\u003e(Display.java:122)\n        at org.eclipse.ui.internal.Workbench.createDisplay(Workbench.java:381)\n        at org.eclipse.ui.PlatformUI.createDisplay(PlatformUI.java:155)\n        at org.eclipse.ui.internal.ide.IDEApplication.createDisplay(IDEApplication.java:128)\n        at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:79)\n        at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)\n        at java.lang.reflect.Method.invoke(Method.java:391)\n",
    "The last trace posted was an UnsatisfiedLinkError, while the others are all ExceptionInInitializerError.\n\nThe Linux/PPC builds are only usable with a 32-bit PPC VM, not a 64-bit VM.  This is because system libraries like GTK+ are not distributed as 64-bit executables for most Linux/PPC distributions, with th exception of the experimental ppc64 Gentoo distribution.  Can you make sure you are running with a 32-bit VM?",
    "I can confirm we are *not* running with the 32 bit VM. We went out of our way to use the 64 bit one :( \n\nOne of us will try a 32 bit one soon. Then we may have do decide (or measure) if there\u0027s much advantage to using the 64 bit one to run the compiler (i.e. truly run headless) or simply do the whole thing with the 32 bit one so we can do some small \"UI tests\" to confirm the basics of the build is ok. \n\nThanks much. \n\n",
    "Thanks to Billy\u0027s advice, I was able to run the \"eclipse over X\" test just fine. \n\nI used the 32 bit VM at \nhttps://www14.software.ibm.com/webapp/iwm/web/reg/download.do?source\u003dlxdk\u0026S_PKG\u003dip32142sr4\u0026cp\u003dUTF-8\n\n(you might need to minimally register for that url, sorry, not sure of other sources). \n\n",
    "Oh, meant to document \"how\" I ran, since just \"local\", under my ID ... didn\u0027t replace the version under /usr/lib/bin or anything .. just to make it easier for others wanting to duplicate. \n\n./eclipse/eclipse -debug -consolelog -vm IBMJava2-ppc-142/jre/bin/java \n\nand the -fullversion options showed \nJ2RE 1.4.2 IBM build cxppc32142-20060120 (SR4)\n\nwhere as the 64bit ppc vm shows \nJ2RE 1.4.2 IBM build cxp641420ifx-20040722 (142GA+75755)",
    "Oh, and one suggestion for SWT folks .. I do not know how common this \"user error\" will be, but seems that some checks could be put in \"initialization\" code and provide a little better error messages? I know you can\u0027t cover every configuration/runtime error ... but ... UnsatisfiedLinkError and errors in Converter.wcsToMbcs are down right misleading. \n\nThanks again. \n",
    "Feel free to mark this as a dup of bug 85699.\n\nI agree that we should have a better error message, and it\u0027s not soo hard to do so.  The problem is that it is hard to know what a reasonable check is, and it\u0027s hard to know why we got the UnsatisfiedLinkError.\n\nFWIW, it\u0027s not hard to have other programs fail in similar ways on x86-64 systems, although clearly java+JNI makes it easier.  If you talk to Linux hacker types, many will tell you that biarch systems are a bad idea for this sort of reason and distros should stop supporting it.  ;)"
  ],
  "commentCreationDates": [
    "2006-01-28T07:05:08+01:00",
    "2006-01-28T09:04:51+01:00",
    "2006-01-28T09:05:06+01:00",
    "2006-02-03T14:41:52+01:00",
    "2006-02-03T15:18:23+01:00",
    "2006-02-03T15:30:52+01:00",
    "2006-02-03T19:22:40+01:00",
    "2006-02-03T20:27:00+01:00",
    "2006-02-04T05:39:55+01:00",
    "2006-02-04T05:44:25+01:00",
    "2006-02-04T06:19:32+01:00",
    "2006-02-04T08:34:15+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ExceptionInInitializerError",
      "elements": [
        {
          "method": "org.eclipse.swt.internal.Converter.wcsToMbcs",
          "source": "Converter.java:63"
        },
        {
          "method": "org.eclipse.swt.internal.Converter.wcsToMbcs",
          "source": "Converter.java:54"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.\u003cclinit\u003e",
          "source": "Display.java:122"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createDisplay",
          "source": "Workbench.java:381"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createDisplay",
          "source": "PlatformUI.java:155"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.createDisplay",
          "source": "IDEApplication.java:128"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:79"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:58"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:60"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:391"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.NullPointerException",
        "elements": [
          {
            "method": "java.lang.ClassLoader.loadLibrary0",
            "source": "ClassLoader.java:2171"
          },
          {
            "method": "java.lang.ClassLoader.loadLibrary",
            "source": "ClassLoader.java:1988"
          },
          {
            "method": "java.lang.Runtime.loadLibrary0",
            "source": "Runtime.java:824"
          },
          {
            "method": "java.lang.System.loadLibrary",
            "source": "System.java:910"
          },
          {
            "method": "org.eclipse.swt.internal.Library.loadLibrary",
            "source": "Library.java:123"
          },
          {
            "method": "org.eclipse.swt.internal.gtk.OS.\u003cclinit\u003e",
            "source": "OS.java:19"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "125608",
      "date": "2006-01-28T07:05:08+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "blocker"
    },
    {
      "exceptionType": "java.lang.UnsatisfiedLinkError",
      "message": "/home/data/users/droy/eclipse/configuration/org.eclipse.osgi/bundles/71/1/.cp/libswt-pi-gtk-3139.so: /home/data/users/droy/eclipse/configuration/org.eclipse.osgi/bundles/71/1/.cp/libswt-pi-gtk-3139.so: cannot open shared object file: No such file or directory",
      "elements": [
        {
          "method": "java.lang.ClassLoader$NativeLibrary.load",
          "source": "Native Method"
        },
        {
          "method": "java.lang.ClassLoader.loadLibrary0",
          "source": "ClassLoader.java:2120"
        },
        {
          "method": "java.lang.ClassLoader.loadLibrary",
          "source": "ClassLoader.java:1968"
        },
        {
          "method": "java.lang.Runtime.loadLibrary0",
          "source": "Runtime.java:824"
        },
        {
          "method": "java.lang.System.loadLibrary",
          "source": "System.java:908"
        },
        {
          "method": "org.eclipse.swt.internal.Library.loadLibrary",
          "source": "Library.java:123"
        },
        {
          "method": "org.eclipse.swt.internal.gtk.OS.\u003cclinit\u003e",
          "source": "OS.java:19"
        },
        {
          "method": "org.eclipse.swt.internal.Converter.wcsToMbcs",
          "source": "Converter.java:63"
        },
        {
          "method": "org.eclipse.swt.internal.Converter.wcsToMbcs",
          "source": "Converter.java:54"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.\u003cclinit\u003e",
          "source": "Display.java:122"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createDisplay",
          "source": "Workbench.java:381"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createDisplay",
          "source": "PlatformUI.java:155"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.createDisplay",
          "source": "IDEApplication.java:128"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:79"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:58"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:60"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:391"
        }
      ],
      "number": 1,
      "commentIndex": 5,
      "bugId": "125608",
      "date": "2006-02-03T15:30:52+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "blocker"
    }
  ],
  "groupId": "125608",
  "bugId": "125608",
  "date": "2006-01-28T07:05:08+01:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "blocker"
}