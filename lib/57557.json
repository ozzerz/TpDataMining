{
  "comments": [
    "Reporter: Terry Yao\nOS: windows 2003 Standard Edition, RHEL 3.0 WS-GTK\nLanguage: KOR/CHS/CHT\nBuild level: wswb-30M8-200403291703   \nJDK Version: IBM JDK 1.4.2 Beta\nTest case #: \nSummary: DBCS: Export Deployable plug-ins and fragments into DBCS folder failed\n\nSteps to recreate problem:\n1-create a Hello World plug-in.\n2-Export the plug-in as \"Deployable plug-ins and fragments\" mode\n3-In the \"Export Plug-in and fragments\" window, select Destination file name to \na DBCS folder\u0027s file name.\n\u003c\u003cError\u003e\u003e \n         In the DBCS folder, none file was exported.\n\u003c\u003cExpected Result\u003e\u003e\n         Export Deployable plug-ins and fragments into DBCS folder can also work",
    "Created an attachment (id\u003d9248)\nScreen shot for select an DBCS folder file name to Export Deployable plug-in\n\nAdd ScreenShoot for select an DBCS folder file name to Export Deployable\nplug-in",
    "\n\n*** This bug has been marked as a duplicate of 57431 ***",
    "For windows 2003 Standard Edition, when we export a SBCS named plug-in as \nDeployable plug-in and fragments, it work well. Even  we export it to a DBCS \npath.\n\nBut when we export a DBCS named plug-in as Deployable plug-in and fragments, it \nfailed and one error messagebox pop-up. We just create a DBCS project name plug-\nin with HelloWorld template, and keep all other field with default value. But \nwhen we export this DBCS named plug-in as Deployable plug-in and fragments, the \nerror messagebox pop-up. You can see the screenshot below for this error \nmessagebox.",
    "Created an attachment (id\u003d10417)\nerror messagebox when export deployable DBCS plug-in\n\nThe Error messagebox pop-up when we export the DBCS  plug-in project as\n\"Deployable plug-in and fragments\".",
    "The above problem occured on build 200405060200. \n\nBut for linux GTK, if we use Sun JDK 1.4.2, it is the same as  Window 2003 \nStandard edition(Can not export DBCS plug-in as \"Deployable plug-in and \nfragment\"). If we use IBM JDK 1.4.2 Beta(build 20040414) on RHEL 3 linux-\ngtk/CHS. Eclipse JVM terminate when exporting as \"Deployable plug-in and \nfragment\". The below picture is the messagebox for Eclipse\u0027s JVM terminate.",
    "Created an attachment (id\u003d10419)\nIBM JVM terminate on RHEL 3 Linux-GTK\n\nWhen exporting \"Deployable plun-in and fragments\", IBM JDK 1.4.2 Beta JVM\nterminated.",
    "To the people who entered the bug:\n- I can not reproduce the bug described in the comment #1.\n- Regarding the other bug in comment #3, I can reproduce. But please be \ncareful in not mixing up issues otherwise it is unmanageable.\n\nMoving to update since the error occurs while parsing the feature generated by \npde-ui. CC\u0027ing Wassim.\nHere the stack trace I have on my french machine.\n\norg.xml.sax.SAXParseException: Erreur de conversion de caract?re : \"Malformed \nUTF-8 char -- is an XML encoding declaration missing?\" (le num?ro de ligne \npeut ?tre trop bas).\n\tat org.apache.crimson.parser.InputEntity.fatal(InputEntity.java:1100)\n\tat org.apache.crimson.parser.InputEntity.fillbuf(InputEntity.java:1072)\n\tat org.apache.crimson.parser.InputEntity.isXmlDeclOrTextDeclPrefix\n(InputEntity.java:914)\n\tat org.apache.crimson.parser.Parser2.maybeXmlDecl(Parser2.java:1048)\n\tat org.apache.crimson.parser.Parser2.parseInternal(Parser2.java:520)\n\tat org.apache.crimson.parser.Parser2.parse(Parser2.java:318)\n\tat org.apache.crimson.parser.XMLReaderImpl.parse\n(XMLReaderImpl.java:442)\n\tat javax.xml.parsers.SAXParser.parse(SAXParser.java:345)\n\tat org.eclipse.update.core.model.DefaultFeatureParser.parse\n(DefaultFeatureParser.java:132)\n\tat org.eclipse.update.core.model.FeatureModelFactory.parseFeature\n(FeatureModelFactory.java:67)\n\tat \norg.eclipse.pde.internal.build.site.BuildTimeFeatureFactory.createFeature\n(BuildTimeFeatureFactory.java:45)\n\tat org.eclipse.update.core.Site.createFeature(Site.java:518)\n\tat org.eclipse.update.core.FeatureReference.createFeature\n(FeatureReference.java:116)\n\tat org.eclipse.update.core.FeatureReference.getFeature\n(FeatureReference.java:104)\n\tat org.eclipse.update.core.FeatureReference.getFeature\n(FeatureReference.java:91)\n\tat org.eclipse.update.core.FeatureReference.getVersionedIdentifier\n(FeatureReference.java:190)\n\tat org.eclipse.pde.internal.build.site.BuildTimeSite.findFeature\n(BuildTimeSite.java:110)\n\tat \norg.eclipse.pde.internal.build.builder.FeatureBuildScriptGenerator.initializeVa\nriables(FeatureBuildScriptGenerator.java:759)\n\tat \norg.eclipse.pde.internal.build.builder.FeatureBuildScriptGenerator.generate\n(FeatureBuildScriptGenerator.java:178)\n\tat org.eclipse.pde.internal.build.BuildScriptGenerator.generateFeatures\n(BuildScriptGenerator.java:125)\n\tat org.eclipse.pde.internal.build.BuildScriptGenerator.generate\n(BuildScriptGenerator.java:63)\n\tat \norg.eclipse.pde.internal.ui.wizards.exports.FeatureExportJob.makeScript\n(FeatureExportJob.java:199)\n\tat \norg.eclipse.pde.internal.ui.wizards.exports.FeatureExportJob.doExport\n(FeatureExportJob.java:144)\n\tat \norg.eclipse.pde.internal.ui.wizards.exports.PluginExportJob.doExports\n(PluginExportJob.java:43)\n\tat org.eclipse.pde.internal.ui.wizards.exports.FeatureExportJob.run\n(FeatureExportJob.java:76)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)\n\n",
    "Dorian, when writing the feature.xml, I was not specifying the UTF-8 encoding \non the file output stream.  The code in HEAD now does.  See if this alone was \ncausing the problem for the Update parser or if there are more issues.",
    "Thanks Wassim. There may be other issues, because I thought it the encoding is \nnot specified, UTF-8 is used.\n\nCouple anybody please attach a sample site that I can use for reproducing this \nproblem? Thanks.",
    "I cannot reproduce the bug in comment #1 either.  I\u0027m using N20040517-linux-gtk.\n",
    "Please attach a test case that I can use to reproduce the problem. Without \none, I will close the bug, as I don\u0027t see any of the issues discussed in this \nbug. Thanks.",
    "Closing, as I cannot reproduce the bug. Please re-open if you have test data \nto reproduce it."
  ],
  "commentCreationDates": [
    "2004-04-06T13:13:07+02:00",
    "2004-04-06T13:15:39+02:00",
    "2004-04-06T15:34:45+02:00",
    "2004-05-08T11:13:46+02:00",
    "2004-05-08T11:18:00+02:00",
    "2004-05-08T11:58:39+02:00",
    "2004-05-08T12:01:17+02:00",
    "2004-05-15T20:47:39+02:00",
    "2004-05-15T20:59:35+02:00",
    "2004-05-16T03:29:17+02:00",
    "2004-05-19T21:14:57+02:00",
    "2004-05-31T19:51:51+02:00",
    "2004-06-04T22:11:40+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.xml.sax.SAXParseException",
      "message": "Erreur de conversion de caract?re : \"Malformed  UTF-8 char -- is an XML encoding declaration missing?\" (le num?ro de ligne  peut ?tre trop bas).",
      "elements": [
        {
          "method": "org.apache.crimson.parser.InputEntity.fatal",
          "source": "InputEntity.java:1100"
        },
        {
          "method": "org.apache.crimson.parser.InputEntity.fillbuf",
          "source": "InputEntity.java:1072"
        },
        {
          "method": "org.apache.crimson.parser.InputEntity.isXmlDeclOrTextDeclPrefix",
          "source": "InputEntity.java:914"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.maybeXmlDecl",
          "source": "Parser2.java:1048"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.parseInternal",
          "source": "Parser2.java:520"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.parse",
          "source": "Parser2.java:318"
        },
        {
          "method": "org.apache.crimson.parser.XMLReaderImpl.parse",
          "source": "XMLReaderImpl.java:442"
        },
        {
          "method": "javax.xml.parsers.SAXParser.parse",
          "source": "SAXParser.java:345"
        },
        {
          "method": "org.eclipse.update.core.model.DefaultFeatureParser.parse",
          "source": "DefaultFeatureParser.java:132"
        },
        {
          "method": "org.eclipse.update.core.model.FeatureModelFactory.parseFeature",
          "source": "FeatureModelFactory.java:67"
        },
        {
          "method": "org.eclipse.pde.internal.build.site.BuildTimeFeatureFactory.createFeature",
          "source": "BuildTimeFeatureFactory.java:45"
        },
        {
          "method": "org.eclipse.update.core.Site.createFeature",
          "source": "Site.java:518"
        },
        {
          "method": "org.eclipse.update.core.FeatureReference.createFeature",
          "source": "FeatureReference.java:116"
        },
        {
          "method": "org.eclipse.update.core.FeatureReference.getFeature",
          "source": "FeatureReference.java:104"
        },
        {
          "method": "org.eclipse.update.core.FeatureReference.getFeature",
          "source": "FeatureReference.java:91"
        },
        {
          "method": "org.eclipse.update.core.FeatureReference.getVersionedIdentifier",
          "source": "FeatureReference.java:190"
        },
        {
          "method": "org.eclipse.pde.internal.build.site.BuildTimeSite.findFeature",
          "source": "BuildTimeSite.java:110"
        },
        {
          "method": "org.eclipse.pde.internal.build.builder.FeatureBuildScriptGenerator.initializeVariables",
          "source": "FeatureBuildScriptGenerator.java:759"
        },
        {
          "method": "org.eclipse.pde.internal.build.builder.FeatureBuildScriptGenerator.generate",
          "source": "FeatureBuildScriptGenerator.java:178"
        },
        {
          "method": "org.eclipse.pde.internal.build.BuildScriptGenerator.generateFeatures",
          "source": "BuildScriptGenerator.java:125"
        },
        {
          "method": "org.eclipse.pde.internal.build.BuildScriptGenerator.generate",
          "source": "BuildScriptGenerator.java:63"
        },
        {
          "method": "org.eclipse.pde.internal.ui.wizards.exports.FeatureExportJob.makeScript",
          "source": "FeatureExportJob.java:199"
        },
        {
          "method": "org.eclipse.pde.internal.ui.wizards.exports.FeatureExportJob.doExport",
          "source": "FeatureExportJob.java:144"
        },
        {
          "method": "org.eclipse.pde.internal.ui.wizards.exports.PluginExportJob.doExports",
          "source": "PluginExportJob.java:43"
        },
        {
          "method": "org.eclipse.pde.internal.ui.wizards.exports.FeatureExportJob.run",
          "source": "FeatureExportJob.java:76"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:66"
        }
      ],
      "number": 0,
      "commentIndex": 7,
      "bugId": "57557",
      "date": "2004-05-15T20:47:39+02:00",
      "product": "Platform",
      "component": "Update",
      "severity": "major"
    }
  ],
  "groupId": "57557",
  "bugId": "57557",
  "date": "2004-04-06T13:13:07+02:00",
  "product": "Platform",
  "component": "Update",
  "severity": "major"
}