{
  "comments": [
    "Fresh install of eclipse-SDK-3.1RC1-linux-gtk.tar.gz on Debian sid.\n\nI\u0027ve created several projects in my workspace (jboss-3.2, eclipse platform from\ncvs) and when looking at a Java file and right-clicking on the editor margin,\nand selecting Toggle Breakpoint, an error dialog opens up saying:\n\n  Unable to toggle breakpoint\n    Reason: Error within Debug UI\n  Details \u003e\u003e \n    org.eclipse.jface.text.BadLocationException\n\n\n\nLooking at the stack trace in the .log I see the exception is thrown by\nAbstractLineTracker when the \u0027line\u0027 (presumably line that breakpoint was toggled\non) is \u003c 0 or \u003e \u0027lines\u0027 (presumably total lines in file).  This made me wonder\nif AbstractLineTracker is confused about Unix/DOS line-terminators.  So I\nconverted one of the Java source files to Unix (CR/LF -\u003e LF) and reloaded it in\nEclipse and *surprise* toggling breakponts works on this one file now.\n\n\nEclipse version information in .log:\n\neclipse.buildId\u003dI20050527-1300\njava.version\u003d1.4.2_05\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dlinux, ARCH\u003dx86, WS\u003dgtk, NL\u003den_US\nCommand-line arguments:  -os linux -ws gtk -arch x86\n\nStack trace in .log:\n\n!ENTRY org.eclipse.debug.ui 4 120 2005-06-09 11:35:55.529\n!MESSAGE Error within Debug UI: \n!STACK 0\norg.eclipse.jface.text.BadLocationException\n\tat\norg.eclipse.jface.text.AbstractLineTracker.getLineInformation(AbstractLineTracker.java:251)\n\tat\norg.eclipse.jface.text.AbstractDocument.getLineInformation(AbstractDocument.java:882)\n\tat\norg.eclipse.debug.ui.actions.ToggleBreakpointAction.run(ToggleBreakpointAction.java:73)\n\tat\norg.eclipse.ui.texteditor.AbstractRulerActionDelegate.run(AbstractRulerActionDelegate.java:99)\n\tat\norg.eclipse.debug.ui.actions.RulerToggleBreakpointActionDelegate.runWithEvent(RulerToggleBreakpointActionDelegate.java:121)\n\tat org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:236)\n\tat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)\n\tat\norg.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\n\tat\norg.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1016)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2825)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2530)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1694)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1658)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:366)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:375)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:162)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n\tat org.eclipse.core.launcher.Main.run(Main.java:973)\n\tat org.eclipse.core.launcher.Main.main(Main.java:948)",
    "Looks like a dup of bug 91543, but should be fixed in RC1",
    "Using I20050609-1228\n\nI get a BadLocationException when I try to set a breakpoint by right clicking on\nthe bar where the code folding lines are.  Maybe this is what was going on here too?",
    "Odd, it seemed to only happen the first time.\n\n!ENTRY org.eclipse.debug.ui 4 120 2005-06-09 16:20:41.761\n!MESSAGE Error within Debug UI:\n!STACK 0\norg.eclipse.jface.text.BadLocationException\n        at\norg.eclipse.jface.text.AbstractLineTracker.getLineInformation(AbstractLineTracker.java:251)\n        at\norg.eclipse.jface.text.AbstractDocument.getLineInformation(AbstractDocument.java:882)\n        at\norg.eclipse.debug.ui.actions.ToggleBreakpointAction.run(ToggleBreakpointAction.java:85)\n        at\norg.eclipse.ui.texteditor.AbstractRulerActionDelegate.run(AbstractRulerActionDelegate.java:99)\n        at\norg.eclipse.debug.ui.actions.RulerToggleBreakpointActionDelegate.runWithEvent(RulerToggleBreakpointActionDelegate.java:121)\n        at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:236)\n        at\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)\n        at\norg.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\n        at\norg.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1021)\n        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2825)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2530)\n        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1717)\n        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1681)\n        at\norg.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:366)\n        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n        at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\n        at\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n        at\norg.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\n        at\norg.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:84)\n        at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:59)\n        at java.lang.reflect.Method.invoke(Method.java:390)\n        at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n        at org.eclipse.core.launcher.Main.run(Main.java:973)\n        at org.eclipse.core.launcher.Main.main(Main.java:948)\n",
    "I have been able to reproduce on Windows by using the \"toggle breakpoint\" \naction in the ruler context menu, when invoking above code folding lines in \nthe Java editor.",
    "Appears that the \"setLocationOfLastMouseButtonActivity(..)\" is not called in \nthe following case, which results in a \"-1\" for line of last activity.\n\n* Create the following compilation unit:\n\npublic class A {\n\t   public static void main(String[] args) {\n\t       new B().foo();\n\t   }\n\t}\n\n* Close all editors\n* Turn on code folding\n* open \"A\"\n* place mouse cursor over code folding line for main method (i.e. second/inner \nruler) and invoke \"Toggle Breakpoint\"\n\u003e Boom\n\nIf you instead invoke the action over the annotation ruler, things work. As \nwell, if you invoke it over the annotation ruler first, then secondary \nattempts over the folding ruler works: you must open and then invoke over the \nfolding ruler first.\n\nPlacing a breakpoint in CompositeRuler.setLocationOfLastMouseButtonActivity\n(...) shows the method is not called in this case, resuling in a -1, which the \nspec says will not happen (0 is smallest).",
    "Investigating a fix for RC2...",
    "Can reproduce. The reason is that ProjectionRulerColum return false to\nisPropagatingMouseListener and does not set the activity location. This is\nprobably wanted for the left mouse button, as the projection ruler wants to\nreserve it. \n\nWe should still set the activity location for other mouse buttons.\n\nThis could be done either in AnnotationRulerColumn (this is API, though not\nspecified anywhere) or by registering an additional MouseListener in\nProjectionRulerColumn that marks the activity locations.",
    "not fixed! browser manipulation error.",
    "re-establish previous changes by Dani - apparently those fields were not reset\nwhen I reloaded the page.",
    "Even simpler test case: open the following CU in an editor with disabled folding:\nclass A {}\nthen double-click in the vertical ruler below the end of the source.\n\nWe will not rush into a fix at that point but further investigate for 3.1 RC3.",
    "Created an attachment (id\u003d22810)\nCompositeRuler.diff\n\nPatch against CompositeRuler.java that ensures that\ngetLineOfLastMouseButtonActivity adheres to the published API. It returns the\nlast document line in the case the line cannot be determined (as in comment\n10).\n\nSimilar code should go into:\n- OverviewRuler\n- VerticalRuler (not used by the IDE, though)\n\nWe still need to ensure that ProjectionAnnotationColumn sets the location on\nits parent ruler on RMB clicks, though.",
    "Since 2.0 Platform Text violates its own spec of\nIVerticalRulerInfo.getLineOfLastMouseButtonActivity and returns -1 or line\nnumbers that exceed (numberDocumentLines - 1). Debug did not log the BLE so far\nbut now correctly reports the BLE in their new ToggleBreakpointAction.\n\nTo change this we need to change the API and spec those cases. This is too risky\nfor 3.1 and hence we will workaround this in the ToggleBreakpointAction (see bug\n 99407).\n\nFor 3.2 we will change the spec and implementations of\ngetLineOfLastMouseButtonActivity() to always return -1 if the line number is not\na valid document line number.\n",
    "Resetting priority to P3. Will be reassessed for the next release.",
    "*** Bug 109854 has been marked as a duplicate of this bug. ***",
    "see also bug 115511",
    "Has to be shifted to 3.3.",
    "*** Bug 211894 has been marked as a duplicate of this bug. ***",
    "Fixed in HEAD.\nAvailable in builds \u003e I20071210-0800."
  ],
  "commentCreationDates": [
    "2005-06-09T20:46:42+02:00",
    "2005-06-09T21:01:06+02:00",
    "2005-06-09T23:20:30+02:00",
    "2005-06-09T23:46:56+02:00",
    "2005-06-10T15:54:23+02:00",
    "2005-06-10T16:08:44+02:00",
    "2005-06-10T16:25:41+02:00",
    "2005-06-10T16:37:36+02:00",
    "2005-06-10T16:43:36+02:00",
    "2005-06-10T16:44:40+02:00",
    "2005-06-10T17:00:15+02:00",
    "2005-06-10T17:53:05+02:00",
    "2005-06-10T18:49:25+02:00",
    "2005-06-16T12:23:10+02:00",
    "2005-09-19T11:54:56+02:00",
    "2005-11-09T08:57:37+01:00",
    "2006-03-21T13:28:13+01:00",
    "2007-12-10T15:27:17+01:00",
    "2007-12-10T15:39:46+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.jface.text.BadLocationException",
      "elements": [
        {
          "method": "org.eclipse.jface.text.AbstractLineTracker.getLineInformation",
          "source": "AbstractLineTracker.java:251"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.getLineInformation",
          "source": "AbstractDocument.java:882"
        },
        {
          "method": "org.eclipse.debug.ui.actions.ToggleBreakpointAction.run",
          "source": "ToggleBreakpointAction.java:73"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractRulerActionDelegate.run",
          "source": "AbstractRulerActionDelegate.java:99"
        },
        {
          "method": "org.eclipse.debug.ui.actions.RulerToggleBreakpointActionDelegate.runWithEvent",
          "source": "RulerToggleBreakpointActionDelegate.java:121"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:236"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:538"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1016"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2825"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2530"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1694"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1658"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:366"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:375"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:162"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "99234",
      "date": "2005-06-09T20:46:42+02:00",
      "product": "Platform",
      "component": "Text",
      "severity": "normal"
    },
    {
      "exceptionType": "org.eclipse.jface.text.BadLocationException",
      "elements": [
        {
          "method": "org.eclipse.jface.text.AbstractLineTracker.getLineInformation",
          "source": "AbstractLineTracker.java:251"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.getLineInformation",
          "source": "AbstractDocument.java:882"
        },
        {
          "method": "org.eclipse.debug.ui.actions.ToggleBreakpointAction.run",
          "source": "ToggleBreakpointAction.java:85"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractRulerActionDelegate.run",
          "source": "AbstractRulerActionDelegate.java:99"
        },
        {
          "method": "org.eclipse.debug.ui.actions.RulerToggleBreakpointActionDelegate.runWithEvent",
          "source": "RulerToggleBreakpointActionDelegate.java:121"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:236"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:538"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1021"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2825"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2530"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1717"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1681"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:366"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:84"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:57"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:59"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:390"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "number": 1,
      "commentIndex": 3,
      "bugId": "99234",
      "date": "2005-06-09T23:46:56+02:00",
      "product": "Platform",
      "component": "Text",
      "severity": "normal"
    }
  ],
  "groupId": "99234",
  "bugId": "99234",
  "date": "2005-06-09T20:46:42+02:00",
  "product": "Platform",
  "component": "Text",
  "severity": "normal"
}