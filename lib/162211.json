{
  "comments": [
    "To recreate:\n\n1. Create a single Java project in the workspace, with a single Java class in it.\n\n2. Change a compiler preference at:\n\n   Window -\u003e Preferences -\u003e AspectJ Compiler \n\nsuch as:\n\n   \"Unknown absolute type name in pointcut:\"\n\nfrom \"Ignore\" to \"Warning\".\n\n3. Click \"Apply\".\n\n4. At the \"Compiler Settings Changed\" prompt, click \"Yes\" to start the full build.\n\nAn \"AJDT Internal Error\" dialog appears with the message \"An error occurred while building. Check the error log (via Window \u003e Show View \u003e Error Log) for details.\"\n\nThe \"Problems\" view will show the error \"classpath error: unable to find org.aspectj.lang.JoinPoint (check that aspectjrt.jar is in your classpath)\"\n\nThe \"Error Log\" will show the warning \"java.lang.NullPointerException encountered while running AspectJ Builder.\" with the stack trace:\n\njava.lang.NullPointerException\n\tat org.eclipse.ajdt.internal.ui.markers.MarkerUpdating.addNewMarkers(MarkerUpdating.java:92)\n\tat org.eclipse.ajdt.internal.builder.UIBuildListener.postAJBuild(UIBuildListener.java:178)\n\tat org.eclipse.ajdt.core.builder.AJBuilder.postCallListeners(AJBuilder.java:843)\n\tat org.eclipse.ajdt.core.builder.AJBuilder.build(AJBuilder.java:285)\n\tat org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:603)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:167)\n\tat org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:332)\n\tat org.eclipse.core.internal.resources.Project.build(Project.java:119)\n\tat org.eclipse.ajdt.internal.ui.preferences.PreferencePageBuilder$2.run(PreferencePageBuilder.aj:525)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)\n\nand another warning: \"Errors running builder \"AspectJ Builder\" on project SomeJavaLibrary.\" where \"SomeJavaLibrary\" is the name of your Java project.\n\nThere is also an error: \"Problems occurred when invoking code from plug-in: \"org.eclipse.core.resources\".  With the same stack trace as above.\n\nConverting the Java project to an AspectJ project resolves this problem.",
    "This is nasty, changing AJ settings shouldn\u0027t affect plain Java projects.\n\nA guard against the NPE wouldn\u0027t hurt, but the underlying problem is that\nwhen global AJ compiler settings are changed we rebuild all projects, and we specifically invoke the AJ builder on all those projects. So the AJ builder is used for projects that wouldn\u0027t normally use it. Instead we should just call the version of build() that runs the builders associated with each project.\n",
    "Fixed in:\n1.4.1.200610271301 for Eclipse 3.2 (build.222)\n1.5.0.200610271535 for Eclipse 3.3M2 (build.60)"
  ],
  "commentCreationDates": [
    "2006-10-25T15:48:42+02:00",
    "2006-10-27T12:27:40+02:00",
    "2006-10-27T23:42:57+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ajdt.internal.ui.markers.MarkerUpdating.addNewMarkers",
          "source": "MarkerUpdating.java:92"
        },
        {
          "method": "org.eclipse.ajdt.internal.builder.UIBuildListener.postAJBuild",
          "source": "UIBuildListener.java:178"
        },
        {
          "method": "org.eclipse.ajdt.core.builder.AJBuilder.postCallListeners",
          "source": "AJBuilder.java:843"
        },
        {
          "method": "org.eclipse.ajdt.core.builder.AJBuilder.build",
          "source": "AJBuilder.java:285"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$2.run",
          "source": "BuildManager.java:603"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:167"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.build",
          "source": "BuildManager.java:332"
        },
        {
          "method": "org.eclipse.core.internal.resources.Project.build",
          "source": "Project.java:119"
        },
        {
          "method": "org.eclipse.ajdt.internal.ui.preferences.PreferencePageBuilder$2.run",
          "source": "PreferencePageBuilder.aj:525"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:113"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "162211",
      "date": "2006-10-25T15:48:42+02:00",
      "product": "AJDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "162211",
  "bugId": "162211",
  "date": "2006-10-25T15:48:42+02:00",
  "product": "AJDT",
  "component": "Core",
  "severity": "normal"
}