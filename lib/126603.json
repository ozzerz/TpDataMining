{
  "comments": [
    "on WTP 101, We are getting this failure in headless mode.\n\nThis happens when the java_home specfied uses symbolic links.\n\n--------------------------------------------------------------\nError executing deployment: java.lang.NullPointerException. Error is null.\njava.lang.NullPointerException\n        at org.eclipse.jst.j2ee.internal.archive.operations.J2EEArtifactImportOp\neration.doExecute(J2EEArtifactImportOperation.java:64)\n        at org.eclipse.jst.j2ee.internal.archive.operations.J2EEArtifactImportOp\neration.execute(J2EEArtifactImportOperation.java:55)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat\nionImpl.doExecute(ExtendableOperationImpl.java:163)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat\nionImpl$1.run(ExtendableOperationImpl.java:131)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719\n)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1739\n)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperat\nionImpl.execute(ExtendableOperationImpl.java:137)\n        at com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.importEJBJarModu\nle(BatchExtension.java:833)\n        at com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.runJarDeploy(Bat\nchExtension.java:504)\n        at com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.access$1(BatchEx\ntension.java:498)",
    "This just means it couldn\u0027t load the archive.  Are you sure the archive is valid?  Can you provide a testcase?",
    "Created an attachment (id\u003d34204)\ntest jar\n\ntest ejb jar.",
    "the jar deploys fine on windows.",
    "more detailed stack.\n\n*** ERROR ***: Mon Feb 06 13:14:57 EST 2006    org.eclipse.core.runtime.CoreException[0]: java.lang.NullPointerException\n        at org.eclipse.jst.common.project.facet.JavaFacetUtils.resetClasspath(JavaFacetUtils.java:194)\n        at org.eclipse.jst.common.project.facet.JavaFacetInstallDelegate.execute(JavaFacetInstallDelegate.java:83)\n        at org.eclipse.wst.common.project.facet.core.internal.FacetedProject.callDelegate(FacetedProject.java:718)\n        at org.eclipse.wst.common.project.facet.core.internal.FacetedProject.modifyInternal(FacetedProject.java:348)\n        at org.eclipse.wst.common.project.facet.core.internal.FacetedProject.access$0(FacetedProject.java:247)\n        at org.eclipse.wst.common.project.facet.core.internal.FacetedProject$1.run(FacetedProject.java:232)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)\n        at org.eclipse.wst.common.project.facet.core.internal.FacetedProject.modify(FacetedProject.java:237)\n        at org.eclipse.wst.common.componentcore.internal.operation.FacetProjectCreationOperation.execute(FacetProjectCre\nationOperation.java:77)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.doExecute(ExtendableOperationImp\nl.java:163)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl$1.run(ExtendableOperationImpl.ja\nva:131)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1739)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.execute(ExtendableOperationImpl.\njava:137)\n        at org.eclipse.jst.j2ee.internal.ejb.project.operations.EjbComponentCreationFacetOperation.execute(EjbComponentC\nreationFacetOperation.java:72)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.doExecute(ExtendableOperationImp\nl.java:163)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl$1.run(ExtendableOperationImpl.ja\nva:131)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1739)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.execute(ExtendableOperationImpl.\njava:137)\n        at org.eclipse.jst.j2ee.internal.archive.operations.J2EEArtifactImportOperation.createVirtualComponent(J2EEArtif\nactImportOperation.java:78)\n        at org.eclipse.jst.j2ee.internal.archive.operations.J2EEArtifactImportOperation.doExecute(J2EEArtifactImportOper\nation.java:66)\n        at org.eclipse.jst.j2ee.internal.archive.operations.J2EEArtifactImportOperation.execute(J2EEArtifactImportOperat\nion.java:55)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.doExecute(ExtendableOperationImp\nl.java:163)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl$1.run(ExtendableOperationImpl.ja\nva:131)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1739)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.execute(ExtendableOperationImpl.\njava:137)",
    "Hi Kosta,\n\nThis is a critical issue for us, and the NPE is occuring in the JavaFacetUtils\n\ngetting the default vm.   I checked this api, and it doesn need to protect against null in some cases.\n\n        final IVMInstall vm \u003d JavaRuntime.getDefaultVMInstall();\n        IPath path \u003d new Path( JavaRuntime.JRE_CONTAINER );\n\u003e\u003e\u003e\u003e\u003e   path \u003d path.append( vm.getVMInstallType().getId() );\n\n\n\n",
    "Comitted the fix to both of the code streams. Still needs to be tagged/released.",
    "closing"
  ],
  "commentCreationDates": [
    "2006-02-06T17:02:55+01:00",
    "2006-02-06T17:27:50+01:00",
    "2006-02-06T17:31:55+01:00",
    "2006-02-06T17:32:20+01:00",
    "2006-02-06T18:15:15+01:00",
    "2006-02-06T18:24:06+01:00",
    "2006-02-06T18:42:20+01:00",
    "2006-06-15T15:09:58+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jst.j2ee.internal.archive.operations.J2EEArtifactImportOperation.doExecute",
          "source": "J2EEArtifactImportOperation.java:64"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.archive.operations.J2EEArtifactImportOperation.execute",
          "source": "J2EEArtifactImportOperation.java:55"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.doExecute",
          "source": "ExtendableOperationImpl.java:163"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl$1.run",
          "source": "ExtendableOperationImpl.java:131"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1719 "
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1739 "
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.execute",
          "source": "ExtendableOperationImpl.java:137"
        },
        {
          "method": "com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.importEJBJarModule",
          "source": "BatchExtension.java:833"
        },
        {
          "method": "com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.runJarDeploy",
          "source": "Bat chExtension.java:504"
        },
        {
          "method": "com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.access$1",
          "source": "BatchEx tension.java:498"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "126603",
      "date": "2006-02-06T17:02:55+01:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "blocker"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jst.common.project.facet.JavaFacetUtils.resetClasspath",
          "source": "JavaFacetUtils.java:194"
        },
        {
          "method": "org.eclipse.jst.common.project.facet.JavaFacetInstallDelegate.execute",
          "source": "JavaFacetInstallDelegate.java:83"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.FacetedProject.callDelegate",
          "source": "FacetedProject.java:718"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.FacetedProject.modifyInternal",
          "source": "FacetedProject.java:348"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.FacetedProject.access$0",
          "source": "FacetedProject.java:247"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.FacetedProject$1.run",
          "source": "FacetedProject.java:232"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1719"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.FacetedProject.modify",
          "source": "FacetedProject.java:237"
        },
        {
          "method": "org.eclipse.wst.common.componentcore.internal.operation.FacetProjectCreationOperation.execute",
          "source": "FacetProjectCre ationOperation.java:77"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.doExecute",
          "source": "ExtendableOperationImp l.java:163"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl$1.run",
          "source": "ExtendableOperationImpl.ja va:131"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1719"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1739"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.execute",
          "source": "ExtendableOperationImpl. java:137"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.ejb.project.operations.EjbComponentCreationFacetOperation.execute",
          "source": "EjbComponentC reationFacetOperation.java:72"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.doExecute",
          "source": "ExtendableOperationImp l.java:163"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl$1.run",
          "source": "ExtendableOperationImpl.ja va:131"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1719"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1739"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.execute",
          "source": "ExtendableOperationImpl. java:137"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.archive.operations.J2EEArtifactImportOperation.createVirtualComponent",
          "source": "J2EEArtif actImportOperation.java:78"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.archive.operations.J2EEArtifactImportOperation.doExecute",
          "source": "J2EEArtifactImportOper ation.java:66"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.archive.operations.J2EEArtifactImportOperation.execute",
          "source": "J2EEArtifactImportOperat ion.java:55"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.doExecute",
          "source": "ExtendableOperationImp l.java:163"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl$1.run",
          "source": "ExtendableOperationImpl.ja va:131"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1719"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1739"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.execute",
          "source": "ExtendableOperationImpl. java:137"
        }
      ],
      "number": 1,
      "commentIndex": 4,
      "bugId": "126603",
      "date": "2006-02-06T18:15:15+01:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "blocker"
    }
  ],
  "groupId": "126603",
  "bugId": "126603",
  "date": "2006-02-06T17:02:55+01:00",
  "product": "Web Tools",
  "component": "jst.j2ee",
  "severity": "blocker"
}