{
  "comments": [
    "If a model without any EReference children is genmodelled, then\nan EReference is added, the subsequent genmodel fails with\n\"Attempt to add child of incompatible type\" while adding the\ncorrect JNode to the JCompilationUnit (if I recall from an\nattempt to debug). The stack trace is:\n\norg.eclipse.jdt.core.jdom.DOMException: Attempt to add child of incompatible type\nat org.eclipse.jdt.internal.core.jdom.DOMNode.basicAddChild(DOMNode.java:350)\nat org.eclipse.jdt.internal.core.jdom.DOMNode.addChild(DOMNode.java:262)\nat org.eclipse.emf.codegen.merge.java.facade.jdom.JDOMFacadeHelper.addChild(JDOMFacadeHelper.java:162)\nat org.eclipse.emf.codegen.merge.java.JMerger.insertClone(JMerger.java:1002)\nat org.eclipse.emf.codegen.merge.java.JMerger.pushSourceMethod(JMerger.java:851)\nat org.eclipse.emf.codegen.merge.java.JMerger.pushSourceType(JMerger.java:820)\nat org.eclipse.emf.codegen.merge.java.JMerger.pushSourceCompilationUnit(JMerger.java:778)\nat org.eclipse.emf.codegen.merge.java.JMerger.merge(JMerger.java:90)\nat org.eclipse.emf.codegen.ecore.genmodel.impl.GenBaseImpl.generate(GenBaseImpl.java:610)\nat org.eclipse.emf.codegen.ecore.genmodel.impl.GenClassImpl.generate(GenClassImpl.java:1223)\nat org.eclipse.emf.codegen.ecore.genmodel.impl.GenPackageImpl.generate(GenPackageImpl.java:2392)\nat org.eclipse.emf.codegen.ecore.genmodel.impl.GenModelImpl.generate(GenModelImpl.java:1959)\nat org.eclipse.emf.codegen.ecore.genmodel.impl.GenBaseImpl.generate(GenBaseImpl.java:351)\nat org.eclipse.emf.codegen.ecore.genmodel.presentation.GenModelActionBarContributor$3.generate(GenModelActionBarContributor.java:167)\nat org.eclipse.emf.codegen.ecore.genmodel.presentation.GenModelActionBarContributor$14.execute(GenModelActionBarContributor.java:295)\nat org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:100)\nat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1733)\nat org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:112)\nat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)\n\nA repro will be attached in the next comment.\n\nThe generation of the Impl successfully adds the method. The generation\nof the interface fails. If the Interface is manually updated to add the\nmethods, a re-genmodel succeeds.",
    "I\u0027ve just reported a bugzilla bug submitting attachments. The required\nrepro (EMF 2.2.0M5, Eclipse 3.2M5a fails, M4 ok) may be found at\ndownloads/technology/gmt/umlx/temp/genmodelbug9.zip. Just load\nthe project, and invoke gen model on model/Ucore.genmodel. The\nwarning (and failure) appears.",
    "The fix to JMerger.insertClone has been committed to CVS.\n\nThanks for making the problem so easy to reproduce and hence so easy to fix quickly.",
    "Fixed in 2.2.0 I200603090000"
  ],
  "commentCreationDates": [
    "2006-03-04T08:19:20+01:00",
    "2006-03-04T08:37:03+01:00",
    "2006-03-04T13:05:14+01:00",
    "2006-03-09T16:35:31+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.jdt.core.jdom.DOMException",
      "message": "Attempt to add child of incompatible type",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.jdom.DOMNode.basicAddChild",
          "source": "DOMNode.java:350"
        },
        {
          "method": "org.eclipse.jdt.internal.core.jdom.DOMNode.addChild",
          "source": "DOMNode.java:262"
        },
        {
          "method": "org.eclipse.emf.codegen.merge.java.facade.jdom.JDOMFacadeHelper.addChild",
          "source": "JDOMFacadeHelper.java:162"
        },
        {
          "method": "org.eclipse.emf.codegen.merge.java.JMerger.insertClone",
          "source": "JMerger.java:1002"
        },
        {
          "method": "org.eclipse.emf.codegen.merge.java.JMerger.pushSourceMethod",
          "source": "JMerger.java:851"
        },
        {
          "method": "org.eclipse.emf.codegen.merge.java.JMerger.pushSourceType",
          "source": "JMerger.java:820"
        },
        {
          "method": "org.eclipse.emf.codegen.merge.java.JMerger.pushSourceCompilationUnit",
          "source": "JMerger.java:778"
        },
        {
          "method": "org.eclipse.emf.codegen.merge.java.JMerger.merge",
          "source": "JMerger.java:90"
        },
        {
          "method": "org.eclipse.emf.codegen.ecore.genmodel.impl.GenBaseImpl.generate",
          "source": "GenBaseImpl.java:610"
        },
        {
          "method": "org.eclipse.emf.codegen.ecore.genmodel.impl.GenClassImpl.generate",
          "source": "GenClassImpl.java:1223"
        },
        {
          "method": "org.eclipse.emf.codegen.ecore.genmodel.impl.GenPackageImpl.generate",
          "source": "GenPackageImpl.java:2392"
        },
        {
          "method": "org.eclipse.emf.codegen.ecore.genmodel.impl.GenModelImpl.generate",
          "source": "GenModelImpl.java:1959"
        },
        {
          "method": "org.eclipse.emf.codegen.ecore.genmodel.impl.GenBaseImpl.generate",
          "source": "GenBaseImpl.java:351"
        },
        {
          "method": "org.eclipse.emf.codegen.ecore.genmodel.presentation.GenModelActionBarContributor$3.generate",
          "source": "GenModelActionBarContributor.java:167"
        },
        {
          "method": "org.eclipse.emf.codegen.ecore.genmodel.presentation.GenModelActionBarContributor$14.execute",
          "source": "GenModelActionBarContributor.java:295"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation$1.run",
          "source": "WorkspaceModifyOperation.java:100"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1733"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation.run",
          "source": "WorkspaceModifyOperation.java:112"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:113"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "130427",
      "date": "2006-03-04T08:19:20+01:00",
      "product": "EMF",
      "component": "Tools",
      "severity": "major"
    }
  ],
  "groupId": "130427",
  "bugId": "130427",
  "date": "2006-03-04T08:19:20+01:00",
  "product": "EMF",
  "component": "Tools",
  "severity": "major"
}