{
  "comments": [
    "Overview Description: \n\n    With the fix of defect 167505, the zone/zoneset information can be viewed through Fabric Manager -\u003e Fabrics -\u003e Zone Configuration GUI, However, trying to add/delete/update zone/zoneset information through zone configuration panel will end with BTASD1932E Agent capable of configuring zoning could not be found on this fabric. \nthe message trace log show the following errors\n\n2006.12.19 10:39:52.734-08:00 java.lang.RuntimeException: [Attributes\u003d{}] [faultCode\u003dSOAP-ENV:Server] [faultString\u003dservice \u0027org.eclipse.aperi.sanmgmt.tsanm.zone.interfaces.IZoneControlAgent\u0027 unknown] [faultActorURI\u003d/ServiceManager] [DetailEntries\u003d] [FaultEntries\u003d]\n\tat org.eclipse.aperi.connector.internal.client.SoapClient.handleFault(SoapClient.java:149)\n\tat org.eclipse.aperi.connector.internal.client.SoapClient.invoke(SoapClient.java:126)\n\tat org.eclipse.aperi.connector.internal.client.SoapServiceProxy.invoke(SoapServiceProxy.java:55)\n\tat $Proxy3.lock(Unknown Source)\n\tat org.eclipse.aperi.control.fabric.ZoneController.findZoneControlAgent(ZoneController.java:2308)\n\tat org.eclipse.aperi.control.fabric.ZoneController.reserve(ZoneController.java:251)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.aperi.control.ControlRouter.invoke(ControlRouter.java:183)\n\tat $Proxy2.reserve(Unknown Source)\n\tat org.eclipse.aperi.fabric.FabricManagerService.reserve(FabricManagerService.java:5728)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.apache.soap.server.RPCRouter.invoke(RPCRouter.java:146)\n\tat org.apache.soap.providers.RPCJavaProvider.invoke(RPCJavaProvider.java:129)\n\tat org.apache.soap.server.http.RPCRouterServlet.doPost(RPCRouterServlet.java:354)\n\tat org.eclipse.aperi.connector.internal.server.Connector.doPost(Connector.java:90)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:616)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:689)\n\tat org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest(ServletRegistration.java:91)\n\tat org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:110)\n\tat org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:60)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:689)\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:428)\n\tat org.mortbay.jetty.servlet.ServletHandler.dispatch(ServletHandler.java:677)\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568)\n\tat org.mortbay.http.HttpContext.handle(HttpContext.java:1530)\n\tat org.mortbay.http.HttpContext.handle(HttpContext.java:1482)\n\tat org.mortbay.http.HttpServer.service(HttpServer.java:909)\n\tat org.mortbay.http.HttpConnection.service(HttpConnection.java:820)\n\tat org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:986)\n\tat org.mortbay.http.HttpConnection.handle(HttpConnection.java:837)\n\tat org.eclipse.aperi.connector.internal.server.BiModalSocketListener.handleConnection(BiModalSocketListener.java:70)\n\tat org.eclipse.aperi.connector.internal.server.BiModalSocketListener.handle(BiModalSocketListener.java:34)\n\tat org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)   org.eclipse.aperi.control.fabric.ZoneController findZoneControlAgent\n2006.12.19 10:39:52.734-08:00 org.eclipse.aperi.control.interfaces.NotAvailableException\n\tat org.eclipse.aperi.control.fabric.ZoneController.reserve(ZoneController.java:267)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.aperi.control.ControlRouter.invoke(ControlRouter.java:183)\n\tat $Proxy2.reserve(Unknown Source)\n\tat org.eclipse.aperi.fabric.FabricManagerService.reserve(FabricManagerService.java:5728)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.apache.soap.server.RPCRouter.invoke(RPCRouter.java:146)\n\tat org.apache.soap.providers.RPCJavaProvider.invoke(RPCJavaProvider.java:129)\n\tat org.apache.soap.server.http.RPCRouterServlet.doPost(RPCRouterServlet.java:354)\n\tat org.eclipse.aperi.connector.internal.server.Connector.doPost(Connector.java:90)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:616)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:689)\n\tat org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest(ServletRegistration.java:91)\n\tat org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:110)\n\tat org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:60)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:689)\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:428)\n\tat org.mortbay.jetty.servlet.ServletHandler.dispatch(ServletHandler.java:677)\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568)\n\tat org.mortbay.http.HttpContext.handle(HttpContext.java:1530)\n\tat org.mortbay.http.HttpContext.handle(HttpContext.java:1482)\n\tat org.mortbay.http.HttpServer.service(HttpServer.java:909)\n\tat org.mortbay.http.HttpConnection.service(HttpConnection.java:820)\n\tat org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:986)\n\tat org.mortbay.http.HttpConnection.handle(HttpConnection.java:837)\n\tat org.eclipse.aperi.connector.internal.server.BiModalSocketListener.handleConnection(BiModalSocketListener.java:70)\n\tat org.eclipse.aperi.connector.internal.server.BiModalSocketListener.handle(BiModalSocketListener.java:34)\n\tat org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)   org.eclipse.aperi.control.ControlRouter invoke\n2006.12.19 10:39:52.734-08:00 BTAFM4501E No agent is available to configure the zoning on the fabric with ID 100000C0DD03CDF6.   org.eclipse.aperi.fabric.FabricManagerService reserve\n\nSteps to Reproduce:\n\n    add/delete/update zone/zoneset information through Fabric Manager -\u003e Fabrics -\u003e Zone Configuration panel\n\nActual Results:\n\n    Error: BTASD1932E Agent capable of configuring zoning could not be found on this fabric. \n\nExpected Results:\n\n    add/delete/update zone/zoneset information will be successful\n\nBuild Date \u0026 Platform: \n\n    Aperi-20061219-085848.zip on windows platform",
    "Some fixes are checked in that should help.",
    "A couple of issues regarding classloading/SOAP have been fixed.\nNow the problem has moved on.\n\nThe call to IZoneControlAgent.lock() returns 1 (means: locking not supported on SAN)\n(see ZoneController.findZoneControlAgent(), line 2308)\nSo, basicly the agent is contacted, but either that response is due to SAN configuration or the agent has some problem to initiate zoning commands.\n\nSince only one Agent is known and fails, the following (misleading ?) message pops up:\n\"No agent is availlable to configure zoning on the fabric with ID ...\"",
    "Fixed.  I checked in my fix, I\u0027m still performing a diff to make sure Marcus didn\u0027t create any changes than need to be checked in."
  ],
  "commentCreationDates": [
    "2006-12-19T19:18:08+01:00",
    "2006-12-20T14:38:01+01:00",
    "2006-12-21T14:42:55+01:00",
    "2006-12-21T20:00:03+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.RuntimeException",
      "message": "[Attributes\u003d{}] [faultCode\u003dSOAP-ENV:Server] [faultString\u003dservice \u0027org.eclipse.aperi.sanmgmt.tsanm.zone.interfaces.IZoneControlAgent\u0027 unknown] [faultActorURI\u003d/ServiceManager] [DetailEntries\u003d] [FaultEntries\u003d]",
      "elements": [
        {
          "method": "org.eclipse.aperi.connector.internal.client.SoapClient.handleFault",
          "source": "SoapClient.java:149"
        },
        {
          "method": "org.eclipse.aperi.connector.internal.client.SoapClient.invoke",
          "source": "SoapClient.java:126"
        },
        {
          "method": "org.eclipse.aperi.connector.internal.client.SoapServiceProxy.invoke",
          "source": "SoapServiceProxy.java:55"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "168587",
      "date": "2006-12-19T19:18:08+01:00",
      "product": "Aperi",
      "component": "aperi.device",
      "severity": "critical"
    },
    {
      "exceptionType": "org.eclipse.aperi.control.interfaces.NotAvailableException",
      "elements": [
        {
          "method": "org.eclipse.aperi.control.fabric.ZoneController.reserve",
          "source": "ZoneController.java:267"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.aperi.control.ControlRouter.invoke",
          "source": "ControlRouter.java:183"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "168587",
      "date": "2006-12-19T19:18:08+01:00",
      "product": "Aperi",
      "component": "aperi.device",
      "severity": "critical"
    }
  ],
  "groupId": "168587",
  "bugId": "168587",
  "date": "2006-12-19T19:18:08+01:00",
  "product": "Aperi",
  "component": "aperi.device",
  "severity": "critical"
}