{
  "comments": [
    "build I20031104 + latest from HEAD for Help, UI, Text\n\n- in the Readme example (org.eclipse.ui.examples.readmetool), change the help \ncontexts extension to have an invalid attribute name, e.g.\n   \u003cextension\n         point\u003d\"org.eclipse.help.contexts\"\u003e\n      \u003ccontexts\n            abcd\u003d\"HelpContexts.xml\"\u003e\n      \u003c/contexts\u003e\n   \u003c/extension\u003e\n\n- launch target\n- create a readme file using the wizard\n- in the outline view, hit F1\n- console shows:\nUnhandled event loop exception\nReason:\nnull argument:\n\n- log has:\n!ENTRY org.eclipse.ui 4 0 Nov 06, 2003 22:44:17.239\n!MESSAGE null argument:\n!STACK 0\norg.eclipse.core.internal.runtime.AssertionFailedException: null argument:\n\tat org.eclipse.core.internal.runtime.Assert.isNotNull(Assert.java:78)\n\tat org.eclipse.core.internal.runtime.Assert.isNotNull(Assert.java:66)\n\tat org.eclipse.core.runtime.Path.initialize(Path.java:470)\n\tat org.eclipse.core.runtime.Path.\u003cinit\u003e(Path.java:98)\n\tat org.eclipse.help.internal.util.ResourceLocator.doOpenFromPlugin\n(ResourceLocator.java:212)\n\tat org.eclipse.help.internal.util.ResourceLocator.openFromPlugin\n(ResourceLocator.java:176)\n\tat org.eclipse.help.internal.util.ResourceLocator.openFromPlugin\n(ResourceLocator.java:145)\n\tat org.eclipse.help.internal.context.ContextsFile.getInputStream\n(ContextsFile.java:40)\n\tat org.eclipse.help.internal.context.ContextsFileParser.parse\n(ContextsFileParser.java:145)\n\tat org.eclipse.help.internal.context.ContextsBuilder.build\n(ContextsBuilder.java:56)\n\tat org.eclipse.help.internal.context.ContextsFile.build\n(ContextsFile.java:62)\n\tat org.eclipse.help.internal.context.ContextsBuilder.build\n(ContextsBuilder.java:63)\n\tat org.eclipse.help.internal.context.ContextManager.loadPluginContexts\n(ContextManager.java:86)\n\tat org.eclipse.help.internal.context.ContextManager.getContext\n(ContextManager.java:69)\n\tat org.eclipse.help.HelpSystem.getContext(HelpSystem.java:46)\n\tat org.eclipse.ui.help.WorkbenchHelp$2.helpRequested\n(WorkbenchHelp.java:422)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent\n(TypedListener.java:195)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:847)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2173)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1863)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1416)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1392)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench\n(Workbench.java:235)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:121)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run\n(IDEApplication.java:50)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:858)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:299)\n\tat org.eclipse.core.launcher.Main.run(Main.java:765)\n\tat org.eclipse.core.launcher.Main.main(Main.java:599)\n\nIt\u0027s trying to pass a null href.\n\nThis condition could be detected earlier, with improved error reporting \npointing to the problem in the help contexts extension.\n\nI encountered this because I wanted to disable F1 help for the readme example.\nI was looking at a warning generated by the PDE builder, since previously this \nextension was using name\u003d as the attribute, but PDE says I should be using \nfile\u003d.  name\u003d still seems to work, but I\u0027ll switch to file\u003d.",
    "Nick, we decided not to do some of the runtime checking for things that can be \nchecked at development time (such as incorrect extension point declaration). \nBasically, we assume the syntax of help related xml files/extension points/etc \nis correct, so our runtime parser stays simpler.\n\nI will route this to PDE, to see if they can catch errors and report them as \nsuch.",
    "PDE does whatever you tell it to do in the schema document. Based on the \nschema for this particular extension point, PDE should generate two warnings:\n\n1) Required attribute \u0027file\u0027 missing\n2) Unknown attribute \u0027abcd\u0027 found\n\nIt seems that PDE is doing the right thing. If it doesn\u0027t, we will take a look \nat the builder.\n\nHaving said that, it is a good practice to gracefully fail in case of wrong \nmarkup i.e. you should shield yourself from null hrefs. Ideally, I would \nexpect to see CoreException with severity \u0027warning\u0027 in the log file telling me \nthat a particular href cannot be found, not assertion failures.\n\nPlease reopen this defect if PDE is not generating the two warning markers \nmentioned above.",
    "Dorian wasn\u0027t on the cc list.\n\nI agree with Dejan\u0027s assessment.  PDE was working properly and generated \nwarnings (once I had tagged the examples as PDE projects, which they weren\u0027t \nbefore).  People can still miss the warnings if they\u0027re not using PDE projects \nor if they\u0027re filtering out warnings.  Perhaps missing extension point refs and \nmissing required attributes should be errors by default?\n\nI still think that code which processes extension points should have good error \nchecking (and this is certainly not specific to Help -- I\u0027m sure the \nWorkbench\u0027s could be improved too).\n",
    "Fixed.  Contribution ignored, missing file attribute logged"
  ],
  "commentCreationDates": [
    "2003-11-07T04:07:11+01:00",
    "2003-11-07T14:57:15+01:00",
    "2003-11-07T15:07:31+01:00",
    "2003-11-07T16:01:15+01:00",
    "2003-11-12T20:37:13+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.internal.runtime.AssertionFailedException",
      "message": "null argument:",
      "elements": [
        {
          "method": "org.eclipse.core.internal.runtime.Assert.isNotNull",
          "source": "Assert.java:78"
        },
        {
          "method": "org.eclipse.core.internal.runtime.Assert.isNotNull",
          "source": "Assert.java:66"
        },
        {
          "method": "org.eclipse.core.runtime.Path.initialize",
          "source": "Path.java:470"
        },
        {
          "method": "org.eclipse.core.runtime.Path.\u003cinit\u003e",
          "source": "Path.java:98"
        },
        {
          "method": "org.eclipse.help.internal.util.ResourceLocator.doOpenFromPlugin",
          "source": "ResourceLocator.java:212"
        },
        {
          "method": "org.eclipse.help.internal.util.ResourceLocator.openFromPlugin",
          "source": "ResourceLocator.java:176"
        },
        {
          "method": "org.eclipse.help.internal.util.ResourceLocator.openFromPlugin",
          "source": "ResourceLocator.java:145"
        },
        {
          "method": "org.eclipse.help.internal.context.ContextsFile.getInputStream",
          "source": "ContextsFile.java:40"
        },
        {
          "method": "org.eclipse.help.internal.context.ContextsFileParser.parse",
          "source": "ContextsFileParser.java:145"
        },
        {
          "method": "org.eclipse.help.internal.context.ContextsBuilder.build",
          "source": "ContextsBuilder.java:56"
        },
        {
          "method": "org.eclipse.help.internal.context.ContextsFile.build",
          "source": "ContextsFile.java:62"
        },
        {
          "method": "org.eclipse.help.internal.context.ContextsBuilder.build",
          "source": "ContextsBuilder.java:63"
        },
        {
          "method": "org.eclipse.help.internal.context.ContextManager.loadPluginContexts",
          "source": "ContextManager.java:86"
        },
        {
          "method": "org.eclipse.help.internal.context.ContextManager.getContext",
          "source": "ContextManager.java:69"
        },
        {
          "method": "org.eclipse.help.HelpSystem.getContext",
          "source": "HelpSystem.java:46"
        },
        {
          "method": "org.eclipse.ui.help.WorkbenchHelp$2.helpRequested",
          "source": "WorkbenchHelp.java:422"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:195"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:847"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2173"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1863"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1416"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1392"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:235"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:121"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:50"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:858"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:299"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:765"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:599"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "46251",
      "date": "2003-11-07T04:07:11+01:00",
      "product": "Platform",
      "component": "User Assistance",
      "severity": "normal"
    }
  ],
  "groupId": "46251",
  "bugId": "46251",
  "date": "2003-11-07T04:07:11+01:00",
  "product": "Platform",
  "component": "User Assistance",
  "severity": "normal"
}