{
  "comments": [
    "While compiling single simple annotation or enum, weaver goes into\ninfinitive loop, which ends with StackOverFlowException.\n\nI attached sources (Annotation.java and Enum.java) and ajcore.*.txt\nfiles from Sun JDK 1.5.0.02 and JRockit 1.5, since they give\ndifferent ajcore files (different stack trace). So archive\ncontains 4 ajcore files.\n\n\nI\u0027m using Linux with JDK JRockit 1.5 and AspectJ 1.5.0M2.",
    "Created an attachment (id\u003d19690)\nsources and ajcore files\n",
    "The cause of the problem is the name of annotation and enum\n(\u0027Annotation\u0027, \u0027Enum\u0027). When I change those names, the problem\ndissapears.",
    "take a look in the parser when its open for Eclipse M6 compiler integration",
    "I tried to create annotation named \u0027Annotation\u0027 with eclipse 3.1M6\nand ajdt 1.2.0.20050407142843, and I got similar error (but in dialog):\n\u0027StackOverflowError: null\u0027. The same for enum named \u0027Enum\u0027.",
    "enum AnEnum {A,B,C} // ok\n//enum Enum {A,B,C} // dies\n\n@interface anInterface {} // ok\n//@interface Annotation {} // dies\n\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d for the enum called Enum:\n\njava.lang.StackOverflowError\n\tat java.util.HashMap.hash(HashMap.java:264)\n\tat java.util.HashMap.get(HashMap.java:320)\n\tat org.aspectj.weaver.World$TypeMap.get(World.java:543)\n\tat org.aspectj.weaver.World.resolve(World.java:124)\n\tat org.aspectj.weaver.World.resolve(World.java:109)\n\tat org.aspectj.weaver.World.resolve(World.java:152)\n\tat org.aspectj.weaver.bcel.BcelWeaver.weaveParentsFor(BcelWeaver.java:1034)\n\tat org.aspectj.weaver.bcel.BcelWeaver.weaveParentsFor(BcelWeaver.java:1037)\n\tat org.aspectj.weaver.bcel.BcelWeaver.weaveParentsFor(BcelWeaver.java:1037)\n... etc\n\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d for the annotation called Annotation:\n\njava.lang.StackOverflowError\n\tat java.util.HashMap.get(HashMap.java:320)\n\tat org.aspectj.weaver.World$TypeMap.get(World.java:543)\n\tat org.aspectj.weaver.World.resolve(World.java:124)\n\tat org.aspectj.weaver.World.resolve(World.java:109)\n\tat org.aspectj.weaver.World.resolve(World.java:152)\n\tat org.aspectj.weaver.bcel.BcelWeaver.weaveParentsFor(BcelWeaver.java:1034)\n\tat org.aspectj.weaver.bcel.BcelWeaver.weaveParentsFor(BcelWeaver.java:1045)\n\tat org.aspectj.weaver.bcel.BcelWeaver.weaveParentsFor(BcelWeaver.java:1045)\n... etc",
    "Think I\u0027ve fixed this.\nI\u0027ve sent my patch+test to Andy Clement, who\u0027ll maybe put it in the dev version\nsome time.\n\n\nThe problem was in BcelWeaver.java where it tries weaving the parent types for\nthings. It was confusing the names you declared (Enum etc) with the names of\nclasses declared inside AspectJ. To fix this ambiguity I prefixed all the names\nof types with their package.\n",
    "Fix checked in - waiting on build before closing.",
    "Fix available in latest dev build."
  ],
  "commentCreationDates": [
    "2005-04-08T19:04:21+02:00",
    "2005-04-08T19:06:06+02:00",
    "2005-04-08T20:32:53+02:00",
    "2005-04-11T11:45:32+02:00",
    "2005-04-11T17:45:32+02:00",
    "2005-05-06T16:48:59+02:00",
    "2005-05-09T12:33:48+02:00",
    "2005-05-10T18:04:56+02:00",
    "2005-06-08T17:05:13+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.StackOverflowError",
      "elements": [
        {
          "method": "java.util.HashMap.hash",
          "source": "HashMap.java:264"
        },
        {
          "method": "java.util.HashMap.get",
          "source": "HashMap.java:320"
        },
        {
          "method": "org.aspectj.weaver.World$TypeMap.get",
          "source": "World.java:543"
        },
        {
          "method": "org.aspectj.weaver.World.resolve",
          "source": "World.java:124"
        },
        {
          "method": "org.aspectj.weaver.World.resolve",
          "source": "World.java:109"
        },
        {
          "method": "org.aspectj.weaver.World.resolve",
          "source": "World.java:152"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveParentsFor",
          "source": "BcelWeaver.java:1034"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveParentsFor",
          "source": "BcelWeaver.java:1037"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveParentsFor",
          "source": "BcelWeaver.java:1037"
        }
      ],
      "number": 0,
      "commentIndex": 5,
      "bugId": "90827",
      "date": "2005-05-06T16:48:59+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.StackOverflowError",
      "elements": [
        {
          "method": "java.util.HashMap.get",
          "source": "HashMap.java:320"
        },
        {
          "method": "org.aspectj.weaver.World$TypeMap.get",
          "source": "World.java:543"
        },
        {
          "method": "org.aspectj.weaver.World.resolve",
          "source": "World.java:124"
        },
        {
          "method": "org.aspectj.weaver.World.resolve",
          "source": "World.java:109"
        },
        {
          "method": "org.aspectj.weaver.World.resolve",
          "source": "World.java:152"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveParentsFor",
          "source": "BcelWeaver.java:1034"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveParentsFor",
          "source": "BcelWeaver.java:1045"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveParentsFor",
          "source": "BcelWeaver.java:1045"
        }
      ],
      "number": 1,
      "commentIndex": 5,
      "bugId": "90827",
      "date": "2005-05-06T16:48:59+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "90827",
  "bugId": "90827",
  "date": "2005-04-08T19:04:21+02:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}