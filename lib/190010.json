{
  "comments": [
    "If you start a search and then press the Terminate button on the Search view\u0027s toolbar, the search progress is still going.  If you go to the progress view you will see Search and if you cancel it, nothing will happen.  If I wait long enough and don\u0027t believe the program has frozen it will show me the results of the search.\n\n-----------Enter bugs above this line-----------\nTM 2.0RC1 Testing\ninstallation : eclipse-SDK-3.3M7\nRSE install  : RSE 2.0 RC1\njava.runtime : Sun 1.5.0_11-b03\nos.name:     : Windows XP, Service Pack 2\n------------------------------------------------",
    "Looks like Search needs to use a progress monitor and check for cancel.\n\nTentatively assigning to 2.0.1 -- Kushal, as you\u0027re leaving the team, who would be the one working on Search? DaveM or DaveD?",
    "Martin, I think Dave M would be better placed to handle search related bugs as he\u0027s somewhat familiar with the function.\n\nI spoke to Kevin and between him and me, we\u0027ll aim to look at this tomorrow.",
    "It hits a NPE because the map of search\u0027s in AbstractSearchService is an empty map and when trying to get the handler it gets nothing.\n\nStacktrace:\n\n!ENTRY org.eclipse.ui 4 0 2007-05-31 14:29:24.698\n!MESSAGE Unhandled event loop exception\n!STACK 0\njava.lang.NullPointerException\n\tat org.eclipse.rse.services.search.AbstractSearchService.cancelSearch(AbstractSearchService.java:46)\n\tat org.eclipse.rse.internal.subsystems.files.local.LocalSearchResultConfiguration.cancel(LocalSearchResultConfiguration.java:100)\n\tat org.eclipse.rse.services.search.HostSearchResultSet.cancel(HostSearchResultSet.java:165)\n\tat org.eclipse.rse.internal.ui.view.search.SystemSearchViewPart$CancelAction.run(SystemSearchViewPart.java:175)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:498)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:545)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490)\n\tat org.eclipse.jface.action.ActionContributionItem$6.handleEvent(ActionContributionItem.java:443)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3673)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3284)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2365)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2329)\n\tat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2204)\n\tat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:497)\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:436)\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1162)\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1137)",
    "Kushal - with Kevin\u0027s analysis, can we do this in 2.0?",
    "I\u0027ll be posting 2 patch\u0027s shortly.  First patch will fix terminating of search on local.  Second patch is a start to fixing dstore search.\n\nOn local if you let a search finish the descriptor at the top of the search will be updated to say finished, but if you cancel it will still say running as no event is fired about search being cancelled.\n\nOn Dstore even if you let a search finish the descriptor at the top of the search will not be updated to say finished as in OutputRefresh isDone is false and the event is not fired.\n\nWith the events not being fired the toolbar buttons are not set to there proper state.",
    "Created an attachment (id\u003d69707)\nFix for terminating Local Search\n\nLegal Message: I, Kevin Doyle, declare that I developed attached code from\nscratch, without referencing any 3rd party materials except material licensed\nunder the EPL. I am authorized by my employer, IBM Canada Ltd. to make this\ncontribution under the EPL.",
    "Created an attachment (id\u003d69714)\nStart to fixing Terminating DStore Search\n\nThis patch makes sure the cancelSearch of the dstore search service is called, where before it wasn\u0027t even getting called.  However it does not cancel the search.\n\nLegal Message: I, Kevin Doyle, declare that I developed attached code from\nscratch, without referencing any 3rd party materials except material licensed\nunder the EPL. I am authorized by my employer, IBM Canada Ltd. to make this\ncontribution under the EPL.",
    "Dave this seems related to the dstore file cancel you\u0027ve implemented recently, could you check if we can commit this patch?",
    "The initial patches are fine and I\u0027ve committed them.  I\u0027ll leave this open for more fixes - for updating the toolbar and fixing the cancel on dstore.",
    "I\u0027ve made some updates to the dstore search for fixing cancellation and a performance improvement.  For dstore, an update the dstore_miners.jar is required.\nRight now both the local and dstore searches appear to finish or cancel fine. Kevin, do you still see any issues with the latest?",
    "Looks good to me now.",
    "marking this as fixed.",
    "Verified with I20070719-1300."
  ],
  "commentCreationDates": [
    "2007-05-30T21:46:19+02:00",
    "2007-05-30T21:56:18+02:00",
    "2007-05-30T22:14:19+02:00",
    "2007-05-31T20:39:19+02:00",
    "2007-06-01T12:28:27+02:00",
    "2007-06-01T16:51:44+02:00",
    "2007-06-01T16:53:37+02:00",
    "2007-06-01T17:09:22+02:00",
    "2007-07-12T14:31:08+02:00",
    "2007-07-12T15:18:52+02:00",
    "2007-07-13T21:45:47+02:00",
    "2007-07-13T23:19:31+02:00",
    "2007-07-13T23:39:06+02:00",
    "2007-07-20T16:25:27+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.rse.services.search.AbstractSearchService.cancelSearch",
          "source": "AbstractSearchService.java:46"
        },
        {
          "method": "org.eclipse.rse.internal.subsystems.files.local.LocalSearchResultConfiguration.cancel",
          "source": "LocalSearchResultConfiguration.java:100"
        },
        {
          "method": "org.eclipse.rse.services.search.HostSearchResultSet.cancel",
          "source": "HostSearchResultSet.java:165"
        },
        {
          "method": "org.eclipse.rse.internal.ui.view.search.SystemSearchViewPart$CancelAction.run",
          "source": "SystemSearchViewPart.java:175"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:498"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:545"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:490"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$6.handleEvent",
          "source": "ActionContributionItem.java:443"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3673"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3284"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2365"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2329"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2204"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:466"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:461"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:153"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:363"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:176"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:497"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:436"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1162"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1137"
        }
      ],
      "number": 0,
      "commentIndex": 3,
      "bugId": "190010",
      "date": "2007-05-31T20:39:19+02:00",
      "product": "Target Management",
      "component": "RSE",
      "severity": "normal"
    }
  ],
  "groupId": "190010",
  "bugId": "190010",
  "date": "2007-05-30T21:46:19+02:00",
  "product": "Target Management",
  "component": "RSE",
  "severity": "normal"
}