{
  "comments": [
    "I tried importing a set of three inter-related projects (ear, web, and utility) contained in a zip file using the Import -\u003e Existing Projects into Workspace wizard and selecting an archive file instead of a directory. I got the following exception in the log:\n\njava.lang.IllegalArgumentException: Attempted to beginRule: L/TeamWeb/WebContent/META-INF/MANIFEST.MF, does not match outer scope rule: L/TeamEar/EarContent/META-INF/application.xml\n\tat org.eclipse.core.runtime.Assert.isLegal(Assert.java:62)\n\tat org.eclipse.core.internal.jobs.ThreadJob.illegalPush(ThreadJob.java:116)\n\tat org.eclipse.core.internal.jobs.ThreadJob.push(ThreadJob.java:225)\n\tat org.eclipse.core.internal.jobs.ImplicitJobs.begin(ImplicitJobs.java:80)\n\tat org.eclipse.core.internal.jobs.JobManager.beginRule(JobManager.java:219)\n\tat org.eclipse.core.internal.resources.WorkManager.checkIn(WorkManager.java:96)\n\tat org.eclipse.core.internal.resources.Workspace.prepareOperation(Workspace.java:1684)\n\tat org.eclipse.core.internal.resources.File.setContents(File.java:358)\n\tat org.eclipse.core.internal.resources.File.setContents(File.java:462)\n\tat org.eclipse.emf.ecore.resource.impl.URIConverterImpl$PlatformResourceOutputStream.flush(URIConverterImpl.java:142)\n\tat org.eclipse.jem.util.emf.workbench.WorkbenchByteArrayOutputStream.flush(WorkbenchByteArrayOutputStream.java:78)\n\tat org.eclipse.emf.ecore.resource.impl.URIConverterImpl$PlatformResourceOutputStream.close(URIConverterImpl.java:102)\n\tat org.eclipse.jem.util.emf.workbench.WorkbenchByteArrayOutputStream.close(WorkbenchByteArrayOutputStream.java:67)\n\tat org.eclipse.jst.j2ee.internal.project.ManifestFileCreationAction.createManifestFile(ManifestFileCreationAction.java:35)\n\tat org.eclipse.jst.j2ee.internal.project.J2EEProjectUtilities.getManifestFile(J2EEProjectUtilities.java:258)\n\tat org.eclipse.jst.j2ee.internal.project.J2EEProjectUtilities.getManifestFile(J2EEProjectUtilities.java:237)\n\tat org.eclipse.jst.j2ee.internal.validation.UIEarValidator.getManifestFile(UIEarValidator.java:611)\n\tat org.eclipse.jst.j2ee.internal.validation.UIEarValidator.validateManifests(UIEarValidator.java:250)\n\tat org.eclipse.jst.j2ee.internal.validation.UIEarValidator.validateInJob(UIEarValidator.java:220)\n\tat org.eclipse.wst.validation.internal.operations.ValidatorJob.run(ValidatorJob.java:70)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\n\nIt looks like when the ear validator is invoked, the web app hasn\u0027t been loaded yet, so when the ear validator makes the getManifestFile call, that function attempts to create the manifest file and causes this failure.\n\nLet me know if the stack trace is not enough and I can attach the zip file that can be used to repro this.",
    "Please attach the zip file.",
    "Created an attachment (id\u003d48657)\nRepro App\n\n",
    "Created an attachment (id\u003d48708)\nPatch\n\nWhile i can\u0027t reproduce this, i believe this patch should fix the problem. Please test it.",
    "Yeah, the problem has an intermittent streak to it. Some days it reproduces fairly consistently. Some days I can\u0027t reproduce it at all. \n\nI tried the patch and didn\u0027t see this problem in 10 tries. I also examined the code and agree that the patch should fix the problem.",
    "approve",
    "Approve.",
    "approve",
    "code in CVS.",
    "Verified, closing."
  ],
  "commentCreationDates": [
    "2006-08-18T01:07:54+02:00",
    "2006-08-24T20:09:18+02:00",
    "2006-08-25T00:58:00+02:00",
    "2006-08-25T14:56:49+02:00",
    "2006-08-25T17:56:56+02:00",
    "2006-08-25T19:02:15+02:00",
    "2006-08-25T19:14:11+02:00",
    "2006-08-25T20:30:37+02:00",
    "2006-08-25T20:46:56+02:00",
    "2006-09-26T22:27:28+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Attempted to beginRule: L/TeamWeb/WebContent/META-INF/MANIFEST.MF, does not match outer scope rule: L/TeamEar/EarContent/META-INF/application.xml",
      "elements": [
        {
          "method": "org.eclipse.core.runtime.Assert.isLegal",
          "source": "Assert.java:62"
        },
        {
          "method": "org.eclipse.core.internal.jobs.ThreadJob.illegalPush",
          "source": "ThreadJob.java:116"
        },
        {
          "method": "org.eclipse.core.internal.jobs.ThreadJob.push",
          "source": "ThreadJob.java:225"
        },
        {
          "method": "org.eclipse.core.internal.jobs.ImplicitJobs.begin",
          "source": "ImplicitJobs.java:80"
        },
        {
          "method": "org.eclipse.core.internal.jobs.JobManager.beginRule",
          "source": "JobManager.java:219"
        },
        {
          "method": "org.eclipse.core.internal.resources.WorkManager.checkIn",
          "source": "WorkManager.java:96"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.prepareOperation",
          "source": "Workspace.java:1684"
        },
        {
          "method": "org.eclipse.core.internal.resources.File.setContents",
          "source": "File.java:358"
        },
        {
          "method": "org.eclipse.core.internal.resources.File.setContents",
          "source": "File.java:462"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.URIConverterImpl$PlatformResourceOutputStream.flush",
          "source": "URIConverterImpl.java:142"
        },
        {
          "method": "org.eclipse.jem.util.emf.workbench.WorkbenchByteArrayOutputStream.flush",
          "source": "WorkbenchByteArrayOutputStream.java:78"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.URIConverterImpl$PlatformResourceOutputStream.close",
          "source": "URIConverterImpl.java:102"
        },
        {
          "method": "org.eclipse.jem.util.emf.workbench.WorkbenchByteArrayOutputStream.close",
          "source": "WorkbenchByteArrayOutputStream.java:67"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.project.ManifestFileCreationAction.createManifestFile",
          "source": "ManifestFileCreationAction.java:35"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.project.J2EEProjectUtilities.getManifestFile",
          "source": "J2EEProjectUtilities.java:258"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.project.J2EEProjectUtilities.getManifestFile",
          "source": "J2EEProjectUtilities.java:237"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.validation.UIEarValidator.getManifestFile",
          "source": "UIEarValidator.java:611"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.validation.UIEarValidator.validateManifests",
          "source": "UIEarValidator.java:250"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.validation.UIEarValidator.validateInJob",
          "source": "UIEarValidator.java:220"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidatorJob.run",
          "source": "ValidatorJob.java:70"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "154313",
      "date": "2006-08-18T01:07:54+02:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "major"
    }
  ],
  "groupId": "154313",
  "bugId": "154313",
  "date": "2006-08-18T01:07:54+02:00",
  "product": "Web Tools",
  "component": "jst.j2ee",
  "severity": "major"
}