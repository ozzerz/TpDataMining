{
  "comments": [
    "I20040428 + Plug-in export\n\norg.eclipse.jface.util.Assert$AssertionFailedException: null argument;\nat org.eclipse.jface.util.Assert.isNotNull(Assert.java:139)\nat org.eclipse.jface.util.Assert.isNotNull(Assert.java:116)\nat org.eclipse.jface.viewers.AbstractTreeViewer.getExpandedState\n(AbstractTreeViewer.java:614)\nat org.eclipse.search.ui.text.AbstractTextSearchViewPage$6.open\n(AbstractTextSearchViewPage.java:552)\nat org.eclipse.jface.viewers.StructuredViewer$2.run(StructuredViewer.java:406)\nat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:599)\nat org.eclipse.core.runtime.Platform.run(Platform.java:543)\nat org.eclipse.jface.viewers.StructuredViewer.fireOpen\n(StructuredViewer.java:404)\nat org.eclipse.jface.viewers.StructuredViewer.handleOpen\n(StructuredViewer.java:614)\nat org.eclipse.jface.viewers.StructuredViewer$6.handleOpen\n(StructuredViewer.java:703)\nat org.eclipse.jface.util.OpenStrategy.fireOpenEvent(OpenStrategy.java:209)\nat org.eclipse.jface.util.OpenStrategy.access$2(OpenStrategy.java:204)\nat org.eclipse.jface.util.OpenStrategy$1.mouseSelectItem(OpenStrategy.java:344)\nat org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:289)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2592)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2270)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1353)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1324)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:240)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:140)\nat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:90)\nat org.eclipse.core.internal.runtime.PlatformActivator$1.run\n(PlatformActivator.java:283)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:240)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:117)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:324)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:269)\nat org.eclipse.core.launcher.Main.run(Main.java:700)\nat org.eclipse.core.launcher.Main.main(Main.java:684)",
    "Thamas, can you please investigate.",
    "What are you doing when you get the assertion failure?",
    "I delete a parent node containing matches (for example the package or \nproject). After I get the exception the search view doesn\u0027t work anymore. At \nleast opening a match with the mouse (single click/double click is dead).",
    "We\u0027re getting an open event with an empty selection. I\u0027m not sure whether that\nis legal. I put in code to check for empty selection. \nMoving to platform-ui in case the open event shouldn\u0027t be sent. Please close the\nPR if ok.",
    "Marking down proirity as Thomas has a workaround",
    "I was not able to reproduce this bug on I20040428 or any following eclipse builds.\n\nHere are my steps:\n- Import \"org.eclipse.ui\"\n- Java search for the type \"int\"\n- Switch to \"Hierarchical\" layout\n- Select a parent node that contains matches\n- Right-Click and select \"Remove Selected Matches\"\n\nI also tried using the \"DEL\" key to delete and single as well as double click mode.\n\nAm I missing something in my steps?",
    "As Thomas commented in #4 he put in a workaround to handle the case more \ngracefully. \n\nThomas can you please comment on what to do to get the assertion back.",
    "I never could reliably reproduce the assertion failure (that\u0027s your bad vibes,\nDirk ;-). The 2004-04-28 does not contain the workaround (if it is one), so you\nshould be able to get the assertion failure. The question I\u0027d like answered from\nUI is whether an empty selection when getting an open event is legal or not. If\nit is, we can just close the PR, since I didn\u0027t handle the case. If it isn\u0027t, we\nhave to fix that. \n\nAbout the scenario: I\u0027m not sure, but I think Dirk actually DELETED (not \"remove\nmatches\") the package in the package explorer. Otherwise, the scenario looks ok,\nkeep trying.",
    "Sorry I misunderstood Dani - thanks for clearing it up. And yes Dirk does seem \nto have the \"finger of doom\" \u003cgrin\u003e...\n\nThe issue here is in your open code - you are asking for the expanded state \nfor a null element. As you are testing the expanded state then you should do \nan isEmpty check first.\n\nSo it is valid for the open event to be fired if there is no selection - there \nare many cases where the plug-in developer may want to do something.\n\nClosing as requested."
  ],
  "commentCreationDates": [
    "2004-05-03T15:23:59+02:00",
    "2004-05-03T15:24:29+02:00",
    "2004-05-03T15:32:34+02:00",
    "2004-05-03T16:27:45+02:00",
    "2004-05-03T17:36:08+02:00",
    "2004-05-05T14:47:06+02:00",
    "2004-05-05T16:47:39+02:00",
    "2004-05-05T19:03:07+02:00",
    "2004-05-06T09:26:12+02:00",
    "2004-05-06T14:33:40+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.jface.util.Assert$AssertionFailedException",
      "message": "null argument;",
      "elements": [
        {
          "method": "org.eclipse.jface.util.Assert.isNotNull",
          "source": "Assert.java:139"
        },
        {
          "method": "org.eclipse.jface.util.Assert.isNotNull",
          "source": "Assert.java:116"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.getExpandedState",
          "source": "AbstractTreeViewer.java:614"
        },
        {
          "method": "org.eclipse.search.ui.text.AbstractTextSearchViewPage$6.open",
          "source": "AbstractTextSearchViewPage.java:552"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$2.run",
          "source": "StructuredViewer.java:406"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:599"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:543"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.fireOpen",
          "source": "StructuredViewer.java:404"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleOpen",
          "source": "StructuredViewer.java:614"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$6.handleOpen",
          "source": "StructuredViewer.java:703"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireOpenEvent",
          "source": "OpenStrategy.java:209"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$2",
          "source": "OpenStrategy.java:204"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.mouseSelectItem",
          "source": "OpenStrategy.java:344"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "OpenStrategy.java:289"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:796"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2592"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2270"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1353"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1324"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:240"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:140"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:90"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:283"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:240"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:117"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:269"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:700"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:684"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "60744",
      "date": "2004-05-03T15:23:59+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "60744",
  "bugId": "60744",
  "date": "2004-05-03T15:23:59+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}