{
  "comments": [
    "I created a Dynamic Web Project containing a single class. I then attempted to create a web service based on the class (bottom up). I received a ClassNotFoundException indicating that my class could not be found. No additional information is written to the log.\n\nI\u0027m attempting to create the web service against Tomcat 5.5.9.\n\nI\u0027ve determined that the problem occurs if I have not defined a server instance prior to running the wizard (in, say, a new workspace), I get the error. Once I actually define a server instance, it works as expected.",
    "This is reminiscent of bug 119111 which we fixed, though the exception is different here. I\u0027m not able to reproduce this symptom, and ran into a different exception instead. What I did:\n\n1. Started WTP 1.5 (SDK) on Sun java full version \"1.4.2_05-b04\".\n2. Chose a new workspace.\n3. Created a new Dynamic Web Project, changing the version of the Java facet from 6.0 to 1.4, and leaving all other defaults intact.\n4. Created a new Java class, \"examples.Echo\", with a single business method taking and returning a String.\n5. Selected the class and chose New ... Web Services - Web Service.\n6. Observed the message in the banner of the first page of the wizard \"No server has been selected. The Web service will not be deployed, installed, or run.\"\n7. Clicked Finish on the first page.\n8. Received an IWAB0014E Unexpected Exception with the trace below [1].\n\nWhat steps did you take, and at what point did you get the ClassNotFound? Does your service class use any classes besides those from the vanilla JRE?\n\nKathy,\nwould you please try reproducing Wayne\u0027s and my findings?\n\n[1]   java.lang.NullPointerException\n      at org.eclipse.jst.ws.internal.consumption.command.common.CreateFacetedProjectCommand.execute(CreateFacetedProjectCommand.java:149)\n      at org.eclipse.jst.ws.internal.creation.ui.extension.PreServiceAssembleCommand.execute(PreServiceAssembleCommand.java:85)\n      at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.runCommand(CommandFragmentEngine.java:413)",
    "The steps:\n\n1) Start from a brand spanking new workspace\n2) Create a Dynamic Web Project; in the process, create a new server runtime (configuration) for Tomcat 5.5.x\n3) Build a JavaBean in the new project\n4) Select \"Web Services \u003e Create Web Service\" from the pop-up menu.\n5) When I click \"next\" after viewing the page where you select your methods, I get the following error:\n\nIWAB0398E Error in generating WSDL from Java:  java.lang.ClassNotFoundException: org.junk.Junk\n\nWith exception:\n\nIWAB0398E Error in generating WSDL from Java:  java.lang.ClassNotFoundException: org.junk.Junk\n    java.lang.ClassNotFoundException: org.junk.Junk\n    at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:407)\n    at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:352)\n    at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:83)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at org.apache.tools.ant.AntClassLoader.findBaseClass(AntClassLoader.java:1197)\n    at org.apache.tools.ant.AntClassLoader.loadClass(AntClassLoader.java:990)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at org.apache.axis.utils.ClassUtils$2.run(ClassUtils.java:187)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at org.apache.axis.utils.ClassUtils.loadClass(ClassUtils.java:160)\n    at org.apache.axis.utils.ClassUtils.forName(ClassUtils.java:100)\n    at org.apache.axis.wsdl.fromJava.Emitter.setCls(Emitter.java:2079)\n    at org.apache.axis.tools.ant.wsdl.Java2WsdlAntTask.execute(Java2WsdlAntTask.java:188)\n    at org.eclipse.jst.ws.internal.axis.consumption.core.command.Java2WSDLCommand.executeAntTask(Java2WSDLCommand.java:179)\n    at org.eclipse.jst.ws.internal.axis.consumption.core.command.Java2WSDLCommand.execute(Java2WSDLCommand.java:94)\n    at org.eclipse.jst.ws.internal.axis.creation.ui.command.BUCodeGenOperation$BottomUpWSModifyOperation.execute(BUCodeGenOperation.java:116)\n    at org.eclipse.jst.ws.internal.axis.creation.ui.command.BUCodeGenOperation.execute(BUCodeGenOperation.java:80)\n    at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.runCommand(CommandFragmentEngine.java:413)\n    at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.visitTop(CommandFragmentEngine.java:353)\n    at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.moveForwardToNextStop(CommandFragmentEngine.java:251)\n    at org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager$5.run(SimpleCommandEngineManager.java:250)\n    at org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:369)\n    at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:313)\n    at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:851)\n    at org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager.runForwardToNextStop(SimpleCommandEngineManager.java:220)\n    at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.runForwardToNextStop(WizardPageManager.java:94)\n    at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getNextPage(WizardPageManager.java:145)\n    at org.eclipse.wst.command.internal.env.ui.widgets.SimpleWizardPage.getNextPage(SimpleWizardPage.java:119)\n    at org.eclipse.jface.wizard.WizardDialog.nextPressed(WizardDialog.java:751)\n    at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:351)\n    at org.eclipse.jface.dialogs.Dialog$3.widgetSelected(Dialog.java:660)\n    at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)\n    at org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\n    at org.eclipse.jface.window.Window.open(Window.java:796)\n    at org.eclipse.wst.command.internal.env.ui.widgets.popup.DynamicPopupWizard.run(DynamicPopupWizard.java:130)\n    at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:254)\n    at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539)\n    at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\n    at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)\n    at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)\n    at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n    at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n    at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n    at org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n    at org.eclipse.core.launcher.Main.run(Main.java:977)\n    at org.eclipse.core.launcher.Main.main(Main.java:952)\n\nThe class org.junk.Junk is the class that I\u0027m basing the web service on. It is defined in the project that I\u0027m trying to deploy the web service into.\n\nIt works fine if I first create a server instance in the servers view.\n\nNote that this doesn\u0027t happen if you simply delete an existing server instance. You have to start from a new workspace (though I imagine that if I try hard enough, I could figure out how to really delete the server instance).",
    "Hi Wayne, I just followed your instruction in comment #2 but still could not reproduce the problem you reported. I tried with new workspace, just create dynamic Web project and install Tomcat 5.5 server runtime (running on Sun JDK 1.5.0_07).  With no server instance in the workspace, I select the Java bean I\u0027ve created in the dynamic Web project and went through the Web service scenario with no error.  The wizard created a Tomcat instance for me and deployed the Web service to it as expected.\n\nDo you just have a simple Java bean in the dynamic Web project \"wpX\"?  Do you have other project in the workspace other than \"wpX\"?  Does \"wpX\" has any other project dependency? Did you select the Java bean when you bring up the Web service wizard?  On the first page of the wizard, you should see the service project hyperlink defaulted to \"wpX\", did you changed it to something else?\n\nIn resource perspective, are you able to see the Junk.class under the build/classes directory under the org/junk folder?\n\nI\u0027ve tried both WTP 1.5 and WTP 1.5.1 M0814 driver and could not reproduce your problem.  I have been able to reproduce the problem reported by Chris (when no server runtime is installed) on the WTP 1.5.1 M0814 driver and have opened bug 156230 to track that problem.\n",
    "(In reply to comment #3)\n\u003e \n\u003e Do you just have a simple Java bean in the dynamic Web project \"wpX\"? \n\nYes. Just a class with no explicit superclass, no interfaces, and a single public method that returns a string.\n\n\u003e Do you have other project in the workspace other than \"wpX\"?  \n\nNo.\n\n\u003e Does \"wpX\" has any other project dependency? \n\nNo\n\n\u003e Did you select the Java bean when you bring up the Web service wizard?  \n\nYes. I selected the JavaBean in the package explorer and then used the pop-up menu item \"Web Services \u003e Create Web Service\" (i.e. not the \"New...\" wizard).\n\n\u003e On the first page of the wizard, you should see the service\n\u003e project hyperlink defaulted to \"wpX\", did you changed it to something else?\n\nNope. I have nothing else to change it to.\n\n\u003e In resource perspective, are you able to see the Junk.class under the\n\u003e build/classes directory under the org/junk folder?\n\nYes.\n\nFWIW: I\u0027m using a brand spanking new installation of Eclipse with all features from the Callisto update site installed.\n\nI\u0027m setting up another machine to try and see if I can reproduce the problem there.",
    "(In reply to comment #4)\n\n\u003e I\u0027m setting up another machine to try and see if I can reproduce the problem\n\u003e there.\n\nRats! it works on my other machine. I opted to load only the WebTools (and required features) to save time.\n\nOne difference between the machines is the version of Tomcat. I have 5.5.9 installed on the laptop where the failure occurs. I\u0027m using 5.5.17 on the desktop where it works. \n\nI installed 5.5.17 on the laptop and it works. Bottom line seems to be that the flakey behaviour I observed seems to be due to the Tomcat version. Did I miss a pre-requisite somewhere?\n\n",
    "We tried on another machine that has Tomcat 5.5.9 installed and it works fine there as well.\n\nIf you are still seeing the problem with certain configuration, it would be extremely useful if you could identify which configuration (driver, server, JDK etc.) that would cause the problem to happen.",
    "The scenario works for us in the configuration you described.  Please re-open if this is still a problem for you in certain configuration.",
    "I can\u0027t sort out what\u0027s different between my two machines and I cannot repeat the problem on a third.",
    "Closed."
  ],
  "commentCreationDates": [
    "2006-09-03T06:31:10+02:00",
    "2006-09-05T14:44:06+02:00",
    "2006-09-05T16:39:19+02:00",
    "2006-09-05T19:25:58+02:00",
    "2006-09-05T20:00:30+02:00",
    "2006-09-05T20:31:08+02:00",
    "2006-09-05T22:14:40+02:00",
    "2006-09-07T19:06:26+02:00",
    "2006-09-26T21:36:52+02:00",
    "2006-10-03T14:56:43+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jst.ws.internal.consumption.command.common.CreateFacetedProjectCommand.execute",
          "source": "CreateFacetedProjectCommand.java:149"
        },
        {
          "method": "org.eclipse.jst.ws.internal.creation.ui.extension.PreServiceAssembleCommand.execute",
          "source": "PreServiceAssembleCommand.java:85"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.runCommand",
          "source": "CommandFragmentEngine.java:413"
        }
      ],
      "number": 0,
      "commentIndex": 1,
      "bugId": "156048",
      "date": "2006-09-05T14:44:06+02:00",
      "product": "Web Tools",
      "component": "wst.ws",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.ClassNotFoundException",
      "message": "org.junk.Junk",
      "elements": [
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClass",
          "source": "BundleLoader.java:407"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClass",
          "source": "BundleLoader.java:352"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass",
          "source": "DefaultClassLoader.java:83"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.tools.ant.AntClassLoader.findBaseClass",
          "source": "AntClassLoader.java:1197"
        },
        {
          "method": "org.apache.tools.ant.AntClassLoader.loadClass",
          "source": "AntClassLoader.java:990"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.axis.utils.ClassUtils$2.run",
          "source": "ClassUtils.java:187"
        },
        {
          "method": "java.security.AccessController.doPrivileged",
          "source": "Native Method"
        },
        {
          "method": "org.apache.axis.utils.ClassUtils.loadClass",
          "source": "ClassUtils.java:160"
        },
        {
          "method": "org.apache.axis.utils.ClassUtils.forName",
          "source": "ClassUtils.java:100"
        },
        {
          "method": "org.apache.axis.wsdl.fromJava.Emitter.setCls",
          "source": "Emitter.java:2079"
        },
        {
          "method": "org.apache.axis.tools.ant.wsdl.Java2WsdlAntTask.execute",
          "source": "Java2WsdlAntTask.java:188"
        },
        {
          "method": "org.eclipse.jst.ws.internal.axis.consumption.core.command.Java2WSDLCommand.executeAntTask",
          "source": "Java2WSDLCommand.java:179"
        },
        {
          "method": "org.eclipse.jst.ws.internal.axis.consumption.core.command.Java2WSDLCommand.execute",
          "source": "Java2WSDLCommand.java:94"
        },
        {
          "method": "org.eclipse.jst.ws.internal.axis.creation.ui.command.BUCodeGenOperation$BottomUpWSModifyOperation.execute",
          "source": "BUCodeGenOperation.java:116"
        },
        {
          "method": "org.eclipse.jst.ws.internal.axis.creation.ui.command.BUCodeGenOperation.execute",
          "source": "BUCodeGenOperation.java:80"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.runCommand",
          "source": "CommandFragmentEngine.java:413"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.visitTop",
          "source": "CommandFragmentEngine.java:353"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.moveForwardToNextStop",
          "source": "CommandFragmentEngine.java:251"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager$5.run",
          "source": "SimpleCommandEngineManager.java:250"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:369"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:313"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.run",
          "source": "WizardDialog.java:851"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager.runForwardToNextStop",
          "source": "SimpleCommandEngineManager.java:220"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.runForwardToNextStop",
          "source": "WizardPageManager.java:94"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getNextPage",
          "source": "WizardPageManager.java:145"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.SimpleWizardPage.getNextPage",
          "source": "SimpleWizardPage.java:119"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.nextPressed",
          "source": "WizardDialog.java:751"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.buttonPressed",
          "source": "WizardDialog.java:351"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$3.widgetSelected",
          "source": "Dialog.java:660"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:90"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3348"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2968"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:820"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:796"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.popup.DynamicPopupWizard.run",
          "source": "DynamicPopupWizard.java:130"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:254"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:539"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3348"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2968"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1914"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1878"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:280"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 1,
      "commentIndex": 2,
      "bugId": "156048",
      "date": "2006-09-05T16:39:19+02:00",
      "product": "Web Tools",
      "component": "wst.ws",
      "severity": "normal"
    }
  ],
  "groupId": "156048",
  "bugId": "156048",
  "date": "2006-09-03T06:31:10+02:00",
  "product": "Web Tools",
  "component": "wst.ws",
  "severity": "normal"
}