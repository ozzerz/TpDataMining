{
  "comments": [
    "The bug occurs in Eclipse 3.1, whereas in 3.0 everything is fine.\n\nThe error-message I get is \"An internal error occurred during \u0027Requesting Java \nAST from selection\u0027\", resulting from the following stack-trace in the Eclipse-\nlog (Note that the stack overflow seems to result from a loop):\n\n!ENTRY org.eclipse.core.runtime 4 2 2005-07-12 09:31:35.365\n!MESSAGE An internal error occurred during: \"Requesting Java AST from \nselection\".\n!STACK 0\njava.lang.StackOverflowError\n\tat org.eclipse.jdt.internal.core.JavaElement.getElementInfo\n(JavaElement.java:230)\n\tat org.eclipse.jdt.internal.core.JavaElement.getElementInfo\n(JavaElement.java:218)\n\tat org.eclipse.jdt.internal.core.PackageFragmentRoot.getKind\n(PackageFragmentRoot.java:538)\n\tat org.eclipse.jdt.internal.core.PackageFragment.getKind\n(PackageFragment.java:268)\n\tat org.eclipse.jdt.internal.core.PackageFragment.getClassFiles\n(PackageFragment.java:177)\n\tat org.eclipse.jdt.internal.core.NameLookup.seekTypesInBinaryPackage\n(NameLookup.java:793)\n\tat org.eclipse.jdt.internal.core.NameLookup.seekTypes\n(NameLookup.java:769)\n\tat org.eclipse.jdt.internal.core.NameLookup.findType\n(NameLookup.java:542)\n\tat org.eclipse.jdt.internal.core.NameLookup.findType\n(NameLookup.java:501)\n\tat org.eclipse.jdt.internal.core.SearchableEnvironment.find\n(SearchableEnvironment.java:85)\n\tat org.eclipse.jdt.internal.core.SearchableEnvironment.findType\n(SearchableEnvironment.java:177)\n\tat org.eclipse.jdt.internal.core.CancelableNameEnvironment.findType\n(CancelableNameEnvironment.java:50)\n\tat org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType\n(LookupEnvironment.java:93)\n\tat \norg.eclipse.jdt.internal.compiler.lookup.UnresolvedReferenceBinding.resolve\n(UnresolvedReferenceBinding.java:43)\n\tat \norg.eclipse.jdt.internal.compiler.lookup.BinaryTypeBinding.resolveUnresolvedType\n(BinaryTypeBinding.java:92)\n\tat \norg.eclipse.jdt.internal.compiler.lookup.BinaryTypeBinding.enclosingType\n(BinaryTypeBinding.java:516)\n\tat org.eclipse.jdt.internal.compiler.lookup.BinaryTypeBinding.\u003cinit\u003e\n(BinaryTypeBinding.java:144)\n\tat \norg.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.createBinaryTypeFrom\n(LookupEnvironment.java:468)\n\tat \norg.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.createBinaryTypeFrom\n(LookupEnvironment.java:465)\n\tat org.eclipse.jdt.internal.compiler.Compiler.accept(Compiler.java:190)\n\n........ (many times the same) ........\n\n\tat org.eclipse.jdt.internal.compiler.Compiler.accept(Compiler.java:190)\n\tat org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType\n(LookupEnvironment.java:99)\n\tat \norg.eclipse.jdt.internal.compiler.lookup.UnresolvedReferenceBinding.resolve\n(UnresolvedReferenceBinding.java:43)\n\tat \norg.eclipse.jdt.internal.compiler.lookup.BinaryTypeBinding.resolveUnresolvedType\n(BinaryTypeBinding.java:92)\n\tat \norg.eclipse.jdt.internal.compiler.lookup.BinaryTypeBinding.enclosingType\n(BinaryTypeBinding.java:516)\n!SESSION 2005-07-12 09:31:44.729 -----------------------------------------------\neclipse.buildId\u003dI20050627-1435\njava.version\u003d1.5.0_04\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003dde_DE\nCommand-line arguments:  -os win32 -ws win32 -arch x86\n\n\nThe error happens when clicking anywhere in an editor-window containing the \nfollowing code:\n\npackage dvl.tst;\nimport dev.etd.CAConfMsgSet.Helper;\npublic class AstTest    {\n\tpublic AstTest() { \n\t\tHelper sec \u003d new Helper();\n\t\tsec.get$1().get$2().get$3().getSfkpngPlaceString();\n\t}\n}\n\nwhere Helper has the following content (simplified to make tracking easier):\n\npackage dev.etd.CAConfMsgSet;\npublic class Helper {\n  public void init() {\n  }\n  public static class $1 {\n    public static class $2 {\n      public static class $3 {\n        public java.lang.String getSfkpngPlaceString() {\n          return \"String\"; \n        }\n      }\n      $3 _$3;\n      public $3 get$3() {\n        if (_$3 \u003d\u003d null) _$3 \u003d new $3();\n        return _$3;\n      }\n    }\n    $2 _$2;\n    public $2 get$2() {\n      if (_$2 \u003d\u003d null) {_$2 \u003d new $2();}\n      return _$2;\n    }\n  }\n  $1 _$1;\n  public $1 get$1() {\n    if (_$1 \u003d\u003d null) _$1 \u003d new $1();\n    return _$1;\n  }\n}\n\nPlease note that the error only happens when Helper-class is packaged in a jar-\nfile.\n\nSetup for the test: Just the java-file above in the project plus the class-file \npackaged in a jar (nothing else).",
    "Created an attachment (id\u003d26343)\nFix\n",
    "Created an attachment (id\u003d26344)\nRegression test\n",
    "+1 for 3.1.1",
    "Released fix and regression test in both HEAD and R3_1_maintenance branch.",
    "Verified in I20050920-0010 for 3.2M2",
    "Verified for 3.1.1 using M20050923-1430."
  ],
  "commentCreationDates": [
    "2005-07-12T12:12:00+02:00",
    "2005-08-22T17:23:24+02:00",
    "2005-08-22T17:23:46+02:00",
    "2005-09-01T12:06:05+02:00",
    "2005-09-01T13:24:59+02:00",
    "2005-09-21T15:25:45+02:00",
    "2005-09-26T16:46:25+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.StackOverflowError",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.JavaElement.getElementInfo",
          "source": "JavaElement.java:230"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaElement.getElementInfo",
          "source": "JavaElement.java:218"
        },
        {
          "method": "org.eclipse.jdt.internal.core.PackageFragmentRoot.getKind",
          "source": "PackageFragmentRoot.java:538"
        },
        {
          "method": "org.eclipse.jdt.internal.core.PackageFragment.getKind",
          "source": "PackageFragment.java:268"
        },
        {
          "method": "org.eclipse.jdt.internal.core.PackageFragment.getClassFiles",
          "source": "PackageFragment.java:177"
        },
        {
          "method": "org.eclipse.jdt.internal.core.NameLookup.seekTypesInBinaryPackage",
          "source": "NameLookup.java:793"
        },
        {
          "method": "org.eclipse.jdt.internal.core.NameLookup.seekTypes",
          "source": "NameLookup.java:769"
        },
        {
          "method": "org.eclipse.jdt.internal.core.NameLookup.findType",
          "source": "NameLookup.java:542"
        },
        {
          "method": "org.eclipse.jdt.internal.core.NameLookup.findType",
          "source": "NameLookup.java:501"
        },
        {
          "method": "org.eclipse.jdt.internal.core.SearchableEnvironment.find",
          "source": "SearchableEnvironment.java:85"
        },
        {
          "method": "org.eclipse.jdt.internal.core.SearchableEnvironment.findType",
          "source": "SearchableEnvironment.java:177"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CancelableNameEnvironment.findType",
          "source": "CancelableNameEnvironment.java:50"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType",
          "source": "LookupEnvironment.java:93"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.UnresolvedReferenceBinding.resolve",
          "source": "UnresolvedReferenceBinding.java:43"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.BinaryTypeBinding.resolveUnresolvedType",
          "source": "BinaryTypeBinding.java:92"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.BinaryTypeBinding.enclosingType",
          "source": "BinaryTypeBinding.java:516"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.BinaryTypeBinding.\u003cinit\u003e",
          "source": "BinaryTypeBinding.java:144"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.createBinaryTypeFrom",
          "source": "LookupEnvironment.java:468"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.createBinaryTypeFrom",
          "source": "LookupEnvironment.java:465"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.accept",
          "source": "Compiler.java:190"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "103466",
      "date": "2005-07-12T12:12:00+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "103466",
  "bugId": "103466",
  "date": "2005-07-12T12:12:00+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}