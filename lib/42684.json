{
  "comments": [
    "The JDT/UI tests failed in the last nightly builds. The stack trace is:\n\norg.eclipse.swt.SWTException: Widget is disposed\nat org.eclipse.swt.SWT.error(SWT.java:2369)\nat org.eclipse.swt.SWT.error(SWT.java:2299)\nat org.eclipse.swt.widgets.Widget.error(Widget.java:388)\nat org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:317)\nat org.eclipse.swt.custom.CLabel.setBackground(CLabel.java:469)\nat org.eclipse.ui.internal.ViewPane.drawGradient(ViewPane.java:404)\nat org.eclipse.ui.internal.ViewPane.showFocus(ViewPane.java:507)\nat org.eclipse.ui.internal.WorkbenchPage.deactivatePart\n(WorkbenchPage.java:1039)\nat org.eclipse.ui.internal.WorkbenchPage.setActivePart(WorkbenchPage.java:2484)\nat org.eclipse.ui.internal.WorkbenchPage.activate(WorkbenchPage.java:428)\nat org.eclipse.ui.internal.WorkbenchPage.busyShowView(WorkbenchPage.java:673)\nat org.eclipse.ui.internal.WorkbenchPage.access$9(WorkbenchPage.java:659)\nat org.eclipse.ui.internal.WorkbenchPage$13.run(WorkbenchPage.java:2781)\nat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)\nat org.eclipse.ui.internal.WorkbenchPage.showView(WorkbenchPage.java:2778)\nat org.eclipse.ui.internal.WorkbenchPage.showView(WorkbenchPage.java:2762)\nat org.eclipse.jdt.ui.tests.packageview.ContentProviderTests2.setUpMockView\n\nWe haven\u0027t change anything here.",
    "Doug this looks like the patch to the active part/debugger problem.",
    "Created an attachment (id\u003d6019)\nPatch to ViewPane and WorkbenchPage\n\nFixes the bug in two separate places.  Either fix is sufficient in its own\nright, and has been tested against the Platform-UI and JDT-UI test suites.  The\nfixes also work together.\n\nThe first fix, to ViewPane, clears the reference to titleLabel when it is\ndisposed (i.e., sets it to null).  Previously, ViewPane would hold on to a\nreference to the control (titleLabel) even after it had been disposed.\tA\nsubsequent called to setFocus(boolean) would cause an SWT error.\n\nThe second fix, to WorkbenchPage, resets the activePart based on the\nactivationList every time the view is removed.\tThere was already a note at the\ntop of WorkbenchPage that activePart should be removed entirely; this would be\nan even better fix.  Previously, the activePart would continue to point at a\ndisposed ViewPane; when a new part became active, the setFocus(boolean) method\nwould be called and an SWT error would occur.",
    "tod: review/test/apply.  this is for today\u0027s build submission.",
    "Fixed for build \u003e20030908",
    "Marking closed"
  ],
  "commentCreationDates": [
    "2003-09-08T10:50:15+02:00",
    "2003-09-08T14:20:08+02:00",
    "2003-09-08T20:00:39+02:00",
    "2003-09-08T20:01:46+02:00",
    "2003-09-08T21:13:50+02:00",
    "2005-05-10T20:56:22+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Widget is disposed",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2369"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2299"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:388"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.checkWidget",
          "source": "Widget.java:317"
        },
        {
          "method": "org.eclipse.swt.custom.CLabel.setBackground",
          "source": "CLabel.java:469"
        },
        {
          "method": "org.eclipse.ui.internal.ViewPane.drawGradient",
          "source": "ViewPane.java:404"
        },
        {
          "method": "org.eclipse.ui.internal.ViewPane.showFocus",
          "source": "ViewPane.java:507"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.deactivatePart",
          "source": "WorkbenchPage.java:1039"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.setActivePart",
          "source": "WorkbenchPage.java:2484"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.activate",
          "source": "WorkbenchPage.java:428"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.busyShowView",
          "source": "WorkbenchPage.java:673"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.access$9",
          "source": "WorkbenchPage.java:659"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$13.run",
          "source": "WorkbenchPage.java:2781"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:84"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.showView",
          "source": "WorkbenchPage.java:2778"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.showView",
          "source": "WorkbenchPage.java:2762"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "42684",
      "date": "2003-09-08T10:50:15+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "critical"
    }
  ],
  "groupId": "42684",
  "bugId": "42684",
  "date": "2003-09-08T10:50:15+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "critical"
}