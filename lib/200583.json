{
  "comments": [
    "While shut down the framework, using EclipseStarter.shutdown() \"IllegalStateException: BundleContext is no longer valid \" error pop out. It seems the EventAdmin bundle is trying to use its BundleContext after it has been stopped to find handlers to deliver events to.\n\n\nEventAdmin: Exception thrown while dispatching an event, event \u003d org.osgi.service.event.Event [topic\u003dorg/osgi/service/log/LogEntry]\nEventAdmin: exception \u003d java.lang.IllegalStateException: BundleContext is no longer valid\njava.lang.IllegalStateException: BundleContext is no longer valid\nat org.eclipse.osgi.framework.internal.core.BundleContextImpl.checkValid(BundleContextImpl.java:1305)\nat org.eclipse.osgi.framework.internal.core.BundleContextImpl.getServiceReferences(BundleContextImpl.java:714)\nat org.eclipse.equinox.event.EventAdminImpl.getAllEventHandlers(EventAdminImpl.java:346)\nat org.eclipse.equinox.event.EventAdminImpl.dispatchEvent(EventAdminImpl.java:136)\nat org.eclipse.equinox.event.EventAdminImpl.postEvent(EventAdminImpl.java:101)\nat org.eclipsei.equinox.event.mapper.EventAdapter.redeliverInternal(EventAdapter.java:51)\nat org.eclipsei.equinox.event.mapper.EventAdapter.redeliver(EventAdapter.java:42)\nat org.eclipsei.equinox.event.mapper.EventRedeliverer.logged(EventRedeliverer.java:209)\nat org.eclipse.equinox.log.LogReaderService.dispatchEvent(LogReaderService.java:55)\nat org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:189)\nat org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:291)\n\nCathy sun.",
    "Can you try to reproduce on latest event admin in 3.3.  The EventAdmin has had significant changes in 3.3."
  ],
  "commentCreationDates": [
    "2007-08-20T19:25:24+02:00",
    "2007-08-20T22:30:30+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalStateException",
      "message": "BundleContext is no longer valid",
      "elements": [
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.checkValid",
          "source": "BundleContextImpl.java:1305"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.getServiceReferences",
          "source": "BundleContextImpl.java:714"
        },
        {
          "method": "org.eclipse.equinox.event.EventAdminImpl.getAllEventHandlers",
          "source": "EventAdminImpl.java:346"
        },
        {
          "method": "org.eclipse.equinox.event.EventAdminImpl.dispatchEvent",
          "source": "EventAdminImpl.java:136"
        },
        {
          "method": "org.eclipse.equinox.event.EventAdminImpl.postEvent",
          "source": "EventAdminImpl.java:101"
        },
        {
          "method": "org.eclipsei.equinox.event.mapper.EventAdapter.redeliverInternal",
          "source": "EventAdapter.java:51"
        },
        {
          "method": "org.eclipsei.equinox.event.mapper.EventAdapter.redeliver",
          "source": "EventAdapter.java:42"
        },
        {
          "method": "org.eclipsei.equinox.event.mapper.EventRedeliverer.logged",
          "source": "EventRedeliverer.java:209"
        },
        {
          "method": "org.eclipse.equinox.log.LogReaderService.dispatchEvent",
          "source": "LogReaderService.java:55"
        },
        {
          "method": "org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent",
          "source": "EventManager.java:189"
        },
        {
          "method": "org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run",
          "source": "EventManager.java:291"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "200583",
      "date": "2007-08-20T19:25:24+02:00",
      "product": "Equinox",
      "component": "Bundles",
      "severity": "normal"
    }
  ],
  "groupId": "200583",
  "bugId": "200583",
  "date": "2007-08-20T19:25:24+02:00",
  "product": "Equinox",
  "component": "Bundles",
  "severity": "normal"
}