{
  "comments": [
    "I opened by project after updating AJDT. I see a popup. This is repeatable but \ndon\u0027t know the reason. The project does not have any errors. Nothing is \nhighlighted as an error when I use AJDT 1.3.0 or the previous version.\n----------------------------------------------------------------------\nIllegalStateException thrown:Undeclared type variable in signature: K\n\nReason:\nIllegalStateException thrown:Undeclared type variable in signature: K\n----------------------------------------------------------------------\nThe trace is\n\n!ENTRY org.eclipse.ajdt.ui 4 0 2005-08-26 17:39:17.568\n!MESSAGE IllegalStateException thrown: Undeclared type variable in signature: K\n!STACK 0\njava.lang.IllegalStateException: Undeclared type variable in signature: K\n\tat \norg.aspectj.weaver.bcel.BcelGenericSignatureToTypeXConverter.typeVariableSignat\nure2TypeX(BcelGenericSignatureToTypeXConverter.java:203)\n\tat \norg.aspectj.weaver.bcel.BcelGenericSignatureToTypeXConverter.fieldTypeSignature\n2TypeX(BcelGenericSignatureToTypeXConverter.java:120)\n\tat \norg.aspectj.weaver.bcel.BcelGenericSignatureToTypeXConverter.typeSignature2Type\nX(BcelGenericSignatureToTypeXConverter.java:186)\n\tat \norg.aspectj.weaver.bcel.BcelGenericSignatureToTypeXConverter.typeSignature2Type\nX(BcelGenericSignatureToTypeXConverter.java:173)\n\tat org.aspectj.weaver.bcel.BcelMethod.unpackGenericSignature\n(BcelMethod.java:283)\n\tat org.aspectj.weaver.bcel.BcelMethod.getGenericParameterTypes\n(BcelMethod.java:256)\n\tat org.aspectj.weaver.ResolvedMemberImpl.matches\n(ResolvedMemberImpl.java:635)\n\tat org.aspectj.weaver.ResolvedType.lookupResolvedMember\n(ResolvedType.java:340)\n\tat org.aspectj.weaver.ResolvedMemberImpl.accumulateMembersMatching\n(ResolvedMemberImpl.java:212)\n\tat org.aspectj.weaver.ResolvedMemberImpl.getJoinPointSignatures\n(ResolvedMemberImpl.java:166)\n\tat org.aspectj.weaver.MemberImpl.getJoinPointSignatures\n(MemberImpl.java:917)\n\tat org.aspectj.weaver.patterns.SignaturePattern.matches\n(SignaturePattern.java:150)\n\tat org.aspectj.weaver.patterns.KindedPointcut.matchInternal\n(KindedPointcut.java:111)\n\tat org.aspectj.weaver.patterns.Pointcut.match(Pointcut.java:151)\n\tat org.aspectj.weaver.patterns.AndPointcut.matchInternal\n(AndPointcut.java:61)\n\tat org.aspectj.weaver.patterns.Pointcut.match(Pointcut.java:151)\n\tat org.aspectj.weaver.ShadowMunger.match(ShadowMunger.java:62)\n\tat org.aspectj.weaver.Advice.match(Advice.java:101)\n\tat org.aspectj.weaver.bcel.BcelClassWeaver.match\n(BcelClassWeaver.java:1724)\n\tat org.aspectj.weaver.bcel.BcelClassWeaver.match\n(BcelClassWeaver.java:1360)\n\tat org.aspectj.weaver.bcel.BcelClassWeaver.weave\n(BcelClassWeaver.java:381)\n\tat org.aspectj.weaver.bcel.BcelClassWeaver.weave\n(BcelClassWeaver.java:96)\n\tat org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:1368)\n\tat org.aspectj.weaver.bcel.BcelWeaver.weaveWithoutDump\n(BcelWeaver.java:1333)\n\tat org.aspectj.weaver.bcel.BcelWeaver.weaveAndNotify\n(BcelWeaver.java:1110)\n\tat org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:997)\n\tat org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave\n(AjCompilerAdapter.java:286)\n\tat org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling\n(AjCompilerAdapter.java:165)\n\tat \norg.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$afterReturning$org_aspec\ntj_ajdt_internal_compiler_CompilerAdapter$2$f9cc9ca0(CompilerAdapter.aj:70)\n\tat org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile\n(Compiler.java:367)\n\tat \norg.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation\n(AjBuildManager.java:728)\n\tat org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild\n(AjBuildManager.java:206)\n\tat org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild\n(AjBuildManager.java:140)\n\tat org.aspectj.ajde.internal.CompilerAdapter.compile\n(CompilerAdapter.java:121)\n\tat org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run\n(AspectJBuildManager.java:191)",
    "Is this with the latest AJDT dev build containing AspectJ 5 M3?\nException is in bcel so passing over to the compiler",
    "Do you have any generic types in your project with a type variable named K?\nCould you attach the source for any such types as an attachment to this bug\nreport please? I\u0027m suspicious of some kind of inner-inner-type of a generic type\nsort of arrangement that we may not be handling correctly.",
    "for M4",
    "Created an attachment (id\u003d26578)\nInner type K\n\nA inner type K is used but no errors are highlighted. I have attached the code.",
    "That\u0027s great, thanks. It\u0027s a public holiday here in the UK today, but I\u0027ll take a look at this tomorrow \nmorning.",
    "managed to reproduce in self-contained test case... now investigating the fix.",
    "When resolving formal type parameters during type resolution (for inner types),\nwe also looked in outer types for \"inherited\" type parameters. When resolving a\nmethod in an inner type, we were not looking at outer type for extra type\nparameters. This caused the failure to find K in the bug report for the\nanonymous inner classes of Entry. \n\nFix commited in tree, will be available in next published build."
  ],
  "commentCreationDates": [
    "2005-08-26T14:19:45+02:00",
    "2005-08-26T15:35:22+02:00",
    "2005-08-26T16:00:42+02:00",
    "2005-08-26T17:49:15+02:00",
    "2005-08-29T07:01:07+02:00",
    "2005-08-29T10:40:16+02:00",
    "2005-08-30T13:01:05+02:00",
    "2005-08-30T13:40:49+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalStateException",
      "message": "Undeclared type variable in signature: K",
      "elements": [
        {
          "method": "org.aspectj.weaver.bcel.BcelGenericSignatureToTypeXConverter.typeVariableSignature2TypeX",
          "source": "BcelGenericSignatureToTypeXConverter.java:203"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelGenericSignatureToTypeXConverter.fieldTypeSignature2TypeX",
          "source": "BcelGenericSignatureToTypeXConverter.java:120"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelGenericSignatureToTypeXConverter.typeSignature2TypeX",
          "source": "BcelGenericSignatureToTypeXConverter.java:186"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelGenericSignatureToTypeXConverter.typeSignature2TypeX",
          "source": "BcelGenericSignatureToTypeXConverter.java:173"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelMethod.unpackGenericSignature",
          "source": "BcelMethod.java:283"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelMethod.getGenericParameterTypes",
          "source": "BcelMethod.java:256"
        },
        {
          "method": "org.aspectj.weaver.ResolvedMemberImpl.matches",
          "source": "ResolvedMemberImpl.java:635"
        },
        {
          "method": "org.aspectj.weaver.ResolvedType.lookupResolvedMember",
          "source": "ResolvedType.java:340"
        },
        {
          "method": "org.aspectj.weaver.ResolvedMemberImpl.accumulateMembersMatching",
          "source": "ResolvedMemberImpl.java:212"
        },
        {
          "method": "org.aspectj.weaver.ResolvedMemberImpl.getJoinPointSignatures",
          "source": "ResolvedMemberImpl.java:166"
        },
        {
          "method": "org.aspectj.weaver.MemberImpl.getJoinPointSignatures",
          "source": "MemberImpl.java:917"
        },
        {
          "method": "org.aspectj.weaver.patterns.SignaturePattern.matches",
          "source": "SignaturePattern.java:150"
        },
        {
          "method": "org.aspectj.weaver.patterns.KindedPointcut.matchInternal",
          "source": "KindedPointcut.java:111"
        },
        {
          "method": "org.aspectj.weaver.patterns.Pointcut.match",
          "source": "Pointcut.java:151"
        },
        {
          "method": "org.aspectj.weaver.patterns.AndPointcut.matchInternal",
          "source": "AndPointcut.java:61"
        },
        {
          "method": "org.aspectj.weaver.patterns.Pointcut.match",
          "source": "Pointcut.java:151"
        },
        {
          "method": "org.aspectj.weaver.ShadowMunger.match",
          "source": "ShadowMunger.java:62"
        },
        {
          "method": "org.aspectj.weaver.Advice.match",
          "source": "Advice.java:101"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.match",
          "source": "BcelClassWeaver.java:1724"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.match",
          "source": "BcelClassWeaver.java:1360"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.weave",
          "source": "BcelClassWeaver.java:381"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.weave",
          "source": "BcelClassWeaver.java:96"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weave",
          "source": "BcelWeaver.java:1368"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveWithoutDump",
          "source": "BcelWeaver.java:1333"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveAndNotify",
          "source": "BcelWeaver.java:1110"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weave",
          "source": "BcelWeaver.java:997"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave",
          "source": "AjCompilerAdapter.java:286"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling",
          "source": "AjCompilerAdapter.java:165"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$afterReturning$org_aspectj_ajdt_internal_compiler_CompilerAdapter$2$f9cc9ca0",
          "source": "CompilerAdapter.aj:70"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:367"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:728"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:206"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBuildManager.java:140"
        },
        {
          "method": "org.aspectj.ajde.internal.CompilerAdapter.compile",
          "source": "CompilerAdapter.java:121"
        },
        {
          "method": "org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run",
          "source": "AspectJBuildManager.java:191"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "108104",
      "date": "2005-08-26T14:19:45+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "108104",
  "bugId": "108104",
  "date": "2005-08-26T14:19:45+02:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}