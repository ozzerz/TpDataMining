{
  "comments": [
    "This is multiproject issue related to Europa release\n\nNPE exception happens when creating CVS synchronization for Window working set when Window working set don\u0027t have resource working sets. For example when it has Tasks working sets contributed to platform by Mylar.\n\n-- Error Log --\nDate: Mon May 28 23:21:10 EDT 2007\nMessage: Unhandled event loop exception\nSeverity: Error\nPlugin ID: org.eclipse.ui\nStack Trace:\njava.lang.NullPointerException\n\tat org.eclipse.team.internal.ui.Utils.getLabel(Utils.java:904)\n\tat org.eclipse.team.internal.ui.Utils.getScopeDescription(Utils.java:927)\n\tat org.eclipse.team.ui.synchronize.ModelSynchronizeParticipant.getName(ModelSynchronizeParticipant.java:174)\n\tat org.eclipse.team.internal.ui.synchronize.SynchronizeManager.addSynchronizeParticipants(SynchronizeManager.java:350)\n\tat org.eclipse.team.internal.ccvs.ui.mappings.ModelSynchronizeWizard.createParticipant(ModelSynchronizeWizard.java:46)\n\tat org.eclipse.team.ui.synchronize.ParticipantSynchronizeWizard.performFinish(ParticipantSynchronizeWizard.java:76)\n\tat org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:742)\n\tat org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:373)\n\tat org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:616)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3673)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3284)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\n\tat org.eclipse.jface.window.Window.open(Window.java:796)\n\tat org.eclipse.team.internal.ui.synchronize.actions.SynchronizePageDropDownAction$1.run(SynchronizePageDropDownAction.java:40)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:498)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:545)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:402)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3673)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3284)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353)\n\tat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219)\n\tat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:497)\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:436)\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1162)\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1137)",
    "Not critical for 3.3. We\u0027ll address it in 3.3.1.",
    "My proposition is to disable Finish button on the CVS Synchronization dialog when there are no resources selected (no matter what scope have we chosen). That leads to another \"bug\" -- IMO enablement of the Finish button doesn\u0027t work properly. I will check if it hasn\u0027t been reported already.\n\nPS. Eugene, I know that this is not what you are claiming about but don\u0027t you think that synchronizing Mylyn\u0027s Tasks working sets should be reported to Mylyn team? They could probably provide set of resources based on a Task (Tasks working set).",
    "(In reply to comment #2)\n\u003e PS. Eugene, I know that this is not what you are claiming about but don\u0027t you\n\u003e think that synchronizing Mylyn\u0027s Tasks working sets should be reported to Mylyn\n\u003e team? They could probably provide set of resources based on a Task (Tasks\n\u003e working set).\n\nI think that Team/CVS UI should not allow user to chose working set types it won\u0027t be able proceed with, i.e. any kind of non-resource working sets. \n\nBTW same issue would happens with Breakpoint working sets contributed by Platform/Debug.\n\nSo, in my view concept of working set is much broader then just some group resources, i.e. it may group tasks, user identities, database tables, recipe ingridients or any other things that could appear in any arbitrary domain.",
    "I agree that the ideal solution to this is to only allow the user to select working sets that either contain resources directly or contain elements that adapt to IResource or ResourceMapping. I would be a bit concerned that there may be performance issues if there were a large number of working sets (or, to put it another way, we would need to make sure we didn\u0027t block the UI while determining what working sets to show or make the task cancellable).\n\nThe benefit of Tomasz\u0027s solution is that we would only check working sets once they were selected. The disadvantage is that the user may be confused because it may not be obvious that working set they have chosen doesn\u0027t contain resources (i.e they would wonder why they were even allowed to select the working set in the first place). The other advantage of this solution is that we can do it without adding API or rewritting the working sets dialog creation API.\n\nWhat I want to do in 3.3.1 is eliminate the NPE. Given that we can\u0027t add API, I think the solution that Tomasz suggests is the way to go for now.",
    "Created an attachment (id\u003d72003)\nA patch\n\nThe patch modifies the GlobalRefreshElementSelectionPage#checkWorkingSetElements which now returns true when selected working sets contain any elements. The boolean is used to set enablement of the Finish button.",
    "Created an attachment (id\u003d72004)\nmylar/context/zip\n\n",
    "Patch released to HEAD. we will release it to 3.3.1 once Europa ships.",
    "Patch released to 3.3.1",
    "VERIFIED",
    "VERIFIED in M20070815-0800,  I20070815-1600",
    "Fix verified but probably it\u0027s causing bug 201544.",
    "VERIFIED in M20070822-0800 and M1."
  ],
  "commentCreationDates": [
    "2007-05-29T05:24:34+02:00",
    "2007-06-01T18:09:05+02:00",
    "2007-06-20T15:44:19+02:00",
    "2007-06-20T17:16:26+02:00",
    "2007-06-20T17:49:13+02:00",
    "2007-06-21T10:56:34+02:00",
    "2007-06-21T10:56:37+02:00",
    "2007-06-21T15:53:28+02:00",
    "2007-07-09T17:41:16+02:00",
    "2007-08-16T16:01:58+02:00",
    "2007-08-17T16:59:14+02:00",
    "2007-08-29T11:51:15+02:00",
    "2007-08-29T14:41:02+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.team.internal.ui.Utils.getLabel",
          "source": "Utils.java:904"
        },
        {
          "method": "org.eclipse.team.internal.ui.Utils.getScopeDescription",
          "source": "Utils.java:927"
        },
        {
          "method": "org.eclipse.team.ui.synchronize.ModelSynchronizeParticipant.getName",
          "source": "ModelSynchronizeParticipant.java:174"
        },
        {
          "method": "org.eclipse.team.internal.ui.synchronize.SynchronizeManager.addSynchronizeParticipants",
          "source": "SynchronizeManager.java:350"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.mappings.ModelSynchronizeWizard.createParticipant",
          "source": "ModelSynchronizeWizard.java:46"
        },
        {
          "method": "org.eclipse.team.ui.synchronize.ParticipantSynchronizeWizard.performFinish",
          "source": "ParticipantSynchronizeWizard.java:76"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.finishPressed",
          "source": "WizardDialog.java:742"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.buttonPressed",
          "source": "WizardDialog.java:373"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$2.widgetSelected",
          "source": "Dialog.java:616"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:227"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3673"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3284"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:820"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:796"
        },
        {
          "method": "org.eclipse.team.internal.ui.synchronize.actions.SynchronizePageDropDownAction$1.run",
          "source": "SynchronizePageDropDownAction.java:40"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:498"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:545"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:490"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:402"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3673"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3284"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2389"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2353"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2219"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:466"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:461"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:153"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:363"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:176"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:597"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:497"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:436"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1162"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1137"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "189577",
      "date": "2007-05-29T05:24:34+02:00",
      "product": "Platform",
      "component": "CVS",
      "severity": "normal"
    }
  ],
  "groupId": "189577",
  "bugId": "189577",
  "date": "2007-05-29T05:24:34+02:00",
  "product": "Platform",
  "component": "CVS",
  "severity": "normal"
}