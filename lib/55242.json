{
  "comments": [
    "I20040317\n\nOn shutting down Eclipse (with my development workspace) I get this NPE:\n\n\n\u003d\u003d\u003d\u003d\u003d Thu Mar 18 2004 \u003d\u003d\u003d\u003d\u003d 17:48:03 Europe/Zurich \u003d\u003d\u003d\u003d\u003d\n!SESSION Mar 18, 2004 17:48:40.960 ---------------------------------------------\njava.version\u003d1.4.2_03\njava.vendor\u003dApple Computer, Inc.\nBootLoader constants: OS\u003dmacosx, ARCH\u003dppc, WS\u003dcarbon, NL\u003den_US\nCommand-line arguments: -shared /Eclipse/eclipseI0317/Eclipse.app/Contents/MacOS/eclipse \n-shared f0002 -keyring /Users/weinand/.eclipse_keyring -showlocation -vm /Eclipse/eclipseI0317/\nEclipse.app/Contents/MacOS/java_swt -vmargs -Xms50M -Xmx250M -cp /Eclipse/eclipseI0317/\nstartup.jar org.eclipse.core.launcher.Main\n!ENTRY org.eclipse.core.runtime.compatibility 4 1 Mar 18, 2004 17:48:40.968\n!MESSAGE Error while stopping plug-in \"reference:file:/Eclipse/eclipseI0317/plugins/\norg.eclipse.ant.core_3.0.0/ [93]\".\n!STACK 0\norg.osgi.framework.BundleException: Exception in \norg.eclipse.core.internal.compatibility.PluginActivator.stop()\n\tat org.eclipse.osgi.framework.internal.core.BundleContext.stop(BundleContext.java:1044)\n\tat org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:482)\n\tat org.eclipse.osgi.framework.internal.core.Bundle.stop(Bundle.java:480)\n\tat org.eclipse.core.internal.plugins.PluginStopper.run(PluginStopper.java:99)\n\tat org.eclipse.core.internal.runtime.PlatformActivator.stopLegacyBundles(PlatformActivator.java:\n290)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:272)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:173)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:106)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:305)\n\tat org.eclipse.core.launcher.Main.run(Main.java:729)\n\tat org.eclipse.core.launcher.Main.main(Main.java:713)\nNested exception:\njava.lang.NullPointerException\n\tat \norg.eclipse.debug.internal.core.EnvironmentVariableResolver.resolveValue(EnvironmentVariableResolver\n.java:27)\n\tat org.eclipse.core.internal.variables.DynamicVariable.getValue(DynamicVariable.java:49)\n\tat org.eclipse.ant.core.AntCorePreferences.getToolsJarEntry(AntCorePreferences.java:652)\n\tat org.eclipse.ant.core.AntCorePreferences.updateAdditionalEntries(AntCorePreferences.java:1294)\n\tat org.eclipse.ant.core.AntCorePreferences.updatePluginPreferences(AntCorePreferences.java:\n1218)\n\tat org.eclipse.ant.core.AntCorePlugin.shutdown(AntCorePlugin.java:161)\n\tat org.eclipse.core.internal.compatibility.PluginActivator.stop(PluginActivator.java:66)\n\tat org.eclipse.osgi.framework.internal.core.BundleContext$2.run(BundleContext.java:1028)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat org.eclipse.osgi.framework.internal.core.BundleContext.stop(BundleContext.java:1024)\n\tat org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:482)\n\tat org.eclipse.osgi.framework.internal.core.Bundle.stop(Bundle.java:480)\n\tat org.eclipse.core.internal.plugins.PluginStopper.run(PluginStopper.java:99)\n\tat org.eclipse.core.internal.runtime.PlatformActivator.stopLegacyBundles(PlatformActivator.java:\n290)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:272)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:173)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:106)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:305)\n\tat org.eclipse.core.launcher.Main.run(Main.java:729)\n\tat org.eclipse.core.launcher.Main.main(Main.java:713)\nCould not find loaderProxy: org.eclipse.ui_3.0.0\nCould not find loaderProxy: org.eclipse.ui_3.0.0",
    "Moving to Ant",
    "I am not sure I agree this is an Ant problem.\n\nShouldn\u0027t I be able to persist my preferences at shutdown?\nLooks like OSGI problem to me...Ant UI requires both core variables and debug \ncore.",
    "Oops, just looked at the bottom-up trace and saw Ant.",
    "Pascal can you provide insight?",
    "I think this is the problem:\n\n* Ant is storing prefs which resolves a contributed variable defined in an \nupstream plug-in which is already shutdown. Resolving the variable results in \nan NPE, since the debug plug-in is no longer there.",
    "I agree..I misread and was seeing AntUI as saving the prefs. Of course Ant \nCore does not prereq debug.",
    "Can EnvironmentVariableResolver.resolveValue(..) trigger the activation of \nother plugins?\n",
    "Yes - that is the problem. The variable resolvers can be contributed, so they \ncan activate other plugins.",
    "Activating on shutdown is really not a good practice (imagine activating PDE ;-\n)). \nBefore creating the executable extensions, you should check if the plugin is \nactive or not. But I guess I\u0027m stating the obvious.",
    "*** Bug 56470 has been marked as a duplicate of this bug. ***",
    "*** Bug 56879 has been marked as a duplicate of this bug. ***",
    "I have just got this in RC2 - it is pretty much the same although the line \nnumbers were different.\n\nNote I am running in Chinese on XP if that makes any difference. I am not sure \nabout the exact conditions.\n\n\n!ENTRY org.eclipse.osgi ???? 14, 2004 13:59:43.359\n!MESSAGE ??????org.eclipse.ant.core_3.0.0??????????\n!STACK 0\norg.osgi.framework.BundleException: bundle org.eclipse.ant.core ?? \norg.eclipse.core.internal.compatibility.PluginActivator.stop() ????????????\n\tat org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop\n(BundleContextImpl.java:1010)\n\tat org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker\n(BundleHost.java:502)\n\tat org.eclipse.osgi.framework.internal.core.AbstractBundle.stop\n(AbstractBundle.java:437)\n\tat org.eclipse.core.runtime.adaptor.BundleStopper.stopBundles\n(BundleStopper.java:67)\n\tat org.eclipse.core.runtime.adaptor.BundleStopper.stopBundles\n(BundleStopper.java:54)\n\tat org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping\n(EclipseAdaptor.java:549)\n\tat org.eclipse.osgi.framework.internal.core.Framework.shutdown\n(Framework.java:452)\n\tat org.eclipse.osgi.framework.internal.core.SystemBundle$1.run\n(SystemBundle.java:182)\n\tat java.lang.Thread.run(Thread.java:534)\nCaused by: java.lang.NullPointerException\n\tat \norg.eclipse.debug.internal.core.EnvironmentVariableResolver.resolveValue\n(EnvironmentVariableResolver.java:37)\n\tat org.eclipse.core.internal.variables.DynamicVariable.getValue\n(DynamicVariable.java:54)\n\tat org.eclipse.ant.core.AntCorePreferences.getToolsJarEntry\n(AntCorePreferences.java:650)\n\tat org.eclipse.ant.core.AntCorePreferences.updateAdditionalEntries\n(AntCorePreferences.java:1330)\n\tat org.eclipse.ant.core.AntCorePreferences.updatePluginPreferences\n(AntCorePreferences.java:1249)\n\tat org.eclipse.ant.core.AntCorePlugin.shutdown(AntCorePlugin.java:169)\n\tat org.eclipse.core.internal.compatibility.PluginActivator.stop\n(PluginActivator.java:74)\n\tat org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run\n(BundleContextImpl.java:994)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop\n(BundleContextImpl.java:990)\n\t... 8 more\nRoot exception:\njava.lang.NullPointerException\n\tat \norg.eclipse.debug.internal.core.EnvironmentVariableResolver.resolveValue\n(EnvironmentVariableResolver.java:37)\n\tat org.eclipse.core.internal.variables.DynamicVariable.getValue\n(DynamicVariable.java:54)\n\tat org.eclipse.ant.core.AntCorePreferences.getToolsJarEntry\n(AntCorePreferences.java:650)\n\tat org.eclipse.ant.core.AntCorePreferences.updateAdditionalEntries\n(AntCorePreferences.java:1330)\n\tat org.eclipse.ant.core.AntCorePreferences.updatePluginPreferences\n(AntCorePreferences.java:1249)\n\tat org.eclipse.ant.core.AntCorePlugin.shutdown(AntCorePlugin.java:169)\n\tat org.eclipse.core.internal.compatibility.PluginActivator.stop\n(PluginActivator.java:74)\n\tat org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run\n(BundleContextImpl.java:994)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop\n(BundleContextImpl.java:990)\n\tat org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker\n(BundleHost.java:502)\n\tat org.eclipse.osgi.framework.internal.core.AbstractBundle.stop\n(AbstractBundle.java:437)\n\tat org.eclipse.core.runtime.adaptor.BundleStopper.stopBundles\n(BundleStopper.java:67)\n\tat org.eclipse.core.runtime.adaptor.BundleStopper.stopBundles\n(BundleStopper.java:54)\n\tat org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping\n(EclipseAdaptor.java:549)\n\tat org.eclipse.osgi.framework.internal.core.Framework.shutdown\n(Framework.java:452)\n\tat org.eclipse.osgi.framework.internal.core.SystemBundle$1.run\n(SystemBundle.java:182)\n\tat java.lang.Thread.run(Thread.java:534)\n",
    "[There seems to be enough evidence, that this problem isn\u0027t Mac specific. Setting platfom/OS to All ]",
    "CC\u0027ing DJ for RC3 approval",
    "Sounds like a good fix for RC3. I assume that the scope of the fix is small?\nSafe-guarding against Plugin.getDefault() returning null maybe?",
    "I think we could generalize the fix into the \"core.variables\" plug-in by \nchecking if the plug-in that contributed the variable is active, before we \nresolve a value (rather than having every variable perform safeguards).",
    "DJ, is there a way to get from an \"IConfigurationElement\" to the associated \nBundle, and check if it is shutdown?",
    "I think this should work. Pascal, please comment if I\u0027m wrong or there is an\neasier way.\n\n// get the extension\nIExtension extension \u003d (IExtension) element.getParent();\n// get the bundle ID\nString bundleID \u003d extension.getNamespace();\n// get the bundle\nBundle bundle \u003d Platform.getBundle(bundleID);\n// is active?\nreturn bundle.getState().equals(Bundle.ACTIVE);",
    "That may not be quite what we want, since we *do* want to start bundles when \nnot Active, but in a valid state to activate - i.e. plug-in activation. But we \nwant to avoid starting bundles that have been shutdown (I\u0027m not sure we can \ntell the difference).",
    "Darin S, what happens in this case, if we safeguard against the NPE, but write \nthe preference value as \"null\"? Will it re-initialized properly the next time?",
    "No it will not.\nIf no tools.jar is found when the preferences are persisted, then the \ntools.jar found previously (likely the same one) will be persisted as a \ncustomization by the user and will not track changes to the default as the \nuser might expect.",
    "We are going to propose a different fix for 3.0. We will not save preferences \non shutdown in the Ant core plug-in, since preferences are saved each time \nthey are modified. Saving at shutdown provides no benefit, and avoids this \nproblem.\n\nAddressing the \"avoid accessing extensions from shutdown plug-ins\" seems like \na more general/harder problem to solve at this point in the cycle.\n\nDJ, do you agree/approve of this fix for 3.0? (Pascal, we\u0027re still intereseted \nin hearing the solution to the general problem).",
    "We can still do the saving...the in updating of the plugin preferences for the \nAnt core data structure that is used at runtime is not needed at shutdown. I \nwill attach the patch.",
    "Created an attachment (id\u003d12283)\nAntCorePlugin patch\n",
    "Approved.",
    "Just curious, why isn\u0027t #createExecutableExtension throwing a CoreException \nwhen corresponding plugin got disabled ? Clients are already prepared to \nCoreException.",
    "I\u0027m investigating...",
    "Change released to the AntCorePlugin.",
    "Please verify Kevin.",
    "Re: comment #22 - Fix sounds good. As the preferences guy I whole-hearted agree\nthat prefs should be saved when they are modified and not in the plug-in\nshutdown code. \n\nOf course as I say that I realize that we are saving the Resources prefs in\n#shutdown. :-)",
    "verified",
    "Build notes updated.",
    "see also bug 64134"
  ],
  "commentCreationDates": [
    "2004-03-18T16:59:27+01:00",
    "2004-03-18T17:01:52+01:00",
    "2004-03-18T17:07:52+01:00",
    "2004-03-18T17:12:14+01:00",
    "2004-03-18T17:38:02+01:00",
    "2004-03-18T17:45:58+01:00",
    "2004-03-18T17:53:06+01:00",
    "2004-03-19T14:25:47+01:00",
    "2004-03-19T15:10:28+01:00",
    "2004-03-19T15:34:03+01:00",
    "2004-03-27T20:35:37+01:00",
    "2004-03-31T15:07:48+02:00",
    "2004-06-14T21:14:38+02:00",
    "2004-06-15T15:52:07+02:00",
    "2004-06-15T18:49:12+02:00",
    "2004-06-15T19:07:03+02:00",
    "2004-06-15T19:38:41+02:00",
    "2004-06-15T19:47:30+02:00",
    "2004-06-15T20:08:27+02:00",
    "2004-06-15T20:19:11+02:00",
    "2004-06-16T17:53:52+02:00",
    "2004-06-16T18:04:16+02:00",
    "2004-06-16T18:16:52+02:00",
    "2004-06-16T18:20:15+02:00",
    "2004-06-16T18:21:16+02:00",
    "2004-06-16T18:36:42+02:00",
    "2004-06-16T18:44:15+02:00",
    "2004-06-16T18:55:30+02:00",
    "2004-06-16T19:25:42+02:00",
    "2004-06-16T19:26:02+02:00",
    "2004-06-16T19:38:39+02:00",
    "2004-06-16T19:48:35+02:00",
    "2004-06-16T19:53:53+02:00",
    "2004-06-16T21:20:05+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.osgi.framework.BundleException",
      "message": "Exception in  org.eclipse.core.internal.compatibility.PluginActivator.stop()",
      "elements": [
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContext.stop",
          "source": "BundleContext.java:1044"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker",
          "source": "BundleHost.java:482"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.Bundle.stop",
          "source": "Bundle.java:480"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginStopper.run",
          "source": "PluginStopper.java:99"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator.stopLegacyBundles",
          "source": "PlatformActivator.java: 290"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:272"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:173"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:106"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:305"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:729"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:713"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "55242",
      "date": "2004-03-18T16:59:27+01:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.debug.internal.core.EnvironmentVariableResolver.resolveValue",
          "source": "EnvironmentVariableResolver .java:27"
        },
        {
          "method": "org.eclipse.core.internal.variables.DynamicVariable.getValue",
          "source": "DynamicVariable.java:49"
        },
        {
          "method": "org.eclipse.ant.core.AntCorePreferences.getToolsJarEntry",
          "source": "AntCorePreferences.java:652"
        },
        {
          "method": "org.eclipse.ant.core.AntCorePreferences.updateAdditionalEntries",
          "source": "AntCorePreferences.java:1294"
        },
        {
          "method": "org.eclipse.ant.core.AntCorePreferences.updatePluginPreferences",
          "source": "AntCorePreferences.java: 1218"
        },
        {
          "method": "org.eclipse.ant.core.AntCorePlugin.shutdown",
          "source": "AntCorePlugin.java:161"
        },
        {
          "method": "org.eclipse.core.internal.compatibility.PluginActivator.stop",
          "source": "PluginActivator.java:66"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContext$2.run",
          "source": "BundleContext.java:1028"
        },
        {
          "method": "java.security.AccessController.doPrivileged",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContext.stop",
          "source": "BundleContext.java:1024"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker",
          "source": "BundleHost.java:482"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.Bundle.stop",
          "source": "Bundle.java:480"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginStopper.run",
          "source": "PluginStopper.java:99"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator.stopLegacyBundles",
          "source": "PlatformActivator.java: 290"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:272"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:173"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:106"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:305"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:729"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:713"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "55242",
      "date": "2004-03-18T16:59:27+01:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    },
    {
      "exceptionType": "org.osgi.framework.BundleException",
      "message": "bundle org.eclipse.ant.core ??  org.eclipse.core.internal.compatibility.PluginActivator.stop() ????????????",
      "elements": [
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop",
          "source": "BundleContextImpl.java:1010"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker",
          "source": "BundleHost.java:502"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.AbstractBundle.stop",
          "source": "AbstractBundle.java:437"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.BundleStopper.stopBundles",
          "source": "BundleStopper.java:67"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.BundleStopper.stopBundles",
          "source": "BundleStopper.java:54"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping",
          "source": "EclipseAdaptor.java:549"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.Framework.shutdown",
          "source": "Framework.java:452"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.SystemBundle$1.run",
          "source": "SystemBundle.java:182"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:534"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.NullPointerException",
        "elements": [
          {
            "method": "org.eclipse.debug.internal.core.EnvironmentVariableResolver.resolveValue",
            "source": "EnvironmentVariableResolver.java:37"
          },
          {
            "method": "org.eclipse.core.internal.variables.DynamicVariable.getValue",
            "source": "DynamicVariable.java:54"
          },
          {
            "method": "org.eclipse.ant.core.AntCorePreferences.getToolsJarEntry",
            "source": "AntCorePreferences.java:650"
          },
          {
            "method": "org.eclipse.ant.core.AntCorePreferences.updateAdditionalEntries",
            "source": "AntCorePreferences.java:1330"
          },
          {
            "method": "org.eclipse.ant.core.AntCorePreferences.updatePluginPreferences",
            "source": "AntCorePreferences.java:1249"
          },
          {
            "method": "org.eclipse.ant.core.AntCorePlugin.shutdown",
            "source": "AntCorePlugin.java:169"
          },
          {
            "method": "org.eclipse.core.internal.compatibility.PluginActivator.stop",
            "source": "PluginActivator.java:74"
          },
          {
            "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run",
            "source": "BundleContextImpl.java:994"
          },
          {
            "method": "java.security.AccessController.doPrivileged",
            "source": "Native Method"
          },
          {
            "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop",
            "source": "BundleContextImpl.java:990"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 2,
      "commentIndex": 12,
      "bugId": "55242",
      "date": "2004-06-14T21:14:38+02:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.debug.internal.core.EnvironmentVariableResolver.resolveValue",
          "source": "EnvironmentVariableResolver.java:37"
        },
        {
          "method": "org.eclipse.core.internal.variables.DynamicVariable.getValue",
          "source": "DynamicVariable.java:54"
        },
        {
          "method": "org.eclipse.ant.core.AntCorePreferences.getToolsJarEntry",
          "source": "AntCorePreferences.java:650"
        },
        {
          "method": "org.eclipse.ant.core.AntCorePreferences.updateAdditionalEntries",
          "source": "AntCorePreferences.java:1330"
        },
        {
          "method": "org.eclipse.ant.core.AntCorePreferences.updatePluginPreferences",
          "source": "AntCorePreferences.java:1249"
        },
        {
          "method": "org.eclipse.ant.core.AntCorePlugin.shutdown",
          "source": "AntCorePlugin.java:169"
        },
        {
          "method": "org.eclipse.core.internal.compatibility.PluginActivator.stop",
          "source": "PluginActivator.java:74"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run",
          "source": "BundleContextImpl.java:994"
        },
        {
          "method": "java.security.AccessController.doPrivileged",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop",
          "source": "BundleContextImpl.java:990"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker",
          "source": "BundleHost.java:502"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.AbstractBundle.stop",
          "source": "AbstractBundle.java:437"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.BundleStopper.stopBundles",
          "source": "BundleStopper.java:67"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.BundleStopper.stopBundles",
          "source": "BundleStopper.java:54"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping",
          "source": "EclipseAdaptor.java:549"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.Framework.shutdown",
          "source": "Framework.java:452"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.SystemBundle$1.run",
          "source": "SystemBundle.java:182"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:534"
        }
      ],
      "number": 3,
      "commentIndex": 12,
      "bugId": "55242",
      "date": "2004-06-14T21:14:38+02:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    }
  ],
  "groupId": "55242",
  "bugId": "55242",
  "date": "2004-03-18T16:59:27+01:00",
  "product": "Platform",
  "component": "Ant",
  "severity": "normal"
}