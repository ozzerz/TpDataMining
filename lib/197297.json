{
  "comments": [
    "There are problems with the console when the user attaches to a detached JVMTI agent.  Follow the steps below to reproduce the problem:\n\n- Make sure that the driver that is being used contains the fix for https://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d187744 (or the patch is manually applied)\n- Launch StartStop using the JVMTI agent (execution time analysis)\n- Detach from the agent\n- Open the launch configuration \u003e Create a launch configuration of type \"Attach to Agent\" \u003e and attach to the detached JVMTI agent\n- Notice that a console is created for the attached agent but when the user presses enter the input is not sent to the process.\n\nDebugging this problem exposed the following exception whenever there is an input provided in the console of the attached agent:\n\njava.lang.NullPointerException\n\tat org.eclipse.tptp.platform.execution.client.core.internal.ConsoleImpl.write(ConsoleImpl.java:177)\n\tat org.eclipse.hyades.trace.ui.internal.util.IOProxy.write(ProcessAdapter.java:299)\n\tat org.eclipse.debug.internal.ui.views.console.ProcessConsole$InputReadJob.run(ProcessConsole.java:685)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)\n\n\nI\u0027m marking this as major because the workaround is to switch to the console of the originally launched process to provide console input.",
    "Hi Ali,\nCould you please help to clarify this?\nIn regular attachment to an external jvm (Profile Dialog / Attach to Agent ...), an empty inactive console windows also appears for both agents - TI and PI. Is it normal?",
    "An inactive console is not created when you attach to a process that\u0027s running with the PI agent.  You can interact with that console by entering input.  There are two inactive consoles created when the TI agent is used.  Try entering input in the console created by the attached TI agent.  Notice that user input is not processed.  Please follow the steps outlined in the original comment of the bugzilla.\n\n(4.4.0.1 was used to test this)",
    "Thanks, now I\u0027ve catched the PI-TI difference :)",
    "Created an attachment (id\u003d80346)\nAdd configureConsole to IProcess interface\n\nThe main problem is that console is not configured during attaching to the process.\nProposed patch adds new method IProcess#configureConsole() which is intended to be invoked by the client before attaching.\nI\u0027m not sure that introducing new method is the most elegant and efficient solution...\nCould somebody (Igor?) review this patch?\n",
    "Created an attachment (id\u003d80347)\nConfigure the console during attach\n\n",
    "(In reply to comment #5)\n\u003e Created an attachment (id\u003d80347) [details]\n\u003e Configure the console during attach\n\nHi Stas,\nThe patches are fine.\nCould you please investigate if the same actions might be done without API changes?",
    "Created an attachment (id\u003d80353)\nInitialize console in IProcess#getConsole\n\nBetter solution was found and there is no need to change public API, thanks to Igor.\n",
    "Created an attachment (id\u003d80354)\nInvoke getConsole in attachAgent method\n\n",
    "(In reply to comment #8)\n\u003e Created an attachment (id\u003d80354) [details]\n\u003e Invoke getConsole in attachAgent method\n\nThe patches look good.\nStas, have you tested them?",
    "I tested it using described scenario.\n",
    "Reassigning bug to Stanislav.\nSamson could you please check the patch into CVS HEAD?\nThanks, \nIgor\n",
    "Hi. I have trouble checking in \"client_patch.txt\". It seems that the patch is created using an older version of the source file. Please resync and generate a new patch file. Thanks.\n",
    "(From update of attachment 80353)\nPatch is incorrect",
    "(From update of attachment 80354)\nPatch is incorrect",
    "(From update of attachment 80354)\nInvalid patch",
    "Created an attachment (id\u003d84867)\nProvide correct Process creation/deletion from AC Java code\n\n",
    "Created an attachment (id\u003d84868)\nAdd console listener in attach procedure\n\n",
    "Igor, could you, please, review and commit the patches?\n"
  ],
  "commentCreationDates": [
    "2007-07-20T15:40:51+02:00",
    "2007-09-25T09:50:48+02:00",
    "2007-09-25T17:15:27+02:00",
    "2007-09-26T15:40:49+02:00",
    "2007-10-15T14:00:27+02:00",
    "2007-10-15T14:02:05+02:00",
    "2007-10-15T15:30:08+02:00",
    "2007-10-15T16:08:48+02:00",
    "2007-10-15T16:10:08+02:00",
    "2007-10-15T16:13:46+02:00",
    "2007-10-15T16:21:20+02:00",
    "2007-10-15T16:33:47+02:00",
    "2007-10-15T19:24:11+02:00",
    "2007-10-16T16:06:19+02:00",
    "2007-10-16T16:07:07+02:00",
    "2007-10-17T10:05:53+02:00",
    "2007-12-10T15:48:41+01:00",
    "2007-12-10T15:50:14+01:00",
    "2007-12-10T15:51:22+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.tptp.platform.execution.client.core.internal.ConsoleImpl.write",
          "source": "ConsoleImpl.java:177"
        },
        {
          "method": "org.eclipse.hyades.trace.ui.internal.util.IOProxy.write",
          "source": "ProcessAdapter.java:299"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.console.ProcessConsole$InputReadJob.run",
          "source": "ProcessConsole.java:685"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:55"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "197297",
      "date": "2007-07-20T15:40:51+02:00",
      "product": "TPTP Profiling",
      "component": "Platform.Execution",
      "severity": "major"
    }
  ],
  "groupId": "197297",
  "bugId": "197297",
  "date": "2007-07-20T15:40:51+02:00",
  "product": "TPTP Profiling",
  "component": "Platform.Execution",
  "severity": "major"
}