{
  "comments": [
    "I have a plugin that uses Sun\u0027s SAAJ libraries, and I\u0027m getting an exception on\nthe following line when I run under 3.1M5a:\n\nfactory.createMessage(mimeHeaders, inputStream);\n\nwhere factory is of type javax.xml.soap.MessageFactory. The relevant portion of\nthe exception is:\n\njava.lang.LinkageError: loader constraints violated when linking\norg/w3c/dom/Node class\nat com.sun.xml.messaging.saaj.soap.SOAPPartImpl.\u003cinit\u003e(SOAPPartImpl.java:52)\nat\ncom.sun.xml.messaging.saaj.soap.ver1_1.SOAPPart1_1Impl.\u003cinit\u003e(SOAPPart1_1Impl.java:24)\nat\ncom.sun.xml.messaging.saaj.soap.ver1_1.Message1_1Impl.getSOAPPart(Message1_1Impl.java:48)\nat com.sun.xml.messaging.saaj.soap.MessageImpl.\u003cinit\u003e(MessageImpl.java:164)\nat\ncom.sun.xml.messaging.saaj.soap.ver1_1.Message1_1Impl.\u003cinit\u003e(Message1_1Impl.java:43)\nat\ncom.sun.xml.messaging.saaj.soap.ver1_1.SOAPMessageFactory1_1Impl.createMessage(SOAPMessageFactory1_1Impl.java:32)\n\n\nEverything works fine if I run under 3.1M4. So, I\u0027m wondering if this is a bug\nwith 3.1M5a or has something changed with regards to the classloader that I\nshould be aware of? Is there anything I can do to work around this issue in\n3.1M5a? I\u0027m using JRE 1.5.0.",
    "It is not a PDE-UI bug, not sure if any problem in runtime either.  I will \ntransfer to Platform-Runtime to confirm/dismiss related changes between M4 and \nM5",
    "It seems you have multiple copies of org.w3c.dom.Node in your classpath. Do you\nhave any library providing it in the \u003cjava\u003e/lib/ext or \u003cjava\u003e/lib/endorsed dirs?\nOr in a plug-in your plug-in requires?",
    "I won\u0027t be able to know for sure until Monday but I remember checking for\nmultiple org.w3c.dom.Node classes before I submitted the bug and I couldn\u0027t find\nany (that is to say, it looks like I only have one org.w3c.dom.Node class in my\nclasspath - but I will check again). I know there isn\u0027t any library providing\nthat class in my ext or endorsed directories. I don\u0027t even have an endorsed\ndirectory.\n\nI\u0027m wondering if having multiple org.w3c.dom.Node classes in the classpath is\nthe only possible explanation for this bug or if something else could be going\non? I\u0027ve tested the plugin in 3.0, 3.0.1, 3.1M1, 3.1M2, 3.1M3, 3.1M4, and 3.1M5a\nand the only one that exhibits this behavior is 3.1M5a. I\u0027ve also tried 3.1M5a\non multiple machines, including Windows XP and Linux, with the same unfortunate\nresults. It sure looks like something broke in 3.1M5a - or maybe a change was\nmade that uncovered something that I\u0027ve been doing wrong all along.\n\nCould someone on your team download the SAAJ libraries and create a simple\nplugin that calls createMessage and uses the 1.5.0 Sun JRE?",
    "The most common reason for this kind of problem is to have the same class/type\navailable through different classloaders, so that is going to be our initial\nhypothesis.\n\nCould you produce the minimum plug-in possible that causes the problem to happen\nand attach it to this PR (source and plug-in manifest)?\n\nAlso, could you list the contents of the lib/ext dir for the JDK/JRE you are\nusing to test your plug-in?\n\nSorry, but we cannot download 3rd-party libraries for testing purposes. We will\nhave to count on you to help investigating the problem. Thanks.",
    "I double-checked and I do indeed have a library (Xerces) that includes\norg.w3c.dom.Node. After removing it from the classpath, things work as expected.\nFeel free to close the bug out.",
    "This is likely a duplicate of bug 87298\n\n*** This bug has been marked as a duplicate of 87298 ***"
  ],
  "commentCreationDates": [
    "2005-02-25T17:24:56+01:00",
    "2005-02-26T04:31:29+01:00",
    "2005-03-03T18:43:41+01:00",
    "2005-03-04T02:57:00+01:00",
    "2005-03-04T18:59:59+01:00",
    "2005-03-08T23:54:58+01:00",
    "2005-03-09T03:48:54+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.LinkageError",
      "message": "loader constraints violated when linking org/w3c/dom/Node class",
      "elements": [
        {
          "method": "com.sun.xml.messaging.saaj.soap.SOAPPartImpl.\u003cinit\u003e",
          "source": "SOAPPartImpl.java:52"
        },
        {
          "method": "com.sun.xml.messaging.saaj.soap.ver1_1.SOAPPart1_1Impl.\u003cinit\u003e",
          "source": "SOAPPart1_1Impl.java:24"
        },
        {
          "method": "com.sun.xml.messaging.saaj.soap.ver1_1.Message1_1Impl.getSOAPPart",
          "source": "Message1_1Impl.java:48"
        },
        {
          "method": "com.sun.xml.messaging.saaj.soap.MessageImpl.\u003cinit\u003e",
          "source": "MessageImpl.java:164"
        },
        {
          "method": "com.sun.xml.messaging.saaj.soap.ver1_1.Message1_1Impl.\u003cinit\u003e",
          "source": "Message1_1Impl.java:43"
        },
        {
          "method": "com.sun.xml.messaging.saaj.soap.ver1_1.SOAPMessageFactory1_1Impl.createMessage",
          "source": "SOAPMessageFactory1_1Impl.java:32"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "86666",
      "duplicateId": "87298",
      "date": "2005-02-25T17:24:56+01:00",
      "product": "Platform",
      "component": "Runtime",
      "severity": "normal"
    }
  ],
  "groupId": "87298",
  "bugId": "86666",
  "duplicateId": "87298",
  "date": "2005-02-25T17:24:56+01:00",
  "product": "Platform",
  "component": "Runtime",
  "severity": "normal"
}