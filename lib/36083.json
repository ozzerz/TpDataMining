{
  "comments": [
    "2.1\n\nThe log attached to the bug 36060 contains the following NPE.\n\njava.lang.reflect.InvocationTargetException\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:291)\n\tat org.eclipse.core.launcher.Main.run(Main.java:747)\n\tat org.eclipse.core.launcher.Main.main(Main.java:583)\nCaused by: java.lang.reflect.InvocationTargetException\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:848)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\t... 7 more\nCaused by: java.lang.NullPointerException\n\tat org.eclipse.swt.graphics.Cursor.dispose(Cursor.java:295)\n\tat org.eclipse.swt.custom.StyledText.handleDispose\n(StyledText.java:5114)\n\tat org.eclipse.swt.custom.StyledText$7.handleEvent\n(StyledText.java:4958)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:81)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:913)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:918)\n\tat org.eclipse.swt.widgets.Widget.releaseWidget(Widget.java:824)\n\tat org.eclipse.swt.widgets.Control.releaseWidget(Control.java:2085)\n\tat org.eclipse.swt.widgets.Scrollable.releaseWidget\n(Scrollable.java:235)\n\tat org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:559)\n\tat org.eclipse.swt.widgets.Canvas.releaseWidget(Canvas.java:132)\n\tat org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:819)\n\tat org.eclipse.swt.widgets.Composite.releaseChildren\n(Composite.java:547)\n\tat org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:557)\n\tat org.eclipse.swt.widgets.Canvas.releaseWidget(Canvas.java:132)\n\tat org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:819)\n\tat org.eclipse.swt.widgets.Composite.releaseChildren\n(Composite.java:547)\n\tat org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:557)\n\tat org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:819)\n\tat org.eclipse.swt.widgets.Composite.releaseChildren\n(Composite.java:547)\n\tat org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:557)\n\tat org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:819)\n\tat org.eclipse.swt.widgets.Composite.releaseChildren\n(Composite.java:547)\n\tat org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:557)\n\tat org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:819)\n\tat org.eclipse.swt.widgets.Composite.releaseChildren\n(Composite.java:547)\n\tat org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:557)\n\tat org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:819)\n\tat org.eclipse.swt.widgets.Composite.releaseChildren\n(Composite.java:547)\n\tat org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:557)\n\tat org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:819)\n\tat org.eclipse.swt.widgets.Composite.releaseChildren\n(Composite.java:547)\n\tat org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:557)\n\tat org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:819)\n\tat org.eclipse.swt.widgets.Composite.releaseChildren\n(Composite.java:547)\n\tat org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:557)\n\tat org.eclipse.swt.widgets.Widget.releaseResources(Widget.java:819)\n\tat org.eclipse.swt.widgets.Composite.releaseChildren\n(Composite.java:547)\n\tat org.eclipse.swt.widgets.Composite.releaseWidget(Composite.java:557)\n\tat org.eclipse.swt.widgets.Canvas.releaseWidget(Canvas.java:132)\n\tat org.eclipse.swt.widgets.Decorations.releaseWidget\n(Decorations.java:352)\n\tat org.eclipse.swt.widgets.Shell.releaseWidget(Shell.java:1077)\n\tat org.eclipse.swt.widgets.Widget.dispose(Widget.java:363)\n\tat org.eclipse.swt.widgets.Shell.dispose(Shell.java:1020)\n\tat org.eclipse.swt.widgets.Display.release(Display.java:1478)\n\tat org.eclipse.swt.graphics.Device.dispose(Device.java:172)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1390)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:845)\n\t... 8 more\n\n\nIt might be a side effect of the failed startup though.",
    "LK to investigate.",
    "The NPE occurs in Cursor.dispose\nThe only way that could happen is if the device is null.\nThe Cursor constructors guard against this so we know StyledText does not create\na Cursor with a null display device.\nThe only other ways the device could be null is if the cursor is disposed twice,\nor if gtk_new does not set it (e.g., Device.getDevice() returns null). I don\u0027t\nthink gtk_new is called when we create our i-beam cursor. This leaves a\nduplicate dispose. We only dispose the cursor in the StyledText dispose handler.\nMost SWT widgets seem to be guarding against duplicate calls to dispose.\nStyledText guards against this for fields it sets to null itself. For the\nclipboard and cursor the assumption is that they were created in the constructor\nwhich may not be true in an out of memory scenario like this one. In any case,\nthe NPE does not happen in StyledText but in Cursor so I believe Cursor should\nguard against this particular scenario.",
    "Actually I think our assumption about the proper creation of clipboard and\ni-beam cursor is correct. If an exception occurs in the StyledText constructor\nthere won\u0027t be a new object that dispose could be called on. Unless we want/need\nto guard against duplicate dispose for these two fields StyledText doesn\u0027t have\nto do anything.\nNote that the clipboard already does guard against duplicate dispose.",
    "SWT is supposed to guard against dupliate disposes.  SSQ and Chrix to fix this \nand check every graphics dispose on every platform!",
    "This has been fixed for a while.",
    "Closing."
  ],
  "commentCreationDates": [
    "2003-04-04T17:52:36+02:00",
    "2003-04-14T20:56:50+02:00",
    "2003-04-22T23:01:54+02:00",
    "2003-04-22T23:14:04+02:00",
    "2003-04-23T16:13:44+02:00",
    "2003-10-31T21:41:08+01:00",
    "2003-10-31T21:41:22+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.reflect.InvocationTargetException",
      "elements": [
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:291"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:747"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:583"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.reflect.InvocationTargetException",
        "elements": [
          {
            "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
            "source": "InternalBootLoader.java:848"
          },
          {
            "method": "org.eclipse.core.boot.BootLoader.run",
            "source": "BootLoader.java:461"
          }
        ],
        "causedBy": {
          "exceptionType": "java.lang.NullPointerException",
          "elements": [
            {
              "method": "org.eclipse.swt.graphics.Cursor.dispose",
              "source": "Cursor.java:295"
            },
            {
              "method": "org.eclipse.swt.custom.StyledText.handleDispose",
              "source": "StyledText.java:5114"
            },
            {
              "method": "org.eclipse.swt.custom.StyledText$7.handleEvent",
              "source": "StyledText.java:4958"
            },
            {
              "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
              "source": "EventTable.java:81"
            },
            {
              "method": "org.eclipse.swt.widgets.Widget.sendEvent",
              "source": "Widget.java:913"
            },
            {
              "method": "org.eclipse.swt.widgets.Widget.sendEvent",
              "source": "Widget.java:938"
            },
            {
              "method": "org.eclipse.swt.widgets.Widget.sendEvent",
              "source": "Widget.java:918"
            },
            {
              "method": "org.eclipse.swt.widgets.Widget.releaseWidget",
              "source": "Widget.java:824"
            },
            {
              "method": "org.eclipse.swt.widgets.Control.releaseWidget",
              "source": "Control.java:2085"
            },
            {
              "method": "org.eclipse.swt.widgets.Scrollable.releaseWidget",
              "source": "Scrollable.java:235"
            },
            {
              "method": "org.eclipse.swt.widgets.Composite.releaseWidget",
              "source": "Composite.java:559"
            },
            {
              "method": "org.eclipse.swt.widgets.Canvas.releaseWidget",
              "source": "Canvas.java:132"
            },
            {
              "method": "org.eclipse.swt.widgets.Widget.releaseResources",
              "source": "Widget.java:819"
            },
            {
              "method": "org.eclipse.swt.widgets.Composite.releaseChildren",
              "source": "Composite.java:547"
            },
            {
              "method": "org.eclipse.swt.widgets.Composite.releaseWidget",
              "source": "Composite.java:557"
            },
            {
              "method": "org.eclipse.swt.widgets.Canvas.releaseWidget",
              "source": "Canvas.java:132"
            },
            {
              "method": "org.eclipse.swt.widgets.Widget.releaseResources",
              "source": "Widget.java:819"
            },
            {
              "method": "org.eclipse.swt.widgets.Composite.releaseChildren",
              "source": "Composite.java:547"
            },
            {
              "method": "org.eclipse.swt.widgets.Composite.releaseWidget",
              "source": "Composite.java:557"
            },
            {
              "method": "org.eclipse.swt.widgets.Widget.releaseResources",
              "source": "Widget.java:819"
            },
            {
              "method": "org.eclipse.swt.widgets.Composite.releaseChildren",
              "source": "Composite.java:547"
            },
            {
              "method": "org.eclipse.swt.widgets.Composite.releaseWidget",
              "source": "Composite.java:557"
            },
            {
              "method": "org.eclipse.swt.widgets.Widget.releaseResources",
              "source": "Widget.java:819"
            },
            {
              "method": "org.eclipse.swt.widgets.Composite.releaseChildren",
              "source": "Composite.java:547"
            },
            {
              "method": "org.eclipse.swt.widgets.Composite.releaseWidget",
              "source": "Composite.java:557"
            },
            {
              "method": "org.eclipse.swt.widgets.Widget.releaseResources",
              "source": "Widget.java:819"
            },
            {
              "method": "org.eclipse.swt.widgets.Composite.releaseChildren",
              "source": "Composite.java:547"
            },
            {
              "method": "org.eclipse.swt.widgets.Composite.releaseWidget",
              "source": "Composite.java:557"
            },
            {
              "method": "org.eclipse.swt.widgets.Widget.releaseResources",
              "source": "Widget.java:819"
            },
            {
              "method": "org.eclipse.swt.widgets.Composite.releaseChildren",
              "source": "Composite.java:547"
            },
            {
              "method": "org.eclipse.swt.widgets.Composite.releaseWidget",
              "source": "Composite.java:557"
            },
            {
              "method": "org.eclipse.swt.widgets.Widget.releaseResources",
              "source": "Widget.java:819"
            },
            {
              "method": "org.eclipse.swt.widgets.Composite.releaseChildren",
              "source": "Composite.java:547"
            },
            {
              "method": "org.eclipse.swt.widgets.Composite.releaseWidget",
              "source": "Composite.java:557"
            },
            {
              "method": "org.eclipse.swt.widgets.Widget.releaseResources",
              "source": "Widget.java:819"
            },
            {
              "method": "org.eclipse.swt.widgets.Composite.releaseChildren",
              "source": "Composite.java:547"
            },
            {
              "method": "org.eclipse.swt.widgets.Composite.releaseWidget",
              "source": "Composite.java:557"
            },
            {
              "method": "org.eclipse.swt.widgets.Widget.releaseResources",
              "source": "Widget.java:819"
            },
            {
              "method": "org.eclipse.swt.widgets.Composite.releaseChildren",
              "source": "Composite.java:547"
            },
            {
              "method": "org.eclipse.swt.widgets.Composite.releaseWidget",
              "source": "Composite.java:557"
            },
            {
              "method": "org.eclipse.swt.widgets.Canvas.releaseWidget",
              "source": "Canvas.java:132"
            },
            {
              "method": "org.eclipse.swt.widgets.Decorations.releaseWidget",
              "source": "Decorations.java:352"
            },
            {
              "method": "org.eclipse.swt.widgets.Shell.releaseWidget",
              "source": "Shell.java:1077"
            },
            {
              "method": "org.eclipse.swt.widgets.Widget.dispose",
              "source": "Widget.java:363"
            },
            {
              "method": "org.eclipse.swt.widgets.Shell.dispose",
              "source": "Shell.java:1020"
            },
            {
              "method": "org.eclipse.swt.widgets.Display.release",
              "source": "Display.java:1478"
            },
            {
              "method": "org.eclipse.swt.graphics.Device.dispose",
              "source": "Device.java:172"
            },
            {
              "method": "org.eclipse.ui.internal.Workbench.run",
              "source": "Workbench.java:1390"
            },
            {
              "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
              "source": "InternalBootLoader.java:845"
            }
          ],
          "number": 0,
          "commentIndex": 0
        },
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "36083",
      "date": "2003-04-04T17:52:36+02:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    }
  ],
  "groupId": "36083",
  "bugId": "36083",
  "date": "2003-04-04T17:52:36+02:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "normal"
}