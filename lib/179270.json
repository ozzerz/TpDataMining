{
  "comments": [
    "Build ID: I20070323-1616\n\nSteps To Reproduce:\n1. Download 3.3M6 Platform Runtime Binary for Linux/GTK (http://download.eclipse.org/eclipse/downloads/drops/S-3.3M6-200703231616/download.php?dropFile\u003declipse-platform-3.3M6-linux-gtk.tar.gz)\n2. Start eclipse\n3. Go to help -\u003e find and install -\u003e search for new features -\u003e europa discovery site -\u003e java development -\u003e jdt\n4. Install the updates\n\nThe update process will fail with the below stack trace:\n\njava.util.zip.ZipException: error in opening zip file\nat java.util.zip.ZipFile.open(Native Method)\nat java.util.zip.ZipFile.\u003cinit\u003e(ZipFile.java:203)\nat java.util.jar.JarFile.\u003cinit\u003e(JarFile.java:132)\nat java.util.jar.JarFile.\u003cinit\u003e(JarFile.java:112)\nat org.eclipse.update.internal.jarprocessor.JarProcessor.processJar(JarProcessor.java:303)\nat org.eclipse.update.internal.core.FeaturePackagedContentProvider.retrieveLocalJar(FeaturePackagedContentProvider.java:256)\nat org.eclipse.update.internal.core.FeaturePackagedContentProvider.getPluginEntryArchiveReferences(FeaturePackagedContentProvider.java:179)\nat org.eclipse.update.internal.operations.UpdateUtils.downloadFeatureContent(UpdateUtils.java:628)\nat org.eclipse.update.internal.ui.wizards.InstallWizard2.download(InstallWizard2.java:426)\nat org.eclipse.update.internal.ui.wizards.InstallWizard2.access$3(InstallWizard2.java:397)\nat org.eclipse.update.internal.ui.wizards.InstallWizard2$3.run(InstallWizard2.java:350)\nat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\n\n\nMore information:\nThis was reproduced on two different mirrors, both yesterday and today.",
    "Reassigning to cross-project",
    "This sounds more like a JDT or Platform \u003e Update Manager issue (signed jars on Linux, anyone? (bug 175284)). I\u0027ll bounce it to JDT first for comments (where it will no doubt bounce back to UM).\n\nRobert: what JDK are you using? Which linux distro? Probably not relevant, but this *might* be an issue w/ Eclipse finding something old and flaky like Blackdown 1.4 instead of Sun 5.0 or 6.0 as its default runtime. (If you\u0027re a debian/*ubuntu person, you can get Sun \u0026 IBM 5.0 as .deb installs from http://medibuntu.sos-sts.com/packages.php). Very handy, IMHO.",
    "Nick, the jdt core team doesn\u0027t administer our update site, the releng team does :-)\n\nRobert,\nEclipse 3.3M6 for Europa is not released yet.  So I wouldn\u0027t advise using platform M6 and updating trying to update to the content in Europa. The current Europa content is based on M5.  I\u0027ll see if there is documentation on the Europa page regarding this, if there isn\u0027t I\u0027ll ask them to update it or improve our process.  This is not intuitive to the end user.\n\nI\u0027ll also look at the jar and see if there is an issue.",
    "Ref #2: \n\nNick, I use \n\njava version \"1.6.0\"\nJava(TM) SE Runtime Environment (build 1.6.0-b105)\nJava HotSpot(TM) Client VM (build 1.6.0-b105, mixed mode, sharing)\n\nand OpenSUSE 10.2 with kernel 2.6.18.8-0.1-default\n\nRef #3:\n\nThank you for the information Kim. I expected that once the update site\n\na) is visible from the update manager\nb) provides updates\n\nit should simply work. I was not aware of the update site/platform not being in sync, which, as you stated, is counter-intuitive.",
    "Robert, thank you for reporting this problem.  I have replicated the same problem in our lab.\n\nIf I unpack the jar and then verify it, here is the error\n\n-bash-3.00$ /builds/tools/jdk/linuxppc/ibm-java2-ppc-50/jre/bin/unpack200 org.eclipse.jdt.core_3.3.0.v_735.jar.pack.gz y.jar\n\n-bash-3.00$ /builds/tools/jdk/linuxppc/ibm-java2-ppc-50/bin/jarsigner -verify y.jar\njarsigner: java.lang.SecurityException: SHA1 digest error for org/eclipse/jdt/core/dom/MemberRef.class\n\nAndrew, perhaps this is another manifestation of bug 175284\nThe jdt.core from M5 (v_735)\nhas an eclipse.inf in the antadapter directory with \njarprocessor.exclude.sign\u003dtrue\nperhaps they should also have\njarprocessor.exclude.children\u003dtrue in the same eclipse.inf\n\nPlease confirm and I\u0027ll open a bug with jdtcore with a patch.\n",
    "temporary fix in bug 180046 \npermanent fix when bug 178884 is resolved",
    "Veriried that this is not an issue with current builds - tried updating from M6 to  latest integration build without an issue on Linux with jdk 1.6.",
    "Seen the same issue on WinXP, Sun 1.4.2_13 and Linux RHEL4, Sun 1.6.0_01.\n\nEffectively, taking eclipse-platform-3.3M6 and then getting JDT from the M6 Europa Discovery Site is not possible.\n\nWe should perhaps advise everybody to start off with eclipse-SDK instead of Platform, until the fix is published to Europa (when I got the comments right, a fix does exist already in recent Platform I-builds).\n\n",
    "I tried to do the same yesterday with the latest integration build I20070410 with the same result - JDT install fails due to verification errors.\n\nIs there any hope to fix this soon? We need this working to test new feature content notification in Welcome.",
    "Dejan, are you saying that you used M6 platform and tried to update to I20070410 and had the same issue?",
    "I20070424-0930 was built with an updated jarprocessor (see bug 183035).\n\nI was able to successfully update from SDK-I20070418-1012 to I20070424-0930 on windows.\nAs well as from platform-I20070424-0930 to SDK-I20070424-0930 on windows, and on linux with an IBM 1.6 jvm..\n\nAll known issues should be resolved, can others verify this?",
    "Thanks Andrew, your tests seem to be good.\nI can verify the original issue once the contents is on the Europa M7 Staging site, if that helps. Remind me again in case I should forget.",
    "Closing, please reopen if this is still an issue.",
    "(In reply to comment #13)\n\u003e Closing, please reopen if this is still an issue.\n\nVerified, using IBM JDK 5.0, Platform Binary RC4 (linux-gtk) and Europa Update site (Ottawa Fullmoon mirror), I was able to install GMF and all its dependencies (including pde, jdt, gef, ocl, uml2, emf, emf-qtv, to a total of 14 updates).\n",
    "Thanks Nick.",
    "."
  ],
  "commentCreationDates": [
    "2007-03-26T12:01:41+02:00",
    "2007-03-26T14:31:38+02:00",
    "2007-03-26T20:27:17+02:00",
    "2007-03-26T20:42:53+02:00",
    "2007-03-27T00:14:37+02:00",
    "2007-03-28T21:43:21+02:00",
    "2007-03-29T20:20:26+02:00",
    "2007-04-05T23:03:26+02:00",
    "2007-04-11T13:29:25+02:00",
    "2007-04-11T15:40:43+02:00",
    "2007-04-11T15:49:02+02:00",
    "2007-04-26T17:22:30+02:00",
    "2007-04-27T09:30:57+02:00",
    "2007-06-14T17:40:26+02:00",
    "2007-06-14T20:48:28+02:00",
    "2007-06-14T22:42:30+02:00",
    "2007-06-19T21:07:09+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.util.zip.ZipException",
      "message": "error in opening zip file",
      "elements": [
        {
          "method": "java.util.zip.ZipFile.open",
          "source": "Native Method"
        },
        {
          "method": "java.util.zip.ZipFile.\u003cinit\u003e",
          "source": "ZipFile.java:203"
        },
        {
          "method": "java.util.jar.JarFile.\u003cinit\u003e",
          "source": "JarFile.java:132"
        },
        {
          "method": "java.util.jar.JarFile.\u003cinit\u003e",
          "source": "JarFile.java:112"
        },
        {
          "method": "org.eclipse.update.internal.jarprocessor.JarProcessor.processJar",
          "source": "JarProcessor.java:303"
        },
        {
          "method": "org.eclipse.update.internal.core.FeaturePackagedContentProvider.retrieveLocalJar",
          "source": "FeaturePackagedContentProvider.java:256"
        },
        {
          "method": "org.eclipse.update.internal.core.FeaturePackagedContentProvider.getPluginEntryArchiveReferences",
          "source": "FeaturePackagedContentProvider.java:179"
        },
        {
          "method": "org.eclipse.update.internal.operations.UpdateUtils.downloadFeatureContent",
          "source": "UpdateUtils.java:628"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.InstallWizard2.download",
          "source": "InstallWizard2.java:426"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.InstallWizard2.access$3",
          "source": "InstallWizard2.java:397"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.InstallWizard2$3.run",
          "source": "InstallWizard2.java:350"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "179270",
      "date": "2007-03-26T12:01:41+02:00",
      "product": "Platform",
      "component": "Releng",
      "severity": "major"
    }
  ],
  "groupId": "179270",
  "bugId": "179270",
  "date": "2007-03-26T12:01:41+02:00",
  "product": "Platform",
  "component": "Releng",
  "severity": "major"
}