{
  "comments": [
    "3.1.1\n\nFound the following NPE in my log. Don\u0027t know what the scenario was, but must\nhave happend when building the jdt.ui pioneering branch.\n\n\n!ENTRY org.eclipse.core.resources 4 2 2005-09-26 12:42:30.855\n!MESSAGE Problems occurred when invoking code from plug-in:\n\"org.eclipse.core.resources\".\n!STACK 0\njava.lang.NullPointerException\n\tat\norg.eclipse.jdt.internal.compiler.problem.ProblemReporter.missingDeprecatedAnnotationForMethod(ProblemReporter.java:3923)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.resolveTypesFor(SourceTypeBinding.java:1199)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.methods(SourceTypeBinding.java:1011)\n\tat\norg.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.getMethods(SourceTypeBinding.java:842)\n\tat org.eclipse.jdt.internal.compiler.lookup.Scope.findMethod(Scope.java:1019)\n\tat\norg.eclipse.jdt.internal.compiler.ast.MessageSend.resolveType(MessageSend.java:298)\n\tat\norg.eclipse.jdt.internal.compiler.ast.LocalDeclaration.resolve(LocalDeclaration.java:199)\n\tat\norg.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolveStatements(AbstractMethodDeclaration.java:418)\n\tat\norg.eclipse.jdt.internal.compiler.ast.MethodDeclaration.resolveStatements(MethodDeclaration.java:178)\n\tat\norg.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve(AbstractMethodDeclaration.java:396)\n\tat\norg.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1072)\n\tat\norg.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1121)\n\tat\norg.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve(CompilationUnitDeclaration.java:305)\n\tat org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:512)\n\tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:329)\n\tat\norg.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:248)\n\tat\norg.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:221)\n\tat\norg.eclipse.jdt.internal.core.builder.BatchImageBuilder.build(BatchImageBuilder.java:50)\n\tat org.eclipse.jdt.internal.core.builder.JavaBuilder.buildAll(JavaBuilder.java:213)\n\tat org.eclipse.jdt.internal.core.builder.JavaBuilder.build(JavaBuilder.java:141)\n\tat org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:593)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:783)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:168)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:202)\n\tat org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:231)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:783)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:234)\n\tat\norg.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:253)\n\tat org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:282)\n\tat org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:139)\n\tat org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:200)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)",
    "Now I got the exception in the debugger.\n- jdt.core 3.2 HEAD and jdt.ui (5.0 pioneering) set to 5.0 compliance, PDE\ntarget location set to a 3.2 M2 build\n\n- method that is problematic:\norg.eclipse.jdt.core.search.IJavaSearchScope createJavaSearchScope(NULL TYPE)\n- method.source() returns null -\u003e NPE in missingDeprecatedAnnotationForMethod",
    "Cannot reproduce with 3.1.1 SDK, JDT/Core from HEAD and JDT/UI from\nPioneering_5_0 branch.",
    "Suspect you need to enable the optional warning for missing @Override annotation",
    "Actually, did mean the warning for missing @Deprecated annotation",
    "Still cannot reproduce.",
    "Cannot reproduce either.\n\nSome questions:\n1) do you have any specific compiler settings? If so, it would be great to\nattach them to this bug to help us to reproduce.\n2) I do not really understand how createJavaSearchScope may be problematic as it\ndoes not override any method (neither in SearchEngine nor BasicSearchEngine).\nCan you be more precise on this point?\n3) You talked about method.source() for the NPE origin but cannot see this code\nin missingDeprecatedAnnotationForMethod. Looking at line in stack trace, it\nsounds more like \u0027method\u0027 itself was null. Could you confirm that?",
    "Forget question 2), I mixed @Override and @Deprecated tags...",
    "Created an attachment (id\u003d27556)\nmy preferences\n\nI also failed to recreate the bug on a fresh workspace, so it doesn\u0027t seem to\nbe reproducible.\n\nIn answer of Frederics question 3.)\nSourceTypeBinding.resolveTypesFor line 1199 calles\nthis.scope.problemReporter().missingDeprecatedAnnotationForMethod(method.sourceMethod());\n\nWhen I had this in the debugger, method.sourceMethod() was null. 3 lines later\na extra null check is performed on that.\n\nmethod.sourceMethod() was null as the method (taken from\nsourceTypeBinding.methods contained unresolved parameters (NULL), and this\nmethod could not be found in sourceTypeBinding.scope.referenceContext.methods\n",
    "Pls reopen if steps become available",
    "Reopen.",
    "*** Bug 116958 has been marked as a duplicate of this bug. ***",
    "Philippe,\n\nBug 116958 provides a patch for this issue.",
    "*** Bug 115508 has been marked as a duplicate of this bug. ***",
    "Reproduced using testcase from bug 116958. Theodora\u0027s patch is good.\nProblem comes from a forward reference to a method which hasn\u0027t been fully resolved yet, and for which the binding got discarded since parameters couldn\u0027t be resolved.\n\nSimpler testcase: 2 files X.java \u0026 Y.java, compile X and Y on command line, X\nbeing first. Needs to be in 1.5 mode, with diagnostic for missing @Deprecated\nannotation enabled.\n\npublic class X {\n        void foo(Y y) {\n                y.initialize(null, null, null);\n        }\n}\npublic class Y {\n        /**\n         * @deprecated\n         */\n        public void initialize(Zork z, String s) {\n        }\n\n        public void initialize(Zork z, String s, Thread t) {\n        }\n}",
    "Added AnnotationTest#test182",
    "Backported to 3.1.2",
    "Actually, reconsidering the fix. The check was occurring at a time it is difficult to tell for sure; and also same code pattern exists for fields and types (though not problematic interestingly). \nA better way is to move the missing @Deprecated check at the stage the source declaration is being resolved as part of its declaring unit (and not potentially as a forward reference like in the original scenario).",
    "Released new fix in #resolve(...) methods. Added AnnotationTest#test182-184.\nFixed both in 3.2 and 3.1.2 streams.",
    "Verified for 3.2M4 in I20051212-2000",
    "Verified for 3.1.2 in M20060109-0800."
  ],
  "commentCreationDates": [
    "2005-09-26T16:12:48+02:00",
    "2005-09-26T16:43:53+02:00",
    "2005-09-26T18:24:25+02:00",
    "2005-09-26T18:31:46+02:00",
    "2005-09-26T18:48:01+02:00",
    "2005-09-26T18:57:03+02:00",
    "2005-09-27T12:46:25+02:00",
    "2005-09-27T12:49:17+02:00",
    "2005-09-27T14:53:59+02:00",
    "2005-11-15T12:30:15+01:00",
    "2005-11-18T00:39:57+01:00",
    "2005-11-18T00:40:29+01:00",
    "2005-11-18T00:41:06+01:00",
    "2005-11-18T00:42:22+01:00",
    "2005-12-05T14:16:18+01:00",
    "2005-12-05T14:17:01+01:00",
    "2005-12-05T15:08:11+01:00",
    "2005-12-05T15:56:54+01:00",
    "2005-12-05T17:47:28+01:00",
    "2005-12-13T14:51:50+01:00",
    "2006-01-09T15:56:31+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.problem.ProblemReporter.missingDeprecatedAnnotationForMethod",
          "source": "ProblemReporter.java:3923"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.resolveTypesFor",
          "source": "SourceTypeBinding.java:1199"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.methods",
          "source": "SourceTypeBinding.java:1011"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.getMethods",
          "source": "SourceTypeBinding.java:842"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.Scope.findMethod",
          "source": "Scope.java:1019"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.MessageSend.resolveType",
          "source": "MessageSend.java:298"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.LocalDeclaration.resolve",
          "source": "LocalDeclaration.java:199"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolveStatements",
          "source": "AbstractMethodDeclaration.java:418"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.resolveStatements",
          "source": "MethodDeclaration.java:178"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve",
          "source": "AbstractMethodDeclaration.java:396"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve",
          "source": "TypeDeclaration.java:1072"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve",
          "source": "TypeDeclaration.java:1121"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve",
          "source": "CompilationUnitDeclaration.java:305"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.process",
          "source": "Compiler.java:512"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:329"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile",
          "source": "AbstractImageBuilder.java:248"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile",
          "source": "AbstractImageBuilder.java:221"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.BatchImageBuilder.build",
          "source": "BatchImageBuilder.java:50"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.JavaBuilder.buildAll",
          "source": "JavaBuilder.java:213"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.JavaBuilder.build",
          "source": "JavaBuilder.java:141"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$2.run",
          "source": "BuildManager.java:593"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1044"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:783"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:168"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:202"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$1.run",
          "source": "BuildManager.java:231"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1044"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:783"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:234"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuildLoop",
          "source": "BuildManager.java:253"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.build",
          "source": "BuildManager.java:282"
        },
        {
          "method": "org.eclipse.core.internal.events.AutoBuildJob.doBuild",
          "source": "AutoBuildJob.java:139"
        },
        {
          "method": "org.eclipse.core.internal.events.AutoBuildJob.run",
          "source": "AutoBuildJob.java:200"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:76"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "110593",
      "date": "2005-09-26T16:12:48+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "110593",
  "bugId": "110593",
  "date": "2005-09-26T16:12:48+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}