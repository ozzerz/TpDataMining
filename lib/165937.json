{
  "comments": [
    "URL performance test does not run properly from \u0027Run as.. Test\u0027\n\nI did record successfully the http test and generate the code.\n\nThe generated code compiles and works properly.\n\nIf I run with \u0027Run As Junit Test\u0027 I can see it works properly, in the\nend the progress meter is completely green and in my server logs I see\nthe incoming requests.\n\nThen I try to \u0027Run as Test\u0027, with a new configuration, local deployment,\neverything else left as default.\n\nI have tried to invoke \u0027Run as Test\u0027 from the context menu both from the\nTest Suite class in the Java perspective, and from the Test Suite in the\nTest perspective.\n\nThe result is the same in both cases: A dialog with  a progress meter\nappears during some time, I do NOT receive any requests in the server,\nand in the end it disappears and nothing else happens...\n\nI am using a bundle provided by IBM, the file is called:\n\nEnterprise-SDK-Callisto-Fall-Maintenance-win32.zip\n\nI also tried with a fresh install of eclise 3.2 + getting TPTP from Callisto discovery site.\n\nThanks for help !!",
    "Hi Javier,\n\nA couple of new questions and added thoughts came up.\n\nWhat JVM are you using for your testing (type java -version at the command prompt)?\n\nFor URL tests, we can run with the Integrated Agent Controller (IAC) or with the Agent Controller (AC).  Have you tried running both ways?\n\nTo run the URL test with the IAC, simply stop the AC.  The switch to the IAC is automatic when the AC is not running.\n\nAlso, if the problem is with the Agent Controller, then we need to verify that it is the correct version of the AC (Callisto bits), since the runner for the URL test is installed with the agent controller.  In the AC config directory, edit the serviceconfig.xml file.  You will see a line similar to the following:\n\n\u003cVariable name\u003d\"JAVA_PATH\" position\u003d\"replace\" value\u003d\"D:\\IBMJDK1.5SR3\\jre\\bin\\java.exe\"/\u003e\n\nVerify that the AC is pointing to the same JVM that you are running with Eclipse (Under Window-\u003ePreferences-\u003eJava-\u003eInstalled JRE\u0027s).  One thing that can happen for example is the problem of running a 1.5 JVM with Eclipse and an older JVM on the AC.  A quick work-around to that is to set the Eclipse-\u003eWindow-\u003eJava-\u003eCompiler, Complier compliance level to to agree with the other JVM (to generate 1.4 code instead of 1.5).  This is a difference in 3.2 version of Eclipse compared to earlier versions, where the default now is to set 1.5 as the compiler output.\n\nBring up task manager and kill any stray Java processes that may be running as zombies from previous failures.\n\nVerify that you do not have a fire wall that might be blocking the java.exe runner from opening connections to the server even though the JUnit test seemed to run ok.",
    "Also, can the test suite be ran by creating a new launch configuration (Run \u003e\u003e Run... \u003e\u003e Test \u003e\u003e New \u003e\u003e ...)?",
    "When you are able to run the test suite, what percentage is the progress meter stalled at?",
    "Hi again,\n\nAfter checking the environment items I suggested earlier, then if problem persists, we\u0027ll start digging deeper.  For starters, lets turn-on the error logging.  From Eclipse, choose Window-\u003eShow View-\u003ePDE Runtime (click to expand)-\u003eError Log.  If you get some warnings or errors, please update the defect so we can continue to narrow this down.",
    "Changing the target to 4.2.2.",
    "Thanks for your quick response.\n\nDid the following:\n\n1.- \n\nChecked JVM Eclipse is running with:\n\njava version \"1.5.0_09\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_09-b03)\nJava HotSpot(TM) Client VM (build 1.5.0_09-b03, mixed mode, sharing)\n\n2.- \n\nI have Rational SDP V6.0 installed in the same computer, so I stopped \u0027IBM Rational Agent Controller\u0027 service that came with this software.\n\n3.-\n\nCleaned all java processes, started eclipse again.\nTried to run the test.\nThe progress meter in the dialog gets stalled at about 10%, while it displays the message \u0027Operation in progress...\u0027.\nIn the status bar, bottom right corner, I see \u0027Launching: (54%).\nI had to kill all the java processes after a long time waiting for something to happen.\nThere were no requests arriving in the server.\nThere was no output in the PDE Runtime Error Log.\n\n4.-\n\nChecked my serviceconfig.xml. I have three: \n\nA. From Rational SDP:\n\nC:\\Archivos de programa\\IBM\\AgentController\\config\\serviceconfig.xml\n\n\u003c?xml version\u003d\"1.0\" encoding\u003d\"UTF-8\"?\u003e\n\u003cAgentControllerConfiguration activeConfiguration\u003d\"default\" filePort\u003d\"10005\" isDataMultiplexed\u003d\"false\" jvm\u003d\"C:\\Archivos de programa\\IBM\\Rational\\SDP\\6.0\\runtimes\\base_v6_stub\\java\\jre\\bin\\classic\\jvm.dll\" loggingDetail\u003d\"LOW\" loggingLevel\u003d\"INFORMATION\" port\u003d\"10002\" processPolling\u003d\"true\" securedPort\u003d\"10003\" version\u003d\"3.3.0\"\u003e\n\t\u003cAgentControllerEnvironment configuration\u003d\"default\"\u003e\n\t\t\u003cVariable name\u003d\"JAVA_PATH\" position\u003d\"replace\" value\u003d\"C:\\Archivos de programa\\IBM\\Rational\\SDP\\6.0\\runtimes\\base_v6_stub\\java\\bin\\java.exe\"/\u003e\n\t\t\u003cVariable name\u003d\"RASERVER_HOME\" position\u003d\"replace\" value\u003d\"C:\\Archivos de programa\\IBM\\AgentController\"/\u003e\n\t\t\u003cVariable name\u003d\"PATH\" position\u003d\"prepend\" value\u003d\"%RASERVER_HOME%\\bin\"/\u003e\n\t\t\u003cVariable name\u003d\"SYS_TEMP_DIR\" position\u003d\"replace\" value\u003d\"C:\\DOCUME~1\\JAVIER~1\\CONFIG~1\\Temp\"/\u003e\n\t\t\u003cVariable name\u003d\"LOCAL_AGENT_TEMP_DIR\" position\u003d\"replace\" value\u003d\"%SYS_TEMP_DIR%\"/\u003e\n\t\t\u003cVariable name\u003d\"CLASSPATH\" position\u003d\"append\" value\u003d\"%RASERVER_HOME%\\lib\\commons-logging.jar\"/\u003e\n\t\t\u003cVariable name\u003d\"CLASSPATH\" position\u003d\"append\" value\u003d\"%RASERVER_HOME%\\lib\\hcframe.jar\"/\u003e\n\t\t\u003cVariable name\u003d\"CLASSPATH\" position\u003d\"append\" value\u003d\"%RASERVER_HOME%\\lib\\hexcore.jar\"/\u003e\n\t\t\u003cVariable name\u003d\"CLASSPATH\" position\u003d\"append\" value\u003d\"%RASERVER_HOME%\\lib\\hexl.jar\"/\u003e\n\t\t\u003cVariable name\u003d\"CLASSPATH\" position\u003d\"append\" value\u003d\"%RASERVER_HOME%\\lib\\hexr.jar\"/\u003e\n\t\t\u003cVariable name\u003d\"CLASSPATH\" position\u003d\"append\" value\u003d\"%RASERVER_HOME%\\lib\\hl14.jar\"/\u003e\n\t\t\u003cVariable name\u003d\"CLASSPATH\" position\u003d\"append\" value\u003d\"%RASERVER_HOME%\\lib\\hlcommons.jar\"/\u003e\n\t\t\u003cVariable name\u003d\"CLASSPATH\" position\u003d\"append\" value\u003d\"%RASERVER_HOME%\\lib\\hlcore.jar\"/\u003e\n\t\t\u003cVariable name\u003d\"CLASSPATH\" position\u003d\"append\" value\u003d\"%RASERVER_HOME%\\lib\\hlevents.jar\"/\u003e\n\t\t\u003cVariable name\u003d\"CLASSPATH\" position\u003d\"append\" value\u003d\"%RASERVER_HOME%\\lib\\hlcbe101.jar\"/\u003e\n\t\t\u003cVariable name\u003d\"CLASSPATH\" position\u003d\"append\" value\u003d\"%RASERVER_HOME%\\lib\\ecore.jar\"/\u003e\n\t\t\u003cVariable name\u003d\"CLASSPATH\" position\u003d\"append\" value\u003d\"%RASERVER_HOME%\\lib\\common.jar\"/\u003e\n\t\t\u003cVariable name\u003d\"CLASSPATH\" position\u003d\"append\" value\u003d\"%RASERVER_HOME%\\plugins\\org.eclipse.hyades.test\\lib\\runtime.jar\"/\u003e\n\t\u003c/AgentControllerEnvironment\u003e\n\t\u003cApplication configuration\u003d\"default\" executable\u003d\"java.exe\" location\u003d\"%SYS_TEMP_DIR%\" path\u003d\"%JAVA_PATH%\"/\u003e\n\t\u003cHosts configuration\u003d\"default\"\u003e\n\t\t\u003cAllow host\u003d\"ALL\"/\u003e\n\t\u003c/Hosts\u003e\n\t\u003cPlugin path\u003d\"%RASERVER_HOME%\\plugins\"/\u003e\n\u003c/AgentControllerConfiguration\u003e\n\nB. From Enterprise-SDK-Callisto-Fall-Maintenance:\n\nC:\\Software\\eclipse\\plugins\\org.eclipse.hyades.execution_4.2.2.v200609010912\\iac-runtime\\config\\serviceconfig.xml\n\n\t\u003c?xml version\u003d\"1.0\" encoding\u003d\"UTF-8\"?\u003e\n\n\t\u003cAgentControllerConfiguration activeConfiguration\u003d\"default\" loggingDetail\u003d\"LOW\" loggingLevel\u003d\"DEBUG\" version\u003d\"4.1.0\"\u003e\n\t\t\u003cApplication configuration\u003d\"default\" executable\u003d\"java.exe\" location\u003d\"%SYS_TEMP_DIR%\" path\u003d\"%JAVA_PATH%\"/\u003e\n\n\t\u003c/AgentControllerConfiguration\u003e\n\nAND\n\nC:\\Software\\tptp\\tptpdc\\win_ia32\\config\\serviceconfig.xml\n\n[Empty file]\n\n5.- \n\nCleaned all java processes.\nStarted IBM Rational Agent Controller again.\nStarted eclipse.\nTried to run the test again.\nThe progress meter in the dialog gets stalled at about 10%, while it displays the message \u0027Operation in progress...\u0027.\nIn the status bar, bottom right corner, I see \u0027Launching: (60%).\nAfter a while the dialog disappears, also the message in the status bar.\nPDE Runtime Error Log displays:\n\nInfo: \"org.eclipse.hyades.internal.execution.local.control.InactiveProcessException\"\n\norg.eclipse.hyades.internal.execution.local.control.InactiveProcessException\nat org.eclipse.hyades.execution.harness.TestExecutionHarnessExecutorStub.launch(TestExecutionHarnessExecutorStub.java:420)\nat org.eclipse.hyades.execution.harness.TestExecutionHarness.launchTestExecution(TestExecutionHarness.java:2085)\nat org.eclipse.hyades.execution.harness.TestExecutionHarness.access$3(TestExecutionHarness.java:1817)\nat org.eclipse.hyades.execution.harness.TestExecutionHarness$2.run(TestExecutionHarness.java:741)\nat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\n\n6.- \n\nClosed eclipse.\nNo java processes left to clean.\nStarted eclipse again.\nIBM Rational Agent Controller is still started.\nChanged my testing project Java Compiler compliance level to 1.4. As usual this triggers a rebuild of the whole project.\nTried to run the test again.\nI have exactly the same behaviour as in 5:\n\nThe progress meter in the dialog gets stalled at about 10%, while it displays the message \u0027Operation in progress...\u0027.\nIn the status bar, bottom right corner, I see \u0027Launching: (60%).\nAfter a while the dialog disappears, also the message in the status bar.\nPDE Runtime Error Log displays:\n\nInfo: \"org.eclipse.hyades.internal.execution.local.control.InactiveProcessException\"\n\norg.eclipse.hyades.internal.execution.local.control.InactiveProcessException\nat org.eclipse.hyades.execution.harness.TestExecutionHarnessExecutorStub.launch(TestExecutionHarnessExecutorStub.java:420)\nat org.eclipse.hyades.execution.harness.TestExecutionHarness.launchTestExecution(TestExecutionHarness.java:2085)\nat org.eclipse.hyades.execution.harness.TestExecutionHarness.access$3(TestExecutionHarness.java:1817)\nat org.eclipse.hyades.execution.harness.TestExecutionHarness$2.run(TestExecutionHarness.java:741)\nat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\n\n7.- \n\nIn Window -\u003e Preferences -\u003e Java -\u003e Installed JREs I added the Websphere 6 JRE from the Websphere test environment that comes with Rational SDP 6, to match with the JVM setting in the serviceconfig.xml of the IBM Rational Agent Controller, wich is still started.\nSetup Websphere 6 JRE as the default JRE in Eclipse.\nClosed eclipse.\nNo java processes left to clean.\nStarted Eclipse.\nTried to run the test again.\nExact same thing as in 5 and 6.\n\n8.-\n\nCopletely uninstalled all firewall software, disabled OS firewall.\nRepeated steps in 7.\nSame thing.\n\n9.- \n\nStopped IBM Rational Agent Controller.\nTried with Websphere JRE, absolutely no firewall, IAC.\nSame as in 3.\n\n10.- \n\nEdited serviceconfig.xml from Rational SDP, in\nC:\\Archivos de programa\\IBM\\AgentController\\config\\serviceconfig.xml to as JAVA_PATH the Sun 1.5 JDK.\nAlso changed the default JRE in preferences and project colpiler compliance.\nStarted IBM Rational Agent Controller.\nEverything is configured to use java 1.5 and Sun JDK.\nSame as in 5, 6, 7, 8.\n\nIs there something else I could try to help find the problem ?",
    "Thanks for the information.  I want to see if we can get you running with the AC and then work on the IAC.\n\nI see a couple of issues here.  The first is that the IBM RAC you are running is a mismatch with Callisto.  All Rational 6.x products were running TPTP 3.3, which affects the URL runner components.\n\nOnly try running with a TPTP RAC that matches your installed Eclipse workbench.  You do not need to remove the IBM Rational RAC, just make sure it is not running.\n\nThe other potential problem I see that nobody else that I know of has seen is the InactiveProcessException during launch.  Check your path at the command prompt and see if it references an older JVM installation.  If you want a JVM in the path, place the one you are running with Eclipse at the front of the path.  This is just an idea of something to check, it could easily be just the mismatch with TPTP 3.3 causing this exception.  We never tried to test with that mismatch.\n\nJust to eliminate the playback to your server as a potential confusion factor, perhaps try the simpliest of URL tests.  I would suggest just going to google.com main page and then stop the recording.\n\nIf you run the correct TPTP Agent and still get an error, please reboot and try once more just to make sure you are running clean.",
    "Thanks for your reply. After stopping Rational Agent Controller and starting RAC downloaded from TPTP site, I could successfully run through the test and see the log generated.\n\nIt seems that sometimes it is stalled at 93%, but I can work with this now...",
    "Hi again,\n\nThat is good news.  \n\nThe occassional stall at 93% is perhaps due to improper handling of chunk-encoded server response data.  The majority of these problems are resolved in TPTP 4.3.  So, if it becomes a serious issue for you, you may want to switch to the later version.\n\nDuWayne\n\n",
    "Reporter: Please verify and close in preparation for shutting down the TPTP 4.4 release.  Thanks.",
    "Closing by default since not verified/closed by the originator in the 6+ months since being resolved.  \n\nPlease reopen if the issue is still present in the latest TPTP release or the\nresolution is not correct."
  ],
  "commentCreationDates": [
    "2006-11-27T17:13:52+01:00",
    "2006-11-27T18:07:27+01:00",
    "2006-11-27T18:14:31+01:00",
    "2006-11-27T18:15:57+01:00",
    "2006-11-27T18:39:39+01:00",
    "2006-11-27T18:49:46+01:00",
    "2006-11-28T11:08:27+01:00",
    "2006-11-28T14:46:12+01:00",
    "2006-11-28T17:04:47+01:00",
    "2006-11-28T17:22:46+01:00",
    "2007-06-02T20:50:58+02:00",
    "2007-06-27T19:18:35+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.hyades.internal.execution.local.control.InactiveProcessException",
      "elements": [
        {
          "method": "org.eclipse.hyades.execution.harness.TestExecutionHarnessExecutorStub.launch",
          "source": "TestExecutionHarnessExecutorStub.java:420"
        },
        {
          "method": "org.eclipse.hyades.execution.harness.TestExecutionHarness.launchTestExecution",
          "source": "TestExecutionHarness.java:2085"
        },
        {
          "method": "org.eclipse.hyades.execution.harness.TestExecutionHarness.access$3",
          "source": "TestExecutionHarness.java:1817"
        },
        {
          "method": "org.eclipse.hyades.execution.harness.TestExecutionHarness$2.run",
          "source": "TestExecutionHarness.java:741"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 6,
      "bugId": "165937",
      "date": "2006-11-28T11:08:27+01:00",
      "product": "TPTP Testing",
      "component": "Test.Execution.URLRunner",
      "severity": "major"
    },
    {
      "exceptionType": "org.eclipse.hyades.internal.execution.local.control.InactiveProcessException",
      "elements": [
        {
          "method": "org.eclipse.hyades.execution.harness.TestExecutionHarnessExecutorStub.launch",
          "source": "TestExecutionHarnessExecutorStub.java:420"
        },
        {
          "method": "org.eclipse.hyades.execution.harness.TestExecutionHarness.launchTestExecution",
          "source": "TestExecutionHarness.java:2085"
        },
        {
          "method": "org.eclipse.hyades.execution.harness.TestExecutionHarness.access$3",
          "source": "TestExecutionHarness.java:1817"
        },
        {
          "method": "org.eclipse.hyades.execution.harness.TestExecutionHarness$2.run",
          "source": "TestExecutionHarness.java:741"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 1,
      "commentIndex": 6,
      "bugId": "165937",
      "date": "2006-11-28T11:08:27+01:00",
      "product": "TPTP Testing",
      "component": "Test.Execution.URLRunner",
      "severity": "major"
    }
  ],
  "groupId": "165937",
  "bugId": "165937",
  "date": "2006-11-27T17:13:52+01:00",
  "product": "TPTP Testing",
  "component": "Test.Execution.URLRunner",
  "severity": "major"
}