{
  "comments": [
    "3.0 RC2\n\n1) Create a Plugin project\n2) Go to the \"Runtime\" tab of the plugin.xml editor.\n3) Select the jar in the \"Run-time libraries\" list.\n4) From the context menu of the \"\"Run-time libraries list select \"Copy\" and \nthen from the same context menu, select \"Paste\"\n\nGet the following Class Cast Exception:\n\nError Jun 14, 2004 11:32:45.531 java.lang.ClassCastException\njava.lang.ClassCastException\n\tat org.eclipse.pde.internal.ui.editor.plugin.LibrarySection.doPaste\n(LibrarySection.java:416)\n\tat org.eclipse.pde.internal.ui.editor.StructuredViewerSection.doPaste\n(StructuredViewerSection.java:83)\n\tat \norg.eclipse.pde.internal.ui.editor.plugin.LibrarySection.doGlobalAction\n(LibrarySection.java:208)\n\tat org.eclipse.pde.internal.ui.editor.PDEFormPage.performGlobalAction\n(PDEFormPage.java:91)\n\tat org.eclipse.pde.internal.ui.editor.PDEFormEditor.performGlobalAction\n(PDEFormEditor.java:494)\n\tat \norg.eclipse.pde.internal.ui.editor.PDEFormEditorContributor$GlobalAction.run\n(PDEFormEditorContributor.java:50)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:881)\n\tat \norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:915)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2\n(ActionContributionItem.java:866)\n\tat org.eclipse.jface.action.ActionContributionItem$7.handleEvent\n(ActionContributionItem.java:785)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2732)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2398)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1362)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1333)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench\n(Workbench.java:252)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run\n(IDEApplication.java:96)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run\n(PlatformActivator.java:334)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:272)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:128)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\n\tat org.eclipse.core.launcher.Main.run(Main.java:638)\n\tat org.eclipse.core.launcher.Main.main(Main.java:622)",
    "Dejan,\nAs discussed, we will have a README entry that pasting is not going to be \nsupported in the table viewers in the plugin manifest editor in 3.0.\n\nHowever, right now, we throw classcast exceptions left and right when users \ntry to paste.  This has to stop.\n\nRisk is low.  Just do nothing on paste.\nStrong candidate for RC3.",
    "Couldn\u0027t you just change:\n\nif (obj instanceof IPluginLibrary) {\n    PluginLibrary library \u003d (PluginLibrary) obj;\n\nto\n\nif (obj instanceof PluginLibrary) {\n    PluginLibrary library \u003d (PluginLibrary) obj;",
    "It\u0027s a lot more than that.\nThe new editors have a new model, which surgically modifies text in the \ndocument when the user is doing work in the gui.  This solved a long-standing \nproblem with PDE editors rewriting the whole document with every little change \nmade in the gui.\nThe problem is that supporting copy and paste in the new model is a difficult \nproblem and we did not have to address it in 3.0.\n\nSo while doing what you\u0027re suggesting will not throw a classcast exception, it \nwill leave the document in an unpredictably and severely bad state.  \nTherefore, it is best to do nothing on paste.  No other choice for us at this \npoint.\n",
    "+1",
    "Fixed."
  ],
  "commentCreationDates": [
    "2004-06-14T17:40:55+02:00",
    "2004-06-17T08:25:20+02:00",
    "2004-06-17T15:22:03+02:00",
    "2004-06-17T15:35:08+02:00",
    "2004-06-17T16:13:26+02:00",
    "2004-06-17T18:06:50+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "elements": [
        {
          "method": "org.eclipse.pde.internal.ui.editor.plugin.LibrarySection.doPaste",
          "source": "LibrarySection.java:416"
        },
        {
          "method": "org.eclipse.pde.internal.ui.editor.StructuredViewerSection.doPaste",
          "source": "StructuredViewerSection.java:83"
        },
        {
          "method": "org.eclipse.pde.internal.ui.editor.plugin.LibrarySection.doGlobalAction",
          "source": "LibrarySection.java:208"
        },
        {
          "method": "org.eclipse.pde.internal.ui.editor.PDEFormPage.performGlobalAction",
          "source": "PDEFormPage.java:91"
        },
        {
          "method": "org.eclipse.pde.internal.ui.editor.PDEFormEditor.performGlobalAction",
          "source": "PDEFormEditor.java:494"
        },
        {
          "method": "org.eclipse.pde.internal.ui.editor.PDEFormEditorContributor$GlobalAction.run",
          "source": "PDEFormEditorContributor.java:50"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:881"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:915"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:866"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$7.handleEvent",
          "source": "ActionContributionItem.java:785"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:796"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2732"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2398"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1362"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1333"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:252"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:141"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:96"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:334"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:272"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:128"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:638"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:622"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "66988",
      "date": "2004-06-14T17:40:55+02:00",
      "product": "PDE",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "66988",
  "bugId": "66988",
  "date": "2004-06-14T17:40:55+02:00",
  "product": "PDE",
  "component": "UI",
  "severity": "normal"
}