{
  "comments": [
    "When I try to run the \"Generate Entities...\" wizard and I select 4 or more entities, I get a java.lang.IllegalStateException: mismatched sizes: 2 vs. 1.  I\u0027ll copy the full stack trace below.  I\u0027m using a MySql database on my local machine.  It works fine for 3 or less entities.\n\njava.lang.IllegalStateException: mismatched sizes: 2 vs. 1\n\tat org.eclipse.dali.db.ForeignKey.buildColumnPairs(ForeignKey.java:151)\n\tat org.eclipse.dali.db.ForeignKey.getColumnPairs(ForeignKey.java:141)\n\tat org.eclipse.dali.db.ForeignKey.columnPairs(ForeignKey.java:163)\n\tat org.eclipse.dali.db.ForeignKey.baseColumns(ForeignKey.java:73)\n\tat org.eclipse.dali.db.ForeignKey.nonPrimaryKeyBaseColumns(ForeignKey.java:85)\n\tat org.eclipse.dali.gen.GenTable.configureManyToOneFieldNames(GenTable.java:281)\n\tat org.eclipse.dali.gen.GenTable.configureFieldNames(GenTable.java:140)\n\tat org.eclipse.dali.gen.GenScope.configureFieldNames(GenScope.java:111)\n\tat org.eclipse.dali.gen.GenScope.initialize(GenScope.java:51)\n\tat org.eclipse.dali.gen.GenScope.\u003cinit\u003e(GenScope.java:34)\n\tat org.eclipse.dali.gen.PackageGenerator.\u003cinit\u003e(PackageGenerator.java:47)\n\tat org.eclipse.dali.gen.PackageGenerator.generateEntities(PackageGenerator.java:37)\n\tat org.eclipse.dali.ui.actions.GenerateEntitiesAction$GenerateEntitiesRunnable.run(GenerateEntitiesAction.java:122)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1737)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)\n\tat org.eclipse.dali.ui.actions.GenerateEntitiesAction.execute(GenerateEntitiesAction.java:68)\n\tat org.eclipse.dali.ui.actions.ProjectAction.execute(ProjectAction.java:90)\n\tat org.eclipse.dali.ui.actions.ProjectAction.execute(ProjectAction.java:71)\n\tat org.eclipse.dali.ui.actions.ProjectAction.run(ProjectAction.java:63)\n\tat org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:254)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)",
    "This would appear to be caused by a specific configuration on your DB schema.  Could you possibly supply the DDL for the group of tables that is causing this error?",
    "I think you are right, because I reproduced this bug with as few as 2 tables selected.  I will upload it later tonight when I am home.  My feeling is that it has to do with one particular table that has two foreign key columns, both of which point to the same column in the same table.  Hopefully that might give you some insight into why this problem is occuring until I can upload the DDL.",
    "Created an attachment (id\u003d52907)\nSQL install script that creates the database producing the error\n\nThis is the SQL script I am using to install the database.  To recreate the error, install this database, create a connection to it, add java persistence to a java class to connect to this, and generate all entities.",
    "Created an attachment (id\u003d52909)\nThis attachment shows only the mismatched size error, not the stack overflow\n\nThe old file caused a stack overflow.  This file only shows the mismatched size error I explained originally",
    "*** Bug 174007 has been marked as a duplicate of this bug. ***",
    "This bug should go away when bug 187749 is fixed.",
    "works fine when running with DTP 1.5 RC2",
    "Verified. Closing."
  ],
  "commentCreationDates": [
    "2006-09-30T01:50:56+02:00",
    "2006-10-11T00:01:50+02:00",
    "2006-10-11T19:49:14+02:00",
    "2006-10-28T19:02:35+02:00",
    "2006-10-28T20:07:34+02:00",
    "2007-03-14T22:44:31+01:00",
    "2007-05-18T07:12:51+02:00",
    "2007-06-11T16:35:58+02:00",
    "2007-06-12T18:00:49+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalStateException",
      "message": "mismatched sizes: 2 vs. 1",
      "elements": [
        {
          "method": "org.eclipse.dali.db.ForeignKey.buildColumnPairs",
          "source": "ForeignKey.java:151"
        },
        {
          "method": "org.eclipse.dali.db.ForeignKey.getColumnPairs",
          "source": "ForeignKey.java:141"
        },
        {
          "method": "org.eclipse.dali.db.ForeignKey.columnPairs",
          "source": "ForeignKey.java:163"
        },
        {
          "method": "org.eclipse.dali.db.ForeignKey.baseColumns",
          "source": "ForeignKey.java:73"
        },
        {
          "method": "org.eclipse.dali.db.ForeignKey.nonPrimaryKeyBaseColumns",
          "source": "ForeignKey.java:85"
        },
        {
          "method": "org.eclipse.dali.gen.GenTable.configureManyToOneFieldNames",
          "source": "GenTable.java:281"
        },
        {
          "method": "org.eclipse.dali.gen.GenTable.configureFieldNames",
          "source": "GenTable.java:140"
        },
        {
          "method": "org.eclipse.dali.gen.GenScope.configureFieldNames",
          "source": "GenScope.java:111"
        },
        {
          "method": "org.eclipse.dali.gen.GenScope.initialize",
          "source": "GenScope.java:51"
        },
        {
          "method": "org.eclipse.dali.gen.GenScope.\u003cinit\u003e",
          "source": "GenScope.java:34"
        },
        {
          "method": "org.eclipse.dali.gen.PackageGenerator.\u003cinit\u003e",
          "source": "PackageGenerator.java:47"
        },
        {
          "method": "org.eclipse.dali.gen.PackageGenerator.generateEntities",
          "source": "PackageGenerator.java:37"
        },
        {
          "method": "org.eclipse.dali.ui.actions.GenerateEntitiesAction$GenerateEntitiesRunnable.run",
          "source": "GenerateEntitiesAction.java:122"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1737"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1719"
        },
        {
          "method": "org.eclipse.dali.ui.actions.GenerateEntitiesAction.execute",
          "source": "GenerateEntitiesAction.java:68"
        },
        {
          "method": "org.eclipse.dali.ui.actions.ProjectAction.execute",
          "source": "ProjectAction.java:90"
        },
        {
          "method": "org.eclipse.dali.ui.actions.ProjectAction.execute",
          "source": "ProjectAction.java:71"
        },
        {
          "method": "org.eclipse.dali.ui.actions.ProjectAction.run",
          "source": "ProjectAction.java:63"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:254"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:539"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3348"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2968"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1914"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1878"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:280"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "159372",
      "date": "2006-09-30T01:50:56+02:00",
      "product": "Dali JPA Tools",
      "component": "General",
      "severity": "normal"
    }
  ],
  "groupId": "159372",
  "bugId": "159372",
  "date": "2006-09-30T01:50:56+02:00",
  "product": "Dali JPA Tools",
  "component": "General",
  "severity": "normal"
}