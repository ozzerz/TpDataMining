{
  "comments": [
    "After performing one click update platform does not restart due to the wrong \npersmissions on the downloaded SWT libaries.\nSee bug 18376, where permissions were wrong in the new installation of Eclipse.\n\nNote, I have renamed the hp9000 directory to the PA_RISC directory inside the \nupdated swt plugin, because I was running Eclipse with -arch PA_RISC option, \nand libraries would not be found at all otherwise.\n\n% ./eclipse -arch PA_RISC -vm /opt/java1.3/jre/bin/java\njava.lang.UnsatisfiedLinkError: /bluebird/teamswt/kkolosow/eclipse/plugins/org.e\nclipse.swt.motif_2.0.0.v2045/os/hpux/PA_RISC/libswt-motif-2045.sl: Permission \ndenied\n        at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n        at java.lang.ClassLoader.loadLibrary0(Unknown Source)\n        at java.lang.ClassLoader.loadLibrary(Unknown Source)\n        at java.lang.Runtime.loadLibrary0(Unknown Source)\n        at java.lang.System.loadLibrary(Unknown Source)\n        at org.eclipse.swt.internal.Library.loadLibrary(Library.java:102)\n        at org.eclipse.swt.internal.motif.OS.\u003cclinit\u003e(OS.java:14)\n        at org.eclipse.swt.widgets.Display.createDisplay(Display.java:505)\n        at org.eclipse.swt.widgets.Display.create(Display.java:491)\n        at org.eclipse.swt.graphics.Device.\u003cinit\u003e(Device.java:110)\n        at org.eclipse.swt.widgets.Display.\u003cinit\u003e(Display.java:317)\n        at org.eclipse.swt.widgets.Display.\u003cinit\u003e(Display.java:314)\n        at org.eclipse.ui.internal.Workbench.run(Workbench.java:1142)\n        at org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:739)\n        at org.eclipse.core.boot.BootLoader.run(BootLoader.java:462)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:248)\n        at org.eclipse.core.launcher.Main.run(Main.java:697)\n        at org.eclipse.core.launcher.Main.main(Main.java:530)\n%",
    "From: Konrad Kolosowski/Toronto/IBM@IBMCA\nSubject: http://dev.eclipse.org/bugs/show_bug.cgi?id\u003d20305\n\nOn HP, shared libraries need to have r-x permissions (no write).  On other \nUnixes, shared libraries do not need execute permission.\n\nThere is no API to read permission from the zip in Java.  The permissions inside \na zip file is not a standard zip feature.  That is why tar.gz is used to \ndistribute files on Unixes today rather than zip.  AIX and HP do not even ship \nwith zip/unzip programs.\n\nTo fix only this bug, we can do a hack:  check if running of HP and file ends \nwith .sl (shared library), then call Runtime.exec(chmod ...).\n\nI think there is a bigger problem, not mentioned in the bug:  If a plug-in ships \na main executable file (not a library), that file when updated will get default \npermissions and is not going to execute on any non windows platform, not just \nHP.  There is no way to guess what the permission should be from file name in \nthis case.  The solution can be to change the format that updates are packaged.  \nIt can be a zip and an additional file with file permissions, or completely \nproprietary \"Eclipse\" format.  In any case build tool would be probably needed - \nnot a pretty solution.\n\n\t\n\t       \n",
    "F4 candidate\nValue: high (able to run on HPUX after update)\nRisk: if the fix is limited to the chmod slam on HPUX (as suggested) then low. \nWill need better solution for 2.0. A workaround for the general problem would be \nfor the packager to provide a custom install handler for the feature that does \nthe permission \"fixup\"",
    "just a correction ...\n\"will need a better solution after 2.0\"",
    "The suggested hack of chmod\u0027ing downloaded *.sl files on HP-UX sounds \nreasonable. \n\nWhile eclipse clearly must do it for SWT, it remains to be seen how common it \nis for ISVs to be including HP-UX executables. If it rarely happens in \npractice, the suggested workaround of using a custom installer may be \nsufficient.\n",
    "Fix to change permissions on *.sl files on HPUX went into 20020621 integration \nbuild.",
    "Verified in 20020621 integration build.  File permissions are set to r-xr-xr-x \non SWT libraries and Eclipse comes up O.K. ufter updating entire SDK.",
    "Question: I assume that this check has been added to the Update component \nspecifically, and therefore wouldn\u0027t apply to the following situations:\n\n   - retrieving SWT from CVS, then trying to self-host\n   - retrieving SWT through Import -\u003e Plugins and Frgaments, then trying to \nself-host\n\nI ask because I want to verify that these situations should be readme\u0027d.\n",
    "The fix only affects Update code.  Permissions are changed on the files that \nUpdate retrieves from update site and installs under plugins directory.\n\nIf there is problems with permission of files in the workspace, it would not be \naffected by the update fix."
  ],
  "commentCreationDates": [
    "2002-06-14T02:00:26+02:00",
    "2002-06-20T16:05:48+02:00",
    "2002-06-20T16:08:44+02:00",
    "2002-06-20T16:37:59+02:00",
    "2002-06-20T16:42:53+02:00",
    "2002-06-21T17:20:55+02:00",
    "2002-06-21T17:22:20+02:00",
    "2002-06-24T15:56:20+02:00",
    "2002-06-24T16:32:13+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.UnsatisfiedLinkError",
      "message": "/bluebird/teamswt/kkolosow/eclipse/plugins/org.e clipse.swt.motif_2.0.0.v2045/os/hpux/PA_RISC/libswt-motif-2045.sl: Permission  denied",
      "elements": [
        {
          "method": "java.lang.ClassLoader$NativeLibrary.load",
          "source": "Native Method"
        },
        {
          "method": "java.lang.ClassLoader.loadLibrary0",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.ClassLoader.loadLibrary",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.Runtime.loadLibrary0",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.System.loadLibrary",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.internal.Library.loadLibrary",
          "source": "Library.java:102"
        },
        {
          "method": "org.eclipse.swt.internal.motif.OS.\u003cclinit\u003e",
          "source": "OS.java:14"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.createDisplay",
          "source": "Display.java:505"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.create",
          "source": "Display.java:491"
        },
        {
          "method": "org.eclipse.swt.graphics.Device.\u003cinit\u003e",
          "source": "Device.java:110"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.\u003cinit\u003e",
          "source": "Display.java:317"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.\u003cinit\u003e",
          "source": "Display.java:314"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1142"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:739"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:462"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:248"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:697"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:530"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "20305",
      "date": "2002-06-14T02:00:26+02:00",
      "product": "Platform",
      "component": "Update",
      "severity": "major"
    }
  ],
  "groupId": "20305",
  "bugId": "20305",
  "date": "2002-06-14T02:00:26+02:00",
  "product": "Platform",
  "component": "Update",
  "severity": "major"
}