{
  "comments": [
    "I have a .ear archive, which contain 1 war and 1 jar.\nWhen I try to import it, it gives following error in error log after clicking \"ok\" in \"browse\" dialog. \n\nIf I extract the ear archive and import the ejb jar file manually, no error occurs.\n\nThe ejb-jar.xml file validated correctly with ejb 1.1 dtd.\n\nI have tried both 1.0 on 3.1.1 and 1.5M4 on 3.2M2, same error occurs.\n\n\n!ENTRY org.eclipse.ui 4 4 2006-01-28 01:34:31.373\n!MESSAGE Unhandled event loop exception\n\n!ENTRY org.eclipse.ui 4 0 2006-01-28 01:34:31.404\n!MESSAGE META-INF/ejb-jar.xml\n!STACK 0\norg.eclipse.jst.j2ee.commonarchivecore.internal.exception.DeploymentDescriptorLoadException: META-INF/ejb-jar.xml\nStack trace of nested exception:\norg.eclipse.wst.common.internal.emf.utilities.FeatureValueConversionException: IWAE0014E Failed to convert WriteOff to Enumeration.\n\tat org.eclipse.wst.common.internal.emf.utilities.DefaultFeatureValueConverter.failedToConvert(DefaultFeatureValueConverter.java:319)\n\tat org.eclipse.wst.common.internal.emf.utilities.DefaultFeatureValueConverter.convertToEnum(DefaultFeatureValueConverter.java:111)\n\tat org.eclipse.wst.common.internal.emf.utilities.DefaultFeatureValueConverter.convertValue(DefaultFeatureValueConverter.java:227)\n\tat org.eclipse.wst.common.internal.emf.utilities.DefaultFeatureValueConverter.convertValue(DefaultFeatureValueConverter.java:274)\n\tat org.eclipse.wst.common.internal.emf.resource.Translator.convertStringToValue(Translator.java:513)\n\tat org.eclipse.wst.common.internal.emf.resource.Translator.convertStringToValue(Translator.java:487)\n\tat org.eclipse.wst.common.internal.emf.resource.CacheEventNode.commit(CacheEventNode.java:226)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2SAXDocumentHandler.endElement(EMF2SAXDocumentHandler.java:115)\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:633)\n\tat com.sun.org.apache.xerces.internal.impl.dtd.XMLNSDTDValidator.endNamespaceScope(XMLNSDTDValidator.java:260)\n\tat com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.handleEndElement(XMLDTDValidator.java:2059)\n\tat com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.endElement(XMLDTDValidator.java:932)\n\tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanEndElement(XMLNSDocumentScannerImpl.java:719)\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(XMLDocumentFragmentScannerImpl.java:1685)\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:368)\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:834)\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:764)\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:148)\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1242)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2SAXRenderer.doLoad(EMF2SAXRenderer.java:93)\n\tat org.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.basicDoLoad(TranslatorResourceImpl.java:141)\n\tat org.eclipse.wst.common.internal.emf.resource.CompatibilityXMIResourceImpl.doLoad(CompatibilityXMIResourceImpl.java:173)\n\tat org.eclipse.emf.ecore.resource.impl.ResourceImpl.load(ResourceImpl.java:1015)\n\tat org.eclipse.emf.ecore.resource.impl.ResourceImpl.load(ResourceImpl.java:869)\n\tat org.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.load(TranslatorResourceImpl.java:384)\n\tat org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoad(ResourceSetImpl.java:249)\n\tat org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoadHelper(ResourceSetImpl.java:264)\n\tat org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.getResource(ResourceSetImpl.java:349)\n\tat org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.LoadStrategyImpl.getMofResource(LoadStrategyImpl.java:335)\n\tat org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ArchiveImpl.getMofResource(ArchiveImpl.java:869)\n\tat org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleFileImpl.getDeploymentDescriptorResource(ModuleFileImpl.java:255)\n\tat org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.XmlBasedImportStrategyImpl.primLoadDeploymentDescriptor(XmlBasedImportStrategyImpl.java:39)\n\tat org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.EjbJar11ImportStrategyImpl.loadDeploymentDescriptor(EjbJar11ImportStrategyImpl.java:87)\n\tat org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.EjbJar11ImportStrategyImpl.importMetaData(EjbJar11ImportStrategyImpl.java:81)\n\tat org.eclipse.jst.j2ee.commonarchivecore.internal.impl.EJBJarFileImpl.getDeploymentDescriptor(EJBJarFileImpl.java:122)\n\tat org.eclipse.jst.j2ee.application.internal.operations.EARComponentImportDataModelProvider.getModuleModels(EARComponentImportDataModelProvider.java:459)\n\tat org.eclipse.jst.j2ee.application.internal.operations.EARComponentImportDataModelProvider.propertySet(EARComponentImportDataModelProvider.java:149)\n\tat org.eclipse.wst.common.frameworks.internal.datamodel.DataModelImpl.internalSetProperty(DataModelImpl.java:182)\n\tat org.eclipse.wst.common.frameworks.internal.datamodel.DataModelImpl.setProperty(DataModelImpl.java:172)\n\tat org.eclipse.jst.j2ee.internal.wizard.J2EEImportPage.handleFileBrowseButtonPressed(J2EEImportPage.java:201)\n\tat org.eclipse.jst.j2ee.internal.wizard.J2EEImportPage$2.widgetSelected(J2EEImportPage.java:184)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:914)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3285)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2905)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:808)\n\tat org.eclipse.jface.window.Window.open(Window.java:786)\n\tat org.eclipse.ui.actions.ImportResourcesAction.run(ImportResourcesAction.java:159)\n\tat org.eclipse.ui.actions.BaseSelectionListenerAction.runWithEvent(BaseSelectionListenerAction.java:167)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:530)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:480)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:392)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:914)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3285)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2905)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1762)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1726)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:397)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:109)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:379)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:282)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)",
    "Do you still have the EAR that failed?  Could you attach it?",
    "Sorry, I don\u0027t have access to the orginal EAR file now.\n\nThe EAR file vertidate as XML (using ejb1.1 dtd), but it is not vaild EJB. \nFor example, it contain duplicate entity beans in the ejbxml file..",
    "I added some error checking so the ear import wizard will now tolerate ears containing bad nested archives by showing a warning and logging the load errors.",
    "close?"
  ],
  "commentCreationDates": [
    "2006-01-27T17:40:31+01:00",
    "2006-04-05T21:34:45+02:00",
    "2006-04-06T17:48:38+02:00",
    "2006-04-12T00:20:54+02:00",
    "2006-06-26T22:13:23+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.wst.common.internal.emf.utilities.FeatureValueConversionException",
      "message": "IWAE0014E Failed to convert WriteOff to Enumeration.",
      "elements": [
        {
          "method": "org.eclipse.wst.common.internal.emf.utilities.DefaultFeatureValueConverter.failedToConvert",
          "source": "DefaultFeatureValueConverter.java:319"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.utilities.DefaultFeatureValueConverter.convertToEnum",
          "source": "DefaultFeatureValueConverter.java:111"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.utilities.DefaultFeatureValueConverter.convertValue",
          "source": "DefaultFeatureValueConverter.java:227"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.utilities.DefaultFeatureValueConverter.convertValue",
          "source": "DefaultFeatureValueConverter.java:274"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.Translator.convertStringToValue",
          "source": "Translator.java:513"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.Translator.convertStringToValue",
          "source": "Translator.java:487"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.CacheEventNode.commit",
          "source": "CacheEventNode.java:226"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2SAXDocumentHandler.endElement",
          "source": "EMF2SAXDocumentHandler.java:115"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement",
          "source": "AbstractSAXParser.java:633"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.impl.dtd.XMLNSDTDValidator.endNamespaceScope",
          "source": "XMLNSDTDValidator.java:260"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.handleEndElement",
          "source": "XMLDTDValidator.java:2059"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.endElement",
          "source": "XMLDTDValidator.java:932"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanEndElement",
          "source": "XMLNSDocumentScannerImpl.java:719"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch",
          "source": "XMLDocumentFragmentScannerImpl.java:1685"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument",
          "source": "XMLDocumentFragmentScannerImpl.java:368"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse",
          "source": "XML11Configuration.java:834"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse",
          "source": "XML11Configuration.java:764"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.parsers.XMLParser.parse",
          "source": "XMLParser.java:148"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse",
          "source": "AbstractSAXParser.java:1242"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2SAXRenderer.doLoad",
          "source": "EMF2SAXRenderer.java:93"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.basicDoLoad",
          "source": "TranslatorResourceImpl.java:141"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.CompatibilityXMIResourceImpl.doLoad",
          "source": "CompatibilityXMIResourceImpl.java:173"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceImpl.load",
          "source": "ResourceImpl.java:1015"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceImpl.load",
          "source": "ResourceImpl.java:869"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.load",
          "source": "TranslatorResourceImpl.java:384"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoad",
          "source": "ResourceSetImpl.java:249"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoadHelper",
          "source": "ResourceSetImpl.java:264"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.getResource",
          "source": "ResourceSetImpl.java:349"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.LoadStrategyImpl.getMofResource",
          "source": "LoadStrategyImpl.java:335"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ArchiveImpl.getMofResource",
          "source": "ArchiveImpl.java:869"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleFileImpl.getDeploymentDescriptorResource",
          "source": "ModuleFileImpl.java:255"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.XmlBasedImportStrategyImpl.primLoadDeploymentDescriptor",
          "source": "XmlBasedImportStrategyImpl.java:39"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.EjbJar11ImportStrategyImpl.loadDeploymentDescriptor",
          "source": "EjbJar11ImportStrategyImpl.java:87"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.EjbJar11ImportStrategyImpl.importMetaData",
          "source": "EjbJar11ImportStrategyImpl.java:81"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.impl.EJBJarFileImpl.getDeploymentDescriptor",
          "source": "EJBJarFileImpl.java:122"
        },
        {
          "method": "org.eclipse.jst.j2ee.application.internal.operations.EARComponentImportDataModelProvider.getModuleModels",
          "source": "EARComponentImportDataModelProvider.java:459"
        },
        {
          "method": "org.eclipse.jst.j2ee.application.internal.operations.EARComponentImportDataModelProvider.propertySet",
          "source": "EARComponentImportDataModelProvider.java:149"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.DataModelImpl.internalSetProperty",
          "source": "DataModelImpl.java:182"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.DataModelImpl.setProperty",
          "source": "DataModelImpl.java:172"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.wizard.J2EEImportPage.handleFileBrowseButtonPressed",
          "source": "J2EEImportPage.java:201"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.wizard.J2EEImportPage$2.widgetSelected",
          "source": "J2EEImportPage.java:184"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:90"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:914"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3285"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2905"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:808"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:786"
        },
        {
          "method": "org.eclipse.ui.actions.ImportResourcesAction.run",
          "source": "ImportResourcesAction.java:159"
        },
        {
          "method": "org.eclipse.ui.actions.BaseSelectionListenerAction.runWithEvent",
          "source": "BaseSelectionListenerAction.java:167"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:530"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:480"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:392"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:914"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3285"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2905"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1762"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1726"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:397"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:109"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:379"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:338"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:282"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "125513",
      "date": "2006-01-27T17:40:31+01:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "normal"
    }
  ],
  "groupId": "125513",
  "bugId": "125513",
  "date": "2006-01-27T17:40:31+01:00",
  "product": "Web Tools",
  "component": "jst.j2ee",
  "severity": "normal"
}