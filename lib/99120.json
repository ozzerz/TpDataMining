{
  "comments": [
    "N20050609-0010\n\nThe new search API has no hook for clients to contribute their help.",
    "Description :\n\n    The documentation for attribute \"searchViewHelpContextId\" in extension point \"org.eclipse.search.searchPages\" states :\n\n    \"searchViewHelpContextId - an optional help context ID of the Search view displaying results of this page. If this attribute is missing then the default search help context ID (org.eclipse.search.search_view_context) is used.\"\n\n     However, the source code does not implement this feature. \n\n\nCurent (3.1-\u003e 3.2m5) Code shows :\n\nInstead, org.eclipse.search2.internal.ui.SearchView#createPartControl(Composite parent) actually mentions the bug just before hardwiring the contextId to the default.\nPlatformUI.getWorkbench().getHelpSystem().setHelp(parent, ISearchHelpContextIds.New_SEARCH_VIEW);\n\n\nProposed fix :\n\n    One might want to offer the possibility to fetch the context id string from the plugin attribute list and setting it dynamically as part of the #internalShowSearchPage() method.\n\n    updateLabel();\n    updateCancelAction();\n    // My addition\n    updateHelpcontext();\n\n\nAPI change :\n\n    The problem however is that for some reason the \"searchViewHelpContextId\" attribute is part of the org.eclipse.search.searchPages extension point instead of being part of the org.eclipse.search.searchResultViewPages extension point.\n    In practice (AFAIK) there is no 100% sure way to discover what search page generated the current search view page.  If only because nothing prevents to use the same search result page for two different search pages (I assume).\n\n    My understanding is that the attribute should actually be moved to the org.eclipse.search.searchResultViewPages extension point (?), in which case, the standard mechanisms of attribute values and help context id setting can be employed.  That\u0027s probably why the current code does not implement the feature.\n\n\nCaveat :\n\n    I actually didn\u0027t investigate the subject matter thoroughly and could be completely off the mark :-(\nIn which case I\u0027m still interested to understand the terms of the problem and its solution :-)",
    "We should fix this for 3.4 by adding a \u0027helpContextId\u0027 to the \u0027org.eclipse.search.searchResultViewPages\u0027 extension point.",
    "fixed \u003e 20071026\n\nadded new attribute \u0027helpContextId\u0027 to \u0027org.eclipse.search.searchResultViewPages\u0027",
    "Fix causes an NPE in when search result is removed. See also bug 86239.\n\njava.lang.NullPointerException\n\tat org.eclipse.search2.internal.ui.SearchView.internalShowSearchPage(SearchView.java:409)\n\tat org.eclipse.search2.internal.ui.SearchView.showSearchResult(SearchView.java:370)\n\tat org.eclipse.search2.internal.ui.SearchView.queryRemoved(SearchView.java:582)\n\tat org.eclipse.search2.internal.ui.QueryManager.fireRemoved(QueryManager.java:105)\n\tat org.eclipse.search2.internal.ui.QueryManager.removeQuery(QueryManager.java:61)\n\tat org.eclipse.search2.internal.ui.InternalSearchUI.removeQuery(InternalSearchUI.java:303)\n\tat org.eclipse.jdt.ui.tests.search.SearchLeakTest.testRemoveSearchQueries(SearchLeakTest.java:43)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat junit.framework.TestCase.runTest(TestCase.java:164)\n\tat junit.framework.TestCase.runBare(TestCase.java:130)\n\tat junit.framework.TestResult$1.protect(TestResult.java:106)\n\tat junit.framework.TestResult.runProtected(TestResult.java:124)\n\tat junit.framework.TestResult.run(TestResult.java:109)\n\tat junit.framework.TestCase.run(TestCase.java:120)\n\tat junit.framework.TestSuite.runTest(TestSuite.java:230)\n\tat junit.framework.TestSuite.run(TestSuite.java:225)\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:21)\n\tat junit.framework.TestResult.runProtected(TestResult.java:124)\n\tat junit.extensions.TestSetup.run(TestSetup.java:25)\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:24)\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:21)\n\tat junit.framework.TestResult.runProtected(TestResult.java:124)\n\tat junit.extensions.TestSetup.run(TestSetup.java:25)\n\tat org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130)\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386)\n\tat org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(RemotePluginTestRunner.java:58)\n\tat org.eclipse.pde.internal.junit.runtime.UITestApplication$1.run(UITestApplication.java:122)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:124)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3721)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3358)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2395)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2359)\n\tat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2225)\n\tat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:468)\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:288)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:463)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\n\tat org.eclipse.pde.internal.junit.runtime.UITestApplication.start(UITestApplication.java:52)\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:362)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:175)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:515)\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:455)\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1193)\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1169)",
    "fixed \u003e 20071029"
  ],
  "commentCreationDates": [
    "2005-06-09T11:58:30+02:00",
    "2006-03-27T15:49:10+02:00",
    "2007-05-22T12:21:58+02:00",
    "2007-10-26T16:56:42+02:00",
    "2007-10-28T17:24:20+01:00",
    "2007-10-29T10:33:42+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.search2.internal.ui.SearchView.internalShowSearchPage",
          "source": "SearchView.java:409"
        },
        {
          "method": "org.eclipse.search2.internal.ui.SearchView.showSearchResult",
          "source": "SearchView.java:370"
        },
        {
          "method": "org.eclipse.search2.internal.ui.SearchView.queryRemoved",
          "source": "SearchView.java:582"
        },
        {
          "method": "org.eclipse.search2.internal.ui.QueryManager.fireRemoved",
          "source": "QueryManager.java:105"
        },
        {
          "method": "org.eclipse.search2.internal.ui.QueryManager.removeQuery",
          "source": "QueryManager.java:61"
        },
        {
          "method": "org.eclipse.search2.internal.ui.InternalSearchUI.removeQuery",
          "source": "InternalSearchUI.java:303"
        },
        {
          "method": "org.eclipse.jdt.ui.tests.search.SearchLeakTest.testRemoveSearchQueries",
          "source": "SearchLeakTest.java:43"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "junit.framework.TestCase.runTest",
          "source": "TestCase.java:164"
        },
        {
          "method": "junit.framework.TestCase.runBare",
          "source": "TestCase.java:130"
        },
        {
          "method": "junit.framework.TestResult$1.protect",
          "source": "TestResult.java:106"
        },
        {
          "method": "junit.framework.TestResult.runProtected",
          "source": "TestResult.java:124"
        },
        {
          "method": "junit.framework.TestResult.run",
          "source": "TestResult.java:109"
        },
        {
          "method": "junit.framework.TestCase.run",
          "source": "TestCase.java:120"
        },
        {
          "method": "junit.framework.TestSuite.runTest",
          "source": "TestSuite.java:230"
        },
        {
          "method": "junit.framework.TestSuite.run",
          "source": "TestSuite.java:225"
        },
        {
          "method": "junit.extensions.TestDecorator.basicRun",
          "source": "TestDecorator.java:24"
        },
        {
          "method": "junit.extensions.TestSetup$1.protect",
          "source": "TestSetup.java:21"
        },
        {
          "method": "junit.framework.TestResult.runProtected",
          "source": "TestResult.java:124"
        },
        {
          "method": "junit.extensions.TestSetup.run",
          "source": "TestSetup.java:25"
        },
        {
          "method": "junit.extensions.TestDecorator.basicRun",
          "source": "TestDecorator.java:24"
        },
        {
          "method": "junit.extensions.TestSetup$1.protect",
          "source": "TestSetup.java:21"
        },
        {
          "method": "junit.framework.TestResult.runProtected",
          "source": "TestResult.java:124"
        },
        {
          "method": "junit.extensions.TestSetup.run",
          "source": "TestSetup.java:25"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run",
          "source": "JUnit3TestReference.java:130"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.TestExecution.run",
          "source": "TestExecution.java:38"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests",
          "source": "RemoteTestRunner.java:460"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests",
          "source": "RemoteTestRunner.java:673"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run",
          "source": "RemoteTestRunner.java:386"
        },
        {
          "method": "org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main",
          "source": "RemotePluginTestRunner.java:58"
        },
        {
          "method": "org.eclipse.pde.internal.junit.runtime.UITestApplication$1.run",
          "source": "UITestApplication.java:122"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:124"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3721"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3358"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2395"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2359"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2225"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:468"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:288"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:463"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.pde.internal.junit.runtime.UITestApplication.start",
          "source": "UITestApplication.java:52"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:193"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:362"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:175"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:515"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:455"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1193"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1169"
        }
      ],
      "number": 0,
      "commentIndex": 4,
      "bugId": "99120",
      "date": "2007-10-28T17:24:20+01:00",
      "product": "Platform",
      "component": "Search",
      "severity": "normal"
    }
  ],
  "groupId": "99120",
  "bugId": "99120",
  "date": "2005-06-09T11:58:30+02:00",
  "product": "Platform",
  "component": "Search",
  "severity": "normal"
}