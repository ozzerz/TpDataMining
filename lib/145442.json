{
  "comments": [
    "In the java stack trace line number is missing:\n\njavax.resource.ResourceException: java.lang.UnsupportedOperationException: Content is text. Use method getBytes(charset) instead to extract content as bytes\n?at com.ibm.j2ca.flatfile.FlatFileInteraction.execute_aroundBody0(FlatFileInteraction.java:237)\n?at com.ibm.j2ca.flatfile.FlatFileInteraction.execute_aroundBody1$advice(FlatFileInteraction.java:287)\n?at com.ibm.j2ca.flatfile.FlatFileInteraction.execute(FlatFileInteraction.java)\n?at com.ibm.ws.sca.internal.j2c.J2CMethodBindingImpl.invoke(J2CMethodBindingImpl.java:157)\n?at com.ibm.ws.sca.internal.j2c.J2CInterfaceBindingImpl.invoke(J2CInterfaceBindingImpl.java:102)\n?at com.ibm.ws.sca.internal.j2c.handler.J2CImportHandler.invokeDynamicImport(J2CImportHandler.java:616)\n?at com.ibm.ws.sca.internal.j2c.handler.J2CImportHandler.processMessage(J2CImportHandler.java:329)\n?at com.ibm.ws.sca.internal.message.impl.MessageDispatcherImpl.processMessage(MessageDispatcherImpl.java:397)\n?at com.ibm.ws.sca.internal.message.impl.ManagedMessageImpl.process(ManagedMessageImpl.java:476)\n?at com.ibm.wsspi.sca.ejb.module.impl.ModuleSessionBean.processUOWMessage(ModuleSessionBean.java:335)\n?at",
    "As discussed with Matthew - some cases work, some cases do not.  for pure after advice it works, for variants that need to add instructions prior to the advised join point, it fails.  I think we need to just make sure the line number table is correct - possibly by copying line number targeters around.",
    "*** Bug 145489 has been marked as a duplicate of this bug. ***",
    "hmm - my trivial testcases to show this problem work just fine (all line numbers ok - even with separate compilation).  Matthew, I know you had a testcase that showed the failure, can you append it here please?",
    "I have added 3 separate tests: before, after and around. Line numbers are missing for before, OK for after and a little strange for around (even with -XnoInline). Do we need for for get/set, handler ..?",
    "Created an attachment (id\u003d47054)\nPatch to the weaver module\n\nThis is the beginnings of the fix - moving on to another bug at the mo, so wanted to make sure this isnt lost.",
    "ok - reworked that fix.  I think there are going to be multiple scenarios to think about, beyond those already added as tests but fixing these will be a good start.  I\u0027ve fixed before method-execution in the first set of commits.",
    "I have a \u0027hack\u0027 for around advice closure generation but I\u0027m not happy with it.  I dont understand why the extractMethod code doesn\u0027t pull across the line number information when it is extracting the instructions - that would seem to be the right fix.  Making a note here so I dont forget by Monday!",
    "So the println left behind post extraction (whose job is: get the aspect instance, create the closure, call the advice) - has a line number table with crap entry in it (the default table that is inserted if one isn\u0027t put in during weaving, to keep coverage tools happy).  The fix is to copy across the line number from the extracted code.\n\nfixes integrated.  there are probably other cases that will need looking at, but these fixes seem to address the common ones. will close when build is available.",
    "fixed in latest aj dev builds."
  ],
  "commentCreationDates": [
    "2006-06-06T01:24:48+02:00",
    "2006-06-06T09:27:25+02:00",
    "2006-06-07T10:31:31+02:00",
    "2006-07-11T09:22:42+02:00",
    "2006-07-11T14:56:21+02:00",
    "2006-07-31T09:18:19+02:00",
    "2006-09-28T12:46:51+02:00",
    "2006-09-29T18:08:24+02:00",
    "2006-10-03T12:30:43+02:00",
    "2006-10-04T09:06:23+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.UnsupportedOperationException",
      "message": "Content is text. Use method getBytes(charset) instead to extract content as bytes ?",
      "elements": [
        {
          "method": "com.ibm.j2ca.flatfile.FlatFileInteraction.execute_aroundBody0",
          "source": "FlatFileInteraction.java:237"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "145442",
      "date": "2006-06-06T01:24:48+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "145442",
  "bugId": "145442",
  "date": "2006-06-06T01:24:48+02:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}