{
  "comments": [
    "The following stacktrace can occur while resolving a dynamic import:\n\njava.lang.IllegalStateException\n        at org.eclipse.osgi.internal.resolver.StateImpl.addResolverError(StateImpl.java:677)\n        at org.eclipse.osgi.internal.module.PermissionChecker.checkPermission(PermissionChecker.java:64)\n        at org.eclipse.osgi.internal.module.ResolverConstraint.isSatisfiedBy(ResolverConstraint.java:45)\n        at org.eclipse.osgi.internal.module.ResolverImpl.rewireImport(ResolverImpl.java:204)\n        at org.eclipse.osgi.internal.module.ResolverImpl.rewireBundle(ResolverImpl.java:153)\n        at org.eclipse.osgi.internal.module.ResolverImpl.rewireRequire(ResolverImpl.java:190)\n        at org.eclipse.osgi.internal.module.ResolverImpl.rewireBundle(ResolverImpl.java:148)\n        at org.eclipse.osgi.internal.module.ResolverImpl.rewireRequire(ResolverImpl.java:190)\n        at org.eclipse.osgi.internal.module.ResolverImpl.rewireBundle(ResolverImpl.java:148)\n        at org.eclipse.osgi.internal.module.ResolverImpl.rewireRequire(ResolverImpl.java:190)\n        at org.eclipse.osgi.internal.module.ResolverImpl.rewireBundle(ResolverImpl.java:148)\n        at org.eclipse.osgi.internal.module.ResolverImpl.rewireRequire(ResolverImpl.java:190)\n        at org.eclipse.osgi.internal.module.ResolverImpl.rewireBundle(ResolverImpl.java:148)\n        at org.eclipse.osgi.internal.module.ResolverImpl.rewireBundles(ResolverImpl.java:137)\n        at org.eclipse.osgi.internal.module.ResolverImpl.initialize(ResolverImpl.java:101)\n        at org.eclipse.osgi.internal.module.ResolverImpl.resolveDynamicImport(ResolverImpl.java:1083)\n        at org.eclipse.osgi.internal.resolver.StateImpl.linkDynamicImport(StateImpl.java:605)\n\nThere are two issues here.  Once is we are not setting the resolving flag in StateImpl while we are resolving a dynamic import.  The other issue is that when repopulating the resolver we are causing permission checks.",
    "Created an attachment (id\u003d58671)\npatch\n\nThis patch ensures the resolving flag is set while doing a dynamic import resolution.  It also changes the code to repopulate the resolver to do simple id checks to rewire imports to proper ExportPackageDescriptions.",
    "Created an attachment (id\u003d58688)\nPatch for 3.2.2 stream\n\n",
    "Fix has been released for M7."
  ],
  "commentCreationDates": [
    "2007-02-09T16:50:26+01:00",
    "2007-02-09T17:42:46+01:00",
    "2007-02-09T19:41:27+01:00",
    "2007-03-30T22:02:58+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalStateException",
      "elements": [
        {
          "method": "org.eclipse.osgi.internal.resolver.StateImpl.addResolverError",
          "source": "StateImpl.java:677"
        },
        {
          "method": "org.eclipse.osgi.internal.module.PermissionChecker.checkPermission",
          "source": "PermissionChecker.java:64"
        },
        {
          "method": "org.eclipse.osgi.internal.module.ResolverConstraint.isSatisfiedBy",
          "source": "ResolverConstraint.java:45"
        },
        {
          "method": "org.eclipse.osgi.internal.module.ResolverImpl.rewireImport",
          "source": "ResolverImpl.java:204"
        },
        {
          "method": "org.eclipse.osgi.internal.module.ResolverImpl.rewireBundle",
          "source": "ResolverImpl.java:153"
        },
        {
          "method": "org.eclipse.osgi.internal.module.ResolverImpl.rewireRequire",
          "source": "ResolverImpl.java:190"
        },
        {
          "method": "org.eclipse.osgi.internal.module.ResolverImpl.rewireBundle",
          "source": "ResolverImpl.java:148"
        },
        {
          "method": "org.eclipse.osgi.internal.module.ResolverImpl.rewireRequire",
          "source": "ResolverImpl.java:190"
        },
        {
          "method": "org.eclipse.osgi.internal.module.ResolverImpl.rewireBundle",
          "source": "ResolverImpl.java:148"
        },
        {
          "method": "org.eclipse.osgi.internal.module.ResolverImpl.rewireRequire",
          "source": "ResolverImpl.java:190"
        },
        {
          "method": "org.eclipse.osgi.internal.module.ResolverImpl.rewireBundle",
          "source": "ResolverImpl.java:148"
        },
        {
          "method": "org.eclipse.osgi.internal.module.ResolverImpl.rewireRequire",
          "source": "ResolverImpl.java:190"
        },
        {
          "method": "org.eclipse.osgi.internal.module.ResolverImpl.rewireBundle",
          "source": "ResolverImpl.java:148"
        },
        {
          "method": "org.eclipse.osgi.internal.module.ResolverImpl.rewireBundles",
          "source": "ResolverImpl.java:137"
        },
        {
          "method": "org.eclipse.osgi.internal.module.ResolverImpl.initialize",
          "source": "ResolverImpl.java:101"
        },
        {
          "method": "org.eclipse.osgi.internal.module.ResolverImpl.resolveDynamicImport",
          "source": "ResolverImpl.java:1083"
        },
        {
          "method": "org.eclipse.osgi.internal.resolver.StateImpl.linkDynamicImport",
          "source": "StateImpl.java:605"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "173668",
      "date": "2007-02-09T16:50:26+01:00",
      "product": "Equinox",
      "component": "Framework",
      "severity": "normal"
    }
  ],
  "groupId": "173668",
  "bugId": "173668",
  "date": "2007-02-09T16:50:26+01:00",
  "product": "Equinox",
  "component": "Framework",
  "severity": "normal"
}