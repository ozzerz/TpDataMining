{
  "comments": [
    "Hello,\n\nSince yesterday, I have the joy of using two displays on my Win2000 box. This \nis using an NVidia Quadro4 card with the nView multiple display utility.\n\nHowever, since then the JDT content assist acts weird. Whenever the content \nassist popup comes up, after about two seconds the popup is closed and the \nfocus switches from Eclipse to the application I last switched from using Alt-\nTAB. In such a case, the .log file mentions a NullPointerException in \nContentAssistant$Closer.focusLost. The path to this method is not always the \nsame however. The attached text file contains a number of these exceptions, \neach with a different path to the focusLost method.\n\nBTW, Eclipse is the only application that acts differently since attaching the \nsecond screen, therefor I assume this is an Eclipse bug.\n\nI\u0027m more than willing to provide additional info.\n\nRingo",
    "Created an attachment (id\u003d4134)\nPart of the Eclipse .log file containing the NullPointerExceptions.\n",
    "*** Bug 35005 has been marked as a duplicate of this bug. ***",
    "+1 for RC3",
    "+1 ",
    "I am not sure how the NPE can happen. The stack trace indicates the fViewer is \nnull. This is only the case when the content assistant has already been \nuninstalled. Uninstalling is a reaction on the disposal of the associated \neditor. On uninstall, the content assistant closes all its windows which \ncauses the Closer to get uninstalled. As there are no asynchronous messages \nare involved, it actually should happen this way... Anyway, I introduced a \nnull checks and added an additional uninstall of the Closer in the uninstall \nmethod of the content assistant.\n\nBuild 20030318. Reviewed by Martin.",
    "Hi,\n\nI get the same exception (see below) with Eclipse 3.0 M6 and I have only one\nmonitor. I think you should reopen the bug. Here\u0027s the part of the log:\n\n!SESSION Jan 13, 2004 14:26:01.359 ---------------------------------------------\njava.version\u003d1.4.2_03\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003dde_DE\nCommand-line arguments: -os win32 -ws win32 -arch x86\n!ENTRY org.eclipse.core.runtime 4 2 Jan 13, 2004 14:26:01.359\n!MESSAGE Problems occurred when invoking code from plug-in:\n\"org.eclipse.core.runtime\".\n!STACK 0\njava.lang.NullPointerException\n\tat\norg.eclipse.jface.text.contentassist.ContentAssistant$Closer.focusLost(ContentAssistant.java:163)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:108)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:847)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:871)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:852)\n\tat org.eclipse.swt.widgets.Control.sendFocusEvent(Control.java:1738)\n\tat org.eclipse.swt.widgets.Control.WM_KILLFOCUS(Control.java:3566)\n\tat org.eclipse.swt.widgets.Canvas.WM_KILLFOCUS(Canvas.java:234)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:2968)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:2836)\n\tat org.eclipse.swt.internal.win32.OS.SetFocus(Native Method)\n\tat org.eclipse.swt.widgets.Control.forceFocus(Control.java:601)\n\tat org.eclipse.swt.widgets.Control.setFocus(Control.java:2030)\n\tat org.eclipse.swt.widgets.Composite.setFocus(Composite.java:439)\n\tat org.eclipse.ui.part.PageBookView.setFocus(PageBookView.java:658)\n\tat org.eclipse.ui.internal.WorkbenchPage$2.run(WorkbenchPage.java:462)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:813)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:457)\n\tat org.eclipse.ui.internal.WorkbenchPage.activatePart(WorkbenchPage.java:459)\n\tat org.eclipse.ui.internal.WorkbenchPage.setActivePart(WorkbenchPage.java:2497)\n\tat org.eclipse.ui.internal.WorkbenchPage.requestActivation(WorkbenchPage.java:2208)\n\tat org.eclipse.ui.internal.PartPane.requestActivation(PartPane.java:354)\n\tat org.eclipse.ui.internal.PartPane.handleEvent(PartPane.java:334)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:847)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:871)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:852)\n\tat org.eclipse.swt.widgets.Shell.setActiveControl(Shell.java:901)\n\tat org.eclipse.swt.widgets.Shell.WM_MOUSEACTIVATE(Shell.java:1394)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:2978)\n\tat org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1440)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:2836)\n\tat org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1364)\n\tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:77)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:3019)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:2836)\n\tat org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1364)\n\tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:77)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:3019)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:2836)\n\tat org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1364)\n\tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:77)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:3019)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:2836)\n\tat org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1364)\n\tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:77)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:3019)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:2836)\n\tat org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1364)\n\tat org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java:77)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:3019)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:2836)\n\tat org.eclipse.swt.internal.win32.OS.CallWindowProcW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.CallWindowProc(OS.java:1293)\n\tat org.eclipse.swt.widgets.Tree.callWindowProc(Tree.java:156)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:3019)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:2836)\n\tat org.eclipse.swt.internal.win32.OS.PeekMessageW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.PeekMessage(OS.java:1757)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1986)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1506)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1482)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:246)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:47)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:85)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:279)\n\tat org.eclipse.core.launcher.Main.run(Main.java:742)\n\tat org.eclipse.core.launcher.Main.main(Main.java:581)\n",
    "Michael, this has been fixed, see bug 49477."
  ],
  "commentCreationDates": [
    "2003-03-14T15:02:51+01:00",
    "2003-03-14T15:03:51+01:00",
    "2003-03-18T14:46:56+01:00",
    "2003-03-18T14:49:14+01:00",
    "2003-03-18T15:02:04+01:00",
    "2003-03-18T16:48:28+01:00",
    "2004-01-14T07:47:38+01:00",
    "2004-01-14T10:00:27+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jface.text.contentassist.ContentAssistant$Closer.focusLost",
          "source": "ContentAssistant.java:163"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:108"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:847"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:871"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:852"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.sendFocusEvent",
          "source": "Control.java:1738"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.WM_KILLFOCUS",
          "source": "Control.java:3566"
        },
        {
          "method": "org.eclipse.swt.widgets.Canvas.WM_KILLFOCUS",
          "source": "Canvas.java:234"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:2968"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:2836"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.SetFocus",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.forceFocus",
          "source": "Control.java:601"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.setFocus",
          "source": "Control.java:2030"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.setFocus",
          "source": "Composite.java:439"
        },
        {
          "method": "org.eclipse.ui.part.PageBookView.setFocus",
          "source": "PageBookView.java:658"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$2.run",
          "source": "WorkbenchPage.java:462"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:813"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:457"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.activatePart",
          "source": "WorkbenchPage.java:459"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.setActivePart",
          "source": "WorkbenchPage.java:2497"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.requestActivation",
          "source": "WorkbenchPage.java:2208"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.requestActivation",
          "source": "PartPane.java:354"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.handleEvent",
          "source": "PartPane.java:334"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:847"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:871"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:852"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.setActiveControl",
          "source": "Shell.java:901"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.WM_MOUSEACTIVATE",
          "source": "Shell.java:1394"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:2978"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.windowProc",
          "source": "Decorations.java:1440"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:2836"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DefWindowProcW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DefWindowProc",
          "source": "OS.java:1364"
        },
        {
          "method": "org.eclipse.swt.widgets.Scrollable.callWindowProc",
          "source": "Scrollable.java:77"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:3019"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:2836"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DefWindowProcW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DefWindowProc",
          "source": "OS.java:1364"
        },
        {
          "method": "org.eclipse.swt.widgets.Scrollable.callWindowProc",
          "source": "Scrollable.java:77"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:3019"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:2836"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DefWindowProcW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DefWindowProc",
          "source": "OS.java:1364"
        },
        {
          "method": "org.eclipse.swt.widgets.Scrollable.callWindowProc",
          "source": "Scrollable.java:77"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:3019"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:2836"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DefWindowProcW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DefWindowProc",
          "source": "OS.java:1364"
        },
        {
          "method": "org.eclipse.swt.widgets.Scrollable.callWindowProc",
          "source": "Scrollable.java:77"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:3019"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:2836"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DefWindowProcW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DefWindowProc",
          "source": "OS.java:1364"
        },
        {
          "method": "org.eclipse.swt.widgets.Scrollable.callWindowProc",
          "source": "Scrollable.java:77"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:3019"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:2836"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.CallWindowProcW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.CallWindowProc",
          "source": "OS.java:1293"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.callWindowProc",
          "source": "Tree.java:156"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:3019"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:2836"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.PeekMessageW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.PeekMessage",
          "source": "OS.java:1757"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1986"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1506"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1482"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:246"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:139"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:47"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:279"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:742"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:581"
        }
      ],
      "number": 0,
      "commentIndex": 6,
      "bugId": "35013",
      "date": "2004-01-14T07:47:38+01:00",
      "product": "JDT",
      "component": "Text",
      "severity": "normal"
    }
  ],
  "groupId": "35013",
  "bugId": "35013",
  "date": "2003-03-14T15:02:51+01:00",
  "product": "JDT",
  "component": "Text",
  "severity": "normal"
}