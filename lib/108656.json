{
  "comments": [
    "Hi,\norg.eclipse.wst.server.core.util.SocketUtil uses classes which are only present\nin a Sun\u0027s JDK (sun.net.spi.nameservice.dns.DNSNameService). Therefore, it\ndoesn\u0027t run, for exemple, on Fedora Core 4 (it uses libgcj).\n\nStep to reproduce :\n\t- boot on Linux with a non-Sun JDK\n\t- inflate wtp-all-in-one-0.7-linux-gtk.tar.gz\n\t- Try to create a new server (Project/New/Other/Server/Server or during a\nproject definition)\n\t- Failure\n\nSolution :\n\t- Replace calls to Sun\u0027s proprietary classes with call to standard classes\n\nHere is the Stack trace\n\n!SESSION 2005-09-01 21:36:55.14 ------------------------------------------------\neclipse.buildId\u003dI20050627-1435\njava.fullversion\u003dGNU libgcj 4.0.0 20050519 (Red Hat 4.0.0-8)\nBootLoader constants: OS\u003dlinux, ARCH\u003dx86, WS\u003dgtk, NL\u003dfr_FR\nCommand-line arguments:  -os linux -ws gtk -arch x86\n\n!ENTRY org.eclipse.ui 4 4 2005-09-01 21:37:55.484\n!MESSAGE Unhandled event loop exception\n\n!ENTRY org.eclipse.ui 4 0 2005-09-01 21:37:55.486\n!MESSAGE while resolving class: org.eclipse.wst.server.core.util.SocketUtil\n!STACK 0\njava.lang.NoClassDefFoundError: while resolving class:\norg.eclipse.wst.server.core.util.SocketUtil\n   at java.lang.VMClassLoader.transformException(java.lang.Class,\njava.lang.Throwable) (/usr/lib/libgcj.so.6.0.0)\n   at java.lang.VMClassLoader.resolveClass(java.lang.Class)\n(/usr/lib/libgcj.so.6.0.0)\n   at java.lang.Class.initializeClass() (/usr/lib/libgcj.so.6.0.0)\n   at\norg.eclipse.wst.server.ui.internal.wizard.page.NewManualServerComposite.setHost(java.lang.String)\n(Unknown Source)\n   at\norg.eclipse.wst.server.ui.internal.wizard.page.NewServerComposite.createManualComposite(org.eclipse.swt.widgets.Composite)\n(Unknown Source)\n   at\norg.eclipse.wst.server.ui.internal.wizard.page.NewServerComposite.createControl()\n(Unknown Source)\n   at\norg.eclipse.wst.server.ui.internal.wizard.page.NewServerComposite.NewServerComposite(org.eclipse.swt.widgets.Composite,\norg.eclipse.wst.server.ui.wizard.IWizardHandle,\norg.eclipse.wst.server.core.IModule, java.lang.String) (Unknown Source)\n   at\norg.eclipse.wst.server.ui.internal.wizard.fragment.NewServerWizardFragment.createComposite(org.eclipse.swt.widgets.Composite,\norg.eclipse.wst.server.ui.wizard.IWizardHandle) (Unknown Source)\n   at\norg.eclipse.wst.server.ui.internal.wizard.TaskWizardPage.createControl(org.eclipse.swt.widgets.Composite)\n(Unknown Source)\n   at\norg.eclipse.wst.server.ui.internal.wizard.TaskWizard.createPageControls(org.eclipse.swt.widgets.Composite)\n(Unknown Source)\n   at org.eclipse.jface.wizard.WizardDialog.createPageControls() (Unknown Source)\n   at\norg.eclipse.jface.wizard.WizardDialog.setWizard(org.eclipse.jface.wizard.IWizard)\n(Unknown Source)\n   at\norg.eclipse.jface.wizard.WizardDialog.updateForPage(org.eclipse.jface.wizard.IWizardPage)\n(Unknown Source)\n   at\norg.eclipse.jface.wizard.WizardDialog.access$2(org.eclipse.jface.wizard.WizardDialog,\norg.eclipse.jface.wizard.IWizardPage) (Unknown Source)\n   at org.eclipse.jface.wizard.WizardDialog$4.run() (Unknown Source)\n   at\norg.eclipse.swt.custom.BusyIndicator.showWhile(org.eclipse.swt.widgets.Display,\njava.lang.Runnable) (Unknown Source)\n   at\norg.eclipse.jface.wizard.WizardDialog.showPage(org.eclipse.jface.wizard.IWizardPage)\n(Unknown Source)\n   at org.eclipse.jface.wizard.WizardDialog.nextPressed() (Unknown Source)\n   at org.eclipse.jface.wizard.WizardDialog.buttonPressed(int) (Unknown Source)\n   at\norg.eclipse.jface.dialogs.Dialog$2.widgetSelected(org.eclipse.swt.events.SelectionEvent)\n(Unknown Source)\n   at\norg.eclipse.swt.widgets.TypedListener.handleEvent(org.eclipse.swt.widgets.Event)\n(Unknown Source)\n   at\norg.eclipse.swt.widgets.EventTable.sendEvent(org.eclipse.swt.widgets.Event)\n(Unknown Source)\n   at org.eclipse.swt.widgets.Widget.sendEvent(org.eclipse.swt.widgets.Event)\n(Unknown Source)\n   at org.eclipse.swt.widgets.Display.runDeferredEvents() (Unknown Source)\n   at org.eclipse.swt.widgets.Display.readAndDispatch() (Unknown Source)\n   at\norg.eclipse.jface.window.Window.runEventLoop(org.eclipse.swt.widgets.Shell)\n(Unknown Source)\n   at org.eclipse.jface.window.Window.open() (Unknown Source)\n------------------\u003e Caused by: java.lang.ClassNotFoundException:\nsun.net.spi.nameservice.dns.DNSNameService \u003c-------------------------\n   at\norg.eclipse.osgi.framework.internal.core.BundleLoader.findClass(java.lang.String,\nboolean) (Unknown Source)\n   at\norg.eclipse.osgi.framework.internal.core.BundleLoader.findClass(java.lang.String)\n(Unknown Source)\n   at\norg.eclipse.osgi.framework.adaptor.core.AbstractClassLoader.loadClass(java.lang.String,\nboolean) (Unknown Source)\n   at java.lang.ClassLoader.loadClass(java.lang.String) (/usr/lib/libgcj.so.6.0.0)\n   at java.lang.Class.forName(java.lang.String, boolean, java.lang.ClassLoader)\n(/usr/lib/libgcj.so.6.0.0)\n   at java.lang.VMClassLoader.resolveClass(java.lang.Class)\n(/usr/lib/libgcj.so.6.0.0)\n   at java.lang.Class.initializeClass() (/usr/lib/libgcj.so.6.0.0)\n   at\norg.eclipse.wst.server.ui.internal.wizard.page.NewManualServerComposite.setHost(java.lang.String)\n(Unknown Source)\n   at\norg.eclipse.wst.server.ui.internal.wizard.page.NewServerComposite.createManualComposite(org.eclipse.swt.widgets.Composite)\n(Unknown Source)\n   at\norg.eclipse.wst.server.ui.internal.wizard.page.NewServerComposite.createControl()\n(Unknown Source)\n   at\norg.eclipse.wst.server.ui.internal.wizard.page.NewServerComposite.NewServerComposite(org.eclipse.swt.widgets.Composite,\norg.eclipse.wst.server.ui.wizard.IWizardHandle,\norg.eclipse.wst.server.core.IModule, java.lang.String) (Unknown Source)\n   at\norg.eclipse.wst.server.ui.internal.wizard.fragment.NewServerWizardFragment.createComposite(org.eclipse.swt.widgets.Composite,\norg.eclipse.wst.server.ui.wizard.IWizardHandle) (Unknown Source)\n   at\norg.eclipse.wst.server.ui.internal.wizard.TaskWizardPage.createControl(org.eclipse.swt.widgets.Composite)\n(Unknown Source)\n   at\norg.eclipse.wst.server.ui.internal.wizard.TaskWizard.createPageControls(org.eclipse.swt.widgets.Composite)\n(Unknown Source)\n   at org.eclipse.jface.wizard.WizardDialog.createPageControls() (Unknown Source)\n   at\norg.eclipse.jface.wizard.WizardDialog.setWizard(org.eclipse.jface.wizard.IWizard)\n(Unknown Source)\n   at\norg.eclipse.jface.wizard.WizardDialog.updateForPage(org.eclipse.jface.wizard.IWizardPage)\n(Unknown Source)\n   at\norg.eclipse.jface.wizard.WizardDialog.access$2(org.eclipse.jface.wizard.WizardDialog,\norg.eclipse.jface.wizard.IWizardPage) (Unknown Source)\n   at org.eclipse.jface.wizard.WizardDialog$4.run() (Unknown Source)\n   at\norg.eclipse.swt.custom.BusyIndicator.showWhile(org.eclipse.swt.widgets.Display,\njava.lang.Runnable) (Unknown Source)\n   at\norg.eclipse.jface.wizard.WizardDialog.showPage(org.eclipse.jface.wizard.IWizardPage)\n(Unknown Source)\n   at org.eclipse.jface.wizard.WizardDialog.nextPressed() (Unknown Source)\n   at org.eclipse.jface.wizard.WizardDialog.buttonPressed(int) (Unknown Source)\n   at\norg.eclipse.jface.dialogs.Dialog$2.widgetSelected(org.eclipse.swt.events.SelectionEvent)\n(Unknown Source)\n   at\norg.eclipse.swt.widgets.TypedListener.handleEvent(org.eclipse.swt.widgets.Event)\n(Unknown Source)\n   at\norg.eclipse.swt.widgets.EventTable.sendEvent(org.eclipse.swt.widgets.Event)\n(Unknown Source)",
    "Created an attachment (id\u003d26796)\nWorkaround\n\nHere is a workaround patch which use dynamic loading to get free of Sun\u0027s\nclasses",
    "Hi Sebastien,\n\nThanks for the patch. I will check it in shortly.",
    "Fixed and tagged for weekly I-build.",
    "Closing old bugs that haven\u0027t had any activity in a couple months. If this problem has not been verified or you still have problems, please open a new bug."
  ],
  "commentCreationDates": [
    "2005-09-02T09:17:20+02:00",
    "2005-09-02T11:59:14+02:00",
    "2005-09-06T17:42:51+02:00",
    "2005-09-07T20:16:19+02:00",
    "2005-12-13T15:31:55+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoClassDefFoundError",
      "message": "while resolving class: org.eclipse.wst.server.core.util.SocketUtil",
      "elements": [
        {
          "method": "java.lang.VMClassLoader.transformException",
          "source": "java.lang.Class, java.lang.Throwable"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "108656",
      "date": "2005-09-02T09:17:20+02:00",
      "product": "Web Tools",
      "component": "wst.server",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.ClassNotFoundException",
      "message": "sun.net.spi.nameservice.dns.DNSNameService \u003c-------------------------",
      "elements": [
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClass",
          "source": "java.lang.String, boolean"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "108656",
      "date": "2005-09-02T09:17:20+02:00",
      "product": "Web Tools",
      "component": "wst.server",
      "severity": "major"
    }
  ],
  "groupId": "108656",
  "bugId": "108656",
  "date": "2005-09-02T09:17:20+02:00",
  "product": "Web Tools",
  "component": "wst.server",
  "severity": "major"
}