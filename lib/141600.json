{
  "comments": [
    "1. Create a report\n2. Add XML Data source \n3. Add XML Data set\n4. Drop \"Text\" type element from Palette onto report editor\n5. Now, in the \"Properties\" view, select \"Visibility\" category\n6. Check \"Hide Element\" checkbox\n7. Select \"For all outputs\"\n8. Click \"...\" in the \"Expression\" control\n9. Enter some non-trivial expression: e.g. \n         Total.count(dataSetRow[\"all\"]) \u003d\u003d 0\n10. Render the report. \n\nPROBLEM \u003d\u003e non-trivial expressions are not evaluated and \"Visibility\" setting is ignored. \n\nNOTE. I did try simple things like \"true\", \"false\" and that part works fine. However -- there is very little value in having simple conditions like this. In real world report designs it is a very popular situations when Label preceeds Table. Table for some reason doesn\u0027t have any data and isn\u0027t shown but Label remains in the output report. The desire here is to hide label for empty tables. For this use case, non-trivial visibility condition must be used for Label.",
    "Here is stack trace that I found on the generated report:\n\nError0 : Error.ScriptEvaluationError ( 1 time(s) )\ndetail : org.eclipse.birt.report.engine.api.EngineException: There are errors evaluating script \"Total.count(row[\"all\"]) \u003d\u003d 0\". at org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate(ExecutionContext.java:542) at org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate(ExecutionContext.java:504) at org.eclipse.birt.report.engine.executor.ReportItemExecutor.processVisibility(ReportItemExecutor.java:297) at org.eclipse.birt.report.engine.executor.TextItemExecutor.executeHtmlText(TextItemExecutor.java:105) at org.eclipse.birt.report.engine.executor.TextItemExecutor.execute(TextItemExecutor.java:75) at org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitTextItem(ReportExecutorVisitor.java:113) at org.eclipse.birt.report.engine.ir.TextItemDesign.accept(TextItemDesign.java:129) at org.eclipse.birt.report.engine.executor.ReportExecutor.execute(ReportExecutor.java:129) at org.eclipse.birt.report.engine.executor.ReportExecutor.execute(ReportExecutor.java:89) at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run(RunAndRenderTask.java:171) at com.ibm.ccl.erf.birt.generate.BIRTReportGenerator.runReport(BIRTReportGenerator.java:225) at com.ibm.ccl.erf.ui.dialogs.AbstractRunReportDialog.runReport(AbstractRunReportDialog.java:678) at com.ibm.ccl.erf.ui.dialogs.AbstractRunReportDialog$3.run(AbstractRunReportDialog.java:485) at org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:369) at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:313) at org.eclipse.jface.dialogs.ProgressMonitorDialog.run(ProgressMonitorDialog.java:479) at com.ibm.ccl.erf.ui.dialogs.AbstractRunReportDialog.runInProgressMonitorDialog(AbstractRunReportDialog.java:571) at com.ibm.ccl.erf.ui.dialogs.AbstractRunReportDialog.okPressed(AbstractRunReportDialog.java:488) at org.eclipse.jface.dialogs.Dialog.buttonPressed(Dialog.java:508) at org.eclipse.jface.dialogs.Dialog$3.widgetSelected(Dialog.java:660) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968) at org.eclipse.jface.window.Window.runEventLoop(Window.java:820)",
    "should the syntax be Total.count(Row[\"all\"]) \u003d\u003d 0?  Issue with the expression builder for the incorrect syntax? \n",
    "\"should the syntax be Total.count(Row[\"all\"]) \u003d\u003d 0?  Issue with the expression\nbuilder for the incorrect syntax? \n\"\n:\n I have tried all possible combinations:\n\n1) Total.count(Row[\"all\"]) \u003d\u003d 0\n2) Total.count(dataSetRow[\"all\"]) \u003d\u003d 0\n3) To make sure the syntax is correct I\u0027ve created a separate cell entry in another table that would evaluate the expression (I used in Visibility field) and that cell worked just fine.\n\nAll problems start when I use the same expression in the \"Visibility\" field.",
    "Barys, which build were you testing with? This could be a duplicate of Bug 136506, which was not completely resolved until the 2006-05-11 nightly build.",
    "The bug is eliminated after engine\u0027s checkin today.\n",
    "We are using BIRT Milestone Build: 2.1RC2 (from 04/30/06).",
    "Verified in daily build 20060517. Fixed."
  ],
  "commentCreationDates": [
    "2006-05-12T20:35:43+02:00",
    "2006-05-12T20:59:08+02:00",
    "2006-05-13T00:37:45+02:00",
    "2006-05-13T00:41:32+02:00",
    "2006-05-16T01:40:43+02:00",
    "2006-05-16T07:29:47+02:00",
    "2006-05-16T19:10:41+02:00",
    "2006-05-18T11:33:58+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.birt.report.engine.api.EngineException",
      "message": "There are errors evaluating script \"Total.count(row[\"all\"]) \u003d\u003d 0\".",
      "elements": [
        {
          "method": "org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate",
          "source": "ExecutionContext.java:542"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate",
          "source": "ExecutionContext.java:504"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportItemExecutor.processVisibility",
          "source": "ReportItemExecutor.java:297"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.TextItemExecutor.executeHtmlText",
          "source": "TextItemExecutor.java:105"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.TextItemExecutor.execute",
          "source": "TextItemExecutor.java:75"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitTextItem",
          "source": "ReportExecutorVisitor.java:113"
        },
        {
          "method": "org.eclipse.birt.report.engine.ir.TextItemDesign.accept",
          "source": "TextItemDesign.java:129"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutor.execute",
          "source": "ReportExecutor.java:129"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutor.execute",
          "source": "ReportExecutor.java:89"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run",
          "source": "RunAndRenderTask.java:171"
        },
        {
          "method": "com.ibm.ccl.erf.birt.generate.BIRTReportGenerator.runReport",
          "source": "BIRTReportGenerator.java:225"
        },
        {
          "method": "com.ibm.ccl.erf.ui.dialogs.AbstractRunReportDialog.runReport",
          "source": "AbstractRunReportDialog.java:678"
        },
        {
          "method": "com.ibm.ccl.erf.ui.dialogs.AbstractRunReportDialog$3.run",
          "source": "AbstractRunReportDialog.java:485"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:369"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:313"
        },
        {
          "method": "org.eclipse.jface.dialogs.ProgressMonitorDialog.run",
          "source": "ProgressMonitorDialog.java:479"
        },
        {
          "method": "com.ibm.ccl.erf.ui.dialogs.AbstractRunReportDialog.runInProgressMonitorDialog",
          "source": "AbstractRunReportDialog.java:571"
        },
        {
          "method": "com.ibm.ccl.erf.ui.dialogs.AbstractRunReportDialog.okPressed",
          "source": "AbstractRunReportDialog.java:488"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog.buttonPressed",
          "source": "Dialog.java:508"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$3.widgetSelected",
          "source": "Dialog.java:660"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:90"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:925"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3348"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2968"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:820"
        }
      ],
      "number": 0,
      "commentIndex": 1,
      "bugId": "141600",
      "date": "2006-05-12T20:59:08+02:00",
      "product": "BIRT",
      "component": "Data",
      "severity": "major"
    }
  ],
  "groupId": "141600",
  "bugId": "141600",
  "date": "2006-05-12T20:35:43+02:00",
  "product": "BIRT",
  "component": "Data",
  "severity": "major"
}