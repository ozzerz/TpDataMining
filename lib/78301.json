{
  "comments": [
    "I200411050841, Motif, KDE 3.3.0, Linux 2.6.9, Platform UI from HEAD \n \nFrom the colours and fonts preference page, it is no longer possible to open \nthe font chooser dialog.  I get the following exception (silently to the log, \nno dialog), and the font chooser dialog does not open. \n \n \nUnhandled event loop exception \nReason: \nFor input string: \"r60\" \n!ENTRY org.eclipse.ui 4 4 2004-11-10 09:58:30.757 \n!MESSAGE Unhandled event loop exception \n \n!ENTRY org.eclipse.ui 4 0 2004-11-10 09:58:30.758 \n!MESSAGE For input string: \"r60\" \n!STACK 0 \njava.lang.NumberFormatException: For input string: \"r60\" \n\tat \njava.lang.NumberFormatException.forInputString(NumberFormatException.java:48) \n\tat java.lang.Integer.parseInt(Integer.java:447) \n\tat java.lang.Integer.parseInt(Integer.java:497) \n\tat org.eclipse.swt.graphics.FontData.setXlfd(FontData.java:536) \n\tat org.eclipse.swt.graphics.FontData.motif_new(FontData.java:378) \n\tat org.eclipse.swt.graphics.Device.getFontList(Device.java:419) \n\tat org.eclipse.swt.widgets.FontDialog.initFonts(FontDialog.java:746) \n\tat org.eclipse.swt.widgets.FontDialog.open(FontDialog.java:867) \n\tat \norg.eclipse.ui.internal.themes.ColorsAndFontsPreferencePage$11.run(ColorsAndFontsPreferencePage.java:1224) \n\tat \norg.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69) \n\tat \norg.eclipse.ui.internal.themes.ColorsAndFontsPreferencePage$10.widgetSelected(ColorsAndFontsPreferencePage.java:1222) \n\tat \norg.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89) \n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82) \n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:736) \n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2948) \n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2648) \n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:718) \n\tat org.eclipse.jface.window.Window.open(Window.java:696) \n\tat \norg.eclipse.ui.internal.OpenPreferencesAction.run(OpenPreferencesAction.java:64) \n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:988) \n\tat \norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:555) \n\tat org.eclipse.jface.action.ActionContributionItem.access$2\n(ActionContributionItem.java:505) \n\tat \norg.eclipse.jface.action.ActionContributionItem$6.handleEvent(ActionContributionItem.java:419) \n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82) \n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:736) \n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2948) \n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2648) \n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1537) \n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1508) \n\tat \norg.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:277) \n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144) \n\tat \norg.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102) \n\tat \norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:335) \n\tat \norg.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273) \n at \norg.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129) \n at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \n at \nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) \n at \nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) \n at java.lang.reflect.Method.invoke(Method.java:582) \n at org.eclipse.core.launcher.Main.basicRun(Main.java:185) \n at org.eclipse.core.launcher.Main.run(Main.java:684) \n at org.eclipse.core.launcher.Main.main(Main.java:668)",
    "Could you put a breakpoint in the font dialog constructor and capture the\ntoStrings of the font array that\u0027s being passed in please?",
    "Looking at the line in FontDialog I dont see how this could be related to the\nchanges I made to the FontRegistry.  Punting to SWT.",
    "The rogue XLFD is \"-mplus-goth_p-bold-r-normal--10-90-75-75-p-r60-iso8859-1\". \n \nI have no idea why the average width is r60, and I\u0027m trying to figure that out \na bit.  In general though, it\u0027s rather catastrophic for the whole font dialog \nto fail to open because of one poorly defined font. \n ",
    "\"-mplus-goth_p-bold-r-normal--10-90-75-75-p-r60-iso8859-1 mplus_h10b-iso\" is in \none of my \"fonts.alias\" files.  I can\u0027t find any mention of why the average \nwidth would contain a non-numeric average width. ",
    "If you look around for the XLFD spec, you will notice that you can specify\nnegative numbers for the average width by using a ~ as the first character, and\nnegative values indicate fonts which are predominantly right-to-left.  I am not\nsure what r is supposed to mean though, but maybe it is a mistake and was\nsupposed to be a ~?",
    "GG to fix ASAP.",
    "I see the spec about ~ being valid within average width values, and will make \nthis change.  However r60 still seems invalid unless there\u0027s a more updated \nspec I\u0027m not seeing.  SSQ do you think that the average width, and for that \nmatter other xlfd assumed-to-be-integer values, should just default to 0 in \ninvalid cases like this?\n",
    "fixed \u003e 1111\n"
  ],
  "commentCreationDates": [
    "2004-11-10T15:54:16+01:00",
    "2004-11-10T19:30:23+01:00",
    "2004-11-10T19:42:12+01:00",
    "2004-11-10T19:51:49+01:00",
    "2004-11-10T19:56:02+01:00",
    "2004-11-10T20:05:29+01:00",
    "2004-11-10T22:11:18+01:00",
    "2004-11-11T15:08:39+01:00",
    "2004-11-11T23:33:43+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NumberFormatException",
      "message": "For input string: \"r60\"",
      "elements": [
        {
          "method": "java.lang.NumberFormatException.forInputString",
          "source": "NumberFormatException.java:48"
        },
        {
          "method": "java.lang.Integer.parseInt",
          "source": "Integer.java:447"
        },
        {
          "method": "java.lang.Integer.parseInt",
          "source": "Integer.java:497"
        },
        {
          "method": "org.eclipse.swt.graphics.FontData.setXlfd",
          "source": "FontData.java:536"
        },
        {
          "method": "org.eclipse.swt.graphics.FontData.motif_new",
          "source": "FontData.java:378"
        },
        {
          "method": "org.eclipse.swt.graphics.Device.getFontList",
          "source": "Device.java:419"
        },
        {
          "method": "org.eclipse.swt.widgets.FontDialog.initFonts",
          "source": "FontDialog.java:746"
        },
        {
          "method": "org.eclipse.swt.widgets.FontDialog.open",
          "source": "FontDialog.java:867"
        },
        {
          "method": "org.eclipse.ui.internal.themes.ColorsAndFontsPreferencePage$11.run",
          "source": "ColorsAndFontsPreferencePage.java:1224"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.ui.internal.themes.ColorsAndFontsPreferencePage$10.widgetSelected",
          "source": "ColorsAndFontsPreferencePage.java:1222"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:89"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:736"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2948"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2648"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:718"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:696"
        },
        {
          "method": "org.eclipse.ui.internal.OpenPreferencesAction.run",
          "source": "OpenPreferencesAction.java:64"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:988"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:555"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:505"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$6.handleEvent",
          "source": "ActionContributionItem.java:419"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:736"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2948"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2648"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1537"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1508"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:277"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:144"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:102"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:335"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:273"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:582"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:684"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:668"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "78301",
      "date": "2004-11-10T15:54:16+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "major"
    }
  ],
  "groupId": "78301",
  "bugId": "78301",
  "date": "2004-11-10T15:54:16+01:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "major"
}