{
  "comments": [
    "Build ID: 3.3.1\n\nSteps To Reproduce:\n1. Include a line like the following in a help topic:\n\u003cscript language\u003d\"javascript\" src\u003d\"scroller.js\"\u003e\u003c/script\u003e\n\n2. Load the help topic in help system.\n\n3. View the source of the rendered page and see that the line has been changed to use an XHTML style close tag:\n\n\u003cscript \nlanguage\u003d\"javascript\" src\u003d\"scroller.js\" /\u003e\n\n4. Browsers (especially IE) don\u0027t like this, and no page content is displayed after the \u003cscript /\u003e tag.\n\nI\u0027m forced to do a workaround like this:\n\n\u003cscript \nlanguage\u003d\"javascript\" src\u003d\"scroller.js\"\u003e\u003c!-- // leav this here --\u003e\u003c/script\u003e\n\nIs our XHTML parser being too strict?\n\nMore information:",
    "Is this happening in an xhtml file?",
    "Hi Chris,\n\nYes, I\u0027m talking about our XHTML help content pages. The Eclipse help system makes the changes to them as I described at runtime.\n\nseth.",
    "I\u0027m having other parser problems. I get the following error when trying to display one of our xhtml pages.\n\norg.xml.sax.SAXParseException: Reference to undefined entity \"\u0026nbsp;\".\n\tat org.apache.crimson.parser.Parser2.fatal(Unknown Source)\n\tat org.apache.crimson.parser.Parser2.fatal(Unknown Source)\n\tat org.apache.crimson.parser.Parser2.expandEntityInContent(Unknown Source)\n\tat org.apache.crimson.parser.Parser2.maybeReferenceInContent(Unknown Source)\n\tat org.apache.crimson.parser.Parser2.content(Unknown Source)\n\tat org.apache.crimson.parser.Parser2.maybeElement(Unknown Source)\n\tat org.apache.crimson.parser.Parser2.content(Unknown Source)\n\tat org.apache.crimson.parser.Parser2.maybeElement(Unknown Source)\n\tat org.apache.crimson.parser.Parser2.content(Unknown Source)\n\tat org.apache.crimson.parser.Parser2.maybeElement(Unknown Source)\n\tat org.apache.crimson.parser.Parser2.content(Unknown Source)\n\tat org.apache.crimson.parser.Parser2.maybeElement(Unknown Source)\n\tat org.apache.crimson.parser.Parser2.content(Unknown Source)\n\tat org.apache.crimson.parser.Parser2.maybeElement(Unknown Source)\n\tat org.apache.crimson.parser.Parser2.parseInternal(Unknown Source)\n\tat org.apache.crimson.parser.Parser2.parse(Unknown Source)\n\tat org.apache.crimson.parser.XMLReaderImpl.parse(Unknown Source)\n\tat org.apache.crimson.jaxp.DocumentBuilderImpl.parse(Unknown Source)\n\tat org.eclipse.help.internal.dynamic.DocumentReader.read(DocumentReader.java:56)\n\tat org.eclipse.help.internal.dynamic.XMLProcessor.process(XMLProcessor.java:49)\n\tat org.eclipse.help.internal.xhtml.DynamicXHTMLProcessor.process(DynamicXHTMLProcessor.java:66)\n\tat org.eclipse.help.internal.webapp.servlet.DynamicXHTMLFilter$1.close(DynamicXHTMLFilter.java:79)\n\tat org.eclipse.help.internal.webapp.servlet.EclipseConnector.transfer(EclipseConnector.java:150)\n\tat org.eclipse.help.internal.webapp.servlet.ContentServlet.doGet(ContentServlet.java:42)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:596)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:689)\n\tat org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service(ServletManager.java:180)\n\tat org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest(ServletRegistration.java:90)\n\tat org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:109)\n\tat org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:67)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:689)\n\tat org.eclipse.equinox.http.jetty.internal.HttpServerManager$InternalHttpServiceServlet.service(HttpServerManager.java:280)\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:428)\n\tat org.mortbay.jetty.servlet.ServletHandler.dispatch(ServletHandler.java:677)\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:568)\n\tat org.mortbay.http.HttpContext.handle(HttpContext.java:1530)\n\tat org.mortbay.http.HttpContext.handle(HttpContext.java:1482)\n\tat org.mortbay.http.HttpServer.service(HttpServer.java:909)\n\tat org.mortbay.http.HttpConnection.service(HttpConnection.java:820)\n\tat org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:986)\n\tat org.mortbay.http.HttpConnection.handle(HttpConnection.java:837)\n\tat org.mortbay.http.SocketListener.handleConnection(SocketListener.java:245)\n\tat org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:357)\n\tat org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:534)\n\n",
    "Hi Jozef, can you open a new bug report, I don\u0027t think that this is the exact  same issue.",
    "The content gets processed via XSL before it\u0027s displayed.  If the XSLT stylesheet or the underlying XSL processor is not keeping the endtag...then this is a bug.  The \u003c/script\u003e endtag is required.  We were having the same issue with our footers disappearing when we moved to 3.3.  We employed the same workaround as you did.  Also, you need to have a type attribute on the \u003cscript\u003e element.  It is required as well.\n\nHere is a webpage that helps to answer questions regarding\nnbsp;  \u0026nbsp; is a user defined entity.  It should be replaced with \u0026#160; or \u0026xA0;\n\nhttp://www.stylusstudio.com/xsllist/200112/post20640.html\n\nThe HTML 4 spec (not XHTML) defines the entity nbsp as #160; (#160 and #xA0 are\nequivalent)\n\nhttp://www.w3.org/TR/html401/sgml/entities.html\n\n\n\nEric\n\n",
    "After committing my comment about the user defined entities, i came across info about using unicode hex values as suggested below so my problem is taken care of. Thanks,\nJozef",
    "The original bug still stands, as I see it:\n\nAt runtime, the parser must not change this:\n\n\u003cscript type\u003d\"text/javascript\" src\u003d\"scroller.js\"\u003e\u003c/script\u003e \n\nto this:\n\n\u003cscript type\u003d\"text/javascript\" src\u003d\"scroller.js\" /\u003e \n\nBug 189192 seems to be related."
  ],
  "commentCreationDates": [
    "2007-10-04T18:55:44+02:00",
    "2007-10-17T22:36:20+02:00",
    "2007-10-17T22:51:00+02:00",
    "2007-10-31T20:29:02+01:00",
    "2007-10-31T21:25:23+01:00",
    "2007-11-01T02:36:06+01:00",
    "2007-11-01T13:17:21+01:00",
    "2007-11-01T14:21:13+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.xml.sax.SAXParseException",
      "message": "Reference to undefined entity \"\u0026nbsp;\".",
      "elements": [
        {
          "method": "org.apache.crimson.parser.Parser2.fatal",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.fatal",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.expandEntityInContent",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.maybeReferenceInContent",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.content",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.maybeElement",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.content",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.maybeElement",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.content",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.maybeElement",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.content",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.maybeElement",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.content",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.maybeElement",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.parseInternal",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.crimson.parser.XMLReaderImpl.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.crimson.jaxp.DocumentBuilderImpl.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.help.internal.dynamic.DocumentReader.read",
          "source": "DocumentReader.java:56"
        },
        {
          "method": "org.eclipse.help.internal.dynamic.XMLProcessor.process",
          "source": "XMLProcessor.java:49"
        },
        {
          "method": "org.eclipse.help.internal.xhtml.DynamicXHTMLProcessor.process",
          "source": "DynamicXHTMLProcessor.java:66"
        },
        {
          "method": "org.eclipse.help.internal.webapp.servlet.DynamicXHTMLFilter$1.close",
          "source": "DynamicXHTMLFilter.java:79"
        },
        {
          "method": "org.eclipse.help.internal.webapp.servlet.EclipseConnector.transfer",
          "source": "EclipseConnector.java:150"
        },
        {
          "method": "org.eclipse.help.internal.webapp.servlet.ContentServlet.doGet",
          "source": "ContentServlet.java:42"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:596"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:689"
        },
        {
          "method": "org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service",
          "source": "ServletManager.java:180"
        },
        {
          "method": "org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest",
          "source": "ServletRegistration.java:90"
        },
        {
          "method": "org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias",
          "source": "ProxyServlet.java:109"
        },
        {
          "method": "org.eclipse.equinox.http.servlet.internal.ProxyServlet.service",
          "source": "ProxyServlet.java:67"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:689"
        },
        {
          "method": "org.eclipse.equinox.http.jetty.internal.HttpServerManager$InternalHttpServiceServlet.service",
          "source": "HttpServerManager.java:280"
        },
        {
          "method": "org.mortbay.jetty.servlet.ServletHolder.handle",
          "source": "ServletHolder.java:428"
        },
        {
          "method": "org.mortbay.jetty.servlet.ServletHandler.dispatch",
          "source": "ServletHandler.java:677"
        },
        {
          "method": "org.mortbay.jetty.servlet.ServletHandler.handle",
          "source": "ServletHandler.java:568"
        },
        {
          "method": "org.mortbay.http.HttpContext.handle",
          "source": "HttpContext.java:1530"
        },
        {
          "method": "org.mortbay.http.HttpContext.handle",
          "source": "HttpContext.java:1482"
        },
        {
          "method": "org.mortbay.http.HttpServer.service",
          "source": "HttpServer.java:909"
        },
        {
          "method": "org.mortbay.http.HttpConnection.service",
          "source": "HttpConnection.java:820"
        },
        {
          "method": "org.mortbay.http.HttpConnection.handleNext",
          "source": "HttpConnection.java:986"
        },
        {
          "method": "org.mortbay.http.HttpConnection.handle",
          "source": "HttpConnection.java:837"
        },
        {
          "method": "org.mortbay.http.SocketListener.handleConnection",
          "source": "SocketListener.java:245"
        },
        {
          "method": "org.mortbay.util.ThreadedServer.handle",
          "source": "ThreadedServer.java:357"
        },
        {
          "method": "org.mortbay.util.ThreadPool$PoolThread.run",
          "source": "ThreadPool.java:534"
        }
      ],
      "number": 0,
      "commentIndex": 3,
      "bugId": "205473",
      "date": "2007-10-31T20:29:02+01:00",
      "product": "Platform",
      "component": "User Assistance",
      "severity": "normal"
    }
  ],
  "groupId": "205473",
  "bugId": "205473",
  "date": "2007-10-04T18:55:44+02:00",
  "product": "Platform",
  "component": "User Assistance",
  "severity": "normal"
}