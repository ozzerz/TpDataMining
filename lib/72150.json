{
  "comments": [
    "AJC fails to find nested static classes during binary-weaving analysis if the \nclasses have been previously compiled with J2SE5.0 javac compiler with \noptions: -source 1.5/ - target 1.5\nNote, that the nested static classes are not necessarily subject to bytecode \nweaving - AJC merely fails to detect them in the JARS for its analysis.\n\nThis issue disappears when the .java sources are pre-compiled with -\nsource/target 1.4, regardless if the javac compiler comes from the J2SE1.4 or \nJ2SE5.0 distribution.\n\nThis issue is distinct form Bug #71548, since no 5.0 source code processing is \nrequired from AJC ever.\n\nThanks,\nHristo",
    "Hristo, can you send me a built jar that fails binary weaving?  I will try and\nrecreate it here too.\n\nAndy.",
    "Hi,\n\nWe have just built a version of AspectJ that includes some rudimentary dump\nsupport - this allows us to collect diagnostic information when things go wrong.\n I\u0027d like to try it out for the first time on this bug.  The version of AspectJ\nrequired is available here (the usual place):\n\nBUILD COMPLETE -  build.356\nDate of build: 08/23/2004 16:06:44\nTime to build: 125 minutes 0 seconds\nLast changed: 08/23/2004 14:40:33\nLatest good AspectJ jar available at:\ndownload.eclipse.org/technology/ajdt/dev/aspectj-DEVELOPMENT.jar\n\nPlease can you retry your failing Java 1.5 scenario with this version.  AND in\norder to cause it to dump on error (it normally just dumps on abort), you will\nneed to set this property:\n\norg.aspectj.weaver.Dump.condition\u003derror\n\nIf that works then when the compiler finishes after reporting your \u0027Cant find\ntype\u0027 message it will produce an ajcore.XXX file on the disk (XXX is a date/time\nstamp).  Can you send me the ajcore file?  That will enable me to tell which\nroute to can\u0027t find type is having problems with the 1.5 generated code.\n\nmany thanks.",
    "Thanks to Hristo for trying out the brand new dump support in AspectJ.  We got\nthe following ajcore which tells me the route we took to the \u0027cant find type\u0027\nproblem :)\n\nAspectJ Compiler DEVELOPMENT built on Wednesday Aug 25, 2004 at 17:18:41 GMT\n---- Dump Properties ---\nDump file: ajcore.20040825.134402.453.txt\nDump reason: error\nDump on exception: true\nDump at exit condition: error\n---- System Properties ---\njava.runtime.name\u003dJava(TM) 2 Runtime Environment, Standard Edition\nsun.boot.library.path\u003dc:\\java\\j2sdk5\\jre\\bin\njava.vm.version\u003d1.5.0-beta3-b59\nant.library.dir\u003dC:\\java\\apache-ant\\lib\njava.vm.vendor\u003dSun Microsystems Inc.\njava.vendor.url\u003dhttp://java.sun.com/\npath.separator\u003d;\njava.vm.name\u003dJava HotSpot(TM) Client VM\nfile.encoding.pkg\u003dsun.io\nuser.country\u003dUS\nsun.os.patch.level\u003dService Pack 2\njava.vm.specification.name\u003dJava Virtual Machine Specification\nuser.dir\u003dC:\\projects\\marketedge\njava.runtime.version\u003d1.5.0-beta3-b59\njava.awt.graphicsenv\u003dsun.awt.Win32GraphicsEnvironment\njava.endorsed.dirs\u003dc:\\java\\j2sdk5\\jre\\lib\\endorsed\nos.arch\u003dx86\njava.io.tmpdir\u003dC:\\DOCUME~1\\hristo\\LOCALS~1\\Temp\\\nline.separator\u003d\n\njava.vm.specification.vendor\u003dSun Microsystems Inc.\nuser.variant\u003d\nos.name\u003dWindows XP\nant.home\u003dc:\\java\\apache-ant\nsun.jnu.encoding\u003dCp1252\njava.library.path\u003dc:\\java\\j2sdk5\\bin;.;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\Program\nFiles\\ATI Technologies\\ATI Control\nPanel;C:\\util\\cvsnt;C:\\util\\xp-tools\\;C:\\Program\nFiles\\Rational\\common;C:\\Program Files\\Common Files\\Roxio Shared\\DLLShared\njava.specification.name\u003dJava Platform API Specification\njava.class.version\u003d49.0\nsun.management.compiler\u003dHotSpot Client Compiler\nos.version\u003d5.1\norg.aspectj.weaver.Dump.condition\u003derror\nuser.home\u003dC:\\Documents and Settings\\hristo\nuser.timezone\u003dAmerica/Los_Angeles\njava.awt.printerjob\u003dsun.awt.windows.WPrinterJob\nfile.encoding\u003dCp1252\njava.specification.version\u003d1.5\njava.class.path\u003dc:\\java\\apache-ant\\lib\\ant-launcher.jar;C:\\java\\apache-ant\\lib\\ant-antlr.jar;C:\\java\\apache-ant\\lib\\ant-apache-bcel.jar;C:\\java\\apache-ant\\lib\\ant-apache-bsf.jar;C:\\java\\apache-ant\\lib\\ant-apache-log4j.jar;C:\\java\\apache-ant\\lib\\ant-apache-oro.jar;C:\\java\\apache-ant\\lib\\ant-apache-regexp.jar;C:\\java\\apache-ant\\lib\\ant-apache-resolver.jar;C:\\java\\apache-ant\\lib\\ant-commons-logging.jar;C:\\java\\apache-ant\\lib\\ant-commons-net.jar;C:\\java\\apache-ant\\lib\\ant-icontract.jar;C:\\java\\apache-ant\\lib\\ant-jai.jar;C:\\java\\apache-ant\\lib\\ant-javamail.jar;C:\\java\\apache-ant\\lib\\ant-jdepend.jar;C:\\java\\apache-ant\\lib\\ant-jmf.jar;C:\\java\\apache-ant\\lib\\ant-jsch.jar;C:\\java\\apache-ant\\lib\\ant-junit.jar;C:\\java\\apache-ant\\lib\\ant-launcher.jar;C:\\java\\apache-ant\\lib\\ant-netrexx.jar;C:\\java\\apache-ant\\lib\\ant-nodeps.jar;C:\\java\\apache-ant\\lib\\ant-starteam.jar;C:\\java\\apache-ant\\lib\\ant-stylebook.jar;C:\\java\\apache-ant\\lib\\ant-swing.jar;C:\\java\\apache-ant\\lib\\ant-trax.jar;C:\\java\\a!\n pache-ant\\lib\\ant-vaj.jar;C:\\java\\apache-ant\\lib\\ant-weblogic.jar;C:\\java\\apache-ant\\lib\\ant-xalan1.jar;C:\\java\\apache-ant\\lib\\ant-xslp.jar;C:\\java\\apache-ant\\lib\\ant.jar;C:\\java\\apache-ant\\lib\\commons-net.jar;C:\\java\\apache-ant\\lib\\jakarta-oro.jar;C:\\java\\apache-ant\\lib\\xercesImpl.jar;C:\\java\\apache-ant\\lib\\xml-apis.jar;c:\\java\\j2sdk5\\lib\\tools.jar\nuser.name\u003dhristo\njava.vm.specification.version\u003d1.0\njava.home\u003dc:\\java\\j2sdk5\\jre\nsun.arch.data.model\u003d32\nuser.language\u003den\njava.specification.vendor\u003dSun Microsystems Inc.\nawt.toolkit\u003dsun.awt.windows.WToolkit\njava.vm.info\u003dmixed mode\njava.version\u003d1.5.0-beta3\njava.ext.dirs\u003dc:\\java\\j2sdk5\\jre\\lib\\ext\nsun.boot.class.path\u003dc:\\java\\j2sdk5\\jre\\lib\\rt.jar;c:\\java\\j2sdk5\\jre\\lib\\i18n.jar;c:\\java\\j2sdk5\\jre\\lib\\sunrsasign.jar;c:\\java\\j2sdk5\\jre\\lib\\jsse.jar;c:\\java\\j2sdk5\\jre\\lib\\jce.jar;c:\\java\\j2sdk5\\jre\\lib\\charsets.jar;c:\\java\\j2sdk5\\jre\\classes\njava.vendor\u003dSun Microsystems Inc.\nfile.separator\u003d\\\njava.vendor.url.bug\u003dhttp://java.sun.com/cgi-bin/bugreport.cgi\nsun.io.unicode.encoding\u003dUnicodeLittle\nsun.cpu.endian\u003dlittle\nsun.desktop\u003dwindows\nsun.cpu.isalist\u003d\n---- Command Line ---\n-preserveAllLocals\n-g\n-target\n1.4\n-XlazyTjp\n-verbose\n-outjar\nC:\\projects\\marketedge\\build\\netbeans\\modules\\me_exceedsoft.map-1.0.jar\n-classpath\nC:\\projects\\marketedge\\build\\classes;C:\\projects\\marketedge\\netbeans\\modules\\me_com.vividsolutions.jts-1.4.0.jar;C:\\projects\\marketedge\\netbeans\\modules\\me_exceedsoft.aspects-1.0.jar;C:\\projects\\marketedge\\netbeans\\modules\\me_exceedsoft.map-1.0.jar;C:\\projects\\marketedge\\netbeans\\modules\\me_javax.units-0.01.jar;C:\\projects\\marketedge\\netbeans\\modules\\me_javax.vectmath-1.3.jar;C:\\projects\\marketedge\\netbeans\\modules\\me_org.apache.batik-1.5.1.jar;C:\\projects\\marketedge\\netbeans\\modules\\me_org.garret.perst-231.jar;C:\\projects\\marketedge\\netbeans\\modules\\me_org.geotools-2.0.jar;C:\\projects\\marketedge\\netbeans\\modules\\me_org.geotools.shp-2.0.jar;C:\\projects\\marketedge\\netbeans\\modules\\me_org.geotools.tiger-2.0.jar;C:\\projects\\marketedge\\netbeans\\modules\\me_org.opengis-1.1.jar;C:\\java\\netbeans-3_6-platform\\lib\\core.jar;C:\\java\\netbeans-3_6-platform\\lib\\ext\\boot.jar;C:\\java\\netbeans-3_6-platform\\lib\\openide-loaders.jar;C:\\java\\netbeans-3_6-platform\\lib\\openide.jar;C:\\java\\netbeans-!\n 3_6-platform\\lib\\updater.jar;C:\\java\\netbeans-3_6-platform\\modules\\autoload\\core-output.jar;C:\\java\\netbeans-3_6-platform\\modules\\autoload\\core-settings.jar;C:\\java\\netbeans-3_6-platform\\modules\\autoload\\ext\\jh-2.0_01.jar;C:\\java\\netbeans-3_6-platform\\modules\\autoload\\javahelp-api.jar;C:\\java\\netbeans-3_6-platform\\modules\\autoload\\openide-io.jar;C:\\java\\netbeans-3_6-platform\\modules\\autoload\\terminalemulator.jar;C:\\java\\netbeans-3_6-platform\\modules\\autoupdate.jar;C:\\java\\netbeans-3_6-platform\\modules\\core-ui.jar;C:\\java\\netbeans-3_6-platform\\modules\\core-windows.jar;C:\\java\\netbeans-3_6-platform\\modules\\text.jar;C:\\java\\aspectj\\lib\\aspectjrt.jar;C:\\java\\aspectj\\lib\\aspectjtools.jar;C:\\java\\junit\\junit.jar;C:\\java\\j2sdk5\\jre\\lib\\ext\n-aspectpath\nC:\\projects\\marketedge\\netbeans\\modules\\me_exceedsoft.aspects-1.0.jar;C:\\projects\\marketedge\\netbeans\\modules\\me_org.geotools-2.0.jar;C:\\projects\\marketedge\\netbeans\\modules\\me_com.vividsolutions.jts-1.4.0.jar\n-inpath\nC:\\projects\\marketedge\\netbeans\\modules\\me_exceedsoft.map-1.0.jar\n---- Full Classpath ---\nC:\\projects\\marketedge\\netbeans\\modules\\me_exceedsoft.map-1.0.jar(60506 bytes)\nC:\\projects\\marketedge\\netbeans\\modules\\me_exceedsoft.aspects-1.0.jar(11065 bytes)\nC:\\projects\\marketedge\\netbeans\\modules\\me_org.geotools-2.0.jar(2354305 bytes)\nC:\\projects\\marketedge\\netbeans\\modules\\me_com.vividsolutions.jts-1.4.0.jar(251132\nbytes)\nc:\\java\\j2sdk5\\jre\\lib\\rt.jar(37556071 bytes)\nc:\\java\\j2sdk5\\jre\\lib\\i18n.jar(missing)\nc:\\java\\j2sdk5\\jre\\lib\\sunrsasign.jar(missing)\nc:\\java\\j2sdk5\\jre\\lib\\jsse.jar(548670 bytes)\nc:\\java\\j2sdk5\\jre\\lib\\jce.jar(81615 bytes)\nc:\\java\\j2sdk5\\jre\\lib\\charsets.jar(8627539 bytes)\nc:\\java\\j2sdk5\\jre\\classes(missing)\nc:\\java\\j2sdk5\\jre\\lib\\ext\\clibwrapper_jiio.jar(36136 bytes)\nc:\\java\\j2sdk5\\jre\\lib\\ext\\dnsns.jar(8179 bytes)\nc:\\java\\j2sdk5\\jre\\lib\\ext\\jai_codec.jar(213581 bytes)\nc:\\java\\j2sdk5\\jre\\lib\\ext\\jai_core.jar(1576540 bytes)\nc:\\java\\j2sdk5\\jre\\lib\\ext\\jai_imageio.jar(927714 bytes)\nc:\\java\\j2sdk5\\jre\\lib\\ext\\localedata.jar(802505 bytes)\nc:\\java\\j2sdk5\\jre\\lib\\ext\\mlibwrapper_jai.jar(41239 bytes)\nc:\\java\\j2sdk5\\jre\\lib\\ext\\sunjce_provider.jar(153036 bytes)\nc:\\java\\j2sdk5\\jre\\lib\\ext\\sunpkcs11.jar(173235 bytes)\nC:\\projects\\marketedge\\build\\classes(3 entries)\nC:\\projects\\marketedge\\netbeans\\modules\\me_com.vividsolutions.jts-1.4.0.jar(251132\nbytes)\nC:\\projects\\marketedge\\netbeans\\modules\\me_exceedsoft.aspects-1.0.jar(11065 bytes)\nC:\\projects\\marketedge\\netbeans\\modules\\me_exceedsoft.map-1.0.jar(60506 bytes)\nC:\\projects\\marketedge\\netbeans\\modules\\me_javax.units-0.01.jar(25418 bytes)\nC:\\projects\\marketedge\\netbeans\\modules\\me_javax.vectmath-1.3.jar(289947 bytes)\nC:\\projects\\marketedge\\netbeans\\modules\\me_org.apache.batik-1.5.1.jar(4619743 bytes)\nC:\\projects\\marketedge\\netbeans\\modules\\me_org.garret.perst-231.jar(188745 bytes)\nC:\\projects\\marketedge\\netbeans\\modules\\me_org.geotools-2.0.jar(2354305 bytes)\nC:\\projects\\marketedge\\netbeans\\modules\\me_org.geotools.shp-2.0.jar(66907 bytes)\nC:\\projects\\marketedge\\netbeans\\modules\\me_org.geotools.tiger-2.0.jar(15113 bytes)\nC:\\projects\\marketedge\\netbeans\\modules\\me_org.opengis-1.1.jar(163110 bytes)\nC:\\java\\netbeans-3_6-platform\\lib\\core.jar(2754600 bytes)\nC:\\java\\netbeans-3_6-platform\\lib\\ext\\boot.jar(99458 bytes)\nC:\\java\\netbeans-3_6-platform\\lib\\openide-loaders.jar(1049966 bytes)\nC:\\java\\netbeans-3_6-platform\\lib\\openide.jar(3626032 bytes)\nC:\\java\\netbeans-3_6-platform\\lib\\updater.jar(123818 bytes)\nC:\\java\\netbeans-3_6-platform\\modules\\autoload\\core-output.jar(321351 bytes)\nC:\\java\\netbeans-3_6-platform\\modules\\autoload\\core-settings.jar(207743 bytes)\nC:\\java\\netbeans-3_6-platform\\modules\\autoload\\ext\\jh-2.0_01.jar(500623 bytes)\nC:\\java\\netbeans-3_6-platform\\modules\\autoload\\javahelp-api.jar(104813 bytes)\nC:\\java\\netbeans-3_6-platform\\modules\\autoload\\openide-io.jar(9252 bytes)\nC:\\java\\netbeans-3_6-platform\\modules\\autoload\\terminalemulator.jar(289602 bytes)\nC:\\java\\netbeans-3_6-platform\\modules\\autoupdate.jar(581745 bytes)\nC:\\java\\netbeans-3_6-platform\\modules\\core-ui.jar(64094 bytes)\nC:\\java\\netbeans-3_6-platform\\modules\\core-windows.jar(1955608 bytes)\nC:\\java\\netbeans-3_6-platform\\modules\\text.jar(58277 bytes)\nC:\\java\\aspectj\\lib\\aspectjrt.jar(35619 bytes)\nC:\\java\\aspectj\\lib\\aspectjtools.jar(6045745 bytes)\nC:\\java\\junit\\junit.jar(121070 bytes)\nC:\\java\\j2sdk5\\jre\\lib\\ext(9 entries)\n---- Compiler Messages ---\ninfo zipfile classpath entry does not exist: c:\\java\\j2sdk5\\jre\\lib\\i18n.jar\ninfo zipfile classpath entry does not exist: c:\\java\\j2sdk5\\jre\\lib\\sunrsasign.jar\ninfo directory classpath entry does not exist: c:\\java\\j2sdk5\\jre\\classes\nerror at (no source information available)\nC:\\projects\\marketedge\\netbeans\\modules\\me_exceedsoft.map-1.0.jar:0 can\u0027t find\ntype [Lorg.geotools.data.DataStoreFactorySpi$Param;\n---- org.aspectj.weaver.bcel.BcelWorld ----\nShadow mungers:\n(around(extraFlags: 1):\n(persingleton(org.garret.perst.aspectj.PersistenceAspect) \u0026\u0026 (execution(boolean\norg.garret.perst.aspectj.AutoPersist+.equals(java.lang.Object)) \u0026\u0026\n(args(BindingTypePattern(java.lang.Object, 1)) \u0026\u0026\ntarget(BindingTypePattern(org.garret.perst.aspectj.AutoPersist, 0)))))-\u003eboolean\norg.garret.perst.aspectj.PersistenceAspect.ajc$around$org_garret_perst_aspectj_PersistenceAspect$5$589ee725(org.garret.perst.aspectj.AutoPersist,\njava.lang.Object, org.aspectj.runtime.internal.AroundClosure))\n(around(extraFlags: 1):\n(persingleton(org.garret.perst.aspectj.PersistenceAspect) \u0026\u0026 (execution(int\norg.garret.perst.aspectj.AutoPersist+.hashCode()) \u0026\u0026\ntarget(BindingTypePattern(org.garret.perst.aspectj.AutoPersist, 0))))-\u003eint\norg.garret.perst.aspectj.PersistenceAspect.ajc$around$org_garret_perst_aspectj_PersistenceAspect$6$3f2d89d4(org.garret.perst.aspectj.AutoPersist,\norg.aspectj.runtime.internal.AroundClosure))\n(around(extraFlags: 1): (persingleton(org.garret.perst.aspectj.SafeHashAspect)\n\u0026\u0026 (execution(int org.garret.perst.aspectj.SafeHashCode+.hashCode()) \u0026\u0026\ntarget(BindingTypePattern(org.garret.perst.aspectj.SafeHashCode, 0))))-\u003eint\norg.garret.perst.aspectj.SafeHashAspect.ajc$around$org_garret_perst_aspectj_SafeHashAspect$1$7206641f(org.garret.perst.aspectj.SafeHashCode,\norg.aspectj.runtime.internal.AroundClosure))\n(before: (persingleton(org.garret.perst.aspectj.PersistenceAspect) \u0026\u0026\n((execution( !static * ((org.garret.perst.Persistent+ \u0026\u0026\n!org.garret.perst.Persistent) || (org.garret.perst.aspectj.AutoPersist+ \u0026\u0026\n(!org.garret.perst.aspectj.StrictAutoPersist+ \u0026\u0026\n!org.garret.perst.aspectj.AutoPersist))).*(..)) \u0026\u0026 !execution(void\nrecursiveLoading())) \u0026\u0026 this(BindingTypePattern(org.garret.perst.IPersistent,\n0))))-\u003evoid\norg.garret.perst.aspectj.PersistenceAspect.ajc$before$org_garret_perst_aspectj_PersistenceAspect$1$272d304b(org.garret.perst.IPersistent))\n(before: (persingleton(org.garret.perst.aspectj.PersistenceAspect) \u0026\u0026 (get(\n!static transient * org.garret.perst.aspectj.StrictAutoPersist+.*) \u0026\u0026\n((!within(org.garret.perst.*) \u0026\u0026 (!within(org.garret.perst.impl.*) \u0026\u0026\n!within(org.garret.perst.aspectj.*))) \u0026\u0026\ntarget(BindingTypePattern(org.garret.perst.aspectj.StrictAutoPersist,\n0)))))-\u003evoid\norg.garret.perst.aspectj.PersistenceAspect.ajc$before$org_garret_perst_aspectj_PersistenceAspect$2$f74b759f(org.garret.perst.aspectj.StrictAutoPersist))\n(before: (persingleton(org.garret.perst.aspectj.PersistenceAspect) \u0026\u0026 (set(\n!static transient * (org.garret.perst.aspectj.AutoPersist+ \u0026\u0026\n!org.garret.perst.aspectj.StrictAutoPersist+).*) \u0026\u0026\n((!within(org.garret.perst.*) \u0026\u0026 (!within(org.garret.perst.impl.*) \u0026\u0026\n!within(org.garret.perst.aspectj.*))) \u0026\u0026 (!withincode(new(..)) \u0026\u0026\ntarget(BindingTypePattern(org.garret.perst.aspectj.AutoPersist, 0))))))-\u003evoid\norg.garret.perst.aspectj.PersistenceAspect.ajc$before$org_garret_perst_aspectj_PersistenceAspect$4$83a0862a(org.garret.perst.aspectj.AutoPersist))\n(before: (persingleton(org.garret.perst.aspectj.PersistenceAspect) \u0026\u0026 (set(\n!static transient * org.garret.perst.aspectj.StrictAutoPersist+.*) \u0026\u0026\n((!within(org.garret.perst.*) \u0026\u0026 (!within(org.garret.perst.impl.*) \u0026\u0026\n!within(org.garret.perst.aspectj.*))) \u0026\u0026\ntarget(BindingTypePattern(org.garret.perst.aspectj.StrictAutoPersist,\n0)))))-\u003evoid\norg.garret.perst.aspectj.PersistenceAspect.ajc$before$org_garret_perst_aspectj_PersistenceAspect$3$4d3610ab(org.garret.perst.aspectj.StrictAutoPersist))\nType mungers:\n(BcelTypeMunger ResolvedTypeMunger(PrivilegedAccess, void\norg.garret.perst.IPersistent.()))\n(BcelTypeMunger ResolvedTypeMunger(PrivilegedAccess, void\norg.garret.perst.aspectj.StrictAutoPersist.()))\n(BcelTypeMunger ResolvedTypeMunger(PrivilegedAccess, void\norg.garret.perst.aspectj.StrictAutoPersist.()))\n(BcelTypeMunger ResolvedTypeMunger(PrivilegedAccess, void\norg.garret.perst.aspectj.AutoPersist.()))\n(BcelTypeMunger ResolvedTypeMunger(PrivilegedAccess, void java.lang.Object.()))\n(BcelTypeMunger ResolvedTypeMunger(PrivilegedAccess, void\norg.garret.perst.aspectj.AutoPersist.()))\n(BcelTypeMunger ResolvedTypeMunger(PrivilegedAccess, void\norg.garret.perst.aspectj.AutoPersist.()))\n(BcelTypeMunger ResolvedTypeMunger(Field, int\norg.garret.perst.aspectj.AutoPersist.state))\n(BcelTypeMunger ResolvedTypeMunger(Field, int\norg.garret.perst.aspectj.AutoPersist.oid))\n(BcelTypeMunger ResolvedTypeMunger(Field, org.garret.perst.Storage\norg.garret.perst.aspectj.AutoPersist.storage))\n(BcelTypeMunger ResolvedTypeMunger(Method, void\norg.garret.perst.aspectj.AutoPersist.writeExternal(java.io.ObjectOutput)))\n(BcelTypeMunger ResolvedTypeMunger(Method, void\norg.garret.perst.aspectj.AutoPersist.readExternal(java.io.ObjectInput)))\n(BcelTypeMunger ResolvedTypeMunger(Method, void\norg.garret.perst.aspectj.AutoPersist.finalize()))\n(BcelTypeMunger ResolvedTypeMunger(Method, void\norg.garret.perst.aspectj.AutoPersist.invalidate()))\n(BcelTypeMunger ResolvedTypeMunger(Method, void\norg.garret.perst.aspectj.AutoPersist.onLoad()))\n(BcelTypeMunger ResolvedTypeMunger(Method, org.garret.perst.Storage\norg.garret.perst.aspectj.AutoPersist.getStorage()))\n(BcelTypeMunger ResolvedTypeMunger(Method, boolean\norg.garret.perst.aspectj.AutoPersist.recursiveLoading()))\n(BcelTypeMunger ResolvedTypeMunger(Method, void\norg.garret.perst.aspectj.AutoPersist.deallocate()))\n(BcelTypeMunger ResolvedTypeMunger(Method, int\norg.garret.perst.aspectj.AutoPersist.getOid()))\n(BcelTypeMunger ResolvedTypeMunger(Method, void\norg.garret.perst.aspectj.AutoPersist.modify()))\n(BcelTypeMunger ResolvedTypeMunger(Method, void\norg.garret.perst.aspectj.AutoPersist.store()))\n(BcelTypeMunger ResolvedTypeMunger(Method, void\norg.garret.perst.aspectj.AutoPersist.makePersistent(org.garret.perst.Storage)))\n(BcelTypeMunger ResolvedTypeMunger(Method, boolean\norg.garret.perst.aspectj.AutoPersist.isPersistent()))\n(BcelTypeMunger ResolvedTypeMunger(Method, boolean\norg.garret.perst.aspectj.AutoPersist.isModified()))\n(BcelTypeMunger ResolvedTypeMunger(Method, boolean\norg.garret.perst.aspectj.AutoPersist.isRaw()))\n(BcelTypeMunger ResolvedTypeMunger(Method, void\norg.garret.perst.aspectj.AutoPersist.loadAndModify()))\n(BcelTypeMunger ResolvedTypeMunger(Method, void\norg.garret.perst.aspectj.AutoPersist.load()))\n(BcelTypeMunger ResolvedTypeMunger(Method, void\norg.garret.perst.aspectj.AutoPersist.commit()))\n(BcelTypeMunger ResolvedTypeMunger(Method, void\norg.garret.perst.aspectj.AutoPersist.assignOid(org.garret.perst.Storage, int,\nboolean)))\n(BcelTypeMunger ResolvedTypeMunger(PrivilegedAccess, void\norg.garret.perst.IPersistent.()))\n(BcelTypeMunger ResolvedTypeMunger(PrivilegedAccess, void\norg.garret.perst.aspectj.SafeHashCode.()))\n(BcelTypeMunger ResolvedTypeMunger(PrivilegedAccess, void\norg.garret.perst.aspectj.AutoPersist.()))\nCant find type problems:\njava.lang.RuntimeException: Can\u0027t find type\n[Lorg.geotools.data.DataStoreFactorySpi$Param;\n\t at org.aspectj.weaver.World.resolve(World.java:133)\n\t at org.aspectj.weaver.World.resolve(World.java:105)\n\t at org.aspectj.weaver.TypeX.resolve(TypeX.java:538)\n\t at\norg.aspectj.weaver.patterns.ThisOrTargetPointcut.match(ThisOrTargetPointcut.java:71)\n\t at org.aspectj.weaver.patterns.AndPointcut.match(AndPointcut.java:43)\n\t at org.aspectj.weaver.patterns.AndPointcut.match(AndPointcut.java:43)\n\t at org.aspectj.weaver.patterns.AndPointcut.match(AndPointcut.java:43)\n\t at org.aspectj.weaver.ShadowMunger.match(ShadowMunger.java:62)\n\t at org.aspectj.weaver.Advice.match(Advice.java:91)\n\t at org.aspectj.weaver.bcel.BcelClassWeaver.match(BcelClassWeaver.java:1126)\n\t at\norg.aspectj.weaver.bcel.BcelClassWeaver.matchInvokeInstruction(BcelClassWeaver.java:1115)\n\t at org.aspectj.weaver.bcel.BcelClassWeaver.match(BcelClassWeaver.java:987)\n\t at org.aspectj.weaver.bcel.BcelClassWeaver.match(BcelClassWeaver.java:827)\n\t at org.aspectj.weaver.bcel.BcelClassWeaver.weave(BcelClassWeaver.java:348)\n\t at org.aspectj.weaver.bcel.BcelClassWeaver.weave(BcelClassWeaver.java:83)\n\t at org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:740)\n\t at org.aspectj.weaver.bcel.BcelWeaver.weaveWithoutDump(BcelWeaver.java:705)\n\t at org.aspectj.weaver.bcel.BcelWeaver.weaveAndNotify(BcelWeaver.java:632)\n\t at org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:575)\n\t at\norg.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave(AjCompilerAdapter.java:239)\n\t at\norg.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling(AjCompilerAdapter.java:114)\n\t at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:383)\n\t at\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:678)\n\t at\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:168)\n\t at\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:102)\n\t at org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:109)\n\t at org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:60)\n\t at org.aspectj.tools.ajc.Main.run(Main.java:291)\n\t at org.aspectj.tools.ajc.Main.runMain(Main.java:227)\n\t at org.aspectj.tools.ant.taskdefs.AjcTask.executeInSameVM(AjcTask.java:1158)\n\t at org.aspectj.tools.ant.taskdefs.AjcTask.execute(AjcTask.java:955)\n\t at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n\t at org.apache.tools.ant.Task.perform(Task.java:364)\n\t at org.apache.tools.ant.taskdefs.Sequential.execute(Sequential.java:64)\n\t at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n\t at org.apache.tools.ant.Task.perform(Task.java:364)\n\t at org.apache.tools.ant.taskdefs.MacroInstance.execute(MacroInstance.java:377)\n\t at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n\t at org.apache.tools.ant.Task.perform(Task.java:364)\n\t at org.apache.tools.ant.Target.execute(Target.java:341)\n\t at org.apache.tools.ant.Target.performTasks(Target.java:369)\n         at org.apache.tools.ant.Project.executeTarget(Project.java:1214)\n\t at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:386)\n\t at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:106)\n\t at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n\t at org.apache.tools.ant.Task.perform(Task.java:364)\n\t at org.apache.tools.ant.Target.execute(Target.java:341)\n\t at org.apache.tools.ant.Target.performTasks(Target.java:369)\n\t at org.apache.tools.ant.Project.executeTarget(Project.java:1214)\n\t at org.apache.tools.ant.Project.executeTargets(Project.java:1062)\n\t at org.apache.tools.ant.Main.runBuild(Main.java:673)\n\t at org.apache.tools.ant.Main.startAnt(Main.java:188)\n\t at org.apache.tools.ant.launch.Launcher.run(Launcher.java:196)\n\t at org.apache.tools.ant.launch.Launcher.main(Launcher.java:55)",
    "Thanks for that ajcore Hristo, it really helped!\n\nSome progress.  The problem appears to be the bytecode generated for a call to\nclone() on an array type.  I notice that you make a call:\n\nreturn (DataStoreFactorySpi.Param[])PARAMS_ARRAY.clone() \n\nin \n\nPERSTDataStoreFactory.getParametersInfo()\n\nThe bytecode generated differs between 1.4 and 1.5.  Under 1.4 it becomes an\n\ninvokevirtual #50: //Method java/lang/Object.clone():()Ljava/lang/Object;\n\nUnder 1.5 it becomes:\n\ninvokevirtual #45: //Method\n\"[Lorg/geotools/data/DataStoreFactorySpi$Param;\".clone:()Ljava/lang/Object;\n",
    "Without suitable documentation available on what the changes are from 1.4/1.5 -\nwe believe this is a bug fix that sun has made.  In 1.4 they were incorrectly\nmaking the clone call against type Object.  In 1.5 they now make the clone call\nagainst the array type.\n\nThe fix is as follows. In TypeX where we convert a name to a signature\n(nameToSignature()) - we were incorrectly converting \"[LB$D;\" into \"L[LB$D;;\". \nWe weren\u0027t checking if it was already valid (in fact there is a comment in\nnameToSignature() that said it ought to be doing more checking).  It now does\nnot incorrectly alter the array signature - this fixes the cant find type message.\n\nYesterday, Erik talked about whether getDeclaredMethods() on ResolvedTypeX.Array\nshould return the clone() method (it doesn\u0027t at the moment).  I have not needed\nto change it in order for my testcase to pass. \n\nFix checked in - waiting for build.\n\nmany thanks to Hristo for using a few development builds to help track down this\nbug.",
    "Fix available:\n\nBUILD COMPLETE -  build.364\nDate of build: 08/27/2004 22:17:38\nTime to build: 95 minutes 15 seconds\nLast changed: 08/27/2004 17:02:18\nLatest good AspectJ jar available at:\ndownload.eclipse.org/technology/ajdt/dev/aspectj-DEVELOPMENT.jar",
    "Closing bug as fixed - please reopen Hristo if the fix doesn\u0027t work for you ...",
    "Fix released as part of AspectJ 1.2.1"
  ],
  "commentCreationDates": [
    "2004-08-18T09:27:01+02:00",
    "2004-08-18T09:30:26+02:00",
    "2004-08-24T09:21:59+02:00",
    "2004-08-26T09:22:29+02:00",
    "2004-08-26T12:58:47+02:00",
    "2004-08-27T12:08:04+02:00",
    "2004-08-28T18:32:56+02:00",
    "2004-09-01T09:29:41+02:00",
    "2004-10-21T10:33:06+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.RuntimeException",
      "message": "Can\u0027t find type [Lorg.geotools.data.DataStoreFactorySpi$Param;",
      "elements": [
        {
          "method": "org.aspectj.weaver.World.resolve",
          "source": "World.java:133"
        },
        {
          "method": "org.aspectj.weaver.World.resolve",
          "source": "World.java:105"
        },
        {
          "method": "org.aspectj.weaver.TypeX.resolve",
          "source": "TypeX.java:538"
        },
        {
          "method": "org.aspectj.weaver.patterns.ThisOrTargetPointcut.match",
          "source": "ThisOrTargetPointcut.java:71"
        },
        {
          "method": "org.aspectj.weaver.patterns.AndPointcut.match",
          "source": "AndPointcut.java:43"
        },
        {
          "method": "org.aspectj.weaver.patterns.AndPointcut.match",
          "source": "AndPointcut.java:43"
        },
        {
          "method": "org.aspectj.weaver.patterns.AndPointcut.match",
          "source": "AndPointcut.java:43"
        },
        {
          "method": "org.aspectj.weaver.ShadowMunger.match",
          "source": "ShadowMunger.java:62"
        },
        {
          "method": "org.aspectj.weaver.Advice.match",
          "source": "Advice.java:91"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.match",
          "source": "BcelClassWeaver.java:1126"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.matchInvokeInstruction",
          "source": "BcelClassWeaver.java:1115"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.match",
          "source": "BcelClassWeaver.java:987"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.match",
          "source": "BcelClassWeaver.java:827"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.weave",
          "source": "BcelClassWeaver.java:348"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.weave",
          "source": "BcelClassWeaver.java:83"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weave",
          "source": "BcelWeaver.java:740"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveWithoutDump",
          "source": "BcelWeaver.java:705"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveAndNotify",
          "source": "BcelWeaver.java:632"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weave",
          "source": "BcelWeaver.java:575"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave",
          "source": "AjCompilerAdapter.java:239"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling",
          "source": "AjCompilerAdapter.java:114"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:383"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:678"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:168"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBuildManager.java:102"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.doCommand",
          "source": "AjdtCommand.java:109"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.runCommand",
          "source": "AjdtCommand.java:60"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.run",
          "source": "Main.java:291"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.runMain",
          "source": "Main.java:227"
        },
        {
          "method": "org.aspectj.tools.ant.taskdefs.AjcTask.executeInSameVM",
          "source": "AjcTask.java:1158"
        },
        {
          "method": "org.aspectj.tools.ant.taskdefs.AjcTask.execute",
          "source": "AjcTask.java:955"
        },
        {
          "method": "org.apache.tools.ant.UnknownElement.execute",
          "source": "UnknownElement.java:275"
        },
        {
          "method": "org.apache.tools.ant.Task.perform",
          "source": "Task.java:364"
        },
        {
          "method": "org.apache.tools.ant.taskdefs.Sequential.execute",
          "source": "Sequential.java:64"
        },
        {
          "method": "org.apache.tools.ant.UnknownElement.execute",
          "source": "UnknownElement.java:275"
        },
        {
          "method": "org.apache.tools.ant.Task.perform",
          "source": "Task.java:364"
        },
        {
          "method": "org.apache.tools.ant.taskdefs.MacroInstance.execute",
          "source": "MacroInstance.java:377"
        },
        {
          "method": "org.apache.tools.ant.UnknownElement.execute",
          "source": "UnknownElement.java:275"
        },
        {
          "method": "org.apache.tools.ant.Task.perform",
          "source": "Task.java:364"
        },
        {
          "method": "org.apache.tools.ant.Target.execute",
          "source": "Target.java:341"
        },
        {
          "method": "org.apache.tools.ant.Target.performTasks",
          "source": "Target.java:369"
        },
        {
          "method": "org.apache.tools.ant.Project.executeTarget",
          "source": "Project.java:1214"
        },
        {
          "method": "org.apache.tools.ant.taskdefs.Ant.execute",
          "source": "Ant.java:386"
        },
        {
          "method": "org.apache.tools.ant.taskdefs.CallTarget.execute",
          "source": "CallTarget.java:106"
        },
        {
          "method": "org.apache.tools.ant.UnknownElement.execute",
          "source": "UnknownElement.java:275"
        },
        {
          "method": "org.apache.tools.ant.Task.perform",
          "source": "Task.java:364"
        },
        {
          "method": "org.apache.tools.ant.Target.execute",
          "source": "Target.java:341"
        },
        {
          "method": "org.apache.tools.ant.Target.performTasks",
          "source": "Target.java:369"
        },
        {
          "method": "org.apache.tools.ant.Project.executeTarget",
          "source": "Project.java:1214"
        },
        {
          "method": "org.apache.tools.ant.Project.executeTargets",
          "source": "Project.java:1062"
        },
        {
          "method": "org.apache.tools.ant.Main.runBuild",
          "source": "Main.java:673"
        },
        {
          "method": "org.apache.tools.ant.Main.startAnt",
          "source": "Main.java:188"
        },
        {
          "method": "org.apache.tools.ant.launch.Launcher.run",
          "source": "Launcher.java:196"
        },
        {
          "method": "org.apache.tools.ant.launch.Launcher.main",
          "source": "Launcher.java:55"
        }
      ],
      "number": 0,
      "commentIndex": 3,
      "bugId": "72150",
      "date": "2004-08-26T09:22:29+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "72150",
  "bugId": "72150",
  "date": "2004-08-18T09:27:01+02:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}