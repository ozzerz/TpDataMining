{
  "comments": [
    "I haven\u0027t done a full examination of the problem but when I switched from 3.1M6\nto 3.1M7 my app is now throwing:\n\njava.lang.UnsupportedOperationException: Operation not supported in JLS2 AST\n\tat org.eclipse.jdt.core.dom.ASTNode.unsupportedIn2(ASTNode.java:1758)\n\tat\norg.eclipse.jdt.core.dom.SingleVariableDeclaration.isVarargs(SingleVariableDeclaration.java:553)\n\tat\norg.eclipse.jdt.core.dom.MethodBinding.getUnresolvedJavaElement(MethodBinding.java:182)\n\tat org.eclipse.jdt.core.dom.MethodBinding.getJavaElement(MethodBinding.java:161)\n\nIt seems that lines 180 - 185 of org.eclipse.jdt.core.dom.MethodBinding were\nadded between 3.1M6 and 3.1M7:\n\n\tString typeSig \u003d Util.getSignature(type);\n\tint arrayDim \u003d parameter.getExtraDimensions();\n\tif (parameter.isVarargs())\n\t\tarrayDim++;\n\tif (arrayDim \u003e 0)\n\t\ttypeSig \u003d Signature.createArraySignature(typeSig, arrayDim);\n\n\nWhen using a JLS2 AST from:\n\n   org.eclipse.jdt.core.dom.ASTParser.newParser(AST.JLS2)\n\ncalling IMethodBinding.getJavaElement() causes an exception to be thrown.\n\nIt seems that AST.JLS2 is now deprecated but that shouldn\u0027t mean that\nfunctionality that depends on it is broken?  My application specifically\nexcludes 1.5 (JLS3) functionality so am I forced to use JLS3 and deal with the\nconsequences?",
    "I will investigate it.",
    "JLS3 doesn\u0027t mean it is for 1.5 code only. JLS3 can be used for any kind of\ncode. This is a bug, but you should definitely move your code to JLS3.",
    "I know that I have to move to JLS3 eventually but I was hoping to put it off as\nlong as possible.  I was using JLS2 to allow me to cull out a number of things\nthat I didn\u0027t want to have to think about yet.  \n\nI guess that now is as good a time as any to get off my lazy keister.\n\nIs JLS2 a priority for 3.1?  I\u0027m assuming \"yes\" for backwards compatibility.",
    "I would say yes. JLS2 should work.",
    "Added a protection for JLS3.\nisVarargs() is only used if the api level is greater or equals to JLS3.\nFixed and released in HEAD.\nRegression test added in org.eclipse.jdt.core.tests.dom.ASTConverterTest2.test0606",
    "Verified for 3.1 RC1 with build I20050527-0010.\n",
    "Confirm verified in 3.1 RC1\n\nThanks!"
  ],
  "commentCreationDates": [
    "2005-05-17T14:59:07+02:00",
    "2005-05-17T17:27:31+02:00",
    "2005-05-17T17:29:07+02:00",
    "2005-05-17T17:45:34+02:00",
    "2005-05-17T17:49:30+02:00",
    "2005-05-17T19:57:10+02:00",
    "2005-05-27T14:15:20+02:00",
    "2005-06-01T14:04:14+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.UnsupportedOperationException",
      "message": "Operation not supported in JLS2 AST",
      "elements": [
        {
          "method": "org.eclipse.jdt.core.dom.ASTNode.unsupportedIn2",
          "source": "ASTNode.java:1758"
        },
        {
          "method": "org.eclipse.jdt.core.dom.SingleVariableDeclaration.isVarargs",
          "source": "SingleVariableDeclaration.java:553"
        },
        {
          "method": "org.eclipse.jdt.core.dom.MethodBinding.getUnresolvedJavaElement",
          "source": "MethodBinding.java:182"
        },
        {
          "method": "org.eclipse.jdt.core.dom.MethodBinding.getJavaElement",
          "source": "MethodBinding.java:161"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "95538",
      "date": "2005-05-17T14:59:07+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "95538",
  "bugId": "95538",
  "date": "2005-05-17T14:59:07+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}