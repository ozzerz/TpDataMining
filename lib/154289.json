{
  "comments": [
    "I\u0027m running I20060816-1200, WinXP with the latest org.eclipse.jface from HEAD.\nIf I run an Eclipse workbench from this configuration, I see the following problem in the self-hosted workspace (but not in an unmodified I20060816.)  It started to appear when I first updated my workspace with all the new viewer API:\n\n- Open the bookmark view\n- Add a bookmark to some resource\n- Edit the bookmark\u0027s description in the bookmark view using the cell editor\n\nProblem:\n- the bookmark description doesn\u0027t update\n- the following NPE appears in the log\n\n!ENTRY org.eclipse.ui 4 0 2006-08-17 10:12:12.020\n!MESSAGE java.lang.NullPointerException\n!STACK 0\njava.lang.NullPointerException\n\tat org.eclipse.jface.viewers.TreeEditorImpl.activateCellEditor(TreeEditorImpl.java:75)\n\tat org.eclipse.jface.viewers.TreeEditorImpl.activateCellEditor(TreeEditorImpl.java:143)\n\tat org.eclipse.jface.viewers.TreeEditorImpl.handleMouseDown(TreeEditorImpl.java:279)\n\tat org.eclipse.jface.viewers.TreeViewer$1.mouseDown(TreeViewer.java:355)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:133)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3377)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2997)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:104)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:74)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)\n\nI get the same NPE if I try to edit anything in the tasks view (Description, completed, priority).\n\nI\u0027ve been using the bookmarks and tasks view extensively the last few weeks while working on undo for marker operations, and I saw this problem appear Tuesday when I updated JFace with all the changes to the viewer support.",
    "Looks like fallout from the Cell editing refacotring ",
    "(In reply to comment #1)\n\u003e Looks like fallout from the Cell editing refacotring \n\u003e \nThe current CVS Version seems to fix the problem but I couldn\u0027t find what you modified Tod since yesterday fixing this bug, I looked at ColumnViewer and saw that you move things into setViewerColumn.\n",
    "(In reply to comment #2)\n\u003e (In reply to comment #1)\n\u003e \u003e Looks like fallout from the Cell editing refacotring \n\u003e \u003e \n\u003e The current CVS Version seems to fix the problem but I couldn\u0027t find what you\n\u003e modified Tod since yesterday fixing this bug, I looked at ColumnViewer and saw\n\u003e that you move things into setViewerColumn.\n\u003e \n\nFurther more a question why is setViewerColumn() part of the public API. Who would ever want to call this method from the outside?",
    "Created an attachment (id\u003d48157)\nMake setViewerColumn private to Class\n\n",
    "Created an attachment (id\u003d48158)\nEditorValue not saved\n\nThe editor value is not saved when the editor is finished",
    "Created an attachment (id\u003d48252)\nFix NLP and editor value appling\n\nOk. I couldnow reproduce the problem and here\u0027s the patch to fix the NLP for backwards compatility. Nevertheless we should maybe also fix the BookmarkView not to start editing for none editable columns",
    "Created an attachment (id\u003d48253)\nFix noneditable Columns in BookmarkView\n\nThis is the patch to stop editing of none-editable columns earlier.",
    "setViewerColumn is called outside so that people can write thier own custom viewer column. One of the things we need to support is owner draw and other SWT features that operate directly on the widget. To do this the refresh() method needs to be overridable.\n\nI am working on an example now to show what I mean. Thanks for the patches - I\u0027ll check them out this morning.",
    "Patches released - thanks Tom.",
    "Tom could you verify this in 20060919-0100 please?",
    "(In reply to comment #10)\n\u003e Tom could you verify this in 20060919-0100 please?\n\u003e \nOk. Verified with latest JFace checkout.\n",
    "(In reply to comment #11)\n\u003e (In reply to comment #10)\n\u003e \u003e Tom could you verify this in 20060919-0100 please?\n\u003e \u003e \n\u003e Ok. Verified with latest JFace checkout.\n\u003e \n\nOk Verified in 20060919-0010.\n",
    "Thanks Tom"
  ],
  "commentCreationDates": [
    "2006-08-17T21:42:29+02:00",
    "2006-08-17T22:23:47+02:00",
    "2006-08-18T07:11:39+02:00",
    "2006-08-18T07:18:27+02:00",
    "2006-08-18T07:20:59+02:00",
    "2006-08-18T10:08:20+02:00",
    "2006-08-20T17:50:48+02:00",
    "2006-08-20T17:52:52+02:00",
    "2006-08-21T14:04:40+02:00",
    "2006-08-21T15:10:41+02:00",
    "2006-09-19T15:21:46+02:00",
    "2006-09-19T15:39:09+02:00",
    "2006-09-19T16:36:51+02:00",
    "2006-09-19T16:41:28+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jface.viewers.TreeEditorImpl.activateCellEditor",
          "source": "TreeEditorImpl.java:75"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeEditorImpl.activateCellEditor",
          "source": "TreeEditorImpl.java:143"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeEditorImpl.handleMouseDown",
          "source": "TreeEditorImpl.java:279"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer$1.mouseDown",
          "source": "TreeViewer.java:355"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:133"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3377"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2997"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1914"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1878"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:104"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:74"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:401"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:280"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "154289",
      "date": "2006-08-17T21:42:29+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "154289",
  "bugId": "154289",
  "date": "2006-08-17T21:42:29+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "major"
}