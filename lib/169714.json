{
  "comments": [
    "I have a report design that worked ok using the genReport scripts in 2.1.1. This does not work anymore using the genReport script on 2.2.\n\nIt fails with a ClassNotFoundException in com.ibm.icu.text.SimpleDateFormat.\n\nThe reason is because of this:\nIn birt 2.1.1 - this class is in com.ibm.icu_3.4.4.1.jar\nIn birt 2.2.0 - this class is in com.ibm.icu_3.4.5.jar\n\nThe genReport.sh in birt 2.2 download does not set it to the correct version but instead points to the old one - com.ibm.icu_3.4.4.1.jar\n\nThus the classpath is not set correctly and the error.\n\nI did an eclipse compare of the runtime downloads -- birt 2.1.1 and birt 2.2.0 and lots of jar versions have changed. Along with fixing this particular issue, it might be good to investigate if all the jars etc used in birt 2.2 runtime are correctly included in the classpath. \n\n-----------------\nAlso, I put the component as ReportEngine but maybe this is more of a documentation /scripts issue.  Can someone please help me in figuring out which component it should go so I can assign it to the correct component.",
    "I made a patch for 164697 issue and to run the scripts successfully, this issue needs to be fixed. I\u0027ll take a look at this issue and try to post a patch. \n\nActually, even a blank rptdesign wont work with the current scripts.   \nHere is the stack trace.\nC:\\BIRT\\birt-runtime-2_2_0\\ReportEngine\u003egenReport C:\\BIRT\\trunk2\\samplesReport\\blank.rptdesign\n\nC:\\BIRT\\birt-runtime-2_2_0\\ReportEngine\u003eECHO off\nException in thread \"main\" java.lang.NoClassDefFoundError: com/ibm/icu/text/SimpleDateFormat\n        at org.eclipse.birt.report.model.metadata.DateTimePropertyType.\u003cclinit\u003e(DateTimePropertyType.java:61)\n        at org.eclipse.birt.report.model.metadata.MetaDataDictionary.\u003cinit\u003e(MetaDataDictionary.java:229)\n        at org.eclipse.birt.report.model.metadata.MetaDataDictionary.\u003cclinit\u003e(MetaDataDictionary.java:107)\n        at org.eclipse.birt.report.model.api.impl.DesignEngineImpl.newSessionHandle(DesignEngineImpl.java:122)\n        at org.eclipse.birt.report.model.api.DesignEngine.newSessionHandle(DesignEngine.java:106)\n        at org.eclipse.birt.report.engine.parser.ReportParser.getDesignHandle(ReportParser.java:146)\n        at org.eclipse.birt.report.engine.api.impl.ReportEngineHelper.openReportDesign(ReportEngineHelper.java:244)\n        at org.eclipse.birt.report.engine.api.impl.ReportEngineHelper.openReportDesign(ReportEngineHelper.java:192)\n        at org.eclipse.birt.report.engine.api.impl.ReportEngineHelper.openReportDesign(ReportEngineHelper.java:126)\n        at org.eclipse.birt.report.engine.api.impl.ReportEngine.openReportDesign(ReportEngine.java:225)\n        at org.eclipse.birt.report.engine.api.ReportRunner.runAndRenderReport(ReportRunner.java:189)\n        at org.eclipse.birt.report.engine.api.ReportRunner.execute(ReportRunner.java:162)\n        at org.eclipse.birt.report.engine.api.ReportRunner.main(ReportRunner.java:118)",
    "Created an attachment (id\u003d56501)\npatched genReport.bat\n\n",
    "Created an attachment (id\u003d56502)\nPatched genReport.sh\n\n",
    "In another bug 164697, Wenfeng Li suggested to attach the source file for the scripts. So I am attaching the source files (genReport.bat, genReport.sh)\n\nThis patch fixes the following issues that were found in the script files in the birt 2.2 M2 runtime download.\n\nThe BIRTCLASSPATH setting needs the following corrections:\n1. %BIRT_HOME%/ReportEngine/flute.jar  - Incorrect location for jar.  Needs to be %BIRT_HOME%/ReportEngine/lib/flute.jar\n2. com.ibm.icu_3.4.4.1.jar needs to be com.ibm.icu_3.4.5.jar\n3. org.eclipse.emf.ecore_2.2.0.v200606051102.jar needs to be org.eclipse.emf.ecore_2.2.1.v200609210005.jar\n4. org.eclipse.emf.ecore.xmi_2.2.0.v200606051102.jar needs to be org.eclipse.emf.ecore.xmi_2.2.1.v200609210005.jar\n5. org.eclipse.emf.common_2.2.0.v200606051102.jar needs to be org.eclipse.emf.common_2.2.1.v200609210005.jar\n6. chartengineapi.jar does not exist. I think it should be org.eclipse.birt.chart.engine_2.2.0.v20061117-1020.jar\n\nI ran tests with these scripts with some sample rptdesign files on windows (for the .bat file) and on linux (for the .sh file)  and things work OK. \n\nCan some committer please review these changes. This is my first patch to BIRT and I would appreciate your comments.\n\nThanks much.\n",
    "Please note that the attached patch fixes the issue mentioned in this bugzilla. \n\nBut as I was working on this issue, I found some other things and wanted to get feedback from the community.  Should these questions be targeted to the birt-dev mailing list or is this bugzilla comment the right place. \n\nHere are my notes:\n\nIn the 2.1.1 birt runtime download, \nall the jars in the ReportEngine/lib directory have been added to the birt classpath with exception of dataadapterapi.jar\n\nIn the 2.2.0 birt runtime download, \napart from the issues fixed above, there are more jars available. \n\nThe following jars are available:\naxis-ant.jar\naxis.jar\ncommons-discovery-0.2.jar\njaxrpc.jar\norg.eclipse.birt.chart.engine_2.2.0.v20061117-1020.jar  ( I think this supercedes the chartengineapi.jar in birt 2.1.1 download)\nsaaj.jar\nviewservlets.jar\nwsdl4j-1.5.1.jar\n\n-- Should these jars ALSO be added to birt classpath ?\n-- It seems like genReport is specific to each release, so maybe it is better to checkin this script in the cvs.  \n-- Maybe we can add some notes, so when the birt runtime download is generated for a release, or if any of the dependency jars that have version number in their name change, the scripts are also updated.  \n\nThoughts/comments?\n\nThanks,\nSunitha.\n",
    "axis-ant.jar\naxis.jar\ncommons-discovery-0.2.jar\njaxrpc.jar\nsaaj.jar\nviewservlets.jar\nwsdl4j-1.5.1.jar\n\nshouldn\u0027t be included in ReportEngine/lib folder, since ReportEngine don\u0027t need them. Build scripts has exclude these jars.\n\nAs to inconsistent classpath, I\u0027ve submit a new bug 170176. It better to generate genReport.bat/sh autmatically by script. So the similar problem could be avoided in later release.\n\nThanks for reporting!",
    "Thanks Xiaoying for the reply.  I agree that is a good idea.  Thanks for taking care of this. ",
    "Fixed.",
    "Thanks Xiaoying for reviewing my patch. \n\nI have one comment - I think this issue should not be marked fixed till the fix goes into eclipse CVS. Please see the discussion on birt-dev in http://dev.eclipse.org/mhonarc/lists/birt-dev/msg06962.html\n\"The committer should make sure that the changes go up to the CVS first before marking the bug as fixed. \""
  ],
  "commentCreationDates": [
    "2007-01-05T19:08:39+01:00",
    "2007-01-05T21:39:40+01:00",
    "2007-01-05T23:21:06+01:00",
    "2007-01-05T23:22:02+01:00",
    "2007-01-05T23:24:58+01:00",
    "2007-01-05T23:51:42+01:00",
    "2007-01-11T08:40:51+01:00",
    "2007-01-11T17:33:23+01:00",
    "2007-01-12T03:48:45+01:00",
    "2007-01-17T18:56:56+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoClassDefFoundError",
      "message": "com/ibm/icu/text/SimpleDateForm",
      "elements": [
        {
          "method": "atorg.eclipse.birt.report.model.metadata.DateTimePropertyType.\u003cclinit\u003e",
          "source": "DateTimePropertyType.java:61"
        },
        {
          "method": "org.eclipse.birt.report.model.metadata.MetaDataDictionary.\u003cinit\u003e",
          "source": "MetaDataDictionary.java:229"
        },
        {
          "method": "org.eclipse.birt.report.model.metadata.MetaDataDictionary.\u003cclinit\u003e",
          "source": "MetaDataDictionary.java:107"
        },
        {
          "method": "org.eclipse.birt.report.model.api.impl.DesignEngineImpl.newSessionHandle",
          "source": "DesignEngineImpl.java:122"
        },
        {
          "method": "org.eclipse.birt.report.model.api.DesignEngine.newSessionHandle",
          "source": "DesignEngine.java:106"
        },
        {
          "method": "org.eclipse.birt.report.engine.parser.ReportParser.getDesignHandle",
          "source": "ReportParser.java:146"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.ReportEngineHelper.openReportDesign",
          "source": "ReportEngineHelper.java:244"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.ReportEngineHelper.openReportDesign",
          "source": "ReportEngineHelper.java:192"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.ReportEngineHelper.openReportDesign",
          "source": "ReportEngineHelper.java:126"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.ReportEngine.openReportDesign",
          "source": "ReportEngine.java:225"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.ReportRunner.runAndRenderReport",
          "source": "ReportRunner.java:189"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.ReportRunner.execute",
          "source": "ReportRunner.java:162"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.ReportRunner.main",
          "source": "ReportRunner.java:118"
        }
      ],
      "number": 0,
      "commentIndex": 1,
      "bugId": "169714",
      "date": "2007-01-05T21:39:40+01:00",
      "product": "BIRT",
      "component": "Build",
      "severity": "normal"
    }
  ],
  "groupId": "169714",
  "bugId": "169714",
  "date": "2007-01-05T19:08:39+01:00",
  "product": "BIRT",
  "component": "Build",
  "severity": "normal"
}