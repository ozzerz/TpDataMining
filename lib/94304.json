{
  "comments": [
    "With Eclipse I20050506-1600, I run a problem to create a inner class in enum:\n  1. select an enum in the package explorer\n  2. call new wizard to create a inner class\n  3. check the \"Enclosing type\"\n  4. Put a name in the \"Name:\" Field\n  5. Click the button \"OK\".\n\nI got the following exception:\n\nCaused by: java.lang.IllegalArgumentException: Node does not exist\n\tat org.eclipse.jdt.core.dom.rewrite.ListRewrite.insertBefore\n(ListRewrite.java:205)\n\tat \norg.eclipse.jdt.internal.core.CreateElementInCUOperation.insertASTNode\n(CreateElementInCUOperation.java:249)\n\tat \norg.eclipse.jdt.internal.core.CreateElementInCUOperation.generateNewCompilation\nUnitAST(CreateElementInCUOperation.java:184)\n\tat \norg.eclipse.jdt.internal.core.CreateElementInCUOperation.executeOperation\n(CreateElementInCUOperation.java:137)\n\tat org.eclipse.jdt.internal.core.JavaModelOperation.run\n(JavaModelOperation.java:718)\n\tat org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1716)\n\tat org.eclipse.jdt.internal.core.JavaModelOperation.runOperation\n(JavaModelOperation.java:782)\n\tat org.eclipse.jdt.internal.core.SourceType.createType\n(SourceType.java:153)\n\tat org.eclipse.jdt.ui.wizards.NewTypeWizardPage.createType\n(NewTypeWizardPage.java:1808)\n\tat \norg.eclipse.jdt.internal.ui.wizards.NewClassCreationWizard.finishPage\n(NewClassCreationWizard.java:55)\n\tat org.eclipse.jdt.internal.ui.wizards.NewElementWizard$2.run\n(NewElementWizard.java:114)\n\tat org.eclipse.jdt.internal.core.BatchOperation.executeOperation\n(BatchOperation.java:39)\n\tat org.eclipse.jdt.internal.core.JavaModelOperation.run\n(JavaModelOperation.java:718)\n\tat org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1716)\n\tat org.eclipse.jdt.core.JavaCore.run(JavaCore.java:3654)\n\tat org.eclipse.jdt.internal.ui.actions.WorkbenchRunnableAdapter.run\n(WorkbenchRunnableAdapter.java:87)\n\tat org.eclipse.jface.operation.ModalContext.runInCurrentThread\n(ModalContext.java:346)\n\nThe samething can be done in Java editor.",
    "I will investigate.",
    "Could not reproduce in I20050512-1200.\nClosing as WORKSFORME. Please reopen if you get it again.",
    "I have tested with M7. The problem still exists. ",
    "Then provide steps to reproduce.\nI followed the steps in comment 0 and I could not reproduce.\nAre your project\u0027s settings 5.0 or 1.4?",
    "I remind you it occurs if you create a class/interface in an ENUM  It works in \nJava editor.",
    "This is exactly what I have done.",
    "Reproduced. I tried with an empty enum and it was working.\nI am investigating.",
    "The problem comes from the new type wizard that sets the sibling of the new type\nto be an enum constant declaration.\nThis leads to the error see in the log.\n\nI think that the createType API should throw an INVALID_SIBLING java modl\nexception in this case.\n\nSee bug 95480 for the corresponding problem on the JDT/Core side.\n\nMove to JDT/UI",
    "Created an attachment (id\u003d21234)\nApply on HEAD\n\nPossible patch. For an enum type, I check the IFields and I select the first\none that is not an enum constant declaration as the sibling of the new type.\n",
    "released \u003e 20050524\n\nThanks Olivier!",
    "Verifying...",
    "Verified in I20050527-1300.  Dirk, please update state to VERIFIED.",
    "Marking as verified."
  ],
  "commentCreationDates": [
    "2005-05-10T15:44:10+02:00",
    "2005-05-11T14:41:35+02:00",
    "2005-05-12T22:16:29+02:00",
    "2005-05-14T21:45:31+02:00",
    "2005-05-16T01:09:43+02:00",
    "2005-05-16T03:10:47+02:00",
    "2005-05-16T21:40:55+02:00",
    "2005-05-16T21:58:40+02:00",
    "2005-05-17T00:18:43+02:00",
    "2005-05-17T00:30:57+02:00",
    "2005-05-24T15:48:22+02:00",
    "2005-05-30T12:09:31+02:00",
    "2005-05-30T12:11:54+02:00",
    "2005-05-30T12:36:39+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Node does not exist",
      "elements": [
        {
          "method": "org.eclipse.jdt.core.dom.rewrite.ListRewrite.insertBefore",
          "source": "ListRewrite.java:205"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CreateElementInCUOperation.insertASTNode",
          "source": "CreateElementInCUOperation.java:249"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CreateElementInCUOperation.generateNewCompilationUnitAST",
          "source": "CreateElementInCUOperation.java:184"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CreateElementInCUOperation.executeOperation",
          "source": "CreateElementInCUOperation.java:137"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.run",
          "source": "JavaModelOperation.java:718"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1716"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.runOperation",
          "source": "JavaModelOperation.java:782"
        },
        {
          "method": "org.eclipse.jdt.internal.core.SourceType.createType",
          "source": "SourceType.java:153"
        },
        {
          "method": "org.eclipse.jdt.ui.wizards.NewTypeWizardPage.createType",
          "source": "NewTypeWizardPage.java:1808"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.wizards.NewClassCreationWizard.finishPage",
          "source": "NewClassCreationWizard.java:55"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.wizards.NewElementWizard$2.run",
          "source": "NewElementWizard.java:114"
        },
        {
          "method": "org.eclipse.jdt.internal.core.BatchOperation.executeOperation",
          "source": "BatchOperation.java:39"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.run",
          "source": "JavaModelOperation.java:718"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1716"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore.run",
          "source": "JavaCore.java:3654"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.actions.WorkbenchRunnableAdapter.run",
          "source": "WorkbenchRunnableAdapter.java:87"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:346"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "94304",
      "date": "2005-05-10T15:44:10+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "94304",
  "bugId": "94304",
  "date": "2005-05-10T15:44:10+02:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}