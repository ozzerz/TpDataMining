{
  "comments": [
    "When generating diagram code from the attached .gmfgen file (all model files included) I get:\n\nException occurred while generating code\n...\njava.lang.RuntimeException: Unknown viewmap: org.eclipse.gmf.codegen.gmfgen.impl.ParentAssignedViewmapImpl@eaa0eaa (requiredPluginIDs: null, layoutType: UNKNOWN) (getterName: getFigureUpdatesFigure, setterName: null, figureQualifiedClassName: org.eclipse.gmf.runtime.draw2d.ui.figures.PolylineConnectionEx)\n\tat org.eclipse.gmf.internal.xpand.ast.ErrorStatement.evaluateInternal(ErrorStatement.java:47)\n\tat org.eclipse.gmf.internal.xpand.ast.Statement.evaluate(Statement.java:27)\n\tat org.eclipse.gmf.internal.xpand.ast.AbstractDefinition.evaluate(AbstractDefinition.java:94)\n\tat org.eclipse.gmf.internal.xpand.ast.ExpandStatement.invokeDefinition(ExpandStatement.java:190)\n\tat org.eclipse.gmf.internal.xpand.ast.ExpandStatement.evaluateInternal(ExpandStatement.java:161)\n\tat org.eclipse.gmf.internal.xpand.ast.Statement.evaluate(Statement.java:27)\n\tat org.eclipse.gmf.internal.xpand.ast.AbstractDefinition.evaluate(AbstractDefinition.java:94)\n\tat org.eclipse.gmf.internal.xpand.XpandFacade.evaluate(XpandFacade.java:60)\n\tat org.eclipse.gmf.codegen.util.CodegenEmitters$XpandTextEmitter.generate(CodegenEmitters.java:807)\n\tat org.eclipse.gmf.internal.common.codegen.GeneratorBase.doGenerateJavaClass(GeneratorBase.java:319)\n\tat org.eclipse.gmf.internal.common.codegen.GeneratorBase.doGenerateJavaClass(GeneratorBase.java:306)\n\tat org.eclipse.gmf.codegen.util.Generator.generateLinkEditPart(Generator.java:363)\n\tat org.eclipse.gmf.codegen.util.Generator.customRun(Generator.java:135)\n\tat org.eclipse.gmf.internal.common.codegen.GeneratorBase$1.run(GeneratorBase.java:448)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1798)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1780)\n\tat org.eclipse.gmf.internal.common.codegen.GeneratorBase.doRun(GeneratorBase.java:445)\n\tat org.eclipse.gmf.internal.common.codegen.GeneratorBase.run(GeneratorBase.java:86)\n\tat org.eclipse.gmf.internal.codegen.popup.actions.ExecuteTemplatesOperation.run(ExecuteTemplatesOperation.java:175)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)\n\n\nPrior validation of all involved files (.gmfgraph, .gmfgen) did not indicate any error...\n\nMichael",
    "Created an attachment (id\u003d59862)\nThe model that yields the crash\n\nThe model that yields the crash\n\nBTW: This is on GMF 2.0M4 (using eclipse 3.3M5).",
    "Check leonardo2.gmfgraph. There\u0027s Connection named ProcessUpdatesArtifactConnection which references UpdatesFigure. The figure (of type PolylineConnection) is child of another PolylineConnection, namely ReadsFigure. \nThere\u0027s no way to use child of a figure as a graphical element for connection. I believe UpdatesFigure is simply misplaced, as the rest of the figures in the model are correctly placed as top-level figures under FigureGallery. \nJust move UpdatesFigure out of ReadsFigure into FigureGallery and that should fix the issue.",
    "While I fully agree with the analysis and the proposed fix (thanks!) I still find it, well - let\u0027s say: not very graceful that the code generation fails on me with a Runtime Exception and an error description out of which a \"normal\" user (as I consider myself) can\u0027t make much sense. \n\nIf code-generation fails on me after prior validation failed (and gave me some proper indication) I would happily accept that, but since the prior validation did not signal any problem I consider such a subsequent crash not exactly expected behavior.\n\nSo, IMHO one should thus redirect this bugzilla toward the validator instead of just closing the issue.\n\nMichael\n",
    "Sounds reasonable, can be checked in .gmfgraph."
  ],
  "commentCreationDates": [
    "2007-02-27T11:48:42+01:00",
    "2007-02-27T11:50:57+01:00",
    "2007-03-06T00:12:59+01:00",
    "2007-03-06T09:14:55+01:00",
    "2007-03-06T17:19:37+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.RuntimeException",
      "message": "Unknown viewmap: org.eclipse.gmf.codegen.gmfgen.impl.ParentAssignedViewmapImpl@eaa0eaa (requiredPluginIDs: null, layoutType: UNKNOWN) (getterName: getFigureUpdatesFigure, setterName: null, figureQualifiedClassName: org.eclipse.gmf.runtime.draw2d.ui.figures.PolylineConnectionEx)",
      "elements": [
        {
          "method": "org.eclipse.gmf.internal.xpand.ast.ErrorStatement.evaluateInternal",
          "source": "ErrorStatement.java:47"
        },
        {
          "method": "org.eclipse.gmf.internal.xpand.ast.Statement.evaluate",
          "source": "Statement.java:27"
        },
        {
          "method": "org.eclipse.gmf.internal.xpand.ast.AbstractDefinition.evaluate",
          "source": "AbstractDefinition.java:94"
        },
        {
          "method": "org.eclipse.gmf.internal.xpand.ast.ExpandStatement.invokeDefinition",
          "source": "ExpandStatement.java:190"
        },
        {
          "method": "org.eclipse.gmf.internal.xpand.ast.ExpandStatement.evaluateInternal",
          "source": "ExpandStatement.java:161"
        },
        {
          "method": "org.eclipse.gmf.internal.xpand.ast.Statement.evaluate",
          "source": "Statement.java:27"
        },
        {
          "method": "org.eclipse.gmf.internal.xpand.ast.AbstractDefinition.evaluate",
          "source": "AbstractDefinition.java:94"
        },
        {
          "method": "org.eclipse.gmf.internal.xpand.XpandFacade.evaluate",
          "source": "XpandFacade.java:60"
        },
        {
          "method": "org.eclipse.gmf.codegen.util.CodegenEmitters$XpandTextEmitter.generate",
          "source": "CodegenEmitters.java:807"
        },
        {
          "method": "org.eclipse.gmf.internal.common.codegen.GeneratorBase.doGenerateJavaClass",
          "source": "GeneratorBase.java:319"
        },
        {
          "method": "org.eclipse.gmf.internal.common.codegen.GeneratorBase.doGenerateJavaClass",
          "source": "GeneratorBase.java:306"
        },
        {
          "method": "org.eclipse.gmf.codegen.util.Generator.generateLinkEditPart",
          "source": "Generator.java:363"
        },
        {
          "method": "org.eclipse.gmf.codegen.util.Generator.customRun",
          "source": "Generator.java:135"
        },
        {
          "method": "org.eclipse.gmf.internal.common.codegen.GeneratorBase$1.run",
          "source": "GeneratorBase.java:448"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1798"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1780"
        },
        {
          "method": "org.eclipse.gmf.internal.common.codegen.GeneratorBase.doRun",
          "source": "GeneratorBase.java:445"
        },
        {
          "method": "org.eclipse.gmf.internal.common.codegen.GeneratorBase.run",
          "source": "GeneratorBase.java:86"
        },
        {
          "method": "org.eclipse.gmf.internal.codegen.popup.actions.ExecuteTemplatesOperation.run",
          "source": "ExecuteTemplatesOperation.java:175"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:113"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "175681",
      "date": "2007-02-27T11:48:42+01:00",
      "product": "GMF",
      "component": "Models - Graphical",
      "severity": "normal"
    }
  ],
  "groupId": "175681",
  "bugId": "175681",
  "date": "2007-02-27T11:48:42+01:00",
  "product": "GMF",
  "component": "Models - Graphical",
  "severity": "normal"
}