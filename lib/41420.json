{
  "comments": [
    "If a table is created which has images associated with items in the first \ncolumn, but not in the second, deleting the first column throws an \nArrayIndexOutOfBoundsException.\n\nThe exception produced was:\njava.lang.ArrayIndexOutOfBoundsException: -1\n\tat org.eclipse.swt.widgets.ImageList.get(ImageList.java:176)\n\tat org.eclipse.swt.widgets.Table.destroyItem(Table.java:523)\n\tat org.eclipse.swt.widgets.TableColumn.releaseChild\n(TableColumn.java:305)\n\tat org.eclipse.swt.widgets.Widget.dispose(Widget.java:371)\n\tat ColumnDeleteProblem.main(ColumnDeleteProblem.java:43)\nException in thread \"main\" \n\nIn the org.eclipse.swt.widgets.Table class, if the first column is being \ndestroyed and other columns exists, the second column is shifted to the first \nand then destroyed.  During this shifting, an assumption is made that if the \nTable has an imagelist, then the image indices (from the LVITEM structures) of \nthe second column are valid indices into the imagelist.  The second column\u0027s \nindices are not valid, however, because the second column\u0027s items do not have \nimages.\n\nThe code in question is in Table.java, lines 522-523 (for 3.0, 529-530).",
    "Created an attachment (id\u003d5717)\nSample testcase\n",
    "*** Bug 41886 has been marked as a duplicate of this bug. ***",
    "Happens in 3.0 stream too.  SWT-only snippet:\n\npublic static void main(String[] args) {\n\tDisplay display \u003d new Display();\n\tShell shell \u003d new Shell(display);\n\tshell.setLayout(new FillLayout());\n\tTable table \u003d new Table(shell, 0);\n\tTableColumn tcOne \u003d new TableColumn(table, SWT.LEFT);\n\ttcOne.setWidth(100);\n\tnew TableColumn(table, SWT.LEFT).setWidth(100);\n\tTableItem item \u003d new TableItem(table, SWT.NONE);\n\tImage image \u003d new Image(display, \"c:\\\\icon.gif\");\n\titem.setImage(image);\n\titem.setText(new String[] { \"col1\", \"col2\" });\n\tshell.open();\n\ttcOne.dispose();\n\twhile (!shell.isDisposed()) {\n\t\tif (!display.readAndDispatch())\n\t\t\tdisplay.sleep();\n\t}\n\tdisplay.dispose();\n}\n",
    "Fixed \u003e 20031021."
  ],
  "commentCreationDates": [
    "2003-08-12T01:54:32+02:00",
    "2003-08-12T01:56:35+02:00",
    "2003-08-26T20:30:27+02:00",
    "2003-09-03T21:13:03+02:00",
    "2003-10-21T20:39:50+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "-1",
      "elements": [
        {
          "method": "org.eclipse.swt.widgets.ImageList.get",
          "source": "ImageList.java:176"
        },
        {
          "method": "org.eclipse.swt.widgets.Table.destroyItem",
          "source": "Table.java:523"
        },
        {
          "method": "org.eclipse.swt.widgets.TableColumn.releaseChild",
          "source": "TableColumn.java:305"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.dispose",
          "source": "Widget.java:371"
        },
        {
          "method": "ColumnDeleteProblem.main",
          "source": "ColumnDeleteProblem.java:43"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "41420",
      "date": "2003-08-12T01:54:32+02:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    }
  ],
  "groupId": "41420",
  "bugId": "41420",
  "date": "2003-08-12T01:54:32+02:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "normal"
}