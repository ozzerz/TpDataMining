{
  "comments": [
    "Build ID: M20070212-1330\n\nSteps To Reproduce:\n1. Create a plain java project\n2. Create a directory META-INF\n3. Create a manifest file META-INF/MANIFEST.MF with the\nsingle line in it:\nManifest-Version: 1.0\n4. Convert the project to a plug-in project by running the wizard started by \u003cproject\u003e-\u003eContext Menu-\u003ePDE Tools-\u003eConvert projects to plugin projects...\n5. Try to create an Ant Build File by selecting the build.properties file and then Context Menu-\u003ePDE Tools-\u003eCreate Ant Build File\n\nResult is a Null Pointer Exception:\njava.lang.NullPointerException\n\tat org.eclipse.pde.internal.ui.build.BuildPluginAction.makeScripts(BuildPluginAction.java:44)\n\tat org.eclipse.pde.internal.ui.build.BaseBuildAction.doBuild(BaseBuildAction.java:115)\n\tat org.eclipse.pde.internal.ui.build.BaseBuildAction.access$0(BaseBuildAction.java:104)\n\tat org.eclipse.pde.internal.ui.build.BaseBuildAction$2.run(BaseBuildAction.java:70)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1737)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)\n\tat org.eclipse.pde.internal.ui.build.BaseBuildAction$1.run(BaseBuildAction.java:77)\n\tat org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:369)\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:313)\n\tat org.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.java:763)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)\n\tat org.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.java:760)\n\tat org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:2283)\n\tat org.eclipse.ui.internal.progress.ProgressManager$5.run(ProgressManager.java:1130)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)\n\tat org.eclipse.ui.internal.progress.ProgressManager.runInUI(ProgressManager.java:1126)\n\tat org.eclipse.pde.internal.ui.build.BaseBuildAction.run(BaseBuildAction.java:84)\n\tat org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:254)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1930)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1894)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:422)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)\n\n\n\nMore information:",
    "seems like this might be a good bug for Noam Chitayat.  The problem is when converting we check to see if a Manifest exists.  Instead, we should check to see if a valid OSGi Manifest exists.  Would give some exposure to models and modifying files.",
    "Noam to fix it.  Brian to review.",
    "Created an attachment (id\u003d66378)\nPatch for bug 185254. (Affects ConvertedProjectsPage.java)\n\nIf the Manifest file exists, we assume it has the necessary information for a plugin and do not alter it. Afterwards, when we try to read in necessary data, an NPE is thrown if the data is missing.\n\nConvertedProjectsPage.createManifestFile is now always called from ConvertedProjectsPage.convertProject, instead of only when the manifest file does not exist.\n\ncreateManifestFile now checks if a Bundle-SymbolicName exists, a Bundle-Name exists, and a Bundle-Version exists. If they all exist, then there is no need to go through the rest of the Manifest creation since the existing Manifest is valid. If any (or all) of the information is missing, then createManifestFile performs the same behaviour as before, because the Manifest file is not valid or does not exist.",
    "Noam, it would also be good to ensure \u0027model\u0027 and \u0027model.getPluginBase().getId()\u0027 are not equal to null in BuildPluginAction. ",
    "Created an attachment (id\u003d66493)\nRevised patch for bug 185254. (Affects BuildPluginAction.java, ConvertedProjectsPage.java, pderesources.properties, PDEUIMessages.java)\n\nIf a user creates a MANIFEST.MF file for a Java project, there is not yet enough information to create a build script. If a user attempts to do so before converting the project, the script is not built and a proper error message is shown to the user.",
    "Patch looked really good.  \n\nReleased with slight modification.  I am glad you found the two methods (IBundle/IPlugin) to access a Manifest\u0027s id, name, and version.  To keep everything simple, I modified the IPlugin.setId(), .setVersion(), .setName() to IBundle.setHeader.() to use one method set get/set the information.\n\nThanks Noam",
    "*** Bug 187816 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2007-05-03T00:50:19+02:00",
    "2007-05-03T02:01:54+02:00",
    "2007-05-04T01:09:58+02:00",
    "2007-05-09T00:41:24+02:00",
    "2007-05-09T07:16:40+02:00",
    "2007-05-09T17:29:25+02:00",
    "2007-05-09T18:21:36+02:00",
    "2007-05-18T16:33:09+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.pde.internal.ui.build.BuildPluginAction.makeScripts",
          "source": "BuildPluginAction.java:44"
        },
        {
          "method": "org.eclipse.pde.internal.ui.build.BaseBuildAction.doBuild",
          "source": "BaseBuildAction.java:115"
        },
        {
          "method": "org.eclipse.pde.internal.ui.build.BaseBuildAction.access$0",
          "source": "BaseBuildAction.java:104"
        },
        {
          "method": "org.eclipse.pde.internal.ui.build.BaseBuildAction$2.run",
          "source": "BaseBuildAction.java:70"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1737"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1719"
        },
        {
          "method": "org.eclipse.pde.internal.ui.build.BaseBuildAction$1.run",
          "source": "BaseBuildAction.java:77"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:369"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:313"
        },
        {
          "method": "org.eclipse.jface.window.ApplicationWindow$1.run",
          "source": "ApplicationWindow.java:763"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:67"
        },
        {
          "method": "org.eclipse.jface.window.ApplicationWindow.run",
          "source": "ApplicationWindow.java:760"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.run",
          "source": "WorkbenchWindow.java:2283"
        },
        {
          "method": "org.eclipse.ui.internal.progress.ProgressManager$5.run",
          "source": "ProgressManager.java:1130"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:67"
        },
        {
          "method": "org.eclipse.ui.internal.progress.ProgressManager.runInUI",
          "source": "ProgressManager.java:1126"
        },
        {
          "method": "org.eclipse.pde.internal.ui.build.BaseBuildAction.run",
          "source": "BaseBuildAction.java:84"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:254"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:539"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3348"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2968"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1930"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1894"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:422"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:280"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "185254",
      "date": "2007-05-03T00:50:19+02:00",
      "product": "PDE",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "185254",
  "bugId": "185254",
  "date": "2007-05-03T00:50:19+02:00",
  "product": "PDE",
  "component": "UI",
  "severity": "normal"
}