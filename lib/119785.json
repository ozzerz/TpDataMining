{
  "comments": [
    "I opened a closed (CVS-shared) project. I then got the following exception in Eclipse:\n\n!ENTRY org.eclipse.core.runtime 4 2 2005-12-08 03:36:08.610\n!MESSAGE An internal error occurred during: \"Updating Change Sets for CVS Workspace\".\n!STACK 0\njava.util.ConcurrentModificationException\n\tat java.util.HashMap$HashIterator.nextEntry(HashMap.java:787)\n\tat java.util.HashMap$KeyIterator.next(HashMap.java:823)\n\tat org.eclipse.mylar.core.internal.MylarContext.getInteresting(MylarContext.java:137)\n\tat org.eclipse.mylar.core.internal.CompositeContext.getInteresting(CompositeContext.java:71)\n\tat org.eclipse.mylar.core.internal.MylarContextManager.getInterestingDocuments(MylarContextManager.java:652)\n\tat org.eclipse.mylar.core.internal.MylarContextManager.getInterestingDocuments(MylarContextManager.java:669)\n\tat org.eclipse.mylar.ide.MylarIdePlugin.getInterestingResources(MylarIdePlugin.java:153)\n\tat org.eclipse.mylar.ide.MylarContextChangeSet.getAllResourcesInChangeContext(MylarContextChangeSet.java:162)\n\tat org.eclipse.mylar.ide.MylarContextChangeSet.contains(MylarContextChangeSet.java:172)\n\tat org.eclipse.team.internal.core.subscribers.SubscriberChangeSetCollector$EventHandler.removeFromAllSets(SubscriberChangeSetCollector.java:218)\n\tat org.eclipse.team.internal.core.subscribers.SubscriberChangeSetCollector$EventHandler.handleChange(SubscriberChangeSetCollector.java:202)\n\tat org.eclipse.team.internal.core.subscribers.SubscriberChangeSetCollector$EventHandler.doDispatchEvents(SubscriberChangeSetCollector.java:84)\n\tat org.eclipse.team.internal.core.BackgroundEventHandler.dispatchEvents(BackgroundEventHandler.java:354)\n\tat org.eclipse.team.internal.core.BackgroundEventHandler.processEvents(BackgroundEventHandler.java:334)\n\tat org.eclipse.team.internal.core.BackgroundEventHandler$1.run(BackgroundEventHandler.java:173)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)\n\nAfter this, the various Mylar-empowered views (Package Explorer, Outline) started flickering something awful -- 3-4 times/second. Initially I thought this was due to the \"Scanning for tasks\" progress job which was running, but after this job ended the flickering persisted.\n\nAt the same time I noticed two anomalies:\n\nFirst, the flickering also screwed up the Package Explorer; whenever I scrolled around it would scroll somewhere else, similar to how Mylar behaves when it collapses uninteresting structures.\n\nAnd secondly, in the opened project it was showing all the project\u0027s packages, but showing them collapsed, ie. with none of the files visible. None of the packages were highlighted as interesting.\n\nI\u0027m not sure if I\u0027ve ever used Mylar with the project I opened.\n\nOn restarting Eclipse everything is back to normal.",
    "Thanks for the clear report Alex.  This will be fixed for Friday\u0027s release.",
    "I\u0027ve fixed the bug.  However, if you have an active context and check a project out of CVS each resource will be made interesting as it becomes a part of the workspace (and as each becomes interesting the views will flicker).  This is slightly odd behavior, but there has been considerable feedback that newly created resources should become interesting (e.g. newly created files, things coming from patches, CVS).  So with 0.4.5 to prevent those resources from becoming interesting you will need to deactivate the active task.  I might need to add this to the FAQ.  Thoughts?\n\nAre you using 3.2?  If so I could post a dev build for you to try the fix out on.",
    "(In reply to comment #2)\n\u003e I\u0027ve fixed the bug.\n\nGreat, thanks.\n\n\u003e However, if you have an active context and check a project\n\u003e out of CVS each resource will be made interesting as it becomes a part of the\n\u003e workspace (and as each becomes interesting the views will flicker).\n\nYou mean *every* resource will become interesting? That seems very wrong to me.  If I check out a project, the project itself should become interesting, but I have not yet worked on any files, so Mylar should not make any overriding decision about which files it thinks are interesting to me.\n\nI agree that explicit changes (file creation, or batch modification such as through patches) must mark the files as interesting, though. But I think Mylar should be about authorship, not what happens at the file level: When you do a CVS checkout, while it\u0027s certain creating files at the file-system level, it\u0027s not *authoring* files.\n\n\u003e So with 0.4.5 to prevent those resources from\n\u003e becoming interesting you will need to deactivate the active task.  I might need\n\u003e to add this to the FAQ.  Thoughts?\n\nIf there is no way/time to fix the problem now, then that\u0027s fine, of course. In the longer term, however, I hope you will address the larger issue of how to mark newly-created objects.\n \n\u003e Are you using 3.2?  If so I could post a dev build for you to try the fix out\n\u003e on.\n\nThis bug is by no means a priority for me; I would be happy to test 0.4.5 when you release it.",
    "Alexander, could I ask you to take your latest comments and create a new bug with them, titled \"[discussion] should all newly created resources become interesting?\" and provide the CVS example?\n\nIn general I agree with you that there is a mismatch between the expecation and the behavior here, but it will be a bit tricky to resolve and we will need to consider the other cases, not to mention how to detect the mechanism by which the resources were created."
  ],
  "commentCreationDates": [
    "2005-12-08T02:48:54+01:00",
    "2005-12-08T02:50:50+01:00",
    "2005-12-08T20:58:33+01:00",
    "2005-12-09T00:42:59+01:00",
    "2005-12-09T18:19:31+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.util.ConcurrentModificationException",
      "elements": [
        {
          "method": "java.util.HashMap$HashIterator.nextEntry",
          "source": "HashMap.java:787"
        },
        {
          "method": "java.util.HashMap$KeyIterator.next",
          "source": "HashMap.java:823"
        },
        {
          "method": "org.eclipse.mylar.core.internal.MylarContext.getInteresting",
          "source": "MylarContext.java:137"
        },
        {
          "method": "org.eclipse.mylar.core.internal.CompositeContext.getInteresting",
          "source": "CompositeContext.java:71"
        },
        {
          "method": "org.eclipse.mylar.core.internal.MylarContextManager.getInterestingDocuments",
          "source": "MylarContextManager.java:652"
        },
        {
          "method": "org.eclipse.mylar.core.internal.MylarContextManager.getInterestingDocuments",
          "source": "MylarContextManager.java:669"
        },
        {
          "method": "org.eclipse.mylar.ide.MylarIdePlugin.getInterestingResources",
          "source": "MylarIdePlugin.java:153"
        },
        {
          "method": "org.eclipse.mylar.ide.MylarContextChangeSet.getAllResourcesInChangeContext",
          "source": "MylarContextChangeSet.java:162"
        },
        {
          "method": "org.eclipse.mylar.ide.MylarContextChangeSet.contains",
          "source": "MylarContextChangeSet.java:172"
        },
        {
          "method": "org.eclipse.team.internal.core.subscribers.SubscriberChangeSetCollector$EventHandler.removeFromAllSets",
          "source": "SubscriberChangeSetCollector.java:218"
        },
        {
          "method": "org.eclipse.team.internal.core.subscribers.SubscriberChangeSetCollector$EventHandler.handleChange",
          "source": "SubscriberChangeSetCollector.java:202"
        },
        {
          "method": "org.eclipse.team.internal.core.subscribers.SubscriberChangeSetCollector$EventHandler.doDispatchEvents",
          "source": "SubscriberChangeSetCollector.java:84"
        },
        {
          "method": "org.eclipse.team.internal.core.BackgroundEventHandler.dispatchEvents",
          "source": "BackgroundEventHandler.java:354"
        },
        {
          "method": "org.eclipse.team.internal.core.BackgroundEventHandler.processEvents",
          "source": "BackgroundEventHandler.java:334"
        },
        {
          "method": "org.eclipse.team.internal.core.BackgroundEventHandler$1.run",
          "source": "BackgroundEventHandler.java:173"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:76"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "119785",
      "date": "2005-12-08T02:48:54+01:00",
      "product": "Mylyn",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "119785",
  "bugId": "119785",
  "date": "2005-12-08T02:48:54+01:00",
  "product": "Mylyn",
  "component": "UI",
  "severity": "major"
}