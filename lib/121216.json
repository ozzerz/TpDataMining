{
  "comments": [
    "I haven\u0027t been able to get a reproducible case but i\u0027m see NullPointerExceptions when using the StructuredTextEditor with the xve visual editor. One the first exception happens, a NPE happens on every formatting call after that. The exception is triggered by the code in column 530 in line 58.\nThe expression node.getStartStructuredDocumentRegion() is returning null.\n\n!ENTRY org.eclipse.jface 4 2 2005-12-16 09:40:10.276\n!MESSAGE Problems occurred when invoking code from plug-in: \"org.eclipse.jface\".\n!STACK 0\njava.lang.NullPointerException\n\tat org.eclipse.wst.xml.core.internal.provisional.format.TextNodeFormatter.formatNode(TextNodeFormatter.java:58)\n\tat org.eclipse.wst.xml.core.internal.provisional.format.NodeFormatter.format(NodeFormatter.java:152)\n\tat org.eclipse.wst.xml.core.internal.provisional.format.NodeFormatter.formatIndentationAfterNode(NodeFormatter.java:185)\n\tat org.eclipse.wst.xml.core.internal.provisional.format.ElementNodeFormatter.formatNode(ElementNodeFormatter.java:126)\n\tat org.eclipse.wst.xml.core.internal.provisional.format.NodeFormatter.format(NodeFormatter.java:152)\n\tat org.eclipse.wst.xml.core.internal.provisional.format.DocumentNodeFormatter.formatChildren(DocumentNodeFormatter.java:40)\n\tat org.eclipse.wst.xml.core.internal.provisional.format.ElementNodeFormatter.formatNode(ElementNodeFormatter.java:115)\n\tat org.eclipse.wst.xml.core.internal.provisional.format.NodeFormatter.format(NodeFormatter.java:152)\n\tat org.eclipse.wst.sse.core.internal.format.AbstractStructuredFormatProcessor.formatNode(AbstractStructuredFormatProcessor.java:379)\n\tat org.eclipse.wst.sse.core.internal.format.AbstractStructuredFormatProcessor.formatModel(AbstractStructuredFormatProcessor.java:330)\n\tat com.ibm.etools.xve.internal.editor.commands.util.NodeFormatter.formatNode(NodeFormatter.java:285)\n\tat com.ibm.etools.xve.internal.editor.commands.util.NodeFormatter.formatNode(NodeFormatter.java:27)",
    "Darrell, I\u0027ll investigate some safety measures, but can you explain what makes \nthis \u0027critical\u0027? \nhttps://bugs.eclipse.org/bugs/page.cgi?id\u003dfields.html#bug_severity\n\nI suspect \u0027normal\u0027, or maybe \u0027major\u0027 if prevents formating? \n\n",
    "I made the severity critical because I considered an exception a \"crash\". If the definition of \"crash\" is generating a java core dump, then I\u0027m ok with making the bug\u0027s severity \"major\". I consider not being able to programmatically format a source page a major function loss.",
    "Thanks for clarifying. \n\nFrom examinging the code involved, it * might * help you to reproduce to know it might occur if/when you programmatically add multiple text nodes under another element. We leave them \"seperate\" (as per DOM API spec) unless or until the contents of one of the adjacent text nodes is modified, at which point we have to \"join\" them. So, just thought I\u0027d give you a hint if that helps reproduce it :) \n\nWhile this is a major problem, is it important for you for 1.0.1 release? Or just \"as soon as possible\"?\n\n\n",
    "I would like to see the fix in Release 1.0.1 as we may upgrade to this sooner than Release 1.5 because of the Eclipse 3.2 dependency Release 1.5 has. Thanks.",
    "ok, I\u0027ll target for 101 to investigate more aggressively. \n",
    "I have not had time to \"investigate agressively\" as hoped. \nI you can provide a JUnit test that consistently shows the error, (and, even a patch that fixes the error difinitively?) then that will help us fix sooner. \n\n",
    "Since 1.5 M5 was declared, I am changing the target of this bug to 1.5 M6. Feel free to retarget it if necessary. Thanks.",
    "This will be hard to gaurentee fixed, without reproducible test case, but I\u0027ve cleaned up the code some, so, if still occurs, should at least provide better location of the error. \n\nMy concern is the NPE is really just a symtom of a deeper problem? Such as the model becoming contaminated? \n\n\n\n",
    "Please see if you can reproduce with I-builds \u003e 3/26, and if so, attach the stack trace from that (since the code now has new line numbers). \n\n",
    "Darrell, I\u0027m moving to \"fixed\", since I plan to do no more here until I hear new complaints :)  but if you can verify fixed or not, please indicate. \n\n",
    "I haven\u0027t seen the exception since upgrading to M6. I think this bug is fixed.",
    "That\u0027s good enough for me :) Thanks Darrell. \n\n",
    "This is part of a mass update to close out all stale WTP defects already verified by the reporter but awaiting closure by the assignee.  If you feel this defect was closed inappropriately, please reopen.\n\nThanks, John Lanuti"
  ],
  "commentCreationDates": [
    "2005-12-16T15:17:45+01:00",
    "2006-01-09T16:45:27+01:00",
    "2006-01-09T17:34:59+01:00",
    "2006-01-09T19:14:33+01:00",
    "2006-01-12T14:48:29+01:00",
    "2006-01-12T14:59:52+01:00",
    "2006-02-06T03:02:04+01:00",
    "2006-03-09T08:59:32+01:00",
    "2006-03-27T02:55:11+02:00",
    "2006-03-27T03:33:03+02:00",
    "2006-04-06T00:32:53+02:00",
    "2006-06-19T22:53:00+02:00",
    "2006-06-19T22:59:46+02:00",
    "2006-11-28T20:37:04+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.wst.xml.core.internal.provisional.format.TextNodeFormatter.formatNode",
          "source": "TextNodeFormatter.java:58"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.provisional.format.NodeFormatter.format",
          "source": "NodeFormatter.java:152"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.provisional.format.NodeFormatter.formatIndentationAfterNode",
          "source": "NodeFormatter.java:185"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.provisional.format.ElementNodeFormatter.formatNode",
          "source": "ElementNodeFormatter.java:126"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.provisional.format.NodeFormatter.format",
          "source": "NodeFormatter.java:152"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.provisional.format.DocumentNodeFormatter.formatChildren",
          "source": "DocumentNodeFormatter.java:40"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.provisional.format.ElementNodeFormatter.formatNode",
          "source": "ElementNodeFormatter.java:115"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.provisional.format.NodeFormatter.format",
          "source": "NodeFormatter.java:152"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.format.AbstractStructuredFormatProcessor.formatNode",
          "source": "AbstractStructuredFormatProcessor.java:379"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.format.AbstractStructuredFormatProcessor.formatModel",
          "source": "AbstractStructuredFormatProcessor.java:330"
        },
        {
          "method": "com.ibm.etools.xve.internal.editor.commands.util.NodeFormatter.formatNode",
          "source": "NodeFormatter.java:285"
        },
        {
          "method": "com.ibm.etools.xve.internal.editor.commands.util.NodeFormatter.formatNode",
          "source": "NodeFormatter.java:27"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "121216",
      "date": "2005-12-16T15:17:45+01:00",
      "product": "Web Tools",
      "component": "wst.xml",
      "severity": "major"
    }
  ],
  "groupId": "121216",
  "bugId": "121216",
  "date": "2005-12-16T15:17:45+01:00",
  "product": "Web Tools",
  "component": "wst.xml",
  "severity": "major"
}