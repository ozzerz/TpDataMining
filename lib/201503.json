{
  "comments": [
    "I have the following script in a report in the afterRender section:\n\nimportPackage(Packages.com.company.application.report.birt);\nBIRTReportUtilStatic.someMethod(\"A\", \"B\", \"C\")\n\nThe BIRTReportUtilStatic is a simple static class that is inside a JAR in BIRT\u0027s scriptlib folder.\n\nI have an application.ear which contains, among other things, my application.war and the birt.war in the root.  From the BIRTReportStatic class, I need to use classes which are in application-common.jar and application-report.jar.  These jar files are deployed in the APP-INF/lib folder of the application.ear.\n\nI added a META-INF/MANIFEST.MF to the birt.war with the following entry:\n\nClass-Path: ./APP-INF/lib/application-common.jar ./APP-INF/lib/momentum-report.jar\n\nDespite this, I get the exception:\n\nAug 28, 2007 10:44:14 PM org.eclipse.birt.report.engine.executor.ExecutionContext evaluate\nSEVERE: com/company/application/report/birt/util/SomeOtherClassName\njava.lang.NoClassDefFoundError: com/company/application/report/birt/util/SomeOtherClassName\n        at com.company.application.report.birt.BIRTReportUtilStatic.someMethod(BIRTReportUtilStatic.java:22)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:585)\n        at org.mozilla.javascript.MemberBox.invoke(MemberBox.java:174)\n        at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:197)\n        at org.mozilla.javascript.optimizer.OptRuntime.callN(OptRuntime.java:83)\n        at org.mozilla.javascript.gen.c65._c0(\u003cinline\u003e:3)\n        at org.mozilla.javascript.gen.c65.call(\u003cinline\u003e)\n        at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:304)\n        at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:2769)\n        at org.mozilla.javascript.gen.c65.call(\u003cinline\u003e)\n        at org.mozilla.javascript.gen.c65.exec(\u003cinline\u003e)\n        at org.eclipse.birt.core.script.ScriptContext.eval(ScriptContext.java:223)\n        at org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate(ExecutionContext.java:571)\n        at org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate(ExecutionContext.java:550)\n        at org.eclipse.birt.report.engine.script.internal.ScriptExecutor.handleJSInternal(ScriptExecutor.java:60)\n        at org.eclipse.birt.report.engine.script.internal.ScriptExecutor.handleJS(ScriptExecutor.java:44)\n        at org.eclipse.birt.report.engine.script.internal.ReportScriptExecutor.handleAfterRender(ReportScriptExecutor.java:101)\n        at org.eclipse.birt.report.engine.api.impl.EngineTask.closeRender(EngineTask.java:1122)\n        at org.eclipse.birt.report.engine.api.impl.RenderTask$PageRangeRender.render(RenderTask.java:536)\n        at org.eclipse.birt.report.engine.api.impl.RenderTask.render(RenderTask.java:254)\n        at org.eclipse.birt.report.service.ReportEngineService.renderReport(Unknown Source)\n        at org.eclipse.birt.report.service.ReportEngineService.renderReport(Unknown Source)\n        at org.eclipse.birt.report.service.BirtViewerReportService.getPage(Unknown Source)\n        at org.eclipse.birt.report.service.actionhandler.AbstractGetPageActionHandler.doExecution(Unknown Source)\n        at org.eclipse.birt.report.service.actionhandler.AbstractGetPageActionHandler.__execute(Unknown Source)\n        at org.eclipse.birt.report.service.actionhandler.AbstractBaseActionHandler.execute(Unknown Source)\n        at org.eclipse.birt.report.soapengine.processor.AbstractBaseDocumentProcessor.__executeAction(Unknown Source)\n        at org.eclipse.birt.report.soapengine.processor.AbstractBaseComponentProcessor.executeAction(Unknown Source)\n        at org.eclipse.birt.report.soapengine.processor.BirtDocumentProcessor.handleGetPage(Unknown Source)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:585)\n        at org.eclipse.birt.report.soapengine.processor.AbstractBaseComponentProcessor.process(Unknown Source)\n        at org.eclipse.birt.report.soapengine.endpoint.BirtSoapBindingImpl.getUpdatedObjects(Unknown Source)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:585)\n        at org.apache.axis.providers.java.RPCProvider.invokeMethod(RPCProvider.java:397)\n        at org.apache.axis.providers.java.RPCProvider.processMessage(RPCProvider.java:186)\n        at org.apache.axis.providers.java.JavaProvider.invoke(JavaProvider.java:323)\n        at org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java:32)\n        at org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118)\n        at org.apache.axis.SimpleChain.invoke(SimpleChain.java:83)\n        at org.apache.axis.handlers.soap.SOAPService.invoke(SOAPService.java:453)\n        at org.apache.axis.server.AxisServer.invoke(AxisServer.java:281)\n        at org.apache.axis.transport.http.AxisServlet.doPost(AxisServlet.java:699)\n        at org.eclipse.birt.report.servlet.BirtSoapMessageDispatcherServlet.doPost(Unknown Source)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:763)\n        at org.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:327)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:856)\n        at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:225)\n        at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:127)\n        at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:272)\n        at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:165)\n        at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3153)\n        at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\n        at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:121)\n        at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:1973)\n        at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:1880)\n        at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1310)\n        at weblogic.work.ExecuteThread.execute(ExecuteThread.java:207)\n        at weblogic.work.ExecuteThread.run(ExecuteThread.java:179)\n\nAt the suggestion of Jason Weathersby, I added copies of each of the JAR files I needed into the WEB-INF\\lib folder of the birt.war.  Unfortunately, BIRT still fails to see the classes.\n\nAs a last resort, I copied each of the jar files I need directly into BIRT\u0027s scriptlib folder.  BIRT does pick up the classes, but unfortunately, either a different classloader or different JVM is being used, because the instances (singletons, etc) of the classes are not the same.  So, ultimately, this approach also fails.",
    "I forgot to mention that I am deploying my application on Weblogic 9.1 with the 1.5.0_06 JDK.",
    "I have done the test. If put script jar in scriptlib folder and put it\u0027s required jar file in WEB-INF/lib, it worked well. If put all jars in WEB-INF/lib, it also worked well.",
    "Can\u0027t reproduct this issue. Set to WORKSFORME to integrate build.",
    "The support team as well as the engineering team at Actuate was able to recreate this issue as part of support case 215182.\n\nI\u0027m curious about your \"working\" test case.  Could you explain how you set up the birt.war, application JARs, and classpath in the manifest files within the application EAR?",
    "Please check the attachment.\n\nsteps:\n\n1: put birtutil.jar in scriptlib folder in birt.war.\n2: put hello.jar in WEB-INF/lib in birt.war\n3: put report design file into birt.war\n4: deploy birt.war\n\nPreview this report, it will work well.\nYou can also put these two jars in WEB-INF/lib folder.",
    "Created an attachment (id\u003d78698)\nSample files\n\n",
    "I have also followed your steps and created an EAR package to do test. It also worked well.\n\n1: put hello.jar in APP-INF/lib\n2: pub birtutil.jar in scriptlib folder in birt.war\n3: add META-INF/MANIFEST.MF file to the birt.war\n   Class-Path: ./APP-INF/lib/hello.jar\n4: deploy ear in weblogic",
    "In addition, I think there is a mistake in your MANIFEST.MF file. You should separate jar files by comma. As following:\n\nClass-Path: ./APP-INF/lib/application-common.jar,\n ./APP-INF/lib/momentum-report.jar\n\nYou can open it in eclipse to validate it.",
    "Still can\u0027t reproduct it in our env. Close it first to make build."
  ],
  "commentCreationDates": [
    "2007-08-29T05:46:00+02:00",
    "2007-08-29T05:58:17+02:00",
    "2007-09-18T08:10:24+02:00",
    "2007-09-18T08:49:30+02:00",
    "2007-09-18T14:56:39+02:00",
    "2007-09-19T03:21:20+02:00",
    "2007-09-19T03:21:58+02:00",
    "2007-09-19T05:09:51+02:00",
    "2007-09-19T05:36:37+02:00",
    "2007-09-24T11:08:52+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoClassDefFoundError",
      "message": "com/company/application/report/birt/util/SomeOtherClassName",
      "elements": [
        {
          "method": "com.company.application.report.birt.BIRTReportUtilStatic.someMethod",
          "source": "BIRTReportUtilStatic.java:22"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.mozilla.javascript.MemberBox.invoke",
          "source": "MemberBox.java:174"
        },
        {
          "method": "org.mozilla.javascript.NativeJavaMethod.call",
          "source": "NativeJavaMethod.java:197"
        },
        {
          "method": "org.mozilla.javascript.optimizer.OptRuntime.callN",
          "source": "OptRuntime.java:83"
        },
        {
          "method": "org.mozilla.javascript.gen.c65._c0",
          "source": "\u003cinline\u003e:3"
        },
        {
          "method": "org.mozilla.javascript.gen.c65.call",
          "source": "\u003cinline\u003e"
        },
        {
          "method": "org.mozilla.javascript.ContextFactory.doTopCall",
          "source": "ContextFactory.java:304"
        },
        {
          "method": "org.mozilla.javascript.ScriptRuntime.doTopCall",
          "source": "ScriptRuntime.java:2769"
        },
        {
          "method": "org.mozilla.javascript.gen.c65.call",
          "source": "\u003cinline\u003e"
        },
        {
          "method": "org.mozilla.javascript.gen.c65.exec",
          "source": "\u003cinline\u003e"
        },
        {
          "method": "org.eclipse.birt.core.script.ScriptContext.eval",
          "source": "ScriptContext.java:223"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate",
          "source": "ExecutionContext.java:571"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate",
          "source": "ExecutionContext.java:550"
        },
        {
          "method": "org.eclipse.birt.report.engine.script.internal.ScriptExecutor.handleJSInternal",
          "source": "ScriptExecutor.java:60"
        },
        {
          "method": "org.eclipse.birt.report.engine.script.internal.ScriptExecutor.handleJS",
          "source": "ScriptExecutor.java:44"
        },
        {
          "method": "org.eclipse.birt.report.engine.script.internal.ReportScriptExecutor.handleAfterRender",
          "source": "ReportScriptExecutor.java:101"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.EngineTask.closeRender",
          "source": "EngineTask.java:1122"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RenderTask$PageRangeRender.render",
          "source": "RenderTask.java:536"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RenderTask.render",
          "source": "RenderTask.java:254"
        },
        {
          "method": "org.eclipse.birt.report.service.ReportEngineService.renderReport",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.service.ReportEngineService.renderReport",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.service.BirtViewerReportService.getPage",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.service.actionhandler.AbstractGetPageActionHandler.doExecution",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.service.actionhandler.AbstractGetPageActionHandler.__execute",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.service.actionhandler.AbstractBaseActionHandler.execute",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.soapengine.processor.AbstractBaseDocumentProcessor.__executeAction",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.soapengine.processor.AbstractBaseComponentProcessor.executeAction",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.soapengine.processor.BirtDocumentProcessor.handleGetPage",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.birt.report.soapengine.processor.AbstractBaseComponentProcessor.process",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.soapengine.endpoint.BirtSoapBindingImpl.getUpdatedObjects",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.apache.axis.providers.java.RPCProvider.invokeMethod",
          "source": "RPCProvider.java:397"
        },
        {
          "method": "org.apache.axis.providers.java.RPCProvider.processMessage",
          "source": "RPCProvider.java:186"
        },
        {
          "method": "org.apache.axis.providers.java.JavaProvider.invoke",
          "source": "JavaProvider.java:323"
        },
        {
          "method": "org.apache.axis.strategies.InvocationStrategy.visit",
          "source": "InvocationStrategy.java:32"
        },
        {
          "method": "org.apache.axis.SimpleChain.doVisiting",
          "source": "SimpleChain.java:118"
        },
        {
          "method": "org.apache.axis.SimpleChain.invoke",
          "source": "SimpleChain.java:83"
        },
        {
          "method": "org.apache.axis.handlers.soap.SOAPService.invoke",
          "source": "SOAPService.java:453"
        },
        {
          "method": "org.apache.axis.server.AxisServer.invoke",
          "source": "AxisServer.java:281"
        },
        {
          "method": "org.apache.axis.transport.http.AxisServlet.doPost",
          "source": "AxisServlet.java:699"
        },
        {
          "method": "org.eclipse.birt.report.servlet.BirtSoapMessageDispatcherServlet.doPost",
          "source": "Unknown Source"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:763"
        },
        {
          "method": "org.apache.axis.transport.http.AxisServletBase.service",
          "source": "AxisServletBase.java:327"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:856"
        },
        {
          "method": "weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run",
          "source": "StubSecurityHelper.java:225"
        },
        {
          "method": "weblogic.servlet.internal.StubSecurityHelper.invokeServlet",
          "source": "StubSecurityHelper.java:127"
        },
        {
          "method": "weblogic.servlet.internal.ServletStubImpl.execute",
          "source": "ServletStubImpl.java:272"
        },
        {
          "method": "weblogic.servlet.internal.ServletStubImpl.execute",
          "source": "ServletStubImpl.java:165"
        },
        {
          "method": "weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run",
          "source": "WebAppServletContext.java:3153"
        },
        {
          "method": "weblogic.security.acl.internal.AuthenticatedSubject.doAs",
          "source": "AuthenticatedSubject.java:321"
        },
        {
          "method": "weblogic.security.service.SecurityManager.runAs",
          "source": "SecurityManager.java:121"
        },
        {
          "method": "weblogic.servlet.internal.WebAppServletContext.securedExecute",
          "source": "WebAppServletContext.java:1973"
        },
        {
          "method": "weblogic.servlet.internal.WebAppServletContext.execute",
          "source": "WebAppServletContext.java:1880"
        },
        {
          "method": "weblogic.servlet.internal.ServletRequestImpl.run",
          "source": "ServletRequestImpl.java:1310"
        },
        {
          "method": "weblogic.work.ExecuteThread.execute",
          "source": "ExecuteThread.java:207"
        },
        {
          "method": "weblogic.work.ExecuteThread.run",
          "source": "ExecuteThread.java:179"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "201503",
      "date": "2007-08-29T05:46:00+02:00",
      "product": "BIRT",
      "component": "Report Viewer",
      "severity": "blocker"
    }
  ],
  "groupId": "201503",
  "bugId": "201503",
  "date": "2007-08-29T05:46:00+02:00",
  "product": "BIRT",
  "component": "Report Viewer",
  "severity": "blocker"
}