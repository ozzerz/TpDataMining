{
  "comments": [
    "Hi,\nI encoutered problem after upgrading from 3.2 to 3.2.1 in launching RCP product with JWS. I was getting sudden crash on the very startup with log message:\njava.lang.NullPointerException\n\tat java.util.Hashtable.put(Unknown Source)\n\tat org.eclipse.core.launcher.WebStartMain.basicRun(WebStartMain.java:58)\n\tat org.eclipse.core.launcher.Main.run(Main.java:973)\n\tat org.eclipse.core.launcher.WebStartMain.main(WebStartMain.java:40)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat com.sun.javaws.Launcher.executeApplication(Unknown Source)\n\tat com.sun.javaws.Launcher.executeMainClass(Unknown Source)\n\tat com.sun.javaws.Launcher.continueLaunch(Unknown Source)\n\tat com.sun.javaws.Launcher.handleApplicationDesc(Unknown Source)\n\tat com.sun.javaws.Launcher.handleLaunchFile(Unknown Source)\n\tat com.sun.javaws.Launcher.run(Unknown Source)\n\tat java.lang.Thread.run(Unknown Source)\n\n\nI traced it down and solved. Problematic line is\nSystem.getProperties().put(PROP_FRAMEWORK, fwkURL);\n\nwhich fails b/c fwkURL is null. It is null, because earlier org.eclipse.osgi wasn\u0027t resolved to proper URL in method mapURLsToBundleList. And it wasn\u0027t resolved b/c the key bundle org.eclipse.osgi has two \u0027_\u0027 (underscore) signs in its name in 3.2.1. It is named org.eclipse.osgi_3.2.1.R32x_v20060919.jar and see the following snipped from mapURLsToBundleList\n\nif (bundleURLs \u003d\u003d null) {\n   int versionIdPosition \u003d bundleId.lastIndexOf(\u0027_\u0027);\t\t\n   if (versionIdPosition \u003d\u003d -1)\n     continue;\n   bundleURLs \u003d (ArrayList) bundleList.get(bundleId.substring(0, versionIdPosition));\n   if (bundleURLs \u003d\u003d null)\n      continue;\n}\n\nI cured the problem erasing one underscore from org.eclipse.osgi_3.2.1.R32x_v20060919.jar  to org.eclipse.osgi_3.2.1.R32xv20060919.jar \nand changing the rcp\u0027s JNLP file.\n\nBut in fact either the naming should change (like other bundles use - or dots instead of _) or the algorithm in WebStartMain\n\nbest regards,\nMichal Kostrzewa",
    "\n\n*** This bug has been marked as a duplicate of 162097 ***"
  ],
  "commentCreationDates": [
    "2006-10-26T13:16:27+02:00",
    "2006-10-26T15:08:44+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "java.util.Hashtable.put",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.WebStartMain.basicRun",
          "source": "WebStartMain.java:58"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.WebStartMain.main",
          "source": "WebStartMain.java:40"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "com.sun.javaws.Launcher.executeApplication",
          "source": "Unknown Source"
        },
        {
          "method": "com.sun.javaws.Launcher.executeMainClass",
          "source": "Unknown Source"
        },
        {
          "method": "com.sun.javaws.Launcher.continueLaunch",
          "source": "Unknown Source"
        },
        {
          "method": "com.sun.javaws.Launcher.handleApplicationDesc",
          "source": "Unknown Source"
        },
        {
          "method": "com.sun.javaws.Launcher.handleLaunchFile",
          "source": "Unknown Source"
        },
        {
          "method": "com.sun.javaws.Launcher.run",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Unknown Source"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "162383",
      "duplicateId": "162097",
      "date": "2006-10-26T13:16:27+02:00",
      "product": "Equinox",
      "component": "Framework",
      "severity": "normal"
    }
  ],
  "groupId": "162097",
  "bugId": "162383",
  "duplicateId": "162097",
  "date": "2006-10-26T13:16:27+02:00",
  "product": "Equinox",
  "component": "Framework",
  "severity": "normal"
}