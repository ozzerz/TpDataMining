{
  "comments": [
    "The following Java code is written under JDK 1.5.04\nwith the Java-Editor of Eclipse 3.1 (WinXP):\n\n----------- \u003csnip\u003e -----------------\n\nimport java.io.*;\n\npublic class C {\n    public void f(File f) {\n        try {\n            FileInputStream is \u003d new FileInputStream(f);\n        } catch (FileNotFoundException ex) {\n            System.err.println(\"file not found\");\n        }\n    }\n}\n\n-------------- \u003c/snip\u003e ---------------\n\nWhen trying to generalize the type FileNotFoundException\n(refactoring), I get an \"internal error during computation of valid types\"\n(reproducable). When I do the same thing for the FileInputStream,\neverything is fine.\n\nBye, Michael",
    "Here\u0027s, from the log, the exception which causes this internal error:\n\nCaused by: org.eclipse.jdt.internal.corext.Assert$AssertionFailedException:\nassertion failed;No constraint variable matches the selected ASTNode.\nat org.eclipse.jdt.internal.corext.Assert.isTrue(Assert.java:139)\nat\norg.eclipse.jdt.internal.corext.refactoring.structure.ChangeTypeRefactoring.findConstraintVariableForSelectedNode(ChangeTypeRefactoring.java:920)\nat\norg.eclipse.jdt.internal.corext.refactoring.structure.ChangeTypeRefactoring.computeValidTypes(ChangeTypeRefactoring.java:418)\nat\norg.eclipse.jdt.internal.ui.refactoring.ChangeTypeWizard$1.run(ChangeTypeWizard.java:195)\nat\norg.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)\nRoot exception:\norg.eclipse.jdt.internal.corext.Assert$AssertionFailedException: assertion\nfailed;No constraint variable matches the selected ASTNode.\nat org.eclipse.jdt.internal.corext.Assert.isTrue(Assert.java:139)\nat\norg.eclipse.jdt.internal.corext.refactoring.structure.ChangeTypeRefactoring.findConstraintVariableForSelectedNode(ChangeTypeRefactoring.java:920)\nat\norg.eclipse.jdt.internal.corext.refactoring.structure.ChangeTypeRefactoring.computeValidTypes(ChangeTypeRefactoring.java:418)\nat\norg.eclipse.jdt.internal.ui.refactoring.ChangeTypeWizard$1.run(ChangeTypeWizard.java:195)\nat\norg.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)\n\nI\u0027ve verified with ASTView and ASTNodes hierarchy seems to be OK.\nMove to JDT/UI for further investigation\n",
    "Frank, can you please take a look.",
    "Markus, can you have a look at that?",
    "Fixed in HEAD.",
    "Reopening for 3.2.1",
    "Created an attachment (id\u003d48015)\nFix \u0026 Test\n\n",
    "Fixed in R3_2_maintenance.",
    "verifying...",
    "verified in M20060830-0800"
  ],
  "commentCreationDates": [
    "2005-08-01T23:36:13+02:00",
    "2005-08-02T18:35:51+02:00",
    "2005-08-02T18:40:38+02:00",
    "2006-06-16T20:41:14+02:00",
    "2006-06-19T14:32:53+02:00",
    "2006-08-16T16:23:19+02:00",
    "2006-08-16T16:24:14+02:00",
    "2006-08-16T16:26:13+02:00",
    "2006-08-31T12:47:34+02:00",
    "2006-08-31T12:49:35+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.jdt.internal.corext.Assert$AssertionFailedException",
      "message": "assertion failed;No constraint variable matches the selected ASTNode.",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.corext.Assert.isTrue",
          "source": "Assert.java:139"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.structure.ChangeTypeRefactoring.findConstraintVariableForSelectedNode",
          "source": "ChangeTypeRefactoring.java:920"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.structure.ChangeTypeRefactoring.computeValidTypes",
          "source": "ChangeTypeRefactoring.java:418"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.ChangeTypeWizard$1.run",
          "source": "ChangeTypeWizard.java:195"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:113"
        }
      ],
      "number": 0,
      "commentIndex": 1,
      "bugId": "105743",
      "date": "2005-08-02T18:35:51+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    },
    {
      "exceptionType": "org.eclipse.jdt.internal.corext.Assert$AssertionFailedException",
      "message": "assertion failed;No constraint variable matches the selected ASTNode.",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.corext.Assert.isTrue",
          "source": "Assert.java:139"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.structure.ChangeTypeRefactoring.findConstraintVariableForSelectedNode",
          "source": "ChangeTypeRefactoring.java:920"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.structure.ChangeTypeRefactoring.computeValidTypes",
          "source": "ChangeTypeRefactoring.java:418"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.ChangeTypeWizard$1.run",
          "source": "ChangeTypeWizard.java:195"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:113"
        }
      ],
      "number": 1,
      "commentIndex": 1,
      "bugId": "105743",
      "date": "2005-08-02T18:35:51+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "105743",
  "bugId": "105743",
  "date": "2005-08-01T23:36:13+02:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}