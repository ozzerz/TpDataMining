{
  "comments": [
    "After running \u0027Team\u003eSynchronize With Repository\u0027 I occasionally receive the \nmessage \u0027Malformed entry line\u0027. The Entries file in question contains 4 null \nbytes followed by a CRLF. The only way to recover from this is to manually fix \nthe bad Entries file. I haven\u0027t figured out a repeatable pattern yet, but it\u0027s \nhappened twice now.\n\nThe following shows up in my .log file:\n\norg.eclipse.team.internal.ccvs.core.CVSException: Malformed entry line: \n\tat \norg.eclipse.team.internal.ccvs.core.syncinfo.ResourceSyncInfo.setEntryLine\n(ResourceSyncInfo.java:391)\n\n\tat org.eclipse.team.internal.ccvs.core.syncinfo.ResourceSyncInfo.\u003cinit\u003e\n(ResourceSyncInfo.java:107)\n\n\tat \norg.eclipse.team.internal.ccvs.core.util.SyncFileWriter.readAllResourceSync\n(SyncFileWriter.java:104)\n\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.cacheResourceS\nyncForChildren(EclipseSynchronizer.java:663)\n\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.getSyncBytes\n(EclipseSynchronizer.java:227)\n\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseResource.getSyncBytes\n(EclipseResource.java:227)\n\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseResource.isManaged\n(EclipseResource.java:186)\n\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseResource.isIgnored\n(EclipseResource.java:116)\n\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseFile.handleModification\n(EclipseFile.java:517)\n\n\tat \norg.eclipse.team.internal.ccvs.core.resources.FileModificationManager.contentsCh\nanged(FileModificationManager.java:152)\n\n\tat \norg.eclipse.team.internal.ccvs.core.resources.FileModificationManager$1.visit\n(FileModificationManager.java:68)\n\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:71)\n\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:52)\n\n\tat \norg.eclipse.team.internal.ccvs.core.resources.FileModificationManager.resourceCh\nanged(FileModificationManager.java:53)\n\n\tat org.eclipse.core.internal.events.NotificationManager$1.run\n(NotificationManager.java:137)\n\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:867)\n\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:413)\n\n\tat org.eclipse.core.internal.events.NotificationManager.notify\n(NotificationManager.java:152)\n\n\tat org.eclipse.core.internal.events.NotificationManager.broadcastChanges\n(NotificationManager.java:67)\n\n\tat org.eclipse.core.internal.resources.Workspace.broadcastChanges\n(Workspace.java:161)\n\n\tat org.eclipse.core.internal.resources.Workspace.endOperation\n(Workspace.java:892)\n\n\tat org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1593)\n\n\tat org.eclipse.ui.actions.WorkspaceModifyOperation.run\n(WorkspaceModifyOperation.java:79)\n\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run\n(ModalContext.java:95)",
    "Move to Platform/VCM.",
    "Please provide:\n- eclipse build #\n- CVS server type and #\n",
    "This started happening after I installed the M5 build of Eclipse.\nEarlier builds of Eclipse did not exhibit the problem.\n\nThe CVS server is version 1.11 running on Solaris 2.8:\n\n\u003e bdeng@palomar [2] [3:02pm] [~] \u003euname -a\n\u003e SunOS palomar 5.8 Generic_108528-15 sun4u sparc SUNW,Ultra-80\n\u003e bdeng@palomar [1] [3:02pm] [~] \u003ecvs --version\n\u003e Concurrent Versions System (CVS) 1.11 (client/server)\n\u003e \n\u003e Copyright (c) 1989-2000 Brian Berliner, david d `zoo\u0027 zuhn,\n\u003e                         Jeff Polk, and other authors\n\u003e \n\u003e CVS may be copied only under the terms of the GNU General Public License,\n\u003e a copy of which can be found with the CVS distribution kit.\n\u003e \n\u003e Specify the --help option for further information about CVS\n",
    "We\u0027d prefer you run 1.11.1p1 (which, by the way, is of higher quality than \n1.11).\n\nNontheless, the fact its failing in ResourceSyncInfo.setEntryLine and started \nin M5 suggests its not the server version.",
    "When fixing the entries file, are the malformed (e.g. corrupted) entry lines for\nfolders or files? Could you please provide the corrupted and fixed Entries file\nthat would help us a lot. Thanks.",
    "Created an attachment (id\u003d3449)\nTwo examples of corrupted and fixed Entries files\n",
    "I\u0027ve attached two different examples: one has a lot of binary files in the\nCVS directory, the other has fewer files (all source files).\nThere doesn\u0027t seem to be a pattern to where the corruption occurs, but it\nalways seems to be 4 null bytes that get inserted.\n\nI will upgrade our CVS server to 1.11.1p1 to see if it helps, but since\nprior builds of Eclipse worked fine, I\u0027m guessing that\u0027s not the problem.\n",
    "Created an attachment (id\u003d3468)\nAnother example of a corrupted Entries file\n\nThis is one more example. In this one, there\u0027s more than just the 4 null bytes.\n\nIt appears to be copying other values in the Entries file.\n\nThe pattern I\u0027m noticing now is that the same directories get corrupted in the\nsame way whenever a file in that directory needs to be patched or updated. The\ncorruption of the Entries file occurs during the patch (when I select \u0027Update\nfrom Repository\u0027 in the Synchronize view). I have upgraded the CVS server to\n1.11.1p1 but the problem still occurs. I am using the pserver connection type\nif that makes any difference.",
    "Thanks for the files, I haven\u0027t had the chance to look into this yet. But I\npromise that I\u0027ll spend some time this week. I find it strange that you are the\nonly one who has reported this?",
    "I did see one posting today on the tools newsgroup. That person mentioned\nthis happened to him after Eclipse crashed, I don\u0027t believe that was the\ncase with me, but his posting did mention the same error message that\nI\u0027m seeing (Malformed entry line).\n",
    "I\u0027ve been seeing this too, since updating to M5. I have not noticed that it is \nrelated to any particular event - it seems to be happening at random. Quite a \nserious problem.",
    "After I upgraded from M4 to M5 (on Windows) I too have this problem. It always \noccurs in the same directory if an update or patch occurs. It is always the \nsecond last line and it is always 4 null chars.\n\nI am now running RC1 and it still happens.\n\nI am using ext.\n\nOur cvs server is SunOS cvs 5.8 Generic_108528-13 sun4u sparc SUNW,Ultra-1 \nversion 1.11.\n",
    "We\u0027ll need to do a code walkthrough I guess.",
    "What JVM(s) were you using when the problem occured?",
    "I\u0027ve been using 1.4.1_02. ",
    "Sun\u0027s 1.4.1_01",
    "1.4.1_01. As a side note, After re-checking out the module I haven\u0027t yet \nexperienced this problem again.\n",
    "Could one of you please send us the .syncinfo files for the projects in which\nthe sync info in the Entries file is being corrupted. You can find these files\nin \u003cyour workspace home\u003e/.metadata/org.eclipse.core.resources/.projects/\u003cproject\nname\u003e. A hint of the directory in which the Entries file is corrupted would also\nhelp.\n\nHas anybody else tried what Brian has done, to delete the local project then\ncheckout the project from the repository again. Has this fixed the problem for\nothers too?\n\nWe haven\u0027t been able to reproduce and a code walkthrough hasn\u0027t revealed\nanything that would cause this.",
    "Created an attachment (id\u003d4015)\n.syncinfo file from corrupted workspace\n\nHere\u0027s the .syncinfo from my corrupted workspace.\nThere were a few directories corrupted. One of which I remember was:\nnProcess/server/common/src/com/nexprise/core/model\n\nI will also upload the .syncinfo from my current workspace which is working OK.\n",
    "Created an attachment (id\u003d4017)\nThis is a .syncinfo from the same project (after a clean checkout)\n\nThis .syncinfo is from my current workspace which has no problems during\nsynchronize.",
    "Well, I haven\u0027t seen the problem again recently. I don\u0027t recall exactly what I \ndid to make it go away, but I must have tried delete-files followed by replace-\nwith-latest (or something similar). Shrug. Thanks for looking.",
    "I\u0027ve had a look at the .syncinfo files and they are indeed the cause of the\ninvalid Entry lines. During the development for 2.1 the CVS team has made\nseveral changes to sync info storage that broke some workspaces. We really think\nthat this is now fixed. \n\nSo far Brian and Lee have confirmed that there workspaces are now ok (e.g. as a\nresult of either a clean checkout or deleting the .syncinfo files).\n\nChris, can you please confirm that your have been able to fix your workspace?\nThanks.",
    "Once I tracked down which Entries file I just manually fixed it as required. \nThere haven\u0027t been any changes to that part of our tree lately so I\u0027m not sure \nif the problem is fixed.\n\nCan I just delete the .syncinfo file?",
    "I just made a trivial change and the problem is still there.",
    "yes, please delete the .syncinfo file then restart eclipse and re-checkout your\nprojects. ",
    "I deleted the .synchinfo file and rechecked out the project. Now the package in \nquestion is always marked as modifed (a \u003e before the name). Not sure how to fix \nthat. But no more nulls in the Entries file.",
    "I\u0027ve managed to clear of the erraneous \u003e markers.",
    "Good news. I\u0027m very confident that the corrupt Entries files was caused by\nincompatible workspaces between 2.0 and 2.1. As for the dirty indicator, this\nwas resolved as part of bug 31806.\nThanks for your help guys. And please download RC3 when it is available to\ndouble check that this problem has been fixed.",
    "*** Bug 35118 has been marked as a duplicate of this bug. ***",
    "*** Bug 37251 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2003-02-11T19:22:20+01:00",
    "2003-02-11T21:32:12+01:00",
    "2003-02-11T22:56:24+01:00",
    "2003-02-11T23:07:26+01:00",
    "2003-02-11T23:56:04+01:00",
    "2003-02-12T16:03:02+01:00",
    "2003-02-12T16:56:23+01:00",
    "2003-02-12T16:58:22+01:00",
    "2003-02-13T14:56:22+01:00",
    "2003-02-18T02:23:49+01:00",
    "2003-02-18T04:10:22+01:00",
    "2003-03-03T14:23:26+01:00",
    "2003-03-07T16:50:49+01:00",
    "2003-03-07T21:26:14+01:00",
    "2003-03-08T02:28:30+01:00",
    "2003-03-08T03:06:51+01:00",
    "2003-03-08T04:35:19+01:00",
    "2003-03-08T04:51:12+01:00",
    "2003-03-11T20:19:42+01:00",
    "2003-03-11T20:39:56+01:00",
    "2003-03-11T20:41:17+01:00",
    "2003-03-11T20:42:01+01:00",
    "2003-03-11T21:33:40+01:00",
    "2003-03-11T21:57:37+01:00",
    "2003-03-11T22:07:59+01:00",
    "2003-03-12T19:01:49+01:00",
    "2003-03-12T19:04:52+01:00",
    "2003-03-12T21:37:45+01:00",
    "2003-03-13T14:39:17+01:00",
    "2003-03-17T14:20:12+01:00",
    "2003-05-06T16:28:55+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.team.internal.ccvs.core.CVSException",
      "message": "Malformed entry line:",
      "elements": [
        {
          "method": "org.eclipse.team.internal.ccvs.core.syncinfo.ResourceSyncInfo.setEntryLine",
          "source": "ResourceSyncInfo.java:391"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.syncinfo.ResourceSyncInfo.\u003cinit\u003e",
          "source": "ResourceSyncInfo.java:107"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.util.SyncFileWriter.readAllResourceSync",
          "source": "SyncFileWriter.java:104"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.cacheResourceSyncForChildren",
          "source": "EclipseSynchronizer.java:663"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.getSyncBytes",
          "source": "EclipseSynchronizer.java:227"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseResource.getSyncBytes",
          "source": "EclipseResource.java:227"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseResource.isManaged",
          "source": "EclipseResource.java:186"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseResource.isIgnored",
          "source": "EclipseResource.java:116"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseFile.handleModification",
          "source": "EclipseFile.java:517"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.FileModificationManager.contentsChanged",
          "source": "FileModificationManager.java:152"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.FileModificationManager$1.visit",
          "source": "FileModificationManager.java:68"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:71"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:52"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.FileModificationManager.resourceChanged",
          "source": "FileModificationManager.java:53"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager$1.run",
          "source": "NotificationManager.java:137"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:867"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:413"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.notify",
          "source": "NotificationManager.java:152"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.broadcastChanges",
          "source": "NotificationManager.java:67"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.broadcastChanges",
          "source": "Workspace.java:161"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.endOperation",
          "source": "Workspace.java:892"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1593"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation.run",
          "source": "WorkspaceModifyOperation.java:79"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:95"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "31578",
      "date": "2003-02-11T19:22:20+01:00",
      "product": "Platform",
      "component": "Team",
      "severity": "normal"
    }
  ],
  "groupId": "31578",
  "bugId": "31578",
  "date": "2003-02-11T19:22:20+01:00",
  "product": "Platform",
  "component": "Team",
  "severity": "normal"
}