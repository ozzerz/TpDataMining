{
  "comments": [
    "I created a simple project with MinGW that created 100 threads that each did a Sleep(1000) in an infinite loop, then main would do the same.\n\nI set a breakpoint at the Sleep while the program was running. It stopped nicely and showed all 101 threads, with one of them where our stack was.\n\nThen I did a step. Kaboom! I get a large number (probably 100) of exceptions at:\n\njava.lang.ArrayIndexOutOfBoundsException: -13\n\tat org.eclipse.cdt.debug.internal.core.model.CThread.compareStackFrames(CThread.java:230)\n\tat org.eclipse.cdt.debug.internal.core.model.CThread.computeStackFrames(CThread.java:177)\n\tat org.eclipse.cdt.debug.internal.core.model.CThread.computeStackFrames(CThread.java:317)\n\tat org.eclipse.cdt.debug.internal.core.model.CStackFrame.exists(CStackFrame.java:465)\n\tat org.eclipse.cdt.debug.internal.core.model.CStackFrame.canStepInto(CStackFrame.java:262)\n\tat org.eclipse.debug.internal.core.commands.StepIntoCommand.isSteppable(StepIntoCommand.java:25)\n\tat org.eclipse.debug.internal.core.commands.StepCommand.isExecutable(StepCommand.java:42)\n\tat org.eclipse.debug.internal.core.commands.DebugCommand$2.run(DebugCommand.java:133)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)",
    "Actually it happens when I only have one thread + main. I\u0027m going to guess that we\u0027re hitting another breakpoint while stepping since I set it on common code.",
    "Found a bug in compareStackFrames. It check the stack depth and then gets the stack. However, if getting the stack fails, which it usually does on MinGW when a thread is randomly suspended, we keep going assuming the stack depth. Setting the stack depth to the actual number of frames returned seems to help.",
    "Fixed."
  ],
  "commentCreationDates": [
    "2007-05-22T20:19:33+02:00",
    "2007-05-22T20:25:54+02:00",
    "2007-05-22T20:43:17+02:00",
    "2007-05-22T20:49:17+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "-13",
      "elements": [
        {
          "method": "org.eclipse.cdt.debug.internal.core.model.CThread.compareStackFrames",
          "source": "CThread.java:230"
        },
        {
          "method": "org.eclipse.cdt.debug.internal.core.model.CThread.computeStackFrames",
          "source": "CThread.java:177"
        },
        {
          "method": "org.eclipse.cdt.debug.internal.core.model.CThread.computeStackFrames",
          "source": "CThread.java:317"
        },
        {
          "method": "org.eclipse.cdt.debug.internal.core.model.CStackFrame.exists",
          "source": "CStackFrame.java:465"
        },
        {
          "method": "org.eclipse.cdt.debug.internal.core.model.CStackFrame.canStepInto",
          "source": "CStackFrame.java:262"
        },
        {
          "method": "org.eclipse.debug.internal.core.commands.StepIntoCommand.isSteppable",
          "source": "StepIntoCommand.java:25"
        },
        {
          "method": "org.eclipse.debug.internal.core.commands.StepCommand.isExecutable",
          "source": "StepCommand.java:42"
        },
        {
          "method": "org.eclipse.debug.internal.core.commands.DebugCommand$2.run",
          "source": "DebugCommand.java:133"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:55"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "188421",
      "date": "2007-05-22T20:19:33+02:00",
      "product": "CDT",
      "component": "cdt-debug",
      "severity": "normal"
    }
  ],
  "groupId": "188421",
  "bugId": "188421",
  "date": "2007-05-22T20:19:33+02:00",
  "product": "CDT",
  "component": "cdt-debug",
  "severity": "normal"
}