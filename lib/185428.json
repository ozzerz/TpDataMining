{
  "comments": [
    "TPTP Driver: tptp.runtime-TPTP-4.4.0-200705021157\n\nThe JVMTI Profiler sometimes fail to start and the following error message is displayed: ?The JVMTI agent org.eclipse.tptp.jvmti is not available. Make sure that the libraries for the agent are available and that it is configured properly?. This bug can be reproduced with any type of launch configuration. It seems like a \"timeout\" issue in the execution framework.\n\nThe Eclipse Error log shows the following:\njava.lang.NullPointerException\nat org.eclipse.hyades.loaders.util.LoadersUtils.registerAgentInstance(LoadersUtils.java:757)\nat org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper$2.processLaunched(TIDelegateHelper.java:403)\nat org.eclipse.tptp.platform.execution.client.core.internal.ProcessImpl.launchAC(ProcessImpl.java:597)\nat org.eclipse.tptp.platform.execution.client.core.internal.ProcessImpl.launch(ProcessImpl.java:131)\nat org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.launchProcess(TIDelegateHelper.java:440)\nat org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.launch(TIDelegateHelper.java:271)\nat org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIJavaLauncherDelegate.launch(TIJavaLauncherDelegate.java:37)\nat org.eclipse.tptp.trace.ui.internal.launcher.core.LauncherUtility.delegateInit(LauncherUtility.java:1134)\nat org.eclipse.tptp.trace.ui.provisional.launcher.PrimaryLaunchDelegate.run(PrimaryLaunchDelegate.java:196)\nat java.lang.Thread.run(Thread.java:595)",
    "Created an attachment (id\u003d65834)\nAgent Controller DEBUG log\n\n",
    "The bug was encountered with the standalone Agent Controller (build agntctrl.win_ia32-TPTP-4.4.0-200705021157).\n",
    "There is a defect in the TIDelegate class code.\nFollowing a process launch, the agent is attempted to be retrieved \na) For large apps agent registration time may be bigger - so a retry has been added.\nb) There is a ProbeListener created - filed a defect to have it looked. The probelistener should be invoked when the probe is part of the launch\nc) The registerAgentutils (as in the stack) is hit when the agent is null and there is no check for that.\nThe Agent check is added, however the right exception must be thrown to the user\nThis is still pending - will add it tomorrow.\nWill validate this in tomorrows build",
    "Liz, \n I have made change to the TIDelegate helper - this should resolve the timeout issue.\nMeanwhile - I have a defect for you to investigate the Probelistener to be invoked only when the Probe is part of the launch config.",
    "Resolved."
  ],
  "commentCreationDates": [
    "2007-05-03T22:00:00+02:00",
    "2007-05-03T22:01:28+02:00",
    "2007-05-03T22:05:34+02:00",
    "2007-05-04T03:07:35+02:00",
    "2007-05-04T03:10:36+02:00",
    "2007-05-04T15:34:09+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.hyades.loaders.util.LoadersUtils.registerAgentInstance",
          "source": "LoadersUtils.java:757"
        },
        {
          "method": "org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper$2.processLaunched",
          "source": "TIDelegateHelper.java:403"
        },
        {
          "method": "org.eclipse.tptp.platform.execution.client.core.internal.ProcessImpl.launchAC",
          "source": "ProcessImpl.java:597"
        },
        {
          "method": "org.eclipse.tptp.platform.execution.client.core.internal.ProcessImpl.launch",
          "source": "ProcessImpl.java:131"
        },
        {
          "method": "org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.launchProcess",
          "source": "TIDelegateHelper.java:440"
        },
        {
          "method": "org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIDelegateHelper.launch",
          "source": "TIDelegateHelper.java:271"
        },
        {
          "method": "org.eclipse.tptp.platform.jvmti.client.internal.launcher.TIJavaLauncherDelegate.launch",
          "source": "TIJavaLauncherDelegate.java:37"
        },
        {
          "method": "org.eclipse.tptp.trace.ui.internal.launcher.core.LauncherUtility.delegateInit",
          "source": "LauncherUtility.java:1134"
        },
        {
          "method": "org.eclipse.tptp.trace.ui.provisional.launcher.PrimaryLaunchDelegate.run",
          "source": "PrimaryLaunchDelegate.java:196"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:595"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "185428",
      "date": "2007-05-03T22:00:00+02:00",
      "product": "TPTP Profiling",
      "component": "Platform.Agents.JVMTI",
      "severity": "blocker"
    }
  ],
  "groupId": "185428",
  "bugId": "185428",
  "date": "2007-05-03T22:00:00+02:00",
  "product": "TPTP Profiling",
  "component": "Platform.Agents.JVMTI",
  "severity": "blocker"
}