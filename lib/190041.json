{
  "comments": [
    "I\u0027m not sure if this is the right place for this bugzilla. It is a combination of the AntBasedProcessorExecutor found in PDE and the JarProcessorExecutor in update.\n\nThe symptom is that when using the jarprocessor ant-task with sign\u003d\"true\" it makes attempts to execute a command called \"fake\".\n\nI did some debugging and from what I can see, the method AntBasedProcessorExecuter.addSignStep() is never called. It can only be called from one place and that is in JarBasedProcessorExecutor.runJarProcessor() when the input is not a zip file.\n\nHere is the stacktrace at the point of failure:\n\nProcessing c:\\b32_0530\\org.eclipse.buckminster\\jnlp.ls\\jnlp-package.zip\nExtracting jnlp-bootstrap.jar\nRunning Sign on c:\\b32_0530\\org.eclipse.buckminster\\jnlp.ls\\temp_jnlp-package.zip\\jnlp-bootstrap.jar\nError executing command fake C:\\b32_0530\\org.eclipse.buckminster\\jnlp.ls\\temp_jnlp-package.zip\\temp.jnlp-bootstrap.jar\\jnlp-bootstrap.jar\njava.io.IOException: CreateProcess: fake C:\\b32_0530\\org.eclipse.buckminster\\jnlp.ls\\temp_jnlp-package.zip\\temp.jnlp-bootstrap.jar\\jnlp-bootstrap.jar error\u003d2\n  at java.lang.ProcessImpl.create(Native Method)\n  at java.lang.ProcessImpl.\u003cinit\u003e(ProcessImpl.java:81)\n  at java.lang.ProcessImpl.start(ProcessImpl.java:30)\n  at java.lang.ProcessBuilder.start(ProcessBuilder.java:451)\n  at java.lang.Runtime.exec(Runtime.java:591)\n  at java.lang.Runtime.exec(Runtime.java:464)\n  at org.eclipse.update.internal.jarprocessor.CommandStep.execute(CommandStep.java:42)\n  at org.eclipse.update.internal.jarprocessor.SignCommandStep.postProcess(SignCommandStep.java:56)\n  at org.eclipse.update.internal.jarprocessor.JarProcessor.postProcess(JarProcessor.java:248)\n  at org.eclipse.update.internal.jarprocessor.JarProcessor.processJar(JarProcessor.java:328)\n  at org.eclipse.update.internal.jarprocessor.ZipProcessor.processZip(ZipProcessor.java:138)\n  at org.eclipse.update.internal.jarprocessor.JarProcessorExecutor.runJarProcessor(JarProcessorExecutor.java:31)\n  at org.eclipse.pde.internal.build.jarprocessor.JarProcessorTask.execute(JarProcessorTask.java:93)\n  ...",
    "Thomas you must be invoking the ant task yourself on a zip file then?\n\nUnfortunately it seems that pde.build\u0027s jarprocessorTask only supports signing jars (and directories) at the moment.",
    "(In reply to comment #1)\n\u003e Thomas you must be invoking the ant task yourself on a zip file then?\n\u003e \nYes. It\u0027s my own ant-script and it\u0027s on a zip.\n",
    "Thomas as a work around, rename your file to jar and you should be fine.",
    "(In reply to comment #3)\n\u003e Thomas as a work around, rename your file to jar and you should be fine.\n\u003e \n\nThat\u0027s not a bad idea, the only difference would be that the pack.properties file that you can nest in the zip file would not be read."
  ],
  "commentCreationDates": [
    "2007-05-30T22:51:17+02:00",
    "2007-05-30T23:49:19+02:00",
    "2007-05-31T00:46:24+02:00",
    "2007-05-31T03:30:40+02:00",
    "2007-05-31T15:51:03+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.io.IOException",
      "message": "CreateProcess: fake C:\\b32_0530\\org.eclipse.buckminster\\jnlp.ls\\temp_jnlp-package.zip\\temp.jnlp-bootstrap.jar\\jnlp-bootstrap.jar error\u003d2",
      "elements": [
        {
          "method": "java.lang.ProcessImpl.create",
          "source": "Native Method"
        },
        {
          "method": "java.lang.ProcessImpl.\u003cinit\u003e",
          "source": "ProcessImpl.java:81"
        },
        {
          "method": "java.lang.ProcessImpl.start",
          "source": "ProcessImpl.java:30"
        },
        {
          "method": "java.lang.ProcessBuilder.start",
          "source": "ProcessBuilder.java:451"
        },
        {
          "method": "java.lang.Runtime.exec",
          "source": "Runtime.java:591"
        },
        {
          "method": "java.lang.Runtime.exec",
          "source": "Runtime.java:464"
        },
        {
          "method": "org.eclipse.update.internal.jarprocessor.CommandStep.execute",
          "source": "CommandStep.java:42"
        },
        {
          "method": "org.eclipse.update.internal.jarprocessor.SignCommandStep.postProcess",
          "source": "SignCommandStep.java:56"
        },
        {
          "method": "org.eclipse.update.internal.jarprocessor.JarProcessor.postProcess",
          "source": "JarProcessor.java:248"
        },
        {
          "method": "org.eclipse.update.internal.jarprocessor.JarProcessor.processJar",
          "source": "JarProcessor.java:328"
        },
        {
          "method": "org.eclipse.update.internal.jarprocessor.ZipProcessor.processZip",
          "source": "ZipProcessor.java:138"
        },
        {
          "method": "org.eclipse.update.internal.jarprocessor.JarProcessorExecutor.runJarProcessor",
          "source": "JarProcessorExecutor.java:31"
        },
        {
          "method": "org.eclipse.pde.internal.build.jarprocessor.JarProcessorTask.execute",
          "source": "JarProcessorTask.java:93"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "190041",
      "date": "2007-05-30T22:51:17+02:00",
      "product": "PDE",
      "component": "Build",
      "severity": "normal"
    }
  ],
  "groupId": "190041",
  "bugId": "190041",
  "date": "2007-05-30T22:51:17+02:00",
  "product": "PDE",
  "component": "Build",
  "severity": "normal"
}