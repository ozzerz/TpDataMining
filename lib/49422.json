{
  "comments": [
    "Download the SWT OpenGL plugins:\n\nhttp://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/platform-swt-\nhome/opengl/opengl.html\n\n(You need to download the SWT OpenGL part and the SWT OpenGL examples).\n\nThe SWT OpenGL plugin is structured the same way as SWT, that is the plugin \ndoes not have a jar, the jar is located in the platform specific fragment.\n\nImport the following three plugins as binary into your workspace:\n   org.eclipse.swt.opengl\n   org.eclipse.swt.opengl.win32\n   org.eclipse.swt.opengl.examples\n\nTry to launch OpenGLExample as a Java application.  You get the following \nerror:\n\njava.lang.NoClassDefFoundError: org/eclipse/swt/opengl/GLContext\n\tat org.eclipse.swt.opengl.examples.OpenGLTab.createOpenGLContext\n(OpenGLTab.java:46)\n\tat org.eclipse.swt.opengl.examples.OpenGLTab.createTabFolderPage\n(OpenGLTab.java:77)\n\tat org.eclipse.swt.opengl.examples.OpenGLExample.run\n(OpenGLExample.java:73)\n\tat org.eclipse.swt.opengl.examples.OpenGLExample.main\n(OpenGLExample.java:114)\nException in thread \"main\" \n\nTo make the example work, you must add the following to the .classpath of \norg.eclipse.swt.opengl:\n\n   \u003cclasspathentry exported\u003d\"true\" \nsourcepath\u003d\"/org.eclipse.swt.opengl.win32/ws/win32/openglsrc.zip\" kind\u003d\"lib\" \npath\u003d\"/org.eclipse.swt.opengl.win32/ws/win32/opengl.jar\"/\u003e\n\t\n\nThis used to work in M5.  Adding the MANIFEST.MF file does not fix the problem.",
    "SWT is of course an anomaly for PDE when it comes to finding jars, as the \nlibraries are in the fragments.\nUp until M5, we were always searching for every plug-in\u0027s library in its \nfragment so that we don\u0027t miss the SWT case.\nAfter a long discussion, we decided to not optimize our tooling to encourage \nusers to follow the SWT example.  Instead, SWT is now treated as the only \nspecial case in which we need to search the fragments.\nOf course, we then missed the opengl plug-ins as they are not part of the SDK.\n\nSo here is an attempt to broaden a special case as much as possible, as we are \nnot aware of what other special plug-ins SWT has.\nWould it be sufficient to search fragments for libraries for all \norg.eclipse.swt.* plug-ins?",
    "Could you not have a more general mechanism such as specifying in the \nplugin.xml that jars may be defined in the fragemnts?  I do not understand \nwhat the purpose of a fragment is (other than NLS) if it is not expected to \nhave a jar.",
    "Fragments certainly may contain a JAR (nl or non-nl), but they do declare it \nin their fragment.xml.\n\nThe weird and unique thing about swt plug-ins and fragments as shipped in the \nSDK is that the library is declared in the plugin.xml, yet it is physically \nlocated in the fragment.\n\n\n",
    "Please find a general solution for this.  I really do not see what is so weird \nabout what SWT is doing.  If you declare the jar in the fragment.xml only, \nthat means other plugins have to reference a fragment rather than a plugin - \nthis seems contrary to what I understood the purpose of a fragment to be.",
    "Fixed.\nHere is the most generic thing we can do that makes sense:\nif we don\u0027t find the library in a plug-in, then look for it in a fragment only \nif the library name contains substitution variables ($os$, $ws$, $arch$, $nl$).\nThis should be the only case in which a plug-in could declare a library in the \nplugin.xml, and yet the library would be located in the fragment.  People \nshould not do so otherwise.",
    "Thank you."
  ],
  "commentCreationDates": [
    "2003-12-30T18:31:54+01:00",
    "2004-01-01T22:45:35+01:00",
    "2004-01-05T14:02:50+01:00",
    "2004-01-05T14:14:25+01:00",
    "2004-01-05T19:29:59+01:00",
    "2004-01-08T12:48:31+01:00",
    "2004-01-08T13:57:08+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoClassDefFoundError",
      "message": "org/eclipse/swt/opengl/GLContext",
      "elements": [
        {
          "method": "org.eclipse.swt.opengl.examples.OpenGLTab.createOpenGLContext",
          "source": "OpenGLTab.java:46"
        },
        {
          "method": "org.eclipse.swt.opengl.examples.OpenGLTab.createTabFolderPage",
          "source": "OpenGLTab.java:77"
        },
        {
          "method": "org.eclipse.swt.opengl.examples.OpenGLExample.run",
          "source": "OpenGLExample.java:73"
        },
        {
          "method": "org.eclipse.swt.opengl.examples.OpenGLExample.main",
          "source": "OpenGLExample.java:114"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "49422",
      "date": "2003-12-30T18:31:54+01:00",
      "product": "PDE",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "49422",
  "bugId": "49422",
  "date": "2003-12-30T18:31:54+01:00",
  "product": "PDE",
  "component": "UI",
  "severity": "normal"
}