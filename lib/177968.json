{
  "comments": [
    "Eclipse 3.3 M5\n\nI am having troubles using the org.eclipse.test.coretestapplication provided by org.eclipse.test with my JUnit 4 Test Suite. I added:\n\npublic static junit.framework.Test suite() {\n  return new JUnit4TestAdapter(AllTests.class);\n}\n\nto my AllTests class in order to fully support Junit3 runners. However, EclipseTestRunner fails to cast JUnit4TestAdapter to junit.framework.Test in Line 261:\n\njava.lang.ClassCastException: junit.framework.JUnit4TestAdapter cannot be cast to junit.framework.Test\nat org.eclipse.test.EclipseTestRunner.getTest(EclipseTestRunner.java:261)\nat org.eclipse.test.EclipseTestRunner.\u003cinit\u003e(EclipseTestRunner.java:216)\nat org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:200)\nat org.eclipse.test.CoreTestApplication.runTests(CoreTestApplication.java:35)\nat org.eclipse.test.CoreTestApplication.run(CoreTestApplication.java:31)\nat org.eclipse.equinox.internal.app.EclipseAppContainer.callMethod(EclipseAppContainer.java:529)\nat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:148)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)\nat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:476)\nat org.eclipse.equinox.launcher.Main.basicRun(Main.java:416)\nat org.eclipse.equinox.launcher.Main.run(Main.java:1124)\nat org.eclipse.equinox.launcher.Main.main(Main.java:1099)\n\nI can reproduce locally and on my server that runs a PDE Build. Now, the ClassCastException is weird, because JUnit4TestAdapter implements junit.framework.Test, so the only explanation is that junit.framework.Test is available from 2 classloaders (and indeed, both org.junit in version 3.8.2 and org.junit in version 4.1.0.1 are part of the target platform, so they are probablly both on the classpath?).\n\nThis makes it really hard (actually impossible) to use PDE Build with Junit4 Tests.\n\nAny plans to fix this for 3.3?\n\nBen",
    "fyi: I have encountered this problem as well in my investigations towards having 2 versions of the org.junit bundle. ",
    "Any chance in 3.3?",
    "This is a duplicate of bug#165013",
    "\n\n*** This bug has been marked as a duplicate of bug 153429 ***"
  ],
  "commentCreationDates": [
    "2007-03-19T01:14:11+01:00",
    "2007-03-26T19:57:12+02:00",
    "2007-04-22T11:28:11+02:00",
    "2007-05-06T10:28:03+02:00",
    "2007-10-22T17:52:45+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "junit.framework.JUnit4TestAdapter cannot be cast to junit.framework.Test",
      "elements": [
        {
          "method": "org.eclipse.test.EclipseTestRunner.getTest",
          "source": "EclipseTestRunner.java:261"
        },
        {
          "method": "org.eclipse.test.EclipseTestRunner.\u003cinit\u003e",
          "source": "EclipseTestRunner.java:216"
        },
        {
          "method": "org.eclipse.test.EclipseTestRunner.run",
          "source": "EclipseTestRunner.java:200"
        },
        {
          "method": "org.eclipse.test.CoreTestApplication.runTests",
          "source": "CoreTestApplication.java:35"
        },
        {
          "method": "org.eclipse.test.CoreTestApplication.run",
          "source": "CoreTestApplication.java:31"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppContainer.callMethod",
          "source": "EclipseAppContainer.java:529"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:148"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:354"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:169"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:476"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:416"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1124"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1099"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "177968",
      "duplicateId": "153429",
      "date": "2007-03-19T01:14:11+01:00",
      "product": "Platform",
      "component": "Runtime",
      "severity": "normal"
    }
  ],
  "groupId": "153429",
  "bugId": "177968",
  "duplicateId": "153429",
  "date": "2007-03-19T01:14:11+01:00",
  "product": "Platform",
  "component": "Runtime",
  "severity": "normal"
}