{
  "comments": [
    "build I20041101\n\n- show history on a plugin.xml file\n- choose Show Annotation\n- select one of the annotations\n\njava.lang.ClassCastException:\norg/eclipse/pde/internal/ui/editor/plugin/ManifestEditor incompatible with\norg/eclipse/ui/texteditor/ITextEditor\n\tat org.eclipse.team.internal.ccvs.ui.AnnotateView.openEditor(AnnotateView.java:371)\n\tat\norg.eclipse.team.internal.ccvs.ui.AnnotateView.showAnnotations(AnnotateView.java:160)\n\tat\norg.eclipse.team.internal.ccvs.ui.AnnotateView.listSelectionChanged(AnnotateView.java:265)\n\tat\norg.eclipse.team.internal.ccvs.ui.AnnotateView.selectionChanged(AnnotateView.java:213)\n\tat org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:163)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:616)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:747)\n\tat org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:161)\n\tat\norg.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:1622)\n\tat\norg.eclipse.jface.viewers.StructuredViewer.handleSelect(StructuredViewer.java:890)\n\tat\norg.eclipse.jface.viewers.StructuredViewer$4.widgetSelected(StructuredViewer.java:916)\n\tat org.eclipse.jface.util.OpenStrategy.fireSelectionEvent(OpenStrategy.java:209)\n\tat org.eclipse.jface.util.OpenStrategy.access$3(OpenStrategy.java:204)\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:364)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:800)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2794)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2448)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1527)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1498)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:276)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:335)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)\n\tat java.lang.reflect.Method.invoke(Method.java:391)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\n\tat org.eclipse.core.launcher.Main.run(Main.java:704)\n\tat org.eclipse.core.launcher.Main.main(Main.java:688)",
    "Although the manifest editor is not directly an ITextEditor, and the\nAnnotateView should not assume it is, it does contain a nested text editor.\n\nNote sure what API AnnotateView relies on.  If it\u0027s just for setting the\nselection, it should be possible to just talk to the editor\u0027s ISelectionProvider.\nThe manifest editor would have to do register an appropriate selection provider,\nwhich would show the source tab if a selection was set from outside.\n",
    "We\u0027ve had to rely on internal ui code to implement this support because there is\nno way to tell if an editor is a text editor. There are PRs about this somewhere...",
    "Also strange is that it seems to work for some plugin.xml files and fail for \nothers (i.e. it worked for me but I remember logging bugs for failures when \njust opening a remote plugin.xml file in the past). Which plugin.xml did it \nfail for?",
    "IIRC, this was a plugin.xml revision loaded from the history view, not the one\nin the workspace.\n",
    "Fix released to HEAD. We now check before we cast and fallback to a vanilla \ntext editor if the editor we got isn\u0027t the right type.",
    "Verified changes for 3.1M4"
  ],
  "commentCreationDates": [
    "2004-11-02T21:05:10+01:00",
    "2004-11-02T21:07:56+01:00",
    "2004-11-03T02:02:54+01:00",
    "2004-11-03T13:45:53+01:00",
    "2004-11-04T15:57:27+01:00",
    "2004-11-30T16:55:12+01:00",
    "2004-12-15T21:03:22+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org/eclipse/pde/internal/ui/editor/plugin/ManifestEditor incompatible with org/eclipse/ui/texteditor/ITextEditor",
      "elements": [
        {
          "method": "org.eclipse.team.internal.ccvs.ui.AnnotateView.openEditor",
          "source": "AnnotateView.java:371"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.AnnotateView.showAnnotations",
          "source": "AnnotateView.java:160"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.AnnotateView.listSelectionChanged",
          "source": "AnnotateView.java:265"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.AnnotateView.selectionChanged",
          "source": "AnnotateView.java:213"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer$2.run",
          "source": "Viewer.java:163"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:616"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:747"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer.fireSelectionChanged",
          "source": "Viewer.java:161"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateSelection",
          "source": "StructuredViewer.java:1622"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleSelect",
          "source": "StructuredViewer.java:890"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected",
          "source": "StructuredViewer.java:916"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireSelectionEvent",
          "source": "OpenStrategy.java:209"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$3",
          "source": "OpenStrategy.java:204"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "OpenStrategy.java:364"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:800"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2794"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2448"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1527"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1498"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:276"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:144"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:102"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:335"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:273"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:58"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:60"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:391"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:704"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:688"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "77539",
      "date": "2004-11-02T21:05:10+01:00",
      "product": "Platform",
      "component": "Team",
      "severity": "major"
    }
  ],
  "groupId": "77539",
  "bugId": "77539",
  "date": "2004-11-02T21:05:10+01:00",
  "product": "Platform",
  "component": "Team",
  "severity": "major"
}