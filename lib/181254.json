{
  "comments": [
    "To reproduce, open the Faces-Config Editor and paste the following into the SSE tab:\n\n\t\u003cconverter id\u003d\"converter1\"\u003e\n\t\t\u003cdescription id\u003d\"converter1Description\"\u003econverter-description\u003c/description\u003e\n\t\u003c/converter\u003e\n\nYou should an exception that looks like the trace below.  It appears that the problem occurs when DefaultFeatureValueConverter.convertValue(Object, EAttribute) is called on the id attribute of the description tag.  For some reason, the EAttribute\u0027s ID classifier identifier is misinterpreted as a Character, which causes a conversion error when the String-\u003eCharacter conversion is attempted (the real type is an ID string).\n\nThis is major for use because it breaks any model I\u0027ve tested so far that has an id attribute on an element.  This used to work fine.\n\n\norg.eclipse.wst.common.internal.emf.utilities.FeatureValueConversionException: IWAE0014E Failed to convert converter1Description to Character.\n\tat org.eclipse.wst.common.internal.emf.utilities.DefaultFeatureValueConverter.failedToConvert(DefaultFeatureValueConverter.java:319)\n\tat org.eclipse.wst.common.internal.emf.utilities.DefaultFeatureValueConverter.convertToCharacter(DefaultFeatureValueConverter.java:74)\n\tat org.eclipse.wst.common.internal.emf.utilities.DefaultFeatureValueConverter.convertValue(DefaultFeatureValueConverter.java:242)\n\tat org.eclipse.wst.common.internal.emf.utilities.DefaultFeatureValueConverter.convertValue(DefaultFeatureValueConverter.java:274)\n\tat org.eclipse.wst.common.internal.emf.resource.Translator.convertStringToValue(Translator.java:513)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFFeature(EMF2DOMAdapterImpl.java:1369)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFFeature(EMF2DOMAdapterImpl.java:1755)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF(EMF2DOMAdapterImpl.java:929)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF(EMF2DOMAdapterImpl.java:909)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMultiFeature(EMF2DOMAdapterImpl.java:419)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMultiFeature(EMF2DOMAdapterImpl.java:1481)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFMultiFeature(EMF2DOMAdapterImpl.java:1695)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFFeature(EMF2DOMAdapterImpl.java:1737)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF(EMF2DOMAdapterImpl.java:929)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF(EMF2DOMAdapterImpl.java:909)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMultiFeature(EMF2DOMAdapterImpl.java:419)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMultiFeature(EMF2DOMAdapterImpl.java:1481)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFMultiFeature(EMF2DOMAdapterImpl.java:1695)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFFeature(EMF2DOMAdapterImpl.java:1737)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF(EMF2DOMAdapterImpl.java:929)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF(EMF2DOMAdapterImpl.java:909)\n\tat org.eclipse.wst.xml.core.internal.emf2xml.EMF2DOMSSEAdapter.notifyChanged(EMF2DOMSSEAdapter.java:224)\n\tat org.eclipse.wst.sse.core.internal.provisional.AbstractNotifier.notify(AbstractNotifier.java:201)\n\tat org.eclipse.wst.xml.core.internal.document.XMLModelNotifierImpl.notifyStructureChanged(XMLModelNotifierImpl.java:392)\n\tat org.eclipse.wst.xml.core.internal.document.XMLModelNotifierImpl.endChanging(XMLModelNotifierImpl.java:180)\n\tat org.eclipse.wst.xml.core.internal.document.DOMModelImpl.changedModel(DOMModelImpl.java:163)\n\tat org.eclipse.wst.sse.core.internal.model.AbstractStructuredModel$DocumentToModelNotifier.regionsReplaced(AbstractStructuredModel.java:176)\n\tat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument._fireEvent(BasicStructuredDocument.java:573)\n\tat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.fireStructuredDocumentEvent(BasicStructuredDocument.java:1192)\n\tat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.internalReplaceText(BasicStructuredDocument.java:1959)\n\tat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText(BasicStructuredDocument.java:2394)\n\tat org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.access$0(JobSafeStructuredDocument.java:1)\n\tat org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument$1.run(JobSafeStructuredDocument.java:98)\n\tat org.eclipse.wst.sse.ui.EditorExecutionContext.execute(EditorExecutionContext.java:42)\n\tat org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.replaceText(JobSafeStructuredDocument.java:109)\n\tat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText(BasicStructuredDocument.java:2390)",
    "What\u0027s the status on this  bug?  All of our test cases related to EMF model translation are completely broken due to this.  The used to work, which implies something has changed at a layer below us.",
    "DefaultFeatureValueConverter.convertValue assumes that the conversion is being done on EcorePackage types, when it actually handles multiple types, including XMLTypePackage.  Previously, XMLTypePackage.ID did not collide with any of the values of EcorePackage, but with EMF 2.3, it now collides with EcorePackage.ECHARACTER_OBJECT (both resolve to the int 28).\n\nWe need to add a check in convertValue() to make sure that we are dealing with the appropriate package.",
    "Thanks for the rapid response Chuck.",
    "Created an attachment (id\u003d64356)\nHandle EcorePackage and XMLTypePackage\n\nI coded it to handle EcorePackage and XMLTypePackage (and ignore any other EPackage)... are there any other EPackages we should explicitly handle?",
    "Patch looks good - EMF has recently been handling the XML Types differently(modeled directly) - we are just reacting to this change.\n\ndropping change",
    "Verified in May 4 IBuild of WTP 2.0.",
    "Closing verified defect."
  ],
  "commentCreationDates": [
    "2007-04-05T19:35:17+02:00",
    "2007-04-18T23:30:24+02:00",
    "2007-04-19T00:04:32+02:00",
    "2007-04-19T00:13:53+02:00",
    "2007-04-19T23:04:01+02:00",
    "2007-05-01T14:25:23+02:00",
    "2007-05-17T01:45:05+02:00",
    "2007-05-19T00:12:30+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.wst.common.internal.emf.utilities.FeatureValueConversionException",
      "message": "IWAE0014E Failed to convert converter1Description to Character.",
      "elements": [
        {
          "method": "org.eclipse.wst.common.internal.emf.utilities.DefaultFeatureValueConverter.failedToConvert",
          "source": "DefaultFeatureValueConverter.java:319"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.utilities.DefaultFeatureValueConverter.convertToCharacter",
          "source": "DefaultFeatureValueConverter.java:74"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.utilities.DefaultFeatureValueConverter.convertValue",
          "source": "DefaultFeatureValueConverter.java:242"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.utilities.DefaultFeatureValueConverter.convertValue",
          "source": "DefaultFeatureValueConverter.java:274"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.Translator.convertStringToValue",
          "source": "Translator.java:513"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFFeature",
          "source": "EMF2DOMAdapterImpl.java:1369"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFFeature",
          "source": "EMF2DOMAdapterImpl.java:1755"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF",
          "source": "EMF2DOMAdapterImpl.java:929"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF",
          "source": "EMF2DOMAdapterImpl.java:909"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMultiFeature",
          "source": "EMF2DOMAdapterImpl.java:419"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMultiFeature",
          "source": "EMF2DOMAdapterImpl.java:1481"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFMultiFeature",
          "source": "EMF2DOMAdapterImpl.java:1695"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFFeature",
          "source": "EMF2DOMAdapterImpl.java:1737"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF",
          "source": "EMF2DOMAdapterImpl.java:929"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF",
          "source": "EMF2DOMAdapterImpl.java:909"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMultiFeature",
          "source": "EMF2DOMAdapterImpl.java:419"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMultiFeature",
          "source": "EMF2DOMAdapterImpl.java:1481"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFMultiFeature",
          "source": "EMF2DOMAdapterImpl.java:1695"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFFeature",
          "source": "EMF2DOMAdapterImpl.java:1737"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF",
          "source": "EMF2DOMAdapterImpl.java:929"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF",
          "source": "EMF2DOMAdapterImpl.java:909"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.emf2xml.EMF2DOMSSEAdapter.notifyChanged",
          "source": "EMF2DOMSSEAdapter.java:224"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.provisional.AbstractNotifier.notify",
          "source": "AbstractNotifier.java:201"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.XMLModelNotifierImpl.notifyStructureChanged",
          "source": "XMLModelNotifierImpl.java:392"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.XMLModelNotifierImpl.endChanging",
          "source": "XMLModelNotifierImpl.java:180"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.DOMModelImpl.changedModel",
          "source": "DOMModelImpl.java:163"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.model.AbstractStructuredModel$DocumentToModelNotifier.regionsReplaced",
          "source": "AbstractStructuredModel.java:176"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument._fireEvent",
          "source": "BasicStructuredDocument.java:573"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.fireStructuredDocumentEvent",
          "source": "BasicStructuredDocument.java:1192"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.internalReplaceText",
          "source": "BasicStructuredDocument.java:1959"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText",
          "source": "BasicStructuredDocument.java:2394"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.access$0",
          "source": "JobSafeStructuredDocument.java:1"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument$1.run",
          "source": "JobSafeStructuredDocument.java:98"
        },
        {
          "method": "org.eclipse.wst.sse.ui.EditorExecutionContext.execute",
          "source": "EditorExecutionContext.java:42"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.replaceText",
          "source": "JobSafeStructuredDocument.java:109"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText",
          "source": "BasicStructuredDocument.java:2390"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "181254",
      "date": "2007-04-05T19:35:17+02:00",
      "product": "Web Tools",
      "component": "wst.common",
      "severity": "major"
    }
  ],
  "groupId": "181254",
  "bugId": "181254",
  "date": "2007-04-05T19:35:17+02:00",
  "product": "Web Tools",
  "component": "wst.common",
  "severity": "major"
}