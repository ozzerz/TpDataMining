{
  "comments": [
    "Hello,\n\nI tried to use JDI implementation separately from Eclipse JDT debugger using Apache Harmony J2SE implementation (http://harmony.apache.org/). I made some stubs to separate JDI implementation from other Eclipse stuff and was able to run JDB demo and Netbeans debugger on top of Harmony JDK with Eclipse JDI included. You can see details in Harmony mail list: http://thread.gmane.org/gmane.comp.java.harmony.devel/26080\n\nI noticed several issues with JDI connectors in how they handle default arguments and listen on default port, which lead to NPE. I believe this is bug in JDI implementation and it just not occur in Eclipse debugger. Here is output from JDB demo that shows this problem:\n\n---------------------------------------------------------------------------\n\u003e run_jdb.bat -listconnectors\nAvailable connectors are:\n\n  Connector: com.sun.jdi.SocketAttach  Transport: dt_socket\n    description: Attaches by socket to other VMs\n\n    Argument: timeout Default value: 0\n    description: Connection Timeout\n\nUncaught exception in main:\njava.lang.NullPointerException\n        at org.eclipse.jdi.internal.connect.ConnectorImpl$IntegerArgumentImpl.value(ConnectorImpl.java:180)\n        at com.sun.tools.example.debug.tty.Commands.commandConnectors(Commands.java:211)\n        at com.sun.tools.example.debug.tty.TTY.main(TTY.java:874)\n\n\u003e run_jdb.bat -listenany\ncom.sun.jdi.connect.IllegalConnectorArgumentsException: Necessary connection argument is null\n        at org.eclipse.jdi.internal.connect.SocketListeningConnectorImpl.getConnectionArguments(SocketListeningConnector\nImpl.java:94)\n        at org.eclipse.jdi.internal.connect.SocketListeningConnectorImpl.startListening(SocketListeningConnectorImpl.jav\na:105)\n        at com.sun.tools.example.debug.tty.VMConnection.listenTarget(VMConnection.java:373)\n        at com.sun.tools.example.debug.tty.VMConnection.open(VMConnection.java:170)\n        at com.sun.tools.example.debug.tty.Env.init(Env.java:63)\n        at com.sun.tools.example.debug.tty.TTY.main(TTY.java:964)\n---------------------------------------------------------------------------\n\nEven if NPE is fixed, the other problem with listening on default port appears. The fix is rather simple, I fixed both problems in the latest sources from CVS and was able to run JDB. I\u0027m attaching patch for JDI connectors to this bug report. I\u0027d like to see this problem fixed soon, so it will be possible to use Eclipse JDI with Harmony JDK.\n\nThanks.\nIvan Popov",
    "Created an attachment (id\u003d65016)\nPatch for JDI connectors\n\n",
    "Applied patch.",
    "Verified."
  ],
  "commentCreationDates": [
    "2007-04-26T14:33:27+02:00",
    "2007-04-26T14:35:13+02:00",
    "2007-04-26T16:22:32+02:00",
    "2007-04-26T16:23:04+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdi.internal.connect.ConnectorImpl$IntegerArgumentImpl.value",
          "source": "ConnectorImpl.java:180"
        },
        {
          "method": "com.sun.tools.example.debug.tty.Commands.commandConnectors",
          "source": "Commands.java:211"
        },
        {
          "method": "com.sun.tools.example.debug.tty.TTY.main",
          "source": "TTY.java:874"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "184211",
      "date": "2007-04-26T14:33:27+02:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    },
    {
      "exceptionType": "com.sun.jdi.connect.IllegalConnectorArgumentsException",
      "message": "Necessary connection argument is null",
      "elements": [
        {
          "method": "org.eclipse.jdi.internal.connect.SocketListeningConnectorImpl.getConnectionArguments",
          "source": "SocketListeningConnector Impl.java:94"
        },
        {
          "method": "org.eclipse.jdi.internal.connect.SocketListeningConnectorImpl.startListening",
          "source": "SocketListeningConnectorImpl.jav a:105"
        },
        {
          "method": "com.sun.tools.example.debug.tty.VMConnection.listenTarget",
          "source": "VMConnection.java:373"
        },
        {
          "method": "com.sun.tools.example.debug.tty.VMConnection.open",
          "source": "VMConnection.java:170"
        },
        {
          "method": "com.sun.tools.example.debug.tty.Env.init",
          "source": "Env.java:63"
        },
        {
          "method": "com.sun.tools.example.debug.tty.TTY.main",
          "source": "TTY.java:964"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "184211",
      "date": "2007-04-26T14:33:27+02:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "184211",
  "bugId": "184211",
  "date": "2007-04-26T14:33:27+02:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "normal"
}