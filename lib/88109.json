{
  "comments": [
    "There is a check for classes starting with \"java.\" in\norg.eclipse.osgi.framework.adaptor.core.AbstractClassLoader.loadClass line 83 \n\nThis prevents classes from rt.jar to be loaded with the system class loader.\nWhat about classes starting with org.w3c.dom, javax., sun.? \nFor example if you have org.w3c.dom.Document in some jar in your plugin \nclasspath it will be loaded instead of the one from rt.jar.\nPlease fix that as soon as possible or at least try to explain why was this \ncode introduced in Eclipse 3.1M5a?",
    "Please see bug 87780.",
    "I am not sure if I understand everything in that bug description. You refer to \nboot and system classloaders but it is not clear what you mean by system. Is \nit the JVM or org.eclipse.osgi (or something else)? \nI took out the duplicate classes from the third party jars but I still see \nproblems.\nI have tried with build I20050315-1100\nThere are still problems whith the classes in rt.jar.\nI need to load sun.awt.AppContext during the plugin activation but I get this \nexception:\n\nWhile loading class \"sun.awt.AppContext\", thread \"Event-Bridge\" timed out \nwaiting (5000ms) for thread \"AWT-EventQueue-0\" to finish starting \nbundle \"com.my.plugin\". To avoid deadlock, thread \"Event-Bridge\" is proceeding \nbut \"sun.awt.AppContext\" may not be fully initialized.\n\njava.lang.Exception: Generated exception.\nat org.eclipse.core.runtime.adaptor.EclipseClassLoader.findLocalClass\n(EclipseClassLoader.java:102)\nat org.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass\n(BundleLoader.java:306)\nat org.eclipse.osgi.framework.internal.core.BundleLoader.findClass\n(BundleLoader.java:333)\nat org.eclipse.osgi.framework.adaptor.core.AbstractClassLoader.loadClass\n(AbstractClassLoader.java:94)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:235)\nat java.lang.ClassLoader.loadClassInternal(ClassLoader.java:302)\n...\n\nThe class gets loaded at the end but that exception bothers me. It seems to be \nsome raise condition because I don\u0027t see it all the time.\n\n",
    "That exception message means that two threads were trying to load classes from\nplugin com.my.plugin while that plugin was being activated.  This is not\nnecessarily a problem, but it can cause problems for another thread that is\ntrying to access a plugin that may not be fully initialized.  To avoid this\nexception, don\u0027t fork threads in your plugin startup method, or only fork\nthreads at the very end of your plugin startup method.\n\nBug 87780 explains the class loader changes."
  ],
  "commentCreationDates": [
    "2005-03-15T20:22:56+01:00",
    "2005-03-15T21:43:32+01:00",
    "2005-03-16T02:07:56+01:00",
    "2005-03-30T16:24:20+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.Exception",
      "message": "Generated exception.",
      "elements": [
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseClassLoader.findLocalClass",
          "source": "EclipseClassLoader.java:102"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass",
          "source": "BundleLoader.java:306"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClass",
          "source": "BundleLoader.java:333"
        },
        {
          "method": "org.eclipse.osgi.framework.adaptor.core.AbstractClassLoader.loadClass",
          "source": "AbstractClassLoader.java:94"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:235"
        },
        {
          "method": "java.lang.ClassLoader.loadClassInternal",
          "source": "ClassLoader.java:302"
        }
      ],
      "number": 0,
      "commentIndex": 2,
      "bugId": "88109",
      "date": "2005-03-16T02:07:56+01:00",
      "product": "Platform",
      "component": "Runtime",
      "severity": "blocker"
    }
  ],
  "groupId": "88109",
  "bugId": "88109",
  "date": "2005-03-15T20:22:56+01:00",
  "product": "Platform",
  "component": "Runtime",
  "severity": "blocker"
}