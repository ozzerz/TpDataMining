{
  "comments": [
    "I\u0027ll provide more specifics as I come across them.  Sorry for the sparse detail.\n\nSometimes (but not always) when I Run.. or Debug.. a JUnit launcher, I get the\nfollowing exception:\n\nConsole [\u003cdisconnected\u003e org.eclipse.jdt.internal.junit.runner.RemoteTestRunner\nat localHost:9613]\n\nCould not connect to:  : 6293\t\t\t\njava.net.ConnectException: Connection refused\n\tat java.net.PlainSocketImpl.socketConnect(Native Method)\n\tat java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:295)\n\tat java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:161)\n\tat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:148)\n\tat java.net.Socket.connect(Socket.java:425)\n\tat java.net.Socket.connect(Socket.java:375)\n\tat java.net.Socket.\u003cinit\u003e(Socket.java:290)\n\tat java.net.Socket.\u003cinit\u003e(Socket.java:118)\n\tat\norg.eclipse.jdt.internal.junit.runner.RemoteTestRunner.connect(RemoteTestRunner.java:440)\n\tat\norg.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:210)\n\tat\norg.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:151)\n\n\nCould be related to one of the following:\n**I\u0027m running a dual head linux systems via xinerama, but other apps have not\nhad any difficulty.\n**I\u0027m suspicious that the problem occurs when I have more than one perspective\nopen in different windows, OR when using Debug... would cause a new perspective\nto be started.",
    "After a little more spelunking...\n\nCases when I *don\u0027t* get the socket error:\n[1] Perspectives open in a new window\n    I have open a Java perspective and a Debug perspective\n    Debug or run from either perspective\n[2] Perspectives open in a new window\n    I only have a Java perspective open\n    Don\u0027t have a JUnit view open anywhere\n    I Run a JUnit launcher\n[3] Perspectives open in a new window\n    I only have 2 Java perspectives open\n    Don\u0027t have a JUnit view open anywhere\n    I Run a JUnit launcher\n\nCases when I *do* get the socket error:\n[A] Perspectives open in a new window\n    I only have a Java perspective open\n    I Debug a JUnit launcher\n\nNote: the fact that I\u0027ve catogorized the cases above does not mean that I\nhaven\u0027t gotten the other outcome at a different.  I am sure that I\u0027ve previously\ngotten this error with Run before, but none of the cases above covers that.\n\n*sigh*",
    "[F3] While I have had several times where a debug perspective fired up and ran\ncorrectly, I have just seen a socket failure under F3.  Stack trace is...\n\nCould not connect to:  : 8727\t\t\t\njava.net.ConnectException: Connection refused\n\tat java.net.PlainSocketImpl.socketConnect(Native Method)\n\tat java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:295)\n\tat java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:161)\n\tat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:148)\n\tat java.net.Socket.connect(Socket.java:425)\n\tat java.net.Socket.connect(Socket.java:375)\n\tat java.net.Socket.\u003cinit\u003e(Socket.java:290)\n\tat java.net.Socket.\u003cinit\u003e(Socket.java:118)\n\tat\norg.eclipse.jdt.internal.junit.runner.RemoteTestRunner.connect(RemoteTestRunner.java:443)\n\tat\norg.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:212)\n\tat\norg.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:151)\n",
    "Could reproduce under Win2000. The problem shows up when the Eclipse JUnit \nserver is slow in starting up. This can happen when switching to debug \nperspective or when launching JUnit tests under the debugger. There is a loop \nthat attempts to compensate for this delay by retrying to connect multiple \ntimes with a delay. However, the timeout for the retries is too small for \ncommon cases, i.e., the retry is only done for 1 second. \n\nF4 fix candidate.\n\nImpact if not fixed: running JUnit tests doesn\u0027t seem to run reliably and you \noften have to retry twice. The problem seems to be worse on Linux. Fix is \ntrivial to increase the retry count and the retry interval. \n\nIndex: RemoteTestRunner.java\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\nRCS \nfile: /home/eclipse/org.eclipse.jdt.junit/src/org/eclipse/jdt/internal/junit/run\nner/RemoteTestRunner.java,v\nretrieving revision 1.8\ndiff -u -r1.8 RemoteTestRunner.java\n--- RemoteTestRunner.java\t11 Jun 2002 23:03:28 -0000\t1.8\n+++ RemoteTestRunner.java\t18 Jun 2002 20:23:56 -0000\n@@ -438,7 +438,7 @@\n \t\tif (fDebugMode)\n \t\t\tSystem.out.println(\"RemoteTestRunner: trying to \nconnect\" + fHost + \":\" + fPort); //$NON-NLS-1$ //$NON-NLS-2$\n \t\tException exception\u003d null;\n-\t\tfor (int i\u003d 1; i \u003c 5; i++) {\n+\t\tfor (int i\u003d 1; i \u003c 10; i++) {\n \t\t\ttry{\n \t\t\t\tfClientSocket\u003d new Socket(fHost, fPort);\n \t\t\t\tfWriter\u003d new PrintWriter\n(fClientSocket.getOutputStream(), false/*true*/);\n@@ -449,7 +449,7 @@\n \t\t\t\texception\u003d e;\n \t\t\t}\n \t\t\ttry {\n-\t\t\t\tThread.currentThread().sleep(200);\n+\t\t\t\tThread.currentThread().sleep(2000);\n \t\t\t} catch(InterruptedException e) {\n \t\t\t}\n \t\t}\n",
    "Reviewed by Dirk Baeumer and Kai-Uwe Maetzel."
  ],
  "commentCreationDates": [
    "2002-06-11T01:51:41+02:00",
    "2002-06-11T02:07:52+02:00",
    "2002-06-15T01:07:49+02:00",
    "2002-06-18T22:30:04+02:00",
    "2002-06-20T11:08:36+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.net.ConnectException",
      "message": "Connection refused",
      "elements": [
        {
          "method": "java.net.PlainSocketImpl.socketConnect",
          "source": "Native Method"
        },
        {
          "method": "java.net.PlainSocketImpl.doConnect",
          "source": "PlainSocketImpl.java:295"
        },
        {
          "method": "java.net.PlainSocketImpl.connectToAddress",
          "source": "PlainSocketImpl.java:161"
        },
        {
          "method": "java.net.PlainSocketImpl.connect",
          "source": "PlainSocketImpl.java:148"
        },
        {
          "method": "java.net.Socket.connect",
          "source": "Socket.java:425"
        },
        {
          "method": "java.net.Socket.connect",
          "source": "Socket.java:375"
        },
        {
          "method": "java.net.Socket.\u003cinit\u003e",
          "source": "Socket.java:290"
        },
        {
          "method": "java.net.Socket.\u003cinit\u003e",
          "source": "Socket.java:118"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.connect",
          "source": "RemoteTestRunner.java:440"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run",
          "source": "RemoteTestRunner.java:210"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main",
          "source": "RemoteTestRunner.java:151"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "19859",
      "date": "2002-06-11T01:51:41+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "major"
    },
    {
      "exceptionType": "java.net.ConnectException",
      "message": "Connection refused",
      "elements": [
        {
          "method": "java.net.PlainSocketImpl.socketConnect",
          "source": "Native Method"
        },
        {
          "method": "java.net.PlainSocketImpl.doConnect",
          "source": "PlainSocketImpl.java:295"
        },
        {
          "method": "java.net.PlainSocketImpl.connectToAddress",
          "source": "PlainSocketImpl.java:161"
        },
        {
          "method": "java.net.PlainSocketImpl.connect",
          "source": "PlainSocketImpl.java:148"
        },
        {
          "method": "java.net.Socket.connect",
          "source": "Socket.java:425"
        },
        {
          "method": "java.net.Socket.connect",
          "source": "Socket.java:375"
        },
        {
          "method": "java.net.Socket.\u003cinit\u003e",
          "source": "Socket.java:290"
        },
        {
          "method": "java.net.Socket.\u003cinit\u003e",
          "source": "Socket.java:118"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.connect",
          "source": "RemoteTestRunner.java:443"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run",
          "source": "RemoteTestRunner.java:212"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main",
          "source": "RemoteTestRunner.java:151"
        }
      ],
      "number": 1,
      "commentIndex": 2,
      "bugId": "19859",
      "date": "2002-06-15T01:07:49+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "19859",
  "bugId": "19859",
  "date": "2002-06-11T01:51:41+02:00",
  "product": "JDT",
  "component": "UI",
  "severity": "major"
}