{
  "comments": [
    "I expanded my directory test, which has a file name filelist.\nI deleted the file filelist in the remote shell.\nThen I went back to system tree view, right clicked on filelist,and renamed it to a different name.\nGot error message RSEF1301E: Renaming of the object deleted failed.\nClicked ok on the dialog to dismiss it.  But the tree view was not refreshed, so I could still see this node.\nI clicked on the file filelist again in the System tree view.  Got the following error in the error log:\n\njava.lang.NumberFormatException: null\n\tat java.lang.Long.parseLong(Unknown Source)\n\tat java.lang.Long.parseLong(Unknown Source)\n\tat org.eclipse.rse.internal.services.dstore.files.DStoreHostFile.getModifiedDate(DStoreHostFile.java:324)\n\tat org.eclipse.rse.internal.services.dstore.files.DStoreHostFile.getModifiedDate(DStoreHostFile.java:289)\n\tat org.eclipse.rse.subsystems.files.core.servicesubsystem.AbstractRemoteFile.getLastModified(AbstractRemoteFile.java:97)\n\tat org.eclipse.rse.subsystems.files.core.subsystems.RemoteFile.getLastModifiedDate(RemoteFile.java:396)\n\tat org.eclipse.rse.internal.files.ui.view.SystemViewRemoteFileAdapter.getPropertyValue(SystemViewRemoteFileAdapter.java:1200)\n\tat org.eclipse.rse.internal.files.ui.view.SystemViewRemoteFileAdapter.internalGetPropertyValue(SystemViewRemoteFileAdapter.java:1134)\n\tat org.eclipse.rse.ui.view.AbstractSystemViewAdapter.getPropertyValue(AbstractSystemViewAdapter.java:745)\n\tat org.eclipse.rse.internal.files.ui.view.SystemViewRemoteFileAdapter.getPropertyValue(SystemViewRemoteFileAdapter.java:1153)\n\tat org.eclipse.ui.views.properties.PropertySheetEntry.refreshValues(PropertySheetEntry.java:611)\n\tat org.eclipse.ui.views.properties.PropertySheetEntry.refreshChildEntries(PropertySheetEntry.java:568)\n\tat org.eclipse.ui.views.properties.PropertySheetEntry.setValues(PropertySheetEntry.java:760)\n\tat org.eclipse.ui.views.properties.PropertySheetViewer.setInput(PropertySheetViewer.java:943)\n\tat org.eclipse.ui.views.properties.PropertySheetPage.selectionChanged(PropertySheetPage.java:473)\n\tat org.eclipse.ui.views.properties.PropertySheet.selectionChanged(PropertySheet.java:214)\n\tat org.eclipse.ui.internal.AbstractSelectionService.fireSelection(AbstractSelectionService.java:156)\n\tat org.eclipse.ui.internal.AbstractSelectionService$1.selectionChanged(AbstractSelectionService.java:62)\n\tat org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:162)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:850)\n\tat org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:45)\n\tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:153)\n\tat org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:160)\n\tat org.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:2058)\n\tat org.eclipse.jface.viewers.StructuredViewer.handleSelect(StructuredViewer.java:1138)\n\tat org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected(StructuredViewer.java:1164)\n\tat org.eclipse.jface.util.OpenStrategy.fireSelectionEvent(OpenStrategy.java:227)\n\tat org.eclipse.jface.util.OpenStrategy.access$3(OpenStrategy.java:221)\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:388)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3673)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3284)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2337)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2301)\n\tat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2176)\n\tat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:463)\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:458)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:101)\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:146)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:356)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:171)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:476)\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:416)\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1141)\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1116)\n\n------------------------------------------------\nTM 2.0M7 Testing\ninstallation : eclipse-platform-3.3M7 (I20070503-1400)\nRSE install  : RSE-SDK-2.0RC1.zip\njava.runtime : Sun 1.5.0_06-b05\nos.name:     : Windows XP 5.1, Service Pack 2\n------------------------------------------------\nsystemtype   : Linux - DStore",
    "Dave you\u0027ve been dealing with deleted files lately.\nWhat\u0027s the right solution for this?",
    "Created an attachment (id\u003d69716)\npatch to check for null properties attributes\n\nI\u0027ve added a patch here so that the dstore file service makes sure to check for null when it gets it\u0027s attributes.  In the case of a deleted file, there will be no properties.",
    "The property refresh stuff occurs as a result of a selection on the deleted file (which no longer has valid properties).  It may be worth considering detecting whether a file exists at this point and firing a refresh remote event if this gets deleted in SystemViewRemoteFileAdapter.getPropertyValue().  What do you think Martin?",
    "Regarding my last comments, I don\u0027t think that\u0027s a great idea since in most cases, we\u0027d have a stale object (unable to detect deleted) and do to a requery on it is expensive on selection-change.",
    "I\u0027ve applied the fixes to dstore host file.",
    "Created an attachment (id\u003d69932)\nAdditional patch using \"true\".equals() for better readability\n\nPatch is good, though it can be further simplified and made more readable by using\n  return \"true\".equals(obj)\nsee attached patch. I committed the patch -- please review and mark the bug fixed.",
    "I did not get the exception using 2.0 RC4 driver.\n\nBut the rename will not refresh the parent folder, so the deleted file still shown.  This probably is the current limitation.  I will close this bug."
  ],
  "commentCreationDates": [
    "2007-05-28T21:22:05+02:00",
    "2007-05-29T20:27:45+02:00",
    "2007-06-01T17:38:04+02:00",
    "2007-06-01T17:55:20+02:00",
    "2007-06-01T17:59:36+02:00",
    "2007-06-01T21:06:13+02:00",
    "2007-06-04T12:16:55+02:00",
    "2007-06-21T22:13:07+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NumberFormatException",
      "message": "null",
      "elements": [
        {
          "method": "java.lang.Long.parseLong",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.Long.parseLong",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.rse.internal.services.dstore.files.DStoreHostFile.getModifiedDate",
          "source": "DStoreHostFile.java:324"
        },
        {
          "method": "org.eclipse.rse.internal.services.dstore.files.DStoreHostFile.getModifiedDate",
          "source": "DStoreHostFile.java:289"
        },
        {
          "method": "org.eclipse.rse.subsystems.files.core.servicesubsystem.AbstractRemoteFile.getLastModified",
          "source": "AbstractRemoteFile.java:97"
        },
        {
          "method": "org.eclipse.rse.subsystems.files.core.subsystems.RemoteFile.getLastModifiedDate",
          "source": "RemoteFile.java:396"
        },
        {
          "method": "org.eclipse.rse.internal.files.ui.view.SystemViewRemoteFileAdapter.getPropertyValue",
          "source": "SystemViewRemoteFileAdapter.java:1200"
        },
        {
          "method": "org.eclipse.rse.internal.files.ui.view.SystemViewRemoteFileAdapter.internalGetPropertyValue",
          "source": "SystemViewRemoteFileAdapter.java:1134"
        },
        {
          "method": "org.eclipse.rse.ui.view.AbstractSystemViewAdapter.getPropertyValue",
          "source": "AbstractSystemViewAdapter.java:745"
        },
        {
          "method": "org.eclipse.rse.internal.files.ui.view.SystemViewRemoteFileAdapter.getPropertyValue",
          "source": "SystemViewRemoteFileAdapter.java:1153"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetEntry.refreshValues",
          "source": "PropertySheetEntry.java:611"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetEntry.refreshChildEntries",
          "source": "PropertySheetEntry.java:568"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetEntry.setValues",
          "source": "PropertySheetEntry.java:760"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetViewer.setInput",
          "source": "PropertySheetViewer.java:943"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetPage.selectionChanged",
          "source": "PropertySheetPage.java:473"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheet.selectionChanged",
          "source": "PropertySheet.java:214"
        },
        {
          "method": "org.eclipse.ui.internal.AbstractSelectionService.fireSelection",
          "source": "AbstractSelectionService.java:156"
        },
        {
          "method": "org.eclipse.ui.internal.AbstractSelectionService$1.selectionChanged",
          "source": "AbstractSelectionService.java:62"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer$2.run",
          "source": "Viewer.java:162"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:850"
        },
        {
          "method": "org.eclipse.ui.internal.JFaceUtil$1.run",
          "source": "JFaceUtil.java:45"
        },
        {
          "method": "org.eclipse.jface.util.SafeRunnable.run",
          "source": "SafeRunnable.java:153"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer.fireSelectionChanged",
          "source": "Viewer.java:160"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateSelection",
          "source": "StructuredViewer.java:2058"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleSelect",
          "source": "StructuredViewer.java:1138"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected",
          "source": "StructuredViewer.java:1164"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireSelectionEvent",
          "source": "OpenStrategy.java:227"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$3",
          "source": "OpenStrategy.java:221"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "OpenStrategy.java:388"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3673"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3284"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2337"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2301"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2176"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:463"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:458"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:101"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:146"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:356"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:171"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:476"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:416"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1141"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1116"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "189498",
      "date": "2007-05-28T21:22:05+02:00",
      "product": "Target Management",
      "component": "RSE",
      "severity": "normal"
    }
  ],
  "groupId": "189498",
  "bugId": "189498",
  "date": "2007-05-28T21:22:05+02:00",
  "product": "Target Management",
  "component": "RSE",
  "severity": "normal"
}