{
  "comments": [
    "Eclipse 3.1 M7 + CDT 3.0.0 Build I200506141049\n\nIf memory view is added in Debug perspecitve, launching a debug session will \ngenerate an error log:\n\nError 2005-06-15 15:32:47.555 Problems occurred when invoking code from plug-\nin: \"org.eclipse.debug.core\".\norg.eclipse.swt.SWTException: Invalid thread access\n\tat org.eclipse.swt.SWT.error(SWT.java:2940)\n\tat org.eclipse.swt.SWT.error(SWT.java:2863)\n\tat org.eclipse.swt.SWT.error(SWT.java:2834)\n\tat org.eclipse.swt.widgets.Widget.error(Widget.java:393)\n\tat org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:296)\n\tat org.eclipse.swt.widgets.Tree.getSelection(Tree.java:1207)\n\tat org.eclipse.jface.viewers.TreeViewer.getSelection\n(TreeViewer.java:413)\n\tat org.eclipse.jface.viewers.TreeViewer.setSelection\n(TreeViewer.java:580)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.setSelectionToWidget\n(AbstractTreeViewer.java:1596)\n\tat org.eclipse.jface.viewers.StructuredViewer.setSelectionToWidget\n(StructuredViewer.java:1496)\n\tat org.eclipse.jface.viewers.StructuredViewer.preservingSelection\n(StructuredViewer.java:1208)\n\tat org.eclipse.jface.viewers.StructuredViewer.refresh\n(StructuredViewer.java:1262)\n\tat org.eclipse.jface.viewers.StructuredViewer.refresh\n(StructuredViewer.java:1221)\n\tat \norg.eclipse.debug.internal.ui.views.memory.MemoryBlocksTreeViewPane$MemoryBlock\nsViewerContentProvider.memoryBlocksAdded(MemoryBlocksTreeViewPane.java:238)\n\tat \norg.eclipse.debug.internal.core.MemoryBlockManager$MemoryBlockNotifier.run\n(MemoryBlockManager.java:73)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:1029)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:775)\n\tat \norg.eclipse.debug.internal.core.MemoryBlockManager$MemoryBlockNotifier.notify\n(MemoryBlockManager.java:91)\n\tat org.eclipse.debug.internal.core.MemoryBlockManager.notifyListeners\n(MemoryBlockManager.java:269)\n\tat org.eclipse.debug.internal.core.MemoryBlockManager.addMemoryBlocks\n(MemoryBlockManager.java:136)\n\tat \norg.eclipse.cdt.debug.internal.core.CMemoryBlockRetrievalExtension.createMemory\nBlocks(CMemoryBlockRetrievalExtension.java:113)\n\tat \norg.eclipse.cdt.debug.internal.core.CMemoryBlockRetrievalExtension.initializeFr\nomMemento(CMemoryBlockRetrievalExtension.java:99)\n\tat \norg.eclipse.cdt.debug.internal.core.CMemoryBlockRetrievalExtension.initialize\n(CMemoryBlockRetrievalExtension.java:75)\n\tat \norg.eclipse.cdt.debug.internal.core.model.CDebugTarget.initializeMemoryBlocks\n(CDebugTarget.java:357)\n\tat org.eclipse.cdt.debug.internal.core.model.CDebugTarget.initialize\n(CDebugTarget.java:259)\n\tat org.eclipse.cdt.debug.internal.core.model.CDebugTarget.\u003cinit\u003e\n(CDebugTarget.java:244)\n\tat org.eclipse.cdt.debug.core.CDIDebugModel$1.run\n(CDIDebugModel.java:96)\n\tat org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1716)\n\tat org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1736)\n\tat org.eclipse.cdt.debug.core.CDIDebugModel.newDebugTarget\n(CDIDebugModel.java:107)\n\tat org.eclipse.cdt.launch.internal.LocalRunLaunchDelegate.launch\n(LocalRunLaunchDelegate.java:105)\n\tat org.eclipse.debug.internal.core.LaunchConfiguration.launch\n(LaunchConfiguration.java:590)\n\tat org.eclipse.debug.internal.core.LaunchConfiguration.launch\n(LaunchConfiguration.java:515)\n\tat org.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch\n(DebugUIPlugin.java:734)\n\tat org.eclipse.debug.internal.ui.DebugUIPlugin$6.run\n(DebugUIPlugin.java:932)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)",
    "In this case the \"addMemoryBlocks\" method of IMemoryBlockManager is called from \nthe non-UI thread. As a result the \"refresh\" method is called for \nStructuredViewer. The notifications of the UI components should be done in the \nUI thread.",
    "Created an attachment (id\u003d23366)\npatch to org.eclipse.debug.ui\n\nHi James -\n\nI have created a patch to org.eclipse.debug.ui for this problem.  Would you be\nable to help me test out this patch and make sure that it fixes your problem? \nThanks... Let me know if you have any quesiton.\n\nSamantha",
    "Fixed in:\n* AddMemoryBlockAction\n* MemoryBlocksTreeViewPane\n* MemoryView\n* RenderingViewPane\n* ASCIIRendering\n* GoToAddressAction\n* AbstractTableRendering\n\n- moved events handling onto UI thread\n- made sure the events are handled properly, removing any assumptions about the \norders of events.\n- made sure renderings are not created in a pane again if it\u0027s already created\n- register a memory block to a view if added via the AddMemoryBlockAction or \nGoToAddressAction.  This is to force the memory view to show new memory blocks \neven though the view is pinned.\n- check that the controls are not disposed before removing listeners\n- removed unnecessary listener in ASCII rendering",
    "Darin, please verify.",
    "fixed",
    "+1\n\nCC\u0027ing Darin (S) for secondary approval.",
    "+1\nI am assuming the TestJob in the patch will not be released?",
    "Darin - where is TestJob (I did not see it).",
    "OK - I see TestJob is in the patch, but it was not released :-)",
    "(In reply to comment #2)\n\u003e Created an attachment (id\u003d23366) [edit]\n\u003e patch to org.eclipse.debug.ui\n\u003e Hi James -\n\u003e I have created a patch to org.eclipse.debug.ui for this problem.  Would you be\n\u003e able to help me test out this patch and make sure that it fixes your problem? \n\u003e Thanks... Let me know if you have any quesiton.\n\u003e Samantha\n\nHi Samantha,\n\nSince I am testing on system build level, so until we get a newer build from \nDoug, I cannot test you fix. I will update the bug report once I test on the \nnew build. \n\nThx,\nJames",
    "I removed that job from the actual code and was not released.",
    "Verified."
  ],
  "commentCreationDates": [
    "2005-06-15T21:32:43+02:00",
    "2005-06-15T23:55:14+02:00",
    "2005-06-16T21:12:14+02:00",
    "2005-06-17T02:13:54+02:00",
    "2005-06-17T02:15:20+02:00",
    "2005-06-17T02:15:38+02:00",
    "2005-06-17T03:00:53+02:00",
    "2005-06-17T04:19:32+02:00",
    "2005-06-17T14:34:10+02:00",
    "2005-06-17T15:18:27+02:00",
    "2005-06-17T15:43:15+02:00",
    "2005-06-17T15:53:45+02:00",
    "2005-06-17T20:35:42+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Invalid thread access",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2940"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2863"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2834"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:393"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.checkWidget",
          "source": "Widget.java:296"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.getSelection",
          "source": "Tree.java:1207"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.getSelection",
          "source": "TreeViewer.java:413"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.setSelection",
          "source": "TreeViewer.java:580"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.setSelectionToWidget",
          "source": "AbstractTreeViewer.java:1596"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.setSelectionToWidget",
          "source": "StructuredViewer.java:1496"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.preservingSelection",
          "source": "StructuredViewer.java:1208"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.refresh",
          "source": "StructuredViewer.java:1262"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.refresh",
          "source": "StructuredViewer.java:1221"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.memory.MemoryBlocksTreeViewPane$MemoryBlocksViewerContentProvider.memoryBlocksAdded",
          "source": "MemoryBlocksTreeViewPane.java:238"
        },
        {
          "method": "org.eclipse.debug.internal.core.MemoryBlockManager$MemoryBlockNotifier.run",
          "source": "MemoryBlockManager.java:73"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1029"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:775"
        },
        {
          "method": "org.eclipse.debug.internal.core.MemoryBlockManager$MemoryBlockNotifier.notify",
          "source": "MemoryBlockManager.java:91"
        },
        {
          "method": "org.eclipse.debug.internal.core.MemoryBlockManager.notifyListeners",
          "source": "MemoryBlockManager.java:269"
        },
        {
          "method": "org.eclipse.debug.internal.core.MemoryBlockManager.addMemoryBlocks",
          "source": "MemoryBlockManager.java:136"
        },
        {
          "method": "org.eclipse.cdt.debug.internal.core.CMemoryBlockRetrievalExtension.createMemoryBlocks",
          "source": "CMemoryBlockRetrievalExtension.java:113"
        },
        {
          "method": "org.eclipse.cdt.debug.internal.core.CMemoryBlockRetrievalExtension.initializeFromMemento",
          "source": "CMemoryBlockRetrievalExtension.java:99"
        },
        {
          "method": "org.eclipse.cdt.debug.internal.core.CMemoryBlockRetrievalExtension.initialize",
          "source": "CMemoryBlockRetrievalExtension.java:75"
        },
        {
          "method": "org.eclipse.cdt.debug.internal.core.model.CDebugTarget.initializeMemoryBlocks",
          "source": "CDebugTarget.java:357"
        },
        {
          "method": "org.eclipse.cdt.debug.internal.core.model.CDebugTarget.initialize",
          "source": "CDebugTarget.java:259"
        },
        {
          "method": "org.eclipse.cdt.debug.internal.core.model.CDebugTarget.\u003cinit\u003e",
          "source": "CDebugTarget.java:244"
        },
        {
          "method": "org.eclipse.cdt.debug.core.CDIDebugModel$1.run",
          "source": "CDIDebugModel.java:96"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1716"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1736"
        },
        {
          "method": "org.eclipse.cdt.debug.core.CDIDebugModel.newDebugTarget",
          "source": "CDIDebugModel.java:107"
        },
        {
          "method": "org.eclipse.cdt.launch.internal.LocalRunLaunchDelegate.launch",
          "source": "LocalRunLaunchDelegate.java:105"
        },
        {
          "method": "org.eclipse.debug.internal.core.LaunchConfiguration.launch",
          "source": "LaunchConfiguration.java:590"
        },
        {
          "method": "org.eclipse.debug.internal.core.LaunchConfiguration.launch",
          "source": "LaunchConfiguration.java:515"
        },
        {
          "method": "org.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch",
          "source": "DebugUIPlugin.java:734"
        },
        {
          "method": "org.eclipse.debug.internal.ui.DebugUIPlugin$6.run",
          "source": "DebugUIPlugin.java:932"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:67"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "100283",
      "date": "2005-06-15T21:32:43+02:00",
      "product": "Platform",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "100283",
  "bugId": "100283",
  "date": "2005-06-15T21:32:43+02:00",
  "product": "Platform",
  "component": "Debug",
  "severity": "normal"
}