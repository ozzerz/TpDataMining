{
  "comments": [
    "EMF I200406171028\n\nClassCastException occurs when calling applyAndRerverse() on the change\ndescriptor. The problem seems to be with checking if the original model object\nwas set.  \n\nIncluded is a project that illustrates the bug.  The class\ncom.ibm.student.ChangeRecorderAction contains this code.\n\nResulting stack trace from running the action:\n\n!ENTRY org.eclipse.ui 4 0 Jun 21, 2004 11:11:47.540\n!MESSAGE java.lang.ClassCastException\n!STACK 0\njava.lang.ClassCastException\n at\norg.eclipse.emf.ecore.impl.BasicEObjectImpl.eOpenIsSet(BasicEObjectImpl.java\n:592)\n at\norg.eclipse.emf.ecore.impl.BasicEObjectImpl.eDynamicIsSet(BasicEObjectImpl.j\nava:583)\n at com.ibm.student.impl.MentorImpl.eIsSet(MentorImpl.java:175)\n at\norg.eclipse.emf.ecore.change.impl.FeatureChangeImpl.applyAndReverse(FeatureC\nhangeImpl.java:532)\n at\norg.eclipse.emf.ecore.change.impl.ChangeDescriptionImpl.applyAndReverse(Chan\ngeDescriptionImpl.java:245)\n at\ncom.ibm.student.actions.ChangeRecorderAction.run(ChangeRecorderAction.java:5\n8)\n at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:276)\n at\norg.eclipse.ui.internal.WWinPluginAction.runWithEvent(WWinPluginAction.java:\n206)\n at\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(Action\nContributionItem.java:915)\n at\norg.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionI\ntem.java:866)\n at\norg.eclipse.jface.action.ActionContributionItem$7.handleEvent(ActionContribu\ntionItem.java:785)\n at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)\n at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2732)\n at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2398)\n at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1375)\n at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1346)\n at\norg.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:252)\n at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\n at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96)\n at\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.\njava:335)\n at\norg.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:272)\n at\norg.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:128)\n at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39\n)\n at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl\n.java:25)\n at java.lang.reflect.Method.invoke(Method.java:324)\n at org.eclipse.core.launcher.Main.basicRun(Main.java:186)\n at org.eclipse.core.launcher.Main.run(Main.java:647)\n at org.eclipse.core.launcher.Main.main(Main.java:631)",
    "Created an attachment (id\u003d12607)\nproject that demonstrates the bug\n",
    "Only the class cast part of the bug has been fixed. The feature maps still \naren\u0027t handled properly in the change recorder and we won\u0027t be able to fix it \nuntil the 2.0.1 stream.",
    "Additional fixes have been applied.  Although there are remaining issues with\nfeature map change recording, your test case no longer fails.",
    "The fix for this defect is available in today\u0027s build, M200409011021."
  ],
  "commentCreationDates": [
    "2004-06-21T22:28:47+02:00",
    "2004-06-21T22:30:14+02:00",
    "2004-06-24T12:59:50+02:00",
    "2004-09-01T15:45:27+02:00",
    "2004-09-01T17:31:42+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "elements": [
        {
          "method": "org.eclipse.emf.ecore.impl.BasicEObjectImpl.eOpenIsSet",
          "source": "BasicEObjectImpl.java :592"
        },
        {
          "method": "org.eclipse.emf.ecore.impl.BasicEObjectImpl.eDynamicIsSet",
          "source": "BasicEObjectImpl.j ava:583"
        },
        {
          "method": "com.ibm.student.impl.MentorImpl.eIsSet",
          "source": "MentorImpl.java:175"
        },
        {
          "method": "org.eclipse.emf.ecore.change.impl.FeatureChangeImpl.applyAndReverse",
          "source": "FeatureC hangeImpl.java:532"
        },
        {
          "method": "org.eclipse.emf.ecore.change.impl.ChangeDescriptionImpl.applyAndReverse",
          "source": "Chan geDescriptionImpl.java:245"
        },
        {
          "method": "com.ibm.student.actions.ChangeRecorderAction.run",
          "source": "ChangeRecorderAction.java:5 8"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:276"
        },
        {
          "method": "org.eclipse.ui.internal.WWinPluginAction.runWithEvent",
          "source": "WWinPluginAction.java: 206"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "Action ContributionItem.java:915"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionI tem.java:866"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$7.handleEvent",
          "source": "ActionContribu tionItem.java:785"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:796"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2732"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2398"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1375"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1346"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:252"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:141"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:96"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator. java:335"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:272"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:128"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39 "
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl .java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:186"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:647"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:631"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "68099",
      "date": "2004-06-21T22:28:47+02:00",
      "product": "EMF",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "68099",
  "bugId": "68099",
  "date": "2004-06-21T22:28:47+02:00",
  "product": "EMF",
  "component": "Core",
  "severity": "normal"
}