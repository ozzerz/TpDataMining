{
  "comments": [
    "Launch a DStore shell then right click on it in the Systems View and select Cancel Shell.  Get a Widget is Disposed Error.\n\nError Log:\norg.eclipse.swt.SWTException: Widget is disposed\n\tat org.eclipse.swt.SWT.error(SWT.java:3563)\n\tat org.eclipse.swt.SWT.error(SWT.java:3481)\n\tat org.eclipse.swt.SWT.error(SWT.java:3452)\n\tat org.eclipse.swt.widgets.Widget.error(Widget.java:432)\n\tat org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:325)\n\tat org.eclipse.swt.widgets.Widget.getData(Widget.java:485)\n\tat org.eclipse.ui.views.properties.PropertySheetViewer.updateChildrenOf(PropertySheetViewer.java:1229)\n\tat org.eclipse.ui.views.properties.PropertySheetViewer.setInput(PropertySheetViewer.java:945)\n\tat org.eclipse.ui.views.properties.PropertySheetPage.selectionChanged(PropertySheetPage.java:473)\n\tat org.eclipse.ui.views.properties.PropertySheet.selectionChanged(PropertySheet.java:214)\n\tat org.eclipse.ui.internal.AbstractSelectionService.fireSelection(AbstractSelectionService.java:156)\n\tat org.eclipse.ui.internal.AbstractSelectionService$1.selectionChanged(AbstractSelectionService.java:62)\n\tat org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:162)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:857)\n\tat org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:46)\n\tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:193)\n\tat org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:160)\n\tat org.eclipse.rse.internal.ui.view.SystemView.updatePropertySheet(SystemView.java:5503)\n\tat org.eclipse.rse.internal.ui.view.SystemView$ResourceChangedJob.runInUIThread(SystemView.java:2047)\n\tat org.eclipse.ui.progress.UIJob$1.run(UIJob.java:94)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3659)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3296)\n\tat org.eclipse.rse.services.dstore.util.DStoreStatusMonitor.waitForUpdate(DStoreStatusMonitor.java:306)\n\tat org.eclipse.rse.services.dstore.util.DStoreStatusMonitor.waitForUpdate(DStoreStatusMonitor.java:267)\n\tat org.eclipse.rse.services.dstore.AbstractDStoreService.dsQueryCommand(AbstractDStoreService.java:157)\n\tat org.eclipse.rse.internal.services.dstore.files.DStoreFileService.getFile(DStoreFileService.java:778)\n\tat org.eclipse.rse.subsystems.files.core.servicesubsystem.FileServiceSubSystem.getFile(FileServiceSubSystem.java:298)\n\tat org.eclipse.rse.subsystems.files.core.servicesubsystem.FileServiceSubSystem.getRemoteFileObject(FileServiceSubSystem.java:220)\n\tat org.eclipse.rse.internal.subsystems.shells.dstore.DStoreServiceCommandShell.getContext(DStoreServiceCommandShell.java:128)\n\tat org.eclipse.rse.shells.ui.view.SystemViewRemoteOutputAdapter.getPropertyValue(SystemViewRemoteOutputAdapter.java:1244)\n\tat org.eclipse.rse.shells.ui.view.SystemViewRemoteOutputAdapter.internalGetPropertyValue(SystemViewRemoteOutputAdapter.java:850)\n\tat org.eclipse.rse.ui.view.AbstractSystemViewAdapter.getPropertyValue(AbstractSystemViewAdapter.java:753)\n\tat org.eclipse.ui.views.properties.PropertySheetEntry.refreshValues(PropertySheetEntry.java:611)\n\tat org.eclipse.ui.views.properties.PropertySheetEntry.refreshChildEntries(PropertySheetEntry.java:568)\n\tat org.eclipse.ui.views.properties.PropertySheetEntry.setValues(PropertySheetEntry.java:760)\n\tat org.eclipse.ui.views.properties.PropertySheetViewer.setInput(PropertySheetViewer.java:943)\n\tat org.eclipse.ui.views.properties.PropertySheetPage.selectionChanged(PropertySheetPage.java:473)\n\tat org.eclipse.ui.views.properties.PropertySheet.selectionChanged(PropertySheet.java:214)\n\tat org.eclipse.ui.internal.AbstractSelectionService.fireSelection(AbstractSelectionService.java:156)\n\tat org.eclipse.ui.internal.AbstractSelectionService$1.selectionChanged(AbstractSelectionService.java:62)\n\tat org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:162)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:857)\n\tat org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:46)\n\tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:193)\n\tat org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:160)\n\tat org.eclipse.rse.internal.ui.view.SystemView.updatePropertySheet(SystemView.java:5503)\n\tat org.eclipse.rse.internal.ui.view.SystemView$ResourceChangedJob.runInUIThread(SystemView.java:2047)\n\tat org.eclipse.ui.progress.UIJob$1.run(UIJob.java:94)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3659)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3296)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353)\n\tat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219)\n\tat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:504)\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:443)\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1169)\n\n-----------Enter bugs above this line-----------\nTM 2.0.1 Testing\ninstallation : eclipse-SDK-3.3\nRSE install  : Dev Driver - \njava.runtime : Sun 1.5.0_11-b03\nos.name:     : Windows XP, Service Pack 2\n------------------------------------------------",
    "Reproduced on Linux easily.\n\nIt should be possible to find the issue by placing a breakpoint at SystemView#updatePropertySheet (line 5503).\n\nI consider this minor though since there is no harm except logging the exception.",
    "Created an attachment (id\u003d78894)\npatch to use context string instead of context when updating the property sheet\n\nI\u0027ve attached a patch to use the context string instead of the context object when updating the property sheet for a shell.  If getContext() were used, then we would end up doing a query on the main thread.  Because this is on the main thread, the Display.readAndDispatch() gets called while waiting for the query response.  Read and dispatch ends up allowing some refresh events through via the system view and that seems to be what\u0027s causing the widget disposed errors.",
    "Martin, could you review the patch?  It\u0027s a very small change and fairly low-risk. Not sure whether this should wait for 3.0 or go in 2.0.1.",
    "Patch looks good. I\u0027m fine with putting this in 2.0.1 - feel free to check in and I\u0027ll retag it.",
    "Okay, I\u0027ve committed the fix to cvs.",
    "Verified fixed in I20071108."
  ],
  "commentCreationDates": [
    "2007-09-13T19:40:59+02:00",
    "2007-09-13T19:55:42+02:00",
    "2007-09-20T23:04:00+02:00",
    "2007-09-20T23:06:49+02:00",
    "2007-09-24T17:56:47+02:00",
    "2007-09-24T18:24:42+02:00",
    "2007-11-08T16:21:57+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Widget is disposed",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3563"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3481"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3452"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:432"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.checkWidget",
          "source": "Widget.java:325"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.getData",
          "source": "Widget.java:485"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetViewer.updateChildrenOf",
          "source": "PropertySheetViewer.java:1229"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetViewer.setInput",
          "source": "PropertySheetViewer.java:945"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetPage.selectionChanged",
          "source": "PropertySheetPage.java:473"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheet.selectionChanged",
          "source": "PropertySheet.java:214"
        },
        {
          "method": "org.eclipse.ui.internal.AbstractSelectionService.fireSelection",
          "source": "AbstractSelectionService.java:156"
        },
        {
          "method": "org.eclipse.ui.internal.AbstractSelectionService$1.selectionChanged",
          "source": "AbstractSelectionService.java:62"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer$2.run",
          "source": "Viewer.java:162"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:857"
        },
        {
          "method": "org.eclipse.ui.internal.JFaceUtil$1.run",
          "source": "JFaceUtil.java:46"
        },
        {
          "method": "org.eclipse.jface.util.SafeRunnable.run",
          "source": "SafeRunnable.java:193"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer.fireSelectionChanged",
          "source": "Viewer.java:160"
        },
        {
          "method": "org.eclipse.rse.internal.ui.view.SystemView.updatePropertySheet",
          "source": "SystemView.java:5503"
        },
        {
          "method": "org.eclipse.rse.internal.ui.view.SystemView$ResourceChangedJob.runInUIThread",
          "source": "SystemView.java:2047"
        },
        {
          "method": "org.eclipse.ui.progress.UIJob$1.run",
          "source": "UIJob.java:94"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:123"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3659"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3296"
        },
        {
          "method": "org.eclipse.rse.services.dstore.util.DStoreStatusMonitor.waitForUpdate",
          "source": "DStoreStatusMonitor.java:306"
        },
        {
          "method": "org.eclipse.rse.services.dstore.util.DStoreStatusMonitor.waitForUpdate",
          "source": "DStoreStatusMonitor.java:267"
        },
        {
          "method": "org.eclipse.rse.services.dstore.AbstractDStoreService.dsQueryCommand",
          "source": "AbstractDStoreService.java:157"
        },
        {
          "method": "org.eclipse.rse.internal.services.dstore.files.DStoreFileService.getFile",
          "source": "DStoreFileService.java:778"
        },
        {
          "method": "org.eclipse.rse.subsystems.files.core.servicesubsystem.FileServiceSubSystem.getFile",
          "source": "FileServiceSubSystem.java:298"
        },
        {
          "method": "org.eclipse.rse.subsystems.files.core.servicesubsystem.FileServiceSubSystem.getRemoteFileObject",
          "source": "FileServiceSubSystem.java:220"
        },
        {
          "method": "org.eclipse.rse.internal.subsystems.shells.dstore.DStoreServiceCommandShell.getContext",
          "source": "DStoreServiceCommandShell.java:128"
        },
        {
          "method": "org.eclipse.rse.shells.ui.view.SystemViewRemoteOutputAdapter.getPropertyValue",
          "source": "SystemViewRemoteOutputAdapter.java:1244"
        },
        {
          "method": "org.eclipse.rse.shells.ui.view.SystemViewRemoteOutputAdapter.internalGetPropertyValue",
          "source": "SystemViewRemoteOutputAdapter.java:850"
        },
        {
          "method": "org.eclipse.rse.ui.view.AbstractSystemViewAdapter.getPropertyValue",
          "source": "AbstractSystemViewAdapter.java:753"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetEntry.refreshValues",
          "source": "PropertySheetEntry.java:611"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetEntry.refreshChildEntries",
          "source": "PropertySheetEntry.java:568"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetEntry.setValues",
          "source": "PropertySheetEntry.java:760"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetViewer.setInput",
          "source": "PropertySheetViewer.java:943"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetPage.selectionChanged",
          "source": "PropertySheetPage.java:473"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheet.selectionChanged",
          "source": "PropertySheet.java:214"
        },
        {
          "method": "org.eclipse.ui.internal.AbstractSelectionService.fireSelection",
          "source": "AbstractSelectionService.java:156"
        },
        {
          "method": "org.eclipse.ui.internal.AbstractSelectionService$1.selectionChanged",
          "source": "AbstractSelectionService.java:62"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer$2.run",
          "source": "Viewer.java:162"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:857"
        },
        {
          "method": "org.eclipse.ui.internal.JFaceUtil$1.run",
          "source": "JFaceUtil.java:46"
        },
        {
          "method": "org.eclipse.jface.util.SafeRunnable.run",
          "source": "SafeRunnable.java:193"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer.fireSelectionChanged",
          "source": "Viewer.java:160"
        },
        {
          "method": "org.eclipse.rse.internal.ui.view.SystemView.updatePropertySheet",
          "source": "SystemView.java:5503"
        },
        {
          "method": "org.eclipse.rse.internal.ui.view.SystemView$ResourceChangedJob.runInUIThread",
          "source": "SystemView.java:2047"
        },
        {
          "method": "org.eclipse.ui.progress.UIJob$1.run",
          "source": "UIJob.java:94"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:123"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3659"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3296"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2389"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2353"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2219"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:466"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:461"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:153"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:363"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:176"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:504"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:443"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1169"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "203327",
      "date": "2007-09-13T19:40:59+02:00",
      "product": "Target Management",
      "component": "RSE",
      "severity": "minor"
    }
  ],
  "groupId": "203327",
  "bugId": "203327",
  "date": "2007-09-13T19:40:59+02:00",
  "product": "Target Management",
  "component": "RSE",
  "severity": "minor"
}