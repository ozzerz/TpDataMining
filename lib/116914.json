{
  "comments": [
    "As I try to build up an update site, I find that build.xml files are frequently\ndisappearing out from under the IDE with chaotic results.\n\nThe stack trace here shows what happened when this happened to the feature\nitself. It also happens to plugins. I have no idea how I\u0027m provoking this.\n\nFor the plugins in question, I\u0027m building deployable jars, so a typical\nbuild.properties looks like:\n\nsource..\u003dsrc\noutput..\u003dbin\n\nbin.includes \u003d META-INF/,\\\n               plugin.xml,\\\n               rlilib/btrli.jar,\\\n               .\n\nI would be happy to supply more diagnostic info if I knew what might be useful.\n\n\njava.io.FileNotFoundException: c:\\tip\\fetl\\eclipse\\feature\\build.xml (The system\ncannot find the file specified)\nat java.io.FileInputStream.open(Native Method)\nat java.io.FileInputStream.\u003cinit\u003e(Unknown Source)\nat\norg.eclipse.core.internal.resources.ContentDescriptionManager$LazyFileInputStream.ensureOpened(ContentDescriptionManager.java:151)\nat\norg.eclipse.core.internal.resources.ContentDescriptionManager$LazyFileInputStream.read(ContentDescriptionManager.java:160)\nat java.io.InputStream.read(Unknown Source)\nat\norg.eclipse.core.internal.content.LazyInputStream.loadBlock(LazyInputStream.java:99)\nat\norg.eclipse.core.internal.content.LazyInputStream.ensureAvailable(LazyInputStream.java:64)\nat org.eclipse.core.internal.content.LazyInputStream.read(LazyInputStream.java:119)\nat\norg.eclipse.core.internal.content.TextContentDescriber.getByteOrderMark(TextContentDescriber.java:65)\nat\norg.eclipse.core.internal.content.XMLContentDescriber.describe(XMLContentDescriber.java:35)\nat\norg.eclipse.ant.internal.core.contentDescriber.AntBuildfileContentDescriber.describe(AntBuildfileContentDescriber.java:87)\nat org.eclipse.core.internal.content.ContentType.describe(ContentType.java:162)\nat\norg.eclipse.core.internal.content.ContentTypeCatalog.collectMatchingByContents(ContentTypeCatalog.java:188)\nat\norg.eclipse.core.internal.content.ContentTypeCatalog.internalFindContentTypesFor(ContentTypeCatalog.java:356)\nat\norg.eclipse.core.internal.content.ContentTypeCatalog.internalFindContentTypesFor(ContentTypeCatalog.java:393)\nat\norg.eclipse.core.internal.content.ContentTypeCatalog.getDescriptionFor(ContentTypeCatalog.java:302)\nat\norg.eclipse.core.internal.content.ContentTypeCatalog.getDescriptionFor(ContentTypeCatalog.java:316)\nat\norg.eclipse.core.internal.content.ContentTypeMatcher.getDescriptionFor(ContentTypeMatcher.java:87)\nat\norg.eclipse.core.internal.resources.ContentDescriptionManager.readDescription(ContentDescriptionManager.java:394)\nat\norg.eclipse.core.internal.resources.ContentDescriptionManager.getDescriptionFor(ContentDescriptionManager.java:333)\nat org.eclipse.core.internal.resources.File.getContentDescription(File.java:276)\nat\norg.eclipse.ui.internal.ide.model.WorkbenchResource.testContentTypeProperty(WorkbenchResource.java:153)\nat\norg.eclipse.ui.internal.ide.model.WorkbenchResource.testAttribute(WorkbenchResource.java:120)\nat\norg.eclipse.ui.internal.ActionExpression$ObjectStateExpression.preciselyMatches(ActionExpression.java:467)\nat\norg.eclipse.ui.internal.ActionExpression$ObjectStateExpression.isEnabledFor(ActionExpression.java:435)\nat\norg.eclipse.ui.internal.ActionExpression$SingleExpression.isEnabledFor(ActionExpression.java:308)\nat org.eclipse.ui.internal.ActionExpression.isEnabledFor(ActionExpression.java:121)\nat\norg.eclipse.ui.internal.ObjectActionContributor$ObjectContribution.isApplicableTo(ObjectActionContributor.java:330)\nat\norg.eclipse.ui.internal.ObjectActionContributor.isApplicableTo(ObjectActionContributor.java:214)\nat\norg.eclipse.ui.internal.ObjectContributorManager.isApplicableTo(ObjectContributorManager.java:274)\nat\norg.eclipse.ui.internal.ObjectActionContributorManager.contributeObjectActions(ObjectActionContributorManager.java:124)\nat\norg.eclipse.ui.internal.PopupMenuExtender.addObjectActions(PopupMenuExtender.java:246)\nat\norg.eclipse.ui.internal.PopupMenuExtender.menuAboutToShow(PopupMenuExtender.java:273)\nat org.eclipse.jface.action.MenuManager.fireAboutToShow(MenuManager.java:285)\nat org.eclipse.jface.action.MenuManager.handleAboutToShow(MenuManager.java:372)\nat org.eclipse.jface.action.MenuManager.access$0(MenuManager.java:369)\nat org.eclipse.jface.action.MenuManager$2.menuShown(MenuManager.java:386)\nat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:117)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:867)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:848)\nat org.eclipse.swt.widgets.Control.WM_INITMENUPOPUP(Control.java:3337)\nat org.eclipse.swt.widgets.Control.windowProc(Control.java:3064)\nat org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1582)\nat org.eclipse.swt.widgets.Display.windowProc(Display.java:3706)\nat org.eclipse.swt.internal.win32.OS.TrackPopupMenu(Native Method)\nat org.eclipse.swt.widgets.Menu._setVisible(Menu.java:225)\nat org.eclipse.swt.widgets.Display.runPopups(Display.java:3106)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2707)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\nat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\nat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\nat org.eclipse.core.launcher.Main.run(Main.java:973)\nat org.eclipse.core.launcher.Main.main(Main.java:948)",
    "What is failing here seems to be the opening of a popup menu on a deleted\nbuild.xml. However the problem seems to come from resources.",
    "Well, yes. But the question is: who deleted the build.xml thus creating the\nresource inconsistency? It seems to me that the only likely candidate is the PDE\nitself or a build.xml that it generated.",
    "A few questions:\n- how do you export your plug-ins?\n- how did the build.xml appear in your worksspace in the first place\n- do you have auto-refresh turned on?",
    "First of all, I can now describe a repro in much more detail.\n\nTo provoke the problem, I attempt to build from an update site project. This\nseems to force all of the build.xml\u0027s to be recreated, except that not all of\nthem are recreated.\n\nFurther, this build process fails for one of the plugin projects. The build\nerror is a classpath problem that I can not reproduce by running the ant script\nmyself.\n\nNow, to answer your questions. \n\nI have never \u0027exported\u0027 my plugins. My process was as follows:\n\n1) define several plugins and a fragment as projects in the IDE.\n2) for each one, set up a build.properties.\n3) For each one, use \u0027Create ANT build File\u0027\n4) Define a feature that references all of them\n5) Run \u0027Create ANT Build File\u0027 on the feature\n6) Create an update site, define a category, and put the feature in the category.\n7) Hit the build button on the site page.\n\nI don\u0027t know if I have auto-refresh turned on, where does that setting live?\n\n\n\n\n",
    "The refresh setting is in the preferences: general \u003e workspace \u003e refresh automatically",
    "auto refresh is not turned on.",
    "This failure is expected if the underlying file is deleted from outside the resource API. Closing."
  ],
  "commentCreationDates": [
    "2005-11-17T19:12:30+01:00",
    "2005-11-17T19:24:15+01:00",
    "2005-11-17T19:28:31+01:00",
    "2005-11-17T19:34:20+01:00",
    "2005-11-17T19:41:27+01:00",
    "2005-11-30T04:03:23+01:00",
    "2005-12-31T02:58:56+01:00",
    "2007-02-12T17:24:57+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.io.FileNotFoundException",
      "message": "c:\\tip\\fetl\\eclipse\\feature\\build.xml (The system cannot find the file specified)",
      "elements": [
        {
          "method": "java.io.FileInputStream.open",
          "source": "Native Method"
        },
        {
          "method": "java.io.FileInputStream.\u003cinit\u003e",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.internal.resources.ContentDescriptionManager$LazyFileInputStream.ensureOpened",
          "source": "ContentDescriptionManager.java:151"
        },
        {
          "method": "org.eclipse.core.internal.resources.ContentDescriptionManager$LazyFileInputStream.read",
          "source": "ContentDescriptionManager.java:160"
        },
        {
          "method": "java.io.InputStream.read",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.internal.content.LazyInputStream.loadBlock",
          "source": "LazyInputStream.java:99"
        },
        {
          "method": "org.eclipse.core.internal.content.LazyInputStream.ensureAvailable",
          "source": "LazyInputStream.java:64"
        },
        {
          "method": "org.eclipse.core.internal.content.LazyInputStream.read",
          "source": "LazyInputStream.java:119"
        },
        {
          "method": "org.eclipse.core.internal.content.TextContentDescriber.getByteOrderMark",
          "source": "TextContentDescriber.java:65"
        },
        {
          "method": "org.eclipse.core.internal.content.XMLContentDescriber.describe",
          "source": "XMLContentDescriber.java:35"
        },
        {
          "method": "org.eclipse.ant.internal.core.contentDescriber.AntBuildfileContentDescriber.describe",
          "source": "AntBuildfileContentDescriber.java:87"
        },
        {
          "method": "org.eclipse.core.internal.content.ContentType.describe",
          "source": "ContentType.java:162"
        },
        {
          "method": "org.eclipse.core.internal.content.ContentTypeCatalog.collectMatchingByContents",
          "source": "ContentTypeCatalog.java:188"
        },
        {
          "method": "org.eclipse.core.internal.content.ContentTypeCatalog.internalFindContentTypesFor",
          "source": "ContentTypeCatalog.java:356"
        },
        {
          "method": "org.eclipse.core.internal.content.ContentTypeCatalog.internalFindContentTypesFor",
          "source": "ContentTypeCatalog.java:393"
        },
        {
          "method": "org.eclipse.core.internal.content.ContentTypeCatalog.getDescriptionFor",
          "source": "ContentTypeCatalog.java:302"
        },
        {
          "method": "org.eclipse.core.internal.content.ContentTypeCatalog.getDescriptionFor",
          "source": "ContentTypeCatalog.java:316"
        },
        {
          "method": "org.eclipse.core.internal.content.ContentTypeMatcher.getDescriptionFor",
          "source": "ContentTypeMatcher.java:87"
        },
        {
          "method": "org.eclipse.core.internal.resources.ContentDescriptionManager.readDescription",
          "source": "ContentDescriptionManager.java:394"
        },
        {
          "method": "org.eclipse.core.internal.resources.ContentDescriptionManager.getDescriptionFor",
          "source": "ContentDescriptionManager.java:333"
        },
        {
          "method": "org.eclipse.core.internal.resources.File.getContentDescription",
          "source": "File.java:276"
        },
        {
          "method": "org.eclipse.ui.internal.ide.model.WorkbenchResource.testContentTypeProperty",
          "source": "WorkbenchResource.java:153"
        },
        {
          "method": "org.eclipse.ui.internal.ide.model.WorkbenchResource.testAttribute",
          "source": "WorkbenchResource.java:120"
        },
        {
          "method": "org.eclipse.ui.internal.ActionExpression$ObjectStateExpression.preciselyMatches",
          "source": "ActionExpression.java:467"
        },
        {
          "method": "org.eclipse.ui.internal.ActionExpression$ObjectStateExpression.isEnabledFor",
          "source": "ActionExpression.java:435"
        },
        {
          "method": "org.eclipse.ui.internal.ActionExpression$SingleExpression.isEnabledFor",
          "source": "ActionExpression.java:308"
        },
        {
          "method": "org.eclipse.ui.internal.ActionExpression.isEnabledFor",
          "source": "ActionExpression.java:121"
        },
        {
          "method": "org.eclipse.ui.internal.ObjectActionContributor$ObjectContribution.isApplicableTo",
          "source": "ObjectActionContributor.java:330"
        },
        {
          "method": "org.eclipse.ui.internal.ObjectActionContributor.isApplicableTo",
          "source": "ObjectActionContributor.java:214"
        },
        {
          "method": "org.eclipse.ui.internal.ObjectContributorManager.isApplicableTo",
          "source": "ObjectContributorManager.java:274"
        },
        {
          "method": "org.eclipse.ui.internal.ObjectActionContributorManager.contributeObjectActions",
          "source": "ObjectActionContributorManager.java:124"
        },
        {
          "method": "org.eclipse.ui.internal.PopupMenuExtender.addObjectActions",
          "source": "PopupMenuExtender.java:246"
        },
        {
          "method": "org.eclipse.ui.internal.PopupMenuExtender.menuAboutToShow",
          "source": "PopupMenuExtender.java:273"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.fireAboutToShow",
          "source": "MenuManager.java:285"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.handleAboutToShow",
          "source": "MenuManager.java:372"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.access$0",
          "source": "MenuManager.java:369"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager$2.menuShown",
          "source": "MenuManager.java:386"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:117"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:843"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:867"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:848"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.WM_INITMENUPOPUP",
          "source": "Control.java:3337"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:3064"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.windowProc",
          "source": "Decorations.java:1582"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:3706"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.TrackPopupMenu",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Menu._setVisible",
          "source": "Menu.java:225"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runPopups",
          "source": "Display.java:3106"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2707"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1699"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1663"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:367"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "116914",
      "date": "2005-11-17T19:12:30+01:00",
      "product": "Platform",
      "component": "Resources",
      "severity": "normal"
    }
  ],
  "groupId": "116914",
  "bugId": "116914",
  "date": "2005-11-17T19:12:30+01:00",
  "product": "Platform",
  "component": "Resources",
  "severity": "normal"
}