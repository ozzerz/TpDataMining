{
  "comments": [
    "In build 04162002, the typedef element does not seem to be working when used in\nan ant script.  It seems like\norg.eclipse.ant.internal.ui.AntAction.extractProject() should share some code\nwith org.eclipse.ant.internal.core.ant.InternalAntRunner.tun(), specifically its\nuse of the setTypes() method.\n\nThis problem affects both definition and use of a typedef because an exception\nwill get thrown by ant when it sees a top level element it doesn\u0027t recognize. \nSince eclipse parses the build file in order to bring up the wizard, then it\nshould also add the types to allow parsing of the buildfile, or use apache xml\nparser directly to pull out the list of target elements and default target.",
    "It seems because we are using Ant 1.4.1 to parse the script file, typedefs \nhave to be defined inside a target in your Ant script (it seems to be fixed in \nAnt 1.5 beta1). Could you confirm that can be used as a workaround for now?\nFor a definitive solution I like your idea of parsing it without depending on \nAnt. Will investigate. Thanks.",
    "I replaced eclipse/plugins/org.apache.ant/ant.jar with the ant.jar from \n1.5beta1, but I get a \u0027Unexpected element \"typedef\"\u0027 When I right click, \"Run \nant...\"\nRunning the buildfile from the command line using ant 1.5beta1 works fine\n",
    "Update to my last comment: I had backed up original org.apache.ant folder \n_within_ plugins directory, and eclipse was picking that one up instead of the \nmodified one.\nWith ant.jar replaced, I am now able to run a build file that has custom types\n",
    "Just a comment on the backing up. When you just want to disable a plugin, one \nalternative is to rename its plugin.xml (e.g. plugin.xml.off).",
    "Simon, just assigning this bug to you since it is now part of the toolscript \nstory. It is related to parsing scripts with xerces instead of using the Ant \nProjectHelper class.",
    "Since there is a workaround, can the severity of this PR be reduced?",
    "I believe so. Reducing to normal. At this point this could be qualified \nas \"enhancement\" but would be good to have for 2.0.",
    "When i replace ant 1.4 with 1.5, I get the following stack trace in the F1 build.\nLooks like the JDTCompilerAdapter for ant is using a method from ant that no\nlonger exists.   Maybe the severity of this bug should be bumped back up until\nthis is fixed?\n\n\njava.lang.NoSuchMethodError:\norg.apache.tools.ant.taskdefs.compilers.DefaultCompilerAdapter.addExtdirsToClasspath(Lorg/apache/tools/ant/types/Path;)V\n\tat\norg.eclipse.jdt.core.JDTCompilerAdapter.setupJavacCommand(JDTCompilerAdapter.java:93)\n\tat org.eclipse.jdt.core.JDTCompilerAdapter.execute(JDTCompilerAdapter.java:45)\n\tat org.apache.tools.ant.taskdefs.Javac.compile(Javac.java:818)\n\tat org.apache.tools.ant.taskdefs.Javac.execute(Javac.java:660)\n\tat org.apache.tools.ant.Task.perform(Task.java:313)\n\tat org.apache.tools.ant.Target.execute(Target.java:309)\n\tat org.apache.tools.ant.Target.performTasks(Target.java:334)\n\tat org.apache.tools.ant.Project.executeTarget(Project.java:1216)\n\tat org.apache.tools.ant.Project.executeTargets(Project.java:1160)\n\tat\norg.eclipse.ant.internal.core.ant.InternalAntRunner.run(InternalAntRunner.java:269)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.ant.core.AntRunner.run(AntRunner.java:155)\n\tat org.eclipse.ant.core.AntRunner.run(AntRunner.java:168)\n\tat\norg.eclipse.ui.externaltools.internal.core.AntFileRunner.execute(AntFileRunner.java:53)\n\tat\norg.eclipse.ui.externaltools.internal.core.DefaultRunnerContext.executeRunner(DefaultRunnerContext.java:207)\n\tat\norg.eclipse.ui.externaltools.internal.core.DefaultRunnerContext.run(DefaultRunnerContext.java:257)\n\tat\norg.eclipse.ui.externaltools.internal.ui.AntLaunchWizard$1.run(AntLaunchWizard.java:117)\n\tat\norg.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:98)\n",
    "The following bug describes the JDT compiler problem:\nhttp://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d17422",
    "Rodrigo, above you said: \"It is related to parsing scripts with xerces instead \nof using the Ant ProjectHelper class\".\nDidn\u0027t you gives us a patch here recently?  Are we now using Xerces or \nProjectHelper?",
    "We now use Xerces. The patch I sent you was just a \"fix\" on how you were using \nXerces. So, you were already using it but just not handling the comments \nbefore the project declaration. This problem should be fixed now.",
    "This was fixed for freeze 1 of release 2.0"
  ],
  "commentCreationDates": [
    "2002-04-17T23:12:52+02:00",
    "2002-05-06T18:31:50+02:00",
    "2002-05-07T00:24:33+02:00",
    "2002-05-07T01:06:29+02:00",
    "2002-05-07T20:03:52+02:00",
    "2002-05-14T00:35:05+02:00",
    "2002-05-14T20:41:41+02:00",
    "2002-05-14T20:49:22+02:00",
    "2002-05-23T22:44:16+02:00",
    "2002-05-23T22:56:02+02:00",
    "2002-05-24T21:36:44+02:00",
    "2002-05-24T22:14:07+02:00",
    "2002-05-27T17:48:53+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoSuchMethodError",
      "message": "org.apache.tools.ant.taskdefs.compilers.DefaultCompilerAdapter.addExtdirsToClasspath(Lorg/apache/tools/ant/types/Path;)V",
      "elements": [
        {
          "method": "org.eclipse.jdt.core.JDTCompilerAdapter.setupJavacCommand",
          "source": "JDTCompilerAdapter.java:93"
        },
        {
          "method": "org.eclipse.jdt.core.JDTCompilerAdapter.execute",
          "source": "JDTCompilerAdapter.java:45"
        },
        {
          "method": "org.apache.tools.ant.taskdefs.Javac.compile",
          "source": "Javac.java:818"
        },
        {
          "method": "org.apache.tools.ant.taskdefs.Javac.execute",
          "source": "Javac.java:660"
        },
        {
          "method": "org.apache.tools.ant.Task.perform",
          "source": "Task.java:313"
        },
        {
          "method": "org.apache.tools.ant.Target.execute",
          "source": "Target.java:309"
        },
        {
          "method": "org.apache.tools.ant.Target.performTasks",
          "source": "Target.java:334"
        },
        {
          "method": "org.apache.tools.ant.Project.executeTarget",
          "source": "Project.java:1216"
        },
        {
          "method": "org.apache.tools.ant.Project.executeTargets",
          "source": "Project.java:1160"
        },
        {
          "method": "org.eclipse.ant.internal.core.ant.InternalAntRunner.run",
          "source": "InternalAntRunner.java:269"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.ant.core.AntRunner.run",
          "source": "AntRunner.java:155"
        },
        {
          "method": "org.eclipse.ant.core.AntRunner.run",
          "source": "AntRunner.java:168"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.core.AntFileRunner.execute",
          "source": "AntFileRunner.java:53"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.core.DefaultRunnerContext.executeRunner",
          "source": "DefaultRunnerContext.java:207"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.core.DefaultRunnerContext.run",
          "source": "DefaultRunnerContext.java:257"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ui.AntLaunchWizard$1.run",
          "source": "AntLaunchWizard.java:117"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:98"
        }
      ],
      "number": 0,
      "commentIndex": 8,
      "bugId": "14048",
      "date": "2002-05-23T22:44:16+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "14048",
  "bugId": "14048",
  "date": "2002-04-17T23:12:52+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}