{
  "comments": [
    "I have a vanilla eclipse 2.0 installation. My project compiles java code then \ninvokes an ant script with no arguments. All is well with 2.0. When I upgrade \nto 2.0.1 I get an ArrayOutOfBoundsException when I build the project. If I run \nthe ant script directly it works fine. If I change the build not to run the ant \nscript automatically, the build works (minus what the ant script does).\n\nI get no output to the log window when this happens so I don\u0027t think the Ant \nscript even starts. \n\nThe message is:\nProblems occurred when invoking code from plug-in:\"org.eclipse.core.resources\"\n\n\nHere is the stack trace:\n\njava.lang.ArrayIndexOutOfBoundsException\nat org.eclipse.ui.externaltools.internal.core.AntFileRunner.execute\n(AntFileRunner.java:44)\nat org.eclipse.ui.externaltools.internal.core.DefaultRunnerContext.executeRunner\n(DefaultRunnerContext.java:413)\nat org.eclipse.ui.externaltools.internal.core.DefaultRunnerContext.run\n(DefaultRunnerContext.java:439)\nat org.eclipse.ui.externaltools.internal.core.ExternalToolsBuilder.build\n(ExternalToolsBuilder.java:50)\nat org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:392)\nat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:839)\nat org.eclipse.core.runtime.Platform.run(Platform.java:416)\nat org.eclipse.core.internal.events.BuildManager.basicBuild\n(BuildManager.java:120)\nat org.eclipse.core.internal.events.BuildManager.basicBuild\n(BuildManager.java:176)\nat org.eclipse.core.internal.events.BuildManager.basicBuild\n(BuildManager.java:186)\nat org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:146)\nat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:839)\nat org.eclipse.core.runtime.Platform.run(Platform.java:416)\nat org.eclipse.core.internal.events.BuildManager.basicBuild\n(BuildManager.java:160)\nat org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:232)\nat org.eclipse.core.internal.resources.Project.build(Project.java:85)\nat org.eclipse.ui.actions.BuildAction.invokeOperation(BuildAction.java:151)\nat org.eclipse.ui.actions.WorkspaceAction.execute(WorkspaceAction.java:112)\nat org.eclipse.ui.actions.WorkspaceAction$1.execute(WorkspaceAction.java:269)\nat org.eclipse.ui.actions.WorkspaceModifyOperation$1.run\n(WorkspaceModifyOperation.java:64)\nat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1378)\nat org.eclipse.ui.actions.WorkspaceModifyOperation.run\n(WorkspaceModifyOperation.java:78)\nat org.eclipse.jface.operation.ModalContext$ModalContextThread.run\n(ModalContext.java:98)",
    "Created an attachment (id\u003d2247)\nSample build file that causes the problem.\n",
    "Problem appears to have been caused by fix to bug 20797.",
    "Problem currently only exists in the 2.0.* streams.\nBUT the fix that caused the problem needs to be added to the 2.1 stream (bug \n22402).",
    "Problem is in AntFileRunner#execute\n\nCode is currently:\nString[] newArgs \u003d new String[args.length + 1];\nfor (int i\u003d0; i \u003c newArgs.length; i++) {\n\tnewArgs[i] \u003d args[i];\t\n}\nCode should be:\nString[] newArgs \u003d new String[args.length + 1];\nfor (int i\u003d0; i \u003c newArgs.length - 1; i++) {  //CHANGE HERE\n\tnewArgs[i] \u003d args[i];\t\n}\n\t\t\t\t",
    "Fixed in the 2.0.2 stream\nPlease verify the changes to AntFileRunner (Darin W).",
    "Verified.",
    "Is there any way to tweak the build file so that this will not happen in 2.0.1?",
    "Sorry for the delay in response but I was no longer \"attached\" to this bug. \nI believe if you do not set a working directory the problem should not occur.",
    "If you don\u0027t specify a working directory, do you know what IS your working\ndirectory?",
    "It would be the basedir specified in your build file.\nSo it should work if you correctly specify your basedir in your build file but \ndo not specify the working directory in the external tools setup."
  ],
  "commentCreationDates": [
    "2002-09-09T20:40:48+02:00",
    "2002-10-22T01:20:37+02:00",
    "2002-10-22T02:59:26+02:00",
    "2002-10-22T03:11:50+02:00",
    "2002-10-22T03:22:33+02:00",
    "2002-10-22T18:07:45+02:00",
    "2002-10-22T18:41:48+02:00",
    "2002-10-22T19:04:59+02:00",
    "2002-10-29T15:18:55+01:00",
    "2002-10-29T15:51:14+01:00",
    "2002-10-29T16:18:18+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "elements": [
        {
          "method": "org.eclipse.ui.externaltools.internal.core.AntFileRunner.execute",
          "source": "AntFileRunner.java:44"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.core.DefaultRunnerContext.executeRunner",
          "source": "DefaultRunnerContext.java:413"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.core.DefaultRunnerContext.run",
          "source": "DefaultRunnerContext.java:439"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.core.ExternalToolsBuilder.build",
          "source": "ExternalToolsBuilder.java:50"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$2.run",
          "source": "BuildManager.java:392"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:839"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:416"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:120"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:176"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:186"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$1.run",
          "source": "BuildManager.java:146"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:839"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:416"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:160"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.build",
          "source": "BuildManager.java:232"
        },
        {
          "method": "org.eclipse.core.internal.resources.Project.build",
          "source": "Project.java:85"
        },
        {
          "method": "org.eclipse.ui.actions.BuildAction.invokeOperation",
          "source": "BuildAction.java:151"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceAction.execute",
          "source": "WorkspaceAction.java:112"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceAction$1.execute",
          "source": "WorkspaceAction.java:269"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation$1.run",
          "source": "WorkspaceModifyOperation.java:64"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1378"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation.run",
          "source": "WorkspaceModifyOperation.java:78"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:98"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "23340",
      "date": "2002-09-09T20:40:48+02:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    }
  ],
  "groupId": "23340",
  "bugId": "23340",
  "date": "2002-09-09T20:40:48+02:00",
  "product": "Platform",
  "component": "Ant",
  "severity": "normal"
}