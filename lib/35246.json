{
  "comments": [
    "Win32 - 2.1 I0317\nI have a project that contains a single JAR.\nIf I select the Javadoc location option under Properties of the JAR, the \nfollowing exception occurs:\njava.lang.NullPointerException\n        at \norg.eclipse.jdt.internal.corext.javadoc.JavaDocLocations.getJavadocBaseLocation\n(JavaDocLocations.java:164)\n        at org.eclipse.jdt.ui.JavaUI.getJavadocBaseLocation(JavaUI.java:710)\n        at \norg.eclipse.jdt.internal.ui.preferences.JavadocConfigurationPropertyPage.create\nContents(JavadocConfigurationPropertyPage.java:74)\n        at org.eclipse.jface.preference.PreferencePage.createControl\n(PreferencePage.java:215)\n        at \norg.eclipse.jdt.internal.ui.preferences.JavadocConfigurationPropertyPage.create\nControl(JavadocConfigurationPropertyPage.java:63)\n        at org.eclipse.jface.preference.PreferenceDialog.showPage\n(PreferenceDialog.java:1017)\n        at org.eclipse.jface.preference.PreferenceDialog$9.run\n(PreferenceDialog.java:496)\n        at org.eclipse.swt.custom.BusyIndicator.showWhile\n(BusyIndicator.java:69)\n        at org.eclipse.jface.preference.PreferenceDialog$8.widgetSelected\n(PreferenceDialog.java:490)\n        at org.eclipse.jface.util.OpenStrategy.firePostSelectionEvent\n(OpenStrategy.java:198)\n        at org.eclipse.jface.util.OpenStrategy.access$4(OpenStrategy.java:193)\n        at org.eclipse.jface.util.OpenStrategy$3.run(OpenStrategy.java:333)\n        at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n        at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages\n(Synchronizer.java:98)\n        at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:1758)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1493)\n        at org.eclipse.jface.window.Window.runEventLoop(Window.java:583)\n        at org.eclipse.jface.window.Window.open(Window.java:563)\n        at org.eclipse.ui.dialogs.PropertyDialogAction.run\n(PropertyDialogAction.java:164)\n        at org.eclipse.jface.action.Action.runWithEvent(Action.java:842)\n        at \norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:456)\n        at org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent\n(ActionContributionItem.java:403)\n        at org.eclipse.jface.action.ActionContributionItem.access$0\n(ActionContributionItem.java:397)\n        at \norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent\n(ActionContributionItem.java:72)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:81)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:840)\n        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1781)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1489)\n        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1402)\n        at org.eclipse.ui.internal.Workbench.run(Workbench.java:1385)\n        at org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:845)\n        at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:247)\n        at org.eclipse.core.launcher.Main.run(Main.java:703)\n        at org.eclipse.core.launcher.Main.main(Main.java:539)",
    "Steps to reproduce:\n\n- create a Java project\n- add a Jar to it without putting it onto the build path (don\u0027t make it a\n  java element)\n- open properties-\u003eSource attachment",
    "i think there should be another entry in the log avove that one\ncan you look?",
    "the problem comes i think from JavadocConfigurationPropertyPage.getJavaElement\n\nin the case when a CoreException is thrown and caught, that method returns \nnull, which ends up in JavaDocLocations.getJavadocBaseLocation as elem",
    "This is not a regression. The problem is that, since the jar isn\u0027t on the \nclass path, it is not a Java element. Even if we make the property page work \nwhen selected, we can\u0027t store the enterned value since a javadoc location can \nonly be attached to a Java element. \n\nThe fix would be to present a label for jar not on the class path telling the \nuser that a javadoc location can only be set for Jar\u0027s on the class path.\n\nI tested the fix proposed by adam. But this only postpones the NPE until the \nuser hits OK.\n\n",
    "Martin pls investigate a minimal fix for RC3",
    "Created an attachment (id\u003d4237)\nfix\n\nFull fix of the problem. Attaching a URL to a JAR not on the classpath is\nallowed as long as it is a Java project.\n",
    "suggest to fix.\nFix is to be more precise in deciding which elements can have javadoc locations \n(\u0027getJavaElement\u0027), to prevent the NPE and to hide the controls in that case.",
    "+1",
    "+1",
    "Martin please release after review",
    "fixed for 20030319\nreviewed by Adam",
    "verified for RC3"
  ],
  "commentCreationDates": [
    "2003-03-18T19:47:19+01:00",
    "2003-03-18T20:59:49+01:00",
    "2003-03-18T21:00:45+01:00",
    "2003-03-18T21:04:26+01:00",
    "2003-03-18T21:10:51+01:00",
    "2003-03-19T08:47:05+01:00",
    "2003-03-19T09:54:56+01:00",
    "2003-03-19T09:57:01+01:00",
    "2003-03-19T11:09:49+01:00",
    "2003-03-19T11:37:09+01:00",
    "2003-03-19T14:20:50+01:00",
    "2003-03-19T14:37:39+01:00",
    "2003-03-20T17:44:36+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.corext.javadoc.JavaDocLocations.getJavadocBaseLocation",
          "source": "JavaDocLocations.java:164"
        },
        {
          "method": "org.eclipse.jdt.ui.JavaUI.getJavadocBaseLocation",
          "source": "JavaUI.java:710"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.preferences.JavadocConfigurationPropertyPage.createContents",
          "source": "JavadocConfigurationPropertyPage.java:74"
        },
        {
          "method": "org.eclipse.jface.preference.PreferencePage.createControl",
          "source": "PreferencePage.java:215"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.preferences.JavadocConfigurationPropertyPage.createControl",
          "source": "JavadocConfigurationPropertyPage.java:63"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog.showPage",
          "source": "PreferenceDialog.java:1017"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog$9.run",
          "source": "PreferenceDialog.java:496"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog$8.widgetSelected",
          "source": "PreferenceDialog.java:490"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.firePostSelectionEvent",
          "source": "OpenStrategy.java:198"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$4",
          "source": "OpenStrategy.java:193"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$3.run",
          "source": "OpenStrategy.java:333"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:98"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:1758"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1493"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:583"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:563"
        },
        {
          "method": "org.eclipse.ui.dialogs.PropertyDialogAction.run",
          "source": "PropertyDialogAction.java:164"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:842"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:456"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java:403"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem.java:397"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java:72"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:81"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:840"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1781"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1489"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1402"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1385"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:247"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:703"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:539"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "35246",
      "date": "2003-03-18T19:47:19+01:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "35246",
  "bugId": "35246",
  "date": "2003-03-18T19:47:19+01:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}