{
  "comments": [
    "I200409070800\n\nI don\u0027t know the pattern but an almost every second startup of Eclipse a full \nbuild kicks in. What I see is the following:\n\n- a first build runs marking almost all of my source problems with errors.\n  This doesn\u0027t seem to be a full build since it only takes around 30 seconds\n\n- a second build kicks in which does the actual full build.",
    "Scan the errors on the projects themselves... I suspect you have major build \nfailures (classpath problems, etc.).",
    "No, my projects don\u0027t show any errors when I start nor did they when I \nshutdown. But the do after the first build that kicks in, but they are gone \nafter the second.\n\nCCing Andre. He sees a similar behaviour.",
    "So after the first build, what are the errors on the projects themselves (if \nthere are any)?",
    "Haven\u0027t checked. Will do the next time I see the behavior.",
    "Close as this bug seems not to be reproduced for near 6 weeks...\nDirk, please reopen if you get it again, thanks",
    "Integration build: I20041130\n\nSince recent integration builds on the 3.1 stream, I encounter FULL rebuilds at\nstartup. Here is part of a trace:\n\nInstall location:\n    file:/c:/Software/eclipse/\nConfiguration file:\n    file:/c:/Software/eclipse/configuration/config.ini loaded\nConfiguration location:\n    file:/c:/Software/eclipse/configuration/\nConfiguration file:\n    file:/c:/Software/eclipse/configuration/config.ini loaded\nFramework located:\n    file:/c:/Software/eclipse/plugins/org.eclipse.osgi_3.1.0/\nLoading framework classpath from:\n    file:/c:/Software/eclipse/plugins/org.eclipse.osgi_3.1.0/eclipse.properties\nFramework classpath:\n    file:/c:/Software/eclipse/plugins/org.eclipse.osgi_3.1.0/core.jar\n    file:/c:/Software/eclipse/plugins/org.eclipse.osgi_3.1.0/console.jar\n    file:/c:/Software/eclipse/plugins/org.eclipse.osgi_3.1.0/osgi.jar\n    file:/c:/Software/eclipse/plugins/org.eclipse.osgi_3.1.0/resolver.jar\n    file:/c:/Software/eclipse/plugins/org.eclipse.osgi_3.1.0/defaultAdaptor.jar\n    file:/c:/Software/eclipse/plugins/org.eclipse.osgi_3.1.0/eclipseAdaptor.jar\nSplash location:\n    c:\\Software\\eclipse\\plugins\\org.eclipse.platform_3.1.0\\splash.bmp\nDebug options:\n    file:/c:/temp/eclipse.options loaded\nTime to load bundles: 10\nStarting application: 540\n\nStarting build of \u003cproject name\u003e @ Fri Dec 03 09:10:27 CET 2004\nFULL build\nAbout to compile ....\n\nIs there anything I can enable to figure out *why* it starts a FULL build?\n\nRingo",
    "Yes, I\u0027m seeing the same problem in recent builds.",
    "I see it as well. Kent, what flags do I have to set in the .options file to get\na trace for this ?",
    "The 2 options to toggle in your .options file are:\n\n# Turn on debug tracing for org.eclipse.jdt.core plugin\norg.eclipse.jdt.core/debug\u003dtrue\n# Reports incremental builder activity\norg.eclipse.jdt.core/debug/builder\u003dtrue\n\nIt may also be worthwhile to try core\u0027s BuildManager debug options:\n\n# Turn on debugging for the org.eclipse.core.resources plugin.\norg.eclipse.core.resources/debug\u003dtrue\n# Reports the start and end of all builder invocations\norg.eclipse.core.resources/build/invoking\u003dtrue",
    "Kent, I enabled the debug options. However this produces a gigantic log since it\ncontians an enrty for every file that got compiled. Can I somehow suppress this ?",
    "I just exited my workspace (normally), and patched jdt/core.\nOn restart, I got a full build.\n\nCould it be our jar comparison which is giving false hits ? Could you make it\nmore verbose (file vs. timestamp) ?\nWould it be our timestamp recording issuing these fake differences ?\n\nThis is a good one to investigate for M4\n(is it only occurring when patching?)\n\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\njava version \"1.4.2_07\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_07-b02)\nJava HotSpot(TM) Client VM (build 1.4.2_07-b02, mixed mode)\n\nInstall location:\n    file:/d:/eclipse/sdk/eclipse/\nConfiguration file:\n    file:/d:/eclipse/sdk/eclipse/configuration/config.ini loaded\nConfiguration location:\n    file:/d:/eclipse/sdk/eclipse/configuration/\nConfiguration file:\n    file:/d:/eclipse/sdk/eclipse/configuration/config.ini loaded\nFramework located:\n    file:/d:/eclipse/sdk/eclipse/plugins/org.eclipse.osgi_3.1.0/\nLoading framework classpath from:\n    file:/d:/eclipse/sdk/eclipse/plugins/org.eclipse.osgi_3.1.0/eclipse.properties\nFramework classpath:\n    file:/d:/eclipse/sdk/eclipse/plugins/org.eclipse.osgi_3.1.0/core.jar\n    file:/d:/eclipse/sdk/eclipse/plugins/org.eclipse.osgi_3.1.0/console.jar\n    file:/d:/eclipse/sdk/eclipse/plugins/org.eclipse.osgi_3.1.0/osgi.jar\n    file:/d:/eclipse/sdk/eclipse/plugins/org.eclipse.osgi_3.1.0/resolver.jar\n    file:/d:/eclipse/sdk/eclipse/plugins/org.eclipse.osgi_3.1.0/defaultAdaptor.jar\n    file:/d:/eclipse/sdk/eclipse/plugins/org.eclipse.osgi_3.1.0/eclipseAdaptor.jar\nSplash location:\n    d:\\eclipse\\sdk\\eclipse\\plugins\\org.eclipse.platform_3.1.0\\splash.bmp\nDebug options:\n    file:/D:/eclipse/sdk/eclipse/.options loaded\n\nosgi\u003e Time to load bundles: 91\nStarting application: 9784\nFri Dec 10 13:08:41 CET 2004 - [main] Build requested, needsBuild: true state:\nNONE delay: 100\nFri Dec 10 13:08:44 CET 2004 - [main] Build requested, needsBuild: false state:\nSLEEPING delay: 100\nFri Dec 10 13:08:45 CET 2004 - [main] Build requested, needsBuild: false state:\nSLEEPING delay: 100\nFri Dec 10 13:08:46 CET 2004 - [main] Build requested, needsBuild: false state:\nSLEEPING delay: 100\nFri Dec 10 13:08:46 CET 2004 - [main] Build requested, needsBuild: false state:\nSLEEPING delay: 100\nFri Dec 10 13:08:46 CET 2004 - [main] Build requested, needsBuild: false state:\nSLEEPING delay: 100\n.....\nFri Dec 10 13:08:55 CET 2004 - [Worker-4] Build requested, needsBuild: false\nstate: RUNNING delay: 100\nThread[Worker-0,5,main] BUILDING NameLoopkup\nThread[Worker-0,5,main] -\u003e pkg roots size: 56\nThread[Worker-0,5,main] -\u003e pkgs size: 648\nThread[Worker-0,5,main] -\u003e working copy size: 4\nThread[Worker-0,5,main] BUILDING NameLoopkup\nThread[Worker-0,5,main] -\u003e pkg roots size: 89\nThread[Worker-0,5,main] -\u003e pkgs size: 970\nThread[Worker-0,5,main] -\u003e working copy size: 4\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] BUILDING NameLoopkup\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] -\u003e pkg roots size: 56\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] -\u003e pkgs size: 648\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] -\u003e working copy\nsize: 3\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] BUILDING NameLoopkup\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] -\u003e pkg roots size: 56\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] -\u003e pkgs size: 648\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] -\u003e working copy\nsize: 3\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] BUILDING NameLoopkup\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] -\u003e pkg roots size: 89\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] -\u003e pkgs size: 970\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] -\u003e working copy\nsize: 3\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] TIME SPENT in\nNameLoopkup#seekTypesInSourcePackage: 0ms\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] BUILDING NameLoopkup\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] -\u003e pkg roots size: 89\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] -\u003e pkgs size: 970\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] -\u003e working copy\nsize: 3\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] TIME SPENT in\nNameLoopkup#seekTypesInSourcePackage: 0ms\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] TIME SPENT in\nNameLoopkup#seekTypesInSourcePackage: 0ms\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] BUILDING NameLoopkup\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] -\u003e pkg roots size: 56\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] -\u003e pkgs size: 648\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] -\u003e working copy\nsize: 3\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] TIME SPENT in\nNameLoopkup#seekTypesInSourcePackage: 30ms\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] TIME SPENT in\nNameLoopkup#seekTypesInSourcePackage: 0ms\nFri Dec 10 13:09:56 CET 2004 - [Worker-3] Checking if need to build. Starting\ndelta computation between: ElementTree(3) and ElementTree(177)\nFri Dec 10 13:09:56 CET 2004 - [Worker-3] End delta computation. (0ms).\nFri Dec 10 13:09:56 CET 2004 - [Worker-3] JavaBuilder(org.eclipse.jdt.core)\nneeds building because of changes in: org.eclipse.jdt.core\nFri Dec 10 13:09:56 CET 2004 - [Worker-3] Invoking (INCREMENTAL_BUILD) on\nbuilder: JavaBuilder(org.eclipse.jdt.core)\n\nStarting build of org.eclipse.jdt.core @ Fri Dec 10 13:09:56 CET 2004\nAbout to read state...\nSuccessfully read state for org.eclipse.core.resources\nAbout to read state...\nSuccessfully read state for org.eclipse.core.runtime\nAbout to read state...\nSuccessfully read state for org.eclipse.osgi\nAbout to read state...\nSuccessfully read state for org.eclipse.text\nAbout to read state...\nSuccessfully read state for org.apache.ant\nAbout to read state...\nSuccessfully read state for org.eclipse.team.core\nAbout to read state...\nSuccessfully read state for org.eclipse.jdt.core\nClasspath jar file\nD:/eclipse/workspaces/dev3.1/plugins/org.eclipse.core.resources/resources.jar !\u003d\nClasspath jar file D:/eclipse/workspaces/dev3.1/plugins/org.\neclipse.core.resources/resources.jar\nClearing last state : State for org.eclipse.jdt.core (#13 @ Thu Dec 09 23:33:49\nCET 2004)\nFULL build\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] BUILDING NameLoopkup\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] -\u003e pkg roots size: 56\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] -\u003e pkgs size: 648\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] -\u003e working copy\nsize: 3\nThread[org.eclipse.jdt.internal.ui.text.JavaReconciler,1,main] TIME SPENT in\nNameLoopkup#seekTypesInSourcePackage: 10ms\nAbout to compile\nantadapter/org/eclipse/jdt/internal/antadapter/AntAdapterMessages.java\nAbout to compile antadapter/org/eclipse/jdt/core/JDTCompilerAdapter.java\nAbout to compile antadapter/org/eclipse/jdt/core/CheckDebugAttributes.java\nAbout to compile batch/org/eclipse/jdt/internal/compiler/batch/Main.java\nAbout to compile batch/org/eclipse/jdt/internal/compiler/batch/FileSystem.java\nAbout to compile batch/org/eclipse/jdt/internal/compiler/batch/FileFinder.java\nAbout to compile batch/org/eclipse/jdt/internal/compiler/batch/CompilationUnit.java\nAbout to compile batch/org/eclipse/jdt/internal/compiler/batch/ClasspathJar.java\nAbout to compile\nbatch/org/eclipse/jdt/internal/compiler/batch/ClasspathDirectory.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/select/SelectionScanner.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/select/SelectionParser.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/select/SelectionOnSuperReference.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/select/SelectionOnSingleTypeReference.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/select/SelectionOnSingleNameReference.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/select/SelectionOnQualifiedTypeReference.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/select/SelectionOnQualifiedSuperReference.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/select/SelectionOnQualifiedNameReference.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/select/SelectionOnQualifiedAllocationExpression.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/select/SelectionOnParameterizedSingleTypeReference.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/select/SelectionOnParameterizedQualifiedTypeReference.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/select/SelectionOnPackageReference.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/select/SelectionOnNameOfMemberValuePair.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/select/SelectionOnMessageSend.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/select/SelectionOnLocalName.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/select/SelectionOnImportReference.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/select/SelectionOnFieldType.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/select/SelectionOnFieldReference.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/select/SelectionOnExplicitConstructorCall.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/select/SelectionOnArgumentName.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/select/SelectionNodeFound.java\nAbout to compile codeassist/org/eclipse/jdt/internal/codeassist/impl/Keywords.java\nAbout to compile codeassist/org/eclipse/jdt/internal/codeassist/impl/Engine.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/impl/AssistParser.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/impl/AssistOptions.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/InvalidCursorLocation.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionScanner.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionParser.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnSingleTypeReference.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnSingleNameReference.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnQualifiedTypeReference.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnQualifiedNameReference.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnQualifiedInterfaceReference.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnQualifiedExceptionReference.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnQualifiedClassReference.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnQualifiedAllocationExpression.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnParameterizedQualifiedTypeReference.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnPackageReference.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnMethodTypeParameter.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnMethodReturnType.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnMethodName.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnMessageSend.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnMemberAccess.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnLocalName.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnKeyword3.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnKeyword2.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnKeyword1.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnKeyword.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnInterfaceReference.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnImportReference.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnFieldType.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnFieldName.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnExplicitConstructorCall.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnExceptionReference.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnClassReference.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnClassLiteralAccess.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionOnArgumentName.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionNodeFound.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionNodeDetector.java\nAbout to compile codeassist/org/eclipse/jdt/internal/codeassist/SelectionEngine.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/RelevanceConstants.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/InternalCompletionProposal.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/ISelectionRequestor.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/ISearchRequestor.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/IExtendedCompletionRequestor.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/CompletionRequestorWrapper.java\nAbout to compile\ncodeassist/org/eclipse/jdt/internal/codeassist/CompletionEngine.java\nAbout to compile compiler/org/eclipse/jdt/internal/compiler/util/WeakHashSet.java\nAbout to compile compiler/org/eclipse/jdt/internal/compiler/util/Util.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/util/SuffixConstants.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/util/SimpleNameVector.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/util/SimpleLookupTable.java\nAbout to compile compiler/org/eclipse/jdt/internal/compiler/util/ObjectVector.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/util/HashtableOfType.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/util/HashtableOfPackage.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/util/HashtableOfObjectToInt.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/util/HashtableOfObject.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/util/HashtableOfLong.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/util/HashtableOfIntValues.java\nAbout to compile compiler/org/eclipse/jdt/internal/compiler/util/HashtableOfInt.java\nAbout to compile compiler/org/eclipse/jdt/internal/compiler/util/FloatUtil.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/util/CompoundNameVector.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/problem/ShouldNotImplement.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/problem/ProblemSeverities.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/problem/ProblemReporter.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/problem/ProblemHandler.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/problem/DefaultProblemFactory.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/problem/DefaultProblem.java\nAbout to compile compiler/org/eclipse/jdt/internal/compiler/problem/AbortType.java\nAbout to compile compiler/org/eclipse/jdt/internal/compiler/problem/AbortMethod.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/problem/AbortCompilationUnit.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/problem/AbortCompilation.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/parser/diagnose/RangeUtil.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/parser/diagnose/LexStream.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/parser/diagnose/DiagnoseParser.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/parser/TerminalTokens.java\nAbout to compile compiler/org/eclipse/jdt/internal/compiler/parser/Scanner.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/parser/RecoveredUnit.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/parser/RecoveredType.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/parser/RecoveredStatement.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/parser/RecoveredMethod.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/parser/RecoveredLocalVariable.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/parser/RecoveredInitializer.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/parser/RecoveredImport.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/parser/RecoveredField.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/parser/RecoveredElement.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/parser/RecoveredBlock.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/parser/ParserBasicInformation.java\nAbout to compile compiler/org/eclipse/jdt/internal/compiler/parser/Parser.java\nAbout to compile compiler/org/eclipse/jdt/internal/compiler/parser/NLSLine.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/parser/JavadocParser.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/parser/AbstractCommentParser.java\nAbout to compile\ncompiler/org/eclipse/jdt/internal/compiler/lookup/WildcardBinding.java",
    "I go it again. Here the interesting part of the log (I hope)\n\nStarting build of org.eclipse.help @ Fri Dec 10 14:38:23 CET 2004\nAbout to read state...\nSuccessfully read state for org.eclipse.help\nNothing to build since there are no source folders and no deltas\nFinished build of org.eclipse.help @ Fri Dec 10 14:38:23 CET 2004\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Builder finished:\nJavaBuilder(org.eclipse.help) time: 10ms\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Invoking (INCREMENTAL_BUILD) on\nbuilder: ManifestConsistencyChecker(org.eclipse.help)\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Builder finished:\nManifestConsistencyChecker(org.eclipse.help) time: 0ms\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Invoking (INCREMENTAL_BUILD) on\nbuilder: ExtensionPointSchemaBuilder(org.eclipse.help)\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Builder finished:\nExtensionPointSchemaBuilder(org.eclipse.help) time: 0ms\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Invoking (INCREMENTAL_BUILD) on\nbuilder: JavaBuilder(org.eclipse.help.base)\n\nStarting build of org.eclipse.help.base @ Fri Dec 10 14:38:23 CET 2004\nAbout to read state...\nSuccessfully read state for org.apache.lucene\nAbout to read state...\nSuccessfully read state for org.eclipse.help.appserver\nAbout to read state...\nSuccessfully read state for org.eclipse.help.base\nNothing to build since there are no source folders and no deltas\nFinished build of org.eclipse.help.base @ Fri Dec 10 14:38:23 CET 2004\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Builder finished:\nJavaBuilder(org.eclipse.help.base) time: 40ms\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Invoking (INCREMENTAL_BUILD) on\nbuilder: JavaBuilder(org.eclipse.osgi.util)\n\nStarting build of org.eclipse.osgi.util @ Fri Dec 10 14:38:23 CET 2004\nAbout to read state...\nSuccessfully read state for org.eclipse.osgi.util\nNothing to build since there are no source folders and no deltas\nFinished build of org.eclipse.osgi.util @ Fri Dec 10 14:38:23 CET 2004\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Builder finished:\nJavaBuilder(org.eclipse.osgi.util) time: 20ms\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Invoking (INCREMENTAL_BUILD) on\nbuilder: ManifestConsistencyChecker(org.eclipse.osgi.util)\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Builder finished:\nManifestConsistencyChecker(org.eclipse.osgi.util) time: 0ms\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Invoking (INCREMENTAL_BUILD) on\nbuilder: ExtensionPointSchemaBuilder(org.eclipse.osgi.util)\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Builder finished:\nExtensionPointSchemaBuilder(org.eclipse.osgi.util) time: 0ms\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Invoking (INCREMENTAL_BUILD) on\nbuilder: ManifestConsistencyChecker(org.eclipse.core.resources)\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Builder finished:\nManifestConsistencyChecker(org.eclipse.core.resources) time: 10ms\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Invoking (INCREMENTAL_BUILD) on\nbuilder: ExtensionPointSchemaBuilder(org.eclipse.core.resources)\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Builder finished:\nExtensionPointSchemaBuilder(org.eclipse.core.resources) time: 10ms\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Invoking (INCREMENTAL_BUILD) on\nbuilder: JavaBuilder(org.eclipse.team.core)\n\nStarting build of org.eclipse.team.core @ Fri Dec 10 14:38:23 CET 2004\nAbout to read state...\nSuccessfully read state for org.eclipse.team.core\nNothing to build since there are no source folders and no deltas\nFinished build of org.eclipse.team.core @ Fri Dec 10 14:38:23 CET 2004\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Builder finished:\nJavaBuilder(org.eclipse.team.core) time: 0ms\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Invoking (INCREMENTAL_BUILD) on\nbuilder: JavaBuilder(org.eclipse.jdt.core)\n\nStarting build of org.eclipse.jdt.core @ Fri Dec 10 14:38:23 CET 2004\nAbout to read state...\nSuccessfully read state for org.eclipse.text\nAbout to read state...\nSuccessfully read state for org.apache.ant\nAbout to read state...\nSuccessfully read state for org.eclipse.jdt.core\nNothing to build since there are no source folders and no deltas\nFinished build of org.eclipse.jdt.core @ Fri Dec 10 14:38:23 CET 2004\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Builder finished:\nJavaBuilder(org.eclipse.jdt.core) time: 160ms\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Invoking (INCREMENTAL_BUILD) on\nbuilder: JavaBuilder(org.eclipse.pde.core)\n\nStarting build of org.eclipse.pde.core @ Fri Dec 10 14:38:23 CET 2004\nAbout to read state...\nSuccessfully read state for org.eclipse.pde.core\nNumber of binary folders/jar files has changed\nClearing last state : State for org.eclipse.pde.core (#0 @ Fri Dec 10 11:06:19\nCET 2004)\nFULL build\nRecording new state : State for org.eclipse.pde.core (#0 @ Fri Dec 10 14:38:23\nCET 2004)\nFinished build of org.eclipse.pde.core @ Fri Dec 10 14:38:23 CET 2004\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Builder finished:\nJavaBuilder(org.eclipse.pde.core) time: 10ms\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Invoking (INCREMENTAL_BUILD) on\nbuilder: JavaBuilder(org.eclipse.debug.core)\n\nStarting build of org.eclipse.debug.core @ Fri Dec 10 14:38:23 CET 2004\nAbout to read state...\nSuccessfully read state for org.eclipse.core.variables\nAbout to read state...\nSuccessfully read state for org.eclipse.debug.core\nNothing to build since there are no source folders and no deltas\nFinished build of org.eclipse.debug.core @ Fri Dec 10 14:38:23 CET 2004\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Builder finished:\nJavaBuilder(org.eclipse.debug.core) time: 20ms\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Invoking (INCREMENTAL_BUILD) on\nbuilder: JavaBuilder(org.eclipse.core.resources.win32)\n\nStarting build of org.eclipse.core.resources.win32 @ Fri Dec 10 14:38:23 CET 2004\nAbout to read state...\nSuccessfully read state for org.eclipse.core.resources.win32\nNothing to build since there are no source folders and no deltas\nFinished build of org.eclipse.core.resources.win32 @ Fri Dec 10 14:38:23 CET 2004\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Builder finished:\nJavaBuilder(org.eclipse.core.resources.win32) time: 10ms\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Invoking (INCREMENTAL_BUILD) on\nbuilder: ManifestConsistencyChecker(org.eclipse.core.resources.win32)\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Builder finished:\nManifestConsistencyChecker(org.eclipse.core.resources.win32) time: 0ms\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Invoking (INCREMENTAL_BUILD) on\nbuilder: ExtensionPointSchemaBuilder(org.eclipse.core.resources.win32)\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Builder finished:\nExtensionPointSchemaBuilder(org.eclipse.core.resources.win32) time: 0ms\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Invoking (INCREMENTAL_BUILD) on\nbuilder: JavaBuilder(org.eclipse.core.filebuffers)\n\nStarting build of org.eclipse.core.filebuffers @ Fri Dec 10 14:38:23 CET 2004\nAbout to read state...\nSuccessfully read state for org.eclipse.core.filebuffers\nFound binary delta for: org.eclipse.core.resources\nClearing last state : State for org.eclipse.core.filebuffers (#0 @ Fri Dec 10\n11:06:19 CET 2004)\nINCREMENTAL build\nRecording new state : State for org.eclipse.core.filebuffers (#1 @ Fri Dec 10\n11:06:19 CET 2004)\nFinished build of org.eclipse.core.filebuffers @ Fri Dec 10 14:38:23 CET 2004\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Builder finished:\nJavaBuilder(org.eclipse.core.filebuffers) time: 50ms\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Invoking (INCREMENTAL_BUILD) on\nbuilder: JavaBuilder(org.eclipse.ui.workbench)\n\nStarting build of org.eclipse.ui.workbench @ Fri Dec 10 14:38:23 CET 2004\nAbout to read state...\nSuccessfully read state for org.eclipse.jface\nAbout to read state...\nSuccessfully read state for org.eclipse.swt\nAbout to read state...\nSuccessfully read state for org.eclipse.core.expressions\nAbout to read state...\nSuccessfully read state for org.eclipse.ui.workbench\nNothing to build since there are no source folders and no deltas\nFinished build of org.eclipse.ui.workbench @ Fri Dec 10 14:38:23 CET 2004\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Builder finished:\nJavaBuilder(org.eclipse.ui.workbench) time: 81ms\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Invoking (INCREMENTAL_BUILD) on\nbuilder: JavaBuilder(org.eclipse.ui)\n\nStarting build of org.eclipse.ui @ Fri Dec 10 14:38:23 CET 2004\nAbout to read state...\nSuccessfully read state for org.eclipse.ui\nNumber of binary folders/jar files has changed\nClearing last state : State for org.eclipse.ui (#-1 @ Fri Dec 10 11:06:23 CET 2004)\nFULL build\nRecording new state : State for org.eclipse.ui (#0 @ Fri Dec 10 14:38:23 CET 2004)\nFinished build of org.eclipse.ui @ Fri Dec 10 14:38:23 CET 2004\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Builder finished:\nJavaBuilder(org.eclipse.ui) time: 10ms\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Invoking (INCREMENTAL_BUILD) on\nbuilder: ManifestConsistencyChecker(org.eclipse.ui)\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Builder finished:\nManifestConsistencyChecker(org.eclipse.ui) time: 0ms\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Invoking (INCREMENTAL_BUILD) on\nbuilder: ExtensionPointSchemaBuilder(org.eclipse.ui)\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Builder finished:\nExtensionPointSchemaBuilder(org.eclipse.ui) time: 0ms\nFri Dec 10 14:38:23 CET 2004 - [Worker-9] Invoking (INCREMENTAL_BUILD) on\nbuilder: JavaBuilder(org.eclipse.ui.workbench.texteditor)\n\nStarting build of org.eclipse.ui.workbench.texteditor @ Fri Dec 10 14:38:23 CET 2004\nAbout to read state...\nSuccessfully read state for org.eclipse.jface.text\nAbout to read state...\nSuccessfully read state for org.eclipse.ui.workbench.texteditor\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.ui/ui.jar !\u003d Binary\nclasspath directory /org.eclipse.text/bin\nClearing last state : State for org.eclipse.ui.workbench.texteditor (#3 @ Fri\nDec 10 11:06:23 CET 2004)\nFULL build\nThread[Framework Event Dispatcher,5,main] CPContainer INIT - after resolution\nThread[Framework Event Dispatcher,5,main]       project:\norg.eclipse.core.resources.win32\nThread[Framework Event Dispatcher,5,main]       container path:\norg.eclipse.jdt.launching.JRE_CONTAINER\nThread[Framework Event Dispatcher,5,main]       container: JRE System Library\n[Sun 1.4.2] {\nThread[Framework Event Dispatcher,5,main]              \nC:/apps/java/jdk1.4.2/jre/lib/rt.jar[CPE_LIBRARY][K_BINARY][sourcePath:C:/apps/java/jdk1.4.2/src.zip][isExported:false]\nThread[Framework Event Dispatcher,5,main]              \nC:/apps/java/jdk1.4.2/jre/lib/ext/dnsns.jar[CPE_LIBRARY][K_BINARY][isExported:false]\nThread[Framework Event Dispatcher,5,main]              \nC:/apps/java/jdk1.4.2/jre/lib/ext/ldapsec.jar[CPE_LIBRARY][K_BINARY][isExported:false]\nThread[Framework Event Dispatcher,5,main]              \nC:/apps/java/jdk1.4.2/jre/lib/ext/localedata.jar[CPE_LIBRARY][K_BINARY][isExported:false]\nThread[Framework Event Dispatcher,5,main]              \nC:/apps/java/jdk1.4.2/jre/lib/ext/sunjce_provider.jar[CPE_LIBRARY][K_BINARY][isExported:false]\nThread[Framework Event Dispatcher,5,main]       }\nThread[Framework Event Dispatcher,5,main] CPContainer INIT - found initializer\nThread[Framework Event Dispatcher,5,main]       container ID:\norg.eclipse.pde.core.requiredPlugins\nThread[Framework Event Dispatcher,5,main]       class:\norg.eclipse.pde.internal.core.RequiredPluginsInitializer\nThread[Framework Event Dispatcher,5,main] CPContainer INIT - triggering\ninitialization\nThread[Framework Event Dispatcher,5,main]       project:\norg.eclipse.core.resources.win32\nThread[Framework Event Dispatcher,5,main]       container path:\norg.eclipse.pde.core.requiredPlugins\nThread[Framework Event Dispatcher,5,main]       initializer:\norg.eclipse.pde.internal.core.RequiredPluginsInitializer@35cf9c\nThread[Framework Event Dispatcher,5,main]       invocation stack trace:",
    "Dirk, from the trace:\n\nStarting build of org.eclipse.ui @ Fri Dec 10 14:38:23 CET 2004\nAbout to read state...\nSuccessfully read state for org.eclipse.ui\nNumber of binary folders/jar files has changed\nClearing last state : State for org.eclipse.ui (#-1 @ Fri Dec 10 11:06:23 CET \n2004)\nFULL build\n\nWe force full builds when binary folders/jar files are added/removed since it \ncan be counter productive to check references to every type.",
    "But I am pretty sure that the content of the org.eclipse.ui didn\u0027t change. I\nshutdown my workspace and started it again and I have org.eclipse.ui imported as\nbinary into the workspace.",
    "And you\u0027re surprised that PDE (or someone else?) changed things unexpectedly \nduring the restart? ;)",
    "Kent, any actions planned. This behaviour is really driving me nuts. After every\nrestart I have to wait 10 minutes. \n\nHere is my latest debug output. I closed Eclipse after a ful build and opened it\nagain which triggered the next full build.\n\nThu Dec 16 18:07:11 CET 2004 - [Worker-3] Invoking (INCREMENTAL_BUILD) on\nbuilder: JavaBuilder(org.eclipse.osgi.services)\n\nStarting build of org.eclipse.osgi.services @ Thu Dec 16 18:07:11 CET 2004\nAbout to read state...\nSuccessfully read state for org.eclipse.osgi.services\nClasspath jar file C:/apps/java/jdk1.4.2/jre/lib/rt.jar !\u003d Classpath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.osgi/osgi.jar\nClearing last state : State for org.eclipse.osgi.services (#0 @ Thu Dec 16\n17:59:30 CET 2004)\nFULL build\nRecording new state : State for org.eclipse.osgi.services (#0 @ Thu Dec 16\n18:07:11 CET 2004)\nFinished build of org.eclipse.osgi.services @ Thu Dec 16 18:07:12 CET 2004\nThu Dec 16 18:07:12 CET 2004 - [Worker-3] Builder finished:\nJavaBuilder(org.eclipse.osgi.services) time: 470ms\nThu Dec 16 18:07:12 CET 2004 - [Worker-3] Invoking (INCREMENTAL_BUILD) on\nbuilder: ManifestConsistencyChecker(org.eclipse.osgi.services)\nThu Dec 16 18:07:12 CET 2004 - [Worker-3] Builder finished:\nManifestConsistencyChecker(org.eclipse.osgi.services) time: 0ms\nThu Dec 16 18:07:12 CET 2004 - [Worker-3] Invoking (INCREMENTAL_BUILD) on\nbuilder: ExtensionPointSchemaBuilder(org.eclipse.osgi.services)\nThu Dec 16 18:07:12 CET 2004 - [Worker-3] Builder finished:\nExtensionPointSchemaBuilder(org.eclipse.osgi.services) time: 0ms\nThu Dec 16 18:07:12 CET 2004 - [Worker-3] Invoking (INCREMENTAL_BUILD) on\nbuilder: JavaBuilder(org.eclipse.osgi.util)\n\nStarting build of org.eclipse.osgi.util @ Thu Dec 16 18:07:12 CET 2004\nAbout to read state...\nSuccessfully read state for org.eclipse.osgi.util\nClasspath jar file C:/apps/java/jdk1.4.2/jre/lib/rt.jar !\u003d Classpath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.osgi/osgi.jar\nClearing last state : State for org.eclipse.osgi.util (#0 @ Thu Dec 16 17:59:30\nCET 2004)\nFULL build\nRecording new state : State for org.eclipse.osgi.util (#0 @ Thu Dec 16 18:07:12\nCET 2004)\nFinished build of org.eclipse.osgi.util @ Thu Dec 16 18:07:12 CET 2004\nThu Dec 16 18:07:12 CET 2004 - [Worker-3] Builder finished:\nJavaBuilder(org.eclipse.osgi.util) time: 10ms\nThu Dec 16 18:07:12 CET 2004 - [Worker-3] Invoking (INCREMENTAL_BUILD) on\nbuilder: ManifestConsistencyChecker(org.eclipse.osgi.util)\nThu Dec 16 18:07:12 CET 2004 - [Worker-3] Builder finished:\nManifestConsistencyChecker(org.eclipse.osgi.util) time: 0ms\nThu Dec 16 18:07:12 CET 2004 - [Worker-3] Invoking (INCREMENTAL_BUILD) on\nbuilder: ExtensionPointSchemaBuilder(org.eclipse.osgi.util)\nThu Dec 16 18:07:12 CET 2004 - [Worker-3] Builder finished:\nExtensionPointSchemaBuilder(org.eclipse.osgi.util) time: 0ms\nThu Dec 16 18:07:12 CET 2004 - [Worker-3] Invoking (INCREMENTAL_BUILD) on\nbuilder: JavaBuilder(org.eclipse.jdt.ui)\n\nStarting build of org.eclipse.jdt.ui @ Thu Dec 16 18:07:12 CET 2004\nAbout to read state...\nSuccessfully read state for org.eclipse.ui\nAbout to read state...\nSuccessfully read state for org.eclipse.swt\nAbout to read state...\nSuccessfully read state for org.eclipse.jface\nAbout to read state...\nSuccessfully read state for org.eclipse.ui.workbench\nAbout to read state...\nSuccessfully read state for org.eclipse.ui.console\nAbout to read state...\nSuccessfully read state for org.eclipse.help\nAbout to read state...\nSuccessfully read state for org.eclipse.core.expressions\nAbout to read state...\nSuccessfully read state for org.eclipse.core.resources\nAbout to read state...\nSuccessfully read state for org.eclipse.jdt.core\nAbout to read state...\nSuccessfully read state for org.eclipse.search\nAbout to read state...\nSuccessfully read state for org.eclipse.debug.core\nAbout to read state...\nSuccessfully read state for org.eclipse.debug.ui\nAbout to read state...\nSuccessfully read state for org.eclipse.jdt.launching\nAbout to read state...\nSuccessfully read state for org.eclipse.compare\nAbout to read state...\nSuccessfully read state for org.eclipse.team.core\nAbout to read state...\nSuccessfully read state for org.eclipse.jface.text\nAbout to read state...\nSuccessfully read state for org.eclipse.text\nAbout to read state...\nSuccessfully read state for org.eclipse.ui.workbench.texteditor\nAbout to read state...\nSuccessfully read state for org.eclipse.ui.ide\nAbout to read state...\nSuccessfully read state for org.eclipse.ui.views\nAbout to read state...\nSuccessfully read state for org.eclipse.ui.editors\nAbout to read state...\nSuccessfully read state for org.eclipse.core.filebuffers\nAbout to read state...\nSuccessfully read state for org.eclipse.core.runtime.compatibility\nAbout to read state...\nSuccessfully read state for org.eclipse.core.runtime\nAbout to read state...\nSuccessfully read state for org.eclipse.osgi\nAbout to read state...\nSuccessfully read state for org.eclipse.update.configurator\nAbout to read state...\nSuccessfully read state for org.eclipse.ltk.core.refactoring\nAbout to read state...\nSuccessfully read state for org.eclipse.ltk.ui.refactoring\nAbout to read state...\nSuccessfully read state for org.eclipse.ui.forms\nAbout to read state...\nSuccessfully read state for org.eclipse.jdt.ui\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.ui/ui.jar !\u003d\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.ui/ui.jar\nClearing last state : State for org.eclipse.jdt.ui (#0 @ Thu Dec 16 18:00:07 CET\n2004)\nFULL build\n",
    "The next time I got:\n\nStarting build of org.eclipse.core.filebuffers @ Thu Dec 16 18:16:53 CET 2004\nPerforming full build since last saved state was not found\nFULL build\n\nWhich basically triggered building the whole workspace again.",
    "Same for\n\nStarting build of org.eclipse.jdt.ui @ Thu Dec 16 18:21:35 CET 2004\nPerforming full build since last saved state was not found\nFULL build",
    "2 things:\n\n1. from your trace it appears that jar files are being reordered:\n\nClasspath jar file C:/apps/java/jdk1.4.2/jre/lib/rt.jar !\u003d Classpath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.osgi/osgi.jar\n\u0026\nClasspath jar file C:/apps/java/jdk1.4.2/jre/lib/rt.jar !\u003d Classpath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.osgi/osgi.jar\n\n2. but then your project shows what we have seen a few times (but have no \nexplanation for):\n\nClasspath jar file \nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.ui/ui.jar !\u003d\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.ui/ui.jar\n\nOur comparison for jar files is nothing but the path. There is no timestamp or \nversion check, so how are these 2 paths different?\n\nSo questions:\n\n- are you changing any access restrictions?\n- are you picking up changes to prereq projects that may reorder their \nclasspaths?\n- is the timestamp of any affected classpath file changed?\n- is your workspace saving successfully? Any crash could account for the full \nbuild on restart.\n\nFYI: The builder has not changed in months (except for adding access \nrestriction support). As far as I know the JavaModel nor PDE is playing with \nclasspath files (please check timestamps to verify).",
    "Are you changing any access restrictions:\n\n  I lately added the following access restriction **/internal/** to ZRH projects\n  (including jdt.ui)\n  \nAre you picking up changes to prereq projects that may reorder their \nclasspaths?\n\n  Not that I am aware of. The rebuild logs I atttached are from scenarios\n  where I closed Eclipse and immediatelly restarted it. No new install no\n  sync with repository.\n\nIs the timestamp of any affected classpath file changed?\n\n  Same as above. I simply closed Eclipse and restarted. So no classpath file\n  change\n\nIs your workspace saving successfully? Any crash could account for the full \nbuild on restart\n\n  Its svaing correctly. At least that\u0027s what I assume since there is nothing\n  in the log file.",
    "Changing access restrictions will cause a full build but not the constant ones \nyou are seeing.\n\nWhat are the dates/times of your .classpath files? Have any changed in the \nlast few weeks that you can not account for... ?",
    "Other than adding the access restrictions the classpath files didn\u0027t change. I\nchecked the time stamps of some of my .classpath files. For example the one from\njdt.ui has a time stamp 12.12.2004. This is when I added the access restrictions.",
    "I noticed that 3.1M4 is released. Is this one fixed?",
    "Kent, updating Eclipse and restarting again a full build was triggered.\n\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.ui/ui.jar !\u003d\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.ui/ui.jar\nClearing last state : State for org.eclipse.jdt.ui (#9 @ Wed Dec 22 11:53:34 CET\n2004)\nFULL build\n\nIs there anything I can do to get further information why \n\norg.eclipse.ui/ui.jar !\u003d org.eclipse.ui/ui.jar\n\n\n",
    "I took the jump and installed 3.1M4. I think I will have to revert again. This\none is not fixed...\n\nStarting build of \u003cproject\u003e @ Wed Jan 05 08:45:04 CET 2005\nFULL build\n\nNo further info can be deduced from the debug tracing.",
    "Tagging for M5. Kent - could you make our trace more verbose so as to better\nnarrow down what is going on ? If path comparisons are failing or containers\nprovide no stable ordering we should better point the finger at offending\ncomponents.",
    "Thanks to Dirk, we have a fix for a build state problem with \nAccessRestrictions.\n\nIts released into HEAD now.\n\nDirk is stilling having another problem which we\u0027re still investigating.",
    "The other problem I am having comes from an unstable number of prerequisite\njars. I will outline the problem using an example:\n\n- project org.eclipse.ui.workbench.texteditor which I have in source\n- the project uses a PDE Classpath container to get access to prerequisite\n  projects and libraries\n- when a class path change is detected in the Java builder the state looks\n  as follows:\n\n  newBinaryLocation: size 6:\n    First entry: Source classpath directory  \n     /org.eclipse.ui.workbench.texteditor/src with binary directory \n     /org.eclipse.ui.workbench.texteditor/bin\n    Remaining entries: JDK libraries\n\n  oldBinaryLocation: size 19:\n    First entry as above\n    Entries 1 - 13: the prerequistie jars and bin directories: for example\n     classpath jar file C:/.../org.eclipse.core.runtime/runtime.jar\n     Binary classpath directory /org.eclipse.jface.text/bin\n    Entries 14 -18: JDK libraries\n\nMy workspace layout is as follows:\n\n- self contained workspace. I don\u0027t use libraries from the installation\n- binary projects are imported, not linked\n- all source projects use a PDE class path container\n\nLet me know if you need further details.",
    "Wassim, what has changed on the PDE front in the last few months?\n\nSome change is causing prereq jars to disappear from the classpath.\n\nStart at comment 19.",
    "The PDE code has not changed in this area (for better or worse) since 3.0.\n\nWe have not done anything special -yet- for the new JDT restriction support.",
    "The access restriction support has nothing to do with Dirk\u0027s current problem.\n\nHis setup is likely a good starting point.\n\nHow is your test suite coming for all the various valid setups?",
    "Why is the product changed from JDT to PDE? I am having this problem constantly\nwith only regular Java projects. I do not develop plugins.\n\nRingo",
    "Wassim,\n\nI can constantly reproduce the problem. Is there anything I can do to figure out\nwhy the required plug-ins are missing.",
    "I don\u0027t think it\u0027s a case of missing pre-reqs.  If pre-reqs were missing, then \nyour code would have compilation errors.\nBut there are no errors...\n\nThe two stack sizes in comment 28 would make sense if one (of size 6) \ncorresponded to the classpath before the PDE container was resolved and the \nother one (of size 19) for the classpath after the container resolution.  is \nit possible that the \u0027oldBinaryLocation\u0027 and \u0027newBinaryLocation\u0027 labels are \nreversed?\n\nI would need to have access to your workspace to figure out what is going on.",
    "Wassim, the workspace is HUGE!. All I can offer is pair debugging if this helps.",
    "One additional note to the compiler errors: what happens after the build kicks\nis that most of the projects actually do get compile errors. But then another\nbuild kicks in which remove the compile errors again. ",
    "The latest pde.core code in cvs now has a new flag \n(org.eclipse.pde.core/classpath) in its .options file.\nWhen turned on, it will print the concise list of classpath entries \n(dependencies) that PDE returns whenever JDT asks us to resolve the container \nfor each plugin.\n\nWe also print \"********Returned an empty container\" when returning empty.\n\nIn Dirk\u0027s scenario, when he launches Eclipse on an existing workspace, we must \nnever return empty.\n",
    "I tested it with the new PDE option and here is the result (I will attach the\nfull log until the build kicked in)\n\n- I get a mismatch in org.eclipse.ltk.ui.refactoring\n- new binary location (size 6):\n  Source classpath directory /org.eclipse.ltk.ui.refactoring/src with binary   \n    directory /org.eclipse.ltk.ui.refactoring/bin\n  Classpath jar file C:/apps/java/jdk1.4.2/jre/lib/rt.jar\n  Classpath jar file C:/apps/java/jdk1.4.2/jre/lib/ext/dnsns.jar\n  Classpath jar file C:/apps/java/jdk1.4.2/jre/lib/ext/ldapsec.jar\n  Classpath jar file C:/apps/java/jdk1.4.2/jre/lib/ext/localedata.jar\n  Classpath jar file C:/apps/java/jdk1.4.2/jre/lib/ext/sunjce_provider.jar\n\n- old binary location (size 26):\n  Source classpath directory /org.eclipse.ltk.ui.refactoring/src with binary   \n   directory /org.eclipse.ltk.ui.refactoring/bin\n  Classpath jar file C:/.../org.eclipse.core.runtime/runtime.jar\n  Classpath jar file C:/.../org.eclipse.osgi/osgi.jar\n  Classpath jar file C:/.../org.eclipse.osgi/core.jar\n  Classpath jar file C:/.../org.eclipse.osgi/resolver.jar\n  Classpath jar file C:/.../org.eclipse.osgi/defaultAdaptor.jar\n  Classpath jar file C:/.../org.eclipse.osgi/eclipseAdaptor.jar\n  Classpath jar file C:/.../org.eclipse.osgi/console.jar\n  Binary classpath directory /org.eclipse.core.expressions/bin\n  Binary classpath directory /org.eclipse.core.filebuffers/bin\n  Classpath jar file C:/.../org.eclipse.core.resources/resources.jar\n  Binary classpath directory /org.eclipse.text/bin\n  Binary classpath directory /org.eclipse.ltk.core.refactoring/bin\n  Classpath jar file C:/.../org.eclipse.jdt.core/jdtcore.jar\n  Binary classpath directory /org.eclipse.jface.text/bin\n  Classpath jar file C:/.../org.eclipse.ui/ui.jar\n  Classpath jar file C:/.../org.eclipse.swt/ws/win32/swt.jar\n  Classpath jar file C:/.../org.eclipse.jface/jface.jar\n  Binary classpath directory /org.eclipse.ui.workbench/bin\n  Classpath jar file C:/.../org.eclipse.compare/compare.jar\n  Binary classpath directory /org.eclipse.ui.workbench.texteditor/bin\n  Classpath jar file C:/apps/java/jdk1.4.2/jre/lib/rt.jar\n  Classpath jar file C:/apps/java/jdk1.4.2/jre/lib/ext/dnsns.jar\n  Classpath jar file C:/apps/java/jdk1.4.2/jre/lib/ext/ldapsec.jar\n  Classpath jar file C:/apps/java/jdk1.4.2/jre/lib/ext/localedata.jar\n  Classpath jar file C:/apps/java/jdk1.4.2/jre/lib/ext/sunjce_provider.jar\n\nAnd the relevant protion of the PDE log:\n\nDependencies for plugin \u0027org.eclipse.ltk.ui.refactoring\u0027:\n/org.eclipse.core.runtime[CPE_PROJECT][K_SOURCE][isExported:false]\n/org.eclipse.core.expressions[CPE_PROJECT][K_SOURCE][isExported:false]\n/org.eclipse.core.filebuffers[CPE_PROJECT][K_SOURCE][isExported:false]\n/org.eclipse.core.resources[CPE_PROJECT][K_SOURCE][isExported:false]\n/org.eclipse.text[CPE_PROJECT][K_SOURCE][isExported:false]\n/org.eclipse.ltk.core.refactoring[CPE_PROJECT][K_SOURCE][isExported:false]\n/org.eclipse.jdt.core[CPE_PROJECT][K_SOURCE][isExported:false]\n/org.eclipse.jface.text[CPE_PROJECT][K_SOURCE][isExported:false]\n/org.eclipse.ui[CPE_PROJECT][K_SOURCE][isExported:false]\n/org.eclipse.compare[CPE_PROJECT][K_SOURCE][isExported:false]\n/org.eclipse.ui.workbench.texteditor[CPE_PROJECT][K_SOURCE][isExported:false]",
    "Other plug-ins that get compiled basically show the same symptoms. Let me know\nif you need the full log.",
    "dirk, it\u0027s not a mismatch.  It\u0027s just that the two stacks are printing two \nequivalent views of the classpath.\n\nFor example, in the PDE stack, the entry\n/org.eclipse.ui[CPE_PROJECT][K_SOURCE][isExported:false]\nis fine because all we need to do in pde is add the org.eclipse.ui project \nclasspath entry to your plugin\u0027s classpath and it will indirectly get all the \nreexported dependencies of org.eclipse.ui (e.g. org.eclipse.swt, \norg.eclipse.jface..)\n\nMeanwhile, the JDT/Core stack digs in deeper and shows just that:\nClasspath jar file C:/.../org.eclipse.ui/ui.jar\nClasspath jar file C:/.../org.eclipse.swt/ws/win32/swt.jar\nClasspath jar file C:/.../org.eclipse.jface/jface.jar\n\nSo this is all pretty good on the plugin pre-req front.\n\nAny \"\"********Returned an empty container\" messages in the log?\n\n",
    "How can you see this a match?\n\nThe 20 expanded entries are not there, but they were when we successfully \nbuilt the project \u0026 wrote out its state.",
    "I meant that going by absolute number of entries between the pde and jdt \nstacks is misleading, because pde is spitting out the classpath entries as-is \nand jdt is expanding them to spit out all the jars that are on the classpath.\n\nStill not clear to me (a non-jdt guy) at what stage \u0027old binary location\u0027 \nand \u0027new binary location\u0027 are getting printed and what they mean.\n\nDirk, please attach the full log, as I would like to ensure that the classpath \nprinted by PDE is complete all the time and no \"empty container\" is returned.",
    "Wassim, to clarify.\n\nWe are seeing a mismatch in between the fully resolved/expanded classpath. All\nentries mentionned in old and new state are extracted from classpath containers\nand classpath variables.\nIt seems that the PDE container is empty, and thus does not contribute any\nactual entries anymore.",
    "The old entries are those persisted in the build state file, which we read back\non startup. The new entries are these obtained when asking the project fully\nresolved classpath (recursively considering exported entries from prereq projects).\nIf there is a mismatch, we consider the classpath has changed, and trigger a\nfull rebuild, which in this case is doomed as many entries are missing.\nBut then another build kicks in, and this time, it has the right info.\n\nSmells like a timing issue ?",
    "thanks Philippe.\n\nThe tracing coming from PDE is in the \nRequiredPluginsClasspathContainer.getClasspathEntries() which JDT calls to get \nthe resolved container.  In the excerpt from comment 38, this method is not \nreturning an empty array (unless the plugin has no dependencies as in the case \nof org.eclipse.swt of course).\n\nWe are still waiting for the full trace from Dirk to verify that every single \ncall to getClasspathEntries() is returning a non-empty result.\n\nNot sure how the new state is computed, but do you think it\u0027s possible that \nthe \"new binary location\" is being computed before the pde container returns \nwith a result?",
    "That shouldn\u0027t be possible; unless there is some bad reentrance scenario (where\nwe defensively consider containers to be empty if they ask the question again\nwhile being resolved).\n\nDirk - did you also enable the classpath initialization trace ? It should show\nwhat the container initializer answers when requested its classpath entries.",
    "Turning classpath initialization on produces a huge trace so I will only provide\nthe more interesting parts. This time the diff occurred on\norg.eclipse.jface.text and the relevant pieces form the trace are:\n\nThread[All Types Caching,4,main] CPContainer INIT - triggering initialization\nThread[All Types Caching,4,main] \tproject: org.eclipse.jface.text\nThread[All Types Caching,4,main] \tcontainer path:\norg.eclipse.pde.core.requiredPlugins\nThread[All Types Caching,4,main] \tinitializer:\norg.eclipse.pde.internal.core.RequiredPluginsInitializer@1bbfd3a\nThread[All Types Caching,4,main] \tinvocation stack trace:\nThread[Framework Event Dispatcher,5,main] CPContainer SET  - updating affected\nproject due to setting container\nThread[Framework Event Dispatcher,5,main] \tproject: org.eclipse.text\nThread[Framework Event Dispatcher,5,main] \tcontainer path:\norg.eclipse.jdt.launching.JRE_CONTAINER\njava.lang.Exception: \u003cFake exception\u003e\n\tat\norg.eclipse.jdt.internal.core.JavaModelManager.initializeContainer(JavaModelManager.java:1267)\n\tat\norg.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer(JavaModelManager.java:848)\n\tat\norg.eclipse.jdt.internal.core.ClasspathEntry.validateClasspathEntry(ClasspathEntry.java:1099)\n\tat\norg.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:2003)\n\tat\norg.eclipse.jdt.internal.core.DeltaProcessingState$ProjectUpdateInfo.updateProjectReferencesIfNecessary(DeltaProcessingState.java:98)\n\tat\norg.eclipse.jdt.internal.core.DeltaProcessingState.performClasspathResourceChange(DeltaProcessingState.java:223)\n\tat\norg.eclipse.jdt.internal.core.SetClasspathOperation.updateProjectReferencesIfNecessary(SetClasspathOperation.java:784)\n\tat\norg.eclipse.jdt.internal.core.SetClasspathOperation.executeOperation(SetClasspathOperation.java:243)\n\tat\norg.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:700)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1688)\n\tat\norg.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:744)\n\tat org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2739)\n\tat org.eclipse.jdt.core.JavaCore$3.run(JavaCore.java:3736)\n\tat\norg.eclipse.jdt.internal.core.BatchOperation.executeOperation(BatchOperation.java:34)\n\tat\norg.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:700)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1688)\n\tat org.eclipse.jdt.core.JavaCore.run(JavaCore.java:3549)\n\tat org.eclipse.jdt.core.JavaCore.setClasspathContainer(JavaCore.java:3719)\n\tat\norg.eclipse.jdt.internal.launching.JREContainerInitializer.initialize(JREContainerInitializer.java:51)\n\tat\norg.eclipse.jdt.internal.core.JavaModelManager.initializeContainer(JavaModelManager.java:1274)\n\tat\norg.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer(JavaModelManager.java:848)\n\tat org.eclipse.jdt.core.JavaCore.getClasspathContainer(JavaCore.java:1262)\n\tat\norg.eclipse.jdt.internal.core.search.JavaSearchScope.add(JavaSearchScope.java:134)\n\tat\norg.eclipse.jdt.internal.core.search.JavaWorkspaceScope.initialize(JavaWorkspaceScope.java:80)\n\tat\norg.eclipse.jdt.internal.core.search.JavaSearchScope.\u003cinit\u003e(JavaSearchScope.java:56)\n\tat\norg.eclipse.jdt.internal.core.search.JavaWorkspaceScope.\u003cinit\u003e(JavaWorkspaceScope.java:31)\n\tat\norg.eclipse.jdt.internal.core.search.SearchBasicEngine.createWorkspaceScope(SearchBasicEngine.java:147)\n\tat\norg.eclipse.jdt.core.search.SearchEngine.createWorkspaceScope(SearchEngine.java:372)\n\tat\norg.eclipse.jdt.internal.corext.util.AllTypesCache.search(AllTypesCache.java:556)\n\tat\norg.eclipse.jdt.internal.corext.util.AllTypesCache$TypeCacher.doSearchTypes(AllTypesCache.java:197)\n\tat\norg.eclipse.jdt.internal.corext.util.AllTypesCache$TypeCacher.run(AllTypesCache.java:159)\n\nDependencies for plugin \u0027org.eclipse.jface.text\u0027:\n/org.eclipse.core.runtime[CPE_PROJECT][K_SOURCE][isExported:false]\n/org.eclipse.text[CPE_PROJECT][K_SOURCE][isExported:true]\n/org.eclipse.swt[CPE_PROJECT][K_SOURCE][isExported:false]\n/org.eclipse.jface[CPE_PROJECT][K_SOURCE][isExported:false]\n\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d lots of other output \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n\nStarting build of org.eclipse.jface.text @ Fri Jan 07 10:01:53 CET 2005\nAbout to read state...\nSuccessfully read state for org.eclipse.jface.text\nThread[Framework Event Dispatcher,5,main] CPContainer INIT - after resolution\nThread[Framework Event Dispatcher,5,main] \tproject: org.junit\nThread[Framework Event Dispatcher,5,main] \tcontainer path:\norg.eclipse.jdt.launching.JRE_CONTAINER\nThread[Framework Event Dispatcher,5,main] \tcontainer: JRE System Library [Sun\n1.4.2] {\nThread[Framework Event Dispatcher,5,main] \t\nC:/apps/java/jdk1.4.2/jre/lib/rt.jar[CPE_LIBRARY][K_BINARY][sourcePath:C:/apps/java/jdk1.4.2/src.zip][isExported:false]\nThread[Framework Event Dispatcher,5,main] \t\nC:/apps/java/jdk1.4.2/jre/lib/ext/dnsns.jar[CPE_LIBRARY][K_BINARY][isExported:false]\nThread[Framework Event Dispatcher,5,main] \t\nC:/apps/java/jdk1.4.2/jre/lib/ext/ldapsec.jar[CPE_LIBRARY][K_BINARY][isExported:false]\nThread[Framework Event Dispatcher,5,main] \t\nC:/apps/java/jdk1.4.2/jre/lib/ext/localedata.jar[CPE_LIBRARY][K_BINARY][isExported:false]\nThread[Framework Event Dispatcher,5,main] \t\nC:/apps/java/jdk1.4.2/jre/lib/ext/sunjce_provider.jar[CPE_LIBRARY][K_BINARY][isExported:false]\nThread[Framework Event Dispatcher,5,main] \t}\nThread[Framework Event Dispatcher,5,main] CPContainer INIT - found initializer\nThread[Framework Event Dispatcher,5,main] \tcontainer ID:\norg.eclipse.pde.core.requiredPlugins\nThread[Framework Event Dispatcher,5,main] \tclass:\norg.eclipse.pde.internal.core.RequiredPluginsInitializer\nThread[Framework Event Dispatcher,5,main] CPContainer INIT - triggering\ninitialization\nThread[Framework Event Dispatcher,5,main] \tproject: org.junit\nThread[Framework Event Dispatcher,5,main] \tcontainer path:\norg.eclipse.pde.core.requiredPlugins\nThread[Framework Event Dispatcher,5,main] \tinitializer:\norg.eclipse.pde.internal.core.RequiredPluginsInitializer@1508393\nThread[Framework Event Dispatcher,5,main] \tinvocation stack trace:\njava.lang.Exception: \u003cFake exception\u003e\n\tat\norg.eclipse.jdt.internal.core.JavaModelManager.initializeContainer(JavaModelManager.java:1267)\n\tat\norg.eclipse.jdt.internal.core.JavaModelManager.initializeAllContainers(JavaModelManager.java:1239)\n\tat\norg.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer(JavaModelManager.java:846)\n\tat org.eclipse.jdt.core.JavaCore.getClasspathContainer(JavaCore.java:1262)\n\tat\norg.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:2033)\n\tat\norg.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:1946)\n\tat\norg.eclipse.jdt.internal.core.PackageFragmentRoot.validateOnClasspath(PackageFragmentRoot.java:790)\n\tat\norg.eclipse.jdt.internal.core.PackageFragmentRoot.exists(PackageFragmentRoot.java:351)\n\tat\norg.eclipse.jdt.internal.ui.workingsets.JavaWorkingSetUpdater.checkElementExistence(JavaWorkingSetUpdater.java:202)\n\tat\norg.eclipse.jdt.internal.ui.workingsets.JavaWorkingSetUpdater.add(JavaWorkingSetUpdater.java:77)\n\tat\norg.eclipse.ui.internal.AbstractWorkingSetManager.bundleChanged(AbstractWorkingSetManager.java:472)\n\tat\norg.eclipse.osgi.framework.internal.core.BundleContextImpl.dispatchEvent(BundleContextImpl.java:1151)\n\tat\norg.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:186)\n\tat org.eclipse.osgi.framework.eventmgr.EventThread.run(EventThread.java:104)",
    "I started it again and this time I found lots of\n\n********Returned an empty container\n\nin the trace.",
    "I will attach the full trace of another start where a mismatched occurred for\nproject org.eclipse.jdt.ui.tests.refactoring. Number of old binaries was 32, new\nis 24.",
    "Created an attachment (id\u003d16987)\nThe trace\n",
    "Dirk, just to make sure:\n\nin the instances when ********Returned an empty container\nwere reported, did you import anything into your workspace or did you merely \nlaunch on an existing workspace and watched these statements being printed?",
    "This defect is all about restarting an existing (build) workspace, and suffering\na full rebuild during startup sequence.",
    "dirk, please try the latest pde.core from head and report back.",
    "actually, dirk, never mind.  still investigating how this race scenario could \noccur to come up with a proper fix.",
    "*** Bug 82699 has been marked as a duplicate of this bug. ***",
    "I tested it with the I build form I20050112-1200 and I still build on start-up.\nHere is the beginning of the trace. I will enable PDE tracing to see what is\ngoind on:\n\nInstall location:\n    file:/c:/apps/eclipse/latest/\nConfiguration file:\n    file:/c:/apps/eclipse/latest/configuration/config.ini loaded\nConfiguration location:\n    file:/c:/apps/eclipse/latest/configuration/\nConfiguration file:\n    file:/c:/apps/eclipse/latest/configuration/config.ini loaded\nFramework located:\n    file:/c:/apps/eclipse/latest/plugins/org.eclipse.osgi_3.1.0/\nLoading framework classpath from:\n    file:/c:/apps/eclipse/latest/plugins/org.eclipse.osgi_3.1.0/eclipse.properties\nFramework classpath:\n    file:/c:/apps/eclipse/latest/plugins/org.eclipse.osgi_3.1.0/core.jar\n    file:/c:/apps/eclipse/latest/plugins/org.eclipse.osgi_3.1.0/console.jar\n    file:/c:/apps/eclipse/latest/plugins/org.eclipse.osgi_3.1.0/osgi.jar\n    file:/c:/apps/eclipse/latest/plugins/org.eclipse.osgi_3.1.0/resolver.jar\n    file:/c:/apps/eclipse/latest/plugins/org.eclipse.osgi_3.1.0/defaultAdaptor.jar\n    file:/c:/apps/eclipse/latest/plugins/org.eclipse.osgi_3.1.0/eclipseAdaptor.jar\nSplash location:\n    c:\\apps\\eclipse\\latest\\plugins\\org.eclipse.platform_3.1.0\\splash.bmp\nDebug options:\n    file:/C:/apps/eclipse/latest/.options loaded\nTime to load bundles: 41\n[YourKit Java Profiler 3.2 #451] Listening on port 10000...\nStarting application: 2058\n\nStarting build of org.eclipse.osgi.services @ Thu Jan 13 11:38:13 CET 2005\nAbout to read state...\nSuccessfully read state for org.eclipse.osgi.services\nClasspath jar file C:/apps/java/jdk1.4.2/jre/lib/rt.jar !\u003d Classpath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.osgi/osgi.jar\nClearing last state : State for org.eclipse.osgi.services (#0 @ Thu Jan 13\n11:02:13 CET 2005)\nFULL build\nRecording new state : State for org.eclipse.osgi.services (#0 @ Thu Jan 13\n11:38:13 CET 2005)\nFinished build of org.eclipse.osgi.services @ Thu Jan 13 11:38:14 CET 2005\n\nStarting build of org.eclipse.ant.core @ Thu Jan 13 11:38:15 CET 2005\nAbout to read state...\nSuccessfully read state for org.eclipse.ant.core\nClasspath jar file C:/apps/java/jdk1.4.2/jre/lib/rt.jar !\u003d Classpath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.core.variables/variables.jar\nClearing last state : State for org.eclipse.ant.core (#0 @ Thu Jan 13 11:04:27\nCET 2005)\nFULL build\nRecording new state : State for org.eclipse.ant.core (#0 @ Thu Jan 13 11:38:15\nCET 2005)\nFinished build of org.eclipse.ant.core @ Thu Jan 13 11:38:15 CET 2005\n\nStarting build of org.eclipse.osgi.util @ Thu Jan 13 11:38:15 CET 2005\nAbout to read state...\nSuccessfully read state for org.eclipse.osgi.util\nClasspath jar file C:/apps/java/jdk1.4.2/jre/lib/rt.jar !\u003d Classpath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.osgi/osgi.jar\nClearing last state : State for org.eclipse.osgi.util (#0 @ Thu Jan 13 11:02:13\nCET 2005)\nFULL build\nRecording new state : State for org.eclipse.osgi.util (#0 @ Thu Jan 13 11:38:15\nCET 2005)\nFinished build of org.eclipse.osgi.util @ Thu Jan 13 11:38:15 CET 2005\n\nStarting build of org.eclipse.ui.workbench @ Thu Jan 13 11:38:16 CET 2005\nAbout to read state...\nSuccessfully read state for org.eclipse.core.runtime\nAbout to read state...\nSuccessfully read state for org.eclipse.osgi\nAbout to read state...\nSuccessfully read state for org.eclipse.help\nAbout to read state...\nSuccessfully read state for org.eclipse.jface\nAbout to read state...\nSuccessfully read state for org.eclipse.swt\nAbout to read state...\nSuccessfully read state for org.eclipse.core.expressions\nAbout to read state...\nSuccessfully read state for org.eclipse.ui.workbench\nFound source delta for: org.eclipse.ui.workbench\nClearing last state : State for org.eclipse.ui.workbench (#0 @ Thu Jan 13\n11:02:54 CET 2005)\nINCREMENTAL build\nRecording new state : State for org.eclipse.ui.workbench (#1 @ Thu Jan 13\n11:02:54 CET 2005)\nFinished build of org.eclipse.ui.workbench @ Thu Jan 13 11:38:16 CET 2005\n\nStarting build of org.eclipse.help.appserver @ Thu Jan 13 11:38:35 CET 2005\nAbout to read state...\nSuccessfully read state for org.eclipse.help.appserver\nNothing to build since there are no source folders and no deltas\nFinished build of org.eclipse.help.appserver @ Thu Jan 13 11:38:35 CET 2005\n\nStarting build of org.eclipse.help.base @ Thu Jan 13 11:38:35 CET 2005\nAbout to read state...\nSuccessfully read state for org.eclipse.help.base\nNumber of binary folders/jar files has changed:\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.help.base/helpbase.jar\nwas:\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.help.base/helpbase.jar\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.apache.lucene/parser.jar\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.apache.lucene/lucene-1.3-final.jar\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.help/help.jar\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.help.appserver/appserver.jar\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.core.runtime/runtime.jar\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.osgi/osgi.jar\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.osgi/core.jar\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.osgi/resolver.jar\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.osgi/defaultAdaptor.jar\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.osgi/eclipseAdaptor.jar\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.osgi/console.jar\nClasspath jar file C:/apps/java/jdk1.4.2/jre/lib/rt.jar\nClasspath jar file C:/apps/java/jdk1.4.2/jre/lib/ext/dnsns.jar\nClasspath jar file C:/apps/java/jdk1.4.2/jre/lib/ext/ldapsec.jar\nClasspath jar file C:/apps/java/jdk1.4.2/jre/lib/ext/localedata.jar\nClasspath jar file C:/apps/java/jdk1.4.2/jre/lib/ext/sunjce_provider.jar\nClearing last state : State for org.eclipse.help.base (#0 @ Thu Jan 13 11:02:13\nCET 2005)\nFULL build\nRecording new state : State for org.eclipse.help.base (#0 @ Thu Jan 13 11:38:35\nCET 2005)\nFinished build of org.eclipse.help.base @ Thu Jan 13 11:38:35 CET 2005\n\nStarting build of org.eclipse.jdt.debug @ Thu Jan 13 11:38:36 CET 2005\nAbout to read state...\nSuccessfully read state for org.eclipse.jdt.debug\nClasspath jar file C:/apps/java/jdk1.4.2/jre/lib/rt.jar !\u003d Classpath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.core.resources/resources.jar\nClearing last state : State for org.eclipse.jdt.debug (#0 @ Thu Jan 13 11:04:27\nCET 2005)\nFULL build\nRecording new state : State for org.eclipse.jdt.debug (#0 @ Thu Jan 13 11:38:36\nCET 2005)\nFinished build of org.eclipse.jdt.debug @ Thu Jan 13 11:38:36 CET 2005\n\nStarting build of org.eclipse.jface @ Thu Jan 13 11:38:37 CET 2005\nClasspath jar file C:/apps/java/jdk1.4.2/jre/lib/rt.jar !\u003d Classpath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.swt/ws/win32/swt.jar\nClearing last state : State for org.eclipse.jface (#0 @ Thu Jan 13 11:02:13 CET\n2005)\nFULL build\nRecording new state : State for org.eclipse.jface (#0 @ Thu Jan 13 11:38:37 CET\n2005)\nFinished build of org.eclipse.jface @ Thu Jan 13 11:38:37 CET 2005\n\nStarting build of org.eclipse.help.base @ Thu Jan 13 11:38:38 CET 2005\nAbout to read state...\nSuccessfully read state for org.apache.lucene\nNumber of binary folders/jar files has changed:\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.help.base/helpbase.jar\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.apache.lucene/parser.jar\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.apache.lucene/lucene-1.3-final.jar\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.help/help.jar\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.help.appserver/appserver.jar\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.core.runtime/runtime.jar\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.osgi/osgi.jar\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.osgi/core.jar\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.osgi/resolver.jar\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.osgi/defaultAdaptor.jar\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.osgi/eclipseAdaptor.jar\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.osgi/console.jar\nClasspath jar file C:/apps/java/jdk1.4.2/jre/lib/rt.jar\nClasspath jar file C:/apps/java/jdk1.4.2/jre/lib/ext/dnsns.jar\nClasspath jar file C:/apps/java/jdk1.4.2/jre/lib/ext/ldapsec.jar\nClasspath jar file C:/apps/java/jdk1.4.2/jre/lib/ext/localedata.jar\nClasspath jar file C:/apps/java/jdk1.4.2/jre/lib/ext/sunjce_provider.jar\nwas:\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.help.base/helpbase.jar\nClearing last state : State for org.eclipse.help.base (#0 @ Thu Jan 13 11:38:35\nCET 2005)\nFULL build\nRecording new state : State for org.eclipse.help.base (#0 @ Thu Jan 13 11:38:38\nCET 2005)\nFinished build of org.eclipse.help.base @ Thu Jan 13 11:38:38 CET 2005\n\nStarting build of org.eclipse.core.variables @ Thu Jan 13 11:38:39 CET 2005\nAbout to read state...\nSuccessfully read state for org.eclipse.core.variables\nClasspath jar file C:/apps/java/jdk1.4.2/jre/lib/rt.jar !\u003d Classpath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.core.runtime/runtime.jar\nClearing last state : State for org.eclipse.core.variables (#0 @ Thu Jan 13\n11:02:13 CET 2005)\nFULL build\nRecording new state : State for org.eclipse.core.variables (#0 @ Thu Jan 13\n11:38:39 CET 2005)\nFinished build of org.eclipse.core.variables @ Thu Jan 13 11:38:39 CET 2005\n\nStarting build of org.eclipse.core.variables @ Thu Jan 13 11:38:39 CET 2005\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.core.runtime/runtime.jar\n!\u003d Classpath jar file C:/apps/java/jdk1.4.2/jre/lib/rt.jar\nClearing last state : State for org.eclipse.core.variables (#0 @ Thu Jan 13\n11:38:39 CET 2005)\nFULL build\nRecording new state : State for org.eclipse.core.variables (#0 @ Thu Jan 13\n11:38:39 CET 2005)\nFinished build of org.eclipse.core.variables @ Thu Jan 13 11:38:39 CET 2005\n\nStarting build of org.eclipse.jface @ Thu Jan 13 11:38:40 CET 2005\nClasspath jar file\nC:/home/dbaeumer/devel/workspaces/eclipse/Head/org.eclipse.swt/ws/win32/swt.jar\n!\u003d Classpath jar file C:/apps/java/jdk1.4.2/jre/lib/rt.jar\nClearing last state : State for org.eclipse.jface (#0 @ Thu Jan 13 11:38:37 CET\n2005)\nFULL build\nRecording new state : State for org.eclipse.jface (#0 @ Thu Jan 13 11:38:40 CET\n2005)\nFinished build of org.eclipse.jface @ Thu Jan 13 11:38:40 CET 2005\n\nStarting build of MultiElementViewer @ Thu Jan 13 11:38:40 CET 2005\nAbout to read state...\nSuccessfully read state for MultiElementViewer\nFound binary delta for: org.eclipse.jface\nClearing last state : State for MultiElementViewer (#0 @ Thu Jan 13 11:02:13 CET\n2005)\nINCREMENTAL build\nRecording new state : State for MultiElementViewer (#1 @ Thu Jan 13 11:02:13 CET\n2005)\nFinished build of MultiElementViewer @ Thu Jan 13 11:38:40 CET 2005\n\n\n\n",
    "Created an attachment (id\u003d17129)\nAnother trace\n\nAttached a trace witk PDE enabled. Wassim, can you change the tracing so that\nthe container gets only printed when it is resolved first. \n\nI tried to enable class path resolution as well but this generates a huge trace\nwhich doesn\u0027t fit into the console. Kent, could the class path resolution trace\nbe made a little bit more compact.\n",
    "Dirk - the builder doesn\u0027t produce the classpath resolution trace.\n\nPhilippe can you look at it?",
    "dirk,\nthe portion of the pde trace that shows that an empty container was returned \nis actually the interesting portion.  This transient result is the one that is \nfalsely telling JDT that the container has changed in value (ie. empty vs. the \npersisted correct one) and causing a rebuild.  It would be interesting to see \nit intermingled with JDT tracing.",
    "Ringo (comment 32), \nIf you have not already done so, I suggest you open a separate bug report \nagainst JDT to track your problem, since what is being investigated here is \nspecific to plug-in projects and will not help you.",
    "I spent some time to find out the difference between my workspace and the others\nsince not all users are seeing the build on startup.\n\nOne thing that might be different is that I have working sets which have\npackages as top level elements. For M3 Platform/UI and JDT/UI introduced the\nconcept of working set updaters to avoid stale working sets (for example if you\nreneme a package a reference in a working set will be updated as well).\n\nWhen such an updater gets installed it first checks if the elements of the\nworking set still exists. It does so my calling IJavaElement#exists.\n\nCalling exists on a IPackageFragement causes its class path to get initialized.\nTracing this reveals that there seems to be situations where the class path gets\ninitialized from two threads (one is triggered through the check done by the\nupdater). Could it be that this results in situations where one thread receives\na bogus answer ?\n\nJerome, I discussed this with Philippe and he mentioned to CC you.",
    "I get a full re-build every time I upgrade my dev environment. (first start-up\nonly) Which debug options should I try to get more info?\n",
    "DJ, a build the first time you launch after you upgrade dev environments is \nnormal as JARs in your target that are referenced by workspace plugins would \nhave changed timestamps.",
    "Even when I have all of Core (OSGi, Runtime, Resources, etc) as projects in the\nworkspace?",
    "In that case, it\u0027s self-contained.  then no, my (former) friend DJ.\n\nDirk, what tracing flags did you turn on to get something like what is in \ncomment 28?  The classpath resolution traces in my case always seem ok and \nthus are not helping track this problem.",
    "org.eclipse.jdt.core/debug\u003dtrue\norg.eclipse.jdt.core/debug/builder\u003dtrue\norg.eclipse.pde.core/debug\u003dtrue\norg.eclipse.pde.core/classpath\u003dtrue\n",
    "You may also want to enable:\norg.eclipse.jdt.core/debug/cpresolution\u003dtrue\n\nAlso be careful than tracing may change concurrency characteristics.",
    "actually, DJ, the core.runtime.compatibility plugin requires \norg.eclipse.update.configurator, which I presume is not in your workspace.\n\nSo you workspace may not be as self-contained as you think.",
    "Your assumption is....correct. I will add it to my workspace and then see if I\nget the same problem next time I upgrade the build. If so, then I will run the\ntracing code.",
    "I also see this from time to time and there\u0027s a similar observation reported on\nthe newsgroup: news://news.eclipse.org:119/PseNxdOCFHA.1960@fairy.ao.nlmk",
    "I still have this happen occasionally, including with today\u0027s 3.1 M5 candidate\nbuild (I20050218-1200).  If my workspace starts up in the Java perspective, and\nI quickly do a Ctrl+Shift+T to open a type - I get an \"operation blocked\"\ndialog, followed by a full build of my workspace.",
    "John\u0027s comment seems to provide the test case. Exactly the same happened to me\njust now (using I20050217-2000). In my scenario the CVS Update job was still\nrunning while I presses Ctrl+Shift+SPACE and I was in the Java Browsing perspective.\n",
    "What\u0027s happening with this bug?  It\u0027s marked with a milestone of M5, but it is\nstill very easily reproducible in the 3.1 M6 test candidate.  This bug is a\ndaily pain for me, as I often end up incurring a full rebuild on startup unless\nI patiently wait for all background activity to finish before doing anything. ",
    "I have tried ctrl-shift-T until I was blue in the face, and I was never able \nto reproduce it even once.",
    "I will again call for someone can provide me with a workspace in which the \nproblem is reproducible.",
    "We can wait until next week to investigate this - I just entered my comments\nyesterday out of frustration as I waited for a full rebuild \u003cg\u003e.  \n\nI will try next week to build a workspace from scratch in which it is easily\nreproduced.  At the very least, I can get you my workspace next week in which I\ncan easily reproduce.  My steps are described in bug 82699 (the keys are having\nno editors open, starting in the Java perspective).  However, it might be\nrelated to a specific attribute of my layout or setup, so we can try to isolate\nthat next week.",
    "Not sure if this is relevant, but bug 91685 could explain the full build\nproblem: sometimes the PDE container returns classpath entries in a different\norder than it was on shutdown.",
    "Here is a consistently reproducible test case, using I20050413-0910\n\n1) Open a new workspace\n2) Import my preferences (separate attachment)\n3) Open \"Sumatra\" perspective\n4) Switch to CVS repository exploring perspective\n5) Checkout platform-core and platform-ui modules from HEAD using the anon\npserver connection.\n6) Switch to \"Sumatra\" perspective\n7) Close all other perspectives, and ensure all editors are closed.\n8) Make sure Package Explorer is on top of upper-left stack.\n9) Wait for checkout and autobuild to complete if they are still running.\n10) Shutdown and restart.\n11) As soon as the UI comes up, hit Ctrl+Shift+T to open the types dialog.  If\nnothing seems to happen, hit Ctrl+Shift+T a few times.  If this doesn\u0027t cause a\nbuild, dismiss the dialog as soon as it opens by pressing Esc, and then hit\nCtrl+Shift+T again. Repeat if necessary.",
    "Created an attachment (id\u003d20016)\nJohn\u0027s preference export file\n",
    "Michael Valenta and I have both seen full builds at startup using the\nI20050509-2010 test candidate build.  In neither case was it the first startup\nafter installing the build, and nothing in the configuration or target platform\nhad changed.  I don\u0027t have a reproducible case.  The reproducible steps from\ncomment #78 no longer apply since the new open type dialog was released (should\nstill be reproducible using I20050413-0910). Is there a debug flag I can turn on\nto print when a full build was triggered due to a classpath change, without\ngetting the verbose Java builder debug output? I could run with that flag on all\nthe time to see if I can confirm if this is the same problem that\u0027s been\noccurring for the past six months.",
    "I am seeing full builds now very frequently too.  Very disconcerting.  Raising \npriority.",
    "Glad to see it\u0027s not just me :)\n\nI seem to get substantial builds on every startup of my development workspace\nwith the I20050512-1200 build. It\u0027s possibly completely unrelated to my old\nintermittent problem.",
    "but the common link among old and new is the visibility of the synchronize \nview.",
    "I am seeing more frequent fullbuild as well. Seems related to changes near\naccess rules. Could be a consequence of PDE container evolutions lately.",
    "Created an attachment (id\u003d21117)\nBuilder trace output using I20050512-1200\n\nThe easiest way to reproduce seems to be to startup in Java perspective with an\neditor open, immediately shutdown and restart, and then it does a full build. \nI have attached the complete output from the jdt.core builder tracing, and it\nhas many entries that look roughly like this:\n\nStarting build of org.eclipse.ui.console @ Fri May 13 11:04:01 EDT 2005\nAbout to read state...\nSuccessfully read state for org.eclipse.ui.console\nClasspath jar file D:/vm/sidecar/jre/lib/ext/dumpfmt.jar !\u003d Binary classpath\ndirectory /org.eclipse.ui/bin with AccessRuleSet {\n\tpattern\u003dorg/eclipse/ui/internal/* (DISCOURAGED)\n\tpattern\u003d**/* (NON ACCESSIBLE)\n} [template:\"The type {0} is not accessible due to restriction on required\nproject org.eclipse.ui\"]\nClearing last state : State for org.eclipse.ui.console (#5 @ Fri May 13\n09:44:52 EDT 2005)\nFULL build\n\nI.e., it thinks the classpaths have changed and as a result is deciding to do a\nfull build.",
    "this entry for example:\nClasspath jar file D:/vm/sidecar/jre/lib/ext/dumpfmt.jar !\u003d Binary classpath \ndirectory /org.eclipse.core.runtime/bin with AccessRuleSet {\n \nsuggests that JDT is trying to resolve the JRE container before the PDE \ncontainer, even though PDE container comes before it in the .classpath file.",
    "No the builder trace shows classpaths that have already been resolved. If you\nwant  more information on how they were resolved, you should enable the\norg.eclipse.jdt.core/debug/cpresolution option.",
    "I tried enabling the cpresolution option, but it produced too much output and I\ndidn\u0027t know how to parse it.  It quickly filled my 10,000 line console buffer\nbut I don\u0027t know where the useful information is.  I\u0027ll attach a file with some\nsample output.",
    "Created an attachment (id\u003d21120)\nOutput of cpresolution tracing\n\nHere is some output with cpresolution tracing enabled.\tI saved this trace\nshortly after it starting doing builds.",
    "John is it the start of the output ? We really need the first traces.\n\nOtherwise from the trace it looks like the PDE container is not returning the\nsame classpath entries as on shutdown.",
    "\u003eOtherwise from the trace it looks like the PDE container is not returning the\n\u003esame classpath entries as on shutdown.\n\ncould you copy and paste the segment of the log that shows this?  thanks.",
    "The following stack trace (extract from John\u0027s log) indicates that code at line\n3845 of JavaCore.java is running. Howver there is an optimization at line 3775\nthat forces a return from the method if the classpath entries of the container\nare the same as the one that were saved.\n...\n        at org.eclipse.jdt.core.JavaCore.setClasspathContainer(JavaCore.java:3845)\n        at\norg.eclipse.pde.internal.core.ModelEntry.updateClasspathContainer(ModelEntry.java:110)\n        at\norg.eclipse.pde.internal.core.RequiredPluginsInitializer.initialize(RequiredPluginsInitializer.java:40)\n        at\norg.eclipse.jdt.internal.core.JavaModelManager.initializeContainer(JavaModelManager.java:1421)\n        at\norg.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer(JavaModelManager.java:976)\n        at org.eclipse.jdt.core.JavaCore.getClasspathContainer(JavaCore.java:1320)\n...",
    "Comment #32 indicates that this is also a problem in a workspace without plug-in\nprojects. Is that a separate problem or are we going down the wrong path here\nlooking at PDE classpath containers?",
    "Then we should ask Ringo to enter a separate bug report against JDT Core with\nsteps to reproduce. But comment 92 clearly indicates that there is a problem\nwith the PDE container.",
    "\u003eHowver there is an optimization at line 3775\n\u003ethat forces a return from the method if the classpath entries of the container\n\u003eare the same as the one that were saved.\n\nthat\u0027s exactly my point.  We should not rule out that the method determining \nif the classpath has changed might have a bug in it, or that there is a bug in \npersisting the classpath (e.g. order of entries, order of attributes in an \nentry).  These are all rational theories that we should investigate.",
    "Wassim - given you had an issue with concurrency in PDE container until\nyesterday... don\u0027t you think there are still enough potential for the PDE\ncontainer to be the source of this ? Though I agree, you may simply be exposing\nan issue in JDT/Core, however this feels less likely.",
    "Created an attachment (id\u003d21126)\nAnother trace output from the very beginning\n\nHere is another output with information starting at the very beginning. \nHowever, the full build doesn\u0027t start for at least 5 seconds after startup\nfinishes.  The problem is I can only capture 9999 lines of debug output on\nWin2k.\tIf anyone knows how I can capture stdout to a file that would help. \nI\u0027ve tried the usual \u003e\u003e 1\u003e 2\u003e, etc, but it is not working.",
    "re comment 96\n\nI\u0027m not suggesting that this is certainly not a PDE bug.  It may well be \npending the investigation.  But with group think, it seems that minds are \nalready made up without tangible evidence that it is a PDE bug. \n\nAll I\u0027m saying that it is prudent to consider and investigate all \npossibilities on all sides.",
    "Personally, I blame our decision to release on Friday the 13th :)",
    "re: comment#98\n\nOk we are on the same track there. As usual, PDE is a challenging client for us \u003cg\u003e",
    "Created an attachment (id\u003d21160)\nClasspaths cached by jdt.core\n\nAttached is the classpaths that jdt.core saved after I opened Eclipse on a\nworkspace containing all the sdk plugins and closed it after 2-3 seconds.\n\nYou will see that all the containers (both pde and jre) are empty, with the\nexception of that of org.apache.ant (the first project in my workspace).\n\nWith this kind of cached classpath, the next time you launch Eclipse on this\nsame workspace that has not changed, you get the inexplicable full build.\nThis also explains comment 32 where the gentleman was not a plugin developer,\nand a false rebuild was reoccurring.  The jre container is also empty for all\nthese projects.\n\nSo if Eclipse is being shut down, and JDT had not resolved classpaths yet,\nempty values are being written and causing full rebuilds on the next\ninvocation.\n\nThis would also explain such entries in John\u0027s stack:\nClasspath jar file D:/vm/sidecar/jre/lib/ext/dumpfmt.jar !\u003d Binary classpath \ndirectory /org.eclipse.core.runtime/bin with AccessRuleSet {\n\nFor this plugin, it appears as though jdt had resolved the jre container for\nthat project upon shutdown, but not the pde container.\tSo upon restart, the\njre entry is being compared with the newly recomputed pde entry.\n",
    "Moving to jdt/core to address the empty cache.",
    "Note: With the introduction of jre profiles by the runtime and access rules, \nthere is an independent scenario in which pde returns a falsely different \nclasspath to jdt.  This issue, which appeared only in the past week or so, is \nbeing tracked in bug 95278.  A temporary solution for the classpath \ndiscrepancy has now been released into head for bug 95278.  The bug is still \nopen for other open questions.\n",
    "Re: comment#101. These are not empty container values, but simply markers to\nretain the fact the container had no value yet. Thus it will be ignored when\nrecreated. So it is not changing the classpath, simply not caching anything there.\n\nJerome - why wouldn\u0027t we leave old persisted value in this case ? \n\n",
    "We store a CP_ENTRY_IGNORE when the container has not been yet initialized. Note\nthis would never happen in M6 as all containers were initialized on startup.",
    "it is incomprehensible to me why the defect was moved back to PDE.\n",
    "if you open an close the workbench very quickly, any good jdt classpath cache \nthat may have existed is replaced by a bogus/incomplete one like the one \nattached in comment 101.\nUpon a subsequent startup, the bogus cache results in full builds.\n\nIf the workbench is being closed before JRE/PDE containers have been \ninitialized, don\u0027t just flush them, just resave the old classpaths from the \nprevious session.\n",
    "(In reply to comment #106)\n\u003e it is incomprehensible to me why the defect was moved back to PDE.\nSorry about that. It looks like when I refreshed and added comment 105, it\ndidn\u0027t refresh the product and component fields.",
    "Changed JavaModelManager#saving(...) to use the previous session container value\nif the container has not been initiliazed yet. Also don\u0027t persist\nCP_ENTRY_IGNORE value any longer.\n\nFor the record, at the time this bug was opened (build I200409070800), this\ncould not have been a problem with JDT Core since all containers were\ninitialized on startup. So the problem was elsewhere (comment 96 may give some\nanswer). However nothing indicates that this was acknowledged.",
    "\u003e For the record, at the time this bug was opened (build I200409070800), this\n\u003e could not have been a problem with JDT Core since all containers were\n\u003e initialized on startup.\n\nIt\u0027s possible there were at least two bugs being tracked by this PR.  For\nseveral months it was very hard to reproduce a full build on startup, and it\nseemed to be only me that was getting it.  Starting with the M7 test candidates,\nit began happening on almost every session, and several people were reporting\nit.  It\u0027s likely that recent optimizations involving deferral of classpath\ninitialization have made old problems more likely to occur.  In any case, if\nthis happens again once I have a build with Jerome\u0027s fix, I\u0027ll enter a new bug\nreport to avoid confusion.",
    "Indeed, this bug remained open too long, and captures similar symptoms but on\ndifferent scenarii. \n\nThanks Wassim for isolating the last issue, which indeed was in JDT/Core.",
    "Could not reproduce in I20050526-2000.\nMarked as verified in I20050526-2000."
  ],
  "commentCreationDates": [
    "2004-09-15T11:20:01+02:00",
    "2004-09-15T17:22:58+02:00",
    "2004-09-15T17:33:39+02:00",
    "2004-09-15T22:05:45+02:00",
    "2004-09-16T11:25:24+02:00",
    "2004-10-28T11:53:14+02:00",
    "2004-12-03T08:16:54+01:00",
    "2004-12-03T09:09:11+01:00",
    "2004-12-03T14:54:25+01:00",
    "2004-12-03T15:43:19+01:00",
    "2004-12-10T10:09:32+01:00",
    "2004-12-10T12:16:31+01:00",
    "2004-12-10T13:41:31+01:00",
    "2004-12-13T17:18:28+01:00",
    "2004-12-13T17:35:53+01:00",
    "2004-12-13T18:36:41+01:00",
    "2004-12-16T17:13:11+01:00",
    "2004-12-16T17:21:28+01:00",
    "2004-12-16T17:22:13+01:00",
    "2004-12-16T18:52:58+01:00",
    "2004-12-17T09:44:47+01:00",
    "2004-12-17T16:36:51+01:00",
    "2004-12-17T16:57:23+01:00",
    "2004-12-20T19:40:42+01:00",
    "2004-12-22T14:03:22+01:00",
    "2005-01-05T07:48:07+01:00",
    "2005-01-05T08:37:47+01:00",
    "2005-01-05T15:35:41+01:00",
    "2005-01-05T15:56:47+01:00",
    "2005-01-05T16:09:20+01:00",
    "2005-01-05T16:24:45+01:00",
    "2005-01-05T17:06:11+01:00",
    "2005-01-06T08:00:12+01:00",
    "2005-01-06T10:23:41+01:00",
    "2005-01-06T10:49:03+01:00",
    "2005-01-06T10:55:18+01:00",
    "2005-01-06T10:58:55+01:00",
    "2005-01-06T11:45:00+01:00",
    "2005-01-06T18:32:04+01:00",
    "2005-01-06T18:36:00+01:00",
    "2005-01-06T19:41:46+01:00",
    "2005-01-06T20:15:03+01:00",
    "2005-01-06T20:24:12+01:00",
    "2005-01-07T00:24:45+01:00",
    "2005-01-07T00:27:26+01:00",
    "2005-01-07T00:36:07+01:00",
    "2005-01-07T00:46:52+01:00",
    "2005-01-07T09:07:56+01:00",
    "2005-01-07T09:24:43+01:00",
    "2005-01-07T09:33:29+01:00",
    "2005-01-07T09:34:08+01:00",
    "2005-01-07T22:06:20+01:00",
    "2005-01-08T00:53:08+01:00",
    "2005-01-08T04:27:43+01:00",
    "2005-01-09T08:01:42+01:00",
    "2005-01-12T20:04:06+01:00",
    "2005-01-13T10:53:50+01:00",
    "2005-01-13T11:02:37+01:00",
    "2005-01-13T14:02:11+01:00",
    "2005-01-13T14:15:06+01:00",
    "2005-01-17T10:14:43+01:00",
    "2005-01-17T10:39:41+01:00",
    "2005-01-18T22:00:41+01:00",
    "2005-01-18T23:43:19+01:00",
    "2005-01-19T14:28:08+01:00",
    "2005-01-19T15:51:40+01:00",
    "2005-01-19T15:55:56+01:00",
    "2005-01-19T16:37:59+01:00",
    "2005-01-19T16:53:44+01:00",
    "2005-01-19T18:59:22+01:00",
    "2005-02-02T17:40:32+01:00",
    "2005-02-18T19:04:36+01:00",
    "2005-02-18T19:24:48+01:00",
    "2005-03-30T21:45:46+02:00",
    "2005-03-31T02:54:08+02:00",
    "2005-03-31T02:57:21+02:00",
    "2005-03-31T15:50:46+02:00",
    "2005-04-17T20:05:20+02:00",
    "2005-04-18T20:59:07+02:00",
    "2005-04-18T20:59:38+02:00",
    "2005-05-12T19:37:05+02:00",
    "2005-05-12T19:54:26+02:00",
    "2005-05-12T22:28:49+02:00",
    "2005-05-12T22:55:07+02:00",
    "2005-05-13T12:48:44+02:00",
    "2005-05-13T17:15:10+02:00",
    "2005-05-13T17:23:04+02:00",
    "2005-05-13T17:30:05+02:00",
    "2005-05-13T17:38:30+02:00",
    "2005-05-13T17:51:07+02:00",
    "2005-05-13T18:05:36+02:00",
    "2005-05-13T18:27:21+02:00",
    "2005-05-13T18:32:03+02:00",
    "2005-05-13T18:34:09+02:00",
    "2005-05-13T18:39:24+02:00",
    "2005-05-13T18:41:25+02:00",
    "2005-05-13T18:48:26+02:00",
    "2005-05-13T18:49:45+02:00",
    "2005-05-13T18:53:46+02:00",
    "2005-05-13T19:00:04+02:00",
    "2005-05-13T19:04:29+02:00",
    "2005-05-14T22:58:29+02:00",
    "2005-05-14T22:59:32+02:00",
    "2005-05-14T23:00:07+02:00",
    "2005-05-15T01:45:31+02:00",
    "2005-05-15T12:56:33+02:00",
    "2005-05-15T16:45:31+02:00",
    "2005-05-15T16:51:14+02:00",
    "2005-05-16T10:32:36+02:00",
    "2005-05-16T13:36:03+02:00",
    "2005-05-16T16:04:48+02:00",
    "2005-05-16T17:06:19+02:00",
    "2005-05-27T16:33:52+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.Exception",
      "message": "\u003cFake exception\u003e",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelManager.initializeContainer",
          "source": "JavaModelManager.java:1267"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer",
          "source": "JavaModelManager.java:848"
        },
        {
          "method": "org.eclipse.jdt.internal.core.ClasspathEntry.validateClasspathEntry",
          "source": "ClasspathEntry.java:1099"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath",
          "source": "JavaProject.java:2003"
        },
        {
          "method": "org.eclipse.jdt.internal.core.DeltaProcessingState$ProjectUpdateInfo.updateProjectReferencesIfNecessary",
          "source": "DeltaProcessingState.java:98"
        },
        {
          "method": "org.eclipse.jdt.internal.core.DeltaProcessingState.performClasspathResourceChange",
          "source": "DeltaProcessingState.java:223"
        },
        {
          "method": "org.eclipse.jdt.internal.core.SetClasspathOperation.updateProjectReferencesIfNecessary",
          "source": "SetClasspathOperation.java:784"
        },
        {
          "method": "org.eclipse.jdt.internal.core.SetClasspathOperation.executeOperation",
          "source": "SetClasspathOperation.java:243"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.run",
          "source": "JavaModelOperation.java:700"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1688"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.runOperation",
          "source": "JavaModelOperation.java:744"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaProject.setRawClasspath",
          "source": "JavaProject.java:2739"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore$3.run",
          "source": "JavaCore.java:3736"
        },
        {
          "method": "org.eclipse.jdt.internal.core.BatchOperation.executeOperation",
          "source": "BatchOperation.java:34"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.run",
          "source": "JavaModelOperation.java:700"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1688"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore.run",
          "source": "JavaCore.java:3549"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore.setClasspathContainer",
          "source": "JavaCore.java:3719"
        },
        {
          "method": "org.eclipse.jdt.internal.launching.JREContainerInitializer.initialize",
          "source": "JREContainerInitializer.java:51"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelManager.initializeContainer",
          "source": "JavaModelManager.java:1274"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer",
          "source": "JavaModelManager.java:848"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore.getClasspathContainer",
          "source": "JavaCore.java:1262"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.JavaSearchScope.add",
          "source": "JavaSearchScope.java:134"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.JavaWorkspaceScope.initialize",
          "source": "JavaWorkspaceScope.java:80"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.JavaSearchScope.\u003cinit\u003e",
          "source": "JavaSearchScope.java:56"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.JavaWorkspaceScope.\u003cinit\u003e",
          "source": "JavaWorkspaceScope.java:31"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.SearchBasicEngine.createWorkspaceScope",
          "source": "SearchBasicEngine.java:147"
        },
        {
          "method": "org.eclipse.jdt.core.search.SearchEngine.createWorkspaceScope",
          "source": "SearchEngine.java:372"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.util.AllTypesCache.search",
          "source": "AllTypesCache.java:556"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.util.AllTypesCache$TypeCacher.doSearchTypes",
          "source": "AllTypesCache.java:197"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.util.AllTypesCache$TypeCacher.run",
          "source": "AllTypesCache.java:159"
        }
      ],
      "number": 0,
      "commentIndex": 47,
      "bugId": "73969",
      "date": "2005-01-07T09:07:56+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "critical"
    },
    {
      "exceptionType": "java.lang.Exception",
      "message": "\u003cFake exception\u003e",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelManager.initializeContainer",
          "source": "JavaModelManager.java:1267"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelManager.initializeAllContainers",
          "source": "JavaModelManager.java:1239"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer",
          "source": "JavaModelManager.java:846"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore.getClasspathContainer",
          "source": "JavaCore.java:1262"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath",
          "source": "JavaProject.java:2033"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath",
          "source": "JavaProject.java:1946"
        },
        {
          "method": "org.eclipse.jdt.internal.core.PackageFragmentRoot.validateOnClasspath",
          "source": "PackageFragmentRoot.java:790"
        },
        {
          "method": "org.eclipse.jdt.internal.core.PackageFragmentRoot.exists",
          "source": "PackageFragmentRoot.java:351"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.workingsets.JavaWorkingSetUpdater.checkElementExistence",
          "source": "JavaWorkingSetUpdater.java:202"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.workingsets.JavaWorkingSetUpdater.add",
          "source": "JavaWorkingSetUpdater.java:77"
        },
        {
          "method": "org.eclipse.ui.internal.AbstractWorkingSetManager.bundleChanged",
          "source": "AbstractWorkingSetManager.java:472"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.dispatchEvent",
          "source": "BundleContextImpl.java:1151"
        },
        {
          "method": "org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent",
          "source": "EventManager.java:186"
        },
        {
          "method": "org.eclipse.osgi.framework.eventmgr.EventThread.run",
          "source": "EventThread.java:104"
        }
      ],
      "number": 1,
      "commentIndex": 47,
      "bugId": "73969",
      "date": "2005-01-07T09:07:56+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "critical"
    }
  ],
  "groupId": "73969",
  "bugId": "73969",
  "date": "2004-09-15T11:20:01+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "critical"
}