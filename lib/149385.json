{
  "comments": [
    "Provide an implementation for TracTask and TracTaskExternalizer and a wizard for adding existing tasks.",
    "Steffen, please base this on the Jira externalizer and try to externalize as little additional state as possible.  Fyi, we are likely going to create a single generic externalizer sometime in July, and seeing what additional state you need to externalize will be useful",
    "Created an attachment (id\u003d45751)\nExtension for repository connector and externalizer\n\nThe patch includes the externalizer and extension declarations. I\u0027ll add a patch for adding of existing tasks later today.",
    "Created an attachment (id\u003d45812)\nWizard for adding existing tasks\n\nThe wizard class is exactly the same as for Jira and Bugzilla. The implementation of addPage() and getTaskId() could be moved to the super class without a loss of flexibility. That way connectors would not have to extend the wizard but could use the default implementation.\n\nThe patch also includes some refactoring of the test fixture stuff for better reusability throughout the test suite.",
    "Created an attachment (id\u003d45813)\nmylar/context/zip\n\n",
    "Patch applied.  I fixed up the wizard banner and titles, and also pulled up addPage() and getTaskId() as you suggested since all 4 clients had the same implementation.  \n\nEugene, note that affected your wizard too (no change other than the refactoring).\n\nI tried to add an existing task with http://projects.edgewall.com/trac (anonymous) for id 287 but got the following failure.\n\norg.eclipse.mylar.internal.trac.core.TracException: org.eclipse.mylar.internal.trac.core.TracXmlRpcClient$HttpException: HTTP Error 404\n\tat org.eclipse.mylar.internal.trac.core.TracXmlRpcClient.call(TracXmlRpcClient.java:78)\n\tat org.eclipse.mylar.internal.trac.core.TracXmlRpcClient.getTicket(TracXmlRpcClient.java:142)\n\tat org.eclipse.mylar.internal.trac.TracRepositoryConnector.createTaskFromExistingKey(TracRepositoryConnector.java:157)\n\tat org.eclipse.mylar.internal.tasklist.ui.wizards.AbstractAddExistingTaskWizard.performFinish(AbstractAddExistingTaskWizard.java:42)\n\nAlso, I\u0027m still seeing this failure in AllTracTests:\n\njava.lang.ClassCastException: org.apache.xmlrpc.XmlRpcException\n\tat org.eclipse.mylar.internal.trac.core.TracXmlRpcClient.getTicket(TracXmlRpcClient.java:142)\n\tat org.eclipse.mylar.trac.tests.AbstractTracClientSearchTest.testGetTicketInvalidId(AbstractTracClientSearchTest.java:81)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)",
    "Concerning the first exception: The edgewall repository can not be accessed through XML-RPC (only through the \"Trac 0.9 and higher\" access type). If you do a \"Validate Settings\" in the repository settings dialog a message should pop up saying that there is no repository at that location. There is a bug in Trac\u0027s repository settings page though, so the access type may not have been correctly set. If have attached a fix to bug 147817. \n\nConcerning the second exception: Could you check if you are using the latest version (2.0.1) of the org.apache.xmlrpc plug-in?\n\n",
    "Mik, why getAddExistingTaskWizard(TaskRepository repository) is now return Wizard and not IWizard instance?\n\nPS: it is weird, but I couldn\u0027t use Bugzilla editor to submit this comment. It says that credentials are invalid and leave the following info message in the Eclipse log.\n\neclipse.buildId\u003dM20060629-1905\njava.version\u003d1.5.0_07\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_US\nCommand-line arguments:  -os win32 -ws win32 -arch x86 -data C:\\dev\\workspace\n\nInfo\nThu Jul 06 12:40:16 EDT 2006\nMylar: Attributes: bug_status\u003dASSIGNED | resolution\u003d | bug_id\u003d149385 | rep_platform\u003dAll | product\u003dMylar | op_sys\u003dAll | component\u003dCore | version\u003dunspecified | priority\u003dP1 | bug_severity\u003denhancement | assigned_to\u003dsteffenp@gmx.de | target_milestone\u003d--- | reporter\u003dsteffenp@gmx.de | dependson\u003d | blocked\u003d | bug_file_loc\u003d | newcc\u003d | keywords\u003d | creation_ts\u003d2006-07-01 20:49 | short_desc\u003dTrac connector: implement externalizer and adding of existing tickets | delta_ts\u003d2006-07-05 21:13:46 | cc\u003deu@md.pp.ru | longdesclength\u003d5 | , source: java.lang.Class\n",
    "(In reply to comment #7)\n\u003e PS: it is weird, but I couldn\u0027t use Bugzilla editor to submit this comment. It\n\u003e says that credentials are invalid and leave the following info message in the\n\u003e Eclipse log.\n\nI have hit the same problem each time Eclipse is restarted (I am working boot-strapped out of head). A warning message is displayed \"Repository does not have credentials set, verify via Task Repositories View view\" forcing me to reenter my credentials.",
    "Eugene: I made that change to be able to set the title on the wizard that was returned, but now that it\u0027s common it\u0027s back to IWizard.\n\nSteffen: \n- AllTracTests passes for me, problem was that I didn\u0027t have the xmlrpc plug-in synched.  \n- I changed settings to 0.9 and higher, and successfully added a ticket, good stuff :)\n- Consider removing the \"#\" from the ticket ID, it\u0027s redundant (Bugzilla used to use it too)\n\nRob: please look problem listed in comment#7 and #8 and advise.",
    "re comment#7, Eugene, when you got that message in your log was it just after a web dialog was displayed showing a bugzilla error? If so was there another entry in the log with an html dump? If so could you fire that to me? Thanks.\n\nre comment#8 Steffen, when you go to the edit repository view are your credentials in fact blank?",
    "(In reply to comment #10)\n\u003e re comment#8 Steffen, when you go to the edit repository view are your\n\u003e credentials in fact blank?\n\nYes. ",
    "That indicates the message is correct.  The credentials disappear when changing Eclipse versions.  We should be prompting for them the way CVS does (bug 149607).",
    "(In reply to comment #12)\n\u003e That indicates the message is correct.  The credentials disappear when changing\n\u003e Eclipse versions.  We should be prompting for them the way CVS does (bug\n\u003e 149607).\n\nMik, in my case credentials wasn\u0027t empty. \n\nRob, there was only that message in the log.\n\n",
    "(In reply to comment #12)\n\u003e That indicates the message is correct.  The credentials disappear when changing\n\u003e Eclipse versions.  We should be prompting for them the way CVS does (bug\n\u003e 149607).\n\nI didn\u0027t change Eclipse versions but I did clear the configuration area. That explains my problem (which doesn\u0027t seem to be related to Eugene\u0027s).\n\n",
    "Okay thanks for the confirmation Steffan. \n\nEugene, if this persists lets open a new bug report."
  ],
  "commentCreationDates": [
    "2006-07-02T02:49:54+02:00",
    "2006-07-05T07:46:25+02:00",
    "2006-07-05T15:11:21+02:00",
    "2006-07-06T03:12:51+02:00",
    "2006-07-06T03:13:46+02:00",
    "2006-07-06T05:29:11+02:00",
    "2006-07-06T14:02:47+02:00",
    "2006-07-06T18:42:52+02:00",
    "2006-07-06T18:49:55+02:00",
    "2006-07-06T23:09:28+02:00",
    "2006-07-07T01:21:22+02:00",
    "2006-07-07T01:31:11+02:00",
    "2006-07-07T01:39:39+02:00",
    "2006-07-07T02:13:50+02:00",
    "2006-07-07T02:21:45+02:00",
    "2006-07-07T02:38:48+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.mylar.internal.trac.core.TracXmlRpcClient$HttpException",
      "message": "HTTP Error 404",
      "elements": [
        {
          "method": "org.eclipse.mylar.internal.trac.core.TracXmlRpcClient.call",
          "source": "TracXmlRpcClient.java:78"
        },
        {
          "method": "org.eclipse.mylar.internal.trac.core.TracXmlRpcClient.getTicket",
          "source": "TracXmlRpcClient.java:142"
        },
        {
          "method": "org.eclipse.mylar.internal.trac.TracRepositoryConnector.createTaskFromExistingKey",
          "source": "TracRepositoryConnector.java:157"
        },
        {
          "method": "org.eclipse.mylar.internal.tasklist.ui.wizards.AbstractAddExistingTaskWizard.performFinish",
          "source": "AbstractAddExistingTaskWizard.java:42"
        }
      ],
      "number": 0,
      "commentIndex": 5,
      "bugId": "149385",
      "date": "2006-07-06T05:29:11+02:00",
      "product": "Mylyn",
      "component": "Core",
      "severity": "enhancement"
    },
    {
      "exceptionType": "org.apache.xmlrpc.XmlRpcException",
      "elements": [
        {
          "method": "org.eclipse.mylar.internal.trac.core.TracXmlRpcClient.getTicket",
          "source": "TracXmlRpcClient.java:142"
        },
        {
          "method": "org.eclipse.mylar.trac.tests.AbstractTracClientSearchTest.testGetTicketInvalidId",
          "source": "AbstractTracClientSearchTest.java:81"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        }
      ],
      "number": 1,
      "commentIndex": 5,
      "bugId": "149385",
      "date": "2006-07-06T05:29:11+02:00",
      "product": "Mylyn",
      "component": "Core",
      "severity": "enhancement"
    }
  ],
  "groupId": "149385",
  "bugId": "149385",
  "date": "2006-07-02T02:49:54+02:00",
  "product": "Mylyn",
  "component": "Core",
  "severity": "enhancement"
}