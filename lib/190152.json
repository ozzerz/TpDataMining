{
  "comments": [
    "First problem is minor: genReport.bat includes\n\tcom.ibm.icu_3.4.5.jar\nin the BIRTCLASSPATH environment variable but the actual jar in the build is \n\tcom.ibm.icu_3.4.5.20061213.jar.\nNot sure why the genReport.bat regressed as BIRT 2.1.2 had the latter one in its batch file.\n\nThe runtimes work fine within WAS and generate reports perfectly (in both WAS60 and WAS61).\n\nHowever, once the BIRTCLASSPATH problem is fixed, using genReports.bat and ReportRunner.java from the command line, I get an exception thus:\n\u003d\u003d\u003d\u003d\u003d\nMay 31, 2007 3:47:07 PM org.eclipse.birt.report.engine.api.impl.RunAndRenderTask doRun\nSEVERE: Error happened while running the report.\njava.lang.IncompatibleClassChangeError\n\tat org.eclipse.birt.report.engine.css.engine.CSSEngine.parsePropertyValue(CSSEngine.java:114)\n\tat org.eclipse.birt.report.engine.css.dom.AbstractStyle.setCssText(AbstractStyle.java:193)\n\tat org.eclipse.birt.report.engine.parser.EngineIRVisitor.addReportDefaultPropertyValue(EngineIRVisitor.java:2460)\n\tat org.eclipse.birt.report.engine.parser.EngineIRVisitor.addReportDefaultPropertyValue(EngineIRVisitor.java:2426)\n\tat org.eclipse.birt.report.engine.parser.EngineIRVisitor.createReportDefaultStyles(EngineIRVisitor.java:2479)\n\tat org.eclipse.birt.report.engine.parser.EngineIRVisitor.visitReportDesign(EngineIRVisitor.java:258)\n\tat org.eclipse.birt.report.model.api.DesignVisitor$Forwarder.visitReportDesign(DesignVisitor.java:912)\n\tat org.eclipse.birt.report.model.elements.ReportDesign.apply(ReportDesign.java:80)\n\tat org.eclipse.birt.report.model.api.DesignVisitor.apply(DesignVisitor.java:92)\n\tat org.eclipse.birt.report.engine.parser.EngineIRVisitor.translate(EngineIRVisitor.java:232)\n\tat org.eclipse.birt.report.engine.parser.ReportParser.parse(ReportParser.java:180)\n\tat org.eclipse.birt.report.engine.api.impl.ReportRunnable.getReportIR(ReportRunnable.java:221)\n\tat org.eclipse.birt.report.engine.executor.ExecutionContext.getReport(ExecutionContext.java:682)\n\tat org.eclipse.birt.report.engine.executor.ReportExecutor.\u003cinit\u003e(ReportExecutor.java:77)\n\tat org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.doRun(RunAndRenderTask.java:168)\n\tat org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run(RunAndRenderTask.java:144)\n\tat org.eclipse.birt.report.engine.api.ReportRunner.runAndRenderReport(ReportRunner.java:236)\n\tat org.eclipse.birt.report.engine.api.ReportRunner.execute(ReportRunner.java:161)\n\tat org.eclipse.birt.report.engine.api.ReportRunner.main(ReportRunner.java:117)\n\u003d\u003d\u003d\u003d\u003d\n\nFrom cursory research, this seems to occur when underlying classes change but the calling classed aren\u0027t recompiled against them.  I wonder whether the ReportRunner.java has been recompiled correctly in this build.  Unfortunately, I\u0027ve never managed to get a working build environment so I can\u0027t test this myself.",
    "Incorrect icu classpath has been corrected in build script.\n\njava.lang.IncompatibleClassChangeError is reproduced in 2.1.3 daily build 20070215. But in 20070213 build, it works. \n\nAfter replace coreapi.jar in 20070215\u0027s ReportEngine/lib with 20070213, it works also.\n\nSo the exception is caused by coreapi.jar in ReportEngine/lib.\n\nRe-assign to engine team for further investigate.\n\nThe build and test env are all JDK1.4.",
    "Please remove flute.jar and sac.jar from lib directory.\nReassign to build team",
    "Fixed.",
    "Thx, bods.  Removal of those 2 jars from my local copy made it work fine.",
    "If we remove flute.jar and sac.jar from lib directory since API of model refers to these libs.\nReopen this bug.\nAdding these lib, and adding correct class path in genReport.bat, No exception is thrown out.",
    "I\u0027m not sure I understand the previous comment (#5) from Gang Liu.  In the situation where flute.jar and sac.jar exist in ReportEngine\\lib and they\u0027re listed in the BIRTCLASSPATH in genReport.bat, the exception DOES occur (this is with the correctly named ICU JAR file in genReport.bat).\nAre you saying that re-adding those JARs and changing the classpath will fix the problem in S20070524?  I do not believe that is the case.",
    "The classpath in genReport.bat/genReport.sh for flute.jar is not correct either.\n\nSo adding back these two jars to lib folder and correct the classpath for flute.jar solves the problem.\n\nFixed. Please verify in newest 2.1.3 nightly build.",
    "My mistake - I didn\u0027t catch the fact that the classpath had ReportEngine\\flute.jar, NOT the correct ReportEngine\\lib\\flute.jar.  Have verified it works with changed classpath and flute/sac JARS in the lib directory.\n\nCheers,\nAl.\n"
  ],
  "commentCreationDates": [
    "2007-05-31T10:14:21+02:00",
    "2007-06-01T10:18:12+02:00",
    "2007-06-04T09:37:50+02:00",
    "2007-06-04T12:13:27+02:00",
    "2007-06-05T03:50:17+02:00",
    "2007-06-06T09:08:14+02:00",
    "2007-06-06T09:23:30+02:00",
    "2007-06-06T09:28:55+02:00",
    "2007-06-06T09:58:37+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IncompatibleClassChangeError",
      "elements": [
        {
          "method": "org.eclipse.birt.report.engine.css.engine.CSSEngine.parsePropertyValue",
          "source": "CSSEngine.java:114"
        },
        {
          "method": "org.eclipse.birt.report.engine.css.dom.AbstractStyle.setCssText",
          "source": "AbstractStyle.java:193"
        },
        {
          "method": "org.eclipse.birt.report.engine.parser.EngineIRVisitor.addReportDefaultPropertyValue",
          "source": "EngineIRVisitor.java:2460"
        },
        {
          "method": "org.eclipse.birt.report.engine.parser.EngineIRVisitor.addReportDefaultPropertyValue",
          "source": "EngineIRVisitor.java:2426"
        },
        {
          "method": "org.eclipse.birt.report.engine.parser.EngineIRVisitor.createReportDefaultStyles",
          "source": "EngineIRVisitor.java:2479"
        },
        {
          "method": "org.eclipse.birt.report.engine.parser.EngineIRVisitor.visitReportDesign",
          "source": "EngineIRVisitor.java:258"
        },
        {
          "method": "org.eclipse.birt.report.model.api.DesignVisitor$Forwarder.visitReportDesign",
          "source": "DesignVisitor.java:912"
        },
        {
          "method": "org.eclipse.birt.report.model.elements.ReportDesign.apply",
          "source": "ReportDesign.java:80"
        },
        {
          "method": "org.eclipse.birt.report.model.api.DesignVisitor.apply",
          "source": "DesignVisitor.java:92"
        },
        {
          "method": "org.eclipse.birt.report.engine.parser.EngineIRVisitor.translate",
          "source": "EngineIRVisitor.java:232"
        },
        {
          "method": "org.eclipse.birt.report.engine.parser.ReportParser.parse",
          "source": "ReportParser.java:180"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.ReportRunnable.getReportIR",
          "source": "ReportRunnable.java:221"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ExecutionContext.getReport",
          "source": "ExecutionContext.java:682"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutor.\u003cinit\u003e",
          "source": "ReportExecutor.java:77"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.doRun",
          "source": "RunAndRenderTask.java:168"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run",
          "source": "RunAndRenderTask.java:144"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.ReportRunner.runAndRenderReport",
          "source": "ReportRunner.java:236"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.ReportRunner.execute",
          "source": "ReportRunner.java:161"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.ReportRunner.main",
          "source": "ReportRunner.java:117"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "190152",
      "date": "2007-05-31T10:14:21+02:00",
      "product": "BIRT",
      "component": "Build",
      "severity": "normal"
    }
  ],
  "groupId": "190152",
  "bugId": "190152",
  "date": "2007-05-31T10:14:21+02:00",
  "product": "BIRT",
  "component": "Build",
  "severity": "normal"
}