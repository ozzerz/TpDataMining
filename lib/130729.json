{
  "comments": [
    "We have some plugins on top of Eclipse3.1.2, for which we have configured JavaDoc help pages.\n\nNote: help for sun Java classes seems to take a different path.  I couldn\u0027t figure out how to configure JavaDoc for Eclipse classes.\n\n1. click F1 on class name.  This brings up the Help window with a line \"JavaHelp: \u003cclassname\u003e\n2. click MB1 on that link.  This brings up the javadoc page embedded in the help frame.\n3. now click the icon for \"Show in External Window\".  An error dialog appears, and a message is emitted to the log:\nError 2006-03-07 07:26:47.136 An exception occurred while launching help.  Check the log at C:\\runtime-workspaceB\\.metadata\\.log\njava.net.MalformedURLException: no protocol: /jar:file:/c:/EclipseWorkspaceC/sas.ads.doc.components/doc.zip!/api/components/com/sas/swing/models/ListModelAdapter.html\n\tat java.net.URL.\u003cinit\u003e(URL.java:537)\n\tat java.net.URL.\u003cinit\u003e(URL.java:434)\n\tat java.net.URL.\u003cinit\u003e(URL.java:383)\n\tat org.eclipse.help.ui.internal.DefaultHelpUI$ExternalWorkbenchBrowser.displayURL(DefaultHelpUI.java:85)\n\tat org.eclipse.help.internal.base.HelpDisplay.displayHelpURL(HelpDisplay.java:197)\n\tat org.eclipse.help.internal.base.HelpDisplay.displayHelpResource(HelpDisplay.java:95)\n\tat org.eclipse.help.ui.internal.DefaultHelpUI.displayHelpResource(DefaultHelpUI.java:232)\n\tat org.eclipse.ui.internal.help.WorkbenchHelpSystem.displayHelpResource(WorkbenchHelpSystem.java:900)\n\tat org.eclipse.help.ui.internal.views.ReusableHelpPart.showExternalURL(ReusableHelpPart.java:1125)\n\tat org.eclipse.help.ui.internal.views.BrowserPart$6.run(BrowserPart.java:182)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n\tat org.eclipse.help.ui.internal.views.BrowserPart$5.run(BrowserPart.java:179)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:996)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\n\tat org.eclipse.jface.action.ActionContributionItem$6.handleEvent(ActionContributionItem.java:441)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3125)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2758)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n\tat org.eclipse.core.launcher.Main.run(Main.java:973)\n\tat org.eclipse.core.launcher.Main.main(Main.java:948)\n\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n4. If I click the \"frames\" or \"no frames\" hyperlink buttons, then the \"show in external window\" command looks fine.\n\nWhat appears to be going on is that when the window first comes up, if you do show external, the link is:\n/jar:file:/c:/EclipseWorkspaceC/sas.ads.doc.components/doc.zip!/api/components/com/sas/swing/models/ListModelAdapter.html?noframes\u003dtrue\nAfter you click \"frames\" (or navigate to another class and back via javadoc links), the link for show external is:\n/jar:file:/c:/EclipseWorkspaceC/sas.ads.doc.components/doc.zip!/api/components/com/sas/swing/models/ListModelAdapter.html\n\nI noticed that in the ReusableHelpPart.showExternalURL() method (copied below), the path I take is that isHelpResource(url) returns true, and thus the \"?noframes\u003dtrue\" is passed through to displayHelpResource().  \n\n\n\tpublic void showExternalURL(String url) {\n\t\tif (isHelpResource(url))\n\t\t\tPlatformUI.getWorkbench().getHelpSystem().displayHelpResource(url);\n\t\telse {\n\t\t\ttry {\n\t\t\t\tString aurl \u003d BaseHelpSystem.resolve(url, true).toString();\n\t\t\t\tif (aurl.endsWith(\"\u0026noframes\u003dtrue\") || aurl.endsWith(\"?noframes\u003dtrue\")) //$NON-NLS-1$ //$NON-NLS-2$\n\t\t\t\t\taurl \u003d aurl.substring(0, aurl.length() - 14);\n\t\t\t\tshowInWorkbenchBrowser(aurl, false);\n\t\t\t} catch (Exception e) {\n\t\t\t\tHelpUIPlugin.logError(\"Error opening browser\", e); //$NON-NLS-1$\n\t\t\t}\n\t\t}\n\t}",
    "Reproduced in 3.3 RC4.\n\nThis is not specific to the configuration and can be reproduced with any JavaDoc. I did it with the PlatformUI class javadoc.\n\nThe problem does not have anything to do with the \"?noframes\u003dtrue\" parameter on the end of the url, however. It is due to the fact that the URL starts with a \"/\". Looking at the code for HelpDisplay.displayHelpResource, it tests to see if the url starts with \"jar:\", which it does not. The fix for this would be to determine why the url is getting passed in with a leading \"/\" and prevent that from happening."
  ],
  "commentCreationDates": [
    "2006-03-07T13:04:10+01:00",
    "2007-06-12T23:30:48+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.net.MalformedURLException",
      "message": "no protocol: /jar:file:/c:/EclipseWorkspaceC/sas.ads.doc.components/doc.zip!/api/components/com/sas/swing/models/ListModelAdapter.html",
      "elements": [
        {
          "method": "java.net.URL.\u003cinit\u003e",
          "source": "URL.java:537"
        },
        {
          "method": "java.net.URL.\u003cinit\u003e",
          "source": "URL.java:434"
        },
        {
          "method": "java.net.URL.\u003cinit\u003e",
          "source": "URL.java:383"
        },
        {
          "method": "org.eclipse.help.ui.internal.DefaultHelpUI$ExternalWorkbenchBrowser.displayURL",
          "source": "DefaultHelpUI.java:85"
        },
        {
          "method": "org.eclipse.help.internal.base.HelpDisplay.displayHelpURL",
          "source": "HelpDisplay.java:197"
        },
        {
          "method": "org.eclipse.help.internal.base.HelpDisplay.displayHelpResource",
          "source": "HelpDisplay.java:95"
        },
        {
          "method": "org.eclipse.help.ui.internal.DefaultHelpUI.displayHelpResource",
          "source": "DefaultHelpUI.java:232"
        },
        {
          "method": "org.eclipse.ui.internal.help.WorkbenchHelpSystem.displayHelpResource",
          "source": "WorkbenchHelpSystem.java:900"
        },
        {
          "method": "org.eclipse.help.ui.internal.views.ReusableHelpPart.showExternalURL",
          "source": "ReusableHelpPart.java:1125"
        },
        {
          "method": "org.eclipse.help.ui.internal.views.BrowserPart$6.run",
          "source": "BrowserPart.java:182"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.help.ui.internal.views.BrowserPart$5.run",
          "source": "BrowserPart.java:179"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:996"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:538"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$6.handleEvent",
          "source": "ActionContributionItem.java:441"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:843"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3125"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2758"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1699"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1663"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:367"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "130729",
      "date": "2006-03-07T13:04:10+01:00",
      "product": "Platform",
      "component": "User Assistance",
      "severity": "normal"
    }
  ],
  "groupId": "130729",
  "bugId": "130729",
  "date": "2006-03-07T13:04:10+01:00",
  "product": "Platform",
  "component": "User Assistance",
  "severity": "normal"
}