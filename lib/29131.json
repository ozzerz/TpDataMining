{
  "comments": [
    "Happens during opening or closing the editor.\n\nConfig: Eclipse 2.0, org.aspectj.ajde_1.0.6, org.eclipse.ajdt.ui_0.5.2.\n\nStarting command for eclipse:\n\nC:\\Java\\eclipse\\eclipse.exe -vm C:\\Java\\j2sdk1.4.1_01\\bin\\javaw.exe -vmargs -\nXmx384M\n\nComplete stack trace on impact:\n\n!SESSION jan 08, 2003 10:58:42.321 ---------------------------------------------\njava.version\u003d1.4.1_01\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003dno_NO\nCommand-line arguments: -os win32 -ws win32 -arch x86 -install \nfile:C:/Java/eclipse/\n!ENTRY org.eclipse.ui 4 4 jan 08, 2003 10:58:42.321\n!MESSAGE Unhandled exception caught in event loop.\n!ENTRY org.eclipse.ui 4 0 jan 08, 2003 10:58:42.341\n!MESSAGE No more handles\n!STACK 0\norg.eclipse.swt.SWTError: No more handles\n\tat org.eclipse.swt.SWT.error(SWT.java:2144)\n\tat org.eclipse.swt.SWT.error(SWT.java:2051)\n\tat org.eclipse.swt.graphics.Image.init(Image.java:1787)\n\tat org.eclipse.swt.graphics.Image.init(Image.java:1816)\n\tat org.eclipse.swt.graphics.Image.\u003cinit\u003e(Image.java:703)\n\tat org.eclipse.jface.resource.ImageDescriptor.createImage\n(ImageDescriptor.java:128)\n\tat org.eclipse.jface.resource.ImageDescriptor.createImage\n(ImageDescriptor.java:87)\n\tat org.eclipse.jface.resource.ImageDescriptor.createImage\n(ImageDescriptor.java:76)\n\tat org.eclipse.ajdt.internal.ui.editor.BuildConfigEditor.createNodeImage\n(BuildConfigEditor.java:445)\n\tat org.eclipse.ajdt.internal.ui.editor.BuildConfigEditor.populateBranch\n(BuildConfigEditor.java:308)\n\tat org.eclipse.ajdt.internal.ui.editor.BuildConfigEditor.populateBranch\n(BuildConfigEditor.java:313)\n\tat org.eclipse.ajdt.internal.ui.editor.BuildConfigEditor.populateBranch\n(BuildConfigEditor.java:313)\n\tat org.eclipse.ajdt.internal.ui.editor.BuildConfigEditor.populateBranch\n(BuildConfigEditor.java:313)\n\tat org.eclipse.ajdt.internal.ui.editor.BuildConfigEditor.populateBranch\n(BuildConfigEditor.java:313)\n\tat org.eclipse.ajdt.internal.ui.editor.BuildConfigEditor.populateBranch\n(BuildConfigEditor.java:313)\n\tat org.eclipse.ajdt.internal.ui.editor.BuildConfigEditor.populateTree\n(BuildConfigEditor.java:285)\n\tat \norg.eclipse.ajdt.internal.ui.editor.BuildConfigEditor.createPartControl\n(BuildConfigEditor.java:237)\n\tat org.eclipse.ui.internal.PartPane$4.run(PartPane.java:136)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:839)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:416)\n\tat org.eclipse.ui.internal.PartPane.createChildControl\n(PartPane.java:134)\n\tat org.eclipse.ui.internal.PartPane.createControl(PartPane.java:178)\n\tat org.eclipse.ui.internal.EditorWorkbook.createPage\n(EditorWorkbook.java:230)\n\tat org.eclipse.ui.internal.EditorWorkbook.add(EditorWorkbook.java:85)\n\tat org.eclipse.ui.internal.EditorArea.addEditor(EditorArea.java:46)\n\tat org.eclipse.ui.internal.EditorPresentation.openEditor\n(EditorPresentation.java:352)\n\tat org.eclipse.ui.internal.EditorManager$2.run(EditorManager.java:540)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:66)\n\tat org.eclipse.ui.internal.EditorManager.createEditorTab\n(EditorManager.java:529)\n\tat org.eclipse.ui.internal.EditorManager.openInternalEditor\n(EditorManager.java:609)\n\tat org.eclipse.ui.internal.EditorManager.openEditorFromDescriptor\n(EditorManager.java:421)\n\tat org.eclipse.ui.internal.EditorManager.openEditorFromInput\n(EditorManager.java:304)\n\tat org.eclipse.ui.internal.EditorManager.openEditor\n(EditorManager.java:386)\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor\n(WorkbenchPage.java:1708)\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor\n(WorkbenchPage.java:1594)\n\tat org.eclipse.ui.actions.OpenFileAction.openFile\n(OpenFileAction.java:91)\n\tat org.eclipse.ui.actions.OpenSystemEditorAction.run\n(OpenSystemEditorAction.java:91)\n\tat org.eclipse.ui.views.navigator.OpenActionGroup.runDefaultAction\n(OpenActionGroup.java:112)\n\tat org.eclipse.ui.views.navigator.MainActionGroup.runDefaultAction\n(MainActionGroup.java:177)\n\tat org.eclipse.ui.views.navigator.ResourceNavigator.handleOpen\n(ResourceNavigator.java:531)\n\tat org.eclipse.ui.views.navigator.ResourceNavigator$6.open\n(ResourceNavigator.java:303)\n\tat org.eclipse.jface.viewers.StructuredViewer.fireOpen\n(StructuredViewer.java:320)\n\tat org.eclipse.jface.viewers.StructuredViewer.handleOpen\n(StructuredViewer.java:494)\n\tat org.eclipse.jface.viewers.StructuredViewer$3.handleOpen\n(StructuredViewer.java:581)\n\tat org.eclipse.jface.util.OpenStrategy.fireOpenEvent\n(OpenStrategy.java:198)\n\tat org.eclipse.jface.util.OpenStrategy.access$2(OpenStrategy.java:195)\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent\n(OpenStrategy.java:222)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:77)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:827)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1529)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1291)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1343)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1326)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:831)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:462)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:247)\n\tat org.eclipse.core.launcher.Main.run(Main.java:703)\n\tat org.eclipse.core.launcher.Main.main(Main.java:539)",
    "I\u0027ve fixed this in the current CVS version (which will become the AJDT v0.6 \nfull version soon).\n\nI had to put an image cache into the buildconfigurationeditor code so that it\nreused images rather than building a new one for every node in the tree.\n\nAt the same time I added a cache for imagedescriptors to the AJDTUtils code so\nthat other users of images can also benefit from caching (outline views for \nexample).\n\nI cant change the bug state to FIXED as I\u0027m not the owner of it, and I cant \nchange the owner (it says I\u0027m not \u0027powerful\u0027 enough !!)\n\nI\u0027m not planning to retrofit the fix back to 0.5.2 - is that OK?",
    "Thanks to Andy Clement who provided the fix for this... we weren\u0027t caching \ndecorated images created for the nodes in the tree view. Since each request to \ndecorate an underlying image created a whole new os resource, this was a lot \nof wastage. Caches have been implemented in the BuildConfigEditor and in \nAJDTUtils, and this seems to have fixed the problem."
  ],
  "commentCreationDates": [
    "2003-01-08T09:59:26+01:00",
    "2003-01-24T11:42:22+01:00",
    "2003-01-24T12:24:08+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTError",
      "message": "No more handles",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2144"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2051"
        },
        {
          "method": "org.eclipse.swt.graphics.Image.init",
          "source": "Image.java:1787"
        },
        {
          "method": "org.eclipse.swt.graphics.Image.init",
          "source": "Image.java:1816"
        },
        {
          "method": "org.eclipse.swt.graphics.Image.\u003cinit\u003e",
          "source": "Image.java:703"
        },
        {
          "method": "org.eclipse.jface.resource.ImageDescriptor.createImage",
          "source": "ImageDescriptor.java:128"
        },
        {
          "method": "org.eclipse.jface.resource.ImageDescriptor.createImage",
          "source": "ImageDescriptor.java:87"
        },
        {
          "method": "org.eclipse.jface.resource.ImageDescriptor.createImage",
          "source": "ImageDescriptor.java:76"
        },
        {
          "method": "org.eclipse.ajdt.internal.ui.editor.BuildConfigEditor.createNodeImage",
          "source": "BuildConfigEditor.java:445"
        },
        {
          "method": "org.eclipse.ajdt.internal.ui.editor.BuildConfigEditor.populateBranch",
          "source": "BuildConfigEditor.java:308"
        },
        {
          "method": "org.eclipse.ajdt.internal.ui.editor.BuildConfigEditor.populateBranch",
          "source": "BuildConfigEditor.java:313"
        },
        {
          "method": "org.eclipse.ajdt.internal.ui.editor.BuildConfigEditor.populateBranch",
          "source": "BuildConfigEditor.java:313"
        },
        {
          "method": "org.eclipse.ajdt.internal.ui.editor.BuildConfigEditor.populateBranch",
          "source": "BuildConfigEditor.java:313"
        },
        {
          "method": "org.eclipse.ajdt.internal.ui.editor.BuildConfigEditor.populateBranch",
          "source": "BuildConfigEditor.java:313"
        },
        {
          "method": "org.eclipse.ajdt.internal.ui.editor.BuildConfigEditor.populateBranch",
          "source": "BuildConfigEditor.java:313"
        },
        {
          "method": "org.eclipse.ajdt.internal.ui.editor.BuildConfigEditor.populateTree",
          "source": "BuildConfigEditor.java:285"
        },
        {
          "method": "org.eclipse.ajdt.internal.ui.editor.BuildConfigEditor.createPartControl",
          "source": "BuildConfigEditor.java:237"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane$4.run",
          "source": "PartPane.java:136"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:839"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:416"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.createChildControl",
          "source": "PartPane.java:134"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.createControl",
          "source": "PartPane.java:178"
        },
        {
          "method": "org.eclipse.ui.internal.EditorWorkbook.createPage",
          "source": "EditorWorkbook.java:230"
        },
        {
          "method": "org.eclipse.ui.internal.EditorWorkbook.add",
          "source": "EditorWorkbook.java:85"
        },
        {
          "method": "org.eclipse.ui.internal.EditorArea.addEditor",
          "source": "EditorArea.java:46"
        },
        {
          "method": "org.eclipse.ui.internal.EditorPresentation.openEditor",
          "source": "EditorPresentation.java:352"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager$2.run",
          "source": "EditorManager.java:540"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:66"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.createEditorTab",
          "source": "EditorManager.java:529"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.openInternalEditor",
          "source": "EditorManager.java:609"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.openEditorFromDescriptor",
          "source": "EditorManager.java:421"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.openEditorFromInput",
          "source": "EditorManager.java:304"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.openEditor",
          "source": "EditorManager.java:386"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:1708"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:1594"
        },
        {
          "method": "org.eclipse.ui.actions.OpenFileAction.openFile",
          "source": "OpenFileAction.java:91"
        },
        {
          "method": "org.eclipse.ui.actions.OpenSystemEditorAction.run",
          "source": "OpenSystemEditorAction.java:91"
        },
        {
          "method": "org.eclipse.ui.views.navigator.OpenActionGroup.runDefaultAction",
          "source": "OpenActionGroup.java:112"
        },
        {
          "method": "org.eclipse.ui.views.navigator.MainActionGroup.runDefaultAction",
          "source": "MainActionGroup.java:177"
        },
        {
          "method": "org.eclipse.ui.views.navigator.ResourceNavigator.handleOpen",
          "source": "ResourceNavigator.java:531"
        },
        {
          "method": "org.eclipse.ui.views.navigator.ResourceNavigator$6.open",
          "source": "ResourceNavigator.java:303"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.fireOpen",
          "source": "StructuredViewer.java:320"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleOpen",
          "source": "StructuredViewer.java:494"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$3.handleOpen",
          "source": "StructuredViewer.java:581"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireOpenEvent",
          "source": "OpenStrategy.java:198"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$2",
          "source": "OpenStrategy.java:195"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "OpenStrategy.java:222"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:77"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:827"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1529"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1291"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1343"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1326"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:831"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:462"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:247"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:703"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:539"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "29131",
      "date": "2003-01-08T09:59:26+01:00",
      "product": "AJDT",
      "component": "UI",
      "severity": "blocker"
    }
  ],
  "groupId": "29131",
  "bugId": "29131",
  "date": "2003-01-08T09:59:26+01:00",
  "product": "AJDT",
  "component": "UI",
  "severity": "blocker"
}