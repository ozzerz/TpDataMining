{
  "comments": [
    "The problem starts when the user creates a conditional breakpoint in any line of code. \nIf the user wants to edit the breakpoint using the functionality breakpoint properties, once the editor is open to create the condition, if the user press CTRL + SPACE over the sentence ?this.equals([ctrl+space])?; the result is the following exception.\n\nThis is the stack trace with the exception that we got from eclipse error log?.\n\njava.lang.IllegalArgumentException: Index out of bounds \nat org.eclipse.swt.SWT.error(SWT.java:2926) \nat org.eclipse.swt.SWT.error(SWT.java:2865) \nat org.eclipse.swt.SWT.error(SWT.java:2836) \nat org.eclipse.swt.custom.StyledText.getLocationAtOffset \n(StyledText.java:3874)\n\nAttached is provided the complete stack?.\n\nThanks, and let me know if you need more information to reproduce the error.\nRegards.\nRaul.",
    "Please provide more complete steps to reproduce. I.e. example source file, condition, and point at which code assist was attempted.\n\nYou could also try 3.2 M5 (soon to be released), to see if the problem still exists there.\n\nThanks.",
    "Moving to JFace Text. Looks like we set up the offset correctly, but it gets changed along the way. Will attach screenshot.",
    "Created an attachment (id\u003d35783)\nScreen shot of call stack\n\nWe set up the offset as 12 in this case, but it gets changed to a \"visible offet\" of 844 in this case. I don\u0027t know where the visible offset is coming from.",
    "To reproduce, create a line breakpoint on the first line of junit.samples.VectorTest#testCapacity(). Then open the breakpoint properties edtior and code assist in a condition like \"this.equals(|)\".",
    "The code assist source and viewer source (document) don\u0027t match. The offset comes from CompletionProposal.getCompletionLocation() which is based on the code assist source. This is used when context information of a used proposal is requested.\n\nYou have two choices:\n1) make the document match the code assist source and use\n   ITextViewer.setVisibleRegion(int, int) to only show the inserted text (the one\n   currently visible in the dialog)\n2) try to adjust the offset in the ProposalContextInformation using\n   setContextInformationPosition()\n",
    "Actually Debug is using the snippet based code complete method from J Core which should adjust that offset.\n\nMoving to J Core as discussed with David.",
    "Fixed and tests added\n  SnippetCompletionContextTests#test0001() -\u003e test0004()\n\nNow the completion location is relative to the snippet.\n\nNote: the completion location was -1 if the completion occurs at the start of the snippet and CompletionProposal doesn\u0027t support negative location. I added a workaround to avoid that: -1 is replaced by 0. I enter a bug about this problems in completion positions (bug 128276). As a fix for bug 128276 require API modifications perhaps bug 128276 won\u0027t be fixed for 3.2.\n\n",
    "\u003eI enter a bug about this problems in completion positions...\nsee bug 132558.",
    "Oups...\u0027bug 128276\u0027 should be \u0027bug132558\u0027 in comment 7.",
    "Verified using I20060328-0010 for 3.2M6"
  ],
  "commentCreationDates": [
    "2006-02-16T19:42:36+01:00",
    "2006-02-17T16:52:08+01:00",
    "2006-03-06T19:52:55+01:00",
    "2006-03-06T19:54:37+01:00",
    "2006-03-06T20:02:17+01:00",
    "2006-03-13T16:38:53+01:00",
    "2006-03-13T16:59:02+01:00",
    "2006-03-20T17:42:05+01:00",
    "2006-03-20T17:50:15+01:00",
    "2006-03-20T17:53:22+01:00",
    "2006-03-28T17:17:26+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Index out of bounds",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2926"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2865"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2836"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.getLocationAtOffset",
          "source": "StyledText.java:3874"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "128276",
      "date": "2006-02-16T19:42:36+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "128276",
  "bugId": "128276",
  "date": "2006-02-16T19:42:36+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}