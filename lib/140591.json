{
  "comments": [
    "3.2RC3\n\n- create an empty Java file\n- enable auto-closing of string quotes (\")\n- in the empty file, enter a double quote (the closing one gets added automatically)\n- press backspace\n\n-\u003e boom\n\nNotes:\n - no harm done (except for the exit positin remainging displayed)\n - regression: this does not occur in 3.1.2, as the +1 addition in IBeamStrategy was introduced for 20051207\n\n!ENTRY org.eclipse.ui 4 0 2006-05-08 17:23:01.419\n!MESSAGE Failed to execute runnable (java.lang.IllegalArgumentException: Index out of bounds)\n!STACK 0\norg.eclipse.swt.SWTException: Failed to execute runnable (java.lang.IllegalArgumentException: Index out of bounds)\n\tat org.eclipse.swt.SWT.error(SWT.java:3374)\n\tat org.eclipse.swt.SWT.error(SWT.java:3297)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:126)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3141)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2843)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)\nCaused by: java.lang.IllegalArgumentException: Index out of bounds\n\tat org.eclipse.swt.SWT.error(SWT.java:3358)\n\tat org.eclipse.swt.SWT.error(SWT.java:3297)\n\tat org.eclipse.swt.SWT.error(SWT.java:3268)\n\tat org.eclipse.swt.custom.StyledText.redrawRange(StyledText.java:5992)\n\tat org.eclipse.ui.texteditor.SourceViewerDecorationSupport$IBeamStrategy.draw(SourceViewerDecorationSupport.java:175)\n\tat org.eclipse.jface.text.source.AnnotationPainter.handleDrawRequest(AnnotationPainter.java:1233)\n\tat org.eclipse.jface.text.source.AnnotationPainter.disablePainting(AnnotationPainter.java:380)\n\tat org.eclipse.jface.text.source.AnnotationPainter.updatePainting(AnnotationPainter.java:793)\n\tat org.eclipse.jface.text.source.AnnotationPainter.access$1(AnnotationPainter.java:792)\n\tat org.eclipse.jface.text.source.AnnotationPainter$1.run(AnnotationPainter.java:920)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\t... 20 more",
    "Created an attachment (id\u003d40606)\nPatch (including fix for bug 140591)\n\n",
    "Created an attachment (id\u003d40607)\nPatch (including fix for bug 140603)\n\n",
    "Tom, please take a look at the quick hack patch and check whether it works on Linux as well. It should be improved by only adding 1 in case we see \"\\r\\n\". Currently we always do it upon \"\\r\".",
    "Created an attachment (id\u003d40730)\nSourceViewerDecorationSupport.java.diff\n\nFixes the problem - the differnce from the previous patch is that we now don\u0027t rely on an assumed length of delimiters, but use the offset of next line when the IBeam offset is at a line end.\n\nVerified that this fixes the IOOBE of this bug, and also bug 140603 for files that have line delimiters of a length \u003e 1.\n\nThis works also with the fix for bug 140802 applied.",
    "The patch is super-save and fixes the two problems.\n\nPhilippe and Martin, please cast your vote on this one and bug 140603 (the patch fixes both).",
    "+1 for 3.2RC4",
    "It seems to me that\n  if (line \u003e\u003d textWidget.getLineCount()) {\nis meant to be\n  if (line \u003e\u003d textWidget.getLineCount() - 1) {\n\nI suggest to correct that, but apart from that +1 from me.",
    "Released slightly modified version of the patch that makes sure getOffsetAtLine(...) doesn\u0027t fail.\n\nTom, please verify.",
    "*** Bug 140603 has been marked as a duplicate of this bug. ***",
    "(In reply to comment #8)\n\u003e Released slightly modified version of the patch that makes sure\n\u003e getOffsetAtLine(...) doesn\u0027t fail.\n\u003e \n\u003e Tom, please verify.\n\nVerified that the line number check is correct. \n\n",
    "Verified the scenario in comment 0 and also that bug 140603 is fixed."
  ],
  "commentCreationDates": [
    "2006-05-08T17:27:40+02:00",
    "2006-05-08T18:05:30+02:00",
    "2006-05-08T18:07:51+02:00",
    "2006-05-08T18:10:04+02:00",
    "2006-05-09T16:41:42+02:00",
    "2006-05-10T11:03:41+02:00",
    "2006-05-10T19:05:32+02:00",
    "2006-05-10T19:25:41+02:00",
    "2006-05-10T19:44:31+02:00",
    "2006-05-10T19:47:21+02:00",
    "2006-05-11T11:35:57+02:00",
    "2006-05-11T18:00:11+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Index out of bounds)",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3374"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3297"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:126"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3141"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2843"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1914"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1878"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:280"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.IllegalArgumentException",
        "message": "Index out of bounds",
        "elements": [
          {
            "method": "org.eclipse.swt.SWT.error",
            "source": "SWT.java:3358"
          },
          {
            "method": "org.eclipse.swt.SWT.error",
            "source": "SWT.java:3297"
          },
          {
            "method": "org.eclipse.swt.SWT.error",
            "source": "SWT.java:3268"
          },
          {
            "method": "org.eclipse.swt.custom.StyledText.redrawRange",
            "source": "StyledText.java:5992"
          },
          {
            "method": "org.eclipse.ui.texteditor.SourceViewerDecorationSupport$IBeamStrategy.draw",
            "source": "SourceViewerDecorationSupport.java:175"
          },
          {
            "method": "org.eclipse.jface.text.source.AnnotationPainter.handleDrawRequest",
            "source": "AnnotationPainter.java:1233"
          },
          {
            "method": "org.eclipse.jface.text.source.AnnotationPainter.disablePainting",
            "source": "AnnotationPainter.java:380"
          },
          {
            "method": "org.eclipse.jface.text.source.AnnotationPainter.updatePainting",
            "source": "AnnotationPainter.java:793"
          },
          {
            "method": "org.eclipse.jface.text.source.AnnotationPainter.access$1",
            "source": "AnnotationPainter.java:792"
          },
          {
            "method": "org.eclipse.jface.text.source.AnnotationPainter$1.run",
            "source": "AnnotationPainter.java:920"
          },
          {
            "method": "org.eclipse.swt.widgets.RunnableLock.run",
            "source": "RunnableLock.java:35"
          },
          {
            "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
            "source": "Synchronizer.java:123"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "140591",
      "date": "2006-05-08T17:27:40+02:00",
      "product": "Platform",
      "component": "Text",
      "severity": "normal"
    }
  ],
  "groupId": "140591",
  "bugId": "140591",
  "date": "2006-05-08T17:27:40+02:00",
  "product": "Platform",
  "component": "Text",
  "severity": "normal"
}