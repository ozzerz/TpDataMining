{
  "comments": [
    "Integration build 20020508 (1411)\n\nTrying to use the update manager to install a hand-rolled feature from \na local update site. I screwed up and forgot to include one of the\nplug-ins mentioned in the feature.xml. It makes it as far as the\nContinue Installing Feature, and then silently gives up. No error\nis reported to the user, and the user is never ask for restart.\n\nThe log shows its getting an exception.\n\nIn cases like this, the user should probably be told that there is\nsomething wrong with the update site.\n\n.log contents\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n!SESSION ----------------------------------------------------------------------\njava.fullversion\u003dJ2RE 1.3.1 IBM Windows 32 build cn131-20020403 (JIT enabled: \njitc)\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_US\nCommand-line arguments: -ws win32 -feature org.eclipse.sdk -install \nfile:/D:/eclipse-SDK-200205081411-win32/eclipse/\n[deletia]\n!ENTRY org.eclipse.update.core 0 4 Thu May 09 17:21:52 EDT 2002\n!MESSAGE Unable to complete action for feature \"Eclipse Platform (Windows)\" \ndue to errors.\n!STACK org.eclipse.core.runtime.CoreException[0]: java.io.IOException: Unable \nto return reference \nfile:C:/temp/TestEclipseUpdateSite/plugins/org.eclipse.ui.win32_1.9.0.jar as \nFile.\n\tat org.eclipse.update.core.ContentReference.asFile\n(ContentReference.java:173)\n\tat org.eclipse.update.internal.security.JarVerifier.init\n(JarVerifier.java:114)\n\tat org.eclipse.update.internal.security.JarVerifier.verify\n(JarVerifier.java:222)\n\tat org.eclipse.update.core.Feature.install(Feature.java:292)\n\tat org.eclipse.update.internal.core.SiteFile.install(SiteFile.java:69)\n\tat org.eclipse.update.internal.core.ConfiguredSite.install\n(ConfiguredSite.java:185)\n\tat org.eclipse.update.internal.ui.wizards.InstallWizard.execute\n(InstallWizard.java:158)\n\tat org.eclipse.update.internal.ui.wizards.InstallWizard.access$2\n(InstallWizard.java:131)\n\tat org.eclipse.update.internal.ui.wizards.InstallWizard$1.run\n(InstallWizard.java:59)\n\tat org.eclipse.jface.operation.ModalContext.runInCurrentThread\n(ModalContext.java:296)\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:249)\n\tat org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:720)\n\tat org.eclipse.update.internal.ui.wizards.InstallWizard.performFinish\n(InstallWizard.java:70)\n\tat org.eclipse.jface.wizard.WizardDialog.finishPressed\n(WizardDialog.java:577)\n\tat org.eclipse.jface.wizard.WizardDialog.buttonPressed\n(WizardDialog.java:312)\n\tat org.eclipse.jface.dialogs.Dialog$1.widgetSelected(Dialog.java:398)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent\n(TypedListener.java:85)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java\n(Compiled Code))\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java(Compiled \nCode))\n\tat org.eclipse.jface.window.Window.open(Window.java:535)\n\tat org.eclipse.update.internal.ui.forms.DetailsForm$7.run\n(DetailsForm.java:683)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile\n(BusyIndicator.java:56)\n\tat org.eclipse.update.internal.ui.forms.DetailsForm.executeJob\n(DetailsForm.java:676)\n\tat org.eclipse.update.internal.ui.forms.DetailsForm.doButtonSelected\n(DetailsForm.java:703)\n\tat org.eclipse.update.internal.ui.forms.DetailsForm.access$11\n(DetailsForm.java:691)\n\tat org.eclipse.update.internal.ui.forms.DetailsForm$4.widgetSelected\n(DetailsForm.java:338)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent\n(TypedListener.java:85)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java\n(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java\n(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1045)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:739)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:450)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:174)\n\tat org.eclipse.core.launcher.Main.run(Main.java:605)\n\tat org.eclipse.core.launcher.Main.main(Main.java:449)",
    "First problem\nWill revert to always throw exception instead of silently logging them.\n\nSecond problem\nWe can notify the user if we have a handle on the result of the download.\nDownloading a missing file from an HTTP server will download an Error404 HTML\npage, only when we attempt to use it do we have the error.\n\n",
    "Re: second problem. I don\u0027t understand why you would go to the trouble of \ndownloading the missing page and saving it. Just check the \nHttpURLConnection.getResponseCode to see whether everything is OK.",
    "1) Fixed Error message reposting file not found [ContentReference#asFile]\n2) Fixed MultiStatus issue preventing the Dialog from opening\n{Utilities#newCoreException] 14685\n3) Added special code if conneting is an HttpConnection\n[ContentReference#getInputStream and getInputSize]\nFixed, verified in self hosting, check against next Integration build"
  ],
  "commentCreationDates": [
    "2002-05-09T23:25:50+02:00",
    "2002-05-10T00:52:00+02:00",
    "2002-05-10T15:34:27+02:00",
    "2002-05-18T01:18:03+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.io.IOException",
      "message": "Unable  to return reference  file:C:/temp/TestEclipseUpdateSite/plugins/org.eclipse.ui.win32_1.9.0.jar as  File.",
      "elements": [
        {
          "method": "org.eclipse.update.core.ContentReference.asFile",
          "source": "ContentReference.java:173"
        },
        {
          "method": "org.eclipse.update.internal.security.JarVerifier.init",
          "source": "JarVerifier.java:114"
        },
        {
          "method": "org.eclipse.update.internal.security.JarVerifier.verify",
          "source": "JarVerifier.java:222"
        },
        {
          "method": "org.eclipse.update.core.Feature.install",
          "source": "Feature.java:292"
        },
        {
          "method": "org.eclipse.update.internal.core.SiteFile.install",
          "source": "SiteFile.java:69"
        },
        {
          "method": "org.eclipse.update.internal.core.ConfiguredSite.install",
          "source": "ConfiguredSite.java:185"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.InstallWizard.execute",
          "source": "InstallWizard.java:158"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.InstallWizard.access$2",
          "source": "InstallWizard.java:131"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.InstallWizard$1.run",
          "source": "InstallWizard.java:59"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:296"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:249"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.run",
          "source": "WizardDialog.java:720"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.InstallWizard.performFinish",
          "source": "InstallWizard.java:70"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.finishPressed",
          "source": "WizardDialog.java:577"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.buttonPressed",
          "source": "WizardDialog.java:312"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$1.widgetSelected",
          "source": "Dialog.java:398"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:85"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:535"
        },
        {
          "method": "org.eclipse.update.internal.ui.forms.DetailsForm$7.run",
          "source": "DetailsForm.java:683"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:56"
        },
        {
          "method": "org.eclipse.update.internal.ui.forms.DetailsForm.executeJob",
          "source": "DetailsForm.java:676"
        },
        {
          "method": "org.eclipse.update.internal.ui.forms.DetailsForm.doButtonSelected",
          "source": "DetailsForm.java:703"
        },
        {
          "method": "org.eclipse.update.internal.ui.forms.DetailsForm.access$11",
          "source": "DetailsForm.java:691"
        },
        {
          "method": "org.eclipse.update.internal.ui.forms.DetailsForm$4.widgetSelected",
          "source": "DetailsForm.java:338"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:85"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1045"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:739"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:450"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:174"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:605"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:449"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "15681",
      "date": "2002-05-09T23:25:50+02:00",
      "product": "Platform",
      "component": "Update",
      "severity": "normal"
    }
  ],
  "groupId": "15681",
  "bugId": "15681",
  "date": "2002-05-09T23:25:50+02:00",
  "product": "Platform",
  "component": "Update",
  "severity": "normal"
}