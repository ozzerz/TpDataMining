{
  "comments": [
    "Build ID: 2.0M6\n\nSteps To Reproduce:\n1. Create a Utility project\n2. Open file .settings/.settings/org.eclipse.wst.common.project.facet.core.xml\n3. Change \u003cinstalled facet\u003d\"jst.utility\" version\u003d\"1.0\"/\u003e to \u003cinstalled facet\u003d\"jst.utility\" version\u003d\"a\"/\u003e\n4. Save file\n5. Restart Eclipse\n6. Open project preferences\n7. Try to open Project Facets page",
    "Created an attachment (id\u003d67592)\nfix\n\n",
    "The use case is the following:\n\nPlug-in developer creates a plugin containing a facet with the version \"8...9\".\n\nThe plug-in gets distribted to consumer base.\n\nAnother plug-in developer wants to \"correct\" the \"incorrect\" version and sets it to \"8.0\" and declares a \"version-comparator\" to match \"8...9\" to \"8.0\".\n\nNow if you use the new plug-in with existing projects you get an NPE because at workbench startup the \"compTable\" of the facet version \"8...9\" is not created.",
    "It is not created because it is not declared in an extension but only in a project\u0027s meta data.",
    "I am not sure that your use case of equating two different version strings using a custom version comparator will ever be supported, but the Modify Faceted Project wizard should not fail to come up in this case. I will take a look at that for 2.0.1. The stack trace in log is the following:\n\njava.lang.NullPointerException\nat org.eclipse.wst.common.project.facet.core.internal.ProjectFacetVersion.compareTo(ProjectFacetVersion.java:485)\nat org.eclipse.wst.common.project.facet.core.internal.util.VersionExpr$Range.evaluate(VersionExpr.java:577)\nat org.eclipse.wst.common.project.facet.core.internal.util.VersionExpr.check(VersionExpr.java:390)\nat org.eclipse.wst.common.project.facet.core.internal.ProjectFacet.getActionDefinitions(ProjectFacet.java:199)\nat org.eclipse.wst.common.project.facet.core.internal.ProjectFacetVersion.getActionDefinitions(ProjectFacetVersion.java:139)\nat org.eclipse.wst.common.project.facet.core.internal.ProjectFacetVersion.getActionDefinitions(ProjectFacetVersion.java:146)\nat org.eclipse.wst.common.project.facet.core.internal.ProjectFacetVersion.getActionDefinitionInternal(ProjectFacetVersion.java:193)\nat org.eclipse.wst.common.project.facet.core.internal.ProjectFacetVersion.supports(ProjectFacetVersion.java:111)\nat org.eclipse.wst.common.project.facet.ui.internal.FacetsSelectionPanel.createAction(FacetsSelectionPanel.java:688)\nat org.eclipse.wst.common.project.facet.ui.internal.FacetsSelectionPanel.updateValidationDisplay(FacetsSelectionPanel.java:1045)\nat org.eclipse.wst.common.project.facet.ui.internal.FacetsSelectionPanel.\u003cinit\u003e(FacetsSelectionPanel.java:582)\nat org.eclipse.wst.common.project.facet.ui.internal.FacetsSelectionPage.createControl(FacetsSelectionPage.java:152)\nat org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:170)\nat org.eclipse.wst.common.project.facet.ui.ModifyFacetedProjectWizard.createPageControls(ModifyFacetedProjectWizard.java:238)\nat org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:669)\nat org.eclipse.jface.wizard.WizardDialog.createContents(WizardDialog.java:543)\nat org.eclipse.jface.window.Window.create(Window.java:426)\nat org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1081)\nat org.eclipse.jface.window.Window.open(Window.java:785)\nat org.eclipse.wst.common.project.facet.ui.internal.FacetsPropertyPage$3.widgetSelected(FacetsPropertyPage.java:150)\nat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3682)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3293)\nat org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\nat org.eclipse.jface.window.Window.open(Window.java:796)\nat org.eclipse.ui.dialogs.PropertyDialogAction.run(PropertyDialogAction.java:156)\nat org.eclipse.jface.action.Action.runWithEvent(Action.java:498)\nat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:545)\nat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490)\nat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:402)\n",
    "Setting severity to normal because this is a pretty corner case.",
    "Fixed the issue of the faceted project wizard being unable to deal with an unknown version in the metadata file. This was a regression. Note, however, that the scenario that you were trying to implement (using a custom version comparator to equate to different versions) is still not supported. I am not sure that we can ever effectively support it.\n\nChanges released to the 2.0.1 and 3.0 code streams.",
    "*** Bug 201311 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2007-05-17T06:22:42+02:00",
    "2007-05-17T06:24:11+02:00",
    "2007-05-18T16:06:55+02:00",
    "2007-05-18T16:08:48+02:00",
    "2007-06-07T19:50:57+02:00",
    "2007-06-07T19:51:33+02:00",
    "2007-08-24T00:50:50+02:00",
    "2007-08-27T21:39:32+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.ProjectFacetVersion.compareTo",
          "source": "ProjectFacetVersion.java:485"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.util.VersionExpr$Range.evaluate",
          "source": "VersionExpr.java:577"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.util.VersionExpr.check",
          "source": "VersionExpr.java:390"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.ProjectFacet.getActionDefinitions",
          "source": "ProjectFacet.java:199"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.ProjectFacetVersion.getActionDefinitions",
          "source": "ProjectFacetVersion.java:139"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.ProjectFacetVersion.getActionDefinitions",
          "source": "ProjectFacetVersion.java:146"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.ProjectFacetVersion.getActionDefinitionInternal",
          "source": "ProjectFacetVersion.java:193"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.ProjectFacetVersion.supports",
          "source": "ProjectFacetVersion.java:111"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.ui.internal.FacetsSelectionPanel.createAction",
          "source": "FacetsSelectionPanel.java:688"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.ui.internal.FacetsSelectionPanel.updateValidationDisplay",
          "source": "FacetsSelectionPanel.java:1045"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.ui.internal.FacetsSelectionPanel.\u003cinit\u003e",
          "source": "FacetsSelectionPanel.java:582"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.ui.internal.FacetsSelectionPage.createControl",
          "source": "FacetsSelectionPage.java:152"
        },
        {
          "method": "org.eclipse.jface.wizard.Wizard.createPageControls",
          "source": "Wizard.java:170"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.ui.ModifyFacetedProjectWizard.createPageControls",
          "source": "ModifyFacetedProjectWizard.java:238"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.createPageControls",
          "source": "WizardDialog.java:669"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.createContents",
          "source": "WizardDialog.java:543"
        },
        {
          "method": "org.eclipse.jface.window.Window.create",
          "source": "Window.java:426"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog.create",
          "source": "Dialog.java:1081"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:785"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.ui.internal.FacetsPropertyPage$3.widgetSelected",
          "source": "FacetsPropertyPage.java:150"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:227"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3682"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3293"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:820"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:796"
        },
        {
          "method": "org.eclipse.ui.dialogs.PropertyDialogAction.run",
          "source": "PropertyDialogAction.java:156"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:498"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:545"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:490"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:402"
        }
      ],
      "number": 0,
      "commentIndex": 4,
      "bugId": "187451",
      "date": "2007-06-07T19:50:57+02:00",
      "product": "Web Tools",
      "component": "wst.common",
      "severity": "normal"
    }
  ],
  "groupId": "187451",
  "bugId": "187451",
  "date": "2007-05-17T06:22:42+02:00",
  "product": "Web Tools",
  "component": "wst.common",
  "severity": "normal"
}