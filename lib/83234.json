{
  "comments": [
    "eclipse.buildId\u003dI20050118-1015\n\n1. Import a binary plugin with content like jdt.ui\n2. Open SurroundWithTryCatchAnalyzer\n3. Perform a call hierarchy on getExceptions\n4. Delete the jdt.ui project (although my original scenario did an extract from CVS)\n5. Select a member in the call hierarchy\n\nNotice the .log filling up with:\nJava Model Exception: Java Model Status [org.eclipse.jdt.ui does not exist]\n        at\norg.eclipse.jdt.internal.core.JavaElement.newNotPresentException(JavaElement.java:527)\n        at\norg.eclipse.jdt.internal.core.JavaProject.buildStructure(JavaProject.java:336)\n        at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:203)\n        at org.eclipse.jdt.internal.core.Openable.openParent(Openable.java:420)\n        at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:192)\n        at\norg.eclipse.jdt.internal.core.JarPackageFragment.generateInfos(JarPackageFragment.java:113)\n        at org.eclipse.jdt.internal.core.Openable.openParent(Openable.java:420)\n        at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:192)\n        at\norg.eclipse.jdt.internal.core.BinaryMember.generateInfos(BinaryMember.java:46)\n        at\norg.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:547)\n        at\norg.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:291)\n        at\norg.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:277)\n        at\norg.eclipse.jdt.internal.core.BinaryMethod.getFlags(BinaryMethod.java:146)\n        at org.eclipse.jdt.internal.corext.util.JdtFlags.isEnum(JdtFlags.java:159)\n        at\norg.eclipse.jdt.internal.corext.refactoring.structure.PushDownRefactoring.isPushable(PushDownRefactoring.java:317)\n        at\norg.eclipse.jdt.internal.corext.refactoring.structure.PushDownRefactoring.areAllPushable(PushDownRefactoring.java:226)\n        at\norg.eclipse.jdt.internal.corext.refactoring.structure.PushDownRefactoring.isAvailable(PushDownRefactoring.java:306)\n        at\norg.eclipse.jdt.ui.actions.PushDownAction.canEnable(PushDownAction.java:177)\n        at\norg.eclipse.jdt.ui.actions.PushDownAction.selectionChanged(PushDownAction.java:93)\n        at\norg.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchSelectionChanged(SelectionDispatchAction.java:200)\n        at\norg.eclipse.jdt.ui.actions.SelectionDispatchAction.selectionChanged(SelectionDispatchAction.java:195)\n        at\norg.eclipse.jdt.internal.ui.typehierarchy.SelectionProviderMediator.fireSelectionChanged(SelectionProviderMediator.java:129)\n        at\norg.eclipse.jdt.internal.ui.typehierarchy.SelectionProviderMediator.doSelectionChanged(SelectionProviderMediator.java:110)\n        at\norg.eclipse.jdt.internal.ui.typehierarchy.SelectionProviderMediator$InternalListener.selectionChanged(SelectionProviderMediator.java:39)\n        at org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:163)\n        at\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1061)\n        at org.eclipse.core.runtime.Platform.run(Platform.java:747)\n        at org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:161)\n        at\norg.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:1667)\n        at\norg.eclipse.jface.viewers.StructuredViewer.handleSelect(StructuredViewer.java:935)\n        at\norg.eclipse.jface.viewers.StructuredViewer$4.widgetSelected(StructuredViewer.java:961)\n        at\norg.eclipse.jface.util.OpenStrategy.fireSelectionEvent(OpenStrategy.java:209)\n        at org.eclipse.jface.util.OpenStrategy.access$3(OpenStrategy.java:204)\n        at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:364)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:833)\n        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2810)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2455)\n        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1575)\n        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1541)\n        at\norg.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:287)\n        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)\n        at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102)\n        at\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:220)\n        at\norg.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:274)\n        at\norg.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)\n        at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)\n        at java.lang.reflect.Method.invoke(Method.java:391)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:255)\n        at org.eclipse.core.launcher.Main.run(Main.java:811)\n        at org.eclipse.core.launcher.Main.main(Main.java:795)",
    "Eclipse 3.1 RC2:\nI have the same behavoir during refactoring of method signatures. If \"call \nhierarchy\" was caled for some method, and then the signature of this method was \nchanged, then I have error if I try to click somewhere in the method call \nhierarchy view:\n\nJava Model Exception: Java Model Status [rotateByte(byte, int, int) {key\u003dLde/\nloskutov/ai/impl/delta/DeltaUtils;.rotateByte(BII)B} [in DeltaUtils [in [Working \ncopy] DeltaUtils.java [in de.loskutov.ai.impl.delta [in src [in Optimizer]]]]] \ndoes not exist]\n\tat org.eclipse.jdt.internal.core.JavaElement.\nnewNotPresentException(JavaElement.java:468)\n\tat org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.\njava:499)\n\tat org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.\njava:232)\n\tat org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.\njava:218)\n\tat org.eclipse.jdt.internal.core.Member.getNameRange(Member.java:247)\n\tat org.eclipse.jdt.internal.ui.callhierarchy.CallHierarchyUI.\nopenInEditor(CallHierarchyUI.java:144)\n\tat org.eclipse.jdt.internal.ui.callhierarchy.OpenLocationAction.\nrun(OpenLocationAction.java:71)\n\tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.\ndispatchRun(SelectionDispatchAction.java:222)\n\tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.\nrun(SelectionDispatchAction.java:198)\n\tat org.eclipse.jdt.internal.ui.callhierarchy.CallHierarchyViewer$1.\nopen(CallHierarchyViewer.java:57)\n\tat org.eclipse.jface.viewers.StructuredViewer$2.run(StructuredViewer.java:\n741)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.\nrun(InternalPlatform.java:1038)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:775)\n\tat org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)\n\tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148)\n\tat org.eclipse.jface.viewers.StructuredViewer.fireOpen(StructuredViewer.\njava:739)\n\tat org.eclipse.jface.viewers.StructuredViewer.handleOpen(StructuredViewer.\njava:968)\n\tat org.eclipse.jface.viewers.StructuredViewer$6.\nhandleOpen(StructuredViewer.java:1067)\n\tat org.eclipse.jface.util.OpenStrategy.fireOpenEvent(OpenStrategy.java:\n243)\n\tat org.eclipse.jface.util.OpenStrategy.access$2(OpenStrategy.java:238)\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:\n277)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:844)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3058)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2691)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1716)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1680)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:\n365)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.\nrun(PlatformActivator.java:226)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.\njava:376)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.\njava:163)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\njava:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.\ninvoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n\tat org.eclipse.core.launcher.Main.run(Main.java:973)\n\tat org.eclipse.core.launcher.Main.main(Main.java:948)\n\nOk, I can understand it, that the view does not refresh the content while \nediting method signature in editor. But if I then say \"refresh\" in the hierarchy \nview, I get the next error:\n\njava.lang.NullPointerException\n\tat org.eclipse.jdt.internal.core.search.matching.MatchLocator.\nfindIndexMatches(MatchLocator.java:307)\n\tat org.eclipse.jdt.internal.core.search.PatternSearchJob.\nsearch(PatternSearchJob.java:114)\n\tat org.eclipse.jdt.internal.core.search.PatternSearchJob.\nexecute(PatternSearchJob.java:64)\n\tat org.eclipse.jdt.internal.core.search.processing.JobManager.\nperformConcurrentJob(JobManager.java:261)\n\tat org.eclipse.jdt.internal.core.search.BasicSearchEngine.\nfindMatches(BasicSearchEngine.java:193)\n\tat org.eclipse.jdt.internal.core.search.BasicSearchEngine.\nsearch(BasicSearchEngine.java:421)\n\tat org.eclipse.jdt.core.search.SearchEngine.search(SearchEngine.java:532)\n\tat org.eclipse.jdt.internal.corext.callhierarchy.CallerMethodWrapper.\nfindChildren(CallerMethodWrapper.java:75)\n\tat org.eclipse.jdt.internal.corext.callhierarchy.MethodWrapper.\nperformSearch(MethodWrapper.java:253)\n\tat org.eclipse.jdt.internal.corext.callhierarchy.MethodWrapper.\ndoFindChildren(MethodWrapper.java:194)\n\tat org.eclipse.jdt.internal.corext.callhierarchy.MethodWrapper.\ngetCalls(MethodWrapper.java:76)\n\tat org.eclipse.jdt.internal.ui.callhierarchy.DeferredMethodWrapper.\ngetCalls(DeferredMethodWrapper.java:62)\n\tat org.eclipse.jdt.internal.ui.callhierarchy.DeferredMethodWrapper.\nfetchDeferredChildren(DeferredMethodWrapper.java:80)\n\tat org.eclipse.ui.progress.DeferredTreeContentManager$1.\nrun(DeferredTreeContentManager.java:192)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)\n\nTo reproduce this, simply perform \"call hierarchy\" on method \nstatic int foo(int i, int j){\n}\nand then change the signature to\nstatic int foo(byte i, byte j){\n}\nand double click on the foo(...) method in the  \"call hierarchy\".\nAfter the first error you could then try to refresh view, and you should get \nsecond exception.\n\nP.S.\nI propose to change the summary to:\n[call hierarchy] CallHierarchy fails after change in Java Model",
    "Indeed, the call hierarchy should listen to java model changes and remove\nnon-existing elements. Not critical for 3.1.",
    "*** Bug 102124 has been marked as a duplicate of this bug. ***",
    "*** Bug 66520 has been marked as a duplicate of this bug. ***",
    "Code to remove changed elements is similar to SearchResultUpdater.\nSee also bug 121900 for problems with document changes.",
    "I\u0027ll try to do this together with bug 121900.",
    "Sorry, didn\u0027t make it for 3.2.",
    "*** Bug 162196 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2005-01-19T20:03:05+01:00",
    "2005-06-12T14:51:42+02:00",
    "2005-06-15T10:24:35+02:00",
    "2006-01-03T16:23:25+01:00",
    "2006-01-03T16:23:40+01:00",
    "2006-01-03T16:59:46+01:00",
    "2006-03-27T18:14:47+02:00",
    "2006-05-01T21:58:18+02:00",
    "2006-10-25T15:11:56+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.findIndexMatches",
          "source": "MatchLocator.java:307"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.PatternSearchJob.search",
          "source": "PatternSearchJob.java:114"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.PatternSearchJob.execute",
          "source": "PatternSearchJob.java:64"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.processing.JobManager.performConcurrentJob",
          "source": "JobManager.java:261"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches",
          "source": "BasicSearchEngine.java:193"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.BasicSearchEngine.search",
          "source": "BasicSearchEngine.java:421"
        },
        {
          "method": "org.eclipse.jdt.core.search.SearchEngine.search",
          "source": "SearchEngine.java:532"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.callhierarchy.CallerMethodWrapper.findChildren",
          "source": "CallerMethodWrapper.java:75"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.callhierarchy.MethodWrapper.performSearch",
          "source": "MethodWrapper.java:253"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.callhierarchy.MethodWrapper.doFindChildren",
          "source": "MethodWrapper.java:194"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.callhierarchy.MethodWrapper.getCalls",
          "source": "MethodWrapper.java:76"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.callhierarchy.DeferredMethodWrapper.getCalls",
          "source": "DeferredMethodWrapper.java:62"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.callhierarchy.DeferredMethodWrapper.fetchDeferredChildren",
          "source": "DeferredMethodWrapper.java:80"
        },
        {
          "method": "org.eclipse.ui.progress.DeferredTreeContentManager$1.run",
          "source": "DeferredTreeContentManager.java:192"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:76"
        }
      ],
      "number": 0,
      "commentIndex": 1,
      "bugId": "83234",
      "date": "2005-06-12T14:51:42+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "83234",
  "bugId": "83234",
  "date": "2005-01-19T20:03:05+01:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}