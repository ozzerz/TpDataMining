{
  "comments": [
    "I tested starting the framework with \"BundleContext bctx\u003dEclipseStarter.startup(new String[]{\"-console\",\"-clean\"}, null);\" I get the following stacktrace:\n\njava.lang.IllegalStateException: The System Bundle could not be resolved: \n\tat org.eclipse.osgi.internal.baseadaptor.BaseStorage.checkSystemState(BaseStorage.java:670)\n\tat org.eclipse.osgi.internal.baseadaptor.BaseStorage.getStateManager(BaseStorage.java:643)\n\tat org.eclipse.osgi.baseadaptor.BaseAdaptor.getPlatformAdmin(BaseAdaptor.java:385)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAdaptorHook.frameworkStart(EclipseAdaptorHook.java:78)\n\tat org.eclipse.osgi.baseadaptor.BaseAdaptor.frameworkStart(BaseAdaptor.java:260)\n\tat org.eclipse.osgi.framework.internal.core.SystemBundleActivator.start(SystemBundleActivator.java:55)\n\tat org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run(BundleContextImpl.java:999)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:993)\n\tat org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:974)\n\tat org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:608)\n\tat org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(StartLevelManager.java:494)\n\tat org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:279)\n\tat org.eclipse.osgi.framework.internal.core.StartLevelManager.launch(StartLevelManager.java:247)\n\tat org.eclipse.osgi.framework.internal.core.SystemBundle.resume(SystemBundle.java:155)\n\tat org.eclipse.osgi.framework.internal.core.Framework.launch(Framework.java:588)\n\tat org.eclipse.osgi.framework.internal.core.OSGi.launch(OSGi.java:51)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.startup(EclipseStarter.java:282)\n\nThis seems to be a bug, since when I use the debugger to call the method \"adaptor.getPlatformAdmin()\" at EclipseAdaptorHook.java:78 twice everything works as expected.",
    "How are you placing the org.eclipse.osgi code on you classpath.  If I use the build jar directly this works for me.  I can see how this could happen if you try to place the org.eclipse.osgi project on the classpath of your project.  In this case the hookconfigurators.properties and the *.profiles would not be located in the correct place."
  ],
  "commentCreationDates": [
    "2007-02-20T12:54:03+01:00",
    "2007-03-30T23:26:51+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalStateException",
      "message": "The System Bundle could not be resolved:",
      "elements": [
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.BaseStorage.checkSystemState",
          "source": "BaseStorage.java:670"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.BaseStorage.getStateManager",
          "source": "BaseStorage.java:643"
        },
        {
          "method": "org.eclipse.osgi.baseadaptor.BaseAdaptor.getPlatformAdmin",
          "source": "BaseAdaptor.java:385"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAdaptorHook.frameworkStart",
          "source": "EclipseAdaptorHook.java:78"
        },
        {
          "method": "org.eclipse.osgi.baseadaptor.BaseAdaptor.frameworkStart",
          "source": "BaseAdaptor.java:260"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.SystemBundleActivator.start",
          "source": "SystemBundleActivator.java:55"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run",
          "source": "BundleContextImpl.java:999"
        },
        {
          "method": "java.security.AccessController.doPrivileged",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator",
          "source": "BundleContextImpl.java:993"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.start",
          "source": "BundleContextImpl.java:974"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles",
          "source": "StartLevelManager.java:608"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL",
          "source": "StartLevelManager.java:494"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel",
          "source": "StartLevelManager.java:279"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.StartLevelManager.launch",
          "source": "StartLevelManager.java:247"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.SystemBundle.resume",
          "source": "SystemBundle.java:155"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.Framework.launch",
          "source": "Framework.java:588"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.OSGi.launch",
          "source": "OSGi.java:51"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.startup",
          "source": "EclipseStarter.java:282"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "174760",
      "date": "2007-02-20T12:54:03+01:00",
      "product": "Equinox",
      "component": "Framework",
      "severity": "normal"
    }
  ],
  "groupId": "174760",
  "bugId": "174760",
  "date": "2007-02-20T12:54:03+01:00",
  "product": "Equinox",
  "component": "Framework",
  "severity": "normal"
}