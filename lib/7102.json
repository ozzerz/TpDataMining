{
  "comments": [
    "Build 137 \npossibly the same as bug 7064? \n\nSlightly different circumstance, also crashes both the standalone and the plugin \nin which it would be found.  Now there are two widgets (of any type), and using \nthe \"wrong\" number of columns in the GridData results in a NullPointer.\n\nThe code below demonstrates the effect in a standalone; the stack-trace follows: \n\n\nimport org.eclipse.swt.SWT;\nimport org.eclipse.swt.layout.GridData;\nimport org.eclipse.swt.layout.GridLayout;\nimport org.eclipse.swt.widgets.Button;\nimport org.eclipse.swt.widgets.Composite;\nimport org.eclipse.swt.widgets.Display;\nimport org.eclipse.swt.widgets.List;\nimport org.eclipse.swt.widgets.Shell;\n\n\npublic class DemoNull {\n\n    public static boolean TRY_ANOTHER_LAYER \u003d true; \n\n    public static void main(String[] args) {\n        final Display display \u003d new Display();\n        final Shell shell \u003d new Shell(display);\n        shell.setLayout(new GridLayout());\n\n        // see below: does not evade the crash \n        Composite layer \u003d null; \n        if (TRY_ANOTHER_LAYER) { \n            layer \u003d new Composite(shell, SWT.BORDER);\n            layer.setLayoutData(new GridData(GridData.FILL_BOTH));\n            GridLayout layout \u003d new GridLayout();\n            layout.numColumns \u003d 1;\n            layer.setLayout(layout);\n        } \n\n        final Composite comp \u003d \n           new Composite(TRY_ANOTHER_LAYER ? layer : shell, SWT.BORDER);\n        final GridLayout compLayout \u003d new GridLayout();\n        compLayout.numColumns \u003d 2; \n        compLayout.makeColumnsEqualWidth \u003d true; \n        comp.setLayout(compLayout);\n\n        // List widget1 \u003d new List(comp, SWT.BORDER | SWT.V_SCROLL); \n        // widget1.setItems(DemoNull.dummy); \n        Button widget1 \u003d new Button(comp, SWT.PUSH); \n        // type of widget here doesn\u0027t matter\n\n        GridData widget1GD \u003d new GridData(); \n        widget1GD.horizontalAlignment \u003d GridData.FILL;\n        widget1GD.horizontalSpan \u003d 1; // \u00272\u0027 is ok, so long as widget2 has \u00272\u0027; \n        // making this \u00271\u0027 and that \u00272\u0027 causes NPE, see below \n        widget1.setLayoutData(widget1GD); \n\n        // Text widget2 \u003d new Text(comp, SWT.H_SCROLL | SWT.V_SCROLL); \n        Button widget2 \u003d new Button(comp, SWT.PUSH); \n           // type of widget here doesn\u0027t matter\n        GridData widget2GD \u003d new GridData(); \n        widget2GD.horizontalSpan \u003d 2; // \u00272\u0027 is ok, so long as widget1 has \u00272\u0027 \n        widget2GD.verticalAlignment \u003d GridData.FILL; \n        widget2GD.horizontalAlignment \u003d GridData.FILL;\n        widget2GD.grabExcessVerticalSpace \u003d true; \n        widget2GD.grabExcessHorizontalSpace \u003d true; \n        widget2.setLayoutData(widget2GD); \n\n        shell.open(); // crashes on this line \n        while (!shell.isDisposed()) {\n            if (!display.readAndDispatch())\n                display.sleep();\n        }\n        display.dispose();\n    }\n\n    // private static String[] dummy \u003d {\"foo\", \"bar\", \"biz\", \"bus\"}; \n\n} // end class DemoNull \n\n/* \njava.lang.NullPointerException\n\tat \norg.eclipse.swt.layout.GridLayout.calculateGridDimensions(GridLayout.java:193)\n\tat \norg.eclipse.swt.layout.GridLayout.computeLayoutSize(GridLayout.java:278)\n\tat org.eclipse.swt.layout.GridLayout.computeSize(GridLayout.java:334)\n\tat org.eclipse.swt.widgets.Composite.computeSize(Composite.java:103)\n\tat \norg.eclipse.swt.layout.GridLayout.calculateGridDimensions(GridLayout.java:195)\n\tat \norg.eclipse.swt.layout.GridLayout.computeLayoutSize(GridLayout.java:278)\n\tat org.eclipse.swt.layout.GridLayout.computeSize(GridLayout.java:334)\n\tat org.eclipse.swt.layout.GridLayout.layout(GridLayout.java:452)\n\tat org.eclipse.swt.widgets.Composite.WM_SIZE(Composite.java:511)\n\tat org.eclipse.swt.widgets.Decorations.WM_SIZE(Decorations.java:944)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:2342)\n\tat org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:873)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:1600)\n\tat org.eclipse.swt.internal.win32.OS.ShowWindow(Native Method)\n\tat org.eclipse.swt.widgets.Decorations.setVisible(Decorations.java:794)\n\tat org.eclipse.swt.widgets.Shell.setVisible(Shell.java:761)\n\tat org.eclipse.swt.widgets.Shell.open(Shell.java:496)\n\tat DemoNull.main(DemoNull.java:56)\n*/",
    "Fixed in \u003e 20020103"
  ],
  "commentCreationDates": [
    "2001-12-19T16:40:36+01:00",
    "2002-01-03T15:54:47+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.swt.layout.GridLayout.calculateGridDimensions",
          "source": "GridLayout.java:193"
        },
        {
          "method": "org.eclipse.swt.layout.GridLayout.computeLayoutSize",
          "source": "GridLayout.java:278"
        },
        {
          "method": "org.eclipse.swt.layout.GridLayout.computeSize",
          "source": "GridLayout.java:334"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.computeSize",
          "source": "Composite.java:103"
        },
        {
          "method": "org.eclipse.swt.layout.GridLayout.calculateGridDimensions",
          "source": "GridLayout.java:195"
        },
        {
          "method": "org.eclipse.swt.layout.GridLayout.computeLayoutSize",
          "source": "GridLayout.java:278"
        },
        {
          "method": "org.eclipse.swt.layout.GridLayout.computeSize",
          "source": "GridLayout.java:334"
        },
        {
          "method": "org.eclipse.swt.layout.GridLayout.layout",
          "source": "GridLayout.java:452"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.WM_SIZE",
          "source": "Composite.java:511"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.WM_SIZE",
          "source": "Decorations.java:944"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:2342"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.windowProc",
          "source": "Decorations.java:873"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:1600"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.ShowWindow",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.setVisible",
          "source": "Decorations.java:794"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.setVisible",
          "source": "Shell.java:761"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.open",
          "source": "Shell.java:496"
        },
        {
          "method": "DemoNull.main",
          "source": "DemoNull.java:56"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "7102",
      "date": "2001-12-19T16:40:36+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    }
  ],
  "groupId": "7102",
  "bugId": "7102",
  "date": "2001-12-19T16:40:36+01:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "normal"
}