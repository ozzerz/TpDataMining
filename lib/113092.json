{
  "comments": [
    "The org.eclipse.gmf.tests.runtime.emf.core JUnit test suite doesn\u0027t run on\nLinux, but fails with a NoClassDefFoundError on the MListener class.  This is\nnot reproducible on Windows.\n\nStack tracke:\n\nFailed to invoke suite():java.lang.NoClassDefFoundError:\norg/eclipse/gmf/runtime/emf/core/edit/MListener\n\norg.eclipse.test.EclipseTestRunner$TestFailedException: Failed to invoke\nsuite():java.lang.NoClassDefFoundError:\norg/eclipse/gmf/runtime/emf/core/edit/MListener\nat org.eclipse.test.EclipseTestRunner.runFailed(EclipseTestRunner.java:269)\nat org.eclipse.test.EclipseTestRunner.getTest(EclipseTestRunner.java:256)\nat org.eclipse.test.EclipseTestRunner.\u003cinit\u003e(EclipseTestRunner.java:213)\nat org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:197)\nat org.eclipse.test.CoreTestApplication.runTests(CoreTestApplication.java:35)\nat org.eclipse.test.CoreTestApplication.run(CoreTestApplication.java:31)\nat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)\nat org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\nat org.eclipse.core.launcher.Main.run(Main.java:973)\nat org.eclipse.core.launcher.Main.main(Main.java:948)",
    "Created an attachment (id\u003d28456)\nPatch to fix test plug-in\n\nThe problem in running the tests traces to a ClassCircularityError in\ninitializing the MListener class.  This error is thrown\n  - when the MetamodelProviderTestCase\u0027s inner-class provider is being asked\n    whether it provides for the Ecore package\n  - when the MSLAdapterFactoryManager forces initialization of all providers\n    by asking for the provider for the Ecore package\n  - when the MSLPlugin (o.e.g.runtime.emf.core) is initializing\n  - when the o.e.g.tests.runtime.emf.core.AllTests class is initializing\n    one of its test cases which depends on MListener and is, therefore,\n    already trying to initialize MListener\n\nThe re-entrance into the initialization of the MListener class is the\ncircularity in question.  The simplest fix is just to force the initialization\nof the o.e.g.runtime.emf.core plug-in before initializing any of the test\nclasses.",
    "Just to clarify the remark about \"this is not reproducible on Windows\":  the\nproblem is not actually a platform issue, but a VM-dependent issue.  The Sun VM\nmanifests the problem because of an apparently more aggressive class\nverification strategy, which causes classes to be loaded sooner than in some\nother VMs such as the IBM runtime.",
    "Committed the patch to CVS"
  ],
  "commentCreationDates": [
    "2005-10-19T16:50:15+02:00",
    "2005-10-19T18:31:28+02:00",
    "2005-10-19T18:46:07+02:00",
    "2005-10-19T19:53:51+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoClassDefFoundError",
      "message": "org/eclipse/gmf/runtime/emf/core/edit/MListener",
      "elements": [
        {
          "method": "org.eclipse.test.EclipseTestRunner.runFailed",
          "source": "EclipseTestRunner.java:269"
        },
        {
          "method": "org.eclipse.test.EclipseTestRunner.getTest",
          "source": "EclipseTestRunner.java:256"
        },
        {
          "method": "org.eclipse.test.EclipseTestRunner.\u003cinit\u003e",
          "source": "EclipseTestRunner.java:213"
        },
        {
          "method": "org.eclipse.test.EclipseTestRunner.run",
          "source": "EclipseTestRunner.java:197"
        },
        {
          "method": "org.eclipse.test.CoreTestApplication.runTests",
          "source": "CoreTestApplication.java:35"
        },
        {
          "method": "org.eclipse.test.CoreTestApplication.run",
          "source": "CoreTestApplication.java:31"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "113092",
      "date": "2005-10-19T16:50:15+02:00",
      "product": "GMF",
      "component": "Runtime EMF",
      "severity": "critical"
    }
  ],
  "groupId": "113092",
  "bugId": "113092",
  "date": "2005-10-19T16:50:15+02:00",
  "product": "GMF",
  "component": "Runtime EMF",
  "severity": "critical"
}