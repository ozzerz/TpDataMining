{
  "comments": [
    "I got the latest integration biuld (i0118) and opened a workspace formerly used \nvia M4.  I got an error restoring workbench state and several of the following \nexeceptions in my log.  I had several open editors in the workspace.  It is \nhard to tell if there are any missing.  Note much more information available.\n\n!ENTRY org.eclipse.ui 4 4 2005-01-19 13:35:03.264\n!MESSAGE Exception creating editor: The classfile is not on the classpath\n!STACK 1\norg.eclipse.ui.PartInitException[995]: org.eclipse.core.runtime.CoreException: \nThe classfile is not on the classpath\n        at org.eclipse.jdt.internal.ui.javaeditor.ClassFileEditor.doSetInput\n(ClassFileEditor.java:623)\n        at org.eclipse.ui.texteditor.AbstractTextEditor$16.run\n(AbstractTextEditor.java:2284)\n        at org.eclipse.jface.operation.ModalContext.runInCurrentThread\n(ModalContext.java:344)\n        at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:289)\n        at org.eclipse.jface.window.ApplicationWindow$1.run\n(ApplicationWindow.java:624)\n        at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n        at org.eclipse.jface.window.ApplicationWindow.run\n(ApplicationWindow.java:621)\n        at org.eclipse.ui.internal.WorkbenchWindow.run\n(WorkbenchWindow.java:1949)\n        at org.eclipse.ui.texteditor.AbstractTextEditor.internalInit\n(AbstractTextEditor.java:2302)\n        at org.eclipse.ui.texteditor.AbstractTextEditor.init\n(AbstractTextEditor.java:2329)\n        at org.eclipse.ui.internal.EditorManager.createSite\n(EditorManager.java:820)\n        at org.eclipse.ui.internal.EditorManager.openInternalEditor\n(EditorManager.java:899)\n        at org.eclipse.ui.internal.EditorManager.access$12\n(EditorManager.java:883)\n        at org.eclipse.ui.internal.EditorManager$9.run(EditorManager.java:1106)\n        at org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:1061)\n        at org.eclipse.core.runtime.Platform.run(Platform.java:747)\n        at org.eclipse.ui.internal.EditorManager.busyRestoreEditor\n(EditorManager.java:1076)\n        at org.eclipse.ui.internal.EditorManager$8.run(EditorManager.java:1068)\n        at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n        at org.eclipse.ui.internal.EditorManager.restoreEditor\n(EditorManager.java:1066)\n        at org.eclipse.ui.internal.EditorManager.restoreEditorState\n(EditorManager.java:1708)\n        at org.eclipse.ui.internal.EditorManager.restoreState\n(EditorManager.java:1020)\n        at org.eclipse.ui.internal.WorkbenchPage.restoreState\n(WorkbenchPage.java:2443)\n        at org.eclipse.ui.internal.WorkbenchWindow.restoreState\n(WorkbenchWindow.java:1634)\n        at org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1415)\n        at org.eclipse.ui.internal.Workbench.access$10(Workbench.java:1371)\n        at org.eclipse.ui.internal.Workbench$15.run(Workbench.java:1274)\n        at org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:1061)\n        at org.eclipse.core.runtime.Platform.run(Platform.java:747)\n        at org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1208)\n        at org.eclipse.ui.internal.WorkbenchConfigurer.restoreState\n(WorkbenchConfigurer.java:171)\n        at org.eclipse.ui.application.WorkbenchAdvisor.openWindows\n(WorkbenchAdvisor.java:638)\n        at org.eclipse.ui.internal.Workbench.init(Workbench.java:888)\n        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1517)\n        at org.eclipse.ui.internal.Workbench.createAndRunWorkbench\n(Workbench.java:287)\n        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)\n        at org.eclipse.ui.internal.ide.IDEApplication.run\n(IDEApplication.java:102)\n        at org.eclipse.core.internal.runtime.PlatformActivator$1.run\n(PlatformActivator.java:220)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:274)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:129)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:85)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:58)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:60)\n        at java.lang.reflect.Method.invoke(Method.java:391)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:255)\n        at org.eclipse.core.launcher.Main.run(Main.java:811)\n        at org.eclipse.core.launcher.Main.main(Main.java:795)",
    "Jeff, looks like you used PDE\u0027s linking feature and deleted (or moved) the\nprevious  build. Is that possible?",
    "Not sure about the linking feature.  I doubt that I would have imported a \npluign with linked content (if that is what you mean).  Not sure where to go \nfrom here.  ",
    "You can setup your workspace so that it uses the plug-ins from the runtime i.e.\nnothing is imported at all, you just have a PDE container in the project(s) you\nwork on. Can you describe how your setup looks like?",
    "Yes, my workspace contains only what I am working on.  Everything else is in \nthe target platform.  (doesn\u0027t everyone work this way ;-)\n\nI can imagine that there were editors open on files that no longer exist but it \nseems strange that an exception would be logged.  Perhaps a warning but even \nthen, just close the editor (no failures) and carry on.",
    "\u003eYes, my workspace contains only what I am working on.  Everything else is in \n\u003ethe target platform.  (doesn\u0027t everyone work this way ;-)\nNo, we here in ZRH prefer to work in a sandbox :-)\n\nIn your scenario it should report this inside the editor and not log any\nexception as it does with \"normal\" missing files (see attached picture).\n",
    "Created an attachment (id\u003d17339)\nEditor reportring non-existen resource\n",
    "The patch for bug 87468 has drastically improved this case.\n\n1. The exception will no longer cause the workbench layout to be reset.\n2. The user will see an error part (similar to comment 5) instead of a modal\nerror dialog.\n\nHowever, the exception will still be logged.\n",
    "I saw this problem by opening a class, shutting down Eclipse and restarting. \nLinux GTK+",
    "I see this basically every time I move from one build to the next and had left\nsome editors opened with classes from plug-ins I have added to the Java search\n(coming from the special External Plug-in Libraries project).\n\nSince it was not clear a test case existed, here is mine.\n\nTest case:\n1. have two installs (A and B) of 3.1 RC3\n2. open a new workspace with install A\n3. using the Plugins view, add all plug-ins to the Java search (select all, open\ncontext menu, Add to Java Search)\n4. open a type coming from any of those plug-ins (for instance, IPDEElement)\n5. close Eclipse\n6. open the same workspace using install B\n\n",
    "I think this is because the classpath gets recomputed/cleared upon startup but the editor is opened before/inbetween. Not sure what we can do here: the file was on the build path when shutting down and it is after startup has stabilized.\n\nWaiting for this to cool down and blocking the UI isn\u0027t a good idea either.\n\nMoving to JDT Core for comments.",
    "*** Bug 119428 has been marked as a duplicate of this bug. ***",
    "Is this a timing issue ? Normally, there shouldn\u0027t be any unhandled call.",
    "FYI: this problem still exists on 3.2M6\nIt happens when I try to open a classfile that is not in the output folder",
    "I still cannot reproduce following steps from comment 9.\n\nAdam, do you have steps that I can follow ?",
    "Anyone having steps to reproduce, please reopen.",
    "*** Bug 95081 has been marked as a duplicate of this bug. ***",
    "Erich had the same problem when moving to 3.2 RC7 and there all open class file editors could not be restored.\n\nWe need to look into this again and try find reproducible steps.",
    "I just reproduced this with the steps from comment 9 with the sole difference that my A was M20060629-1905 (3.2) and my B was M20060802-0800.\n\nThe getHandleIdentifier() of the IClassFile causing problems was:\n\u003dExternal Plug-in Libraries/C:\\/e\\/i\\/3.2-M20060629-1905-clean\\/plugins\\/org.eclipse.pde.ui_3.2.0.v20060605.jar\u003corg.eclipse.pde.internal.ui.elements(IPDEElement.class\n\nWhen I open IPDEElement again (running on M20060802-0800), the class file editor shows an IClassFile with this getHandleIdentifier():\n\u003dExternal Plug-in Libraries/C:\\/e\\/i\\/M20060802-0800\\/plugins\\/org.eclipse.pde.ui_3.2.1.v20060802-0800.jar\u003corg.eclipse.pde.internal.ui.elements(IPDEElement.class\n\nI think the handle should not contain the absolute file-system path to the jar.",
    "Fixed in HEAD.\nAvailable in builds \u003e N20060906-0010.",
    "*** Bug 73617 has been marked as a duplicate of this bug. ***",
    "Verified in I20060920-0010."
  ],
  "commentCreationDates": [
    "2005-01-19T18:40:06+01:00",
    "2005-01-19T20:16:41+01:00",
    "2005-01-20T04:32:10+01:00",
    "2005-01-20T08:35:35+01:00",
    "2005-01-20T15:10:36+01:00",
    "2005-01-20T16:06:00+01:00",
    "2005-01-20T16:07:12+01:00",
    "2005-03-11T01:23:25+01:00",
    "2005-04-20T16:57:16+02:00",
    "2005-06-20T22:08:00+02:00",
    "2005-12-07T10:36:59+01:00",
    "2005-12-07T10:37:44+01:00",
    "2005-12-12T10:34:31+01:00",
    "2006-04-04T01:40:41+02:00",
    "2006-04-04T18:24:58+02:00",
    "2006-04-18T13:39:40+02:00",
    "2006-06-16T09:49:07+02:00",
    "2006-06-16T09:51:23+02:00",
    "2006-08-07T17:58:15+02:00",
    "2006-09-06T10:53:20+02:00",
    "2006-09-07T10:18:47+02:00",
    "2006-09-20T12:49:04+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.runtime.CoreException",
      "message": "The classfile is not on the classpath",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.ClassFileEditor.doSetInput",
          "source": "ClassFileEditor.java:623"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor$16.run",
          "source": "AbstractTextEditor.java:2284"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:344"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:289"
        },
        {
          "method": "org.eclipse.jface.window.ApplicationWindow$1.run",
          "source": "ApplicationWindow.java:624"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.jface.window.ApplicationWindow.run",
          "source": "ApplicationWindow.java:621"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.run",
          "source": "WorkbenchWindow.java:1949"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor.internalInit",
          "source": "AbstractTextEditor.java:2302"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor.init",
          "source": "AbstractTextEditor.java:2329"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.createSite",
          "source": "EditorManager.java:820"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.openInternalEditor",
          "source": "EditorManager.java:899"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.access$12",
          "source": "EditorManager.java:883"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager$9.run",
          "source": "EditorManager.java:1106"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1061"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:747"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.busyRestoreEditor",
          "source": "EditorManager.java:1076"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager$8.run",
          "source": "EditorManager.java:1068"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.restoreEditor",
          "source": "EditorManager.java:1066"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.restoreEditorState",
          "source": "EditorManager.java:1708"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.restoreState",
          "source": "EditorManager.java:1020"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.restoreState",
          "source": "WorkbenchPage.java:2443"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.restoreState",
          "source": "WorkbenchWindow.java:1634"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.restoreState",
          "source": "Workbench.java:1415"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$10",
          "source": "Workbench.java:1371"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$15.run",
          "source": "Workbench.java:1274"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1061"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:747"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.restoreState",
          "source": "Workbench.java:1208"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchConfigurer.restoreState",
          "source": "WorkbenchConfigurer.java:171"
        },
        {
          "method": "org.eclipse.ui.application.WorkbenchAdvisor.openWindows",
          "source": "WorkbenchAdvisor.java:638"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.init",
          "source": "Workbench.java:888"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1517"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:287"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:144"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:102"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:220"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:274"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:58"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:60"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:391"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:255"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:811"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:795"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "83221",
      "date": "2005-01-19T18:40:06+01:00",
      "product": "JDT",
      "component": "Text",
      "severity": "normal"
    }
  ],
  "groupId": "83221",
  "bugId": "83221",
  "date": "2005-01-19T18:40:06+01:00",
  "product": "JDT",
  "component": "Text",
  "severity": "normal"
}