{
  "comments": [
    "I haven\u0027t been able to track down the cause of this problem, but I have included\nthe stack trace below. Interestly, there doesn\u0027t seem to be a pattern to this\nproblem since various machines with various operating systems are able to update\neverytime. Further, some machines can update some of the time and not others.\n\nAn internal error occurred during: \"Automatic Update Search\".\njava.lang.NullPointerException\norg.eclipse.update.internal.search.UpdatesSearchCategory$UpdateQuery.run(UpdatesSearchCategory.java:261)\norg.eclipse.update.search.UpdateSearchRequest.searchOneSite(UpdateSearchRequest.java:338)\norg.eclipse.update.search.UpdateSearchRequest.performSearch(UpdateSearchRequest.java:207)\norg.eclipse.update.internal.scheduler.AutomaticUpdatesJob.run(AutomaticUpdatesJob.java:86)\norg.eclipse.core.internal.jobs.Worker.run(Worker.java:66)",
    "As the stack trace indicates, line 261 throws a NullPointerException. Line 261 is as follows.\n\nIFeature newCandidate \u003d job.getFeature();\n\nIn this case, job is simply an entry in an ArrayList that was created at line 231, which is as follows.\n\nupdateJobs.add(h.getJob());\n\nHere, h is a private static inner class named Hit. The getJob() method of Hit can return a null if a \nCoreException is thrown. It catches that exception and just returns a null. There are two problems with \nthis. First, the exception information is lost. Second, the rest of the code assumes that the value \nreturned from getJob() is not null.\n\nRight now I can\u0027t reproduce this as a test case, so I can\u0027t submit a patch. However, reading the code it is \nclear that better exception handling is needed.",
    "Thanks Matt.\nAt a minimum, the exception must be logged and handled properly.\n\nIf you ever come across a reproduceable test case, please attach or describe \nit here. Thanks!",
    "I am using version 3.1 M1 and just had this error occur while manually updating.\n There were no errors in the logs other than the NullPointerException.  As with\nMatt, the problem went away when i tried to reproduce the error.",
    "I released a fix for:\n- logging the error in  Hit.getJob() if there is error\n- cache the job instance, so not to create another one when calling hit.getJob\n()\n- not add the null job (as suggested).",
    "*** Bug 77394 has been marked as a duplicate of this bug. ***",
    "I haven\u0027t been able to track down the cause of this problem, but I have included\nthe stack trace below.\n!ENTRY org.eclipse.update.ui 4 0 feb 22, 2005 08:23:26.531\n!MESSAGE java.lang.NullPointerException\n!STACK 0\njava.lang.NullPointerException\n\tat \norg.eclipse.update.internal.search.UpdatesSearchCategory$UpdateQuery.run\n(UpdatesSearchCategory.java:261)\n\tat org.eclipse.update.search.UpdateSearchRequest.searchOneSite\n(UpdateSearchRequest.java:338)\n\tat org.eclipse.update.search.UpdateSearchRequest.performSearch\n(UpdateSearchRequest.java:207)\n\tat org.eclipse.update.internal.ui.wizards.SearchRunner$1.run\n(SearchRunner.java:96)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run\n(ModalContext.java:101)\n\nI use eclipse \nVersion: 3.0.1\nBuild id: 200409161125\n"
  ],
  "commentCreationDates": [
    "2004-07-12T05:36:14+02:00",
    "2004-07-13T05:06:11+02:00",
    "2004-07-13T05:14:41+02:00",
    "2004-08-14T06:27:12+02:00",
    "2004-08-26T21:08:46+02:00",
    "2004-11-01T18:43:31+01:00",
    "2005-02-22T08:01:08+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.update.internal.search.UpdatesSearchCategory$UpdateQuery.run",
          "source": "UpdatesSearchCategory.java:261"
        },
        {
          "method": "org.eclipse.update.search.UpdateSearchRequest.searchOneSite",
          "source": "UpdateSearchRequest.java:338"
        },
        {
          "method": "org.eclipse.update.search.UpdateSearchRequest.performSearch",
          "source": "UpdateSearchRequest.java:207"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.SearchRunner$1.run",
          "source": "SearchRunner.java:96"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:101"
        }
      ],
      "number": 0,
      "commentIndex": 6,
      "bugId": "69811",
      "date": "2005-02-22T08:01:08+01:00",
      "product": "Platform",
      "component": "Update",
      "severity": "normal"
    }
  ],
  "groupId": "69811",
  "bugId": "69811",
  "date": "2004-07-12T05:36:14+02:00",
  "product": "Platform",
  "component": "Update",
  "severity": "normal"
}