{
  "comments": [
    "The exception below prevented Eclipse from shutting down.\n\nIn this scenario, it seems that during shutdown, PDE core tries to create an\nexecutable extension that itself provides, what would cause the bundle to be\nrestarted. \n\nThat is not a good idea (to create executable extensions during shutdown), but\nwe should handle it better (e.g.: throwing an exception to the caller of\ncreateExecutableExtension, not allowing exceptions arising from bundle\nactivators to interrupt the shutdown flow).\n\n!ENTRY org.eclipse.core.runtime 4 1 Dec 01, 2003 11:56:12.125\n!MESSAGE Plug-in org.eclipse.pde.core was unable to load class\norg.eclipse.pde.internal.core.DefaultRuntimeSupport.\n!STACK 0\norg.osgi.framework.BundleException: Bundle state change in progress\n\tat\norg.eclipse.osgi.framework.internal.core.Bundle.beginStateChange(Bundle.java:1301)\n\tat org.eclipse.osgi.framework.internal.core.Bundle.start(Bundle.java:327)\n\tat\norg.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:137)\n\tat\norg.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:129)\n\tat\norg.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:118)\n\tat\norg.eclipse.core.internal.plugins.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:25)\n\tat org.eclipse.pde.internal.core.PDECore.loadRuntimeSupport(PDECore.java:485)\n\tat org.eclipse.pde.internal.core.PDECore.initializeModels(PDECore.java:421)\n\tat org.eclipse.pde.internal.core.PDECore.getWorkspaceModelManager(PDECore.java:356)\n\tat\norg.eclipse.pde.internal.core.schema.SchemaRegistry.shutdown(SchemaRegistry.java:352)\n\tat org.eclipse.pde.internal.core.PDECore.shutdown(PDECore.java:441)\n\tat\norg.eclipse.core.runtime.compatibility.PluginActivator.stop(PluginActivator.java:53)\n\tat\norg.eclipse.osgi.framework.internal.core.BundleContext$2.run(BundleContext.java:1302)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat\norg.eclipse.osgi.framework.internal.core.BundleContext.stop(BundleContext.java:1273)\n\tat\norg.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:537)\n\tat org.eclipse.osgi.framework.internal.core.Bundle.suspend(Bundle.java:595)\n\tat\norg.eclipse.osgi.framework.internal.core.Framework.suspendBundle(Framework.java:1317)\n\tat\norg.eclipse.osgi.framework.internal.core.StartLevelListener.decFWSL(StartLevelListener.java:266)\n\tat\norg.eclipse.osgi.framework.internal.core.StartLevelImpl.doSetStartLevel(StartLevelImpl.java:290)\n\tat\norg.eclipse.osgi.framework.internal.core.StartLevelImpl.shutdown(StartLevelImpl.java:259)\n\tat\norg.eclipse.osgi.framework.internal.core.SystemBundle.suspend(SystemBundle.java:227)\n\tat org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:637)\n\tat\norg.eclipse.osgi.framework.internal.core.SystemBundle$1.run(SystemBundle.java:211)\n\tat java.lang.Thread.run(Thread.java:534)",
    "I checked the PluginStopper code and the call to stop is protected by catch \nblock catching Exception which will avoid problems as described here.\n"
  ],
  "commentCreationDates": [
    "2003-12-01T17:11:37+01:00",
    "2003-12-09T20:10:30+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.osgi.framework.BundleException",
      "message": "Bundle state change in progress",
      "elements": [
        {
          "method": "org.eclipse.osgi.framework.internal.core.Bundle.beginStateChange",
          "source": "Bundle.java:1301"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.Bundle.start",
          "source": "Bundle.java:327"
        },
        {
          "method": "org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension",
          "source": "ConfigurationElement.java:137"
        },
        {
          "method": "org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension",
          "source": "ConfigurationElement.java:129"
        },
        {
          "method": "org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension",
          "source": "ConfigurationElement.java:118"
        },
        {
          "method": "org.eclipse.core.internal.plugins.ConfigurationElement.createExecutableExtension",
          "source": "ConfigurationElement.java:25"
        },
        {
          "method": "org.eclipse.pde.internal.core.PDECore.loadRuntimeSupport",
          "source": "PDECore.java:485"
        },
        {
          "method": "org.eclipse.pde.internal.core.PDECore.initializeModels",
          "source": "PDECore.java:421"
        },
        {
          "method": "org.eclipse.pde.internal.core.PDECore.getWorkspaceModelManager",
          "source": "PDECore.java:356"
        },
        {
          "method": "org.eclipse.pde.internal.core.schema.SchemaRegistry.shutdown",
          "source": "SchemaRegistry.java:352"
        },
        {
          "method": "org.eclipse.pde.internal.core.PDECore.shutdown",
          "source": "PDECore.java:441"
        },
        {
          "method": "org.eclipse.core.runtime.compatibility.PluginActivator.stop",
          "source": "PluginActivator.java:53"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContext$2.run",
          "source": "BundleContext.java:1302"
        },
        {
          "method": "java.security.AccessController.doPrivileged",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContext.stop",
          "source": "BundleContext.java:1273"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker",
          "source": "BundleHost.java:537"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.Bundle.suspend",
          "source": "Bundle.java:595"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.Framework.suspendBundle",
          "source": "Framework.java:1317"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.StartLevelListener.decFWSL",
          "source": "StartLevelListener.java:266"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.StartLevelImpl.doSetStartLevel",
          "source": "StartLevelImpl.java:290"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.StartLevelImpl.shutdown",
          "source": "StartLevelImpl.java:259"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.SystemBundle.suspend",
          "source": "SystemBundle.java:227"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.Framework.shutdown",
          "source": "Framework.java:637"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.SystemBundle$1.run",
          "source": "SystemBundle.java:211"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:534"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "47823",
      "date": "2003-12-01T17:11:37+01:00",
      "product": "Equinox",
      "component": "Incubator",
      "severity": "normal"
    }
  ],
  "groupId": "47823",
  "bugId": "47823",
  "date": "2003-12-01T17:11:37+01:00",
  "product": "Equinox",
  "component": "Incubator",
  "severity": "normal"
}