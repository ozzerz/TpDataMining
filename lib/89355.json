{
  "comments": [
    "Hi!\n\n Since Eclipse 3.1M5 I am getting a NullPointerException whenever there\u0027s an\nException in a StructuredViewer. Instead of the expected alert box and the\nstacktrace (btw: is there a way to catch these Exceptions with the Windows\nExceptionHandler ?) I get following Exception:\n\njava.lang.NullPointerException\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.getBundleId(InternalPlatform.java:307)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.handleException(InternalPlatform.java:679)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1017)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:757)\n\tat\norg.eclipse.jface.viewers.StructuredViewer.updateItem(StructuredViewer.java:1655)\n\tat org.eclipse.jface.viewers.TableViewer.createItem(TableViewer.java:320)\n\tat org.eclipse.jface.viewers.TableViewer.internalRefreshAll(TableViewer.java:808)\n\tat org.eclipse.jface.viewers.TableViewer.internalRefresh(TableViewer.java:710)\n\tat org.eclipse.jface.viewers.TableViewer.internalRefresh(TableViewer.java:699)\n\tat org.eclipse.jface.viewers.StructuredViewer$7.run(StructuredViewer.java:1172)\n\tat\norg.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1109)\n\tat org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1170)\n\tat org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1129)\n\tat org.eclipse.jface.viewers.TableViewer.inputChanged(TableViewer.java:660)\n\tat org.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:248)\n\tat org.eclipse.jface.viewers.StructuredViewer.setInput(StructuredViewer.java:1323)\n\n\n Replacing the core-runtime.jar with the one from Eclipse3.1M4 resolves the problem.\n\n I am not the only one having this problem, apparently:\nhttp://dev.eclipse.org/newslists/news.eclipse.platform.swt/msg18379.html\n\n Bye,\n    Michael",
    "The problem described in the newsgroup is not the same as in here.\n\nThe only way this NPE could possibly occur would be that the Eclipse runtime\nstate is not valid (packageManager reference in runtime is null). How did you\ninstall M5? On top of an existing install, or extracted it to an empty location?\nCan you reproduce it with a fresh M5 install?",
    "(In reply to comment #1)\n\nSorry, I forgot to point out explicitly that my problem occurs in a standalone\njFace application (Damn, I intended to!).\n\nSo yes: the packageManager reference in runtime IS null.\n\nAs mentioned I did not get the error with the same setup with the jars from\nEclipse 3.1M4.",
    "The fact that JFace is relying on Platform surprises me. I guess Platform.run\nused to work (before M5) even when running in a regular Java application, but I\nbelieve you were just lucky then.\n\nMoving to Platform/UI for comments.",
    "Looking at recent builds, it seems this is fixed. JFace will *not* be calling\nPlatform if not running in Eclipse. Leaving to Tod to decide resolution.",
    "This was part of our general fixes for M6. Marking fixed in M6 for verification.",
    "Verified in 20050330 "
  ],
  "commentCreationDates": [
    "2005-03-29T16:11:55+02:00",
    "2005-03-29T17:03:34+02:00",
    "2005-03-29T17:14:47+02:00",
    "2005-03-29T17:24:09+02:00",
    "2005-03-29T17:36:31+02:00",
    "2005-03-29T17:50:31+02:00",
    "2005-03-30T18:07:26+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.getBundleId",
          "source": "InternalPlatform.java:307"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.handleException",
          "source": "InternalPlatform.java:679"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1017"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:757"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateItem",
          "source": "StructuredViewer.java:1655"
        },
        {
          "method": "org.eclipse.jface.viewers.TableViewer.createItem",
          "source": "TableViewer.java:320"
        },
        {
          "method": "org.eclipse.jface.viewers.TableViewer.internalRefreshAll",
          "source": "TableViewer.java:808"
        },
        {
          "method": "org.eclipse.jface.viewers.TableViewer.internalRefresh",
          "source": "TableViewer.java:710"
        },
        {
          "method": "org.eclipse.jface.viewers.TableViewer.internalRefresh",
          "source": "TableViewer.java:699"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$7.run",
          "source": "StructuredViewer.java:1172"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.preservingSelection",
          "source": "StructuredViewer.java:1109"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.refresh",
          "source": "StructuredViewer.java:1170"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.refresh",
          "source": "StructuredViewer.java:1129"
        },
        {
          "method": "org.eclipse.jface.viewers.TableViewer.inputChanged",
          "source": "TableViewer.java:660"
        },
        {
          "method": "org.eclipse.jface.viewers.ContentViewer.setInput",
          "source": "ContentViewer.java:248"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.setInput",
          "source": "StructuredViewer.java:1323"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "89355",
      "date": "2005-03-29T16:11:55+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "89355",
  "bugId": "89355",
  "date": "2005-03-29T16:11:55+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}