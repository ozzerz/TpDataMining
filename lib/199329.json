{
  "comments": [
    "We need more than one single foreground color so different labels automatically show up in different colors. Right now the single default foreground color (red) would be the color representing any value shown in the selected map view property. So if we switch from Infectious to Susceptible (for example) the color is always red. To change the color would then be a two step process requiring the user to change the STEM preferences. I propose we create several (perhaps 4) default foreground colors and map these to the labels in the property selector so displaying a different property would automatically show up in a different color. \n\nThis will eventually allow us to create a multicolor blended display of multiple properties simultaneously.\n\nHow we do the blending will be a question since there are three primary colors we will need to blend nonlinearly but that will be a follow on step.",
    "Created an attachment (id\u003d75787)\nMultiColor Preference Patch\n\nThis defines several system FOREGROUND COLORS based on configurable labels and also one Default foreground color (in case a label string is not recognized or predefined but must be displayed)",
    "Created an attachment (id\u003d75876)\nThis patch #2 resolvest this bug\n\nContains preferences changes\nUpdate to map graphics\nAny graphics class can now get a color mapping for attributes from \norg.exlipse.ohg.stem.ui.preferences.VisualizationPreferencePage\n",
    "Patch #2 resolves this bug",
    "Running the Japan Scenarion with Patch #2 applied causes this exception to be thrown.\n\norg.eclipse.swt.SWTException: Widget is disposed\n\tat org.eclipse.swt.SWT.error(SWT.java:3563)\n\tat org.eclipse.swt.SWT.error(SWT.java:3481)\n\tat org.eclipse.swt.SWT.error(SWT.java:3452)\n\tat org.eclipse.swt.widgets.Widget.error(Widget.java:432)\n\tat org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:325)\n\tat org.eclipse.swt.widgets.Control.redraw(Control.java:1911)\n\tat org.eclipse.ohf.stem.ui.views.map.MapCanvas.setBackgroundColorRGB(MapCanvas.java:360)\n\tat org.eclipse.ohf.stem.ui.views.map.MapCanvas.setPreferences(MapCanvas.java:291)\n\tat org.eclipse.ohf.stem.ui.views.map.MapCanvas$1.propertyChange(MapCanvas.java:257)\n\tat org.eclipse.core.runtime.Preferences$1.run(Preferences.java:505)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.runtime.Preferences.firePropertyChangeEvent(Preferences.java:508)\n\tat org.eclipse.core.internal.preferences.legacy.PreferenceForwarder.preferenceChange(PreferenceForwarder.java:112)\n\tat org.eclipse.core.internal.preferences.EclipsePreferences$2.run(EclipsePreferences.java:746)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.internal.preferences.EclipsePreferences.firePreferenceEvent(EclipsePreferences.java:749)\n\tat org.eclipse.core.internal.preferences.EclipsePreferences.put(EclipsePreferences.java:762)\n\tat org.eclipse.ui.preferences.ScopedPreferenceStore.putValue(ScopedPreferenceStore.java:567)\n\tat org.eclipse.jface.preference.PreferenceConverter.setValue(PreferenceConverter.java:550)\n\tat org.eclipse.jface.preference.ColorFieldEditor.doStore(ColorFieldEditor.java:129)\n\tat org.eclipse.jface.preference.FieldEditor.store(FieldEditor.java:676)\n\tat org.eclipse.jface.preference.FieldEditorPreferencePage.performOk(FieldEditorPreferencePage.java:343)\n\tat org.eclipse.jface.preference.PreferenceDialog$12.run(PreferenceDialog.java:926)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:857)\n\tat org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:46)\n\tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:193)\n\tat org.eclipse.jface.preference.PreferenceDialog.okPressed(PreferenceDialog.java:906)\n\tat org.eclipse.ui.internal.dialogs.FilteredPreferenceDialog.okPressed(FilteredPreferenceDialog.java:374)\n\tat org.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog.okPressed(WorkbenchPreferenceDialog.java:164)\n\tat org.eclipse.jface.preference.PreferenceDialog.buttonPressed(PreferenceDialog.java:233)\n\tat org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:616)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3682)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3293)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\n\tat org.eclipse.jface.window.Window.open(Window.java:796)\n\tat org.eclipse.ui.internal.OpenPreferencesAction.run(OpenPreferencesAction.java:65)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:498)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:545)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:402)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3682)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3293)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353)\n\tat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219)\n\tat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ohf.stem.core.common.presentation.CoreEditorAdvisor$Application.start(CoreEditorAdvisor.java:102)\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:615)\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:504)\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:443)\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1169)\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1144)\n",
    "Created an attachment (id\u003d75892)\nfix for exception\n\n",
    "more to come",
    "Created an attachment (id\u003d76062)\nenables multicolor mulitvar display\n\nenables multicolor mulitvar display",
    "committed patch 4\n\nIs this \"fixed\"?",
    "Fixed but code is commented out for map view (enabled for Report views). This bug should be closed. Yossi is working on color provider for map views",
    "closed"
  ],
  "commentCreationDates": [
    "2007-08-08T23:03:28+02:00",
    "2007-08-09T20:30:04+02:00",
    "2007-08-10T20:01:13+02:00",
    "2007-08-10T20:01:48+02:00",
    "2007-08-10T20:46:24+02:00",
    "2007-08-10T23:26:44+02:00",
    "2007-08-10T23:40:50+02:00",
    "2007-08-14T19:01:39+02:00",
    "2007-08-14T20:21:48+02:00",
    "2007-11-28T00:17:06+01:00",
    "2007-11-28T15:46:15+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Widget is disposed",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3563"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3481"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3452"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:432"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.checkWidget",
          "source": "Widget.java:325"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.redraw",
          "source": "Control.java:1911"
        },
        {
          "method": "org.eclipse.ohf.stem.ui.views.map.MapCanvas.setBackgroundColorRGB",
          "source": "MapCanvas.java:360"
        },
        {
          "method": "org.eclipse.ohf.stem.ui.views.map.MapCanvas.setPreferences",
          "source": "MapCanvas.java:291"
        },
        {
          "method": "org.eclipse.ohf.stem.ui.views.map.MapCanvas$1.propertyChange",
          "source": "MapCanvas.java:257"
        },
        {
          "method": "org.eclipse.core.runtime.Preferences$1.run",
          "source": "Preferences.java:505"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.runtime.Preferences.firePropertyChangeEvent",
          "source": "Preferences.java:508"
        },
        {
          "method": "org.eclipse.core.internal.preferences.legacy.PreferenceForwarder.preferenceChange",
          "source": "PreferenceForwarder.java:112"
        },
        {
          "method": "org.eclipse.core.internal.preferences.EclipsePreferences$2.run",
          "source": "EclipsePreferences.java:746"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.internal.preferences.EclipsePreferences.firePreferenceEvent",
          "source": "EclipsePreferences.java:749"
        },
        {
          "method": "org.eclipse.core.internal.preferences.EclipsePreferences.put",
          "source": "EclipsePreferences.java:762"
        },
        {
          "method": "org.eclipse.ui.preferences.ScopedPreferenceStore.putValue",
          "source": "ScopedPreferenceStore.java:567"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceConverter.setValue",
          "source": "PreferenceConverter.java:550"
        },
        {
          "method": "org.eclipse.jface.preference.ColorFieldEditor.doStore",
          "source": "ColorFieldEditor.java:129"
        },
        {
          "method": "org.eclipse.jface.preference.FieldEditor.store",
          "source": "FieldEditor.java:676"
        },
        {
          "method": "org.eclipse.jface.preference.FieldEditorPreferencePage.performOk",
          "source": "FieldEditorPreferencePage.java:343"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog$12.run",
          "source": "PreferenceDialog.java:926"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:857"
        },
        {
          "method": "org.eclipse.ui.internal.JFaceUtil$1.run",
          "source": "JFaceUtil.java:46"
        },
        {
          "method": "org.eclipse.jface.util.SafeRunnable.run",
          "source": "SafeRunnable.java:193"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog.okPressed",
          "source": "PreferenceDialog.java:906"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.FilteredPreferenceDialog.okPressed",
          "source": "FilteredPreferenceDialog.java:374"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog.okPressed",
          "source": "WorkbenchPreferenceDialog.java:164"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog.buttonPressed",
          "source": "PreferenceDialog.java:233"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$2.widgetSelected",
          "source": "Dialog.java:616"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:227"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3682"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3293"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:820"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:796"
        },
        {
          "method": "org.eclipse.ui.internal.OpenPreferencesAction.run",
          "source": "OpenPreferencesAction.java:65"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:498"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:545"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:490"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:402"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3682"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3293"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2389"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2353"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2219"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:466"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:461"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ohf.stem.core.common.presentation.CoreEditorAdvisor$Application.start",
          "source": "CoreEditorAdvisor.java:102"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:153"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:363"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:176"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:64"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:43"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:615"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:504"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:443"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1169"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1144"
        }
      ],
      "number": 0,
      "commentIndex": 4,
      "bugId": "199329",
      "date": "2007-08-10T20:46:24+02:00",
      "product": "OHF",
      "component": "STEM",
      "severity": "normal"
    }
  ],
  "groupId": "199329",
  "bugId": "199329",
  "date": "2007-08-08T23:03:28+02:00",
  "product": "OHF",
  "component": "STEM",
  "severity": "normal"
}