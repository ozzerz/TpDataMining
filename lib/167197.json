{
  "comments": [
    "The attached class files cause the aspectJ compiler v1.5.3 to crash upon compilation with the following error:  \n\nlogan@logan01 ~/zillow/src/code/z4/RandomStuff $ ajc -1.5 AspectBreaker.java TestAspect.aj \ntrouble in: \npublic class AspectBreaker extends java.util.ArrayList:\n  private static final long serialVersionUID \u003d 1\n  public void \u003cinit\u003e()    org.aspectj.weaver.MethodDeclarationLineNumber: 7:157\n:\n                    ALOAD_0     // LAspectBreaker; this   (line 7)\n                    INVOKESPECIAL java.util.ArrayList.\u003cinit\u003e ()V\n    constructor-execution(void AspectBreaker.\u003cinit\u003e())\n    |               RETURN   (line 8)\n    constructor-execution(void AspectBreaker.\u003cinit\u003e())\n  end public void \u003cinit\u003e()\n\n  public boolean test(ICounterValue[])    org.aspectj.weaver.MethodDeclarationLineNumber: 10:201\n:\n    method-execution(boolean AspectBreaker.test(ICounterValue[]))\n    |               ALOAD_0     // LAspectBreaker; this   (line 11)\n    | method-call(int AspectBreaker.size())\n    | |             INVOKEVIRTUAL AspectBreaker.size ()I\n    | method-call(int AspectBreaker.size())\n    |               POP\n    |               ICONST_0   (line 13)\n    |               IRETURN\n    method-execution(boolean AspectBreaker.test(ICounterValue[]))\n  end public boolean test(ICounterValue[])\n\nend public class AspectBreaker\n\n\nException thrown from AspectJ 1.5.3\n\nThis might be logged as a bug already -- find current bugs at\n  http://bugs.eclipse.org/bugs/buglist.cgi?product\u003dAspectJ\u0026component\u003dCompiler\n\nBugs for exceptions thrown have titles File:line from the top stack, \ne.g., \"SomeFile.java:243\"\n\nIf you don\u0027t find the exception below in a bug, please add a new bug\nat http://bugs.eclipse.org/bugs/enter_bug.cgi?product\u003dAspectJ\nTo make the bug a priority, please include a test program\nthat can reproduce this exception.\norg.aspectj.weaver.ResolvedType$Array\n\nwhen weaving classes \nwhen weaving \nwhen batch building BuildConfig[null] #Files\u003d2\norg.aspectj.weaver.ResolvedType$Array\njava.lang.ClassCastException: org.aspectj.weaver.ResolvedType$Array\n        at org.aspectj.weaver.BoundedReferenceType.parameterize(BoundedReferenceType.java:64)\n        at org.aspectj.weaver.ResolvedType.parameterize(ResolvedType.java:1878)\n        at org.aspectj.weaver.ResolvedMemberImpl.parameterize(ResolvedMemberImpl.java:682)\n        at org.aspectj.weaver.ResolvedMemberImpl.parameterizedWith(ResolvedMemberImpl.java:644)\n        at org.aspectj.weaver.ResolvedMemberImpl.parameterizedWith(ResolvedMemberImpl.java:597)\n        at org.aspectj.weaver.ReferenceType.getDeclaredMethods(ReferenceType.java:512)\n        at org.aspectj.weaver.ResolvedType$4.get(ResolvedType.java:226)\n        at org.aspectj.weaver.Iterators$3$1.hasNext(Iterators.java:118)\n        at org.aspectj.weaver.Iterators$5.hasNext(Iterators.java:171)\n        at org.aspectj.weaver.Iterators$3.hasNext(Iterators.java:128)\n        at org.aspectj.weaver.ResolvedType.lookupMember(ResolvedType.java:346)\n        at org.aspectj.weaver.ResolvedType.lookupMethod(ResolvedType.java:327)\n        at org.aspectj.weaver.World.resolve(World.java:530)\n        at org.aspectj.weaver.MemberImpl.resolve(MemberImpl.java:96)\n        at org.aspectj.weaver.JoinPointSignatureIterator.addSignaturesUpToFirstDefiningMember(JoinPointSignatureIterator.java:109)\n        at org.aspectj.weaver.JoinPointSignatureIterator.\u003cinit\u003e(JoinPointSignatureIterator.java:51)\n        at org.aspectj.weaver.MemberImpl.getJoinPointSignatures(MemberImpl.java:961)\n        at org.aspectj.weaver.patterns.SignaturePattern.matches(SignaturePattern.java:286)\n        at org.aspectj.weaver.patterns.KindedPointcut.matchInternal(KindedPointcut.java:106)\n        at org.aspectj.weaver.patterns.Pointcut.match(Pointcut.java:146)\n        at org.aspectj.weaver.patterns.AndPointcut.matchInternal(AndPointcut.java:52)\n        at org.aspectj.weaver.patterns.Pointcut.match(Pointcut.java:146)\n        at org.aspectj.weaver.ShadowMunger.match(ShadowMunger.java:75)\n        at org.aspectj.weaver.Advice.match(Advice.java:112)\n        at org.aspectj.weaver.bcel.BcelAdvice.match(BcelAdvice.java:118)\n        at org.aspectj.weaver.bcel.BcelClassWeaver.match(BcelClassWeaver.java:2806)\n        at org.aspectj.weaver.bcel.BcelClassWeaver.matchInvokeInstruction(BcelClassWeaver.java:2768)\n        at org.aspectj.weaver.bcel.BcelClassWeaver.match(BcelClassWeaver.java:2506)\n        at org.aspectj.weaver.bcel.BcelClassWeaver.match(BcelClassWeaver.java:2332)\n        at org.aspectj.weaver.bcel.BcelClassWeaver.weave(BcelClassWeaver.java:494)\n        at org.aspectj.weaver.bcel.BcelClassWeaver.weave(BcelClassWeaver.java:119)\n        at org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:1612)\n        at org.aspectj.weaver.bcel.BcelWeaver.weaveWithoutDump(BcelWeaver.java:1563)\n        at org.aspectj.weaver.bcel.BcelWeaver.weaveAndNotify(BcelWeaver.java:1341)\n        at org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:1161)\n        at org.aspectj.ajdt.internal.compiler.AjPipeliningCompilerAdapter.weaveQueuedEntries(AjPipeliningCompilerAdapter.java:455)\n        at org.aspectj.ajdt.internal.compiler.AjPipeliningCompilerAdapter.queueForWeaving(AjPipeliningCompilerAdapter.java:392)\n        at org.aspectj.ajdt.internal.compiler.AjPipeliningCompilerAdapter.afterProcessing(AjPipeliningCompilerAdapter.java:380)\n        at org.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$after$org_aspectj_ajdt_internal_compiler_CompilerAdapter$5$6b855184(CompilerAdapter.aj:98)\n        at org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:533)\n        at org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:329)\n        at org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:906)\n        at org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:260)\n        at org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:176)\n        at org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:112)\n        at org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:60)\n        at org.aspectj.tools.ajc.Main.run(Main.java:378)\n        at org.aspectj.tools.ajc.Main.runMain(Main.java:253)\n        at org.aspectj.tools.ajc.Main.main(Main.java:88)\n\nDec 7, 2006 5:43:33 PM org.aspectj.weaver.tools.Jdk14Trace info\nINFO: Dumping to /home/logan/zillow/src/code/z4/RandomStuff/./ajcore.20061207.174333.963.txt\n\n1 fail|abort\nlogan@logan01 ~/zillow/src/code/z4/RandomStuff $",
    "Created an attachment (id\u003d55292)\nJava file that breaks the compiler\n\n",
    "Created an attachment (id\u003d55293)\nAspect that breaks the class\n\n",
    "testcase added, commented out in Ajc154Tests.  The problem here is due to the special type ResolvedType$Array which is used to represent array types.  It is not a descendant of ReferenceType and so we get into problems."
  ],
  "commentCreationDates": [
    "2006-12-08T01:55:47+01:00",
    "2006-12-08T01:56:52+01:00",
    "2006-12-08T01:59:42+01:00",
    "2007-10-30T09:47:01+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.aspectj.weaver.ResolvedType$Array",
      "elements": [
        {
          "method": "org.aspectj.weaver.BoundedReferenceType.parameterize",
          "source": "BoundedReferenceType.java:64"
        },
        {
          "method": "org.aspectj.weaver.ResolvedType.parameterize",
          "source": "ResolvedType.java:1878"
        },
        {
          "method": "org.aspectj.weaver.ResolvedMemberImpl.parameterize",
          "source": "ResolvedMemberImpl.java:682"
        },
        {
          "method": "org.aspectj.weaver.ResolvedMemberImpl.parameterizedWith",
          "source": "ResolvedMemberImpl.java:644"
        },
        {
          "method": "org.aspectj.weaver.ResolvedMemberImpl.parameterizedWith",
          "source": "ResolvedMemberImpl.java:597"
        },
        {
          "method": "org.aspectj.weaver.ReferenceType.getDeclaredMethods",
          "source": "ReferenceType.java:512"
        },
        {
          "method": "org.aspectj.weaver.ResolvedType$4.get",
          "source": "ResolvedType.java:226"
        },
        {
          "method": "org.aspectj.weaver.Iterators$3$1.hasNext",
          "source": "Iterators.java:118"
        },
        {
          "method": "org.aspectj.weaver.Iterators$5.hasNext",
          "source": "Iterators.java:171"
        },
        {
          "method": "org.aspectj.weaver.Iterators$3.hasNext",
          "source": "Iterators.java:128"
        },
        {
          "method": "org.aspectj.weaver.ResolvedType.lookupMember",
          "source": "ResolvedType.java:346"
        },
        {
          "method": "org.aspectj.weaver.ResolvedType.lookupMethod",
          "source": "ResolvedType.java:327"
        },
        {
          "method": "org.aspectj.weaver.World.resolve",
          "source": "World.java:530"
        },
        {
          "method": "org.aspectj.weaver.MemberImpl.resolve",
          "source": "MemberImpl.java:96"
        },
        {
          "method": "org.aspectj.weaver.JoinPointSignatureIterator.addSignaturesUpToFirstDefiningMember",
          "source": "JoinPointSignatureIterator.java:109"
        },
        {
          "method": "org.aspectj.weaver.JoinPointSignatureIterator.\u003cinit\u003e",
          "source": "JoinPointSignatureIterator.java:51"
        },
        {
          "method": "org.aspectj.weaver.MemberImpl.getJoinPointSignatures",
          "source": "MemberImpl.java:961"
        },
        {
          "method": "org.aspectj.weaver.patterns.SignaturePattern.matches",
          "source": "SignaturePattern.java:286"
        },
        {
          "method": "org.aspectj.weaver.patterns.KindedPointcut.matchInternal",
          "source": "KindedPointcut.java:106"
        },
        {
          "method": "org.aspectj.weaver.patterns.Pointcut.match",
          "source": "Pointcut.java:146"
        },
        {
          "method": "org.aspectj.weaver.patterns.AndPointcut.matchInternal",
          "source": "AndPointcut.java:52"
        },
        {
          "method": "org.aspectj.weaver.patterns.Pointcut.match",
          "source": "Pointcut.java:146"
        },
        {
          "method": "org.aspectj.weaver.ShadowMunger.match",
          "source": "ShadowMunger.java:75"
        },
        {
          "method": "org.aspectj.weaver.Advice.match",
          "source": "Advice.java:112"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelAdvice.match",
          "source": "BcelAdvice.java:118"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.match",
          "source": "BcelClassWeaver.java:2806"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.matchInvokeInstruction",
          "source": "BcelClassWeaver.java:2768"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.match",
          "source": "BcelClassWeaver.java:2506"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.match",
          "source": "BcelClassWeaver.java:2332"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.weave",
          "source": "BcelClassWeaver.java:494"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.weave",
          "source": "BcelClassWeaver.java:119"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weave",
          "source": "BcelWeaver.java:1612"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveWithoutDump",
          "source": "BcelWeaver.java:1563"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveAndNotify",
          "source": "BcelWeaver.java:1341"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weave",
          "source": "BcelWeaver.java:1161"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjPipeliningCompilerAdapter.weaveQueuedEntries",
          "source": "AjPipeliningCompilerAdapter.java:455"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjPipeliningCompilerAdapter.queueForWeaving",
          "source": "AjPipeliningCompilerAdapter.java:392"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjPipeliningCompilerAdapter.afterProcessing",
          "source": "AjPipeliningCompilerAdapter.java:380"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$after$org_aspectj_ajdt_internal_compiler_CompilerAdapter$5$6b855184",
          "source": "CompilerAdapter.aj:98"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.process",
          "source": "Compiler.java:533"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:329"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:906"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:260"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBuildManager.java:176"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.doCommand",
          "source": "AjdtCommand.java:112"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.runCommand",
          "source": "AjdtCommand.java:60"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.run",
          "source": "Main.java:378"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.runMain",
          "source": "Main.java:253"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.main",
          "source": "Main.java:88"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "167197",
      "date": "2006-12-08T01:55:47+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "167197",
  "bugId": "167197",
  "date": "2006-12-08T01:55:47+01:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}