{
  "comments": [
    "I have developed an xml editor.  If I open an xml file with my editor and then \nrevert, the JVM crashes.  This only occurs in Linux-Motif.\n\nI am limited here with how many characters I can post.  Let me know if you \nwould like me to send you the entire dump.  Here is some of the javacore file:\n\n0SECTION       TITLE subcomponent dump routine\nNULL           \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n1TISIGINFO     signal 11 received \n1TIDATETIME    Date:                 2003/07/22 at 13:47:09\n1TIFILENAME    Javacore \nfilename:    /home/webtools/dev/eclipse/javacore1745.1058896029.txt\nNULL           -----------------------------------------------------------------\n-------\n0SECTION       XHPI subcomponent dump routine\nNULL           \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n1HPTIME        Tue Jul 22 13:47:09 2003\n1HPSIGRECV     SIGSEGV received in XtWidgetToApplicationContext at 0x440b1e7a \nin /usr/X11R6/lib/libXt.so.6. Processing terminated.\n1HPFULLVERSION J2RE 1.3.1 IBM build cxia32131-20030606\nNULL           \n1HPOPENV       Operating Environment\nNULL           ---------------------\n2HPHOSTNAME    Host             : wtlinux.(none)\n2HPOSLEVEL     OS Level         : 2.4.18-14.#1 Wed Sep 4 13:35:50 EDT 2002\n2HPLIBCVER     glibc Version    : 2.2.93\n2HPCPUS        Processors -\n3HPARCH          Architecture     : (not implemented)\n3HPNUMCPUS       How Many         : (not implemented)\n3HPCPUSENABLED   Enabled          : 1\n\n...\n\n1XMEXCPINFO    Exception Info\nNULL           --------------\n2XMEXCPINFO    JVM Exception 0x2 (subcode 0x1B) occurred in thread \"main\" \n(TID:0x100541D8)\n\n...\n\n3XMTHREADINFO      \"main\" (TID:0x100541D8, sys_thread_t:0x80595A8, state:R, \nnative ID:0x2000) prio\u003d5\n4XESTACKTRACE          at org.eclipse.swt.internal.motif.OS.XmImSetValues\n(Native Method)\n4XESTACKTRACE          at org.eclipse.swt.widgets.Caret.setFont(Caret.java:358)\n4XESTACKTRACE          at org.eclipse.swt.widgets.Canvas.setFont\n(Canvas.java:226)\n4XESTACKTRACE          at org.eclipse.swt.custom.StyledText.setFont\n(StyledText.java:7184)\n4XESTACKTRACE          at com.ibm.sed.editor.StructuredTextViewer.setFont\n(StructuredTextViewer.java:1165)\n4XESTACKTRACE          at \ncom.ibm.sed.editor.StructuredTextEditor.updateFontStyle\n(StructuredTextEditor.java:1632)\n4XESTACKTRACE          at com.ibm.sed.editor.StructuredTextEditor.update\n(StructuredTextEditor.java:2303)\n4XESTACKTRACE          at com.ibm.sed.editor.StructuredTextEditor.setModel\n(StructuredTextEditor.java:2107)\n4XESTACKTRACE          at \ncom.ibm.etools.webapplication.presentation.WebapplicationEditor.update\n(WebapplicationEditor.java:1604)\n4XESTACKTRACE          at \ncom.ibm.etools.webapplication.presentation.WebapplicationEditor$7.run\n(WebapplicationEditor.java:941)\n4XESTACKTRACE          at org.eclipse.swt.widgets.RunnableLock.run\n(RunnableLock.java:35)\n4XESTACKTRACE          at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages\n(Synchronizer.java:98)\n4XESTACKTRACE          at org.eclipse.swt.widgets.Display.runAsyncMessages\n(Display.java(Inlined Compiled Code))",
    "Grant to investigate.",
    "It\u0027s difficult to tell what the problem is without a case that I can reproduce \nhere.  Questions:\n\n1. Can you try this with the swt in the recent Eclipse M2 release?  There have \nbeen several changes in this area in the 3.0 stream.\n2. I assume your locale is english?\n3. Does this happen for all fonts that you set into the StyledText, or only \nsome?  And where does the font come from (eg.- a FontDialog?)\n",
    "\u003e\u003e 1. Can you try this with the swt in the recent \n\u003e\u003e Eclipse M2 release?  There have \n\u003e\u003e been several changes in this area in the 3.0 stream.\n\nI work on a very large product and my plugin is built on top of many, many \nother plugins.  I\u0027m sure, as it is, there is no way I could get this to work on \na 3.0 build - as all the plugins which I don\u0027t own would need to be ported over \nfirst.  Just going from 2.0 to 2.1 took a lot of work.\n\n\u003e\u003e 2. I assume your locale is english?\n\nThat is correct.\n\n\u003e\u003e 3. Does this happen for all fonts that you set into the \n\u003e\u003e StyledText, or only some?  And where does the font come from \n\u003e\u003e (eg.- a FontDialog?)\n\nI have only tried this with the default font.  The font comes from\nthe Preferences dialog:  Workbench -\u003e Fonts -\u003e Text Font\n",
    "The 3.0 stream does not have any breaking swt changes yet, so you should be \nable to just take the two swt plugin directories from the Eclipse 3.0 M2 build \nand drop them into your product\u0027s plugins directory (after first moving the \nexisting two swt plugin directories out to a safe place, to be brought back \nafterwards).\n\nI just spoke with SSQ and he suggests that the 3.0 stream changes could fix \nthis case.\n",
    "*** Bug 41013 has been marked as a duplicate of this bug. ***",
    "Grant, in bug 41013, Vicky has included the steps to show the problem with the \nSWT Text example.",
    "Using the steps from bug 41013:\n\n- I can duplicate the problem in 2.1.1\n- as a result of recent changes, in 3.0 I consistently get the following \nexception instead on the second invocation of the font dialog:\n\norg.eclipse.swt.SWTError: No more handles\n\tat org.eclipse.swt.SWT.error(SWT.java:2391)\n\tat org.eclipse.swt.SWT.error(SWT.java:2295)\n\tat org.eclipse.swt.widgets.Widget.error(Widget.java:347)\n\tat org.eclipse.swt.widgets.Control.getFontAscent(Control.java:690)\n\tat org.eclipse.swt.widgets.Control.updateIM(Control.java:2782)\n\tat org.eclipse.swt.widgets.Control.setFont(Control.java:2068)\n\tat org.eclipse.swt.widgets.Canvas.setFont(Canvas.java:222)\n\tat org.eclipse.swt.custom.StyledText.setFont(StyledText.java:7230)\n\tat org.eclipse.swt.examples.texteditor.TextEditor.setFont\n(TextEditor.java:338)\n\tat org.eclipse.swt.examples.texteditor.TextEditor$4.widgetSelected\n(TextEditor.java:80)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent\n(TypedListener.java:89)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:803)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2184)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1944)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1630)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1613)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:858)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:291)\n\tat org.eclipse.core.launcher.Main.run(Main.java:747)\n\tat org.eclipse.core.launcher.Main.main(Main.java:583)\n",
    "moving to ssq since he was in this area recently\n",
    "Fixed \u003e 20030811.",
    "*** Bug 42000 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2003-07-22T22:39:44+02:00",
    "2003-07-22T22:56:52+02:00",
    "2003-07-23T16:11:08+02:00",
    "2003-07-23T17:40:41+02:00",
    "2003-07-23T18:35:45+02:00",
    "2003-08-05T17:36:28+02:00",
    "2003-08-05T17:38:46+02:00",
    "2003-08-07T17:09:01+02:00",
    "2003-08-07T17:41:39+02:00",
    "2003-08-11T18:11:06+02:00",
    "2003-08-26T20:15:25+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTError",
      "message": "No more handles",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2391"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2295"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:347"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.getFontAscent",
          "source": "Control.java:690"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.updateIM",
          "source": "Control.java:2782"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.setFont",
          "source": "Control.java:2068"
        },
        {
          "method": "org.eclipse.swt.widgets.Canvas.setFont",
          "source": "Canvas.java:222"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.setFont",
          "source": "StyledText.java:7230"
        },
        {
          "method": "org.eclipse.swt.examples.texteditor.TextEditor.setFont",
          "source": "TextEditor.java:338"
        },
        {
          "method": "org.eclipse.swt.examples.texteditor.TextEditor$4.widgetSelected",
          "source": "TextEditor.java:80"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:89"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:803"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2184"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1944"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1630"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1613"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:858"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:291"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:747"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:583"
        }
      ],
      "number": 0,
      "commentIndex": 7,
      "bugId": "40624",
      "date": "2003-08-07T17:09:01+02:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "critical"
    }
  ],
  "groupId": "40624",
  "bugId": "40624",
  "date": "2003-07-22T22:39:44+02:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "critical"
}