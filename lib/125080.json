{
  "comments": [
    "The following code causes AJC to throw an ArrayOutOfBoundsException:\n\n\u003e public interface AspectInterface\u003cT, S extends Number\u003e { }\n\u003e \n\u003e public abstract aspect AbstractAspect\u003cT\u003e \n\u003e                        implements AspectInterface\u003cT, Integer\u003e {}\t\n\u003e \n\u003e public aspect ConcreteAspect extends AbstractAspect\u003cStudent\u003e { }\n\n (as ususal, details of Student do not matter).\n\nI will attach a complete code example and the full error report is given below.\n\nCheers,\n\nDavid J. Pearce\n\n\u003d\u003d\u003d BEGIN ERROR REPORT \u003d\u003d\u003d\n\najc -1.5 AspectInterface.java Student.java ConcreteAspect.aj AbstractAspect.aj\n/am/state-opera/home/djp/projects/RelationsForJava/test/example/AbstractAspect.aj [error] Internal compiler error\njava.lang.ArrayIndexOutOfBoundsException: 1\n        at org.aspectj.weaver.ResolvedType.getMemberParameterizationMap(ResolvedType.java:691)\n        at org.aspectj.weaver.ResolvedType.getAjMemberParameterizationMap(ResolvedType.java:2065)\n        at org.aspectj.weaver.ReferenceType.getDeclares(ReferenceType.java:575)\n        at org.aspectj.weaver.ResolvedType.collectDeclares(ResolvedType.java:539)\n        at org.aspectj.weaver.ResolvedType.collectCrosscuttingMembers(ResolvedType.java:504)\n        at org.aspectj.weaver.CrosscuttingMembersSet.addOrReplaceAspect(CrosscuttingMembersSet.java:61)\n        at org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.addCrosscuttingStructures(AjLookupEnvironment.java:391)\n        at org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.collectAllITDsAndDeclares(AjLookupEnvironment.java:327)\n        at org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.completeTypeBindings(AjLookupEnvironment.java:168)\n        at org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:301)\n        at org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:315)\n        at org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:819)\n        at org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:234)\n        at org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:157)\n        at org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:112)\n        at org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:60)\n        at org.aspectj.tools.ajc.Main.run(Main.java:326)\n        at org.aspectj.tools.ajc.Main.runMain(Main.java:240)\n        at org.aspectj.tools.ajc.Main.main(Main.java:83)\n\n(no source information available)\nABORT\n\nException thrown from AspectJ DEVELOPMENT\n\nThis might be logged as a bug already -- find current bugs at\n  http://bugs.eclipse.org/bugs/buglist.cgi?product\u003dAspectJ\u0026component\u003dCompiler\n\nBugs for exceptions thrown have titles File:line from the top stack,\ne.g., \"SomeFile.java:243\"\n\nIf you don\u0027t find the exception below in a bug, please add a new bug\nat http://bugs.eclipse.org/bugs/enter_bug.cgi?product\u003dAspectJ\nTo make the bug a priority, please include a test program\nthat can reproduce this exception.\n1\n\nwhen collecting itds and declares ConcreteAspect\nwhen completing type bindings\nwhen batch building with classpath: /usr/pkg/java/sun-1.5/lib/ext/sunjce_provider.jar:/usr/pkg/java/sun-1.5/lib/ext/sunpkcs11.jar:/usr/pkg/java/sun-1.5/lib/ext/dnsns.jar:/usr/pkg/java/sun-1.5/lib/ext/localedata.jar:/usr/pkg/java/sun-1.5/lib/tools.jar:.:/u/staff/djp/src/mocha/mocha.zip:/u/staff/djp/pkg/aspectj1.5-DEVEL250106/lib/aspectjrt.jar:/mnt/scratch/djp/specjvm98:/u/staff/djp/teaching/comp463/soot/sootclasses-2.2.1.jar:/u/staff/djp/teaching/comp463/soot/polyglotclasses-1.3.jar:/u/staff/djp/pkg/antlr/antlr-2.7.5.jar:\n1\njava.lang.ArrayIndexOutOfBoundsException: 1\n        at org.aspectj.weaver.ResolvedType.getMemberParameterizationMap(ResolvedType.java:691)\n        at org.aspectj.weaver.ResolvedType.getAjMemberParameterizationMap(ResolvedType.java:2065)\n        at org.aspectj.weaver.ReferenceType.getDeclares(ReferenceType.java:575)\n        at org.aspectj.weaver.ResolvedType.collectDeclares(ResolvedType.java:539)\n        at org.aspectj.weaver.ResolvedType.collectCrosscuttingMembers(ResolvedType.java:504)\n        at org.aspectj.weaver.CrosscuttingMembersSet.addOrReplaceAspect(CrosscuttingMembersSet.java:61)\n        at org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.addCrosscuttingStructures(AjLookupEnvironment.java:391)\n        at org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.collectAllITDsAndDeclares(AjLookupEnvironment.java:327)\n        at org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.completeTypeBindings(AjLookupEnvironment.java:168)\n        at org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:301)\n        at org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:315)\n        at org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:819)\n        at org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:234)\n        at org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:157)\n        at org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:112)\n        at org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:60)\n        at org.aspectj.tools.ajc.Main.run(Main.java:326)\n        at org.aspectj.tools.ajc.Main.runMain(Main.java:240)\n        at org.aspectj.tools.ajc.Main.main(Main.java:83)\n\n\n1 fail|abort, 1 error\ngmake: *** [all] Error 255\n\n\u003d\u003d\u003d END \u003d\u003d\u003d",
    "Created an attachment (id\u003d33547)\nExample code\n\n",
    "Actually, I\u0027ve just realised you don\u0027t even need the \"extends Number\" bit to see the problem.  ",
    "I\u0027ve now tried versions 1.5M5, 1.5RC1, 1.5, and the latest development snapshot as of today.  But, none works ...",
    "fix checked in.",
    "fix available."
  ],
  "commentCreationDates": [
    "2006-01-24T22:14:59+01:00",
    "2006-01-24T22:16:04+01:00",
    "2006-01-24T22:21:02+01:00",
    "2006-01-24T23:43:43+01:00",
    "2006-01-25T10:42:26+01:00",
    "2006-01-25T14:37:42+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "1",
      "elements": [
        {
          "method": "org.aspectj.weaver.ResolvedType.getMemberParameterizationMap",
          "source": "ResolvedType.java:691"
        },
        {
          "method": "org.aspectj.weaver.ResolvedType.getAjMemberParameterizationMap",
          "source": "ResolvedType.java:2065"
        },
        {
          "method": "org.aspectj.weaver.ReferenceType.getDeclares",
          "source": "ReferenceType.java:575"
        },
        {
          "method": "org.aspectj.weaver.ResolvedType.collectDeclares",
          "source": "ResolvedType.java:539"
        },
        {
          "method": "org.aspectj.weaver.ResolvedType.collectCrosscuttingMembers",
          "source": "ResolvedType.java:504"
        },
        {
          "method": "org.aspectj.weaver.CrosscuttingMembersSet.addOrReplaceAspect",
          "source": "CrosscuttingMembersSet.java:61"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.addCrosscuttingStructures",
          "source": "AjLookupEnvironment.java:391"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.collectAllITDsAndDeclares",
          "source": "AjLookupEnvironment.java:327"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.completeTypeBindings",
          "source": "AjLookupEnvironment.java:168"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.beginToCompile",
          "source": "Compiler.java:301"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:315"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:819"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:234"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBuildManager.java:157"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.doCommand",
          "source": "AjdtCommand.java:112"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.runCommand",
          "source": "AjdtCommand.java:60"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.run",
          "source": "Main.java:326"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.runMain",
          "source": "Main.java:240"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.main",
          "source": "Main.java:83"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "125080",
      "date": "2006-01-24T22:14:59+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "1",
      "elements": [
        {
          "method": "org.aspectj.weaver.ResolvedType.getMemberParameterizationMap",
          "source": "ResolvedType.java:691"
        },
        {
          "method": "org.aspectj.weaver.ResolvedType.getAjMemberParameterizationMap",
          "source": "ResolvedType.java:2065"
        },
        {
          "method": "org.aspectj.weaver.ReferenceType.getDeclares",
          "source": "ReferenceType.java:575"
        },
        {
          "method": "org.aspectj.weaver.ResolvedType.collectDeclares",
          "source": "ResolvedType.java:539"
        },
        {
          "method": "org.aspectj.weaver.ResolvedType.collectCrosscuttingMembers",
          "source": "ResolvedType.java:504"
        },
        {
          "method": "org.aspectj.weaver.CrosscuttingMembersSet.addOrReplaceAspect",
          "source": "CrosscuttingMembersSet.java:61"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.addCrosscuttingStructures",
          "source": "AjLookupEnvironment.java:391"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.collectAllITDsAndDeclares",
          "source": "AjLookupEnvironment.java:327"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.completeTypeBindings",
          "source": "AjLookupEnvironment.java:168"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.beginToCompile",
          "source": "Compiler.java:301"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:315"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:819"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:234"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBuildManager.java:157"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.doCommand",
          "source": "AjdtCommand.java:112"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.runCommand",
          "source": "AjdtCommand.java:60"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.run",
          "source": "Main.java:326"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.runMain",
          "source": "Main.java:240"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.main",
          "source": "Main.java:83"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "125080",
      "date": "2006-01-24T22:14:59+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "125080",
  "bugId": "125080",
  "date": "2006-01-24T22:14:59+01:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}