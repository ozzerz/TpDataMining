{
  "comments": [
    "EMF validation used in a stand-alone (headless) application produces following\nexception:\n\njava.lang.NoClassDefFoundError: org/eclipse/core/runtime/IStatus\n  at org.eclipse.emf.ecore.util.Diagnostician.validate(Diagnostician.java:80)\n  ...\n\nHere is example code to reproduce the problem:\n\n    Diagnostician.INSTANCE.validate(null);\n\n\nJDK used - Sun JDK 1.4.2_04-b05\n\n\n-Sergey Udovenko",
    "It would be great if you could provide a full example that reproduces the \nproblem or, at least, the classpath you\u0027ve used to launch the application.  \nBtw, is it a stand-alone application (no Eclipse environment) or a code \nrunning in a headless Eclipse execution (Eclipse running without UI)?\n\nPlease let me know if you need help retrieving the information I am asking.",
    "I can\u0027t reproduce this problem so we\u0027ll need more information on the environment \nwhere this is running.  The IStatus class should not need to be loaded until the \nfirst instance of that class is created, which doesn\u0027t happen in this scenario.  \nIn scenarios where it does, IStatus will need to be present.",
    "I\u0027m running the stand-alone application with EMF-only jars on classpath.\nHere is a list of used EMF jars:\n\nC:\\Java\\eclipse-3.0RC2\\plugins\\org.eclipse.emf.codegen_2.0.0\n\\runtime\\codegen.jar;\nC:\\Java\\eclipse-3.0RC2\\plugins\\org.eclipse.emf.common_2.0.0\\runtime\\common.jar;\nC:\\Java\\eclipse-3.0RC2\\plugins\\org.eclipse.emf.common_2.0.0\n\\runtime\\common.resources.jar;\nC:\\Java\\eclipse-3.0RC2\\plugins\\org.eclipse.emf.commonj.sdo_2.0.0\n\\runtime\\commonj.sdo.jar;\nC:\\Java\\eclipse-3.0RC2\\plugins\\org.eclipse.emf.ecore.change_2.0.0\n\\runtime\\ecore.change.jar;\nC:\\Java\\eclipse-3.0RC2\\plugins\\org.eclipse.emf.ecore.sdo_2.0.0\n\\runtime\\ecore.sdo.jar;\nC:\\Java\\eclipse-3.0RC2\\plugins\\org.eclipse.emf.ecore.xmi_2.0.0\n\\runtime\\ecore.xmi.jar;\nC:\\Java\\eclipse-3.0RC2\\plugins\\org.eclipse.emf.ecore_2.0.0\\runtime\\ecore.jar;\nC:\\Java\\eclipse-3.0RC2\\plugins\\org.eclipse.emf.ecore_2.0.0\n\\runtime\\ecore.resources.jar;\nC:\\Java\\eclipse-3.0RC2\\plugins\\org.eclipse.emf.edit_2.0.0\\runtime\\edit.jar;\nC:\\Java\\eclipse-3.0RC2\\plugins\\org.eclipse.emf.edit_2.0.0\n\\runtime\\edit.resources.jar;\nC:\\Java\\eclipse-3.0RC2\\plugins\\org.eclipse.emf.mapping.ecore2ecore_2.0.0\n\\runtime\\mapping.ecore2ecore.jar;\nC:\\Java\\eclipse-3.0RC2\\plugins\\org.eclipse.emf.mapping.xsd2ecore_2.0.0\n\\runtime\\mapping.xsd2ecore.jar;\nC:\\Java\\eclipse-3.0RC2\\plugins\\org.eclipse.emf.mapping_2.0.0\n\\runtime\\mapping.jar;\nC:\\Java\\eclipse-3.0RC2\\plugins\\org.eclipse.xsd_2.0.0\\runtime\\xsd.jar;\nC:\\Java\\eclipse-3.0RC2\\plugins\\org.eclipse.xsd_2.0.0\\runtime\\xsd.resources.jar\n\n\nHere is my sample class:\n\n\n  import org.eclipse.emf.ecore.util.Diagnostician;\n  public class EValidationBug\n  {\n      public static void main(String[] args) \n      {\n          Diagnostician.INSTANCE.validate(null);\n      }\n  }\n\n\nI\u0027ve considered it\u0027s a problem because in order to solve that dependency I\u0027m \nforced to include non-EMF jar (from Eclipse core). The rest of the EMF runs \nfine in stand-alone apps except that validation part. \n\nNote that in EMF FAQ entry \"How to use EMF in standalone applications (such as \nan ordinary main)\" said nothing about the dependency from the Eclipse core jar.\n\n-Sergey\n",
    "Sergey,\n\nI previously tried using project dependencies to set the classpath and that\nworked okay, but by picking only the specific jars I was able to reproduce it.\nBy changing the implementation of BasicDiagnostic.toIStatus slightly, I was able\nto avoid the over eager class loader problem. Thanks for bringing this issue to\nour attention.",
    "The fix for BasicDiagnostic.toIStatus is committed to CVS.",
    "The fix is available in the M200407280859 build."
  ],
  "commentCreationDates": [
    "2004-07-25T15:17:36+02:00",
    "2004-07-26T02:46:50+02:00",
    "2004-07-26T14:04:22+02:00",
    "2004-07-26T21:37:49+02:00",
    "2004-07-27T15:49:20+02:00",
    "2004-07-27T15:52:08+02:00",
    "2004-07-28T18:54:56+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoClassDefFoundError",
      "message": "org/eclipse/core/runtime/IStatus",
      "elements": [
        {
          "method": "org.eclipse.emf.ecore.util.Diagnostician.validate",
          "source": "Diagnostician.java:80"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "70789",
      "date": "2004-07-25T15:17:36+02:00",
      "product": "EMF",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "70789",
  "bugId": "70789",
  "date": "2004-07-25T15:17:36+02:00",
  "product": "EMF",
  "component": "Core",
  "severity": "normal"
}