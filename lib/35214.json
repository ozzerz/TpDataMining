{
  "comments": [
    "In Eclipse 2.0.* versions, we had enabled full drag-n-drop cabability between \nour viewers.  Recently we moved to Eclipse 2.1, however, the drag-n-drop fails \nto initialize.  We add drag adapters like so to our viewer:\n\nint dndOperations \u003d DND.DROP_COPY | DND.DROP_MOVE | DND.DROP_LINK;\nTransfer[] transfers \u003d new Transfer[] {LocalSelectionTransfer.getInstance()};\nviewer.addDragSupport(dndOperations, transfers, new AClass(viewer));\n\nAClass above would be a subclass of DragSourceAdapter.  The above code work, \nand the Drag is enabled for objects of type \u0027AClass\u0027.  However, if I attempt \nto add another DragSourceAdapter for type \u0027BClass\u0027, this is where the problem \ncomes in.\n\nFor example, \nint dndOperations \u003d DND.DROP_COPY | DND.DROP_MOVE | DND.DROP_LINK;\nTransfer[] transfers \u003d new Transfer[] {LocalSelectionTransfer.getInstance()};\nviewer.addDragSupport(dndOperations, transfers, new BClass(viewer));\n\nIt seems any time I attempt to add a second DragSourceAdapter, the \ninitialization fails with with the following exception.\n\nIf there is something which has changed with respect to Drag-n-drop \ninitialization, please pass along.\nthx. Murray\n\norg.eclipse.swt.SWTError: Can not initialize Drag\nat org.eclipse.swt.dnd.DND.error(DND.java:211)\nat org.eclipse.swt.dnd.DND.error(DND.java:177)\nat org.eclipse.swt.dnd.DragSource.\u003cinit\u003e(DragSource.java:135)\nat org.eclipse.jface.viewers.StructuredViewer.addDragSupport(StructuredViewer.j\nava:182)\nat com.ibm.etools.BClass.addDragSourceViewer(BClass.java:32)\nat com.ibm.etools.ui.view.SampleViewer.initDragAndDrop(SampleViewer.java:20\nat com.ibm.etools.ui.view.SampleViewer.createPartControl(SampleViewer.java:136)\nat org.eclipse.ui.internal.PartPane$4.run(PartPane.java:138)\nat org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java\n:867)\n...... etc .....",
    "Moving to Veronika.\n",
    "It is not possible to create multiple drag source objects on the same \ncontrol.  \n\nOn some platforms, this results in a segmentation fault and on other \nplatforms, the result is not clear - which drag source will actually provide \nthe data when requested (will the second one be ignored or will it replace the \nfirst one, on no platform will both drag source suppliers be available)?  As a \nresult, in 2.1 we added an exception so that the application would be advised \nthat this functionality is not supported.\n\nWe will add something to the README to make this change clear.",
    "VI to update \"API changes docuement\" (whatever is was called) we did with Jeem \nto include this information or put the information in the appropriate place.",
    "Jim already has the info for the API document.\nI also need to update the javadoc to reflect this information.",
    "Ok, I can react to this in my code.  However, if it is not possible to add \nmultiple drag source adapters to a viewer, why not have the API as singleton, \nie. \u0027setDragSupport\u0027 as opposed to \u0027addDragSupport\u0027?  thx. Murray ",
    "SWT does not own the Viewer code.  This question needs to be redirected to the \nJFace team.  Adding Nick Edgar to this bug report for his comment on the \nViewer API.",
    "Well, addDragSupport was added in 1.0 before we were aware of the limitation \n\u003cg\u003e.  We could deprecate it and change it to setDragSupport.  I\u0027ve filed bug \n35727 for this.\n"
  ],
  "commentCreationDates": [
    "2003-03-18T14:49:14+01:00",
    "2003-03-18T17:12:20+01:00",
    "2003-03-21T13:20:23+01:00",
    "2003-03-21T17:02:57+01:00",
    "2003-03-21T17:39:21+01:00",
    "2003-03-26T16:05:57+01:00",
    "2003-03-26T17:00:39+01:00",
    "2003-03-26T20:27:18+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTError",
      "message": "Can not initialize Drag",
      "elements": [
        {
          "method": "org.eclipse.swt.dnd.DND.error",
          "source": "DND.java:211"
        },
        {
          "method": "org.eclipse.swt.dnd.DND.error",
          "source": "DND.java:177"
        },
        {
          "method": "org.eclipse.swt.dnd.DragSource.\u003cinit\u003e",
          "source": "DragSource.java:135"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.addDragSupport",
          "source": "StructuredViewer.j ava:182"
        },
        {
          "method": "com.ibm.etools.BClass.addDragSourceViewer",
          "source": "BClass.java:32"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "35214",
      "date": "2003-03-18T14:49:14+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "critical"
    }
  ],
  "groupId": "35214",
  "bugId": "35214",
  "date": "2003-03-18T14:49:14+01:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "critical"
}