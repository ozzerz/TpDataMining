{
  "comments": [
    "Seems like all GMF based editors share the same undo stack. Say you have two\n\"logic example\" editors open A and B. If you do something in A, then you move to\nB, and try to undo, you undo what happened in A. Kinda strange. \n\nAnother scenerio. Do something in A, go to B. Close A editor, delete file for A.\nInvoke undo in B, and you get the following exception. \n\nENTRY org.eclipse.gmf.runtime.emf.commands.core 4 1 2005-09-30 10:26:59.494\n!MESSAGE interval not found\n!STACK 0\norg.eclipse.gmf.runtime.emf.core.internal.exceptions.MSLActionProtocolException:\ninterval not found\n\tat java.lang.Throwable.\u003cinit\u003e(Throwable.java)\n\tat java.lang.Throwable.\u003cinit\u003e(Throwable.java)\n\tat\norg.eclipse.gmf.runtime.emf.core.exceptions.MSLRuntimeException.\u003cinit\u003e(MSLRuntimeException.java:36)\n\tat\norg.eclipse.gmf.runtime.emf.core.internal.commands.MSLUndoStack.undoThroughInterval(MSLUndoStack.java:270)\n\tat\norg.eclipse.gmf.runtime.emf.core.internal.commands.MSLUndoStack$MSLUndoInterval.undo(MSLUndoStack.java:1430)\n\tat\norg.eclipse.gmf.runtime.emf.commands.core.command.CompositeModelCommand.undo(CompositeModelCommand.java:395)\n\tat\norg.eclipse.gmf.runtime.diagram.ui.commands.SemanticCreateCommand.doUndo(SemanticCreateCommand.java:95)\n\tat\norg.eclipse.gmf.runtime.common.core.command.AbstractCommand.undo(AbstractCommand.java:221)\n\tat\norg.eclipse.gmf.runtime.common.core.command.CompositeCommand.undo(CompositeCommand.java:476)\n\tat\norg.eclipse.gmf.runtime.common.core.command.CompositeCommand.undo(CompositeCommand.java:476)\n\tat\norg.eclipse.gmf.runtime.common.core.command.CommandManager.undo(CommandManager.java:888)\n\tat\norg.eclipse.gmf.runtime.common.ui.action.internal.actions.global.GlobalUndoAction.doRun(GlobalUndoAction.java:119)\n\tat\norg.eclipse.gmf.runtime.common.ui.action.AbstractActionHandler.run(AbstractActionHandler.java:285)\n\tat\norg.eclipse.gmf.runtime.common.ui.action.ActionManager$2.run(ActionManager.java:298)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n\tat\norg.eclipse.gmf.runtime.common.ui.action.ActionManager.run(ActionManager.java:296)\n\tat\norg.eclipse.gmf.runtime.common.ui.action.AbstractActionHandler.runWithEvent(AbstractActionHandler.java:303)\n\tat org.eclipse.ui.actions.RetargetAction.runWithEvent(RetargetAction.java:222)\n\tat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)\n\tat\norg.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\n\tat\norg.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)\n\tat java.lang.reflect.Method.invoke(Method.java:391)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n\tat org.eclipse.core.launcher.Main.run(Main.java:973)\n\tat org.eclipse.core.launcher.Main.main(Main.java:948)",
    "At the moment, all Logic example diagrams share the same MEditingDomain and \nCommandManager.  This causes the first symptom where we can undo changes made \nin one editor from another.  \n\nThe exception occurs because there is no coordination in GMF between the \nMEditingDomain and the CommandManager. When diagram A is deleted, the command \nstack in the editing domain is flushed, but the CommandManager (which feeds \nthe \u0027Undo\u0027 action in the UI) is not notified. The CommandManager stack should \nbe flushed when the editing domain stack is flushed.\n\nWhen GMF adopts the Eclipse Operations Framework, each diagram editor will \nhave its own undo context, so the undo behaviour for each diagram editor will \nbe independent of other diagram editors.  The IOperationHistory associated \nwith the MEditingDomain will be the one used to feed the \u0027Undo\u0027 action in the \nUI, so coordination between the two will not be required.",
    "Moving to M3",
    "Blocked on Bug 112826",
    "As of the fix for Bug 112826, when you close the editor for A the undo stack is flushed for editor B because both editors are sharing the same editing domain.  The exception no longer occurs when you delete the file for A.\n \nMaking each diagram editor use its own editing domain, and hence have its own distinct undo stack depends on Bug 113850.  Once the GMF diagram code has been migrated to the transaction API, each logic example diagram can use its own editing domain.",
    "Fixed.  Each GMF editor has its own editing domain, and allows the user to undo and redo the changes that are made in that editing domain.  \n\nNow when you two logic example diagrams are open, the undo history for each is distinct from the other."
  ],
  "commentCreationDates": [
    "2005-09-30T16:28:33+02:00",
    "2005-10-06T18:15:55+02:00",
    "2005-10-07T15:31:56+02:00",
    "2006-01-26T17:20:08+01:00",
    "2006-02-16T14:54:14+01:00",
    "2006-03-14T20:27:59+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.gmf.runtime.emf.core.internal.exceptions.MSLActionProtocolException",
      "message": "interval not found",
      "elements": [
        {
          "method": "java.lang.Throwable.\u003cinit\u003e",
          "source": "Throwable.java"
        },
        {
          "method": "java.lang.Throwable.\u003cinit\u003e",
          "source": "Throwable.java"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.core.exceptions.MSLRuntimeException.\u003cinit\u003e",
          "source": "MSLRuntimeException.java:36"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.core.internal.commands.MSLUndoStack.undoThroughInterval",
          "source": "MSLUndoStack.java:270"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.core.internal.commands.MSLUndoStack$MSLUndoInterval.undo",
          "source": "MSLUndoStack.java:1430"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.commands.core.command.CompositeModelCommand.undo",
          "source": "CompositeModelCommand.java:395"
        },
        {
          "method": "org.eclipse.gmf.runtime.diagram.ui.commands.SemanticCreateCommand.doUndo",
          "source": "SemanticCreateCommand.java:95"
        },
        {
          "method": "org.eclipse.gmf.runtime.common.core.command.AbstractCommand.undo",
          "source": "AbstractCommand.java:221"
        },
        {
          "method": "org.eclipse.gmf.runtime.common.core.command.CompositeCommand.undo",
          "source": "CompositeCommand.java:476"
        },
        {
          "method": "org.eclipse.gmf.runtime.common.core.command.CompositeCommand.undo",
          "source": "CompositeCommand.java:476"
        },
        {
          "method": "org.eclipse.gmf.runtime.common.core.command.CommandManager.undo",
          "source": "CommandManager.java:888"
        },
        {
          "method": "org.eclipse.gmf.runtime.common.ui.action.internal.actions.global.GlobalUndoAction.doRun",
          "source": "GlobalUndoAction.java:119"
        },
        {
          "method": "org.eclipse.gmf.runtime.common.ui.action.AbstractActionHandler.run",
          "source": "AbstractActionHandler.java:285"
        },
        {
          "method": "org.eclipse.gmf.runtime.common.ui.action.ActionManager$2.run",
          "source": "ActionManager.java:298"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.gmf.runtime.common.ui.action.ActionManager.run",
          "source": "ActionManager.java:296"
        },
        {
          "method": "org.eclipse.gmf.runtime.common.ui.action.AbstractActionHandler.runWithEvent",
          "source": "AbstractActionHandler.java:303"
        },
        {
          "method": "org.eclipse.ui.actions.RetargetAction.runWithEvent",
          "source": "RetargetAction.java:222"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:538"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1699"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1663"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:367"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:58"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:60"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:391"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "111212",
      "date": "2005-09-30T16:28:33+02:00",
      "product": "GMF",
      "component": "Runtime Common",
      "severity": "normal"
    }
  ],
  "groupId": "111212",
  "bugId": "111212",
  "date": "2005-09-30T16:28:33+02:00",
  "product": "GMF",
  "component": "Runtime Common",
  "severity": "normal"
}