{
  "comments": [
    "Eclipse AspectJ Development Tools\n\nVersion: 1.3.0\nBuild id: 20051130095036\nAspectJ version: 1.5.0.20051130133549\n\n\n\nTrying a very simple aspect just to try to isolate another problem...\n\nClass----------------------------\npackage blah;\n\nimport java.util.Random;\n\npublic class MyClass {\n\tpublic Integer getRandomInt()\n\t{\n\t\treturn new Integer(new Random().nextInt());\n\t}\n}\n---------------------------------\n\nAspect---------------------------\npackage blah;\n\npublic aspect MyAspect {\n\n\tpointcut callPointCut(): call(public * blah.MyClass+.*(..));\n\t\n\tObject around() : callPointCut() {\n\t\tSystem.out.println(\"start of around\");\n\t\tObject result \u003d proceed();\n\t\tSystem.out.println(\"end of around\");\n\t\treturn result;\n\t}\n}\n------------------------------\n\nGives the following.\n\n\njava.lang.ClassCastException\nat org.aspectj.weaver.bcel.BcelWorld.getBcelObjectType(BcelWorld.java:486)\nat org.aspectj.weaver.bcel.BcelWeaver.getClassType(BcelWeaver.java:1283)\nat org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:1010)\nat org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave(AjCompilerAdapter.java:300)\nat org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling(AjCompilerAdapter.java:178)\nat org.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$afterReturning$org_aspectj_ajdt_internal_compiler_CompilerAdapter$2$f9cc9ca0(CompilerAdapter.aj:70)\nat org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:367)\nat org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:811)\nat org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:254)\nat org.aspectj.ajdt.internal.core.builder.AjBuildManager.incrementalBuild(AjBuildManager.java:163)\nat org.aspectj.ajde.internal.CompilerAdapter.compile(CompilerAdapter.java:117)\nat org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run(AspectJBuildManager.java:191)\n\nClassCastException thrown: null",
    "Hmmm ... those compile fine for me.  Does it happen when you do a full build or only when you do an incremental build of the project containing these files? (An incremental build occurs when you change a file slightly and press Ctrl+S to save, whilst a full build occurs when you press the AJ build button on the toolbar).",
    "Incremental only.\nIn fact, now I\u0027ve done a proper build, even incremental builds are working.\n\nIt may still be a bug, but I\u0027m sorted.",
    "Presumed fixed as unable-to-reproduce.  Please reopen if reproduced.\nstalebug"
  ],
  "commentCreationDates": [
    "2005-12-01T10:24:26+01:00",
    "2005-12-01T10:52:05+01:00",
    "2005-12-01T11:07:10+01:00",
    "2006-05-10T16:45:07+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "elements": [
        {
          "method": "org.aspectj.weaver.bcel.BcelWorld.getBcelObjectType",
          "source": "BcelWorld.java:486"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.getClassType",
          "source": "BcelWeaver.java:1283"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weave",
          "source": "BcelWeaver.java:1010"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave",
          "source": "AjCompilerAdapter.java:300"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling",
          "source": "AjCompilerAdapter.java:178"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$afterReturning$org_aspectj_ajdt_internal_compiler_CompilerAdapter$2$f9cc9ca0",
          "source": "CompilerAdapter.aj:70"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:367"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:811"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:254"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.incrementalBuild",
          "source": "AjBuildManager.java:163"
        },
        {
          "method": "org.aspectj.ajde.internal.CompilerAdapter.compile",
          "source": "CompilerAdapter.java:117"
        },
        {
          "method": "org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run",
          "source": "AspectJBuildManager.java:191"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "118792",
      "date": "2005-12-01T10:24:26+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "118792",
  "bugId": "118792",
  "date": "2005-12-01T10:24:26+01:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}