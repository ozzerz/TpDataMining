{
  "comments": [
    "Running WTP 1.0.1, 200601102004\n\nJ2EE Navigator context menu functionality becomes increasingly limited when invoked from a Project in the \u0027Other Projects\u0027 navigator group which has a ModuleCoreNature defined but no WebArtifactEdit.  A custom ArtifactEdit exists which is not registered in the ArtifactEditRegistry due to previous direction from the J2EE tools team.  Thus, the DeployerRegistry.getSelectedModules(Object[] mySelections) call fails because it assumes that the ComponentUtilities.getArtifactEditForRead(..) will return with an artifactEdit.  Since the ComponentUtilities.getArtifactEditforRead(..) method can return a NULL, the DeployerRegistry.getSelectedModules(Object[] mySelections) method should handle this case more gracefully which would allow J2EEDeployAction to be disabled appropriately.\n\nThe first time, there are no icons in the context menu, but after repeated invocations of the context menu, the context menu becomes just a gray box.  \n\n\nHere is the partial stack trace:\njava.lang.NullPointerException\n\tat org.eclipse.jst.j2ee.internal.deploy.DeployerRegistry.getSelectedModules(DeployerRegistry.java:105)\n\tat org.eclipse.jst.j2ee.internal.actions.J2EEDeployAction.isEnabled(J2EEDeployAction.java:100)\n\tat org.eclipse.jst.j2ee.internal.actions.J2EEDeployAction.selectionChanged(J2EEDeployAction.java:87)\n\tat org.eclipse.ui.internal.PluginAction.refreshEnablement(PluginAction.java:200)\n\tat org.eclipse.ui.internal.PluginAction.createDelegate(PluginAction.java:122)\n\tat org.eclipse.ui.internal.PluginAction.selectionChanged(PluginAction.java:269)\n\tat org.eclipse.ui.internal.ObjectActionContributor.contributeObjectActions(ObjectActionContributor.java:138)\n\tat org.eclipse.ui.internal.ObjectActionContributorManager.contributeObjectActions(ObjectActionContributorManager.java:137)\n\tat org.eclipse.ui.internal.PopupMenuExtender.addObjectActions(PopupMenuExtender.java:246)\n\tat org.eclipse.ui.internal.PopupMenuExtender.menuAboutToShow(PopupMenuExtender.java:273)\n\tat org.eclipse.jface.action.MenuManager.fireAboutToShow(MenuManager.java:285)\n\tat org.eclipse.jface.action.MenuManager.handleAboutToShow(MenuManager.java:372)\n\tat org.eclipse.jface.action.MenuManager.access$0(MenuManager.java:369)\n\tat org.eclipse.jface.action.MenuManager$2.menuShown(MenuManager.java:386)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:117)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:867)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:848)\n\tat org.eclipse.swt.widgets.Control.WM_INITMENUPOPUP(Control.java:3337)",
    "Added to the 1.0.1 hot list.",
    "This is fixed for the WTP 101 build RC1 candidate for 02/07/06 as well as for 1.5 WTP committers build stream.\n\nThe J2EE Deploy Action will now filter out these non J2EE projects and not throw null pointers.",
    "OK"
  ],
  "commentCreationDates": [
    "2006-02-06T16:57:05+01:00",
    "2006-02-06T18:54:32+01:00",
    "2006-02-06T20:27:42+01:00",
    "2006-06-20T15:36:53+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jst.j2ee.internal.deploy.DeployerRegistry.getSelectedModules",
          "source": "DeployerRegistry.java:105"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.actions.J2EEDeployAction.isEnabled",
          "source": "J2EEDeployAction.java:100"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.actions.J2EEDeployAction.selectionChanged",
          "source": "J2EEDeployAction.java:87"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.refreshEnablement",
          "source": "PluginAction.java:200"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.createDelegate",
          "source": "PluginAction.java:122"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.selectionChanged",
          "source": "PluginAction.java:269"
        },
        {
          "method": "org.eclipse.ui.internal.ObjectActionContributor.contributeObjectActions",
          "source": "ObjectActionContributor.java:138"
        },
        {
          "method": "org.eclipse.ui.internal.ObjectActionContributorManager.contributeObjectActions",
          "source": "ObjectActionContributorManager.java:137"
        },
        {
          "method": "org.eclipse.ui.internal.PopupMenuExtender.addObjectActions",
          "source": "PopupMenuExtender.java:246"
        },
        {
          "method": "org.eclipse.ui.internal.PopupMenuExtender.menuAboutToShow",
          "source": "PopupMenuExtender.java:273"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.fireAboutToShow",
          "source": "MenuManager.java:285"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.handleAboutToShow",
          "source": "MenuManager.java:372"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.access$0",
          "source": "MenuManager.java:369"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager$2.menuShown",
          "source": "MenuManager.java:386"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:117"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:843"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:867"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:848"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.WM_INITMENUPOPUP",
          "source": "Control.java:3337"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "126602",
      "date": "2006-02-06T16:57:05+01:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "critical"
    }
  ],
  "groupId": "126602",
  "bugId": "126602",
  "date": "2006-02-06T16:57:05+01:00",
  "product": "Web Tools",
  "component": "jst.j2ee",
  "severity": "critical"
}