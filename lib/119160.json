{
  "comments": [
    "Attempting to convert a pre-existing clean-compiling java project from javac to iajc.  No code changes or aspects were introduced to the project yet.\n\nI added the aspectj taskdef entry to build.xml and put the ajdt runtime, weaver, and ajde jar files on the classpath.  Received the following error when the iajc task executed:\n\n compile:\n     [iajc] unexpected exception\n     [iajc]\n     [iajc] Exception thrown from AspectJ DEVELOPMENT\n\n     [iajc] This might be logged as a bug already -- find current bugs at\n     [iajc]   http://bugs.eclipse.org/bugs/buglist.cgi?product\u003dAspectJ\u0026component\u003dCompiler\n\n     [iajc] Bugs for exceptions thrown have titles File:line from the top stack,\n     [iajc] e.g., \"SomeFile.java:243\"\n\n     [iajc] If you don\u0027t find the exception below in a bug, please add a new bug\n     [iajc] at http://bugs.eclipse.org/bugs/enter_bug.cgi?product\u003dAspectJ\n     [iajc] To make the bug a priority, please include a test program\n     [iajc] that can reproduce this exception.\n     [iajc] org/eclipse/core/runtime/OperationCanceledException\n\n     [iajc] org/eclipse/core/runtime/OperationCanceledException\n     [iajc] java.lang.NoClassDefFoundError: org/eclipse/core/runtime/OperationCanceledException\n     [iajc]     at org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:44)\n     [iajc]     at org.aspectj.tools.ajc.Main.run(Main.java:326)\n     [iajc]     at org.aspectj.tools.ajc.Main.runMain(Main.java:240)\n     [iajc]     at org.aspectj.tools.ant.taskdefs.AjcTask.executeInSameVM(AjcTask.java:1210)\n     [iajc]     at org.aspectj.tools.ant.taskdefs.AjcTask.execute(AjcTask.java:1001)\n     [iajc]     at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n     [iajc]     at org.apache.tools.ant.Task.perform(Task.java:364)\n     [iajc]     at org.apache.tools.ant.Target.execute(Target.java:341)\n     [iajc]     at org.apache.tools.ant.Target.performTasks(Target.java:369)\n     [iajc]     at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)\n     [iajc]     at org.apache.tools.ant.Project.executeTarget(Project.java:1185)\n     [iajc]     at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:40)\n     [iajc]     at org.apache.tools.ant.Project.executeTargets(Project.java:1068)\n     [iajc]     at org.apache.tools.ant.Main.runBuild(Main.java:668)\n     [iajc]     at org.apache.tools.ant.Main.startAnt(Main.java:187)\n     [iajc]     at org.apache.tools.ant.launch.Launcher.run(Launcher.java:246)\n     [iajc]     at org.apache.tools.ant.launch.Launcher.main(Launcher.java:67)\n\n\nThe workaround was to add\n\n  ${eclipse.home}/plugins/org.eclipse.core.runtime_3.1.0.jar\n\nto the classpath, but this appears to indicate that aspectj projects from this dev branch cannot be shipped or built independently of an eclipse installation (i.e. the aspectj jar files are insufficient for compiling the program).  Not sure if this intentional or not but would seem to be undesireable.",
    "This is working as designed.  The AspectJ compiler is based upon the JDT compiler at its core - so we have a dependency on eclipse classes.  It is not sufficient to put weaver and ajde jars on the classpath for running that iajc task.  This FAQ entry on AJDT shows that you also need a set of eclipse jars:\n\nhttp://eclipse.org/ajdt/faq.php#q:ant\n\nOr, if you put aspectjtools.jar on the classpath from an AspectJ installation - that contains everything you need.",
    "Closing as invalid because iajc not run as packaged."
  ],
  "commentCreationDates": [
    "2005-12-03T05:52:55+01:00",
    "2005-12-03T10:23:51+01:00",
    "2006-05-10T16:51:50+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoClassDefFoundError",
      "message": "org/eclipse/core/runtime/OperationCanceledException      [iajc]",
      "elements": [
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.runCommand",
          "source": "AjdtCommand.java:44"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "119160",
      "date": "2005-12-03T05:52:55+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "119160",
  "bugId": "119160",
  "date": "2005-12-03T05:52:55+01:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}