{
  "comments": [
    "Build ID: TPTP-4.4.0-200702211545\n\nSteps To Reproduce:\nFind function doesn\u0027t work on both log view and log interactions view on a db serialized resource.\n\nMore information:",
    "Eugene, is this on target for getting fixed in 4.4?",
    "Steve, no. this is target future and will not be included in TPTP 4.4 release(IES 3.3)",
    "This is raised by downstream product as critical and to be included in TPTP 4.0. As a result, I am retargeting to i4.",
    "Marius, please take a look at the problem where NPE is through in the org.eclipse.hyades.resources.database.internal.impl.BasePagingList.getInternalId call when doing Find with large log resources.\n\n\njava.lang.NullPointerException\nat org.eclipse.hyades.resources.database.internal.impl.BasePagingList.getInternalId(BasePagingList.java:436)\nat org.eclipse.tptp.platform.log.views.internal.util.LogRecordSearch$2.run(LogRecordSearch.java:235)\nat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)\nat org.eclipse.tptp.platform.log.views.internal.util.LogRecordSearch.lookForStartCursorIndex(LogRecordSearch.java:226)\nat org.eclipse.tptp.platform.log.views.internal.util.LogRecordSearch.initStartNode(LogRecordSearch.java:72)\nat org.eclipse.hyades.sd.logc.internal.loader.LogInteractions.findRecord(LogInteractions.java:2417)\nat org.eclipse.tptp.platform.log.views.internal.util.SearchRecordDialog.widgetSelected(SearchRecordDialog.java:230)\nat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3673)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3284)\nat org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\nat org.eclipse.jface.window.Window.open(Window.java:796)\nat org.eclipse.hyades.sd.logc.internal.loader.LogInteractions.find(LogInteractions.java:2379)\nat org.eclipse.hyades.sd.logc.internal.loader.LogInteractions$5.run(LogInteractions.java:2365)\nat org.eclipse.jface.action.Action.runWithEvent(Action.java:498)\nat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:545)\nat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490)\nat org.eclipse.jface.action.ActionContributionItem$6.handleEvent(ActionContributionItem.java:443)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3673)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3284)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2365)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2329)\nat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2204)\nat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)\nat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\nat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\nat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:615)\nat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:497)\nat org.eclipse.equinox.launcher.Main.basicRun(Main.java:436)\nat org.eclipse.equinox.launcher.Main.run(Main.java:1162)\n",
    "Eugene,\n\nA similar conversion should happen in SQL case also (see RecordFilterSearchUtil.java line 145):\n\n\t\t\tString elemAttribute \u003d ColumnsUtility.getInstance().retrieveEAttributeForColumn(filterTableElement.getAttribute());\n\nin LogQueryBuilder.java line 217:\n\nattribute \u003d findAttributeInList(searchFilters[i].getAttribute(), attributes);\n\nor add a displayName to IFilterElement and remove the conversion.\n\nI pass you back this defect as I don\u0027t have access to log view code.\n\nPlease let me know if you need any help.\n",
    "The problem is triggered because of the fact that we use labels instead of the EMF attribute names in the IFilterElement and the merged query doesn\u0027t contain the search criteria.",
    "Created an attachment (id\u003d69420)\npatch of org.eclipse.tptp.platform.log.views\n\nMarius. I have update the code in log view to make sure the correct query is sent to the engine. However, there is still problem in org.eclipse.hyades.resources.database.internal.impl.BasePagingList.getInternalId(int)\nwhere \ngetRS().absolute(index+1);  [line 461]\nthrows exception",
    "Marius, would you please take a look at the problem in comment #7 so I can move forward for my fix.",
    "(In reply to comment #8)\n\u003e Marius, would you please take a look at the problem in comment #7 so I can move\n\u003e forward for my fix.\n\u003e \n\nEugene, the fix for that problem is in CVS, done as part of bug 182620.\n\nI\u0027ve tested your patch and it works fine.\n",
    "Thanks Marius for reviewing the patch",
    "Patch submitted to HEAD",
    "Verified with TPTP-4.4.0-200706070100.",
    "Closing..."
  ],
  "commentCreationDates": [
    "2007-02-26T21:12:39+01:00",
    "2007-05-11T23:28:31+02:00",
    "2007-05-11T23:42:22+02:00",
    "2007-05-14T23:17:38+02:00",
    "2007-05-28T23:32:59+02:00",
    "2007-05-30T21:27:04+02:00",
    "2007-05-30T21:29:24+02:00",
    "2007-05-31T01:02:54+02:00",
    "2007-05-31T01:03:53+02:00",
    "2007-05-31T01:35:07+02:00",
    "2007-05-31T05:37:02+02:00",
    "2007-05-31T07:07:37+02:00",
    "2007-06-16T01:36:05+02:00",
    "2007-06-16T01:36:21+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.hyades.resources.database.internal.impl.BasePagingList.getInternalId",
          "source": "BasePagingList.java:436"
        },
        {
          "method": "org.eclipse.tptp.platform.log.views.internal.util.LogRecordSearch$2.run",
          "source": "LogRecordSearch.java:235"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:67"
        },
        {
          "method": "org.eclipse.tptp.platform.log.views.internal.util.LogRecordSearch.lookForStartCursorIndex",
          "source": "LogRecordSearch.java:226"
        },
        {
          "method": "org.eclipse.tptp.platform.log.views.internal.util.LogRecordSearch.initStartNode",
          "source": "LogRecordSearch.java:72"
        },
        {
          "method": "org.eclipse.hyades.sd.logc.internal.loader.LogInteractions.findRecord",
          "source": "LogInteractions.java:2417"
        },
        {
          "method": "org.eclipse.tptp.platform.log.views.internal.util.SearchRecordDialog.widgetSelected",
          "source": "SearchRecordDialog.java:230"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:227"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3673"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3284"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:820"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:796"
        },
        {
          "method": "org.eclipse.hyades.sd.logc.internal.loader.LogInteractions.find",
          "source": "LogInteractions.java:2379"
        },
        {
          "method": "org.eclipse.hyades.sd.logc.internal.loader.LogInteractions$5.run",
          "source": "LogInteractions.java:2365"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:498"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:545"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:490"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$6.handleEvent",
          "source": "ActionContributionItem.java:443"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3673"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3284"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2365"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2329"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2204"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:466"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:461"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:153"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:363"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:176"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:64"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:43"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:615"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:497"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:436"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1162"
        }
      ],
      "number": 0,
      "commentIndex": 4,
      "bugId": "175601",
      "date": "2007-05-28T23:32:59+02:00",
      "product": "TPTP Log Analyzer",
      "component": "Platform.UI.LogView",
      "severity": "critical"
    }
  ],
  "groupId": "175601",
  "bugId": "175601",
  "date": "2007-02-26T21:12:39+01:00",
  "product": "TPTP Log Analyzer",
  "component": "Platform.UI.LogView",
  "severity": "critical"
}