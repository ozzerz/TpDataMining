{
  "comments": [
    "Build: I20050509-2010\n\nIResourceRuleFactory#modifyRule returns the argument by default when modifying a\nproject.  This is not correct for project close. Since closing a project calls\narbitrary resource change listeners, it rule must be the workspace root.  Either\nwe need to add a new rule for closing resources, or change the default modify\nrule for projects to be the parent.  Here is an error that occurs in this build\nas a result of this invalid rule:\n\njava.lang.IllegalArgumentException: Attempted to beginRule: R/, does not match\nouter scope rule:\nMultiRule[P/org.eclipse.core.boot,P/org.eclipse.core.commands,P/org.eclipse.core.filebuffers,P/org.eclipse.core.resources,P/org.eclipse.core.resources.compatibility,P/org.eclipse.core.resources.hpux,P/org.eclipse.core.resources.linux,P/org.eclipse.core.resources.macosx,P/org.eclipse.core.resources.qnx,P/org.eclipse.core.resources.spysupport,P/org.eclipse.core.resources.win32,P/org.eclipse.core.runtime,P/org.eclipse.core.runtime.compatibility,P/org.eclipse.core.tests.harness,P/org.eclipse.core.tests.resources,P/org.eclipse.core.tests.runtime,P/org.eclipse.core.tools,P/org.eclipse.core.tools.benchmark,P/org.eclipse.core.tools.resources,P/org.eclipse.jface,P/org.eclipse.jface.text,P/org.eclipse.osgi,P/org.eclipse.osgi.services,P/org.eclipse.osgi.tests,P/org.eclipse.osgi.tests.framework,P/org.eclipse.osgi.util,P/org.eclipse.pde.build,P/org.eclipse.pde.core,P/org.eclipse.pde.ui,P/org.eclipse.platform,P/org.eclipse.platform.doc.isv,P/org.eclipse.platform.doc.user,P/org.eclipse.platform-feature,P/org.eclipse.releng,P/org.eclipse.sdk,P/org.eclipse.sdk.win32,P/org.eclipse.swt,P/org.eclipse.swt.win32.win32.x86,P/org.eclipse.test,P/org.eclipse.test.performance,P/org.eclipse.test.performance.win32,P/org.eclipse.text,P/org.eclipse.ui,P/org.eclipse.ui.browser,P/org.eclipse.ui.console,P/org.eclipse.ui.editors,P/org.eclipse.ui.examples.job,P/org.eclipse.ui.ide,P/org.eclipse.ui.tests,P/org.eclipse.ui.tests.rcp,P/org.eclipse.ui.views,P/org.eclipse.ui.workbench,P/org.eclipse.ui.workbench.texteditor,P/org.eclipse.update.configurator,P/org.junit,P/perf.eclipse.org,P/platform-core-home,P/test,P/zzJohn]\n\tat org.eclipse.core.internal.runtime.Assert.isLegal(Assert.java:58)\n\tat org.eclipse.core.internal.jobs.ThreadJob.illegalPush(ThreadJob.java:117)\n\tat org.eclipse.core.internal.jobs.ThreadJob.push(ThreadJob.java:211)\n\tat org.eclipse.core.internal.jobs.ImplicitJobs.begin(ImplicitJobs.java:81)\n\tat org.eclipse.core.internal.jobs.JobManager.beginRule(JobManager.java:190)\n\tat org.eclipse.core.internal.resources.WorkManager.checkIn(WorkManager.java:96)\n\tat\norg.eclipse.core.internal.resources.Workspace.prepareOperation(Workspace.java:1671)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1711)\n\tat\norg.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:782)\n\tat org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2836)\n\tat org.eclipse.jdt.core.JavaCore$3.run(JavaCore.java:3871)\n\tat\norg.eclipse.jdt.internal.core.BatchOperation.executeOperation(BatchOperation.java:39)\n\tat\norg.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:718)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1716)\n\tat org.eclipse.jdt.core.JavaCore.run(JavaCore.java:3680)\n\tat org.eclipse.jdt.core.JavaCore.setClasspathContainer(JavaCore.java:3854)\n\tat\norg.eclipse.pde.internal.core.SearchablePluginsManager.updateClasspathContainer(SearchablePluginsManager.java:175)\n\tat\norg.eclipse.pde.internal.core.SearchablePluginsManager.updateClasspathContainer(SearchablePluginsManager.java:160)\n\tat\norg.eclipse.pde.internal.core.PluginModelManager.handleModelsChanged(PluginModelManager.java:271)\n\tat\norg.eclipse.pde.internal.core.PluginModelManager.access$0(PluginModelManager.java:188)\n\tat\norg.eclipse.pde.internal.core.PluginModelManager$1.modelsChanged(PluginModelManager.java:37)\n\tat\norg.eclipse.pde.internal.core.WorkspaceModelManager.fireModelProviderEvent(WorkspaceModelManager.java:717)\n\tat\norg.eclipse.pde.internal.core.WorkspaceModelManager.processModelChanges(WorkspaceModelManager.java:711)\n\tat\norg.eclipse.pde.internal.core.WorkspaceModelManager.resourceChanged(WorkspaceModelManager.java:428)\n\tat\norg.eclipse.core.internal.events.NotificationManager$2.run(NotificationManager.java:276)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1029)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:775)\n\tat\norg.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.java:270)\n\tat\norg.eclipse.core.internal.events.NotificationManager.handleEvent(NotificationManager.java:242)\n\tat org.eclipse.core.internal.resources.Workspace.broadcastEvent(Workspace.java:195)\n\tat org.eclipse.core.internal.resources.Project.close(Project.java:171)\n\tat\norg.eclipse.ui.actions.CloseResourceAction.invokeOperation(CloseResourceAction.java:169)\n\tat org.eclipse.ui.actions.WorkspaceAction.execute(WorkspaceAction.java:133)\n\tat\norg.eclipse.ui.actions.WorkspaceAction$2.runInWorkspace(WorkspaceAction.java:414)\n\tat\norg.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:38)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)",
    "Should consider for M7.",
    "After further inspection, this is actually a bug in PDE or JDT.  It is trying to\nperform an IWorkspace.run from within a PRE_CLOSE resource change listener.  The\nworkspace is closed for modification during change events so this is not\nallowed.  I have entered bug 94764 against platform resources to fix the error\nreporting in this case to accurately describe the problem.",
    "\n\n*** This bug has been marked as a duplicate of 85846 ***"
  ],
  "commentCreationDates": [
    "2005-05-10T19:23:40+02:00",
    "2005-05-10T19:24:06+02:00",
    "2005-05-11T17:49:06+02:00",
    "2006-04-28T07:07:05+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Attempted to beginRule: R/, does not match outer scope rule: MultiRule[P/org.eclipse.core.boot,P/org.eclipse.core.commands,P/org.eclipse.core.filebuffers,P/org.eclipse.core.resources,P/org.eclipse.core.resources.compatibility,P/org.eclipse.core.resources.hpux,P/org.eclipse.core.resources.linux,P/org.eclipse.core.resources.macosx,P/org.eclipse.core.resources.qnx,P/org.eclipse.core.resources.spysupport,P/org.eclipse.core.resources.win32,P/org.eclipse.core.runtime,P/org.eclipse.core.runtime.compatibility,P/org.eclipse.core.tests.harness,P/org.eclipse.core.tests.resources,P/org.eclipse.core.tests.runtime,P/org.eclipse.core.tools,P/org.eclipse.core.tools.benchmark,P/org.eclipse.core.tools.resources,P/org.eclipse.jface,P/org.eclipse.jface.text,P/org.eclipse.osgi,P/org.eclipse.osgi.services,P/org.eclipse.osgi.tests,P/org.eclipse.osgi.tests.framework,P/org.eclipse.osgi.util,P/org.eclipse.pde.build,P/org.eclipse.pde.core,P/org.eclipse.pde.ui,P/org.eclipse.platform,P/org.eclipse.platform.doc.isv,P/org.eclipse.platform.doc.user,P/org.eclipse.platform-feature,P/org.eclipse.releng,P/org.eclipse.sdk,P/org.eclipse.sdk.win32,P/org.eclipse.swt,P/org.eclipse.swt.win32.win32.x86,P/org.eclipse.test,P/org.eclipse.test.performance,P/org.eclipse.test.performance.win32,P/org.eclipse.text,P/org.eclipse.ui,P/org.eclipse.ui.browser,P/org.eclipse.ui.console,P/org.eclipse.ui.editors,P/org.eclipse.ui.examples.job,P/org.eclipse.ui.ide,P/org.eclipse.ui.tests,P/org.eclipse.ui.tests.rcp,P/org.eclipse.ui.views,P/org.eclipse.ui.workbench,P/org.eclipse.ui.workbench.texteditor,P/org.eclipse.update.configurator,P/org.junit,P/perf.eclipse.org,P/platform-core-home,P/test,P/zzJohn]",
      "elements": [
        {
          "method": "org.eclipse.core.internal.runtime.Assert.isLegal",
          "source": "Assert.java:58"
        },
        {
          "method": "org.eclipse.core.internal.jobs.ThreadJob.illegalPush",
          "source": "ThreadJob.java:117"
        },
        {
          "method": "org.eclipse.core.internal.jobs.ThreadJob.push",
          "source": "ThreadJob.java:211"
        },
        {
          "method": "org.eclipse.core.internal.jobs.ImplicitJobs.begin",
          "source": "ImplicitJobs.java:81"
        },
        {
          "method": "org.eclipse.core.internal.jobs.JobManager.beginRule",
          "source": "JobManager.java:190"
        },
        {
          "method": "org.eclipse.core.internal.resources.WorkManager.checkIn",
          "source": "WorkManager.java:96"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.prepareOperation",
          "source": "Workspace.java:1671"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1711"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.runOperation",
          "source": "JavaModelOperation.java:782"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaProject.setRawClasspath",
          "source": "JavaProject.java:2836"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore$3.run",
          "source": "JavaCore.java:3871"
        },
        {
          "method": "org.eclipse.jdt.internal.core.BatchOperation.executeOperation",
          "source": "BatchOperation.java:39"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.run",
          "source": "JavaModelOperation.java:718"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1716"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore.run",
          "source": "JavaCore.java:3680"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore.setClasspathContainer",
          "source": "JavaCore.java:3854"
        },
        {
          "method": "org.eclipse.pde.internal.core.SearchablePluginsManager.updateClasspathContainer",
          "source": "SearchablePluginsManager.java:175"
        },
        {
          "method": "org.eclipse.pde.internal.core.SearchablePluginsManager.updateClasspathContainer",
          "source": "SearchablePluginsManager.java:160"
        },
        {
          "method": "org.eclipse.pde.internal.core.PluginModelManager.handleModelsChanged",
          "source": "PluginModelManager.java:271"
        },
        {
          "method": "org.eclipse.pde.internal.core.PluginModelManager.access$0",
          "source": "PluginModelManager.java:188"
        },
        {
          "method": "org.eclipse.pde.internal.core.PluginModelManager$1.modelsChanged",
          "source": "PluginModelManager.java:37"
        },
        {
          "method": "org.eclipse.pde.internal.core.WorkspaceModelManager.fireModelProviderEvent",
          "source": "WorkspaceModelManager.java:717"
        },
        {
          "method": "org.eclipse.pde.internal.core.WorkspaceModelManager.processModelChanges",
          "source": "WorkspaceModelManager.java:711"
        },
        {
          "method": "org.eclipse.pde.internal.core.WorkspaceModelManager.resourceChanged",
          "source": "WorkspaceModelManager.java:428"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager$2.run",
          "source": "NotificationManager.java:276"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1029"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:775"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.notify",
          "source": "NotificationManager.java:270"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.handleEvent",
          "source": "NotificationManager.java:242"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.broadcastEvent",
          "source": "Workspace.java:195"
        },
        {
          "method": "org.eclipse.core.internal.resources.Project.close",
          "source": "Project.java:171"
        },
        {
          "method": "org.eclipse.ui.actions.CloseResourceAction.invokeOperation",
          "source": "CloseResourceAction.java:169"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceAction.execute",
          "source": "WorkspaceAction.java:133"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceAction$2.runInWorkspace",
          "source": "WorkspaceAction.java:414"
        },
        {
          "method": "org.eclipse.core.internal.resources.InternalWorkspaceJob.run",
          "source": "InternalWorkspaceJob.java:38"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:67"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "94435",
      "duplicateId": "85846",
      "date": "2005-05-10T19:23:40+02:00",
      "product": "PDE",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "85846",
  "bugId": "94435",
  "duplicateId": "85846",
  "date": "2005-05-10T19:23:40+02:00",
  "product": "PDE",
  "component": "UI",
  "severity": "major"
}