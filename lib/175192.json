{
  "comments": [
    "I\u0027ve been getting a spurious error on shutdown during my debugging sessions recently. Sorry but I haven\u0027t been able to nail down the circumstances that cause it to happen.\n\nHere\u0027s the callstack:\n\norg.eclipse.swt.SWTException: Failed to execute runnable (java.lang.IllegalArgumentException: Index out of bounds)\n\tat org.eclipse.swt.SWT.error(SWT.java:3478)\n\tat org.eclipse.swt.SWT.error(SWT.java:3401)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:126)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3467)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3107)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2264)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2228)\n\tat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2103)\n\tat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:457)\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:452)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:101)\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:146)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:615)\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:476)\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:416)\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1124)\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1099)\nCaused by: java.lang.IllegalArgumentException: Index out of bounds\n\tat org.eclipse.swt.SWT.error(SWT.java:3462)\n\tat org.eclipse.swt.SWT.error(SWT.java:3401)\n\tat org.eclipse.swt.SWT.error(SWT.java:3372)\n\tat org.eclipse.swt.widgets.TreeItem.findPrevious(TreeItem.java:222)\n\tat org.eclipse.swt.widgets.TreeItem.\u003cinit\u003e(TreeItem.java:189)\n\tat org.eclipse.jface.viewers.TreeViewer.createNewRowPart(TreeViewer.java:686)\n\tat org.eclipse.jface.viewers.TreeViewer.newItem(TreeViewer.java:315)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem(AbstractTreeViewer.java:798)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.insert(AbstractTreeViewer.java:2818)\n\tat org.eclipse.debug.internal.ui.viewers.model.InternalTreeModelViewer.insert(InternalTreeModelViewer.java:422)\n\tat org.eclipse.debug.internal.ui.viewers.model.ChildrenUpdate.performUpdate(ChildrenUpdate.java:70)\n\tat org.eclipse.debug.internal.ui.viewers.model.ViewerUpdateMonitor$1.runInUIThread(ViewerUpdateMonitor.java:58)\n\tat org.eclipse.ui.progress.UIJob$1.run(UIJob.java:94)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\t... 23 more",
    "\nI\u0027m in the debug perspective and the error occurs when I\u0027m closing down the debug session by closing the \u0027outer\u0027 window (i.e. normal shutdown of the outer).\n\nI\u0027ll keep my eyes open to see if I can find a repeatable scenario...\n",
    "This seems like a bug in AbstractTreeViewer.insert(Object,Object,int).  The code looks like this:\n\nint insertionPosition \u003d position;\nif (insertionPosition \u003d\u003d -1) {\n\tinsertionPosition \u003d getItemCount((Control) widget);\n}\ncreateTreeItem(widget, element, position);\n\nWe compute an insertionPosition but never use it...",
    "Created an attachment (id\u003d59658)\nPassing -1 is of course the bug\n\nAs Boris already discovered this is of course not correct",
    "Tom, there are at least two places in the code where we don\u0027t use insertionPosition...",
    "Created an attachment (id\u003d59663)\nRight somehow this was not included in my patch\n\n",
    "I just saw this too.",
    "Released \u003e20070226.",
    "Verified by code inspection in I20070321-1800"
  ],
  "commentCreationDates": [
    "2007-02-22T21:02:14+01:00",
    "2007-02-22T21:05:29+01:00",
    "2007-02-22T21:18:40+01:00",
    "2007-02-23T15:01:29+01:00",
    "2007-02-23T15:29:47+01:00",
    "2007-02-23T15:35:18+01:00",
    "2007-02-26T21:13:00+01:00",
    "2007-02-26T21:32:42+01:00",
    "2007-03-23T09:08:40+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Index out of bounds)",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3478"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3401"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:126"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3467"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3107"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2264"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2228"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2103"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:457"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:452"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:101"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:146"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:354"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:169"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:64"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:43"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:615"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:476"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:416"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1124"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1099"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.IllegalArgumentException",
        "message": "Index out of bounds",
        "elements": [
          {
            "method": "org.eclipse.swt.SWT.error",
            "source": "SWT.java:3462"
          },
          {
            "method": "org.eclipse.swt.SWT.error",
            "source": "SWT.java:3401"
          },
          {
            "method": "org.eclipse.swt.SWT.error",
            "source": "SWT.java:3372"
          },
          {
            "method": "org.eclipse.swt.widgets.TreeItem.findPrevious",
            "source": "TreeItem.java:222"
          },
          {
            "method": "org.eclipse.swt.widgets.TreeItem.\u003cinit\u003e",
            "source": "TreeItem.java:189"
          },
          {
            "method": "org.eclipse.jface.viewers.TreeViewer.createNewRowPart",
            "source": "TreeViewer.java:686"
          },
          {
            "method": "org.eclipse.jface.viewers.TreeViewer.newItem",
            "source": "TreeViewer.java:315"
          },
          {
            "method": "org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem",
            "source": "AbstractTreeViewer.java:798"
          },
          {
            "method": "org.eclipse.jface.viewers.AbstractTreeViewer.insert",
            "source": "AbstractTreeViewer.java:2818"
          },
          {
            "method": "org.eclipse.debug.internal.ui.viewers.model.InternalTreeModelViewer.insert",
            "source": "InternalTreeModelViewer.java:422"
          },
          {
            "method": "org.eclipse.debug.internal.ui.viewers.model.ChildrenUpdate.performUpdate",
            "source": "ChildrenUpdate.java:70"
          },
          {
            "method": "org.eclipse.debug.internal.ui.viewers.model.ViewerUpdateMonitor$1.runInUIThread",
            "source": "ViewerUpdateMonitor.java:58"
          },
          {
            "method": "org.eclipse.ui.progress.UIJob$1.run",
            "source": "UIJob.java:94"
          },
          {
            "method": "org.eclipse.swt.widgets.RunnableLock.run",
            "source": "RunnableLock.java:35"
          },
          {
            "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
            "source": "Synchronizer.java:123"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "175192",
      "date": "2007-02-22T21:02:14+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "175192",
  "bugId": "175192",
  "date": "2007-02-22T21:02:14+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}