{
  "comments": [
    "Just installed eclipse-SDK-20020624-linux-gtk.zip on 3 different machines\n\nWhen starting eclipse, the splash screen appears, followed by the message:\n\njava.lang.UnsatisfiedLinkError:\n/home/bram/eclipse/plugins/org.eclipse.swt.gtk_2.0.0/os/linux/x86/libswt-pi-gtk-2047.so:\n/usr/X11R6/lib/libXext.sp: shared object not open\n        at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n        at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1382)\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1290)\n        at java.lang.Runtime.loadLibrary0(Runtime.java:749)\n        at java.lang.System.loadLibrary(System.java:820)\n        at org.eclipse.swt.internal.Library.loadLibrary(Library.java:104)\n        at org.eclipse.swt.internal.gtk.OS.\u003cclinit\u003e(OS.java:19)\n        at org.eclipse.swt.widgets.Display.createDisplay(Display.java:397)\n        at org.eclipse.swt.widgets.Display.create(Display.java:391)\n        at org.eclipse.swt.graphics.Device.\u003cinit\u003e(Device.java:103)\n        at org.eclipse.swt.widgets.Display.\u003cinit\u003e(Display.java:277)\n        at org.eclipse.swt.widgets.Display.\u003cinit\u003e(Display.java:273)\n        at org.eclipse.ui.internal.Workbench.run(Workbench.java:1142)\n        at\norg.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:775)\n        at org.eclipse.core.boot.BootLoader.run(BootLoader.java:462)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:248)\n        at org.eclipse.core.launcher.Main.run(Main.java:698)\n        at org.eclipse.core.launcher.Main.main(Main.java:534)\n\n\nNote that libXext.sp is miss-spelled; variations of this error message exist\nwith completely garbled spellings instead.\n\nIt happens with \n- java versions 1.3.1, 1.3.1_02- gtk2 versions gtk2-2.0.1-1gtk and gtk2-2.0.5-1gtk\n- XFree86 versions 4.1.0-3 and 4.1.0-15\n\nBasically the OS is RedHat 7.2",
    "SSQ to investigate.\n",
    "It seems that you do not have X extentions installed. This is\nstrange, since we have a similar system with RedHat 7.2 and\nXFree86 4.1.0-3 and the library is installed on this machine.\n\nCould you confirm if you have X extentions installed or not? If\nyou have Gnome as desktop, you can run GnomeRPM and check the \nfollowing package:\n\n   Packages/System Envioronment/Libraries/XFree86-libsXXXX\n\nNormally the library is installed in:\n\n   /usr/X11R6/lib/libXext.soXXX",
    "That\u0027s why I mentioned the miss-spelling in the filename; the proper thing is\nthere, and I dont think anything is wrong with it.\n\n[root@duvel root]# ls -l /usr/X11R6/lib/libXext*\n-rw-r--r--    1 root     root        74016 Jan 23 07:21 /usr/X11R6/lib/libXext.a\nlrwxrwxrwx    1 root     root           14 Mar  1 19:08\n/usr/X11R6/lib/libXext.so -\u003e libXext.so.6.4\nlrwxrwxrwx    1 root     root           14 Mar  1 19:08\n/usr/X11R6/lib/libXext.so.6 -\u003e libXext.so.6.4\n-rwxr-xr-x    1 root     root        51632 Jan 23 07:23\n/usr/X11R6/lib/libXext.so.6.4\n[root@duvel root]# rpm -qf /usr/X11R6/lib/libXext.so\nXFree86-devel-4.1.0-15\n[root@duvel root]# rpm -V XFree86-devel\n[root@duvel root]#",
    "Could you run the following and add the output to\nthis bug report? Thanks!\n\nldd -d /home/bram/eclipse/plugins/org.eclipse.swt.gtk_2.0.0/os/linux/x86/libswt-\npi-gtk-2047.so",
    "% ldd -d\n/home/bram/eclipse/plugins/org.eclipse.swt.gtk_2.0.0/os/linux/x86/libswt-gtk-2047.so\n    statically linked",
    "Sorry, wrong library. It should be \"libswt-pi-gtk-2047.so\"\ninstead of \"libswt-gtk-2047.so\".",
    "Oops, wrong one, should be this one:\n\n% ldd -d\n/usr/home/bram/eclipse/plugins/org.eclipse.swt.gtk_2.0.0/os/linux/x86/libswt-pi-gtk-2047.so\n    /lib/libNoVersion.so.1 \u003d\u003e /lib/libNoVersion.so.1 (0x40028000)\n    libgtk-x11-2.0.so.0 \u003d\u003e /usr/lib/libgtk-x11-2.0.so.0 (0x4003a000)\n    libgdk-x11-2.0.so.0 \u003d\u003e /usr/lib/libgdk-x11-2.0.so.0 (0x40244000)\n    libatk-1.0.so.0 \u003d\u003e /usr/lib/libatk-1.0.so.0 (0x4029e000)\n    libgdk_pixbuf-2.0.so.0 \u003d\u003e /usr/lib/libgdk_pixbuf-2.0.so.0 (0x402b4000)\n    libm.so.6 \u003d\u003e /lib/i686/libm.so.6 (0x402c8000)\n    libpangox-1.0.so.0 \u003d\u003e /usr/lib/libpangox-1.0.so.0 (0x402eb000)\n    libpango-1.0.so.0 \u003d\u003e /usr/lib/libpango-1.0.so.0 (0x402f8000)\n    libgobject-2.0.so.0 \u003d\u003e /usr/lib/libgobject-2.0.so.0 (0x40329000)\n    libgmodule-2.0.so.0 \u003d\u003e /usr/lib/libgmodule-2.0.so.0 (0x40362000)\n    libdl.so.2 \u003d\u003e /lib/libdl.so.2 (0x40366000)\n    libglib-2.0.so.0 \u003d\u003e /usr/lib/libglib-2.0.so.0 (0x4036b000)\n    libc.so.6 \u003d\u003e /lib/i686/libc.so.6 (0x403d0000)\n    libpangoxft-1.0.so.0 \u003d\u003e /usr/lib/libpangoxft-1.0.so.0 (0x4050c000)\n    libXi.so.6 \u003d\u003e /usr/X11R6/lib/libXi.so.6 (0x4052b000)\n    libXft.so.1 \u003d\u003e /usr/X11R6/lib/libXft.so.1 (0x40533000)\n    libXrender.so.1 \u003d\u003e /usr/X11R6/lib/libXrender.so.1 (0x4055e000)\n    libXext.so.6 \u003d\u003e /usr/X11R6/lib/libXext.so.6 (0x40563000)\n    libX11.so.6 \u003d\u003e /usr/X11R6/lib/libX11.so.6 (0x40571000)\n    libfreetype.so.6 \u003d\u003e /usr/lib/libfreetype.so.6 (0x4064f000)\n    /lib/ld-linux.so.2 \u003d\u003e /lib/ld-linux.so.2 (0x80000000)",
    "I am not sure what is wrong. As we can see the library loader\ncan resolve all the libraries and symbols necessary to load the\nSWT library. So the VM should be able to load it. Is the library\npath set differently when you run eclipse?\n\nThe X extentions library name does not seem to be miss-spelled\neither. ",
    "Evidently I was not clear enough: the name of the shared object is ALWAYS wrong\nin the error message, but it varies a lot: sometimes the `o\u0027 is simply replaced\nby another letter, but often it it completely garbled.\nSo: although the binaries as they sit on the disk ask for the proper lib, and\nthe lib is in the right place etc., at runtime the name gets overwritten somehow.\nThis is indeed one of those hard-to-track bugs, but it is a real show-stopper,\nand I think more people will have this problem.",
    "To be even more precise: quite often the lib name appears as\n4 characters ending in `?CQ\u0027",
    "Sorry, I did not mean to say that the name is not garbled at all, but\nit seems that it is only garbled in the output message produced by the\nJava VM.\n\nAs I see, the VM is finding the library, otherwise it would not\nprint the full path name \"/usr/X11R6/lib/libXext.sXXX\", but somehow\nit is falling to open/load the file.\n\nThe problem is that I have not been able to reproduce it on a similar\nsetup as yours. The only difference is the GTK version, which is 2.0.0. I\nam going to install a newer version to see if I can reproduce it.\n\nI also thought you could try recompiling the SWT library on your\nmachine.\n",
    "libXext is not referenced by us, but by the GdkPixbuf component of GTK.  This \nleads me to the question if GTK is working at all.  Do other GTK2 apps work?  \nE.g., you could try \"gtk-demo\" and see if that works.",
    "I wouldn\u0027t mind compiling the swt lib, but I\u0027ll need some instructions,\nor is it as simple as a CVS checkout and doing a make (or ant)?\n\nAnd yes: gtk-demo works, as well as testgtk; I don\u0027t have other stuff\nhere that requires gtk2 it seems.",
    "To recompile the SWT library you need to:\n\n1) check out \"org.eclipse.swt\" as a project\n2) copy the file \".classpath_gtk\" to \".classpath\"\n3) build the project\n4) open a command shell\n5) go to \u003ceclipse data\u003e/workspace/org.eclipse.swt/bin/library and type \"csh \nbuild.csh\"",
    "One additional step is to check the Makefile.gtk for the line pointing to the \njni headers.",
    "I see the exact same error. Also RHL 7.2 with added GTK2 libraries (from RHL 7.3\nRPM set: gtk2-2.0.2-4). JDK 1.4.0_01. eclipse-SDK-2.0-linux-gtk.zip release.\nXF86 4.2.0. Same error message incl. corrupted libXext.so file name (full path\nending with \"libXext.s\" and then any amount of random chars incl. hi-bit trash),\nsimilar ldd output. Motif version works fine. gtk-demo (GTK2) works fine.",
    "Just got a new workstation running a clean RedHat 7.3 + jdk 1.3.1_02\nthe same eclipse-SDK-20020624-linux-gtk.zip now works fine.\nFunny, as Tyvole used the gtk2 from RH 7.3.\nI can\u0027t justify spending more time on this issue.",
    "So, the final verdict is, Corrupted Linux / GTK Installation?\nI am marking this as Closed-Invalid.  Bram:  Please mark the bug as \"verified\" \nto indicate you agree, or reopen the bug if there are any additional issues."
  ],
  "commentCreationDates": [
    "2002-06-26T10:06:45+02:00",
    "2002-06-26T15:31:26+02:00",
    "2002-06-26T16:39:34+02:00",
    "2002-06-26T16:49:42+02:00",
    "2002-06-27T18:08:59+02:00",
    "2002-06-27T20:16:59+02:00",
    "2002-06-27T20:31:51+02:00",
    "2002-06-27T20:35:32+02:00",
    "2002-06-27T22:19:03+02:00",
    "2002-06-28T08:45:55+02:00",
    "2002-06-28T08:59:06+02:00",
    "2002-06-28T17:22:57+02:00",
    "2002-06-28T18:06:14+02:00",
    "2002-06-28T18:46:59+02:00",
    "2002-06-28T20:38:43+02:00",
    "2002-06-29T04:45:21+02:00",
    "2002-06-29T05:29:41+02:00",
    "2002-07-01T16:23:06+02:00",
    "2002-07-03T18:43:31+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.UnsatisfiedLinkError",
      "message": "/home/bram/eclipse/plugins/org.eclipse.swt.gtk_2.0.0/os/linux/x86/libswt-pi-gtk-2047.so: /usr/X11R6/lib/libXext.sp: shared object not open",
      "elements": [
        {
          "method": "java.lang.ClassLoader$NativeLibrary.load",
          "source": "Native Method"
        },
        {
          "method": "java.lang.ClassLoader.loadLibrary0",
          "source": "ClassLoader.java:1382"
        },
        {
          "method": "java.lang.ClassLoader.loadLibrary",
          "source": "ClassLoader.java:1290"
        },
        {
          "method": "java.lang.Runtime.loadLibrary0",
          "source": "Runtime.java:749"
        },
        {
          "method": "java.lang.System.loadLibrary",
          "source": "System.java:820"
        },
        {
          "method": "org.eclipse.swt.internal.Library.loadLibrary",
          "source": "Library.java:104"
        },
        {
          "method": "org.eclipse.swt.internal.gtk.OS.\u003cclinit\u003e",
          "source": "OS.java:19"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.createDisplay",
          "source": "Display.java:397"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.create",
          "source": "Display.java:391"
        },
        {
          "method": "org.eclipse.swt.graphics.Device.\u003cinit\u003e",
          "source": "Device.java:103"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.\u003cinit\u003e",
          "source": "Display.java:277"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.\u003cinit\u003e",
          "source": "Display.java:273"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1142"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:775"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:462"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:248"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:698"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:534"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "20995",
      "date": "2002-06-26T10:06:45+02:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "blocker"
    }
  ],
  "groupId": "20995",
  "bugId": "20995",
  "date": "2002-06-26T10:06:45+02:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "blocker"
}