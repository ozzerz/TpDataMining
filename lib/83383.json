{
  "comments": [
    "I20050118 + unreleased code (not showing in any build)\n\nString signature\u003d \"foo(+Ljava.lang.Comparable;)\";\nSignature.getParameterCount(signature);\n\nBackground:\nI copied code from CompletionRequestorWrapper to work with the new\nCompletionRequestor API. When completing a METHOD_REF proposal for a method that\nhas a parameter with an open type bound, getParameterPackages I get an IAE:\n\n\n\nThe reason is the Util.scanTypeSignature does not handle bounded types.\n\n-----------\n\nI get this: \n\n!ENTRY org.eclipse.ui 4 0 2005-01-21 12:11:32.109\n!MESSAGE The command for the key you pressed failed\n!STACK 0\njava.lang.IllegalArgumentException\n\tat org.eclipse.jdt.internal.core.util.Util.scanTypeSignature(Util.java:2115)\n\tat org.eclipse.jdt.core.Signature.getParameterCount(Signature.java:944)\n\tat org.eclipse.jdt.core.Signature.getParameterTypes(Signature.java:1060)\n\tat\norg.eclipse.jdt.internal.ui.text.java.ResultCollector.getParameterPackages(ResultCollector.java:732)\n\tat\norg.eclipse.jdt.internal.ui.text.java.ResultCollector.internalAcceptMethod(ResultCollector.java:254)\n\tat\norg.eclipse.jdt.internal.ui.text.java.ResultCollector.accept(ResultCollector.java:654)\n\tat\norg.eclipse.jdt.internal.codeassist.CompletionEngine.findLocalMethods(CompletionEngine.java:2816)\n\tat\norg.eclipse.jdt.internal.codeassist.CompletionEngine.findIntefacesMethods(CompletionEngine.java:2551)\n\tat\norg.eclipse.jdt.internal.codeassist.CompletionEngine.findMethods(CompletionEngine.java:3270)\n\tat\norg.eclipse.jdt.internal.codeassist.CompletionEngine.findFieldsAndMethods(CompletionEngine.java:1903)\n\tat\norg.eclipse.jdt.internal.codeassist.CompletionEngine.complete(CompletionEngine.java:627)\n\tat\norg.eclipse.jdt.internal.codeassist.CompletionEngine.complete(CompletionEngine.java:1205)\n\tat org.eclipse.jdt.internal.core.Openable.codeComplete(Openable.java:119)\n\tat\norg.eclipse.jdt.internal.core.CompilationUnit.codeComplete(CompilationUnit.java:286)\n\tat\norg.eclipse.jdt.internal.core.CompilationUnit.codeComplete(CompilationUnit.java:279)\n\tat\norg.eclipse.jdt.internal.ui.text.java.JavaCompletionProcessor.internalComputeCompletionProposals(JavaCompletionProcessor.java:363)\n\tat\norg.eclipse.jdt.internal.ui.text.java.JavaCompletionProcessor.computeCompletionProposals(JavaCompletionProcessor.java:334)\n\tat\norg.eclipse.jface.text.contentassist.ContentAssistant.computeCompletionProposals(ContentAssistant.java:1470)\n\tat\norg.eclipse.jface.text.contentassist.CompletionProposalPopup.computeProposals(CompletionProposalPopup.java:250)\n\tat\norg.eclipse.jface.text.contentassist.CompletionProposalPopup.access$7(CompletionProposalPopup.java:247)\n\tat\norg.eclipse.jface.text.contentassist.CompletionProposalPopup$9.run(CompletionProposalPopup.java:961)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n\tat\norg.eclipse.jface.text.contentassist.CompletionProposalPopup.incrementalComplete(CompletionProposalPopup.java:956)\n\tat\norg.eclipse.jface.text.contentassist.ContentAssistant.showPossibleCompletions(ContentAssistant.java:1318)\n\tat\norg.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor$AdaptedSourceViewer.doOperation(CompilationUnitEditor.java:180)\n\tat org.eclipse.ui.texteditor.ContentAssistAction$1.run(ContentAssistAction.java:82)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n\tat org.eclipse.ui.texteditor.ContentAssistAction.run(ContentAssistAction.java:80)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:989)\n\tat org.eclipse.ui.commands.ActionHandler.execute(ActionHandler.java:188)\n\tat org.eclipse.ui.internal.commands.Command.execute(Command.java:130)\n\tat\norg.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:445)\n\tat org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:724)\n\tat\norg.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:767)\n\tat\norg.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:536)\n\tat\norg.eclipse.ui.internal.keys.WorkbenchKeyboard.access$2(WorkbenchKeyboard.java:479)\n\tat\norg.eclipse.ui.internal.keys.WorkbenchKeyboard$1.handleEvent(WorkbenchKeyboard.java:221)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Display.filterEvent(Display.java:1086)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1001)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1026)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1011)\n\tat org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1038)\n\tat org.eclipse.swt.widgets.Widget.gtk_key_press_event(Widget.java:602)\n\tat org.eclipse.swt.widgets.Control.gtk_key_press_event(Control.java:1889)\n\tat org.eclipse.swt.widgets.Composite.gtk_key_press_event(Composite.java:527)\n\tat org.eclipse.swt.widgets.Widget.windowProc(Widget.java:1338)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:3261)\n\tat org.eclipse.swt.internal.gtk.OS._gtk_main_do_event(Native Method)\n\tat org.eclipse.swt.internal.gtk.OS.gtk_main_do_event(OS.java:4642)\n\tat org.eclipse.swt.widgets.Display.eventProc(Display.java:926)\n\tat org.eclipse.swt.internal.gtk.OS._g_main_context_iteration(Native Method)\n\tat org.eclipse.swt.internal.gtk.OS.g_main_context_iteration(OS.java:1104)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2415)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1575)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1541)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:287)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:220)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:274)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:255)\n\tat org.eclipse.core.launcher.Main.run(Main.java:811)\n\tat org.eclipse.core.launcher.Main.main(Main.java:795)\nThe command for the key you pressed failed",
    "oops, bugzilla hit me again.\n\nThe stacktrace is not important for you (except the first three lines).",
    "Created an attachment (id\u003d17367)\norg.eclipse.jdt.internal.core.util.Util.diff\n\nThis may be completely off the real fix - but that\u0027s how I got it to work for\nmy purpose.",
    "Where did you find out that foo(+Ljava.lang.Comparable;) is a valid signature?\nAs far as I can tell, this is invalid. You need at least an identifier and some\n\u0027\u003c\u0027 and \u0027\u003e\u0027.\nFor example, this signature is ok foo(LA\u003c+Ljava.lang.Comparable;\u003e;).",
    "\u003e Where did you find out that foo(+Ljava.lang.Comparable;) is a valid signature?\n\nI don\u0027t know really. I might just be mistaken.\n\nWhat I did: In my CompletionRequestor, I get a CompletionProposal of type\nMETHOD_REF and use its signature to get the parameter types. For that, I pass\nthem to Signature.getParameter{Count,Types}.\n\nThe method signature contained in the proposal is in one case\n(+Ljava.lang.Comparable;).\n\nSo, the problem might be with the proposal, and not Signature... I really don\u0027t\nknow.\n\n\u003e As far as I can tell, this is invalid. You need at least an identifier and \n\u003e some \u0027\u003c\u0027 and \u0027\u003e\u0027. For example, this signature is ok \n\u003e foo(LA\u003c+Ljava.lang.Comparable;\u003e;).",
    "I guess the problem lies with the signatures received in CompletionRequestor. I\nfiled bug 83600 to track this - feel free to close this one as a dup / mistaken.",
    "Olivier - such nasty signatures are non legal from sources, but may appear\nduring substitutions, and revealed by some #getKey() APIs. Signature should thus\nsupport decoding them ok.",
    "Fixed and released in HEAD.\nRegression test added in SignatureTest.",
    "Verified in I20050215-2300"
  ],
  "commentCreationDates": [
    "2005-01-21T11:39:01+01:00",
    "2005-01-21T11:40:17+01:00",
    "2005-01-21T17:06:20+01:00",
    "2005-01-21T17:24:14+01:00",
    "2005-01-22T08:24:54+01:00",
    "2005-01-25T11:59:05+01:00",
    "2005-02-03T10:32:05+01:00",
    "2005-02-05T03:48:02+01:00",
    "2005-02-16T17:52:24+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.util.Util.scanTypeSignature",
          "source": "Util.java:2115"
        },
        {
          "method": "org.eclipse.jdt.core.Signature.getParameterCount",
          "source": "Signature.java:944"
        },
        {
          "method": "org.eclipse.jdt.core.Signature.getParameterTypes",
          "source": "Signature.java:1060"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.ResultCollector.getParameterPackages",
          "source": "ResultCollector.java:732"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.ResultCollector.internalAcceptMethod",
          "source": "ResultCollector.java:254"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.ResultCollector.accept",
          "source": "ResultCollector.java:654"
        },
        {
          "method": "org.eclipse.jdt.internal.codeassist.CompletionEngine.findLocalMethods",
          "source": "CompletionEngine.java:2816"
        },
        {
          "method": "org.eclipse.jdt.internal.codeassist.CompletionEngine.findIntefacesMethods",
          "source": "CompletionEngine.java:2551"
        },
        {
          "method": "org.eclipse.jdt.internal.codeassist.CompletionEngine.findMethods",
          "source": "CompletionEngine.java:3270"
        },
        {
          "method": "org.eclipse.jdt.internal.codeassist.CompletionEngine.findFieldsAndMethods",
          "source": "CompletionEngine.java:1903"
        },
        {
          "method": "org.eclipse.jdt.internal.codeassist.CompletionEngine.complete",
          "source": "CompletionEngine.java:627"
        },
        {
          "method": "org.eclipse.jdt.internal.codeassist.CompletionEngine.complete",
          "source": "CompletionEngine.java:1205"
        },
        {
          "method": "org.eclipse.jdt.internal.core.Openable.codeComplete",
          "source": "Openable.java:119"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.codeComplete",
          "source": "CompilationUnit.java:286"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.codeComplete",
          "source": "CompilationUnit.java:279"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.JavaCompletionProcessor.internalComputeCompletionProposals",
          "source": "JavaCompletionProcessor.java:363"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.JavaCompletionProcessor.computeCompletionProposals",
          "source": "JavaCompletionProcessor.java:334"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.ContentAssistant.computeCompletionProposals",
          "source": "ContentAssistant.java:1470"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.computeProposals",
          "source": "CompletionProposalPopup.java:250"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.access$7",
          "source": "CompletionProposalPopup.java:247"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup$9.run",
          "source": "CompletionProposalPopup.java:961"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.incrementalComplete",
          "source": "CompletionProposalPopup.java:956"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.ContentAssistant.showPossibleCompletions",
          "source": "ContentAssistant.java:1318"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor$AdaptedSourceViewer.doOperation",
          "source": "CompilationUnitEditor.java:180"
        },
        {
          "method": "org.eclipse.ui.texteditor.ContentAssistAction$1.run",
          "source": "ContentAssistAction.java:82"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.ui.texteditor.ContentAssistAction.run",
          "source": "ContentAssistAction.java:80"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:989"
        },
        {
          "method": "org.eclipse.ui.commands.ActionHandler.execute",
          "source": "ActionHandler.java:188"
        },
        {
          "method": "org.eclipse.ui.internal.commands.Command.execute",
          "source": "Command.java:130"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand",
          "source": "WorkbenchKeyboard.java:445"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.press",
          "source": "WorkbenchKeyboard.java:724"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent",
          "source": "WorkbenchKeyboard.java:767"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings",
          "source": "WorkbenchKeyboard.java:536"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$2",
          "source": "WorkbenchKeyboard.java:479"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard$1.handleEvent",
          "source": "WorkbenchKeyboard.java:221"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.filterEvent",
          "source": "Display.java:1086"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1001"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1026"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1011"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendKeyEvent",
          "source": "Widget.java:1038"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.gtk_key_press_event",
          "source": "Widget.java:602"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.gtk_key_press_event",
          "source": "Control.java:1889"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.gtk_key_press_event",
          "source": "Composite.java:527"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.windowProc",
          "source": "Widget.java:1338"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:3261"
        },
        {
          "method": "org.eclipse.swt.internal.gtk.OS._gtk_main_do_event",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.gtk.OS.gtk_main_do_event",
          "source": "OS.java:4642"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.eventProc",
          "source": "Display.java:926"
        },
        {
          "method": "org.eclipse.swt.internal.gtk.OS._g_main_context_iteration",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.gtk.OS.g_main_context_iteration",
          "source": "OS.java:1104"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2415"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1575"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1541"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:287"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:144"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:102"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:220"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:274"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:255"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:811"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:795"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "83383",
      "date": "2005-01-21T11:39:01+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "83383",
  "bugId": "83383",
  "date": "2005-01-21T11:39:01+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}