{
  "comments": [
    "I2002-12-18\n\nEditing source code while using \"Show Source of Selected Element Only\" results in the \nfollowing exception (two times) and Eclipse being unusable afterwards:\n\njava.lang.IllegalArgumentException: Argument not valid\n  at org.eclipse.swt.SWT.error(SWT.java:2166)\n  at org.eclipse.swt.SWT.error(SWT.java:2110)\n  at org.eclipse.jface.text.DocumentAdapter.getLineAtOffset(DocumentAdapter.java:118)\n  at org.eclipse.swt.custom.StyledText.getLocationAtOffset(StyledText.java:3886)\n  at org.eclipse.jdt.internal.ui.javaeditor.BracketPainter.draw(BracketPainter.java:109)\n  ...\n\nTrying to close the specific editor is not possible but there is no additional log entry. \nWhen pressing Cmd-Q, an ErrorDialog displaying \"An error has occured when closing \nthe workbench...\" and the log fills with another stacktrace like above.\n\nI was not able to reproduce this on Win32 so I think it\u0027s a Mac related problem.",
    "Can\u0027t seem to make this happen anymore.  Please reopen if not fixed in M4.",
    "As you might know, I2002-12-18 and M4 are identical -\u003e I still have the \nproblem. So just to make sure that you find a comparable setup, I observed \nthis on:\n\n- PowerMac G4, 500MHz, 512MB RAM, _not_ capable of Quartz Extreme running \nMacOS X 10.2.3 (JDK 1.4.1DP8 installed, Eclipse running with 1.3.1)\n- PowerBook G3, 500Mhz, 512MB RAM, _not_ capable of Quartz Extreme running \nMacOS X 10.2.3 (JDK 1.4.1DP6 installed, Eclipse running with 1.3.1)\n- PowerMac Dual G4, 1.2GHz, 1024MB RAM, capable of Quartz Extreme running \nMacOS X 10.2.2 (JDK 1.3.1)\n\nThose were all the systems I tried and the problem immediately appeared on \n_any_ of them. NB: It\u0027s important that you try to edit the class while showing \nonly the selected element i.e. the empty main method. Place the cursor behind \nthe first brace press enter - BOOM.\n",
    "I\u0027m sorry.  I didn\u0027t try typing.  I had seen this bug before happening when the \nmouse hovered.  My mistake.",
    "No problem. I just began to be in doubt about my sanity because I was always \nexperiencing this and you didn\u0027t ... However, my GP told be that everything\u0027s \nfine ;-)",
    "This problem is not related to [Bug 29094] \"Show Source of Selected Element \nOnly\" makes Eclipse crash.  29094 is a JDT problem related to bidi.",
    "As far as I can tell, the problem is with TextViewerHoverManager and the \ngetHoverEventLocation() method.  \n\nOn the Mac, I start a workspace and the Source of Selected Element Only \ntoolitem is on.  I then select the main method of a class with code similar to \nthe following:\n\n    public static void main(String[] args) {\n\n        System.out.println(\"test1\");\n        System.out.println(\"test2\");\n    }\n\nIf I then click after the first curly brace, the hover text manager computes \nthe offset for a location that is on the third line of the method, not the \nfirst.  I\u0027m not sure why this occurs on the Mac and not Windows - perhaps a \ntiming or event handling issue.  At any rate, someone who is more familiar with \nthe code needs to identify the problem.\n",
    "So clicking, moving the cursor and then typing is causing the problem.  ",
    "ZILLLLLLLLLLLLLLBUGGGGGGGGGAAAAAAAAAHHHHHHHHHHHHHHHHHHH!!!!!!!!!!!!!!!",
    "Looks like SWT.  Andre, can you look at this?  You might be able to find \nsomeone more familiar with TextViewerHoverManager.  Thanks.",
    "No, its a child/base document problem and it seems to occur more often on MacOS X \nbecause more \"semi-direct drawing\" occurs (Control.redraw() followed by \nControl.update()).\nMoving over to Kai.",
    "Fixed. Build RC1.",
    "start verifying",
    "Works for me on Win2K.\nAsked AW to verify on MAC.\n",
    "verified on RC1"
  ],
  "commentCreationDates": [
    "2002-12-20T08:29:33+01:00",
    "2003-01-02T21:59:41+01:00",
    "2003-01-03T07:36:05+01:00",
    "2003-01-03T19:30:25+01:00",
    "2003-01-06T09:19:31+01:00",
    "2003-01-10T22:29:36+01:00",
    "2003-01-14T19:00:19+01:00",
    "2003-01-14T19:07:46+01:00",
    "2003-01-23T16:42:08+01:00",
    "2003-01-23T16:43:41+01:00",
    "2003-02-11T09:46:10+01:00",
    "2003-02-24T15:14:13+01:00",
    "2003-02-26T15:26:06+01:00",
    "2003-02-26T15:31:06+01:00",
    "2003-02-26T15:59:58+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Argument not valid",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2166"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2110"
        },
        {
          "method": "org.eclipse.jface.text.DocumentAdapter.getLineAtOffset",
          "source": "DocumentAdapter.java:118"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.getLocationAtOffset",
          "source": "StyledText.java:3886"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.BracketPainter.draw",
          "source": "BracketPainter.java:109"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "28711",
      "date": "2002-12-20T08:29:33+01:00",
      "product": "Platform",
      "component": "Text",
      "severity": "critical"
    }
  ],
  "groupId": "28711",
  "bugId": "28711",
  "date": "2002-12-20T08:29:33+01:00",
  "product": "Platform",
  "component": "Text",
  "severity": "critical"
}