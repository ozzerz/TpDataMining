{
  "comments": [
    "An IStorage implementation that doesn\u0027t stem from a file and thus, returns null\non a call to getFullPath(), causes an exception with the following stacktrace:\n\norg.eclipse.ui.PartInitException: Editor could not be initialized.\n    at\norg.eclipse.wst.xml.ui.internal.tabletree.XMLMultiPageEditorPart.addSourcePage(XMLMultiPageEditorPart.java:227)\n    at\norg.eclipse.wst.xml.ui.internal.tabletree.XMLMultiPageEditorPart.createPages(XMLMultiPageEditorPart.java:278)\n    at\norg.eclipse.ui.part.MultiPageEditorPart.createPartControl(MultiPageEditorPart.java:241)\n    at\norg.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:585)\n    at org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:365)\n    at\norg.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:552)\n    at org.eclipse.ui.internal.EditorReference.getEditor(EditorReference.java:214)\n    at\norg.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched(WorkbenchPage.java:2325)\n    at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2258)\n    at org.eclipse.ui.internal.WorkbenchPage.access$9(WorkbenchPage.java:2250)\n    at org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:2236)\n    at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n    at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2231)\n    at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2204)",
    "Thanks, Thomas. But ... are you sure? \nActually looking at the revision history of this code, looks like way back, long\nago, such as 6/21 :)\nwe might have had such methods, but I not longer see a hint of them. \nCan you you try things out with a more recent I-build (e.g. from 7/21 or greater?)\n\nThanks again, and feel free to re-open if you are still seeing problems in more\nrecent builds. \n",
    "Reoening.  IStorage.getFullPath can return null and the code for creating an\nAnnotationModel in the StorageModelProvider is vulnerable to an NPE.",
    "Thanks very much for clarifying this Nitin. \nSo this is sort of due to us providing a \nStorageModelProvider? Why does it work for \nCVS? Is it no longer a StorageProvider? \n\nIs there a quick easy safe fix?",
    "Yes, the quick/easy fix is check for a null full path and should be safe.\n\nWe first encountered the bug in 3.0 with CVS files, but CVS fixed their IStorage\nimplementation in early 3.1 development so we didn\u0027t see the error anymore.  The\nannotation model creation code must have been updated sometime in between.  Our\nExtendedStorageEditorInputView test case returns an IStorage with a full path so\nI never encountered the error when testing our IStorageEditorInput.\n",
    "Created an attachment (id\u003d25152)\npatch to add null check\n",
    "CCing David for patch review.\n\nI\u0027ve been able to open the XML Source Editor correctly with a null\nIStorage.getFullPath() only after applying the patch.  My view\u0027s not opening the\ncorrect default editor for some reason, but the change should fix all of our\neditors.",
    "Thanks Nitin, I will release this safe fix for RC2. \n",
    "This change is a bulk update of all _un_targeted, fixed, resolved bugs upon release of M5. This particular bug _might_ have been fixed earlier than M5. (Feel free to correct). \n\n",
    "This is part of a mass update to close out all stale WTP defects already verified by the reporter but awaiting closure by the assignee.  If you feel this defect was closed inappropriately, please reopen.\n\nThanks, John Lanuti"
  ],
  "commentCreationDates": [
    "2005-07-21T09:49:47+02:00",
    "2005-07-21T17:21:58+02:00",
    "2005-07-21T21:08:17+02:00",
    "2005-07-21T21:15:53+02:00",
    "2005-07-21T21:52:07+02:00",
    "2005-07-21T22:18:29+02:00",
    "2005-07-21T22:21:15+02:00",
    "2005-07-21T23:33:26+02:00",
    "2006-03-04T06:04:41+01:00",
    "2006-11-28T20:39:40+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.ui.PartInitException",
      "message": "Editor could not be initialized.",
      "elements": [
        {
          "method": "org.eclipse.wst.xml.ui.internal.tabletree.XMLMultiPageEditorPart.addSourcePage",
          "source": "XMLMultiPageEditorPart.java:227"
        },
        {
          "method": "org.eclipse.wst.xml.ui.internal.tabletree.XMLMultiPageEditorPart.createPages",
          "source": "XMLMultiPageEditorPart.java:278"
        },
        {
          "method": "org.eclipse.ui.part.MultiPageEditorPart.createPartControl",
          "source": "MultiPageEditorPart.java:241"
        },
        {
          "method": "org.eclipse.ui.internal.EditorReference.createPartHelper",
          "source": "EditorReference.java:585"
        },
        {
          "method": "org.eclipse.ui.internal.EditorReference.createPart",
          "source": "EditorReference.java:365"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPartReference.getPart",
          "source": "WorkbenchPartReference.java:552"
        },
        {
          "method": "org.eclipse.ui.internal.EditorReference.getEditor",
          "source": "EditorReference.java:214"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched",
          "source": "WorkbenchPage.java:2325"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor",
          "source": "WorkbenchPage.java:2258"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.access$9",
          "source": "WorkbenchPage.java:2250"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$9.run",
          "source": "WorkbenchPage.java:2236"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:2231"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:2204"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "104624",
      "date": "2005-07-21T09:49:47+02:00",
      "product": "Web Tools",
      "component": "wst.xml",
      "severity": "normal"
    }
  ],
  "groupId": "104624",
  "bugId": "104624",
  "date": "2005-07-21T09:49:47+02:00",
  "product": "Web Tools",
  "component": "wst.xml",
  "severity": "normal"
}