{
  "comments": [
    "Using HEAD, the batch compiler doesn\u0027t report very nicely that the output directory is a file.\nIt needs to be a directory.",
    "Created an attachment (id\u003d38704)\nProposed fix\n\n",
    "With the fix:\nThe output directory is a file : d:\\tests_sources\\X.java\n[compiled 2 lines in 781 ms: 2.5 lines/s]\n[1 .class file generated]\nNo .class file created for file X.class in d:\\tests_sources\\X.java because of an IOException.\n\nThe outDir is a file : d:\\tests_sources\\X.java\n[compiled 2 lines in 772 ms: 2.5 lines/s]\n[1 .class file generated]\njava.io.IOException: The outDir is a file not a directory.\n\tat org.eclipse.jdt.internal.compiler.ClassFile.buildAllDirectoriesInto(ClassFile.java:123)\n\tat org.eclipse.jdt.internal.compiler.ClassFile.writeToDisk(ClassFile.java:290)\n\tat org.eclipse.jdt.internal.compiler.batch.Main.outputClassFiles(Main.java:2779)\n\tat org.eclipse.jdt.internal.compiler.batch.Main$1.acceptResult(Main.java:2656)\n\tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:405)\n\tat org.eclipse.jdt.internal.compiler.batch.Main.performCompilation(Main.java:2825)\n\tat org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:1303)\n\tat org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:1109)\n\tat org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:1101)\n\tat org.eclipse.jdt.core.tools.compiler.Compile.main(Compile.java:19)\nNo .class file created for file named d:\\tests_sources\\X.javaX.class because of an IOException.\n",
    "The second part is the actual behavior without the patch.",
    "+1 for 3.2RC2",
    "Fixed and released in HEAD.\nNow the batch compiler reports:\nThe output directory is a file : d:\\tests_sources\\X.java\n[compiled 2 lines in 781 ms: 2.5 lines/s]\nNo .class file created for file X.class in d:\\tests_sources\\X.java because of\nan IOException.",
    "Current code simply returns:\nNo .class file created for file X.class in d:\\tests_sources\\X.java because of an IOException: The output directory is a file : d:\\tests_sources\\X.java\n\nI removed the usage of System.out.println(...) since this is polluting the console.",
    "Verified with I20060427-1600 for 3.2RC2"
  ],
  "commentCreationDates": [
    "2006-04-17T20:44:21+02:00",
    "2006-04-17T20:45:13+02:00",
    "2006-04-17T20:46:09+02:00",
    "2006-04-17T20:46:37+02:00",
    "2006-04-18T11:10:25+02:00",
    "2006-04-18T20:38:26+02:00",
    "2006-04-18T21:17:01+02:00",
    "2006-04-28T20:30:54+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.io.IOException",
      "message": "The outDir is a file not a directory.",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.ClassFile.buildAllDirectoriesInto",
          "source": "ClassFile.java:123"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ClassFile.writeToDisk",
          "source": "ClassFile.java:290"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.batch.Main.outputClassFiles",
          "source": "Main.java:2779"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.batch.Main$1.acceptResult",
          "source": "Main.java:2656"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:405"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.batch.Main.performCompilation",
          "source": "Main.java:2825"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.batch.Main.compile",
          "source": "Main.java:1303"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.batch.Main.compile",
          "source": "Main.java:1109"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.batch.Main.compile",
          "source": "Main.java:1101"
        },
        {
          "method": "org.eclipse.jdt.core.tools.compiler.Compile.main",
          "source": "Compile.java:19"
        }
      ],
      "number": 0,
      "commentIndex": 2,
      "bugId": "137053",
      "date": "2006-04-17T20:46:09+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "137053",
  "bugId": "137053",
  "date": "2006-04-17T20:44:21+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}