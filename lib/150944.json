{
  "comments": [
    "I have a report that throws a org.eclipse.birt.data.engine.core.DataException exception (see Stack trace below) whenever I try to run it using the report engine API.\nThe report works perfectly under Eclipse preview, and when viewed in an app server (Tomcat, Weblogic).\n\nI use the following code to create the PDF file:\n private static void executeReport(final String reportFile, final String pdfFile) throws EngineException\n    {\n        //Engine Configuration - set and get temp dir, BIRT home, Servlet context\n        EngineConfig config \u003d new EngineConfig();\n        config.setEngineHome( birtReportEngineHome );   \n        \n        //Create the report engine\n        ReportEngine engine \u003d new ReportEngine( config );\n        \n        \n        //Open a report design - use design to modify design, retrieve embedded images etc. \n        IReportRunnable design \u003d engine.openReportDesign(reportFile);\n        \n        //Create task to run the report - use the task to execute and run the report,\n        IRunAndRenderTask task \u003d engine.createRunAndRenderTask(design); \n        \n        //Set Render context to handle url and image locataions\n        PDFRenderContext renderContext \u003d new PDFRenderContext();\n        renderContext.setEmbededFont(true);\n        HashMap contextMap \u003d new HashMap();\n        contextMap.put( EngineConstants.APPCONTEXT_PDF_RENDER_CONTEXT, renderContext );\n        task.setAppContext( contextMap );\n        \n        //Set rendering options - such as file or stream output, \n        //output format, whether it is embeddable, etc\n        RenderOptionBase options \u003d new RenderOptionBase();\n        options.setOutputFileName(pdfFile);\n        options.setOutputFormat(RenderOptionBase.OUTPUT_FORMAT_PDF);\n        task.setRenderOption(options);\n        \n        //run the report and destroy the engine\n        task.run();\n        \n        engine.destroy();\n    }   \n\nAnd when I run the report, I get the following stack trace:\nSEVERE: A BIRT exception occurred: Can not convert the value of 2006-07-10 to Date type.. See next exception for more information.\nCan not convert the value of 2006-07-10 to Date type.\norg.eclipse.birt.data.engine.core.DataException: A BIRT exception occurred: Can not convert the value of 2006-07-10 to Date type.. See next exception for more information.\nCan not convert the value of 2006-07-10 to Date type.\n\tat org.eclipse.birt.data.engine.core.DataException.wrap(DataException.java:114)\n\tat org.eclipse.birt.data.engine.expression.ColumnReferenceExpression.evaluate(ColumnReferenceExpression.java:132)\n\tat org.eclipse.birt.data.engine.script.ScriptEvalUtil.evalExpr(ScriptEvalUtil.java:501)\n\tat org.eclipse.birt.data.engine.executor.transform.group.GroupInstanceSorter.populateGroupBoundaryInfoSortings(GroupInstanceSorter.java:144)\n\tat org.eclipse.birt.data.engine.executor.transform.group.GroupInstanceSorter.populateGroupBoundaryInfosSortings(GroupInstanceSorter.java:117)\n\tat org.eclipse.birt.data.engine.executor.transform.group.GroupInstanceSorter.doGroupSorting(GroupInstanceSorter.java:62)\n\tat org.eclipse.birt.data.engine.executor.transform.group.GroupProcessorManager.doGroupFilteringAndSorting(GroupProcessorManager.java:79)\n\tat org.eclipse.birt.data.engine.executor.transform.MultiPassRowProcessor.populateResultSet(MultiPassRowProcessor.java:334)\n\tat org.eclipse.birt.data.engine.executor.transform.MultiPassRowProcessor.doPopulation(MultiPassRowProcessor.java:137)\n\tat org.eclipse.birt.data.engine.executor.transform.MultiPassRowProcessor.pass(MultiPassRowProcessor.java:103)\n\tat org.eclipse.birt.data.engine.executor.transform.ResultSetPopulator.populateResultSet(ResultSetPopulator.java:206)\n\tat org.eclipse.birt.data.engine.executor.transform.CachedResultSet.\u003cinit\u003e(CachedResultSet.java:69)\n\tat org.eclipse.birt.data.engine.executor.DataSourceQuery.execute(DataSourceQuery.java:488)\n\tat org.eclipse.birt.data.engine.impl.PreparedOdaDSQuery$OdaDSQueryExecutor.executeOdiQuery(PreparedOdaDSQuery.java:257)\n\tat org.eclipse.birt.data.engine.impl.QueryExecutor.execute(QueryExecutor.java:695)\n\tat org.eclipse.birt.data.engine.impl.ServiceForQueryResults.executeQuery(ServiceForQueryResults.java:152)\n\tat org.eclipse.birt.data.engine.impl.QueryResults.getResultIterator(QueryResults.java:158)\n\tat org.eclipse.birt.report.engine.data.dte.DteResultSet.\u003cinit\u003e(DteResultSet.java:79)\n\tat org.eclipse.birt.report.engine.data.dte.DteDataEngine.doExecuteQuery(DteDataEngine.java:113)\n\tat org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.execute(AbstractDataEngine.java:208)\n\tat org.eclipse.birt.report.engine.executor.ExecutionContext.executeQuery(ExecutionContext.java:1541)\n\tat org.eclipse.birt.report.engine.executor.QueryItemExecutor.executeQuery(QueryItemExecutor.java:62)\n\tat org.eclipse.birt.report.engine.executor.TableItemExecutor.execute(TableItemExecutor.java:74)\n\tat org.eclipse.birt.report.engine.internal.executor.l18n.LocalizedReportItemExecutor.execute(LocalizedReportItemExecutor.java:35)\n\tat org.eclipse.birt.report.engine.layout.content.BlockStackingExecutor.getNextChild(BlockStackingExecutor.java:47)\n\tat org.eclipse.birt.report.engine.layout.pdf.PDFBlockStackingLM.traverseChildren(PDFBlockStackingLM.java:72)\n\tat org.eclipse.birt.report.engine.layout.pdf.PDFStackingLM.layoutChildren(PDFStackingLM.java:130)\n\tat org.eclipse.birt.report.engine.layout.pdf.PDFPageLM.layout(PDFPageLM.java:198)\n\tat org.eclipse.birt.report.engine.layout.pdf.PDFReportLayoutEngine.layoutReport(PDFReportLayoutEngine.java:55)\n\tat org.eclipse.birt.report.engine.layout.pdf.PDFReportLayoutEngine.layout(PDFReportLayoutEngine.java:68)\n\tat org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run(RunAndRenderTask.java:187)\n\tat biz.scarlet.provisioning.xng.reporting.XngReporter.executeReport(XngReporter.java:119)\n\tat biz.scarlet.provisioning.xng.reporting.XngReporter.main(XngReporter.java:52)\nCaused by: org.eclipse.birt.core.exception.BirtException: Can not convert the value of 2006-07-10 to Date type.\n\tat org.eclipse.birt.core.data.DataTypeUtil.toDate(DataTypeUtil.java:474)\n\tat org.eclipse.birt.core.data.DataTypeUtil.toDate(DataTypeUtil.java:900)\n\tat org.eclipse.birt.core.data.DataTypeUtil.toDate(DataTypeUtil.java:398)\n\tat org.eclipse.birt.core.data.DataTypeUtil.convert(DataTypeUtil.java:96)\n\tat org.eclipse.birt.data.engine.expression.ColumnReferenceExpression.evaluate(ColumnReferenceExpression.java:128)\n\t... 31 more",
    "Created an attachment (id\u003d46439)\nThe failing report source\n\nThis is the design file for the failing report.",
    "\u00272006-07-10\u0027 is a date output format defined in ISO-8601 standard. It also can be convert to a date object in MySql. But DateFormat class can\u0027t parse the string of this pattern for ULocale.ENGLISH and ULocale.US. The toDate() method of DataTypeUtil class will throw exception in this case. \nWrite a parsing function in DataTypeUtil to specifically recognize all date format defined in ISO-8601."
  ],
  "commentCreationDates": [
    "2006-07-18T15:48:21+02:00",
    "2006-07-18T15:52:05+02:00",
    "2006-07-21T11:38:35+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.birt.data.engine.core.DataException",
      "message": "A BIRT exception occurred: Can not convert the value of 2006-07-10 to Date type.. See next exception for more information. Can not convert the value of 2006-07-10 to Date type.",
      "elements": [
        {
          "method": "org.eclipse.birt.data.engine.core.DataException.wrap",
          "source": "DataException.java:114"
        },
        {
          "method": "org.eclipse.birt.data.engine.expression.ColumnReferenceExpression.evaluate",
          "source": "ColumnReferenceExpression.java:132"
        },
        {
          "method": "org.eclipse.birt.data.engine.script.ScriptEvalUtil.evalExpr",
          "source": "ScriptEvalUtil.java:501"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.group.GroupInstanceSorter.populateGroupBoundaryInfoSortings",
          "source": "GroupInstanceSorter.java:144"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.group.GroupInstanceSorter.populateGroupBoundaryInfosSortings",
          "source": "GroupInstanceSorter.java:117"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.group.GroupInstanceSorter.doGroupSorting",
          "source": "GroupInstanceSorter.java:62"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.group.GroupProcessorManager.doGroupFilteringAndSorting",
          "source": "GroupProcessorManager.java:79"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.MultiPassRowProcessor.populateResultSet",
          "source": "MultiPassRowProcessor.java:334"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.MultiPassRowProcessor.doPopulation",
          "source": "MultiPassRowProcessor.java:137"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.MultiPassRowProcessor.pass",
          "source": "MultiPassRowProcessor.java:103"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.ResultSetPopulator.populateResultSet",
          "source": "ResultSetPopulator.java:206"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.CachedResultSet.\u003cinit\u003e",
          "source": "CachedResultSet.java:69"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.DataSourceQuery.execute",
          "source": "DataSourceQuery.java:488"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedOdaDSQuery$OdaDSQueryExecutor.executeOdiQuery",
          "source": "PreparedOdaDSQuery.java:257"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.QueryExecutor.execute",
          "source": "QueryExecutor.java:695"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.ServiceForQueryResults.executeQuery",
          "source": "ServiceForQueryResults.java:152"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.QueryResults.getResultIterator",
          "source": "QueryResults.java:158"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.DteResultSet.\u003cinit\u003e",
          "source": "DteResultSet.java:79"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.DteDataEngine.doExecuteQuery",
          "source": "DteDataEngine.java:113"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.execute",
          "source": "AbstractDataEngine.java:208"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ExecutionContext.executeQuery",
          "source": "ExecutionContext.java:1541"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.QueryItemExecutor.executeQuery",
          "source": "QueryItemExecutor.java:62"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.TableItemExecutor.execute",
          "source": "TableItemExecutor.java:74"
        },
        {
          "method": "org.eclipse.birt.report.engine.internal.executor.l18n.LocalizedReportItemExecutor.execute",
          "source": "LocalizedReportItemExecutor.java:35"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.content.BlockStackingExecutor.getNextChild",
          "source": "BlockStackingExecutor.java:47"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFBlockStackingLM.traverseChildren",
          "source": "PDFBlockStackingLM.java:72"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFStackingLM.layoutChildren",
          "source": "PDFStackingLM.java:130"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFPageLM.layout",
          "source": "PDFPageLM.java:198"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFReportLayoutEngine.layoutReport",
          "source": "PDFReportLayoutEngine.java:55"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFReportLayoutEngine.layout",
          "source": "PDFReportLayoutEngine.java:68"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run",
          "source": "RunAndRenderTask.java:187"
        },
        {
          "method": "biz.scarlet.provisioning.xng.reporting.XngReporter.executeReport",
          "source": "XngReporter.java:119"
        },
        {
          "method": "biz.scarlet.provisioning.xng.reporting.XngReporter.main",
          "source": "XngReporter.java:52"
        }
      ],
      "causedBy": {
        "exceptionType": "org.eclipse.birt.core.exception.BirtException",
        "message": "Can not convert the value of 2006-07-10 to Date type.",
        "elements": [
          {
            "method": "org.eclipse.birt.core.data.DataTypeUtil.toDate",
            "source": "DataTypeUtil.java:474"
          },
          {
            "method": "org.eclipse.birt.core.data.DataTypeUtil.toDate",
            "source": "DataTypeUtil.java:900"
          },
          {
            "method": "org.eclipse.birt.core.data.DataTypeUtil.toDate",
            "source": "DataTypeUtil.java:398"
          },
          {
            "method": "org.eclipse.birt.core.data.DataTypeUtil.convert",
            "source": "DataTypeUtil.java:96"
          },
          {
            "method": "org.eclipse.birt.data.engine.expression.ColumnReferenceExpression.evaluate",
            "source": "ColumnReferenceExpression.java:128"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "150944",
      "date": "2006-07-18T15:48:21+02:00",
      "product": "BIRT",
      "component": "Data",
      "severity": "blocker"
    }
  ],
  "groupId": "150944",
  "bugId": "150944",
  "date": "2006-07-18T15:48:21+02:00",
  "product": "BIRT",
  "component": "Data",
  "severity": "blocker"
}