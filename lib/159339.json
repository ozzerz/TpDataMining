{
  "comments": [
    "SetConfig crashes with a NPE exception when you set the value of Java.exe to configure the AC/RAC. This is with the 9/29 driver.\nSee the stack trace below for the detailed exception and the stack\n\n  New value\u003eC:\\Program Files\\Java\\jdk1.5.0_06\\bin\\java.exe\nException in thread \"main\" java.lang.NullPointerException\n        at java.util.StringTokenizer.\u003cinit\u003e(Unknown Source)\n        at java.util.StringTokenizer.\u003cinit\u003e(Unknown Source)\n        at org.eclipse.tptp.platform.agentcontroller.config.TestJvm.isMinimumVer\nsion(TestJvm.java:54)\n        at org.eclipse.tptp.platform.agentcontroller.config.TestJvm.isSupportedJ\nava(TestJvm.java:24)\n        at org.eclipse.tptp.platform.agentcontroller.config.SetConfig.isValidJav\na(SetConfig.java:419)\n        at org.eclipse.tptp.platform.agentcontroller.config.SetConfig.promptJava\nPath(SetConfig.java:275)\n        at org.eclipse.tptp.platform.agentcontroller.config.SetConfig.askUser(Se\ntConfig.java:173)\n        at org.eclipse.tptp.platform.agentcontroller.config.SetConfigSkeleton.ru\nn(SetConfigSkeleton.java:102)\n        at org.eclipse.tptp.platform.agentcontroller.config.SetConfig.main(SetCo\nnfig.java:69)",
    "I successfully ran SetConfig using the 9/29 download and entering my path to java, which is identical to the one used below with the exeception of \"jre\" in place of \"jdk\".  Same spaces, same version.\n\nRandy and I tried a few things and found we could reproduce the error shown below by giving the pathname for an executable that exists, but does not do act as SetConfig expects java to.\n\nCan you please check if the java in the path used launches correctly and if the problem is repeatable.",
    "In my case when I hit this error (the error occurs for any java.exe path that I put in to replace the default picked by SetConfig) the SetConfig does not proceed further and exits. If you were to accept the default Java value and modify the value in the serviceconfig.xml - it works as expected.\nOne thing to bear in mind is that the setConfig is the first thing that a user does.",
    "I still cannot reproduce. I can enter a path to a java.exe that is not the default path and have no problem, so it is not the general case.\n\nI\u0027m assigning to Randy.  You\u0027ll need to show him on your system and perhaps he can spot what the issue is.",
    "You say in Comment #1 that you were able to reproduce this issue and you have the stack trace. \nRandy and I tried a few things and found we could reproduce the error shown\nbelow by giving the pathname for an executable that exists, but does not do act\nas SetConfig expects java to.\n\nMy Config/Env that creates this error\n9/29 driver for AC. \nJava - any Java Runtime but the default that setconfig picks and Windows XP is the OS. ",
    "We were able to reproduce by setting the Java to the path C:\\cygwin\\bin\\ls.exe. I suggest you take the path you used and RUN that Java with \"-version\" option. I expect you\u0027ll find something \"non-java-like\" about the behavior (i.e., your java installation is corrupted).\n\nAs Karla probably meant to say: \"We couldn\u0027t reproduce the stack trace except by doing something totally unreasonable.\"\n\nSo... same driver version, and same attempt to use a \"different [but valid] java\" and the result is we can\u0027t reproduce. WORKSFORME",
    "Reopening bug.  SetConfig should not crash when it can\u0027t find the version string it is looking for.  It should report an error.\n\nWe might be able to identify the specific problem reported here it Guru could: 1) go to the \u003cAC Install dir\u003e\\bin \n2) enter the full path name of each java he tried when running SetConfig, adding the -version option\n3) capture the resulting output for each and report it here\n",
    "This is what I did to recreate the issue again:\na) I cleaned up the 9/29 driver on my m/c.\nb) Obtained a clean download/extraction\nc) Use any JVM with lesser than 1.5_06 then SetConfig works as expected.\n    i) The message is consistent - for example if you specify javax.exe instead of java or point to a non-java.exe then the setConfig complains of an invalid exe.\n    ii) However, If you specify a JVM version that is newer like Java 1.5_06 the SetConfig crashes. From a TI standpoint this is the most stable 15 JVM.\nThe stack trace does allude to this error - it says about a minimum version check.\n",
    "Note the following... I run SetConfig with a 1.5.0_06 Java... I even specify a java.EXE that is NEWER than 1.5.0_06, I still can\u0027t make it crash. My conclusion -- your 1.5.0_06 Java installation is corrupted. Please remove and reinstall Java and try again.\n\nNote that I\u0027ve also moved this to \"normal\"; in my mind, making it \"bulletproof\" against user-error is actually an enhancement request. Show me anyone else running into the same problem problem and we can move the priority back up.\n\nC:\\Documents and Settings\\rdsmith1\u003ejava -version\njava version \"1.5.0_06\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_06-b05)\nJava HotSpot(TM) Client VM (build 1.5.0_06-b05, mixed mode)\n\nC:\\Documents and Settings\\rdsmith1\u003ecd \\NOBACKUP\\TPTPs\\ac_4.3\\bin\n\nC:\\NOBACKUP\\TPTPs\\ac_4.3\\bin\u003e.\\SetConfig.bat\n\nC:\\NOBACKUP\\TPTPs\\ac_4.3\\bin\u003ejava -classpath ..\\lib\\config.jar;..\\lib\\config.nl1\n.jar;..\\lib\\config.nl2.jar;..\\lib\\config.nl2a.jar org.eclipse.tptp.platform.agen\ntcontroller.config.SetConfig\nSpecify the fully qualified path of \"java.exe\" (e.g. c:\\jdk1.4\\jre\\bin\\java.exe)\n:\n  Default\u003e\"C:\\NOBACKUP\\jre1.5.0_06\\bin\\java.exe\" (Press \u003cENTER\u003e to accept the de\nfault value)\n  New value\u003eC:\\NOBACKUP\\Java\\jdk1.5.0_09\\bin\\java.exe\nNetwork access mode (ALL\u003dallow any host, LOCAL\u003dallow only this host, CUSTOM\u003dlist\n of hosts):\n  Default\u003e\"LOCAL\" (Press \u003cENTER\u003e to accept the default value)\n  New value\u003e",
    "I do not see this error once I reinstall my Java console. \nThe thing that was not simple was that when you entered an invalid Java - the error mesg was clear and good that the exec is not a valid java, but when you had something else the setconfig crashes and there is no message to user that the executable is indeed invalid. "
  ],
  "commentCreationDates": [
    "2006-09-29T20:51:30+02:00",
    "2006-09-29T22:05:26+02:00",
    "2006-09-29T22:51:25+02:00",
    "2006-09-29T23:14:09+02:00",
    "2006-10-02T18:36:49+02:00",
    "2006-10-02T19:25:17+02:00",
    "2006-10-02T19:39:00+02:00",
    "2006-10-02T20:27:15+02:00",
    "2006-10-02T21:26:30+02:00",
    "2006-10-03T20:56:07+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "java.util.StringTokenizer.\u003cinit\u003e",
          "source": "Unknown Source"
        },
        {
          "method": "java.util.StringTokenizer.\u003cinit\u003e",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.tptp.platform.agentcontroller.config.TestJvm.isMinimumVersion",
          "source": "TestJvm.java:54"
        },
        {
          "method": "org.eclipse.tptp.platform.agentcontroller.config.TestJvm.isSupportedJava",
          "source": "TestJvm.java:24"
        },
        {
          "method": "org.eclipse.tptp.platform.agentcontroller.config.SetConfig.isValidJava",
          "source": "SetConfig.java:419"
        },
        {
          "method": "org.eclipse.tptp.platform.agentcontroller.config.SetConfig.promptJavaPath",
          "source": "SetConfig.java:275"
        },
        {
          "method": "org.eclipse.tptp.platform.agentcontroller.config.SetConfig.askUser",
          "source": "Se tConfig.java:173"
        },
        {
          "method": "org.eclipse.tptp.platform.agentcontroller.config.SetConfigSkeleton.run",
          "source": "SetConfigSkeleton.java:102"
        },
        {
          "method": "org.eclipse.tptp.platform.agentcontroller.config.SetConfig.main",
          "source": "SetCo nfig.java:69"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "159339",
      "date": "2006-09-29T20:51:30+02:00",
      "product": "TPTP Agent Controller",
      "component": "Platform.Collection",
      "severity": "normal"
    }
  ],
  "groupId": "159339",
  "bugId": "159339",
  "date": "2006-09-29T20:51:30+02:00",
  "product": "TPTP Agent Controller",
  "component": "Platform.Collection",
  "severity": "normal"
}