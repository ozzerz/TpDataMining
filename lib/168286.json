{
  "comments": [
    "Driver:  WTP 2.0 12151709 + patch for bug 167992 (https://bugs.eclipse.org/bugs/attachment.cgi?id\u003d55790\u0026action\u003dview)\n\nCreate a couple of Web services, then close the workspace.  Reopen the workspace would result in:\n\n*** ERROR ***: Fri Dec 15 17:04:28 EST 2006    org.eclipse.jst.j2ee.commonarchivecore.internal.excep\ntion.DeploymentDescriptorLoadException: WEB-INF/web.xml\n    Stack trace of nested exception:\n    java.lang.ClassCastException: java.lang.Float\n        at org.eclipse.jst.j2ee.webapplication.internal.impl.ServletImpl.eSet(ServletImpl.java:483)\n        at org.eclipse.emf.ecore.impl.BasicEObjectImpl.eSet(BasicEObjectImpl.java:654)\n        at org.eclipse.wst.common.internal.emf.utilities.ExtendedEcoreUtil.eSetOrAdd(ExtendedEcoreUt\nil.java:77)\n        at org.eclipse.wst.common.internal.emf.resource.Translator.setMOFValue(Translator.java:605)\n        at org.eclipse.wst.common.internal.emf.resource.Translator.setMOFValue(Translator.java:620)\n        at org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFFeature(EMF2\nDOMAdapterImpl.java:1425)\n        at org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFFeature(EMF2DOMA\ndapterImpl.java:1755)\n        at org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF(EMF2DOMAdap\nterImpl.java:929)\n        at org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF(EMF2DOMAdapterI\nmpl.java:909)\n        at org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMultiFeature\n(EMF2DOMAdapterImpl.java:457)\n        at org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMultiFeature\n(EMF2DOMAdapterImpl.java:1481)\n        at org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFMultiFeature(EMF\n2DOMAdapterImpl.java:1695)\n        at org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFFeature(EMF2DOMA\ndapterImpl.java:1737)\n        at org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF(EMF2DOMAdap\nterImpl.java:929)\n        at org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF(EMF2DOMAdapterI\nmpl.java:909)\n        at org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMultiFeature\n(EMF2DOMAdapterImpl.java:457)\n        at org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFRootFeature(EMF2\nDOMAdapterImpl.java:950)\n        at org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF(EMF2DOMAdap\nterImpl.java:925)\n        at org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF(EMF2DOMAdapterI\nmpl.java:909)\n        at org.eclipse.wst.common.internal.emf.resource.EMF2DOMRenderer.doLoad(EMF2DOMRenderer.java:\n62)\n        at org.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.basicDoLoad(Translato\nrResourceImpl.java:142)\n        at org.eclipse.wst.common.internal.emf.resource.CompatibilityXMIResourceImpl.doLoad(Compatib\nilityXMIResourceImpl.java:173)\n        at org.eclipse.emf.ecore.resource.impl.ResourceImpl.load(ResourceImpl.java:1109)\n        at org.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.load(TranslatorResour\nceImpl.java:391)\n        at org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoad(ResourceSetImpl.java:249)\n        at org.eclipse.jem.internal.util.emf.workbench.ProjectResourceSetImpl.demandLoad(ProjectReso\nurceSetImpl.java:83)\n        at org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoadHelper(ResourceSetImpl.java\n:264)\n        at org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.getResource(ResourceSetImpl.java:390)\n\n        at org.eclipse.jem.internal.util.emf.workbench.ProjectResourceSetImpl.getResource(ProjectRes\nourceSetImpl.java:262)\n        at org.eclipse.wst.common.internal.emfworkbench.WorkbenchResourceHelper.getOrCreateResource(\nWorkbenchResourceHelper.java:384)\n        at org.eclipse.wst.common.internal.emfworkbench.integration.EditModel.getResource(EditModel.\njava:679)\n        at org.eclipse.wst.common.componentcore.internal.ArtifactEditModel.getResource(ArtifactEditM\nodel.java:174)\n        at org.eclipse.wst.common.componentcore.ArtifactEdit.getResource(ArtifactEdit.java:636)\n        at org.eclipse.jst.j2ee.internal.archive.operations.ComponentLoadStrategyImpl.getMofResource\n(ComponentLoadStrategyImpl.java:529)\n        at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ArchiveImpl.getMofResource(ArchiveIm\npl.java:731)\n        at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleFileImpl.getDeploymentDescript\norResource(ModuleFileImpl.java:61)\n        at org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.XmlBasedImportStrategyImpl.primL\noadDeploymentDescriptor(XmlBasedImportStrategyImpl.java:39)\n        at org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.War22ImportStrategyImpl.loadDepl\noymentDescriptor(War22ImportStrategyImpl.java:87)\n        at org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.War22ImportStrategyImpl.importMe\ntaData(War22ImportStrategyImpl.java:81)\n        at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.WARFileImpl.getDeploymentDescriptor(\nWARFileImpl.java:145)\n        at org.eclipse.jst.j2ee.model.internal.validation.WarValidator.validateInJob(WarValidator.ja\nva:328)\n        at org.eclipse.jst.j2ee.internal.web.validation.UIWarValidator.validateInJob(UIWarValidator.\njava:92)\n        at org.eclipse.wst.validation.internal.operations.ValidatorJob.run(ValidatorJob.java:70)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\n\nAlso, I noticed that some projects are closed.  Even after manually opening them, the contents of those Web projects are not there properly.  I\u0027ll attach a workspace to this defect.",
    "Carl, can you and Neeraj take a look at this Monday?",
    "I can\u0027t reproduce the ClassCastException  (I got the workspace from Kathy, and installed the exact same JRE as she is using- Sun 1.5.0_10)\nI am occasionally hitting a WAR validation problem, and I will continue to trace that and will open a separate bug for that.",
    "Closing."
  ],
  "commentCreationDates": [
    "2006-12-15T22:27:25+01:00",
    "2006-12-18T02:01:29+01:00",
    "2007-01-04T19:20:53+01:00",
    "2007-01-08T16:18:57+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "java.lang.Flo",
      "elements": [
        {
          "method": "atorg.eclipse.jst.j2ee.webapplication.internal.impl.ServletImpl.eSet",
          "source": "ServletImpl.java:483"
        },
        {
          "method": "org.eclipse.emf.ecore.impl.BasicEObjectImpl.eSet",
          "source": "BasicEObjectImpl.java:654"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.utilities.ExtendedEcoreUtil.eSetOrAdd",
          "source": "ExtendedEcoreUt il.java:77"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.Translator.setMOFValue",
          "source": "Translator.java:605"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.Translator.setMOFValue",
          "source": "Translator.java:620"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFFeature",
          "source": "EMF2 DOMAdapterImpl.java:1425"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFFeature",
          "source": "EMF2DOMA dapterImpl.java:1755"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF",
          "source": "EMF2DOMAdap terImpl.java:929"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF",
          "source": "EMF2DOMAdapterI mpl.java:909"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMultiFeature",
          "source": "EMF2DOMAdapterImpl.java:457"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMultiFeature",
          "source": "EMF2DOMAdapterImpl.java:1481"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFMultiFeature",
          "source": "EMF 2DOMAdapterImpl.java:1695"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFFeature",
          "source": "EMF2DOMA dapterImpl.java:1737"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF",
          "source": "EMF2DOMAdap terImpl.java:929"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF",
          "source": "EMF2DOMAdapterI mpl.java:909"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMultiFeature",
          "source": "EMF2DOMAdapterImpl.java:457"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFRootFeature",
          "source": "EMF2 DOMAdapterImpl.java:950"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF",
          "source": "EMF2DOMAdap terImpl.java:925"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF",
          "source": "EMF2DOMAdapterI mpl.java:909"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMRenderer.doLoad",
          "source": "EMF2DOMRenderer.java: 62"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.basicDoLoad",
          "source": "Translato rResourceImpl.java:142"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.CompatibilityXMIResourceImpl.doLoad",
          "source": "Compatib ilityXMIResourceImpl.java:173"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceImpl.load",
          "source": "ResourceImpl.java:1109"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.load",
          "source": "TranslatorResour ceImpl.java:391"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoad",
          "source": "ResourceSetImpl.java:249"
        },
        {
          "method": "org.eclipse.jem.internal.util.emf.workbench.ProjectResourceSetImpl.demandLoad",
          "source": "ProjectReso urceSetImpl.java:83"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoadHelper",
          "source": "ResourceSetImpl.java :264"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.getResource",
          "source": "ResourceSetImpl.java:390"
        },
        {
          "method": "org.eclipse.jem.internal.util.emf.workbench.ProjectResourceSetImpl.getResource",
          "source": "ProjectRes ourceSetImpl.java:262"
        },
        {
          "method": "org.eclipse.wst.common.internal.emfworkbench.WorkbenchResourceHelper.getOrCreateResource",
          "source": " WorkbenchResourceHelper.java:384"
        },
        {
          "method": "org.eclipse.wst.common.internal.emfworkbench.integration.EditModel.getResource",
          "source": "EditModel. java:679"
        },
        {
          "method": "org.eclipse.wst.common.componentcore.internal.ArtifactEditModel.getResource",
          "source": "ArtifactEditM odel.java:174"
        },
        {
          "method": "org.eclipse.wst.common.componentcore.ArtifactEdit.getResource",
          "source": "ArtifactEdit.java:636"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.archive.operations.ComponentLoadStrategyImpl.getMofResource",
          "source": "ComponentLoadStrategyImpl.java:529"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ArchiveImpl.getMofResource",
          "source": "ArchiveIm pl.java:731"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleFileImpl.getDeploymentDescriptorResource",
          "source": "ModuleFileImpl.java:61"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.XmlBasedImportStrategyImpl.primLoadDeploymentDescriptor",
          "source": "XmlBasedImportStrategyImpl.java:39"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.War22ImportStrategyImpl.loadDeploymentDescriptor",
          "source": "War22ImportStrategyImpl.java:87"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.War22ImportStrategyImpl.importMetaData",
          "source": "War22ImportStrategyImpl.java:81"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.impl.WARFileImpl.getDeploymentDescriptor",
          "source": " WARFileImpl.java:145"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.WarValidator.validateInJob",
          "source": "WarValidator.ja va:328"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.web.validation.UIWarValidator.validateInJob",
          "source": "UIWarValidator. java:92"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidatorJob.run",
          "source": "ValidatorJob.java:70"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "168286",
      "date": "2006-12-15T22:27:25+01:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "critical"
    }
  ],
  "groupId": "168286",
  "bugId": "168286",
  "date": "2006-12-15T22:27:25+01:00",
  "product": "Web Tools",
  "component": "jst.j2ee",
  "severity": "critical"
}