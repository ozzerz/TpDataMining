{
  "comments": [
    "Build 20020515\n\nI got the following exception starting a workspace:\n!MESSAGE Breakpoint does not have an associated marker.\n!ENTRY org.eclipse.debug.core 4 120 5/17/02 4:41 PM\n!MESSAGE Error logged from Debug Core:\n!STACK 1\norg.eclipse.debug.core.DebugException: Marker id: 19 not found.\n        at org.eclipse.debug.internal.core.BreakpointManager.createBreakpoint\n(BreakpointManager.java:328)\n        at org.eclipse.debug.internal.core.BreakpointManager.loadBreakpoints\n(BreakpointManager.java:128)\n        at \norg.eclipse.debug.internal.core.BreakpointManager.initializeBreakpoints\n(BreakpointManager.java:256)\n        at org.eclipse.debug.internal.core.BreakpointManager.getBreakpoints0\n(BreakpointManager.java:224)\n        at org.eclipse.debug.internal.core.BreakpointManager.getBreakpoint\n(BreakpointManager.java:203)\n        at \norg.eclipse.debug.internal.ui.DelegatingModelPresentation.getConfiguredPresentat\nion(DelegatingModelPresentation.java:230)\n        at org.eclipse.debug.internal.ui.DelegatingModelPresentation.getImage\n(DelegatingModelPresentation.java:104)\n        at \norg.eclipse.jdt.internal.ui.javaeditor.JavaMarkerAnnotation.initialize\n(JavaMarkerAnnotation.java:57)\n        at org.eclipse.ui.texteditor.MarkerAnnotation.\u003cinit\u003e\n(MarkerAnnotation.java:89)\n        at org.eclipse.jdt.internal.ui.javaeditor.JavaMarkerAnnotation.\u003cinit\u003e\n(JavaMarkerAnnotation.java:33)\n        at \norg.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider$Compilati\nonUnitAnnotationModel.createMarkerAnnotation\n(CompilationUnitDocumentProvider.java:201)\n        at \norg.eclipse.ui.texteditor.AbstractMarkerAnnotationModel.addMarkerAnnotation\n(AbstractMarkerAnnotationModel.java:208)\n        at \norg.eclipse.ui.texteditor.AbstractMarkerAnnotationModel.catchupWithMarkers\n(AbstractMarkerAnnotationModel.java:386)\n        at org.eclipse.ui.texteditor.AbstractMarkerAnnotationModel.connected\n(AbstractMarkerAnnotationModel.java:221)\n        at org.eclipse.jface.text.source.AnnotationModel.connect\n(AnnotationModel.java:116)\n        at org.eclipse.jface.text.source.VisualAnnotationModel.connect\n(VisualAnnotationModel.java:70)\n        at org.eclipse.jface.text.source.SourceViewer.setDocument\n(SourceViewer.java:275)\n        at \norg.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor$AdaptedSourceViewer\n.setDocument(CompilationUnitEditor.java:307)\n        at org.eclipse.jface.text.source.SourceViewer.setDocument\n(SourceViewer.java:248)\n        at org.eclipse.ui.texteditor.AbstractTextEditor.initializeSourceViewer\n(AbstractTextEditor.java:1463)\n        at org.eclipse.ui.texteditor.AbstractTextEditor.createPartControl\n(AbstractTextEditor.java:1285)\n        at org.eclipse.ui.texteditor.StatusTextEditor.createPartControl\n(StatusTextEditor.java:53)\n        at \norg.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.createPartControl\n(CompilationUnitEditor.java:1127)\n        at org.eclipse.ui.internal.PartPane$4.run(PartPane.java:134)\n        at org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:802)\n        at org.eclipse.core.runtime.Platform.run(Platform.java:411)\n        at org.eclipse.ui.internal.PartPane.createChildControl\n(PartPane.java:132)\n        at org.eclipse.ui.internal.PartPane.createControl(PartPane.java:175)\n        at org.eclipse.ui.internal.EditorWorkbook.createPage\n(EditorWorkbook.java:230)\n        at org.eclipse.ui.internal.EditorWorkbook.createControl\n(EditorWorkbook.java:190)\n        at org.eclipse.ui.internal.PartSashContainer.createControl\n(PartSashContainer.java:177)\n        at org.eclipse.ui.internal.PartSashContainer.createControl\n(PartSashContainer.java:177)\n        at org.eclipse.ui.internal.PerspectivePresentation.activate\n(PerspectivePresentation.java:94)\n        at org.eclipse.ui.internal.Perspective.onActivate(Perspective.java:661)\n        at org.eclipse.ui.internal.WorkbenchPage.onActivate\n(WorkbenchPage.java:1483)\n        at org.eclipse.ui.internal.WorkbenchWindow$7.run\n(WorkbenchWindow.java:1151)\n        at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:56)\n        at org.eclipse.ui.internal.WorkbenchWindow.setActivePage\n(WorkbenchWindow.java:1138)\n        at org.eclipse.ui.internal.WorkbenchWindow.restoreState\n(WorkbenchWindow.java:1051)\n        at org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1025)\n        at org.eclipse.ui.internal.Workbench.access$7(Workbench.java:1005)\n        at org.eclipse.ui.internal.Workbench$6.run(Workbench.java:791)\n        at org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:802)\n        at org.eclipse.core.runtime.Platform.run(Platform.java:411)\n        at org.eclipse.ui.internal.Workbench.openPreviousWorkbenchState\n(Workbench.java:743)\n        at org.eclipse.ui.internal.Workbench.init(Workbench.java:585)\n        at org.eclipse.ui.internal.Workbench.run(Workbench.java:1096)\n        at org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:739)\n        at org.eclipse.core.boot.BootLoader.run(BootLoader.java:450)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:176)\n        at org.eclipse.core.launcher.Main.run(Main.java:614)\n        at org.eclipse.core.launcher.Main.main(Main.java:451)",
    "Created an attachment (id\u003d868)\nThis is the workspace I was starting (zipped before starting it)\n",
    "With the given workspace, I can reproduce the problem.",
    "I take it back. I was duped by the log which already exists in Jerome\u0027s \nworkspace. Cannot reproduce.",
    "I can see how this could happen. While one thread is running the startup \ncode, another comes in and gets in to the breakpoint initialization code. \nThe initialization gets the markers from the workspace and prepares to \nstart fluffing up breakpoint objects from them. Meanwhile, the startup \nthread starts executing again and runs the code to delete \"non-persisted\" \nbreakpoints, which deletes the markers that the other thread then tries to \nuse.\n\nRemoved this problem by making the deletion of non-persisted breakpoints \nhappen in the breakpoint initialization code, before we ask for the markers \nthat will be fluffed up into breakpoints.\n\nI also updated JavaModelListener to do its work (getting all breakpoints \nand potentially deleting some) in a workspace runnable to reduce the chance \nof getting into the breakpoint initialization code as the result of a \nresource changed callback.",
    "Please verify.",
    "Verified."
  ],
  "commentCreationDates": [
    "2002-05-17T16:37:26+02:00",
    "2002-05-17T16:39:27+02:00",
    "2002-05-17T20:42:14+02:00",
    "2002-05-17T21:00:46+02:00",
    "2002-05-17T22:55:33+02:00",
    "2002-05-17T23:03:15+02:00",
    "2002-05-18T04:41:45+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.debug.core.DebugException",
      "message": "Marker id: 19 not found.",
      "elements": [
        {
          "method": "org.eclipse.debug.internal.core.BreakpointManager.createBreakpoint",
          "source": "BreakpointManager.java:328"
        },
        {
          "method": "org.eclipse.debug.internal.core.BreakpointManager.loadBreakpoints",
          "source": "BreakpointManager.java:128"
        },
        {
          "method": "org.eclipse.debug.internal.core.BreakpointManager.initializeBreakpoints",
          "source": "BreakpointManager.java:256"
        },
        {
          "method": "org.eclipse.debug.internal.core.BreakpointManager.getBreakpoints0",
          "source": "BreakpointManager.java:224"
        },
        {
          "method": "org.eclipse.debug.internal.core.BreakpointManager.getBreakpoint",
          "source": "BreakpointManager.java:203"
        },
        {
          "method": "org.eclipse.debug.internal.ui.DelegatingModelPresentation.getConfiguredPresentation",
          "source": "DelegatingModelPresentation.java:230"
        },
        {
          "method": "org.eclipse.debug.internal.ui.DelegatingModelPresentation.getImage",
          "source": "DelegatingModelPresentation.java:104"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.JavaMarkerAnnotation.initialize",
          "source": "JavaMarkerAnnotation.java:57"
        },
        {
          "method": "org.eclipse.ui.texteditor.MarkerAnnotation.\u003cinit\u003e",
          "source": "MarkerAnnotation.java:89"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.JavaMarkerAnnotation.\u003cinit\u003e",
          "source": "JavaMarkerAnnotation.java:33"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider$CompilationUnitAnnotationModel.createMarkerAnnotation",
          "source": "CompilationUnitDocumentProvider.java:201"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractMarkerAnnotationModel.addMarkerAnnotation",
          "source": "AbstractMarkerAnnotationModel.java:208"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractMarkerAnnotationModel.catchupWithMarkers",
          "source": "AbstractMarkerAnnotationModel.java:386"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractMarkerAnnotationModel.connected",
          "source": "AbstractMarkerAnnotationModel.java:221"
        },
        {
          "method": "org.eclipse.jface.text.source.AnnotationModel.connect",
          "source": "AnnotationModel.java:116"
        },
        {
          "method": "org.eclipse.jface.text.source.VisualAnnotationModel.connect",
          "source": "VisualAnnotationModel.java:70"
        },
        {
          "method": "org.eclipse.jface.text.source.SourceViewer.setDocument",
          "source": "SourceViewer.java:275"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor$AdaptedSourceViewer.setDocument",
          "source": "CompilationUnitEditor.java:307"
        },
        {
          "method": "org.eclipse.jface.text.source.SourceViewer.setDocument",
          "source": "SourceViewer.java:248"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor.initializeSourceViewer",
          "source": "AbstractTextEditor.java:1463"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor.createPartControl",
          "source": "AbstractTextEditor.java:1285"
        },
        {
          "method": "org.eclipse.ui.texteditor.StatusTextEditor.createPartControl",
          "source": "StatusTextEditor.java:53"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.createPartControl",
          "source": "CompilationUnitEditor.java:1127"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane$4.run",
          "source": "PartPane.java:134"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:802"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:411"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.createChildControl",
          "source": "PartPane.java:132"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.createControl",
          "source": "PartPane.java:175"
        },
        {
          "method": "org.eclipse.ui.internal.EditorWorkbook.createPage",
          "source": "EditorWorkbook.java:230"
        },
        {
          "method": "org.eclipse.ui.internal.EditorWorkbook.createControl",
          "source": "EditorWorkbook.java:190"
        },
        {
          "method": "org.eclipse.ui.internal.PartSashContainer.createControl",
          "source": "PartSashContainer.java:177"
        },
        {
          "method": "org.eclipse.ui.internal.PartSashContainer.createControl",
          "source": "PartSashContainer.java:177"
        },
        {
          "method": "org.eclipse.ui.internal.PerspectivePresentation.activate",
          "source": "PerspectivePresentation.java:94"
        },
        {
          "method": "org.eclipse.ui.internal.Perspective.onActivate",
          "source": "Perspective.java:661"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.onActivate",
          "source": "WorkbenchPage.java:1483"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow$7.run",
          "source": "WorkbenchWindow.java:1151"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:56"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.setActivePage",
          "source": "WorkbenchWindow.java:1138"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.restoreState",
          "source": "WorkbenchWindow.java:1051"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.restoreState",
          "source": "Workbench.java:1025"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$7",
          "source": "Workbench.java:1005"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$6.run",
          "source": "Workbench.java:791"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:802"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:411"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.openPreviousWorkbenchState",
          "source": "Workbench.java:743"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.init",
          "source": "Workbench.java:585"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1096"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:739"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:450"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:176"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:614"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:451"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "16252",
      "date": "2002-05-17T16:37:26+02:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "16252",
  "bugId": "16252",
  "date": "2002-05-17T16:37:26+02:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "normal"
}