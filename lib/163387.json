{
  "comments": [
    "The two examples: \"Generating test reports from ant scripts\" and \"Customizing test reports from ant scripts\" under http://help.eclipse.org/help32/index.jsp?topic\u003d/org.eclipse.hyades.test.doc.user/tasks/texecuting-the-test-execution-service.htm don\u0027t work in TPTP 4.3.  Both examples throw the following exception:\n\njava.lang.NullPointerException\nat org.eclipse.tptp.test.report.birt.services.TestSuitesPublicationService.publish(TestSuitesPublicationService.java:70)\nat org.eclipse.hyades.test.core.services.AbstractTestResultsPublicationService.execute(AbstractTestResultsPublicationService.java:105)\nat org.eclipse.hyades.automation.server.AbstractService.execute(AbstractService.java:43)\nat org.eclipse.hyades.automation.server.ServiceProxy$1.run(ServiceProxy.java:140)\nat org.eclipse.hyades.automation.core.utils.ReusableThread.run(ReusableThread.java:131)\nat java.lang.Thread.run(Unknown Source)\n\nThe same scripts run fine using TPTP 4.2.1.  Here\u0027s one of the scripts that I used:\n\n\u003cproject name\u003d\"TPTP Automatable Services Tutorial\"\ndefault\u003d\"main\" xmlns:tptp\u003d\"antlib:org.eclipse.hyades.automation.client.adapters.ant\"\u003e\n\n\u003c!-- Define common properties for all automatable services --\u003e\n\u003cproperty name\u003d\"tptp.test.workspace\" value\u003d\"D:\\Temp\\test-pass\"/\u003e\n\u003cproperty name\u003d\"tptp.test.project\" value\u003d\"plug-in\" /\u003e\n\u003cproperty name\u003d\"tptp.test.connection\" value\u003d\"tptp:rac://localhost:10002/default\"/\u003e\n\u003cproperty name\u003d\"tptp.automation.eclipse\" value\u003d\"D:\\TPTP4.3\\TPTP-4.3.0-200609220100\\eclipse\" /\u003e\n\u003c!-- Define script-local properties, that vary by installation --\u003e\n\u003cproperty name\u003d\"project.dir\" value\u003d\"${tptp.test.workspace}\\${tptp.test.project}\"/\u003e\n\u003cproperty name\u003d\"report.publication.location\" location\u003d\"d:/temp\" /\u003e\n\u003cproperty name\u003d\"tptp.publication.service\" value\u003d\"org.eclipse.tptp.test.report.birt.publish-testsuites\"/\u003e\n\u003c!-- Run the report --\u003e \n\u003ctarget name\u003d\"main\" depends\u003d\"test-results-publication\"/\u003e \n\u003ctarget name\u003d\"set-date-range\"\u003e\n    \u003c!-- Use standard ant tstamp mechanisms to specify the desired date range --\u003e\n    \u003c!-- This example uses a range between today and 60 days days prior --\u003e\n    \u003ctstamp\u003e\n        \u003cformat property\u003d\"startDateTime\" pattern\u003d\"MM/dd/yyyy hh:mm aa\" offset\u003d\"-60\" unit\u003d\"day\"/\u003e\n    \u003c/tstamp\u003e\n    \u003ctstamp\u003e\n        \u003cformat property\u003d\"endDateTime\" pattern\u003d\"MM/dd/yyyy hh:mm aa\"/\u003e\n    \u003c/tstamp\u003e\n\u003c/target\u003e\n\u003c!-- Publish test suite results report --\u003e \n\u003ctarget name\u003d\"test-results-publication\" depends\u003d\"set-date-range\"\u003e\n\u003cecho message\u003d\"Publishing test suite results report...\" /\u003e\n\u003ctptp:publication report\u003d\"${report.publication.location}/report.html\" \n    reportTemplateLocation\u003d\"D:\\TPTP4.3\\TPTP-4.3.0-200609220100\\eclipse\\plugins\\org.eclipse.tptp.test.report.birt_4.2.0.v200609090100\\templates\\TabularReport.rptdesign\" \n    startDateTime\u003d\"${startDateTime}\" endDateTime\u003d\"${endDateTime}\" \u003e \n    \u003cfileset dir\u003d\"${project.dir}\"\u003e \n        \u003cinclude name\u003d\"**/*.testsuite\" /\u003e \n    \u003c/fileset\u003e \n\u003c/tptp:publication\u003e \n\u003c/target\u003e\n\u003c/project\u003e",
    "There is a code error in the \"org.eclipse.tptp.test.report.birt.publish-testsuites\" publication service.  \n\nThe work around is to use the more generic ant service.  \n\u003cproperty name\u003d\"tptp.publication.service\" value\u003d\"org.eclipse.tptp.test.report.birt.publish-tabular-testsuites\" /\u003e\n\nWith this service the reportTemplateLocation is an id as shown instead of the location of the report template:\n      reportTemplateLocation\u003d\"org.eclipse.tptp.test.report.birt.internal.TabularTPFTestSuiteReportElement\"\n\nThe report parameter is now a directory name instead of a particular file name as follows:\n\nreport\u003d\"${report.dir}\"\n\n\nTry the following build file.\n\n\n\u003c!-- Define common properties for all automatable services --\u003e\n\u003cproperty name\u003d\"tptp.test.workspace\" value\u003d\"D:\\Temp\\test-pass\"/\u003e\n\u003cproperty name\u003d\"tptp.test.project\" value\u003d\"plug-in\" /\u003e\n\u003cproperty name\u003d\"tptp.test.connection\"\nvalue\u003d\"tptp:rac://localhost:10002/default\"/\u003e\n\u003cproperty name\u003d\"tptp.automation.eclipse\"\nvalue\u003d\"D:\\TPTP4.3\\TPTP-4.3.0-200609220100\\eclipse\" /\u003e\n\u003c!-- Define script-local properties, that vary by installation --\u003e\n\u003cproperty name\u003d\"project.dir\"\nvalue\u003d\"${tptp.test.workspace}\\${tptp.test.project}\"/\u003e\n\u003cproperty name\u003d\"report.publication.location\" location\u003d\"d:/temp\" /\u003e\n\u003cproperty name\u003d\"tptp.publication.service\"\nvalue\u003d\"org.eclipse.tptp.test.report.birt.publish-tabular-testsuites\"/\u003e\n\u003c!-- Run the report --\u003e \n\u003ctarget name\u003d\"main\" depends\u003d\"test-results-publication\"/\u003e \n\u003ctarget name\u003d\"set-date-range\"\u003e\n    \u003c!-- Use standard ant tstamp mechanisms to specify the desired date range\n--\u003e\n    \u003c!-- This example uses a range between today and 60 days days prior --\u003e\n    \u003ctstamp\u003e\n        \u003cformat property\u003d\"startDateTime\" pattern\u003d\"MM/dd/yyyy hh:mm aa\"\noffset\u003d\"-60\" unit\u003d\"day\"/\u003e\n    \u003c/tstamp\u003e\n    \u003ctstamp\u003e\n        \u003cformat property\u003d\"endDateTime\" pattern\u003d\"MM/dd/yyyy hh:mm aa\"/\u003e\n    \u003c/tstamp\u003e\n\u003c/target\u003e\n\u003c!-- Publish test suite results report --\u003e \n\u003ctarget name\u003d\"test-results-publication\" depends\u003d\"set-date-range\"\u003e\n\u003cecho message\u003d\"Publishing test suite results report...\" /\u003e\n\u003ctptp:publication report\u003d\"${report.publication.location}\" \n   \nreportTemplateLocation\u003d\"org.eclipse.tptp.test.report.birt.internal.TabularTPFTestSuiteReportElement\" \n    startDateTime\u003d\"${startDateTime}\" endDateTime\u003d\"${endDateTime}\" \u003e \n    \u003cfileset dir\u003d\"${project.dir}\"\u003e \n        \u003cinclude name\u003d\"**/*.testsuite\" /\u003e \n    \u003c/fileset\u003e \n\u003c/tptp:publication\u003e \n\u003c/target\u003e\n\u003c/project\u003e",
    "Changing target to 4.4 since there\u0027s a workaround.  A readme entry should be added.",
    "Created an attachment (id\u003d53239)\npatch that will fix other ant services\n\n",
    "Lowering severity since there\u0027s a workaround.",
    "Applied Patch.",
    "All tests which worked under TPTP 4.2.1, broken in TPTP 4.3.0, Could you please see, what is wrong. Workaround suggested under comment#1 does not work.\nThanks.\n\n(In reply to comment #0)\n\u003e The two examples: \"Generating test reports from ant scripts\" and \"Customizing\n\u003e test reports from ant scripts\" under\n\u003e http://help.eclipse.org/help32/index.jsp?topic\u003d/org.eclipse.hyades.test.doc.user/tasks/texecuting-the-test-execution-service.htm\n\u003e don\u0027t work in TPTP 4.3.  Both examples throw the following exception:\n\u003e java.lang.NullPointerException\n\u003e at\n\u003e org.eclipse.tptp.test.report.birt.services.TestSuitesPublicationService.publish(TestSuitesPublicationService.java:70)\n\u003e at\n\u003e org.eclipse.hyades.test.core.services.AbstractTestResultsPublicationService.execute(AbstractTestResultsPublicationService.java:105)\n\u003e at\n\u003e org.eclipse.hyades.automation.server.AbstractService.execute(AbstractService.java:43)\n\u003e at\n\u003e org.eclipse.hyades.automation.server.ServiceProxy$1.run(ServiceProxy.java:140)\n\u003e at\n\u003e org.eclipse.hyades.automation.core.utils.ReusableThread.run(ReusableThread.java:131)\n\u003e at java.lang.Thread.run(Unknown Source)\n\u003e The same scripts run fine using TPTP 4.2.1.  Here\u0027s one of the scripts that I\n\u003e used:\n\u003e \u003cproject name\u003d\"TPTP Automatable Services Tutorial\"\n\u003e default\u003d\"main\"\n\u003e xmlns:tptp\u003d\"antlib:org.eclipse.hyades.automation.client.adapters.ant\"\u003e\n\u003e \u003c!-- Define common properties for all automatable services --\u003e\n\u003e \u003cproperty name\u003d\"tptp.test.workspace\" value\u003d\"D:\\Temp\\test-pass\"/\u003e\n\u003e \u003cproperty name\u003d\"tptp.test.project\" value\u003d\"plug-in\" /\u003e\n\u003e \u003cproperty name\u003d\"tptp.test.connection\"\n\u003e value\u003d\"tptp:rac://localhost:10002/default\"/\u003e\n\u003e \u003cproperty name\u003d\"tptp.automation.eclipse\"\n\u003e value\u003d\"D:\\TPTP4.3\\TPTP-4.3.0-200609220100\\eclipse\" /\u003e\n\u003e \u003c!-- Define script-local properties, that vary by installation --\u003e\n\u003e \u003cproperty name\u003d\"project.dir\"\n\u003e value\u003d\"${tptp.test.workspace}\\${tptp.test.project}\"/\u003e\n\u003e \u003cproperty name\u003d\"report.publication.location\" location\u003d\"d:/temp\" /\u003e\n\u003e \u003cproperty name\u003d\"tptp.publication.service\"\n\u003e value\u003d\"org.eclipse.tptp.test.report.birt.publish-testsuites\"/\u003e\n\u003e \u003c!-- Run the report --\u003e \n\u003e \u003ctarget name\u003d\"main\" depends\u003d\"test-results-publication\"/\u003e \n\u003e \u003ctarget name\u003d\"set-date-range\"\u003e\n\u003e     \u003c!-- Use standard ant tstamp mechanisms to specify the desired date range\n\u003e --\u003e\n\u003e     \u003c!-- This example uses a range between today and 60 days days prior --\u003e\n\u003e     \u003ctstamp\u003e\n\u003e         \u003cformat property\u003d\"startDateTime\" pattern\u003d\"MM/dd/yyyy hh:mm aa\"\n\u003e offset\u003d\"-60\" unit\u003d\"day\"/\u003e\n\u003e     \u003c/tstamp\u003e\n\u003e     \u003ctstamp\u003e\n\u003e         \u003cformat property\u003d\"endDateTime\" pattern\u003d\"MM/dd/yyyy hh:mm aa\"/\u003e\n\u003e     \u003c/tstamp\u003e\n\u003e \u003c/target\u003e\n\u003e \u003c!-- Publish test suite results report --\u003e \n\u003e \u003ctarget name\u003d\"test-results-publication\" depends\u003d\"set-date-range\"\u003e\n\u003e \u003cecho message\u003d\"Publishing test suite results report...\" /\u003e\n\u003e \u003ctptp:publication report\u003d\"${report.publication.location}/report.html\" \n\u003e    \n\u003e reportTemplateLocation\u003d\"D:\\TPTP4.3\\TPTP-4.3.0-200609220100\\eclipse\\plugins\\org.eclipse.tptp.test.report.birt_4.2.0.v200609090100\n\n\\templates\\TabularReport.rptdesign\" \n\u003e     startDateTime\u003d\"${startDateTime}\" endDateTime\u003d\"${endDateTime}\" \u003e \n\u003e     \u003cfileset dir\u003d\"${project.dir}\"\u003e \n\u003e         \u003cinclude name\u003d\"**/*.testsuite\" /\u003e \n\u003e     \u003c/fileset\u003e \n\u003e \u003c/tptp:publication\u003e \n\u003e \u003c/target\u003e\n\u003e \u003c/project\u003e\n\n(In reply to comment #5)\n\u003e Applied Patch.\n\n(In reply to comment #0)\n\u003e The two examples: \"Generating test reports from ant scripts\" and \"Customizing\n\u003e test reports from ant scripts\" under\n\u003e http://help.eclipse.org/help32/index.jsp?topic\u003d/org.eclipse.hyades.test.doc.user/tasks/texecuting-the-test-execution-service.htm\n\u003e don\u0027t work in TPTP 4.3.  Both examples throw the following exception:\n\u003e java.lang.NullPointerException\n\u003e at\n\u003e org.eclipse.tptp.test.report.birt.services.TestSuitesPublicationService.publish(TestSuitesPublicationService.java:70)\n\u003e at\n\u003e org.eclipse.hyades.test.core.services.AbstractTestResultsPublicationService.execute(AbstractTestResultsPublicationService.java:105)\n\u003e at\n\u003e org.eclipse.hyades.automation.server.AbstractService.execute(AbstractService.java:43)\n\u003e at\n\u003e org.eclipse.hyades.automation.server.ServiceProxy$1.run(ServiceProxy.java:140)\n\u003e at\n\u003e org.eclipse.hyades.automation.core.utils.ReusableThread.run(ReusableThread.java:131)\n\u003e at java.lang.Thread.run(Unknown Source)\n\u003e The same scripts run fine using TPTP 4.2.1.  Here\u0027s one of the scripts that I\n\u003e used:\n\u003e \u003cproject name\u003d\"TPTP Automatable Services Tutorial\"\n\u003e default\u003d\"main\"\n\u003e xmlns:tptp\u003d\"antlib:org.eclipse.hyades.automation.client.adapters.ant\"\u003e\n\u003e \u003c!-- Define common properties for all automatable services --\u003e\n\u003e \u003cproperty name\u003d\"tptp.test.workspace\" value\u003d\"D:\\Temp\\test-pass\"/\u003e\n\u003e \u003cproperty name\u003d\"tptp.test.project\" value\u003d\"plug-in\" /\u003e\n\u003e \u003cproperty name\u003d\"tptp.test.connection\"\n\u003e value\u003d\"tptp:rac://localhost:10002/default\"/\u003e\n\u003e \u003cproperty name\u003d\"tptp.automation.eclipse\"\n\u003e value\u003d\"D:\\TPTP4.3\\TPTP-4.3.0-200609220100\\eclipse\" /\u003e\n\u003e \u003c!-- Define script-local properties, that vary by installation --\u003e\n\u003e \u003cproperty name\u003d\"project.dir\"\n\u003e value\u003d\"${tptp.test.workspace}\\${tptp.test.project}\"/\u003e\n\u003e \u003cproperty name\u003d\"report.publication.location\" location\u003d\"d:/temp\" /\u003e\n\u003e \u003cproperty name\u003d\"tptp.publication.service\"\n\u003e value\u003d\"org.eclipse.tptp.test.report.birt.publish-testsuites\"/\u003e\n\u003e \u003c!-- Run the report --\u003e \n\u003e \u003ctarget name\u003d\"main\" depends\u003d\"test-results-publication\"/\u003e \n\u003e \u003ctarget name\u003d\"set-date-range\"\u003e\n\u003e     \u003c!-- Use standard ant tstamp mechanisms to specify the desired date range\n\u003e --\u003e\n\u003e     \u003c!-- This example uses a range between today and 60 days days prior --\u003e\n\u003e     \u003ctstamp\u003e\n\u003e         \u003cformat property\u003d\"startDateTime\" pattern\u003d\"MM/dd/yyyy hh:mm aa\"\n\u003e offset\u003d\"-60\" unit\u003d\"day\"/\u003e\n\u003e     \u003c/tstamp\u003e\n\u003e     \u003ctstamp\u003e\n\u003e         \u003cformat property\u003d\"endDateTime\" pattern\u003d\"MM/dd/yyyy hh:mm aa\"/\u003e\n\u003e     \u003c/tstamp\u003e\n\u003e \u003c/target\u003e\n\u003e \u003c!-- Publish test suite results report --\u003e \n\u003e \u003ctarget name\u003d\"test-results-publication\" depends\u003d\"set-date-range\"\u003e\n\u003e \u003cecho message\u003d\"Publishing test suite results report...\" /\u003e\n\u003e \u003ctptp:publication report\u003d\"${report.publication.location}/report.html\" \n\u003e    \n\u003e reportTemplateLocation\u003d\"D:\\TPTP4.3\\TPTP-4.3.0-200609220100\\eclipse\\plugins\\org.eclipse.tptp.test.report.birt_4.2.0.v200609090100\\templates\\TabularReport.rptdesign\" \n\u003e     startDateTime\u003d\"${startDateTime}\" endDateTime\u003d\"${endDateTime}\" \u003e \n\u003e     \u003cfileset dir\u003d\"${project.dir}\"\u003e \n\u003e         \u003cinclude name\u003d\"**/*.testsuite\" /\u003e \n\u003e     \u003c/fileset\u003e \n\u003e \u003c/tptp:publication\u003e \n\u003e \u003c/target\u003e\n\u003e \u003c/project\u003e\n\n",
    "(In reply to comment #6)\n\nHave you tried the patch on the 4.3 driver?  If you have and the problem is still not resolved, please reopen this defect.",
    "I am not sure how to apply the patch.. could you please elaborate a bit?\nThanks.\n\n",
    "(In reply to comment #8)\n\u003e I am not sure how to apply the patch.. could you please elaborate a bit?\n\u003e Thanks.\n\nSelect the org.eclipse.tptp.test.report.birt plugin and \u003cright-click\u003e \u003e\u003e Team \u003e\u003e Apply Patch...\n\nAlternatively, you can extract the org.eclipse.tptp.test.report.birt plugin from CVS (HEAD) and build it locally.",
    "(In reply to comment #9)\nThanks Paul for suggestion. I am having two installations on two machines one machine having TPTP 4.2.1 and other TPTP 4.3.0, I took the latest sources from CVS head and build the plugin - org.eclipse.tptp.test.report.birt and try to run that on the machine having an installation of TPTP 4.3.0, but did not work and broken.\nSame script is working fine on TPTP 4.2.1.\nP.S. : I can not re-open this bug, do not have priviliges.\nThanks. \n",
    "Ravi,\n\nPlease try your script on one machine using TPTP 4.2.1 and TPTP 4.3 to ensure that this is not being caused by a configuration error.  Also attach your script to this report to allow us to debug the problem.\n\nI\u0027m re-opening this defect for further investigation.",
    "(In reply to comment #11)\nHi,\n\nHere is my script :\n-------------------\n\n\u003cproject name\u003d\"TPTPtests\" default\u003d\"tptp.tests\" \n   xmlns:tptp\u003d\"antlib:org.eclipse.hyades.automation.client.adapters.ant\"\u003e\n     \n     \u003cproperty environment\u003d\"env\" /\u003e\n     \t\n     \u003cproperty name\u003d\"tptp.test.workspace\"      value\u003d\"D:/Project1\" /\u003e\n     \u003cproperty name\u003d\"tptp.test.project\"        value\u003d\"IFA\" /\u003e\n     \u003cproperty name\u003d\"tptp.test.connection\"     value\u003d\"tptp:rac://localhost:10002/default\"/\u003e\n     \u003cproperty name\u003d\"tptp.automation.eclipse\"  value\u003d\"C:/eclipse\" /\u003e\n     \u003c!--\n     \u003cproperty name\u003d\"tptp.publication.service\" value\u003d\"org.eclipse.tptp.test.report.birt.publish-tabular-testsuites\"/\u003e\n     --\u003e\n\n       \u003ctstamp\u003e    \t\n         \u003cformat property\u003d\"datetimestamp\" pattern\u003d\"yyyyMMdd-HHmm\" locale\u003d\"en\" /\u003e\n       \u003c/tstamp\u003e   \n         \n     \u003cproperty name\u003d\"project.dir\" value\u003d\"${tptp.test.workspace}/${tptp.test.project}\"/\u003e\n     \u003cproperty name\u003d\"report.publication.location\" location\u003d\"D:/temp\" /\u003e\n     \u003cproperty name\u003d\"project.build.identifier\"     value\u003d\"${report.publication.location}/${tptp.test.project}-${datetimestamp}\" /\u003e  \n\n     \u003ctarget name\u003d\"tptp.tests\" depends\u003d\"clean.temp, test.execution, test.results.publication\" /\u003e \n     \n     \u003c!-- clean up --\u003e\n     \n     \u003ctarget name\u003d\"clean.temp\"\u003e\n\n       \u003cdelete failonerror\u003d\"false\"\u003e\n          \u003cfileset dir\u003d\"${env.TEMP}\" includes\u003d\"**/*.dat\" /\u003e\n       \u003c/delete\u003e          \n   \n       \u003cdelete failonerror\u003d\"false\"\u003e\n         \u003cfileset dir\u003d\"${tptp.test.workspace}/${tptp.test.project}\" includes\u003d\"**/*.execution\" /\u003e\n       \u003c/delete\u003e  \n   \n       \u003cdelete failonerror\u003d\"false\"\u003e\n          \u003cfileset dir\u003d\"${env.TEMP}\" includes\u003d\"**/*.tmp\" /\u003e\n       \u003c/delete\u003e   \n    \n      \u003c/target\u003e \n     \n       \u003c!-- Start date and End date for HTML Reports publication --\u003e\n \t\t\n      \u003ctarget name\u003d\"set-date-range\"\u003e\n    \t   \u003ctstamp\u003e\n              \u003cformat property\u003d\"stDtTime\" pattern\u003d\"MM/dd/yyyy hh:mm aa\" offset\u003d\"-60\" unit\u003d\"day\"/\u003e\n    \t   \u003c/tstamp\u003e\n    \t\n    \t   \u003ctstamp\u003e\n             \u003cformat property\u003d\"enDtTime\" pattern\u003d\"MM/dd/yyyy hh:mm aa\"/\u003e\n    \t   \u003c/tstamp\u003e\n       \u003c/target\u003e\n       \t\n \t\u003c!-- Test Executions --\u003e\n      \n       \u003ctarget name\u003d\"test.execution\"\u003e\n  \t   \u003cecho message\u003d\"Executing test suite\" /\u003e\n  \t      \u003ctptp:execution resultsrefid\u003d\"tptp.test.results\"\u003e\n   \t\t     \u003cfileset dir\u003d\"${project.dir}\"\u003e\n      \t\t\t\u003cinclude name\u003d\"**/*.testsuite\"/\u003e\n    \t\t     \u003c/fileset\u003e\n  \t      \u003c/tptp:execution\u003e\n       \u003c/target\u003e\n       \n       \u003c!-- Test results publication --\u003e  \n\n        \u003ctarget name\u003d\"test.results.publication\" depends\u003d\"set-date-range\"\u003e\n\t\t\u003cecho message\u003d\"Publishing test suite results report...\" /\u003e\n\t\t\u003ctptp:publication report\u003d\"${report.publication.location}/${tptp.test.project}.html\"\n\t\t reportTemplateLocation\u003d\"C:\\eclipse\\plugins\\org.eclipse.tptp.test.report.birt_4.3.0.200701021240\\templates\\TestExecution.rptdesign\"\n    \t\t startDateTime\u003d\"${stDtTime}\" endDateTime\u003d\"${enDtTime}\"\u003e \n\t\t   \u003cfilelist refid\u003d\"tptp.test.results\"/\u003e\n\t\t\u003c/tptp:publication\u003e \n        \u003c/target\u003e                    \n\n\u003c/project\u003e\n\n------------------------------------------------------\nThis script works fine with TPTP 4.2.1, before running this script on TPTP 4.3.0 I only change the reportTemplaceLocation \u0027s value corrsponding to TPTP 4.3.0 (birt plugin), and exception I get is following :\n------------------------------------------------------\n\n\ntest.results.publication:\n     [echo] Publishing test suite results report...\n[tptp:publication] adding file IFATest.execution\n[tptp:publication] java.lang.NullPointerException\n[tptp:publication] \tat org.eclipse.tptp.test.report.birt.services.TestResultsPublicationService.publish(TestResultsPublicationService.java:101)\n[tptp:publication] \tat org.eclipse.hyades.test.core.services.AbstractTestResultsPublicationService.execute(AbstractTestResultsPublicationService.java:105)\n[tptp:publication] \tat org.eclipse.hyades.automation.server.AbstractService.execute(AbstractService.java:43)\n[tptp:publication] \tat org.eclipse.hyades.automation.server.ServiceProxy$1.run(ServiceProxy.java:140)\n[tptp:publication] \tat org.eclipse.hyades.automation.core.utils.ReusableThread.run(ReusableThread.java:131)\n[tptp:publication] \tat java.lang.Thread.run(Unknown Source)\n\ntptp.tests:\n\nBUILD SUCCESSFUL\nTotal time: 35 seconds\n\n----------------------------------------------------------\n\nThanks for your attention.\n\n",
    "Hi Ravi,\n\nWhy are the following lines commented? You should uncomment this line and change the reportTemplateLocation to \"org.eclipse.tptp.test.report.birt.internal.TabularTPFTestSuiteReportElement\"\n\n     \u003c!--\n     \u003cproperty name\u003d\"tptp.publication.service\"\nvalue\u003d\"org.eclipse.tptp.test.report.birt.publish-tabular-testsuites\"/\u003e\n     --\u003e\n\n\nI modified your script to include these changes:\n\n \u003cproject name\u003d\"TPTPtests\" default\u003d\"tptp.tests\" \n    xmlns:tptp\u003d\"antlib:org.eclipse.hyades.automation.client.adapters.ant\"\u003e\n      \u003cproperty environment\u003d\"env\" /\u003e\n      \u003cproperty name\u003d\"tptp.test.workspace\"      value\u003d\"D:/Project1\" /\u003e\n      \u003cproperty name\u003d\"tptp.test.project\"        value\u003d\"IFA\" /\u003e\n      \u003cproperty name\u003d\"tptp.test.connection\"    \n value\u003d\"tptp:rac://localhost:10002/default\"/\u003e\n      \u003cproperty name\u003d\"tptp.automation.eclipse\"  value\u003d\"C:/eclipse\" /\u003e\n      \u003cproperty name\u003d\"tptp.publication.service\"\n value\u003d\"org.eclipse.tptp.test.report.birt.publish-tabular-testsuites\"/\u003e\n        \u003ctstamp\u003e         \n          \u003cformat property\u003d\"datetimestamp\" pattern\u003d\"yyyyMMdd-HHmm\" locale\u003d\"en\"\n /\u003e\n        \u003c/tstamp\u003e   \n      \u003cproperty name\u003d\"project.dir\"\n value\u003d\"${tptp.test.workspace}/${tptp.test.project}\"/\u003e\n      \u003cproperty name\u003d\"report.publication.location\" location\u003d\"D:/temp\" /\u003e\n      \u003cproperty name\u003d\"project.build.identifier\"    \n value\u003d\"${report.publication.location}/${tptp.test.project}-${datetimestamp}\" /\u003e \n      \u003ctarget name\u003d\"tptp.tests\" depends\u003d\"clean.temp, test.execution,\n test.results.publication\" /\u003e \n      \u003c!-- clean up --\u003e\n      \u003ctarget name\u003d\"clean.temp\"\u003e\n        \u003cdelete failonerror\u003d\"false\"\u003e\n           \u003cfileset dir\u003d\"${env.TEMP}\" includes\u003d\"**/*.dat\" /\u003e\n       \u003c/delete\u003e          \n        \u003cdelete failonerror\u003d\"false\"\u003e\n          \u003cfileset dir\u003d\"${tptp.test.workspace}/${tptp.test.project}\"\n includes\u003d\"**/*.execution\" /\u003e\n        \u003c/delete\u003e  \n        \u003cdelete failonerror\u003d\"false\"\u003e\n           \u003cfileset dir\u003d\"${env.TEMP}\" includes\u003d\"**/*.tmp\" /\u003e\n        \u003c/delete\u003e   \n       \u003c/target\u003e \n        \u003c!-- Start date and End date for HTML Reports publication --\u003e\n       \u003ctarget name\u003d\"set-date-range\"\u003e\n            \u003ctstamp\u003e\n               \u003cformat property\u003d\"stDtTime\" pattern\u003d\"MM/dd/yyyy hh:mm aa\"\n offset\u003d\"-60\" unit\u003d\"day\"/\u003e\n            \u003c/tstamp\u003e\n            \u003ctstamp\u003e\n              \u003cformat property\u003d\"enDtTime\" pattern\u003d\"MM/dd/yyyy hh:mm aa\"/\u003e\n            \u003c/tstamp\u003e\n        \u003c/target\u003e\n         \u003c!-- Test Executions --\u003e\n        \u003ctarget name\u003d\"test.execution\"\u003e\n            \u003cecho message\u003d\"Executing test suite\" /\u003e\n               \u003ctptp:execution resultsrefid\u003d\"tptp.test.results\"\u003e\n                      \u003cfileset dir\u003d\"${project.dir}\"\u003e\n                         \u003cinclude name\u003d\"**/*.testsuite\"/\u003e\n                      \u003c/fileset\u003e\n               \u003c/tptp:execution\u003e\n        \u003c/target\u003e\n        \u003c!-- Test results publication --\u003e  \n         \u003ctarget name\u003d\"test.results.publication\" depends\u003d\"set-date-range\"\u003e\n                 \u003cecho message\u003d\"Publishing test suite results report...\" /\u003e\n                 \u003ctptp:publication\n report\u003d\"${report.publication.location}/${tptp.test.project}.html\"                   \nreportTemplateLocation\u003d\"org.eclipse.tptp.test.report.birt.internal.TabularTPFTestSuiteReportElement\"\n                  startDateTime\u003d\"${stDtTime}\" endDateTime\u003d\"${enDtTime}\"\u003e \n                    \u003cfilelist refid\u003d\"tptp.test.results\"/\u003e\n                 \u003c/tptp:publication\u003e \n         \u003c/target\u003e                    \n \u003c/project\u003e\n\n",
    "(In reply to comment #13)\nThanks, In TPTP 4.2.1 ant service was commmented, and working fine, so did not change this.\n\nI tried the script adpated by you alongwith the org.eclipse.tptp.test.report.birt plugin built from CVS HEAD, and tried the same, but it is giving the following exception :\n\ntest.results.publication:\n     [echo] Publishing test suite results report...\n[tptp:publication] adding file IFATest.execution\n[tptp:publication] java.lang.ClassCastException: org.eclipse.hyades.models.common.testprofile.impl.TPFExecutionResultImpl\n[tptp:publication] \tat org.eclipse.tptp.test.report.birt.internal.ResolveTestExecutions.getTestSuites(ResolveTestExecutions.java:58)\n[tptp:publication] \tat org.eclipse.tptp.test.report.birt.internal.TabularTPFTestSuiteReportElement.generate(TabularTPFTestSuiteReportElement.java:132)\n[tptp:publication] \tat org.eclipse.tptp.test.report.birt.services.TestSuitesTabularPublicationService.publish(TestSuitesTabularPublicationService.java:81)\n[tptp:publication] \tat org.eclipse.hyades.test.core.services.AbstractTestResultsPublicationService.execute(AbstractTestResultsPublicationService.java:105)\n[tptp:publication] \tat org.eclipse.hyades.automation.server.AbstractService.execute(AbstractService.java:43)\n[tptp:publication] \tat org.eclipse.hyades.automation.server.ServiceProxy$1.run(ServiceProxy.java:140)\n[tptp:publication] \tat org.eclipse.hyades.automation.core.utils.ReusableThread.run(ReusableThread.java:131)\n[tptp:publication] \tat java.lang.Thread.run(Unknown Source)\n\ntptp.tests:\n\nBUILD SUCCESSFUL\nTotal time: 44 seconds\n--------------------------------------\n\n",
    "(In reply to comment #14)\nIf you\u0027re getting the org.eclipse.tptp.test.report.birt plugin from HEAD you probably need to get most of the TPTP code from HEAD since there was some changes to other plugins that will effect the runtime.\n\nThe ant file I modified should work with the 4.3 driver.  You don\u0027t need to get any plugins from HEAD.\n\n",
    "(In reply to comment #15)\nSorry Sheldon, I re-installed the whole eclipse IDE, means 4.3 driver and no plugins from CVS HEAD this time.\nand run script adapted by you, but still same ClassCastException as posted in Comment#13.",
    "From the exception it seems that the files you are loading are test execution histories and not testsuite files.\n\nWould it be possible to provide the *.testsuite file you are trying to load?",
    "Can I send you *.testsuite file to you on your email please? ",
    "Has the priority for this defect been recently reviewed given its severity?  If not, please take a few minutes and reevaluate the priority.",
    "(In reply to comment #18)\n\u003e Can I send you *.testsuite file to you on your email please? \n\nYes send me the testsuite files to sleeloy@ca.ibm.com.  Can you also send the .execution files as well.",
    "(In reply to comment #19)\n\u003e Has the priority for this defect been recently reviewed given its severity?  If\n\u003e not, please take a few minutes and reevaluate the priority.\n\nI can\u0027t seem to reproduce this error.  I suspect the testsuite file that is being used is corrupted.  I need to review the testsuite files and execution files first.",
    "Sizing provided by Sheldon.",
    "Ravi,\n\nDid you send the files?",
    "Sheldon,\nSorry for the delay in sending the .testsuite and .execution files, becuase I was out of office. I have sent the files to you. As mentioned ealier too, exception occurs during the result publication though If i see the execution history I see all the tests passed.\n\nBut during the publicaion of test results it gives ClassCastException.\n\nThanks for your attention!\n",
    "I was able to generate the reports with TPTP 4.3.  I am attaching the resulting report and the ant script that i used.",
    "Created an attachment (id\u003d57301)\nIFA reports\n\n",
    "Created an attachment (id\u003d57304)\nant script used to generate IFA report\n\n",
    "Are you using the patched version of TPTP from CVS (as mentioned in Comment#5) to publish the report or released TPTP 4.3.0 driver?\n\n",
    "I used the 4.3 release driver and not patched.",
    "Changing resolution based on last comment.",
    "The fix included in tha attached patch was *not* included in 4.3.1, which means that the basic test-result-publication ASF service throws an NPE in 4.3.1.\n\nThough I hope we don\u0027t have one, if a 4.3.1.1 release happens, this should definitely be included.  I need to hack my eclipsecon tutorial to try to work around this and still show ant report generation after test execution.  I believe from the comments that I can do it by specifying a date range and passing in the test suites instead of the result files, but in normal continuous integration work, you already know the result files you want to report on.",
    "I applied the attached patch, and while it resolves the initial NPE, the main reporting ant script from the help still does not work.  The help link is the same one Ali pasted at the top of the defect.  I will paste the ant script from the help topic below.\n\nThis service was written to accept either .execution files or .testsuite files as input.  If .testsuites are the input, it should use the specified date range to calculate the .execution files for the report.  If .execution files are the direct input, then they should simply be used.  This is how it worked in 4.2.1\n\n\u003cproject name\u003d\"TPTP Automatable Services Tutorial\"\ndefault\u003d\"main\" xmlns:tptp\u003d\"antlib:org.eclipse.hyades.automation.client.adapters.ant\"\u003e\n\n\u003c!-- Define common properties for all automatable services --\u003e\n\u003cproperty name\u003d\"tptp.test.workspace\" value\u003d\"C:\\eclipsecon\\eclipse\\workspace\"/\u003e\n\u003cproperty name\u003d\"tptp.test.project\" value\u003d\"TPTPJUnitTests\" /\u003e\n\u003cproperty name\u003d\"tptp.test.connection\" value\u003d\"tptp:rac://localhost:10002/default\"/\u003e\n\u003cproperty name\u003d\"tptp.automation.eclipse\" value\u003d\"C:\\eclipseconwb_birt\\eclipse\" /\u003e\n\u003c!-- Define script-local properties, that vary by installation --\u003e\n\u003cproperty name\u003d\"project.dir\" value\u003d\"${tptp.test.workspace}\\${tptp.test.project}\"/\u003e\n\u003cproperty name\u003d\"report.publication.location\" location\u003d\"c:/temp\" /\u003e\n\u003ctarget name\u003d\"main\" depends\u003d\"test-execution, test-results-publication\"/\u003e\n\u003c!-- Execute test suites using default results name --\u003e\n\u003ctarget name\u003d\"test-execution\"\u003e\n\u003cecho message\u003d\"Executing test suite...\" /\u003e\n\u003ctptp:execution resultsrefid\u003d\"tptp.test.results\"\u003e\n\u003cfileset dir\u003d\"${project.dir}\"\u003e\n    \u003cinclude name\u003d\"**/*.testsuite\"/\u003e\n\u003c/fileset\u003e\n\u003c/tptp:execution\u003e\n\u003c/target\u003e\n\u003c!-- Publish test suite results report --\u003e\n\u003ctarget name\u003d\"test-results-publication\"\u003e\n\u003cecho message\u003d\"Publishing test suite results report...\" /\u003e\n\u003ctptp:publication report\u003d\"${report.publication.location}/report.html\"\u003e\n    \u003cfilelist refid\u003d\"tptp.test.results\"/\u003e\n\u003c/tptp:publication\u003e\n\u003c/target\u003e\n\u003c/project\u003e\n",
    "(In reply to comment #32)\nAs mentioned in my last comment#28 as my last effort to resolve this, but failed, I could not make it happen (get the test reports), so I left, becuase getting everything free and open source, and of course good work as a whole, thought not to complain too much.\n\nThanks.",
    "Just so that I\u0027m clear the problem is when .execution files are provided?  The other scenarios are okay?  \n\nI think part of the problem is that there isn\u0027t enough test case coverage.  I will add some test cases for this scenario.  ",
    "Changing sizing to include test scenarios.",
    "(In reply to comment #34)\nYes, Sheldon, as far as I have tested it, only gives the problems when .execution files are provided.",
    "The automation service now accept test execution histories as the input.",
    "Sheldon, which released version this fix would be available ? Is it possible to use it ? if yes, how ? any patched version is available ?\nThanks.",
    "This fix will be avaiable in TPTP 4.4 iteration 2.  Here is the release schedule for TPTP http://www.eclipse.org/tptp/home/project_info/releaseinfo/4.4/schedule.html\n\nAccording to the schedule 4.4 i2 is suppose to release on Fri 04/06/2007.\n\nIf you need a driver right now you can use the nightly builds.\n\nhttp://www.eclipse.org/tptp/home/downloads/?buildId\u003dTPTP-4.4.0-200703090100\n\nHowever these builds are development drivers and have not gone through a full test pass.",
    "Reporter: Please verify and close in preparation for shutting down the TPTP 4.4 release.  Thanks.",
    "Closing"
  ],
  "commentCreationDates": [
    "2006-11-03T21:18:03+01:00",
    "2006-11-03T23:08:10+01:00",
    "2006-11-03T23:09:45+01:00",
    "2006-11-03T23:10:29+01:00",
    "2006-11-03T23:18:33+01:00",
    "2006-12-14T16:08:23+01:00",
    "2006-12-21T05:59:32+01:00",
    "2006-12-21T12:00:48+01:00",
    "2006-12-21T15:04:40+01:00",
    "2006-12-21T15:17:49+01:00",
    "2006-12-31T10:30:26+01:00",
    "2007-01-01T14:40:38+01:00",
    "2007-01-02T07:40:44+01:00",
    "2007-01-02T14:51:52+01:00",
    "2007-01-02T15:44:48+01:00",
    "2007-01-02T16:33:31+01:00",
    "2007-01-03T06:40:58+01:00",
    "2007-01-04T03:29:08+01:00",
    "2007-01-05T08:10:41+01:00",
    "2007-01-17T14:44:06+01:00",
    "2007-01-17T20:44:02+01:00",
    "2007-01-17T20:46:02+01:00",
    "2007-01-19T14:18:58+01:00",
    "2007-01-19T17:58:46+01:00",
    "2007-01-20T05:42:02+01:00",
    "2007-01-22T22:14:32+01:00",
    "2007-01-22T22:15:01+01:00",
    "2007-01-22T22:16:13+01:00",
    "2007-01-23T04:49:31+01:00",
    "2007-01-23T15:25:34+01:00",
    "2007-01-26T18:48:44+01:00",
    "2007-03-03T13:59:49+01:00",
    "2007-03-03T14:15:39+01:00",
    "2007-03-03T14:43:40+01:00",
    "2007-03-06T16:05:44+01:00",
    "2007-03-06T16:07:55+01:00",
    "2007-03-07T16:08:16+01:00",
    "2007-03-08T19:56:33+01:00",
    "2007-03-09T15:32:00+01:00",
    "2007-03-09T15:40:19+01:00",
    "2007-06-02T20:51:41+02:00",
    "2007-06-28T22:12:55+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.tptp.test.report.birt.services.TestSuitesPublicationService.publish",
          "source": "TestSuitesPublicationService.java:70"
        },
        {
          "method": "org.eclipse.hyades.test.core.services.AbstractTestResultsPublicationService.execute",
          "source": "AbstractTestResultsPublicationService.java:105"
        },
        {
          "method": "org.eclipse.hyades.automation.server.AbstractService.execute",
          "source": "AbstractService.java:43"
        },
        {
          "method": "org.eclipse.hyades.automation.server.ServiceProxy$1.run",
          "source": "ServiceProxy.java:140"
        },
        {
          "method": "org.eclipse.hyades.automation.core.utils.ReusableThread.run",
          "source": "ReusableThread.java:131"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Unknown Source"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "163387",
      "date": "2006-11-03T21:18:03+01:00",
      "product": "TPTP Testing",
      "component": "Test.UI.Reporting",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.hyades.models.common.testprofile.impl.TPFExecutionResultImpl [tptp:publication]",
      "elements": [
        {
          "method": "org.eclipse.tptp.test.report.birt.internal.ResolveTestExecutions.getTestSuites",
          "source": "ResolveTestExecutions.java:58"
        }
      ],
      "number": 1,
      "commentIndex": 14,
      "bugId": "163387",
      "date": "2007-01-02T15:44:48+01:00",
      "product": "TPTP Testing",
      "component": "Test.UI.Reporting",
      "severity": "major"
    }
  ],
  "groupId": "163387",
  "bugId": "163387",
  "date": "2006-11-03T21:18:03+01:00",
  "product": "TPTP Testing",
  "component": "Test.UI.Reporting",
  "severity": "major"
}