{
  "comments": [
    "build N20031031\n\nNoticed the following in my log.  Looks like it might be due to the move away \nfrom Xerces.\n\n\n!ENTRY org.eclipse.core.runtime 4 2 Nov 04, 2003 09:33:37.51\n!MESSAGE Problems occurred when invoking code from plug-\nin: \"org.eclipse.core.runtime\".\n!STACK 0\njava.lang.NullPointerException\n\tat org.apache.xalan.serialize.SerializerToXML.writeAttrString\n(SerializerToXML.java:2340)\n\tat org.apache.xalan.serialize.SerializerToXML.processAttribute\n(SerializerToXML.java:1099)\n\tat org.apache.xalan.serialize.SerializerToXML.startElement\n(SerializerToXML.java:959)\n\tat org.apache.xalan.transformer.TransformerIdentityImpl.startElement\n(TransformerIdentityImpl.java:1020)\n\tat org.apache.xml.utils.TreeWalker.startNode(TreeWalker.java:379)\n\tat org.apache.xml.utils.TreeWalker.traverse(TreeWalker.java:191)\n\tat org.apache.xalan.transformer.TransformerIdentityImpl.transform\n(TransformerIdentityImpl.java:325)\n\tat org.eclipse.jface.dialogs.DialogSettings.save\n(DialogSettings.java:333)\n\tat org.eclipse.jface.dialogs.DialogSettings.save\n(DialogSettings.java:351)\n\tat org.eclipse.ui.plugin.AbstractUIPlugin.saveDialogSettings\n(AbstractUIPlugin.java:764)\n\tat org.eclipse.ui.plugin.AbstractUIPlugin.shutdown\n(AbstractUIPlugin.java:803)\n\tat org.eclipse.team.internal.ccvs.ui.CVSUIPlugin.shutdown\n(CVSUIPlugin.java:671)\n\tat org.eclipse.core.internal.plugins.PluginRegistry$2.run\n(PluginRegistry.java:298)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:954)\n\tat org.eclipse.core.internal.plugins.PluginRegistry$1.visit\n(PluginRegistry.java:311)\n\tat org.eclipse.core.internal.plugins.PluginRegistry.accept\n(PluginRegistry.java:61)\n\tat org.eclipse.core.internal.plugins.PluginRegistry.shutdownPlugins\n(PluginRegistry.java:314)\n\tat org.eclipse.core.internal.plugins.PluginRegistry.shutdown\n(PluginRegistry.java:280)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.loaderShutdown\n(InternalPlatform.java:575)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.shutdown\n(InternalBootLoader.java:1017)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:863)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:299)\n\tat org.eclipse.core.launcher.Main.run(Main.java:767)\n\tat org.eclipse.core.launcher.Main.main(Main.java:601)",
    "It seems that the CVS repository dialog is setting a null property.  The\nunderlying XML parcer is now crimson, and crimson is accepting null as a legal\nattribute value.  The contract for getAttribute() states that it must return\neither the value or the empty string.  If you explicitly set the attribute to\nnull, it\u0027s retuning it.  This is bad and will no doubt cause headaches all over\nthe place.  See http://nagoya.apache.org/bugzilla/show_bug.cgi?id\u003d6171\n\nWe to prevent this, we could do null checks wherever we do setAttribute() - this\nwill be all over the place I suspect and will be a right pain.  Without this,\nthese rogue documents wont be able to be serialized using Xalan.\n",
    "How did our old code handle null?",
    "It didn\u0027t, exactly.  The xerces DOM implementation was sensible enough not to\nreturn null for getAttribute() even when we set it to null using setAttribute().\n\nIf you run the current build with Xerces as the default parser (using\n-Dorg.apache.xerces.xni.parser.XMLParserConfiguration\u003dorg.apache.xerces.parsers.StandardParserConfiguration\n-Djava.endorsed.dirs\u003dD:\\eclipse\\plugins\\org.apache.xerces_4.0.13) this problem\ndoesn\u0027t appear.",
    "Looks like we\u0027ll have to do the conversion from null to \"\" on set ourselves.\n",
    "If my search is accurate, the core eclipse product calls setAttribute() in 135\ndifferent locations.  UI represents 9 of those instances, and some of them\nalready have null checks (by virtue of their input or for other reasons).\n\nDo you this fix immediately or post Wednesday?",
    "Created an attachment (id\u003d6678)\nPatch for org.eclipse.ui.jface\n",
    "Created an attachment (id\u003d6679)\nPatch for org.eclipse.ui.workbench\n",
    "All applicable setAttribute() calls now have a null check.",
    "Patches released",
    "*** Bug 46404 has been marked as a duplicate of this bug. ***",
    "It\u0027s possible that the hash map will contain a null key and this is the only\nattribute that was not being checked.  Will add a check for this as well.",
    "Created an attachment (id\u003d6730)\nPatch for org.eclipse.ui.jface\n",
    "Nick, could you please apply this patch when you get a chance?",
    "In the processing of arrayItems further down in the same method, it also does \nchild.setAttribute(TAG_KEY, key).  Is a null check required here too?",
    "Created an attachment (id\u003d6731)\nPatch for org.eclipse.ui.jface\n\nYou are right, I am a putz.",
    "Patch released.",
    "Verified by going to CVS perspective, creating a new connection, and closing\neclipse.  The cvs ui settings were saved correctly based on the contents of\ndialog_settings.xml and no error was logged.",
    "Closed."
  ],
  "commentCreationDates": [
    "2003-11-04T15:29:33+01:00",
    "2003-11-04T17:20:24+01:00",
    "2003-11-04T17:24:16+01:00",
    "2003-11-04T18:12:23+01:00",
    "2003-11-04T19:19:24+01:00",
    "2003-11-04T19:29:16+01:00",
    "2003-11-06T14:08:16+01:00",
    "2003-11-06T14:08:39+01:00",
    "2003-11-06T14:09:52+01:00",
    "2003-11-07T19:49:44+01:00",
    "2003-11-11T15:32:45+01:00",
    "2003-11-11T15:33:11+01:00",
    "2003-11-11T15:35:39+01:00",
    "2003-11-11T15:36:32+01:00",
    "2003-11-11T15:49:54+01:00",
    "2003-11-11T15:53:39+01:00",
    "2003-11-11T16:30:10+01:00",
    "2003-11-19T14:39:04+01:00",
    "2004-04-01T21:41:04+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.apache.xalan.serialize.SerializerToXML.writeAttrString",
          "source": "SerializerToXML.java:2340"
        },
        {
          "method": "org.apache.xalan.serialize.SerializerToXML.processAttribute",
          "source": "SerializerToXML.java:1099"
        },
        {
          "method": "org.apache.xalan.serialize.SerializerToXML.startElement",
          "source": "SerializerToXML.java:959"
        },
        {
          "method": "org.apache.xalan.transformer.TransformerIdentityImpl.startElement",
          "source": "TransformerIdentityImpl.java:1020"
        },
        {
          "method": "org.apache.xml.utils.TreeWalker.startNode",
          "source": "TreeWalker.java:379"
        },
        {
          "method": "org.apache.xml.utils.TreeWalker.traverse",
          "source": "TreeWalker.java:191"
        },
        {
          "method": "org.apache.xalan.transformer.TransformerIdentityImpl.transform",
          "source": "TransformerIdentityImpl.java:325"
        },
        {
          "method": "org.eclipse.jface.dialogs.DialogSettings.save",
          "source": "DialogSettings.java:333"
        },
        {
          "method": "org.eclipse.jface.dialogs.DialogSettings.save",
          "source": "DialogSettings.java:351"
        },
        {
          "method": "org.eclipse.ui.plugin.AbstractUIPlugin.saveDialogSettings",
          "source": "AbstractUIPlugin.java:764"
        },
        {
          "method": "org.eclipse.ui.plugin.AbstractUIPlugin.shutdown",
          "source": "AbstractUIPlugin.java:803"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.CVSUIPlugin.shutdown",
          "source": "CVSUIPlugin.java:671"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginRegistry$2.run",
          "source": "PluginRegistry.java:298"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:954"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginRegistry$1.visit",
          "source": "PluginRegistry.java:311"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginRegistry.accept",
          "source": "PluginRegistry.java:61"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginRegistry.shutdownPlugins",
          "source": "PluginRegistry.java:314"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginRegistry.shutdown",
          "source": "PluginRegistry.java:280"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.loaderShutdown",
          "source": "InternalPlatform.java:575"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.shutdown",
          "source": "InternalBootLoader.java:1017"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:863"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:299"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:767"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:601"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "46031",
      "date": "2003-11-04T15:29:33+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "46031",
  "bugId": "46031",
  "date": "2003-11-04T15:29:33+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "major"
}