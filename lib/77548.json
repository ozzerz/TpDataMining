{
  "comments": [
    "Using build I20041102_1600, I cannot open a preference page, because the\nencoding field cannot be initialized properly. I get:\n\njava.nio.charset.IllegalCharsetNameException:\nat java.nio.charset.Charset.checkName(Charset.java:274)\nat java.nio.charset.Charset.lookup(Charset.java:443)\nat java.nio.charset.Charset.isSupported(Charset.java:461)\nat\norg.eclipse.ui.ide.dialogs.AbstractEncodingFieldEditor.isValidEncoding(AbstractEncodingFieldEditor.java:292)\nat\norg.eclipse.ui.ide.dialogs.AbstractEncodingFieldEditor.isEncodingValid(AbstractEncodingFieldEditor.java:283)\nat\norg.eclipse.ui.ide.dialogs.AbstractEncodingFieldEditor.updateValidState(AbstractEncodingFieldEditor.java:252)\nat\norg.eclipse.ui.ide.dialogs.AbstractEncodingFieldEditor.access$2(AbstractEncodingFieldEditor.java:251)\nat\norg.eclipse.ui.ide.dialogs.AbstractEncodingFieldEditor$2.modifyText(AbstractEncodingFieldEditor.java:202)\nat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:187)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:800)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:824)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:805)\nat org.eclipse.swt.widgets.Combo.setItems(Combo.java:1364)\nat\norg.eclipse.ui.ide.dialogs.AbstractEncodingFieldEditor.populateEncodingsCombo(AbstractEncodingFieldEditor.java:236)\nat\norg.eclipse.ui.ide.dialogs.AbstractEncodingFieldEditor.doLoad(AbstractEncodingFieldEditor.java:100)\nat\norg.eclipse.ui.ide.dialogs.ResourceEncodingFieldEditor.load(ResourceEncodingFieldEditor.java:157)\nat\norg.eclipse.ui.internal.ide.dialogs.ResourceInfoPage.createContents(ResourceInfoPage.java:298)\nat\norg.eclipse.jface.preference.PreferencePage.createControl(PreferencePage.java:231)\nat org.eclipse.jface.preference.PreferenceDialog$13.run(PreferenceDialog.java:1104)\nat org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:616)\nat org.eclipse.core.runtime.Platform.run(Platform.java:747)\nat\norg.eclipse.jface.preference.PreferenceDialog.showPage(PreferenceDialog.java:1098)\nat\norg.eclipse.ui.internal.dialogs.FilteredPreferenceDialog.showPage(FilteredPreferenceDialog.java:307)\nat\norg.eclipse.jface.preference.PreferenceDialog$9.selectionChanged(PreferenceDialog.java:594)\nat org.eclipse.jface.viewers.StructuredViewer$3.run(StructuredViewer.java:636)\nat org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:616)\nat org.eclipse.core.runtime.Platform.run(Platform.java:747)\nat\norg.eclipse.jface.viewers.StructuredViewer.firePostSelectionChanged(StructuredViewer.java:634)\nat\norg.eclipse.jface.viewers.StructuredViewer.setSelection(StructuredViewer.java:1305)\nat\norg.eclipse.jface.preference.PreferenceDialog.selectSavedItem(PreferenceDialog.java:889)\nat\norg.eclipse.ui.internal.dialogs.FilteredPreferenceDialog.selectSavedItem(FilteredPreferenceDialog.java:318)\nat org.eclipse.jface.preference.PreferenceDialog$3.run(PreferenceDialog.java:342)\nat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\nat\norg.eclipse.jface.preference.PreferenceDialog.createContents(PreferenceDialog.java:338)\nat org.eclipse.jface.window.Window.create(Window.java:375)\nat org.eclipse.jface.dialogs.Dialog.create(Dialog.java:983)\nat org.eclipse.ui.dialogs.PropertyDialogAction.run(PropertyDialogAction.java:182)\nat org.eclipse.jface.action.Action.runWithEvent(Action.java:988)\nat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:946)\nat\norg.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:896)\nat\norg.eclipse.jface.action.ActionContributionItem$7.handleEvent(ActionContributionItem.java:810)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:800)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2794)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2448)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1527)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1498)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:276)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)\nat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102)\nat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:335)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:585)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\nat org.eclipse.core.launcher.Main.run(Main.java:684)\nat org.eclipse.core.launcher.Main.main(Main.java:668)\n\nAll usages of java.nio.charset.Charset.isSupported(String) should be surrounded\nwith a try/catch IllegalCharsetNameException. This is not handled right now. The\nfix is trivial.\nShould be fixed for M3.\n\nI found at least two usages of this API.",
    "Created an attachment (id\u003d15582)\nApply on HEAD\n\nThis patch is fixing references in ui.ide.\nThere is also one reference in workbench.jar",
    "with I200411022000 on linux/gtk, I get the exception as well, and a dialog\ntelling me about it, but the property page does open afterwards, with neither of\nthe radiobuttons checked on the \u0027Info\u0027 page.",
    "*** Bug 77590 has been marked as a duplicate of this bug. ***",
    "I hope to see this one fixed for M3. This is a safe fix and it allows a 1.5 VM\nto be used to run Eclipse.",
    "Confirmed that this exists on a 1.5 VM on Linux GTK+.  It does not apply to all \npreference pages.  It applies to users of AbstractEncodingFieldEditor (e.g., \nthe \"Workbench \u003e Editors\" preference page). \n \nThis patch is not sufficient.  We also need to protect \n\"WorkbenchEncoding.readEncodings()\". \n \nTod to fix for M3. \n ",
    "I said in comment 1 that the project workbench needs a similar fix. My patch is\nonly for ui.ide project.\nAll references to the java.nio.charset.Charset.isSupported needs to have a\ntry/catch for java.nio.charset.IllegalCharsetNameException.\nThis is simple to fix.",
    "Fix released to HEAD with help from Olivier. ",
    "Marking fixed. Doug we need to resubmit.",
    "Verified in 20041104-2000",
    "*** Bug 77743 has been marked as a duplicate of this bug. ***",
    "*** Bug 77829 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2004-11-02T23:00:21+01:00",
    "2004-11-02T23:04:01+01:00",
    "2004-11-03T10:04:57+01:00",
    "2004-11-03T14:32:29+01:00",
    "2004-11-04T04:22:41+01:00",
    "2004-11-04T18:19:05+01:00",
    "2004-11-04T18:24:26+01:00",
    "2004-11-04T18:59:04+01:00",
    "2004-11-04T18:59:34+01:00",
    "2004-11-05T13:58:27+01:00",
    "2004-11-18T18:52:35+01:00",
    "2004-12-07T21:34:32+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.nio.charset.IllegalCharsetNameException",
      "message": "",
      "elements": [
        {
          "method": "java.nio.charset.Charset.checkName",
          "source": "Charset.java:274"
        },
        {
          "method": "java.nio.charset.Charset.lookup",
          "source": "Charset.java:443"
        },
        {
          "method": "java.nio.charset.Charset.isSupported",
          "source": "Charset.java:461"
        },
        {
          "method": "org.eclipse.ui.ide.dialogs.AbstractEncodingFieldEditor.isValidEncoding",
          "source": "AbstractEncodingFieldEditor.java:292"
        },
        {
          "method": "org.eclipse.ui.ide.dialogs.AbstractEncodingFieldEditor.isEncodingValid",
          "source": "AbstractEncodingFieldEditor.java:283"
        },
        {
          "method": "org.eclipse.ui.ide.dialogs.AbstractEncodingFieldEditor.updateValidState",
          "source": "AbstractEncodingFieldEditor.java:252"
        },
        {
          "method": "org.eclipse.ui.ide.dialogs.AbstractEncodingFieldEditor.access$2",
          "source": "AbstractEncodingFieldEditor.java:251"
        },
        {
          "method": "org.eclipse.ui.ide.dialogs.AbstractEncodingFieldEditor$2.modifyText",
          "source": "AbstractEncodingFieldEditor.java:202"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:187"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:800"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:824"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:805"
        },
        {
          "method": "org.eclipse.swt.widgets.Combo.setItems",
          "source": "Combo.java:1364"
        },
        {
          "method": "org.eclipse.ui.ide.dialogs.AbstractEncodingFieldEditor.populateEncodingsCombo",
          "source": "AbstractEncodingFieldEditor.java:236"
        },
        {
          "method": "org.eclipse.ui.ide.dialogs.AbstractEncodingFieldEditor.doLoad",
          "source": "AbstractEncodingFieldEditor.java:100"
        },
        {
          "method": "org.eclipse.ui.ide.dialogs.ResourceEncodingFieldEditor.load",
          "source": "ResourceEncodingFieldEditor.java:157"
        },
        {
          "method": "org.eclipse.ui.internal.ide.dialogs.ResourceInfoPage.createContents",
          "source": "ResourceInfoPage.java:298"
        },
        {
          "method": "org.eclipse.jface.preference.PreferencePage.createControl",
          "source": "PreferencePage.java:231"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog$13.run",
          "source": "PreferenceDialog.java:1104"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:616"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:747"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog.showPage",
          "source": "PreferenceDialog.java:1098"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.FilteredPreferenceDialog.showPage",
          "source": "FilteredPreferenceDialog.java:307"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog$9.selectionChanged",
          "source": "PreferenceDialog.java:594"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$3.run",
          "source": "StructuredViewer.java:636"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:616"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:747"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.firePostSelectionChanged",
          "source": "StructuredViewer.java:634"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.setSelection",
          "source": "StructuredViewer.java:1305"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog.selectSavedItem",
          "source": "PreferenceDialog.java:889"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.FilteredPreferenceDialog.selectSavedItem",
          "source": "FilteredPreferenceDialog.java:318"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog$3.run",
          "source": "PreferenceDialog.java:342"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog.createContents",
          "source": "PreferenceDialog.java:338"
        },
        {
          "method": "org.eclipse.jface.window.Window.create",
          "source": "Window.java:375"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog.create",
          "source": "Dialog.java:983"
        },
        {
          "method": "org.eclipse.ui.dialogs.PropertyDialogAction.run",
          "source": "PropertyDialogAction.java:182"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:988"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:946"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:896"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$7.handleEvent",
          "source": "ActionContributionItem.java:810"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:800"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2794"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2448"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1527"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1498"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:276"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:144"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:102"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:335"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:273"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:684"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:668"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "77548",
      "date": "2004-11-02T23:00:21+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "77548",
  "bugId": "77548",
  "date": "2004-11-02T23:00:21+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "major"
}