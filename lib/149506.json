{
  "comments": [
    "Build: any 3.3 build will do.\n\n1. Create an extension on the Extensions page of the plug-in manifest editor.\n\n2. Flip to the source page.\n\nNote how the newly generated markup does not have folding associated with it.\n\nEnter a space or something on the source page.  Code folding appears.",
    "assigning to our good friend Chris.",
    "Spent quite a bit debugging this problem, here\u0027s the stacktrace associated with the problem:\n\norg.eclipse.jface.text.BadLocationException\n\tat org.eclipse.jface.text.ListLineTracker.getLineNumberOfOffset(ListLineTracker.java:140)\n\tat org.eclipse.jface.text.AbstractLineTracker.getLineNumberOfOffset(AbstractLineTracker.java:161)\n\tat org.eclipse.jface.text.AbstractDocument.getLineOfOffset(AbstractDocument.java:841)\n\tat org.eclipse.pde.internal.ui.editor.plugin.PluginFoldingStructureProvider.addFoldingRegions(PluginFoldingStructureProvider.java)\n\tat org.eclipse.pde.internal.ui.editor.plugin.PluginFoldingStructureProvider.addFoldingRegions(PluginFoldingStructureProvider.java:42)",
    "Chris, do we have a fix for this yet? ",
    "cc\u0027ng Janek as I think I need a set of fresh eyes on this one if he has time",
    "Created an attachment (id\u003d47187)\norg.eclipse.pde.ui.patch\n\nbauman is a genious",
    "brian should commit this one :)",
    "Fixed.  Targeting for 3.3M1",
    "The problem is still occurring for the manifest.mf folding.\n\n1. Add a few dependencies on the Dependencies page\n2. switch to the manifest.mf source page\nCode folding is not updated unless you type something.",
    "gosh Wassim, you are so picky.  Everything needs to work right 100% of the time for you, huh?  \n\nProblem was the header lengths were not updated until the page was reconciled.  That would not happen til the page had focus for .5 seconds.  This meant the page change would trigger the folding class to recalcuate it\u0027s regions, but the regions were stale since it hadn\u0027t been reconciled yet.  \n\nThe fix was to have the folding processor listen to reconciling changes instead of model changes.  Hopefully we can now close this bug for good :)"
  ],
  "commentCreationDates": [
    "2006-07-04T03:29:15+02:00",
    "2006-07-04T03:29:48+02:00",
    "2006-07-04T23:04:11+02:00",
    "2006-07-07T20:54:23+02:00",
    "2006-07-16T20:35:06+02:00",
    "2006-08-01T23:49:54+02:00",
    "2006-08-01T23:50:24+02:00",
    "2006-08-01T23:57:04+02:00",
    "2006-08-03T02:28:54+02:00",
    "2006-08-04T00:15:14+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.jface.text.BadLocationException",
      "elements": [
        {
          "method": "org.eclipse.jface.text.ListLineTracker.getLineNumberOfOffset",
          "source": "ListLineTracker.java:140"
        },
        {
          "method": "org.eclipse.jface.text.AbstractLineTracker.getLineNumberOfOffset",
          "source": "AbstractLineTracker.java:161"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.getLineOfOffset",
          "source": "AbstractDocument.java:841"
        },
        {
          "method": "org.eclipse.pde.internal.ui.editor.plugin.PluginFoldingStructureProvider.addFoldingRegions",
          "source": "PluginFoldingStructureProvider.java"
        },
        {
          "method": "org.eclipse.pde.internal.ui.editor.plugin.PluginFoldingStructureProvider.addFoldingRegions",
          "source": "PluginFoldingStructureProvider.java:42"
        }
      ],
      "number": 0,
      "commentIndex": 2,
      "bugId": "149506",
      "date": "2006-07-04T23:04:11+02:00",
      "product": "PDE",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "149506",
  "bugId": "149506",
  "date": "2006-07-04T03:29:15+02:00",
  "product": "PDE",
  "component": "UI",
  "severity": "normal"
}