{
  "comments": [
    "Got the following exception extracting an interface using RC1:\n\njava.lang.reflect.InvocationTargetException\n\tat org.eclipse.jface.operation.ModalContext.runInCurrentThread\n(ModalContext.java:307)\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:246)\n\tat org.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2.run\n(RefactoringWizardDialog2.java:247)\n\tat \norg.eclipse.jdt.internal.ui.refactoring.PerformRefactoringUtil.performRefactorin\ng(PerformRefactoringUtil.java:43)\n\tat \norg.eclipse.jdt.internal.ui.refactoring.RefactoringWizard.performFinish\n(RefactoringWizard.java:357)\n\tat \norg.eclipse.jdt.internal.ui.refactoring.UserInputWizardPage.performFinish\n(UserInputWizardPage.java:113)\n\tat \norg.eclipse.jdt.internal.ui.refactoring.ExtractInterfaceInputPage.performFinish\n(ExtractInterfaceInputPage.java:207)\n\tat \norg.eclipse.jdt.internal.ui.refactoring.RefactoringWizard.performFinish\n(RefactoringWizard.java:420)\n\tat \norg.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2.okPressed\n(RefactoringWizardDialog2.java:364)\n\tat org.eclipse.jface.dialogs.Dialog.buttonPressed(Dialog.java:250)\n\tat org.eclipse.jface.dialogs.Dialog$1.widgetSelected(Dialog.java:417)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent\n(TypedListener.java:87)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:77)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:836)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1775)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1483)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:577)\n\tat org.eclipse.jface.window.Window.open(Window.java:557)\n\tat \norg.eclipse.jdt.internal.ui.refactoring.actions.RefactoringStarter.activate\n(RefactoringStarter.java:60)\n\tat org.eclipse.jdt.ui.actions.ExtractInterfaceAction.startRefactoring\n(ExtractInterfaceAction.java:158)\n\tat org.eclipse.jdt.ui.actions.ExtractInterfaceAction.run\n(ExtractInterfaceAction.java:94)\n\tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun\n(SelectionDispatchAction.java:193)\n\tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.run\n(SelectionDispatchAction.java:169)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:841)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:456)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent\n(ActionContributionItem.java:403)\n\tat org.eclipse.jface.action.ActionContributionItem.access$0\n(ActionContributionItem.java:397)\n\tat \norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent\n(ActionContributionItem.java:72)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:77)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:836)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1775)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1483)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1271)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1254)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:845)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:247)\n\tat org.eclipse.core.launcher.Main.run(Main.java:703)\n\tat org.eclipse.core.launcher.Main.main(Main.java:539)\nCaused by: org.eclipse.jdt.internal.corext.Assert$AssertionFailedException: \nnull argument;Variable typecommentnot defined\n\tat org.eclipse.jdt.internal.corext.Assert.isNotNull(Assert.java:99)\n\tat \norg.eclipse.jdt.internal.corext.template.java.CodeTemplateContext.evaluate\n(CodeTemplateContext.java:46)\n\tat \norg.eclipse.jdt.internal.corext.codemanipulation.StubUtility.getCompilationUnitC\nontent(StubUtility.java:300)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.structure.ExtractInterfaceRefactorin\ng.createExtractedInterfaceCUSource(ExtractInterfaceRefactoring.java:443)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.structure.ExtractInterfaceRefactorin\ng.createExtractedInterface(ExtractInterfaceRefactoring.java:366)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.structure.ExtractInterfaceRefactorin\ng.createChange(ExtractInterfaceRefactoring.java:259)\n\tat org.eclipse.jdt.internal.ui.refactoring.CreateChangeOperation.run\n(CreateChangeOperation.java:98)\n\tat org.eclipse.jdt.internal.ui.refactoring.PerformChangeOperation.run\n(PerformChangeOperation.java:138)\n\tat org.eclipse.jface.operation.ModalContext.runInCurrentThread\n(ModalContext.java:296)\n\t... 42 more",
    "Martin, is this refactoring or code manipulation ?",
    "i think its adam. my guess is that one of the arguments of\nStubUtility.getCompilationUnitContent is null",
    "delete stuff from the type comment and that\u0027s what you get\nMartin can you comment?",
    "StubUtility.getTypeComment returns null if the template is empty. But you have\nto check this before you call StubUtility.getCompilationUnitContent.\nStubUtility.getCompilationUnitContent does not accept null.",
    "is there any reason why it returns null instead of the more intuitive \"\" ?\nafter all, i did not remove the comment, just made it empty",
    "please pong to me if you think that i should protect myself against the null\nand explain why empty string is not the right answer",
    "null is returned when there is no comment to add: The teplate does not exist,\ncould not be resolved, or was undefined (set to length 0). In my understanding\nthis is not a _empty_ comment, but _no_ comment. Most of the code handling with\nthe comments must know if there \u0027no comment\u0027 and e.g. add no comment node to the\nast rewriter.\nFor you case this might be annoying, but, it\u0027s already in use in some other code\nwhere is makes sense.\nSo please, add the null check in your code, or change\nStubUtility.getCompilationUnitContent to accept null as type comment (add the\nnull check in there). Needs to change the comment in API class CodeGeneration as\nwell.\n\n ",
    "fixed by guarding against the null everywhere"
  ],
  "commentCreationDates": [
    "2003-02-24T12:12:58+01:00",
    "2003-02-24T13:22:23+01:00",
    "2003-02-24T15:33:57+01:00",
    "2003-02-24T17:06:11+01:00",
    "2003-02-24T17:13:38+01:00",
    "2003-03-03T14:26:43+01:00",
    "2003-03-03T18:45:25+01:00",
    "2003-03-03T22:18:02+01:00",
    "2003-03-04T12:31:05+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.reflect.InvocationTargetException",
      "elements": [
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:307"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:246"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2.run",
          "source": "RefactoringWizardDialog2.java:247"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.PerformRefactoringUtil.performRefactoring",
          "source": "PerformRefactoringUtil.java:43"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.RefactoringWizard.performFinish",
          "source": "RefactoringWizard.java:357"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.UserInputWizardPage.performFinish",
          "source": "UserInputWizardPage.java:113"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.ExtractInterfaceInputPage.performFinish",
          "source": "ExtractInterfaceInputPage.java:207"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.RefactoringWizard.performFinish",
          "source": "RefactoringWizard.java:420"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2.okPressed",
          "source": "RefactoringWizardDialog2.java:364"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog.buttonPressed",
          "source": "Dialog.java:250"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$1.widgetSelected",
          "source": "Dialog.java:417"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:87"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:77"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:836"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1775"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1483"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:577"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:557"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.actions.RefactoringStarter.activate",
          "source": "RefactoringStarter.java:60"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.ExtractInterfaceAction.startRefactoring",
          "source": "ExtractInterfaceAction.java:158"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.ExtractInterfaceAction.run",
          "source": "ExtractInterfaceAction.java:94"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun",
          "source": "SelectionDispatchAction.java:193"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.run",
          "source": "SelectionDispatchAction.java:169"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:841"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:456"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java:403"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem.java:397"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java:72"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:77"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:836"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1775"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1483"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1271"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1254"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:247"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:703"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:539"
        }
      ],
      "causedBy": {
        "exceptionType": "org.eclipse.jdt.internal.corext.Assert$AssertionFailedException",
        "message": "null argument;Variable typecommentnot defined",
        "elements": [
          {
            "method": "org.eclipse.jdt.internal.corext.Assert.isNotNull",
            "source": "Assert.java:99"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.template.java.CodeTemplateContext.evaluate",
            "source": "CodeTemplateContext.java:46"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.codemanipulation.StubUtility.getCompilationUnitContent",
            "source": "StubUtility.java:300"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.refactoring.structure.ExtractInterfaceRefactoring.createExtractedInterfaceCUSource",
            "source": "ExtractInterfaceRefactoring.java:443"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.refactoring.structure.ExtractInterfaceRefactoring.createExtractedInterface",
            "source": "ExtractInterfaceRefactoring.java:366"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.refactoring.structure.ExtractInterfaceRefactoring.createChange",
            "source": "ExtractInterfaceRefactoring.java:259"
          },
          {
            "method": "org.eclipse.jdt.internal.ui.refactoring.CreateChangeOperation.run",
            "source": "CreateChangeOperation.java:98"
          },
          {
            "method": "org.eclipse.jdt.internal.ui.refactoring.PerformChangeOperation.run",
            "source": "PerformChangeOperation.java:138"
          },
          {
            "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
            "source": "ModalContext.java:296"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "32626",
      "date": "2003-02-24T12:12:58+01:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "32626",
  "bugId": "32626",
  "date": "2003-02-24T12:12:58+01:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}