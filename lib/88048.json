{
  "comments": [
    "20050308 in a self hosted workspace.\nui, ide, views and workbench loaded from HEAD\n\nSTEPS\n1) Self host into the Java perspective\n2) Switch to the CVS perspective\n3) Load a project (I loaded SWT)\n4) Return to the java perspective\n\nWidget is disposed\n\n!ENTRY org.eclipse.ui.workbench 4 2 2005-03-15 08:53:18.346\n!MESSAGE Problems occurred when invoking code from plug-in:\n\"org.eclipse.ui.workbench\".\n!STACK 0\norg.eclipse.swt.SWTException: Widget is disposed\n\tat org.eclipse.swt.SWT.error(SWT.java:2850)\n\tat org.eclipse.swt.SWT.error(SWT.java:2773)\n\tat org.eclipse.swt.SWT.error(SWT.java:2744)\n\tat org.eclipse.swt.widgets.Widget.error(Widget.java:393)\n\tat org.eclipse.swt.widgets.Widget.checkWidget(Widget.java(Compiled Code))\n\tat org.eclipse.swt.custom.CTabFolder.setSelectionForeground(CTabFolder.java:3325)\n\tat\norg.eclipse.ui.internal.presentations.PaneFolder.setSelectionForeground(PaneFolder.java:672)\n\tat\norg.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder.updateColors(DefaultTabFolder.java:415)\n\tat\norg.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder.setActive(DefaultTabFolder.java:372)\n\tat\norg.eclipse.ui.internal.presentations.newapi.TabbedStackPresentation.setActive(TabbedStackPresentation.java:299)\n\tat\norg.eclipse.ui.internal.DefaultStackPresentationSite.setActive(DefaultStackPresentationSite.java:55)\n\tat org.eclipse.ui.internal.PartStack.setActive(PartStack.java:995)\n\tat org.eclipse.ui.internal.ViewPane.setActive(ViewPane.java:381)\n\tat org.eclipse.ui.internal.ViewPane.showFocus(ViewPane.java:390)\n\tat org.eclipse.ui.internal.WorkbenchPage$4.run(WorkbenchPage.java:574)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java(Compiled\nCode))\n\tat org.eclipse.core.runtime.Platform.run(Platform.java(Compiled Code))\n\tat org.eclipse.ui.internal.WorkbenchPage.activatePart(WorkbenchPage.java:569)\n\tat org.eclipse.ui.internal.WorkbenchPage.setActivePart(WorkbenchPage.java:2723)\n\tat org.eclipse.ui.internal.WorkbenchPage.requestActivation(WorkbenchPage.java:2401)\n\tat org.eclipse.ui.internal.PartPane.requestActivation(PartPane.java:245)\n\tat org.eclipse.ui.internal.PartPane.handleEvent(PartPane.java:212)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Shell.setActiveControl(Shell.java:989)\n\tat org.eclipse.swt.widgets.Control.sendFocusEvent(Control.java:1852)\n\tat org.eclipse.swt.widgets.Widget.wmSetFocus(Widget.java:1914)\n\tat org.eclipse.swt.widgets.Control.WM_SETFOCUS(Control.java:3615)\n\tat org.eclipse.swt.widgets.Tree.WM_SETFOCUS(Tree.java:3155)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Tree.windowProc(Tree.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java(Compiled Code))\n\tat org.eclipse.swt.internal.win32.OS.SetFocus(Native Method)\n\tat org.eclipse.swt.widgets.Control.forceFocus(Control.java:647)\n\tat org.eclipse.swt.widgets.Control.setSavedFocus(Control.java:2347)\n\tat org.eclipse.swt.widgets.Decorations.restoreFocus(Decorations.java:738)\n\tat org.eclipse.swt.widgets.Decorations.WM_ACTIVATE(Decorations.java:1541)\n\tat org.eclipse.swt.widgets.Shell.WM_ACTIVATE(Shell.java:1461)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java(Compiled Code))\n\tat org.eclipse.swt.internal.win32.OS.DestroyWindow(Native Method)\n\tat org.eclipse.swt.widgets.Control.destroyWidget(Control.java:522)\n\tat org.eclipse.swt.widgets.Widget.dispose(Widget.java:381)\n\tat\norg.eclipse.ui.internal.presentations.newapi.TabbedStackPresentation.dispose(TabbedStackPresentation.java:267)\n\tat\norg.eclipse.ui.internal.DefaultStackPresentationSite.dispose(DefaultStackPresentationSite.java:76)\n\tat org.eclipse.ui.internal.PartStack.dispose(PartStack.java:600)\n\tat org.eclipse.ui.internal.PartSashContainer.dispose(PartSashContainer.java:530)\n\tat org.eclipse.ui.internal.PerspectiveHelper.deactivate(PerspectiveHelper.java:575)\n\tat org.eclipse.ui.internal.Perspective.onDeactivate(Perspective.java:787)\n\tat org.eclipse.ui.internal.WorkbenchPage.setPerspective(WorkbenchPage.java:2810)\n\tat org.eclipse.ui.internal.WorkbenchPage.busySetPerspective(WorkbenchPage.java:843)\n\tat org.eclipse.ui.internal.WorkbenchPage.access$10(WorkbenchPage.java:828)\n\tat org.eclipse.ui.internal.WorkbenchPage$13.run(WorkbenchPage.java:2970)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n\tat org.eclipse.ui.internal.WorkbenchPage.setPerspective(WorkbenchPage.java:2968)\n\tat\norg.eclipse.ui.internal.PerspectiveBarContributionItem.select(PerspectiveBarContributionItem.java:109)\n\tat\norg.eclipse.ui.internal.PerspectiveBarManager$1.widgetSelected(PerspectiveBarManager.java:145)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code))\n\tat\norg.eclipse.ui.internal.PerspectiveBarManager.handleChevron(PerspectiveBarManager.java:161)\n\tat\norg.eclipse.ui.internal.PerspectiveSwitcher$9.widgetSelected(PerspectiveSwitcher.java:766)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1478)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:297)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:338)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:151)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)\n\tat java.lang.reflect.Method.invoke(Method.java:391)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:268)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:260)\n\tat org.eclipse.core.launcher.Main.run(Main.java:887)\n\tat org.eclipse.core.launcher.Main.main(Main.java:871)",
    "Note this does not happen ever time so it may be difficult to replicate",
    "This one has me stumped. I can\u0027t figure out this bit of the stack trace:\n\n\tat org.eclipse.swt.widgets.Decorations.WM_ACTIVATE(Decorations.java:1541)\n\tat org.eclipse.swt.widgets.Shell.WM_ACTIVATE(Shell.java:1461)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java(Compiled Code))\n\tat org.eclipse.swt.internal.win32.OS.DestroyWindow(Native Method)\n\tat org.eclipse.swt.widgets.Control.destroyWidget(Control.java:522)\n\tat org.eclipse.swt.widgets.Widget.dispose(Widget.java:381)\n\tat\norg.eclipse.ui.internal.presentations.newapi.TabbedStackPresentation.dispose(TabbedStackPresentation.java:267)\n\nAssuming you\u0027re running the default presentation, then\nTabbedStackPresentation.java:267 is disposing a CTabFolder... and I can\u0027t\nenvision any situation in which disposing a CTabFolder would change shell\nactivation.\n\ncc\u0027ing Steve, in case he can help shed some light on this.\n\nJust a shot in the dark: Is it possible you were running with any accessibility\nor internationalization tools that might have had a popup open that was somehow\nassociated with the CTabFolder?\n",
    "Also: whenever this happens, is the stack trace always exactly the same? Or is\nthere some variation at some point in the stack?",
    "It looks like the active shell is being disposed and a new active shell is \ngetting assigned.  When the new shell is activated, focus is assigned to the \ncontrol that had focus when the shell was deactivated.  Could the shell in \nquestion be a tool top?",
    "can this still be recreated?",
    "Is this still a problem in 3.3?\n\nPW\n",
    "Changes requested on bug 193523"
  ],
  "commentCreationDates": [
    "2005-03-15T13:56:50+01:00",
    "2005-03-15T13:59:56+01:00",
    "2005-04-19T23:39:52+02:00",
    "2005-04-19T23:41:58+02:00",
    "2005-04-20T14:18:32+02:00",
    "2005-08-31T00:04:34+02:00",
    "2006-09-28T21:14:31+02:00",
    "2007-06-22T15:32:49+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Widget is disposed",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2850"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2773"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2744"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:393"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.checkWidget",
          "source": "Widget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.custom.CTabFolder.setSelectionForeground",
          "source": "CTabFolder.java:3325"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.PaneFolder.setSelectionForeground",
          "source": "PaneFolder.java:672"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder.updateColors",
          "source": "DefaultTabFolder.java:415"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder.setActive",
          "source": "DefaultTabFolder.java:372"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.newapi.TabbedStackPresentation.setActive",
          "source": "TabbedStackPresentation.java:299"
        },
        {
          "method": "org.eclipse.ui.internal.DefaultStackPresentationSite.setActive",
          "source": "DefaultStackPresentationSite.java:55"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.setActive",
          "source": "PartStack.java:995"
        },
        {
          "method": "org.eclipse.ui.internal.ViewPane.setActive",
          "source": "ViewPane.java:381"
        },
        {
          "method": "org.eclipse.ui.internal.ViewPane.showFocus",
          "source": "ViewPane.java:390"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$4.run",
          "source": "WorkbenchPage.java:574"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.activatePart",
          "source": "WorkbenchPage.java:569"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.setActivePart",
          "source": "WorkbenchPage.java:2723"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.requestActivation",
          "source": "WorkbenchPage.java:2401"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.requestActivation",
          "source": "PartPane.java:245"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.handleEvent",
          "source": "PartPane.java:212"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.setActiveControl",
          "source": "Shell.java:989"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.sendFocusEvent",
          "source": "Control.java:1852"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.wmSetFocus",
          "source": "Widget.java:1914"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.WM_SETFOCUS",
          "source": "Control.java:3615"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.WM_SETFOCUS",
          "source": "Tree.java:3155"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.windowProc",
          "source": "Tree.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.SetFocus",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.forceFocus",
          "source": "Control.java:647"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.setSavedFocus",
          "source": "Control.java:2347"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.restoreFocus",
          "source": "Decorations.java:738"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.WM_ACTIVATE",
          "source": "Decorations.java:1541"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.WM_ACTIVATE",
          "source": "Shell.java:1461"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.windowProc",
          "source": "Decorations.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DestroyWindow",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.destroyWidget",
          "source": "Control.java:522"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.dispose",
          "source": "Widget.java:381"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.newapi.TabbedStackPresentation.dispose",
          "source": "TabbedStackPresentation.java:267"
        },
        {
          "method": "org.eclipse.ui.internal.DefaultStackPresentationSite.dispose",
          "source": "DefaultStackPresentationSite.java:76"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.dispose",
          "source": "PartStack.java:600"
        },
        {
          "method": "org.eclipse.ui.internal.PartSashContainer.dispose",
          "source": "PartSashContainer.java:530"
        },
        {
          "method": "org.eclipse.ui.internal.PerspectiveHelper.deactivate",
          "source": "PerspectiveHelper.java:575"
        },
        {
          "method": "org.eclipse.ui.internal.Perspective.onDeactivate",
          "source": "Perspective.java:787"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.setPerspective",
          "source": "WorkbenchPage.java:2810"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.busySetPerspective",
          "source": "WorkbenchPage.java:843"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.access$10",
          "source": "WorkbenchPage.java:828"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$13.run",
          "source": "WorkbenchPage.java:2970"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.setPerspective",
          "source": "WorkbenchPage.java:2968"
        },
        {
          "method": "org.eclipse.ui.internal.PerspectiveBarContributionItem.select",
          "source": "PerspectiveBarContributionItem.java:109"
        },
        {
          "method": "org.eclipse.ui.internal.PerspectiveBarManager$1.widgetSelected",
          "source": "PerspectiveBarManager.java:145"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:89"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.PerspectiveBarManager.handleChevron",
          "source": "PerspectiveBarManager.java:161"
        },
        {
          "method": "org.eclipse.ui.internal.PerspectiveSwitcher$9.widgetSelected",
          "source": "PerspectiveSwitcher.java:766"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:89"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1478"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:297"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:228"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:338"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:151"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:58"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:60"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:391"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:268"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:260"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:887"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:871"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "88048",
      "date": "2005-03-15T13:56:50+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "88048",
  "bugId": "88048",
  "date": "2005-03-15T13:56:50+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "major"
}