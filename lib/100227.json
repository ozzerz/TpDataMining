{
  "comments": [
    "ajc crashes with a NullPointerException when an intertype declaration tries to\nmodify an inner class, if the enclosing (outer) class is generic:\n\nclass Outer {\n  class Inner {}\n}\n\nclass Generic_Outer\u003cT\u003e {\n  class Inner {}\n}\n\naspect Injector {\n  int Outer.outer; // works\n  int Outer.Inner.inner; // works\n  int Generic_Outer.outer; // works\n  int Generic_Outer.Inner.inner; // crashes\n}\n\n\n/home/user/sgelin3/dev/java/ajc/new_bug/Bug.java [error] Internal compiler error\njava.lang.NullPointerException\n        at\norg.aspectj.ajdt.internal.compiler.lookup.EclipseFactory.fromBinding(EclipseFactory.java:202)\n        at\norg.aspectj.ajdt.internal.compiler.ast.InterTypeFieldDeclaration.build(InterTypeFieldDeclaration.java:173)\n        at\norg.aspectj.ajdt.internal.compiler.ast.AspectDeclaration.buildInterTypeAndPerClause(AspectDeclaration.java:1020)\n        at\norg.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.buildInterTypeAndPerClause(AjLookupEnvironment.java:306)\n        at\norg.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.completeTypeBindings(AjLookupEnvironment.java:122)\n        at\norg.aspectj.org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:302)\n        at\norg.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:316)\n...",
    "I\u0027ve sent quite a few bug reports on the interaction of ITD with generics, so by\nnow I know that they all get \"1.5.0 M3\" as a target. I\u0027d save you the trouble of\nsetting that target every time but:\n\n\"You tried to change the Target Milestone field from --- to 1.5.0 M3, but only\nthe owner or submitter of the bug, or a sufficiently empowered user, may change\nthat field.\"\n\nstrange, since I _am_ the submitter of the bug!\n\n\nanyway, sorry to bother you with so many similar looking bugs (98320, 98592,\n99168, 99228 and now 100227), I know that I am not supposed to expect generics\nto work completely until M3, and keep up the good work!",
    "Its great that you are spending time creating these minimal testcases for bugs\nthat I can work on, keep it up!  You are bound to hit something we\u0027ve not\ncreated testcases for yet.\n\nIn this case it appears there is a special form of ParameterizedTypeBinding\nknown to the compiler.  It is a PTB whose arguments (type parameters) are null -\nthis doesn\u0027t mean it is a raw type as raw type is a subtype of\nParameterizedTypeBinding.  From a quick look round the JDT compiler, it *looks*\nlike a PTB with null arguments represents an inner type of a parameterized type\nthat itself specifies no type parameters.  Presumably it \u0027inherits\u0027 any from the\nenclosing type.\n\nSo, the fix is to allow for null type parameters - and ensure we don\u0027t\nmisintepret the null as a raw type ref.",
    "Fix checked in, waiting on build.",
    "Dev build available from the download page: \naspectj-DEVELOPMENT-20050620091600.jar\n"
  ],
  "commentCreationDates": [
    "2005-06-15T18:24:09+02:00",
    "2005-06-15T18:32:43+02:00",
    "2005-06-16T10:15:04+02:00",
    "2005-06-16T10:30:09+02:00",
    "2005-06-20T11:37:14+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.EclipseFactory.fromBinding",
          "source": "EclipseFactory.java:202"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.ast.InterTypeFieldDeclaration.build",
          "source": "InterTypeFieldDeclaration.java:173"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.ast.AspectDeclaration.buildInterTypeAndPerClause",
          "source": "AspectDeclaration.java:1020"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.buildInterTypeAndPerClause",
          "source": "AjLookupEnvironment.java:306"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.completeTypeBindings",
          "source": "AjLookupEnvironment.java:122"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.beginToCompile",
          "source": "Compiler.java:302"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:316"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "100227",
      "date": "2005-06-15T18:24:09+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "100227",
  "bugId": "100227",
  "date": "2005-06-15T18:24:09+02:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}