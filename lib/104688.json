{
  "comments": [
    "The Eclipse JUnit runner won\u0027t support .aj file extensions, failing with \na \"Can\u0027t find type\" error.\n\nI often use static inner aspects and other AspectJ-specific code in my unit \ntests. With the preferred support for .aj extensions, it\u0027s important to support \nrunning AspectJ unit tests.",
    "Even worse, with Eclipse 3.1.1 and the latest AJDT dev builds, if I make a unit \ntest with a static inner aspect have a .java extension, the JUnit test runner \njust hangs. It eventually fails like this:\n\nCould not connect to:  : 4837\t\t\t\njava.net.ConnectException: Connection refused\n\tat jrockit.net.SocketNativeIO.connect\n(Ljava.io.FileDescriptor;Ljava.net.InetAddress;III)I(Unknown Source)\n\tat java.net.AbstractSocketImpl.doConnect(Ljava.net.InetAddress;II)V\n(Unknown Source)\n\tat java.net.PlainSocketImpl.doConnect(Ljava.net.InetAddress;II)V\n(Unknown Source)\n\tat java.net.PlainSocketImpl.connectToAddress(Ljava.net.InetAddress;II)V\n(Unknown Source)\n\tat java.net.PlainSocketImpl.connect(Ljava.net.SocketAddress;I)V(Unknown \nSource)\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:364)\n\tat java.net.Socket.connect(Socket.java:507)\n\tat java.net.Socket.connect(Socket.java:457)\n\tat java.net.Socket.\u003cinit\u003e(Socket.java:365)\n\tat java.net.Socket.\u003cinit\u003e(Socket.java:178)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.connect\n(RemoteTestRunner.java:754)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run\n(RemoteTestRunner.java:336)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main\n(RemoteTestRunner.java:196)\n",
    "I agree this is pretty bad, but we\u0027re not going to be able to address it in this release. The JUnit support is parsing the source code to locate the tests, so it\u0027s thrown by the .aj extension or the inner aspect. We\u0027re either going to have to propose that JUnit is made tolerant of this, or provide our own \"JUnit with AspectJ support\" launch config. Note that this doesn\u0027t stop you using AspectJ in unit tests (we do plenty of this ourselves), you just need to use a TestSuite class in which you add all of your unit tests.",
    "Fixed in 1.4.0.20060219125111 for Eclipse 3.2M5. You can now do Run As \u003e JUnit test on .aj files."
  ],
  "commentCreationDates": [
    "2005-07-21T19:02:35+02:00",
    "2005-11-05T08:43:56+01:00",
    "2005-11-29T16:00:15+01:00",
    "2006-02-20T13:14:30+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.net.ConnectException",
      "message": "Connection refused",
      "elements": [
        {
          "method": "jrockit.net.SocketNativeIO.connect",
          "source": "Ljava.io.FileDescriptor;Ljava.net.InetAddress;III"
        }
      ],
      "number": 0,
      "commentIndex": 1,
      "bugId": "104688",
      "date": "2005-11-05T08:43:56+01:00",
      "product": "AJDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "104688",
  "bugId": "104688",
  "date": "2005-07-21T19:02:35+02:00",
  "product": "AJDT",
  "component": "Core",
  "severity": "normal"
}