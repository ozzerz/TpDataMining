{
  "comments": [
    "Thread [main] (Suspended (exception ArrayIndexOutOfBoundsException))\n\tMain.getSplashLocation(URL[]) line: 1226\n\tMain.handleSplash(URL[]) line: 1119\n\tMain.basicRun(String[]) line: 178\n\tMain.run(String[]) line: 638\n\tMain.main(String[]) line: 622\n\nMain.getSplashLocation:\n this\u003d Main  (id\u003d14)\n bootPath\u003d URL[0]  (id\u003d15)\n result\u003d null\n splashPath\u003d null\n\nMain.handleSplash:\n this\u003d Main  (id\u003d14)\n defaultPath\u003d URL[0]  (id\u003d15)\n\nMain.basicRun:\n\nthis\u003d Main  (id\u003d14)\n\tbootLocation\u003d \"file:C:/view/leok_snapshot/rome_eclipse_src/plugins/org.\neclipse.osgi/\"\n\tcommands\u003d String[18]  (id\u003d24)\n\tconfigurationLocation\u003d URL  (id\u003d51)\n\tdebug\u003d false\n\tdevClassPath\u003d null\n\tendSplash\u003d null\n\tendSplashHandler\u003d Main$1  (id\u003d52)\n\texitData\u003d null\n\tframework\u003d \"org.eclipse.osgi\"\n\tinDevelopmentMode\u003d true\n\tinitialize\u003d false\n\tinstallLocation\u003d URL  (id\u003d56)\n\tlog\u003d null\n\tlogFile\u003d null\n\tnewSession\u003d true\n\tparentConfigurationLocation\u003d null\n\tshowProcess\u003d null\n\tshowSplash\u003d \"c:\\\\eclipse\\\\eclipse -showsplash 600\"\n\tsplashDown\u003d false\n\tvm\u003d null\n\tvmargs\u003d null\nargs\u003d String[18]  (id\u003d24)\n\t[0]\u003d \"-showsplash\"\n\t[1]\u003d \"c:\\\\eclipse\\\\eclipse -showsplash 600\"\n\t[2]\u003d \"-data\"\n\t[3]\u003d \"C:\\\\b6i5f18\\\\workbench-2.0\\\\workspace\"\n\t[4]\u003d \"-configuration\"\n\t[5]\u003d \"file:c:/wrwb-\nworkspace/.metadata/.plugins/org.eclipse.pde.core/Base Six/\"\n\t[6]\u003d \"-dev\"\n\t[7]\u003d \"file:c:/wrwb-\nworkspace/.metadata/.plugins/org.eclipse.pde.core/Base Six/dev.properties\"\n\t[8]\u003d \"-os\"\n\t[9]\u003d \"win32\"\n\t[10]\u003d \"-ws\"\n\t[11]\u003d \"win32\"\n\t[12]\u003d \"-arch\"\n\t[13]\u003d \"x86\"\n\t[14]\u003d \"-nl\"\n\t[15]\u003d \"en_US\"\n\t[16]\u003d \"-feature\"\n\t[17]\u003d \"com.windriver.ide.vxworks6\"\npassThruArgs\u003d String[14]  (id\u003d26)\n\t[0]\u003d \"-data\"\n\t[1]\u003d \"C:\\\\b6i5f18\\\\workbench-2.0\\\\workspace\"\n\t[2]\u003d \"-dev\"\n\t[3]\u003d \"file:c:/wrwb-\nworkspace/.metadata/.plugins/org.eclipse.pde.core/Base Six/dev.properties\"\n\t[4]\u003d \"-os\"\n\t[5]\u003d \"win32\"\n\t[6]\u003d \"-ws\"\n\t[7]\u003d \"win32\"\n\t[8]\u003d \"-arch\"\n\t[9]\u003d \"x86\"\n\t[10]\u003d \"-nl\"\n\t[11]\u003d \"en_US\"\n\t[12]\u003d \"-feature\"\n\t[13]\u003d \"com.windriver.ide.vxworks6\"\nbootPath\u003d URL[0]  (id\u003d15)",
    "What build of Eclipse are you using?",
    "moving to Equinox and assigning to Tom to investigate for RC2.",
    "From the code it looks like you are running M9.  Is that correct?  Can you \nplease try with the latest RC2 Build?\n\nLooking at the debug output from this defect.  It looks like the bootPath is \ngetting set to an empty array.  This is causing the \nArrayIndexOutOfBoundsException.\n\nCan you tell us what the content of the file at:\nfile:c:/wrwb-workspace/.metadata/.plugins/org.eclipse.pde.core/Base \nSix/dev.properties\n\nAlso can you tell us about the directory at:\nfile:C:/view/leok_snapshot/rome_eclipse_src/plugins/org.eclipse.osgi/\n\nDid you extract this code from CVS, did you import the org.eclipse.osgi plugin \nwith source files, or did you import it as binary?  Any more information on \nhow you got in this situation would be a big help.",
    "I am unable to reproduce.  We are very limited on time for 3.0.  Removing RC \nmilestone until more information is provided by the reporter \nLeo.Kuznetsov@windriver.com (Leo Kuznetsov).\n\nPlease attempt to reproduce on the latest RC1 build and report the steps you \nused to reproduce.",
    "look at improving message and investigate root cause",
    "Additional information provided by the reporter Leo.Kuznetsov@windriver.com \n(Leo Kuznetsov):\n\n\u003eCan you tell us what the content of the file at:\n\u003efile:c:/wrwb-workspace/.metadata/.plugins/org.eclipse.pde.core/Base \n\u003eSix/dev.properties\n\nInterestingly it is missing dev.properties file.\n\nHowever its been created as a clone of \n   \"Wind River Workbench VxWorks6 Win\"\nconfiguration directory.\n\nand that one has a dev.properties\n\nThe second clone that I did\n  \"Wind River Workbench VxWorks6 Win(1)\"\nhas everything in place.\n\n\u003eAlso can you tell us about the directory at:\n\u003efile:C:/view/leok_snapshot/rome_eclipse_src/plugins/org.eclipse.osgi/\n\u003eDid you extract this code from CVS, did you import the org.eclipse.osgi \nplugin \n\u003ewith source files, or did you import it as binary?  Any more information on \n\u003ehow you got in this situation would be a big help\n\nIt\u0027s a bit more complex. I\u0027ve tried both - build it from M9 source code\nsnapshot and using the binaries. The snapshot is not from CVS. It is checked\nout by another department in Wind River and checked into clearcase.... Bla...\nlong story.\n\nI think this broken configuration is actually related to another \nproblem with Debug Congirations. Something breaks there too.\nSee Bug 66447 (btw I also run Windows XP in HyperThreaded mode - thus\nall kind of racing may occur more frequently than on single cpu).\n\nAbout IndexOutOfBounds - I believe that some verification of \nthe correctness of launch config should be implemented and\nthe error may be logged if it is wrong. This indexoutofbounds\nis actually nasty because it brings eclipse down completely.\n\n",
    "Created an attachment (id\u003d12193)\npatch to prevent ArrayIndexOutOfBoundsException\n\nThis patch will prevent the ArrayIndexOutOfBoundsException, but it will not fix\nthe overall issue.  Eclipse will not launch if the bootPath is an empty array,\nwe will not find the class we need to launch eclipse.  There my be a PDE bug\nthat caused you to have a configuration that had no dev.properties file.  Maybe\nthe process of cloning a launch configuration?\n\nCore will integrate the patch to prevent the ArrayIndexOutOfBoundsException for\nRC3.  Will move this defect to PDE for further investigation on the missing\ndev.properties.",
    "Assigning to PDE for investigation on why the dev.properties file is missing \nin a launched configuration.",
    "Really assigning to PDE this time.",
    "Tom, note that the dev.properties file support for PDE only come on the scene \nin RC1.  So it is expected to not find such file in M9.",
    "So maybe they are trying to use an old configuration?  Do you not create a new \ndev.properties if one does not exist?",
    "Wassim missed my last comment since he re-assigned \u003cg\u003e\n\nWassim, please respond to comment 11.",
    "Of course, we would.",
    "Leo, I\u0027m unable to reproduce this using RC2.  I tried using the configuration \nzip you sent me and I still cannot reproduce.  As Wassim has pointed out PDE \nshould create a dev.properties file if one does not exist in your \nconfiguration directory.  And that is happening when I use your \"Base Six\" \nconfiguration that you sent me.  The dev.properties file gets created and \neverything is happy.  The only way I can see this failing is if your \nconfiguration directory is in a directory that you do not have access to write \nto.\n\nFrom your e-mail:\n\u003e\u003e PS: My local configuration is a bit of a mess at the moment - result\n\u003e\u003e of company wide migration from Eclipse 2.0 to Eclipse 3.0\n\u003e\u003e Unfortunately I cannot use RC1/RC2 because of some cross\n\u003e\u003e compatibility issues. Thus I am stuck with M9 for a while :-(\n\nIs there anyway you can try out RC2 on your workspace to see if it works?",
    "Tom, the configuration location that pde assigns to every launch configuration \nis in our own pde.core metadata, which I would assume, is always writable.",
    "Yes, I agree.  But it is unclear to me how Leo is creating this \"Base Six\" \nconfiguration.  He states from comment 6.\n\n\u003e\u003e However its been created as a clone of \n\u003e\u003e    \"Wind River Workbench VxWorks6 Win\"\n\u003e\u003e configuration directory.\n\nLeo, does that mean you went to the pde.core metadata directory and copied the \ndirectory manually?  In the \"Run Configuration Wizard\" when you use the \nduplicate option to duplicate a Run-time Workbench configuration the \nconfiguration directory is not copied to a new directory in the PDE metadata.  \nInstead a new one is created the first time you launch the duplicated \nconfiguration (this is working as designed).\n",
    "What is the status here?",
    "comments from Leo\n\n\u003eThe only way I can see this failing is if your \n\u003econfiguration directory is in a directory that you do not have access to\n\u003ewrite to.\n\nIt is local drive with all the access rights.\n\n\u003e Is there anyway you can try out RC2 on your workspace to see if it works?\n\nAlmost impossible. I\u0027ve tried RC1 but I cannot even build not to say\nlaunch what I have - and I know why.\n\nI guess for now you can close or reject it - if I see it again I will try to \nkeep\nstable repro and reopen it and will give you exact steps.\n\n",
    "I\u0027m trying to create a new headless RCP application and get the same exception under Version: 3.2.0, Build id: M20060629-1905. I\u0027ll attach the content of .metadata PDE core and the plugin as a zip. \n\nI don\u0027t understand why there is a reference to a splash if this is an headless application?",
    "Created an attachment (id\u003d46317)\nplugin exported\n\n",
    "Created an attachment (id\u003d46318)\ncontents of C:\\workspace\\.metadata\\.plugins\\org.eclipse.pde.core\\shell-m2.product\n\n",
    "Steps taken in a clean workspace to reproduce exception:\n\nNew Project \u003e Plug-in project\nProject name: com.agiledss.shell\nTarget Platform: Eclipse 3.2\nUncheck \"This plug-in will make contributions to the UI\nWould you like to creat a rich client application: Yes\nSelect \"Headless Hello RCP\" template\nApplication class: Shell\n\nFrom overview: Launch an Eclipse application works\n\nNew \u003e Other \u003e Product Configuration\nFile name: shell-m2.product\n\n-Product Name: ShellProductName\n-Product ID: [New...]\n\t-Product Name: Shell\n\t-Defining Plug-in: com.agiledss.shell\n\t-Product ID: product\n\t-ShellProductId\n\t-Application: com.agiledss.shell.application\n\nTab configuration: [Add...] com.agiledss.shell\n\nException:\n\njava.lang.ArrayIndexOutOfBoundsException: 0\nat org.eclipse.core.launcher.Main.getSplashLocation(Main.java:1642)\nat org.eclipse.core.launcher.Main.handleSplash(Main.java:1539)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\nat org.eclipse.core.launcher.Main.run(Main.java:977)\nat org.eclipse.core.launcher.Main.main(Main.java:952)",
    "Moving bug out of the incubator and reopening ...",
    "Ricky, your product configuration is missing the required bundles.  On the configuration tab of your product definition you must click the \"Add Required Plug-ins\" button to add the necessary bundles to launch.\n\nWassim, I noticed that if org.eclipse.osgi is NOT included in the list of Plug-ins defined for the product then PDE-UI is setting the following in the config.ini\n\nosgi.framework\u003dorg.eclipse.osgi \n\nThis is causing confussion for startup.jar, it basically cannot find the framework and builds an empty classpath to launch the framework.  This will obviously fail even if we got passed the NPE caused by searching for a splash screen.  Also can you the question as to why PDE is launching with \n\nosgi.splashPath\u003dfile\\:C\\:/defects/66421/com.agiledss.shell\n\nset even though no splash screen was defined for the headless application product definition?\n",
    "we can look at this again with the new launcher changes",
    "Still got bitten by this while trying to create a new RCP .product under Eclipse 3.2.1.  Is there going to be any changes for 3.3?  \n\nCouldn\u0027t there be a better way to make it easier to create non-ui .product with all the necessary, minimum plug-ins (org.eclipse.core.contenttype, core.jobs, core.runtime, org.eclipse.equinox.common, equinox.preferences, equinox.registry, org.eclipse.osgi). It is not very straightforward to go from something that implements IPlatformRunnable to a .product that I can click \"Launch the product\" and have it work!",
    "Well I thought I got bit by this but in actuality turns out what I did was downloaded RCP 3.1.2 instead of RCP 3.2.1..."
  ],
  "commentCreationDates": [
    "2004-06-09T23:14:47+02:00",
    "2004-06-10T00:42:43+02:00",
    "2004-06-10T02:26:17+02:00",
    "2004-06-10T05:18:11+02:00",
    "2004-06-10T17:47:51+02:00",
    "2004-06-15T21:26:52+02:00",
    "2004-06-15T22:10:37+02:00",
    "2004-06-15T23:04:32+02:00",
    "2004-06-15T23:07:36+02:00",
    "2004-06-15T23:09:55+02:00",
    "2004-06-15T23:16:23+02:00",
    "2004-06-15T23:22:32+02:00",
    "2004-06-15T23:24:31+02:00",
    "2004-06-15T23:29:25+02:00",
    "2004-06-16T19:46:42+02:00",
    "2004-06-16T19:49:12+02:00",
    "2004-06-16T20:00:44+02:00",
    "2004-06-18T04:31:37+02:00",
    "2004-06-18T04:57:09+02:00",
    "2006-07-14T22:16:12+02:00",
    "2006-07-14T22:16:52+02:00",
    "2006-07-14T22:17:22+02:00",
    "2006-07-14T23:09:48+02:00",
    "2006-07-14T23:14:57+02:00",
    "2006-07-19T16:19:10+02:00",
    "2006-12-28T05:00:45+01:00",
    "2007-01-29T15:24:03+01:00",
    "2007-01-30T00:54:59+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "0",
      "elements": [
        {
          "method": "org.eclipse.core.launcher.Main.getSplashLocation",
          "source": "Main.java:1642"
        },
        {
          "method": "org.eclipse.core.launcher.Main.handleSplash",
          "source": "Main.java:1539"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 22,
      "bugId": "66421",
      "date": "2006-07-14T23:09:48+02:00",
      "product": "PDE",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "66421",
  "bugId": "66421",
  "date": "2004-06-09T23:14:47+02:00",
  "product": "PDE",
  "component": "UI",
  "severity": "normal"
}