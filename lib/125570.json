{
  "comments": [
    "Bug 108856 covers anonymous class, but the same bug exists for named classes.\n\nTest file:\n\npublic class ClassNameTest {\n    public static void main(String[] s) {\n\tnew Object(){{\n\t    System.out.println(this.getClass());\n\t    System.out.println(this.getClass().getSimpleName());\n\t    new Object(){{\n\t\tSystem.out.println(this.getClass());\n\t\tSystem.out.println(this.getClass().getSimpleName());\n\t\tclass X {{\n\t\t    System.out.println(this.getClass());\n\t\t    System.out.println(this.getClass().getSimpleName());\n\t\t}};\n\t\tnew X();\n\t    }};\n\t}};\n    }\n}\n\nOutput when compiled with javac:\n\nclass ClassNameTest$1\n\nclass ClassNameTest$1$1\n\nclass ClassNameTest$1$1$1X\nX\n\n\nOutput when compiled with Eclipse:\n\nclass common.test.ClassNameTest$1\n\nclass common.test.ClassNameTest$1$1\n\nclass common.test.ClassNameTest$1X\nException in thread \"main\" java.lang.InternalError: Malformed class name\n        at java.lang.Class.getSimpleBinaryName(Class.java:1223)\n        at java.lang.Class.getSimpleName(Class.java:1108)\n        at common.test.ClassNameTest$1X.\u003cinit\u003e(ClassNameTest.java:13)\n        at common.test.ClassNameTest$1$1.\u003cinit\u003e(ClassNameTest.java:15)\n        at common.test.ClassNameTest$1.\u003cinit\u003e(ClassNameTest.java:8)\n        at common.test.ClassNameTest.\u003cclinit\u003e(ClassNameTest.java:5)",
    "Created an attachment (id\u003d33738)\nSame fix as for 108856, just 10 lines further down :-)\n\n",
    "Thanks. Will be fixed shortly.",
    "Fixed and released in HEAD.\nAdded regression test in:\norg.eclipse.jdt.core.tests.compiler.regression.Compliance_1_3.test104,\norg.eclipse.jdt.core.tests.compiler.regression.Compliance_1_4.test104,\norg.eclipse.jdt.core.tests.compiler.regression.Compliance_1_5.test104",
    "Wow, that was fast. Thanks!",
    "Olivier - pls backport to 3.1.x.",
    "Backported in 3.1.x and contribution list is updated.",
    "Verified for 3.2 M5 using build I20060215-0010"
  ],
  "commentCreationDates": [
    "2006-01-27T21:19:18+01:00",
    "2006-01-27T21:20:43+01:00",
    "2006-01-27T21:45:16+01:00",
    "2006-01-27T21:57:51+01:00",
    "2006-01-27T22:00:51+01:00",
    "2006-01-28T12:34:43+01:00",
    "2006-01-29T20:48:32+01:00",
    "2006-02-15T15:19:32+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.InternalError",
      "message": "Malformed class name",
      "elements": [
        {
          "method": "java.lang.Class.getSimpleBinaryName",
          "source": "Class.java:1223"
        },
        {
          "method": "java.lang.Class.getSimpleName",
          "source": "Class.java:1108"
        },
        {
          "method": "common.test.ClassNameTest$1X.\u003cinit\u003e",
          "source": "ClassNameTest.java:13"
        },
        {
          "method": "common.test.ClassNameTest$1$1.\u003cinit\u003e",
          "source": "ClassNameTest.java:15"
        },
        {
          "method": "common.test.ClassNameTest$1.\u003cinit\u003e",
          "source": "ClassNameTest.java:8"
        },
        {
          "method": "common.test.ClassNameTest.\u003cclinit\u003e",
          "source": "ClassNameTest.java:5"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "125570",
      "date": "2006-01-27T21:19:18+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "125570",
  "bugId": "125570",
  "date": "2006-01-27T21:19:18+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}