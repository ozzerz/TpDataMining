{
  "comments": [
    "Eclipse 3.1\nAJDT 1.3.0.20051102174241\n\npackage com.aspectj.test;\n\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\nimport org.aspectj.lang.annotation.Pointcut;\n\n@Aspect\npublic abstract class Base {\n\n    @Pointcut                                     --\u003eSeems to be the problem\n    abstract void method();\n\t\n\n    public static void main(String args[]){\n    }\n}\n\npackage com.aspectj.test;\n\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\nimport org.aspectj.lang.annotation.Pointcut;\n\n@Aspect\npublic class Sub extends Base{\n\n    @Pointcut( \"execution(* com.aspectj.test.Base.main(..))\" )\n    void method(){};\n\n    @Before(\"method()\")\n    public void test(){\n\t\t\n    }\n}\n\n\nThe code above shows\n\njava.lang.NullPointerException\n\tat org.aspectj.weaver.patterns.BasicTokenSource.makeTokenSource\n(BasicTokenSource.java:84)\n\tat org.aspectj.weaver.patterns.PatternParser.\u003cinit\u003e\n(PatternParser.java:1373)\n\tat \norg.aspectj.ajdt.internal.compiler.ast.ValidateAtAspectJAnnotationsVisitor.conv\nertToPointcutDeclaration(ValidateAtAspectJAnnotationsVisitor.java:493)\n\tat \norg.aspectj.ajdt.internal.compiler.ast.ValidateAtAspectJAnnotationsVisitor.visi\nt(ValidateAtAspectJAnnotationsVisitor.java:188)\n\tat \norg.aspectj.org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.traverse\n(MethodDeclaration.java:185)\n\tat \norg.aspectj.org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.traverse\n(TypeDeclaration.java:1183)\n\tat \norg.aspectj.org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.tr\naverse(CompilationUnitDeclaration.java:339)\n\tat org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.beforeAnalysing\n(AjCompilerAdapter.java:154)\n\tat \norg.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$before$org_aspectj_ajdt_\ninternal_compiler_CompilerAdapter$7$db78446d(CompilerAdapter.aj:101)\n\tat org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.process\n(Compiler.java:517)\n\tat org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile\n(Compiler.java:329)\n\tat \norg.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation\n(AjBuildManager.java:759)\n\tat org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild\n(AjBuildManager.java:225)\n\tat org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild\n(AjBuildManager.java:180)\n\tat \norg.aspectj.ajdt.internal.core.builder.AjBuildManager.incrementalBuild\n(AjBuildManager.java:158)\n\tat org.aspectj.ajde.internal.CompilerAdapter.compile\n(CompilerAdapter.java:117)\n\tat org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run\n(AspectJBuildManager.java:191)\n\n\nThe syntax @Pointcut(\"\") is shown as error too. If this is not a bug then a \nproper message instead of an exception is helpful.",
    "*** Bug 114876 has been marked as a duplicate of this bug. ***",
    "needs fixing for RC1",
    "odd\nthe line ValidateAtAspectJAnnotationsVisitor.java:493 is meaningless\nthis is also covered by the suite (ConcreteAtAspect.java)\n\nI suspect that ajdt.core is not properly mirroring what is in the source.\nAndy, you can probably understand what \u0027s going on there - unless the answer is\nsimply that AJ in AJDT is older than AJ last good known snapshot.\n\nMohan you can try using a recent AJ build and ajc (outside of AJDT)",
    "AJDT definetly has an older AJ in it (from a week or so ago).  I\u0027ve tried this\nprogram with the latest AJ and it doesn\u0027t fail for me.\n\nLine 493 said this:\n\nPointcut pc \u003d new PatternParser(pointcutExpression,context).parsePointcut();\n\nin version 1.12 of the Validateblahblahblah class. and given that alex\u0027s checkin\ncomment is \u0027ajdtcore for abstract @Pointcut\u0027 for 1.13 then I\u0027m assuming the fix\nwent into 1.13 and hasn\u0027t surfaced in an AJDT yet.",
    "I tried the latest aj dev. build.\n\nNow my code is\n\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\nimport org.aspectj.lang.annotation.Pointcut;\n\n@Aspect\npublic abstract class Base {\n\n\t@Pointcut\n    abstract void method();\n\t\n\n\tpublic static void main(String args[]){\n\t}\n}\n\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\nimport org.aspectj.lang.annotation.Pointcut;\n\n@Aspect\npublic class Sub extends Base{\n\n\t@Pointcut( \"execution(* com.aspectj.test.Base.main(..))\" )\n    void method(){};\n\n\t@Before(\"method()\")\n    public void test(){\n\t\t//System.out.println(\"Advised by \"+this);\n\n\t}\n}\n\nWhen I compile Base.java it works. When I compile Sub.java I see this \nexception.\n\njava.lang.NullPointerException\n        at \norg.aspectj.ajdt.internal.compiler.ast.ValidateAtAspectJAnnotationsVi\nsitor.validateAspectDeclaration(ValidateAtAspectJAnnotationsVisitor.java:243)\n        at \norg.aspectj.ajdt.internal.compiler.ast.ValidateAtAspectJAnnotationsVi\nsitor.checkTypeDeclaration(ValidateAtAspectJAnnotationsVisitor.java:119)\n        at \norg.aspectj.ajdt.internal.compiler.ast.ValidateAtAspectJAnnotationsVi\nsitor.visit(ValidateAtAspectJAnnotationsVisitor.java:107)\n        at \norg.aspectj.org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.tra\nverse(TypeDeclaration.java:1145)\n        at \norg.aspectj.org.eclipse.jdt.internal.compiler.ast.CompilationUnitDecl\naration.traverse(CompilationUnitDeclaration.java:339)\n        at org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.beforeAnalysing\n(\nAjCompilerAdapter.java:154)\n        at \norg.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$before$org_asp\nectj_ajdt_internal_compiler_CompilerAdapter$7$db78446d(CompilerAdapter.aj:101)\n        at org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.process\n(Compil\ner.java:517)\n        at org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile\n(Compil\ner.java:329)\n        at \norg.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilat\nion(AjBuildManager.java:759)\n        at org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild\n(AjBuild\nManager.java:225)\n        at org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild\n(AjBu\nildManager.java:151)\n        at org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:112)\n        at org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:60)\n        at org.aspectj.tools.ajc.Main.run(Main.java:326)\n        at org.aspectj.tools.ajc.Main.runMain(Main.java:240)\n        at org.aspectj.tools.ajc.Main.main(Main.java:83)",
    "fails when looking for parent type?\n\n\t\t\tif (parentBinding instanceof SourceTypeBinding) {\n\t\t\t\tSourceTypeBinding parentSTB \u003d (SourceTypeBinding) parentBinding;\n\t\t\t\tTypeDeclaration parentDecl \u003d parentSTB.scope.referenceContext; //!!!!!!!!\nNPE here\n\t\t\t\tif (isAspect(parentDecl) \u0026\u0026 !Modifier.isAbstract(parentDecl.modifiers)) {\n\t\t\t\t\ntypeDecl.scope.problemReporter().signalError(typeDecl.sourceStart,typeDecl.sourceEnd,\"cannot\nextend a concrete aspect\");\n\t\t\t\t}\t\t\t\n\t\t\t}\n",
    "cannot reproduce in AJC from CVS head\nsee test - in tests/java5/ataspectj.../bugs/AbstractAspectNPE[Child|Parent].java\n\nMohan, please advise",
    "I am using the Last Known Good developer build.",
    "I\u0027ve recreated this. fixing it now.",
    "this happens during incremental compilation.  We attempt to look at the scope of an object we believe is a SourceTypeBinding.  In the AJ world a BinaryTypeBinding is a subtype of SourceTypeBinding (for our \u0027binary source\u0027 support) - and if we don\u0027t allow for this case we end up working with a null scope.\n\nfix checked in, waiting on build",
    "fix available in latest AJ dev build."
  ],
  "commentCreationDates": [
    "2005-11-03T05:25:18+01:00",
    "2005-11-03T08:24:03+01:00",
    "2005-11-03T08:24:25+01:00",
    "2005-11-03T09:10:37+01:00",
    "2005-11-03T09:19:47+01:00",
    "2005-11-03T12:51:18+01:00",
    "2005-11-03T15:17:21+01:00",
    "2005-11-07T10:50:19+01:00",
    "2005-11-08T10:24:37+01:00",
    "2005-11-21T08:50:20+01:00",
    "2005-11-21T09:23:57+01:00",
    "2005-11-21T11:29:34+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.aspectj.weaver.patterns.BasicTokenSource.makeTokenSource",
          "source": "BasicTokenSource.java:84"
        },
        {
          "method": "org.aspectj.weaver.patterns.PatternParser.\u003cinit\u003e",
          "source": "PatternParser.java:1373"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.ast.ValidateAtAspectJAnnotationsVisitor.convertToPointcutDeclaration",
          "source": "ValidateAtAspectJAnnotationsVisitor.java:493"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.ast.ValidateAtAspectJAnnotationsVisitor.visit",
          "source": "ValidateAtAspectJAnnotationsVisitor.java:188"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.traverse",
          "source": "MethodDeclaration.java:185"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.traverse",
          "source": "TypeDeclaration.java:1183"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.traverse",
          "source": "CompilationUnitDeclaration.java:339"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.beforeAnalysing",
          "source": "AjCompilerAdapter.java:154"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$before$org_aspectj_ajdt_internal_compiler_CompilerAdapter$7$db78446d",
          "source": "CompilerAdapter.aj:101"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.process",
          "source": "Compiler.java:517"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:329"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:759"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:225"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:180"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.incrementalBuild",
          "source": "AjBuildManager.java:158"
        },
        {
          "method": "org.aspectj.ajde.internal.CompilerAdapter.compile",
          "source": "CompilerAdapter.java:117"
        },
        {
          "method": "org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run",
          "source": "AspectJBuildManager.java:191"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "114875",
      "date": "2005-11-03T05:25:18+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.aspectj.ajdt.internal.compiler.ast.ValidateAtAspectJAnnotationsVisitor.validateAspectDeclaration",
          "source": "ValidateAtAspectJAnnotationsVisitor.java:243"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.ast.ValidateAtAspectJAnnotationsVisitor.checkTypeDeclaration",
          "source": "ValidateAtAspectJAnnotationsVisitor.java:119"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.ast.ValidateAtAspectJAnnotationsVisitor.visit",
          "source": "ValidateAtAspectJAnnotationsVisitor.java:107"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.traverse",
          "source": "TypeDeclaration.java:1145"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.traverse",
          "source": "CompilationUnitDeclaration.java:339"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.beforeAnalysing",
          "source": " AjCompilerAdapter.java:154"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$before$org_aspectj_ajdt_internal_compiler_CompilerAdapter$7$db78446d",
          "source": "CompilerAdapter.aj:101"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.process",
          "source": "Compil er.java:517"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compil er.java:329"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:759"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuild Manager.java:225"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBu ildManager.java:151"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.doCommand",
          "source": "AjdtCommand.java:112"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.runCommand",
          "source": "AjdtCommand.java:60"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.run",
          "source": "Main.java:326"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.runMain",
          "source": "Main.java:240"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.main",
          "source": "Main.java:83"
        }
      ],
      "number": 1,
      "commentIndex": 5,
      "bugId": "114875",
      "date": "2005-11-03T12:51:18+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "114875",
  "bugId": "114875",
  "date": "2005-11-03T05:25:18+01:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}