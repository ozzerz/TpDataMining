{
  "comments": [
    "On Eclipse 3.2 RC1 if I quit Eclipse with the Team Synchronizing Perspective open I get a few error dialogs.",
    "Created an attachment (id\u003d39560)\nError log\n\nError log attached.",
    "Note - the Synchronize View has to be open in the Perspective.\n\n",
    "I am unable to reproduce this. Can you retry when RC2 is available and, if the problem still occurs, reopen this bug and provide the exact steps you took to produce the problem.",
    "1.  Open Team Synchronizing Perspective\n2.  \"Window/Reset Perspective\"\n3.  Synchronize... choose CVS, Next, default options.  Finish.\n4.  Synch will occur with Projects in workspace.\n5.  Close Eclipse\n\nThen the error occurs everytime, without fail (Error dialog box x 4).  I\u0027ve tried everything I can think of.\n\nBut the following looks interesting:\n\norg.eclipse.swt.SWTException: Graphic is disposed\n\tat org.eclipse.swt.SWT.error(SWT.java:3374)\n\tat org.eclipse.swt.SWT.error(SWT.java:3297)\n\tat org.eclipse.swt.SWT.error(SWT.java:3268)\n\tat org.eclipse.swt.graphics.Image.getBounds(Image.java:1105)\n\tat org.eclipse.swt.custom.CLabel.getTotalSize(CLabel.java:222)\n\tat org.eclipse.swt.custom.CLabel.computeSize(CLabel.java:154)\n\tat org.eclipse.jface.action.StatusLine$StatusLineLayout.computeSize(StatusLine.java:130)\n\tat org.eclipse.swt.widgets.Composite.computeSize(Composite.java:219)\n\tat org.eclipse.swt.widgets.Control.computeSize(Control.java:418)\n\tat org.eclipse.ui.internal.layout.TrimLayout.arrange(TrimLayout.java:552)\n\tat org.eclipse.ui.internal.layout.TrimLayout.layout(TrimLayout.java:475)\n\tat org.eclipse.swt.widgets.Composite.updateLayout(Composite.java:989)\n\tat org.eclipse.swt.widgets.Composite.layout(Composite.java:531)\n\tat org.eclipse.swt.widgets.Composite.layout(Composite.java:496)\n\tat org.eclipse.ui.internal.layout.LayoutUtil.resize(LayoutUtil.java:43)\n\tat org.eclipse.ui.internal.layout.LayoutUtil.resize(LayoutUtil.java:47)\n\tat org.eclipse.ui.internal.layout.LayoutUtil.resize(LayoutUtil.java:47)\n\tat org.eclipse.ui.internal.layout.LayoutUtil.resize(LayoutUtil.java:47)\n\tat org.eclipse.ui.internal.layout.LayoutUtil.resize(LayoutUtil.java:47)\n\tat org.eclipse.ui.internal.PerspectiveBarManager.relayout(PerspectiveBarManager.java:183)\n\tat org.eclipse.jface.action.ToolBarManager.update(ToolBarManager.java:348)\n\tat org.eclipse.ui.internal.PerspectiveSwitcher.removePerspectiveShortcut(PerspectiveSwitcher.java:295)\n\tat org.eclipse.ui.internal.PerspectiveSwitcher.access$2(PerspectiveSwitcher.java:282)\n\tat org.eclipse.ui.internal.PerspectiveSwitcher$ChangeListener.perspectiveClosed(PerspectiveSwitcher.java:156)\n\tat org.eclipse.ui.internal.PerspectiveListenerList$6.run(PerspectiveListenerList.java:172)\n\nPB",
    "Thanks for the quick reply. Reopening to try provided steps.",
    "Here\u0027s an important factor:\n\nIn your workspace you need to have at least 4 Perspective shortcuts in the\nPerspective toolbar showing.  Then when you close Eclipse from the Team\nSynchronizing Perspective an error occurs each time a Perspective shortcut is\nremoved from the toolbar by the shutdown process.\n\nPB",
    "Strange thing is now this - I removed all my shortcuts from the Perspective Bar, and re-added them.  Now I no longer get the error.\n\nStill investigating...\n\nPB\n",
    "Paul, does ths ring any bells for you (i.e. perspective shortcuts being improperly disposed in RC1).",
    "I get the error if the Perspective shortcut bar is set up as follows from Left to Right, buttons with no text:\n\nResources - Java - Debug - CVS Repository Exploring - Team Synchronizing\n\n(Remember, the Team Synchronizing Perspective has to be selected for the error to occur)\n\nIf I drag the Team Synchronizing button to the furthest left in the toolbar, the error does not occur.  I get as many error dialogs as there are toolbar buttons in the Perspective shortcut bar, that is each dispose of a button causes an error.  Something to do with order of the buttons.\n\nVery strange.",
    "I deleted the \"org.eclipse.team.ui\" folder in my workspace/.metadata folder and the error went away.  (The Synchronize View was blank.)\n\nI then did a Synchronise, and the error came back when closing Eclipse.\n\nPB\n",
    "While I haven\u0027t seen this, we should ask Eric ... it\u0027s going through the TrimLayout code after the perspective switcher has been updated ...\n\nPW\n",
    "Eric, have you seen anything similar to this in RC1. I am still unable to reproduce it in the latest RC2 builds.",
    "I just got the latest I build - eclipse-SDK-I20060428-0010-win32, not RC2 but close enough.  I can no longer reproduce the error.  Something got fixed somewhere.\n\nPerhaps put this back to \"WORKSFORME\"...\n\nPB\n(Have a great weekend, it\u0027s Bank Holiday on Monday here in the UK!)\n",
    "Good enough. Enjoy your holiday."
  ],
  "commentCreationDates": [
    "2006-04-26T19:59:03+02:00",
    "2006-04-26T20:00:34+02:00",
    "2006-04-26T20:02:52+02:00",
    "2006-04-28T17:56:28+02:00",
    "2006-04-28T18:52:20+02:00",
    "2006-04-28T18:58:05+02:00",
    "2006-04-28T18:59:57+02:00",
    "2006-04-28T19:02:21+02:00",
    "2006-04-28T19:03:49+02:00",
    "2006-04-28T19:47:46+02:00",
    "2006-04-28T19:52:41+02:00",
    "2006-04-28T19:53:28+02:00",
    "2006-04-28T19:59:04+02:00",
    "2006-04-28T20:37:43+02:00",
    "2006-04-28T20:39:39+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Graphic is disposed",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3374"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3297"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3268"
        },
        {
          "method": "org.eclipse.swt.graphics.Image.getBounds",
          "source": "Image.java:1105"
        },
        {
          "method": "org.eclipse.swt.custom.CLabel.getTotalSize",
          "source": "CLabel.java:222"
        },
        {
          "method": "org.eclipse.swt.custom.CLabel.computeSize",
          "source": "CLabel.java:154"
        },
        {
          "method": "org.eclipse.jface.action.StatusLine$StatusLineLayout.computeSize",
          "source": "StatusLine.java:130"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.computeSize",
          "source": "Composite.java:219"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.computeSize",
          "source": "Control.java:418"
        },
        {
          "method": "org.eclipse.ui.internal.layout.TrimLayout.arrange",
          "source": "TrimLayout.java:552"
        },
        {
          "method": "org.eclipse.ui.internal.layout.TrimLayout.layout",
          "source": "TrimLayout.java:475"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.updateLayout",
          "source": "Composite.java:989"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.layout",
          "source": "Composite.java:531"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.layout",
          "source": "Composite.java:496"
        },
        {
          "method": "org.eclipse.ui.internal.layout.LayoutUtil.resize",
          "source": "LayoutUtil.java:43"
        },
        {
          "method": "org.eclipse.ui.internal.layout.LayoutUtil.resize",
          "source": "LayoutUtil.java:47"
        },
        {
          "method": "org.eclipse.ui.internal.layout.LayoutUtil.resize",
          "source": "LayoutUtil.java:47"
        },
        {
          "method": "org.eclipse.ui.internal.layout.LayoutUtil.resize",
          "source": "LayoutUtil.java:47"
        },
        {
          "method": "org.eclipse.ui.internal.layout.LayoutUtil.resize",
          "source": "LayoutUtil.java:47"
        },
        {
          "method": "org.eclipse.ui.internal.PerspectiveBarManager.relayout",
          "source": "PerspectiveBarManager.java:183"
        },
        {
          "method": "org.eclipse.jface.action.ToolBarManager.update",
          "source": "ToolBarManager.java:348"
        },
        {
          "method": "org.eclipse.ui.internal.PerspectiveSwitcher.removePerspectiveShortcut",
          "source": "PerspectiveSwitcher.java:295"
        },
        {
          "method": "org.eclipse.ui.internal.PerspectiveSwitcher.access$2",
          "source": "PerspectiveSwitcher.java:282"
        },
        {
          "method": "org.eclipse.ui.internal.PerspectiveSwitcher$ChangeListener.perspectiveClosed",
          "source": "PerspectiveSwitcher.java:156"
        },
        {
          "method": "org.eclipse.ui.internal.PerspectiveListenerList$6.run",
          "source": "PerspectiveListenerList.java:172"
        }
      ],
      "number": 0,
      "commentIndex": 4,
      "bugId": "138691",
      "date": "2006-04-28T18:52:20+02:00",
      "product": "Platform",
      "component": "CVS",
      "severity": "normal"
    }
  ],
  "groupId": "138691",
  "bugId": "138691",
  "date": "2006-04-26T19:59:03+02:00",
  "product": "Platform",
  "component": "CVS",
  "severity": "normal"
}