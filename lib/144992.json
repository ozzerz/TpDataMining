{
  "comments": [
    "I get a popup \u0027\"Show Source Quick Menu\" did not complete normally\u0027 and the following stack trace when clicking ok in \"Generate hashCode() and equals()\" dialog (all settings in that dialog to default). Version is 3.2RC6. Further session data is appended at the end.\n\nThe class it operates on has three fields (see below). Any combination of included fields, that contains the last field, results in the error. When the last field is unchecked, it works.\n\nOperating on other classes open at the same time works.\nClosing and reopening the editor does not change the behavior. Even restarting Eclipse does not.\nI tried it with a fresh workspace and got the same error. Though I did not try a fresh Eclipse installation, it seems to be reproducable.\n\nGood Luck\nSebastian\n\n\u003d\u003d\u003d\u003d\u003d\u003d Evil class \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\npublic class ExtensionDesc\u003cT\u003e {\n\n\tprivate T\t\tobject;\n\tprivate String\tid;\n\tprivate String\tname;\n\n\tpublic ExtensionDesc(T object, String id, String name) {\n\t\tthis.object \u003d object;\n\t\tthis.id \u003d id;\n\t\tthis.name \u003d name;\n\t}\n\n\tpublic T getObject() {\n\t\treturn object;\n\t}\n\n\tpublic String getName() {\n\t\treturn name;\n\t}\n\n\tpublic String getId() {\n\t\treturn id;\n\t}\n\n}\n\n\n\u003d\u003d\u003d\u003d\u003d\u003d Stacktrace \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\njava.lang.ClassCastException: org.eclipse.jdt.internal.core.TypeParameter\nat org.eclipse.jdt.ui.actions.GenerateHashCodeEqualsAction.checkHashCodeEqualsExists(GenerateHashCodeEqualsAction.java:396)\nat org.eclipse.jdt.ui.actions.GenerateHashCodeEqualsAction.run(GenerateHashCodeEqualsAction.java:326)\nat org.eclipse.jdt.ui.actions.GenerateHashCodeEqualsAction.checkAndRun(GenerateHashCodeEqualsAction.java:257)\nat org.eclipse.jdt.ui.actions.GenerateHashCodeEqualsAction.run(GenerateHashCodeEqualsAction.java:209)\nat org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:271)\nat org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:243)\nat org.eclipse.jface.action.Action.runWithEvent(Action.java:499)\nat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539)\nat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\nat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)\nat org.eclipse.jdt.internal.ui.actions.QuickMenuAction.run(QuickMenuAction.java:77)\nat org.eclipse.jface.action.Action.runWithEvent(Action.java:499)\nat org.eclipse.ui.commands.ActionHandler.execute(ActionHandler.java:185)\nat org.eclipse.ui.internal.handlers.LegacyHandlerWrapper.execute(LegacyHandlerWrapper.java:109)\nat org.eclipse.core.commands.Command.executeWithChecks(Command.java:461)\nat org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:424)\nat org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:160)\nat org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:466)\nat org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:799)\nat org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:846)\nat org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:564)\nat org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:506)\nat org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:122)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Display.filterEvent(Display.java:982)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:927)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:952)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:937)\nat org.eclipse.swt.widgets.Control.traverse(Control.java:2965)\nat org.eclipse.swt.widgets.Control.translateMnemonic(Control.java:2809)\nat org.eclipse.swt.widgets.Composite.translateMnemonic(Composite.java:924)\nat org.eclipse.swt.widgets.Control.translateMnemonic(Control.java:2827)\nat org.eclipse.swt.widgets.Display.translateMnemonic(Display.java:3852)\nat org.eclipse.swt.widgets.Display.filterMessage(Display.java:996)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2964)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\nat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\nat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:585)\nat org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:280)\nat org.eclipse.core.launcher.Main.run(Main.java:977)\nat org.eclipse.core.launcher.Main.main(Main.java:952)\n\n\n\n\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d Session data \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\neclipse.buildId\u003dI20060526-0010\njava.version\u003d1.5.0_06\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003dde_DE\nCommand-line arguments:  -data E:\\test\\eclipse-workspace -os win32 -ws win32 -arch x86",
    "The last field I mentioned before is the generic one, \"object\". It is the last one in the sorted dialog list and not in the source code.\nSo there seems to be a problem to generate eqals() and hashCode() for generic fields.",
    "Move to JDT/UI",
    "Tobias, can you investigate if this is a 3.2.1 candidate?",
    "I\u0027m using MacOSX 10.4 and the Eclipse 3.2 release. Generate hashcode/equals doesn\u0027t not seem to have any effect on generic classes. Using this evil class from the description, the generate hashcode/equals dialog and wizards seems to function  normally but does not insert the hashcode/equals functions in generics classes, nor does it replace the existing ones.",
    "Created an attachment (id\u003d48446)\npatch\n\n",
    "Created an attachment (id\u003d48447)\nimproved patch\n\nimproved patch that takes erasure for type variables when evaluating if equals/hashcode exist.",
    "patch released in 3.2.1 and 3.3",
    "Martin, was it intentional that you added a new API method (createRefactoringStatusContext) for 3.2.1?",
    "If you keep the method as API, you should add an @since tag.",
    "Oops, thanks for pointing at this. The method should of course be private.\nFixed in 3.2.1 and 3.3",
    "verifying...",
    "verified in M20060830-0800"
  ],
  "commentCreationDates": [
    "2006-06-02T00:12:58+02:00",
    "2006-06-02T00:22:21+02:00",
    "2006-06-02T04:38:15+02:00",
    "2006-06-06T18:37:09+02:00",
    "2006-07-20T06:13:04+02:00",
    "2006-08-23T13:03:22+02:00",
    "2006-08-23T13:16:39+02:00",
    "2006-08-23T18:25:46+02:00",
    "2006-08-28T23:23:21+02:00",
    "2006-08-28T23:41:32+02:00",
    "2006-08-29T10:22:05+02:00",
    "2006-08-31T15:50:16+02:00",
    "2006-08-31T15:54:28+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.jdt.internal.core.TypeParameter",
      "elements": [
        {
          "method": "org.eclipse.jdt.ui.actions.GenerateHashCodeEqualsAction.checkHashCodeEqualsExists",
          "source": "GenerateHashCodeEqualsAction.java:396"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.GenerateHashCodeEqualsAction.run",
          "source": "GenerateHashCodeEqualsAction.java:326"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.GenerateHashCodeEqualsAction.checkAndRun",
          "source": "GenerateHashCodeEqualsAction.java:257"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.GenerateHashCodeEqualsAction.run",
          "source": "GenerateHashCodeEqualsAction.java:209"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun",
          "source": "SelectionDispatchAction.java:271"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.run",
          "source": "SelectionDispatchAction.java:243"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:499"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:539"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3348"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2968"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.actions.QuickMenuAction.run",
          "source": "QuickMenuAction.java:77"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:499"
        },
        {
          "method": "org.eclipse.ui.commands.ActionHandler.execute",
          "source": "ActionHandler.java:185"
        },
        {
          "method": "org.eclipse.ui.internal.handlers.LegacyHandlerWrapper.execute",
          "source": "LegacyHandlerWrapper.java:109"
        },
        {
          "method": "org.eclipse.core.commands.Command.executeWithChecks",
          "source": "Command.java:461"
        },
        {
          "method": "org.eclipse.core.commands.ParameterizedCommand.executeWithChecks",
          "source": "ParameterizedCommand.java:424"
        },
        {
          "method": "org.eclipse.ui.internal.handlers.HandlerService.executeCommand",
          "source": "HandlerService.java:160"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand",
          "source": "WorkbenchKeyboard.java:466"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.press",
          "source": "WorkbenchKeyboard.java:799"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent",
          "source": "WorkbenchKeyboard.java:846"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings",
          "source": "WorkbenchKeyboard.java:564"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3",
          "source": "WorkbenchKeyboard.java:506"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent",
          "source": "WorkbenchKeyboard.java:122"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.filterEvent",
          "source": "Display.java:982"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:927"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:952"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:937"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.traverse",
          "source": "Control.java:2965"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.translateMnemonic",
          "source": "Control.java:2809"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.translateMnemonic",
          "source": "Composite.java:924"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.translateMnemonic",
          "source": "Control.java:2827"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.translateMnemonic",
          "source": "Display.java:3852"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.filterMessage",
          "source": "Display.java:996"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2964"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1914"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1878"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:280"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "144992",
      "date": "2006-06-02T00:12:58+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "144992",
  "bugId": "144992",
  "date": "2006-06-02T00:12:58+02:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}