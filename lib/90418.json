{
  "comments": [
    "Hello,\nI am using PDE to create a new plugin and tried to use the Plugin with a\nproperty page template.\nThe code compile but I have the following exception.\n-------------------------------------\njava.lang.ClassCastException\nat\ncom.nds.france.eclipse.mediahighway.properties.MhdkProjectPropertyPage.addFirstSection(MhdkProjectPropertyPage.java:42)\nat\ncom.nds.france.eclipse.mediahighway.properties.MhdkProjectPropertyPage.createContents(MhdkProjectPropertyPage.java:88)\nat\norg.eclipse.jface.preference.PreferencePage.createControl(PreferencePage.java:217)\nat org.eclipse.jface.preference.PreferenceDialog$12.run(PreferenceDialog.java:1008)\n-------------------------------------\nMhdkProjectPropertyPage is the template property page so the error comes from\nthe code : \t\t\npathValueText.setText(((IResource) getElement()).getFullPath().toString());\n\nI have corrected the probleme this way\npathValueText.setText(((IResource)\ngetElement().getAdapter(IResource.class)).getFullPath().toString());\n\nHope this helps and is the correct way.\nI think there should be some checking and the returned value of getAdapter().\n\nCheers,\n\nSeB.",
    "Have you added adaptable\u003d\"true\" to your org.eclipse.ui.propertyPages extension?\nI think, without the attribute, the property page should not be availabe on \nnot IResource objects.",
    "I have tried to make the extension adaptable and this still crashes.\nI am a beginner in eclipse development and still trying to understand its\narchitecture.\nThe history is I used the template to create a property page for Java Project\ntypes and I had to make these to extension point declaration (base on the jdt\njaba Build path property page)\n   \u003cextension\n         point\u003d\"org.eclipse.ui.propertyPages\"\u003e\n      \u003cpage\n            objectClass\u003d\"org.eclipse.core.resources.IProject\"\n           \nclass\u003d\"com.nds.france.eclipse.mediahighway.properties.MhdkProjectPropertyPage\"\n            name\u003d\"%mhdk.project.propertypage.name\"\n            id\u003d\"com.nds.france.eclipse.mediahighway.properties.MhdkPropertyPage.id\"\u003e\n         \u003cfilter\n               value\u003d\"org.eclipse.jdt.core.javanature\"\n               name\u003d\"nature\"/\u003e\n      \u003c/page\u003e\n      \u003cpage\n            objectClass\u003d\"org.eclipse.jdt.core.IJavaProject\"\n           \nclass\u003d\"com.nds.france.eclipse.mediahighway.properties.MhdkProjectPropertyPage\"\n            name\u003d\"%mhdk.project.propertypage.name\"\n            id\u003d\"com.nds.france.eclipse.mediahighway.properties.MhdkPropertyPage.id\"\u003e\n         \u003cfilter\n               value\u003d\"org.eclipse.jdt.core.javanature\"\n               name\u003d\"nature\"/\u003e\n      \u003c/page\u003e\n   \u003c/extension\u003e\nOnly one extension page to IJavaProject did not work, but the 2 declarations\n(IProject and IJavaProject) make it work, I do not understand why ?\n\nBut if I only use one page setting adaptable to true, the page appears  but the\nsame bug crashes with the java.lang.ClassCastException exception !!!!!!!!\n   \u003cextension\n         point\u003d\"org.eclipse.ui.propertyPages\"\u003e\n      \u003cpage\n            adaptable\u003d\"true\"\n            objectClass\u003d\"org.eclipse.jdt.core.IJavaProject\"\n           \nclass\u003d\"com.nds.france.eclipse.mediahighway.properties.MhdkProjectPropertyPage\"\n            name\u003d\"%mhdk.project.propertypage.name\"\n            id\u003d\"com.nds.france.eclipse.mediahighway.properties.MhdkPropertyPage.id\"\u003e\n         \u003cfilter\n               value\u003d\"org.eclipse.jdt.core.javanature\"\n               name\u003d\"nature\"/\u003e\n      \u003c/page\u003e\n   \u003c/extension\u003e\n\nSo it seems to me the bug is still here.",
    "The generated template specifies\nobjectClass\u003d\"org.eclipse.core.resources.IFile\"\nand in the code casts it to (IResource), since IFile is subclass of IResource.\nThere is no way to crash the preference page since it it does not appear on \nthe IJavaProject.\n\nIf you customize plugin.xml and change objectClass to IJavaProject then you \nneed to change the code as well to handle IJavaProject that is not IResource, \n(cast to IJavaProject for example).\n\nIf you still want to operate on IResource corresponding to the IJavaProject, \nthe change\ngetElement().getAdapter(IResource.class)).getFullPath().toString());\nto your code is correct.",
    "I am awfully sorry to have bothered you with this.\nThis is my mistake but it helped me a lot. \nI guess I should have asked the question on a forum.\n\nSorry again and thanks for all.\n\n\nSeB."
  ],
  "commentCreationDates": [
    "2005-04-06T11:24:29+02:00",
    "2005-04-06T19:21:48+02:00",
    "2005-04-07T11:10:49+02:00",
    "2005-04-07T21:36:51+02:00",
    "2005-04-08T11:02:55+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "elements": [
        {
          "method": "com.nds.france.eclipse.mediahighway.properties.MhdkProjectPropertyPage.addFirstSection",
          "source": "MhdkProjectPropertyPage.java:42"
        },
        {
          "method": "com.nds.france.eclipse.mediahighway.properties.MhdkProjectPropertyPage.createContents",
          "source": "MhdkProjectPropertyPage.java:88"
        },
        {
          "method": "org.eclipse.jface.preference.PreferencePage.createControl",
          "source": "PreferencePage.java:217"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog$12.run",
          "source": "PreferenceDialog.java:1008"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "90418",
      "date": "2005-04-06T11:24:29+02:00",
      "product": "PDE",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "90418",
  "bugId": "90418",
  "date": "2005-04-06T11:24:29+02:00",
  "product": "PDE",
  "component": "UI",
  "severity": "normal"
}