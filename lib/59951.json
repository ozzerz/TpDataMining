{
  "comments": [
    "Our application checks \n  Display.getCurrent() \u003d\u003d null\nto see if we are running in a headless mode or not. Under Windows, this works\nfine, but under Linux, we get the following exception:\n\njava.lang.NoClassDefFoundError: org/eclipse/swt/widgets/Display\n\t...\n\t...\n\tat\norg.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:858)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:291)\n\tat org.eclipse.core.launcher.Main.run(Main.java:747)\n\tat org.eclipse.core.launcher.Main.main(Main.java:583)\n\nWe are launching our application with the invocation:\n\tjava -cp startup.jar org.eclpse.core.launcher.Main -application \u003cAPP\u003e",
    "We realized that you must explicitly specify the windowing system when launching\nunder Linux (i.e. -ws motif). The reason it worked under Windows is that there\nis only one windowing system, so it was picked by default.\n\nAdding -ws motif to the command line resolved the issue.",
    "After moving to the 3.0 release, this bug resurfaced. Our invocation did not\nchange (we are still passing in -ws motif), but the NoClassDefFoundError\u0027s are\nstill getting thrown.",
    "GG is there anything we should be doing about this?",
    "Created an attachment (id\u003d16338)\nplugin which illustrates the problem\n\nThis is a plugin which either println\u0027s or displays a info dialog, depending on\nwhether it is run headless or not. On Windows, this works great. On Linux, we\nget the NoClassDefFound exceptions.\n\nTo see the GUI dialog, just run workbench with the plugin installed.\n\nTo see the headless println, invoke the platform with the plugin installed:\n\u003cPATH_TO_JAVA\u003e/java \n   -cp startup.jar \n   org.eclipse.core.launcher.Main \n   -data \u003cWORKSPACE\u003e \n   -application HeadlessTestCase.HeadlessTestCase\n   -consoleLog\n\nThis works under Windows, but fails under Linux. Adding the flag \"-ws motif\"\nfixed the problem under Eclipse 2.1.x, but does nothing now.",
    "Created an attachment (id\u003d16347)\nproject for attached plugin\n",
    "Created an attachment (id\u003d16348)\nsimplified test plugin\n",
    "Created an attachment (id\u003d16349)\nsimplified test plugin project\n",
    "Maybe this bug should be moved to core?  It sounds more like an OSGI sort of\nthing...",
    "Do it.",
    "Can you try passing \"-os linux -ws motif\"?\n\nIf it works, then this would be a duplicate of bug 73056 (fixed in 3.1).",
    "verifiy for rc1",
    "I verified with a small headless app and it worked.\nClosing as dup like Rafael suggested.\n\n*** This bug has been marked as a duplicate of 73056 ***"
  ],
  "commentCreationDates": [
    "2004-04-26T17:00:48+02:00",
    "2004-04-26T17:27:17+02:00",
    "2004-12-02T04:18:26+01:00",
    "2004-12-03T17:39:58+01:00",
    "2004-12-03T19:19:46+01:00",
    "2004-12-03T19:26:17+01:00",
    "2004-12-03T19:38:24+01:00",
    "2004-12-03T19:38:37+01:00",
    "2005-04-30T03:44:30+02:00",
    "2005-05-02T14:48:09+02:00",
    "2005-05-18T18:46:32+02:00",
    "2005-05-21T06:03:49+02:00",
    "2005-05-26T16:47:12+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoClassDefFoundError",
      "message": "org/eclipse/swt/widgets/Display  ...  ...",
      "elements": [
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:858"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:291"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:747"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:583"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "59951",
      "duplicateId": "73056",
      "date": "2004-04-26T17:00:48+02:00",
      "product": "Platform",
      "component": "Runtime",
      "severity": "normal"
    }
  ],
  "groupId": "73056",
  "bugId": "59951",
  "duplicateId": "73056",
  "date": "2004-04-26T17:00:48+02:00",
  "product": "Platform",
  "component": "Runtime",
  "severity": "normal"
}