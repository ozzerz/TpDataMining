{
  "comments": [
    "Build ID: I20070921-0919\n\nSteps To Reproduce:\nI have a content in my Editor which is about 5.1MB (when saved) \u003d 118341 lines. CTRL-C fails with an OutOfMemoryError. I now, I could increase the Heap-Space, but since the RCP client use already some, this is hardly an option. \n\nWorkaround was done by directly saving to the file. But nevertheless I do not understand, why there is an Heap-Issue with the Copy. Could this Bug relate as well to Bug 68069???\n\njava.lang.OutOfMemoryError: Java heap space\n\tat java.util.Arrays.copyOf(Unknown Source)\n\tat java.lang.AbstractStringBuilder.expandCapacity(Unknown Source)\n\tat java.lang.AbstractStringBuilder.append(Unknown Source)\n\tat java.lang.StringBuffer.append(Unknown Source)\n\tat org.eclipse.swt.custom.StyledText$TextWriter.write(StyledText.java:1084)\n\tat org.eclipse.swt.custom.StyledText$TextWriter.writeLineDelimiter(StyledText.java:1156)\n\tat org.eclipse.swt.custom.StyledText.getPlatformDelimitedText(StyledText.java:3931)\n\tat org.eclipse.swt.custom.StyledText.setClipboardContent(StyledText.java:6822)\n\tat org.eclipse.swt.custom.StyledText.copy(StyledText.java:1720)\n\tat org.eclipse.swt.custom.StyledText.copy(StyledText.java:1691)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.ui.internal.handlers.WidgetMethodHandler.execute(WidgetMethodHandler.java:118)\n\tat org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:239)\n\tat org.eclipse.core.commands.Command.executeWithChecks(Command.java:475)\n\tat org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:429)\n\tat org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:165)\n\tat org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:470)\n\tat org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:821)\n\tat org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:879)\n\tat org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:568)\n\tat org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:510)\n\tat org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:126)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Display.filterEvent(Display.java:1150)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:937)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:962)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:947)\n\tat org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:975)\n\tat org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:971)\n\n\nMore information:",
    "Which editor did you see this in?",
    "I am not sure, if I could answer the question properly. I guess it is set like this:\n\nTextViewer textViewer.getDocument().set(s)\n\nDoes this answer the question?",
    "Which editor were you using: Text Editor, Java Editor, Manifest.MF/plugin.xml editor, Feature Editor, etc.?",
    "Perhaps the word \u0027Editor\u0027 might be misleading. I have an Editor, with a Text and a Table. The Text is coded with the above mentioned TextViewer. And in this TextViewer the Error occurs.\n\nOn the other hand I have tried as well to increase the Heap-Memory as well and this does not seem to have any kind of influence (i.e. neither the ini-File nor the Arguments changed the Heap-Size of 64MB).",
    "I have managed somehow to increase the Heap. Then I could see the Heap runs at approx. 60 MB before CTRL-C and increase to about 120 MB. Seems like the Copy-function requires a LOTTT of Heap-Memory.\n\nSince the CTRL-A takes about 20 sec to mark the whole text I wonder what is done there? Marking each character, one by one, adding ...  etc. Is this worth to open a new Bug?",
    "It seems that the exception is coming from doing a large copy with StyledText.  Since this does not appear to be a PDE Editor and instead a custom editor, I am reassigning to SWT.  They might be able to help better answer your questions/address your problems."
  ],
  "commentCreationDates": [
    "2007-10-30T13:26:57+01:00",
    "2007-10-30T14:43:32+01:00",
    "2007-10-30T14:59:18+01:00",
    "2007-10-30T22:51:35+01:00",
    "2007-11-05T09:48:42+01:00",
    "2007-11-05T14:25:06+01:00",
    "2007-11-05T17:41:35+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.OutOfMemoryError",
      "message": "Java heap space",
      "elements": [
        {
          "method": "java.util.Arrays.copyOf",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.AbstractStringBuilder.expandCapacity",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.AbstractStringBuilder.append",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.StringBuffer.append",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText$TextWriter.write",
          "source": "StyledText.java:1084"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText$TextWriter.writeLineDelimiter",
          "source": "StyledText.java:1156"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.getPlatformDelimitedText",
          "source": "StyledText.java:3931"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.setClipboardContent",
          "source": "StyledText.java:6822"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.copy",
          "source": "StyledText.java:1720"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.copy",
          "source": "StyledText.java:1691"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ui.internal.handlers.WidgetMethodHandler.execute",
          "source": "WidgetMethodHandler.java:118"
        },
        {
          "method": "org.eclipse.ui.internal.handlers.HandlerProxy.execute",
          "source": "HandlerProxy.java:239"
        },
        {
          "method": "org.eclipse.core.commands.Command.executeWithChecks",
          "source": "Command.java:475"
        },
        {
          "method": "org.eclipse.core.commands.ParameterizedCommand.executeWithChecks",
          "source": "ParameterizedCommand.java:429"
        },
        {
          "method": "org.eclipse.ui.internal.handlers.HandlerService.executeCommand",
          "source": "HandlerService.java:165"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand",
          "source": "WorkbenchKeyboard.java:470"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.press",
          "source": "WorkbenchKeyboard.java:821"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent",
          "source": "WorkbenchKeyboard.java:879"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings",
          "source": "WorkbenchKeyboard.java:568"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3",
          "source": "WorkbenchKeyboard.java:510"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent",
          "source": "WorkbenchKeyboard.java:126"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.filterEvent",
          "source": "Display.java:1150"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:937"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:962"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:947"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendKeyEvent",
          "source": "Widget.java:975"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendKeyEvent",
          "source": "Widget.java:971"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "207962",
      "date": "2007-10-30T13:26:57+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    }
  ],
  "groupId": "207962",
  "bugId": "207962",
  "date": "2007-10-30T13:26:57+01:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "normal"
}