{
  "comments": [
    "This problem was seen in 2.1RC4 using J2SDK 5.0 Update 7 on WinXP using Derby or Oracle as a DB\n\nI create any report design with a table bound to a resultset with \u003e 20000 rows of data. When attempting to generate an rptdocument, I see the following error:\n\nHere\u0027s my code snippet:\n\nEngineConfig config \u003d new EngineConfig();\nconfig.setEngineHome(\"C:\\\\Program Files\\\\birt-runtime-2_1_0\\\\ReportEngine\"); \nReportEngine engine \u003d new ReportEngine(config);\nString reportPath \u003d \"C:\\\\Program Files\\\\birt-rcp-report-designer-2_1_0\\\\workspace\\\\myreport.rptdesign\";\nIReportRunnable design \u003d engine.openReportDesign(reportPath); IRunTask task \u003d engine.createRunTask(design);\ntask.setPageHandler(new GenerationListener());\ntask.run(\"c:\\\\temp\\\\rptdoc\");\nengine.destroy();\n\nI get the following exceptions:\n\nJun 9, 2006 3:29:44 PM org.eclipse.birt.report.engine.api.impl.RunTask doRun\nSEVERE: An error happened while running the report. Cause:\njava.lang.NegativeArraySizeException\nat org.eclipse.birt.data.engine.executor.cache.ResultObjectUtil.readData(ResultObjectUtil.java:135)\nat org.eclipse.birt.data.engine.executor.cache.DataFileReader.read(DataFileReader.java:100)\nat org.eclipse.birt.data.engine.executor.cache.DiskBasedResultSet.nextRow(DiskBasedResultSet.java:102)\nat org.eclipse.birt.data.engine.executor.cache.DiskCache.next(DiskCache.java:139)\nat org.eclipse.birt.data.engine.executor.cache.SmartCache.next(SmartCache.java:378)\nat org.eclipse.birt.data.engine.executor.transform.CachedResultSet.next(CachedResultSet.java:270)\nat org.eclipse.birt.data.engine.impl.ResultIterator.next(ResultIterator.java:188)\nat org.eclipse.birt.report.engine.data.dte.DteResultSet.next(DteResultSet.java:200)\nat org.eclipse.birt.report.engine.executor.ListingElementExecutor.accessQuery(ListingElementExecutor.java:150)\nat org.eclipse.birt.report.engine.executor.TableItemExecutor.execute(TableItemExecutor.java:159)\nat org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitTableItem(ReportExecutorVisitor.java:205)\nat org.eclipse.birt.report.engine.ir.TableItemDesign.accept(TableItemDesign.java:69)\nat org.eclipse.birt.report.engine.executor.ReportExecutor.execute(ReportExecutor.java:129)\nat org.eclipse.birt.report.engine.executor.ReportExecutor.execute(ReportExecutor.java:89)\nat org.eclipse.birt.report.engine.api.impl.RunTask.doRun(RunTask.java:202)\nat org.eclipse.birt.report.engine.api.impl.RunTask.run(RunTask.java:111)\nat org.eclipse.birt.report.engine.api.impl.RunTask.run(RunTask.java:96)\nat com.coremetrics.birt.ReportDocGenerator.generateReport(ReportDocGenerator.java:43)\nat com.coremetrics.birt.ReportDocGenerator.main(ReportDocGenerator.java:21)\nException in thread \"main\" org.eclipse.birt.report.engine.api.EngineException: Error happended while running the report\nat org.eclipse.birt.report.engine.api.impl.RunTask.doRun(RunTask.java:212)\nat org.eclipse.birt.report.engine.api.impl.RunTask.run(RunTask.java:111)\nat org.eclipse.birt.report.engine.api.impl.RunTask.run(RunTask.java:96)\nat com.coremetrics.birt.ReportDocGenerator.generateReport(ReportDocGenerator.java:43)\nat com.coremetrics.birt.ReportDocGenerator.main(ReportDocGenerator.java:21)\nCaused by: java.lang.NegativeArraySizeException\nat org.eclipse.birt.data.engine.executor.cache.ResultObjectUtil.readData(ResultObjectUtil.java:135)\nat org.eclipse.birt.data.engine.executor.cache.DataFileReader.read(DataFileReader.java:100)\nat org.eclipse.birt.data.engine.executor.cache.DiskBasedResultSet.nextRow(DiskBasedResultSet.java:102)\nat org.eclipse.birt.data.engine.executor.cache.DiskCache.next(DiskCache.java:139)\nat org.eclipse.birt.data.engine.executor.cache.SmartCache.next(SmartCache.java:378)\nat org.eclipse.birt.data.engine.executor.transform.CachedResultSet.next(CachedResultSet.java:270)\nat org.eclipse.birt.data.engine.impl.ResultIterator.next(ResultIterator.java:188)\nat org.eclipse.birt.report.engine.data.dte.DteResultSet.next(DteResultSet.java:200)\nat org.eclipse.birt.report.engine.executor.ListingElementExecutor.accessQuery(ListingElementExecutor.java:150)\nat org.eclipse.birt.report.engine.executor.TableItemExecutor.execute(TableItemExecutor.java:159)\nat org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitTableItem(ReportExecutorVisitor.java:205)\nat org.eclipse.birt.report.engine.ir.TableItemDesign.accept(TableItemDesign.java:69)\nat org.eclipse.birt.report.engine.executor.ReportExecutor.execute(ReportExecutor.java:129)\nat org.eclipse.birt.report.engine.executor.ReportExecutor.execute(ReportExecutor.java:89)\nat org.eclipse.birt.report.engine.api.impl.RunTask.doRun(RunTask.java:202)\n... 4 more\n\nIn addition, query execution (before generation of the rptdocument begins) takes a very long time to execute.\n\nThis is a showstopper for our project.",
    "Please use latest build to do test. It is fixed in 6/13.\n",
    "Fixed."
  ],
  "commentCreationDates": [
    "2006-06-14T08:10:04+02:00",
    "2006-06-14T08:16:04+02:00",
    "2006-06-14T09:16:15+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NegativeArraySizeException",
      "elements": [
        {
          "method": "org.eclipse.birt.data.engine.executor.cache.ResultObjectUtil.readData",
          "source": "ResultObjectUtil.java:135"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.cache.DataFileReader.read",
          "source": "DataFileReader.java:100"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.cache.DiskBasedResultSet.nextRow",
          "source": "DiskBasedResultSet.java:102"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.cache.DiskCache.next",
          "source": "DiskCache.java:139"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.cache.SmartCache.next",
          "source": "SmartCache.java:378"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.CachedResultSet.next",
          "source": "CachedResultSet.java:270"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.ResultIterator.next",
          "source": "ResultIterator.java:188"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.DteResultSet.next",
          "source": "DteResultSet.java:200"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ListingElementExecutor.accessQuery",
          "source": "ListingElementExecutor.java:150"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.TableItemExecutor.execute",
          "source": "TableItemExecutor.java:159"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitTableItem",
          "source": "ReportExecutorVisitor.java:205"
        },
        {
          "method": "org.eclipse.birt.report.engine.ir.TableItemDesign.accept",
          "source": "TableItemDesign.java:69"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutor.execute",
          "source": "ReportExecutor.java:129"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutor.execute",
          "source": "ReportExecutor.java:89"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunTask.doRun",
          "source": "RunTask.java:202"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunTask.run",
          "source": "RunTask.java:111"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunTask.run",
          "source": "RunTask.java:96"
        },
        {
          "method": "com.coremetrics.birt.ReportDocGenerator.generateReport",
          "source": "ReportDocGenerator.java:43"
        },
        {
          "method": "com.coremetrics.birt.ReportDocGenerator.main",
          "source": "ReportDocGenerator.java:21"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "147003",
      "date": "2006-06-14T08:10:04+02:00",
      "product": "BIRT",
      "component": "Data Access",
      "severity": "critical"
    },
    {
      "exceptionType": "org.eclipse.birt.report.engine.api.EngineException",
      "message": "Error happended while running the report",
      "elements": [
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunTask.doRun",
          "source": "RunTask.java:212"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunTask.run",
          "source": "RunTask.java:111"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunTask.run",
          "source": "RunTask.java:96"
        },
        {
          "method": "com.coremetrics.birt.ReportDocGenerator.generateReport",
          "source": "ReportDocGenerator.java:43"
        },
        {
          "method": "com.coremetrics.birt.ReportDocGenerator.main",
          "source": "ReportDocGenerator.java:21"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.NegativeArraySizeException",
        "elements": [
          {
            "method": "org.eclipse.birt.data.engine.executor.cache.ResultObjectUtil.readData",
            "source": "ResultObjectUtil.java:135"
          },
          {
            "method": "org.eclipse.birt.data.engine.executor.cache.DataFileReader.read",
            "source": "DataFileReader.java:100"
          },
          {
            "method": "org.eclipse.birt.data.engine.executor.cache.DiskBasedResultSet.nextRow",
            "source": "DiskBasedResultSet.java:102"
          },
          {
            "method": "org.eclipse.birt.data.engine.executor.cache.DiskCache.next",
            "source": "DiskCache.java:139"
          },
          {
            "method": "org.eclipse.birt.data.engine.executor.cache.SmartCache.next",
            "source": "SmartCache.java:378"
          },
          {
            "method": "org.eclipse.birt.data.engine.executor.transform.CachedResultSet.next",
            "source": "CachedResultSet.java:270"
          },
          {
            "method": "org.eclipse.birt.data.engine.impl.ResultIterator.next",
            "source": "ResultIterator.java:188"
          },
          {
            "method": "org.eclipse.birt.report.engine.data.dte.DteResultSet.next",
            "source": "DteResultSet.java:200"
          },
          {
            "method": "org.eclipse.birt.report.engine.executor.ListingElementExecutor.accessQuery",
            "source": "ListingElementExecutor.java:150"
          },
          {
            "method": "org.eclipse.birt.report.engine.executor.TableItemExecutor.execute",
            "source": "TableItemExecutor.java:159"
          },
          {
            "method": "org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitTableItem",
            "source": "ReportExecutorVisitor.java:205"
          },
          {
            "method": "org.eclipse.birt.report.engine.ir.TableItemDesign.accept",
            "source": "TableItemDesign.java:69"
          },
          {
            "method": "org.eclipse.birt.report.engine.executor.ReportExecutor.execute",
            "source": "ReportExecutor.java:129"
          },
          {
            "method": "org.eclipse.birt.report.engine.executor.ReportExecutor.execute",
            "source": "ReportExecutor.java:89"
          },
          {
            "method": "org.eclipse.birt.report.engine.api.impl.RunTask.doRun",
            "source": "RunTask.java:202"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 1,
      "commentIndex": 0,
      "bugId": "147003",
      "date": "2006-06-14T08:10:04+02:00",
      "product": "BIRT",
      "component": "Data Access",
      "severity": "critical"
    }
  ],
  "groupId": "147003",
  "bugId": "147003",
  "date": "2006-06-14T08:10:04+02:00",
  "product": "BIRT",
  "component": "Data Access",
  "severity": "critical"
}