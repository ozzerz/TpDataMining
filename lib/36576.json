{
  "comments": [
    "NOTE:  This exception does not occur in Eclipse 2.1 RC1, but does occur in 2.1 GA.\n\nScenario:\n1) Launch a Run-time Workbench instance.\n2) Create a new Simple project (don\u0027t need to reference any other projects, so\njust enter a project name and click Finish on first page of New Project wizard).\n3) Right-click on new project and select Close Project.\n4) After project is closed, right-click on project and select Open Project.  The\nfollowing error dialog is displayed:\n\"Open Problems\nInternal error.\"\n\n5) The following exception is displayed in the run-time workbench instance\u0027s\nError Log view:\n\njava.lang.NullPointerException\nat\norg.eclipse.core.internal.resources.Project.getReferencedProjects(Project.java:355)\nat\norg.eclipse.core.internal.resources.Workspace.computeFullProjectOrder(Workspace.java:471)\nat org.eclipse.core.internal.resources.Workspace.getBuildOrder(Workspace.java:981)\nat org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:206)\nat org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.java:884)\nat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1600)\nat\norg.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:85)\nat\norg.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:101)\n\n6) The following is displayed in the hosting instance\u0027s Console view:\n\nException in org.eclipse.ui.actions.OpenResourceAction. run:\njava.lang.NullPointerException\nProblems saving workspace\nReason:\nProblems occurred while trying to save the state of the workbench.",
    "I cannot reproduce this in Eclipse 2.1\n\nHowever, I can easily construct a test case where a NPE will occur:\n\nworkspace.getRoot().getProject(\"DoesNotExist\").getReferencedProjects()\n\n-\u003e This throws NPE if the project does not exist. \nProject.getReferencedProjects() should do a checkAccessible before trying to\naccess the description.\n\nDoug, if you have a reproducible test case in Eclipse 2.1, starting from an\nempty workspace, that would help.\n\nIn the meantime, I will fix Project.getReferencedProjects() in our HEAD stream.",
    "Released a fix for the NPE and added a new test case.  I still can\u0027t figure out\nhow this could have happened from the UI.  The computeFullProjectOrder method\nchecks if the project is accessible before it tries to access its referenced\nprojects, so this isn\u0027t the exact case I\u0027ve just fixed.",
    "From the originator:\n\nThanks for the quick response.  After further testing, it looks like the\nplugin my company is developing, which has it\u0027s own project nature,\nperspective and editor, is provoking the NullPointerException when\nclosing/re-opening a project.  The project type can be of any type --\nSimple, Java, Plugin, etc.  All I have to do is have an instance of our\neditor, which uses GEF 2.1, open at the time the other project is\nclosed/re-opened.  At this point, I\u0027m not sure why the error is occurring.  \n\nFeel free to close this bug, since I can\u0027t recreate it without our plugin\nrunning in the Run-time Workbench instance.  Fortunately, when we\u0027re running\nour plugin in an actual Eclipse installation -- as opposed to a Run-time\nWorkbench instance -- the exception does not occur.",
    "*** Bug 39110 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2003-04-16T17:20:29+02:00",
    "2003-04-16T19:15:17+02:00",
    "2003-04-16T20:26:48+02:00",
    "2003-04-16T21:00:04+02:00",
    "2004-02-12T20:50:35+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.core.internal.resources.Project.getReferencedProjects",
          "source": "Project.java:355"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.computeFullProjectOrder",
          "source": "Workspace.java:471"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.getBuildOrder",
          "source": "Workspace.java:981"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.build",
          "source": "BuildManager.java:206"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.endOperation",
          "source": "Workspace.java:884"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1600"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation.run",
          "source": "WorkspaceModifyOperation.java:85"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:101"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "36576",
      "date": "2003-04-16T17:20:29+02:00",
      "product": "Platform",
      "component": "Resources",
      "severity": "normal"
    }
  ],
  "groupId": "36576",
  "bugId": "36576",
  "date": "2003-04-16T17:20:29+02:00",
  "product": "Platform",
  "component": "Resources",
  "severity": "normal"
}