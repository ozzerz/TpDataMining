{
  "comments": [
    "I\u0027ve just updated GEF/Draw2D from cvs and my code stopped working. For some \nreason fragLength is 8 for segment \"Polygon\", so it fails with such below. Bug \nis easy to reproduce, so let me know if any additional info is needed.\n\n\nCaused by: java.lang.StringIndexOutOfBoundsException: String index out of \nrange: -1\n\tat java.lang.String.substring(String.java:1444)\n\tat java.lang.String.substring(String.java:1411)\n\tat org.eclipse.draw2d.text.ParagraphTextLayout.layout\n(ParagraphTextLayout.java:172)\n\tat org.eclipse.draw2d.text.FlowFigureLayout.layout\n(FlowFigureLayout.java:80)\n\tat org.eclipse.draw2d.Figure.layout(Figure.java:985)\n\tat org.eclipse.draw2d.Figure.validate(Figure.java:1686)\n\tat org.eclipse.draw2d.text.FlowContainerLayout.layoutChildren\n(FlowContainerLayout.java:125)\n\tat org.eclipse.draw2d.text.FlowContainerLayout.layout\n(FlowContainerLayout.java:112)\n\tat org.eclipse.draw2d.text.FlowFigureLayout.layout\n(FlowFigureLayout.java:80)\n\tat org.eclipse.draw2d.Figure.layout(Figure.java:985)\n\tat org.eclipse.draw2d.Figure.validate(Figure.java:1686)\n\tat org.eclipse.draw2d.text.BlockFlow.validate(BlockFlow.java:220)\n\tat org.eclipse.draw2d.text.FlowPage.validate(FlowPage.java:138)\n\tat org.eclipse.draw2d.text.FlowPage.getPreferredSize(FlowPage.java:81)\n\tat org.eclipse.draw2d.text.FlowPage.getMinimumSize(FlowPage.java:48)\n\tat org.eclipse.draw2d.BorderLayout.calculateMinimumSize\n(BorderLayout.java:94)\n\tat org.eclipse.draw2d.AbstractHintLayout.getMinimumSize\n(AbstractHintLayout.java:69)\n\tat org.eclipse.draw2d.Figure.getMinimumSize(Figure.java:670)\n\tat org.eclipse.draw2d.StackLayout.calculateMinimumSize\n(StackLayout.java:44)\n\tat org.eclipse.draw2d.AbstractHintLayout.getMinimumSize\n(AbstractHintLayout.java:69)\n\tat org.eclipse.draw2d.Figure.getMinimumSize(Figure.java:670)\n\tat org.eclipse.draw2d.ToolbarLayout.calculateChildrenSize\n(ToolbarLayout.java:96)\n\tat org.eclipse.draw2d.ToolbarLayout.calculateMinimumSize\n(ToolbarLayout.java:131)\n\tat org.eclipse.draw2d.AbstractHintLayout.getMinimumSize\n(AbstractHintLayout.java:69)\n\tat org.eclipse.draw2d.Figure.getMinimumSize(Figure.java:670)\n\tat org.eclipse.draw2d.ViewportLayout.calculatePreferredSize\n(ViewportLayout.java:65)\n\tat org.eclipse.draw2d.AbstractLayout.getPreferredSize\n(AbstractLayout.java:93)\n\tat org.eclipse.draw2d.AbstractHintLayout.getPreferredSize\n(AbstractHintLayout.java:86)\n\tat org.eclipse.draw2d.Figure.getPreferredSize(Figure.java:698)\n\tat \norg.eclipse.gef.internal.ui.palette.editparts.OverlayScrollPaneLayout.calculateP\nreferredSize(OverlayScrollPaneLayout.java:41)\n\tat org.eclipse.draw2d.AbstractLayout.getPreferredSize\n(AbstractLayout.java:93)\n\tat org.eclipse.draw2d.AbstractHintLayout.getPreferredSize\n(AbstractHintLayout.java:86)\n\tat org.eclipse.draw2d.Figure.getPreferredSize(Figure.java:698)\n\tat \norg.eclipse.gef.internal.ui.palette.editparts.DrawerFigure$1.isChildGrowing\n(DrawerFigure.java:110)\n\tat \norg.eclipse.gef.internal.ui.palette.editparts.PaletteToolbarLayout.normalLayout\n(PaletteToolbarLayout.java:118)\n\tat \norg.eclipse.gef.internal.ui.palette.editparts.PaletteToolbarLayout.layout\n(PaletteToolbarLayout.java:82)\n\tat org.eclipse.draw2d.Figure.layout(Figure.java:985)\n\tat org.eclipse.draw2d.Figure.validate(Figure.java:1686)\n\tat org.eclipse.draw2d.Figure.validate(Figure.java:1688)\n\tat org.eclipse.draw2d.Figure.validate(Figure.java:1688)\n\tat org.eclipse.draw2d.Figure.validate(Figure.java:1688)\n\tat org.eclipse.draw2d.Viewport.validate(Viewport.java:363)\n\tat org.eclipse.draw2d.Figure.validate(Figure.java:1688)\n\tat org.eclipse.draw2d.DeferredUpdateManager.validateFigures\n(DeferredUpdateManager.java:270)",
    "We\u0027re aware of this problem.  Technically, you shouldn\u0027t open bugs against \ncode in the repository (that hasn\u0027t made it into a build yet).  I\u0027ve fixed \nthis problem, however.  So you can update from the repository again.  Keep in \nmind that we\u0027re still working on this text package and it is prone to being \nbuggy.",
    "I think it\u0027s perfectly valid to open bugs against code in the HEAD stream. It\u0027s \nmuch better to have people using our code (and bugs) sooner than later. The \nnewsgroup could also be used if you think it\u0027s something obvious which may \nalready be fixed but unreleased.",
    "Reopening. Wrapping code will undergo further changes.",
    "Should be working now.  We\u0027re still making slight changes for borders and bidi."
  ],
  "commentCreationDates": [
    "2004-12-16T20:11:46+01:00",
    "2004-12-16T21:55:18+01:00",
    "2004-12-17T15:13:50+01:00",
    "2004-12-17T15:14:41+01:00",
    "2005-02-07T16:41:21+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.StringIndexOutOfBoundsException",
      "message": "String index out of  range: -1",
      "elements": [
        {
          "method": "java.lang.String.substring",
          "source": "String.java:1444"
        },
        {
          "method": "java.lang.String.substring",
          "source": "String.java:1411"
        },
        {
          "method": "org.eclipse.draw2d.text.ParagraphTextLayout.layout",
          "source": "ParagraphTextLayout.java:172"
        },
        {
          "method": "org.eclipse.draw2d.text.FlowFigureLayout.layout",
          "source": "FlowFigureLayout.java:80"
        },
        {
          "method": "org.eclipse.draw2d.Figure.layout",
          "source": "Figure.java:985"
        },
        {
          "method": "org.eclipse.draw2d.Figure.validate",
          "source": "Figure.java:1686"
        },
        {
          "method": "org.eclipse.draw2d.text.FlowContainerLayout.layoutChildren",
          "source": "FlowContainerLayout.java:125"
        },
        {
          "method": "org.eclipse.draw2d.text.FlowContainerLayout.layout",
          "source": "FlowContainerLayout.java:112"
        },
        {
          "method": "org.eclipse.draw2d.text.FlowFigureLayout.layout",
          "source": "FlowFigureLayout.java:80"
        },
        {
          "method": "org.eclipse.draw2d.Figure.layout",
          "source": "Figure.java:985"
        },
        {
          "method": "org.eclipse.draw2d.Figure.validate",
          "source": "Figure.java:1686"
        },
        {
          "method": "org.eclipse.draw2d.text.BlockFlow.validate",
          "source": "BlockFlow.java:220"
        },
        {
          "method": "org.eclipse.draw2d.text.FlowPage.validate",
          "source": "FlowPage.java:138"
        },
        {
          "method": "org.eclipse.draw2d.text.FlowPage.getPreferredSize",
          "source": "FlowPage.java:81"
        },
        {
          "method": "org.eclipse.draw2d.text.FlowPage.getMinimumSize",
          "source": "FlowPage.java:48"
        },
        {
          "method": "org.eclipse.draw2d.BorderLayout.calculateMinimumSize",
          "source": "BorderLayout.java:94"
        },
        {
          "method": "org.eclipse.draw2d.AbstractHintLayout.getMinimumSize",
          "source": "AbstractHintLayout.java:69"
        },
        {
          "method": "org.eclipse.draw2d.Figure.getMinimumSize",
          "source": "Figure.java:670"
        },
        {
          "method": "org.eclipse.draw2d.StackLayout.calculateMinimumSize",
          "source": "StackLayout.java:44"
        },
        {
          "method": "org.eclipse.draw2d.AbstractHintLayout.getMinimumSize",
          "source": "AbstractHintLayout.java:69"
        },
        {
          "method": "org.eclipse.draw2d.Figure.getMinimumSize",
          "source": "Figure.java:670"
        },
        {
          "method": "org.eclipse.draw2d.ToolbarLayout.calculateChildrenSize",
          "source": "ToolbarLayout.java:96"
        },
        {
          "method": "org.eclipse.draw2d.ToolbarLayout.calculateMinimumSize",
          "source": "ToolbarLayout.java:131"
        },
        {
          "method": "org.eclipse.draw2d.AbstractHintLayout.getMinimumSize",
          "source": "AbstractHintLayout.java:69"
        },
        {
          "method": "org.eclipse.draw2d.Figure.getMinimumSize",
          "source": "Figure.java:670"
        },
        {
          "method": "org.eclipse.draw2d.ViewportLayout.calculatePreferredSize",
          "source": "ViewportLayout.java:65"
        },
        {
          "method": "org.eclipse.draw2d.AbstractLayout.getPreferredSize",
          "source": "AbstractLayout.java:93"
        },
        {
          "method": "org.eclipse.draw2d.AbstractHintLayout.getPreferredSize",
          "source": "AbstractHintLayout.java:86"
        },
        {
          "method": "org.eclipse.draw2d.Figure.getPreferredSize",
          "source": "Figure.java:698"
        },
        {
          "method": "org.eclipse.gef.internal.ui.palette.editparts.OverlayScrollPaneLayout.calculatePreferredSize",
          "source": "OverlayScrollPaneLayout.java:41"
        },
        {
          "method": "org.eclipse.draw2d.AbstractLayout.getPreferredSize",
          "source": "AbstractLayout.java:93"
        },
        {
          "method": "org.eclipse.draw2d.AbstractHintLayout.getPreferredSize",
          "source": "AbstractHintLayout.java:86"
        },
        {
          "method": "org.eclipse.draw2d.Figure.getPreferredSize",
          "source": "Figure.java:698"
        },
        {
          "method": "org.eclipse.gef.internal.ui.palette.editparts.DrawerFigure$1.isChildGrowing",
          "source": "DrawerFigure.java:110"
        },
        {
          "method": "org.eclipse.gef.internal.ui.palette.editparts.PaletteToolbarLayout.normalLayout",
          "source": "PaletteToolbarLayout.java:118"
        },
        {
          "method": "org.eclipse.gef.internal.ui.palette.editparts.PaletteToolbarLayout.layout",
          "source": "PaletteToolbarLayout.java:82"
        },
        {
          "method": "org.eclipse.draw2d.Figure.layout",
          "source": "Figure.java:985"
        },
        {
          "method": "org.eclipse.draw2d.Figure.validate",
          "source": "Figure.java:1686"
        },
        {
          "method": "org.eclipse.draw2d.Figure.validate",
          "source": "Figure.java:1688"
        },
        {
          "method": "org.eclipse.draw2d.Figure.validate",
          "source": "Figure.java:1688"
        },
        {
          "method": "org.eclipse.draw2d.Figure.validate",
          "source": "Figure.java:1688"
        },
        {
          "method": "org.eclipse.draw2d.Viewport.validate",
          "source": "Viewport.java:363"
        },
        {
          "method": "org.eclipse.draw2d.Figure.validate",
          "source": "Figure.java:1688"
        },
        {
          "method": "org.eclipse.draw2d.DeferredUpdateManager.validateFigures",
          "source": "DeferredUpdateManager.java:270"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "81455",
      "date": "2004-12-16T20:11:46+01:00",
      "product": "GEF",
      "component": "draw2d",
      "severity": "normal"
    }
  ],
  "groupId": "81455",
  "bugId": "81455",
  "date": "2004-12-16T20:11:46+01:00",
  "product": "GEF",
  "component": "draw2d",
  "severity": "normal"
}