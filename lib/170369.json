{
  "comments": [
    "TestMainValidator.testDrefMultipleNonRoot generates the following exceptions:\n\nSystemId Unknown; Line #0; Column #0; Prefix must resolve to a namespace: tns\nSystemId Unknown; Line #0; Column #0; Prefix must resolve to a namespace: tns\njavax.xml.xpath.XPathFunctionException: The node \"#document\" is not of type refType\n\tat org.eclipse.cosmos.rm.validation.internal.reference.DerefXPathFunction.evaluate(DerefXPathFunction.java)\n\tat org.eclipse.cosmos.rm.validation.internal.reference.SMLExtensionFunctions.deref(SMLExtensionFunctions.java:37)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:615)\n\tat org.apache.xalan.extensions.ExtensionHandlerJavaClass.callFunction(ExtensionHandlerJavaClass.java:399)\n\tat org.apache.xalan.extensions.ExtensionHandlerJavaClass.callFunction(ExtensionHandlerJavaClass.java:438)\n\tat org.apache.xalan.extensions.ExtensionsTable.extFunction(ExtensionsTable.java:240)\n\tat org.apache.xalan.transformer.TransformerImpl.extFunction(TransformerImpl.java:563)\n\tat org.apache.xpath.functions.FuncExtFunction.execute(FuncExtFunction.java:301)\n\tat org.apache.xpath.Expression.asIterator(Expression.java:250)\n\tat org.apache.xpath.functions.FuncCount.execute(FuncCount.java:56)\n\tat org.apache.xpath.Expression.execute(Expression.java:153)\n\tat org.apache.xpath.operations.Equals.bool(Equals.java:63)\n\tat org.apache.xpath.XPath.bool(XPath.java:548)\n\tat org.apache.xalan.templates.ElemChoose.execute(ElemChoose.java:124)\n\tat org.apache.xalan.templates.ElemApplyTemplates.transformSelectedNodes(ElemApplyTemplates.java:393)\n\tat org.apache.xalan.templates.ElemApplyTemplates.execute(ElemApplyTemplates.java:176)\n\tat org.apache.xalan.templates.ElemApplyTemplates.transformSelectedNodes(ElemApplyTemplates.java:393)\n\tat org.apache.xalan.templates.ElemApplyTemplates.execute(ElemApplyTemplates.java:176)\n\tat org.apache.xalan.transformer.TransformerImpl.executeChildTemplates(TransformerImpl.java:2503)\n\tat org.apache.xalan.transformer.TransformerImpl.applyTemplateToNode(TransformerImpl.java:2373)\n\tat org.apache.xalan.transformer.TransformerImpl.transformNode(TransformerImpl.java:1459)\n\tat org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:798)\n\tat org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1376)\n\tat org.apache.xalan.transformer.TransformerImpl.transform(TransformerImpl.java:1354)\n\tat org.eclipse.cosmos.rm.validation.internal.smlvalidators.SchematronValidator.transform(SchematronValidator.java:340)\n\tat org.eclipse.cosmos.rm.validation.internal.smlvalidators.SchematronValidator.applySchematron(SchematronValidator.java:251)\n\tat org.eclipse.cosmos.rm.validation.internal.smlvalidators.SchematronValidator.validateSchematron(SchematronValidator.java:235)\n\tat org.eclipse.cosmos.rm.validation.internal.smlvalidators.SchematronValidator.processNode(SchematronValidator.java:168)\n\tat org.eclipse.cosmos.rm.validation.internal.smlvalidators.SchematronValidator.validate(SchematronValidator.java:116)\n\tat org.eclipse.cosmos.rm.validation.internal.core.MainValidator.startValidation(MainValidator.java:184)\n\tat org.eclipse.cosmos.rm.validation.internal.core.MainValidator.start(MainValidator.java:143)\n\tat org.eclipse.cosmos.rm.validation.internal.core.TestMainValidator.startValidation(TestMainValidator.java:116)\n\tat org.eclipse.cosmos.rm.validation.internal.core.TestMainValidator.startValidation(TestMainValidator.java:105)\n\tat org.eclipse.cosmos.rm.validation.internal.core.TestMainValidator.testDrefMultipleNonRoot(TestMainValidator.java:263)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:615)\n\tat junit.framework.TestCase.runTest(TestCase.java:154)\n\tat junit.framework.TestCase.runBare(TestCase.java:127)\n\tat junit.framework.TestResult$1.protect(TestResult.java:106)\n\tat junit.framework.TestResult.runProtected(TestResult.java:124)\n\tat junit.framework.TestResult.run(TestResult.java:109)\n\tat junit.framework.TestCase.run(TestCase.java:118)\n\tat org.eclipse.hyades.test.common.junit.HyadesTestCase.run(HyadesTestCase.java:173)\n\tat junit.framework.TestSuite.runTest(TestSuite.java:208)\n\tat org.eclipse.hyades.test.common.junit.HyadesTestSuite.runTest(HyadesTestSuite.java:431)\n\tat junit.framework.TestSuite.run(TestSuite.java:203)\n\tat org.eclipse.hyades.test.common.junit.HyadesTestSuite.doRun(HyadesTestSuite.java:399)\n\tat org.eclipse.hyades.test.common.junit.HyadesTestSuite.run(HyadesTestSuite.java:312)\n\tat org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:128)\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196)",
    "It seems that MultipleNonRoot.xml may be wrong.\n\nFor the following schematron it uses a tns prefix but it doesn\u0027t define the prefix in the schema element.\n\n\n              \u003csch:schema xmlns:sch\u003d\"http://purl.oclc.org/dsdl/schematron\"\u003e\n                \u003csch:ns prefix\u003d\"smlfn\" \n                     uri\u003d\"http://schemas.serviceml.org/sml/function/2006/07\"/\u003e\n                \u003csch:pattern id\u003d\"countTest\"\u003e\n                  \u003csch:rule context\u003d\".\"\u003e\n                    \u003csch:assert test\u003d\"count(smlfn:deref(tns:EnrolledStudents/tns:EnrolledStudent))\u003d3\"/\u003e\n                  \u003c/sch:rule\u003e\n                \u003c/sch:pattern\u003e\n              \u003c/sch:schema\u003e\n\nIf I add the following namespace definition the test will pass.\n\n        \u003csch:ns prefix\u003d\"tns\" uri\u003d\"urn:university\"/\u003e\n\nI\u0027m wondering if MultipleNonRoot.xml is a valid sml document.",
    "Thanks Sheldon.\nI\u0027ll contact Pratul to let him know.",
    "I confirmed with Pratul that this is an error in the file.\nDespite throwing an exception, the validator still passes the file.  I\u0027ll use this defect to return false and report an error message.",
    "I used this defect to report any errors that occur while transforming a schema document containing an schematron rule.",
    "closing defect",
    "update target to i1"
  ],
  "commentCreationDates": [
    "2007-01-12T22:15:58+01:00",
    "2007-01-22T17:54:29+01:00",
    "2007-01-22T19:38:42+01:00",
    "2007-01-22T20:56:40+01:00",
    "2007-01-31T19:16:32+01:00",
    "2007-01-31T19:17:25+01:00",
    "2007-04-03T16:35:24+02:00"
  ],
  "traces": [
    {
      "exceptionType": "javax.xml.xpath.XPathFunctionException",
      "message": "The node \"#document\" is not of type refType",
      "elements": [
        {
          "method": "org.eclipse.cosmos.rm.validation.internal.reference.DerefXPathFunction.evaluate",
          "source": "DerefXPathFunction.java"
        },
        {
          "method": "org.eclipse.cosmos.rm.validation.internal.reference.SMLExtensionFunctions.deref",
          "source": "SMLExtensionFunctions.java:37"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:64"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:43"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:615"
        },
        {
          "method": "org.apache.xalan.extensions.ExtensionHandlerJavaClass.callFunction",
          "source": "ExtensionHandlerJavaClass.java:399"
        },
        {
          "method": "org.apache.xalan.extensions.ExtensionHandlerJavaClass.callFunction",
          "source": "ExtensionHandlerJavaClass.java:438"
        },
        {
          "method": "org.apache.xalan.extensions.ExtensionsTable.extFunction",
          "source": "ExtensionsTable.java:240"
        },
        {
          "method": "org.apache.xalan.transformer.TransformerImpl.extFunction",
          "source": "TransformerImpl.java:563"
        },
        {
          "method": "org.apache.xpath.functions.FuncExtFunction.execute",
          "source": "FuncExtFunction.java:301"
        },
        {
          "method": "org.apache.xpath.Expression.asIterator",
          "source": "Expression.java:250"
        },
        {
          "method": "org.apache.xpath.functions.FuncCount.execute",
          "source": "FuncCount.java:56"
        },
        {
          "method": "org.apache.xpath.Expression.execute",
          "source": "Expression.java:153"
        },
        {
          "method": "org.apache.xpath.operations.Equals.bool",
          "source": "Equals.java:63"
        },
        {
          "method": "org.apache.xpath.XPath.bool",
          "source": "XPath.java:548"
        },
        {
          "method": "org.apache.xalan.templates.ElemChoose.execute",
          "source": "ElemChoose.java:124"
        },
        {
          "method": "org.apache.xalan.templates.ElemApplyTemplates.transformSelectedNodes",
          "source": "ElemApplyTemplates.java:393"
        },
        {
          "method": "org.apache.xalan.templates.ElemApplyTemplates.execute",
          "source": "ElemApplyTemplates.java:176"
        },
        {
          "method": "org.apache.xalan.templates.ElemApplyTemplates.transformSelectedNodes",
          "source": "ElemApplyTemplates.java:393"
        },
        {
          "method": "org.apache.xalan.templates.ElemApplyTemplates.execute",
          "source": "ElemApplyTemplates.java:176"
        },
        {
          "method": "org.apache.xalan.transformer.TransformerImpl.executeChildTemplates",
          "source": "TransformerImpl.java:2503"
        },
        {
          "method": "org.apache.xalan.transformer.TransformerImpl.applyTemplateToNode",
          "source": "TransformerImpl.java:2373"
        },
        {
          "method": "org.apache.xalan.transformer.TransformerImpl.transformNode",
          "source": "TransformerImpl.java:1459"
        },
        {
          "method": "org.apache.xalan.transformer.TransformerImpl.transform",
          "source": "TransformerImpl.java:798"
        },
        {
          "method": "org.apache.xalan.transformer.TransformerImpl.transform",
          "source": "TransformerImpl.java:1376"
        },
        {
          "method": "org.apache.xalan.transformer.TransformerImpl.transform",
          "source": "TransformerImpl.java:1354"
        },
        {
          "method": "org.eclipse.cosmos.rm.validation.internal.smlvalidators.SchematronValidator.transform",
          "source": "SchematronValidator.java:340"
        },
        {
          "method": "org.eclipse.cosmos.rm.validation.internal.smlvalidators.SchematronValidator.applySchematron",
          "source": "SchematronValidator.java:251"
        },
        {
          "method": "org.eclipse.cosmos.rm.validation.internal.smlvalidators.SchematronValidator.validateSchematron",
          "source": "SchematronValidator.java:235"
        },
        {
          "method": "org.eclipse.cosmos.rm.validation.internal.smlvalidators.SchematronValidator.processNode",
          "source": "SchematronValidator.java:168"
        },
        {
          "method": "org.eclipse.cosmos.rm.validation.internal.smlvalidators.SchematronValidator.validate",
          "source": "SchematronValidator.java:116"
        },
        {
          "method": "org.eclipse.cosmos.rm.validation.internal.core.MainValidator.startValidation",
          "source": "MainValidator.java:184"
        },
        {
          "method": "org.eclipse.cosmos.rm.validation.internal.core.MainValidator.start",
          "source": "MainValidator.java:143"
        },
        {
          "method": "org.eclipse.cosmos.rm.validation.internal.core.TestMainValidator.startValidation",
          "source": "TestMainValidator.java:116"
        },
        {
          "method": "org.eclipse.cosmos.rm.validation.internal.core.TestMainValidator.startValidation",
          "source": "TestMainValidator.java:105"
        },
        {
          "method": "org.eclipse.cosmos.rm.validation.internal.core.TestMainValidator.testDrefMultipleNonRoot",
          "source": "TestMainValidator.java:263"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:64"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:43"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:615"
        },
        {
          "method": "junit.framework.TestCase.runTest",
          "source": "TestCase.java:154"
        },
        {
          "method": "junit.framework.TestCase.runBare",
          "source": "TestCase.java:127"
        },
        {
          "method": "junit.framework.TestResult$1.protect",
          "source": "TestResult.java:106"
        },
        {
          "method": "junit.framework.TestResult.runProtected",
          "source": "TestResult.java:124"
        },
        {
          "method": "junit.framework.TestResult.run",
          "source": "TestResult.java:109"
        },
        {
          "method": "junit.framework.TestCase.run",
          "source": "TestCase.java:118"
        },
        {
          "method": "org.eclipse.hyades.test.common.junit.HyadesTestCase.run",
          "source": "HyadesTestCase.java:173"
        },
        {
          "method": "junit.framework.TestSuite.runTest",
          "source": "TestSuite.java:208"
        },
        {
          "method": "org.eclipse.hyades.test.common.junit.HyadesTestSuite.runTest",
          "source": "HyadesTestSuite.java:431"
        },
        {
          "method": "junit.framework.TestSuite.run",
          "source": "TestSuite.java:203"
        },
        {
          "method": "org.eclipse.hyades.test.common.junit.HyadesTestSuite.doRun",
          "source": "HyadesTestSuite.java:399"
        },
        {
          "method": "org.eclipse.hyades.test.common.junit.HyadesTestSuite.run",
          "source": "HyadesTestSuite.java:312"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run",
          "source": "JUnit3TestReference.java:128"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.TestExecution.run",
          "source": "TestExecution.java:38"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests",
          "source": "RemoteTestRunner.java:460"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests",
          "source": "RemoteTestRunner.java:673"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run",
          "source": "RemoteTestRunner.java:386"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main",
          "source": "RemoteTestRunner.java:196"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "170369",
      "date": "2007-01-12T22:15:58+01:00",
      "product": "Cosmos",
      "component": "ResourceModeling",
      "severity": "critical"
    }
  ],
  "groupId": "170369",
  "bugId": "170369",
  "date": "2007-01-12T22:15:58+01:00",
  "product": "Cosmos",
  "component": "ResourceModeling",
  "severity": "critical"
}