{
  "comments": [
    "I create a sample plugin with \"Hello World\" template and add a shortcut key \"Ctrl+Break\" in the menu.\n\n         \u003caction\n               label\u003d\"Sample Action(\u0026amp;S)@Ctrl+Break\"\n               icon\u003d\"icons/sample.gif\"\n               class\u003d\"test_key.actions.SampleAction\"\n               tooltip\u003d\"Hello\u0026#65292;Eclipse world\"\n               menubarPath\u003d\"sampleMenu/sampleGroup\"\n               toolbarPath\u003d\"sampleGroup\"\n               id\u003d\"test_key.actions.SampleAction\"\u003e\n         \u003c/action\u003e\n\nThen PDE can not startup.",
    "Created an attachment (id\u003d57421)\nThe sample plugin project that can reproduce the bug.\n\n",
    "This is reproducible for me in latest 3.3 build.  Don\u0027t bother using the attached zip - just add @Ctrl+Break to any action label, and the workbench fails to start.\n\njava.lang.IllegalArgumentException: Cannot bind to an incomplete key sequence\n\tat org.eclipse.jface.bindings.keys.KeyBinding.\u003cinit\u003e(KeyBinding.java:76)\n\tat org.eclipse.ui.internal.menus.LegacyActionPersistence.convertActionToBinding(LegacyActionPersistence.java:336)\n\tat org.eclipse.ui.internal.menus.LegacyActionPersistence.readActions(LegacyActionPersistence.java:715)\n\tat org.eclipse.ui.internal.menus.LegacyActionPersistence.readActionsAndMenus(LegacyActionPersistence.java:754)\n\tat org.eclipse.ui.internal.menus.LegacyActionPersistence.readActionSets(LegacyActionPersistence.java:809)\n\tat org.eclipse.ui.internal.menus.LegacyActionPersistence.read(LegacyActionPersistence.java:647)\n\tat org.eclipse.ui.internal.WorkbenchWindow.initializeDefaultServices(WorkbenchWindow.java:3744)\n\tat org.eclipse.ui.internal.WorkbenchWindow.\u003cinit\u003e(WorkbenchWindow.java:332)\n\tat org.eclipse.ui.internal.Workbench.newWorkbenchWindow(Workbench.java:1622)\n\tat org.eclipse.ui.internal.Workbench.access$14(Workbench.java:1621)\n\tat org.eclipse.ui.internal.Workbench$53.runWithException(Workbench.java:3189)\n\tat org.eclipse.ui.internal.StartupThreading$StartupRunnable.run(StartupThreading.java:31)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3467)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3107)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2187)\n\tat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2103)\n\tat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:457)\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:452)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:101)\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:146)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:615)\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:476)\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:416)\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1124)\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1099)",
    "Released to HEAD \u003e20070315\nIt now catches and logs the error.\nPW\n",
    "in I20070320-1620\nPW\n",
    "Could this be backported to 3.2.x?",
    "A 3.3 patch would be also good to have attached to this bug (along with 3.2.2 backport risk assessment)",
    "Created an attachment (id\u003d61661)\nThe CTRL+BREAK fix\n\nThis is the patch as applied to 3.3.\n\nBackporting this fix should be low-risk.  It involves adding a logging try/catch block, and passing the warningsToLog List to the convertActionToBinding(*) method.\n\nPW\n",
    "Verified with 3.3 I20070424 build, thanks!"
  ],
  "commentCreationDates": [
    "2007-01-24T11:12:43+01:00",
    "2007-01-24T11:14:08+01:00",
    "2007-03-14T17:26:47+01:00",
    "2007-03-16T01:57:44+01:00",
    "2007-03-21T01:13:24+01:00",
    "2007-03-21T21:32:49+01:00",
    "2007-03-21T22:56:28+01:00",
    "2007-03-22T14:17:07+01:00",
    "2007-04-28T07:54:41+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Cannot bind to an incomplete key sequence",
      "elements": [
        {
          "method": "org.eclipse.jface.bindings.keys.KeyBinding.\u003cinit\u003e",
          "source": "KeyBinding.java:76"
        },
        {
          "method": "org.eclipse.ui.internal.menus.LegacyActionPersistence.convertActionToBinding",
          "source": "LegacyActionPersistence.java:336"
        },
        {
          "method": "org.eclipse.ui.internal.menus.LegacyActionPersistence.readActions",
          "source": "LegacyActionPersistence.java:715"
        },
        {
          "method": "org.eclipse.ui.internal.menus.LegacyActionPersistence.readActionsAndMenus",
          "source": "LegacyActionPersistence.java:754"
        },
        {
          "method": "org.eclipse.ui.internal.menus.LegacyActionPersistence.readActionSets",
          "source": "LegacyActionPersistence.java:809"
        },
        {
          "method": "org.eclipse.ui.internal.menus.LegacyActionPersistence.read",
          "source": "LegacyActionPersistence.java:647"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.initializeDefaultServices",
          "source": "WorkbenchWindow.java:3744"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.\u003cinit\u003e",
          "source": "WorkbenchWindow.java:332"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.newWorkbenchWindow",
          "source": "Workbench.java:1622"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$14",
          "source": "Workbench.java:1621"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$53.runWithException",
          "source": "Workbench.java:3189"
        },
        {
          "method": "org.eclipse.ui.internal.StartupThreading$StartupRunnable.run",
          "source": "StartupThreading.java:31"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:123"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3467"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3107"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2187"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2103"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:457"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:452"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:101"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:146"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:354"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:169"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:64"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:43"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:615"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:476"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:416"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1124"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1099"
        }
      ],
      "number": 0,
      "commentIndex": 2,
      "bugId": "171522",
      "date": "2007-03-14T17:26:47+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "critical"
    }
  ],
  "groupId": "171522",
  "bugId": "171522",
  "date": "2007-01-24T11:12:43+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "critical"
}