{
  "comments": [
    "Eclipse version: 3.0RC3\nJava version: 1.5.0-beta\n\nProblem:\n\nEclipse generates an error message the first time the custom editor is launched \nand it is logged as below. In several concecutive restarts of the IDE the error \ncompletely disappears. \n\nI see from the log that it\u0027s a cast exception in the plugin \"org.eclipse.core.\nruntime\" , but how come it solves itself after restarts of the IDE? Can this be \na thread synchronization issue? Because my editor creates a custom rule set for \nit from an HSQLDB (text file) database.\n\nThanking You,\n\nTyrell.\n\nlog:\n\n!SESSION Jul 23, 2004 11:57:49.593 ---------------------------------------------\neclipse.buildId\u003dunknown\njava.version\u003d1.5.0-beta\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_US\nCommand-line arguments: -application org.eclipse.ui.ide.workbench\n\n!ENTRY org.eclipse.core.runtime 4 2 Jul 23, 2004 11:57:49.593\n!MESSAGE Problems occurred when invoking code from plug-in: \"org.eclipse.core.\nruntime\".\n!STACK 0\njava.lang.ClassCastException: org.eclipse.ui.editors.text.TextEditor\n\tat org.eclipse.ui.internal.registry.EditorDescriptor.\ncreateActionBarContributor(EditorDescriptor.java:137)\n\tat org.eclipse.ui.internal.EditorManager.\ncreateEditorActionBars(EditorManager.java:372)\n\tat org.eclipse.ui.internal.EditorManager.createSite(EditorManager.java:\n714)\n\tat org.eclipse.ui.internal.EditorManager.openInternalEditor(EditorManager.\njava:780)\n\tat org.eclipse.ui.internal.EditorManager.access$12(EditorManager.java:766)\n\tat org.eclipse.ui.internal.EditorManager$9.run(EditorManager.java:951)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.\nrun(InternalPlatform.java:615)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:758)\n\tat org.eclipse.ui.internal.EditorManager.busyRestoreEditor(EditorManager.\njava:925)\n\tat org.eclipse.ui.internal.EditorManager$8.run(EditorManager.java:918)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n\tat org.eclipse.ui.internal.EditorManager.restoreEditor(EditorManager.java:\n914)\n\tat org.eclipse.ui.internal.EditorManager$Editor.getEditor(EditorManager.\njava:1364)\n\tat org.eclipse.ui.internal.EditorManager$Editor.getPart(EditorManager.\njava:1356)\n\tat org.eclipse.ui.internal.PartPane.setVisible(PartPane.java:319)\n\tat org.eclipse.ui.internal.presentations.PresentablePart.\nsetVisible(PresentablePart.java:122)\n\tat org.eclipse.ui.internal.presentations.DefaultPartPresentation.\nselectPart(DefaultPartPresentation.java:1111)\n\tat org.eclipse.ui.internal.PartStack.\nrefreshPresentationSelection(PartStack.java:946)\n\tat org.eclipse.ui.internal.PartStack.setSelection(PartStack.java:921)\n\tat org.eclipse.ui.internal.PartStack.showPart(PartStack.java:1020)\n\tat org.eclipse.ui.internal.PartStack.add(PartStack.java:290)\n\tat org.eclipse.ui.internal.EditorStack.add(EditorStack.java:110)\n\tat org.eclipse.ui.internal.EditorSashContainer.\naddEditor(EditorSashContainer.java:59)\n\tat org.eclipse.ui.internal.EditorAreaHelper.openEditor(EditorAreaHelper.\njava:266)\n\tat org.eclipse.ui.internal.EditorManager$4.run(EditorManager.java:697)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n\tat org.eclipse.ui.internal.EditorManager.createEditorTab(EditorManager.\njava:686)\n\tat org.eclipse.ui.internal.EditorManager.restoreEditorState(EditorManager.\njava:1591)\n\tat org.eclipse.ui.internal.EditorManager.restoreState(EditorManager.java:\n877)\n\tat org.eclipse.ui.internal.WorkbenchPage.restoreState(WorkbenchPage.java:\n2416)\n\tat org.eclipse.ui.internal.WorkbenchWindow.restoreState(WorkbenchWindow.\njava:1372)\n\tat org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1222)\n\tat org.eclipse.ui.internal.Workbench.access$10(Workbench.java:1183)\n\tat org.eclipse.ui.internal.Workbench$13.run(Workbench.java:1094)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.\nrun(InternalPlatform.java:615)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:758)\n\tat org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1027)\n\tat org.eclipse.ui.internal.WorkbenchConfigurer.\nrestoreState(WorkbenchConfigurer.java:167)\n\tat org.eclipse.ui.application.WorkbenchAdvisor.\nopenWindows(WorkbenchAdvisor.java:652)\n\tat org.eclipse.ui.internal.Workbench.init(Workbench.java:817)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1323)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:\n252)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.\nrun(PlatformActivator.java:335)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.\njava:272)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.\njava:128)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:186)\n\tat org.eclipse.core.launcher.Main.run(Main.java:647)\n\tat org.eclipse.core.launcher.Main.main(Main.java:631)",
    "NOTE: 1.5 is not a supported JRE to run Eclipse 3.0. Please use 1.4.x.\n\n\u003ethe custom editor is launched \nThere\u0027s no custom editor in Eclipse SDK.\n\nDid you install Cheetah (1.5 support) from the update site?\n\nPlease try using R3.0 or later with 1.4 level JRE and reopen if this bug reappears.",
    "sorry - \"Custom\" is your own editor. Anyway - try R3.0 or later with 1.4 and\nreopen if the problem does not go away.",
    "Changed Java to \"1.4.2_04\" and Eclipse version is the latest one, it\u0027s RC3 of 3.\n0.\n\nStill the same error.\n\nI saw this error mentioned in Bug 70004 as well. I think it\u0027s the same one.",
    "Well, 3.0 RC3 is a release candidate and not the latest one. There\u0027s R3.0.\nPlease download and install R3.0 into a fresh directory and try again.\n\nDid you install Cheetah (1.5 support) from the update site?\n",
    "\u003eI saw this error mentioned in Bug 70004\nThis bug has the CCE at a different place and they used R3.0 and update manager.",
    "- Installed 3.0, installed Cheetah the problem persists.\n- I was using 3.0M8 with Java 1.5 beta (build 1.5.0-beta-b32c) and there were no \nproblems whatsoever.\n- After Upgrading to 3.0RC3 and then to 3.0 as this problem appeared.\n- Always the same error when viewing the log;\n\"java.lang.ClassCastException: org.eclipse.ui.editors.text.TextEditor\"\n\nThe error is 100% re-producable;\n1. When an editor I created extending \"org.eclipse.ui.editors.text.TextEditor\" \nis first opened the error message appears. Then after closing that editor and \nreopening it solves the problem. (same error in the log)\n\n2. When the workspace launches if one of my editors is to be opened, the error \nmessage appears. closing the editor(s) and re-opening solves the problem.\n\n3. This is the part I really don\u0027t get. After carrying on like this for several \nrestarts of the workbench, the problem takes a new twist. Now the editor comes \nwith syntax highlighting and everything but an error message says \"Unable to \nrestore workbench\", while the workbench looks perfect (including my editor) in \ncontradiction to the previous two occasions described.\n\nNOTE: This DOES NOT happen in 3.0M8 running using Java 1.5 beta (build 1.5.\n0-beta-b32c). So my humble opinion is that it has nothing to do with the JRE and \nit not being a supported version.\n",
    "I uninstalled Java 1.5 beta (build 1.5.0-beta-b32c) and installed 1.4.2_04. The \nError remained the same as described earlier.",
    "\nSince 3.0M8, there were several API changes, I have already done the upgrade to \nthe code of my plugin to comply with these changes. \n\nTherefore I would really appreciate if you can figure out whether this is a bug \nand if it will be resolved or whether I should roll back to 3.0M8 and Java 1.5 \nbeta (build 1.5.0-beta-b32c) combination which worked perfectly.",
    "It looks like a problem how you upgraded. How did you install R3.0 and Cheetah?\nDo you need Cheetah for your editor at all? Please try installing fresh R3.0\ninto *empty* directory.\n\n\u003eAfter Upgrading to 3.0RC3 and then to 3.0 as this problem appeared.\nNOTE: if you copied over an existing drop or used update manager to update a\nmilestone build it is doomed to fail.\n\nWe can look at this if you provide exact steps starting from 0 i.e. install\nfresh R3.0 into clean directory. Best with your editor code as well.\n\nIt might also be a JIT bug: start using\n-vmargs -Xint\n",
    "By Upgrade I always meant deleting the existing directory and creating a new one \nand extracting the distribution to it. Only for Cheetah I used the Help -\u003e \nSoftware Updates ..... method.\n\nAs you mentioned I don\u0027t think that my editor requires Cheetah as it was working \nperfectly in 3.0M8 with Java 1.5.0 b32. This I verified my self a few minutes \nago by creating a seperate 3.0M8 installation and running my editor in it. Again \nit worked perfectly.\n\nI even downloaded and installed java build 1.5.0-beta2-b51 just to be sure.\n\nIn conclusion, \n3.0M8 with Java 1.5.0 --\u003e Works perfectly\n3.0RC3 with Java 1.5.0 --\u003e Error as mentioned\nR3.0 with Java 1.5.0 --\u003e Error as mentioned\n\nAll three are seperate installations in seperate directories, no overwriting \nwhatsoever.\n\n",
    "OK - clean install of R3.0 is a good start but again: 1.5 is *not* supported at\nall to launch Eclipse 3.0.\n\nSo, let\u0027s try again and install fresh R3.0 (don\u0027t install Cheetah) and then\nstart it using: eclipse.exe -vm \u003c1.4.x VM goes here\u003e\n\nIf this shows same error try: eclipse.exe -vm \u003c1.4.x VM goes here\u003e -vmargs -Xint\n",
    "Check the \"contributorClass\" argument of your \"org.eclipse.ui.editors\"\nextension. It looks as if you registered your editor as editor contribution\nclass instead of a class which implements IEditorActionBarContributor.\n\n\n",
    "The Contributor Class I have given is ;\n\norg.eclipse.ui.editors.text.TextEditor",
    "All this time that was the issue ...\n\nI replaced \"org.eclipse.ui.editors.text.TextEditor\" with\n\"org.eclipse.ui.texteditor.BasicTextEditorActionContributor\"\nand all is fine. \n\nNow the bottom line is;\n\nR3.0 with Java 1.5.0 b2 --\u003e Working Perfectly :-)\n\nThank you very much Daniel,\n\nBest Regards,\n\nTyrell.\n",
    "No problem - glad we found the cause for the problem.\n",
    "Get rid of deprecated state.",
    "."
  ],
  "commentCreationDates": [
    "2004-07-23T09:36:17+02:00",
    "2004-07-23T11:16:02+02:00",
    "2004-07-23T11:17:16+02:00",
    "2004-07-23T12:49:08+02:00",
    "2004-07-23T12:52:24+02:00",
    "2004-07-23T12:58:08+02:00",
    "2004-07-26T05:41:10+02:00",
    "2004-07-26T05:45:06+02:00",
    "2004-07-26T06:12:11+02:00",
    "2004-07-26T10:17:10+02:00",
    "2004-07-26T11:06:35+02:00",
    "2004-07-26T11:12:11+02:00",
    "2004-07-26T11:23:28+02:00",
    "2004-07-26T11:29:56+02:00",
    "2004-07-26T11:56:15+02:00",
    "2004-07-26T12:08:36+02:00",
    "2007-06-22T15:58:51+02:00",
    "2007-06-22T16:04:15+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.ui.editors.text.TextEditor",
      "elements": [
        {
          "method": "org.eclipse.ui.internal.registry.EditorDescriptor.createActionBarContributor",
          "source": "EditorDescriptor.java:137"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.createEditorActionBars",
          "source": "EditorManager.java:372"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.createSite",
          "source": "EditorManager.java: 714"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.openInternalEditor",
          "source": "EditorManager. java:780"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.access$12",
          "source": "EditorManager.java:766"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager$9.run",
          "source": "EditorManager.java:951"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:615"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:758"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.busyRestoreEditor",
          "source": "EditorManager. java:925"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager$8.run",
          "source": "EditorManager.java:918"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.restoreEditor",
          "source": "EditorManager.java: 914"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager$Editor.getEditor",
          "source": "EditorManager. java:1364"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager$Editor.getPart",
          "source": "EditorManager. java:1356"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.setVisible",
          "source": "PartPane.java:319"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.PresentablePart.setVisible",
          "source": "PresentablePart.java:122"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.DefaultPartPresentation.selectPart",
          "source": "DefaultPartPresentation.java:1111"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.refreshPresentationSelection",
          "source": "PartStack.java:946"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.setSelection",
          "source": "PartStack.java:921"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.showPart",
          "source": "PartStack.java:1020"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.add",
          "source": "PartStack.java:290"
        },
        {
          "method": "org.eclipse.ui.internal.EditorStack.add",
          "source": "EditorStack.java:110"
        },
        {
          "method": "org.eclipse.ui.internal.EditorSashContainer.addEditor",
          "source": "EditorSashContainer.java:59"
        },
        {
          "method": "org.eclipse.ui.internal.EditorAreaHelper.openEditor",
          "source": "EditorAreaHelper. java:266"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager$4.run",
          "source": "EditorManager.java:697"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.createEditorTab",
          "source": "EditorManager. java:686"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.restoreEditorState",
          "source": "EditorManager. java:1591"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.restoreState",
          "source": "EditorManager.java: 877"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.restoreState",
          "source": "WorkbenchPage.java: 2416"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.restoreState",
          "source": "WorkbenchWindow. java:1372"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.restoreState",
          "source": "Workbench.java:1222"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$10",
          "source": "Workbench.java:1183"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$13.run",
          "source": "Workbench.java:1094"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:615"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:758"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.restoreState",
          "source": "Workbench.java:1027"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchConfigurer.restoreState",
          "source": "WorkbenchConfigurer.java:167"
        },
        {
          "method": "org.eclipse.ui.application.WorkbenchAdvisor.openWindows",
          "source": "WorkbenchAdvisor.java:652"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.init",
          "source": "Workbench.java:817"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1323"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java: 252"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:141"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:96"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:335"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter. java:272"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter. java:128"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:186"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:647"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:631"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "70710",
      "date": "2004-07-23T09:36:17+02:00",
      "product": "Platform",
      "component": "Text",
      "severity": "blocker"
    }
  ],
  "groupId": "70710",
  "bugId": "70710",
  "date": "2004-07-23T09:36:17+02:00",
  "product": "Platform",
  "component": "Text",
  "severity": "blocker"
}