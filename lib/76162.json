{
  "comments": [
    "When I select Help-\u003eSoftware Updates-\u003eFind and Install, I get the following error:\n\nError retrieving \"feature.xml\". [error in opening zip file]\n\nAfter I close the error dialog, it opens the Install/Update wizard.  When using\nthe wizard, I get the error several more times.  When I get to the Search\nResults page, an error at the top says \"---- Current configuration problems\n----\".  When I click on the Error Details button, the message window has the\nfollowing:\n\n\"---- Current configuration problems ----\"\nError retrieving \"feature.xml\". [error in opening zip file]\n\nI have installed a number of 3rd party plug-ins.  I removed all plug-ins that\nhave entries in the features directory, but the error remains.  I installed a\nfresh copy of Eclipse in a separate directory, installed fresh copies of the 3rd\nparty plug-ins.  The workspace is in a directory separate from the Eclipse\ndirectory.  It worked for some period of time (weeks), but now the error has\nreappeared.\n\nThe sessiond data:\n\neclipse.buildId\u003dM200409161125\njava.version\u003d1.4.2_03\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_US\n\nThe trace:\n\njava.util.zip.ZipException: error in opening zip file\n\tat java.util.zip.ZipFile.open(Native Method)\n\tat java.util.zip.ZipFile.\u003cinit\u003e(ZipFile.java:112)\n\tat java.util.jar.JarFile.\u003cinit\u003e(JarFile.java:127)\n\tat java.util.jar.JarFile.\u003cinit\u003e(JarFile.java:92)\n\tat\norg.eclipse.update.core.JarContentReference.asJarFile(JarContentReference.java:142)\n\tat org.eclipse.update.core.JarContentReference.unpack(JarContentReference.java:166)\n\tat\norg.eclipse.update.internal.core.FeaturePackagedContentProvider.getFeatureManifestReference(FeaturePackagedContentProvider.java:76)\n\tat\norg.eclipse.update.internal.core.FeaturePackagedFactory.createFeature(FeaturePackagedFactory.java:38)\n\tat org.eclipse.update.core.Site.createFeature(Site.java:514)\n\tat\norg.eclipse.update.core.FeatureReference.createFeature(FeatureReference.java:116)\n\tat org.eclipse.update.core.FeatureReference.getFeature(FeatureReference.java:104)\n\tat org.eclipse.update.core.FeatureReference.getFeature(FeatureReference.java:91)\n\tat\norg.eclipse.update.internal.ui.model.DiscoveryFolder.initialize(DiscoveryFolder.java:34)\n\tat\norg.eclipse.update.internal.ui.model.DiscoveryFolder.getChildren(DiscoveryFolder.java:100)\n\tat\norg.eclipse.update.internal.ui.wizards.SitePage.getAllSiteBookmarks(SitePage.java:584)\n\tat org.eclipse.update.internal.ui.wizards.SitePage.access$0(SitePage.java:580)\n\tat\norg.eclipse.update.internal.ui.wizards.SitePage$TreeContentProvider.getElements(SitePage.java:43)\n\tat\norg.eclipse.jface.viewers.StructuredViewer.getRawChildren(StructuredViewer.java:532)\n\tat\norg.eclipse.jface.viewers.AbstractTreeViewer.getRawChildren(AbstractTreeViewer.java:704)\n\tat\norg.eclipse.jface.viewers.StructuredViewer.getFilteredChildren(StructuredViewer.java:477)\n\tat\norg.eclipse.jface.viewers.StructuredViewer.getSortedChildren(StructuredViewer.java:585)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer$1.run(AbstractTreeViewer.java:359)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n\tat\norg.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:342)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer$5.run(AbstractTreeViewer.java:787)\n\tat\norg.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:862)\n\tat\norg.eclipse.jface.viewers.CheckboxTreeViewer.preservingSelection(CheckboxTreeViewer.java:344)\n\tat\norg.eclipse.jface.viewers.AbstractTreeViewer.inputChanged(AbstractTreeViewer.java:777)\n\tat org.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:238)\n\tat org.eclipse.jface.viewers.StructuredViewer.setInput(StructuredViewer.java:1059)\n\tat\norg.eclipse.update.internal.ui.wizards.SitePage.createTreeViewer(SitePage.java:273)\n\tat\norg.eclipse.update.internal.ui.wizards.SitePage.createContents(SitePage.java:180)\n\tat\norg.eclipse.update.internal.ui.wizards.BannerPage.createControl(BannerPage.java:41)\n\tat org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:161)\n\tat org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:548)\n\tat org.eclipse.jface.wizard.WizardDialog.createContents(WizardDialog.java:451)\n\tat org.eclipse.jface.window.Window.create(Window.java:348)\n\tat org.eclipse.jface.dialogs.Dialog.create(Dialog.java:925)\n\tat\norg.eclipse.update.internal.ui.wizards.ResizableInstallWizardDialog.create(ResizableInstallWizardDialog.java:39)\n\tat org.eclipse.update.ui.UpdateManagerUI.openInstaller(UpdateManagerUI.java:46)\n\tat\norg.eclipse.ui.internal.ide.update.InstallWizardAction$1.run(InstallWizardAction.java:47)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n\tat\norg.eclipse.ui.internal.ide.update.InstallWizardAction.openInstaller(InstallWizardAction.java:45)\n\tat\norg.eclipse.ui.internal.ide.update.InstallWizardAction.run(InstallWizardAction.java:40)\n\tat org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:276)\n\tat org.eclipse.ui.internal.WWinPluginAction.runWithEvent(WWinPluginAction.java:206)\n\tat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:915)\n\tat\norg.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:866)\n\tat\norg.eclipse.jface.action.ActionContributionItem$7.handleEvent(ActionContributionItem.java:785)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2772)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2431)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1377)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1348)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:254)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:335)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\n\tat org.eclipse.core.launcher.Main.run(Main.java:704)\n\tat org.eclipse.core.launcher.Main.main(Main.java:688)",
    "How do you install the 3rd party features? Is it via the update manager or by \nmanually unzipping the features?\nIt looks like you may have just dropped at jar\u0027ed feature into the features \ndirectory of your local installation site, without unzipping it.",
    "Both.  Some are jar files that are simply placed in the features and plugins \ndirectories, and others are unzipped.  It works correctly for some period, and \nthe error message seems to indicate that it is trying to unzip the jar file.  \nAlso, the error persists even if I remove all 3rd party plug-ins, including \nthose that are not unzipped.\n\nI assumed there was a problem with one of the 3rd party plug-ins, but the error \nmessage doesn\u0027t say anything about which file it is attempting to unzip or \nwhich plug-in is involved.\n\nI noticed that there are files in the subdirectories of the configuration \ndirectory that are apparently generated from the plug-ins that Eclipse finds \nwhen it starts.  I did not attempt to remove these when I removed the plug-ins \nfrom the features and plugins directories. Is this part of the problem?",
    "Tim, while the files in the configuration directory may play a role, the real \nculprit here is the *.jar files in the eclipse/features directory.\n\nYes, a better error message should be written out when things fail, to be able \nto identify the file causing the problem.",
    "I unjarred all of the jar files in the features and plugins directories.  The \ndirectory names exactly matched the name of the jar file, without the .jar \nextension.  My thinking is that the jar file was corrupt or possibly \ncompressed.  I did not get any errors when unjarring.  Unfortunately, I get the \nsame error.\n\nThe structure of the jar file suggests that it is intended to be placed in the \nfeatures or plugins directory without unjarring.  Also, the installation \ninstructions for at least one of the 3rd party plug-ins also suggests that the \njar file should not be unjarred.",
    "The proper way to install a new feature or update an existing one is by using \nthe update manager (help \u003e software updates \u003e find and install).\nManual installation is tolerated and should work, but this is the first time I \nhear about features needing to be in a jar format after installation.\n\nNote that on an update site the features and plugins are in jars, and the \nupdate manager downloads them and unzipp them into the installation directory.\n\nSo, please start with a clean install and make sure all the features are \nvalid, unzipped and see if you get any errors. \n\nPlease provide a simple test case to reproduce the problem.\n(a zip of your features directory should be ok, and a zip of \neclipse/configuration/org.eclipse.update folder would also help)",
    "Created an attachment (id\u003d15184)\nZip of the features directory\n",
    "Created an attachment (id\u003d15185)\nZip file of configuration directory\n",
    "Most of the 3rd party plug-ins that we use are only available via download.  In \nfact, only 2 of the 10-12 plug-ins are available via an update site.  Are you \nsaying that the direct installation of plug-ins is not supported, or will not \nbe supported in a future release?  I hope not, since that we eliminate about \n75% of all plug-ins from consideration.\n\nIs the installation of plug-ins supported by simply dropping a JAR file?  If \nnot, those plug-ins are obviously invalid.\n\nTwo questions remain unanswered: 1) what is causing the error (why is the \nunzipping of the jar file failing); and 2) why does the error persist after \nremoving all 3rd party plug-ins?",
    "Created an attachment (id\u003d15186)\nZip file of screen shots of error messages\n",
    "Thanks for the attachments. The features directory zip contains features in \njar format, which is not supported (see my previous comments, such as comment \n#5).\nIn this particular case, \neclipse/features/com.bdaum.aoModeling_0.9.0.jar and \neclipse/features/com.simontuffs.eclipse.jarplug.feature_0.5.0.jar\nmust be removed or unzipped."
  ],
  "commentCreationDates": [
    "2004-10-13T16:00:42+02:00",
    "2004-10-13T17:09:44+02:00",
    "2004-10-14T14:27:02+02:00",
    "2004-10-14T15:47:29+02:00",
    "2004-10-14T18:39:26+02:00",
    "2004-10-14T23:21:42+02:00",
    "2004-10-15T15:53:53+02:00",
    "2004-10-15T16:06:11+02:00",
    "2004-10-15T16:16:35+02:00",
    "2004-10-15T16:17:15+02:00",
    "2004-10-16T00:26:04+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.util.zip.ZipException",
      "message": "error in opening zip file",
      "elements": [
        {
          "method": "java.util.zip.ZipFile.open",
          "source": "Native Method"
        },
        {
          "method": "java.util.zip.ZipFile.\u003cinit\u003e",
          "source": "ZipFile.java:112"
        },
        {
          "method": "java.util.jar.JarFile.\u003cinit\u003e",
          "source": "JarFile.java:127"
        },
        {
          "method": "java.util.jar.JarFile.\u003cinit\u003e",
          "source": "JarFile.java:92"
        },
        {
          "method": "org.eclipse.update.core.JarContentReference.asJarFile",
          "source": "JarContentReference.java:142"
        },
        {
          "method": "org.eclipse.update.core.JarContentReference.unpack",
          "source": "JarContentReference.java:166"
        },
        {
          "method": "org.eclipse.update.internal.core.FeaturePackagedContentProvider.getFeatureManifestReference",
          "source": "FeaturePackagedContentProvider.java:76"
        },
        {
          "method": "org.eclipse.update.internal.core.FeaturePackagedFactory.createFeature",
          "source": "FeaturePackagedFactory.java:38"
        },
        {
          "method": "org.eclipse.update.core.Site.createFeature",
          "source": "Site.java:514"
        },
        {
          "method": "org.eclipse.update.core.FeatureReference.createFeature",
          "source": "FeatureReference.java:116"
        },
        {
          "method": "org.eclipse.update.core.FeatureReference.getFeature",
          "source": "FeatureReference.java:104"
        },
        {
          "method": "org.eclipse.update.core.FeatureReference.getFeature",
          "source": "FeatureReference.java:91"
        },
        {
          "method": "org.eclipse.update.internal.ui.model.DiscoveryFolder.initialize",
          "source": "DiscoveryFolder.java:34"
        },
        {
          "method": "org.eclipse.update.internal.ui.model.DiscoveryFolder.getChildren",
          "source": "DiscoveryFolder.java:100"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.SitePage.getAllSiteBookmarks",
          "source": "SitePage.java:584"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.SitePage.access$0",
          "source": "SitePage.java:580"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.SitePage$TreeContentProvider.getElements",
          "source": "SitePage.java:43"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.getRawChildren",
          "source": "StructuredViewer.java:532"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.getRawChildren",
          "source": "AbstractTreeViewer.java:704"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.getFilteredChildren",
          "source": "StructuredViewer.java:477"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.getSortedChildren",
          "source": "StructuredViewer.java:585"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$1.run",
          "source": "AbstractTreeViewer.java:359"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.createChildren",
          "source": "AbstractTreeViewer.java:342"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$5.run",
          "source": "AbstractTreeViewer.java:787"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.preservingSelection",
          "source": "StructuredViewer.java:862"
        },
        {
          "method": "org.eclipse.jface.viewers.CheckboxTreeViewer.preservingSelection",
          "source": "CheckboxTreeViewer.java:344"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.inputChanged",
          "source": "AbstractTreeViewer.java:777"
        },
        {
          "method": "org.eclipse.jface.viewers.ContentViewer.setInput",
          "source": "ContentViewer.java:238"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.setInput",
          "source": "StructuredViewer.java:1059"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.SitePage.createTreeViewer",
          "source": "SitePage.java:273"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.SitePage.createContents",
          "source": "SitePage.java:180"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.BannerPage.createControl",
          "source": "BannerPage.java:41"
        },
        {
          "method": "org.eclipse.jface.wizard.Wizard.createPageControls",
          "source": "Wizard.java:161"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.createPageControls",
          "source": "WizardDialog.java:548"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.createContents",
          "source": "WizardDialog.java:451"
        },
        {
          "method": "org.eclipse.jface.window.Window.create",
          "source": "Window.java:348"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog.create",
          "source": "Dialog.java:925"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.ResizableInstallWizardDialog.create",
          "source": "ResizableInstallWizardDialog.java:39"
        },
        {
          "method": "org.eclipse.update.ui.UpdateManagerUI.openInstaller",
          "source": "UpdateManagerUI.java:46"
        },
        {
          "method": "org.eclipse.ui.internal.ide.update.InstallWizardAction$1.run",
          "source": "InstallWizardAction.java:47"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.ui.internal.ide.update.InstallWizardAction.openInstaller",
          "source": "InstallWizardAction.java:45"
        },
        {
          "method": "org.eclipse.ui.internal.ide.update.InstallWizardAction.run",
          "source": "InstallWizardAction.java:40"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:276"
        },
        {
          "method": "org.eclipse.ui.internal.WWinPluginAction.runWithEvent",
          "source": "WWinPluginAction.java:206"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:915"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:866"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$7.handleEvent",
          "source": "ActionContributionItem.java:785"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:796"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2772"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2431"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1377"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1348"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:254"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:141"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:96"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:335"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:273"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:704"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:688"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "76162",
      "date": "2004-10-13T16:00:42+02:00",
      "product": "Platform",
      "component": "Update",
      "severity": "normal"
    }
  ],
  "groupId": "76162",
  "bugId": "76162",
  "date": "2004-10-13T16:00:42+02:00",
  "product": "Platform",
  "component": "Update",
  "severity": "normal"
}