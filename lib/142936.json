{
  "comments": [
    "Build id: I20060519-1206 (3.2 RC5)\nI have found one place in JavaEditor, which could cause NPE\u0027s if the source range for ISourceReference object is null:\n\nJavaEditor, line 2248-2249:\n\nISourceRange range\u003d ((ISourceReference) element).getSourceRange();\nif (offset \u003c range.getOffset() + range.getLength() \u0026\u0026 range.getOffset() \u003c offset + length) {\n\nIn all other cases in JavaEditor the result of ISourceReference.getSourceRange() is checked for null, because it is not garanteed to be not null. \n\nIn my special case I show class files without source and all works fine until I try to select any line. Then I get NPE\u0027s in the code above.\n\nI think it would be right if the code will be changed to:\nISourceRange range\u003d ((ISourceReference) element).getSourceRange();\nif (range !\u003d null \u0026\u0026 (offset \u003c range.getOffset() + range.getLength() \u0026\u0026 range.getOffset() \u003c offset + length)) {\n\nThis should not affect or break any existing test case.\n\nP.S.\nmy stack trace:\n\njava.lang.NullPointerException\n\tat org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.adjustHighlightRange(JavaEditor.java:2249)\n\tat org.eclipse.ui.texteditor.AbstractTextEditor.selectAndReveal(AbstractTextEditor.java:4950)\n\tat de.loskutov.bco.editors.BytecodeClassFileEditor.selectAndReveal(BytecodeClassFileEditor.java:592)\n\tat org.eclipse.ui.texteditor.AbstractTextEditor.selectAndReveal(AbstractTextEditor.java:4924)\n\tat de.loskutov.bco.editors.BytecodeClassFileEditor.selectAndReveal(BytecodeClassFileEditor.java:603)\n\tat org.eclipse.ui.texteditor.AbstractTextEditor.doSetSelection(AbstractTextEditor.java:2214)\n\tat org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.doSetSelection(JavaEditor.java:2794)\n\tat de.loskutov.bco.editors.BytecodeClassFileEditor.doSetSelection(BytecodeClassFileEditor.java:528)\n\tat org.eclipse.ui.texteditor.AbstractTextEditor$SelectionProvider.setSelection(AbstractTextEditor.java:1318)\n\nThanks!",
    "Fixed in pre_3_3_work branch",
    "Merged back to HEAD.",
    "Starting verification...",
    "Verified in code of I20060807-2000."
  ],
  "commentCreationDates": [
    "2006-05-22T09:31:25+02:00",
    "2006-05-26T14:44:32+02:00",
    "2006-06-08T17:47:22+02:00",
    "2006-08-08T10:13:15+02:00",
    "2006-08-08T10:20:35+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.adjustHighlightRange",
          "source": "JavaEditor.java:2249"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor.selectAndReveal",
          "source": "AbstractTextEditor.java:4950"
        },
        {
          "method": "de.loskutov.bco.editors.BytecodeClassFileEditor.selectAndReveal",
          "source": "BytecodeClassFileEditor.java:592"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor.selectAndReveal",
          "source": "AbstractTextEditor.java:4924"
        },
        {
          "method": "de.loskutov.bco.editors.BytecodeClassFileEditor.selectAndReveal",
          "source": "BytecodeClassFileEditor.java:603"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor.doSetSelection",
          "source": "AbstractTextEditor.java:2214"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.doSetSelection",
          "source": "JavaEditor.java:2794"
        },
        {
          "method": "de.loskutov.bco.editors.BytecodeClassFileEditor.doSetSelection",
          "source": "BytecodeClassFileEditor.java:528"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor$SelectionProvider.setSelection",
          "source": "AbstractTextEditor.java:1318"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "142936",
      "date": "2006-05-22T09:31:25+02:00",
      "product": "JDT",
      "component": "Text",
      "severity": "normal"
    }
  ],
  "groupId": "142936",
  "bugId": "142936",
  "date": "2006-05-22T09:31:25+02:00",
  "product": "JDT",
  "component": "Text",
  "severity": "normal"
}