{
  "comments": [
    "Recent tests were failing because some of the XHTML documents in org.eclipse.platform.doc.user were not valid XML, which was causing exceptions to be thrown and the indexing to halt. As a result, all search tests failed.\n\nThe indexing should tolerate such failures and index what it can or ignore the offending document, and continue on to the next one.",
    "*** Bug 136677 has been marked as a duplicate of this bug. ***",
    "From bug 136677:\n\nI20060412-20xx\n\n- open the \"New Class\" wizard\n- press the help icon in the lower left\n\n\u003e help opens as expected, docked at the right of the wizard\n\n\u003e after a while, a dialog box pops up telling me about failed jobs due to SAXParseExceptions (see below)\n\n-\u003e I as a help-seeking user am not really interested in the exception. Since a\nproblem with the indexed content is something that will occasionally happen and\nis not under the control of user assistance, this should be expected. Not even\nsure whether we have to tell the user (writing to the log seems enough).\n\n-\u003e along the lines of bug 131473, the message could be made more user friendly\n\n-\u003e the error dialog pops up on top, but is non-clickable as the wizard already\nis a modal dialog.\n\n-\u003e besides the SaxParseException, there is also an NPE.\n\n-- Exceptions --\n\n[Fatal Error] :21:55: The element type \"img\" must be terminated by the matching\nend-tag \"\u003c/img\u003e\".\n\n!ENTRY org.eclipse.help 4 0 2006-04-13 18:11:48.623\n!MESSAGE Parser error in line 21, uri null\nThe element type \"img\" must be terminated by the matching end-tag \"\u003c/img\u003e\".\n!STACK 0\norg.xml.sax.SAXParseException: The element type \"img\" must be terminated by the\nmatching end-tag \"\u003c/img\u003e\".\n        at\ncom.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:264)\n        at\ncom.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:292)\n        at javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:98)\n        at\norg.eclipse.help.internal.xhtml.UAContentParser.doParse(UAContentParser.java:133)\n        at\norg.eclipse.help.internal.xhtml.UAContentParser.parseDocument(UAContentParser.java:78)\n        at\norg.eclipse.help.internal.xhtml.UAContentParser.\u003cinit\u003e(UAContentParser.java:69)\n        at\norg.eclipse.help.internal.DynamicContentProducer.openXHTMLFromPlugin(DynamicContentProducer.java:121)\n        at\norg.eclipse.help.internal.DynamicContentProducer.getInputStream(DynamicContentProducer.java:49)\n        at\norg.eclipse.help.internal.util.ResourceLocator.openFromProducer(ResourceLocator.java:225)\n        at\norg.eclipse.help.internal.protocols.HelpURLConnection.getInputStream(HelpURLConnection.java:111)\n        at java.net.URL.openStream(URL.java:1007)\n        at\norg.eclipse.help.internal.search.SearchManager$ParticipantDescriptor.matchesContentType(SearchManager.java:100)\n        at\norg.eclipse.help.internal.search.SearchManager.getParticipant(SearchManager.java:406)\n        at\norg.eclipse.help.internal.search.SearchIndex.addDocument(SearchIndex.java:200)\n        at\norg.eclipse.help.internal.search.IndexingOperation.addDocuments(IndexingOperation.java:279)\n        at\norg.eclipse.help.internal.search.IndexingOperation.addNewDocuments(IndexingOperation.java:175)\n        at\norg.eclipse.help.internal.search.IndexingOperation.execute(IndexingOperation.java:105)\n        at\norg.eclipse.help.internal.search.SearchManager.updateIndex(SearchManager.java:904)\n        at\norg.eclipse.help.internal.search.SearchManager.ensureIndexUpdated(SearchManager.java:868)\n        at\norg.eclipse.help.internal.search.federated.IndexerJob.run(IndexerJob.java:27)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\n\n!ENTRY org.eclipse.help.base 4 0 2006-04-13 18:11:48.897\n!MESSAGE Errors while indexing\n!STACK 0\njava.lang.NullPointerException\n        at\norg.eclipse.help.internal.xhtml.UAContentMergeProcessor.resolveIncludes(UAContentMergeProcessor.java:67)\n        at\norg.eclipse.help.internal.xhtml.XHTMLSupport.processDOM(XHTMLSupport.java:63)\n        at\norg.eclipse.help.internal.DynamicContentProducer.openXHTMLFromPlugin(DynamicContentProducer.java:124)\n        at\norg.eclipse.help.internal.DynamicContentProducer.getInputStream(DynamicContentProducer.java:49)\n        at\norg.eclipse.help.internal.util.ResourceLocator.openFromProducer(ResourceLocator.java:225)\n        at\norg.eclipse.help.internal.protocols.HelpURLConnection.getInputStream(HelpURLConnection.java:111)\n        at java.net.URL.openStream(URL.java:1007)\n        at\norg.eclipse.help.internal.search.SearchManager$ParticipantDescriptor.matchesContentType(SearchManager.java:100)\n        at\norg.eclipse.help.internal.search.SearchManager.getParticipant(SearchManager.java:406)\n        at\norg.eclipse.help.internal.search.SearchIndex.addDocument(SearchIndex.java:200)\n        at\norg.eclipse.help.internal.search.IndexingOperation.addDocuments(IndexingOperation.java:279)\n        at\norg.eclipse.help.internal.search.IndexingOperation.addNewDocuments(IndexingOperation.java:175)\n        at\norg.eclipse.help.internal.search.IndexingOperation.execute(IndexingOperation.java:105)\n        at\norg.eclipse.help.internal.search.SearchManager.updateIndex(SearchManager.java:904)\n        at\norg.eclipse.help.internal.search.SearchManager.ensureIndexUpdated(SearchManager.java:868)\n        at\norg.eclipse.help.internal.search.federated.IndexerJob.run(IndexerJob.java:27)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\n",
    "More generally, this is to tolerate any kind of exception thrown during the indexing, by any search participant, not just XHTML. There was a change in intro that was causing the intro participant to throw an exception, having the same effect. It should just log an error and move on to the next doc, not abandon the whole indexing.",
    "Fixed."
  ],
  "commentCreationDates": [
    "2006-04-13T18:32:20+02:00",
    "2006-04-13T19:52:18+02:00",
    "2006-04-13T19:52:55+02:00",
    "2006-04-24T21:14:19+02:00",
    "2006-04-25T00:25:20+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.xml.sax.SAXParseException",
      "message": "The element type \"img\" must be terminated by the matching end-tag \"\u003c/img\u003e\".",
      "elements": [
        {
          "method": "com.sun.org.apache.xerces.internal.parsers.DOMParser.parse",
          "source": "DOMParser.java:264"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse",
          "source": "DocumentBuilderImpl.java:292"
        },
        {
          "method": "javax.xml.parsers.DocumentBuilder.parse",
          "source": "DocumentBuilder.java:98"
        },
        {
          "method": "org.eclipse.help.internal.xhtml.UAContentParser.doParse",
          "source": "UAContentParser.java:133"
        },
        {
          "method": "org.eclipse.help.internal.xhtml.UAContentParser.parseDocument",
          "source": "UAContentParser.java:78"
        },
        {
          "method": "org.eclipse.help.internal.xhtml.UAContentParser.\u003cinit\u003e",
          "source": "UAContentParser.java:69"
        },
        {
          "method": "org.eclipse.help.internal.DynamicContentProducer.openXHTMLFromPlugin",
          "source": "DynamicContentProducer.java:121"
        },
        {
          "method": "org.eclipse.help.internal.DynamicContentProducer.getInputStream",
          "source": "DynamicContentProducer.java:49"
        },
        {
          "method": "org.eclipse.help.internal.util.ResourceLocator.openFromProducer",
          "source": "ResourceLocator.java:225"
        },
        {
          "method": "org.eclipse.help.internal.protocols.HelpURLConnection.getInputStream",
          "source": "HelpURLConnection.java:111"
        },
        {
          "method": "java.net.URL.openStream",
          "source": "URL.java:1007"
        },
        {
          "method": "org.eclipse.help.internal.search.SearchManager$ParticipantDescriptor.matchesContentType",
          "source": "SearchManager.java:100"
        },
        {
          "method": "org.eclipse.help.internal.search.SearchManager.getParticipant",
          "source": "SearchManager.java:406"
        },
        {
          "method": "org.eclipse.help.internal.search.SearchIndex.addDocument",
          "source": "SearchIndex.java:200"
        },
        {
          "method": "org.eclipse.help.internal.search.IndexingOperation.addDocuments",
          "source": "IndexingOperation.java:279"
        },
        {
          "method": "org.eclipse.help.internal.search.IndexingOperation.addNewDocuments",
          "source": "IndexingOperation.java:175"
        },
        {
          "method": "org.eclipse.help.internal.search.IndexingOperation.execute",
          "source": "IndexingOperation.java:105"
        },
        {
          "method": "org.eclipse.help.internal.search.SearchManager.updateIndex",
          "source": "SearchManager.java:904"
        },
        {
          "method": "org.eclipse.help.internal.search.SearchManager.ensureIndexUpdated",
          "source": "SearchManager.java:868"
        },
        {
          "method": "org.eclipse.help.internal.search.federated.IndexerJob.run",
          "source": "IndexerJob.java:27"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 2,
      "bugId": "136679",
      "date": "2006-04-13T19:52:55+02:00",
      "product": "Platform",
      "component": "User Assistance",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.help.internal.xhtml.UAContentMergeProcessor.resolveIncludes",
          "source": "UAContentMergeProcessor.java:67"
        },
        {
          "method": "org.eclipse.help.internal.xhtml.XHTMLSupport.processDOM",
          "source": "XHTMLSupport.java:63"
        },
        {
          "method": "org.eclipse.help.internal.DynamicContentProducer.openXHTMLFromPlugin",
          "source": "DynamicContentProducer.java:124"
        },
        {
          "method": "org.eclipse.help.internal.DynamicContentProducer.getInputStream",
          "source": "DynamicContentProducer.java:49"
        },
        {
          "method": "org.eclipse.help.internal.util.ResourceLocator.openFromProducer",
          "source": "ResourceLocator.java:225"
        },
        {
          "method": "org.eclipse.help.internal.protocols.HelpURLConnection.getInputStream",
          "source": "HelpURLConnection.java:111"
        },
        {
          "method": "java.net.URL.openStream",
          "source": "URL.java:1007"
        },
        {
          "method": "org.eclipse.help.internal.search.SearchManager$ParticipantDescriptor.matchesContentType",
          "source": "SearchManager.java:100"
        },
        {
          "method": "org.eclipse.help.internal.search.SearchManager.getParticipant",
          "source": "SearchManager.java:406"
        },
        {
          "method": "org.eclipse.help.internal.search.SearchIndex.addDocument",
          "source": "SearchIndex.java:200"
        },
        {
          "method": "org.eclipse.help.internal.search.IndexingOperation.addDocuments",
          "source": "IndexingOperation.java:279"
        },
        {
          "method": "org.eclipse.help.internal.search.IndexingOperation.addNewDocuments",
          "source": "IndexingOperation.java:175"
        },
        {
          "method": "org.eclipse.help.internal.search.IndexingOperation.execute",
          "source": "IndexingOperation.java:105"
        },
        {
          "method": "org.eclipse.help.internal.search.SearchManager.updateIndex",
          "source": "SearchManager.java:904"
        },
        {
          "method": "org.eclipse.help.internal.search.SearchManager.ensureIndexUpdated",
          "source": "SearchManager.java:868"
        },
        {
          "method": "org.eclipse.help.internal.search.federated.IndexerJob.run",
          "source": "IndexerJob.java:27"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 1,
      "commentIndex": 2,
      "bugId": "136679",
      "date": "2006-04-13T19:52:55+02:00",
      "product": "Platform",
      "component": "User Assistance",
      "severity": "normal"
    }
  ],
  "groupId": "136679",
  "bugId": "136679",
  "date": "2006-04-13T18:32:20+02:00",
  "product": "Platform",
  "component": "User Assistance",
  "severity": "normal"
}