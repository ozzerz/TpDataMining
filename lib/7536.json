{
  "comments": [
    "Build:  20020109\n\nDescription:\n  A widget is disposed error occurs when closing the properties view when it is \na fast view.  Could not replicate this consistently, but here are the steps I \nused:\n\nSteps:\n1.  open properties view in team perspective\n2.  drag into the fast-view bar\n3.  expand out of fast-view\n4.  close it by clicking on the \u0027x\u0027\n5.  widget disposed error will occur\n\n\nLog: Mon Jan 14 10:42:46 EST 2002\n1 org.eclipse.core.resources 4 Unhandled exception caught in event loop.\nLog: Mon Jan 14 10:42:46 EST 2002\n4 org.eclipse.ui 0 Widget is disposed\norg.eclipse.swt.SWTException: Widget is disposed\n\tat org.eclipse.swt.SWT.error(SWT.java:1887)\n\tat org.eclipse.swt.SWT.error(SWT.java:1819)\n\tat org.eclipse.swt.widgets.Widget.error(Widget.java:368)\n\tat org.eclipse.swt.widgets.Control.getDisplay(Control.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Widget.isValidThread(Widget.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Widget.checkWidget(Widget.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.ToolBar.getItemCount(ToolBar.java:447)\n\tat org.eclipse.jface.action.ToolBarManager.update\n(ToolBarManager.java:128)\n\tat org.eclipse.ui.internal.ViewPane$PaneToolBarManager.update\n(ViewPane.java:72)\n\tat org.eclipse.ui.internal.ViewPane.updateActionBars(ViewPane.java:527)\n\tat org.eclipse.ui.internal.ViewActionBars.updateActionBars\n(ViewActionBars.java:48)\n\tat org.eclipse.ui.internal.SubActionBars.updateActionBars\n(SubActionBars.java:250)\n\tat \norg.eclipse.pde.internal.editor.PDEMultiPagePropertySheet.updateActionBars\n(PDEMultiPagePropertySheet.java:137)\n\tat org.eclipse.pde.internal.editor.PDEMultiPagePropertySheet.dispose\n(PDEMultiPagePropertySheet.java:63)\n\tat org.eclipse.ui.views.properties.PropertySheet.doDestroyPage\n(PropertySheet.java:124)\n\tat org.eclipse.ui.part.PageBookView.removePage(PageBookView.java:593)\n\tat org.eclipse.ui.part.PageBookView.dispose(PageBookView.java:362)\n\tat org.eclipse.ui.views.properties.PropertySheet.dispose\n(PropertySheet.java:98)\n\tat org.eclipse.ui.internal.WorkbenchPage.hideView\n(WorkbenchPage.java:863)\n\tat org.eclipse.ui.internal.ViewPane.doHide(ViewPane.java:278)\n\tat org.eclipse.ui.internal.ViewPane$4.widgetSelected(ViewPane.java:147)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent\n(TypedListener.java:85)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:637)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1408)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1200)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:815)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:798)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:821)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:285)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:151)\n\tat org.eclipse.core.launcher.Main.run(Main.java:502)\n\tat org.eclipse.core.launcher.Main.main(Main.java:362)",
    "Can you provide more details on how to reproduce this problem. I can\u0027t seem to \nget it to happen at all. The error seems to come from the PDE updating its \naction bars when the property page is being disposed \n(org.eclipse.pde.internal.editor.PDEMultiPagePropertySheet.dispose), so my \nguess is the dispose may be getting called twiced, the second time causing it \nto fail.\n\nWhat were you doing with the PDE before this error occured? Where you looking \nat any particular properties thru the PDE editor?",
    "I\u0027ve been able to reproduce the bug consistently using the following steps:\n\n1.  Add org.eclipse.swt.examples.launcher project to your workspace.\n2.  *Ensure that an editor is not already open on the plugin.xml.\n3.  Double click on the plugin.xml in the navigator view to open the PDE editor.\n4.  Verify that the selection is grey in the navigator. (i.e. not fully\nselected) \n**this is the default behavior, but is required for the problem to occur.\n5.  Open \"properties\" from the \"show view\" menu.\n6.  Close the properties view by clicking on the \u0027x\u0027.\n7.  \"Widget is disposed\" error will occur.\n8.  If you attempt to open another properties view, an error will be displayed  \nwithin the view saying \"An error has occured when creating this view\"\n\nThe error occurs in all perspectives.  The properties view maybe in any \nlocation.",
    "Still can\u0027t reproduce the problem with the new steps. Someone else if having \nthese widget disposed error too, so I\u0027m going to look at it. The best thing for \nyou to do is zip up the Eclipse installation (including the workspace) and send \nit to me.",
    "See also bug 7557",
    "The PDE supplies a property page which manages its own internal page book view \nwith a couple of pages. I suspect that these pages within pages are where the \npropblem lies. However it would be good to see if there is any test we can do \nin our code to prevent it.",
    "Fix will be in build \u003e 2002-01-15",
    "Problem details: In the stack, there is a call to hideView. This method will \ndispose of the view\u0027s control. This causes the toolbar control to be disposed \nalso (its a child of the view\u0027s control). There was no check in the toolbar \nmanager for a disposed toolbar control (as there was in the menu manager). All \nthese managers have been updated to handle this case."
  ],
  "commentCreationDates": [
    "2002-01-14T16:19:59+01:00",
    "2002-01-14T22:18:06+01:00",
    "2002-01-15T15:52:16+01:00",
    "2002-01-15T19:08:16+01:00",
    "2002-01-15T20:08:26+01:00",
    "2002-01-15T21:04:03+01:00",
    "2002-01-16T15:49:41+01:00",
    "2002-01-24T16:54:50+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Widget is disposed",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:1887"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:1819"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:368"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.getDisplay",
          "source": "Control.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.isValidThread",
          "source": "Widget.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.checkWidget",
          "source": "Widget.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.ToolBar.getItemCount",
          "source": "ToolBar.java:447"
        },
        {
          "method": "org.eclipse.jface.action.ToolBarManager.update",
          "source": "ToolBarManager.java:128"
        },
        {
          "method": "org.eclipse.ui.internal.ViewPane$PaneToolBarManager.update",
          "source": "ViewPane.java:72"
        },
        {
          "method": "org.eclipse.ui.internal.ViewPane.updateActionBars",
          "source": "ViewPane.java:527"
        },
        {
          "method": "org.eclipse.ui.internal.ViewActionBars.updateActionBars",
          "source": "ViewActionBars.java:48"
        },
        {
          "method": "org.eclipse.ui.internal.SubActionBars.updateActionBars",
          "source": "SubActionBars.java:250"
        },
        {
          "method": "org.eclipse.pde.internal.editor.PDEMultiPagePropertySheet.updateActionBars",
          "source": "PDEMultiPagePropertySheet.java:137"
        },
        {
          "method": "org.eclipse.pde.internal.editor.PDEMultiPagePropertySheet.dispose",
          "source": "PDEMultiPagePropertySheet.java:63"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheet.doDestroyPage",
          "source": "PropertySheet.java:124"
        },
        {
          "method": "org.eclipse.ui.part.PageBookView.removePage",
          "source": "PageBookView.java:593"
        },
        {
          "method": "org.eclipse.ui.part.PageBookView.dispose",
          "source": "PageBookView.java:362"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheet.dispose",
          "source": "PropertySheet.java:98"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.hideView",
          "source": "WorkbenchPage.java:863"
        },
        {
          "method": "org.eclipse.ui.internal.ViewPane.doHide",
          "source": "ViewPane.java:278"
        },
        {
          "method": "org.eclipse.ui.internal.ViewPane$4.widgetSelected",
          "source": "ViewPane.java:147"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:85"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:637"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1408"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1200"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:815"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:798"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:821"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:285"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:151"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:502"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:362"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "7536",
      "date": "2002-01-14T16:19:59+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "7536",
  "bugId": "7536",
  "date": "2002-01-14T16:19:59+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}