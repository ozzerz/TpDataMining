{
  "comments": [
    "When (not systematic) I edit a large (or complicated, not so well written) JSP\nfile I get the following error :\n\n1) Unhandled event loop exception\n2)\njava.lang.RuntimeException: java.lang.NullPointerException\n\tat\norg.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.replaceText(JobSafeStructuredDocument.java:118)\n\tat\norg.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText(BasicStructuredDocument.java:2268)\n\tat\norg.eclipse.wst.sse.ui.StructuredDocumentToTextAdapter.replaceTextRange(StructuredDocumentToTextAdapter.java:1118)\n\tat org.eclipse.swt.custom.StyledText.modifyContent(StyledText.java:5626)\n\tat org.eclipse.swt.custom.StyledText.sendKeyEvent(StyledText.java:6465)\n\tat org.eclipse.swt.custom.StyledText.doContent(StyledText.java:2536)\n\tat org.eclipse.swt.custom.StyledText.handleKey(StyledText.java:4983)\n\tat org.eclipse.swt.custom.StyledText.handleKeyDown(StyledText.java:5006)\n\tat org.eclipse.swt.custom.StyledText$7.handleEvent(StyledText.java:4751)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:833)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:857)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)\n\tat org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:870)\n\tat org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:866)\n\tat org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1171)\n\tat org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3109)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:3012)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:3370)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1570)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2446)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1569)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1540)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:285)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:220)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\n\tat org.eclipse.core.launcher.Main.run(Main.java:710)\n\tat org.eclipse.core.launcher.Main.main(Main.java:694)\nCaused by: java.lang.NullPointerException\n\tat\norg.eclipse.jface.text.DefaultPositionUpdater.update(DefaultPositionUpdater.java:227)\n\tat\norg.eclipse.wst.sse.core.internal.text.GenericPositionManager.updatePositions(GenericPositionManager.java:395)\n\tat\norg.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.updateDocumentData(BasicStructuredDocument.java:2582)\n\tat\norg.eclipse.jst.jsp.core.internal.parser.JSPReParser.reparse(JSPReParser.java:142)\n\tat\norg.eclipse.wst.sse.core.internal.text.StructuredDocumentReParser.reparse(StructuredDocumentReParser.java:1289)\n\tat\norg.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.updateModel(BasicStructuredDocument.java:2594)\n\tat\norg.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.internalReplaceText(BasicStructuredDocument.java:1812)\n\tat\norg.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText(BasicStructuredDocument.java:2272)\n\tat\norg.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.access$0(JobSafeStructuredDocument.java:1)\n\tat\norg.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument$1.run(JobSafeStructuredDocument.java:100)\n\tat\norg.eclipse.wst.sse.ui.internal.editor.EditorExecutionContext.execute(EditorExecutionContext.java:43)\n\tat\norg.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.replaceText(JobSafeStructuredDocument.java:110)\n\t... 36 more\n\n3) Program Error: invalid structured document event\n\nAnd then pressing the \"suppr\" key raise a :\n\"The command for the key you pressed failed\" Cause: NullPointerException.\n\nWhen the bug occurs the editor have strange behaviour:\nediting do not place the cursor at the right of the letter inserted (in fact the\ncursor stay on the same position), so it\u0027s like writing from right to left\n(Arabic/Hebrew style).\nIf write \"Hello\" I get \"olleH\".\n\nIt is difficult to say how to reproduce because it is not systematic... sorry.\nI\u0027m trying to find what could raise the problem but it is hard.\n\nSorry if duplicate.",
    "Sorry misssing info:\n\nEclipse M4\nVersion: 3.1.0\nBuild id: 200412162000\n\nWTP M2\n\n",
    "\n\n*** This bug has been marked as a duplicate of 83209 ***",
    "Marking as verified as I know this issue is fixed (or correctly categorized).\nIf, as originator, you disagree or still see, please re-open, or open a new bug. \n\nThanks very much for reporting and helping make WTP better. \n",
    "This is part of a mass update to close out all stale WTP defects already verified by the reporter but awaiting closure by the assignee.  If you feel this defect was closed inappropriately, please reopen.\n\nThanks, John Lanuti"
  ],
  "commentCreationDates": [
    "2005-02-11T16:40:36+01:00",
    "2005-02-11T16:42:04+01:00",
    "2005-02-11T16:49:55+01:00",
    "2005-07-25T17:47:14+02:00",
    "2006-11-28T20:38:59+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.replaceText",
          "source": "JobSafeStructuredDocument.java:118"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText",
          "source": "BasicStructuredDocument.java:2268"
        },
        {
          "method": "org.eclipse.wst.sse.ui.StructuredDocumentToTextAdapter.replaceTextRange",
          "source": "StructuredDocumentToTextAdapter.java:1118"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.modifyContent",
          "source": "StyledText.java:5626"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.sendKeyEvent",
          "source": "StyledText.java:6465"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.doContent",
          "source": "StyledText.java:2536"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.handleKey",
          "source": "StyledText.java:4983"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.handleKeyDown",
          "source": "StyledText.java:5006"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText$7.handleEvent",
          "source": "StyledText.java:4751"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:833"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:857"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:842"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendKeyEvent",
          "source": "Widget.java:870"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendKeyEvent",
          "source": "Widget.java:866"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.wmChar",
          "source": "Widget.java:1171"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.WM_CHAR",
          "source": "Control.java:3109"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:3012"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:3370"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessageW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessage",
          "source": "OS.java:1570"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2446"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1569"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1540"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:285"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:144"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:102"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:220"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:273"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:710"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:694"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.NullPointerException",
        "elements": [
          {
            "method": "org.eclipse.jface.text.DefaultPositionUpdater.update",
            "source": "DefaultPositionUpdater.java:227"
          },
          {
            "method": "org.eclipse.wst.sse.core.internal.text.GenericPositionManager.updatePositions",
            "source": "GenericPositionManager.java:395"
          },
          {
            "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.updateDocumentData",
            "source": "BasicStructuredDocument.java:2582"
          },
          {
            "method": "org.eclipse.jst.jsp.core.internal.parser.JSPReParser.reparse",
            "source": "JSPReParser.java:142"
          },
          {
            "method": "org.eclipse.wst.sse.core.internal.text.StructuredDocumentReParser.reparse",
            "source": "StructuredDocumentReParser.java:1289"
          },
          {
            "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.updateModel",
            "source": "BasicStructuredDocument.java:2594"
          },
          {
            "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.internalReplaceText",
            "source": "BasicStructuredDocument.java:1812"
          },
          {
            "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText",
            "source": "BasicStructuredDocument.java:2272"
          },
          {
            "method": "org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.access$0",
            "source": "JobSafeStructuredDocument.java:1"
          },
          {
            "method": "org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument$1.run",
            "source": "JobSafeStructuredDocument.java:100"
          },
          {
            "method": "org.eclipse.wst.sse.ui.internal.editor.EditorExecutionContext.execute",
            "source": "EditorExecutionContext.java:43"
          },
          {
            "method": "org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.replaceText",
            "source": "JobSafeStructuredDocument.java:110"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "85018",
      "duplicateId": "83209",
      "date": "2005-02-11T16:40:36+01:00",
      "product": "Web Tools",
      "component": "jst.jsp",
      "severity": "normal"
    }
  ],
  "groupId": "83209",
  "bugId": "85018",
  "duplicateId": "83209",
  "date": "2005-02-11T16:40:36+01:00",
  "product": "Web Tools",
  "component": "jst.jsp",
  "severity": "normal"
}