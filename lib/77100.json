{
  "comments": [
    "if i use the org.eclipse.update.standalone.InstallCommand more than one time \n(within for-loop) to install features in a separate extension site i get a \nCoreException: Site already exists.\nThe first time (the extension site doesn\u0027t exist) it works well. The second \ntime (the extension site is already created physically) it fails.\n\ni use the following code:\n\tpublic boolean installFeatures(ISiteFeatureReference[] featureRefs, \nFile extensionLocation) {\n\t\tboolean result\u003dtrue;\n\t\tfor (int i \u003d 0; i \u003c featureRefs.length; i++) {\n\t\t\tISiteFeatureReference featureRef\u003dfeatureRefs[i];\n\t\t\t\n\t\t\ttry {\n\t\t\t\tSystem.out.println\n(\"installing: \"+featureRef.getVersionedIdentifier());\n\t\t\t\t\n\t\t\t\tInstallCommand ic \u003d new InstallCommand\n(featureRef\n\t\t\t\t\t\t.getVersionedIdentifier\n().getIdentifier(), featureRef\n\t\t\t\t\t\t.getVersionedIdentifier\n().getVersion().toString(), dcxSearchSite,\n\t\t\t\t\t\n\textensionLocation.getAbsolutePath(), \"false\");\n\t\t\t\tresult \u003d ic.run();\n\t\t\t} catch (Exception e) {\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn result;\n\t}\n\nand i get the following exception:\n\norg.eclipse.core.runtime.CoreException: Site already exists.\n\tat org.eclipse.update.core.Utilities.newCoreException\n(Utilities.java:220)\n\tat org.eclipse.update.core.Utilities.newCoreException\n(Utilities.java:237)\n\tat \norg.eclipse.update.internal.core.InstallConfiguration.createConfiguredSite\n(InstallConfiguration.java:118)\n\tat org.eclipse.update.standalone.InstallCommand.\u003cinit\u003e\n(InstallCommand.java:73)\n\tat dcx.appclient.updatemanager.internal.UpdateManager.installFeatures\n(UpdateManager.java:148)\n\tat dcx.appclient.updatemanager.actions.SampleAction.run\n(SampleAction.java:42)\n\tat org.eclipse.ui.internal.PluginAction.runWithEvent\n(PluginAction.java:276)\n\tat org.eclipse.ui.internal.WWinPluginAction.runWithEvent\n(WWinPluginAction.java:206)\n\tat \norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:915)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2\n(ActionContributionItem.java:866)\n\tat org.eclipse.jface.action.ActionContributionItem$8.handleEvent\n(ActionContributionItem.java:824)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2772)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2431)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1377)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1348)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench\n(Workbench.java:254)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run\n(IDEApplication.java:96)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run\n(PlatformActivator.java:335)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:273)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:129)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\n\tat org.eclipse.core.launcher.Main.run(Main.java:704)\n\tat org.eclipse.core.launcher.Main.main(Main.java:688)",
    "Try calling ic.applyChangesNow() after the first install.",
    "the exception still appears when calling ic.applyChangesNow()",
    "Created an attachment (id\u003d15747)\nPatch to solve this problem\n\nPatch in java class is marked.\nWith this patch the error does not occur any more.",
    "Thanks for the patch.\nI have released a different code fix, but the problem was essentially the \nsame, and was caused by not accouting for the extra \"eclipse\" folder.\nBTW, if you cannot pick up a 3.1 build with the fix, change your code so that \nthe target site is path/to/site/eclipse, it should work."
  ],
  "commentCreationDates": [
    "2004-10-27T14:24:49+02:00",
    "2004-10-28T19:25:26+02:00",
    "2004-10-30T10:56:49+02:00",
    "2004-11-09T14:25:26+01:00",
    "2004-11-09T17:55:20+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.runtime.CoreException",
      "message": "Site already exists.",
      "elements": [
        {
          "method": "org.eclipse.update.core.Utilities.newCoreException",
          "source": "Utilities.java:220"
        },
        {
          "method": "org.eclipse.update.core.Utilities.newCoreException",
          "source": "Utilities.java:237"
        },
        {
          "method": "org.eclipse.update.internal.core.InstallConfiguration.createConfiguredSite",
          "source": "InstallConfiguration.java:118"
        },
        {
          "method": "org.eclipse.update.standalone.InstallCommand.\u003cinit\u003e",
          "source": "InstallCommand.java:73"
        },
        {
          "method": "dcx.appclient.updatemanager.internal.UpdateManager.installFeatures",
          "source": "UpdateManager.java:148"
        },
        {
          "method": "dcx.appclient.updatemanager.actions.SampleAction.run",
          "source": "SampleAction.java:42"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:276"
        },
        {
          "method": "org.eclipse.ui.internal.WWinPluginAction.runWithEvent",
          "source": "WWinPluginAction.java:206"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:915"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:866"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$8.handleEvent",
          "source": "ActionContributionItem.java:824"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:796"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2772"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2431"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1377"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1348"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:254"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:141"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:96"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:335"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:273"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:704"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:688"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "77100",
      "date": "2004-10-27T14:24:49+02:00",
      "product": "Platform",
      "component": "Update",
      "severity": "major"
    }
  ],
  "groupId": "77100",
  "bugId": "77100",
  "date": "2004-10-27T14:24:49+02:00",
  "product": "Platform",
  "component": "Update",
  "severity": "major"
}