{
  "comments": [
    "The following aspect is flagged as an @AspectJ aspect by the compiler which \ncauses it to throw an NPE when loading it with load-time weaving. This is \nsimplified from the original code that triggered this bug (an aspect with some \nmethods, fields, and pointcuts but no advice or ITD\u0027s...) I will also attach \nthe bytecode produced by ajc in Java 1.5 source compilation mode for this.\n\npackage com.crankj.aspects;\n\npublic aspect TestBadAtaj {\n//\n\n\n}\n\nHere?s the stack trace:\njava.lang.NullPointerException\n\tat \norg.aspectj.weaver.tools.WeavingAdaptor$WeavingClassFileProvider.getBytes\n(WeavingAdaptor.java:413)\n\tat org.aspectj.weaver.tools.WeavingAdaptor.getAtAspectJAspectBytes\n(WeavingAdaptor.java:282)\n\tat org.aspectj.weaver.tools.WeavingAdaptor.weaveClass\n(WeavingAdaptor.java:202)\n\tat org.aspectj.weaver.loadtime.Aj.preProcess(Aj.java:67)\n\tat org.aspectj.weaver.loadtime.ClassPreProcessorAgentAdapter.transform\n(ClassPreProcessorAgentAdapter.java:52)\n\tat sun.instrument.TransformerManager.transform\n(TransformerManager.java:122)\n\tat sun.instrument.InstrumentationImpl.transform\n(InstrumentationImpl.java:155)\n\tat java.lang.ClassLoader.defineClass(Ljava.lang.String;\n[BIILjava.security.ProtectionDomain;)Ljava.lang.Class;(Unknown Source)\n\tat java.security.SecureClassLoader.defineClass\n(SecureClassLoader.java:124)\n\tat org.apache.catalina.loader.WebappClassLoader.findClassInternal\n(WebappClassLoader.java:1629)\n\tat org.apache.catalina.loader.WebappClassLoader.findClass\n(WebappClassLoader.java:850)\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass\n(WebappClassLoader.java:1299)\n\tat org.apache.catalina.loader.WebappClassLoader.loadClass\n(WebappClassLoader.java:1181)\n\tat java.lang.ClassLoader.loadClassFromNative(ILjava.lang.String;)\nLjava.lang.Class;(Unknown Source)\n\tat com.ibatis.jpetstore.presentation.action.BaseAction.perform\n(BaseAction.java:33)\n\tat org.apache.struts.action.ActionServlet.processActionPerform\n(ActionServlet.java:1787)\n\tat org.apache.struts.action.ActionServlet.process\n(ActionServlet.java:1586)\n\tat org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:492)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:689)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter\n(ApplicationFilterChain.java:252)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter\n(ApplicationFilterChain.java:173)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke\n(StandardWrapperValve.java:213)\n\tat org.apache.catalina.core.StandardContextValve.invoke\n(StandardContextValve.java:178)\n\tat org.apache.catalina.core.StandardHostValve.invoke\n(StandardHostValve.java:126)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke\n(ErrorReportValve.java:105)",
    "Created an attachment (id\u003d30269)\ncompiled output from this aspect\n",
    "This is known problem that has been reported and resolved by Bug 116626.",
    "This was fixed right after I ran into it :-;\n\n*** This bug has been marked as a duplicate of 116626 ***"
  ],
  "commentCreationDates": [
    "2005-11-18T22:35:01+01:00",
    "2005-11-18T22:35:37+01:00",
    "2005-11-20T11:26:47+01:00",
    "2005-11-22T05:24:12+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.aspectj.weaver.tools.WeavingAdaptor$WeavingClassFileProvider.getBytes",
          "source": "WeavingAdaptor.java:413"
        },
        {
          "method": "org.aspectj.weaver.tools.WeavingAdaptor.getAtAspectJAspectBytes",
          "source": "WeavingAdaptor.java:282"
        },
        {
          "method": "org.aspectj.weaver.tools.WeavingAdaptor.weaveClass",
          "source": "WeavingAdaptor.java:202"
        },
        {
          "method": "org.aspectj.weaver.loadtime.Aj.preProcess",
          "source": "Aj.java:67"
        },
        {
          "method": "org.aspectj.weaver.loadtime.ClassPreProcessorAgentAdapter.transform",
          "source": "ClassPreProcessorAgentAdapter.java:52"
        },
        {
          "method": "sun.instrument.TransformerManager.transform",
          "source": "TransformerManager.java:122"
        },
        {
          "method": "sun.instrument.InstrumentationImpl.transform",
          "source": "InstrumentationImpl.java:155"
        },
        {
          "method": "java.lang.ClassLoader.defineClass",
          "source": "Ljava.lang.String; [BIILjava.security.ProtectionDomain;"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "117160",
      "duplicateId": "116626",
      "date": "2005-11-18T22:35:01+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "116626",
  "bugId": "117160",
  "duplicateId": "116626",
  "date": "2005-11-18T22:35:01+01:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}