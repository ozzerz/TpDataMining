{
  "comments": [
    "Eclipse SDK\n\nVersion: 3.3.0\nBuild id: I20070503-1400 \n\nwith TPTP:\nTPTP Analysis Feature \nVersion: 4.4.0.v200703061402-7E7__72hE77Y7GAQ7A77\nBuild id: TPTP-4.4.0-200703270100F\nTPTP Analysis Engine \nVersion: 4.3.0.v200702181551-7738Y0r733G384G3533\nBuild id: TPTP-4.4.0-200703270100F\nTPTP Core \nVersion: 4.3.0.v200703061402-8-7YE9wCmz0UWCV_niWsXb\nBuild id: TPTP-4.4.0-200703270100F\n\n\n(1) Create a custom rule.\n  --\u003eI hit the issue with any rule; but particularly I used \"Avoid calls to Class.Method\" and \"Avoid implement Interface\" with \"org.osgi.framework.Bundle.start()\" and \"org.eclipse.core.resource.IResourceChangeListener\" respectively. \n\n(2) Run static analysis on workspace that hits the rule. I was using a working set, but I didn\u0027t notice that this made a difference.\n\n(3) Open the results from the custom rule (I doubt this contributes to the problem). \n\n(4) Restart.\n\n(5) Attempt to open the Analysis dialog. \n\nAt this point, the workbench crashes with a StackOverflowError:\n\n\n!ENTRY org.eclipse.core.jobs 4 2 2007-05-07 09:31:59.359\n!MESSAGE An internal error occurred during: \"Launching Static Analysis\".\n!STACK 0\njava.lang.StackOverflowError\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:85)\n\tat org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:417)\n\tat org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:189)\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass(BundleLoader.java:340)\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.findClassInternal(BundleLoader.java:408)\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:369)\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:357)\n\tat org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:83)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:568)\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.loadClass(BundleLoader.java:289)\n\tat org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleHost.java:227)\n\tat org.eclipse.osgi.framework.internal.core.AbstractBundle.loadClass(AbstractBundle.java:1269)\n\tat org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:160)\n\tat org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:787)\n\tat org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:243)\n\tat org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:51)\n\tat org.eclipse.tptp.platform.analysis.core.manager.AnalysisProviderManager.loadAllRules(AnalysisProviderManager.java:882)\n\tat org.eclipse.tptp.platform.analysis.core.manager.AnalysisProviderManager.\u003cinit\u003e(AnalysisProviderManager.java:103)\n\tat java.lang.Class.newInstancePrototype(Class.java:1254)\n\tat java.lang.Class.newInstance(Class.java:1243)\n\tat org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:170)\n\tat org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:787)\n\tat org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:243)\n\tat org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:51)\n\tat org.eclipse.tptp.platform.analysis.core.AnalysisUtil.getProviderManager(AnalysisUtil.java:73)\n\tat org.eclipse.tptp.platform.analysis.core.AnalysisUtil.getAnalysisElement(AnalysisUtil.java:145)\n\tat org.eclipse.tptp.platform.analysis.core.manager.AnalysisProviderManager.loadCustomCategories(AnalysisProviderManager.java:440)\n\tat org.eclipse.tptp.platform.analysis.core.manager.AnalysisProviderManager.\u003cinit\u003e(AnalysisProviderManager.java:110)\n\tat java.lang.Class.newInstancePrototype(Class.java:1254)\n...\n\tat org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:170)\n\tat org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:787)\n\tat org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:243)\n\tat org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:51)\n\tat org.eclipse.tptp.platform.analysis.core.AnalysisUtil.getProviderManager(AnalysisUtil.java:73)\n\tat org.eclipse.tptp.platform.analysis.core.ui.internal.launch.AnalysisLaunchConfigurationDelegate.buildSelectionList(AnalysisLaunchConfigurationDelegate.java:203)\n\tat org.eclipse.tptp.platform.analysis.core.ui.internal.launch.AnalysisLaunchConfigurationDelegate.launch(AnalysisLaunchConfigurationDelegate.java:97)\n\tat org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:766)\n\tat org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:608)\n\tat org.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch(DebugUIPlugin.java:899)\n\tat org.eclipse.debug.internal.ui.DebugUIPlugin$7.run(DebugUIPlugin.java:1102)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)\n\nAt this point, I cannot re-open the Analysis Dialog or the Preference page. \n\nThe only work around I\u0027ve found is to delete the metadata files in .plugins/..analysis.core. \n\nI\u0027m assuming that the custom rule is trying to refer to the AnalysisProviderManager from its constructor. This works the first time, but not on the restart.",
    "This was already fixed as the basis of another defect."
  ],
  "commentCreationDates": [
    "2007-05-07T17:05:32+02:00",
    "2007-05-11T15:54:16+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.StackOverflowError",
      "elements": [
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass",
          "source": "EclipseLazyStarter.java:85"
        },
        {
          "method": "org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass",
          "source": "ClasspathManager.java:417"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass",
          "source": "DefaultClassLoader.java:189"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass",
          "source": "BundleLoader.java:340"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClassInternal",
          "source": "BundleLoader.java:408"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClass",
          "source": "BundleLoader.java:369"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClass",
          "source": "BundleLoader.java:357"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass",
          "source": "DefaultClassLoader.java:83"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:568"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.loadClass",
          "source": "BundleLoader.java:289"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleHost.loadClass",
          "source": "BundleHost.java:227"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.AbstractBundle.loadClass",
          "source": "AbstractBundle.java:1269"
        },
        {
          "method": "org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension",
          "source": "RegistryStrategyOSGI.java:160"
        },
        {
          "method": "org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension",
          "source": "ExtensionRegistry.java:787"
        },
        {
          "method": "org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension",
          "source": "ConfigurationElement.java:243"
        },
        {
          "method": "org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension",
          "source": "ConfigurationElementHandle.java:51"
        },
        {
          "method": "org.eclipse.tptp.platform.analysis.core.manager.AnalysisProviderManager.loadAllRules",
          "source": "AnalysisProviderManager.java:882"
        },
        {
          "method": "org.eclipse.tptp.platform.analysis.core.manager.AnalysisProviderManager.\u003cinit\u003e",
          "source": "AnalysisProviderManager.java:103"
        },
        {
          "method": "java.lang.Class.newInstancePrototype",
          "source": "Class.java:1254"
        },
        {
          "method": "java.lang.Class.newInstance",
          "source": "Class.java:1243"
        },
        {
          "method": "org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension",
          "source": "RegistryStrategyOSGI.java:170"
        },
        {
          "method": "org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension",
          "source": "ExtensionRegistry.java:787"
        },
        {
          "method": "org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension",
          "source": "ConfigurationElement.java:243"
        },
        {
          "method": "org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension",
          "source": "ConfigurationElementHandle.java:51"
        },
        {
          "method": "org.eclipse.tptp.platform.analysis.core.AnalysisUtil.getProviderManager",
          "source": "AnalysisUtil.java:73"
        },
        {
          "method": "org.eclipse.tptp.platform.analysis.core.AnalysisUtil.getAnalysisElement",
          "source": "AnalysisUtil.java:145"
        },
        {
          "method": "org.eclipse.tptp.platform.analysis.core.manager.AnalysisProviderManager.loadCustomCategories",
          "source": "AnalysisProviderManager.java:440"
        },
        {
          "method": "org.eclipse.tptp.platform.analysis.core.manager.AnalysisProviderManager.\u003cinit\u003e",
          "source": "AnalysisProviderManager.java:110"
        },
        {
          "method": "java.lang.Class.newInstancePrototype",
          "source": "Class.java:1254"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "185780",
      "date": "2007-05-07T17:05:32+02:00",
      "product": "TPTP Static Analysis",
      "component": "Platform.Analysis",
      "severity": "blocker"
    }
  ],
  "groupId": "185780",
  "bugId": "185780",
  "date": "2007-05-07T17:05:32+02:00",
  "product": "TPTP Static Analysis",
  "component": "Platform.Analysis",
  "severity": "blocker"
}