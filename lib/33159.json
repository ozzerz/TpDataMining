{
  "comments": [
    "I found the following exception a number of times in the log while banging at\nUpdate UI on motif.\n\n\njava.lang.StringIndexOutOfBoundsException: String index out of range: 44\n        at java.lang.String.substring(String.java(Compiled Code))\n        at java.net.URLDecoder.decode(URLDecoder.java:72)\n        at org.eclipse.update.internal.ui.wizards.NewSiteBookmarkWizardPage.vali\ndatePage(NewSiteBookmarkWizardPage.java:106)\n        at org.eclipse.update.internal.ui.wizards.NewSiteBookmarkWizardPage$1.mo\ndifyText(NewSiteBookmarkWizardPage.java:71)\n        at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:\n181)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled\n Code))\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined Compiled\n Code))\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Compiled Code))\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:811)\n        at org.eclipse.swt.widgets.Text.XmNvalueChangedCallback(Text.java:1518)\n        at org.eclipse.swt.widgets.Widget.windowProc(Widget.java(Compiled Code))\n        at org.eclipse.swt.widgets.Display.windowProc(Display.java(Compiled Code))\n        at org.eclipse.swt.internal.motif.OS.XtDispatchEvent(Native Method)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled\nCode))\n        at org.eclipse.jface.window.Window.runEventLoop(Window.java(Compiled Code))\n        at org.eclipse.jface.window.Window.open(Window.java:557)\n        at\norg.eclipse.update.internal.ui.views.UpdatesView.performNewBookmark(UpdatesView.java:791)\n        at\norg.eclipse.update.internal.ui.views.UpdatesView.access$10(UpdatesView.java:779)\n        at\norg.eclipse.update.internal.ui.views.UpdatesView$1.run(UpdatesView.java:485)\n        at org.eclipse.jface.action.Action.runWithEvent(Action.java:841)\n        at\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:456)\n        at\norg.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionContributionItem.java:403)\n        at\norg.eclipse.jface.action.ActionContributionItem.access$0(ActionContributionItem.java:397)\n        at\norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(ActionContributionItem.java:\n72)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled\nCode))\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined Compiled\nCode))\n        at\norg.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code))\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled\nCode))\n        at\norg.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code))\n        at org.eclipse.ui.internal.Workbench.run(Workbench.java:1254)\n        at\norg.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:845)\n        at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:247)\n        at org.eclipse.core.launcher.Main.run(Main.java:703)\n        at org.eclipse.core.launcher.Main.main(Main.java:539)\n!",
    "This may be a JDK bug on Linux - note how the exception is inside \njava.net.URLDecoder.decode method.",
    "*** Bug 33342 has been marked as a duplicate of this bug. ***",
    "This is not JDK bug.  Update code is not honoring API contract of \nURLDocoder.decode() that says that a % character must be followd by another two \ncharacters.\nThe update code is passing whatever the user types.  If the site is \nhttp://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/platform-update-\nhome/extensionSite/ , the user at some point must be typing \nhttp://dev.eclipse.org/viewcvs/index.cgi/%7, which is invalid input for the \nURLDecoder, and causes exception.\n\nThe reason for this bug not being reported on non motif system is that a tester \nthere is likely to paste a correct URL as a whole and not type it in.",
    "It is our bug and we will fix it, but don\u0027t you agree that JDK is less than \nideal in the way they handle this? Throwing \nan \u0027StringIndexOutOfBoundsException\u0027 is less than ideal. I would expect that \nthey check for end of string and throw some other exception instead (a more \ninformative one).",
    "Of course I agree.  Technicaly they are correct, but it would be nicer if they \nthrew something else than RuntimeException.",
    "In Sun jdk1.4 the method is throwin IllegalArgumentException, which is a little \nbetter.  Update should either check the imput itself before calling decode, or \nin the worst case ensure to catch both StringOutOfBoundsException and \nIllegalArgumentException.\n",
    "Approved.",
    "Added \u0027catch\u0027 to both runtime exceptions as suggested in append #6. Verified \nthat the URL in question is correctly reported as illegal URL and no exception \nis thrown."
  ],
  "commentCreationDates": [
    "2003-02-25T22:24:56+01:00",
    "2003-03-01T22:55:17+01:00",
    "2003-03-02T00:24:26+01:00",
    "2003-03-09T22:25:43+01:00",
    "2003-03-09T22:36:22+01:00",
    "2003-03-09T22:50:13+01:00",
    "2003-03-09T22:57:29+01:00",
    "2003-03-12T02:19:02+01:00",
    "2003-03-13T00:00:17+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.StringIndexOutOfBoundsException",
      "message": "String index out of range: 44",
      "elements": [
        {
          "method": "java.lang.String.substring",
          "source": "String.java(Compiled Code)"
        },
        {
          "method": "java.net.URLDecoder.decode",
          "source": "URLDecoder.java:72"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.NewSiteBookmarkWizardPage.validatePage",
          "source": "NewSiteBookmarkWizardPage.java:106"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.NewSiteBookmarkWizardPage$1.modifyText",
          "source": "NewSiteBookmarkWizardPage.java:71"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java: 181"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java(Inlined Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:811"
        },
        {
          "method": "org.eclipse.swt.widgets.Text.XmNvalueChangedCallback",
          "source": "Text.java:1518"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.windowProc",
          "source": "Widget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.internal.motif.OS.XtDispatchEvent",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:557"
        },
        {
          "method": "org.eclipse.update.internal.ui.views.UpdatesView.performNewBookmark",
          "source": "UpdatesView.java:791"
        },
        {
          "method": "org.eclipse.update.internal.ui.views.UpdatesView.access$10",
          "source": "UpdatesView.java:779"
        },
        {
          "method": "org.eclipse.update.internal.ui.views.UpdatesView$1.run",
          "source": "UpdatesView.java:485"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:841"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:456"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java:403"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem.java:397"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java: 72"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java(Inlined Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1254"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:247"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:703"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:539"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "33159",
      "date": "2003-02-25T22:24:56+01:00",
      "product": "Platform",
      "component": "Update",
      "severity": "normal"
    }
  ],
  "groupId": "33159",
  "bugId": "33159",
  "date": "2003-02-25T22:24:56+01:00",
  "product": "Platform",
  "component": "Update",
  "severity": "normal"
}