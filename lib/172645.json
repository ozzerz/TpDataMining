{
  "comments": [
    "Teneo starts processing each persistent EClass in DefaultAnnotator.processClass. This method also assigns name to Entity annotation of this EClass. Howewer, processed EClass may also reference other persistent EClasses, which havent\u0027t been processed by this method yet. These classes have null name in Entity annotation, leading to exception:\n\n\njava.lang.NullPointerException\n\tat java.lang.String.compareTo(String.java:998)\n\tat org.eclipse.emf.teneo.annotations.mapper.DefaultAnnotator.processOneToManyReference(DefaultAnnotator.java:794)\n\tat org.eclipse.emf.teneo.hibernate.hbannotation.util.HibernateDefaultAnnotator.processOneToManyReference(HibernateDefaultAnnotator.java:176)\n\tat org.eclipse.emf.teneo.annotations.mapper.DefaultAnnotator.processEFeature(DefaultAnnotator.java:520)\n\tat org.eclipse.emf.teneo.annotations.mapper.DefaultAnnotator.processClass(DefaultAnnotator.java:400)\n\tat org.eclipse.emf.teneo.hibernate.hbannotation.util.HibernateDefaultAnnotator.processClass(HibernateDefaultAnnotator.java:140)\n\tat org.eclipse.emf.teneo.annotations.mapper.DefaultAnnotator.processPackage(DefaultAnnotator.java:239)\n\tat org.eclipse.emf.teneo.annotations.mapper.DefaultAnnotator.map(DefaultAnnotator.java:155)\n\tat org.eclipse.emf.teneo.annotations.mapper.PersistenceMappingBuilder.buildMapping(PersistenceMappingBuilder.java:157)\n\tat org.eclipse.emf.teneo.hibernate.HbDataStore.mapEPackages(HbDataStore.java:377)\n\tat org.eclipse.emf.teneo.hibernate.HbDataStore.mapModel(HbDataStore.java:366)\n\tat org.eclipse.emf.teneo.hibernate.HbDataStore.initialize(HbDataStore.java:156)",
    "I would propose having two passes: first which assigns annotations in full and second which processes them. This should also solve similar issue when referencing dynamic classes from different packages. Static version works, dynamic one chokes with NullPointerException.",
    "I confirmed this issue exists for both dynamic and static models. Better title would be: if no explicit EReference annotation is found, NPE is thrown for automatically generated annotation.",
    "Exception reporting has been improved using your other remarks on the emft newsgroup.",
    "Changed in build I200702051530"
  ],
  "commentCreationDates": [
    "2007-02-02T12:02:25+01:00",
    "2007-02-02T12:08:30+01:00",
    "2007-02-02T17:13:41+01:00",
    "2007-02-05T14:37:57+01:00",
    "2007-02-05T21:32:21+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "java.lang.String.compareTo",
          "source": "String.java:998"
        },
        {
          "method": "org.eclipse.emf.teneo.annotations.mapper.DefaultAnnotator.processOneToManyReference",
          "source": "DefaultAnnotator.java:794"
        },
        {
          "method": "org.eclipse.emf.teneo.hibernate.hbannotation.util.HibernateDefaultAnnotator.processOneToManyReference",
          "source": "HibernateDefaultAnnotator.java:176"
        },
        {
          "method": "org.eclipse.emf.teneo.annotations.mapper.DefaultAnnotator.processEFeature",
          "source": "DefaultAnnotator.java:520"
        },
        {
          "method": "org.eclipse.emf.teneo.annotations.mapper.DefaultAnnotator.processClass",
          "source": "DefaultAnnotator.java:400"
        },
        {
          "method": "org.eclipse.emf.teneo.hibernate.hbannotation.util.HibernateDefaultAnnotator.processClass",
          "source": "HibernateDefaultAnnotator.java:140"
        },
        {
          "method": "org.eclipse.emf.teneo.annotations.mapper.DefaultAnnotator.processPackage",
          "source": "DefaultAnnotator.java:239"
        },
        {
          "method": "org.eclipse.emf.teneo.annotations.mapper.DefaultAnnotator.map",
          "source": "DefaultAnnotator.java:155"
        },
        {
          "method": "org.eclipse.emf.teneo.annotations.mapper.PersistenceMappingBuilder.buildMapping",
          "source": "PersistenceMappingBuilder.java:157"
        },
        {
          "method": "org.eclipse.emf.teneo.hibernate.HbDataStore.mapEPackages",
          "source": "HbDataStore.java:377"
        },
        {
          "method": "org.eclipse.emf.teneo.hibernate.HbDataStore.mapModel",
          "source": "HbDataStore.java:366"
        },
        {
          "method": "org.eclipse.emf.teneo.hibernate.HbDataStore.initialize",
          "source": "HbDataStore.java:156"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "172645",
      "date": "2007-02-02T12:02:25+01:00",
      "product": "EMFT",
      "component": "Teneo",
      "severity": "major"
    }
  ],
  "groupId": "172645",
  "bugId": "172645",
  "date": "2007-02-02T12:02:25+01:00",
  "product": "EMFT",
  "component": "Teneo",
  "severity": "major"
}