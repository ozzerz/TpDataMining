{
  "comments": [
    "When creating a new linux connection and specifying:\n\nfiles: ftp.files\nprocesses: processes.shell.linux\nshells: ssh.shells\n\nyou get a NPE.\n\njava.lang.NullPointerException\njava.lang.NullPointerException\n\n\tat org.eclipse.rse.internal.persistence.RSEPersistenceManager.cleanTree(RSEPersistenceManager.java:439)\n\n\tat org.eclipse.rse.internal.persistence.RSEPersistenceManager.cleanTree(RSEPersistenceManager.java:441)\n\n\tat org.eclipse.rse.internal.persistence.RSEPersistenceManager.cleanTree(RSEPersistenceManager.java:441)\n\n\tat org.eclipse.rse.internal.persistence.RSEPersistenceManager.save(RSEPersistenceManager.java:417)\n\n\tat org.eclipse.rse.internal.persistence.RSEPersistenceManager.commitProfile(RSEPersistenceManager.java:136)\n\n\tat org.eclipse.rse.internal.core.model.SystemProfile.commit(SystemProfile.java:216)\n\n\tat org.eclipse.rse.core.model.Host.commit(Host.java:506)\n\n\tat org.eclipse.rse.core.subsystems.AbstractConnectorService.commit(AbstractConnectorService.java:245)\n\n\tat org.eclipse.rse.subsystems.shells.core.subsystems.servicesubsystem.ShellServiceSubSystem.switchServiceFactory(ShellServiceSubSystem.java:230)\n\n\tat org.eclipse.rse.ui.wizards.SubSystemServiceWizardPage.applyValues(SubSystemServiceWizardPage.java:201)\n\n\tat org.eclipse.rse.core.subsystems.SubSystemConfiguration.initializeSubSystem(SubSystemConfiguration.java:1462)\n\n\tat org.eclipse.rse.core.subsystems.SubSystemConfiguration.createSubSystem(SubSystemConfiguration.java:1233)\n\n\tat org.eclipse.rse.ui.internal.model.SystemRegistry.createHost(SystemRegistry.java:2239)\n\n\tat org.eclipse.rse.ui.internal.model.SystemRegistry.createHost(SystemRegistry.java:2167)\n\n\tat org.eclipse.rse.ui.wizards.newconnection.RSEDefaultNewConnectionWizard.performFinish(RSEDefaultNewConnectionWizard.java:331)\n\n\tat org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:742)\n\n\tat org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:373)\n\n\tat org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:616)\n\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227)\n\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3673)\n\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3284)\n\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\n\n\tat org.eclipse.jface.window.Window.open(Window.java:796)\n\n\tat org.eclipse.rse.ui.actions.SystemBaseDialogAction.run(SystemBaseDialogAction.java:299)\n\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:498)\n\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:545)\n\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490)\n\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:402)\n\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3673)\n\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3284)\n\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2365)\n\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2329)\n\n\tat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2204)\n\n\tat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)\n\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\n\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)\n\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\n\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153)\n\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363)\n\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\n\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:497)\n\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:436)\n\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1162)\n\n\n\n-----------Enter bugs above this line-----------\nTM 2.0M7 Testing\ninstallation : eclipse-SDK-3.3M7\nRSE install  : 2.0M7\njava.runtime : Sun 1.5.0_06-b05\nos.name:     : Windows XP 5.1, Service Pack 2\n------------------------------------------------",
    "Same thing happens creating a new connection with dstore.files, processes.shell.linux, and ssh.shells.",
    "This probably has to do with a bogus property set for either the process or shell subsystem. I\u0027ll investigate.",
    "The problem might be related to the fact that shell.processes is not a real subsystem on its own, but layered on top of any other shell subsystem.\n\nIn the wizards, the subsystems are presented in the order files, processes, shells. Now if the files subsystem does not have a ConnectorService that also relates to shells (like in the ftp.files case), or the ConnectorService used by files is different than the one used by shells (as in the dstore.files vs. ssh.shells case), it might be that the bogus ConnectorService from shells.processes kind of \"points to nothing\".\n\nThe solution should be that the DelegatingConnectorService used by shell.processes is evaluated later in the game, and re-gets the correct underlying ConnectorService from the configured Shell subsystem only when needed.\n\nBut I might be wrong and the issue might also be a plain persistency issue only.\nTherefore, if the file ",
    "DelegatingShellProcessConnectorService was returning null in the call to getPersistableChildren. This should be the empty array as specified in the javadoc for IPersistableContainer.",
    "what about having\n\n  private static final IRSEPersistableContainer[] NO_CONTAINERS \u003d \n      new IRSEPersistableContainer[0];\n\nand returning the shared instance instead of creating a new one each time?",
    "Done.",
    "This is not fixed in I20070524-0915, but using the latest source it is fixed.  Leaving as resolved fixed and will try again in next driver.",
    "Verified in 2.0RC1."
  ],
  "commentCreationDates": [
    "2007-05-19T05:12:54+02:00",
    "2007-05-19T05:14:39+02:00",
    "2007-05-19T06:48:12+02:00",
    "2007-05-21T12:17:56+02:00",
    "2007-05-24T15:49:03+02:00",
    "2007-05-24T16:13:29+02:00",
    "2007-05-24T16:44:03+02:00",
    "2007-05-24T20:52:20+02:00",
    "2007-05-25T21:28:39+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.rse.internal.persistence.RSEPersistenceManager.cleanTree",
          "source": "RSEPersistenceManager.java:439"
        },
        {
          "method": "org.eclipse.rse.internal.persistence.RSEPersistenceManager.cleanTree",
          "source": "RSEPersistenceManager.java:441"
        },
        {
          "method": "org.eclipse.rse.internal.persistence.RSEPersistenceManager.cleanTree",
          "source": "RSEPersistenceManager.java:441"
        },
        {
          "method": "org.eclipse.rse.internal.persistence.RSEPersistenceManager.save",
          "source": "RSEPersistenceManager.java:417"
        },
        {
          "method": "org.eclipse.rse.internal.persistence.RSEPersistenceManager.commitProfile",
          "source": "RSEPersistenceManager.java:136"
        },
        {
          "method": "org.eclipse.rse.internal.core.model.SystemProfile.commit",
          "source": "SystemProfile.java:216"
        },
        {
          "method": "org.eclipse.rse.core.model.Host.commit",
          "source": "Host.java:506"
        },
        {
          "method": "org.eclipse.rse.core.subsystems.AbstractConnectorService.commit",
          "source": "AbstractConnectorService.java:245"
        },
        {
          "method": "org.eclipse.rse.subsystems.shells.core.subsystems.servicesubsystem.ShellServiceSubSystem.switchServiceFactory",
          "source": "ShellServiceSubSystem.java:230"
        },
        {
          "method": "org.eclipse.rse.ui.wizards.SubSystemServiceWizardPage.applyValues",
          "source": "SubSystemServiceWizardPage.java:201"
        },
        {
          "method": "org.eclipse.rse.core.subsystems.SubSystemConfiguration.initializeSubSystem",
          "source": "SubSystemConfiguration.java:1462"
        },
        {
          "method": "org.eclipse.rse.core.subsystems.SubSystemConfiguration.createSubSystem",
          "source": "SubSystemConfiguration.java:1233"
        },
        {
          "method": "org.eclipse.rse.ui.internal.model.SystemRegistry.createHost",
          "source": "SystemRegistry.java:2239"
        },
        {
          "method": "org.eclipse.rse.ui.internal.model.SystemRegistry.createHost",
          "source": "SystemRegistry.java:2167"
        },
        {
          "method": "org.eclipse.rse.ui.wizards.newconnection.RSEDefaultNewConnectionWizard.performFinish",
          "source": "RSEDefaultNewConnectionWizard.java:331"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.finishPressed",
          "source": "WizardDialog.java:742"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.buttonPressed",
          "source": "WizardDialog.java:373"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$2.widgetSelected",
          "source": "Dialog.java:616"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:227"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3673"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3284"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:820"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:796"
        },
        {
          "method": "org.eclipse.rse.ui.actions.SystemBaseDialogAction.run",
          "source": "SystemBaseDialogAction.java:299"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:498"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:545"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:490"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:402"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3673"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3284"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2365"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2329"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2204"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:466"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:461"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:153"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:363"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:176"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:497"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:436"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1162"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "187953",
      "date": "2007-05-19T05:12:54+02:00",
      "product": "Target Management",
      "component": "RSE",
      "severity": "normal"
    }
  ],
  "groupId": "187953",
  "bugId": "187953",
  "date": "2007-05-19T05:12:54+02:00",
  "product": "Target Management",
  "component": "RSE",
  "severity": "normal"
}