{
  "comments": [
    "3.1-RC2 test pass\n\nThe identity of working sets seems to be defined strictly by its name (a UTF-8\nstring). However, AbstractWorkingSetManager stores working sets in a TreeSet\nusing a comparator based on collation, which may deem two working sets equal if\nthey have a similar name.\n\nExample:\n\n- in the package explorer, select \u0027Select Working Sets...\u0027 from the view menu\n- create a working set \u0027Foo\u0027\n- create a working set \u0027Foo\\ZWS\u0027, where ZWS is a zero-width space unicode\ncontrol character\n(when using gnome, unicode control characters can be added from the text field\u0027s\ncontext menu)\n\n-\u003e everything seems to work as expected (both sets get displayed in the pkg\nexplorer etc.)\n-\u003e but I get the following AssertionFailedException below in the log\n\nSorting and storing of the working sets should probably be separated.\nAlternatively, the entry field could filter such collisions and not allow\nsimilar names (as it does already for working set names ending with spaces).\n\norg.eclipse.jface.util.Assert$AssertionFailedException: Assertion failed:\nworking set already registered\n\tat org.eclipse.jface.util.Assert.isTrue(Assert.java:180)\n\tat\norg.eclipse.ui.internal.AbstractWorkingSetManager.addWorkingSet(AbstractWorkingSetManager.java:145)\n\tat\norg.eclipse.ui.internal.WorkingSetManager.addWorkingSet(WorkingSetManager.java:66)\n\tat\norg.eclipse.jdt.internal.ui.workingsets.WorkingSetConfigurationDialog.createWorkingSet(WorkingSetConfigurationDialog.java:354)\n\tat\norg.eclipse.jdt.internal.ui.workingsets.WorkingSetConfigurationDialog.access$1(WorkingSetConfigurationDialog.java:340)\n\tat\norg.eclipse.jdt.internal.ui.workingsets.WorkingSetConfigurationDialog$4.widgetSelected(WorkingSetConfigurationDialog.java:235)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1021)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2825)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2530)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:809)\n\tat org.eclipse.jface.window.Window.open(Window.java:787)\n\tat\norg.eclipse.jdt.internal.ui.workingsets.WorkingSetConfigurationDialog.open(WorkingSetConfigurationDialog.java:405)\n\tat\norg.eclipse.jdt.internal.ui.workingsets.ConfigureWorkingSetAction.run(ConfigureWorkingSetAction.java:46)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:996)\n\tat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)\n\tat\norg.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\n\tat\norg.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1021)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2825)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2530)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1716)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1680)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:365)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n\tat org.eclipse.core.launcher.Main.run(Main.java:973)\n\tat org.eclipse.core.launcher.Main.main(Main.java:948)\nAssertion failed: working set already registered",
    "Adding Nick for comment.",
    "I don\u0027t see why we\u0027re using collation here.  Collators should only be used when\nsorting strings to present in the UI, not in internal representations.\n",
    "Will investigate for 3.4."
  ],
  "commentCreationDates": [
    "2005-06-13T12:45:39+02:00",
    "2005-06-13T13:11:55+02:00",
    "2005-06-13T16:09:28+02:00",
    "2007-06-22T22:08:33+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.jface.util.Assert$AssertionFailedException",
      "message": "Assertion failed: working set already registered",
      "elements": [
        {
          "method": "org.eclipse.jface.util.Assert.isTrue",
          "source": "Assert.java:180"
        },
        {
          "method": "org.eclipse.ui.internal.AbstractWorkingSetManager.addWorkingSet",
          "source": "AbstractWorkingSetManager.java:145"
        },
        {
          "method": "org.eclipse.ui.internal.WorkingSetManager.addWorkingSet",
          "source": "WorkingSetManager.java:66"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.workingsets.WorkingSetConfigurationDialog.createWorkingSet",
          "source": "WorkingSetConfigurationDialog.java:354"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.workingsets.WorkingSetConfigurationDialog.access$1",
          "source": "WorkingSetConfigurationDialog.java:340"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.workingsets.WorkingSetConfigurationDialog$4.widgetSelected",
          "source": "WorkingSetConfigurationDialog.java:235"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:89"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1021"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2825"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2530"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:809"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:787"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.workingsets.WorkingSetConfigurationDialog.open",
          "source": "WorkingSetConfigurationDialog.java:405"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.workingsets.ConfigureWorkingSetAction.run",
          "source": "ConfigureWorkingSetAction.java:46"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:996"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:538"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1021"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2825"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2530"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1716"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1680"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:365"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "99602",
      "date": "2005-06-13T12:45:39+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "99602",
  "bugId": "99602",
  "date": "2005-06-13T12:45:39+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}