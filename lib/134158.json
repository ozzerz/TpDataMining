{
  "comments": [
    "If text in multi-line StyledText is \"so\" long that the scrollbar gets activated, then, the user cannot remove it anymore.\nTo reproduce, enter \"123\" with a carriage return. \nThen, CTRL+A+CTRL-C+CTRL-V several times, until the scrollbar gets activated.\nThen, Select All + Cut fails...\n\nExceptions are raised, and the stack trace is:\n\n java.lang.IllegalArgumentException: Argument not valid\n\tat org.eclipse.swt.SWT.error(SWT.java:3333)\n\tat org.eclipse.swt.SWT.error(SWT.java:3272)\n\tat org.eclipse.swt.SWT.error(SWT.java:3243)\n\tat org.eclipse.swt.custom.DefaultContent.error(DefaultContent.java:670)\n\tat org.eclipse.swt.custom.DefaultContent.getLine(DefaultContent.java:478)\n\tat org.eclipse.swt.custom.StyledTextRenderer.getTextLayout(StyledTextRenderer.java:727)\n\tat org.eclipse.swt.custom.StyledTextRenderer.getTextLayout(StyledTextRenderer.java:673)\n\tat org.eclipse.swt.custom.StyledTextRenderer.calculate(StyledTextRenderer.java:200)\n\tat org.eclipse.swt.custom.StyledTextRenderer.getLineHeight(StyledTextRenderer.java:539)\n\tat org.eclipse.swt.custom.StyledText.getLineIndex(StyledText.java:3644)\n\tat org.eclipse.swt.custom.StyledText.getPartialBottomIndex(StyledText.java:3836)\n\tat org.eclipse.swt.custom.StyledText.claimBottomFreeSpace(StyledText.java:1557)\n\tat org.eclipse.swt.custom.StyledText.handleTextChanged(StyledText.java:5307)\n\tat org.eclipse.swt.custom.StyledText$6.textChanged(StyledText.java:4783)\n\tat org.eclipse.swt.custom.StyledTextListener.handleEvent(StyledTextListener.java:66)\n\tat org.eclipse.swt.custom.DefaultContent.sendTextEvent(DefaultContent.java:794)\n\tat org.eclipse.swt.custom.DefaultContent.replaceTextRange(DefaultContent.java:787)\n\tat org.eclipse.swt.custom.StyledText.modifyContent(StyledText.java:5755)\n\tat org.eclipse.swt.custom.StyledText.sendKeyEvent(StyledText.java:6466)\n\tat org.eclipse.swt.custom.StyledText.doDelete(StyledText.java:2157)\n\tat org.eclipse.swt.custom.StyledText.cut(StyledText.java:1919)\n\tat org.eclipse.swt.custom.StyledText.invokeAction(StyledText.java:5632)\n\tat com.ibm.rational.common.test.editor.framework.extensions.TextAttributeField.doPerform(Unknown Source)\n\tat com.ibm.rational.common.test.editor.framework.kernel.AbstractAttributeField$FieldAttributeInternalAction.run(Unknown Source)\n\tat com.ibm.rational.common.test.editor.framework.extensions.TextAttributeField$CutAction.run(Unknown Source)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:492)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:530)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:480)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:392)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3287)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2907)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1899)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1863)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:417)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:99)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:374)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:615)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:282)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)",
    "Works for me, I followed the steps in the text editor in eclipse 3.2 m6 and nothing bad happened.\n\nI was wrote this test case, maybe you modify it so it reproduces the problem:\npublic static void main(String[] args) {\n\tDisplay display \u003d new Display();\n    Shell shell \u003d new Shell(display);\n    shell.setLayout(new FillLayout());\n    StyledText text \u003d new StyledText(shell, SWT.MULTI | SWT.V_SCROLL);\n    text.setText(\"123\\r\");\n    text.setKeyBinding(SWT.MOD1 | \u0027a\u0027, ST.SELECT_ALL);    \n    text.invokeAction(ST.SELECT_ALL);\n    text.invokeAction(ST.COPY);\n    for (int i \u003d 0; i \u003c 50; i++) {\n\t\ttext.invokeAction(ST.PASTE);\n\t}\n    text.invokeAction(ST.SELECT_ALL);\n    text.invokeAction(ST.CUT);    \n    shell.setSize(200, 200);\n    shell.open();\n    while (!shell.isDisposed()) {\n      if (!display.readAndDispatch()) {\n        display.sleep();\n      }\n    }\n    display.dispose();\n}\n",
    "It happens only when you add SWT.WRAP style flag.",
    "Okay, I added the SWT.WRAP style flag and it still works.",
    "I\u0027ve added one, and it does not. The exception is thrown as described in the stacktrace. I have modified your own code, btw.\n\nI can show it to you if you can do netmeeting.",
    "\n\n*** This bug has been marked as a duplicate of 128750 ***",
    "verified with newer SWT."
  ],
  "commentCreationDates": [
    "2006-03-30T20:35:41+02:00",
    "2006-04-11T19:28:43+02:00",
    "2006-04-11T19:56:09+02:00",
    "2006-04-11T21:08:12+02:00",
    "2006-04-11T21:11:32+02:00",
    "2006-04-11T21:21:18+02:00",
    "2006-04-11T21:34:21+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Argument not valid",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3333"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3272"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3243"
        },
        {
          "method": "org.eclipse.swt.custom.DefaultContent.error",
          "source": "DefaultContent.java:670"
        },
        {
          "method": "org.eclipse.swt.custom.DefaultContent.getLine",
          "source": "DefaultContent.java:478"
        },
        {
          "method": "org.eclipse.swt.custom.StyledTextRenderer.getTextLayout",
          "source": "StyledTextRenderer.java:727"
        },
        {
          "method": "org.eclipse.swt.custom.StyledTextRenderer.getTextLayout",
          "source": "StyledTextRenderer.java:673"
        },
        {
          "method": "org.eclipse.swt.custom.StyledTextRenderer.calculate",
          "source": "StyledTextRenderer.java:200"
        },
        {
          "method": "org.eclipse.swt.custom.StyledTextRenderer.getLineHeight",
          "source": "StyledTextRenderer.java:539"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.getLineIndex",
          "source": "StyledText.java:3644"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.getPartialBottomIndex",
          "source": "StyledText.java:3836"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.claimBottomFreeSpace",
          "source": "StyledText.java:1557"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.handleTextChanged",
          "source": "StyledText.java:5307"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText$6.textChanged",
          "source": "StyledText.java:4783"
        },
        {
          "method": "org.eclipse.swt.custom.StyledTextListener.handleEvent",
          "source": "StyledTextListener.java:66"
        },
        {
          "method": "org.eclipse.swt.custom.DefaultContent.sendTextEvent",
          "source": "DefaultContent.java:794"
        },
        {
          "method": "org.eclipse.swt.custom.DefaultContent.replaceTextRange",
          "source": "DefaultContent.java:787"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.modifyContent",
          "source": "StyledText.java:5755"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.sendKeyEvent",
          "source": "StyledText.java:6466"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.doDelete",
          "source": "StyledText.java:2157"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.cut",
          "source": "StyledText.java:1919"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.invokeAction",
          "source": "StyledText.java:5632"
        },
        {
          "method": "com.ibm.rational.common.test.editor.framework.extensions.TextAttributeField.doPerform",
          "source": "Unknown Source"
        },
        {
          "method": "com.ibm.rational.common.test.editor.framework.kernel.AbstractAttributeField$FieldAttributeInternalAction.run",
          "source": "Unknown Source"
        },
        {
          "method": "com.ibm.rational.common.test.editor.framework.extensions.TextAttributeField$CutAction.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:492"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:530"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:480"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:392"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:925"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3287"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2907"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1899"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1863"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:417"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:99"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:374"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:169"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:64"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:43"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:615"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:338"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:282"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "134158",
      "duplicateId": "128750",
      "date": "2006-03-30T20:35:41+02:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "major"
    }
  ],
  "groupId": "128750",
  "bugId": "134158",
  "duplicateId": "128750",
  "date": "2006-03-30T20:35:41+02:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "major"
}