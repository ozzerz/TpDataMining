{
  "comments": [
    "Build 2.1-M3\n\nDefined following source implementation of java.lang.Object:\n[package java.lang;\n\npublic class Object implements I {\n}\n\ninterface I {\n}\n]\n\nthen defined another type in same project, inheriting from Object, and built it \nincrementally:\n\nINCREMENTAL build\nCompile this changed source file src/Compile.java\nAbout to compile src/Compile.java\njava.lang.StackOverflowError\n        at org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle\n(ClassScope.java:724)\n        at org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle\n(ClassScope.java:748)\n        at org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle\n(ClassScope.java:731)\n        at org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle\n(ClassScope.java:748)\n        at org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle\n(ClassScope.java:731)\n        at org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle\n(ClassScope.java:748)\n        at org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle\n(ClassScope.java:731)\n        at org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle\n(ClassScope.java:748)\n        at org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle\n(ClassScope.java:731)\n        at org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle\n(ClassScope.java:748)\n        at org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle\n(ClassScope.java:731)\n        at org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle\n(ClassScope.java:748)\n        at org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle\n(ClassScope.java:731)\n        at org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle\n(ClassScope.java:748)\n        at org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle\n(ClassScope.java:731)\n        at org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle\n(ClassScope.java:748)\n        at org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle\n(ClassScope.java:731)\n        at org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle\n(ClassScope.java:748)\n        at org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle\n(ClassScope.java:731)\n        at org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle\n(ClassScope.java:748)\n        at org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle\n(ClassScope.java:731)\n        at org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle\n(ClassScope.java:748)\n        at org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle\n(ClassScope.java:731)",
    "Steps to reproduce:\n\n- in Project P, define type java/lang/Object.java in src source folder\n- perform a full build\n- add one type X:\n   public class X extends Exception {\n   }\n- incremental build (X)\n\nThere is no check for circularity on Object superinterface hierarchy (Object \nshould not be allowed to have any)",
    "Suggested fix, add following to ClassScope#connectSuperinterfaces\n\n\t\t\tif (isJavaLangObject(sourceType)) {\n\t\t\t\tproblemReporter().hierarchyCircularity\n(sourceType, superInterface, referenceContext.superInterfaces[i]);\n\t\t\t\tsourceType.tagBits |\u003d HierarchyHasProblems;\n\t\t\t\tsuperInterface.tagBits |\u003d HierarchyHasProblems;\n\t\t\t\treturn false;\n\t\t\t}",
    "Replaced with a check up front to detect java.lang.Object... if it has \nsupertypes, we now report an error against it, but do not propagate the \nhierarchy problem to every subtype.",
    "Verified."
  ],
  "commentCreationDates": [
    "2002-12-04T14:02:14+01:00",
    "2002-12-04T14:28:30+01:00",
    "2002-12-04T14:52:16+01:00",
    "2002-12-04T20:39:58+01:00",
    "2002-12-18T09:12:45+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.StackOverflowError",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle",
          "source": "ClassScope.java:724"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle",
          "source": "ClassScope.java:748"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle",
          "source": "ClassScope.java:731"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle",
          "source": "ClassScope.java:748"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle",
          "source": "ClassScope.java:731"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle",
          "source": "ClassScope.java:748"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle",
          "source": "ClassScope.java:731"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle",
          "source": "ClassScope.java:748"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle",
          "source": "ClassScope.java:731"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle",
          "source": "ClassScope.java:748"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle",
          "source": "ClassScope.java:731"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle",
          "source": "ClassScope.java:748"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle",
          "source": "ClassScope.java:731"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle",
          "source": "ClassScope.java:748"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle",
          "source": "ClassScope.java:731"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle",
          "source": "ClassScope.java:748"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle",
          "source": "ClassScope.java:731"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle",
          "source": "ClassScope.java:748"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle",
          "source": "ClassScope.java:731"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle",
          "source": "ClassScope.java:748"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle",
          "source": "ClassScope.java:731"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle",
          "source": "ClassScope.java:748"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ClassScope.detectCycle",
          "source": "ClassScope.java:731"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "27658",
      "date": "2002-12-04T14:02:14+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "27658",
  "bugId": "27658",
  "date": "2002-12-04T14:02:14+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}