{
  "comments": [
    "On eclipse 3.0.1, using 1.2 AJDT installed via the Eclipse updating/installing \nsystem, if I have an empty file in a package (i.e. no package header), the \ncompiler will fail with an internal compilation error indicating an error on \nthe previous (well-formed) file. \n \nI\u0027m not sure if this is an aspectj or ajdt issue, but I thought I\u0027d start \nhere.",
    "I haven\u0027t managed to reproduce this. What is the name of your empty file, and is\nit completely empty (i.e. 0 bytes)? And can you paste the compiler error in\nhere? (It should still be in your workspace/.metadata/.log file)\n",
    "No response, so closing for now, as I can\u0027t progress this without the above\ninfo. Please reopen if/when you can provide this info.\n",
    "sorry it took so long to get back on this.  I\u0027ve recreated this in eclipse 3.1 with:\n\nAJDT:\nVersion: 1.2.0\nBuild id: 20041214165937\nAspectJ version: 1.5.0M1\n\nThe error is:\n\nSeverity\tDescription\tResource\tIn Folder\tLocation\tCreation Time\n2\tInternal compiler error\njava.lang.ArrayIndexOutOfBoundsException: 0\n\tat\norg.aspectj.org.eclipse.jdt.internal.compiler.util.Util.getInputStreamAsCharArray(Util.java:359)\n\tat\norg.aspectj.org.eclipse.jdt.internal.compiler.util.Util.getFileCharContent(Util.java:178)\n\tat\norg.aspectj.org.eclipse.jdt.internal.compiler.batch.CompilationUnit.getContents(CompilationUnit.java:57)\n\tat\norg.aspectj.org.eclipse.jdt.internal.compiler.parser.TheOriginalJDTParserClass.parse(TheOriginalJDTParserClass.java:5722)\n\tat\norg.aspectj.org.eclipse.jdt.internal.compiler.parser.TheOriginalJDTParserClass.parse(TheOriginalJDTParserClass.java:5704)\n\tat\norg.aspectj.org.eclipse.jdt.internal.compiler.parser.TheOriginalJDTParserClass.dietParse(TheOriginalJDTParserClass.java:4422)\n\tat\norg.aspectj.org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:319)\n\tat\norg.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:348)\n\tat\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:682)\n\tat\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:168)\n\tat\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:102)\n\tat org.aspectj.ajde.internal.CompilerAdapter.compile(CompilerAdapter.java:122)\n\tat\norg.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run(AspectJBuildManager.java:165)\n\tGraph.java\tMaterialsWISDM/src/gov/sandia/emc/matwisdm/datawrappers\t\tMarch 25,\n2005 2:38:30 PM\n\nThe name of the empty file is GraphDecoder.java; the file this fails on is\nGraph.java (which is immediately before the empty file in package explorer)",
    "oh, and GraphDecoder.java is indeed 0 bytes.",
    "The expection is coming from the compiler, so passing over to AspectJ",
    "This bug may already be fixed......\n\nThis bug was raised and reproduced by Chris using AspectJ 1.5.0M1 which was dated Friday 10th December 2004. At this point the compiler contained Eclipse 3.0 final JDT core. The next update of the compiler took place on 6th January 2005 and was an upgrade to the Eclipse 3.1v530a compiler which in particular included an update to the failing method:\n\norg.aspectj.org.eclipse.jdt.internal.compiler.util.Util.getInputStreamAsCharArray(Util.java:359)\n\nwith\n\nif (\"UTF-8\".equals(encoding)) { \n....\n\nchanged to \n\nif (length \u003e 0 \u0026\u0026 \"UTF-8\".equals(encoding)) {\n....\n\n\nThis change was made by JDT in response to bug 70598 which was raised against jdt core 3.0 and reports exactly the exception as is reported here (obviously, except for the prefix \"org.aspectj\").\n\nI\u0027m not sure how to force UTF-8 encoding so have been unable to verify this.",
    "Closing this bug as fixed as per comment #6."
  ],
  "commentCreationDates": [
    "2005-01-07T16:52:59+01:00",
    "2005-01-17T15:09:20+01:00",
    "2005-03-23T14:18:43+01:00",
    "2005-03-25T21:47:10+01:00",
    "2005-03-25T21:47:53+01:00",
    "2005-07-13T17:04:16+02:00",
    "2005-12-09T15:16:52+01:00",
    "2006-03-10T15:54:16+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "0",
      "elements": [
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.util.Util.getInputStreamAsCharArray",
          "source": "Util.java:359"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.util.Util.getFileCharContent",
          "source": "Util.java:178"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.batch.CompilationUnit.getContents",
          "source": "CompilationUnit.java:57"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.parser.TheOriginalJDTParserClass.parse",
          "source": "TheOriginalJDTParserClass.java:5722"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.parser.TheOriginalJDTParserClass.parse",
          "source": "TheOriginalJDTParserClass.java:5704"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.parser.TheOriginalJDTParserClass.dietParse",
          "source": "TheOriginalJDTParserClass.java:4422"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.beginToCompile",
          "source": "Compiler.java:319"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:348"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:682"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:168"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBuildManager.java:102"
        },
        {
          "method": "org.aspectj.ajde.internal.CompilerAdapter.compile",
          "source": "CompilerAdapter.java:122"
        },
        {
          "method": "org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run",
          "source": "AspectJBuildManager.java:165"
        }
      ],
      "number": 0,
      "commentIndex": 3,
      "bugId": "82389",
      "date": "2005-03-25T21:47:10+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "major"
    }
  ],
  "groupId": "82389",
  "bugId": "82389",
  "date": "2005-01-07T16:52:59+01:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "major"
}