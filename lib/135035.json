{
  "comments": [
    "It appears PublishUtil.smartCopy always publish when there is no change, for example webserviceutils.jar in the \\lib folder where should not publish. In this case, the jar is being used by the application.\n\n!MESSAGE Error copying file to D:\\0613.12\\ws1\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wpClientEAR.ear\\wpClient.war\\WEB-INF\\lib\\webserviceutils.jar: Error deleting D:\\0613.12\\ws1\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wpClientEAR.ear\\wpClient.war\\WEB-INF\\lib\\webserviceutils.jar\n!STACK 0\njava.lang.Exception: Error deleting D:\\0613.12\\ws1\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wpClientEAR.ear\\wpClient.war\\WEB-INF\\lib\\webserviceutils.jar\n\tat org.eclipse.jst.server.core.PublishUtil.copyFile(PublishUtil.java:127)\n\tat org.eclipse.jst.server.core.PublishUtil.copyFile(PublishUtil.java:162)\n\tat org.eclipse.jst.server.core.PublishUtil.smartCopy(PublishUtil.java:278)\n\tat org.eclipse.jst.server.core.PublishUtil.smartCopy(PublishUtil.java:284)\n\tat org.eclipse.jst.server.core.PublishUtil.smartCopy(PublishUtil.java:284)",
    "Similar problem in WTP 1.5 https://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d120709",
    "Created an attachment (id\u003d41160)\nPatch to check timestamps during smart publish\n\nThe problem was already found and fixed on the 1.5 stream. The smartPublish() method has not been checking timestamps on files and as a result republishes every file, every single time.\nThis patch backports the critical parts of the solution from 1.5 and does not include better messages on failure or publishing retries. The change is to check timestamps and only publish required files, which is a huge performance fix and avoid touching files that haven\u0027t been changed and are locked by the server. Adopter has already tested this patch and the changes have been running fine in 1.5.",
    "+1 for WTP 1.0.3 since this is a known fix in 1.5 and is a severe problem.",
    "+1 for 1.0.3 inclusion\n",
    "+1 for 1.0.3 inclusion",
    "Fix released to 1.0.3 stream.",
    "VERIFIED \n",
    "Close the problem."
  ],
  "commentCreationDates": [
    "2006-04-05T16:47:20+02:00",
    "2006-04-05T16:55:49+02:00",
    "2006-05-11T18:55:53+02:00",
    "2006-05-11T20:31:12+02:00",
    "2006-05-12T02:04:28+02:00",
    "2006-05-12T09:40:50+02:00",
    "2006-05-16T20:55:41+02:00",
    "2006-09-26T18:09:56+02:00",
    "2006-09-26T18:10:35+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.Exception",
      "message": "Error deleting D:\\0613.12\\ws1\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wpClientEAR.ear\\wpClient.war\\WEB-INF\\lib\\webserviceutils.jar",
      "elements": [
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.copyFile",
          "source": "PublishUtil.java:127"
        },
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.copyFile",
          "source": "PublishUtil.java:162"
        },
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.smartCopy",
          "source": "PublishUtil.java:278"
        },
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.smartCopy",
          "source": "PublishUtil.java:284"
        },
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.smartCopy",
          "source": "PublishUtil.java:284"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "135035",
      "date": "2006-04-05T16:47:20+02:00",
      "product": "Web Tools",
      "component": "jst.server",
      "severity": "critical"
    }
  ],
  "groupId": "135035",
  "bugId": "135035",
  "date": "2006-04-05T16:47:20+02:00",
  "product": "Web Tools",
  "component": "jst.server",
  "severity": "critical"
}