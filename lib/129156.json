{
  "comments": [
    "I get NPE when I try to open a TPTP wizard with a selection that doesn\u0027t have an associated ResourceMapping, the following lines (64,65) returns null when currentElement is one of our EMF model object (works fine if the selection is on a project/folder in our Profiling Monitor navigator - TPTP project):\n\nResourceMapping mapping \u003d (ResourceMapping) adapterManager\t\t.getAdapter(currentElement, ResourceMapping.class);\n\nI use 3.2 M5 driver (org.eclipse.ui.ide_3.2.0.I20060216-1200.jar).\n\nHere is the exception:\n\njava.lang.NullPointerException\n\tat org.eclipse.ui.internal.ide.IDESelectionConversionService.convertToResources(IDESelectionConversionService.java)\n\tat org.eclipse.ui.internal.dialogs.WorkbenchWizardElement.convertToResources(WorkbenchWizardElement.java:210)\n\tat org.eclipse.ui.internal.dialogs.WorkbenchWizardElement.adaptedSelection(WorkbenchWizardElement.java:99)\n\tat org.eclipse.ui.internal.dialogs.WorkbenchWizardNode.getWizard(WorkbenchWizardNode.java:168)\n\tat org.eclipse.jface.wizard.WizardSelectionPage.getNextPage(WizardSelectionPage.java:101)\n\tat org.eclipse.ui.internal.dialogs.WorkbenchWizardSelectionPage.getNextPage(WorkbenchWizardSelectionPage.java:99)\n\tat org.eclipse.ui.internal.dialogs.ImportExportPage.getNextPage(ImportExportPage.java:420)\n\tat org.eclipse.jface.wizard.WizardDialog.nextPressed(WizardDialog.java:737)\n\tat org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:345)\n\tat org.eclipse.jface.dialogs.Dialog$3.widgetSelected(Dialog.java:645)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3287)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2907)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:811)\n\tat org.eclipse.jface.window.Window.open(Window.java:789)\n\tat org.eclipse.ui.actions.ImportResourcesAction.run(ImportResourcesAction.java:158)\n\tat org.eclipse.ui.actions.BaseSelectionListenerAction.runWithEvent(BaseSelectionListenerAction.java:167)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:530)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:480)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:392)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3287)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2907)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1899)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1863)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:417)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:99)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:374)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)\n\tat java.lang.reflect.Method.invoke(Method.java:391)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:282)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)",
    "I forgot to mention that after the NPE the wizard will not be able to go to Next page.\nThe workarround for now is to close the wizard, select a project/folder and then the wizard works.",
    "*** Bug 129052 has been marked as a duplicate of this bug. ***",
    "Looking at the code it looks like the issue is that the original selection can be null and we are missing a null check. I will attach a patch and try and replicate here.\n\nI\u0027m afraid I am not familiar with TPTP - could you walk me through your steps to make this happen?",
    "I have made a fix for build \u003e20060224. I can\u0027t replicate the problem currently so when I get your steps I can verify then.",
    "In my case the selection is not null, the mapping becomes null. \n\nHere are the steps:\n\n1. Download the latest TPTP 4.2 build\nhttp://download.eclipse.org/tptp/4.2.0/TPTP-4.2.0-200602240100/tptp.sdk-TPTP-4.2.0-200602240100.zip\n2. Download this EMF driver\nhttp://www.eclipse.org/downloads/download.php?file\u003d/tools/emf/downloads/drops/2.2.0/I200602090000/emf-sdo-xsd-SDK-I200602090000.zip\n3. Extract them on top of Eclipse 3.2 M5 driver.\n4. Start the workbench\n5. Use the \"Import -\u003e Profiling and Logging -\u003e Profiling file\" wizard to import\nthe attached trace, select \"Show full data (execution flow graphical detail)\"\noption.\n6. Choose \"Yes\" when asked to switch the perspective to Profiling and Logging\n7. Select any node in the \"Profiling Monitor\" view and redo step 6 then check\nthe PDE Error log view for the NPE described here.\n8. Switch to Resource perspective, select the created project and redo step 5-6\nand you\u0027ll see that it works again (because the selection is a Project not an\nEObject with no ResourceMapping like on step 7).\n",
    "Created an attachment (id\u003d35300)\nA sample profiling trace file\n\n",
    "Maruis your links do not currently work. I am going to mark this a verified - please reopen if there is still a problem."
  ],
  "commentCreationDates": [
    "2006-02-23T14:18:38+01:00",
    "2006-02-23T14:23:02+01:00",
    "2006-02-23T16:11:44+01:00",
    "2006-02-24T13:38:30+01:00",
    "2006-02-24T14:21:00+01:00",
    "2006-02-24T14:44:19+01:00",
    "2006-02-24T14:45:20+01:00",
    "2006-03-29T16:41:17+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.internal.ide.IDESelectionConversionService.convertToResources",
          "source": "IDESelectionConversionService.java"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.WorkbenchWizardElement.convertToResources",
          "source": "WorkbenchWizardElement.java:210"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.WorkbenchWizardElement.adaptedSelection",
          "source": "WorkbenchWizardElement.java:99"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.WorkbenchWizardNode.getWizard",
          "source": "WorkbenchWizardNode.java:168"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardSelectionPage.getNextPage",
          "source": "WizardSelectionPage.java:101"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.WorkbenchWizardSelectionPage.getNextPage",
          "source": "WorkbenchWizardSelectionPage.java:99"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.ImportExportPage.getNextPage",
          "source": "ImportExportPage.java:420"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.nextPressed",
          "source": "WizardDialog.java:737"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.buttonPressed",
          "source": "WizardDialog.java:345"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$3.widgetSelected",
          "source": "Dialog.java:645"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:90"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:925"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3287"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2907"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:811"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:789"
        },
        {
          "method": "org.eclipse.ui.actions.ImportResourcesAction.run",
          "source": "ImportResourcesAction.java:158"
        },
        {
          "method": "org.eclipse.ui.actions.BaseSelectionListenerAction.runWithEvent",
          "source": "BaseSelectionListenerAction.java:167"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:530"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:480"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:392"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:925"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3287"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2907"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1899"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1863"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:417"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:99"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:374"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:169"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:58"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:60"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:391"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:338"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:282"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "129156",
      "date": "2006-02-23T14:18:38+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "blocker"
    }
  ],
  "groupId": "129156",
  "bugId": "129156",
  "date": "2006-02-23T14:18:38+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "blocker"
}