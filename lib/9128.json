{
  "comments": [
    "Stabe: 20020125\n\nSee also 9126 - this pr + 9126 making debugging inner classes very frustrating.\n\nWhen debugging a method in an inner class the outer scope variables(ivars, \nmethod vars, method args, statics)  cannot be used in expressions.\n\nIn the attached example if you brkpt at the indicated line you will not be able \nto see\n class var  - classVar1 (from the outermost class)\n instance var - ivar1   (from the outermost class)\n method args - method1arg  (from method containing the inner class)\n method vars - methodVar1 (local variable from the containing method)\n\nThese ommissions make it quite difficult to debug in inner classes.",
    "Created an attachment (id\u003d304)\nJava file showing inner class problems\n",
    "Evaluation works now, but code assist creates an NPE in this case:\n\n(1) run example,\n(2) at breakpoint, select \"this\" in var view\n(3) in details ares type \"this.\", and code assist gives NPE\n\norg.eclipse.swt.SWTException: Failed to execute runnable \n(java.lang.NullPointerException)\n\tat org.eclipse.swt.SWT.error(SWT.java:1887)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages\n(Synchronizer.java:96)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:1397)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1211)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:755)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:738)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:777)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:319)\n\tat EclipseRuntimeLauncher.main(EclipseRuntimeLauncher.java:14)\n*** Stack trace of contained exception ***\njava.lang.NullPointerException\n\tat \norg.eclipse.jdt.internal.debug.ui.display.DisplayCompletionProcessor.getType\n(DisplayCompletionProcessor.java:353)\n\tat \norg.eclipse.jdt.internal.debug.ui.display.DetailsCompletionProcessor.getReceivin\ngType(DetailsCompletionProcessor.java:89)\n\tat \norg.eclipse.jdt.internal.debug.ui.display.DetailsCompletionProcessor.computeComp\nletionProposals(DetailsCompletionProcessor.java:56)\n\tat \norg.eclipse.jface.text.contentassist.ContentAssistant.computeCompletionProposals\n(ContentAssistant.java:1197)\n\tat \norg.eclipse.jface.text.contentassist.CompletionProposalPopup.computeProposals\n(CompletionProposalPopup.java:103)\n\tat org.eclipse.jface.text.contentassist.CompletionProposalPopup.access$3\n(CompletionProposalPopup.java:102)\n\tat org.eclipse.jface.text.contentassist.CompletionProposalPopup$1.run\n(CompletionProposalPopup.java:71)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:56)\n\tat \norg.eclipse.jface.text.contentassist.CompletionProposalPopup.showProposals\n(CompletionProposalPopup.java:66)\n\tat org.eclipse.jface.text.contentassist.ContentAssistant$2.run\n(ContentAssistant.java:265)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:29)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages\n(Synchronizer.java:93)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:1397)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1211)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:755)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:738)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:777)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:319)\n\tat EclipseRuntimeLauncher.main(EclipseRuntimeLauncher.java:14)\n",
    "We had problems in our code...now there appears to be a problem in JDT core.",
    "No longer any problems...but you do not get any completion proposals either.\nFor local types (eg Sample$1$InnerClass) we currently do not present any code \ncompletions.  To make this work, we would have to get a position from the text \nviewer...if the user has moved the selection within the viewer (from the \ncurrent instruction pointer selection) you could get invalid completions.",
    "Fixed in DisplayCompletionProcessor and DetailsCompletionProcessor.\nUses the lineNumber of the stack frame to determine the insertion position so \nthe user cannot influence the results.",
    "Please verify (Darin W).",
    "Verified code assist works. There is an eval bug now:\n\nWhen I eval \"this.innerIVar1\" or \"this.innerClassVar1\", I get an error \nmessage: \"Cannot find the field innerClassVar1 for the object Sample$1\n$InnerClass (id\u003d15)\"\n\nWhen I just eval \"innerIVar1\" or \"innerClassVar1\" it works. Reopening for eval \nbug.",
    "Closing. Opened Bug 13798 to address the \"this.innerClassVar1\" limitation.",
    "Code assist problem verified by DarinW.\n\nUnderlying bug now addressed in Bug 13798"
  ],
  "commentCreationDates": [
    "2002-02-05T18:25:09+01:00",
    "2002-02-05T18:25:25+01:00",
    "2002-04-01T21:59:39+02:00",
    "2002-04-02T22:09:45+02:00",
    "2002-04-11T20:25:48+02:00",
    "2002-04-11T21:53:40+02:00",
    "2002-04-11T21:53:56+02:00",
    "2002-04-12T22:57:07+02:00",
    "2002-04-15T17:33:44+02:00",
    "2002-04-15T17:34:45+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Failed to execute runnable  (java.lang.NullPointerException)",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:1887"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:96"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:1397"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1211"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:755"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:738"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:777"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:319"
        },
        {
          "method": "EclipseRuntimeLauncher.main",
          "source": "EclipseRuntimeLauncher.java:14"
        }
      ],
      "number": 0,
      "commentIndex": 2,
      "bugId": "9128",
      "date": "2002-04-01T21:59:39+02:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.debug.ui.display.DisplayCompletionProcessor.getType",
          "source": "DisplayCompletionProcessor.java:353"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.display.DetailsCompletionProcessor.getReceivingType",
          "source": "DetailsCompletionProcessor.java:89"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.display.DetailsCompletionProcessor.computeCompletionProposals",
          "source": "DetailsCompletionProcessor.java:56"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.ContentAssistant.computeCompletionProposals",
          "source": "ContentAssistant.java:1197"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.computeProposals",
          "source": "CompletionProposalPopup.java:103"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.access$3",
          "source": "CompletionProposalPopup.java:102"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup$1.run",
          "source": "CompletionProposalPopup.java:71"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:56"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.showProposals",
          "source": "CompletionProposalPopup.java:66"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.ContentAssistant$2.run",
          "source": "ContentAssistant.java:265"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:29"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:93"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:1397"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1211"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:755"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:738"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:777"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:319"
        },
        {
          "method": "EclipseRuntimeLauncher.main",
          "source": "EclipseRuntimeLauncher.java:14"
        }
      ],
      "number": 1,
      "commentIndex": 2,
      "bugId": "9128",
      "date": "2002-04-01T21:59:39+02:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "9128",
  "bugId": "9128",
  "date": "2002-02-05T18:25:09+01:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "normal"
}