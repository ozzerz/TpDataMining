{
  "comments": [
    "The Eclipse Java compiler does not generate correct byte code \nfor the special case that an enum is empty (i.e. has no values).\n\nIn this case, it fails to generate a \u003cclinit\u003e method. As a \nresult, the hidden ENUM$VALUES static variable remains null. \nThis leads to a NullPointerException when calling the values() \nmethod (it tries to copy the ENUM$VALUES array and fails).\n\nCorrect behavior in this case would be to generate a \u003cclinit\u003e\nmethod that initializes ENUM$VALUES to an array of length 0.\n\nThe following test program:\n  public class EnumTest {\n    enum NoValues {}\n    public static void main(String[] args) {\n      System.out.println(NoValues.values());\n    }\n  }\n\nresults in the following exception:\n  Exception in thread \"main\" java.lang.NullPointerException\n    at EnumTest$NoValues.values(EnumTest.java:1)\n    at EnumTest.main(EnumTest.java:4)\n\nbut should print something like this (compiled with Sun javac):\n  [LEnumTest$NoValues;@45a877\n\nTested on Eclipse Version: 3.1.2 (Build id: M20060118-1600). \nEarlier versions have the same bug.",
    "Good find. Added EnumTest#test126.\n\nNeed to fix both Clinit creation code, and codegen.\nOlivier - we could optimize synth methods codegen to handle zero scenario more efficiently (though likely not a real world scenario).",
    "Backported to 3.1.x as indeed it looks bad, and fix is quite simple.",
    "fixed in head",
    "Olivier - pls check FormatterRegressionTests#test523\u0026525 (both in HEAD and 3.1.x branch). Their behavior seems altered from presence of \u003cclinit\u003e which it shouldn\u0027t. Is this a formatter bug surfaced ? (if so need separate bug)",
    "Entered bug 126191.",
    "Verified for 3.2 M5 using build I20060215-0010"
  ],
  "commentCreationDates": [
    "2006-02-01T20:22:42+01:00",
    "2006-02-01T22:32:29+01:00",
    "2006-02-01T22:44:14+01:00",
    "2006-02-01T23:27:21+01:00",
    "2006-02-02T09:25:50+01:00",
    "2006-02-02T15:11:42+01:00",
    "2006-02-15T12:41:26+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "EnumTest$NoValues.values",
          "source": "EnumTest.java:1"
        },
        {
          "method": "EnumTest.main",
          "source": "EnumTest.java:4"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "126087",
      "date": "2006-02-01T20:22:42+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "major"
    }
  ],
  "groupId": "126087",
  "bugId": "126087",
  "date": "2006-02-01T20:22:42+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "major"
}