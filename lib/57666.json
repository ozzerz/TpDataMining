{
  "comments": [
    "(Ah, the joy of build infrastructure...)\n\nMostly self-explanatory trace, from a build Monday Apr 5, 2004 at 08:46:01 GMT:\n\nduplicate entry: META-INF/MANIFEST.MF\nduplicate entry: META-INF/MANIFEST.MF\njava.util.zip.ZipException: duplicate entry: META-INF/MANIFEST.MF\n\tat java.util.zip.ZipOutputStream.putNextEntry(ZipOutputStream.java:163)\n\tat java.util.jar.JarOutputStream.putNextEntry(JarOutputStream.java:90)\n\tat\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.writeResource(AjBuildManager.java:344)\n\tat\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.copyResourcesFromJarFile(AjBuildManager.java:288)\n\tat\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.copyResourcesToDestination(AjBuildManager.java:253)\n\tat\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:195)\n\tat\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:94)\n\tat org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:102)\n\tat org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:53)\n\tat org.aspectj.tools.ajc.Main.run(Main.java:280)\n\tat org.aspectj.tools.ajc.Main.runMain(Main.java:217)\n\tat org.aspectj.tools.ajc.Main.main(Main.java:79)",
    "There are several routes into this code. Could you attach a testcase or \ndescribe what you were doing when the failure occured.\n\nThanks",
    "Sorry, no time now to try to create a test case.  Perhaps the manifest file\nautomatically included when the zip is created is not added to the list of known\nresources in AjState.  ",
    "*** Bug 66267 has been marked as a duplicate of this bug. ***",
    "Using a JarInputStream is a bit of a minefield. Its behaviour, especially \nWRT \"getManifest()\", varies accounding to how the JAR file was build: ZIP vs \nJAR. To ensure the first orginal manfiest encountered is copied injars/inpath \nto outjar:\n1. Use JarFile rather than JarInputStream\n2. Explicitly test for \"META-INF/MANIFEST.MF\" entry\n3. Add DiplicateManifestTest to weave a JAR built using ZIP",
    "Created an attachment (id\u003d13683)\nTestcase and fix\n\najde: testcase \u0026 data\najdt: AjBuildManager \u0026 BcweaverJarMaker\nweaver: BcelWeaver\n\n1. Apply 3 patches and import ZIP\n2. Run BcweaverJarMaker and run\n\"ajde/testdata/DuplicateManifestTest/update-injar.xml (Ant) to create injar.jar\nand aspectjar.jar",
    "Matthews fix integrated.  Waiting for build note before closing bug.",
    "Fix available:\n\nBUILD COMPLETE -  build.325\nDate of build: 08/02/2004 17:56:01\nTime to build: 89 minutes 54 seconds\nLast changed: 08/02/2004 16:47:52\nLast log entry: Fix for Bugzilla Bug 57666 duplicate manifests cause\nresource-copying to gack(Contributed by Matthew Webster)\nLatest good AspectJ jar available at:\ndownload.eclipse.org/technology/ajdt/dev/aspectj-DEVELOPMENT.jar",
    "Fix released as part of AspectJ 1.2.1"
  ],
  "commentCreationDates": [
    "2004-04-06T23:22:16+02:00",
    "2004-04-07T11:49:05+02:00",
    "2004-04-09T14:08:23+02:00",
    "2004-07-30T15:08:50+02:00",
    "2004-07-30T15:17:36+02:00",
    "2004-07-30T15:47:32+02:00",
    "2004-08-02T17:59:46+02:00",
    "2004-08-02T21:16:00+02:00",
    "2004-10-21T10:31:30+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.util.zip.ZipException",
      "message": "duplicate entry: META-INF/MANIFEST.MF",
      "elements": [
        {
          "method": "java.util.zip.ZipOutputStream.putNextEntry",
          "source": "ZipOutputStream.java:163"
        },
        {
          "method": "java.util.jar.JarOutputStream.putNextEntry",
          "source": "JarOutputStream.java:90"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.writeResource",
          "source": "AjBuildManager.java:344"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.copyResourcesFromJarFile",
          "source": "AjBuildManager.java:288"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.copyResourcesToDestination",
          "source": "AjBuildManager.java:253"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:195"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBuildManager.java:94"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.doCommand",
          "source": "AjdtCommand.java:102"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.runCommand",
          "source": "AjdtCommand.java:53"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.run",
          "source": "Main.java:280"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.runMain",
          "source": "Main.java:217"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.main",
          "source": "Main.java:79"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "57666",
      "date": "2004-04-06T23:22:16+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "57666",
  "bugId": "57666",
  "date": "2004-04-06T23:22:16+02:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}