{
  "comments": [
    "The following code results in an incorrect exception NoClassDefFoundError \nbeing thrown (and without a stack trace). Here is the output when running \nafter compiling with AspectJ from head (and AspectJ 1.1.1):\nC:\\devel\\test\\excHandling\\interType\u003ejava client.Main\nException in thread \"main\" java.lang.NoClassDefFoundError\n        at client.Main.main(Main.java:6)\n\nAspectJ 1.0.6 doesn\u0027t exhibit this problem; it produces the following output:\nC:\\devel\\test\\excHandling\\interType\u003ejava client.Main\nException in thread \"main\" java.lang.ExceptionInInitializerError\n        at client.Main.main(Main.java;client/ExceptionHandling.java\n[1k];library/\nLogManager.java[2k]:1004)\nCaused by: java.lang.RuntimeException: evil\n        at client.ExceptionHandling.doGetLogger_library_LogManager\n(ExceptionHand\nling.java;library/LogManager.java[1k]:1009)\n        at client.ExceptionHandling.\u003cinit\u003e\n(ExceptionHandling.java;library/LogMan\nager.java[1k]:1006)\n        at client.ExceptionHandling.\u003cclinit\u003e\n(ExceptionHandling.java;library/LogM\nanager.java[1k]:3)\n        ... 1 more\n\nThis example is probably related to bug #44586.\nIf you change the after throwing advice in client/ExceptionHandling.java to \nremove the execution OR initialization part, you get similar the following \noutput to the AspectJ 1.0.6 case; the exception isn\u0027t swallowed.\n\nHere is our test code:\npackage client;\n\npublic aspect ExceptionHandling {\n    after() throwing (Throwable t) : execution(* Main.*(..)) || initialization\n(Main.new(..)) {\n\tSystem.err.println(\"exception thrown at \"+thisJoinPointStaticPart);\n\tt.printStackTrace(System.err);\n    }\n}\n---\npackage client;\n\nimport library.Loggable;\n\npublic aspect LogManager {\n    declare parents: client..* implements Loggable;\n}\n---\npackage client;\n\npublic class Main {\n    public static void main(String args[]) {\n\tnew Main();\n    }\n}\n---\npackage library;\n\nimport java.util.logging.Logger;\n\npublic aspect LogManager {\n    private Logger Loggable.logger \u003d doGetLogger();\n    public Logger Loggable.getLogger() { return logger; }\n    private Logger Loggable.doGetLogger() {\n\tthrow new RuntimeException(\"evil\");\n\t//return Logger.getLogger(\"main\");\n    }\n}\n---\npackage library;\n\npublic interface Loggable {}",
    "Fixed in tree.\n\nAll exceptions that occur during the static intialization of a persingleton\naspect will be swallowed.  When using that aspect (via aspectOf()) \na NoAspectBoundException will be thrown with the original exception\nfrom the staitc initializer as the cause.",
    "updating target flag to indicate inclusion in 1.2 release."
  ],
  "commentCreationDates": [
    "2003-10-09T19:58:19+02:00",
    "2004-01-14T15:30:21+01:00",
    "2004-03-19T14:52:01+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoClassDefFoundError",
      "elements": [
        {
          "method": "client.Main.main",
          "source": "Main.java:6"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "44587",
      "date": "2003-10-09T19:58:19+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.ExceptionInInitializerError",
      "elements": [
        {
          "method": "client.Main.main",
          "source": "Main.java;client/ExceptionHandling.java [1k];library/ LogManager.java[2k]:1004"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.RuntimeException",
        "message": "evil",
        "elements": [
          {
            "method": "client.ExceptionHandling.doGetLogger_library_LogManager",
            "source": "ExceptionHand ling.java;library/LogManager.java[1k]:1009"
          },
          {
            "method": "client.ExceptionHandling.\u003cinit\u003e",
            "source": "ExceptionHandling.java;library/LogMan ager.java[1k]:1006"
          },
          {
            "method": "client.ExceptionHandling.\u003cclinit\u003e",
            "source": "ExceptionHandling.java;library/LogM anager.java[1k]:3"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 1,
      "commentIndex": 0,
      "bugId": "44587",
      "date": "2003-10-09T19:58:19+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "major"
    }
  ],
  "groupId": "44587",
  "bugId": "44587",
  "date": "2003-10-09T19:58:19+02:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "major"
}