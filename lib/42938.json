{
  "comments": [
    "OSX 10.2.6\nEclipse: 200309090800\n\nStack:\n!ENTRY org.eclipse.ui 4 4 Sep 11, 2003 11:29:09.704\n!MESSAGE Unhandled exception caught in event loop.\n!ENTRY org.eclipse.ui 4 0 Sep 11, 2003 11:29:09.708\n!MESSAGE java.lang.ClassCastException\n!STACK 0\njava.lang.ClassCastException\n        at \norg.eclipse.ui.internal.Workbench.updateActiveWorkbenchWindowMenuManager(Workbench.java:492)\n        at org.eclipse.ui.internal.Workbench$10.windowDeactivated(Workbench.java:334)\n        at org.eclipse.ui.internal.Workbench.fireWindowDeactivated(Workbench.java:851)\n        at org.eclipse.ui.internal.WorkbenchWindow$12.shellDeactivated(WorkbenchWindow.java:1937)\n        at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:163)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n        at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:1027)\n        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2180)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1878)\n        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2037)\n        at org.eclipse.ui.internal.Workbench.run(Workbench.java:2020)\n        at org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:858)\n        at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:295)\n        at org.eclipse.core.launcher.Main.run(Main.java:751)\n        at org.eclipse.core.launcher.Main.main(Main.java:587)",
    "We are missing a null check here for a null menu manager. Moving to Doug as he \nhas been in that space of late.",
    "If you don\u0027t mind me asking, what were you doing at the time?  Were you\nperforming an update?  Were you running a patched or modified version of the\nEclipse-IDE?  Were you running some other application built on top of the\nEclipse-Platform?\n\nnote to self:\nThis could be fixed by testing with instanceof, but ideally we shouldn\u0027t be\nblind casting from IWorkbenchWindow to WorkbenchWindow.  IWorkbenchWindow does\nexplicitly say, however, that \"This interface is not intended to be implemented\nby clients\".",
    "(moving to P4 -- waiting for response)",
    "I was indeed doing an update at the time. I had opened the \u0027Manage Configuration\u0027 window from under \nthe help menu, and clicked on \u0027Scan for updates\u0027. I can reproduce this every time.\n\nI am not running a patched or modified version of the IDE (other than some plugins), and am using the \nstandard IDE downloaded from the Eclipse site.\n\nChanning",
    "Created an attachment (id\u003d6091)\nPatch to Workbench\n\nThis changes the test for null into an instanceof check.  Promoting\ngetMenuManager() to the interface would cause a whole other raft of problems\n(as WorkbenchWindow.getMenuManager() currently returns MenuManager not\nIMenuManager, and the update team has -- against warnings in the API --\nimplemented their own IWorkbenchWindow).",
    "tod: review/apply.",
    "This patch was released.",
    "Marking closed"
  ],
  "commentCreationDates": [
    "2003-09-11T12:44:56+02:00",
    "2003-09-12T15:16:13+02:00",
    "2003-09-12T17:30:07+02:00",
    "2003-09-12T17:30:43+02:00",
    "2003-09-12T17:38:42+02:00",
    "2003-09-12T18:00:11+02:00",
    "2003-09-12T18:00:57+02:00",
    "2003-09-30T20:44:53+02:00",
    "2005-05-10T20:55:43+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "elements": [
        {
          "method": "org.eclipse.ui.internal.Workbench.updateActiveWorkbenchWindowMenuManager",
          "source": "Workbench.java:492"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$10.windowDeactivated",
          "source": "Workbench.java:334"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.fireWindowDeactivated",
          "source": "Workbench.java:851"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow$12.shellDeactivated",
          "source": "WorkbenchWindow.java:1937"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:163"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:1027"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2180"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1878"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2037"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:2020"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:858"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:295"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:751"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:587"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "42938",
      "date": "2003-09-11T12:44:56+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "minor"
    }
  ],
  "groupId": "42938",
  "bugId": "42938",
  "date": "2003-09-11T12:44:56+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "minor"
}