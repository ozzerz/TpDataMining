{
  "comments": [
    "I created a conection and then linked an SQL page to that conection. At some later point I deleted that connection. After this, I executed my SQL page again. The SQL results view was shown but nothing was added and the following error appeared in the log (actually 4 such errors appeared). I would have expected to be prompted with an error message that the conection no lomger exists. Ideally, I should have been prompted that there were some SQL pages that were using the connection. \n\norg.eclipse.datatools.sqltools.core.profile.NoSuchProfileException: Cannot find profile: Test2\n\tat org.eclipse.datatools.sqltools.core.profile.ProfileUtil.getProfile(ProfileUtil.java:83)\n\tat org.eclipse.datatools.sqltools.core.profile.ProfileUtil.getDatabaseVendorDefinitionId(ProfileUtil.java:107)\n\tat org.eclipse.datatools.sqltools.core.SQLToolsFacade.getConfigurationByProfileName(SQLToolsFacade.java:123)\n\tat org.eclipse.datatools.sqltools.core.SQLToolsFacade.getConfiguration(SQLToolsFacade.java:141)\n\tat org.eclipse.datatools.sqltools.sqleditor.result.ResultSupportRunnable.run(ResultSupportRunnable.java:95)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)",
    "Created an attachment (id\u003d44026)\nLog of all exceptions\n\n",
    "Hey Rob, do you think it make sense to add profileAboutToBeDeleted() in IProfileListener?",
    "I don\u0027t think so.  The user has chosen to delete the profile and is even prompted to be sure.  There is no reason to allow the operation to be cancelled internally, so there is no reason to add an \"aboutToBeDeleted\" notification.\n\nThat said, if you do need to do some processing as part of the delete action, you should integrate with the refactoring framework.  Most CP events are executed through the refactoring framework (property changes are not executed through the refactoring framework).  Given that, you could add a delete participant to handle any sql dev tools specific issues.  Your participant will be invoked as part of the delete operation.  You can also cause the delete to fail, although I would recommend against doing such for the reasons stated above (the user invoked the delete and verified the delete from the prompt).\n\nHope that helps.\nRob",
    "This bug have already been fixed with the addition of SQL editor\u0027s internal tool bar. When the profile is deleted, and user goes back to the editor, the connection info shown in the editor\u0027s internal tool bar is automatically updated to reflect the connection status: profile name and database name are cleared, and status is disconnected. User can\u0027t execute the statements any more."
  ],
  "commentCreationDates": [
    "2006-06-09T20:30:11+02:00",
    "2006-06-09T20:30:57+02:00",
    "2006-11-29T05:23:22+01:00",
    "2006-11-29T16:50:20+01:00",
    "2007-09-03T12:04:07+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.datatools.sqltools.core.profile.NoSuchProfileException",
      "message": "Cannot find profile: Test2",
      "elements": [
        {
          "method": "org.eclipse.datatools.sqltools.core.profile.ProfileUtil.getProfile",
          "source": "ProfileUtil.java:83"
        },
        {
          "method": "org.eclipse.datatools.sqltools.core.profile.ProfileUtil.getDatabaseVendorDefinitionId",
          "source": "ProfileUtil.java:107"
        },
        {
          "method": "org.eclipse.datatools.sqltools.core.SQLToolsFacade.getConfigurationByProfileName",
          "source": "SQLToolsFacade.java:123"
        },
        {
          "method": "org.eclipse.datatools.sqltools.core.SQLToolsFacade.getConfiguration",
          "source": "SQLToolsFacade.java:141"
        },
        {
          "method": "org.eclipse.datatools.sqltools.sqleditor.result.ResultSupportRunnable.run",
          "source": "ResultSupportRunnable.java:95"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "146314",
      "date": "2006-06-09T20:30:11+02:00",
      "product": "Data Tools",
      "component": "SQL Editor Framework",
      "severity": "normal"
    }
  ],
  "groupId": "146314",
  "bugId": "146314",
  "date": "2006-06-09T20:30:11+02:00",
  "product": "Data Tools",
  "component": "SQL Editor Framework",
  "severity": "normal"
}