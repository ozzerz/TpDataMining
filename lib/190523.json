{
  "comments": [
    "Build ID: I20070517-1700\n\nSteps To Reproduce:\n1. Create a new product\n2. Click the \"Launch an Eclipse application\" link on the Overview page\n3. The generated launcher doesn\u0027t include arguments like -ws ${target.ws} that you get if you just create a new one from scratch in the Run dialog.\n\n\n\nMore information:\nThe more significant problem here is that when we try to start an application without these arguments on a computer with osgi.os\u003dlinux, osgi.arch\u003dx86_64 while running GTK, osgi.ws\u0027s value comes up as \"motif\" and we get this error:\n\n!ENTRY org.eclipse.osgi 2 0 2007-06-01 11:06:42.653\n!MESSAGE The following is a complete list of bundles which are not resolved, see the prior log entry for the root cause if it exists:\n!SUBENTRY 1 org.eclipse.osgi 2 0 2007-06-01 11:06:42.653\n!MESSAGE Bundle update@plugins/org.eclipse.swt.gtk.linux.x86_64_3.3.0.v3344.jar [49] was not resolved.\n!SUBENTRY 2 org.eclipse.swt.gtk.linux.x86_64 2 0 2007-06-01 11:06:42.653\n!MESSAGE Platform filter did not match: (\u0026 (osgi.ws\u003dgtk) (osgi.os\u003dlinux) (osgi.arch\u003dx86_64))\n\nNote - we are *not* using Motif on this computer - it\u0027s being detected incorrectly.  If we override it by putting -ws\u003dgtk in the program arguments, everything works fine.\n\nFrankly, we don\u0027t want to have to include these arguments at all to have a working run configuration because they clutter things up.  I\u0027d prefer it if this bug were fixed by making it so that the correct osgi.ws value is discovered by default in this situation.  Could it be that there is a problem with how you\u0027re retrieving the default value of osgi.ws on this architecture/os?\n\nHowever, I also think these arguments should be there by default in run configs generated automatically from products if that\u0027s \"the new way we\u0027re doing things\".\n\nThanks!",
    "Jeff, do you see anything in your .log file?  I checked the code and the same code should generate the default program arguments (including the os/ws/arch/nl args) for a runtime workbench created from the shortcut or the run dialog.  I am wondering if there is an error some where that happens before we are able to set them.\n\nAlso, the runtime problems you are running into as a side effect of this bug are being tracked with https://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d185952 (Thanks Tom!).",
    "I looked in the log file and didn\u0027t see anything that looked like it was related to the problem.  Here are the errors that mention OSGI:\n\n!ENTRY org.eclipse.osgi 4 0 2007-06-01 10:06:03.139\n!MESSAGE Error reading configuration: /scratch/eclipse-3.3RC1/configuration/org\\\n.eclipse.osgi/.manager/.fileTableLock (Permission denied)\n!STACK 0\njava.io.FileNotFoundException: /scratch/eclipse-3.3RC1/configuration/org.eclips\\\ne.osgi/.manager/.fileTableLock (Permission denied)\n        at java.io.RandomAccessFile.open(Native Method)\n        at java.io.RandomAccessFile.\u003cinit\u003e(RandomAccessFile.java:212)\n        at org.eclipse.core.runtime.internal.adaptor.Locker_JavaNio.lock(Locker\\\n_JavaNio.java:32)\n        at org.eclipse.osgi.storagemanager.StorageManager.lock(StorageManager.j\\\nava:388)\n        at org.eclipse.osgi.storagemanager.StorageManager.open(StorageManager.j\\\nava:695)\n        at org.eclipse.osgi.internal.baseadaptor.BaseStorage.initFileManager(Ba\\\nseStorage.java:162)\n        at org.eclipse.osgi.internal.baseadaptor.BaseStorage.initialize(BaseSto\\\nrage.java:139)\n        at org.eclipse.osgi.baseadaptor.BaseAdaptor.initializeStorage(BaseAdapt\\\nor.java:124)\n        at org.eclipse.osgi.framework.internal.core.Framework.initialize(Framew\\\nork.java:174)\n        at org.eclipse.osgi.framework.internal.core.Framework.\u003cinit\u003e(Framework.\\\njava:147)\n        at org.eclipse.osgi.framework.internal.core.OSGi.createFramework(OSGi.j\\\nava:90)\n        at org.eclipse.osgi.framework.internal.core.OSGi.\u003cinit\u003e(OSGi.java:31)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.startup(EclipseStart\\\ner.java:283)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.j\\\nava:172)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl\\\n.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcce\\\nssorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:497)\n        at org.eclipse.equinox.launcher.Main.basicRun(Main.java:436)\n        at org.eclipse.equinox.launcher.Main.run(Main.java:1162)\n        at org.eclipse.equinox.launcher.Main.main(Main.java:1137)\n\n\n\n!ENTRY org.eclipse.osgi 4 0 2007-06-01 10:06:34.068\n!MESSAGE\n!STACK 0\njava.io.IOException: Permission denied\n        at java.io.UnixFileSystem.createFileExclusively(Native Method)\n        at java.io.File.checkAndCreate(File.java:1704)\n        at java.io.File.createTempFile(File.java:1793)\n        at org.eclipse.osgi.storagemanager.StorageManager.createTempFile(Storag\\\neManager.java:721)\n        at org.eclipse.osgi.storagemanager.StorageManager.getOutputStream(Stora\\\ngeManager.java:783)\n        at org.eclipse.osgi.internal.baseadaptor.BaseStorage.saveBundleDatas(Ba\\\nseStorage.java:489)\n        at org.eclipse.osgi.internal.baseadaptor.BaseStorage.saveAllData(BaseSt\\\norage.java:382)\n        at org.eclipse.osgi.internal.baseadaptor.BaseStorage.access$1(BaseStora\\\nge.java:372)\n        at org.eclipse.osgi.internal.baseadaptor.BaseStorage$StateSaver.run(Bas\\\neStorage.java:1115)\n        at java.lang.Thread.run(Thread.java:619)\n\n!ENTRY org.eclipse.osgi 4 0 2007-06-01 10:06:34.068\n!MESSAGE\n!STACK 0\njava.io.IOException: Permission denied\n        at java.io.UnixFileSystem.createFileExclusively(Native Method)\n        at java.io.File.checkAndCreate(File.java:1704)\n        at java.io.File.createTempFile(File.java:1793)\n        at org.eclipse.osgi.internal.baseadaptor.BaseStorage.saveStateData(Base\\\nStorage.java:539)\n        at org.eclipse.osgi.internal.baseadaptor.BaseStorage.saveAllData(BaseSt\\\norage.java:383)\n        at org.eclipse.osgi.internal.baseadaptor.BaseStorage.access$1(BaseStora\\\nge.java:372)\n        at org.eclipse.osgi.internal.baseadaptor.BaseStorage$StateSaver.run(Bas\\\neStorage.java:1115)\n        at java.lang.Thread.run(Thread.java:619)\n\n\n",
    "Created an attachment (id\u003d69832)\nPatch\n\n",
    "Brian, this is a regression due to fix for bug 133072.\n\nThe attached patch ought to do it.\n\nHere is how you verify:\n1. Create an RCP mail app\n2. Create a product configuration based on product from #1\n3. Launch the product using the link on the Overview page of the product editor.\n\nBring up the launch configuration dialog.\nExamine the launch configuration named after the product file.\nGo to the Arguments tabs.  \n\nMake sure you see the following args: \"-os ${target.os} -ws ${target.ws} -arch ${target.arch} -nl ${target.nl}\"",
    "Mike/Brian, please verify the fix for RC4.\n\nDejan just needs to approve that it needs to go in.",
    "Looks good to me.  +1 for RC4.",
    "looks good, cc\u0027ng Dejan",
    "Tested well. +1",
    "Dejan, can you review this fix for inclusion in RC4?",
    "patch applied to HEAD for RC4.",
    "I just downloaded RC4 and checked this and it still isn\u0027t working.  The arguments still don\u0027t appear in my run config if I use the \"launch an eclipse application\" link.  They appear there if I create the run configuration from inside the run dialog.",
    "It works fine for me on RC4.",
    "It seems to be working fine for me also in RC4.",
    "In fact, I am willing to pay everybody who voted for this bug a shiny nickel (each) if it does not work on 3.3 RC4",
    "My apologies - I tried again and it seems to be working now.  Perhaps I had a stale run configuration hanging around from RC3.\n\nPlease close with my compliments. :)",
    "closing."
  ],
  "commentCreationDates": [
    "2007-06-01T20:18:42+02:00",
    "2007-06-01T21:19:48+02:00",
    "2007-06-02T00:14:00+02:00",
    "2007-06-02T03:17:30+02:00",
    "2007-06-02T03:29:47+02:00",
    "2007-06-02T03:33:59+02:00",
    "2007-06-03T19:34:57+02:00",
    "2007-06-04T15:57:10+02:00",
    "2007-06-04T16:22:28+02:00",
    "2007-06-05T16:57:15+02:00",
    "2007-06-05T18:04:47+02:00",
    "2007-06-12T02:37:54+02:00",
    "2007-06-12T12:09:53+02:00",
    "2007-06-12T19:53:08+02:00",
    "2007-06-12T20:00:49+02:00",
    "2007-06-12T22:13:33+02:00",
    "2007-06-12T22:23:04+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.io.FileNotFoundException",
      "message": "/scratch/eclipse-3.3RC1/configuration/org.eclips\\ e.osgi/.manager/.fileTableLock (Permission denied)",
      "elements": [
        {
          "method": "java.io.RandomAccessFile.open",
          "source": "Native Method"
        },
        {
          "method": "java.io.RandomAccessFile.\u003cinit\u003e",
          "source": "RandomAccessFile.java:212"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.Locker_JavaNio.lock",
          "source": "Locker\\ _JavaNio.java:32"
        },
        {
          "method": "org.eclipse.osgi.storagemanager.StorageManager.lock",
          "source": "StorageManager.j\\ ava:388"
        },
        {
          "method": "org.eclipse.osgi.storagemanager.StorageManager.open",
          "source": "StorageManager.j\\ ava:695"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.BaseStorage.initFileManager",
          "source": "Ba\\ seStorage.java:162"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.BaseStorage.initialize",
          "source": "BaseSto\\ rage.java:139"
        },
        {
          "method": "org.eclipse.osgi.baseadaptor.BaseAdaptor.initializeStorage",
          "source": "BaseAdapt\\ or.java:124"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.Framework.initialize",
          "source": "Framew\\ ork.java:174"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.Framework.\u003cinit\u003e",
          "source": "Framework.\\ java:147"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.OSGi.createFramework",
          "source": "OSGi.j\\ ava:90"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.OSGi.\u003cinit\u003e",
          "source": "OSGi.java:31"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.startup",
          "source": "EclipseStart\\ er.java:283"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.j\\ ava:172"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl\\ .java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAcce\\ ssorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:597"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:497"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:436"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1162"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1137"
        }
      ],
      "number": 0,
      "commentIndex": 2,
      "bugId": "190523",
      "date": "2007-06-02T00:14:00+02:00",
      "product": "PDE",
      "component": "UI",
      "severity": "normal"
    },
    {
      "exceptionType": "java.io.IOException",
      "message": "Permission denied",
      "elements": [
        {
          "method": "java.io.UnixFileSystem.createFileExclusively",
          "source": "Native Method"
        },
        {
          "method": "java.io.File.checkAndCreate",
          "source": "File.java:1704"
        },
        {
          "method": "java.io.File.createTempFile",
          "source": "File.java:1793"
        },
        {
          "method": "org.eclipse.osgi.storagemanager.StorageManager.createTempFile",
          "source": "Storag\\ eManager.java:721"
        },
        {
          "method": "org.eclipse.osgi.storagemanager.StorageManager.getOutputStream",
          "source": "Stora\\ geManager.java:783"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.BaseStorage.saveBundleDatas",
          "source": "Ba\\ seStorage.java:489"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.BaseStorage.saveAllData",
          "source": "BaseSt\\ orage.java:382"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.BaseStorage.access$1",
          "source": "BaseStora\\ ge.java:372"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.BaseStorage$StateSaver.run",
          "source": "Bas\\ eStorage.java:1115"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:619"
        }
      ],
      "number": 1,
      "commentIndex": 2,
      "bugId": "190523",
      "date": "2007-06-02T00:14:00+02:00",
      "product": "PDE",
      "component": "UI",
      "severity": "normal"
    },
    {
      "exceptionType": "java.io.IOException",
      "message": "Permission denied",
      "elements": [
        {
          "method": "java.io.UnixFileSystem.createFileExclusively",
          "source": "Native Method"
        },
        {
          "method": "java.io.File.checkAndCreate",
          "source": "File.java:1704"
        },
        {
          "method": "java.io.File.createTempFile",
          "source": "File.java:1793"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.BaseStorage.saveStateData",
          "source": "Base\\ Storage.java:539"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.BaseStorage.saveAllData",
          "source": "BaseSt\\ orage.java:383"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.BaseStorage.access$1",
          "source": "BaseStora\\ ge.java:372"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.BaseStorage$StateSaver.run",
          "source": "Bas\\ eStorage.java:1115"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:619"
        }
      ],
      "number": 2,
      "commentIndex": 2,
      "bugId": "190523",
      "date": "2007-06-02T00:14:00+02:00",
      "product": "PDE",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "190523",
  "bugId": "190523",
  "date": "2007-06-01T20:18:42+02:00",
  "product": "PDE",
  "component": "UI",
  "severity": "normal"
}