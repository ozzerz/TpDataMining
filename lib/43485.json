{
  "comments": [
    "smoke for 20030923 (jdt.core preview 20030922)\n\n1. In the following code select getName and do a search for declarations.\n --\u003e NPE\n\npublic class A {\n\tpublic String getName() {\n\t\tRunnable run\u003d new Runnable() {\n\t\t\tpublic void run() {\n\t\t\t\t// TODO Auto-generated method stub\n\t                }\n\t\t};\n\t\treturn \"xx\";\n\t}\n}\n\nCaused by: java.lang.NullPointerException\n\tat org.eclipse.jdt.internal.compiler.parser.Scanner.setSource(Scanner.java:3017)\n\tat org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:5934)\n\tat org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:5916)\n\tat org.eclipse.jdt.internal.compiler.parser.Parser.dietParse(Parser.java:4663)\n\tat\norg.eclipse.jdt.internal.core.search.matching.MatchLocator.buildBindings(MatchLocator.java:289)\n\tat\norg.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:582)\n\tat\norg.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:641)\n\tat\norg.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:750)\n\tat org.eclipse.jdt.core.search.SearchEngine.search(SearchEngine.java:515)\n\tat org.eclipse.jdt.core.search.SearchEngine.search(SearchEngine.java:442)\n\tat\norg.eclipse.jdt.internal.ui.search.JavaSearchOperation.execute(JavaSearchOperation.java:90)\n\tat\norg.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:71)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1586)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1603)\n\tat\norg.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:85)\n\tat\norg.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:101)",
    "The fix is easy.\npublic final void setSource(char[] source){\n\t//the source-buffer is set to sourceString\n\n\tif (source \u003d\u003d null) {\n\t\tthis.source \u003d CharOperation.NO_CHAR;\n\t} else {\n\t\tthis.source \u003d source;\n\t}\n\tstartPosition \u003d -1;\n\teofPosition \u003d source.length;\n\tinitialPosition \u003d currentPosition \u003d 0;\n\tcontainsAssertKeyword \u003d false;\n\twithoutUnicodeBuffer \u003d new char[this.source.length];\n}\n\nsource.length; should be replaced with this.source.length;\nthis.source cannot be null, but source can be null. We might want to rename the\nparameter to prevent any other confusion.",
    "Here is a patch for this. Same patch has to be applied to PublicScanner.\n",
    "Created an attachment (id\u003d6189)\nApply this patch on the Scanner class.\n",
    "Created an attachment (id\u003d6190)\nApply this patch on PublicScanner.\n",
    "Fixed and released in HEAD.\nRegression test added.",
    "Verified."
  ],
  "commentCreationDates": [
    "2003-09-23T12:25:01+02:00",
    "2003-09-23T14:08:49+02:00",
    "2003-09-23T14:13:52+02:00",
    "2003-09-23T14:14:18+02:00",
    "2003-09-23T14:15:43+02:00",
    "2003-09-23T17:03:24+02:00",
    "2003-10-08T16:30:00+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.parser.Scanner.setSource",
          "source": "Scanner.java:3017"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.parser.Parser.parse",
          "source": "Parser.java:5934"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.parser.Parser.parse",
          "source": "Parser.java:5916"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.parser.Parser.dietParse",
          "source": "Parser.java:4663"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.buildBindings",
          "source": "MatchLocator.java:289"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches",
          "source": "MatchLocator.java:582"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches",
          "source": "MatchLocator.java:641"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches",
          "source": "MatchLocator.java:750"
        },
        {
          "method": "org.eclipse.jdt.core.search.SearchEngine.search",
          "source": "SearchEngine.java:515"
        },
        {
          "method": "org.eclipse.jdt.core.search.SearchEngine.search",
          "source": "SearchEngine.java:442"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.search.JavaSearchOperation.execute",
          "source": "JavaSearchOperation.java:90"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation$1.run",
          "source": "WorkspaceModifyOperation.java:71"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1586"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1603"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation.run",
          "source": "WorkspaceModifyOperation.java:85"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:101"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "43485",
      "date": "2003-09-23T12:25:01+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "43485",
  "bugId": "43485",
  "date": "2003-09-23T12:25:01+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}