{
  "comments": [
    "I\u0027ve been getting these exceptions for a long time and they still happen \nfrequently with M9:\n\n!SESSION May 26, 2004 06:45:33.26 ----------------------------------------------\neclipse.buildId\u003dI200405211200\njava.fullversion\u003dJ2RE 1.4.1 IBM Windows 32 build cn1411-20030930 (JIT enabled: \njitc)\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_US\n!ENTRY org.eclipse.jdt.core 4 4 May 26, 2004 06:45:33.26\n!MESSAGE Background Indexer Crash Recovery\n!STACK 0\njava.lang.IllegalArgumentException: Buffer size \u003c\u003d 0\n at java.io.BufferedInputStream.\u003cinit\u003e(BufferedInputStream.java(Inlined Compiled \nCode))\n at java.io.BufferedInputStream.\u003cinit\u003e(BufferedInputStream.java(Inlined Compiled \nCode))\n at \norg.eclipse.jdt.internal.core.index.DiskIndex.readCategoryTable(DiskIndex.java(C\nompiled Code))\n at \norg.eclipse.jdt.internal.core.index.DiskIndex.mergeCategory(DiskIndex.java:360)\n at \norg.eclipse.jdt.internal.core.index.DiskIndex.mergeCategories(DiskIndex.java:352\n)\n at org.eclipse.jdt.internal.core.index.DiskIndex.mergeWith(DiskIndex.java:444)\n at org.eclipse.jdt.internal.core.index.Index.save(Index.java:171)\n at \norg.eclipse.jdt.internal.core.search.indexing.IndexManager.saveIndex(IndexManage\nr.java:491)\n at \norg.eclipse.jdt.internal.core.search.indexing.IndexManager.saveIndexes(IndexMana\nger.java:533)\n at \norg.eclipse.jdt.internal.core.search.indexing.IndexManager.notifyIdle(IndexManag\ner.java:354)\n at \norg.eclipse.jdt.internal.core.search.processing.JobManager.run(JobManager.java:3\n50)\n at java.lang.Thread.run(Thread.java:568)\n\nI\u0027m not sure what causes them.",
    "From the stack trace, this is the call we are making in DiskIndex:\n\nDataInputStream stream \u003d new DataInputStream(new BufferedInputStream(new \nFileInputStream(getIndexFile())));\n\nThe constructor in BufferedInputStream is:\n\npublic BufferedInputStream(InputStream in) {\n  this(in, defaultBufferSize);\n}\n\nwhich calls:\n\npublic BufferedInputStream(InputStream in, int size) {\n  super(in);\n  if (size \u003c\u003d 0) {\n    throw new IllegalArgumentException(\"Buffer size \u003c\u003d 0\");\n  }\n  buf \u003d new byte[size];\n}\n\nWe do NOT pass in the buffer size (we use the default) so how can it be \u003c\u003d 0?\n\nIts initialized as:\n\n    private static int defaultBufferSize \u003d 2048;\n\n*** This bug has been marked as a duplicate of 57419 ***"
  ],
  "commentCreationDates": [
    "2004-05-26T13:52:15+02:00",
    "2004-05-26T15:53:59+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Buffer size \u003c\u003d 0",
      "elements": [
        {
          "method": "java.io.BufferedInputStream.\u003cinit\u003e",
          "source": "BufferedInputStream.java(Inlined Compiled  Code)"
        },
        {
          "method": "java.io.BufferedInputStream.\u003cinit\u003e",
          "source": "BufferedInputStream.java(Inlined Compiled  Code)"
        },
        {
          "method": "org.eclipse.jdt.internal.core.index.DiskIndex.readCategoryTable",
          "source": "DiskIndex.java(C ompiled Code)"
        },
        {
          "method": "org.eclipse.jdt.internal.core.index.DiskIndex.mergeCategory",
          "source": "DiskIndex.java:360"
        },
        {
          "method": "org.eclipse.jdt.internal.core.index.DiskIndex.mergeCategories",
          "source": "DiskIndex.java:352 "
        },
        {
          "method": "org.eclipse.jdt.internal.core.index.DiskIndex.mergeWith",
          "source": "DiskIndex.java:444"
        },
        {
          "method": "org.eclipse.jdt.internal.core.index.Index.save",
          "source": "Index.java:171"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.IndexManager.saveIndex",
          "source": "IndexManage r.java:491"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.IndexManager.saveIndexes",
          "source": "IndexMana ger.java:533"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.IndexManager.notifyIdle",
          "source": "IndexManag er.java:354"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.processing.JobManager.run",
          "source": "JobManager.java:3 50"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:568"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "64076",
      "duplicateId": "57419",
      "date": "2004-05-26T13:52:15+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "57419",
  "bugId": "64076",
  "duplicateId": "57419",
  "date": "2004-05-26T13:52:15+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}