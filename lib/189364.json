{
  "comments": [
    "In Maven files belonging to the artifact\u0027s META-INF are placed in src/main/config\n\nVia WTP\u0027s flexible project structure one can put \n\n\u003cwb-resource deploy-path\u003d\"/META-INF\" source-path\u003d\"/src/main/config\" /\u003e\n\ninto org.eclipse.wst.common.component\n\nUnfortunately JPA does not search this place for it\u0027s persistence.xml and/or orm.xml\n\nsee attached screenshot",
    "Created an attachment (id\u003d68895)\npic showing the problem\n\nI\u0027m not sure if the pink one is a different error; or if it results of the persistence.xml not found.\n\nDummyEntity.java:\n\npackage dummy;\n\nimport java.io.Serializable;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n\n@Entity\npublic class DummyEntity implements Serializable {\n\n    private static final long serialVersionUID \u003d -3880754230157918532L;\n\n    private int id;\n\n    @Id\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id \u003d id;\n    }\n\n    /** {@inheritDoc} */\n    @Override\n    public String toString() {\n        return String.valueOf(id);\n    }\n}",
    "Investigate for RC2.",
    "Created an attachment (id\u003d69352)\nproposed patch\n\nI *believe* this fixes the problem.  I\u0027m not too familiar with the flexible project framework, and I think I\u0027ve tested out all the contingencies, but Sebastian, if you could try it out and see if it causes you any problems while solving your problem, that\u0027d be a ton of help.\n\nThis should solve for persistence.xml and for all files referenced from persistence.xml.",
    "submitted for approval (PMC and reporter) ...",
    "This is a large adopter issue and will make the Dali tooling much more flexible for alternative project structures.  The code changes actually simplified our processing and this has been thoroughly tested to ensure that no regression to our existing functionality was seen.  A lot of the patch is a simple variable name refactor.\n\nI have confirmed that this patch will resolve the issue noted.  Tested and approved.  Requesting PMC approval.",
    "committed",
    "I unsucessfully tried to verify this bug:\n\nI imported:\n\norg.eclipse.jpa/components/jpa/plugins/org.eclipse.jpa.core\norg.eclipse.jpa/components/jpa/plugins/org.eclipse.jpa.db\norg.eclipse.jpa/components/jpa/plugins/org.eclipse.jpa.utility\n\ninto my workspace.\n\nI created a new utility project.\n\nManually assigned the JPA facet.\n\nCreated a folder \"conf\".\n\nAdded to file org.eclipse.wst.common.component:\n\n\u003cwb-resource deploy-path\u003d\"/META-INF\" source-path\u003d\"/conf\" /\u003e\n\nCopied persistence.xml \u0026 orm.xml to \"conf\".\n\nDeleted persistence.xml \u0026 orm.xml in src/META-INF\n\nThe error is still there:\n\nSeverity and Description\tPath\tResource\tLocation\tCreation Time\tId\nNo persistence.xml file in project\t\tu\tUnknown\t1181669492503\t15\n\n@@@@\n\nIn the console of the host Eclipse:\n\norg.eclipse.core.internal.resources.ResourceException: Resource \u0027/u/src/META-INF/orm.xml\u0027 does not exist.\n\tat org.eclipse.core.internal.resources.Resource.checkExists(Resource.java:310)\n\tat org.eclipse.core.internal.resources.Resource.checkAccessible(Resource.java:193)\n\tat org.eclipse.core.internal.resources.File.getContentDescription(File.java:267)\n\tat org.eclipse.wst.validation.internal.ValidatorMetaData.isApplicableTo(ValidatorMetaData.java:350)\n\tat org.eclipse.wst.validation.internal.ValidatorMetaData.isApplicableTo(ValidatorMetaData.java:326)\n\tat org.eclipse.wst.validation.internal.FilterUtil.filterOut(FilterUtil.java:379)\n\tat org.eclipse.wst.validation.internal.FilterUtil.filterOut(FilterUtil.java:413)\n\tat org.eclipse.wst.validation.internal.FilterUtil.filterOut(FilterUtil.java:478)\n\tat org.eclipse.wst.validation.internal.FilterUtil$2.visit(FilterUtil.java:684)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:67)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:76)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:76)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:76)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:55)\n\tat org.eclipse.wst.validation.internal.FilterUtil.loadDeltas(FilterUtil.java:699)\n\tat org.eclipse.wst.validation.internal.operations.ValidationOperation.loadFileDeltas(ValidationOperation.java:544)\n\tat org.eclipse.wst.validation.internal.operations.ValidationOperation.getFileDeltas(ValidationOperation.java:514)\n\tat org.eclipse.wst.validation.internal.operations.ValidationOperation.preValidate(ValidationOperation.java:828)\n\tat org.eclipse.wst.validation.internal.operations.ValidationOperation.run(ValidationOperation.java:656)\n\tat org.eclipse.wst.validation.internal.operations.ValidationBuilder.build(ValidationBuilder.java:203)\n\tat org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:624)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:166)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:197)\n\tat org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:246)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:249)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:302)\n\tat org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:334)\n\tat org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:137)\n\tat org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:235)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)\norg.eclipse.core.internal.resources.ResourceException: Resource \u0027/u/src/META-INF/persistence.xml\u0027 does not exist.\n\tat org.eclipse.core.internal.resources.Resource.checkExists(Resource.java:310)\n\tat org.eclipse.core.internal.resources.Resource.checkAccessible(Resource.java:193)\n\tat org.eclipse.core.internal.resources.File.getContentDescription(File.java:267)\n\tat org.eclipse.wst.validation.internal.ValidatorMetaData.isApplicableTo(ValidatorMetaData.java:350)\n\tat org.eclipse.wst.validation.internal.ValidatorMetaData.isApplicableTo(ValidatorMetaData.java:326)\n\tat org.eclipse.wst.validation.internal.FilterUtil.filterOut(FilterUtil.java:379)\n\tat org.eclipse.wst.validation.internal.FilterUtil.filterOut(FilterUtil.java:413)\n\tat org.eclipse.wst.validation.internal.FilterUtil.filterOut(FilterUtil.java:478)\n\tat org.eclipse.wst.validation.internal.FilterUtil$2.visit(FilterUtil.java:684)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:67)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:76)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:76)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:76)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:55)\n\tat org.eclipse.wst.validation.internal.FilterUtil.loadDeltas(FilterUtil.java:699)\n\tat org.eclipse.wst.validation.internal.operations.ValidationOperation.loadFileDeltas(ValidationOperation.java:544)\n\tat org.eclipse.wst.validation.internal.operations.ValidationOperation.getFileDeltas(ValidationOperation.java:514)\n\tat org.eclipse.wst.validation.internal.operations.ValidationOperation.preValidate(ValidationOperation.java:828)\n\tat org.eclipse.wst.validation.internal.operations.ValidationOperation.run(ValidationOperation.java:656)\n\tat org.eclipse.wst.validation.internal.operations.ValidationBuilder.build(ValidationBuilder.java:203)\n\tat org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:624)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:166)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:197)\n\tat org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:246)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:249)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:302)\n\tat org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:334)\n\tat org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:137)\n\tat org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:235)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)",
    "Note to the above:\n\n[...]\ninto my workspace.\n\n\u003c\u003c\u003c launch Eclipse runtime w/ all workspace and enabled target plug-ins \u003e\u003e\u003e\n\nI created a new utility project.\n[...]",
    "You should probably try on the latest RC build of WTP.\n\nEither that or use the org.eclipse.*jpt* plugins, which are the correct plugins now.\n\nBut the latest RC build would be the easiest route.",
    "OK tried the following:\n\neclipse-SDK-3.3RC4-macosx-carbon.tar\nGEF-ALL-3.3RC3.zip\nemf-sdo-xsd-SDK-2.3.0RC3.zip\ndtp-sdk_1.5RC3.zip\nwtp-sdk-S-2.0RC2-200706050057.zip\n\nDid the steps mentioned in comment 7.\n\nStill does not work.",
    "Verification steps (after installing WTP \u0026 deps):\n\n- create new workspace\n- create new J2EE Utility project w/ java 5.0 and utility 1.0 facets\n- open project\u0027s preferences and add jpa facet\n- create folder \"conf\" in project\u0027s root\n- copy files persistence.xml \u0026 orm.xml from src/META-INF to \"conf\"\n- modify file org.eclipse.wst.common.component by adding: \u003cwb-resource deploy-path\u003d\"/META-INF\" source-path\u003d\"/conf\" /\u003e\n- delete files persistence.xml \u0026 orm.xml in src/META-INF\n\nShould I reopen?",
    "Ah, any folder you put our config files in *does* need to be a source folder.  If you make \"conf\" a source folder, all works.",
    "After further investigation, it has come to my attention that the rest of WTP does not have that same requirement (config files in source folders).  This is a complicated issue (in that JPA has a more complicated development and deployment story than most WTP models), but we are discussing the issue and will open a separate bug on that if we feel it\u0027s necessary.\n\nThat is, however, a separate issue than this one.",
    "Intended change has been verified.  A new bug should be opened for other related issues.",
    "Verified, closing."
  ],
  "commentCreationDates": [
    "2007-05-28T08:26:08+02:00",
    "2007-05-28T08:28:32+02:00",
    "2007-05-29T17:48:14+02:00",
    "2007-05-30T20:32:30+02:00",
    "2007-05-30T20:33:59+02:00",
    "2007-05-30T22:36:10+02:00",
    "2007-05-31T00:05:08+02:00",
    "2007-06-12T19:38:58+02:00",
    "2007-06-12T19:41:42+02:00",
    "2007-06-12T19:44:31+02:00",
    "2007-06-14T16:24:17+02:00",
    "2007-06-14T16:31:22+02:00",
    "2007-06-14T16:45:24+02:00",
    "2007-06-14T19:22:11+02:00",
    "2007-06-26T23:24:38+02:00",
    "2007-07-02T19:11:05+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.internal.resources.ResourceException",
      "message": "Resource \u0027/u/src/META-INF/orm.xml\u0027 does not exist.",
      "elements": [
        {
          "method": "org.eclipse.core.internal.resources.Resource.checkExists",
          "source": "Resource.java:310"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource.checkAccessible",
          "source": "Resource.java:193"
        },
        {
          "method": "org.eclipse.core.internal.resources.File.getContentDescription",
          "source": "File.java:267"
        },
        {
          "method": "org.eclipse.wst.validation.internal.ValidatorMetaData.isApplicableTo",
          "source": "ValidatorMetaData.java:350"
        },
        {
          "method": "org.eclipse.wst.validation.internal.ValidatorMetaData.isApplicableTo",
          "source": "ValidatorMetaData.java:326"
        },
        {
          "method": "org.eclipse.wst.validation.internal.FilterUtil.filterOut",
          "source": "FilterUtil.java:379"
        },
        {
          "method": "org.eclipse.wst.validation.internal.FilterUtil.filterOut",
          "source": "FilterUtil.java:413"
        },
        {
          "method": "org.eclipse.wst.validation.internal.FilterUtil.filterOut",
          "source": "FilterUtil.java:478"
        },
        {
          "method": "org.eclipse.wst.validation.internal.FilterUtil$2.visit",
          "source": "FilterUtil.java:684"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:67"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:76"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:76"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:76"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:55"
        },
        {
          "method": "org.eclipse.wst.validation.internal.FilterUtil.loadDeltas",
          "source": "FilterUtil.java:699"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidationOperation.loadFileDeltas",
          "source": "ValidationOperation.java:544"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidationOperation.getFileDeltas",
          "source": "ValidationOperation.java:514"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidationOperation.preValidate",
          "source": "ValidationOperation.java:828"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidationOperation.run",
          "source": "ValidationOperation.java:656"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidationBuilder.build",
          "source": "ValidationBuilder.java:203"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$2.run",
          "source": "BuildManager.java:624"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:166"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:197"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$1.run",
          "source": "BuildManager.java:246"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:249"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuildLoop",
          "source": "BuildManager.java:302"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.build",
          "source": "BuildManager.java:334"
        },
        {
          "method": "org.eclipse.core.internal.events.AutoBuildJob.doBuild",
          "source": "AutoBuildJob.java:137"
        },
        {
          "method": "org.eclipse.core.internal.events.AutoBuildJob.run",
          "source": "AutoBuildJob.java:235"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:55"
        }
      ],
      "number": 0,
      "commentIndex": 7,
      "bugId": "189364",
      "date": "2007-06-12T19:38:58+02:00",
      "product": "Dali JPA Tools",
      "component": "General",
      "severity": "critical"
    },
    {
      "exceptionType": "org.eclipse.core.internal.resources.ResourceException",
      "message": "Resource \u0027/u/src/META-INF/persistence.xml\u0027 does not exist.",
      "elements": [
        {
          "method": "org.eclipse.core.internal.resources.Resource.checkExists",
          "source": "Resource.java:310"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource.checkAccessible",
          "source": "Resource.java:193"
        },
        {
          "method": "org.eclipse.core.internal.resources.File.getContentDescription",
          "source": "File.java:267"
        },
        {
          "method": "org.eclipse.wst.validation.internal.ValidatorMetaData.isApplicableTo",
          "source": "ValidatorMetaData.java:350"
        },
        {
          "method": "org.eclipse.wst.validation.internal.ValidatorMetaData.isApplicableTo",
          "source": "ValidatorMetaData.java:326"
        },
        {
          "method": "org.eclipse.wst.validation.internal.FilterUtil.filterOut",
          "source": "FilterUtil.java:379"
        },
        {
          "method": "org.eclipse.wst.validation.internal.FilterUtil.filterOut",
          "source": "FilterUtil.java:413"
        },
        {
          "method": "org.eclipse.wst.validation.internal.FilterUtil.filterOut",
          "source": "FilterUtil.java:478"
        },
        {
          "method": "org.eclipse.wst.validation.internal.FilterUtil$2.visit",
          "source": "FilterUtil.java:684"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:67"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:76"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:76"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:76"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:55"
        },
        {
          "method": "org.eclipse.wst.validation.internal.FilterUtil.loadDeltas",
          "source": "FilterUtil.java:699"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidationOperation.loadFileDeltas",
          "source": "ValidationOperation.java:544"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidationOperation.getFileDeltas",
          "source": "ValidationOperation.java:514"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidationOperation.preValidate",
          "source": "ValidationOperation.java:828"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidationOperation.run",
          "source": "ValidationOperation.java:656"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidationBuilder.build",
          "source": "ValidationBuilder.java:203"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$2.run",
          "source": "BuildManager.java:624"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:166"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:197"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$1.run",
          "source": "BuildManager.java:246"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:249"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuildLoop",
          "source": "BuildManager.java:302"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.build",
          "source": "BuildManager.java:334"
        },
        {
          "method": "org.eclipse.core.internal.events.AutoBuildJob.doBuild",
          "source": "AutoBuildJob.java:137"
        },
        {
          "method": "org.eclipse.core.internal.events.AutoBuildJob.run",
          "source": "AutoBuildJob.java:235"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:55"
        }
      ],
      "number": 1,
      "commentIndex": 7,
      "bugId": "189364",
      "date": "2007-06-12T19:38:58+02:00",
      "product": "Dali JPA Tools",
      "component": "General",
      "severity": "critical"
    }
  ],
  "groupId": "189364",
  "bugId": "189364",
  "date": "2007-05-28T08:26:08+02:00",
  "product": "Dali JPA Tools",
  "component": "General",
  "severity": "critical"
}