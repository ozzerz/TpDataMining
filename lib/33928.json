{
  "comments": [
    "I was closing the workbench and received an NPE from the Ant View:\n\n!ENTRY org.eclipse.ui.workbench 4 2 Mar 05, 2003 17:03:28.368\n!MESSAGE Problems occurred when invoking code from plug-\nin: \"org.eclipse.ui.workbench\".\n!STACK 0\njava.lang.NullPointerException\n\tat org.eclipse.ui.externaltools.internal.ant.view.AntView.saveState\n(AntView.java:549)\n\tat org.eclipse.ui.internal.ViewFactory$3.run(ViewFactory.java:194)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java(Compiled Code))\n\tat org.eclipse.core.runtime.Platform.run(Platform.java(Compiled Code))\n\tat org.eclipse.ui.internal.ViewFactory.saveState(ViewFactory.java:192)\n\tat org.eclipse.ui.internal.WorkbenchPage.saveState\n(WorkbenchPage.java:2406)\n\tat org.eclipse.ui.internal.WorkbenchWindow.saveState\n(WorkbenchWindow.java:1443)\n\tat org.eclipse.ui.internal.Workbench.saveState(Workbench.java:1291)\n\tat org.eclipse.ui.internal.Workbench.recordWorkbenchState\n(Workbench.java:1071)\n\tat org.eclipse.ui.internal.Workbench.access$3(Workbench.java:1069)\n\tat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:296)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java(Compiled Code))\n\tat org.eclipse.core.runtime.Platform.run(Platform.java(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.busyClose(Workbench.java:294)\n\tat org.eclipse.ui.internal.Workbench.access$7(Workbench.java:272)\n\tat org.eclipse.ui.internal.Workbench$7.run(Workbench.java:434)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java\n(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.close(Workbench.java:432)\n\tat org.eclipse.ui.internal.Workbench.close(Workbench.java:424)\n\tat org.eclipse.ui.internal.Workbench.close(Workbench.java:418)\n\tat org.eclipse.ui.internal.WorkbenchWindow.busyClose\n(WorkbenchWindow.java:381)\n\tat org.eclipse.ui.internal.WorkbenchWindow.access$0\n(WorkbenchWindow.java:367)\n\tat org.eclipse.ui.internal.WorkbenchWindow$2.run\n(WorkbenchWindow.java:479)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java\n(Compiled Code))\n\tat org.eclipse.ui.internal.WorkbenchWindow.close\n(WorkbenchWindow.java:477)\n\tat org.eclipse.jface.window.Window.handleShellCloseEvent\n(Window.java:498)\n\tat org.eclipse.jface.window.Window$2.shellClosed(Window.java:449)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Decorations.WM_CLOSE(Decorations.java:1273)\n\tat org.eclipse.swt.widgets.Shell.WM_CLOSE(Shell.java:1161)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java(Compiled \nCode))\n\tat org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)\n\tat org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java(Compiled \nCode))\n\tat org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)\n\tat org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java(Compiled \nCode))\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java\n(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java\n(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1251)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:845)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:247)\n\tat org.eclipse.core.launcher.Main.run(Main.java:703)\n\tat org.eclipse.core.launcher.Main.main(Main.java:539)",
    "We can prevent this with a simple null check, but I want to try to figure out\nwhy the project node\u0027s default target is returning null.",
    "My ant plug-in was busted (due to plug-in export problem) - so I had an ant \nbuild file with an error state. Can this happen any time the ant build file has \ninvalid syntax and cannot be parsed properly?",
    "I can see how this could happen. The logic went:\nif (is error node) {\n  store error state\n} else {\n  store default target name\n}\n\nHowever, the \"is error node\" check is only set after the build file has been\nparsed. So if the build file hadn\u0027t been parsed yet and it didn\u0027t have a\ndefault target, the error state wouldn\u0027t be set until inside the else\nstatement (the build file is parsed when you ask for the default target).\n\nI\u0027ve fixed this by asking for the default target before we check if the\nproject is an error node. The ProjectNode#parseBuildFile() ensures that the\nproject node is set as an error node if no default target is set.",
    "Please verify change to AntView#saveState(IMemento)",
    "Verified code."
  ],
  "commentCreationDates": [
    "2003-03-05T23:09:26+01:00",
    "2003-03-06T16:20:27+01:00",
    "2003-03-06T16:23:22+01:00",
    "2003-03-06T16:33:33+01:00",
    "2003-03-06T16:34:18+01:00",
    "2003-03-06T16:52:34+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.view.AntView.saveState",
          "source": "AntView.java:549"
        },
        {
          "method": "org.eclipse.ui.internal.ViewFactory$3.run",
          "source": "ViewFactory.java:194"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.ViewFactory.saveState",
          "source": "ViewFactory.java:192"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.saveState",
          "source": "WorkbenchPage.java:2406"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.saveState",
          "source": "WorkbenchWindow.java:1443"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.saveState",
          "source": "Workbench.java:1291"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.recordWorkbenchState",
          "source": "Workbench.java:1071"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$3",
          "source": "Workbench.java:1069"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:296"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.busyClose",
          "source": "Workbench.java:294"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$7",
          "source": "Workbench.java:272"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$7.run",
          "source": "Workbench.java:434"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.close",
          "source": "Workbench.java:432"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.close",
          "source": "Workbench.java:424"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.close",
          "source": "Workbench.java:418"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.busyClose",
          "source": "WorkbenchWindow.java:381"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.access$0",
          "source": "WorkbenchWindow.java:367"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow$2.run",
          "source": "WorkbenchWindow.java:479"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.close",
          "source": "WorkbenchWindow.java:477"
        },
        {
          "method": "org.eclipse.jface.window.Window.handleShellCloseEvent",
          "source": "Window.java:498"
        },
        {
          "method": "org.eclipse.jface.window.Window$2.shellClosed",
          "source": "Window.java:449"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.WM_CLOSE",
          "source": "Decorations.java:1273"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.WM_CLOSE",
          "source": "Shell.java:1161"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.windowProc",
          "source": "Decorations.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DefWindowProcW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.callWindowProc",
          "source": "Shell.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.callWindowProc",
          "source": "Shell.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.callWindowProc",
          "source": "Shell.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.windowProc",
          "source": "Decorations.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DefWindowProcW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.callWindowProc",
          "source": "Shell.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.callWindowProc",
          "source": "Shell.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.callWindowProc",
          "source": "Shell.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.windowProc",
          "source": "Decorations.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessageW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1251"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:247"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:703"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:539"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "33928",
      "date": "2003-03-05T23:09:26+01:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    }
  ],
  "groupId": "33928",
  "bugId": "33928",
  "date": "2003-03-05T23:09:26+01:00",
  "product": "Platform",
  "component": "Ant",
  "severity": "normal"
}