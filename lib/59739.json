{
  "comments": [
    "I20040420\nAttempting to use content assist in the Ant editor does not work as the \nprotection of the TemplateMessages class precludes its use from the \nTemplateProposal class.\n\nThe following ends up in the log:\njava.lang.IllegalAccessError: tried to access class \norg.eclipse.jface.text.templates.TemplateMessages from class \norg.eclipse.jface.text.templates.TemplateProposal\nat org.eclipse.jface.text.templates.TemplateProposal.getDisplayString\n(TemplateProposal.java:297)\nat org.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor$1.compare\n(AntEditorCompletionProcessor.java:105)\nat java.util.Arrays.mergeSort(Arrays.java:1278)\nat java.util.Arrays.mergeSort(Arrays.java:1290)\nat java.util.Arrays.mergeSort(Arrays.java:1290)\nat java.util.Arrays.mergeSort(Arrays.java:1290)\nat java.util.Arrays.mergeSort(Arrays.java:1290)\nat java.util.Arrays.mergeSort(Arrays.java:1290)\nat java.util.Arrays.mergeSort(Arrays.java:1290)\nat java.util.Arrays.sort(Arrays.java:1219)\nat \norg.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor.mergeProposals\n(AntEditorCompletionProcessor.java:232)\nat \norg.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor.computeCompleti\nonProposals(AntEditorCompletionProcessor.java:222)\nat \norg.eclipse.jface.text.contentassist.ContentAssistant.computeCompletionProposal\ns(ContentAssistant.java:1457)\nat \norg.eclipse.jface.text.contentassist.CompletionProposalPopup.computeProposals\n(CompletionProposalPopup.java:243)\nat org.eclipse.jface.text.contentassist.CompletionProposalPopup.access$7\n(CompletionProposalPopup.java:239)\nat org.eclipse.jface.text.contentassist.CompletionProposalPopup$1.run\n(CompletionProposalPopup.java:199)\nat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)\nat org.eclipse.jface.text.contentassist.CompletionProposalPopup.showProposals\n(CompletionProposalPopup.java:194)\nat \norg.eclipse.jface.text.contentassist.ContentAssistant.showPossibleCompletions\n(ContentAssistant.java:1308)\nat \norg.eclipse.ant.internal.ui.editor.AntEditor$StatusLineSourceViewer.doOperation\n(AntEditor.java:261)\nat org.eclipse.ui.texteditor.ContentAssistAction$1.run\n(ContentAssistAction.java:82)\nat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)\nat org.eclipse.ui.texteditor.ContentAssistAction.run\n(ContentAssistAction.java:80)\nat org.eclipse.ui.texteditor.RetargetTextEditorAction.run\n(RetargetTextEditorAction.java:240)\nat org.eclipse.jface.action.Action.runWithEvent(Action.java:881)\nat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:550)\nat org.eclipse.jface.action.ActionContributionItem.access$2\n(ActionContributionItem.java:502)\nat org.eclipse.jface.action.ActionContributionItem$5.handleEvent\n(ActionContributionItem.java:435)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:769)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2592)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2270)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1437)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1408)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:244)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:140)\nat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:90)\nat org.eclipse.core.internal.runtime.PlatformActivator$1.run\n(PlatformActivator.java:280)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:240)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:117)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:324)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:267)\nat org.eclipse.core.launcher.Main.run(Main.java:699)\nat org.eclipse.core.launcher.Main.main(Main.java:683)",
    "Available in builds \u003e 20040423\n\n",
    "I am still seeing the NPE in HEAD. \n\nNote that the org.eclipse.jface.text.templates.TemplateMessages class exists in\nboth org.eclipse.text and org.eclipse.jface.text plug-ins. The files are\nidentical in each spot.\n\nGiven that the class is package access and the message I am giving is\norg.eclipse.jface.text.templates.TemplateMessages from class\norg.eclipse.jface.text.templates.TemplateProposal, this appears to have to do\nwith classloading. \n\nI can make it work on my box by deleting the duplicate TemplateMessages.java and\nTemplateMessages.properties from org.eclipse.jface.text.\n\n\n\n",
    "Note that I had to merge the following lines from the org.eclipse.jface.text\nversion of TemplateMessages.properties into the org.eclipse.text version.\n\n# template proposal\nTemplateProposal.delimiter\u003d\\ - \nTemplateProposal.errorDialog.title\u003dTemplate Evaluation Error\n",
    "\u003eI am still seeing the NPE in HEAD. \nThis bug is not about an NPE ;-)\n\nTom, please verify ant editor\u0027s code assist after fixing this.\n",
    "fixed the naming clashes by prefixing all messages class names with projectName:\n\norg.eclipse.jface.text: JFaceTextTemplateMessages\norg.eclipse.text: TextTemplateMessages\n...\n\nfixed \u003e 20040426\n\nthe NPE is due to an missing null-check in AntEditorCompletionProcessor:\n\njava.lang.NullPointerException\n\tat java.lang.Throwable.\u003cinit\u003e(Throwable.java)\n\tat java.lang.Throwable.\u003cinit\u003e(Throwable.java:73)\n\tat java.lang.NullPointerException.\u003cinit\u003e(NullPointerException.java:60)\n\tat\norg.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor.getProposalsFromDocument(AntEditorCompletionProcessor.java:314)\n\tat\norg.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor.determineProposals(AntEditorCompletionProcessor.java:292)\n\tat\norg.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor.computeCompletionProposals(AntEditorCompletionProcessor.java:222)",
    "Tom, what\u0027s the bug number of the NPE?",
    "see bug 59917",
    "\u003e This bug is not about an NPE ;-)\n\nCaffeine deprivation strikes again. ;) I was actually referring to the \njava.lang.IllegalAccessError, though I did see the NPE Tom mentions. This \nseemed to disappear when I self-hosted in a new workspace.\n"
  ],
  "commentCreationDates": [
    "2004-04-23T05:38:14+02:00",
    "2004-04-23T08:43:03+02:00",
    "2004-04-26T05:09:58+02:00",
    "2004-04-26T05:26:00+02:00",
    "2004-04-26T10:26:53+02:00",
    "2004-04-26T11:38:29+02:00",
    "2004-04-26T12:24:49+02:00",
    "2004-04-26T12:54:47+02:00",
    "2004-04-26T14:53:08+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalAccessError",
      "message": "tried to access class  org.eclipse.jface.text.templates.TemplateMessages from class  org.eclipse.jface.text.templates.TemplateProposal",
      "elements": [
        {
          "method": "org.eclipse.jface.text.templates.TemplateProposal.getDisplayString",
          "source": "TemplateProposal.java:297"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor$1.compare",
          "source": "AntEditorCompletionProcessor.java:105"
        },
        {
          "method": "java.util.Arrays.mergeSort",
          "source": "Arrays.java:1278"
        },
        {
          "method": "java.util.Arrays.mergeSort",
          "source": "Arrays.java:1290"
        },
        {
          "method": "java.util.Arrays.mergeSort",
          "source": "Arrays.java:1290"
        },
        {
          "method": "java.util.Arrays.mergeSort",
          "source": "Arrays.java:1290"
        },
        {
          "method": "java.util.Arrays.mergeSort",
          "source": "Arrays.java:1290"
        },
        {
          "method": "java.util.Arrays.mergeSort",
          "source": "Arrays.java:1290"
        },
        {
          "method": "java.util.Arrays.mergeSort",
          "source": "Arrays.java:1290"
        },
        {
          "method": "java.util.Arrays.sort",
          "source": "Arrays.java:1219"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor.mergeProposals",
          "source": "AntEditorCompletionProcessor.java:232"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor.computeCompletionProposals",
          "source": "AntEditorCompletionProcessor.java:222"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.ContentAssistant.computeCompletionProposals",
          "source": "ContentAssistant.java:1457"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.computeProposals",
          "source": "CompletionProposalPopup.java:243"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.access$7",
          "source": "CompletionProposalPopup.java:239"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup$1.run",
          "source": "CompletionProposalPopup.java:199"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:84"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.showProposals",
          "source": "CompletionProposalPopup.java:194"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.ContentAssistant.showPossibleCompletions",
          "source": "ContentAssistant.java:1308"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.AntEditor$StatusLineSourceViewer.doOperation",
          "source": "AntEditor.java:261"
        },
        {
          "method": "org.eclipse.ui.texteditor.ContentAssistAction$1.run",
          "source": "ContentAssistAction.java:82"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:84"
        },
        {
          "method": "org.eclipse.ui.texteditor.ContentAssistAction.run",
          "source": "ContentAssistAction.java:80"
        },
        {
          "method": "org.eclipse.ui.texteditor.RetargetTextEditorAction.run",
          "source": "RetargetTextEditorAction.java:240"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:881"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:550"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:502"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:435"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:769"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2592"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2270"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1437"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1408"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:244"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:140"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:90"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:280"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:240"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:117"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:267"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:699"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:683"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "59739",
      "date": "2004-04-23T05:38:14+02:00",
      "product": "Platform",
      "component": "Text",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "java.lang.Throwable.\u003cinit\u003e",
          "source": "Throwable.java"
        },
        {
          "method": "java.lang.Throwable.\u003cinit\u003e",
          "source": "Throwable.java:73"
        },
        {
          "method": "java.lang.NullPointerException.\u003cinit\u003e",
          "source": "NullPointerException.java:60"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor.getProposalsFromDocument",
          "source": "AntEditorCompletionProcessor.java:314"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor.determineProposals",
          "source": "AntEditorCompletionProcessor.java:292"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor.computeCompletionProposals",
          "source": "AntEditorCompletionProcessor.java:222"
        }
      ],
      "number": 1,
      "commentIndex": 5,
      "bugId": "59739",
      "date": "2004-04-26T11:38:29+02:00",
      "product": "Platform",
      "component": "Text",
      "severity": "major"
    }
  ],
  "groupId": "59739",
  "bugId": "59739",
  "date": "2004-04-23T05:38:14+02:00",
  "product": "Platform",
  "component": "Text",
  "severity": "major"
}