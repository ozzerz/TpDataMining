{
  "comments": [
    "Build 20020214\n\n- opened TaskList.class\n- did an organize imports\n- hit undo\n- got an internal error:\n\njava.lang.IllegalArgumentException: Argument not valid\n\tat org.eclipse.swt.SWT.error(SWT.java:1873)\n\tat org.eclipse.swt.SWT.error(SWT.java:1819)\n\tat org.eclipse.jface.text.DocumentAdapter.getLine\n(DocumentAdapter.java:83)\n\tat org.eclipse.swt.custom.StyledText.handlePaint(StyledText.java:5126)\n\tat org.eclipse.swt.custom.StyledText$13.handleEvent\n(StyledText.java:4837)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:74)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:841)\n\tat org.eclipse.swt.widgets.Composite.WM_PAINT(Composite.java:658)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:2657)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:1799)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1190)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1203)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:538)\n\tat org.eclipse.jface.window.Window.open(Window.java:525)\n\tat org.eclipse.ui.internal.dialogs.InternalErrorDialog.openError\n(InternalErrorDialog.java:141)\n\tat org.eclipse.ui.internal.ExceptionHandler.openInfoDialog\n(ExceptionHandler.java:137)\n\tat org.eclipse.ui.internal.ExceptionHandler.handleException\n(ExceptionHandler.java:67)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:791)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:771)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:777)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:319)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:151)\n\tat org.eclipse.core.launcher.Main.run(Main.java:502)\n\tat org.eclipse.core.launcher.Main.main(Main.java:362)",
    "There was another error dialog up with a different stack trace:\n\njava.lang.IllegalArgumentException: Argument not valid\n\tat org.eclipse.swt.SWT.error(SWT.java:1873)\n\tat org.eclipse.swt.SWT.error(SWT.java:1819)\n\tat org.eclipse.jface.text.DocumentAdapter.getLine\n(DocumentAdapter.java:83)\n\tat org.eclipse.swt.custom.StyledText$ContentWidthCache.calculate\n(StyledText.java:698)\n\tat org.eclipse.swt.custom.StyledText$ContentWidthCache.calculateVisible\n(StyledText.java:732)\n\tat org.eclipse.swt.custom.StyledText$ContentWidthCache.textChanged\n(StyledText.java:915)\n\tat org.eclipse.swt.custom.StyledText.handleTextChanged\n(StyledText.java:5187)\n\tat org.eclipse.swt.custom.StyledText$6.textChanged\n(StyledText.java:4771)\n\tat org.eclipse.jface.text.DocumentAdapter.fireTextChanged\n(DocumentAdapter.java:220)\n\tat org.eclipse.jface.text.DocumentAdapter.documentChanged\n(DocumentAdapter.java:199)\n\tat org.eclipse.jface.text.AbstractDocument.fireDocumentChanged\n(AbstractDocument.java:482)\n\tat org.eclipse.jface.text.AbstractDocument.replace\n(AbstractDocument.java:777)\n\tat org.eclipse.jface.text.DocumentAdapter.replaceTextRange\n(DocumentAdapter.java:136)\n\tat org.eclipse.swt.custom.StyledText.modifyContent\n(StyledText.java:5555)\n\tat org.eclipse.swt.custom.StyledText.replaceTextRange\n(StyledText.java:6120)\n\tat org.eclipse.jface.text.DefaultUndoManager$TextCommand.undo\n(DefaultUndoManager.java:75)\n\tat org.eclipse.jface.text.DefaultUndoManager.internalUndo\n(DefaultUndoManager.java:419)\n\tat org.eclipse.jface.text.DefaultUndoManager.undo\n(DefaultUndoManager.java:696)\n\tat org.eclipse.jface.text.TextViewer.doOperation(TextViewer.java:1906)\n\tat org.eclipse.jface.text.source.SourceViewer.doOperation\n(SourceViewer.java:398)\n\tat org.eclipse.ui.texteditor.TextOperationAction.run\n(TextOperationAction.java:61)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:452)\n\tat org.eclipse.ui.internal.RetargetAction.runWithEvent\n(RetargetAction.java:137)\n\tat \norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:407)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent\n(ActionContributionItem.java:361)\n\tat org.eclipse.jface.action.ActionContributionItem.access$0\n(ActionContributionItem.java:352)\n\tat \norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent\n(ActionContributionItem.java:47)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:74)\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:637)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1413)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1205)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:788)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:771)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:777)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:319)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:151)\n\tat org.eclipse.core.launcher.Main.run(Main.java:502)\n\tat org.eclipse.core.launcher.Main.main(Main.java:362)\n",
    "Sorry, I meant TaskList.java (in org.eclipse.ui.views.tasklist)",
    "Reproducible case: The last line of the original import statements must end \nwith a single line comment. In this case undo causes the problem.",
    "jdt core problem: source range of import container that ends with a comment \ncontains half of the line delimiter \n\npackage TEST;\n\nimport x;\nimport java.util.Vector; // hello\n\npublic class D {\n\t\n\tVector v;\n\n}\n\nTo see this add line\nString cont\u003d container.getSource();\nto ImportsStructure.getReplaceRange after line if (container.exists())\n\nSet a breakpoint there and invoke organize import.",
    "*** Bug 9450 has been marked as a duplicate of this bug. ***",
    "A line-comment ends after the line separator. The bug is due to the wrong position that we record for \neach comment. On windows platform the end position of the line-comment is in the middle of the \\r\\n. \nThis is causing the exception.\nFixing the end  of the comment has a side-effect on the code \nformatter. This needs to be solved before I can release this change.",
    "A protection has been added in the Parser to prevent this exception. The problem itself is in the \nscanner, but as long as we didn\u0027t fix the side-effects in the code formatter we cannot release it.",
    "Defer post 2.0.",
    "Reopen. We will patch the code formatter to get rid of the side-effect and fix\nthis one.",
    "Change milestone.",
    "created TestCase for this PR:\nImportOrganizeTest.testCommentAfterImport",
    "Now that the line break is part of the source of a line comment (see bug 23096),\nwe lose one line break when we try to organize imports on such a source:\npackage pack1;\nimport x;\nimport java.util.Vector; // comment\n\npublic class C {\n    Vector v;\n}\n\nis formatted to:\npackage pack1;\nimport java.util.Vector;\npublic class C {\n    Vector v;\n}\ninstead of:\npackage pack1;\nimport java.util.Vector;\n\npublic class C {\n    Vector v;\n}\n\nUndo doesn\u0027t throw a IllegalArgumentException. The Organize import operation\nneeds to handle this case. Including the line break in the line comment is the\nright thing to do according to the JLS.\n\nI will release our change in order for you to see it.\n\nMove to JDT/UI for comment.",
    "fixed \u003e 20021022"
  ],
  "commentCreationDates": [
    "2002-03-01T01:58:49+01:00",
    "2002-03-01T01:59:36+01:00",
    "2002-03-01T02:03:51+01:00",
    "2002-03-04T18:08:32+01:00",
    "2002-03-04T18:34:07+01:00",
    "2002-03-04T18:52:31+01:00",
    "2002-03-12T21:35:44+01:00",
    "2002-03-15T22:51:17+01:00",
    "2002-06-11T17:25:19+02:00",
    "2002-10-22T18:17:19+02:00",
    "2002-10-22T18:21:39+02:00",
    "2002-10-22T19:00:50+02:00",
    "2002-10-22T20:38:43+02:00",
    "2002-10-23T11:57:16+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Argument not valid",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:1873"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:1819"
        },
        {
          "method": "org.eclipse.jface.text.DocumentAdapter.getLine",
          "source": "DocumentAdapter.java:83"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.handlePaint",
          "source": "StyledText.java:5126"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText$13.handleEvent",
          "source": "StyledText.java:4837"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:74"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:841"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.WM_PAINT",
          "source": "Composite.java:658"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:2657"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:1799"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessageW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessage",
          "source": "OS.java:1190"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1203"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:538"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:525"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.InternalErrorDialog.openError",
          "source": "InternalErrorDialog.java:141"
        },
        {
          "method": "org.eclipse.ui.internal.ExceptionHandler.openInfoDialog",
          "source": "ExceptionHandler.java:137"
        },
        {
          "method": "org.eclipse.ui.internal.ExceptionHandler.handleException",
          "source": "ExceptionHandler.java:67"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:791"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:771"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:777"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:319"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:151"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:502"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:362"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "10557",
      "date": "2002-03-01T01:58:49+01:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Argument not valid",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:1873"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:1819"
        },
        {
          "method": "org.eclipse.jface.text.DocumentAdapter.getLine",
          "source": "DocumentAdapter.java:83"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText$ContentWidthCache.calculate",
          "source": "StyledText.java:698"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText$ContentWidthCache.calculateVisible",
          "source": "StyledText.java:732"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText$ContentWidthCache.textChanged",
          "source": "StyledText.java:915"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.handleTextChanged",
          "source": "StyledText.java:5187"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText$6.textChanged",
          "source": "StyledText.java:4771"
        },
        {
          "method": "org.eclipse.jface.text.DocumentAdapter.fireTextChanged",
          "source": "DocumentAdapter.java:220"
        },
        {
          "method": "org.eclipse.jface.text.DocumentAdapter.documentChanged",
          "source": "DocumentAdapter.java:199"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.fireDocumentChanged",
          "source": "AbstractDocument.java:482"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.replace",
          "source": "AbstractDocument.java:777"
        },
        {
          "method": "org.eclipse.jface.text.DocumentAdapter.replaceTextRange",
          "source": "DocumentAdapter.java:136"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.modifyContent",
          "source": "StyledText.java:5555"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.replaceTextRange",
          "source": "StyledText.java:6120"
        },
        {
          "method": "org.eclipse.jface.text.DefaultUndoManager$TextCommand.undo",
          "source": "DefaultUndoManager.java:75"
        },
        {
          "method": "org.eclipse.jface.text.DefaultUndoManager.internalUndo",
          "source": "DefaultUndoManager.java:419"
        },
        {
          "method": "org.eclipse.jface.text.DefaultUndoManager.undo",
          "source": "DefaultUndoManager.java:696"
        },
        {
          "method": "org.eclipse.jface.text.TextViewer.doOperation",
          "source": "TextViewer.java:1906"
        },
        {
          "method": "org.eclipse.jface.text.source.SourceViewer.doOperation",
          "source": "SourceViewer.java:398"
        },
        {
          "method": "org.eclipse.ui.texteditor.TextOperationAction.run",
          "source": "TextOperationAction.java:61"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:452"
        },
        {
          "method": "org.eclipse.ui.internal.RetargetAction.runWithEvent",
          "source": "RetargetAction.java:137"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:407"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java:361"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem.java:352"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java:47"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:74"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:637"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1413"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1205"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:788"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:771"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:777"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:319"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:151"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:502"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:362"
        }
      ],
      "number": 1,
      "commentIndex": 1,
      "bugId": "10557",
      "date": "2002-03-01T01:59:36+01:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "10557",
  "bugId": "10557",
  "date": "2002-03-01T01:58:49+01:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}