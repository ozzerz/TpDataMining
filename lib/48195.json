{
  "comments": [
    "I\u0027m running Eclipse 3.0 milestone 5 with Sun JDK 1.4.2\n\nI changed a Java class into an interface by hand and renamed it by hand, which \ntriggers the error log message: \"An internal error occurred during Java AST \nCreation\" and the progress message: \"ERROR: Java AST Creation: An internal \nerror occurred during Java AST Creation\".\n\nOnce this error is triggered, any attempt to click on the Java editor with the \nchanged file triggers another error and defocuses the editor, making the file \neffectively uneditable.  A workaround solution is to copy text (copy/select \nstill works), delete the file, and then recreate the file from scratch.\n\nI tried to pinpoint the steps to reproduce this problem, and it appears to be \nthe following steps:\n\n1.  create an empty Java class in some package\n\n2.  in the Java editor, change \"class\" to \"interface\" by hand and\n    rename the name of the class by hand (e.g. add an \"I\" in front of the name)\n\n3.  JDT immediately shows a red mark and a code-assist suggesting to \n    recompile the compilation unit w/ the new name, or to revert to the old \n    name.  Choose to recompile/refactor w/ the new name.\n\n4.  the Package Explorer and editor updates w/ the new name, and the \n    \"Java AST creation\" error appears.  The editor loses focus, any attempt\n    to click/type in the editor raises the error again and defocuses the \n    editor.  It is impossible to type anything in the editor for that file.\n\n5.  close Eclipse and open Eclipse again.  Open the changed file in the\n    Java editor, and the same error still gets triggered.\n\nThis error may be related to bug #47617 (\"Java AST Creation\")\n\nThe stack trace from the error is as follows:\n\njava.lang.IllegalArgumentException\n\tat org.eclipse.jdt.core.dom.ASTNode.setSourceRange(ASTNode.java:1486)\n\tat org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:701)\n\tat org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations\n(ASTConverter.java:244)\n\tat org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:183)\n\tat org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:81)\n\tat org.eclipse.jdt.core.dom.AST.parseCompilationUnit(AST.java:354)\n\tat org.eclipse.jdt.core.dom.AST.parseCompilationUnit(AST.java:247)\n\tat \norg.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartLis\ntenerGroup.computeAST(SelectionListenerWithASTManager.java:106)\n\tat \norg.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartLis\ntenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:116)\n\tat \norg.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$1.run\n(SelectionListenerWithASTManager.java:92)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:62)",
    "Close as duplicate of bug 47396.\n\n*** This bug has been marked as a duplicate of 47396 ***",
    "Verified that this does not happen with build I200312160010.\n\nBut, even strictly following described scenario, I didn\u0027t succeed to reproduce \neither with 3.0 M5 or 2.1.2 build!?\n\nOne question about scenario is: are you sure that code-assist provide \nrecompile/refactor actions?\nI\u0027ve used Quick-fix \"Rename compilation unit to \u0027IX.java\u0027\" and refactoring in \npackage explorer and both actions works without any AST error message.\n\n",
    "Apologies - you\u0027re correct, I was using Quick-fix (\"Rename compilation unit \nto \u0027IX.java\u0027\"), not code-assist.  \n\nAlso, for some reason I\u0027m no longer able to reproduce the error either.  \nBeyond installing Java Spider on my copy of 3.0 M5, there hasn\u0027t been any \nchanges to my Eclipse setup.\n\nIt\u0027s probably best then to close this bug and not worry about it, since it \nappeared to be pretty spurious, and M6 will probably not encounter this \nproblem anyhow.  Thanks for looking into this."
  ],
  "commentCreationDates": [
    "2003-12-05T23:06:20+01:00",
    "2003-12-07T16:58:29+01:00",
    "2003-12-16T18:36:56+01:00",
    "2003-12-17T13:13:29+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "elements": [
        {
          "method": "org.eclipse.jdt.core.dom.ASTNode.setSourceRange",
          "source": "ASTNode.java:1486"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTConverter.convert",
          "source": "ASTConverter.java:701"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations",
          "source": "ASTConverter.java:244"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTConverter.convert",
          "source": "ASTConverter.java:183"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTConverter.convert",
          "source": "ASTConverter.java:81"
        },
        {
          "method": "org.eclipse.jdt.core.dom.AST.parseCompilationUnit",
          "source": "AST.java:354"
        },
        {
          "method": "org.eclipse.jdt.core.dom.AST.parseCompilationUnit",
          "source": "AST.java:247"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.computeAST",
          "source": "SelectionListenerWithASTManager.java:106"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform",
          "source": "SelectionListenerWithASTManager.java:116"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$1.run",
          "source": "SelectionListenerWithASTManager.java:92"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:62"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "48195",
      "duplicateId": "47396",
      "date": "2003-12-05T23:06:20+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "47396",
  "bugId": "48195",
  "duplicateId": "47396",
  "date": "2003-12-05T23:06:20+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}