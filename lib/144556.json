{
  "comments": [
    "When a TitleAreaDialog is created, opened, closed and opened again on the same instance the messageArea is not properly checked against disposal when it is accessed in setWarningMessage throwing an SWTException for disposed when the message area is updated the second time the dialog is opened.",
    "Could you attach your .log file please?",
    "Log entry generated the second time the dialog instance is reopened:\n\n!ENTRY org.eclipse.ui 4 0 2006-05-31 09:06:27.252\n!MESSAGE Widget is disposed\n!STACK 0\norg.eclipse.swt.SWTException: Widget is disposed\n\tat org.eclipse.swt.SWT.error(SWT.java:3374)\n\tat org.eclipse.swt.SWT.error(SWT.java:3297)\n\tat org.eclipse.swt.SWT.error(SWT.java:3268)\n\tat org.eclipse.swt.widgets.Widget.error(Widget.java:435)\n\tat org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:330)\n\tat org.eclipse.swt.widgets.Control.setToolTipText(Control.java:2616)\n\tat org.eclipse.jface.dialogs.ImageAndMessageArea.setToolTipText(ImageAndMessageArea.java:186)\n\tat org.eclipse.jface.dialogs.TitleAreaDialog.setWarningMessage(TitleAreaDialog.java:708)\n\tat org.eclipse.jface.dialogs.TitleAreaDialog.setMessage(TitleAreaDialog.java:562)\n\tat com.harmonia.udt.ui.dialog.UDTDialog.setMessage(UDTDialog.java:137)\n\tat com.harmonia.udt.ui.dialog.UDTDialog$MessageDelegate.updateMessage(UDTDialog.java:275)\n\tat com.harmonia.udt.ui.dialog.UDTDialog$MessageDelegate.setMessage(UDTDialog.java:255)\n\tat com.harmonia.udt.ui.dialog.image.ImageAcceptanceComposite$8.propertyChange(ImageAcceptanceComposite.java:441)\n\tat java.beans.PropertyChangeSupport.firePropertyChange(Unknown Source)\n\tat java.beans.PropertyChangeSupport.firePropertyChange(Unknown Source)\n\tat com.harmonia.udt.ui.dialog.image.ImageAcceptanceComposite$ImageModel.setFileName(ImageAcceptanceComposite.java:1149)\n\tat com.harmonia.udt.ui.dialog.image.ImageAcceptanceComposite.\u003cinit\u003e(ImageAcceptanceComposite.java:146)\n\tat com.harmonia.udt.ui.dialog.image.ImageAcceptanceDialog.fillDialogArea(ImageAcceptanceDialog.java:67)\n\tat com.harmonia.udt.ui.dialog.UDTDialog.createDialogArea(UDTDialog.java:111)\n\tat org.eclipse.jface.dialogs.TitleAreaDialog.createContents(TitleAreaDialog.java:165)\n\tat org.eclipse.jface.window.Window.create(Window.java:426)\n\tat org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1124)\n\tat com.harmonia.udt.ui.dialog.UDTDialog.open(UDTDialog.java:163)\n\tat com.harmonia.udt.property.descriptor.ImageCellEditor.doDialog(ImageCellEditor.java:255)\n\tat com.harmonia.udt.property.descriptor.ImageCellEditor.access$1(ImageCellEditor.java:247)\n\tat com.harmonia.udt.property.descriptor.ImageCellEditor$2.widgetSelected(ImageCellEditor.java:236)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)",
    "Problem is that the messageArea is never set to null when the dialog is disposed, so a reference to the stale one is kept. \n\nWe are only fixing stop ship bugs at this point, so marking this for 3.2.1.\n\nThe best workaround I can think of in the meantime is to recreate the dialog (sorry).",
    "Fixed \u003e20060619 in HEAD (3.3 stream)\nWill be considered for backport to 3.2.1 stream after some testing in the 3.3 stream.",
    "Aaron, is releasing this fix to the 3.3 stream sufficient or do you have an urgent need for it to be backported to the 3.2 maintenance stream?",
    "We have a workaround in place in our software not to reuse any subclass of TitleAreaDialog so it is not urgent for us to have it backported.",
    "verified in I20060807-2000, Win XP.\n(using local test snippet, ReuseTitleAreaDialogTest.java)",
    "Susan do you have this test snippet around? I would like to add it to the test suites.",
    "Created an attachment (id\u003d51556)\nReuseTitleAreaDialogTest.java\n\nAttaching test snippet.  I didn\u0027t add to tests since it requires user intervention.  Let me know what you do so I\u0027ll know in the future where/how to add it.",
    "These can always go in the manual tests"
  ],
  "commentCreationDates": [
    "2006-05-30T23:22:57+02:00",
    "2006-05-31T14:19:31+02:00",
    "2006-05-31T15:07:28+02:00",
    "2006-05-31T17:40:30+02:00",
    "2006-06-19T20:42:09+02:00",
    "2006-07-13T19:51:01+02:00",
    "2006-07-13T20:34:19+02:00",
    "2006-08-08T20:47:11+02:00",
    "2006-10-06T15:13:52+02:00",
    "2006-10-06T18:00:41+02:00",
    "2006-10-06T19:34:10+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Widget is disposed",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3374"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3297"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3268"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:435"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.checkWidget",
          "source": "Widget.java:330"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.setToolTipText",
          "source": "Control.java:2616"
        },
        {
          "method": "org.eclipse.jface.dialogs.ImageAndMessageArea.setToolTipText",
          "source": "ImageAndMessageArea.java:186"
        },
        {
          "method": "org.eclipse.jface.dialogs.TitleAreaDialog.setWarningMessage",
          "source": "TitleAreaDialog.java:708"
        },
        {
          "method": "org.eclipse.jface.dialogs.TitleAreaDialog.setMessage",
          "source": "TitleAreaDialog.java:562"
        },
        {
          "method": "com.harmonia.udt.ui.dialog.UDTDialog.setMessage",
          "source": "UDTDialog.java:137"
        },
        {
          "method": "com.harmonia.udt.ui.dialog.UDTDialog$MessageDelegate.updateMessage",
          "source": "UDTDialog.java:275"
        },
        {
          "method": "com.harmonia.udt.ui.dialog.UDTDialog$MessageDelegate.setMessage",
          "source": "UDTDialog.java:255"
        },
        {
          "method": "com.harmonia.udt.ui.dialog.image.ImageAcceptanceComposite$8.propertyChange",
          "source": "ImageAcceptanceComposite.java:441"
        },
        {
          "method": "java.beans.PropertyChangeSupport.firePropertyChange",
          "source": "Unknown Source"
        },
        {
          "method": "java.beans.PropertyChangeSupport.firePropertyChange",
          "source": "Unknown Source"
        },
        {
          "method": "com.harmonia.udt.ui.dialog.image.ImageAcceptanceComposite$ImageModel.setFileName",
          "source": "ImageAcceptanceComposite.java:1149"
        },
        {
          "method": "com.harmonia.udt.ui.dialog.image.ImageAcceptanceComposite.\u003cinit\u003e",
          "source": "ImageAcceptanceComposite.java:146"
        },
        {
          "method": "com.harmonia.udt.ui.dialog.image.ImageAcceptanceDialog.fillDialogArea",
          "source": "ImageAcceptanceDialog.java:67"
        },
        {
          "method": "com.harmonia.udt.ui.dialog.UDTDialog.createDialogArea",
          "source": "UDTDialog.java:111"
        },
        {
          "method": "org.eclipse.jface.dialogs.TitleAreaDialog.createContents",
          "source": "TitleAreaDialog.java:165"
        },
        {
          "method": "org.eclipse.jface.window.Window.create",
          "source": "Window.java:426"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog.create",
          "source": "Dialog.java:1124"
        },
        {
          "method": "com.harmonia.udt.ui.dialog.UDTDialog.open",
          "source": "UDTDialog.java:163"
        },
        {
          "method": "com.harmonia.udt.property.descriptor.ImageCellEditor.doDialog",
          "source": "ImageCellEditor.java:255"
        },
        {
          "method": "com.harmonia.udt.property.descriptor.ImageCellEditor.access$1",
          "source": "ImageCellEditor.java:247"
        },
        {
          "method": "com.harmonia.udt.property.descriptor.ImageCellEditor$2.widgetSelected",
          "source": "ImageCellEditor.java:236"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:90"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3348"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2968"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1914"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1878"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:280"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 2,
      "bugId": "144556",
      "date": "2006-05-31T15:07:28+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "144556",
  "bugId": "144556",
  "date": "2006-05-30T23:22:57+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}