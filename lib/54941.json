{
  "comments": [
    "We could use an option -sourcepath {dir..} to be able to specify paths to source\nfiles for errors and warnings in binary input.\n\nRight now weaver messages for binary input show up with a path composed of the\ncurrent working directory and the calculated path to the enclosing type, which\nis rarely correct (but confusingly plausible!).",
    "Created an attachment (id\u003d8592)\nsourcepath patch\n\nAttaching a patch that plumbs -sourcepath from the command line and\najdt/ajbrowser through the weaver, using an interface in util.\tPatch lacks\ndocumentation and tests.  It seems to work for what I\u0027m using it for (weaving\nagainst 1000+ .class files in ajbrowser), but I have noticed the stack trace\nbelow when running from the command line (recent changes?).\n\nThis might belong in the weaver\u0027s public API if we want the weaver to resolve\nthe file references.  Conversely, the weaver could deliver its best-guess\nrelative path, and we could have special message handlers that rework the\nsource file if not found.  The problem with the latter is that the weaver can\nuse the sourcepath (the source-finder) to identify which of the possible paths\ncalculable by the weaver is the actual one.\n\ntrace noted (also noted traces being printed twice - hmm):\n\njava.lang.NullPointerException\n\tat\norg.eclipse.jdt.internal.compiler.CompilationResult.computePriority(CompilationResult.java:110)\n\n\tat\norg.eclipse.jdt.internal.compiler.CompilationResult.quickPrioritize(CompilationResult.java:336)\n\n\tat\norg.eclipse.jdt.internal.compiler.CompilationResult.getProblems(CompilationResult.java:230)\n\n\tat\norg.eclipse.jdt.internal.compiler.CompilationResult.getAllProblems(CompilationResult.java:118)\n\n\tat\norg.aspectj.ajdt.internal.core.builder.AjBuildManager$2.acceptResult(AjBuildManager.java:465)\n\n\tat\norg.aspectj.ajdt.internal.compiler.AjCompilerAdapter.acceptResult(AjCompilerAdapter.java:164)\n\n\tat\norg.aspectj.ajdt.internal.compiler.WeaverAdapter.finishedWith(WeaverAdapter.java:144)\n\n\tat\norg.aspectj.ajdt.internal.compiler.WeaverAdapter.weaveCompleted(WeaverAdapter.java:124)\n\n\tat org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:511)\n\tat\norg.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave(AjCompilerAdapter.java:215)\n\n\tat\norg.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling(AjCompilerAdapter.java:107)\n\n\tat\norg.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:376)\n\tat\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:411)\n\n\tat\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:147)\n\n\tat\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:81)\n\n\tat org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:104)\n\tat org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:53)\n\tat org.aspectj.tools.ajc.Main.run(Main.java:231)\n\tat org.aspectj.tools.ajc.Main.runMain(Main.java:168)\n\tat org.aspectj.tools.ajc.Main.main(Main.java:81)\n"
  ],
  "commentCreationDates": [
    "2004-03-16T08:56:39+01:00",
    "2004-03-16T09:03:53+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.CompilationResult.computePriority",
          "source": "CompilationResult.java:110"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.CompilationResult.quickPrioritize",
          "source": "CompilationResult.java:336"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.CompilationResult.getProblems",
          "source": "CompilationResult.java:230"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.CompilationResult.getAllProblems",
          "source": "CompilationResult.java:118"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager$2.acceptResult",
          "source": "AjBuildManager.java:465"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.acceptResult",
          "source": "AjCompilerAdapter.java:164"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.WeaverAdapter.finishedWith",
          "source": "WeaverAdapter.java:144"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.WeaverAdapter.weaveCompleted",
          "source": "WeaverAdapter.java:124"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weave",
          "source": "BcelWeaver.java:511"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave",
          "source": "AjCompilerAdapter.java:215"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling",
          "source": "AjCompilerAdapter.java:107"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:376"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:411"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:147"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBuildManager.java:81"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.doCommand",
          "source": "AjdtCommand.java:104"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.runCommand",
          "source": "AjdtCommand.java:53"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.run",
          "source": "Main.java:231"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.runMain",
          "source": "Main.java:168"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.main",
          "source": "Main.java:81"
        }
      ],
      "number": 0,
      "commentIndex": 1,
      "bugId": "54941",
      "date": "2004-03-16T09:03:53+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "54941",
  "bugId": "54941",
  "date": "2004-03-16T08:56:39+01:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}