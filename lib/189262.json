{
  "comments": [
    "Make an SSH connection to build.eclipse.org.\nSelect a remote folder with some subfolders and right-click \u003e Go Into it.\nSelect a folder which is now a toplevel node and right-click \u003e Rename it.\n\nIt is renamed properly, but after the operation is finished a dialog saying \"ERROR\" without any further information is shown. PDE Errorlog shows this exception, supposedly because the renamed item is now a root node so it has no parent for refresh:\n\norg.eclipse.swt.SWTException: Failed to execute runnable (java.lang.ClassCastException: org.eclipse.swt.widgets.Tree cannot be cast to org.eclipse.swt.widgets.Item)\nat org.eclipse.swt.SWT.error(SWT.java:3499)\n[...]\nCaused by: java.lang.ClassCastException: org.eclipse.swt.widgets.Tree cannot be cast to org.eclipse.swt.widgets.Item\nat org.eclipse.rse.internal.ui.view.SystemView.refreshRemoteObject(SystemView.java:2916)\nat org.eclipse.rse.internal.ui.view.SystemView$ResourceChangedJob.runInUIThread(SystemView.java:2154)\nat org.eclipse.ui.progress.UIJob$1.run(UIJob.java:94)\nat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\nat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n... 22 more\n\n\n-----------Enter bugs above this line-----------\nTM 2.0RC1 Testing\ninstallation : eclipse-platform-3.3M6 (I20070323-1616), cdt-4.0M5, emf-2.3M5\nRSE install  : download RSE 2.0RC1 runtime-all + terminal\njava.runtime : Sun 1.6.0-b105\nos.name:     : Windows XP 5.1, Service Pack 2\n------------------------------------------------\nsystemtype   : Linux-ssh (dstore-processes)\ntargetos     : SUSE Linux Enterprise Server 10 (ppc)\ntargetuname  : Linux build 2.6.16.27-0.9-ppc64 #1 SMP ppc64 GNU/Linux\ntargetvm     : ibm-java2-sdk-5.0-0-4.0-linux-ppc\n------------------------------------------------",
    "This might be fixed by no longer allowing \"Go Into\" a remote folder (although I\u0027d still like to see \"Go Into\" remote folders work :-)",
    "Yeah, this is no longer a problem.  As for if we do add it, the SystemView changed a bit since you hit this.  I can\u0027t see where in refreshRemoteObject() the cast exception would occur, can you?",
    "Created an attachment (id\u003d69772)\npatch to avoid casting a tree to a item\n\n",
    "I see where the cast is made, so I\u0027ve got a patch that casts to Widget instead of the Item subclass.",
    "I\u0027ve committed this change to cvs.",
    "Created an attachment (id\u003d69928)\nAdditional patch to avoid unnecessary instanceof and cast\n\nReview: The second instanceof() in the patch is unnecessary because there is already if...instanceof TreeItem at the beginning.\n\nAttached patch cleans this up. Already checked in -- please mark the bug fixed when reviewed.",
    "Review: Original patch was OK functionally, but added unnecessary instanceof code. Fixed in HEAD -- please review attached patch and mark fixed if OK.",
    "ok"
  ],
  "commentCreationDates": [
    "2007-05-26T03:36:22+02:00",
    "2007-05-30T19:25:17+02:00",
    "2007-06-01T19:39:45+02:00",
    "2007-06-01T21:36:42+02:00",
    "2007-06-01T21:38:17+02:00",
    "2007-06-01T21:39:37+02:00",
    "2007-06-04T11:55:23+02:00",
    "2007-06-04T11:56:19+02:00",
    "2007-06-04T15:10:57+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.swt.widgets.Tree cannot be cast to org.eclipse.swt.widgets.Item)",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3499"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "189262",
      "date": "2007-05-26T03:36:22+02:00",
      "product": "Target Management",
      "component": "RSE",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.swt.widgets.Tree cannot be cast to org.eclipse.swt.widgets.Item",
      "elements": [
        {
          "method": "org.eclipse.rse.internal.ui.view.SystemView.refreshRemoteObject",
          "source": "SystemView.java:2916"
        },
        {
          "method": "org.eclipse.rse.internal.ui.view.SystemView$ResourceChangedJob.runInUIThread",
          "source": "SystemView.java:2154"
        },
        {
          "method": "org.eclipse.ui.progress.UIJob$1.run",
          "source": "UIJob.java:94"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:123"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "189262",
      "date": "2007-05-26T03:36:22+02:00",
      "product": "Target Management",
      "component": "RSE",
      "severity": "normal"
    }
  ],
  "groupId": "189262",
  "bugId": "189262",
  "date": "2007-05-26T03:36:22+02:00",
  "product": "Target Management",
  "component": "RSE",
  "severity": "normal"
}