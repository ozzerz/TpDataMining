{
  "comments": [
    "I20060322-1335\n\nEclipse no longer launches (see .log below) when having a links directory in the main install location:\neclipse\n  [folder \u0027links\u0027]\n    \u0027.link\u0027 file with content: \"path\u003dC:/eclipse/customPlugins\"\n\n- when I remove the \"links\" folder I can lunch again but all my non-Eclipse SDK plug-ins are missing then.\n\n- when I copy all my other plug-ins manually into the install it also works.\n\n- I can start a fresh workspace with the \"links\" folder it works exactly once, then I get the exception below.\n\n- this works like a charm using I20060315-1200.\n\n\n!SESSION 2006-03-23 10:43:01.791 -----------------------------------------------\neclipse.buildId\u003dI20060322-1335\njava.version\u003d1.5.0_06\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003dde_CH\nFramework arguments:  -update -keyring c:\\eclipse\\.keyring -application org.eclipse.ui.ide.workbench -showlocation\nCommand-line arguments:  -update -keyring c:\\eclipse\\.keyring -application org.eclipse.ui.ide.workbench -showlocation -data c:\\eclipse\\workspaces\\Development_3_2\\plugins\n\n!ENTRY org.eclipse.osgi 4 0 2006-03-23 10:43:03.398\n!MESSAGE Application error\n!STACK 1\norg.eclipse.core.runtime.CoreException[1]: java.lang.ClassNotFoundException: org.eclipse.ui.internal.ide.IDEApplication\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:406)\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:351)\n\tat org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:83)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:251)\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.loadClass(BundleLoader.java:276)\n\tat org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleHost.java:227)\n\tat org.eclipse.osgi.framework.internal.core.AbstractBundle.loadClass(AbstractBundle.java:1245)\n\tat org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:144)\n\tat org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:759)\n\tat org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:243)\n\tat org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:51)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:74)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:282)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)",
    "Dani, I am ok with this build and using a links dir. Tobias, are you having the same problem?\n",
    "DJ, Tobias mentioned that he\u0027s not using a link directory but copies the additional plug-ins into the install itself.\n\nI suspect that one of the additional plug-ins might cause this but without a detailed message it\u0027s impossible to know which one.\n\nAlso note that the command line arguments written to .log are not complete:\n BootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003dde_CH\n Framework arguments:  -update -keyring c:\\eclipse\\.keyring -application\n org.eclipse.ui.ide.workbench -showlocation\n Command-line arguments:  -update -keyring c:\\eclipse\\.keyring -application\n org.eclipse.ui.ide.workbench -showlocation -data\n c:\\eclipse\\workspaces\\Development_3_2\\plugins\n\nThis is my complete command line:\nC:\\eclipse\\drops\\I20060314-0800\u003eC:\\JavaSDKs\\jdk1.4.2_08\\bin\\java -showversion -Xms50M -Xmx350M -Dosgi.clean\u003dtrue -cp startup.jar org.eclipse.core.launcher.Main\n-update -keyring c:\\eclipse\\.keyring -application org.eclipse.ui.ide.workbench -showlocation -data c:\\eclipse\\workspaces\\Development_3_2\\plugins\n\n",
    "I was not using any .link files, but received the exact same error message the first time when trying to launch. I just deleted the two \"plugins\" and \"features\" directories and unzipped I20060322-1335 over the existing installation. Subsequent launches resulted in the same failure.\nI am not entirely sure, but I believe deleting the two folders again, plus the configuration folder helped in this case. After that, I20060322-1335 never failed to launch anymore",
    "I am seeing the exact same problem than Dani. I use linked directories as well and can start my workspace exactly one time.",
    "Branko, any ideas what is going on here?",
    "Is there some tracing options that I can enable and help you track this down?",
    "We didn\u0027t touch this code in a long time - something else must be involved.",
    "Same problem with test candidate build I20060328-0010.\n\nI found a \"workaround\" to this and hence not marking as blocker. The workaround is to remove the generated directories from the \u0027configuration\u0027 directory upon each start. Quite a pain, really.\n\nI\u0027ll attach the state of my \u0027configuration\u0027 directory that causes the error.",
    "Created an attachment (id\u003d37051)\nconfig area\n\n",
    "DJ, is this related to the changes in the configurator you contributed recently? Otherwise we didn\u0027t change the startup code to cause this.\n\nHow long are you experiencing this problem i.e. is it recent or goes back many build?",
    "It started with last weeks I-builds.",
    "DJ, this is the time I released your/Pascal\u0027s patches. Can they be the cause here?",
    "This is also the time we changed the osgi.bundles list.  I don\u0027t see how that could cause the issue here though.",
    "There is something more to this bug than simple links. I have just set up an extension and put the CSS editor I use from SourceForge there (just a plug-in - no feature). It worked correctly for me using the following builds:\n\nI20060314-1200\nI20060327-2000\n\nGiven the dates, the builds are good representatives of the \u0027before\u0027 and \u0027after\u0027 and work identically (see the attached picture of the \u0027Manage Configuration\u0027 window).\n\nThere is something in your extensions that cause the problem. Are they small enough to be attached to this bug (assuming they are not too large and their license does not preclude it)?",
    "I\u0027ve sent it to DJ. There\u0027s private stuff in it that I do not want to share here.",
    "Created an attachment (id\u003d37092)\nConfig dialog showing extension\n\n",
    "(In reply to comment #15)\n\u003e I\u0027ve sent it to DJ. There\u0027s private stuff in it that I do not want to share\n\u003e here.\n\nMake sense. DJ, let me know if there is something specific with Dani\u0027s extension that makes runtime/upate configurer unhappy.\n",
    "Everything works ok for me so we\u0027re looking at Dani\u0027s configuration. It seems that the file paths in the links site entry in the platform.xml file are relative where mine are absolute. Not sure yet if this is causing the problem. \n\nDani uses both the exe and plain java to start Eclipse. We think the resulting paths in the file may have to do with the current working directory when Eclipse is started. \n\nContinuing investigation...\n",
    "DJ wrote in comment #18 :\n\u003e It seems that the file paths in the links site entry in the platform.xml file \n\u003e are relative where mine are absolute. Not sure yet if this is causing the \n\u003e problem. \n\nAs far as I know that would be enough to make things NOT work.\nRelative links are explicitely not supported. Hard paths are required in the link files, despite I wished relative links would be supported...",
    "Some additional infos:\n- \"-update\" seems not to have an influence\n- problem appears with Sun JRE 1.4_08 and Sun JRE 5.0_06\n- problem can be reproduced using eclipse.exe and\n  -vm C:\\JavaSDKs\\jdk1.5.0_06\\bin\\java -vmargs -Dosgi.clean\u003dtrue\n- removing \"-vmargs -Dosgi.clean\u003dtrue\" makes the problem go away but I need this\n  flag to flush the registry since we add daily plug-in exports to the I-build\n  install\n",
    "Back to runtime...Pascal and I have been debugging and are talking to Tom about a potential fix.",
    "I remember having startup problems with an earlier version of Sun\u0027s JRE 1.4.1\nthat went away when I moved up to the 1.4.2_10 (which is the version of the JRE\nwe claim will test against). However, you do use the supported 5.0_06 so I\ndon\u0027t think I can explain this simply by old JRE version :-(. \n",
    "The issue is when -clean is used we would reconstruct the resolver cache.  The problem is we did not properly seed the resolver cache timestamp with a unique timestamp when we started from scratch.  As a result when reconstructing the cached we would use the same exact steps which would result in an identical timestamp for the newly constructed cache.\n\nOther caches (such as the extension registry) would then detect identical cache timestamps and they would assume there cache is ok when in fact it should have been invalid.\n\nI released a fix in the Framework to ensure the state timestamp is seeded with the current time instead of 0.\n\nI will tag this fix for the next M6 build.",
    "setting resolution to FIXED ...",
    "Verified in I20060329-0010."
  ],
  "commentCreationDates": [
    "2006-03-23T10:57:42+01:00",
    "2006-03-24T21:03:55+01:00",
    "2006-03-25T06:46:02+01:00",
    "2006-03-27T15:29:28+02:00",
    "2006-03-27T15:31:26+02:00",
    "2006-03-27T16:59:24+02:00",
    "2006-03-27T17:02:05+02:00",
    "2006-03-27T19:00:19+02:00",
    "2006-03-28T08:33:34+02:00",
    "2006-03-28T08:34:36+02:00",
    "2006-03-28T13:50:57+02:00",
    "2006-03-28T13:52:42+02:00",
    "2006-03-28T13:56:26+02:00",
    "2006-03-28T15:16:54+02:00",
    "2006-03-28T15:53:12+02:00",
    "2006-03-28T16:00:51+02:00",
    "2006-03-28T16:59:30+02:00",
    "2006-03-28T17:12:26+02:00",
    "2006-03-28T18:59:27+02:00",
    "2006-03-28T20:02:39+02:00",
    "2006-03-28T21:11:05+02:00",
    "2006-03-28T23:24:55+02:00",
    "2006-03-28T23:27:58+02:00",
    "2006-03-29T00:47:09+02:00",
    "2006-03-29T00:47:56+02:00",
    "2006-03-29T08:39:26+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassNotFoundException",
      "message": "org.eclipse.ui.internal.ide.IDEApplication",
      "elements": [
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClass",
          "source": "BundleLoader.java:406"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClass",
          "source": "BundleLoader.java:351"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass",
          "source": "DefaultClassLoader.java:83"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:251"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.loadClass",
          "source": "BundleLoader.java:276"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleHost.loadClass",
          "source": "BundleHost.java:227"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.AbstractBundle.loadClass",
          "source": "AbstractBundle.java:1245"
        },
        {
          "method": "org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension",
          "source": "RegistryStrategyOSGI.java:144"
        },
        {
          "method": "org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension",
          "source": "ExtensionRegistry.java:759"
        },
        {
          "method": "org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension",
          "source": "ConfigurationElement.java:243"
        },
        {
          "method": "org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension",
          "source": "ConfigurationElementHandle.java:51"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:74"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:169"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:338"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:282"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "132978",
      "date": "2006-03-23T10:57:42+01:00",
      "product": "Equinox",
      "component": "Framework",
      "severity": "critical"
    }
  ],
  "groupId": "132978",
  "bugId": "132978",
  "date": "2006-03-23T10:57:42+01:00",
  "product": "Equinox",
  "component": "Framework",
  "severity": "critical"
}