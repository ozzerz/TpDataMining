{
  "comments": [
    "When org.eclipse.osgi is signed and you enable the bundle signature verify support with osgi.support.signature.verify\u003dtrue then the framework will fail to launch with the following NullPointerException\n\n!ENTRY org.eclipse.osgi 4 0 2007-01-12 09:40:20.086\n!MESSAGE Startup error\n!STACK 1\njava.lang.NullPointerException\n\tat org.osgi.util.tracker.ServiceTracker.\u003cinit\u003e(ServiceTracker.java:250)\n\tat org.eclipse.osgi.internal.verifier.SignedBundleHook.getTrustAuthority(SignedBundleHook.java:205)\n\tat org.eclipse.osgi.internal.verifier.SignedBundleFile.determineCertsTrust(SignedBundleFile.java:518)\n\tat org.eclipse.osgi.internal.verifier.SignedBundleFile.setBundleFile(SignedBundleFile.java:493)\n\tat org.eclipse.osgi.internal.verifier.SignedBundleHook.wrapBundleFile(SignedBundleHook.java:123)\n\tat org.eclipse.osgi.internal.baseadaptor.BaseStorage.createBundleFile(BaseStorage.java:632)\n\tat org.eclipse.osgi.baseadaptor.BaseAdaptor.createBundleFile(BaseAdaptor.java:491)\n\tat org.eclipse.osgi.internal.baseadaptor.SystemBundleData.createBundleFile(SystemBundleData.java:114)\n\tat org.eclipse.osgi.internal.baseadaptor.SystemBundleData.\u003cinit\u003e(SystemBundleData.java:34)\n\tat org.eclipse.osgi.baseadaptor.BaseAdaptor.createSystemBundleData(BaseAdaptor.java:360)\n\tat org.eclipse.osgi.framework.internal.core.SystemBundle.\u003cinit\u003e(SystemBundle.java:43)\n\tat org.eclipse.osgi.framework.internal.core.Framework.createSystemBundle(Framework.java:267)\n\tat org.eclipse.osgi.framework.internal.core.Framework.initialize(Framework.java:222)\n\tat org.eclipse.osgi.framework.internal.core.Framework.\u003cinit\u003e(Framework.java:147)\n\tat org.eclipse.osgi.framework.internal.core.OSGi.createFramework(OSGi.java:90)\n\tat org.eclipse.osgi.framework.internal.core.OSGi.\u003cinit\u003e(OSGi.java:31)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.startup(EclipseStarter.java:278)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:166)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:615)\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:473)\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:417)\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1121)\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1096)\n\nThis is because the BundleContext has not been set for the framework adaptor yet.  The singer support hooks must be able to handle this case.  I will attach a patch to fix this.",
    "Created an attachment (id\u003d56834)\npatch\n\nThis patch uses the default trust authority if the BundleContext is not available yet.",
    "Created an attachment (id\u003d56835)\npatch\n\nPrevious patch did not reuse the local \u0027context\u0027 var used to do the null check.",
    "Patch has been released."
  ],
  "commentCreationDates": [
    "2007-01-12T15:53:30+01:00",
    "2007-01-12T15:59:22+01:00",
    "2007-01-12T16:09:51+01:00",
    "2007-01-12T16:10:49+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.osgi.util.tracker.ServiceTracker.\u003cinit\u003e",
          "source": "ServiceTracker.java:250"
        },
        {
          "method": "org.eclipse.osgi.internal.verifier.SignedBundleHook.getTrustAuthority",
          "source": "SignedBundleHook.java:205"
        },
        {
          "method": "org.eclipse.osgi.internal.verifier.SignedBundleFile.determineCertsTrust",
          "source": "SignedBundleFile.java:518"
        },
        {
          "method": "org.eclipse.osgi.internal.verifier.SignedBundleFile.setBundleFile",
          "source": "SignedBundleFile.java:493"
        },
        {
          "method": "org.eclipse.osgi.internal.verifier.SignedBundleHook.wrapBundleFile",
          "source": "SignedBundleHook.java:123"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.BaseStorage.createBundleFile",
          "source": "BaseStorage.java:632"
        },
        {
          "method": "org.eclipse.osgi.baseadaptor.BaseAdaptor.createBundleFile",
          "source": "BaseAdaptor.java:491"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.SystemBundleData.createBundleFile",
          "source": "SystemBundleData.java:114"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.SystemBundleData.\u003cinit\u003e",
          "source": "SystemBundleData.java:34"
        },
        {
          "method": "org.eclipse.osgi.baseadaptor.BaseAdaptor.createSystemBundleData",
          "source": "BaseAdaptor.java:360"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.SystemBundle.\u003cinit\u003e",
          "source": "SystemBundle.java:43"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.Framework.createSystemBundle",
          "source": "Framework.java:267"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.Framework.initialize",
          "source": "Framework.java:222"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.Framework.\u003cinit\u003e",
          "source": "Framework.java:147"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.OSGi.createFramework",
          "source": "OSGi.java:90"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.OSGi.\u003cinit\u003e",
          "source": "OSGi.java:31"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.startup",
          "source": "EclipseStarter.java:278"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:166"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:64"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:43"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:615"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:473"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:417"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1121"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1096"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "170324",
      "date": "2007-01-12T15:53:30+01:00",
      "product": "Equinox",
      "component": "Framework",
      "severity": "normal"
    }
  ],
  "groupId": "170324",
  "bugId": "170324",
  "date": "2007-01-12T15:53:30+01:00",
  "product": "Equinox",
  "component": "Framework",
  "severity": "normal"
}