{
  "comments": [
    "This PR is to request a way to not have to manually close a system dialog on W2K\nwhen GDI+ is not installed.\n\nStart snippet10 on W2K\nhttp://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet10.java?rev\u003dHEAD\u0026content-type\u003dtext/vnd.viewcvs-markup\n\nYou get the system error dialog attached below. Only after you click ok, then\nthe \u0027expected\u0027 SWT.ERROR_NO_GRAPHICS_LIBRARY comes up. This prevents programs\nfrom checking whether the functionality is supported or not since user must\nmanually close this dialog.\n\nThis sounds similar to the Browser on Linux. There we try hard to detect if the\nfunctionality is there even before loading the shared library with the\ndependency on Mozilla since it could cause a crash. And even try to give a\nuseful message (bad GTK1.2, Mozilla not located, etc.). Maybe GDI+ can be\ndetected before loading the native SWT/gdi library?\n\n\nHere is the stack trace after the dialog is closed.\n\norg.eclipse.swt.SWTException: Unable to load graphics library\n(java.lang.UnsatisfiedLinkError:\nD:\\eclipseM5_a\\eclipse\\plugins\\org.eclipse.swt.win32_3.1.0\\os\\win32\\x86\\swt-gdip-win32-3123.dll:\nCan\u0027t find dependent libraries)\n\tat org.eclipse.swt.SWT.error(SWT.java:2839)\n\tat org.eclipse.swt.SWT.error(SWT.java:2762)\n\tat org.eclipse.swt.graphics.Device.checkGDIP(Device.java:153)\n\tat org.eclipse.swt.graphics.Transform.\u003cinit\u003e(Transform.java:43)\n\tat org.eclipse.swt.graphics.Transform.\u003cinit\u003e(Transform.java:32)\n\tat Snippet10$1.handleEvent(Snippet10.java:28)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:866)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:851)\n\tat org.eclipse.swt.widgets.Composite.WM_PAINT(Composite.java:1078)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:3076)\n\tat org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1493)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:3480)\n\tat org.eclipse.swt.internal.win32.OS.UpdateWindow(Native Method)\n\tat org.eclipse.swt.widgets.Decorations.setVisible(Decorations.java:1322)\n\tat org.eclipse.swt.widgets.Shell.setVisible(Shell.java:1288)\n\tat org.eclipse.swt.widgets.Shell.open(Shell.java:819)\n\tat Snippet10.main(Snippet10.java:45)\nCaused by: java.lang.UnsatisfiedLinkError:\nD:\\eclipseM5_a\\eclipse\\plugins\\org.eclipse.swt.win32_3.1.0\\os\\win32\\x86\\swt-gdip-win32-3123.dll:\nCan\u0027t find dependent libraries\n\tat java.lang.ClassLoader$NativeLibrary.load(Native Method)\n\tat java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1586)\n\tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1511)\n\tat java.lang.Runtime.loadLibrary0(Runtime.java:788)\n\tat java.lang.System.loadLibrary(System.java:834)\n\tat org.eclipse.swt.internal.Library.loadLibrary(Library.java:123)\n\tat org.eclipse.swt.internal.gdip.Gdip.\u003cclinit\u003e(Gdip.java:17)\n\tat org.eclipse.swt.graphics.Device.checkGDIP(Device.java:149)\n\t... 16 more",
    "Created an attachment (id\u003d17994)\nmust click on this before stack trace comes up\n",
    "Fixed \u003e 20050216."
  ],
  "commentCreationDates": [
    "2005-02-16T16:48:16+01:00",
    "2005-02-16T16:49:52+01:00",
    "2005-02-16T19:28:18+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.UnsatisfiedLinkError",
      "message": "D:\\eclipseM5_a\\eclipse\\plugins\\org.eclipse.swt.win32_3.1.0\\os\\win32\\x86\\swt-gdip-win32-3123.dll: Can\u0027t find dependent libraries)",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2839"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2762"
        },
        {
          "method": "org.eclipse.swt.graphics.Device.checkGDIP",
          "source": "Device.java:153"
        },
        {
          "method": "org.eclipse.swt.graphics.Transform.\u003cinit\u003e",
          "source": "Transform.java:43"
        },
        {
          "method": "org.eclipse.swt.graphics.Transform.\u003cinit\u003e",
          "source": "Transform.java:32"
        },
        {
          "method": "Snippet10$1.handleEvent",
          "source": "Snippet10.java:28"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:842"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:866"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:851"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.WM_PAINT",
          "source": "Composite.java:1078"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:3076"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.windowProc",
          "source": "Decorations.java:1493"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:3480"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.UpdateWindow",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.setVisible",
          "source": "Decorations.java:1322"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.setVisible",
          "source": "Shell.java:1288"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.open",
          "source": "Shell.java:819"
        },
        {
          "method": "Snippet10.main",
          "source": "Snippet10.java:45"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.UnsatisfiedLinkError",
        "message": "D:\\eclipseM5_a\\eclipse\\plugins\\org.eclipse.swt.win32_3.1.0\\os\\win32\\x86\\swt-gdip-win32-3123.dll: Can\u0027t find dependent libraries",
        "elements": [
          {
            "method": "java.lang.ClassLoader$NativeLibrary.load",
            "source": "Native Method"
          },
          {
            "method": "java.lang.ClassLoader.loadLibrary0",
            "source": "ClassLoader.java:1586"
          },
          {
            "method": "java.lang.ClassLoader.loadLibrary",
            "source": "ClassLoader.java:1511"
          },
          {
            "method": "java.lang.Runtime.loadLibrary0",
            "source": "Runtime.java:788"
          },
          {
            "method": "java.lang.System.loadLibrary",
            "source": "System.java:834"
          },
          {
            "method": "org.eclipse.swt.internal.Library.loadLibrary",
            "source": "Library.java:123"
          },
          {
            "method": "org.eclipse.swt.internal.gdip.Gdip.\u003cclinit\u003e",
            "source": "Gdip.java:17"
          },
          {
            "method": "org.eclipse.swt.graphics.Device.checkGDIP",
            "source": "Device.java:149"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "85453",
      "date": "2005-02-16T16:48:16+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    }
  ],
  "groupId": "85453",
  "bugId": "85453",
  "date": "2005-02-16T16:48:16+01:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "normal"
}