{
  "comments": [
    "Using 3.1 and 3.2, I have periodically seen the NPE below when shutting down eclipse with an active java debug session, but am unable to produce a testcase that consistently demonstrates the behaviour.\n\nLooking that the code, the line that is throwing the NPE is:\n   JDIDebugPlugin.getDefault().fireBreakpointRemoved(target, this);\n\nSo this looks like the JDIDebugPlugin bundle is being stopped (which nulls out its instance memeber) before the code in the stack below finishes.  \nI notice this bug has been opened before https://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d79099 , but was closed because it couldn\u0027t be reproduced.   So I\u0027m not sure if some synchronization needs to be added, but at a minimum can a NPE try/catch be put in at this location to prevent the NPE from being written? \n \nException in thread \"org.eclipse.jdt.debug: JDI Event Dispatcher\" java.lang.NullPointerException\n        at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.fireRemoved(JavaBreakpoint.java:892)\n        at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.removeFromTarget(JavaBreakpoint.java:636)\n        at org.eclipse.jdt.internal.debug.core.breakpoints.JavaLineBreakpoint.removeFromTarget(JavaLineBreakpoint.java:177)\n        at org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.removeAllBreakpoints(JDIDebugTarget.java:1353)\n        at org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.cleanup(JDIDebugTarget.java:1311)\n        at org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.disconnected(JDIDebugTarget.java:1288)\n        at org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.handleVMDisconnect(JDIDebugTarget.java:880)\n        at org.eclipse.jdt.internal.debug.core.EventDispatcher.dispatch(EventDispatcher.java:154)\n        at org.eclipse.jdt.internal.debug.core.EventDispatcher.run(EventDispatcher.java:232)\n        at java.lang.Thread.run(Thread.java:797)",
    "Created an attachment (id\u003d43299)\nadd some null checks\n\n",
    "Released to TARGET_321 branch",
    "Released to HEAD",
    "Released to R3_2_maintenance branch",
    "Please verify, Darin (W)",
    "Verified."
  ],
  "commentCreationDates": [
    "2006-04-28T00:24:27+02:00",
    "2006-06-01T21:59:34+02:00",
    "2006-06-08T23:06:30+02:00",
    "2006-06-09T15:34:05+02:00",
    "2006-07-06T17:47:50+02:00",
    "2006-07-06T17:48:08+02:00",
    "2006-07-13T17:08:34+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.fireRemoved",
          "source": "JavaBreakpoint.java:892"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.removeFromTarget",
          "source": "JavaBreakpoint.java:636"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.breakpoints.JavaLineBreakpoint.removeFromTarget",
          "source": "JavaLineBreakpoint.java:177"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.removeAllBreakpoints",
          "source": "JDIDebugTarget.java:1353"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.cleanup",
          "source": "JDIDebugTarget.java:1311"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.disconnected",
          "source": "JDIDebugTarget.java:1288"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.handleVMDisconnect",
          "source": "JDIDebugTarget.java:880"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.EventDispatcher.dispatch",
          "source": "EventDispatcher.java:154"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.EventDispatcher.run",
          "source": "EventDispatcher.java:232"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:797"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "139089",
      "date": "2006-04-28T00:24:27+02:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "139089",
  "bugId": "139089",
  "date": "2006-04-28T00:24:27+02:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "normal"
}