{
  "comments": [
    "I\u0027ve wrapped the org.eclipse.wst.javascript.ui.internal.editor.JSEditor class \nin a Composite so that it can be placed like a normal Control in views and \ndialogs. I currently have this editor Control in a simple view, it\u0027s the only \nthing in the view. If I edit the text in the editor, when I close the \nWorkbench I get the exception included below (it\u0027s repeated about 20 times in \nthe console). After the exception the Workbench UI is closed, but the \njavaw.exe process is still running and another workbench cannot be opened \nuntil that process is killed. This did not happen in 3.0. If the view \ncontaining my editor control is closed before the workbench, there are no \nproblems. I don\u0027t know if this is a problem with the new Undo/Redo mechanisms \nor the WST code or my code, but the code throwing the NullPointerException was \nadded in 3.1.\n\nNov 16, 2005 10:37:49 AM org.eclipse.ui Unspecified Method\nSEVERE: Failed to execute runnable (java.lang.NullPointerException)\norg.eclipse.swt.SWTException: Failed to execute runnable \n(java.lang.NullPointerException)\n\tat org.eclipse.swt.SWT.error(SWT.java:2942)\n\tat org.eclipse.swt.SWT.error(SWT.java:2865)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages\n(Synchronizer.java:126)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3057)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2716)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench\n(Workbench.java:367)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run\n(IDEApplication.java:103)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run\n(PlatformActivator.java:226)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:376)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:163)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:85)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:58)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:60)\n\tat java.lang.reflect.Method.invoke(Method.java:391)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n\tat org.eclipse.core.launcher.Main.run(Main.java:973)\n\tat org.eclipse.core.launcher.Main.main(Main.java:948)\nCaused by: java.lang.NullPointerException\n\tat org.eclipse.ui.operations.OperationHistoryActionHandler.getHistory\n(OperationHistoryActionHandler.java:227)\n\tat org.eclipse.ui.operations.RedoActionHandler.shouldBeEnabled\n(RedoActionHandler.java:71)\n\tat org.eclipse.ui.operations.OperationHistoryActionHandler.update\n(OperationHistoryActionHandler.java:352)\n\tat org.eclipse.ui.operations.OperationHistoryActionHandler$1.run\n(OperationHistoryActionHandler.java:129)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages\n(Synchronizer.java:123)\n\t... 19 more",
    "The symptom is the same as from bug #115761.  An async message involving the \naction handler ran after the workbench was closed (and the handler presumably \ndisposed).  This bug was fixed in the latest 3.1.2 maintenance build and also \nin the current 3.2 integration.  If you prefer to patch the problem, you can \ngrab the patch in bug #115761.\n\nHowever I\u0027m keeping this bug open so that I can provide further safeguards.  \nThe patch to #115761 fixes the problem where the workbench window is no longer \nopen but PlatformUI is still running.  I\u0027m going to be paranoid and add further \nchecks so that the code never runs if the handler has been disposed (in case \nPlatformUI is no longer running).",
    "\"extra-paranoid\" safeguards committed \u003e20051116.  Should appear in next nightly \nbuild and integration build on 3.2 stream.\n\nShould appear in next (1124?) 3.1.2 stream build.\n\nLet me know if you need a patch vs. picking up fix from these builds.  Will \nalso add these fixes to bug 116309.",
    "We can wait until the builds. Thanks.",
    "verified I20051213-0100, Win XP Pro through source code inspection"
  ],
  "commentCreationDates": [
    "2005-11-16T15:50:32+01:00",
    "2005-11-16T23:36:21+01:00",
    "2005-11-16T23:47:48+01:00",
    "2005-11-17T19:02:58+01:00",
    "2005-12-13T21:58:30+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Failed to execute runnable  (java.lang.NullPointerException)",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2942"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2865"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:126"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3057"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2716"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1699"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1663"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:367"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:58"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:60"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:391"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.NullPointerException",
        "elements": [
          {
            "method": "org.eclipse.ui.operations.OperationHistoryActionHandler.getHistory",
            "source": "OperationHistoryActionHandler.java:227"
          },
          {
            "method": "org.eclipse.ui.operations.RedoActionHandler.shouldBeEnabled",
            "source": "RedoActionHandler.java:71"
          },
          {
            "method": "org.eclipse.ui.operations.OperationHistoryActionHandler.update",
            "source": "OperationHistoryActionHandler.java:352"
          },
          {
            "method": "org.eclipse.ui.operations.OperationHistoryActionHandler$1.run",
            "source": "OperationHistoryActionHandler.java:129"
          },
          {
            "method": "org.eclipse.swt.widgets.RunnableLock.run",
            "source": "RunnableLock.java:35"
          },
          {
            "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
            "source": "Synchronizer.java:123"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "116673",
      "date": "2005-11-16T15:50:32+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "116673",
  "bugId": "116673",
  "date": "2005-11-16T15:50:32+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "major"
}