{
  "comments": [
    "I have not been able to reproduce this with the latest 33 SDK but the code is written the same way as the 322 version we are using. \n\nThis is a stack trace that we get on our update.core\n\nException in thread \"Thread-10\" java.lang.NullPointerException\nat org.eclipse.update.internal.core.URLKey.hashCode(URLKey.java:65)\nat java.util.HashMap.hash(HashMap.java:313)\nat java.util.HashMap.get(HashMap.java:368)\nat org.eclipse.update.core.Site.createFeature(Site.java:517)\nat org.eclipse.update.core.FeatureReference.createFeature(FeatureReferen\nat org.eclipse.update.core.FeatureReference.getFeature(FeatureReference.\nat org.eclipse.update.core.FeatureReference.getFeature(FeatureReference.\nat org.eclipse.update.internal.operations.UpdateUtils.searchSite(UpdateU\nat org.eclipse.update.internal.operations.UpdateUtils.getInstalledFeatur\nat org.eclipse.update.search.BackLevelFilter.accept(BackLevelFilter.java\nat org.eclipse.update.search.UpdateSearchRequest$AggregateFilter.accept(\nat org.eclipse.update.internal.search.SiteSearchCategory$FeatureDownload\nat java.lang.Thread.run(Thread.java:803)\nException in thread \"Thread-11\" java.lang.NullPointerException\nat org.eclipse.update.internal.core.URLKey.hashCode(URLKey.java:65)\nat java.util.HashMap.hash(HashMap.java:313)\nat java.util.HashMap.get(HashMap.java:368)\nat org.eclipse.update.core.Site.createFeature(Site.java:517)\nat org.eclipse.update.core.FeatureReference.createFeature(FeatureReferen\nat org.eclipse.update.core.FeatureReference.getFeature(FeatureReference.\nat org.eclipse.update.core.FeatureReference.getFeature(FeatureReference.\nat org.eclipse.update.internal.operations.UpdateUtils.searchSite(UpdateU\nat org.eclipse.update.internal.operations.UpdateUtils.getInstalledFeatur\nat org.eclipse.update.search.BackLevelFilter.accept(BackLevelFilter.java\nat org.eclipse.update.search.UpdateSearchRequest$AggregateFilter.accept(\nat org.eclipse.update.internal.search.SiteSearchCategory$FeatureDownload\nat java.lang.Thread.run(Thread.java:803) \n\nWhat I found is that the Sets used to track the features are not synchronized.\nPatch will be posted in a bit. This change also seems to fix temporary feature cache not getting cleaned up.",
    "Created an attachment (id\u003d70739)\nFix NPE in FeatureDownloader patch\n\n",
    "Working on new patch.",
    "Created an attachment (id\u003d71947)\nPatch for NullPointerException\n\n",
    "Can this get addressed in 3.3.1?",
    "Fixed in both 3.3.1 and HEAD."
  ],
  "commentCreationDates": [
    "2007-06-08T23:12:49+02:00",
    "2007-06-08T23:22:47+02:00",
    "2007-06-10T16:48:24+02:00",
    "2007-06-20T20:59:22+02:00",
    "2007-08-20T22:06:26+02:00",
    "2007-08-28T18:09:32+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.update.internal.core.URLKey.hashCode",
          "source": "URLKey.java:65"
        },
        {
          "method": "java.util.HashMap.hash",
          "source": "HashMap.java:313"
        },
        {
          "method": "java.util.HashMap.get",
          "source": "HashMap.java:368"
        },
        {
          "method": "org.eclipse.update.core.Site.createFeature",
          "source": "Site.java:517"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "191783",
      "date": "2007-06-08T23:12:49+02:00",
      "product": "Platform",
      "component": "Update",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.update.internal.core.URLKey.hashCode",
          "source": "URLKey.java:65"
        },
        {
          "method": "java.util.HashMap.hash",
          "source": "HashMap.java:313"
        },
        {
          "method": "java.util.HashMap.get",
          "source": "HashMap.java:368"
        },
        {
          "method": "org.eclipse.update.core.Site.createFeature",
          "source": "Site.java:517"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "191783",
      "date": "2007-06-08T23:12:49+02:00",
      "product": "Platform",
      "component": "Update",
      "severity": "normal"
    }
  ],
  "groupId": "191783",
  "bugId": "191783",
  "date": "2007-06-08T23:12:49+02:00",
  "product": "Platform",
  "component": "Update",
  "severity": "normal"
}