{
  "comments": [
    "I am unable to run the simplest of Ant scripts from within Eclipse even though\nthey all work fine on their own (relevant section of .log file is copied further\nbelow).\n\nMy Eclipse installation is very fresh and done from wtp-all-in-one-0.7-win32.zip\nwhich should contain a consistent set of plugins.\n\nI have tried to run a script/target in these two ways:\n\n1) with Ant View closed, select build.xml from Package Explorer, right click,\nselect Run As and selecting Ant Build...\n\n2) with Ant View opened, select a target and click on the run button\n\nIn both cases a dilog box with the following message appeared:\n\nAn internal error occurred during: \"Launching\".\n\n\u003c----- BEGIN build.xml -----\u003e\n\u003c?xml version\u003d\"1.0\" encoding\u003d\"ISO-8859-1\"?\u003e\n\u003cproject name\u003d\"MyTask\" basedir\u003d\".\" default\u003d\"jar\"\u003e\n\t\u003cproperty name\u003d\"src.dir\" value\u003d\"src\"/\u003e\n\t\u003cproperty name\u003d\"classes.dir\" location\u003d\"bin\"/\u003e\n\n    \u003ctarget name\u003d\"clean\" description\u003d\"Delete all generated files\"\u003e\n        \u003cdelete dir\u003d\"${classes.dir}\" failonerror\u003d\"false\"/\u003e\n        \u003cdelete file\u003d\"${ant.project.name}.jar\"/\u003e\n    \u003c/target\u003e\n\n    \u003ctarget name\u003d\"compile\" description\u003d\"Compiles the Task\"\u003e\n    \t\u003cmkdir dir\u003d\"${classes.dir}\"/\u003e\n        \u003cjavac srcdir\u003d\"${src.dir}\" destdir\u003d\"${classes.dir}\"/\u003e\n    \u003c/target\u003e\n\n    \u003ctarget name\u003d\"jar\" description\u003d\"JARs the Task\" depends\u003d\"compile\"\u003e\n        \u003cjar destfile\u003d\"${ant.project.name}.jar\" basedir\u003d\"${classes.dir}\"/\u003e\n    \u003c/target\u003e\n\n\u003c/project\u003e\n\u003c-----  END build.xml  -----\u003e\n\n\u003c----- BEGIN .log -----\u003e\n!SESSION 2005-09-07 15:08:48.377 -----------------------------------------------\neclipse.buildId\u003dI20050627-1435\njava.version\u003d1.5.0_04\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_GB\nCommand-line arguments:  -os win32 -ws win32 -arch x86 -clean -data\nD:\\Data\\ProgramData\\eclipse\n\n!ENTRY org.eclipse.core.runtime 4 2 2005-09-07 15:09:49.867\n!MESSAGE An internal error occurred during: \"Launching\".\n!STACK 0\njava.lang.NullPointerException\n\tat\norg.eclipse.core.internal.variables.StringSubstitutionEngine.substitute(StringSubstitutionEngine.java:137)\n\tat\norg.eclipse.core.internal.variables.StringSubstitutionEngine.performStringSubstitution(StringSubstitutionEngine.java:86)\n\tat\norg.eclipse.core.internal.variables.StringVariableManager.performStringSubstitution(StringVariableManager.java:557)\n\tat\norg.eclipse.core.internal.variables.StringVariableManager.performStringSubstitution(StringVariableManager.java:347)\n\tat\norg.eclipse.debug.internal.core.LaunchManager.getEnvironment(LaunchManager.java:1666)\n\tat\norg.eclipse.jdt.launching.AbstractJavaLaunchConfigurationDelegate.getEnvironment(AbstractJavaLaunchConfigurationDelegate.java:943)\n\tat org.eclipse.jdt.launching.JavaLaunchDelegate.launch(JavaLaunchDelegate.java:60)\n\tat\norg.eclipse.ant.internal.ui.launchConfigurations.AntLaunchDelegate.runInSeparateVM(AntLaunchDelegate.java:524)\n\tat\norg.eclipse.ant.internal.ui.launchConfigurations.AntLaunchDelegate.launch(AntLaunchDelegate.java:194)\n\tat\norg.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:590)\n\tat\norg.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:515)\n\tat\norg.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch(DebugUIPlugin.java:733)\n\tat org.eclipse.debug.internal.ui.DebugUIPlugin$6.run(DebugUIPlugin.java:931)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)\n\n!ENTRY org.eclipse.ant.ui 4 120 2005-09-07 15:09:57.415\n!MESSAGE Error logged from Ant UI: \n!STACK 0\njava.net.SocketTimeoutException: Accept timed out\n\tat java.net.PlainSocketImpl.socketAccept(Native Method)\n\tat java.net.PlainSocketImpl.accept(Unknown Source)\n\tat java.net.ServerSocket.implAccept(Unknown Source)\n\tat java.net.ServerSocket.accept(Unknown Source)\n\tat\norg.eclipse.ant.internal.ui.launchConfigurations.RemoteAntBuildListener$ServerConnection.run(RemoteAntBuildListener.java:97)\n\u003c-----  END .log  -----\u003e",
    "Thanks for the bug report Juan.\nWe have had this reported once before (bug 101672).\nWe need a reproduceable test case as we have never seen this problem.\n\nIt appears that you have something special as an environment variable that the \nEclipse variable support is having trouble with. Can you provide any further \ndetails?\n\nAs a workaround you should be able to run your Ant builds in the same JRE as \nEclipse (See the JRE for your Ant launch configuration).",
    "Your message prompted me to look into my preferences and there I discovered\nsomething wrong:  under Ant / Runtime / Classpath my Ant Home was set to an old\nlocation that didn\u0027t exist any more.  Reseting this solved the problem.\n\nMaybe you can now reproduce the problem and add extra defensive code or at least\na more helpfull message.\n\nIn addition I wonder whether I should create a separate bug to track the source\nof the problem: I always use \"-clean\" and \"-data\" switches.  As I said, mine is\na new installation, except for what Eclipse might be picking up from my old\nprojects.  In this particular case it managed to pick up the Ant home from an\nold project.  The project exists but some of the folders the project depended on\ndo not (eg. Ant).\n\n(In reply to comment #1)\n\u003e Thanks for the bug report Juan.\n\u003e We have had this reported once before (bug 101672).\n\u003e We need a reproduceable test case as we have never seen this problem.\n\u003e \n\u003e It appears that you have something special as an environment variable that the \n\u003e Eclipse variable support is having trouble with. Can you provide any further \n\u003e details?\n\u003e \n\u003e As a workaround you should be able to run your Ant builds in the same JRE as \n\u003e Eclipse (See the JRE for your Ant launch configuration).",
    "Ant home can be null and the code was not handling this outside case.\n\nChanges to:\n AntLaunchDelegate to handle null ant home.\n LaunchManager to not string substitute a null variable value. I was undecided whether this should actually be pushed down in StringSubstitutionEngine...leave for debug to decide",
    "Please verify DarinW.",
    "Verified. For now, leave the \"null\" variable fix in LaunchManager."
  ],
  "commentCreationDates": [
    "2005-09-07T16:58:25+02:00",
    "2005-09-07T17:09:28+02:00",
    "2005-09-14T13:52:45+02:00",
    "2006-02-02T21:16:27+01:00",
    "2006-02-02T21:16:50+01:00",
    "2006-03-30T22:25:25+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.core.internal.variables.StringSubstitutionEngine.substitute",
          "source": "StringSubstitutionEngine.java:137"
        },
        {
          "method": "org.eclipse.core.internal.variables.StringSubstitutionEngine.performStringSubstitution",
          "source": "StringSubstitutionEngine.java:86"
        },
        {
          "method": "org.eclipse.core.internal.variables.StringVariableManager.performStringSubstitution",
          "source": "StringVariableManager.java:557"
        },
        {
          "method": "org.eclipse.core.internal.variables.StringVariableManager.performStringSubstitution",
          "source": "StringVariableManager.java:347"
        },
        {
          "method": "org.eclipse.debug.internal.core.LaunchManager.getEnvironment",
          "source": "LaunchManager.java:1666"
        },
        {
          "method": "org.eclipse.jdt.launching.AbstractJavaLaunchConfigurationDelegate.getEnvironment",
          "source": "AbstractJavaLaunchConfigurationDelegate.java:943"
        },
        {
          "method": "org.eclipse.jdt.launching.JavaLaunchDelegate.launch",
          "source": "JavaLaunchDelegate.java:60"
        },
        {
          "method": "org.eclipse.ant.internal.ui.launchConfigurations.AntLaunchDelegate.runInSeparateVM",
          "source": "AntLaunchDelegate.java:524"
        },
        {
          "method": "org.eclipse.ant.internal.ui.launchConfigurations.AntLaunchDelegate.launch",
          "source": "AntLaunchDelegate.java:194"
        },
        {
          "method": "org.eclipse.debug.internal.core.LaunchConfiguration.launch",
          "source": "LaunchConfiguration.java:590"
        },
        {
          "method": "org.eclipse.debug.internal.core.LaunchConfiguration.launch",
          "source": "LaunchConfiguration.java:515"
        },
        {
          "method": "org.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch",
          "source": "DebugUIPlugin.java:733"
        },
        {
          "method": "org.eclipse.debug.internal.ui.DebugUIPlugin$6.run",
          "source": "DebugUIPlugin.java:931"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:76"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "108937",
      "date": "2005-09-07T16:58:25+02:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    },
    {
      "exceptionType": "java.net.SocketTimeoutException",
      "message": "Accept timed out",
      "elements": [
        {
          "method": "java.net.PlainSocketImpl.socketAccept",
          "source": "Native Method"
        },
        {
          "method": "java.net.PlainSocketImpl.accept",
          "source": "Unknown Source"
        },
        {
          "method": "java.net.ServerSocket.implAccept",
          "source": "Unknown Source"
        },
        {
          "method": "java.net.ServerSocket.accept",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ant.internal.ui.launchConfigurations.RemoteAntBuildListener$ServerConnection.run",
          "source": "RemoteAntBuildListener.java:97"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "108937",
      "date": "2005-09-07T16:58:25+02:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    }
  ],
  "groupId": "108937",
  "bugId": "108937",
  "date": "2005-09-07T16:58:25+02:00",
  "product": "Platform",
  "component": "Ant",
  "severity": "normal"
}