{
  "comments": [
    "Description:\nException is thrown out when preview result for a joint data set.\n\nBuild number:\n2.2.0.v20070515-0630\n\nSteps to reproduce:\n1. Create a data source dSource_Oracle: \n   oracle.jdbc.OracleDriver, jdbc:oracle:thin:@spmdb:1521:test.\n2. Create a new data set dSet_Oracle, select all columns from \u0027client\u0027.\n3. New a data source \"d1\": select \"Flat file data source\", use the attached \n   csv file.\n4. New a inner join data set:\n   select \"FlatFileDataSet\" as the left and \"dSource_Oracle\" as the right.\n   row[\"FlatFileDataSet::Id\"] inner join row[\"dSource_Oracle::Id\"].\n5. Click Preview Results.\n\nExpected result:\nNo exception is thrown out.\n\nActual result:\nException is thrown out. \n\nError log:\norg.eclipse.birt.data.engine.core.DataException: Column binding \"dSetOracle::row[\"ID\"]\" has referred to a data set column \"dSetOracle::row[\"ID\"]\" which is not exist.\nat org.eclipse.birt.data.engine.impl.ResultIterator.validateManualBindingExpressions(ResultIterator.java:290)\nat org.eclipse.birt.data.engine.impl.ResultIterator.\u003cinit\u003e(ResultIterator.java:144)\nat org.eclipse.birt.data.engine.impl.QueryResults.getResultIterator(QueryResults.java:164)\nat org.eclipse.birt.report.designer.data.ui.dataset.ResultSetPreviewPage.populateRecords(ResultSetPreviewPage.java:468)\nat org.eclipse.birt.report.designer.data.ui.dataset.ResultSetPreviewPage.access$2(ResultSetPreviewPage.java:461)\nat org.eclipse.birt.report.designer.data.ui.dataset.ResultSetPreviewPage$5.run(ResultSetPreviewPage.java:417)\nat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)",
    "Created an attachment (id\u003d67180)\ncsv file\n\n",
    "This bug is caused by the cached session state has changed when fetching its left and right resultset metadata. This error will occur when preparing left dataset query, then preparing right dataset. But once we had prepared right dataset, the left dataset?s result set metadata will never be fetched since the cached states has changed by right dataset. So we should fetch its corresponding metadata on time. Fix it now!",
    "Verified in build (200705161011), closed."
  ],
  "commentCreationDates": [
    "2007-05-15T06:14:57+02:00",
    "2007-05-15T06:15:57+02:00",
    "2007-05-15T11:05:21+02:00",
    "2007-05-16T08:34:47+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.birt.data.engine.core.DataException",
      "message": "Column binding \"dSetOracle::row[\"ID\"]\" has referred to a data set column \"dSetOracle::row[\"ID\"]\" which is not exist.",
      "elements": [
        {
          "method": "org.eclipse.birt.data.engine.impl.ResultIterator.validateManualBindingExpressions",
          "source": "ResultIterator.java:290"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.ResultIterator.\u003cinit\u003e",
          "source": "ResultIterator.java:144"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.QueryResults.getResultIterator",
          "source": "QueryResults.java:164"
        },
        {
          "method": "org.eclipse.birt.report.designer.data.ui.dataset.ResultSetPreviewPage.populateRecords",
          "source": "ResultSetPreviewPage.java:468"
        },
        {
          "method": "org.eclipse.birt.report.designer.data.ui.dataset.ResultSetPreviewPage.access$2",
          "source": "ResultSetPreviewPage.java:461"
        },
        {
          "method": "org.eclipse.birt.report.designer.data.ui.dataset.ResultSetPreviewPage$5.run",
          "source": "ResultSetPreviewPage.java:417"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:113"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "186928",
      "date": "2007-05-15T06:14:57+02:00",
      "product": "BIRT",
      "component": "Data",
      "severity": "normal"
    }
  ],
  "groupId": "186928",
  "bugId": "186928",
  "date": "2007-05-15T06:14:57+02:00",
  "product": "BIRT",
  "component": "Data",
  "severity": "normal"
}