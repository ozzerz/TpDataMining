{
  "comments": [
    "Eclipse cannot initialize the java editor on big files (more then 207 KB and\nabout 280 KB). When you try second time to open the big file, it caused an\nInternal Error: A stack overflow error has occured. And you are recommended to\nexit the workbench. Here comes the .log-file:\n\n\n!ENTRY org.eclipse.ui 4 4 Jul 21, 2004 13:15:17.156\n!MESSAGE Unhandled event loop exception\n\n!ENTRY org.eclipse.ui 4 0 Jul 21, 2004 13:15:17.156\n!MESSAGE Failed to execute runnable (java.lang.StackOverflowError)\n!STACK 0\norg.eclipse.swt.SWTException: Failed to execute runnable\n(java.lang.StackOverflowError)\n\tat org.eclipse.swt.SWT.error(SWT.java:2691)\n\tat org.eclipse.swt.SWT.error(SWT.java:2616)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:109)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2749)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2434)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1377)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1348)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:254)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:335)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:183)\n\tat org.eclipse.core.launcher.Main.run(Main.java:644)\n\tat org.eclipse.core.launcher.Main.main(Main.java:628)\n\n!ENTRY org.eclipse.ui 4 4 Jul 21, 2004 13:15:17.156\n!MESSAGE *** SWT nested exception\n\n!ENTRY org.eclipse.ui 4 0 Jul 21, 2004 13:15:17.156\n!MESSAGE java.lang.StackOverflowError\n!STACK 0\njava.lang.StackOverflowError\n\n!ENTRY org.eclipse.ui 4 4 Jul 21, 2004 13:18:10.515\n!MESSAGE Unhandled event loop exception\n\n!ENTRY org.eclipse.ui 4 0 Jul 21, 2004 13:18:10.531\n!MESSAGE java.lang.StackOverflowError\n!STACK 0\njava.lang.StackOverflowError",
    "-Which build?\n-Did you install additional plug-ins?\n-Is this repeatable?\n-Are there other errors in .log?\n-You say a stack overflow happened the second time - what happened the first\ntime? -Dialog? Anything in .log?\n-What kind of file did you try to open? Can you attach the file?",
    "I would also ask which VM and if there\u0027s any special VM arguments specified \nthat might effect stack size? I know I routinely open 300K java files (as part \nof a test suite) and I\u0027ve never seen this. So, unlikely to be just file size. \nI\u0027m sure there\u0027s something there, and would be nice to know what ... could it \nbe related to number of warnings (or annotations) in file?",
    "Created an attachment (id\u003d13508)\nThe file that caused the the stack overflow\n",
    "- I try to open the file: Dialog: Cannot open default editor on FrTest.java.\nEditor could not be initialized.\n- I try second time: Dialog: A stack overflow error has occured. ... Do you want\nto exit the workbench?\n- Here are the corresponding .log entries:\n!SESSION Jul 22, 2004 07:46:25.78 ----------------------------------------------\neclipse.buildId\u003dI200406251208\njava.version\u003d1.4.2_04\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003dde_DE\n\n!ENTRY org.eclipse.core.runtime 4 2 Jul 22, 2004 08:01:46.671\n!MESSAGE An internal error occurred during: \"Launching\".\n!STACK 0\njava.lang.StackOverflowError\n\n!ENTRY org.eclipse.ui 4 4 Jul 22, 2004 08:08:10.359\n!MESSAGE Unhandled event loop exception\n\n!ENTRY org.eclipse.ui 4 0 Jul 22, 2004 08:08:10.359\n!MESSAGE java.lang.StackOverflowError\n!STACK 0\njava.lang.StackOverflowError\n\n- plugins:\nexmples, CDT, EMF-SDO-XSD\n\n- the bug is repeatable with the attached FrTest.java file\n\n- I start eclipse with:\nC:\\eclipse\\eclipse.exe -vmargs    -Djava.endorsed.dirs\u003dC:\\java\\xalan-j_2_6_0\\bin\\\n\n- There are no warnings in file\n\n\n\n",
    "Created an attachment (id\u003d13509)\nThe superclass of FrTest.java\n",
    "Created an attachment (id\u003d13510)\nA needed class for FrTest.java\n",
    "The log entries you attached seem to be only parts. Please attach the whole .log\nfile (zip if too large). Also, the following entry rather looks like you\nlaunched and not opened the editor:\n\n!ENTRY org.eclipse.core.runtime 4 2 Jul 22, 2004 08:01:46.671\n!MESSAGE An internal error occurred during: \"Launching\".\n!STACK 0\njava.lang.StackOverflowError\n\nHow do you open the editor exactly? Is the file part of a Java project?",
    "I dubble click on the file in the package explorer.\nThe file is part of Java project in the default package.",
    "Created an attachment (id\u003d13511)\nThe whole log\n",
    "Sorry, I don\u0027t have rar installed. Can you use simple zip or attach it\nuncompressed. Thanks.\n\nAnother thing: can you try\n1) open the file using Open With \u003e \"Java Editor\"\n2) try with a fresh Eclipse SDK?\n",
    "Created an attachment (id\u003d13512)\nThe whole log zipped\n",
    "open the file using Open With \u003e \"Java Editor\"\n\n\u003e\u003e\u003e the same behaviour",
    "Too me the log looks like all the stackoverflows come from Debug when you try to\nlaunch.\n\u003eat\norg.eclipse.debug.ui.actions.OpenLaunchDialogAction.run(OpenLaunchDialogAction.java:80)\n\nI also found errros caused by XMLBuddy but in comment 4 you only wrote:\n- plugins: exmples, CDT, EMF-SDO-XSD\n\nHow is that possible?\n\nDoes it really fail when you simply open that file? Can you clear the .log and\nsimply open that file? Also, please try with a fresh install.\n",
    "Created an attachment (id\u003d13513)\nWhole log of a fresh install\n",
    "I have removed XMLbuddy and the behaviour was the same.\n\nI have tried with fresh build (see new log)\nThe bahaviour ist the same.",
    "OK. I think I got it. You launch with default VM args i.e. don\u0027t give Eclipse\nenough memory to hanlde this large file. Try \neclipse.exe -vmargs -Xmx200M -Djava.endorsed.dirs\u003dC:\\java\\xalan-j_2_6_0\\bin\\",
    "I start with -Xmx200M\n1. Eclipse don\u0027t want to start because FrTest.java was editing in last session.\nSo I must delete the file.\n2. Open with -\u003e Java Editor is OK!\n3. Open with dubble click on the file -\u003e old error",
    "ok - a bit better now ;-)\nGo to the preferences and check what\u0027s the default editor for *.java files.",
    "There is no default editor associated with *.java files, but on dubble click in\nthe windows explorer the usual notepad is opened\n",
    "reference to comment #7:\nI cannot also launch the application with FrTest.java",
    "In comment 18 I meant which one is associated in Eclipse:\nWindow \u003e Preferences \u003e Workbench \u003e File Associtations",
    "the default editor is Java Editor",
    "Can reproduce the problem with the attached files.",
    "Can be reproduced using SDK 1.4.2_03 (build 1.4.2_03-b02) but not using IBM J2SC\n(with or without -XJ9 flag). Works if running in interpreted mode (-Xint).\n\u003d\u003d\u003e JIT bug in VM.\n\nHere\u0027s where the stack overflow happens:\n\nBinaryExpression.resolveType(BlockScope scope) {\n\n\t\tboolean leftIsCast, rightIsCast;\n\t\tif ((leftIsCast \u003d left instanceof CastExpression) \u003d\u003d true) left.bits |\u003d\nIgnoreNeedForCastCheckMASK; // will check later on\n\t\tTypeBinding leftType \u003d left.resolveType(scope);\n                                            ^^^^^^^^^^^",
    "Correction to last comment: it also does not work when using:\n  build 1.4.2, J2RE 1.4.2 IBM Windows 32 build cndev-20040524 (JIT enabled: jitc)\nwithout -Xj9. Works if JIT is disabled or -Xj9 is used.\n",
    "David - can you still reproduce ?",
    "I can reproduce the bug in I20050405-0800",
    "The problem come from the resolution of an AST that represent a concatenation of\nmore than 2800 String.",
    "The problem is that the string concatenation has not been optimized in the\ncompiler\u0027s tree in order to produce all the string literals for the DOM/AST. The\nresulting issue is that the compiler cannot resolve the tree because of the\nStackOverFlowError.",
    "The only way I can see to fix it is to optimize the string literals during the\nDOM/AST parsing and reparse the whole string literal to get the proper positions.",
    "In fact on this specific source, even if I use the optimizeStringLiteral support\nfrom the compiler it won\u0027t work.\nThe problem comes from the fact that the huge string concatenation starts with a\nmethod invocation and then it is not optimized.\nSo the problem is really in the compiler that cannot compile this file.\njavac 1.5 also fails with a StackOverFlowError.\n",
    "Philippe,\n\nThis might require the addition of a new node in the compiler.\nJikes can successfully compile it. It is the only java compiler that\nsuccessfully compiles this code.",
    "If the code is simply using a huge string concatenation, the conversion works fine.\nAdd regression test in\norg.eclipse.jdt.core.tests.dom.ASTConverterTestAST3_2.test0602.",
    "not for 3.1",
    "What about 3.3 ;-)",
    "reopening",
    "Olivier - is this still an issue ?",
    "If this is still an issue, please investigate for 3.4. Otherwise please close.",
    "Could not reproduce the failure using 3.3RC4.\nClosing as WORKSFORME.\nPlease reopen if you get it again."
  ],
  "commentCreationDates": [
    "2004-07-21T13:33:10+02:00",
    "2004-07-21T19:24:12+02:00",
    "2004-07-21T20:07:20+02:00",
    "2004-07-22T08:14:43+02:00",
    "2004-07-22T08:31:26+02:00",
    "2004-07-22T08:32:53+02:00",
    "2004-07-22T08:33:45+02:00",
    "2004-07-22T08:39:54+02:00",
    "2004-07-22T08:54:03+02:00",
    "2004-07-22T08:57:33+02:00",
    "2004-07-22T09:22:18+02:00",
    "2004-07-22T09:38:35+02:00",
    "2004-07-22T09:45:17+02:00",
    "2004-07-22T09:48:44+02:00",
    "2004-07-22T09:55:14+02:00",
    "2004-07-22T09:59:55+02:00",
    "2004-07-22T10:02:28+02:00",
    "2004-07-22T10:15:43+02:00",
    "2004-07-22T10:20:56+02:00",
    "2004-07-22T10:26:08+02:00",
    "2004-07-22T10:44:53+02:00",
    "2004-07-22T12:50:00+02:00",
    "2004-07-22T13:00:41+02:00",
    "2004-07-22T14:04:34+02:00",
    "2004-07-22T14:25:57+02:00",
    "2004-07-22T14:42:10+02:00",
    "2005-04-07T13:26:55+02:00",
    "2005-04-07T15:33:19+02:00",
    "2005-04-07T16:35:55+02:00",
    "2005-04-07T17:27:37+02:00",
    "2005-04-07T17:28:52+02:00",
    "2005-04-07T17:59:08+02:00",
    "2005-04-08T17:04:11+02:00",
    "2005-04-08T18:22:14+02:00",
    "2005-05-09T18:55:12+02:00",
    "2006-06-16T16:35:58+02:00",
    "2007-04-02T13:44:23+02:00",
    "2007-04-02T13:44:58+02:00",
    "2007-06-04T11:03:12+02:00",
    "2007-06-21T17:18:01+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Failed to execute runnable (java.lang.StackOverflowError)",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2691"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2616"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:109"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:2749"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2434"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1377"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1348"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:254"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:141"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:96"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:335"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:273"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:183"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:644"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:628"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "70526",
      "date": "2004-07-21T13:33:10+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "major"
    }
  ],
  "groupId": "70526",
  "bugId": "70526",
  "date": "2004-07-21T13:33:10+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "major"
}