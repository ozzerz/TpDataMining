{
  "comments": [
    "Create a new file named build.xml. The CPU gets pegged at 100% for a couple\nseconds and then the Ant editor opens, a labelless top-level node is shown in\nthe outline page, and the following exception is written to the log twice.\n\nIn addition to addressing the exception, simply creating the file shouldn\u0027t\ntake so long, and if the outline is going to show an error node for an empty\nfile it should have some kind of label.\n\n!SESSION Feb 24, 2003 15:48:09.398 ---------------------------------------------\njava.fullversion\u003dJ2RE 1.3.1 IBM build cxia32131-20020410 (JIT disabled)\nBootLoader constants: OS\u003dlinux, ARCH\u003dx86, WS\u003dgtk, NL\u003den_US\nCommand-line arguments: -dev bin -feature org.eclipse.platform -data /home/jburns/runtime-workspace -os linux -ws gtk -arch x86 -nl en_US -configuration file:/home/jburns/target/.metadata/.plugins/org.eclipse.pde.core/_home_jburns_runtime-workspace/platform.cfg -install file:/home/jburns/host/eclipse/\n!ENTRY org.eclipse.ui.externaltools 4 0 Feb 24, 2003 15:48:09.402\n!MESSAGE Internal error logged from External Tools UI: \n!STACK 0\norg.eclipse.jface.text.BadLocationException\n\tat org.eclipse.jface.text.AbstractLineTracker.getLineDelimiter(AbstractLineTracker.java:540)\n\tat org.eclipse.jface.text.AbstractDocument.getLineDelimiter(AbstractDocument.java:660)\n\tat org.eclipse.ui.externaltools.internal.ant.editor.outline.OutlinePreparingHandler.getLastCharColumn(OutlinePreparingHandler.java:712)\n\tat org.eclipse.ui.externaltools.internal.ant.editor.outline.OutlinePreparingHandler.computeErrorLocation(OutlinePreparingHandler.java:646)\n\tat org.eclipse.ui.externaltools.internal.ant.editor.outline.OutlinePreparingHandler.generateErrorElementHierarchy(OutlinePreparingHandler.java:450)\n\tat org.eclipse.ui.externaltools.internal.ant.editor.outline.OutlinePreparingHandler.fatalError(OutlinePreparingHandler.java:436)\n\tat org.apache.xerces.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:215)\n\tat org.apache.xerces.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:366)\n\tat org.apache.xerces.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:296)\n\tat org.apache.xerces.impl.XMLScanner.reportFatalError(XMLScanner.java:1244)\n\tat org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch(XMLDocumentScannerImpl.java:731)\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:333)\n\tat org.apache.xerces.parsers.StandardParserConfiguration.parse(StandardParserConfiguration.java:525)\n\tat org.apache.xerces.parsers.StandardParserConfiguration.parse(StandardParserConfiguration.java:581)\n\tat org.apache.xerces.parsers.XMLParser.parse(XMLParser.java:147)\n\tat org.apache.xerces.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1158)\n\tat javax.xml.parsers.SAXParser.parse(SAXParser.java:394)\n\tat org.eclipse.ui.externaltools.internal.ant.editor.outline.AntModel.parseDocument(AntModel.java:187)\n\tat org.eclipse.ui.externaltools.internal.ant.editor.outline.AntModel.reconcile(AntModel.java:103)\n\tat org.eclipse.ui.externaltools.internal.ant.editor.outline.AntModel.install(AntModel.java:69)\n\tat org.eclipse.ui.externaltools.internal.ant.editor.text.PlantyDocumentProvider.createElementInfo(PlantyDocumentProvider.java:421)\n\tat org.eclipse.ui.texteditor.AbstractDocumentProvider.connect(AbstractDocumentProvider.java:302)\n\tat org.eclipse.ui.texteditor.AbstractTextEditor.doSetInput(AbstractTextEditor.java:2287)\n\tat org.eclipse.ui.texteditor.StatusTextEditor.doSetInput(StatusTextEditor.java:160)\n\tat org.eclipse.ui.editors.text.TextEditor.doSetInput(TextEditor.java:455)\n\tat org.eclipse.ui.externaltools.internal.ant.editor.PlantyEditor.doSetInput(PlantyEditor.java:255)\n\tat org.eclipse.ui.texteditor.AbstractTextEditor$8.run(AbstractTextEditor.java:1788)\n\tat org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:296)\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:246)\n\tat org.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.java:431)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:65)\n\tat org.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.java:428)\n\tat org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:1363)\n\tat org.eclipse.ui.texteditor.AbstractTextEditor.internalInit(AbstractTextEditor.java:1803)\n\tat org.eclipse.ui.texteditor.AbstractTextEditor.init(AbstractTextEditor.java:1820)\n\tat org.eclipse.ui.internal.EditorManager.createSite(EditorManager.java:598)\n\tat org.eclipse.ui.internal.EditorManager.openInternalEditor(EditorManager.java:660)\n\tat org.eclipse.ui.internal.EditorManager.openEditorFromDescriptor(EditorManager.java:453)\n\tat org.eclipse.ui.internal.EditorManager.openEditorFromInput(EditorManager.java:327)\n\tat org.eclipse.ui.internal.EditorManager.openEditor(EditorManager.java:418)\n\tat org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2030)\n\tat org.eclipse.ui.internal.WorkbenchPage.access$6(WorkbenchPage.java:1978)\n\tat org.eclipse.ui.internal.WorkbenchPage$8.run(WorkbenchPage.java:1965)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:65)\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:1960)\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:1865)\n\tat org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:129)\n\tat org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:102)\n\tat org.eclipse.jdt.internal.ui.actions.OpenActionUtil.open(OpenActionUtil.java:47)\n\tat org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:158)\n\tat org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:147)\n\tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:191)\n\tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:169)\n\tat org.eclipse.jdt.internal.ui.packageview.PackageExplorerActionGroup.handleOpen(PackageExplorerActionGroup.java:323)\n\tat org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart$3.open(PackageExplorerPart.java:318)\n\tat org.eclipse.jface.viewers.StructuredViewer$2.run(StructuredViewer.java:397)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:867)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:413)\n\tat org.eclipse.jface.viewers.StructuredViewer.fireOpen(StructuredViewer.java:395)\n\tat org.eclipse.jface.viewers.StructuredViewer.handleOpen(StructuredViewer.java:602)\n\tat org.eclipse.jface.viewers.StructuredViewer$6.handleOpen(StructuredViewer.java:691)\n\tat org.eclipse.jface.util.OpenStrategy.fireOpenEvent(OpenStrategy.java:203)\n\tat org.eclipse.jface.util.OpenStrategy.access$2(OpenStrategy.java:198)\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:227)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:77)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:897)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1507)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1324)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1271)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1254)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:845)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:247)\n\tat org.eclipse.core.launcher.Main.run(Main.java:703)\n\tat org.eclipse.core.launcher.Main.main(Main.java:539)",
    "Added a test to the Ant Editor test suite for an empty build file.",
    "Fixed as a side effect of bug 32477.\nPlease verify.",
    "Build I20030227\n\nI get the same exception using an old workspace with the following steps:\n\n1.  create build.xml in a project with the following content:\n\u003cproject default\u003d\"run\"\u003e\n\t\u003ctarget name\u003d\"run\" /\u003e\n\u003c/project\u003e\n\n2.  Right click the file in the Navigator -\u003e Run Ant\n\nObserve:  A dialog 2x the normal size opens.",
    "Oops.  Sorry, I failed to notice that this was fixed after the I20030227 build \nwas finished.",
    "Verified.",
    "*** Bug 33682 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2003-02-24T21:51:49+01:00",
    "2003-02-26T20:06:10+01:00",
    "2003-02-27T17:02:38+01:00",
    "2003-02-27T21:54:25+01:00",
    "2003-02-27T21:57:47+01:00",
    "2003-02-27T22:28:44+01:00",
    "2003-03-03T16:56:17+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.jface.text.BadLocationException",
      "elements": [
        {
          "method": "org.eclipse.jface.text.AbstractLineTracker.getLineDelimiter",
          "source": "AbstractLineTracker.java:540"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.getLineDelimiter",
          "source": "AbstractDocument.java:660"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.editor.outline.OutlinePreparingHandler.getLastCharColumn",
          "source": "OutlinePreparingHandler.java:712"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.editor.outline.OutlinePreparingHandler.computeErrorLocation",
          "source": "OutlinePreparingHandler.java:646"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.editor.outline.OutlinePreparingHandler.generateErrorElementHierarchy",
          "source": "OutlinePreparingHandler.java:450"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.editor.outline.OutlinePreparingHandler.fatalError",
          "source": "OutlinePreparingHandler.java:436"
        },
        {
          "method": "org.apache.xerces.util.ErrorHandlerWrapper.fatalError",
          "source": "ErrorHandlerWrapper.java:215"
        },
        {
          "method": "org.apache.xerces.impl.XMLErrorReporter.reportError",
          "source": "XMLErrorReporter.java:366"
        },
        {
          "method": "org.apache.xerces.impl.XMLErrorReporter.reportError",
          "source": "XMLErrorReporter.java:296"
        },
        {
          "method": "org.apache.xerces.impl.XMLScanner.reportFatalError",
          "source": "XMLScanner.java:1244"
        },
        {
          "method": "org.apache.xerces.impl.XMLDocumentScannerImpl$PrologDispatcher.dispatch",
          "source": "XMLDocumentScannerImpl.java:731"
        },
        {
          "method": "org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument",
          "source": "XMLDocumentFragmentScannerImpl.java:333"
        },
        {
          "method": "org.apache.xerces.parsers.StandardParserConfiguration.parse",
          "source": "StandardParserConfiguration.java:525"
        },
        {
          "method": "org.apache.xerces.parsers.StandardParserConfiguration.parse",
          "source": "StandardParserConfiguration.java:581"
        },
        {
          "method": "org.apache.xerces.parsers.XMLParser.parse",
          "source": "XMLParser.java:147"
        },
        {
          "method": "org.apache.xerces.parsers.AbstractSAXParser.parse",
          "source": "AbstractSAXParser.java:1158"
        },
        {
          "method": "javax.xml.parsers.SAXParser.parse",
          "source": "SAXParser.java:394"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.editor.outline.AntModel.parseDocument",
          "source": "AntModel.java:187"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.editor.outline.AntModel.reconcile",
          "source": "AntModel.java:103"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.editor.outline.AntModel.install",
          "source": "AntModel.java:69"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.editor.text.PlantyDocumentProvider.createElementInfo",
          "source": "PlantyDocumentProvider.java:421"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractDocumentProvider.connect",
          "source": "AbstractDocumentProvider.java:302"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor.doSetInput",
          "source": "AbstractTextEditor.java:2287"
        },
        {
          "method": "org.eclipse.ui.texteditor.StatusTextEditor.doSetInput",
          "source": "StatusTextEditor.java:160"
        },
        {
          "method": "org.eclipse.ui.editors.text.TextEditor.doSetInput",
          "source": "TextEditor.java:455"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.editor.PlantyEditor.doSetInput",
          "source": "PlantyEditor.java:255"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor$8.run",
          "source": "AbstractTextEditor.java:1788"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:296"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:246"
        },
        {
          "method": "org.eclipse.jface.window.ApplicationWindow$1.run",
          "source": "ApplicationWindow.java:431"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:65"
        },
        {
          "method": "org.eclipse.jface.window.ApplicationWindow.run",
          "source": "ApplicationWindow.java:428"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.run",
          "source": "WorkbenchWindow.java:1363"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor.internalInit",
          "source": "AbstractTextEditor.java:1803"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor.init",
          "source": "AbstractTextEditor.java:1820"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.createSite",
          "source": "EditorManager.java:598"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.openInternalEditor",
          "source": "EditorManager.java:660"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.openEditorFromDescriptor",
          "source": "EditorManager.java:453"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.openEditorFromInput",
          "source": "EditorManager.java:327"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.openEditor",
          "source": "EditorManager.java:418"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor",
          "source": "WorkbenchPage.java:2030"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.access$6",
          "source": "WorkbenchPage.java:1978"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$8.run",
          "source": "WorkbenchPage.java:1965"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:65"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:1960"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:1865"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor",
          "source": "EditorUtility.java:129"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor",
          "source": "EditorUtility.java:102"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.actions.OpenActionUtil.open",
          "source": "OpenActionUtil.java:47"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.OpenAction.run",
          "source": "OpenAction.java:158"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.OpenAction.run",
          "source": "OpenAction.java:147"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun",
          "source": "SelectionDispatchAction.java:191"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.run",
          "source": "SelectionDispatchAction.java:169"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.PackageExplorerActionGroup.handleOpen",
          "source": "PackageExplorerActionGroup.java:323"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart$3.open",
          "source": "PackageExplorerPart.java:318"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$2.run",
          "source": "StructuredViewer.java:397"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:867"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:413"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.fireOpen",
          "source": "StructuredViewer.java:395"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleOpen",
          "source": "StructuredViewer.java:602"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$6.handleOpen",
          "source": "StructuredViewer.java:691"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireOpenEvent",
          "source": "OpenStrategy.java:203"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$2",
          "source": "OpenStrategy.java:198"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "OpenStrategy.java:227"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:77"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:897"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1507"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1324"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1271"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1254"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:247"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:703"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:539"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "32824",
      "date": "2003-02-24T21:51:49+01:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    }
  ],
  "groupId": "32824",
  "bugId": "32824",
  "date": "2003-02-24T21:51:49+01:00",
  "product": "Platform",
  "component": "Ant",
  "severity": "normal"
}