{
  "comments": [
    "I use eclipse 3.0 m8 and m9: in both platforms I have this problem:\nconfigure the package build file to build the .war file of my web application,\nthen I try to deploy this copying the file to the deploy directory of jboss, and\nI have this error:\n\n\n21:22:46,775 INFO  [MainDeployer] Starting deployment of package:\nfile:/home/bondi/jboss-3.2.3/server/default/deploy/libro.war\n21:22:46,803 ERROR [EmbeddedTomcatService] Problem in init \njava.lang.StringIndexOutOfBoundsException: String index out of range: 0\n\tat java.lang.String.charAt(String.java:444)\n\tat org.jboss.util.file.JarUtils.unjar(JarUtils.java:252)\n\tat org.jboss.web.AbstractWebContainer.init(AbstractWebContainer.java:301)\n\tat org.jboss.deployment.MainDeployer.init(MainDeployer.java:696)\n\tat org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:632)\n\tat org.jboss.deployment.MainDeployer.deploy(MainDeployer.java:605)\n\tat sun.reflect.GeneratedMethodAccessor21.invoke(Unknown Source)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat\norg.jboss.mx.capability.ReflectedMBeanDispatcher.invoke(ReflectedMBeanDispatcher.java:284)\n\tat org.jboss.mx.server.MBeanServerImpl.invoke(MBeanServerImpl.java:546)\n\tat org.jboss.mx.util.MBeanProxyExt.invoke(MBeanProxyExt.java:177)\n\tat $Proxy6.deploy(Unknown Source)\n\tat\norg.jboss.deployment.scanner.URLDeploymentScanner.deploy(URLDeploymentScanner.java:302)\n\tat\norg.jboss.deployment.scanner.URLDeploymentScanner.scan(URLDeploymentScanner.java:476)\n\tat\norg.jboss.deployment.scanner.AbstractDeploymentScanner$ScannerThread.doScan(AbstractDeploymentScanner.java:201)\n\tat\norg.jboss.deployment.scanner.AbstractDeploymentScanner$ScannerThread.loop(AbstractDeploymentScanner.java:212)\n\tat\norg.jboss.deployment.scanner.AbstractDeploymentScanner$ScannerThread.run(AbstractDeploymentScanner.java:191)\n21:22:46,804 ERROR [MainDeployer] Could not initialise deloyment:\nfile:/home/bondi/jboss-3.2.3/server/default/deploy/libro.war\norg.jboss.deployment.DeploymentException: String index out of range: 0; - nested\nthrowable: (java.lang.StringIndexOutOfBoundsException: String index out of range: 0)\n\tat org.jboss.web.AbstractWebContainer.init(AbstractWebContainer.java:350)\n\tat org.jboss.deployment.MainDeployer.init(MainDeployer.java:696)\n\n\nInstead, if I build another archive with the SAME structure using, for example,\nfile-roller, I can deploy my application correctly.\nThe files I create using ant inside eclipse and using another archive utility\ndiffers only for ~1 kb.",
    "If you package the WAR file using Ant outside of Eclipse do things work as \nexpected. The Ant packaged within Eclipse is just plain Ant 1.6.1...we do no \nmodifications of the Apache Ant distribution.",
    "I tried to package the same project with the packaging-build.xml file created\nwith eclipse using ant 1.6.1 and it builds and deploy correctely. Using the\ncommand \"run packaging\" from inside eclipse still returns the same error I\nreported above.",
    "So who or what are you using to package the WAR file? I do not see the Eclipse \nbug here. Is the problem with JBoss? Can you please give the exact test case \nwith steps that is failing. Thanks.",
    "I\u0027m using jboss 3.2 and 4 dr4.\nI reported this bug here because only the war file created inside eclipse fails\nto  deploy: if I use the ant I downloaded from apache.org with the same .xml\nbuild file it deploys correctly.\nThe error log I reported is the jboss log. Again: I experience this problem only\nusing the .war file I build using eclipse ant plugin.\n\nThank you!",
    "Where is this: \"Using the command \"run packaging\"\"\nI need the step by step test case for what you are doing. Thanks.",
    "Sorry, I was using the shortcut inserted by jboss-ide.\nIn eclipse standard:\n1- develop the build.xml file\n2- select and do: run-\u003eexternal tools-\u003erun as-\u003eant build\n3- drag and drop the .war file to the deploy directory of jboss\n\u003d\u003d\u003eerror\n\nIf I substitute the passage 2 with:\n2a- using the shell, run ant downloaded from apache.org site to build the .war file\nmy application deploys correctely\n\nI tried to substitute all the file from plugins/org.apache.ant_1.6.1 directory\nof eclipse (in bin and in lib) with the files from the original package but\nnothing changed.\n\nThanks",
    "Thanks for you help on this.\nWould it be possible for you to provide a sample build.xml and web app to be \npackaged so I can track down the problem?",
    "Created an attachment (id\u003d11025)\nWar file that deploy correctely\n\nThis is the war file I built using ant downloaded from apache.org",
    "Created an attachment (id\u003d11026)\nWar file that does not deploy\n\nThis war file is the one made within eclipse",
    "Created an attachment (id\u003d11027)\nBuild file used in both war exports\n",
    "I created three attachments with war files and the .xml I use to build them.\nIt\u0027s a simple web application using struts.\n\nThanks!",
    "Diffing the two war files the only difference is that the one that works has a \nmanifest file generated by Ant 1.5.2-26.\nAre you sure that you are using Ant 1.6.1 from the commandline? Can you explain \nthis?",
    "I don\u0027t know why the manifest is signed with version 1.5 of ant: I downloaded\nthe 1.6.1 version from apache.org, all files are signed with 1.6.1 version.\nI\u0027m sure I use 1.6.1\n\nthanks",
    "It there a chance you could provide a sample web application I could test \nfurther with?",
    "Andrea have you had any progress/success here?",
    "Investigate more post 3.0"
  ],
  "commentCreationDates": [
    "2004-05-23T21:57:04+02:00",
    "2004-05-24T02:36:10+02:00",
    "2004-05-24T09:03:19+02:00",
    "2004-05-24T17:16:41+02:00",
    "2004-05-24T23:14:16+02:00",
    "2004-05-24T23:20:26+02:00",
    "2004-05-24T23:29:36+02:00",
    "2004-05-24T23:42:21+02:00",
    "2004-05-25T00:05:44+02:00",
    "2004-05-25T00:06:30+02:00",
    "2004-05-25T00:06:59+02:00",
    "2004-05-25T00:09:03+02:00",
    "2004-05-25T01:07:30+02:00",
    "2004-05-25T08:33:24+02:00",
    "2004-05-25T21:39:06+02:00",
    "2004-06-16T17:07:34+02:00",
    "2004-06-21T17:32:31+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.StringIndexOutOfBoundsException",
      "message": "String index out of range: 0",
      "elements": [
        {
          "method": "java.lang.String.charAt",
          "source": "String.java:444"
        },
        {
          "method": "org.jboss.util.file.JarUtils.unjar",
          "source": "JarUtils.java:252"
        },
        {
          "method": "org.jboss.web.AbstractWebContainer.init",
          "source": "AbstractWebContainer.java:301"
        },
        {
          "method": "org.jboss.deployment.MainDeployer.init",
          "source": "MainDeployer.java:696"
        },
        {
          "method": "org.jboss.deployment.MainDeployer.deploy",
          "source": "MainDeployer.java:632"
        },
        {
          "method": "org.jboss.deployment.MainDeployer.deploy",
          "source": "MainDeployer.java:605"
        },
        {
          "method": "sun.reflect.GeneratedMethodAccessor21.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.jboss.mx.capability.ReflectedMBeanDispatcher.invoke",
          "source": "ReflectedMBeanDispatcher.java:284"
        },
        {
          "method": "org.jboss.mx.server.MBeanServerImpl.invoke",
          "source": "MBeanServerImpl.java:546"
        },
        {
          "method": "org.jboss.mx.util.MBeanProxyExt.invoke",
          "source": "MBeanProxyExt.java:177"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "63603",
      "date": "2004-05-23T21:57:04+02:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.StringIndexOutOfBoundsException",
      "message": "String index out of range: 0)",
      "elements": [
        {
          "method": "org.jboss.web.AbstractWebContainer.init",
          "source": "AbstractWebContainer.java:350"
        },
        {
          "method": "org.jboss.deployment.MainDeployer.init",
          "source": "MainDeployer.java:696"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "63603",
      "date": "2004-05-23T21:57:04+02:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "major"
    }
  ],
  "groupId": "63603",
  "bugId": "63603",
  "date": "2004-05-23T21:57:04+02:00",
  "product": "Platform",
  "component": "Ant",
  "severity": "major"
}