{
  "comments": [
    "Using Eclipse 3.0M8 (Apr08), open an external Java source file \n(e.g. \"Foo.java\") via \"File / Open External File...\".  Note that this will \nproduce an Error Log entry (see Bug 59491) but that\u0027s not the issue in this \nbug report.\n\nNext, in the text editor that was created for the external Java source file, \ndo a right-click to popup the java text editor\u0027s context menu.  Move your \nmouse down the context menu and hover over the \"Refactor\" submenu item until \nit pops up the submenu with a single disabled item named \"\u003cno refactoring \navailable\u003e\".\n\nIf you then dismiss the submenu and the context menu (e.g. hit ESC twice or \nclick your mouse in the text editor), the following Error Log entry is \nproduced:\n\njava.lang.NullPointerException\n\tat \norg.eclipse.jdt.internal.ui.refactoring.actions.RefactoringActions.convertToEnc\nlosingOrPrimaryType(RefactoringActions.java:57)\n\tat \norg.eclipse.jdt.internal.ui.refactoring.actions.RefactoringActions.getEnclosing\nOrPrimaryType(RefactoringActions.java:40)\n\tat org.eclipse.jdt.ui.actions.ExtractInterfaceAction.canEnable\n(ExtractInterfaceAction.java:144)\n\tat org.eclipse.jdt.ui.actions.ExtractInterfaceAction.selectionChanged\n(ExtractInterfaceAction.java:137)\n\tat \norg.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchSelectionChanged\n(SelectionDispatchAction.java:202)\n\tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.update\n(SelectionDispatchAction.java:114)\n\tat org.eclipse.jdt.ui.actions.RefactorActionGroup.refactorMenuShown\n(RefactorActionGroup.java:461)\n\tat org.eclipse.jdt.ui.actions.RefactorActionGroup.access$0\n(RefactorActionGroup.java:446)\n\tat org.eclipse.jdt.ui.actions.RefactorActionGroup$1.menuAboutToShow\n(RefactorActionGroup.java:401)\n\tat org.eclipse.jface.action.MenuManager.fireAboutToShow\n(MenuManager.java:286)\n\tat org.eclipse.jface.action.MenuManager.handleAboutToShow\n(MenuManager.java:370)\n\tat org.eclipse.jface.action.MenuManager.access$0(MenuManager.java:367)\n\tat org.eclipse.jface.action.MenuManager$2.menuShown\n(MenuManager.java:383)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent\n(TypedListener.java:116)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:769)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:793)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:774)\n\tat org.eclipse.swt.widgets.Control.WM_INITMENUPOPUP(Control.java:3295)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Decorations.windowProc\n(Decorations.java:1439)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java(Compiled \nCode))\n\tat org.eclipse.swt.internal.win32.OS.TrackPopupMenu(Native Method)\n\tat org.eclipse.swt.widgets.Menu._setVisible(Menu.java:222)\n\tat org.eclipse.swt.widgets.Display.runPopups(Display.java:2604)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2249)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1562)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1536)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench\n(Workbench.java:257)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run\n(IDEApplication.java:90)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run\n(PlatformActivator.java:277)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:239)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:117)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:84)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:57)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:59)\n\tat java.lang.reflect.Method.invoke(Method.java:389)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:267)\n\tat org.eclipse.core.launcher.Main.run(Main.java:692)\n\tat org.eclipse.core.launcher.Main.main(Main.java:676)\n\nThis is just a slight annoyance.\n\nHowever, if instead of dismissing the submenu and context menu, you switch to \nan entirely different top-level window on your desktop (e.g. by clicking on \nanother winodw on your Windows taskbar), the Eclipse shell crashes \ncompletely .. resulting in data loss.  Here\u0027s the stack trace from the JVM \ncrash dump:\n\n1XMCURTHDINFO  Current Thread Details\nNULL           ----------------------\n3XMTHREADINFO      \"main\" (TID:0x101EB9B8, sys_thread_t:0x2A17D8, state:R, \nnative ID:0xB3C) prio\u003d6: pending\u003djava.lang.NullPointerException\n4XESTACKTRACE          at org.eclipse.swt.internal.win32.OS.TrackPopupMenu\n(Native Method)\n4XESTACKTRACE          at org.eclipse.swt.widgets.Menu._setVisible\n(Menu.java:222)\n4XESTACKTRACE          at org.eclipse.swt.widgets.Display.runPopups\n(Display.java:2604)\n4XESTACKTRACE          at org.eclipse.swt.widgets.Display.readAndDispatch\n(Display.java:2249)\n4XESTACKTRACE          at org.eclipse.ui.internal.Workbench.runEventLoop\n(Workbench.java:1562)\n4XESTACKTRACE          at org.eclipse.ui.internal.Workbench.runUI\n(Workbench.java:1536)\n4XESTACKTRACE          at \norg.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:257)\n4XESTACKTRACE          at org.eclipse.ui.PlatformUI.createAndRunWorkbench\n(PlatformUI.java:139)\n4XESTACKTRACE          at org.eclipse.ui.internal.ide.IDEApplication.run\n(IDEApplication.java:90)\n4XESTACKTRACE          at \norg.eclipse.core.internal.runtime.PlatformActivator$1.run\n(PlatformActivator.java:277)\n4XESTACKTRACE          at org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:239)\n4XESTACKTRACE          at org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:117)\n4XESTACKTRACE          at sun.reflect.NativeMethodAccessorImpl.invoke0(Native \nMethod)\n4XESTACKTRACE          at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:84)\n4XESTACKTRACE          at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:57)\n4XESTACKTRACE          at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:59)\n4XESTACKTRACE          at java.lang.reflect.Method.invoke(Method.java:389)\n4XESTACKTRACE          at org.eclipse.core.launcher.Main.basicRun\n(Main.java:267)\n4XESTACKTRACE          at org.eclipse.core.launcher.Main.run(Main.java:692)\n4XESTACKTRACE          at org.eclipse.core.launcher.Main.main(Main.java:676)",
    "\n\n*** This bug has been marked as a duplicate of 55845 ***"
  ],
  "commentCreationDates": [
    "2004-04-21T21:26:28+02:00",
    "2004-04-22T09:46:49+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.actions.RefactoringActions.convertToEnclosingOrPrimaryType",
          "source": "RefactoringActions.java:57"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.actions.RefactoringActions.getEnclosingOrPrimaryType",
          "source": "RefactoringActions.java:40"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.ExtractInterfaceAction.canEnable",
          "source": "ExtractInterfaceAction.java:144"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.ExtractInterfaceAction.selectionChanged",
          "source": "ExtractInterfaceAction.java:137"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchSelectionChanged",
          "source": "SelectionDispatchAction.java:202"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.update",
          "source": "SelectionDispatchAction.java:114"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.RefactorActionGroup.refactorMenuShown",
          "source": "RefactorActionGroup.java:461"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.RefactorActionGroup.access$0",
          "source": "RefactorActionGroup.java:446"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.RefactorActionGroup$1.menuAboutToShow",
          "source": "RefactorActionGroup.java:401"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.fireAboutToShow",
          "source": "MenuManager.java:286"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.handleAboutToShow",
          "source": "MenuManager.java:370"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.access$0",
          "source": "MenuManager.java:367"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager$2.menuShown",
          "source": "MenuManager.java:383"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:116"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:769"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:793"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:774"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.WM_INITMENUPOPUP",
          "source": "Control.java:3295"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.windowProc",
          "source": "Decorations.java:1439"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.TrackPopupMenu",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Menu._setVisible",
          "source": "Menu.java:222"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runPopups",
          "source": "Display.java:2604"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2249"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1562"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1536"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:257"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:139"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:90"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:277"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:239"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:117"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:84"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:57"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:59"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:389"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:267"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:692"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:676"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "59504",
      "duplicateId": "55845",
      "date": "2004-04-21T21:26:28+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "critical"
    }
  ],
  "groupId": "55845",
  "bugId": "59504",
  "duplicateId": "55845",
  "date": "2004-04-21T21:26:28+02:00",
  "product": "JDT",
  "component": "UI",
  "severity": "critical"
}