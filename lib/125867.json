{
  "comments": [
    "A platform startup fatal exception occurs when attempting to launch an RCP application deployed using Java Web Start (JWS).  I tested this deployment using 3.2-M4 and 3.2-I20060125.  This application runs without error in the debug workbench.  The same plugins also deploy and run successfully as RCP, JWS when using Eclipse 3.1.1.\n\nI don\u0027t understand the funtion of LegacyExtensionRegistry to attempt further debugging or workaround.  Can this be fixed by M5?\n\nI attached the full startup error log to this bug.\n\nCaused by: java.lang.NullPointerException\n\tat org.eclipse.core.internal.registry.eclipse.LegacyExtensionRegistry.getExtensionPoint(LegacyExtensionRegistry.java:82)\n\tat org.eclipse.core.internal.runtime.AdapterManagerListener.registerFactoryProxies(AdapterManagerListener.java:42)\n\tat org.eclipse.core.internal.runtime.AdapterManagerListener.\u003cinit\u003e(AdapterManagerListener.java:31)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.start(InternalPlatform.java:980)\n\tat org.eclipse.core.internal.runtime.PlatformActivator.start(PlatformActivator.java:40)",
    "Created an attachment (id\u003d33871)\nstartup error log file\n\nComplete error log file.",
    "Marking for M5.",
    "Created an attachment (id\u003d34976)\nruntime failure log with 3.2 M5\n\nI still get this failure with 3.2 M5, see attached log.\n\nAny suggestions for a workaround?  Do I need to change something in the plugin.xml or manifest for 3.2 so that these extensions are parsed correctly?",
    "In M5, the osgi.bundles list has been modified but the WebStartMain has not. In order to workaround this problem you need to add to your jnlp file:\n\n \u003cproperty \n        name\u003d\"osgi.bundles\" \n        value\u003d\"org.eclipse.equinox.common@2:start, org.eclipse.core.jobs@2:start, org.eclipse.core.runtime.compatibility.registry, org.eclipse.equinox.registry@2:start, org.eclipse.equinox.preferences, org.eclipse.core.contenttype, org.eclipse.core.runtime@2:start\"/\u003e\n\nNote that in M6, the osgi.bundles list is likely to change again.",
    "Thanks very much.  When M6 is released, it looks like I can get the necessary bundles list from the config.ini file.\n\nThis fixed the first problem, but another osgi configuration problem now (as below).  My jnlp file has a property for \"osgi.instance.area\", which seems to be where this is failing.  Are other osgi configuration properties required in jnlp for M5?  Thanks again.\n\nCaused by: java.lang.IllegalStateException: No instance data can be specified.\n\tat org.eclipse.core.internal.runtime.DataArea.assertLocationInitialized(DataArea.java:41)\n\tat org.eclipse.core.internal.runtime.DataArea.getStateLocation(DataArea.java:79)\n\tat org.eclipse.core.internal.preferences.InstancePreferences.getBaseLocation(InstancePreferences.java:44)\n\t",
    "See the \"RCP and Java Webstart\" thread in the RCP newsgroup for more on the various difficulties being encountered in deploying via JWS.\n",
    "(In reply to comment #6)\n\u003e See the \"RCP and Java Webstart\" thread in the RCP newsgroup for more on the\n\u003e various difficulties being encountered in deploying via JWS.\n\u003e \nI can\u0027t see information about \"java.lang.IllegalStateException: No instance data can be specified\" in the newsgroup. I have exactly the same problem. Do you have more information? osgi.instance.area property doesn\u0027t seem to be taken into account. I tried with a \"-data @user.home\" command line argument with no effect.\n",
    "Unfortunately I do not have a solution, but just want to confirm that we are running into the same issue with \"No instance data can be specified\" in 3.2M4/M5. The same app deploys and works fine in 3.1.2",
    "Created an attachment (id\u003d35339)\n1140815579429.log\n\nI forgot to attach the log file",
    "I was able to track the problem to org.eclipse.core.internal.runtime.DataArea where assertLocationInitialized() pukes on getInstanceLocation() being null. Is there a way to make sure that CommonOSGIUtils instance is initialize before we make that call. It is also interesting that this happens only in webstart deployment, but not running deployed app.",
    "*** Bug 128802 has been marked as a duplicate of this bug. ***",
    "is it adressed in M6?",
    "I thought I solved this all problem around jnlp startup but apparently I\u0027m an idiot and I failed. I will look into this week. Sorry for the delay. However be sure that it will be addressed for 3.2.",
    "Guess what !?! It is fixed in M6. The test that I was running to verify this was bogus.... So you can now all happily use jnlp again.\nNote that if in your jnlp file you specified values for osgi.bundles make sure that you update those to be: org.eclipse.equinox.common@1:start, org.eclipse.core.runtime@start\n",
    "We need to doc this far and wide so that people are not similarly frusturated trying to get their old JNLP manifests working on the new Eclipse",
    "migration guide updated.",
    "I\u0027m still getting the error mentioned in comment 7 and comment 8 with Eclipse 3.2RC7. Has it been addressed in this bug report?",
    "Michal, could you please open a new bug with steps on how to reproduce the problem. Thx."
  ],
  "commentCreationDates": [
    "2006-01-31T16:57:00+01:00",
    "2006-01-31T16:58:39+01:00",
    "2006-02-01T14:46:51+01:00",
    "2006-02-19T21:07:55+01:00",
    "2006-02-20T15:21:52+01:00",
    "2006-02-20T18:33:22+01:00",
    "2006-02-20T20:05:01+01:00",
    "2006-02-23T15:51:02+01:00",
    "2006-02-24T18:48:39+01:00",
    "2006-02-24T21:15:48+01:00",
    "2006-02-28T06:04:59+01:00",
    "2006-03-02T18:20:42+01:00",
    "2006-04-02T22:20:37+02:00",
    "2006-04-03T14:05:22+02:00",
    "2006-04-03T17:00:25+02:00",
    "2006-04-05T03:21:33+02:00",
    "2006-05-12T21:30:09+02:00",
    "2006-06-25T18:24:15+02:00",
    "2006-06-27T19:13:03+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.core.internal.registry.eclipse.LegacyExtensionRegistry.getExtensionPoint",
          "source": "LegacyExtensionRegistry.java:82"
        },
        {
          "method": "org.eclipse.core.internal.runtime.AdapterManagerListener.registerFactoryProxies",
          "source": "AdapterManagerListener.java:42"
        },
        {
          "method": "org.eclipse.core.internal.runtime.AdapterManagerListener.\u003cinit\u003e",
          "source": "AdapterManagerListener.java:31"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.start",
          "source": "InternalPlatform.java:980"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator.start",
          "source": "PlatformActivator.java:40"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "125867",
      "date": "2006-01-31T16:57:00+01:00",
      "product": "Equinox",
      "component": "Framework",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.IllegalStateException",
      "message": "No instance data can be specified.",
      "elements": [
        {
          "method": "org.eclipse.core.internal.runtime.DataArea.assertLocationInitialized",
          "source": "DataArea.java:41"
        },
        {
          "method": "org.eclipse.core.internal.runtime.DataArea.getStateLocation",
          "source": "DataArea.java:79"
        },
        {
          "method": "org.eclipse.core.internal.preferences.InstancePreferences.getBaseLocation",
          "source": "InstancePreferences.java:44"
        }
      ],
      "number": 1,
      "commentIndex": 5,
      "bugId": "125867",
      "date": "2006-02-20T18:33:22+01:00",
      "product": "Equinox",
      "component": "Framework",
      "severity": "normal"
    }
  ],
  "groupId": "125867",
  "bugId": "125867",
  "date": "2006-01-31T16:57:00+01:00",
  "product": "Equinox",
  "component": "Framework",
  "severity": "normal"
}