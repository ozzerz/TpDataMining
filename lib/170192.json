{
  "comments": [
    "I20070110-1600 and M20070110-1900\n\n!ENTRY org.eclipse.ui.workbench.texteditor 4 2 2007-01-11 11:07:00.628\n!MESSAGE Problems occurred when invoking code from plug-in: \"org.eclipse.ui.workbench.texteditor\".\n!STACK 0\njava.lang.IllegalStateException: Current state \u003d CODING_END, new state \u003d CODING\n\tat java.nio.charset.CharsetDecoder.throwIllegalStateException(CharsetDecoder.java:784)\n\tat java.nio.charset.CharsetDecoder.decode(CharsetDecoder.java:474)\n\tat sun.nio.cs.StreamDecoder$CharsetSD.implRead(StreamDecoder.java:478)\n\tat sun.nio.cs.StreamDecoder.read(StreamDecoder.java:223)\n\tat java.io.InputStreamReader.read(InputStreamReader.java:208)\n\tat java.io.BufferedReader.fill(BufferedReader.java:153)\n\tat java.io.BufferedReader.readLine(BufferedReader.java(Compiled Code))\n\tat java.io.BufferedReader.readLine(BufferedReader.java(Compiled Code))\n\tat org.eclipse.jdt.internal.ui.text.spelling.engine.AbstractSpellDictionary.load(AbstractSpellDictionary.java:460)\n\tat org.eclipse.jdt.internal.ui.text.spelling.engine.AbstractSpellDictionary.isCorrect(AbstractSpellDictionary.java:370)\n\tat org.eclipse.jdt.internal.ui.text.spelling.engine.DefaultSpellChecker.isCorrect(DefaultSpellChecker.java:350)\n\tat org.eclipse.jdt.internal.ui.text.spelling.engine.DefaultSpellChecker.execute(DefaultSpellChecker.java:264)\n\tat org.eclipse.jdt.internal.ui.text.spelling.JavaSpellingEngine.check(JavaSpellingEngine.java:54)\n\tat org.eclipse.jdt.internal.ui.text.spelling.SpellingEngine.check(SpellingEngine.java:77)\n\tat org.eclipse.jdt.internal.ui.text.spelling.DefaultSpellingEngine.check(DefaultSpellingEngine.java:75)\n\tat org.eclipse.ui.texteditor.spelling.SpellingService$1.run(SpellingService.java:103)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.ui.texteditor.spelling.SpellingService.check(SpellingService.java:108)\n\tat org.eclipse.ui.texteditor.spelling.SpellingService.check(SpellingService.java:80)\n\tat org.eclipse.ui.texteditor.spelling.SpellingReconcileStrategy.reconcile(SpellingReconcileStrategy.java:179)\n\tat org.eclipse.jdt.internal.ui.text.spelling.JavaSpellingReconcileStrategy.reconcile(JavaSpellingReconcileStrategy.java:125)\n\tat org.eclipse.ui.texteditor.spelling.SpellingReconcileStrategy.initialReconcile(SpellingReconcileStrategy.java:162)\n\tat org.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.initialReconcile(CompositeReconcilingStrategy.java:114)\n\tat org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.initialReconcile(JavaCompositeReconcilingStrategy.java:122)\n\tat org.eclipse.jface.text.reconciler.MonoReconciler.initialProcess(MonoReconciler.java:103)\n\tat org.eclipse.jdt.internal.ui.text.JavaReconciler.initialProcess(JavaReconciler.java:332)\n\tat org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:170)",
    "This can happen if the encoding used to read the spelling dictionary is so different (e.g. UTF-16BE) from the actual file\u0027s encoding (e.g. US_ASCII) that the first readLine jumps to the end, resulting in an ISE.\n\nThis needs to be backported to 3.2.2 because this kills the reconciler.\n",
    "Fixed in HEAD.\nAvailable in builds \u003e N20070111-0010.\n\nReleased fix into R3_2_maintenance so that it gets picked up by next build.",
    "start verifying...",
    "verified in M20070112-11200.\n\nThe whole issue is still very tricky when the spelling file has a incompatible encoding. If the machine has an encoding like CP1252, no exception will be emitted as CP1252 accepts almost all character sequences. So I had to have a look in the debugger to see how the word list got read in.  I filed bug 170477 with a suggestion."
  ],
  "commentCreationDates": [
    "2007-01-11T10:15:16+01:00",
    "2007-01-11T11:34:06+01:00",
    "2007-01-11T11:40:40+01:00",
    "2007-01-15T13:14:01+01:00",
    "2007-01-15T15:11:08+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalStateException",
      "message": "Current state \u003d CODING_END, new state \u003d CODING",
      "elements": [
        {
          "method": "java.nio.charset.CharsetDecoder.throwIllegalStateException",
          "source": "CharsetDecoder.java:784"
        },
        {
          "method": "java.nio.charset.CharsetDecoder.decode",
          "source": "CharsetDecoder.java:474"
        },
        {
          "method": "sun.nio.cs.StreamDecoder$CharsetSD.implRead",
          "source": "StreamDecoder.java:478"
        },
        {
          "method": "sun.nio.cs.StreamDecoder.read",
          "source": "StreamDecoder.java:223"
        },
        {
          "method": "java.io.InputStreamReader.read",
          "source": "InputStreamReader.java:208"
        },
        {
          "method": "java.io.BufferedReader.fill",
          "source": "BufferedReader.java:153"
        },
        {
          "method": "java.io.BufferedReader.readLine",
          "source": "BufferedReader.java(Compiled Code)"
        },
        {
          "method": "java.io.BufferedReader.readLine",
          "source": "BufferedReader.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.spelling.engine.AbstractSpellDictionary.load",
          "source": "AbstractSpellDictionary.java:460"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.spelling.engine.AbstractSpellDictionary.isCorrect",
          "source": "AbstractSpellDictionary.java:370"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.spelling.engine.DefaultSpellChecker.isCorrect",
          "source": "DefaultSpellChecker.java:350"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.spelling.engine.DefaultSpellChecker.execute",
          "source": "DefaultSpellChecker.java:264"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.spelling.JavaSpellingEngine.check",
          "source": "JavaSpellingEngine.java:54"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.spelling.SpellingEngine.check",
          "source": "SpellingEngine.java:77"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.spelling.DefaultSpellingEngine.check",
          "source": "DefaultSpellingEngine.java:75"
        },
        {
          "method": "org.eclipse.ui.texteditor.spelling.SpellingService$1.run",
          "source": "SpellingService.java:103"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.ui.texteditor.spelling.SpellingService.check",
          "source": "SpellingService.java:108"
        },
        {
          "method": "org.eclipse.ui.texteditor.spelling.SpellingService.check",
          "source": "SpellingService.java:80"
        },
        {
          "method": "org.eclipse.ui.texteditor.spelling.SpellingReconcileStrategy.reconcile",
          "source": "SpellingReconcileStrategy.java:179"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.spelling.JavaSpellingReconcileStrategy.reconcile",
          "source": "JavaSpellingReconcileStrategy.java:125"
        },
        {
          "method": "org.eclipse.ui.texteditor.spelling.SpellingReconcileStrategy.initialReconcile",
          "source": "SpellingReconcileStrategy.java:162"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.initialReconcile",
          "source": "CompositeReconcilingStrategy.java:114"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.initialReconcile",
          "source": "JavaCompositeReconcilingStrategy.java:122"
        },
        {
          "method": "org.eclipse.jface.text.reconciler.MonoReconciler.initialProcess",
          "source": "MonoReconciler.java:103"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.JavaReconciler.initialProcess",
          "source": "JavaReconciler.java:332"
        },
        {
          "method": "org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run",
          "source": "AbstractReconciler.java:170"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "170192",
      "date": "2007-01-11T10:15:16+01:00",
      "product": "JDT",
      "component": "Text",
      "severity": "major"
    }
  ],
  "groupId": "170192",
  "bugId": "170192",
  "date": "2007-01-11T10:15:16+01:00",
  "product": "JDT",
  "component": "Text",
  "severity": "major"
}