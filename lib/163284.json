{
  "comments": [
    "This is a new bug in 3.3, as of I20061102-0010 or possibly earlier; it works in 3.2.1.  The quick summary is that it looks like a change in the UI for project deletion is causing some operations to happen out of order; a Save All is being triggered during project deletion.\n\nTO REPRO:\n\nLaunch Eclipse in a new workspace.  Close the \u0027Welcome\u0027 page.  Create a new plug-in project, named \"foo\".  \nClick Next to go to the second wizard page, uncheck both Plug-in Options, and then hit \"Finish\" to accept all other defaults.\nClick \"YES\" to go to Plug-in Perspective.\n\nIn the manifest editor, in the Dependencies tab, add org.eclipse.core.resources as a dependency.  Save.\nIn the Extensions tab, click Add... and add org.eclipse.core.resources.builders.  Click Finish.\n\nRight-click the new extension and click New... to add \"builder\".\nRight-click the \"builder\" element and click New... to add \"run\".\nClick the \"class\" link and type IPB in the Name field.  Click Finish.  Do *NOT* save.\n\nIn package explorer, right-click the \"foo\" project, and click Delete.  \nIn the confirmation dialog, select \"Also delete contents...\" and click YES.\n\nIn 3.2.1, the project is deleted and we\u0027re done.  \n\nBut not in 3.3 I20061102-0010.  There, an \"Operation Warning\" dialog appears, saying what will happen if all contents are deleted.  Click YES.\n\nA Save Resource dialog now appears, asking whether to save changes to \u0027foo\u0027; again click YES.\n\nAn \"Error\" dialog now appears, with text \n\"Save All Failed:Attempted to beginRule: R/, does not match outer scope rule: P/foo\".\nAlso, a warning and an error are both added to the error log, each with message \n\"Save All Failed\", from plug-in org.eclipse.ui.\n\nDismissing the \"Error\" dialog leaves the \"Save Resource\" dialog still present.  Clicking YES again does dismiss it, and the project is apparently deleted.\n\nThe error does not have a stack trace available.  The stack trace of the warning is:\n\njava.lang.IllegalArgumentException: Attempted to beginRule: R/, does not match outer scope rule: P/foo\n\tat org.eclipse.core.runtime.Assert.isLegal(Assert.java:62)\n\tat org.eclipse.core.internal.jobs.ThreadJob.illegalPush(ThreadJob.java:116)\n\tat org.eclipse.core.internal.jobs.ThreadJob.push(ThreadJob.java:225)\n\tat org.eclipse.core.internal.jobs.ImplicitJobs.begin(ImplicitJobs.java:58)\n\tat org.eclipse.core.internal.jobs.JobManager.beginRule(JobManager.java:219)\n\tat org.eclipse.core.internal.resources.WorkManager.checkIn(WorkManager.java:96)\n\tat org.eclipse.core.internal.resources.Workspace.prepareOperation(Workspace.java:1689)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1737)\n\tat org.eclipse.core.filebuffers.manipulation.ContainerCreator.createContainer(ContainerCreator.java:124)\n\tat org.eclipse.core.internal.filebuffers.ResourceTextFileBuffer.commitFileBufferContent(ResourceTextFileBuffer.java:382)\n\tat org.eclipse.core.internal.filebuffers.ResourceFileBuffer.commit(ResourceFileBuffer.java:324)\n\tat org.eclipse.ui.editors.text.TextFileDocumentProvider.commitFileBuffer(TextFileDocumentProvider.java:844)\n\tat org.eclipse.ui.editors.text.TextFileDocumentProvider$2.execute(TextFileDocumentProvider.java:768)\n\tat org.eclipse.ui.editors.text.TextFileDocumentProvider$DocumentProviderOperation.run(TextFileDocumentProvider.java:144)\n\tat org.eclipse.ui.actions.WorkspaceModifyDelegatingOperation.execute(WorkspaceModifyDelegatingOperation.java:68)\n\tat org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:101)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1742)\n\tat org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:113)\n\tat org.eclipse.ui.internal.editors.text.WorkspaceOperationRunner.run(WorkspaceOperationRunner.java:73)\n\tat org.eclipse.ui.internal.editors.text.WorkspaceOperationRunner.run(WorkspaceOperationRunner.java:63)\n\tat org.eclipse.ui.editors.text.TextFileDocumentProvider.executeOperation(TextFileDocumentProvider.java:461)\n\tat org.eclipse.ui.editors.text.TextFileDocumentProvider.saveDocument(TextFileDocumentProvider.java:745)\n\tat org.eclipse.ui.editors.text.ForwardingDocumentProvider.saveDocument(ForwardingDocumentProvider.java:148)\n\tat org.eclipse.pde.internal.ui.editor.context.InputContext.doSave(InputContext.java:184)\n\tat org.eclipse.pde.internal.ui.editor.context.InputContextManager.save(InputContextManager.java:84)\n\tat org.eclipse.pde.internal.ui.editor.PDEFormEditor.doSave(PDEFormEditor.java:357)\n\tat org.eclipse.ui.internal.DefaultSaveable.doSave(DefaultSaveable.java:54)\n\tat org.eclipse.ui.internal.SaveablesList$4.run(SaveablesList.java:559)\n\tat org.eclipse.ui.internal.SaveableHelper$4.run(SaveableHelper.java:252)\n\tat org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:369)\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:313)\n\tat org.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.java:767)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)\n\tat org.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.java:764)\n\tat org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:2280)\n\tat org.eclipse.ui.internal.SaveableHelper.runProgressMonitorOperation(SaveableHelper.java:258)\n\tat org.eclipse.ui.internal.SaveablesList.promptForSaving(SaveablesList.java:573)\n\tat org.eclipse.ui.internal.SaveablesList.promptForSavingIfNecessary(SaveablesList.java:393)\n\tat org.eclipse.ui.internal.SaveablesList.preCloseParts(SaveablesList.java:353)\n\tat org.eclipse.ui.internal.WorkbenchPage.closeEditors(WorkbenchPage.java:1234)\n\tat org.eclipse.ui.internal.WorkbenchPage.closeEditor(WorkbenchPage.java:1330)\n\tat org.eclipse.ui.forms.editor.FormEditor$1.run(FormEditor.java:635)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3440)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3080)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\n\tat org.eclipse.jface.window.Window.open(Window.java:796)\n\tat org.eclipse.ui.internal.SaveablesList.promptForSaving(SaveablesList.java:479)\n\tat org.eclipse.ui.internal.SaveablesList.promptForSavingIfNecessary(SaveablesList.java:393)\n\tat org.eclipse.ui.internal.SaveablesList.preCloseParts(SaveablesList.java:353)\n\tat org.eclipse.ui.internal.WorkbenchPage.closeEditors(WorkbenchPage.java:1234)\n\tat org.eclipse.ui.internal.WorkbenchPage.closeEditor(WorkbenchPage.java:1330)\n\tat org.eclipse.ui.forms.editor.FormEditor$1.run(FormEditor.java:635)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3440)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3080)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1924)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1888)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:104)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:74)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:348)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:165)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:341)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:285)\n\tat org.eclipse.core.launcher.Main.run(Main.java:987)\n\tat org.eclipse.core.launcher.Main.main(Main.java:962)",
    "From the stack trace it looks like an editors issue"
  ],
  "commentCreationDates": [
    "2006-11-02T23:46:43+01:00",
    "2006-11-07T14:53:04+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Attempted to beginRule: R/, does not match outer scope rule: P/foo",
      "elements": [
        {
          "method": "org.eclipse.core.runtime.Assert.isLegal",
          "source": "Assert.java:62"
        },
        {
          "method": "org.eclipse.core.internal.jobs.ThreadJob.illegalPush",
          "source": "ThreadJob.java:116"
        },
        {
          "method": "org.eclipse.core.internal.jobs.ThreadJob.push",
          "source": "ThreadJob.java:225"
        },
        {
          "method": "org.eclipse.core.internal.jobs.ImplicitJobs.begin",
          "source": "ImplicitJobs.java:58"
        },
        {
          "method": "org.eclipse.core.internal.jobs.JobManager.beginRule",
          "source": "JobManager.java:219"
        },
        {
          "method": "org.eclipse.core.internal.resources.WorkManager.checkIn",
          "source": "WorkManager.java:96"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.prepareOperation",
          "source": "Workspace.java:1689"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1737"
        },
        {
          "method": "org.eclipse.core.filebuffers.manipulation.ContainerCreator.createContainer",
          "source": "ContainerCreator.java:124"
        },
        {
          "method": "org.eclipse.core.internal.filebuffers.ResourceTextFileBuffer.commitFileBufferContent",
          "source": "ResourceTextFileBuffer.java:382"
        },
        {
          "method": "org.eclipse.core.internal.filebuffers.ResourceFileBuffer.commit",
          "source": "ResourceFileBuffer.java:324"
        },
        {
          "method": "org.eclipse.ui.editors.text.TextFileDocumentProvider.commitFileBuffer",
          "source": "TextFileDocumentProvider.java:844"
        },
        {
          "method": "org.eclipse.ui.editors.text.TextFileDocumentProvider$2.execute",
          "source": "TextFileDocumentProvider.java:768"
        },
        {
          "method": "org.eclipse.ui.editors.text.TextFileDocumentProvider$DocumentProviderOperation.run",
          "source": "TextFileDocumentProvider.java:144"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyDelegatingOperation.execute",
          "source": "WorkspaceModifyDelegatingOperation.java:68"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation$1.run",
          "source": "WorkspaceModifyOperation.java:101"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1742"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation.run",
          "source": "WorkspaceModifyOperation.java:113"
        },
        {
          "method": "org.eclipse.ui.internal.editors.text.WorkspaceOperationRunner.run",
          "source": "WorkspaceOperationRunner.java:73"
        },
        {
          "method": "org.eclipse.ui.internal.editors.text.WorkspaceOperationRunner.run",
          "source": "WorkspaceOperationRunner.java:63"
        },
        {
          "method": "org.eclipse.ui.editors.text.TextFileDocumentProvider.executeOperation",
          "source": "TextFileDocumentProvider.java:461"
        },
        {
          "method": "org.eclipse.ui.editors.text.TextFileDocumentProvider.saveDocument",
          "source": "TextFileDocumentProvider.java:745"
        },
        {
          "method": "org.eclipse.ui.editors.text.ForwardingDocumentProvider.saveDocument",
          "source": "ForwardingDocumentProvider.java:148"
        },
        {
          "method": "org.eclipse.pde.internal.ui.editor.context.InputContext.doSave",
          "source": "InputContext.java:184"
        },
        {
          "method": "org.eclipse.pde.internal.ui.editor.context.InputContextManager.save",
          "source": "InputContextManager.java:84"
        },
        {
          "method": "org.eclipse.pde.internal.ui.editor.PDEFormEditor.doSave",
          "source": "PDEFormEditor.java:357"
        },
        {
          "method": "org.eclipse.ui.internal.DefaultSaveable.doSave",
          "source": "DefaultSaveable.java:54"
        },
        {
          "method": "org.eclipse.ui.internal.SaveablesList$4.run",
          "source": "SaveablesList.java:559"
        },
        {
          "method": "org.eclipse.ui.internal.SaveableHelper$4.run",
          "source": "SaveableHelper.java:252"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:369"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:313"
        },
        {
          "method": "org.eclipse.jface.window.ApplicationWindow$1.run",
          "source": "ApplicationWindow.java:767"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:67"
        },
        {
          "method": "org.eclipse.jface.window.ApplicationWindow.run",
          "source": "ApplicationWindow.java:764"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.run",
          "source": "WorkbenchWindow.java:2280"
        },
        {
          "method": "org.eclipse.ui.internal.SaveableHelper.runProgressMonitorOperation",
          "source": "SaveableHelper.java:258"
        },
        {
          "method": "org.eclipse.ui.internal.SaveablesList.promptForSaving",
          "source": "SaveablesList.java:573"
        },
        {
          "method": "org.eclipse.ui.internal.SaveablesList.promptForSavingIfNecessary",
          "source": "SaveablesList.java:393"
        },
        {
          "method": "org.eclipse.ui.internal.SaveablesList.preCloseParts",
          "source": "SaveablesList.java:353"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.closeEditors",
          "source": "WorkbenchPage.java:1234"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.closeEditor",
          "source": "WorkbenchPage.java:1330"
        },
        {
          "method": "org.eclipse.ui.forms.editor.FormEditor$1.run",
          "source": "FormEditor.java:635"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:123"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3440"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3080"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:820"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:796"
        },
        {
          "method": "org.eclipse.ui.internal.SaveablesList.promptForSaving",
          "source": "SaveablesList.java:479"
        },
        {
          "method": "org.eclipse.ui.internal.SaveablesList.promptForSavingIfNecessary",
          "source": "SaveablesList.java:393"
        },
        {
          "method": "org.eclipse.ui.internal.SaveablesList.preCloseParts",
          "source": "SaveablesList.java:353"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.closeEditors",
          "source": "WorkbenchPage.java:1234"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.closeEditor",
          "source": "WorkbenchPage.java:1330"
        },
        {
          "method": "org.eclipse.ui.forms.editor.FormEditor$1.run",
          "source": "FormEditor.java:635"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:123"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3440"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3080"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1924"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1888"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:104"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:74"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:348"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:165"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:341"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:285"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:987"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:962"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "163284",
      "date": "2006-11-02T23:46:43+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "163284",
  "bugId": "163284",
  "date": "2006-11-02T23:46:43+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}