{
  "comments": [
    "I20060321-1210\n\nFound several times in .log and since it writes out the source the .log grows extremely.\n\n!ENTRY org.eclipse.jdt.core 4 4 2006-03-22 09:58:12.483\n!MESSAGE Exception occurred during problem detection:\n----------------------------------- SOURCE BEGIN -------------------------------------\n/*******************************************************************************\n * Copyright (c) 2000, 2005 IBM Corporation and others.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *\n * Contributors:\n *     IBM Corporation - initial API and implementation\n *******************************************************************************/\npackage org.eclipse.jdt.ui.actions;\n\nimport org.eclipse.jface.action.GroupMarker;\nimport org.eclipse.jface.action.IMenuManager;\nimport org.eclipse.jface.action.MenuManager;\nimport org.eclipse.jface.action.Separator;\nimport org.eclipse.jface.util.Assert;\n\nimport org.eclipse.ui.IActionBars;\nimport org.eclipse.ui.IViewPart;\nimport org.eclipse.ui.IWorkbenchSite;\nimport org.eclipse.ui.actions.ActionContext;\nimport org.eclipse.ui.actions.ActionGroup;\nimport org.eclipse.ui.part.Page;\nimport org.eclipse.ui.texteditor.ITextEditorActionConstants;\n\nimport org.eclipse.jdt.ui.PreferenceConstants;\n\nimport org.eclipse.jdt.internal.ui.javaeditor.JavaEditor;\nimport org.eclipse.jdt.internal.ui.search.SearchMessages;\n\n/**\n * Action group that adds the Java search actions to a context menu and\n * the global menu bar.\n * \n * \u003cp\u003e\n * This class may be instantiated; it is not intended to be subclassed.\n * \u003c/p\u003e\n * \n * @since 2.0\n */\npublic class fil extends ActionGroup {\n\n\tprivate JavaEditor fEditor;\n\n\tprivate ReferencesSearchGroup fReferencesGroup;\n\tprivate ReadReferencesSearchGroup fReadAccessGroup;\n\tprivate WriteReferencesSearchGroup fWriteAccessGroup;\n\tprivate DeclarationsSearchGroup fDeclarationsGroup;\n\tprivate ImplementorsSearchGroup fImplementorsGroup;\n\tprivate OccurrencesSearchGroup fOccurrencesGroup;\n\t\n\t\n\t/**\n\t * Creates a new \u003ccode\u003eJavaSearchActionGroup\u003c/code\u003e. The group \n\t * requires that the selection provided by the part\u0027s selection provider \n\t * is of type \u003ccode\u003eorg.eclipse.jface.viewers.IStructuredSelection\u003c/code\u003e.\n\t * \n\t * @param part the view part that owns this action group\n\t */\n\tpublic JavaSearchActionGroup(IViewPart part) {\n\t\tthis(part.getViewSite());\n\t}\n\t\n\t/**\n\t * Creates a new \u003ccode\u003eJavaSearchActionGroup\u003c/code\u003e. The group \n\t * requires that the selection provided by the page\u0027s selection provider \n\t * is of type \u003ccode\u003eorg.eclipse.jface.viewers.IStructuredSelection\u003c/code\u003e.\n\t * \n\t * @param page the page that owns this action group\n\t */\n\tpublic JavaSearchActionGroup(Page page) {\n\t\tthis(page.getSite());\n\t}\n\n\t/**\n\t * Note: This constructor is for internal use only. Clients should not call this constructor.\n\t * @param editor the Java editor\n\t */\n\tpublic JavaSearchActionGroup(JavaEditor editor) {\n\t\tAssert.isNotNull(editor);\n\t\tfEditor\u003d editor;\n\t\t\n\t\tfReferencesGroup\u003d new ReferencesSearchGroup(fEditor);\n\t\tfReadAccessGroup\u003d new ReadReferencesSearchGroup(fEditor);\n\t\tfWriteAccessGroup\u003d new WriteReferencesSearchGroup(fEditor);\n\t\tfDeclarationsGroup\u003d new DeclarationsSearchGroup(fEditor);\n\t\tfImplementorsGroup\u003d new ImplementorsSearchGroup(fEditor);\n\t\tfOccurrencesGroup\u003d new OccurrencesSearchGroup(fEditor);\n\t}\n\n\tprivate JavaSearchActionGroup(IWorkbenchSite site) {\n\t\tfReferencesGroup\u003d new ReferencesSearchGroup(site);\n\t\tfReadAccessGroup\u003d new ReadReferencesSearchGroup(site);\n\t\tfWriteAccessGroup\u003d new WriteReferencesSearchGroup(site);\n\t\tfDeclarationsGroup\u003d new DeclarationsSearchGroup(site);\n\t\tfImplementorsGroup\u003d new ImplementorsSearchGroup(site);\n\t\tfOccurrencesGroup\u003d new OccurrencesSearchGroup(site);\n\t}\n\n\t/* \n\t * Method declared on ActionGroup.\n\t */\n\tpublic void setContext(ActionContext context) {\n\t\tfReferencesGroup.setContext(context);\n\t\tfDeclarationsGroup.setContext(context);\n\t\tfImplementorsGroup.setContext(context);\n\t\tfReadAccessGroup.setContext(context);\n\t\tfWriteAccessGroup.setContext(context);\n\t\tfOccurrencesGroup.setContext(context);\n\t}\n\n\t/* \n\t * Method declared on ActionGroup.\n\t */\n\tpublic void fillActionBars(IActionBars actionBar) {\n\t\tsuper.fillActionBars(actionBar);\n\t\tfReferencesGroup.fillActionBars(actionBar);\n\t\tfDeclarationsGroup.fillActionBars(actionBar);\n\t\tfImplementorsGroup.fillActionBars(actionBar);\n\t\tfReadAccessGroup.fillActionBars(actionBar);\n\t\tfWriteAccessGroup.fillActionBars(actionBar);\n\t\tfOccurrencesGroup.fillActionBars(actionBar);\n\t}\n\t\n\t/* \n\t * Method declared on ActionGroup.\n\t */\n\tpublic void fillContextMenu(IMenuManager menu) {\n\t\tsuper.fillContextMenu(menu);\n\t\t\n\t\tif(PreferenceConstants.getPreferenceStore().getBoolean(PreferenceConstants.SEARCH_USE_REDUCED_MENU)) {\n\t\t\tfReferencesGroup.fillContextMenu(menu);\n\t\t\tfDeclarationsGroup.fillContextMenu(menu);\n\n\t\t\tif (fEditor \u003d\u003d null) {\n\t\t\t\tfImplementorsGroup.fillContextMenu(menu);\n\t\t\t\tfReadAccessGroup.fillContextMenu(menu);\n\t\t\t\tfWriteAccessGroup.fillContextMenu(menu);\n\t\t\t}\n\t\t\tfOccurrencesGroup.fillContextMenu(menu);\n\n\t\t} else {\n\t\t\tIMenuManager target\u003d menu;\n\t\t\tIMenuManager searchSubMenu\u003d null;\n\t\t\tif (fEditor !\u003d null) {\n\t\t\t\tString groupName\u003d SearchMessages.group_search; \n\t\t\t\tsearchSubMenu\u003d new MenuManager(groupName, ITextEditorActionConstants.GROUP_FIND);\n\t\t\t\tsearchSubMenu.add(new GroupMarker(ITextEditorActionConstants.GROUP_FIND));\n\t\t\t\ttarget\u003d searchSubMenu;\n\t\t\t}\n\t\t\t\n\t\t\tfReferencesGroup.fillContextMenu(target);\n\t\t\tfDeclarationsGroup.fillContextMenu(target);\n\t\t\tfImplementorsGroup.fillContextMenu(target);\n\t\t\tfReadAccessGroup.fillContextMenu(target);\n\t\t\tfWriteAccessGroup.fillContextMenu(target);\n\t\t\tfOccurrencesGroup.fillContextMenu(target);\n\t\t\t\n\t\t\tif (searchSubMenu !\u003d null)\n\t\t\t\tsearchSubMenu.add(new Separator());\n\t\t\t\n\t\t\t// no other way to find out if we have added items.\n\t\t\tif (searchSubMenu !\u003d null \u0026\u0026 searchSubMenu.getItems().length \u003e 2) {\t\t\n\t\t\t\tmenu.appendToGroup(ITextEditorActionConstants.GROUP_FIND, searchSubMenu);\n\t\t\t}\n\t\t}\n\t}\t\n\n\t/* \n\t * Method declared on ActionGroup.\n\t */\n\tpublic void dispose() {\n\t\tfReferencesGroup.dispose();\n\t\tfDeclarationsGroup.dispose();\n\t\tfImplementorsGroup.dispose();\n\t\tfReadAccessGroup.dispose();\n\t\tfWriteAccessGroup.dispose();\n\t\tfOccurrencesGroup.dispose();\n\n\t\tsuper.dispose();\n\t}\n}\n\n----------------------------------- SOURCE END -------------------------------------\n!STACK 0\njava.lang.NullPointerException\n\tat org.eclipse.jdt.internal.compiler.ast.Javadoc.resolve(Javadoc.java:196)\n\tat org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolveJavadoc(AbstractMethodDeclaration.java:420)\n\tat org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve(AbstractMethodDeclaration.java:401)\n\tat org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1049)\n\tat org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1096)\n\tat org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve(CompilationUnitDeclaration.java:354)\n\tat org.eclipse.jdt.internal.compiler.Compiler.resolve(Compiler.java:687)\n\tat org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process(CompilationUnitProblemFinder.java:184)\n\tat org.eclipse.jdt.internal.core.CompilationUnit.buildStructure(CompilationUnit.java:181)\n\tat org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:229)\n\tat org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:503)\n\tat org.eclipse.jdt.internal.core.CompilationUnit.makeConsistent(CompilationUnit.java:990)\n\tat org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.makeConsistent(ReconcileWorkingCopyOperation.java:131)\n\tat org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.executeOperation(ReconcileWorkingCopyOperation.java:71)\n\tat org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:720)\n\tat org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:779)\n\tat org.eclipse.jdt.internal.core.CompilationUnit.reconcile(CompilationUnit.java:1117)\n\tat org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy$1.run(JavaReconcilingStrategy.java:97)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:82)\n\tat org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:145)\n\tat org.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.reconcile(CompositeReconcilingStrategy.java:86)\n\tat org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.reconcile(JavaCompositeReconcilingStrategy.java:94)\n\tat org.eclipse.jface.text.reconciler.MonoReconciler.process(MonoReconciler.java:75)\n\tat org.eclipse.jdt.internal.ui.text.JavaReconciler.process(JavaReconciler.java:339)\n\tat org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:204)",
    "Type declaration name has been modified (\u0027fil\u0027 instead \u0027JavaSearchActionGroup\u0027)\n\u003d\u003e all constructors are converted into methods with a null return type.\nJavadoc resolution was not protected against this because it should not be called in this case (method binding was expected to be null)...\n\nHere\u0027s a smaller test case to reproduce the problem:\nTest.java:\n    public class X {\n        /**\t */ \n        public Test() {}\n        /**\t */\n        public test() {}\n    }\n\nTracking resolution shows that SourceTypeBinding.methods() misses to reset binding for invalid method Test() but do it correctly for test() method...\n\nChanging line 1088 (in SourceTypeBinding v_647):\n    continue nextMethod; // methods with same selector are contiguous\nwith:\n    break nextSibling; // methods with same selector are contiguous\nfixes the problem...\n\nPhilippe, do you agree with this fix?\n",
    "Actually, the binding should still be nulled out in this case, likely a regression introduced recently when sorting bindings.",
    "Created an attachment (id\u003d36749)\nTest case\n\nApply this patch on org.eclipse.jdt.core.test.compiler project.\nIt adds a test on JavadocBugTests to verify that NPE does no longer occur.\n",
    "I think Frederic\u0027s fix is the right one.\nWill release it. \nFrederic pls add a testcase.",
    "Patch applied in HEAD.\n\nAll JDT/Core and JDT/UI tests pass.\n",
    "*** Bug 132815 has been marked as a duplicate of this bug. ***",
    "Added LookupTest#test059",
    "*** Bug 132665 has been marked as a duplicate of this bug. ***",
    "*** Bug 132846 has been marked as a duplicate of this bug. ***",
    "*** Bug 132877 has been marked as a duplicate of this bug. ***",
    "Added SnippetCompletionTests_1_5#testCodeSnippetAssistForBug132665\n\nsee bug 132665 commment 3",
    "Verified using I20060328-0010 for 3.2M6"
  ],
  "commentCreationDates": [
    "2006-03-22T09:54:09+01:00",
    "2006-03-22T12:43:47+01:00",
    "2006-03-22T15:39:20+01:00",
    "2006-03-22T16:11:24+01:00",
    "2006-03-22T16:20:38+01:00",
    "2006-03-22T16:27:11+01:00",
    "2006-03-22T16:53:42+01:00",
    "2006-03-22T16:54:27+01:00",
    "2006-03-22T17:07:55+01:00",
    "2006-03-22T17:16:06+01:00",
    "2006-03-22T18:45:57+01:00",
    "2006-03-23T15:17:36+01:00",
    "2006-03-28T17:11:54+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.Javadoc.resolve",
          "source": "Javadoc.java:196"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolveJavadoc",
          "source": "AbstractMethodDeclaration.java:420"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve",
          "source": "AbstractMethodDeclaration.java:401"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve",
          "source": "TypeDeclaration.java:1049"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve",
          "source": "TypeDeclaration.java:1096"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve",
          "source": "CompilationUnitDeclaration.java:354"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.resolve",
          "source": "Compiler.java:687"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process",
          "source": "CompilationUnitProblemFinder.java:184"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.buildStructure",
          "source": "CompilationUnit.java:181"
        },
        {
          "method": "org.eclipse.jdt.internal.core.Openable.generateInfos",
          "source": "Openable.java:229"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaElement.openWhenClosed",
          "source": "JavaElement.java:503"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.makeConsistent",
          "source": "CompilationUnit.java:990"
        },
        {
          "method": "org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.makeConsistent",
          "source": "ReconcileWorkingCopyOperation.java:131"
        },
        {
          "method": "org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.executeOperation",
          "source": "ReconcileWorkingCopyOperation.java:71"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.run",
          "source": "JavaModelOperation.java:720"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.runOperation",
          "source": "JavaModelOperation.java:779"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.reconcile",
          "source": "CompilationUnit.java:1117"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy$1.run",
          "source": "JavaReconcilingStrategy.java:97"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile",
          "source": "JavaReconcilingStrategy.java:82"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile",
          "source": "JavaReconcilingStrategy.java:145"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.reconcile",
          "source": "CompositeReconcilingStrategy.java:86"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.reconcile",
          "source": "JavaCompositeReconcilingStrategy.java:94"
        },
        {
          "method": "org.eclipse.jface.text.reconciler.MonoReconciler.process",
          "source": "MonoReconciler.java:75"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.JavaReconciler.process",
          "source": "JavaReconciler.java:339"
        },
        {
          "method": "org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run",
          "source": "AbstractReconciler.java:204"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "132813",
      "date": "2006-03-22T09:54:09+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "major"
    }
  ],
  "groupId": "132813",
  "bugId": "132813",
  "date": "2006-03-22T09:54:09+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "major"
}