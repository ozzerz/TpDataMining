{
  "comments": [
    "I attempted to add / set text in a console to a process that was in the process of being terminated. I\u0027m not sure why or whether that would matter, as the console itself should still remain.\n\nI\u0027ve executed the following code:\n\n\t\t\tpublic void showInConsole( String text, IProcess process) {\n\n\t\t\t\tProcessConsoleManager manager \u003d \n\t\t\t\t\tDebugUIPlugin.getDefault().getProcessConsoleManager();\n\t\t\t\t\n\t\t\t\tIConsole console \u003d manager.getConsole(process);\n\t\t\t\tIDocument doc \u003d manager.getConsoleDocument(process);\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tset(doc, doc.get() + text);\n\t\t\t\tIConsoleManager conManager \u003d ConsolePlugin.getDefault().getConsoleManager();\n\t\t\t\tconManager.showConsoleView(console);\n\t\t\t\t\n\t\t\t} \n\n\n\t\t\tpublic void set( final IDocument doc, final String text ) {\n\t\t\t\tDisplay d \u003d PlatformUI.getWorkbench().getDisplay();\n\t\t\t\td.asyncExec(new Runnable() {\n\n\t\t\t\t\tpublic void run() {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tdoc.set(text);\n\t\t\t\t\t\t\tSystem.out.println(doc.get());\n\t\t\t\t\t\t} catch( Throwable t ) {\n\t\t\t\t\t\t\tt.printStackTrace();\n\t\t\t\t\t\t}\n\t\t\t\t\t} \n\t\t\t\t\t\n\t\t\t\t});\n\t\t\t}\n\n\nAn exception stack trace was provided as follows:\n\n\njava.lang.NullPointerException\n\tat org.eclipse.ui.internal.console.IOConsolePartition.delete(IOConsolePartition.java:85)\n\tat org.eclipse.ui.internal.console.IOConsolePartitioner.documentChanged2(IOConsolePartitioner.java:369)\n\tat org.eclipse.jface.text.AbstractDocument.updateDocumentStructures(AbstractDocument.java:632)\n\tat org.eclipse.jface.text.AbstractDocument.fireDocumentChanged(AbstractDocument.java:719)\n\tat org.eclipse.jface.text.AbstractDocument.set(AbstractDocument.java:1113)\n\tat org.eclipse.jface.text.AbstractDocument.set(AbstractDocument.java:1094)\n\tat org.eclipse.ui.internal.console.ConsoleDocument.set(ConsoleDocument.java:89)\n\tat org.eclipse.jst.server.jboss.ui.JBossServerUIPlugin$1$1.run(JBossServerUIPlugin.java:176)\n\n\n\nOffending code at the root of the stack trace:\n    public void delete(int delOffset, int delLength) {\n        buffer.delete(delOffset, delOffset+delLength);\n        length -\u003d delLength;\n    }\n\nProblem:  buffer is null\n\nUsing the debugger, it doesn\u0027t seem like clearBuffer was ever called, and that is the only method that sets buffer to null. Read only is set to true. This means that IOConsolePartitioner.documentChanged2 should not have called partition.delete(etc) without checking if it was read-only first.",
    "The console document is not API and not intended to be accessed/updated directly."
  ],
  "commentCreationDates": [
    "2006-05-15T21:36:32+02:00",
    "2006-07-26T21:30:13+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.internal.console.IOConsolePartition.delete",
          "source": "IOConsolePartition.java:85"
        },
        {
          "method": "org.eclipse.ui.internal.console.IOConsolePartitioner.documentChanged2",
          "source": "IOConsolePartitioner.java:369"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.updateDocumentStructures",
          "source": "AbstractDocument.java:632"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.fireDocumentChanged",
          "source": "AbstractDocument.java:719"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.set",
          "source": "AbstractDocument.java:1113"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.set",
          "source": "AbstractDocument.java:1094"
        },
        {
          "method": "org.eclipse.ui.internal.console.ConsoleDocument.set",
          "source": "ConsoleDocument.java:89"
        },
        {
          "method": "org.eclipse.jst.server.jboss.ui.JBossServerUIPlugin$1$1.run",
          "source": "JBossServerUIPlugin.java:176"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "141866",
      "date": "2006-05-15T21:36:32+02:00",
      "product": "Platform",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "141866",
  "bugId": "141866",
  "date": "2006-05-15T21:36:32+02:00",
  "product": "Platform",
  "component": "Debug",
  "severity": "normal"
}