{
  "comments": [
    "Hi,\n\nI created a JDBC datasource as per recommended procedure in BIRT 2.0.1, RAD6 (eclipse 3.0.2) to connect to DB2 version 7.1 on os/390 using DB2 connect 7.2 type 2 JDBC driver on Windows XP. When I test the connection, I get the following exception (from the workspace\\metadata\\CommonBaseEvents.log\n\n\n\n\t\u003cextendedDataElements name\u003d\"CommonBaseEventLogRecord:stackTrace\" type\u003d\"stringArray\"\u003e\n\t\t\u003cvalues\u003ejava.sql.SQLException: java.lang.UnsatisfiedLinkError: db2jdbc (Library is already loaded in another ClassLoader)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at COM.ibm.db2.jdbc.app.DB2Driver.\u0026lt;init\u0026gt;(DB2Driver.java:240)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at java.lang.Class.newInstanceImpl(Native Method)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at java.lang.Class.newInstance(Class.java:1545)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.report.data.oda.jdbc.JDBCDriverManager.loadAndRegisterDriver(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.report.data.oda.jdbc.JDBCDriverManager.doConnect(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.report.data.oda.jdbc.JDBCDriverManager.getConnection(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.report.data.oda.jdbc.Connection.connectByUrl(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.report.data.oda.jdbc.Connection.open(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.datatools.connectivity.oda.consumer.helper.OdaConnection.open(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.data.engine.odaconsumer.ConnectionManager.openConnection(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.data.engine.executor.DataSource.newConnection(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.data.engine.executor.DataSource.open(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.data.engine.impl.DataSourceRuntime.openOdiDataSource(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.data.engine.impl.PreparedQuery$Executor.openDataSource(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.data.engine.impl.PreparedQuery$Executor.prepareExecution(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.data.engine.impl.PreparedQuery$Executor.access$000(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.data.engine.impl.PreparedQuery.doPrepare(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.execute(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.report.designer.internal.ui.util.DataSetManager.execute(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.report.designer.internal.ui.util.DataSetManager.getColumns(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.report.designer.internal.ui.util.DataSetManager.getColumns(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.report.designer.internal.ui.util.DataSetManager.refresh(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.report.designer.internal.ui.views.data.DataViewTreeViewerPage$5.run(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.swt.widgets.RunnableLock.run(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.swt.widgets.Display.runAsyncMessages(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.swt.widgets.Display.readAndDispatch(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.ui.internal.Workbench.runEventLoop(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.ui.internal.Workbench.runUI(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.ui.PlatformUI.createAndRunWorkbench(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.ui.internal.ide.IDEApplication.run(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.core.internal.runtime.PlatformActivator$1.run(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at java.lang.reflect.Method.invoke(Method.java:391)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.core.launcher.Main.basicRun(Main.java:185)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.core.launcher.Main.run(Main.java:704)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.core.launcher.Main.main(Main.java:688)\u003c/values\u003e\n\t\u003c/extendedDataElements\u003e\n\t\u003csourceComponentId component\u003d\"Logging\" componentIdType\u003d\"Application\" executionEnvironment\u003d\"Java\" location\u003d\"10.96.44.30\" locationType\u003d\"IPV4\" subComponent\u003d\"Logger\" componentType\u003d\"Logging_Application\"/\u003e\n\t\u003cmsgDataElement\u003e\n\t\t\u003cmsgCatalogId\u003eFailed to create new instance of JDBC driver:COM.ibm.db2.jdbc.app.DB2Driver\u003c/msgCatalogId\u003e\n\t\u003c/msgDataElement\u003e\n\t\u003csituation categoryName\u003d\"ReportSituation\"\u003e\n\t\t\u003csituationType xmlns:xsi\u003d\"http://www.w3.org/2001/XMLSchema-instance\" xsi:type\u003d\"ReportSituation\" reasoningScope\u003d\"INTERNAL\" reportCategory\u003d\"LOG\"/\u003e\n\t\u003c/situation\u003e\n\u003c/CommonBaseEvent\u003e\n\u003cCommonBaseEvent creationTime\u003d\"2006-04-05T17:51:04.894Z\" version\u003d\"1.0.1\"\u003e\n\t\u003cextendedDataElements name\u003d\"CommonBaseEventLogRecord:sequenceNumber\" type\u003d\"long\"\u003e\n\t\t\u003cvalues\u003e26\u003c/values\u003e\n\t\u003c/extendedDataElements\u003e\n\t\u003cextendedDataElements name\u003d\"CommonBaseEventLogRecord:threadID\" type\u003d\"int\"\u003e\n\t\t\u003cvalues\u003e10\u003c/values\u003e\n\t\u003c/extendedDataElements\u003e\n\t\u003cextendedDataElements name\u003d\"CommonBaseEventLogRecord:level\" type\u003d\"noValue\"\u003e\n\t\t\u003cchildren name\u003d\"CommonBaseEventLogRecord:name\" type\u003d\"string\"\u003e\n\t\t\t\u003cvalues\u003eSEVERE\u003c/values\u003e\n\t\t\u003c/children\u003e\n\t\t\u003cchildren name\u003d\"CommonBaseEventLogRecord:value\" type\u003d\"int\"\u003e\n\t\t\t\u003cvalues\u003e1000\u003c/values\u003e\n\t\t\u003c/children\u003e\n\t\u003c/extendedDataElements\u003e\n\t\u003cextendedDataElements name\u003d\"CommonBaseEventLogRecord:loggerName\" type\u003d\"string\"\u003e\n\t\t\u003cvalues\u003eorg.eclipse.birt.data.engine.odaconsumer\u003c/values\u003e\n\t\u003c/extendedDataElements\u003e\n\t\u003cextendedDataElements name\u003d\"CommonBaseEventLogRecord:sourceClassName\" type\u003d\"string\"\u003e\n\t\t\u003cvalues\u003eorg.eclipse.birt.data.engine.odaconsumer.ConnectionManager\u003c/values\u003e\n\t\u003c/extendedDataElements\u003e\n\t\u003cextendedDataElements name\u003d\"CommonBaseEventLogRecord:sourceMethodName\" type\u003d\"string\"\u003e\n\t\t\u003cvalues\u003eopenConnection\u003c/values\u003e\n\t\u003c/extendedDataElements\u003e\n\t\u003cextendedDataElements name\u003d\"CommonBaseEventLogRecord:stackTrace\" type\u003d\"stringArray\"\u003e\n\t\t\u003cvalues\u003eorg.eclipse.birt.report.data.oda.jdbc.JDBCException: Cannot create instance of JDBC Driver class: COM.ibm.db2.jdbc.app.DB2Driver\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.report.data.oda.jdbc.JDBCDriverManager.loadAndRegisterDriver(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.report.data.oda.jdbc.JDBCDriverManager.doConnect(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.report.data.oda.jdbc.JDBCDriverManager.getConnection(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.report.data.oda.jdbc.Connection.connectByUrl(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.report.data.oda.jdbc.Connection.open(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.datatools.connectivity.oda.consumer.helper.OdaConnection.open(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.data.engine.odaconsumer.ConnectionManager.openConnection(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.data.engine.executor.DataSource.newConnection(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.data.engine.executor.DataSource.open(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.data.engine.impl.DataSourceRuntime.openOdiDataSource(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.data.engine.impl.PreparedQuery$Executor.openDataSource(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.data.engine.impl.PreparedQuery$Executor.prepareExecution(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.data.engine.impl.PreparedQuery$Executor.access$000(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.data.engine.impl.PreparedQuery.doPrepare(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.execute(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.report.designer.internal.ui.util.DataSetManager.execute(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.report.designer.internal.ui.util.DataSetManager.getColumns(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.report.designer.internal.ui.util.DataSetManager.getColumns(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.report.designer.internal.ui.util.DataSetManager.refresh(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.birt.report.designer.internal.ui.views.data.DataViewTreeViewerPage$5.run(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.swt.widgets.RunnableLock.run(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.swt.widgets.Display.runAsyncMessages(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.swt.widgets.Display.readAndDispatch(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.ui.internal.Workbench.runEventLoop(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.ui.internal.Workbench.runUI(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.ui.PlatformUI.createAndRunWorkbench(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.ui.internal.ide.IDEApplication.run(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.core.internal.runtime.PlatformActivator$1.run(Unknown Source)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at java.lang.reflect.Method.invoke(Method.java:391)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.core.launcher.Main.basicRun(Main.java:185)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.core.launcher.Main.run(Main.java:704)\u003c/values\u003e\n\t\t\u003cvalues\u003e\u0026#x9;at org.eclipse.core.launcher.Main.main(Main.java:688)\u003c/values\u003e\n\t\u003c/extendedDataElements\u003e\n\t\u003csourceComponentId component\u003d\"Logging\" componentIdType\u003d\"Application\" executionEnvironment\u003d\"Java\" location\u003d\"10.96.44.30\" locationType\u003d\"IPV4\" subComponent\u003d\"Logger\" componentType\u003d\"Logging_Application\"/\u003e\n\t\u003cmsgDataElement\u003e\n\t\t\u003cmsgCatalogId\u003eCannot open connection.\u003c/msgCatalogId\u003e\n\t\u003c/msgDataElement\u003e\n\t\u003csituation categoryName\u003d\"ReportSituation\"\u003e\n\t\t\u003csituationType xmlns:xsi\u003d\"http://www.w3.org/2001/XMLSchema-instance\" xsi:type\u003d\"ReportSituation\" reasoningScope\u003d\"INTERNAL\" reportCategory\u003d\"LOG\"/\u003e\n\t\u003c/situation\u003e\n\u003c/CommonBaseEvent\u003e",
    "In our test environment, we use jdbc TYPE4 driver for DB2 database. We will investigate what the problem is with TYPE2 driver.",
    "Investigate type2 driver for next fix release.",
    "This is a known limitation with type 2 JDBC drivers in any Java application. The driver uses a native libraries, and JRE does not permit a native library to be loaded by multiple classloaders in one VM. This means that the driver must be loaded only once in a top-level classloader.\n\nThe solution is to put the type 2 driver JAR file in the Eclipse\u0027s system class path. Using BIRT\u0027s driver manager does not work. Alternatively use a type-4 driver which is readily available for DB2 databases."
  ],
  "commentCreationDates": [
    "2006-04-05T20:25:07+02:00",
    "2006-04-06T04:19:04+02:00",
    "2006-05-22T06:19:18+02:00",
    "2006-07-24T23:23:26+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.UnsatisfiedLinkError",
      "message": "db2jdbc (Library is already loaded in another ClassLoader)\u003c/values\u003e   \u003cvalues\u003e\u0026#x9;at COM.ibm.db2.jdbc.app.DB2Driver.\u0026lt;init\u0026gt;(DB2Driver.java:240)\u003c/values\u003e   \u003cvalues\u003e\u0026#x9;",
      "elements": [
        {
          "method": "java.lang.Class.newInstanceImpl",
          "source": "Native Method"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "135098",
      "date": "2006-04-05T20:25:07+02:00",
      "product": "BIRT",
      "component": "Data Access",
      "severity": "normal"
    },
    {
      "exceptionType": "org.eclipse.birt.report.data.oda.jdbc.JDBCException",
      "message": "Cannot create instance of JDBC Driver class: COM.ibm.db2.jdbc.app.DB2Driver\u003c/values\u003e   \u003cvalues\u003e\u0026#x9;",
      "elements": [
        {
          "method": "org.eclipse.birt.report.data.oda.jdbc.JDBCDriverManager.loadAndRegisterDriver",
          "source": "Unknown Source"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "135098",
      "date": "2006-04-05T20:25:07+02:00",
      "product": "BIRT",
      "component": "Data Access",
      "severity": "normal"
    }
  ],
  "groupId": "135098",
  "bugId": "135098",
  "date": "2006-04-05T20:25:07+02:00",
  "product": "BIRT",
  "component": "Data Access",
  "severity": "normal"
}