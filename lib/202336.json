{
  "comments": [
    "I\u0027m opening this bug to capture a problem I was seeing while setting up self hosting.  Pascal confirmed that the provisioning that occurs when launching my RCP apps is working properly (ie, a profile is created and populated with the plug-ins constituting my app).  However, the app itself is not launching due to problems resolving org.eclipse.ui and org.eclipse.ui.workbench.  I have these plug-ins loaded in my workspace, but my launch config is set up to use the target versions.  We suspect that the presence of these plug-ins in the workspace might be part of the problem.  Here\u0027s what I\u0027m seeing when I launch:\n\n!ENTRY org.eclipse.osgi 2 0 2007-09-05 14:09:33.896\n!MESSAGE The following is a complete list of bundles which are not resolved, see the prior log entry for the root cause if it exists:\n!SUBENTRY 1 org.eclipse.osgi 2 0 2007-09-05 14:09:33.896\n!MESSAGE Bundle initial@reference:file:plugins/org.eclipse.ui_3.3.0.I20070802-0800.jar/ [50] was not resolved.\n!SUBENTRY 2 org.eclipse.ui 2 0 2007-09-05 14:09:33.896\n!MESSAGE Another singleton version selected: org.eclipse.ui_3.3.0.qualifier\n!SUBENTRY 1 org.eclipse.osgi 2 0 2007-09-05 14:09:33.896\n!MESSAGE Bundle initial@reference:file:plugins/org.eclipse.ui.workbench_3.3.0.I20070802-0800.jar/ [51] was not resolved.\n!SUBENTRY 2 org.eclipse.ui.workbench 2 0 2007-09-05 14:09:33.896\n!MESSAGE Another singleton version selected: org.eclipse.ui.workbench_3.3.0.qualifier",
    "After I see the above entries, I fail because my activator cannot be loaded, because the AbstractUIPlugin class cannot be found:\n\n!ENTRY org.eclipse.osgi 4 0 2007-09-05 14:09:33.936\n!MESSAGE An error occurred while automatically activating bundle org.eclipse.equinox.prov.ui.admin.rcp (34).\n!STACK 0\norg.osgi.framework.BundleException: The activator org.eclipse.equinox.prov.ui.admin.rcp.Activator for bundle org.eclipse.equinox.prov.ui.admin.rcp is invalid\n\tat org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleActivator(AbstractBundle.java:141)\n\tat org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:970)\n\tat org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:346)\n\tat org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:260)\n\tat org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:400)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:111)\n\tat org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:417)\n\tat org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:189)\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass(BundleLoader.java:344)\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.findClassInternal(BundleLoader.java:412)\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:373)\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:361)\n\tat org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:83)\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.loadClass(BundleLoader.java:289)\n\tat org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleHost.java:227)\n\tat org.eclipse.osgi.framework.internal.core.AbstractBundle.loadClass(AbstractBundle.java:1269)\n\tat org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:160)\n\tat org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:819)\n\tat org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:243)\n\tat org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:51)\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:165)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:508)\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:447)\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1173)\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1148)\nCaused by: java.lang.NoClassDefFoundError: org/eclipse/ui/plugin/AbstractUIPlugin",
    "Is the dev classpath file being created successfully for the bundles included in your workspace?  When self hosting a dev.properties file should be specified with the -dev option.\n\nIf this file is not being created then we will have trouble finding the development classes from your self hosting workspace projects.",
    "I\u0027m not using a -dev option...are you saying I need to create a dev.properties file or point to something that\u0027s already been generated for me?  \n\nIn the meantime, I tried removing the org.eclipse.ui and org.eclipse.ui.workbench plugins from my workspace.  During the remove, I got a few cryptic NPE errors, which Pascal warned me I might see due to the prov code listening for workspace changes. \n\nThe good news:  My apps are launching now.\n\nThe bad news:  I removed the profile directories for the rcp apps I was\nlaunching so that everything would get regenerated properly.  However, now the\nprofiles are getting redefined but the profile directories are empty.  I\u0027m\npursuing this issue right now...\n",
    "In the current self-hosting environment (not using p2), PDE will generate a dev.properties for you and automatically use the -dev option to inform equinox about extra classpath directories that are needed for workspace bundles.  I\u0027m not sure if something similar is being done for self-hosting with p2."
  ],
  "commentCreationDates": [
    "2007-09-05T23:18:34+02:00",
    "2007-09-05T23:19:58+02:00",
    "2007-09-05T23:49:02+02:00",
    "2007-09-06T00:43:28+02:00",
    "2007-09-06T15:02:00+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.osgi.framework.BundleException",
      "message": "The activator org.eclipse.equinox.prov.ui.admin.rcp.Activator for bundle org.eclipse.equinox.prov.ui.admin.rcp is invalid",
      "elements": [
        {
          "method": "org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleActivator",
          "source": "AbstractBundle.java:141"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.start",
          "source": "BundleContextImpl.java:970"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleHost.startWorker",
          "source": "BundleHost.java:346"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.AbstractBundle.start",
          "source": "AbstractBundle.java:260"
        },
        {
          "method": "org.eclipse.osgi.framework.util.SecureAction.start",
          "source": "SecureAction.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass",
          "source": "EclipseLazyStarter.java:111"
        },
        {
          "method": "org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass",
          "source": "ClasspathManager.java:417"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass",
          "source": "DefaultClassLoader.java:189"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass",
          "source": "BundleLoader.java:344"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClassInternal",
          "source": "BundleLoader.java:412"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClass",
          "source": "BundleLoader.java:373"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClass",
          "source": "BundleLoader.java:361"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass",
          "source": "DefaultClassLoader.java:83"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.loadClass",
          "source": "BundleLoader.java:289"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleHost.loadClass",
          "source": "BundleHost.java:227"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.AbstractBundle.loadClass",
          "source": "AbstractBundle.java:1269"
        },
        {
          "method": "org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension",
          "source": "RegistryStrategyOSGI.java:160"
        },
        {
          "method": "org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension",
          "source": "ExtensionRegistry.java:819"
        },
        {
          "method": "org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension",
          "source": "ConfigurationElement.java:243"
        },
        {
          "method": "org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension",
          "source": "ConfigurationElementHandle.java:51"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:165"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:363"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:176"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:508"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:447"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1173"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1148"
        }
      ],
      "number": 0,
      "commentIndex": 1,
      "bugId": "202336",
      "date": "2007-09-05T23:19:58+02:00",
      "product": "Equinox",
      "component": "Incubator",
      "severity": "normal"
    }
  ],
  "groupId": "202336",
  "bugId": "202336",
  "date": "2007-09-05T23:18:34+02:00",
  "product": "Equinox",
  "component": "Incubator",
  "severity": "normal"
}