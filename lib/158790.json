{
  "comments": [
    "Ciao :)\nFollowing situation:\n- RHEL4, U3: start eclipse\n- SWT style welcome shows up, but the css one should for linux!\n- Window-\u003ePreferences-\u003eGeneral-\u003eWeb Browser shows:\n  \"Default system Web browser\" as only option for an external\n  browser, internal browser is disabled.\n- An Error Log has been generated in the mean time:\nInternal browser is not available: No more handles [Unknown Mozilla path (MOZILLA_FIVE_HOME not set)]\n- Back in the preferences, if I click on the \n  \"Default system Web browser\" to show me it\u0027s settings I get a NPE(see bottom)\n- Links from the welcome page into the web work just fine, \n  i.e. they open firefox as browser and walk it to the link.\n\nNow, my system, Red Hat Enterprise Workstation 4, Update 3, is special,\nthere is no mozilla installed. Firefox is also installed in a custom way,\nby linking the executable, firefox, into /usr/bin. It points to /opt/firefox/firefox.\nNow, I tried to set MOZILLA_FIVE_HOME to /opt/firefox to help Eclipse a\nbit, that\u0027s when the following error happened:\nInternal browser is not available: No more handles [NS_InitEmbedding /opt/firefox/ error -2147221164]\n\nEclipse should:\n1.) handle the error situation in a better way(more descriptive error msgs),\n2.) use the /usr/bin/firefox link as external browser\n    without the need to have firefox installed in /etc/gre.d\n    or pointed to by MOZILLA_FIVE_HOME\n3.) use my firefox (1.5.0.7) or tell me why it can\u0027t\n\nPlease feel free to ask for more info if you need any..\n\nNPE:\njava.lang.NullPointerException\n\tat org.eclipse.ui.internal.browser.BrowserDescriptorDialog.createDialogArea(BrowserDescriptorDialog.java:104)\n\tat org.eclipse.jface.dialogs.Dialog.createContents(Dialog.java:802)\n\tat org.eclipse.jface.window.Window.create(Window.java:426)\n\tat org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1124)\n\tat org.eclipse.jface.window.Window.open(Window.java:785)\n\tat org.eclipse.ui.internal.browser.WebBrowserPreferencePage$3.doubleClick(WebBrowserPreferencePage.java:276)\n\tat org.eclipse.jface.viewers.StructuredViewer$1.run(StructuredViewer.java:796)",
    "Upon retrying to set \"MOZILLA_FIVE_HOME\" to a valid\nfirefox I also saw this error several times:\nInternal browser is not available: XPCOM error -2147221164\n\n",
    "Firefox can only be used if it\u0027s dynamically linked, which will not be the case unless it either came shipped with your linux or you built it from source.\n\nWhich of the following directories do you have in your /usr/lib?\n*mozilla*\n*firefox*\n*xulrunner*\n*seamonkey*\n\nFor more info on using the browser on linux see http://www.eclipse.org/swt/faq.php#browserlinux .\n",
    "There is two levels of problems here:\n1.) My firefox can\u0027t be used\n2.) The error handling of \"1.)\" is bad:\n    - the preference page for web-browsers produces a NullPointerException\n    - the swt intro is used without an indication why\n    - no error log intro whatsoever is displayed\n3.) The preference page can\u0027t display the usable external browser firefox\n    although it is successfully used for help and external links in the intro.\n\nas for the first problem, the firefox on my system might be dynamically \nlinked( a \"ldd /opt/firefox/firefox-bin\" shows a LOT of dlls\nit depends on) but there are not many files in /usr/lib:\n/usr/lib/mozilla-1.7.3\n/usr/lib/mozilla-1.7.3/libnssckbi.so\n/usr/lib/mozilla\n/usr/lib/mozilla/plugins\n/usr/lib/mozilla/plugins/nphelix.so\n/usr/lib/mozilla/plugins/nphelix.xpt\n/usr/lib/firefox-1.0\n/usr/lib/firefox-1.0/chrome\n/usr/lib/firefox-1.0/chrome/installed-chrome.txt\n/usr/lib/firefox-1.0/defaults.ini\n\nI know, the correct installation of firefox on linux is \nhardly a problem of the eclipse community but the real issue\nhere is that the unusable firefox is not reported as such,\nit\u0027s rather used partly and fails silently in other parts...",
    "re: the preference page NullPointerException\nI\u0027m not able to reproduce this, but if you have steps that NPE reliably then you should log a new bug report with Platform - UI.\n\nre: non-Browser intro page / empty error log\nTrue, the alternate intro page is used without explaination.  Maybe something should be logged?  (Though there are platforms like Solaris that don\u0027t have a Browser implementation, so its log would fill up with these in the normal use case).\n\nldd\u0027ing my statically-linked firefox install gives a long list of libraries too.  If your firefox install has a \u003cfirefoxRoot\u003e/components/libwidget_gtk2.so file then it\u0027s dynamically linked, otherwise it\u0027s not.\n\nMoving report to UI to consider giving more notice (eg.- logging a warning) the first time that it fails to instantiate a Browser.  I believe that core does this if it\u0027s running on a platform for which its file access natives are not found.\n",
    "(I should have checked this first) Actually a warning message like this is logged to the error log.  Taking this bug back to update the error that is thrown from the Browser and subsequently displayed in the error log.\n",
    "fixed \u003e 0929\n\nI\u0027ve updated the error that\u0027s thrown in your scenario on linux-gtk and linux-motif.  Its text now has a sentence indicating that MOZILLA_FIVE_HOME may not be pointing at an embeddable GRE.\n",
    "Thanks for the work so far. I reopened the bug because\nI still see the NPE happening, even in a fully mozilla-\nequipped environment. The problem is IMHO the possibility\nto double-click the node \"Default system Web Browser\", the\n\"Edit\" button at least is not enabled for that node, while it\nis for the one below: \"Mozilla\". This appears to be a more\ngeneral bug with that default node on linux. \n\nSome info on the system: I have mozilla installed, the css\nimplementation of the intro is used and external links are \nopened with \"Mozilla 1.4.3\".",
    "ok, I now see the NPE that you previously mentioned.  I\u0027ve logged new bug 159468 to track this.  Marking this report as fixed."
  ],
  "commentCreationDates": [
    "2006-09-26T17:58:57+02:00",
    "2006-09-26T18:23:52+02:00",
    "2006-09-26T22:43:59+02:00",
    "2006-09-27T09:56:36+02:00",
    "2006-09-29T20:03:34+02:00",
    "2006-09-29T20:18:40+02:00",
    "2006-09-29T20:57:11+02:00",
    "2006-10-02T12:08:07+02:00",
    "2006-10-02T18:52:54+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.internal.browser.BrowserDescriptorDialog.createDialogArea",
          "source": "BrowserDescriptorDialog.java:104"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog.createContents",
          "source": "Dialog.java:802"
        },
        {
          "method": "org.eclipse.jface.window.Window.create",
          "source": "Window.java:426"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog.create",
          "source": "Dialog.java:1124"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:785"
        },
        {
          "method": "org.eclipse.ui.internal.browser.WebBrowserPreferencePage$3.doubleClick",
          "source": "WebBrowserPreferencePage.java:276"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$1.run",
          "source": "StructuredViewer.java:796"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "158790",
      "date": "2006-09-26T17:58:57+02:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    }
  ],
  "groupId": "158790",
  "bugId": "158790",
  "date": "2006-09-26T17:58:57+02:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "normal"
}