{
  "comments": [
    "Have like this: \n\npublic class Foo { \n   public static class Inner { // or protected\n      public static void method () { // or protected \n          System.err.println(\"Will crash\"); \n      } \n   } \n} \n\nSelect \"method()\" in the outline view, Refactor -\u003e Move, and sometimes get this \ncallstack in the error log (oddly, it\u0027s usually ok if the inner class is \nprotected AND the method is protected): \n\norg.eclipse.jdt.internal.corext.Assert$AssertionFailedException: assertion \nfailed;\nat org.eclipse.jdt.internal.corext.Assert.isTrue(Assert.java:136)\nat org.eclipse.jdt.internal.corext.Assert.isTrue(Assert.java:121)\nat org.eclipse.jdt.internal.ui.refactoring.actions.MoveInstanceMethodAction.run\n(MoveInstanceMethodAction.java:101)\nat org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun\n(SelectionDispatchAction.java:191)\nat org.eclipse.jdt.ui.actions.SelectionDispatchAction.run\n(SelectionDispatchAction.java:169)\nat org.eclipse.jdt.ui.actions.MoveAction.run(MoveAction.java:115)\nat org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun\n(SelectionDispatchAction.java:191)\nat org.eclipse.jdt.ui.actions.SelectionDispatchAction.run\n(SelectionDispatchAction.java:169)\nat org.eclipse.jface.action.Action.runWithEvent(Action.java:842)\nat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:456)\nat org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent\n(ActionContributionItem.java:403)\nat org.eclipse.jface.action.ActionContributionItem.access$0\n(ActionContributionItem.java:397)\nat org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent\n(ActionContributionItem.java:72)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled \nCode))\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled \nCode))\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled \nCode))\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code))\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code))\nat org.eclipse.ui.internal.Workbench.run(Workbench.java:1385)\nat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:845)\nat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:61)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:40)\nat java.lang.reflect.Method.invoke(Method.java:335)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:291)\nat org.eclipse.core.launcher.Main.run(Main.java:747)\nat org.eclipse.core.launcher.Main.main(Main.java:583)",
    "Move to JDT/UI.",
    "Markus, please investigate.",
    "The assertion violation happens in MoveInstanceMethodAction, although the\ncorrect action should be MoveStaticMembersAction.\n\n2.1 missed some checks for applicability of the various move actions (this is\nbetter in the 3.0 stream). Will probably not be fixed in 2.1.\n\nHowever, the example still doesn\u0027t work properly in HEAD, but for other reasons\nand with other effects.",
    "Bug 41691 and bug 41734 address some of the problems of the described example\n(in HEAD, not for 2.1).\n\nNeed more work to fully support moving of methods out of nested static classes.\nThis class may serve as a test case for futher investigations:\n\npublic class Foo {\n\tstatic int VAL_FOO\u003d 12;\n\n\tpublic static class Inner {\n\t\tstatic int VAL_INNER\u003d 13;\n\t\tpublic static void inner_method() {\n\t\t\tint i\u003d VAL_FOO + VAL_INNER;\n\t\t}\n\n\t\tpublic static class Further {\n\t\t\tstatic int VAL_FURTHER\u003d 14;\n\t\t\tpublic static void further_method() {\n\t\t\t\tint f\u003d VAL_FOO + VAL_INNER + VAL_FURTHER;\n\t\t\t}\n\n\t\t}\n\t}\n}"
  ],
  "commentCreationDates": [
    "2003-08-13T20:51:45+02:00",
    "2003-08-13T21:14:28+02:00",
    "2003-08-14T10:40:24+02:00",
    "2003-08-15T18:22:43+02:00",
    "2003-08-21T11:20:20+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.jdt.internal.corext.Assert$AssertionFailedException",
      "message": "assertion  failed;",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.corext.Assert.isTrue",
          "source": "Assert.java:136"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.Assert.isTrue",
          "source": "Assert.java:121"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.actions.MoveInstanceMethodAction.run",
          "source": "MoveInstanceMethodAction.java:101"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun",
          "source": "SelectionDispatchAction.java:191"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.run",
          "source": "SelectionDispatchAction.java:169"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.MoveAction.run",
          "source": "MoveAction.java:115"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun",
          "source": "SelectionDispatchAction.java:191"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.run",
          "source": "SelectionDispatchAction.java:169"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:842"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:456"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java:403"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem.java:397"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java:72"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1385"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:61"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:40"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:335"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:291"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:747"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:583"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "41508",
      "date": "2003-08-13T20:51:45+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "41508",
  "bugId": "41508",
  "date": "2003-08-13T20:51:45+02:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}