{
  "comments": [
    "After making some changes to the source code in my Java project, I hit \nCTRL+SHIFT+S to save.\n\nGot an error \"Unable to restore CommandImpl.java\" (one of the sourcefiles).\n\nThe project folder was now empty except for the .project file.  All other files \n(significant amount of work) had been deleted.",
    "This message means that Eclipse was unable to reopen an editor on a file which \nwas supposed to exist.\n\nHow did your files disappear ? Did the package explorer still show them at this \npoint, but nothing was left on the disc ? Was autobuild on (i.e. \nWindow\u003ePreferences\u003eWorkbench\u003ePerform build automatically on resource \nmodification) ?\n\nCould you provide us with steps to reproduce ? ",
    "Autobuild was in fact on. (Most of my settings are still default at this point)\n\nThe files were showing in the package explorer immediately before I attempted \nto save; they were not there immediately after the error.\n\nThe only potentially significant detail I could add is that the project I was \nworking on had been coded with JBuilder originally.  I had copied the source \nonly over to the new Eclipse project folder and imported the source into the \nproject.  I had been working without problems on the source for a couple hours \nat the time of the error.\n\n",
    "What are your settings for the .classpath file? Did you use source folders?\nDifferent output folders?",
    "Do you have any information in your .log file ?\nOn the surface it feels something bad occurred, causing the project to default \nto an empty classpath, and since autobuild was on, it would consider it should \nempty it completely.\n\nWe\u0027d like to understand how this is possible. Need to investigate.\n",
    "The classpath was completely vanilla: only project classes and standard java \nclasses were used.\n\nThere were two folders under the project folder: src and classes for source and \ncompiled output respectively.\n\nI have performed a thorough search of my harddrive and have been unable to find \na .log file.  Could it have a different name on my systems?  Is it the default \nto have this feature enabled? ",
    "The .log file should reside inside your workspace, under:\n\u003cworkspace\u003e/.metadata/.log\n\nWhen you say \u0027only project classes\u0027, do you mean the project was acting as a \nsource folder ? Also did you recall where your output location was pointing at, \ndirectly to the project or a separate \u0027bin\u0027 folder ?",
    "All project source was in the src folder under the project folder.  All \ncompiled classes were in the classes folder under the project folder.  The \nclasses folder would have been on the classpath.\n\nI guess my thorough search for the .log wasn\u0027t thorough enough. ;-)  Here are \nthe relevant log entries from the time of the error:\n\n!SESSION Feb 23, 2003 11:36:59.500 ---------------------------------------------\njava.version\u003d1.4.1_01\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_US\nCommand-line arguments: -os win32 -ws win32 -arch x86 -install file:C:/Eclipse/\n!ENTRY org.eclipse.jdt.core 4 4 Feb 23, 2003 11:36:59.500\n!MESSAGE JavaBuilder handling ImageBuilderInternalException\n!STACK 1\norg.eclipse.core.internal.resources.ResourceException: Resource /A3/src does \nnot exist.\n\tat org.eclipse.core.internal.resources.Resource.checkExists\n(Resource.java:179)\n\tat org.eclipse.core.internal.resources.Resource.accept(Resource.java:57)\n\tat org.eclipse.core.internal.resources.Resource.accept(Resource.java:40)\n\tat \norg.eclipse.jdt.internal.core.builder.BatchImageBuilder.copyExtraResourcesBack\n(BatchImageBuilder.java:116)\n\tat \norg.eclipse.jdt.internal.core.builder.BatchImageBuilder.scrubOutputFolder\n(BatchImageBuilder.java:88)\n\tat org.eclipse.jdt.internal.core.builder.BatchImageBuilder.build\n(BatchImageBuilder.java:33)\n\tat org.eclipse.jdt.internal.core.builder.JavaBuilder.buildAll\n(JavaBuilder.java:170)\n\tat org.eclipse.jdt.internal.core.builder.JavaBuilder.build\n(JavaBuilder.java:103)\n\tat org.eclipse.core.internal.events.BuildManager$2.run\n(BuildManager.java:392)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:839)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:416)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild\n(BuildManager.java:120)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild\n(BuildManager.java:176)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild\n(BuildManager.java:186)\n\tat org.eclipse.core.internal.events.BuildManager$1.run\n(BuildManager.java:146)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:839)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:416)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild\n(BuildManager.java:160)\n\tat org.eclipse.core.internal.events.BuildManager.build\n(BuildManager.java:211)\n\tat org.eclipse.core.internal.resources.Workspace.endOperation\n(Workspace.java:745)\n\tat org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1383)\n\tat org.eclipse.ui.actions.WorkspaceModifyOperation.run\n(WorkspaceModifyOperation.java:78)\n\tat org.eclipse.ui.texteditor.AbstractTextEditor.performSaveOperation\n(AbstractTextEditor.java:2329)\n\tat \norg.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.performSaveOperatio\nn(CompilationUnitEditor.java:664)\n\tat org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.doSave\n(CompilationUnitEditor.java:712)\n\tat org.eclipse.ui.internal.EditorManager$11.run(EditorManager.java:1004)\n\tat org.eclipse.ui.internal.EditorManager$8.run(EditorManager.java:873)\n\tat org.eclipse.jface.operation.ModalContext.runInCurrentThread\n(ModalContext.java:299)\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:249)\n\tat org.eclipse.jface.window.ApplicationWindow$1.run\n(ApplicationWindow.java:394)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:66)\n\tat org.eclipse.jface.window.ApplicationWindow.run\n(ApplicationWindow.java:391)\n\tat org.eclipse.ui.internal.WorkbenchWindow.run\n(WorkbenchWindow.java:1126)\n\tat org.eclipse.ui.internal.EditorManager.runProgressMonitorOperation\n(EditorManager.java:879)\n\tat org.eclipse.ui.internal.EditorManager.saveEditor\n(EditorManager.java:1009)\n\tat org.eclipse.ui.internal.WorkbenchPage.saveEditor\n(WorkbenchPage.java:1990)\n\tat org.eclipse.ui.internal.SaveAction.run(SaveAction.java:32)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:749)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:407)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent\n(ActionContributionItem.java:361)\n\tat org.eclipse.jface.action.ActionContributionItem.access$0\n(ActionContributionItem.java:352)\n\tat \norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent\n(ActionContributionItem.java:47)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:77)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:827)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1529)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1291)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1343)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1326)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:831)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:462)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:247)\n\tat org.eclipse.core.launcher.Main.run(Main.java:703)\n\tat org.eclipse.core.launcher.Main.main(Main.java:539)\n!ENTRY org.eclipse.core.resources 4 368 Feb 23, 2003 11:36:59.770\n!MESSAGE Resource /A3/src does not exist.\n!ENTRY org.eclipse.ui 4 4 Feb 23, 2003 11:37:00.160\n!MESSAGE Unable to restore editor - createElement returned null for input \nelement factory: org.eclipse.ui.part.FileEditorInputFactory\n!ENTRY org.eclipse.ui 4 4 Feb 23, 2003 11:37:00.320\n!MESSAGE Unable to restore editor - createElement returned null for input \nelement factory: org.eclipse.ui.part.FileEditorInputFactory",
    "Just to make it clear, could you recreate an empty project and set it up as you \ndid initially (when you saw the problem). Then please paste in this PR, the \ncontents of the .classpath file (in the project folder, may need to be revealed \nby disabling .* filter in navigator/package explorer).",
    "\u003c?xml version\u003d\"1.0\" encoding\u003d\"UTF-8\"?\u003e\n\u003cclasspath\u003e\n    \u003cclasspathentry kind\u003d\"src\" path\u003d\"src\"/\u003e\n    \u003cclasspathentry kind\u003d\"var\" path\u003d\"JRE_LIB\" rootpath\u003d\"JRE_SRCROOT\" \nsourcepath\u003d\"JRE_SRC\"/\u003e\n    \u003cclasspathentry kind\u003d\"output\" path\u003d\"classes\"/\u003e\n\u003c/classpath\u003e",
    "I am investigating.",
    "Have you seen such a problem with a 2.1 build as well or just with a 2.0.2 build?\n\nThe problem is that your stacktrace is completely different now.",
    "I only use build 2.0.2.  I have only seen this problem once even with 2.0.2.\n\nThe stacktrace is completely different from what?",
    "I meant that this code completely changed since 2.0.2. In 2.1, exclusion filters\nhave been added and the code of the builder is quite different. I will\ninvestigate in 2.0.2 and try to see if I can reproduce in 2.1.",
    "Do you remember if you changed the output folder or edited the .classpath file\nyourself?\nI am trying to find some steps to reproduce in order to understand how you ended\nup losing source files.",
    "As mentioned previously, the source code was originally from a JBuilder \nproject; I copied over the source folder (with ONLY *.java files) to the new \nfolder (which was NOT under the workspace folder but under my C:\\ directory, if \nthat helps.)\n\nI do vaguely recall having some difficulty at first getting the project to \nrecognize the new source folder; it is possible that I fixed the problem by \nmanually changing the source folder definition in the .classpath, but I can\u0027t \nsay for sure.\n\nAt the time of the error, I had been working in the project for a couple hours, \nsaving frequently.   The error occured on the first occasion that I used Save \nAll that I know of (again, if that helps).\n\nI don\u0027t recall having made any changes to the project metadata just before the \nerror.\n\n",
    "I was able to reproduce in 2.0.2 with the following steps:\n1. Start new workspace (autobuild is on)\n2. Create Java project with 1 src folder and 1 bin folder\n3. Add class X in src folder\n4. Edit .classpath file so as to make the output entry point to the project:\n\u003c?xml version\u003d\"1.0\" encoding\u003d\"UTF-8\"?\u003e\n\u003cclasspath\u003e\n    \u003cclasspathentry kind\u003d\"src\" path\u003d\"src\"/\u003e\n    \u003cclasspathentry kind\u003d\"var\" path\u003d\"JRE_LIB\" rootpath\u003d\"JRE_SRCROOT\" \nsourcepath\u003d\"JRE_SRC\"/\u003e\n    \u003cclasspathentry kind\u003d\"output\" path\u003d\"\"/\u003e\n\u003c/classpath\u003e\n5. Exit/restart project\n6. Change class X to add a field and save\nObserve: All files in the project are removed\n",
    "Problem still exists in 2.1, even if after step 4 a build path error marker is \ncreated which should prevent the builder from running.",
    "Removed the builder scrubbing output in presence of a broken classpath. \nBackported to 2.0.x stream for upcoming rollup.",
    "Fixed",
    "Added regression tests OutputFolderTests.testInvalidOutput() to 2.0.x and 2.1 \nstreams.",
    "Verified."
  ],
  "commentCreationDates": [
    "2003-02-23T17:03:48+01:00",
    "2003-02-24T10:02:14+01:00",
    "2003-02-24T16:14:35+01:00",
    "2003-02-24T16:48:16+01:00",
    "2003-02-24T17:01:29+01:00",
    "2003-02-24T17:18:55+01:00",
    "2003-02-24T17:32:37+01:00",
    "2003-02-24T17:49:13+01:00",
    "2003-02-25T09:54:02+01:00",
    "2003-02-25T14:35:51+01:00",
    "2003-02-28T15:15:26+01:00",
    "2003-02-28T15:21:39+01:00",
    "2003-02-28T15:35:25+01:00",
    "2003-02-28T15:41:13+01:00",
    "2003-02-28T18:11:00+01:00",
    "2003-02-28T18:27:22+01:00",
    "2003-03-03T14:21:36+01:00",
    "2003-03-03T14:30:35+01:00",
    "2003-03-03T16:37:45+01:00",
    "2003-03-03T16:53:19+01:00",
    "2003-03-03T17:48:13+01:00",
    "2003-03-10T12:04:43+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.internal.resources.ResourceException",
      "message": "Resource /A3/src does  not exist.",
      "elements": [
        {
          "method": "org.eclipse.core.internal.resources.Resource.checkExists",
          "source": "Resource.java:179"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource.accept",
          "source": "Resource.java:57"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource.accept",
          "source": "Resource.java:40"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.BatchImageBuilder.copyExtraResourcesBack",
          "source": "BatchImageBuilder.java:116"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.BatchImageBuilder.scrubOutputFolder",
          "source": "BatchImageBuilder.java:88"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.BatchImageBuilder.build",
          "source": "BatchImageBuilder.java:33"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.JavaBuilder.buildAll",
          "source": "JavaBuilder.java:170"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.JavaBuilder.build",
          "source": "JavaBuilder.java:103"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$2.run",
          "source": "BuildManager.java:392"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:839"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:416"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:120"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:176"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:186"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$1.run",
          "source": "BuildManager.java:146"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:839"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:416"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:160"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.build",
          "source": "BuildManager.java:211"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.endOperation",
          "source": "Workspace.java:745"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1383"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation.run",
          "source": "WorkspaceModifyOperation.java:78"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor.performSaveOperation",
          "source": "AbstractTextEditor.java:2329"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.performSaveOperation",
          "source": "CompilationUnitEditor.java:664"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.doSave",
          "source": "CompilationUnitEditor.java:712"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager$11.run",
          "source": "EditorManager.java:1004"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager$8.run",
          "source": "EditorManager.java:873"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:299"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:249"
        },
        {
          "method": "org.eclipse.jface.window.ApplicationWindow$1.run",
          "source": "ApplicationWindow.java:394"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:66"
        },
        {
          "method": "org.eclipse.jface.window.ApplicationWindow.run",
          "source": "ApplicationWindow.java:391"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.run",
          "source": "WorkbenchWindow.java:1126"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.runProgressMonitorOperation",
          "source": "EditorManager.java:879"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.saveEditor",
          "source": "EditorManager.java:1009"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.saveEditor",
          "source": "WorkbenchPage.java:1990"
        },
        {
          "method": "org.eclipse.ui.internal.SaveAction.run",
          "source": "SaveAction.java:32"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:749"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:407"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java:361"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem.java:352"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java:47"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:77"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:827"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1529"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1291"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1343"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1326"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:831"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:462"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:247"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:703"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:539"
        }
      ],
      "number": 0,
      "commentIndex": 7,
      "bugId": "32588",
      "date": "2003-02-24T17:49:13+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "critical"
    }
  ],
  "groupId": "32588",
  "bugId": "32588",
  "date": "2003-02-23T17:03:48+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "critical"
}