{
  "comments": [
    "The variable replacement in templates does not work properly if code formatting\nis deactivated in the template preferences and a second (or later) occurence of\na variable is at the beginning of a line.\n\nFor example, try this:\n\n1. Define a template with the following pattern:\n\nStringBuffer ${buffer} \u003d new StringBuffer();\n${buffer}.append(1);\n${buffer}.append(2);\nString str \u003d ${buffer}.toString();\n\n2. Turn off \"Use code formatter\" in the template preferences.\n\n3. Activate the template at a cursor position with indentation level 2 (any\nnumber \u003e\u003d 1 will do)\n\n4. Enter a text for the buffer variable.\n\nObservation: buffer is replaced by your text in the forth line, but not in the\nsecond and the third.\n\n5. Press Tab\n\nObservation: The leading whitespaces and \"buff\" in the second line are selected.\n\n6. Enter some characters again.\n\nObservation: The entered text also replaces the leading whitespaces and \"buff\"\nin the third line.\n\nIt seems like that in the line 2 and 3 the variable name is internally changed\nby appending the leading two tabs and cutting off the last two characters.\n\n\nI observed this bug in 2.1.0 (Build 200303272130) and in 3.0M2 (Build 200307181617)",
    "Confirm bug in I20030916.\nNothing in .log\n\n",
    "linked mode is not set up correctly. In the new linked infrastructure, you get this:\n\n\norg.eclipse.jface.text.BadLocationException\nat java.lang.Throwable.\u003cinit\u003e(Throwable.java)\nat org.eclipse.jface.text.BadLocationException.\u003cinit\u003e(BadLocationException.java:25)\nat\norg.eclipse.jdt.internal.ui.text.link.LinkedPositionGroup.enforceEqualContent(LinkedPositionGroup.java:267)\nat\norg.eclipse.jdt.internal.ui.text.link.LinkedPositionGroup.addPosition(LinkedPositionGroup.java:249)\nat\norg.eclipse.jdt.internal.ui.text.link.LinkedPositionGroup.createPosition(LinkedPositionGroup.java:106)\nat\norg.eclipse.jdt.internal.ui.text.link.LinkedPositionGroup.createPosition(LinkedPositionGroup.java:88)\nat\norg.eclipse.jdt.internal.ui.text.template.TemplateProposal.apply(TemplateProposal.java:157)\nat\norg.eclipse.jface.text.contentassist.CompletionProposalPopup.insertProposal(CompletionProposalPopup.java:370)\nat\norg.eclipse.jface.text.contentassist.CompletionProposalPopup.selectProposalWithMask(CompletionProposalPopup.java:339)\nat\norg.eclipse.jface.text.contentassist.CompletionProposalPopup.verifyKey(CompletionProposalPopup.java:639)\nat\norg.eclipse.jface.text.contentassist.ContentAssistant$InternalListener.verifyKey(ContentAssistant.java)\nat\norg.eclipse.jface.text.TextViewer$VerifyKeyListenersManager.verifyKey(TextViewer.java)\nat org.eclipse.swt.custom.StyledTextListener.handleEvent(StyledTextListener.java)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java)\nat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java)\nat org.eclipse.swt.custom.StyledText.handleKeyDown(StyledText.java:5321)\nat org.eclipse.swt.custom.StyledText$7.handleEvent(StyledText.java)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java)\nat org.eclipse.swt.widgets.Control.sendKeyEvent(Control.java:2239)\nat org.eclipse.swt.widgets.Control.gtk_key_press_event(Control.java)\nat org.eclipse.swt.widgets.Composite.gtk_key_press_event(Composite.java)\nat org.eclipse.swt.widgets.Widget.windowProc(Widget.java)\nat org.eclipse.swt.widgets.Display.windowProc(Display.java)\nat org.eclipse.swt.internal.gtk.OS.gtk_main_do_event(Native Method)\nat org.eclipse.swt.widgets.Display.eventProc(Display.java)\nat org.eclipse.swt.internal.gtk.OS.gtk_main_iteration(Native Method)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1550)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1526)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:265)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)\nat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:47)\nat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:257)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:104)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:79)\nat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:41)\nat java.lang.reflect.Method.invoke(Method.java:386)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:279)\nat org.eclipse.core.launcher.Main.run(Main.java:742)\nat org.eclipse.core.launcher.Main.main(Main.java:581)\n",
    "see also bug 67965",
    "appears to be fixed \u003e 20060120 - please reopen if you disagree."
  ],
  "commentCreationDates": [
    "2003-09-16T10:56:12+02:00",
    "2003-09-17T11:00:14+02:00",
    "2004-02-17T09:49:52+01:00",
    "2004-07-20T09:12:28+02:00",
    "2006-01-20T17:16:04+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.jface.text.BadLocationException",
      "elements": [
        {
          "method": "java.lang.Throwable.\u003cinit\u003e",
          "source": "Throwable.java"
        },
        {
          "method": "org.eclipse.jface.text.BadLocationException.\u003cinit\u003e",
          "source": "BadLocationException.java:25"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.link.LinkedPositionGroup.enforceEqualContent",
          "source": "LinkedPositionGroup.java:267"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.link.LinkedPositionGroup.addPosition",
          "source": "LinkedPositionGroup.java:249"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.link.LinkedPositionGroup.createPosition",
          "source": "LinkedPositionGroup.java:106"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.link.LinkedPositionGroup.createPosition",
          "source": "LinkedPositionGroup.java:88"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.template.TemplateProposal.apply",
          "source": "TemplateProposal.java:157"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.insertProposal",
          "source": "CompletionProposalPopup.java:370"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.selectProposalWithMask",
          "source": "CompletionProposalPopup.java:339"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.verifyKey",
          "source": "CompletionProposalPopup.java:639"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.ContentAssistant$InternalListener.verifyKey",
          "source": "ContentAssistant.java"
        },
        {
          "method": "org.eclipse.jface.text.TextViewer$VerifyKeyListenersManager.verifyKey",
          "source": "TextViewer.java"
        },
        {
          "method": "org.eclipse.swt.custom.StyledTextListener.handleEvent",
          "source": "StyledTextListener.java"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.handleKeyDown",
          "source": "StyledText.java:5321"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText$7.handleEvent",
          "source": "StyledText.java"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.sendKeyEvent",
          "source": "Control.java:2239"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.gtk_key_press_event",
          "source": "Control.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.gtk_key_press_event",
          "source": "Composite.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.windowProc",
          "source": "Widget.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java"
        },
        {
          "method": "org.eclipse.swt.internal.gtk.OS.gtk_main_do_event",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.eventProc",
          "source": "Display.java"
        },
        {
          "method": "org.eclipse.swt.internal.gtk.OS.gtk_main_iteration",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1550"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1526"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:265"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:139"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:47"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:257"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:104"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:79"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:41"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:386"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:279"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:742"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:581"
        }
      ],
      "number": 0,
      "commentIndex": 2,
      "bugId": "43135",
      "date": "2004-02-17T09:49:52+01:00",
      "product": "JDT",
      "component": "Text",
      "severity": "normal"
    }
  ],
  "groupId": "43135",
  "bugId": "43135",
  "date": "2003-09-16T10:56:12+02:00",
  "product": "JDT",
  "component": "Text",
  "severity": "normal"
}