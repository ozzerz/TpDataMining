{
  "comments": [
    "Compiling @AspectJ aspects with javac without specifying -g, weaver dumps the whole stack, instead of a simple error message directing compilation with the debug flag. Seeing such a stack during demos can be bit unnerving!\n\nHere is the stack produced:\nMessage: error at logging\\LoggingAspect2.java::0 Cannot read debug info for @Asp\nect to handle formal binding in pointcuts (please compile with \u0027javac -g\u0027 or \u0027\u003cj\navac debug\u003d\u0027true\u0027.../\u003e\u0027 in Ant)\norg.aspectj.bridge.AbortException: Cannot read debug info for @Aspect to handle\nformal binding in pointcuts (please compile with \u0027javac -g\u0027 or \u0027\u003cjavac debug\u003d\u0027tr\nue\u0027.../\u003e\u0027 in Ant)\n        at org.aspectj.weaver.tools.WeavingAdaptor$WeavingAdaptorMessageHandler.\nhandleMessage(WeavingAdaptor.java:413)\n        at org.aspectj.weaver.bcel.AtAjAttributes.reportError(AtAjAttributes.jav\na:1665)\n        at org.aspectj.weaver.bcel.AtAjAttributes.extractBindings(AtAjAttributes\n.java:1364)\n        at org.aspectj.weaver.bcel.AtAjAttributes.handleBeforeAnnotation(AtAjAtt\nributes.java:795)\n        at org.aspectj.weaver.bcel.AtAjAttributes.readAj5MethodAttributes(AtAjAt\ntributes.java:377)\n        at org.aspectj.weaver.bcel.BcelMethod.unpackAjAttributes(BcelMethod.java\n:121)\n        at org.aspectj.weaver.bcel.BcelMethod.\u003cinit\u003e(BcelMethod.java:73)\n        at org.aspectj.weaver.bcel.BcelObjectType.getDeclaredMethods(BcelObjectT\nype.java:211)\n        at org.aspectj.weaver.ReferenceType.getDeclaredMethods(ReferenceType.jav\na:502)\n        at org.aspectj.weaver.ResolvedType.getDeclaredAdvice(ResolvedType.java:6\n99)\n        at org.aspectj.weaver.ResolvedType.getDeclaredShadowMungers(ResolvedType\n.java:736)\n        at org.aspectj.weaver.ResolvedType.collectShadowMungers(ResolvedType.jav\na:572)\n        at org.aspectj.weaver.ResolvedType.collectCrosscuttingMembers(ResolvedTy\npe.java:501)\n        at org.aspectj.weaver.CrosscuttingMembersSet.addOrReplaceAspect(Crosscut\ntingMembersSet.java:61)\n        at org.aspectj.weaver.bcel.BcelWeaver.addLibraryAspect(BcelWeaver.java:1\n81)\n        at org.aspectj.weaver.loadtime.ClassLoaderWeavingAdaptor.registerAspects\n(ClassLoaderWeavingAdaptor.java:326)\n        at org.aspectj.weaver.loadtime.ClassLoaderWeavingAdaptor.registerDefinit\nions(ClassLoaderWeavingAdaptor.java:181)\n        at org.aspectj.weaver.loadtime.ClassLoaderWeavingAdaptor.initialize(Clas\nsLoaderWeavingAdaptor.java:123)\n        at org.aspectj.weaver.loadtime.Aj$ExplicitlyInitializedClassLoaderWeavin\ngAdaptor.initialize(Aj.java:130)\n        at org.aspectj.weaver.loadtime.Aj$ExplicitlyInitializedClassLoaderWeavin\ngAdaptor.getWeavingAdaptor(Aj.java:135)\n        at org.aspectj.weaver.loadtime.Aj$WeaverContainer.getWeaver(Aj.java:101)\n\n        at org.aspectj.weaver.loadtime.Aj.preProcess(Aj.java:61)\n        at org.aspectj.weaver.loadtime.ClassPreProcessorAgentAdapter.transform(C\nlassPreProcessorAgentAdapter.java:55)\n        at sun.instrument.TransformerManager.transform(TransformerManager.java:1\n22)\n        at sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java\n:155)\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:620)\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:12\n4)\n        at java.net.URLClassLoader.defineClass(URLClassLoader.java:260)\n        at java.net.URLClassLoader.access$100(URLClassLoader.java:56)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:195)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:188)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:268)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:251)\n        at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319)",
    "The weaver message handler needs to avoid stack traces for message levels error, warning, info, and print stack traces for higher-level aborts, etc.",
    "fix committed.  seems to be when an error cascades we get this problem.  In this case the nice \u0027you need to supply debug info\u0027 is followed by throwing an abortexception - but then that is caught and the abort stack trace is reported.  I\u0027ve stopped it reporting the stack trace for abort exceptions - the stack traces will still come out for real crashes.\n\nwill be in next dev build.",
    "fix available."
  ],
  "commentCreationDates": [
    "2006-02-24T21:37:49+01:00",
    "2006-05-10T18:10:39+02:00",
    "2006-05-18T15:01:27+02:00",
    "2006-05-23T16:06:29+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.aspectj.bridge.AbortException",
      "message": "Cannot read debug info for @Aspect to handle formal binding in pointcuts (please compile with \u0027javac -g\u0027 or \u0027\u003cjavac debug\u003d\u0027tr ue\u0027.../\u003e\u0027 in Ant)",
      "elements": [
        {
          "method": "org.aspectj.weaver.tools.WeavingAdaptor$WeavingAdaptorMessageHandler.handleMessage",
          "source": "WeavingAdaptor.java:413"
        },
        {
          "method": "org.aspectj.weaver.bcel.AtAjAttributes.reportError",
          "source": "AtAjAttributes.jav a:1665"
        },
        {
          "method": "org.aspectj.weaver.bcel.AtAjAttributes.extractBindings",
          "source": "AtAjAttributes .java:1364"
        },
        {
          "method": "org.aspectj.weaver.bcel.AtAjAttributes.handleBeforeAnnotation",
          "source": "AtAjAtt ributes.java:795"
        },
        {
          "method": "org.aspectj.weaver.bcel.AtAjAttributes.readAj5MethodAttributes",
          "source": "AtAjAt tributes.java:377"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelMethod.unpackAjAttributes",
          "source": "BcelMethod.java :121"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelMethod.\u003cinit\u003e",
          "source": "BcelMethod.java:73"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelObjectType.getDeclaredMethods",
          "source": "BcelObjectT ype.java:211"
        },
        {
          "method": "org.aspectj.weaver.ReferenceType.getDeclaredMethods",
          "source": "ReferenceType.jav a:502"
        },
        {
          "method": "org.aspectj.weaver.ResolvedType.getDeclaredAdvice",
          "source": "ResolvedType.java:6 99"
        },
        {
          "method": "org.aspectj.weaver.ResolvedType.getDeclaredShadowMungers",
          "source": "ResolvedType .java:736"
        },
        {
          "method": "org.aspectj.weaver.ResolvedType.collectShadowMungers",
          "source": "ResolvedType.jav a:572"
        },
        {
          "method": "org.aspectj.weaver.ResolvedType.collectCrosscuttingMembers",
          "source": "ResolvedTy pe.java:501"
        },
        {
          "method": "org.aspectj.weaver.CrosscuttingMembersSet.addOrReplaceAspect",
          "source": "Crosscut tingMembersSet.java:61"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.addLibraryAspect",
          "source": "BcelWeaver.java:1 81"
        },
        {
          "method": "org.aspectj.weaver.loadtime.ClassLoaderWeavingAdaptor.registerAspects",
          "source": "ClassLoaderWeavingAdaptor.java:326"
        },
        {
          "method": "org.aspectj.weaver.loadtime.ClassLoaderWeavingAdaptor.registerDefinitions",
          "source": "ClassLoaderWeavingAdaptor.java:181"
        },
        {
          "method": "org.aspectj.weaver.loadtime.ClassLoaderWeavingAdaptor.initialize",
          "source": "Clas sLoaderWeavingAdaptor.java:123"
        },
        {
          "method": "org.aspectj.weaver.loadtime.Aj$ExplicitlyInitializedClassLoaderWeavingAdaptor.initialize",
          "source": "Aj.java:130"
        },
        {
          "method": "org.aspectj.weaver.loadtime.Aj$ExplicitlyInitializedClassLoaderWeavingAdaptor.getWeavingAdaptor",
          "source": "Aj.java:135"
        },
        {
          "method": "org.aspectj.weaver.loadtime.Aj$WeaverContainer.getWeaver",
          "source": "Aj.java:101"
        },
        {
          "method": "org.aspectj.weaver.loadtime.Aj.preProcess",
          "source": "Aj.java:61"
        },
        {
          "method": "org.aspectj.weaver.loadtime.ClassPreProcessorAgentAdapter.transform",
          "source": "C lassPreProcessorAgentAdapter.java:55"
        },
        {
          "method": "sun.instrument.TransformerManager.transform",
          "source": "TransformerManager.java:1 22"
        },
        {
          "method": "sun.instrument.InstrumentationImpl.transform",
          "source": "InstrumentationImpl.java :155"
        },
        {
          "method": "java.lang.ClassLoader.defineClass1",
          "source": "Native Method"
        },
        {
          "method": "java.lang.ClassLoader.defineClass",
          "source": "ClassLoader.java:620"
        },
        {
          "method": "java.security.SecureClassLoader.defineClass",
          "source": "SecureClassLoader.java:12 4"
        },
        {
          "method": "java.net.URLClassLoader.defineClass",
          "source": "URLClassLoader.java:260"
        },
        {
          "method": "java.net.URLClassLoader.access$100",
          "source": "URLClassLoader.java:56"
        },
        {
          "method": "java.net.URLClassLoader$1.run",
          "source": "URLClassLoader.java:195"
        },
        {
          "method": "java.security.AccessController.doPrivileged",
          "source": "Native Method"
        },
        {
          "method": "java.net.URLClassLoader.findClass",
          "source": "URLClassLoader.java:188"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:306"
        },
        {
          "method": "sun.misc.Launcher$AppClassLoader.loadClass",
          "source": "Launcher.java:268"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:251"
        },
        {
          "method": "java.lang.ClassLoader.loadClassInternal",
          "source": "ClassLoader.java:319"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "129408",
      "date": "2006-02-24T21:37:49+01:00",
      "product": "AspectJ",
      "component": "LTWeaving",
      "severity": "normal"
    }
  ],
  "groupId": "129408",
  "bugId": "129408",
  "date": "2006-02-24T21:37:49+01:00",
  "product": "AspectJ",
  "component": "LTWeaving",
  "severity": "normal"
}