{
  "comments": [
    "If an extension for \"org.eclipse.ui.decorators\" includes an \"enablement\"\ndeclaration of the form:\n\n\u003cenablement\u003e\n  \u003cand\u003e\n    \u003cobjectClass name\u003d\"org.eclipse.core.resources.IFile\"/\u003e\n     \u003cor\u003e \n      \u003cobjectState name\u003d\"contentTypeId\" value\u003d\"someid\"/\u003e\n      \u003cobjectState name\u003d\"contentTypeId\" value\u003d\"someotherid\"/\u003e\n     \u003c/or\u003e\n  \u003c/and\u003e\n\u003c/enablement\u003e\n\nCoreExceptions will be generated in the log when you delete resources (e.g.\nfully delete a project):\n\n....\n!ENTRY org.eclipse.ui.ide 4 4 2005-06-20 11:53:37.781\n!MESSAGE Core exception while retrieving the content description\n!STACK 1\norg.eclipse.core.internal.resources.ResourceException: Resource /Foo/.classpath\ndoes not exist.\n\tat org.eclipse.core.internal.resources.Resource.checkExists(Resource.java:304)\n\tat org.eclipse.core.internal.resources.Resource.checkAccessible(Resource.java:172)\n\tat org.eclipse.core.internal.resources.File.getContentDescription(File.java:274)\n\tat\norg.eclipse.ui.internal.ide.model.WorkbenchResource.testContentTypeProperty(WorkbenchResource.java:153)\n\tat\norg.eclipse.ui.internal.ide.model.WorkbenchResource.testAttribute(WorkbenchResource.java:120)\n\tat\norg.eclipse.ui.internal.ActionExpression$ObjectStateExpression.preciselyMatches(ActionExpression.java:467)\n\tat\norg.eclipse.ui.internal.ActionExpression$ObjectStateExpression.isEnabledFor(ActionExpression.java:435)\n\tat\norg.eclipse.ui.internal.ActionExpression$OrExpression.isEnabledFor(ActionExpression.java:366)\n\tat\norg.eclipse.ui.internal.ActionExpression$AndExpression.isEnabledFor(ActionExpression.java:395)\n\tat\norg.eclipse.ui.internal.ActionExpression$SingleExpression.isEnabledFor(ActionExpression.java:308)\n\tat org.eclipse.ui.internal.ActionExpression.isEnabledFor(ActionExpression.java:121)\n\tat\norg.eclipse.ui.internal.decorators.DecoratorManager.getDecoratorsFor(DecoratorManager.java:190)\n\tat\norg.eclipse.ui.internal.decorators.LightweightDecoratorManager.getDecoratorsFor(LightweightDecoratorManager.java:243)\n\tat\norg.eclipse.ui.internal.decorators.LightweightDecoratorManager.getDecorations(LightweightDecoratorManager.java:267)\n\tat\norg.eclipse.ui.internal.decorators.DecorationScheduler$1.run(DecorationScheduler.java:318)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)\n!SUBENTRY 1 org.eclipse.core.resources 4 368 2005-06-20 11:53:37.781\n!MESSAGE Resource /Foo/.classpath does not exist.\n....\n\nExpected behavior: the decorator manager would gracefully handle non-existant\nresources when evaluating the object state expressions (or ensure that resources\ncan\u0027t change during while it\u0027s updating label decorations - probably not\ndesirable from a perf perspective)\n\nCurrent workaround: move the content-type test into the\nILightweightLabelDecorator implementation so that non-existant resources can be\nhandled gracefully.",
    "In 3.2 M1 we removed the resource dependency for decorators - we should see if\nthat also sorted this problem out.",
    "Created an attachment (id\u003d26376)\nTest plug-in\n\nHere is a plug-in with some content type decorator enablements. Using 20050818\nthis did not generate an error - however I couldn\u0027t get this to generate an\nerror in 3.1.1 either.\n\nI am going to close this as fixed but if someone has a better test case\n(especially one that recreates the error in 3.2 M1 or later) I would very much\nappreciate it.",
    "Marking as FIXED",
    "Verified in 20050920"
  ],
  "commentCreationDates": [
    "2005-06-20T18:10:51+02:00",
    "2005-08-08T13:52:20+02:00",
    "2005-08-23T14:31:16+02:00",
    "2005-08-23T14:31:35+02:00",
    "2005-09-20T20:02:00+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.internal.resources.ResourceException",
      "message": "Resource /Foo/.classpath does not exist.",
      "elements": [
        {
          "method": "org.eclipse.core.internal.resources.Resource.checkExists",
          "source": "Resource.java:304"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource.checkAccessible",
          "source": "Resource.java:172"
        },
        {
          "method": "org.eclipse.core.internal.resources.File.getContentDescription",
          "source": "File.java:274"
        },
        {
          "method": "org.eclipse.ui.internal.ide.model.WorkbenchResource.testContentTypeProperty",
          "source": "WorkbenchResource.java:153"
        },
        {
          "method": "org.eclipse.ui.internal.ide.model.WorkbenchResource.testAttribute",
          "source": "WorkbenchResource.java:120"
        },
        {
          "method": "org.eclipse.ui.internal.ActionExpression$ObjectStateExpression.preciselyMatches",
          "source": "ActionExpression.java:467"
        },
        {
          "method": "org.eclipse.ui.internal.ActionExpression$ObjectStateExpression.isEnabledFor",
          "source": "ActionExpression.java:435"
        },
        {
          "method": "org.eclipse.ui.internal.ActionExpression$OrExpression.isEnabledFor",
          "source": "ActionExpression.java:366"
        },
        {
          "method": "org.eclipse.ui.internal.ActionExpression$AndExpression.isEnabledFor",
          "source": "ActionExpression.java:395"
        },
        {
          "method": "org.eclipse.ui.internal.ActionExpression$SingleExpression.isEnabledFor",
          "source": "ActionExpression.java:308"
        },
        {
          "method": "org.eclipse.ui.internal.ActionExpression.isEnabledFor",
          "source": "ActionExpression.java:121"
        },
        {
          "method": "org.eclipse.ui.internal.decorators.DecoratorManager.getDecoratorsFor",
          "source": "DecoratorManager.java:190"
        },
        {
          "method": "org.eclipse.ui.internal.decorators.LightweightDecoratorManager.getDecoratorsFor",
          "source": "LightweightDecoratorManager.java:243"
        },
        {
          "method": "org.eclipse.ui.internal.decorators.LightweightDecoratorManager.getDecorations",
          "source": "LightweightDecoratorManager.java:267"
        },
        {
          "method": "org.eclipse.ui.internal.decorators.DecorationScheduler$1.run",
          "source": "DecorationScheduler.java:318"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:67"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "100875",
      "date": "2005-06-20T18:10:51+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "100875",
  "bugId": "100875",
  "date": "2005-06-20T18:10:51+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}