{
  "comments": [
    "Build ID: I20070621-1340\n\nSteps To Reproduce:\n1. Define generic JDBC driver\n2. Try to set the driver class name\n\nEclipse automatically scans the jar file and fails without a clear message of the failure\n\n\nMore information:\njava.lang.reflect.InvocationTargetException\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:350)\n\tat org.eclipse.jface.dialogs.ProgressMonitorDialog.run(ProgressMonitorDialog.java:495)\n\tat org.eclipse.datatools.connectivity.ui.DriverClassBrowsePropertyDescriptor$DriverClassDialogCellEditor.openDialogBox(DriverClassBrowsePropertyDescriptor.java:131)\n\tat org.eclipse.jface.viewers.DialogCellEditor$2.widgetSelected(DialogCellEditor.java:243)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3682)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3293)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\n\tat org.eclipse.jface.window.Window.open(Window.java:796)\n\tat org.eclipse.datatools.connectivity.internal.ui.dialogs.DriverDefinitionsDialog.editDriver(DriverDefinitionsDialog.java:565)\n\tat org.eclipse.datatools.connectivity.internal.ui.dialogs.DriverDefinitionsDialog.access$800(DriverDefinitionsDialog.java:66)\n\tat org.eclipse.datatools.connectivity.internal.ui.dialogs.DriverDefinitionsDialog$3.widgetSelected(DriverDefinitionsDialog.java:253)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3682)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3293)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\n\tat org.eclipse.jface.window.Window.open(Window.java:796)\n\tat org.eclipse.datatools.connectivity.internal.ui.DriverListCombo$EditButtonSelectionChangedListener.widgetSelected(DriverListCombo.java:666)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3682)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3293)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\n\tat org.eclipse.jface.window.Window.open(Window.java:796)\n\tat org.eclipse.datatools.connectivity.ui.actions.AddProfileViewAction.run(AddProfileViewAction.java:102)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:498)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:545)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:402)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3682)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3293)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353)\n\tat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219)\n\tat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:504)\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:443)\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1169)\nCaused by: java.lang.IllegalAccessError: class sun.security.provider.SHA3 cannot access its superclass sun.security.provider.SHA5\n\tat java.lang.ClassLoader.defineClass1(Native Method)\n\tat java.lang.ClassLoader.defineClass(Unknown Source)\n\tat java.security.SecureClassLoader.defineClass(Unknown Source)\n\tat java.net.URLClassLoader.defineClass(Unknown Source)\n\tat java.net.URLClassLoader.access$000(Unknown Source)\n\tat java.net.URLClassLoader$1.run(Unknown Source)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.net.URLClassLoader.findClass(Unknown Source)\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\n\tat java.net.FactoryURLClassLoader.loadClass(Unknown Source)\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\n\tat org.eclipse.datatools.connectivity.internal.DriverUtil.getDriverClassesFromJar2(DriverUtil.java:121)\n\tat org.eclipse.datatools.connectivity.internal.DriverUtil.getDriverClassesFromJar(DriverUtil.java:84)\n\tat org.eclipse.datatools.connectivity.ui.DriverClassBrowsePropertyDescriptor$1.run(DriverClassBrowsePropertyDescriptor.java:135)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)",
    "Ok... A few questions on this one...\n\n1) You say \"Define Generic JDBC Driver\" -- what exactly did you define? \n\n2) Was there a jar defined when you clicked the button to set the class name?\n\n",
    "We\u0027ll look at this for Ganymede and possibly trap for the odd exception and allow users to type the class name in a simple text box. ",
    "I was not able to repro this with the Derby driver (derby.jar), however it does repro with the IBM DB2 driver which appears to be obfuscated.  ",
    "Changed component from SQLDevTools to Driver Mgt Framework",
    "I\u0027ve seen this problem with the MySQL 5.1 driver (\"mysql-connector-java-5.1.0-bin.jar\"). I changed the code in org.eclipse.datatools.connectivity.internal.DriverUtil to ignore the UnsupportedClassVersionError, and the expected driver classes where returned. Not sure why some classes in the jar throw this exception, but skipping it (or perhaps just logging a warning that we couldn\u0027t read the particular class) seems better, since it lets the dialog complete without error.",
    "Delivered John\u0027s suggested fix to 1.6. Should we also deliver to 1.5.2?",
    "Created an attachment (id\u003d82818)\nPatch that takes care of (logs instead of throws) the exception\n\nHere\u0027s John\u0027s suggestion in a patch. Delivered this to 1.6.",
    "Let\u0027s also deliver to 1.5.2, but clone this bug and set the TM to 1.5.2 so we can track which fixes have been delivered to each stream.",
    "Confirmed fixed in 1.6 stream."
  ],
  "commentCreationDates": [
    "2007-07-26T18:40:04+02:00",
    "2007-08-29T16:31:55+02:00",
    "2007-09-05T20:29:33+02:00",
    "2007-09-05T20:47:03+02:00",
    "2007-09-10T03:52:19+02:00",
    "2007-11-13T17:12:52+01:00",
    "2007-11-13T23:20:49+01:00",
    "2007-11-13T23:21:53+01:00",
    "2007-11-14T17:01:26+01:00",
    "2007-11-14T17:05:50+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.reflect.InvocationTargetException",
      "elements": [
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:350"
        },
        {
          "method": "org.eclipse.jface.dialogs.ProgressMonitorDialog.run",
          "source": "ProgressMonitorDialog.java:495"
        },
        {
          "method": "org.eclipse.datatools.connectivity.ui.DriverClassBrowsePropertyDescriptor$DriverClassDialogCellEditor.openDialogBox",
          "source": "DriverClassBrowsePropertyDescriptor.java:131"
        },
        {
          "method": "org.eclipse.jface.viewers.DialogCellEditor$2.widgetSelected",
          "source": "DialogCellEditor.java:243"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:227"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3682"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3293"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:820"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:796"
        },
        {
          "method": "org.eclipse.datatools.connectivity.internal.ui.dialogs.DriverDefinitionsDialog.editDriver",
          "source": "DriverDefinitionsDialog.java:565"
        },
        {
          "method": "org.eclipse.datatools.connectivity.internal.ui.dialogs.DriverDefinitionsDialog.access$800",
          "source": "DriverDefinitionsDialog.java:66"
        },
        {
          "method": "org.eclipse.datatools.connectivity.internal.ui.dialogs.DriverDefinitionsDialog$3.widgetSelected",
          "source": "DriverDefinitionsDialog.java:253"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:227"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3682"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3293"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:820"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:796"
        },
        {
          "method": "org.eclipse.datatools.connectivity.internal.ui.DriverListCombo$EditButtonSelectionChangedListener.widgetSelected",
          "source": "DriverListCombo.java:666"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:227"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3682"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3293"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:820"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:796"
        },
        {
          "method": "org.eclipse.datatools.connectivity.ui.actions.AddProfileViewAction.run",
          "source": "AddProfileViewAction.java:102"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:498"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:545"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:490"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:402"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3682"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3293"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2389"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2353"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2219"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:466"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:461"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:153"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:363"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:176"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:504"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:443"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1169"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.IllegalAccessError",
        "message": "class sun.security.provider.SHA3 cannot access its superclass sun.security.provider.SHA5",
        "elements": [
          {
            "method": "java.lang.ClassLoader.defineClass1",
            "source": "Native Method"
          },
          {
            "method": "java.lang.ClassLoader.defineClass",
            "source": "Unknown Source"
          },
          {
            "method": "java.security.SecureClassLoader.defineClass",
            "source": "Unknown Source"
          },
          {
            "method": "java.net.URLClassLoader.defineClass",
            "source": "Unknown Source"
          },
          {
            "method": "java.net.URLClassLoader.access$000",
            "source": "Unknown Source"
          },
          {
            "method": "java.net.URLClassLoader$1.run",
            "source": "Unknown Source"
          },
          {
            "method": "java.security.AccessController.doPrivileged",
            "source": "Native Method"
          },
          {
            "method": "java.net.URLClassLoader.findClass",
            "source": "Unknown Source"
          },
          {
            "method": "java.lang.ClassLoader.loadClass",
            "source": "Unknown Source"
          },
          {
            "method": "java.net.FactoryURLClassLoader.loadClass",
            "source": "Unknown Source"
          },
          {
            "method": "java.lang.ClassLoader.loadClass",
            "source": "Unknown Source"
          },
          {
            "method": "org.eclipse.datatools.connectivity.internal.DriverUtil.getDriverClassesFromJar2",
            "source": "DriverUtil.java:121"
          },
          {
            "method": "org.eclipse.datatools.connectivity.internal.DriverUtil.getDriverClassesFromJar",
            "source": "DriverUtil.java:84"
          },
          {
            "method": "org.eclipse.datatools.connectivity.ui.DriverClassBrowsePropertyDescriptor$1.run",
            "source": "DriverClassBrowsePropertyDescriptor.java:135"
          },
          {
            "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
            "source": "ModalContext.java:113"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "197994",
      "date": "2007-07-26T18:40:04+02:00",
      "product": "Data Tools",
      "component": "Driver Mgt Framework",
      "severity": "normal"
    }
  ],
  "groupId": "197994",
  "bugId": "197994",
  "date": "2007-07-26T18:40:04+02:00",
  "product": "Data Tools",
  "component": "Driver Mgt Framework",
  "severity": "normal"
}