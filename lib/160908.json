{
  "comments": [
    "We started seeing this problem in our recently ramped-up testing efforts on top of 1.5.1. Since this particular EMF model should only be getting accessed by the virtual component api, I don\u0027t believe this bug is caused by BEA product code.\n\nSetting the severity to critical since once this happens the component model is toast for the workbench session. Further calls to this api lead to more of these exceptions. The only workaround is to restart the workbench.\n\nThis should be investigated for 1.5.2.\n\n     [exec] *** ERROR ***: Thu Oct 12 19:07:32 PDT 2006    org.eclipse.wst.common.internal.emfworkbench.edit.ClientAccessRegistryException: IWAE0011E Key already used to access Resource : org.eclipse.wst.common.internal.emfworkbench.EditModelLeastUsedCache@1b36a91\n\n     [exec]     This exception was generated to indicate an invalid usage of reference counts.\n\n     [exec]      Typically, this occurs on attempts to open an already open artifact edit.\n\n     [exec]      Make sure the dispose method is called when done accessing.\n\n     [exec]      Please examine the stack trace.\n\n     [exec]      Client Access Exception of type INVALID_ACCESS_KEY \n\n     [exec]     org.eclipse.wst.common.internal.emfworkbench.edit.ClientAccessRegistryException: IWAE0011E Key already used to access Resource : org.eclipse.wst.common.internal.emfworkbench.EditModelLeastUsedCache@1b36a91\n\n     [exec]     This exception was generated to indicate an invalid usage of reference counts.\n\n     [exec]      Typically, this occurs on attempts to open an already open artifact edit.\n\n     [exec]      Make sure the dispose method is called when done accessing.\n\n     [exec]      Please examine the stack trace.\n\n     [exec]      Client Access Exception of type INVALID_ACCESS_KEY \n\n     [exec]          at org.eclipse.wst.common.internal.emfworkbench.edit.ReadOnlyClientAccessRegistry.access(ReadOnlyClientAccessRegistry.java:32)\n\n     [exec]          at org.eclipse.wst.common.internal.emfworkbench.integration.EditModel.access(EditModel.java:941)\n\n     [exec]          at org.eclipse.wst.common.internal.emfworkbench.EditModelLeastUsedCache.access(EditModelLeastUsedCache.java:50)\n\n     [exec]          at org.eclipse.wst.common.internal.emfworkbench.EMFWorkbenchContext.getEditModelForRead(EMFWorkbenchContext.java:143)\n\n     [exec]          at org.eclipse.wst.common.internal.emfworkbench.integration.EditModelNature.getEditModelForRead(EditModelNature.java:49)\n\n     [exec]          at org.eclipse.wst.common.internal.emfworkbench.integration.EditModelNature.getEditModelForRead(EditModelNature.java:39)\n\n     [exec]          at org.eclipse.wst.common.componentcore.ModuleCoreNature.getModuleStructuralModelForRead(ModuleCoreNature.java:241)\n\n     [exec]          at org.eclipse.wst.common.componentcore.internal.StructureEdit.\u003cinit\u003e(StructureEdit.java:318)\n\n     [exec]          at org.eclipse.wst.common.componentcore.internal.StructureEdit.getStructureEditForRead(StructureEdit.java:117)\n\n     [exec]          at org.eclipse.wst.common.componentcore.internal.resources.VirtualResource.getReadOnlyComponent(VirtualResource.java:316)\n\n     [exec]          at org.eclipse.wst.common.componentcore.internal.resources.VirtualResource.getProjectRelativePaths(VirtualResource.java:116)\n\n     [exec]          at org.eclipse.wst.common.componentcore.internal.resources.VirtualFile.getUnderlyingFiles(VirtualFile.java:105)\n\n     [exec]          at org.eclipse.wst.common.componentcore.internal.resources.VirtualFile.getUnderlyingResources(VirtualFile.java:94)\n\n     [exec]          at org.eclipse.wst.common.componentcore.internal.resources.VirtualResource.exists(VirtualResource.java:86)\n\n     [exec]          at org.eclipse.jst.j2ee.internal.archive.operations.ComponentLoadStrategyImpl.contains(ComponentLoadStrategyImpl.java:192)\n\n     [exec]          at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ContainerImpl.containsFile(ContainerImpl.java:184)\n\n     [exec]          at org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.War22ImportStrategyImpl$Discriminator.canImport(War22ImportStrategyImpl.java:31)\n\n     [exec]          at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.CommonarchiveFactoryImpl.openSpecificArchive(CommonarchiveFactoryImpl.java:803)\n\n     [exec]          at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.CommonarchiveFactoryImpl.openWARFile(CommonarchiveFactoryImpl.java:841)\n\n     [exec]          at org.eclipse.jst.j2ee.web.componentcore.util.WebArtifactEdit.asArchive(WebArtifactEdit.java:643)\n\n     [exec]          at org.eclipse.jst.j2ee.internal.archive.operations.EARComponentLoadStrategyImpl.addModulesAndUtilities(EARComponentLoadStrategyImpl.java:94)\n\n     [exec]          at org.eclipse.jst.j2ee.internal.archive.operations.EARComponentLoadStrategyImpl.getFiles(EARComponentLoadStrategyImpl.java:51)\n\n     [exec]          at org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.LoadStrategyImpl.collectFiles(LoadStrategyImpl.java:286)\n\n     [exec]          at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ContainerImpl.getFiles(ContainerImpl.java:237)\n\n     [exec]          at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.EARFileImpl.getModuleFiles(EARFileImpl.java:497)\n\n     [exec]          at org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateSpecLevel(EarValidator.java:716)\n\n     [exec]          at org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validate(EarValidator.java:124)\n\n     [exec]          at org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateInJob(EarValidator.java:144)\n\n     [exec]          at org.eclipse.jst.j2ee.internal.validation.UIEarValidator.validateInJob(UIEarValidator.java:218)\n\n     [exec]          at org.eclipse.wst.validation.internal.operations.ValidatorJob.run(ValidatorJob.java:70)\n\n     [exec]          at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)",
    "I think this may be fixed by https://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d158339 That defect uncovered a bad issue that we were caching every edit model for read we ever accessed.  This could lead to inconsistent behaviour such as this trying to access for read the same strucutural model which is already accessed.  If you have a reproducible scenario, you may want to try grabbing the patch for that defect and trying it out.",
    "Putting into the remind state, to signify we think dup of bug 158339 and awaiting confirmation from originator if does or does not fix this issue. \n\n",
    "We don\u0027t have a consistent repro, but it does show up fairly regularly in our automated test runs. We will pick up this week\u0027s declared 1.5.2 build and run it through our automated tests. Will report whether the problem goes away.",
    "This is part of a mass update to close out all stale WTP bugs which are in the resolved state without an appropriate targeted version.  If you feel this bug was closed inappropriately, please reopen.",
    "Reopening, in order to put into a valid closed state as remind is now deprecated, and closed, remind, does not make much sense.",
    "Resolving as won\u0027t fix, as these had previously been closed out, if this is incorrect, please provide more data and reopen.\n\nThanks,",
    "Re-closing appropriately with valid state."
  ],
  "commentCreationDates": [
    "2006-10-13T19:57:11+02:00",
    "2006-10-16T17:47:47+02:00",
    "2006-10-17T13:03:52+02:00",
    "2006-10-18T00:29:05+02:00",
    "2006-11-28T20:49:31+01:00",
    "2007-07-30T17:13:28+02:00",
    "2007-07-30T17:17:57+02:00",
    "2007-07-30T17:22:07+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.wst.common.internal.emfworkbench.edit.ClientAccessRegistryException",
      "message": "IWAE0011E Key already used to access Resource : org.eclipse.wst.common.internal.emfworkbench.EditModelLeastUsedCache@1b36a91       [exec]     This exception was generated to indicate an invalid usage of reference counts.       [exec]      Typically, this occurs on attempts to open an already open artifact edit.       [exec]      Make sure the dispose method is called when done accessing.       [exec]      Please examine the stack trace.       [exec]      Client Access Exception of type INVALID_ACCESS_KEY        [exec]",
      "elements": [
        {
          "method": "org.eclipse.wst.common.internal.emfworkbench.edit.ReadOnlyClientAccessRegistry.access",
          "source": "ReadOnlyClientAccessRegistry.java:32"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "160908",
      "date": "2006-10-13T19:57:11+02:00",
      "product": "Web Tools",
      "component": "wst.common",
      "severity": "critical"
    }
  ],
  "groupId": "160908",
  "bugId": "160908",
  "date": "2006-10-13T19:57:11+02:00",
  "product": "Web Tools",
  "component": "wst.common",
  "severity": "critical"
}