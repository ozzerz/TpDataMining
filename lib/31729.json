{
  "comments": [
    "In M5, Package Explorer is not refreshed when I add or delete a project until \nEclipse is restarted..  In order to recreate this bug:\n1) right click in the Package Explorer pane.  \n2) choose \"New\" --\u003e Project\n3) choose Java and Java Project.  click \"Next\" button\n4) enter a project name.(e.g. \"TestProject\") click \"Finish\".\n\nThe TestProject project is not shown in the Package Explorer pane.  If Eclipse \nis shut down and then restarted, the project appears in the pane.  Similar \nbehavior is exhibited when deleting a project, and when adding a new package. \n\nJDK \u003d 1.4.1_01.",
    "This work fine for me in M5. Leon, can you please attach the log of the \nworkspace you are seeing the problem.",
    "From a mail received from leon@leonwebster.com (leon webster):\n\nLast night, I re-installed eclipse(2.1 m5) and imported my projects from the\nold workspace into the new workspace, and all seems to work fine now.  So my\nsuspicion is that I had a corrupt workspace.  I think that under Visual Age\nthere was an option that would \"reorg\" your workspace and clean up any\nproblems.  You may want to add something like that.  but feel free to close\nthis bug as a user error.",
    "The log is 16MB huge so I only add the suspicious exception:\n\nIndexedStoreException:Could not find root context because store has invalid \nformat.\n\tat org.eclipse.core.internal.indexing.IndexedStore.open\n(IndexedStore.java:349)\n\tat org.eclipse.core.internal.properties.IndexedStoreWrapper.open\n(IndexedStoreWrapper.java:41)\n\tat org.eclipse.core.internal.properties.IndexedStoreWrapper.create\n(IndexedStoreWrapper.java:96)\n\tat org.eclipse.core.internal.properties.IndexedStoreWrapper.getStore\n(IndexedStoreWrapper.java:166)\n\tat org.eclipse.core.internal.properties.IndexedStoreWrapper.getIndex\n(IndexedStoreWrapper.java:122)\n\tat org.eclipse.core.internal.properties.IndexedStoreWrapper.getCursor\n(IndexedStoreWrapper.java:172)\n\tat org.eclipse.core.internal.properties.PropertyStore.recordsMatching\n(PropertyStore.java:302)\n\tat org.eclipse.core.internal.properties.PropertyStore.get\n(PropertyStore.java:171)\n\tat org.eclipse.core.internal.properties.PropertyManager.getProperty\n(PropertyManager.java:108)\n\tat org.eclipse.core.internal.resources.Resource.getPersistentProperty\n(Resource.java:858)\n\tat org.eclipse.jdt.internal.core.DeltaProcessor.initializeRoots\n(DeltaProcessor.java:1120)\n\tat org.eclipse.jdt.internal.core.JavaModelOperation.execute\n(JavaModelOperation.java:340)\n\tat org.eclipse.jdt.internal.core.JavaModelOperation.run\n(JavaModelOperation.java:671)\n\tat org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1588)\n\tat org.eclipse.jdt.core.JavaCore.run(JavaCore.java:2633)\n\tat org.eclipse.jdt.core.JavaCore.setClasspathContainer\n(JavaCore.java:2744)\n\tat org.eclipse.jdt.internal.launching.JREContainerInitializer.initialize\n(JREContainerInitializer.java:63)\n\tat org.eclipse.jdt.core.JavaCore$1.run(JavaCore.java:872)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:867)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:413)\n\tat org.eclipse.jdt.core.JavaCore.getClasspathContainer\n(JavaCore.java:867)\n\tat org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath\n(JavaProject.java:1438)\n\tat org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath\n(JavaProject.java:1360)\n\tat org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath\n(JavaProject.java:1336)\n\tat org.eclipse.jdt.internal.core.JavaProject.updatePackageFragmentRoots\n(JavaProject.java:2252)\n\tat org.eclipse.jdt.internal.core.JavaProject.generateInfos\n(JavaProject.java:878)\n\tat org.eclipse.jdt.internal.core.Openable.buildStructure\n(Openable.java:71)\n\tat org.eclipse.jdt.internal.core.Openable.openWhenClosed\n(Openable.java:394)\n\tat org.eclipse.jdt.internal.core.JavaProject.openWhenClosed\n(JavaProject.java:1780)\n\tat org.eclipse.jdt.internal.core.JavaElement.openHierarchy\n(JavaElement.java:503)\n\tat org.eclipse.jdt.internal.core.JavaElement.getElementInfo\n(JavaElement.java:296)\n\tat org.eclipse.jdt.internal.core.JavaElement.getChildren\n(JavaElement.java:252)\n\tat org.eclipse.jdt.internal.core.Openable.hasChildren(Openable.java:274)\n\tat org.eclipse.jdt.ui.StandardJavaElementContentProvider.hasChildren\n(StandardJavaElementContentProvider.java:241)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.isExpandable\n(AbstractTreeViewer.java:994)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.updatePlus\n(AbstractTreeViewer.java:1356)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem\n(AbstractTreeViewer.java:300)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer$1.run\n(AbstractTreeViewer.java:282)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:65)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.createChildren\n(AbstractTreeViewer.java:268)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer$5.run\n(AbstractTreeViewer.java:712)\n\tat org.eclipse.jface.viewers.StructuredViewer.preservingSelection\n(StructuredViewer.java:796)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.inputChanged\n(AbstractTreeViewer.java:704)\n\tat org.eclipse.jface.viewers.ContentViewer.setInput\n(ContentViewer.java:232)\n\tat org.eclipse.jface.viewers.StructuredViewer.setInput\n(StructuredViewer.java:986)\n\tat \norg.eclipse.jdt.internal.ui.packageview.PackageExplorerPart.createPartControl\n(PackageExplorerPart.java:289)\n\tat org.eclipse.ui.internal.PartPane$4.run(PartPane.java:138)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:867)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:413)\n\tat org.eclipse.ui.internal.PartPane.createChildControl\n(PartPane.java:134)\n\tat org.eclipse.ui.internal.ViewPane.createChildControl\n(ViewPane.java:202)\n\tat org.eclipse.ui.internal.PartPane.createControl(PartPane.java:183)\n\tat org.eclipse.ui.internal.ViewPane.createControl(ViewPane.java:181)\n\tat org.eclipse.ui.internal.ViewFactory$2.run(ViewFactory.java:165)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:867)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:413)\n\tat org.eclipse.ui.internal.ViewFactory.busyRestoreView\n(ViewFactory.java:93)\n\tat org.eclipse.ui.internal.ViewFactory$1.run(ViewFactory.java:77)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:65)\n\tat org.eclipse.ui.internal.ViewFactory.restoreView(ViewFactory.java:73)\n\tat org.eclipse.ui.internal.Perspective.restoreState\n(Perspective.java:907)\n\tat org.eclipse.ui.internal.WorkbenchPage.restoreState\n(WorkbenchPage.java:2245)\n\tat org.eclipse.ui.internal.WorkbenchWindow.restoreState\n(WorkbenchWindow.java:1224)\n\tat org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1150)\n\tat org.eclipse.ui.internal.Workbench.access$9(Workbench.java:1110)\n\tat org.eclipse.ui.internal.Workbench$10.run(Workbench.java:1028)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:867)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:413)\n\tat org.eclipse.ui.internal.Workbench.openPreviousWorkbenchState\n(Workbench.java:980)\n\tat org.eclipse.ui.internal.Workbench.init(Workbench.java:725)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1260)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:845)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:247)\n\tat org.eclipse.core.launcher.Main.run(Main.java:703)\n\tat org.eclipse.core.launcher.Main.main(Main.java:539)\n\nMoving to core if they are interested to dig into.",
    "200K. I will attached the zip log file.",
    "Created an attachment (id\u003d3499)\nThe zipped log\n",
    "Old summary:\n  Package Explorer not refreshed when project added/deleted",
    "We have a report of a similar stack trace.  The steps were:\n\n - create 55 classpath variables\n - shutdown\n - restart\n\nThis suggests it could be a problem where some boundary condition is being hit\non the property size.  This needs further investigation (need to see if we can\nreproduce it in current code stream).",
    "*** Bug 66294 has been marked as a duplicate of this bug. ***",
    "Consolidating indexed store bugs.\n\n*** This bug has been marked as a duplicate of 14161 ***"
  ],
  "commentCreationDates": [
    "2003-02-13T01:58:36+01:00",
    "2003-02-13T09:44:43+01:00",
    "2003-02-14T09:22:37+01:00",
    "2003-02-14T09:23:34+01:00",
    "2003-02-14T16:56:23+01:00",
    "2003-02-14T16:57:22+01:00",
    "2003-02-17T15:57:15+01:00",
    "2003-06-18T22:31:11+02:00",
    "2004-06-09T16:35:26+02:00",
    "2004-08-26T18:13:41+02:00"
  ],
  "traces": [
    {
      "exceptionType": "IndexedStoreException",
      "message": "Could not find root context because store has invalid  format.",
      "elements": [
        {
          "method": "org.eclipse.core.internal.indexing.IndexedStore.open",
          "source": "IndexedStore.java:349"
        },
        {
          "method": "org.eclipse.core.internal.properties.IndexedStoreWrapper.open",
          "source": "IndexedStoreWrapper.java:41"
        },
        {
          "method": "org.eclipse.core.internal.properties.IndexedStoreWrapper.create",
          "source": "IndexedStoreWrapper.java:96"
        },
        {
          "method": "org.eclipse.core.internal.properties.IndexedStoreWrapper.getStore",
          "source": "IndexedStoreWrapper.java:166"
        },
        {
          "method": "org.eclipse.core.internal.properties.IndexedStoreWrapper.getIndex",
          "source": "IndexedStoreWrapper.java:122"
        },
        {
          "method": "org.eclipse.core.internal.properties.IndexedStoreWrapper.getCursor",
          "source": "IndexedStoreWrapper.java:172"
        },
        {
          "method": "org.eclipse.core.internal.properties.PropertyStore.recordsMatching",
          "source": "PropertyStore.java:302"
        },
        {
          "method": "org.eclipse.core.internal.properties.PropertyStore.get",
          "source": "PropertyStore.java:171"
        },
        {
          "method": "org.eclipse.core.internal.properties.PropertyManager.getProperty",
          "source": "PropertyManager.java:108"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource.getPersistentProperty",
          "source": "Resource.java:858"
        },
        {
          "method": "org.eclipse.jdt.internal.core.DeltaProcessor.initializeRoots",
          "source": "DeltaProcessor.java:1120"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.execute",
          "source": "JavaModelOperation.java:340"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.run",
          "source": "JavaModelOperation.java:671"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1588"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore.run",
          "source": "JavaCore.java:2633"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore.setClasspathContainer",
          "source": "JavaCore.java:2744"
        },
        {
          "method": "org.eclipse.jdt.internal.launching.JREContainerInitializer.initialize",
          "source": "JREContainerInitializer.java:63"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore$1.run",
          "source": "JavaCore.java:872"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:867"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:413"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore.getClasspathContainer",
          "source": "JavaCore.java:867"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath",
          "source": "JavaProject.java:1438"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath",
          "source": "JavaProject.java:1360"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath",
          "source": "JavaProject.java:1336"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaProject.updatePackageFragmentRoots",
          "source": "JavaProject.java:2252"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaProject.generateInfos",
          "source": "JavaProject.java:878"
        },
        {
          "method": "org.eclipse.jdt.internal.core.Openable.buildStructure",
          "source": "Openable.java:71"
        },
        {
          "method": "org.eclipse.jdt.internal.core.Openable.openWhenClosed",
          "source": "Openable.java:394"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaProject.openWhenClosed",
          "source": "JavaProject.java:1780"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaElement.openHierarchy",
          "source": "JavaElement.java:503"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaElement.getElementInfo",
          "source": "JavaElement.java:296"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaElement.getChildren",
          "source": "JavaElement.java:252"
        },
        {
          "method": "org.eclipse.jdt.internal.core.Openable.hasChildren",
          "source": "Openable.java:274"
        },
        {
          "method": "org.eclipse.jdt.ui.StandardJavaElementContentProvider.hasChildren",
          "source": "StandardJavaElementContentProvider.java:241"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.isExpandable",
          "source": "AbstractTreeViewer.java:994"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.updatePlus",
          "source": "AbstractTreeViewer.java:1356"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem",
          "source": "AbstractTreeViewer.java:300"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$1.run",
          "source": "AbstractTreeViewer.java:282"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:65"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.createChildren",
          "source": "AbstractTreeViewer.java:268"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$5.run",
          "source": "AbstractTreeViewer.java:712"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.preservingSelection",
          "source": "StructuredViewer.java:796"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.inputChanged",
          "source": "AbstractTreeViewer.java:704"
        },
        {
          "method": "org.eclipse.jface.viewers.ContentViewer.setInput",
          "source": "ContentViewer.java:232"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.setInput",
          "source": "StructuredViewer.java:986"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart.createPartControl",
          "source": "PackageExplorerPart.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane$4.run",
          "source": "PartPane.java:138"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:867"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:413"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.createChildControl",
          "source": "PartPane.java:134"
        },
        {
          "method": "org.eclipse.ui.internal.ViewPane.createChildControl",
          "source": "ViewPane.java:202"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.createControl",
          "source": "PartPane.java:183"
        },
        {
          "method": "org.eclipse.ui.internal.ViewPane.createControl",
          "source": "ViewPane.java:181"
        },
        {
          "method": "org.eclipse.ui.internal.ViewFactory$2.run",
          "source": "ViewFactory.java:165"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:867"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:413"
        },
        {
          "method": "org.eclipse.ui.internal.ViewFactory.busyRestoreView",
          "source": "ViewFactory.java:93"
        },
        {
          "method": "org.eclipse.ui.internal.ViewFactory$1.run",
          "source": "ViewFactory.java:77"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:65"
        },
        {
          "method": "org.eclipse.ui.internal.ViewFactory.restoreView",
          "source": "ViewFactory.java:73"
        },
        {
          "method": "org.eclipse.ui.internal.Perspective.restoreState",
          "source": "Perspective.java:907"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.restoreState",
          "source": "WorkbenchPage.java:2245"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.restoreState",
          "source": "WorkbenchWindow.java:1224"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.restoreState",
          "source": "Workbench.java:1150"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$9",
          "source": "Workbench.java:1110"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$10.run",
          "source": "Workbench.java:1028"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:867"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:413"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.openPreviousWorkbenchState",
          "source": "Workbench.java:980"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.init",
          "source": "Workbench.java:725"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1260"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:247"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:703"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:539"
        }
      ],
      "number": 0,
      "commentIndex": 3,
      "bugId": "31729",
      "duplicateId": "14161",
      "date": "2003-02-14T09:23:34+01:00",
      "product": "Platform",
      "component": "Resources",
      "severity": "normal"
    }
  ],
  "groupId": "78099",
  "bugId": "31729",
  "duplicateId": "14161",
  "date": "2003-02-13T01:58:36+01:00",
  "product": "Platform",
  "component": "Resources",
  "severity": "normal"
}