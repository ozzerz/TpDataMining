{
  "comments": [
    "F1. I have seven projects in a workspace, some of which are local to the\nworkspace, some aren\u0027t. I typically close a project before opening another, so\nas to have only one open at a time. At least twice, I have seen the following\ncrash scenario.\n\nRight-click project in Navigator, Close Project. A dialog appears warning of a\nfailure to save IStore. Then an Internal Error dialog appears: \"An SWT error has\noccurred. It is recommended to exit the workbench. Subsequent errors may happen\nand may terminate the workbench without warning. See error log for more details.\"\n\nTruer words were never spoke. An attempt to say No to that dialog just brings it\nup again, flickering madly. Unfortunately, Yes gets the same result. The\nworkspace is not exited and needs to be killed. The error log has a number of\nthe following. (I wasn\u0027t sure how much of the looong stack trace you wanted, so\nI cut it off at the last event dispatch.)\n\n!MESSAGE Unable to restore editor - cannot instantiate input element:\norg.eclipse.ui.part.FileEditorInputFactory\n!ENTRY org.eclipse.core.resources 1 4 Jun 03, 2002 15:57:03.693\n!MESSAGE Unhandled exception caught in event loop.\n!ENTRY org.eclipse.ui 4 0 Jun 03, 2002 15:57:03.693\n!MESSAGE No more handles\n!STACK 0\norg.eclipse.swt.SWTError: No more handles\n\tat org.eclipse.swt.SWT.error(SWT.java:1912)\n\tat org.eclipse.swt.SWT.error(SWT.java:1819)\n\tat org.eclipse.swt.widgets.Widget.error(Widget.java:368)\n\tat org.eclipse.swt.widgets.Control.createHandle(Control.java:441)\n\tat org.eclipse.swt.widgets.Composite.createHandle(Composite.java:157)\n\tat org.eclipse.swt.widgets.Decorations.createHandle(Decorations.java:317)\n\tat org.eclipse.swt.widgets.Shell.createHandle(Shell.java:364)\n\tat org.eclipse.swt.widgets.Control.createWidget(Control.java:451)\n\tat org.eclipse.swt.widgets.Scrollable.createWidget(Scrollable.java:118)\n\tat org.eclipse.swt.widgets.Decorations.createWidget(Decorations.java:324)\n\tat org.eclipse.swt.widgets.Shell.createWidget(Shell.java:388)\n\tat org.eclipse.swt.widgets.Shell.\u003cinit\u003e(Shell.java:210)\n\tat org.eclipse.swt.widgets.Shell.\u003cinit\u003e(Shell.java:268)\n\tat org.eclipse.jface.window.Window.createShell(Window.java:311)\n\tat org.eclipse.jface.window.Window.create(Window.java:277)\n\tat org.eclipse.jface.window.Window.open(Window.java:527)\n\tat org.eclipse.jface.dialogs.MessageDialog.openInformation(MessageDialog.java:336)\n\tat org.eclipse.ui.internal.EditorManager$Editor.getEditor(EditorManager.java:1126)\n\tat org.eclipse.ui.internal.EditorManager$Editor.getPart(EditorManager.java:1114)\n\tat org.eclipse.ui.internal.EditorManager.getVisibleEditor(EditorManager.java:279)\n\tat org.eclipse.ui.internal.WorkbenchPage.getActiveEditor(WorkbenchPage.java:1132)\n\tat\norg.eclipse.ui.internal.WorkbenchWindow$12.shellDeactivated(WorkbenchWindow.java:1325)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:159)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:75)",
    "I think there were a number of files open from the project I attempted to close.\nThis may be related.",
    "Please attach the whole log if you have it.\nWhat kinds of editors did you have open?\nWere you out of disk space?\n",
    "This looks like an image leak, which is not necessarily caused by closing the \nproject.  What other views and editors were you using at the time?\n",
    "Packages, Navigator and Hierarchy views (never look at the latter, but there\u0027s a\ntab for it), editor and Tasks. Lots of open editors, all Java. Best I can recall.",
    "DJ, please see the note about the failure to save IStore.",
    "Any ideas what IStore is? Is this a java class that you have created in your \nproject in your workspace? It doesn\u0027t seem to be a class in the Eclipse SDK.",
    "DJ, sorry I assumed it was a Core class.\n\nBob, did the dialog actually indicate \"IStore\" or something else?\n",
    "It may have been something else. That was from memory after the first dialog was\ngone. The sense of it was it failed to save some sort of preferences. Sorry I\ndon\u0027t remember more.",
    "Actually, it\u0027s not necessarily an image leak.\nIt\u0027s out of handles creating the control, not an image.\n\nThis sounds like a dup of bug 19498.  Eduardo, can you confirm this?\n",
    "Yes, it seems to be a dup but it would be nice if we could see the log file \nwith the other exceptions. The exception posted here looks like the one in bug \n19498 but it should be recurcive.",
    "I have a test suite that causes this on Jeromes machine. Here was the trace he \ngot:\n\nLoad the org.eclipse.ui.deadlock test from the desktop repository and run \nOpenAllFilesTest to make this happen.\n\norg.eclipse.swt.SWTError: No more handles\n\tat org.eclipse.swt.SWT.error(SWT.java:2083)\n\tat org.eclipse.swt.SWT.error(SWT.java:1990)\n\tat org.eclipse.swt.widgets.Widget.error(Widget.java:368)\n\tat org.eclipse.swt.widgets.Control.createHandle(Control.java:451)\n\tat org.eclipse.swt.widgets.Composite.createHandle(Composite.java:158)\n\tat org.eclipse.swt.widgets.Decorations.createHandle\n(Decorations.java:325)\n\tat org.eclipse.swt.widgets.Shell.createHandle(Shell.java:406)\n\tat org.eclipse.swt.widgets.Control.createWidget(Control.java:461)\n\tat org.eclipse.swt.widgets.Scrollable.createWidget(Scrollable.java:119)\n\tat org.eclipse.swt.widgets.Decorations.createWidget\n(Decorations.java:332)\n\tat org.eclipse.swt.widgets.Shell.createWidget(Shell.java:430)\n\tat org.eclipse.swt.widgets.Shell.\u003cinit\u003e(Shell.java:238)\n\tat org.eclipse.swt.widgets.Shell.\u003cinit\u003e(Shell.java:310)\n\tat org.eclipse.jface.window.Window.createShell(Window.java:311)\n\tat org.eclipse.jface.window.Window.create(Window.java:277)\n\tat org.eclipse.jface.window.Window.open(Window.java:527)\n\tat org.eclipse.jface.dialogs.MessageDialog.openError\n(MessageDialog.java:318)\n\tat org.eclipse.jface.util.SafeRunnable.handleException\n(SafeRunnable.java:42)\n\tat org.eclipse.ui.internal.PartPane$4.handleException(PartPane.java:142)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.handleException\n(InternalPlatform.java:427)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:804)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:416)\n\tat org.eclipse.ui.internal.PartPane.createChildControl\n(PartPane.java:134)\n\tat org.eclipse.ui.internal.PartPane.createControl(PartPane.java:178)\n\tat org.eclipse.ui.internal.EditorWorkbook.createPage\n(EditorWorkbook.java:230)\n\tat org.eclipse.ui.internal.EditorWorkbook.add(EditorWorkbook.java:85)\n\tat org.eclipse.ui.internal.EditorArea.addEditor(EditorArea.java:45)\n\tat org.eclipse.ui.internal.EditorPresentation.openEditor\n(EditorPresentation.java:330)\n\tat org.eclipse.ui.internal.EditorManager$2.run(EditorManager.java:531)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:64)\n\tat org.eclipse.ui.internal.EditorManager.createEditorTab\n(EditorManager.java:520)\n\tat org.eclipse.ui.internal.EditorManager.openEditorFromInput\n(EditorManager.java:312)\n\tat org.eclipse.ui.internal.EditorManager.openEditor\n(EditorManager.java:386)\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor\n(WorkbenchPage.java:1671)\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor\n(WorkbenchPage.java:1566)\n\tat org.eclipse.ui.tests.deadlocktest.OpenCloseAllFiles.testOpenAllFiles\n(OpenCloseAllFiles.java:70)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat junit.framework.TestCase.runTest(TestCase.java:166)\n\tat junit.framework.TestCase.runBare(TestCase.java:140)\n\tat junit.framework.TestResult$1.protect(TestResult.java:106)\n\tat junit.framework.TestResult.runProtected(TestResult.java:124)\n\tat junit.framework.TestResult.run(TestResult.java:109)\n\tat junit.framework.TestCase.run(TestCase.java:131)\n\tat junit.framework.TestSuite.runTest(TestSuite.java:173)\n\tat junit.framework.TestSuite.run(TestSuite.java:168)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests\n(RemoteTestRunner.java:326)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run\n(RemoteTestRunner.java:216)\n\tat org.eclipse.pde.internal.junit.ui.RemotePluginTestRunner.main\n(RemotePluginTestRunner.java:30)\n\tat org.eclipse.pde.internal.junit.ui.UITestApplication.runEventLoop\n(UITestApplication.java:34)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1160)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:739)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:462)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:244)\n\tat org.eclipse.core.launcher.Main.run(Main.java:693)\n\tat org.eclipse.core.launcher.Main.main(Main.java:526)",
    "I tried to attach the log when you asked for it. Seems to have gone in the bit\nbucket. Sorry.",
    "OK.\nThe exception Tod logged here is not a bug since lots of external editors were \nopened and the system was low in handles.\nMarking as dup of bug 19498.\n\nPlease reopen if you see this again.\n\n*** This bug has been marked as a duplicate of 19498 ***"
  ],
  "commentCreationDates": [
    "2002-06-03T22:50:42+02:00",
    "2002-06-03T23:27:34+02:00",
    "2002-06-04T16:25:35+02:00",
    "2002-06-05T16:07:18+02:00",
    "2002-06-05T21:36:07+02:00",
    "2002-06-06T06:24:23+02:00",
    "2002-06-06T14:31:22+02:00",
    "2002-06-06T16:51:38+02:00",
    "2002-06-06T21:57:46+02:00",
    "2002-06-07T03:11:48+02:00",
    "2002-06-07T16:14:36+02:00",
    "2002-06-07T16:24:51+02:00",
    "2002-06-08T02:07:21+02:00",
    "2002-06-10T18:07:45+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTError",
      "message": "No more handles",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:1912"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:1819"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:368"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.createHandle",
          "source": "Control.java:441"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.createHandle",
          "source": "Composite.java:157"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.createHandle",
          "source": "Decorations.java:317"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.createHandle",
          "source": "Shell.java:364"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.createWidget",
          "source": "Control.java:451"
        },
        {
          "method": "org.eclipse.swt.widgets.Scrollable.createWidget",
          "source": "Scrollable.java:118"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.createWidget",
          "source": "Decorations.java:324"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.createWidget",
          "source": "Shell.java:388"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.\u003cinit\u003e",
          "source": "Shell.java:210"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.\u003cinit\u003e",
          "source": "Shell.java:268"
        },
        {
          "method": "org.eclipse.jface.window.Window.createShell",
          "source": "Window.java:311"
        },
        {
          "method": "org.eclipse.jface.window.Window.create",
          "source": "Window.java:277"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:527"
        },
        {
          "method": "org.eclipse.jface.dialogs.MessageDialog.openInformation",
          "source": "MessageDialog.java:336"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager$Editor.getEditor",
          "source": "EditorManager.java:1126"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager$Editor.getPart",
          "source": "EditorManager.java:1114"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.getVisibleEditor",
          "source": "EditorManager.java:279"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.getActiveEditor",
          "source": "WorkbenchPage.java:1132"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow$12.shellDeactivated",
          "source": "WorkbenchWindow.java:1325"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:159"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:75"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "18919",
      "duplicateId": "19498",
      "date": "2002-06-03T22:50:42+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "critical"
    },
    {
      "exceptionType": "org.eclipse.swt.SWTError",
      "message": "No more handles",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2083"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:1990"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:368"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.createHandle",
          "source": "Control.java:451"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.createHandle",
          "source": "Composite.java:158"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.createHandle",
          "source": "Decorations.java:325"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.createHandle",
          "source": "Shell.java:406"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.createWidget",
          "source": "Control.java:461"
        },
        {
          "method": "org.eclipse.swt.widgets.Scrollable.createWidget",
          "source": "Scrollable.java:119"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.createWidget",
          "source": "Decorations.java:332"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.createWidget",
          "source": "Shell.java:430"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.\u003cinit\u003e",
          "source": "Shell.java:238"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.\u003cinit\u003e",
          "source": "Shell.java:310"
        },
        {
          "method": "org.eclipse.jface.window.Window.createShell",
          "source": "Window.java:311"
        },
        {
          "method": "org.eclipse.jface.window.Window.create",
          "source": "Window.java:277"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:527"
        },
        {
          "method": "org.eclipse.jface.dialogs.MessageDialog.openError",
          "source": "MessageDialog.java:318"
        },
        {
          "method": "org.eclipse.jface.util.SafeRunnable.handleException",
          "source": "SafeRunnable.java:42"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane$4.handleException",
          "source": "PartPane.java:142"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.handleException",
          "source": "InternalPlatform.java:427"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:804"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:416"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.createChildControl",
          "source": "PartPane.java:134"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.createControl",
          "source": "PartPane.java:178"
        },
        {
          "method": "org.eclipse.ui.internal.EditorWorkbook.createPage",
          "source": "EditorWorkbook.java:230"
        },
        {
          "method": "org.eclipse.ui.internal.EditorWorkbook.add",
          "source": "EditorWorkbook.java:85"
        },
        {
          "method": "org.eclipse.ui.internal.EditorArea.addEditor",
          "source": "EditorArea.java:45"
        },
        {
          "method": "org.eclipse.ui.internal.EditorPresentation.openEditor",
          "source": "EditorPresentation.java:330"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager$2.run",
          "source": "EditorManager.java:531"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:64"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.createEditorTab",
          "source": "EditorManager.java:520"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.openEditorFromInput",
          "source": "EditorManager.java:312"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.openEditor",
          "source": "EditorManager.java:386"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:1671"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:1566"
        },
        {
          "method": "org.eclipse.ui.tests.deadlocktest.OpenCloseAllFiles.testOpenAllFiles",
          "source": "OpenCloseAllFiles.java:70"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "junit.framework.TestCase.runTest",
          "source": "TestCase.java:166"
        },
        {
          "method": "junit.framework.TestCase.runBare",
          "source": "TestCase.java:140"
        },
        {
          "method": "junit.framework.TestResult$1.protect",
          "source": "TestResult.java:106"
        },
        {
          "method": "junit.framework.TestResult.runProtected",
          "source": "TestResult.java:124"
        },
        {
          "method": "junit.framework.TestResult.run",
          "source": "TestResult.java:109"
        },
        {
          "method": "junit.framework.TestCase.run",
          "source": "TestCase.java:131"
        },
        {
          "method": "junit.framework.TestSuite.runTest",
          "source": "TestSuite.java:173"
        },
        {
          "method": "junit.framework.TestSuite.run",
          "source": "TestSuite.java:168"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests",
          "source": "RemoteTestRunner.java:326"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run",
          "source": "RemoteTestRunner.java:216"
        },
        {
          "method": "org.eclipse.pde.internal.junit.ui.RemotePluginTestRunner.main",
          "source": "RemotePluginTestRunner.java:30"
        },
        {
          "method": "org.eclipse.pde.internal.junit.ui.UITestApplication.runEventLoop",
          "source": "UITestApplication.java:34"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1160"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:739"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:462"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:244"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:693"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:526"
        }
      ],
      "number": 1,
      "commentIndex": 11,
      "bugId": "18919",
      "duplicateId": "19498",
      "date": "2002-06-07T16:24:51+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "critical"
    }
  ],
  "groupId": "18641",
  "bugId": "18919",
  "duplicateId": "19498",
  "date": "2002-06-03T22:50:42+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "critical"
}