{
  "comments": [
    "Build id: 200302060800 \nLinux RH 8.0 \nTrying to open a java file for editing with Java Editor fails and gives a pop-up\nwindow titled \"Problems Opening Editor\" with contents \"I/O Exception.\" and\nOK-button. Nothing is printed to .log. I think the same effect is happening with\nfew previous builds too (I20030205 and with most nigthly builds since 15th-jan.) \n\nOpening the same file with Text Editors works fine.",
    "Ok, it fails when trying to open a Java file from an old project. If i create a\nnew project and add a new class the Java editor works just fine. ",
    "Gets even more odd; Trying to copy\u0026paste the file which won\u0027t open with Java\nEditor doesn\u0027t like to be copy-pasted. Also trying to copy\u0026paste a file which\nopens with Java Editor doesn\u0027t have \"Paste\" active when trying to paste it to\nthe same package where the no-go Java file is located.",
    "Trying to do \"Organize imports\" with the no-go file gives an error-pop up, a\nmessage in a log and opens the file in text editor.\n!ENTRY org.eclipse.jdt.ui 4 10001 helmi 07, 2003 00:11:40.289\n!MESSAGE Internal Error\n!STACK 1\norg.eclipse.jdt.core.JavaModelException[-1]: java.util.zip.ZipException:\nTiedostoa tai hakemistoa ei ole\n        at java.util.zip.ZipFile.open(Native Method)\n        at java.util.zip.ZipFile.\u003cinit\u003e(ZipFile.java:112)\n        at java.util.zip.ZipFile.\u003cinit\u003e(ZipFile.java:72)\n        at\norg.eclipse.jdt.internal.core.JavaModelManager.getZipFile(JavaModelManager.java:1057)\n        at\norg.eclipse.jdt.internal.core.JarPackageFragmentRoot.getJar(JarPackageFragmentRoot.java:220)\n        at\norg.eclipse.jdt.internal.core.JarPackageFragmentRoot.computeJarChildren(JarPackageFragmentRoot.java:90)\n        at\norg.eclipse.jdt.internal.core.JarPackageFragmentRoot.computeChildren(JarPackageFragmentRoot.java:71)\n        at\norg.eclipse.jdt.internal.core.PackageFragmentRoot.generateInfos(PackageFragmentRoot.java:442)\n        at org.eclipse.jdt.internal.core.Openable.buildStructure(Openable.java:71)\n        at org.eclipse.jdt.internal.core.Openable.openWhenClosed(Openable.java:394)\n        at\norg.eclipse.jdt.internal.core.PackageFragmentRoot.openWhenClosed(PackageFragmentRoot.java:782)\n        at org.eclipse.jdt.internal.core.Openable.open(Openable.java:346)\n        at\norg.eclipse.jdt.internal.core.JarPackageFragment.openWhenClosed(JarPackageFragment.java:150)\n        at org.eclipse.jdt.internal.core.Openable.openParent(Openable.java:369)\n        at\norg.eclipse.jdt.internal.core.CompilationUnit.openParent(CompilationUnit.java:751)\n        at\norg.eclipse.jdt.internal.core.WorkingCopy.openParent(WorkingCopy.java:398)\n        at org.eclipse.jdt.internal.core.Openable.openWhenClosed(Openable.java:385)\n        at org.eclipse.jdt.internal.core.Openable.open(Openable.java:346)\n        at org.eclipse.jdt.internal.core.WorkingCopy.open(WorkingCopy.java:354)\n        at\norg.eclipse.jdt.internal.core.CompilationUnit.getWorkingCopy(CompilationUnit.java:609)\n        at\norg.eclipse.jdt.internal.core.CompilationUnit.getSharedWorkingCopy(CompilationUnit.java:581)\n        at\norg.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider.createElementInfo(CompilationUnitDocumentProvider.java:850)\n        at\norg.eclipse.ui.texteditor.AbstractDocumentProvider.connect(AbstractDocumentProvider.java:302)\n        at\norg.eclipse.jdt.internal.corext.textmanipulation.TextBufferFactory.acquire(TextBufferFactory.java:85)\n        at\norg.eclipse.jdt.internal.corext.textmanipulation.TextBuffer.acquire(TextBuffer.java:371)\n        at\norg.eclipse.jdt.internal.corext.codemanipulation.ImportsStructure.aquireTextBuffer(ImportsStructure.java:538)\n        at\norg.eclipse.jdt.internal.corext.codemanipulation.ImportsStructure.create(ImportsStructure.java:517)\n        at\norg.eclipse.jdt.internal.corext.codemanipulation.OrganizeImportsOperation.run(OrganizeImportsOperation.java:527)\n       at\norg.eclipse.jdt.internal.core.BatchOperation.executeOperation(BatchOperation.java:34)\n        at\norg.eclipse.jdt.internal.core.JavaModelOperation.execute(JavaModelOperation.java:343)\n        at\norg.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:671)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1588)\n     at org.eclipse.jdt.core.JavaCore.run(JavaCore.java:2633)\n        at\norg.eclipse.jdt.internal.ui.actions.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:32)\n        at\norg.eclipse.jdt.internal.ui.util.BusyIndicatorRunnableContext$BusyRunnable.internalRun(BusyIndicatorRunnableContext.java:107)\n        at\norg.eclipse.jdt.internal.ui.util.BusyIndicatorRunnableContext$BusyRunnable.run(BusyIndicatorRunnableContext.java:74)\n        at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:65)\n        at\norg.eclipse.jdt.internal.ui.util.BusyIndicatorRunnableContext.run(BusyIndicatorRunnableContext.java:120)\n        at\norg.eclipse.jdt.ui.actions.OrganizeImportsAction.run(OrganizeImportsAction.java:375)\n        at\norg.eclipse.jdt.ui.actions.OrganizeImportsAction.run(OrganizeImportsAction.java:257)\n        at\norg.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:191)\n        at\norg.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:169)\n        at org.eclipse.jface.action.Action.runWithEvent(Action.java:804)\n        at\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:450)\n        at\norg.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionContributionItem.java:398)\n        at\norg.eclipse.jface.action.ActionContributionItem.access$0(ActionContributionItem.java:392)\n        at\norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(ActionContributionItem.java:72)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:77)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:897)\n        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1502)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1319)\n        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1289)\n        at org.eclipse.ui.internal.Workbench.run(Workbench.java:1272)\n        at\norg.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:845)\n        at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:247)\n        at org.eclipse.core.launcher.Main.run(Main.java:703)\n        at org.eclipse.core.launcher.Main.main(Main.java:539)\n",
    "\"Tiedostoa tai hakemistoa ei ole\" means File or directory doesn\u0027t exists.",
    "In Java perspective using \"Hierarchical Layout\" displays only directories\n(src/MyApp.ear/AccountEjb.jar). If you click directory name the little triangle\n(open/collapse) disappears from before the name. Changing back to Flat-layout\nbrings back the little triangles and it\u0027s possible to navigate under the\ndirectory and find the packages and classes in it. But if trying to open the\nfile with Java Editor you still get I/O-exception.",
    "Could you provide your testcase ? I suspect some JAR is corrupted, and causes \nsome trouble to our tooling (when editing, we will try to resolve references, \nso as to determine errors as you type).\n\nWe would need the project causing grief and indications about how to set it up.",
    "This has something to do with Java source folders setup. All the source code is\nlocated in few directories under src/MyEar.ear/FirstEJB.jar/,\nsrc/MyEar.ear/SecondEJB.jar/ etc. If i remove all Java source folders from Java\nBuild Path-\u003eSource i can edit any Java file in Java Editor if browsed from\nResource\u0027s Navigator. None of the Java-files are visible from Java Perpective\n(naturally).\nHere\u0027s the original trouble causing .classpath for the project:\n\u003c?xml version\u003d\"1.0\" encoding\u003d\"UTF-8\"?\u003e\n\u003cclasspath\u003e\n    \u003cclasspathentry kind\u003d\"src\"\n        output\u003d\"src/IntraFrame.ear/openport-std.jar\"\npath\u003d\"src/IntraFrame.ear/openport-std.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"src\"\n        output\u003d\"src/IntraFrame.ear/openport-ejb.jar\"\npath\u003d\"src/IntraFrame.ear/openport-ejb.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"src\" path\u003d\"src/IntraFrame.ear/Navigation-ejb.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"src\"\n        output\u003d\"src/IntraFrame.ear/NewsCategory-ejb.jar\"\npath\u003d\"src/IntraFrame.ear/NewsCategory-ejb.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"src\" output\u003d\"src/IntraFrame.ear/News-ejb.jar\"\npath\u003d\"src/IntraFrame.ear/News-ejb.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"src\"\n        output\u003d\"src/IntraFrame.ear/NewsRoleRestrictions-ejb.jar\"\npath\u003d\"src/IntraFrame.ear/NewsRoleRestrictions-ejb.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"src\"\n        output\u003d\"src/IntraFrame.ear/NewsSection-ejb.jar\"\npath\u003d\"src/IntraFrame.ear/NewsSection-ejb.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"src\"\n        output\u003d\"src/IntraFrame.ear/SiteNewsCategory-ejb.jar\"\npath\u003d\"src/IntraFrame.ear/SiteNewsCategory-ejb.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"src\"\n        output\u003d\"src/IntraFrame.ear/SiteSection-ejb.jar\"\npath\u003d\"src/IntraFrame.ear/SiteSection-ejb.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"src\"\n        output\u003d\"src/IntraFrame.ear/SiteSectionNews-ejb.jar\"\npath\u003d\"src/IntraFrame.ear/SiteSectionNews-ejb.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"src\"\n        output\u003d\"src/IntraFrame.ear/Template-ejb.jar\"\npath\u003d\"src/IntraFrame.ear/Template-ejb.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"con\" path\u003d\"org.eclipse.jdt.launching.JRE_CONTAINER\"/\u003e\n... few more J2EE-jars etc..",
    "Is there code somewhere which assumes file system entries ending with .jar are\nalways files and not directories? If you give a directory named \"MyEjb.jar\" to\njava.util.zip you\u0027d most certainly get file does not exists-exception.\n\n\u003e java.util.zip.ZipException:\n\u003e Tiedostoa tai hakemistoa ei ole\n\u003e        at java.util.zip.ZipFile.open(Native Method)\n",
    "This seems to be the case. I renamed directory IntraFrame.ear to IntraFrame,\nalso renamed directory Navigation-ejb.jar to Navigation-ejb and things started\nworking. Java Editor can open the classes inside Navigation-ejb.",
    "Renamed the middle directory IntraFrame back to IntraFrame.ear, (kept name of\nNavigationEjb -directory as is) things worked fine.\nRenamed IntraFrame.ear/NavigationEjb to IntraFrame.ear/NavigationEjb.jar and\nthings went broke. \nSo it\u0027s seems that a directory ending with .jar is considered to be a normal\njar-library and is tried to open (for the purpose of searching the classes in it).",
    "I see. We got tricked into thinking the folder was actually a JAR based on its \nextension. Note that note all code was assuming so, but one path did actually \nnot protected as it should have.\n\nFixed in latest",
    "Verified."
  ],
  "commentCreationDates": [
    "2003-02-06T21:51:03+01:00",
    "2003-02-06T22:05:33+01:00",
    "2003-02-06T22:15:09+01:00",
    "2003-02-06T22:17:34+01:00",
    "2003-02-06T22:18:19+01:00",
    "2003-02-06T22:26:57+01:00",
    "2003-02-06T22:34:32+01:00",
    "2003-02-06T22:46:54+01:00",
    "2003-02-06T22:50:16+01:00",
    "2003-02-06T22:56:02+01:00",
    "2003-02-06T23:03:59+01:00",
    "2003-02-07T16:35:02+01:00",
    "2003-02-24T09:51:03+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.util.zip.ZipException",
      "message": "Tiedostoa tai hakemistoa ei ole",
      "elements": [
        {
          "method": "java.util.zip.ZipFile.open",
          "source": "Native Method"
        },
        {
          "method": "java.util.zip.ZipFile.\u003cinit\u003e",
          "source": "ZipFile.java:112"
        },
        {
          "method": "java.util.zip.ZipFile.\u003cinit\u003e",
          "source": "ZipFile.java:72"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelManager.getZipFile",
          "source": "JavaModelManager.java:1057"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JarPackageFragmentRoot.getJar",
          "source": "JarPackageFragmentRoot.java:220"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JarPackageFragmentRoot.computeJarChildren",
          "source": "JarPackageFragmentRoot.java:90"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JarPackageFragmentRoot.computeChildren",
          "source": "JarPackageFragmentRoot.java:71"
        },
        {
          "method": "org.eclipse.jdt.internal.core.PackageFragmentRoot.generateInfos",
          "source": "PackageFragmentRoot.java:442"
        },
        {
          "method": "org.eclipse.jdt.internal.core.Openable.buildStructure",
          "source": "Openable.java:71"
        },
        {
          "method": "org.eclipse.jdt.internal.core.Openable.openWhenClosed",
          "source": "Openable.java:394"
        },
        {
          "method": "org.eclipse.jdt.internal.core.PackageFragmentRoot.openWhenClosed",
          "source": "PackageFragmentRoot.java:782"
        },
        {
          "method": "org.eclipse.jdt.internal.core.Openable.open",
          "source": "Openable.java:346"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JarPackageFragment.openWhenClosed",
          "source": "JarPackageFragment.java:150"
        },
        {
          "method": "org.eclipse.jdt.internal.core.Openable.openParent",
          "source": "Openable.java:369"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.openParent",
          "source": "CompilationUnit.java:751"
        },
        {
          "method": "org.eclipse.jdt.internal.core.WorkingCopy.openParent",
          "source": "WorkingCopy.java:398"
        },
        {
          "method": "org.eclipse.jdt.internal.core.Openable.openWhenClosed",
          "source": "Openable.java:385"
        },
        {
          "method": "org.eclipse.jdt.internal.core.Openable.open",
          "source": "Openable.java:346"
        },
        {
          "method": "org.eclipse.jdt.internal.core.WorkingCopy.open",
          "source": "WorkingCopy.java:354"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.getWorkingCopy",
          "source": "CompilationUnit.java:609"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.getSharedWorkingCopy",
          "source": "CompilationUnit.java:581"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider.createElementInfo",
          "source": "CompilationUnitDocumentProvider.java:850"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractDocumentProvider.connect",
          "source": "AbstractDocumentProvider.java:302"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.textmanipulation.TextBufferFactory.acquire",
          "source": "TextBufferFactory.java:85"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.textmanipulation.TextBuffer.acquire",
          "source": "TextBuffer.java:371"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.codemanipulation.ImportsStructure.aquireTextBuffer",
          "source": "ImportsStructure.java:538"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.codemanipulation.ImportsStructure.create",
          "source": "ImportsStructure.java:517"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.codemanipulation.OrganizeImportsOperation.run",
          "source": "OrganizeImportsOperation.java:527"
        },
        {
          "method": "org.eclipse.jdt.internal.core.BatchOperation.executeOperation",
          "source": "BatchOperation.java:34"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.execute",
          "source": "JavaModelOperation.java:343"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.run",
          "source": "JavaModelOperation.java:671"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1588"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore.run",
          "source": "JavaCore.java:2633"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.actions.WorkbenchRunnableAdapter.run",
          "source": "WorkbenchRunnableAdapter.java:32"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.util.BusyIndicatorRunnableContext$BusyRunnable.internalRun",
          "source": "BusyIndicatorRunnableContext.java:107"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.util.BusyIndicatorRunnableContext$BusyRunnable.run",
          "source": "BusyIndicatorRunnableContext.java:74"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:65"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.util.BusyIndicatorRunnableContext.run",
          "source": "BusyIndicatorRunnableContext.java:120"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.OrganizeImportsAction.run",
          "source": "OrganizeImportsAction.java:375"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.OrganizeImportsAction.run",
          "source": "OrganizeImportsAction.java:257"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun",
          "source": "SelectionDispatchAction.java:191"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.run",
          "source": "SelectionDispatchAction.java:169"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:804"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:450"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java:398"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem.java:392"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java:72"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:77"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:897"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1502"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1319"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1272"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:247"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:703"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:539"
        }
      ],
      "number": 0,
      "commentIndex": 3,
      "bugId": "31168",
      "date": "2003-02-06T22:17:34+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "blocker"
    },
    {
      "exceptionType": "java.util.zip.ZipException",
      "message": "\u003e Tiedostoa tai hakemistoa ei ole \u003e",
      "elements": [
        {
          "method": "java.util.zip.ZipFile.open",
          "source": "Native Method"
        }
      ],
      "number": 1,
      "commentIndex": 8,
      "bugId": "31168",
      "date": "2003-02-06T22:50:16+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "blocker"
    }
  ],
  "groupId": "31168",
  "bugId": "31168",
  "date": "2003-02-06T21:51:03+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "blocker"
}