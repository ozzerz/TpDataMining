{
  "comments": [
    "Created an attachment (id\u003d78973)\nrpt file\n\nBuild ID: Build id: I20070625-1500\n\nSteps To Reproduce:\ncase 1) \n\nwe upgraded from BIRT 2.1.1 to 2.2 , I have try to run existing Birt report which contains scripted data source.\n\nI am getting this error\n\nscript source: DataSet[scSet].__bm_OPEN, line: 1, text:\n__bm_OPEN(). See next exception for more information.\nError evaluating Javascript expression. Script engine error: TypeError: [JavaPackage com.efrontier.webapps.express.common.core.BirtDynamicDB] is not a function. (DataSet[scSet].__bm_OPEN#2)\n Script source: DataSet[scSet].__bm_OPEN, line: 1, text:\n__bm_OPEN()\norg.eclipse.birt.data.engine.core.DataException: A BIRT exception occurred: Error evaluating Javascript expression. Script engine error: TypeError: [JavaPackage com.efrontier.webapps.express.common.core.BirtDynamicDB] is not a function. (DataSet[scSet].__bm_OPEN#2)\n Script source: DataSet[scSet].__bm_OPEN, line: 1, text:\n__bm_OPEN(). See next exception for more information.\nError evaluating Javascript expression. Script engine error: TypeError: [JavaPackage com.efrontier.webapps.express.common.core.BirtDynamicDB] is not a function. (DataSet[scSet].__bm_OPEN#2)\n Script source: DataSet[scSet].__bm_OPEN, line: 1, text:\n\n\ncase 2)\nI have created sample report with JDBC data source, which is also giving error like below\n\nSep 21, 2007 5:05:15 PM org.eclipse.birt.report.engine.api.impl.RunTask doRun\nSEVERE: Error happened while running the report.\njava.lang.NoClassDefFoundError: org/postgresql/Driver\n        at java.lang.ClassLoader.defineClass2(Native Method)\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:719)\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:160)\n        at java.net.URLClassLoader.defineClass(URLClassLoader.java:254)\n        at java.net.URLClassLoader.access$100(URLClassLoader.java:56)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:195)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:188)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:251)\n        at org.eclipse.birt.report.data.oda.jdbc.JDBCDriverManager.loadExtraDriver(JDBCDriverManager.java:661)\n        at org.eclipse.birt.report.data.oda.jdbc.JDBCDriverManager.loadAndRegisterDriver(JDBCDriverManager.jav\na:598)\n        at org.eclipse.birt.report.data.oda.jdbc.JDBCDriverManager.doConnect(JDBCDriverManager.java:180)\n        at org.eclipse.birt.report.data.oda.jdbc.JDBCDriverManager.getConnection(JDBCDriverManager.java:146)\n\n\n\nMore information:\n\nplease refer attached rptdesign file",
    "Please make sure the driver library is in the classpath, so that the DriverClassLoader can load it successfully. Please give us more feedbacks later. Thanks a lot.",
    "Hi,\n\n  we have our own driver jar file  , which is located in\n  tomcat/server/project1/plugins/org.eclipse.birt.report.data.oda.jdbc_2.2.0.v20070615/drivers/test.jar\n\nbut postgresql jar was located in below path, our driver jar file was refering postgrep Driver class.\n\n /tomcat/server/vendor/common/lib.\n\nI have added below code in my Report Engine class.\n\n System.setProperty(EngineConstants.WEBAPP_CLASSPATH_KEY,\" /tomcat/server/vendor/common/lib.\" );\n\ncan you please send me how to set class path in Report Engine.\n\nregards\nEnnigo\n \n ",
    "any update on this issue?",
    "any update on this issue . please send me solution.",
    "we can\u0027t reproduce this problem. Would you please attach your driver jar file? Thanks!",
    "Created an attachment (id\u003d79926)\nDriver jar file\n\n",
    "please find attached jar file",
    "Maybe the provied driver miss sothing, which leads to an exception named com.efrontier.common.core.DBConnectionException. You\u0027d better provide complete jar  file to us.\nRegards",
    "this is our complete jar file. I am getting this error\n\norg/postgresql/Driver.\nThis is becuase Report Engine not able to find our class path.\n\n\n\n",
    "EngineConstants.WEBAPP_CLASSPATH_KEY is used for platform to load script related libraries. If you want to reference postgresql driver from your own oda driver, you should wrap it with your oda driver and declare the dependency relationship in the MANIFEST.MF file. Please give me feedback if it works, thanks!",
    "I have added below code in My ReporEngine java file.\n\npublic static synchronized void createEngine() {\n\t\tconfig \u003d new EngineConfig();\n\t\t// Use the express webapps to be the root directory for BIRT report\n\t\tconfig.setEngineHome(\"/cv/server/express/\");\n\t\t\n\t\t     \n\t    System.setProperty( EngineConstants.WEBAPP_CLASSPATH_KEY,\"/cv/jvendor/common/lib/postgresql-8.2-505.jdbc3.jar\" );\n\t   \t\t\n\t\t// All BIRT reports will be shown on the UI as HTML\n\t\tHTMLEmitterConfig emitterConfig \u003d new HTMLEmitterConfig();\n\t\temitterConfig.setActionHandler(new HTMLActionHandler());\n\t\t// All images would be accessed using the HTTP protocol instead of the FILE protocol\n\t\tHTMLServerImageHandler imageHandler \u003d new HTMLServerImageHandler();\n\t\temitterConfig.setImageHandler(imageHandler);\n\t\tconfig.getEmitterConfigs().put(\"html\", emitterConfig);\n\t\ttry {\n\t\t\t\n\t\t      Platform.startup( config );\n\t\t\t  IReportEngineFactory factory \u003d (IReportEngineFactory) Platform\n\t\t\t  .createFactoryObject( IReportEngineFactory.EXTENSION_REPORT_ENGINE_FACTORY );\n\t\t\t  iEngine \u003d factory.createReportEngine( config );\n              iEngine \u003d new ReportEngine(config);\n              engine \u003d(ReportEngine)iEngine;\n              \n            \n\t\t} catch (Exception ex) {\n\t\t\tex.printStackTrace();\n\t\t}\n\t}\n\n\nalso added below code in MANIFEST.MF file\n\nBundle-ClassPath: oda-jdbc.jar,derby.jar,/cv/jvendor/common/lib/postgresql-8.2-505.jdbc3.jar,/cv/server/shared/lib/ef_java_platform.jar\n\nbut Still I am getting this error\n\njava.lang.NoClassDefFoundError: org/postgresql/Driver\n",
    "You should put the refenrenced jar libraries into your oda driver plugin\u0027s folder.  Would you please attach the whole oda driver plugin so that we can try to reproduce this problem? Thanks!",
    "it is working in birt 2.1 without copying referenced jar libraries into my oda driver plugin\u0027s folder.\n\nplease refer attached oda drivers folder.",
    "Created an attachment (id\u003d80113)\nODA plugins Directory\n\n",
    "I\u0027m sorry the uploaded oda plugin is empty, while I think it should contians some other materials, such as jar file, plugin.xml and manifest.mf.",
    "Created an attachment (id\u003d80117)\nuploaded right oda plugin directory\n\n",
    "Please try to put postgresql-8.2-505.jdbc3.jar under directory tomcat/server/project1/plugins/org.eclipse.birt.report.data.oda.jdbc_2.2.0.v20070615/drivers/",
    "I have copied and not getting this error.\n\nBut my doubt is, birt 2.1 we havent copied this post grep jar file in to \ndrivers directory and working fine and also not getting any error.\n\nif anything changed in Birt2.2 report engine and where can I get Documentaation for new API changes.\n\nThanks\nEnnigo\n\n\n\n",
    "any update on this issue.",
    "can you please send me solution.",
    "Hi Ennigo,\n\nIt is not proper and consistent to OSGi for BIRT 2.1 to allow plugins to access jars for Web application: this is actually a bug. That is why we remove it from BIRT 2.2.\n\nThe correct way to use library jar files for a plugin should be one of following:\n1.Include the jar file in the plugin directory\n2.Make the jar file itself an eclipse plugin, and export it in Manifest.mf file.\n\nFor your case, unfortunately you have to use one of above solutions to make your ODA plugin run...Sorry for the inconvenience...\n\nSo this bug will not be fixed. \n\nThanks.\nLin",
    "Hi Lin Zhu,\n\n           can you please elaborate the Step 2. how to build plugins or send me useful links.\n\nThanks\nEnnigo",
    "Hi,\n\nIt is very easy to create an eclipse plugin with specific jar.\n\nFirst you need to create an eclipse plugin project, just as what you do when you create a normal eclipse plugin.\n\nThen you need to copy the jar file to plugin directory, and edit your plugin build path to make it part of your reference library.\n\nAfter this is done you need to go to Manifest.mf file, and exports all necessary package.\n\nA ready example could be derby plugin org.apache.derby.core, which is shipped together with BIRT.\n\nFor more details info, you may go to eclipse website http://www.eclipse.org/documentation/ to download eclipse documentations. They have very detailed explanation on how to create an eclipse plugin.\n\nAs bugzilla is used for bug report only, I will mark the bug as won\u0027t fix. For more questions against this problem, you may either email me directly (lzhu@actuate.com) or use BIRT newsgroup.\n\nThanks.\nLin"
  ],
  "commentCreationDates": [
    "2007-09-21T15:19:13+02:00",
    "2007-09-24T08:16:16+02:00",
    "2007-09-25T07:52:39+02:00",
    "2007-10-03T06:24:45+02:00",
    "2007-10-08T13:11:30+02:00",
    "2007-10-09T04:23:19+02:00",
    "2007-10-09T07:20:59+02:00",
    "2007-10-09T07:22:01+02:00",
    "2007-10-09T11:24:37+02:00",
    "2007-10-09T11:59:58+02:00",
    "2007-10-10T07:56:26+02:00",
    "2007-10-10T15:37:45+02:00",
    "2007-10-11T04:16:09+02:00",
    "2007-10-11T06:14:47+02:00",
    "2007-10-11T06:19:34+02:00",
    "2007-10-11T08:30:00+02:00",
    "2007-10-11T08:52:46+02:00",
    "2007-10-12T08:52:08+02:00",
    "2007-10-12T15:15:15+02:00",
    "2007-10-15T12:28:35+02:00",
    "2007-10-17T15:36:36+02:00",
    "2007-10-19T08:57:36+02:00",
    "2007-10-19T10:09:15+02:00",
    "2007-10-19T10:53:03+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoClassDefFoundError",
      "message": "org/postgresql/Driver",
      "elements": [
        {
          "method": "java.lang.ClassLoader.defineClass2",
          "source": "Native Method"
        },
        {
          "method": "java.lang.ClassLoader.defineClass",
          "source": "ClassLoader.java:719"
        },
        {
          "method": "java.security.SecureClassLoader.defineClass",
          "source": "SecureClassLoader.java:160"
        },
        {
          "method": "java.net.URLClassLoader.defineClass",
          "source": "URLClassLoader.java:254"
        },
        {
          "method": "java.net.URLClassLoader.access$100",
          "source": "URLClassLoader.java:56"
        },
        {
          "method": "java.net.URLClassLoader$1.run",
          "source": "URLClassLoader.java:195"
        },
        {
          "method": "java.security.AccessController.doPrivileged",
          "source": "Native Method"
        },
        {
          "method": "java.net.URLClassLoader.findClass",
          "source": "URLClassLoader.java:188"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:306"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:251"
        },
        {
          "method": "org.eclipse.birt.report.data.oda.jdbc.JDBCDriverManager.loadExtraDriver",
          "source": "JDBCDriverManager.java:661"
        },
        {
          "method": "org.eclipse.birt.report.data.oda.jdbc.JDBCDriverManager.loadAndRegisterDriver",
          "source": "JDBCDriverManager.jav a:598"
        },
        {
          "method": "org.eclipse.birt.report.data.oda.jdbc.JDBCDriverManager.doConnect",
          "source": "JDBCDriverManager.java:180"
        },
        {
          "method": "org.eclipse.birt.report.data.oda.jdbc.JDBCDriverManager.getConnection",
          "source": "JDBCDriverManager.java:146"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "204271",
      "date": "2007-09-21T15:19:13+02:00",
      "product": "BIRT",
      "component": "Data",
      "severity": "critical"
    }
  ],
  "groupId": "204271",
  "bugId": "204271",
  "date": "2007-09-21T15:19:13+02:00",
  "product": "BIRT",
  "component": "Data",
  "severity": "critical"
}