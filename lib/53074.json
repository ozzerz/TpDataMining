{
  "comments": [
    "For example, the CView via the CElementContentProvider\nis doing \n  ITranslation.getChildren()\n\nBut it seems we are still working on the IFile instead\nof the WorkingCopy / BufferFactory were the update to date\ncontent of the file is(if it is open inside the CEditor).\n\nReassign to Hoda.",
    "Alain,\n\nIt is not the getChildren() that is broken. It is just that the CView is not \nasked to refresh its TreeView except with a save. We just need to ask it to \nrefresh with each reconcile, just like with the outline view.\n\nChanging the title to be more accurate.\n",
    "\u003e We just need to ask it to \n\u003e refresh with each reconcile, just like with the outline view.\n\nYes, I see what you mean.\nBut is this the right approach?  The CEditor is tied with\nthe Outliner it is easy to call the update on the outliner when\nthe buffer is dirty.  Not so easy for the CView and other listeners.\n\nActually, I think you have some commented code that deal with this\nin WorkingCopy.reconcile(..),  CElementDeltaBuilder is call and\nan ICElementDelta is sent to all the listeners.\n\nThis is how it is done now in the JDT. The outliner is no longer\na special case.",
    "Oh my God ! you know the code by heart :-)\nI think you are right. It was not enough to broadcast the reconcile event to \nall listener (the commented code you were talking about). It was also \nimportant to get the children of a translation unit using its working copy if \nit has one. Of course, unlike the outliner, we can not assume that every \ntranslation unit has an associated working copy in the CView.\nI have a patch to submit, but I need to test it well and try it on Linux \nfirst. I do not want the flickering problem to come back.\nThanks for all your advice Alain.",
    "Bug fixed in HEAD.\nTested on Windows and Linux. Hopefully with flickering.",
    "\u003e Tested on Windows and Linux. Hopefully with flickering.\n\n\nYou probably mean __whithout__ flickering 8-)\n\nIn any case, it seems to cause a null pointer exception when the CView\nis asking for the IWorkingCopy of the ITranslationUnit.\nI\u0027ve change the code a little to fix this by getting the shared copy.\n   tu.getSharedWorkingCopy(..)\ninstead of the editor WorkingCopyManager.  StrackTrace below.\n\nFix in the head, leaving PR as resolved,  Later.\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\njava.lang.NullPointerException\n        at org.eclipse.cdt.internal.core.model.Parent.getChildren(Parent.java:47)\n        at\norg.eclipse.cdt.internal.ui.BaseCElementContentProvider.getChildren(BaseCElementContentProvider.java:139)\n        at\norg.eclipse.jface.viewers.AbstractTreeViewer.getRawChildren(AbstractTreeViewer.java:729)\n        at\norg.eclipse.jface.viewers.StructuredViewer.getFilteredChildren(StructuredViewer.java:463)\n        at\norg.eclipse.jface.viewers.StructuredViewer.getSortedChildren(StructuredViewer.java:567)\n        at\norg.eclipse.jface.viewers.AbstractTreeViewer$1.run(AbstractTreeViewer.java:361)\n        at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)\n        at\norg.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:349)\n        at\norg.eclipse.jface.viewers.AbstractTreeViewer.handleTreeExpand(AbstractTreeViewer.java:775)\n        at\norg.eclipse.jface.viewers.AbstractTreeViewer$4.treeExpanded(AbstractTreeViewer.java:786)\n        at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:179)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:956)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:980)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:965)\n        at org.eclipse.swt.widgets.Tree.gtk_test_expand_row(Tree.java:674)\n        at org.eclipse.swt.widgets.Widget.windowProc(Widget.java:1240)\n        at org.eclipse.swt.widgets.Display.windowProc(Display.java:2368)\n        at org.eclipse.swt.internal.gtk.OS.gtk_main_do_event(Native Method)\n        at org.eclipse.swt.widgets.Display.eventProc(Display.java:728)\n        at org.eclipse.swt.internal.gtk.OS.gtk_main_iteration(Native Method)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1650)\n        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1566)\n        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1542)\n        at\norg.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:263)\n        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)\n        at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:47)\n        at\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:256)\n        at\norg.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:100)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)"
  ],
  "commentCreationDates": [
    "2004-02-25T16:30:58+01:00",
    "2004-02-26T15:26:58+01:00",
    "2004-02-27T16:13:33+01:00",
    "2004-02-27T17:39:57+01:00",
    "2004-02-27T21:08:56+01:00",
    "2004-02-29T00:37:29+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.cdt.internal.core.model.Parent.getChildren",
          "source": "Parent.java:47"
        },
        {
          "method": "org.eclipse.cdt.internal.ui.BaseCElementContentProvider.getChildren",
          "source": "BaseCElementContentProvider.java:139"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.getRawChildren",
          "source": "AbstractTreeViewer.java:729"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.getFilteredChildren",
          "source": "StructuredViewer.java:463"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.getSortedChildren",
          "source": "StructuredViewer.java:567"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$1.run",
          "source": "AbstractTreeViewer.java:361"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:84"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.createChildren",
          "source": "AbstractTreeViewer.java:349"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.handleTreeExpand",
          "source": "AbstractTreeViewer.java:775"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$4.treeExpanded",
          "source": "AbstractTreeViewer.java:786"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:179"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:956"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:980"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:965"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.gtk_test_expand_row",
          "source": "Tree.java:674"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.windowProc",
          "source": "Widget.java:1240"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:2368"
        },
        {
          "method": "org.eclipse.swt.internal.gtk.OS.gtk_main_do_event",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.eventProc",
          "source": "Display.java:728"
        },
        {
          "method": "org.eclipse.swt.internal.gtk.OS.gtk_main_iteration",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1650"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1566"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1542"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:263"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:139"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:47"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:256"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:100"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        }
      ],
      "number": 0,
      "commentIndex": 5,
      "bugId": "53074",
      "date": "2004-02-29T00:37:29+01:00",
      "product": "CDT",
      "component": "cdt-core",
      "severity": "normal"
    }
  ],
  "groupId": "53074",
  "bugId": "53074",
  "date": "2004-02-25T16:30:58+01:00",
  "product": "CDT",
  "component": "cdt-core",
  "severity": "normal"
}