{
  "comments": [
    "The error is very intermittent but occurs during a period of frequent updates to\nthe tree.  \n\nMy guess is that the new tree item is disposed somewhere in the call to\nStructuredViewer.updateItem, which in turn calls SafeRunnable.run(new\nUpdateItemSafeRunnable(widget, element, true)), which ends up calling\nTreeViewer.doUpdateItem.  TreeViewer.doUpdateItem itself checks\nitem.isDisposed() more than once, because the user code within could run the\nevent loop and dispose the widget.  \nIt might be enough to reverse the order of calls to updateItem and updatePlus,\nor to check if item is disposed before calling updatePlus.\n\norg.eclipse.swt.SWTException: Widget is disposed\n\tat org.eclipse.swt.SWT.error(SWT.java:2942)\n\tat org.eclipse.swt.SWT.error(SWT.java:2865)\n\tat org.eclipse.swt.SWT.error(SWT.java:2836)\n\tat org.eclipse.swt.widgets.Widget.error(Widget.java:395)\n\tat org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:297)\n\tat org.eclipse.swt.widgets.TreeItem.getItemCount(TreeItem.java:566)\n\tat org.eclipse.jface.viewers.TreeViewer.getItemCount(TreeViewer.java:379)\n\tat\norg.eclipse.jface.viewers.AbstractTreeViewer.updatePlus(AbstractTreeViewer.java:1844)\n\tat\norg.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem(AbstractTreeViewer.java:536)\n\tat\norg.eclipse.jface.viewers.AbstractTreeViewer.createAddedElements(AbstractTreeViewer.java:248)\n\tat\norg.eclipse.jface.viewers.AbstractTreeViewer.internalAdd(AbstractTreeViewer.java:181)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.add(AbstractTreeViewer.java:124)\n\tat\norg.eclipse.debug.internal.ui.views.RemoteTreeViewer.add(RemoteTreeViewer.java:268)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.add(AbstractTreeViewer.java:393)\n\tat\norg.eclipse.debug.internal.ui.views.RemoteTreeViewer.add(RemoteTreeViewer.java:260)\n\tat\norg.eclipse.debug.internal.ui.views.launch.LaunchViewer.add(LaunchViewer.java:39)\n\tat\norg.eclipse.debug.internal.ui.views.AbstractDebugEventHandler.insert(AbstractDebugEventHandler.java:208)\n\tat\norg.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleDebugEvents(LaunchViewEventHandler.java:108)\n\tat\norg.eclipse.debug.internal.ui.views.AbstractDebugEventHandler$EventProcessingJob.runInUIThread(AbstractDebugEventHandler.java:105)\n\tat org.eclipse.ui.progress.UIJob$1.run(UIJob.java:93)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3057)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2716)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat\ncom.windriver.ide.application.CopyOfIDEApplication.run(CopyOfIDEApplication.java:103)\n\tat\ncom.windriver.ide.application.UnifiedSWTSwingApplication.access$101(UnifiedSWTSwingApplication.java:24)\n\tat\ncom.windriver.ide.application.UnifiedSWTSwingApplication.run(UnifiedSWTSwingApplication.java:33)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n\tat org.eclipse.core.launcher.Main.run(Main.java:973)\n\tat org.eclipse.core.launcher.Main.main(Main.java:948)",
    "Does the error occur in the Eclipse SDK (so that I have a chance to reproduce\nit)? Do you have an idea how I could turn this into a JUnit test case?",
    "We\u0027ve only oberved this bug with our implementation of the debugger, and as it\nis, we\u0027ve only had two recorded cases of it.  \nOur debugger implementation is particular in that it\u0027s very asynchronous in\nnature, and it ends up posting a lot of updates to the tree items, sometimes in\nrapid succession.  \nSince this is a multi-threaded timing issue I\u0027m not sure if you could reliably\nreproduce it in a junit test case.  But if you *really* wanted to force this\nerror, I suppose you could intentionally remove the tree item from the label\nprovider that is called by the TreeViewer.doUpdateItem.",
    "\n\n*** This bug has been marked as a duplicate of 139328 ***"
  ],
  "commentCreationDates": [
    "2005-10-19T22:35:29+02:00",
    "2005-10-20T16:03:58+02:00",
    "2005-10-20T16:23:03+02:00",
    "2006-05-23T19:58:00+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Widget is disposed",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2942"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2865"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2836"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:395"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.checkWidget",
          "source": "Widget.java:297"
        },
        {
          "method": "org.eclipse.swt.widgets.TreeItem.getItemCount",
          "source": "TreeItem.java:566"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.getItemCount",
          "source": "TreeViewer.java:379"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.updatePlus",
          "source": "AbstractTreeViewer.java:1844"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem",
          "source": "AbstractTreeViewer.java:536"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.createAddedElements",
          "source": "AbstractTreeViewer.java:248"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalAdd",
          "source": "AbstractTreeViewer.java:181"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.add",
          "source": "AbstractTreeViewer.java:124"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.RemoteTreeViewer.add",
          "source": "RemoteTreeViewer.java:268"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.add",
          "source": "AbstractTreeViewer.java:393"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.RemoteTreeViewer.add",
          "source": "RemoteTreeViewer.java:260"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchViewer.add",
          "source": "LaunchViewer.java:39"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.AbstractDebugEventHandler.insert",
          "source": "AbstractDebugEventHandler.java:208"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleDebugEvents",
          "source": "LaunchViewEventHandler.java:108"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.AbstractDebugEventHandler$EventProcessingJob.runInUIThread",
          "source": "AbstractDebugEventHandler.java:105"
        },
        {
          "method": "org.eclipse.ui.progress.UIJob$1.run",
          "source": "UIJob.java:93"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:123"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3057"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2716"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1699"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1663"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:367"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "com.windriver.ide.application.CopyOfIDEApplication.run",
          "source": "CopyOfIDEApplication.java:103"
        },
        {
          "method": "com.windriver.ide.application.UnifiedSWTSwingApplication.access$101",
          "source": "UnifiedSWTSwingApplication.java:24"
        },
        {
          "method": "com.windriver.ide.application.UnifiedSWTSwingApplication.run",
          "source": "UnifiedSWTSwingApplication.java:33"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "113155",
      "duplicateId": "139328",
      "date": "2005-10-19T22:35:29+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "154571",
  "bugId": "113155",
  "duplicateId": "139328",
  "date": "2005-10-19T22:35:29+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}