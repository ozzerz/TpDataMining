{
  "comments": [
    "This NPE was generated multiple times after publishing a WLS EAR project to a\ncustom WLS server instance; the workspace also contained a wls EJB project (that\nhad been bound to an EAR that was associated w/ a deleted server instance;\nexecuting the module factory class for the module type associated w/ the EJB\nmodule triggered the sequence of calls that resulted in the NPE); although this\nmay be due to a problem in our custom plugins, I\u0027m assuming the underlying code\nshould not generate the NPE (note: this could be an EMF issue rather than an WTP\nissue).\n\n...\njava.lang.NullPointerException\n    at org.eclipse.emf.ecore.util.EcoreUtil.getAdapter(EcoreUtil.java:144)\n    at\norg.eclipse.wst.common.internal.emf.resource.EMF2DOMRenderer.preUnload(EMF2DOMRenderer.java:243)\n    at\norg.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.doUnload(TranslatorResourceImpl.java:185)\n    at\norg.eclipse.emf.ecore.resource.impl.ResourceImpl.unload(ResourceImpl.java:1101)\n    at\norg.eclipse.wst.common.internal.emf.resource.ReferencedXMIResourceImpl.unloadIfNecessary(ReferencedXMIResourceImpl.java:135)\n    at\norg.eclipse.wst.common.internal.emf.resource.ReferencedXMIResourceImpl.releaseFromRead(ReferencedXMIResourceImpl.java:188)\n    at\norg.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.releaseFromRead(TranslatorResourceImpl.java:343)\n    at\norg.eclipse.wst.common.componentcore.internal.ModuleStructuralModel.release(ModuleStructuralModel.java:64)\n    at\norg.eclipse.wst.common.internal.emfworkbench.integration.EditModel.release(EditModel.java:979)\n    at\norg.eclipse.wst.common.internal.emfworkbench.integration.EditModel.releaseResources(EditModel.java:1001)\n    at\norg.eclipse.wst.common.internal.emfworkbench.integration.EditModel.dispose(EditModel.java:161)\n    at\norg.eclipse.wst.common.internal.emfworkbench.integration.EditModel.releaseAccess(EditModel.java:966)\n    at\norg.eclipse.wst.common.componentcore.internal.StructureEdit.dispose(StructureEdit.java:467)\n    at\norg.eclipse.wst.common.componentcore.internal.resources.FlexibleProject.getComponents(FlexibleProject.java:50)\n    at\ncom.bea.wlw.ejb.core.project.EJBModuleFactory.isValidModule(EJBModuleFactory.java:38)\n    at\norg.eclipse.wst.server.core.util.ProjectModuleFactoryDelegate.cacheModules(ProjectModuleFactoryDelegate.java:68)\n    at\ncom.bea.wlw.ejb.core.project.EJBModuleFactory.getModules(EJBModuleFactory.java:75)\n    at\norg.eclipse.wst.server.core.internal.ModuleFactory.getModules(ModuleFactory.java:129)\n    at org.eclipse.wst.server.core.ServerUtil.getModules(ServerUtil.java:255)\n    at org.eclipse.wst.server.core.ServerUtil.getModules(ServerUtil.java:53)\n    at\norg.eclipse.jst.j2ee.internal.deployables.FlexibleProjectServerUtil.getModules(FlexibleProjectServerUtil.java:72)\n    at\norg.eclipse.jst.j2ee.internal.deployables.FlexibleProjectServerUtil.getModule(FlexibleProjectServerUtil.java:34)\n    at\norg.eclipse.jst.j2ee.internal.deployables.EnterpriseApplicationDeployable.getModules(EnterpriseApplicationDeployable.java:56)\n    at\ncom.bea.wlw.server.internal.core.WeblogicServer.getChildModules(WeblogicServer.java:341)\n    at org.eclipse.wst.server.core.internal.Server.getChildModules(Server.java:1859)\n    at\norg.eclipse.wst.server.ui.internal.view.servers.ServerTableViewer$ServerContentProvider.getChildren(ServerTableViewer.java:77)\n    at\norg.eclipse.jface.viewers.AbstractTreeViewer.getRawChildren(AbstractTreeViewer.java:899)\n    at\norg.eclipse.jface.viewers.StructuredViewer.getFilteredChildren(StructuredViewer.java:790)\n    at\norg.eclipse.jface.viewers.StructuredViewer.getSortedChildren(StructuredViewer.java:905)\n    at\norg.eclipse.jface.viewers.AbstractTreeViewer.updateChildren(AbstractTreeViewer.java:1707)\n    at\norg.eclipse.jface.viewers.AbstractTreeViewer.internalRefreshStruct(AbstractTreeViewer.java:1268)\n    at\norg.eclipse.jface.viewers.AbstractTreeViewer.internalRefreshStruct(AbstractTreeViewer.java:1275)\n ...",
    "We\u0027re seeing this in other contexts as well.  Here it is during a call to \ngetComponentTypeId() from the Var Validator\n\n     [java] java.lang.NullPointerException\n     [java] \tat org.eclipse.emf.ecore.util.EcoreUtil.getAdapter\n(EcoreUtil.java:144)\n     [java] \tat \norg.eclipse.wst.common.internal.emf.resource.EMF2DOMRenderer.preUnload\n(EMF2DOMRenderer.java:243)\n     [java] \tat \norg.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.doUnload\n(TranslatorResourceImpl.java:185)\n     [java] \tat org.eclipse.emf.ecore.resource.impl.ResourceImpl.unload\n(ResourceImpl.java:1101)\n     [java] \tat \norg.eclipse.wst.common.internal.emf.resource.ReferencedXMIResourceImpl.unloadIf\nNecessary(ReferencedXMIResourceImpl.java:135)\n     [java] \tat \norg.eclipse.wst.common.internal.emf.resource.ReferencedXMIResourceImpl.releaseF\nromRead(ReferencedXMIResourceImpl.java:188)\n     [java] \tat \norg.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.releaseFrom\nRead(TranslatorResourceImpl.java:343)\n     [java] \tat \norg.eclipse.wst.common.componentcore.internal.ModuleStructuralModel.release\n(ModuleStructuralModel.java:64)\n     [java] \tat \norg.eclipse.wst.common.internal.emfworkbench.integration.EditModel.release\n(EditModel.java:979)\n     [java] \tat \norg.eclipse.wst.common.internal.emfworkbench.integration.EditModel.releaseResou\nrces(EditModel.java:1001)\n     [java] \tat \norg.eclipse.wst.common.internal.emfworkbench.integration.EditModel.dispose\n(EditModel.java:161)\n     [java] \tat \norg.eclipse.wst.common.internal.emfworkbench.integration.EditModel.releaseAcces\ns(EditModel.java:966)\n     [java] \tat \norg.eclipse.wst.common.componentcore.internal.StructureEdit.dispose\n(StructureEdit.java:467)\n     [java] \tat \norg.eclipse.wst.common.componentcore.internal.resources.VirtualComponent.getCom\nponentTypeId(VirtualComponent.java:97)\n     [java] \tat \norg.eclipse.jst.j2ee.internal.web.validation.UIWarValidator.validate\n(UIWarValidator.java:89)\n     [java] \tat \norg.eclipse.wst.validation.internal.core.ValidatorLauncher.start\n(ValidatorLauncher.java:90)\n     [java] \tat \norg.eclipse.wst.validation.internal.operations.ValidationOperation.launchValida\ntor(ValidationOperation.java:1196)\n     [java] \tat \norg.eclipse.wst.validation.internal.operations.ValidationOperation.internalVali\ndate(ValidationOperation.java:1022)\n     [java] \tat \norg.eclipse.wst.validation.internal.operations.ValidationOperation.validate\n(ValidationOperation.java:928)\n     [java] \tat \norg.eclipse.wst.validation.internal.operations.ValidationOperation.run\n(ValidationOperation.java:639)\n     [java] \tat \norg.eclipse.wst.validation.internal.operations.ValidationBuilder.performFullBui\nld(ValidationBuilder.java:262)\n     [java] \tat \norg.eclipse.wst.validation.internal.operations.ValidationBuilder.performFullBui\nld(ValidationBuilder.java:254)\n     [java] \tat \norg.eclipse.wst.validation.internal.operations.ValidationBuilder.build\n(ValidationBuilder.java:195)\n     [java] \tat org.eclipse.core.internal.events.BuildManager$2.run\n(BuildManager.java:593)\n     [java] \tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:1044)\n     [java] \tat org.eclipse.core.runtime.Platform.run(Platform.java:783)\n     [java] \tat org.eclipse.core.internal.events.BuildManager.basicBuild\n(BuildManager.java:168)\n     [java] \tat org.eclipse.core.internal.events.BuildManager.basicBuild\n(BuildManager.java:202)\n     [java] \tat org.eclipse.core.internal.events.BuildManager$1.run\n(BuildManager.java:231)\n     [java] \tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:1044)\n     [java] \tat org.eclipse.core.runtime.Platform.run(Platform.java:783)\n     [java] \tat org.eclipse.core.internal.events.BuildManager.basicBuild\n(BuildManager.java:234)\n",
    "Note that the exceptions logged above were generated using the 8/23 I-build.\nWe are in the process of migrating to M8, and will update the bug with info \nbased M8 when we have it.",
    "I believe this defect will go away.  We are removing the Flexible Project class\nas we only have one component per project and we are also removing component\ntype from virtual component in leiu of the project facets.  So, these stack\ntraces should never get invoked.\n\nUse 108681 to track.\n\n*** This bug has been marked as a duplicate of 108681 ***",
    "verifying as a dup, however, thre may be other cases that could trigger the NPE; Ted: do you know if this has been seen recently?",
    "OK"
  ],
  "commentCreationDates": [
    "2005-09-21T18:51:54+02:00",
    "2005-09-23T23:16:18+02:00",
    "2005-09-28T00:43:09+02:00",
    "2005-09-30T16:38:16+02:00",
    "2005-12-14T18:52:04+01:00",
    "2005-12-14T21:15:26+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.emf.ecore.util.EcoreUtil.getAdapter",
          "source": "EcoreUtil.java:144"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMRenderer.preUnload",
          "source": "EMF2DOMRenderer.java:243"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.doUnload",
          "source": "TranslatorResourceImpl.java:185"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceImpl.unload",
          "source": "ResourceImpl.java:1101"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.ReferencedXMIResourceImpl.unloadIfNecessary",
          "source": "ReferencedXMIResourceImpl.java:135"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.ReferencedXMIResourceImpl.releaseFromRead",
          "source": "ReferencedXMIResourceImpl.java:188"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.releaseFromRead",
          "source": "TranslatorResourceImpl.java:343"
        },
        {
          "method": "org.eclipse.wst.common.componentcore.internal.ModuleStructuralModel.release",
          "source": "ModuleStructuralModel.java:64"
        },
        {
          "method": "org.eclipse.wst.common.internal.emfworkbench.integration.EditModel.release",
          "source": "EditModel.java:979"
        },
        {
          "method": "org.eclipse.wst.common.internal.emfworkbench.integration.EditModel.releaseResources",
          "source": "EditModel.java:1001"
        },
        {
          "method": "org.eclipse.wst.common.internal.emfworkbench.integration.EditModel.dispose",
          "source": "EditModel.java:161"
        },
        {
          "method": "org.eclipse.wst.common.internal.emfworkbench.integration.EditModel.releaseAccess",
          "source": "EditModel.java:966"
        },
        {
          "method": "org.eclipse.wst.common.componentcore.internal.StructureEdit.dispose",
          "source": "StructureEdit.java:467"
        },
        {
          "method": "org.eclipse.wst.common.componentcore.internal.resources.FlexibleProject.getComponents",
          "source": "FlexibleProject.java:50"
        },
        {
          "method": "com.bea.wlw.ejb.core.project.EJBModuleFactory.isValidModule",
          "source": "EJBModuleFactory.java:38"
        },
        {
          "method": "org.eclipse.wst.server.core.util.ProjectModuleFactoryDelegate.cacheModules",
          "source": "ProjectModuleFactoryDelegate.java:68"
        },
        {
          "method": "com.bea.wlw.ejb.core.project.EJBModuleFactory.getModules",
          "source": "EJBModuleFactory.java:75"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.ModuleFactory.getModules",
          "source": "ModuleFactory.java:129"
        },
        {
          "method": "org.eclipse.wst.server.core.ServerUtil.getModules",
          "source": "ServerUtil.java:255"
        },
        {
          "method": "org.eclipse.wst.server.core.ServerUtil.getModules",
          "source": "ServerUtil.java:53"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.deployables.FlexibleProjectServerUtil.getModules",
          "source": "FlexibleProjectServerUtil.java:72"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.deployables.FlexibleProjectServerUtil.getModule",
          "source": "FlexibleProjectServerUtil.java:34"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.deployables.EnterpriseApplicationDeployable.getModules",
          "source": "EnterpriseApplicationDeployable.java:56"
        },
        {
          "method": "com.bea.wlw.server.internal.core.WeblogicServer.getChildModules",
          "source": "WeblogicServer.java:341"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.Server.getChildModules",
          "source": "Server.java:1859"
        },
        {
          "method": "org.eclipse.wst.server.ui.internal.view.servers.ServerTableViewer$ServerContentProvider.getChildren",
          "source": "ServerTableViewer.java:77"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.getRawChildren",
          "source": "AbstractTreeViewer.java:899"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.getFilteredChildren",
          "source": "StructuredViewer.java:790"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.getSortedChildren",
          "source": "StructuredViewer.java:905"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.updateChildren",
          "source": "AbstractTreeViewer.java:1707"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalRefreshStruct",
          "source": "AbstractTreeViewer.java:1268"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalRefreshStruct",
          "source": "AbstractTreeViewer.java:1275"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "110210",
      "duplicateId": "108681",
      "date": "2005-09-21T18:51:54+02:00",
      "product": "Web Tools",
      "component": "wst.common",
      "severity": "major"
    }
  ],
  "groupId": "108681",
  "bugId": "110210",
  "duplicateId": "108681",
  "date": "2005-09-21T18:51:54+02:00",
  "product": "Web Tools",
  "component": "wst.common",
  "severity": "major"
}