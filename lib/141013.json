{
  "comments": [
    "I\u0027ve now bumped into this one more than a few times so i\u0027m pretty sure it is a recurring eclipse or WTP bug.\n\nSometimes when I double click on an xml file (and there is no real pattern on what type of xml) then I get a \"Unable to create this part....\" in the editor instead of the real editor. \n\nIf I close this errored editor and do the same action (double click) it works fine.\n\nThe stacktrace is as follows:\n\njava.lang.NullPointerException\n\tat org.eclipse.ui.texteditor.AbstractTextEditor.getAction(AbstractTextEditor.java:4023)\n\tat org.eclipse.wst.xml.ui.internal.tabletree.XMLTableTreeActionBarContributor.getAction(XMLTableTreeActionBarContributor.java:210)\n\tat org.eclipse.wst.xml.ui.internal.tabletree.XMLTableTreeActionBarContributor.setActiveEditor(XMLTableTreeActionBarContributor.java:198)\n\tat org.eclipse.wst.xml.ui.internal.tabletree.XMLMultiPageEditorActionBarContributor.activateSourcePage(XMLMultiPageEditorActionBarContributor.java:54)\n\tat org.eclipse.wst.xml.ui.internal.tabletree.SourceEditorActionBarContributor.setActivePage(SourceEditorActionBarContributor.java:168)\n\tat org.eclipse.ui.part.MultiPageEditorPart.pageChange(MultiPageEditorPart.java:588)\n\tat org.eclipse.wst.xml.ui.internal.tabletree.XMLMultiPageEditorPart.pageChange(XMLMultiPageEditorPart.java:739)\n\tat org.eclipse.ui.part.MultiPageEditorPart.setActivePage(MultiPageEditorPart.java:689)\n\tat org.eclipse.wst.xml.ui.internal.tabletree.XMLMultiPageEditorPart.createPages(XMLMultiPageEditorPart.java:509)\n\tat org.eclipse.ui.part.MultiPageEditorPart.createPartControl(MultiPageEditorPart.java:275)\n\tat org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:596)\n\tat org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:372)\n\tat org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:566)\n\tat org.eclipse.ui.internal.EditorReference.getEditor(EditorReference.java:214)\n\tat org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched(WorkbenchPage.java:2537)\n\tat org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2470)\n\tat org.eclipse.ui.internal.WorkbenchPage.access$10(WorkbenchPage.java:2462)\n\tat org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:2447)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2442)\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2427)\n\tat org.eclipse.ui.ide.IDE.openEditor(IDE.java:388)\n\tat org.eclipse.ui.ide.IDE.openEditor(IDE.java:350)\n\tat org.eclipse.ui.ide.IDE.openEditor(IDE.java:776)\n\tat org.eclipse.ui.views.markers.internal.ActionOpenMarker.run(ActionOpenMarker.java:86)\n\tat org.eclipse.ui.views.markers.internal.MarkerView.handleOpenEvent(MarkerView.java:1052)\n\tat org.eclipse.ui.views.markers.internal.TableView$2.open(TableView.java:176)\n\tat org.eclipse.jface.viewers.StructuredViewer$2.run(StructuredViewer.java:811)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:843)\n\tat org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)\n\tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:149)\n\tat org.eclipse.jface.viewers.StructuredViewer.fireOpen(StructuredViewer.java:809)\n\tat org.eclipse.jface.viewers.StructuredViewer.handleOpen(StructuredViewer.java:1063)\n\tat org.eclipse.jface.viewers.StructuredViewer$6.handleOpen(StructuredViewer.java:1162)\n\tat org.eclipse.jface.util.OpenStrategy.fireOpenEvent(OpenStrategy.java:249)\n\tat org.eclipse.jface.util.OpenStrategy.access$2(OpenStrategy.java:243)\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:283)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)",
    "Amy, I think I\u0027ve seen some base bugs on this too ... if you want to scan those. \n\nThis might also be caused by some sort of \"leak\", where some editor was disposed (hence, fActions at line 4023 is null) but is being \"opened again\". ",
    "I\u0027ve been getting this error since I started trying the 3.2 release candidates.  I just got it twice on RC7 in the past 5 minutes...the exact same error message, exact same line number.\n\nBut, if you close the error message, then double click on the XML again, it works.",
    "I have not been able to recreate this in my copy of WTP 1.5 RC6.  Did you already have several xml editors open?  Did you just close this editor and then immediately tried to open it again?  Were you opening a lot of editors really quickly? Do you open the xml editor with the design page open first or the source page?\n\nLike David pointed out, the exception is complaining of fActions being null, and the only time it is null is when the editor is disposed.  So something must be disposing of it, then trying to reopen.  One possibility is in StructuredTextEditor#doSetInput().  If a CoreException is caught, the editor is disposed, then throws a new CoreException.  I wonder if we really need to call dispose() there.",
    "*** Bug 148466 has been marked as a duplicate of this bug. ***",
    "*** Bug 150935 has been marked as a duplicate of this bug. ***",
    "*** Bug 150708 has been marked as a duplicate of this bug. ***",
    "*** Bug 150479 has been marked as a duplicate of this bug. ***",
    "Just to help here.  I was using double click in the Package Explorer to open files and I did the following sequence to get hit with it.  I had maybe another 4 to 6 editors open, but IIRC none were for XML files those editors were JSP and Java.  My sequence today went something like:\n\nDouble click on WEB-INF/lib/servlets.xml\nWhoops not the file I\u0027m looking for, so very soon (\u003c 1.5 seconds) I click the X in the editor tab to close it.\n\nDouble click on WEB-INF/lib/servlet-mappings.xml\nAgain very soon I click the X in the editor tab to close it.\n\nDouble click on WEB-INF/lib/filters.xml\nAgain very soon I click the X in the editor tab to close it.\n\nDouble click on WEB-INF/lib/filter-mappings.xml\nAh.. now I got the error!\n\nWhen I X to close, it closed the editors tab and I could just re-open it like normal by double cliking again, this time it worked.\n\n",
    "Thanks everyone for their scenaros.  I was finally able to reproduce this problem, and I found a completely reproducible scenario:\n1. open xml editor, A\n2. open a non-xml editor\n3. open another xml editor, B\n4. close xml editor B\n5. reopen xml editor B\n6. Exception occurs\n\nThe problem appears to be with the action bar contributor.  Basically, MultiPageActionBarContributor.setActivePage is called before MultiPageActionBarContributor.setActiveEditor.  setActivePage utilizes what it thinks is the current multipageeditor when really, the multipageeditor variable is stale (it is the last editor which may have been disposed) when setActivePage is called before setActiveEditor (which is where multipageeditor is set)\n\nI opened bug 151488 on the base because the code that calls setActivePage \u0026 setActiveEditor is basically in their code.  But I do have a workaround in the meantime to call setActiveEditor before setActivePage is first called when the editor is loaded.\n\nAdd the following in XMLMultiPageEditorPart.createPages:\n// set the active editor in the action bar contributor first\n// before setactivepage calls action bar contributor\u0027s\n// setactivepage\nIEditorActionBarContributor contributor \u003d getEditorSite().getActionBarContributor();\nif (contributor !\u003d null \u0026\u0026 contributor instanceof MultiPageEditorActionBarContributor) {\n\t((MultiPageEditorActionBarContributor) contributor).setActiveEditor(this);\n}",
    "Created an attachment (id\u003d46668)\norg.eclipse.wst.xml.ui\n\n",
    "Fix has been released to 1.5.1 \u0026 head.",
    "*** Bug 152500 has been marked as a duplicate of this bug. ***",
    "*** Bug 152509 has been marked as a duplicate of this bug. ***",
    "*** Bug 152942 has been marked as a duplicate of this bug. ***",
    "*** Bug 156092 has been marked as a duplicate of this bug. ***",
    "*** Bug 159354 has been marked as a duplicate of this bug. ***",
    "Closing as resolved since 1.5.1.  If this bug should not be closed, please reopen."
  ],
  "commentCreationDates": [
    "2006-05-10T14:57:51+02:00",
    "2006-05-14T02:14:23+02:00",
    "2006-06-23T19:47:15+02:00",
    "2006-06-26T20:39:52+02:00",
    "2006-07-17T23:27:21+02:00",
    "2006-07-18T18:12:34+02:00",
    "2006-07-18T18:15:45+02:00",
    "2006-07-18T18:18:41+02:00",
    "2006-07-18T19:46:13+02:00",
    "2006-07-22T00:25:58+02:00",
    "2006-07-22T00:30:43+02:00",
    "2006-07-26T18:31:57+02:00",
    "2006-08-01T21:53:00+02:00",
    "2006-08-02T03:35:11+02:00",
    "2006-08-07T16:22:46+02:00",
    "2006-09-05T18:00:52+02:00",
    "2006-10-11T00:44:28+02:00",
    "2007-04-03T17:24:16+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor.getAction",
          "source": "AbstractTextEditor.java:4023"
        },
        {
          "method": "org.eclipse.wst.xml.ui.internal.tabletree.XMLTableTreeActionBarContributor.getAction",
          "source": "XMLTableTreeActionBarContributor.java:210"
        },
        {
          "method": "org.eclipse.wst.xml.ui.internal.tabletree.XMLTableTreeActionBarContributor.setActiveEditor",
          "source": "XMLTableTreeActionBarContributor.java:198"
        },
        {
          "method": "org.eclipse.wst.xml.ui.internal.tabletree.XMLMultiPageEditorActionBarContributor.activateSourcePage",
          "source": "XMLMultiPageEditorActionBarContributor.java:54"
        },
        {
          "method": "org.eclipse.wst.xml.ui.internal.tabletree.SourceEditorActionBarContributor.setActivePage",
          "source": "SourceEditorActionBarContributor.java:168"
        },
        {
          "method": "org.eclipse.ui.part.MultiPageEditorPart.pageChange",
          "source": "MultiPageEditorPart.java:588"
        },
        {
          "method": "org.eclipse.wst.xml.ui.internal.tabletree.XMLMultiPageEditorPart.pageChange",
          "source": "XMLMultiPageEditorPart.java:739"
        },
        {
          "method": "org.eclipse.ui.part.MultiPageEditorPart.setActivePage",
          "source": "MultiPageEditorPart.java:689"
        },
        {
          "method": "org.eclipse.wst.xml.ui.internal.tabletree.XMLMultiPageEditorPart.createPages",
          "source": "XMLMultiPageEditorPart.java:509"
        },
        {
          "method": "org.eclipse.ui.part.MultiPageEditorPart.createPartControl",
          "source": "MultiPageEditorPart.java:275"
        },
        {
          "method": "org.eclipse.ui.internal.EditorReference.createPartHelper",
          "source": "EditorReference.java:596"
        },
        {
          "method": "org.eclipse.ui.internal.EditorReference.createPart",
          "source": "EditorReference.java:372"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPartReference.getPart",
          "source": "WorkbenchPartReference.java:566"
        },
        {
          "method": "org.eclipse.ui.internal.EditorReference.getEditor",
          "source": "EditorReference.java:214"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched",
          "source": "WorkbenchPage.java:2537"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor",
          "source": "WorkbenchPage.java:2470"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.access$10",
          "source": "WorkbenchPage.java:2462"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$9.run",
          "source": "WorkbenchPage.java:2447"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:67"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:2442"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:2427"
        },
        {
          "method": "org.eclipse.ui.ide.IDE.openEditor",
          "source": "IDE.java:388"
        },
        {
          "method": "org.eclipse.ui.ide.IDE.openEditor",
          "source": "IDE.java:350"
        },
        {
          "method": "org.eclipse.ui.ide.IDE.openEditor",
          "source": "IDE.java:776"
        },
        {
          "method": "org.eclipse.ui.views.markers.internal.ActionOpenMarker.run",
          "source": "ActionOpenMarker.java:86"
        },
        {
          "method": "org.eclipse.ui.views.markers.internal.MarkerView.handleOpenEvent",
          "source": "MarkerView.java:1052"
        },
        {
          "method": "org.eclipse.ui.views.markers.internal.TableView$2.open",
          "source": "TableView.java:176"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$2.run",
          "source": "StructuredViewer.java:811"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:843"
        },
        {
          "method": "org.eclipse.ui.internal.JFaceUtil$1.run",
          "source": "JFaceUtil.java:44"
        },
        {
          "method": "org.eclipse.jface.util.SafeRunnable.run",
          "source": "SafeRunnable.java:149"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.fireOpen",
          "source": "StructuredViewer.java:809"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleOpen",
          "source": "StructuredViewer.java:1063"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$6.handleOpen",
          "source": "StructuredViewer.java:1162"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireOpenEvent",
          "source": "OpenStrategy.java:249"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$2",
          "source": "OpenStrategy.java:243"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "OpenStrategy.java:283"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:925"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3348"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2968"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1914"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "141013",
      "date": "2006-05-10T14:57:51+02:00",
      "product": "Web Tools",
      "component": "wst.sse",
      "severity": "normal"
    }
  ],
  "groupId": "141013",
  "bugId": "141013",
  "date": "2006-05-10T14:57:51+02:00",
  "product": "Web Tools",
  "component": "wst.sse",
  "severity": "normal"
}