{
  "comments": [
    "3.0\n\nThe RCP browser shouldn\u0027t need a workspace, but I encountered a few errors when \ntrying to run that way.  I worked around the first error (bug 69386) by editing \nline 36 of PreferenceForwarder to look like line 37.  With that change, the \nfollowing process will reproduce the error:\n\n- load the org.eclipse.ui.examples.rcp.browser project\n- create a launch configuration with:\n  - only the browser and its required plugins\n  - the \"Location:\" field set to \"@none\"\n- run\n\nPerspectiveRegistory.loadCustom has a call to Location.getStateLocation.  This \nmethod throws an IllegalStateException when the instance area is not set, that \nexception is not caught.\n\nHere\u0027s the stack:\n\n!ENTRY org.eclipse.ui 4 0 Jul 06, 2004 11:11:09.62\n!MESSAGE No instance data can be specified.\n!STACK 0\njava.lang.IllegalStateException: No instance data can be specified.\n\tat org.eclipse.core.internal.runtime.DataArea.\nassertLocationInitialized(DataArea.java:38)\n\tat org.eclipse.core.internal.runtime.DataArea.getStateLocation(DataArea.\njava:76)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.\ngetStateLocation(InternalPlatform.java:1060)\n\tat org.eclipse.core.runtime.Plugin.getStateLocation(Plugin.java:290)\n\tat org.eclipse.ui.internal.registry.PerspectiveRegistry.\nloadCustom(PerspectiveRegistry.java:350)\n\tat org.eclipse.ui.internal.registry.PerspectiveRegistry.\nload(PerspectiveRegistry.java:299)\n\tat org.eclipse.ui.internal.WorkbenchPlugin.\ngetPerspectiveRegistry(WorkbenchPlugin.java:384)\n\tat org.eclipse.ui.internal.Workbench.getPerspectiveRegistry(Workbench.java:\n671)\n\tat org.eclipse.ui.internal.Workbench.openFirstTimeWindow(Workbench.java:\n993)\n\tat org.eclipse.ui.internal.WorkbenchConfigurer.\nopenFirstTimeWindow(WorkbenchConfigurer.java:174)\n\tat org.eclipse.ui.application.WorkbenchAdvisor.\nopenWindows(WorkbenchAdvisor.java:658)\n\tat org.eclipse.ui.internal.Workbench.init(Workbench.java:819)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1325)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:\n254)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\n\tat org.eclipse.ui.examples.rcp.browser.BrowserApp.run(BrowserApp.java:67)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.\nrun(PlatformActivator.java:335)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:\n273)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:\n129)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:183)\n\tat org.eclipse.core.launcher.Main.run(Main.java:644)\n\tat org.eclipse.core.launcher.Main.main(Main.java:628)",
    "DJ has fixed bug 69386 which means this bug is the problem currently preventing \nRCP apps from running with -data @none.",
    "Is this something you could look into?\n",
    "I\u0027m looking into this now.  After fixing the perspective registry problem I\u0027ve \nfound a failure when we try to load dialog settings.  Still in progress.",
    "The next problem I found was in the resource project.  I\u0027m going to submit fixes \nfor the two UI problems (perspective registry and dialog settings) and mark this \none fixed.  Then I\u0027ll create a new bug for the resources problem.",
    "We don\u0027t expect the resources plugin to work with @none.\n@none is mainly relevant for RCP apps.\n",
    "Opps.  The browser doesn\u0027t need the resources plugin but I had forgotten to \nremove it from the list in the launch configuration.",
    "I found two cases that were causing problems and have submitted a fix for both.\n\n1. The perspective registry was looking in the state location for customization \nfiles.  It looks to me like this was only to support some previous behaviour, \nsince there was also code to get the customizations from the preference service. \n This fix means that RCP applications will not get perspective customizations \nthat were created in previous releases -- for RCP apps this isn\u0027t a problem.\n\n2. The dialog_settings.xml file is stored in the instance area.  RCP \napplications that run with -data @none will not get these settings.  \nApplications that want these settings will need to supply an instance area.",
    "This fix doesn\u0027t account for rcp apps that have editors.",
    "This is just a specific instance of the general problem described in bug 73458.  \nI\u0027m marking this one as the duplicate (even though it has a lower number) since \nthat bug has a better description of the overall problem.\n\n*** This bug has been marked as a duplicate of 73458 ***"
  ],
  "commentCreationDates": [
    "2004-07-06T17:55:12+02:00",
    "2004-09-02T18:06:24+02:00",
    "2004-09-02T18:46:14+02:00",
    "2004-09-07T18:49:16+02:00",
    "2004-09-07T18:53:58+02:00",
    "2004-09-07T19:18:49+02:00",
    "2004-09-07T19:40:13+02:00",
    "2004-09-07T21:14:33+02:00",
    "2004-09-09T14:58:19+02:00",
    "2004-09-29T16:05:29+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalStateException",
      "message": "No instance data can be specified.",
      "elements": [
        {
          "method": "org.eclipse.core.internal.runtime.DataArea.assertLocationInitialized",
          "source": "DataArea.java:38"
        },
        {
          "method": "org.eclipse.core.internal.runtime.DataArea.getStateLocation",
          "source": "DataArea. java:76"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.getStateLocation",
          "source": "InternalPlatform.java:1060"
        },
        {
          "method": "org.eclipse.core.runtime.Plugin.getStateLocation",
          "source": "Plugin.java:290"
        },
        {
          "method": "org.eclipse.ui.internal.registry.PerspectiveRegistry.loadCustom",
          "source": "PerspectiveRegistry.java:350"
        },
        {
          "method": "org.eclipse.ui.internal.registry.PerspectiveRegistry.load",
          "source": "PerspectiveRegistry.java:299"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPlugin.getPerspectiveRegistry",
          "source": "WorkbenchPlugin.java:384"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.getPerspectiveRegistry",
          "source": "Workbench.java: 671"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.openFirstTimeWindow",
          "source": "Workbench.java: 993"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchConfigurer.openFirstTimeWindow",
          "source": "WorkbenchConfigurer.java:174"
        },
        {
          "method": "org.eclipse.ui.application.WorkbenchAdvisor.openWindows",
          "source": "WorkbenchAdvisor.java:658"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.init",
          "source": "Workbench.java:819"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1325"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java: 254"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:141"
        },
        {
          "method": "org.eclipse.ui.examples.rcp.browser.BrowserApp.run",
          "source": "BrowserApp.java:67"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:335"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java: 273"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java: 129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:183"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:644"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:628"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "69387",
      "duplicateId": "73458",
      "date": "2004-07-06T17:55:12+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "73458",
  "bugId": "69387",
  "duplicateId": "73458",
  "date": "2004-07-06T17:55:12+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}