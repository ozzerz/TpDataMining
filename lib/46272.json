{
  "comments": [
    "Test scenario JVEWRKB01 - Test Visual Editor interactions with the Eclipse \nworkbench\n\nCreate a new visual class extending JFrame.\nWhen the VE is open, select File--\u003eSave As... and give it a new name.\nThis will save the file and create some compile errors because the class name \nis different from the file name (this is okay). \n\nThe problem is the beans disappear from the canvas and throw an exception in \nthe log. Even if you correct the compile errors by changing the name, the model \nis hosed and the canvas does not show the beans again. Even reload from scratch \nfails. You have close the VE and reopen it.\n\nHere\u0027s the stack trace from the .log file:\n\njava.lang.NullPointerException\n\tat org.eclipse.emf.ecore.util.EcoreUtil.getExistingAdapter\n(EcoreUtil.java:75)\n\tat \norg.eclipse.ve.internal.jfc.core.CompositionFreeFormComponentsEditPolicy.activat\neFreeFormEnvironment(CompositionFreeFormComponentsEditPolicy.java:48)\n\tat \norg.eclipse.ve.internal.jfc.core.CompositionFreeFormComponentsEditPolicy.activat\ne(CompositionFreeFormComponentsEditPolicy.java:42)\n\tat org.eclipse.gef.editparts.AbstractEditPart.activateEditPolicies\n(AbstractEditPart.java:151)\n\tat org.eclipse.gef.editparts.AbstractEditPart.activate\n(AbstractEditPart.java:133)\n\tat org.eclipse.gef.editparts.AbstractGraphicalEditPart.activate\n(AbstractGraphicalEditPart.java:170)\n\tat org.eclipse.ve.internal.cde.core.ContentsGraphicalEditPart.activate\n(ContentsGraphicalEditPart.java:56)\n\tat \norg.eclipse.ve.internal.java.vce.SubclassCompositionComponentsGraphicalEditPart.\nactivate(SubclassCompositionComponentsGraphicalEditPart.java:75)\n\tat \norg.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart$28.run\n(JavaVisualEditorPart.java:267)\n\tat \norg.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart.setRootMode\nl(JavaVisualEditorPart.java:274)\n\tat \norg.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart.doSetInput\n(JavaVisualEditorPart.java:239)\n\tat org.eclipse.ui.texteditor.AbstractTextEditor.setInput\n(AbstractTextEditor.java:2410)\n\tat \norg.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.performSaveAs\n(CompilationUnitEditor.java:927)\n\tat org.eclipse.ui.texteditor.AbstractTextEditor.doSaveAs\n(AbstractTextEditor.java:2790)\n\tat org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.doSaveAs\n(CompilationUnitEditor.java:766)\n\tat \norg.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart.doSaveAs\n(JavaVisualEditorPart.java:2046)\n\tat org.eclipse.ui.internal.SaveAsAction.run(SaveAsAction.java:54)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:842)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:456)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent\n(ActionContributionItem.java:403)\n\tat org.eclipse.jface.action.ActionContributionItem.access$0\n(ActionContributionItem.java:397)\n\tat \norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent\n(ActionContributionItem.java:72)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:81)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:840)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2022)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1729)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1402)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1385)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:858)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:291)\n\tat org.eclipse.core.launcher.Main.run(Main.java:747)\n\tat org.eclipse.core.launcher.Main.main(Main.java:583)",
    "*** Bug 46275 has been marked as a duplicate of this bug. ***",
    "After looking at the stack trace, the problem is actually in jfc. So I\u0027m moving\nit to there. Though Peter, since you own jfc, you can reassign it back to me.",
    "I think the following test case from test scenario JVEWRKB02 is causing a \nsimilar exception so I am adding it to this bug instead of opening a new bug.\nAlso... this bug is blocking the completion of several testcases in this \nscenario so I\u0027m increasing the severity to \"major\".\n\nSetup:\nCreate two new Java projects - test1 and test2 \nIn test1, create a new Visual Class called MyPanel extending JPanel in the \npackage \"hi\".\nChange the background color of MyPanel to blue and save the file. \nIn test2, create a new Visual Class called MyFrame extending JFrame \nMB2 on test2 project and select Properties.  Go to the Java Build Path page, \nand the Projects tab. Check test1 and press ok. \n\nUsing the choose bean dialog select MyPanel and drop it on MyFrame. \nSave MyJFrame.\nKeep the editors open for both beans.\n\nThe following scenarios cause almost the same exceptions and cause the MyJPanel \ncanvas to go blank. It looks like either the model of remote VM is hosed since \nthere is no beans in the graph viewer or beans viewer. Here\u0027s the scenarios:\n\nClass rename \nMB2 on the MyPanel.java file in the Navigator View and select Refactor-\u003eRename. \nChange the name of the class to MyJPanel \nVerify that the source changes are reflected in both MyJPanel and MyFrame. \nVerify the remote VMs for both MyJPanel and MyFrame are reloaded properly \n\nPackage rename \nMB2 on package \"hi\" and select Refactor-\u003eRename \nChange the name of the package to \"hello\" \nVerify that the source changes are reflected in both MyJPanel and MyFrame. \nVerify the remote VMs for both MyJPanel and MyFrame are reloaded properly \n\nProject rename \nMB2 on project test1 and select Refactor-\u003eRename \nChange the name of the project test11 \nVerify that the source changes are reflected in both MyJPanel and MyFrame. \nVerify the remote VMs for both MyJPanel and MyFrame are reloaded properly \n\nProject move \nCreate new Java project test3 \nMB2 on test2 project and select Properties.  Go to the Java Build Path page, \nand the Projects tab. \nCheck test3 and press ok. \nMB2 on package \"hello\" and select Refactor-\u003eMove \nSelect project test3 \nVerify the remote VMs for both MyJPanel and MyFrame are reloaded properly \n",
    "The code has been released into HEAD.",
    "*** Bug 46284 has been marked as a duplicate of this bug. ***",
    "*** Bug 46279 has been marked as a duplicate of this bug. ***",
    "Works fine in RC2",
    "0.5.0 is out, so these are now closed."
  ],
  "commentCreationDates": [
    "2003-11-07T15:49:51+01:00",
    "2003-11-07T16:26:01+01:00",
    "2003-11-07T16:27:34+01:00",
    "2003-11-07T17:40:01+01:00",
    "2003-11-10T17:53:01+01:00",
    "2003-11-10T19:15:45+01:00",
    "2003-11-11T20:28:50+01:00",
    "2003-12-02T23:45:26+01:00",
    "2003-12-08T17:51:08+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.emf.ecore.util.EcoreUtil.getExistingAdapter",
          "source": "EcoreUtil.java:75"
        },
        {
          "method": "org.eclipse.ve.internal.jfc.core.CompositionFreeFormComponentsEditPolicy.activateFreeFormEnvironment",
          "source": "CompositionFreeFormComponentsEditPolicy.java:48"
        },
        {
          "method": "org.eclipse.ve.internal.jfc.core.CompositionFreeFormComponentsEditPolicy.activate",
          "source": "CompositionFreeFormComponentsEditPolicy.java:42"
        },
        {
          "method": "org.eclipse.gef.editparts.AbstractEditPart.activateEditPolicies",
          "source": "AbstractEditPart.java:151"
        },
        {
          "method": "org.eclipse.gef.editparts.AbstractEditPart.activate",
          "source": "AbstractEditPart.java:133"
        },
        {
          "method": "org.eclipse.gef.editparts.AbstractGraphicalEditPart.activate",
          "source": "AbstractGraphicalEditPart.java:170"
        },
        {
          "method": "org.eclipse.ve.internal.cde.core.ContentsGraphicalEditPart.activate",
          "source": "ContentsGraphicalEditPart.java:56"
        },
        {
          "method": "org.eclipse.ve.internal.java.vce.SubclassCompositionComponentsGraphicalEditPart.activate",
          "source": "SubclassCompositionComponentsGraphicalEditPart.java:75"
        },
        {
          "method": "org.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart$28.run",
          "source": "JavaVisualEditorPart.java:267"
        },
        {
          "method": "org.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart.setRootModel",
          "source": "JavaVisualEditorPart.java:274"
        },
        {
          "method": "org.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart.doSetInput",
          "source": "JavaVisualEditorPart.java:239"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor.setInput",
          "source": "AbstractTextEditor.java:2410"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.performSaveAs",
          "source": "CompilationUnitEditor.java:927"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor.doSaveAs",
          "source": "AbstractTextEditor.java:2790"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.doSaveAs",
          "source": "CompilationUnitEditor.java:766"
        },
        {
          "method": "org.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart.doSaveAs",
          "source": "JavaVisualEditorPart.java:2046"
        },
        {
          "method": "org.eclipse.ui.internal.SaveAsAction.run",
          "source": "SaveAsAction.java:54"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:842"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:456"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java:403"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem.java:397"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java:72"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:81"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:840"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2022"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1729"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1402"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1385"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:858"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:291"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:747"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:583"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "46272",
      "date": "2003-11-07T15:49:51+01:00",
      "product": "VE",
      "component": "JFC/Swing",
      "severity": "major"
    }
  ],
  "groupId": "46272",
  "bugId": "46272",
  "date": "2003-11-07T15:49:51+01:00",
  "product": "VE",
  "component": "JFC/Swing",
  "severity": "major"
}