{
  "comments": [
    "20060919\n\n- create the folloing two CUs\n\npackage a;\npublic class B{\n\tvoid foo() {\n\t\tif (true)\n\t\t\treturn;\n\t}\n}\n-----\npackage a;\n\npublic class A {\n\n}\n\n- select the two CUs and invoke \u0027Clean Up\u0027\n- on the wizard page, click on the \u0027Configure Clean Ups\u0027 link and create a new profile based on the built-in but with \u0027Convert control statement bodies to block\u0027 and \u0027Code formatting enabled\u0027\n- press next. On the preview page expand the node for B/java and click on the type node\n\n!ENTRY org.eclipse.ltk.core.refactoring 4 10000 2006-09-19 14:49:21.569\n!MESSAGE Could not find the original of the copied text edit {ReplaceEdit} [2296,0] \u003c\u003c \n\n!ENTRY org.eclipse.ltk.core.refactoring 4 10000 2006-09-19 14:49:21.569\n!MESSAGE Could not find the original of the copied text edit {ReplaceEdit} [2139,3] \u003c\u003c\n\n\t\n\n!ENTRY org.eclipse.ltk.core.refactoring 4 10000 2006-09-19 14:49:21.569\n!MESSAGE Could not find the original of the copied text edit {ReplaceEdit} [2103,0] \u003c\u003c \n\n!ENTRY org.eclipse.ltk.core.refactoring 4 10000 2006-09-19 14:49:21.579\n!MESSAGE Could not find the original of the copied text edit {ReplaceEdit} [16713,4] \u003c\u003c\n\n\n!ENTRY org.eclipse.jface 4 2 2006-09-19 14:49:21.579\n!MESSAGE Problems occurred when invoking code from plug-in: \"org.eclipse.jface\".\n!STACK 0\norg.eclipse.core.runtime.AssertionFailedException: null argument:\n\tat org.eclipse.core.runtime.Assert.isNotNull(Assert.java:84)\n\tat org.eclipse.core.runtime.Assert.isNotNull(Assert.java:72)\n\tat org.eclipse.ltk.core.refactoring.MultiStateTextFileChange$ComposableUndoEdit.setGroup(MultiStateTextFileChange.java:189)\n\tat org.eclipse.ltk.core.refactoring.MultiStateTextFileChange$ComposableUndoEdit.access$1(MultiStateTextFileChange.java:188)\n\tat org.eclipse.ltk.core.refactoring.MultiStateTextFileChange$2.documentAboutToBeChanged(MultiStateTextFileChange.java:525)\n\tat org.eclipse.jface.text.AbstractDocument.fireDocumentAboutToBeChanged(AbstractDocument.java:606)\n\tat org.eclipse.jface.text.AbstractDocument.replace(AbstractDocument.java:1072)\n\tat org.eclipse.jface.text.AbstractDocument.replace(AbstractDocument.java:1091)\n\tat org.eclipse.text.edits.ReplaceEdit.performDocumentUpdating(ReplaceEdit.java:82)\n\tat org.eclipse.text.edits.TextEdit.traverseDocumentUpdating(TextEdit.java:896)\n\tat org.eclipse.text.edits.TextEdit.traverseDocumentUpdating(TextEdit.java:889)\n\tat org.eclipse.text.edits.TextEditProcessor.executeDo(TextEditProcessor.java:186)\n\tat org.eclipse.text.edits.TextEdit.dispatchPerformEdits(TextEdit.java:736)\n\tat org.eclipse.text.edits.TextEditProcessor.performEdits(TextEditProcessor.java:154)\n\tat org.eclipse.ltk.core.refactoring.MultiStateTextFileChange.getPreviewContent(MultiStateTextFileChange.java:540)\n\tat org.eclipse.ltk.internal.ui.refactoring.TextEditChangePreviewViewer.setInput(TextEditChangePreviewViewer.java:202)\n\tat org.eclipse.ltk.internal.ui.refactoring.InternalLanguageElementNode.feedInput(InternalLanguageElementNode.java:53)\n\tat org.eclipse.ltk.internal.ui.refactoring.PreviewWizardPage.showPreview(PreviewWizardPage.java:553)\n\tat org.eclipse.ltk.internal.ui.refactoring.PreviewWizardPage.access$3(PreviewWizardPage.java:532)\n\tat org.eclipse.ltk.internal.ui.refactoring.PreviewWizardPage$5.selectionChanged(PreviewWizardPage.java:523)\n\tat org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:162)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:850)\n\tat org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)\n\tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:149)\n\tat org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:160)\n\tat org.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:1998)\n\tat org.eclipse.jface.viewers.StructuredViewer.handleSelect(StructuredViewer.java:1131)\n\tat org.eclipse.jface.viewers.CheckboxTreeViewer.handleSelect(CheckboxTreeViewer.java:271)\n\tat org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected(StructuredViewer.java:1157)\n\tat org.eclipse.jface.util.OpenStrategy.fireSelectionEvent(OpenStrategy.java:213)\n\tat org.eclipse.jface.util.OpenStrategy.access$3(OpenStrategy.java:207)\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:374)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3390)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3009)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\n\tat org.eclipse.jface.window.Window.open(Window.java:796)\n\tat org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation$1.run(RefactoringWizardOpenOperation.java:132)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)\n\tat org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation.run(RefactoringWizardOpenOperation.java:145)\n\tat org.eclipse.jdt.internal.ui.refactoring.actions.RefactoringStarter.activate(RefactoringStarter.java:40)\n\tat org.eclipse.jdt.internal.corext.refactoring.RefactoringExecutionStarter.startCleanupRefactoring(RefactoringExecutionStarter.java:266)\n\tat org.eclipse.jdt.internal.ui.actions.CleanUpAction.runOnMultiple(CleanUpAction.java:188)\n\tat org.eclipse.jdt.internal.ui.actions.CleanUpAction.run(CleanUpAction.java:94)\n\tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:268)\n\tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:244)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:499)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3390)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3009)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:104)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:74)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:348)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:165)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:341)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:285)\n\tat org.eclipse.core.launcher.Main.run(Main.java:987)\n\tat org.eclipse.core.launcher.Main.main(Main.java:962)",
    "In case this doesn\u0027t reproduce (I just have it working now, strange)\n\n- checkout org.eclipse.compare\n- select\n  org.eclipse.compare.BufferedContent.java\n  org.eclipse.compare.CompareConfiguration.java\n- invoke clean up with the profile from above\n- expand CompareConfiguration and select the type",
    "*** Bug 163354 has been marked as a duplicate of this bug. ***",
    "*** Bug 170070 has been marked as a duplicate of this bug. ***",
    "Created an attachment (id\u003d56908)\nfix\n\nThe patch does remove text edit groups from all MultiStateTextFileChange generated by clean up. Groups in MSTFC can not work if there are overlapping text edits and clean up does only generate an MSTFC if there are overlapping text edits...",
    "fixed \u003e I20070109-1805",
    "*** Bug 152402 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2006-09-19T15:04:48+02:00",
    "2006-09-19T15:08:31+02:00",
    "2006-11-03T18:48:49+01:00",
    "2007-01-10T10:47:21+01:00",
    "2007-01-15T15:43:48+01:00",
    "2007-01-15T15:48:05+01:00",
    "2007-01-15T15:48:15+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.runtime.AssertionFailedException",
      "message": "null argument:",
      "elements": [
        {
          "method": "org.eclipse.core.runtime.Assert.isNotNull",
          "source": "Assert.java:84"
        },
        {
          "method": "org.eclipse.core.runtime.Assert.isNotNull",
          "source": "Assert.java:72"
        },
        {
          "method": "org.eclipse.ltk.core.refactoring.MultiStateTextFileChange$ComposableUndoEdit.setGroup",
          "source": "MultiStateTextFileChange.java:189"
        },
        {
          "method": "org.eclipse.ltk.core.refactoring.MultiStateTextFileChange$ComposableUndoEdit.access$1",
          "source": "MultiStateTextFileChange.java:188"
        },
        {
          "method": "org.eclipse.ltk.core.refactoring.MultiStateTextFileChange$2.documentAboutToBeChanged",
          "source": "MultiStateTextFileChange.java:525"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.fireDocumentAboutToBeChanged",
          "source": "AbstractDocument.java:606"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.replace",
          "source": "AbstractDocument.java:1072"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.replace",
          "source": "AbstractDocument.java:1091"
        },
        {
          "method": "org.eclipse.text.edits.ReplaceEdit.performDocumentUpdating",
          "source": "ReplaceEdit.java:82"
        },
        {
          "method": "org.eclipse.text.edits.TextEdit.traverseDocumentUpdating",
          "source": "TextEdit.java:896"
        },
        {
          "method": "org.eclipse.text.edits.TextEdit.traverseDocumentUpdating",
          "source": "TextEdit.java:889"
        },
        {
          "method": "org.eclipse.text.edits.TextEditProcessor.executeDo",
          "source": "TextEditProcessor.java:186"
        },
        {
          "method": "org.eclipse.text.edits.TextEdit.dispatchPerformEdits",
          "source": "TextEdit.java:736"
        },
        {
          "method": "org.eclipse.text.edits.TextEditProcessor.performEdits",
          "source": "TextEditProcessor.java:154"
        },
        {
          "method": "org.eclipse.ltk.core.refactoring.MultiStateTextFileChange.getPreviewContent",
          "source": "MultiStateTextFileChange.java:540"
        },
        {
          "method": "org.eclipse.ltk.internal.ui.refactoring.TextEditChangePreviewViewer.setInput",
          "source": "TextEditChangePreviewViewer.java:202"
        },
        {
          "method": "org.eclipse.ltk.internal.ui.refactoring.InternalLanguageElementNode.feedInput",
          "source": "InternalLanguageElementNode.java:53"
        },
        {
          "method": "org.eclipse.ltk.internal.ui.refactoring.PreviewWizardPage.showPreview",
          "source": "PreviewWizardPage.java:553"
        },
        {
          "method": "org.eclipse.ltk.internal.ui.refactoring.PreviewWizardPage.access$3",
          "source": "PreviewWizardPage.java:532"
        },
        {
          "method": "org.eclipse.ltk.internal.ui.refactoring.PreviewWizardPage$5.selectionChanged",
          "source": "PreviewWizardPage.java:523"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer$2.run",
          "source": "Viewer.java:162"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:850"
        },
        {
          "method": "org.eclipse.ui.internal.JFaceUtil$1.run",
          "source": "JFaceUtil.java:44"
        },
        {
          "method": "org.eclipse.jface.util.SafeRunnable.run",
          "source": "SafeRunnable.java:149"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer.fireSelectionChanged",
          "source": "Viewer.java:160"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateSelection",
          "source": "StructuredViewer.java:1998"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleSelect",
          "source": "StructuredViewer.java:1131"
        },
        {
          "method": "org.eclipse.jface.viewers.CheckboxTreeViewer.handleSelect",
          "source": "CheckboxTreeViewer.java:271"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected",
          "source": "StructuredViewer.java:1157"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireSelectionEvent",
          "source": "OpenStrategy.java:213"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$3",
          "source": "OpenStrategy.java:207"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "OpenStrategy.java:374"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3390"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3009"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:820"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:796"
        },
        {
          "method": "org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation$1.run",
          "source": "RefactoringWizardOpenOperation.java:132"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:67"
        },
        {
          "method": "org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation.run",
          "source": "RefactoringWizardOpenOperation.java:145"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.actions.RefactoringStarter.activate",
          "source": "RefactoringStarter.java:40"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.RefactoringExecutionStarter.startCleanupRefactoring",
          "source": "RefactoringExecutionStarter.java:266"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.actions.CleanUpAction.runOnMultiple",
          "source": "CleanUpAction.java:188"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.actions.CleanUpAction.run",
          "source": "CleanUpAction.java:94"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun",
          "source": "SelectionDispatchAction.java:268"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.run",
          "source": "SelectionDispatchAction.java:244"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:499"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:539"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3390"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3009"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1914"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1878"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:104"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:74"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:348"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:165"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:341"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:285"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:987"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:962"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "157798",
      "date": "2006-09-19T15:04:48+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "157798",
  "bugId": "157798",
  "date": "2006-09-19T15:04:48+02:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}