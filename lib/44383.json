{
  "comments": [
    "20031007\n\nWhen deleting a project using the UiTestSuites you will get the following \nexception from QuickDiff. This causes two failures using the contents of HEAD \nfor platform-ui and platform-core with the rest of Eclipse loaded as binaries \nrunning the IWorkbenchPageTest.\n\nThis is currently breaking the UIsuites.\n\nSTEPS\n1) Load org.eclipse.ui.tests\n2) Load platform-ui and platform-core modules\n3) Load all other plug-ins as binaries\n4) Replace the tearDown method in IDeprecatedWorkbenchPageTest with the \nfollowing (all this does is print the stack trace)\n\npublic void tearDown() throws Exception {\n\t\tsuper.tearDown();\n\t\tif (proj !\u003d null) {\n\t\t\ttry {\n\t\t\t\tFileUtil.deleteProject(proj);\n\t\t\t} catch (Throwable e) {\n\t\t\t\tfail();\n\t\t\t\te.printStackTrace();\n\t\t\t}\n\t\t\tproj \u003d null;\n\t\t}\n\t}\n5) Run IWorkbenchPageTest as Junit plugin test\n6) It will fail with the following stack trace (with the changes above)\n\n!ENTRY org.eclipse.core.runtime 4 2 Oct 07, 2003 21:02:13.371\n!MESSAGE An internal error occurred during: \"Initializing Quick Diff\".\n!STACK 0\njava.lang.NullPointerException\n\tat \norg.eclipse.ui.internal.editors.quickdiff.LastSaveReferenceProvider.setDocument\nContent(LastSaveReferenceProvider.java:204)\n\tat \norg.eclipse.ui.internal.editors.quickdiff.LastSaveReferenceProvider.readDocumen\nt(LastSaveReferenceProvider.java:139)\n\tat \norg.eclipse.ui.internal.editors.quickdiff.LastSaveReferenceProvider.getReferenc\ne(LastSaveReferenceProvider.java:57)\n\tat \norg.eclipse.ui.internal.texteditor.quickdiff.DocumentLineDiffer$1.run\n(DocumentLineDiffer.java:538)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:62)",
    "Needs to be investigated for M4",
    "fixed \u003e 20031008 \u0026 verified by Kai.",
    "Tom, looking at the code tags and according to Kai this went into I20031008. Can\nyou confirm that comment 2 is wrong. Otherwise this would be a candidate for a\npossible rebuild.\n",
    "I confirm that this went into today\u0027s (20031008) test candidate build, but not\ninto the N20031008 (nightly) build.",
    "This is causing a breakage in our suites again in the current build albeit \nless often. It is a problem on shutdown so I from our perspective I don\u0027t \nthink it is a blocker but I am not sure exactly what its implications are.",
    "Tod, which build are you talking about and which tests.",
    "It happened using the IWorkbenchPageTest with build 20031009:1800.\n\nIt is hard to replicate - I get it now and again and then not for ages.\n\nThe problem is in the tearDown() method where we delete the project we created \nfor testing. I don\u0027t have a revised trace for you as the current test does not \nprint anything to the log (I will change that now) and I have not been able to \namke it happen since but this is the one that is giving us the red X on the \ndownloads page.",
    "How do you know that it is quick diff if you don\u0027t have a trace?",
    "What would be the setup to reproduce it?",
    "It is in exactly the same spot as before in exactly the same condition. It \newas much worse before so I managed to get a trace then and get it you - now I \nam having trouble getting the suites to fail.\n\nI will continue to try this morning.\n\nUse the same steps as in the first comment.",
    "I won\u0027t say it\u0027s not quick diff ;-). But the problem that you\u0027ve seen before has\nbeen guarded now. We also had problems in tearDown() several times being several\nissues each time (e.g. files locked by the indexer,...).\n\nTom, please setup a workspace and run the workbench tests to see if you can\nreproduce.",
    "I\u0027m on it.\n\nJust went over the code again without finding anything - a trace will be helpful...\n\n",
    "We are closing this bug. Please reopen if there is indication (despite \nhistorical reasons) that quickdiff causes the problem.",
    "The problem has been traced to a project being marked read only. I suspect it \nmay be to do with background builds which may have precipitated the original \nproblem.\n\nFeel free to leave this closed until we have done our investigation.",
    "The new problem is described in Bug 44667. I have temporaily removed the core \nexception checking from the test suites and will re-enstate them when 44667 is \naddressed."
  ],
  "commentCreationDates": [
    "2003-10-08T03:15:28+02:00",
    "2003-10-08T09:33:06+02:00",
    "2003-10-08T10:04:56+02:00",
    "2003-10-08T15:31:46+02:00",
    "2003-10-08T15:38:42+02:00",
    "2003-10-10T13:06:44+02:00",
    "2003-10-10T13:14:10+02:00",
    "2003-10-10T13:20:32+02:00",
    "2003-10-10T13:24:20+02:00",
    "2003-10-10T13:27:24+02:00",
    "2003-10-10T14:29:00+02:00",
    "2003-10-10T14:36:36+02:00",
    "2003-10-10T14:37:35+02:00",
    "2003-10-10T14:55:44+02:00",
    "2003-10-10T15:17:14+02:00",
    "2003-10-10T18:26:58+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.internal.editors.quickdiff.LastSaveReferenceProvider.setDocumentContent",
          "source": "LastSaveReferenceProvider.java:204"
        },
        {
          "method": "org.eclipse.ui.internal.editors.quickdiff.LastSaveReferenceProvider.readDocument",
          "source": "LastSaveReferenceProvider.java:139"
        },
        {
          "method": "org.eclipse.ui.internal.editors.quickdiff.LastSaveReferenceProvider.getReference",
          "source": "LastSaveReferenceProvider.java:57"
        },
        {
          "method": "org.eclipse.ui.internal.texteditor.quickdiff.DocumentLineDiffer$1.run",
          "source": "DocumentLineDiffer.java:538"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:62"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "44383",
      "date": "2003-10-08T03:15:28+02:00",
      "product": "Platform",
      "component": "Text",
      "severity": "major"
    }
  ],
  "groupId": "44383",
  "bugId": "44383",
  "date": "2003-10-08T03:15:28+02:00",
  "product": "Platform",
  "component": "Text",
  "severity": "major"
}