{
  "comments": [
    "Linux motif - KDE - Build 0528\n\nOpen the Launch Configurations dialog (debug button)\nSelect another item in the list and got the following exception.\nCan\u0027t create another configuration.\n\norg.eclipse.swt.SWTException: Graphic is disposed\n\tat org.eclipse.swt.SWT.error(SWT.java:1887)\n\tat org.eclipse.swt.SWT.error(SWT.java:1819)\n\tat org.eclipse.swt.graphics.Image.getBounds(Image.java:674)\n\tat org.eclipse.swt.widgets.TabItem.imageWidth(TabItem.java:216)\n\tat org.eclipse.swt.widgets.TabItem.preferredWidth(TabItem.java:291)\n\tat org.eclipse.swt.widgets.TabFolder.layoutItems(TabFolder.java:744)\n\tat org.eclipse.swt.widgets.TabFolder.setSelection(TabFolder.java:1023)\n\tat org.eclipse.swt.widgets.TabFolder.destroyChild(TabFolder.java:241)\n\tat org.eclipse.swt.widgets.TabItem.dispose(TabItem.java:116)\n\tat \norg.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationDialog.disposeExistingTabs(LaunchConfigurationDialog.java:1459)\n\tat \norg.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationDialog.selectionChanged(LaunchConfigurationDialog.java:1270)\n\tat \norg.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:147)\n\tat \norg.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:1154)\n\tat \norg.eclipse.jface.viewers.StructuredViewer.handleSelect(StructuredViewer.java:544)\n\tat \norg.eclipse.jface.viewers.StructuredViewer$1.widgetSelected(StructuredViewer.java:568)\n\tat \norg.eclipse.jface.util.OpenStrategy.fireSelectionEvent(OpenStrategy.java:171)\n\tat org.eclipse.jface.util.OpenStrategy.access$3(OpenStrategy.java:168)\n\tat \norg.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:297)\n\tat \norg.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:485)\n\tat \norg.eclipse.swt.widgets.SelectableItemWidget.selectNotify(SelectableItemWidget.java:1687)\n\tat \norg.eclipse.swt.widgets.SelectableItemWidget.selectNotify(SelectableItemWidget.java:1710)\n\tat \norg.eclipse.swt.widgets.SelectableItemWidget.doMouseSelect(SelectableItemWidget.java:613)\n\tat org.eclipse.swt.widgets.Tree.mouseDown(Tree.java:1035)\n\tat org.eclipse.swt.widgets.Tree.handleEvents(Tree.java:810)\n\tat \norg.eclipse.swt.widgets.SelectableItemWidget$1.handleEvent(SelectableItemWidget.java:1190)\n\tat \norg.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Compiled Code))\n\tat \norg.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code))\n\tat \norg.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code))\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java(Compiled \nCode))\n\tat org.eclipse.jface.window.Window.open(Window.java:538)\n\tat \norg.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationDialog.doLastLaunchedConfig(LaunchConfigurationDialog.java:530)\n\tat \norg.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationDialog.open(LaunchConfigurationDialog.java:491)\n\tat \norg.eclipse.debug.internal.ui.actions.OpenLaunchConfigurationsAction.run(OpenLaunchConfigurationsAction.java:133)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:590)\n\tat \norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:407)\n\tat \norg.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionContributionItem.java:361)\n\tat \norg.eclipse.jface.action.ActionContributionItem.access$0(ActionContributionItem.java:352)\n\tat \norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(ActionContributionItem.java:47)\n\tat \norg.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:789)\n\tat \norg.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code))\n\tat \norg.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code))\n\tat \norg.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1068)\n\tat \norg.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:739)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:462)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:200)\n\tat org.eclipse.core.launcher.Main.run(Main.java:643)\n\tat org.eclipse.core.launcher.Main.main(Main.java:476)",
    "moving to debug",
    "Do you have a simple way to reproduce this? I was unable to get this to happen.",
    "This could be a linux specific problem.",
    "I deleted all jdt,pde,debug metadata and it did not happen for a while but I \ngot the same exception later.\nI do not have steps to reproduce it but I was getting it everytime I tried to \ncreate a launcher config.",
    "Please verify.",
    "Wrong bug -reopening.",
    "Re-opening for F2 test pass/prioritization.",
    "I just came across this bug on linux-motif.\n\nThe code calls\n    LaunchConfigurationDialog.disposeExisitingTabs\nin which the data for the tabs is disposed via:\n    getTabGroups().dispose()\nfollowed by disposing the tab items via:\n    oldTabs[i].dispose()\n\nThe problem is that the image in one of the tabs is being disposed before the \ntabitem is disposed which causes serious badness (Windows handles this \ngracefully in the OS but not all platforms will and it is not a supported order \nof operations).\n\nThe image is disposed in \n    JavaClasspathTab.dispose()\n\nI recommend you reverse the order - dispose the tab items before disposing the \nassociated tab group.  Or at the very least, set the image for each tab item to \nnull before calling getTabGroups().dispose().\n\n",
    "This is a problem for the JUnit lanuch tabs, Java tabs, and PDE tabs. Propose \nto change the tabs to NOT dispose of images. Callers who call \"getImage()\" must \ndispose of the image. In this case, the launch dialog will dispose of the \nimages when the tab controls are disposed.\n\nMarking as candidate for F3",
    "Adding EG as CC (Junit tab owner)",
    "Do not agree (at least not with the current API). The call \u0027getImage\u0027 implies \nthat you are only using the image. Changing the API to \u0027createImage\u0027 would \nimply that the caller is responsible for disposing it. Alternatively, we can \nchange \u0027getImage\u0027 to \u0027getImageDescriptor\u0027 that the dialog can use to create \nimages when needed.",
    "Veronika, could we get a clarification...\n\nIf we\n(1) dispose the tab controls (which disposes the images)\n(2) diposee the tab groups (which also diposes image again)\n\nAre we OK? I.e. Can we dispose and image twice? This way, clients do not need \nto change their code.",
    "What do you mean \"(1) dispose the tab controls (which disposes the images)\"?\n\nThe SWT TabItem does not dispose the image.",
    "That\u0027s the clarification I needed (I was afraid that changing the order would \nleave the same problem - i.e. a double dispose of an image). If we dispose our \ntab groups after the tab control is disposed, then clients do not need to \nchange any code. Propose to change ordering of dispose, as suggested by \nVeronkia.\n\n(1) Dispose controls\n(2) Dispose tab group",
    "Fixed in LaunchConfigurationDialog.disposeExistingTabs().  Please verify.",
    "Verified."
  ],
  "commentCreationDates": [
    "2002-05-28T21:32:54+02:00",
    "2002-05-29T00:40:28+02:00",
    "2002-05-29T03:57:48+02:00",
    "2002-05-29T04:02:52+02:00",
    "2002-05-29T15:58:23+02:00",
    "2002-05-31T19:51:59+02:00",
    "2002-05-31T20:07:55+02:00",
    "2002-06-03T19:50:07+02:00",
    "2002-06-04T20:45:04+02:00",
    "2002-06-04T21:45:16+02:00",
    "2002-06-04T21:45:40+02:00",
    "2002-06-04T21:51:31+02:00",
    "2002-06-04T21:53:33+02:00",
    "2002-06-04T23:02:57+02:00",
    "2002-06-04T23:07:21+02:00",
    "2002-06-05T22:10:16+02:00",
    "2002-06-07T15:58:48+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Graphic is disposed",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:1887"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:1819"
        },
        {
          "method": "org.eclipse.swt.graphics.Image.getBounds",
          "source": "Image.java:674"
        },
        {
          "method": "org.eclipse.swt.widgets.TabItem.imageWidth",
          "source": "TabItem.java:216"
        },
        {
          "method": "org.eclipse.swt.widgets.TabItem.preferredWidth",
          "source": "TabItem.java:291"
        },
        {
          "method": "org.eclipse.swt.widgets.TabFolder.layoutItems",
          "source": "TabFolder.java:744"
        },
        {
          "method": "org.eclipse.swt.widgets.TabFolder.setSelection",
          "source": "TabFolder.java:1023"
        },
        {
          "method": "org.eclipse.swt.widgets.TabFolder.destroyChild",
          "source": "TabFolder.java:241"
        },
        {
          "method": "org.eclipse.swt.widgets.TabItem.dispose",
          "source": "TabItem.java:116"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationDialog.disposeExistingTabs",
          "source": "LaunchConfigurationDialog.java:1459"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationDialog.selectionChanged",
          "source": "LaunchConfigurationDialog.java:1270"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer.fireSelectionChanged",
          "source": "Viewer.java:147"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateSelection",
          "source": "StructuredViewer.java:1154"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleSelect",
          "source": "StructuredViewer.java:544"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$1.widgetSelected",
          "source": "StructuredViewer.java:568"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireSelectionEvent",
          "source": "OpenStrategy.java:171"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$3",
          "source": "OpenStrategy.java:168"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "OpenStrategy.java:297"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:485"
        },
        {
          "method": "org.eclipse.swt.widgets.SelectableItemWidget.selectNotify",
          "source": "SelectableItemWidget.java:1687"
        },
        {
          "method": "org.eclipse.swt.widgets.SelectableItemWidget.selectNotify",
          "source": "SelectableItemWidget.java:1710"
        },
        {
          "method": "org.eclipse.swt.widgets.SelectableItemWidget.doMouseSelect",
          "source": "SelectableItemWidget.java:613"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.mouseDown",
          "source": "Tree.java:1035"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.handleEvents",
          "source": "Tree.java:810"
        },
        {
          "method": "org.eclipse.swt.widgets.SelectableItemWidget$1.handleEvent",
          "source": "SelectableItemWidget.java:1190"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:538"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationDialog.doLastLaunchedConfig",
          "source": "LaunchConfigurationDialog.java:530"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationDialog.open",
          "source": "LaunchConfigurationDialog.java:491"
        },
        {
          "method": "org.eclipse.debug.internal.ui.actions.OpenLaunchConfigurationsAction.run",
          "source": "OpenLaunchConfigurationsAction.java:133"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:590"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:407"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java:361"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem.java:352"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java:47"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:789"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1068"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:739"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:462"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:200"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:643"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:476"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "18100",
      "date": "2002-05-28T21:32:54+02:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "blocker"
    }
  ],
  "groupId": "18100",
  "bugId": "18100",
  "date": "2002-05-28T21:32:54+02:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "blocker"
}