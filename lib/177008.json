{
  "comments": [
    "http://birtworld.blogspot.com/2006/01/swapping-databases-at-runtime-with.html\n\"Within this editor, the JDBC Driver Class, JDBC Driver URL, User Name and Password properties can be changed dynamically.\"\n\nI wanted to unset user name if some parameter is defined, so I defined if expression:\n\nif (params[\"runtime-report-definition\"] !\u003d \"Unknown\") \"\"; \n\nbut it died in preview:\n\njava.lang.NullPointerException\n        at org.eclipse.birt.report.engine.adapter.ModelDteApiAdapter.evaluatePropertyBindingExpr(ModelDteApiAdapter.java:282)\n        at org.eclipse.birt.report.engine.adapter.ModelDteApiAdapter.newOdaDataSource(ModelDteApiAdapter.java:327)\n        at org.eclipse.birt.report.engine.adapter.ModelDteApiAdapter.createDataSourceDesign(ModelDteApiAdapter.java:181)\n        at org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.prepare(AbstractDataEngine.java:154)\n        at org.eclipse.birt.report.engine.executor.ReportExecutor.execute(ReportExecutor.java:98)\n        at org.eclipse.birt.report.engine.internal.executor.l18n.LocalizedReportExecutor.execute(LocalizedReportExecutor.java:38)\n        at org.eclipse.birt.report.engine.layout.html.HTMLReportLayoutEngine.layout(HTMLReportLayoutEngine.java:73)\n        at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.doRun(RunAndRenderTask.java:205)\n        at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run(RunAndRenderTask.java:142)\n        at org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport(Unknown Source)\n        at org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport(Unknown Source)\n        at org.eclipse.birt.report.service.BirtViewerReportService.runAndRenderReport(Unknown Source)\n        at org.eclipse.birt.report.service.actionhandler.BirtRunAndRenderActionHandler.__execute(Unknown Source)\n        at org.eclipse.birt.report.service.actionhandler.AbstractBaseActionHandler.execute(Unknown Source)\n        at org.eclipse.birt.report.presentation.aggregation.layout.EngineFragment.doService(Unknown Source)\n        at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.service(Unknown Source)\n        at org.eclipse.birt.report.servlet.BirtEngineServlet.__doGet(Unknown Source)\n        at org.eclipse.birt.report.servlet.BaseReportEngineServlet.doGet(Unknown Source)\n\nI had to define if-else to make it work.\n\nif (params[\"runtime-report-definition\"] !\u003d \"Unknown\") \"\"; else \"leos\";\n\n1) why is it neccessary to define alternate value? Jason wrote, that property binding can be used to change value. And I want to change it only under some circumstances.\n\n2) fix NPE ;-)",
    "Reassign to engine team for further research.",
    "Hi, \n\nFor the NPE problem, it has already been fixed in latest build. Please update to BIRT 2.2 M4 or above.\n\nFor the if..else problem, because the definition of property binding is that: property binding will replace the part of property value in runtime. That is, we will always use the evaluation value of property binding expression to replace the value of a propert w/o concern whether the return value is valid. User must take responsibility to ensure the correctness of the expression evaluation result.\n\nIf an expression is something like: if (params[\"runtime-report-definition\"] !\u003d \"Unknown\") \"\"; , then for all params[\"runtime-report-definition\"] that valued other than \"Unknown\" the null value will return as expression evaluate result, and it will replace the very value of property to which the property binding is defined. For if (params[\"runtime-report-definition\"] !\u003d \"Unknown\") \"\"; else \"leos\";, the expression evaluate result will always be \"\" or \"leos\", so it will not lead to the problem.\n\nThanks.\nJian"
  ],
  "commentCreationDates": [
    "2007-03-12T16:49:33+01:00",
    "2007-03-13T02:35:47+01:00",
    "2007-03-22T04:16:55+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.birt.report.engine.adapter.ModelDteApiAdapter.evaluatePropertyBindingExpr",
          "source": "ModelDteApiAdapter.java:282"
        },
        {
          "method": "org.eclipse.birt.report.engine.adapter.ModelDteApiAdapter.newOdaDataSource",
          "source": "ModelDteApiAdapter.java:327"
        },
        {
          "method": "org.eclipse.birt.report.engine.adapter.ModelDteApiAdapter.createDataSourceDesign",
          "source": "ModelDteApiAdapter.java:181"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.prepare",
          "source": "AbstractDataEngine.java:154"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutor.execute",
          "source": "ReportExecutor.java:98"
        },
        {
          "method": "org.eclipse.birt.report.engine.internal.executor.l18n.LocalizedReportExecutor.execute",
          "source": "LocalizedReportExecutor.java:38"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLReportLayoutEngine.layout",
          "source": "HTMLReportLayoutEngine.java:73"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.doRun",
          "source": "RunAndRenderTask.java:205"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run",
          "source": "RunAndRenderTask.java:142"
        },
        {
          "method": "org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.service.BirtViewerReportService.runAndRenderReport",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.service.actionhandler.BirtRunAndRenderActionHandler.__execute",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.service.actionhandler.AbstractBaseActionHandler.execute",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.presentation.aggregation.layout.EngineFragment.doService",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.service",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.servlet.BirtEngineServlet.__doGet",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.servlet.BaseReportEngineServlet.doGet",
          "source": "Unknown Source"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "177008",
      "date": "2007-03-12T16:49:33+01:00",
      "product": "BIRT",
      "component": "Data",
      "severity": "normal"
    }
  ],
  "groupId": "177008",
  "bugId": "177008",
  "date": "2007-03-12T16:49:33+01:00",
  "product": "BIRT",
  "component": "Data",
  "severity": "normal"
}