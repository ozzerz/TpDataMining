{
  "comments": [
    "After setting up a WTP project, I was unable to open a Tomcat server.  I\u0027m running Tomcat 5.0.28.  When I try to create a new server, or open Tomcat v5.0 Server, I get the message \"Could not load the Tomcat server configuration at /Servers/Tomcat v5.0 Server @ localhost-config.  The configuration may be corrupt or incomplete.\"  When I look in [eclipse]/Servers/Tomcat v5.0 Server @ localhost-config, there are indeed no files in it.  I tried selecting Tomcat v5.5 and it did create the files in the appropriate [eclipse]/Server directory, but it would not launch.  As an aside, I was not able to get Tomcat 5.5 to run on my machine anyway.  I have tried this with Tomcat already started (under Apache), and without it started.  My Tomcat is configured to use port 8080.  Below is the appropriate log entry\n\n----------------\n\n!ENTRY org.eclipse.jst.server.tomcat.core 4 0 2005-11-21 22:12:38.776\n!MESSAGE Could not load the Tomcat server configuration at /Servers/Tomcat v5.0 Server @ localhost-config. The configuration may be corrupt or incomplete.\n!STACK 1\norg.eclipse.core.runtime.CoreException: Could not load the Tomcat server configuration at /Servers/Tomcat v5.0 Server @ localhost-config. The configuration may be corrupt or incomplete.\n\tat org.eclipse.jst.server.tomcat.core.internal.Tomcat50Configuration.load(Tomcat50Configuration.java:278)\n\tat org.eclipse.jst.server.tomcat.core.internal.TomcatServer.getTomcatConfiguration(TomcatServer.java:80)\n\tat org.eclipse.jst.server.tomcat.core.internal.TomcatServerBehaviour.getTomcatConfiguration(TomcatServerBehaviour.java:72)\n\tat org.eclipse.jst.server.tomcat.core.internal.TomcatServerBehaviour.publishServer(TomcatServerBehaviour.java:186)\n\tat org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish(ServerBehaviourDelegate.java:571)\n\tat org.eclipse.wst.server.core.internal.Server.doPublish(Server.java:706)\n\tat org.eclipse.wst.server.core.internal.Server.publish(Server.java:693)\n\tat org.eclipse.wst.server.core.internal.PublishServerJob.run(PublishServerJob.java:149)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)\n!SUBENTRY 1 org.eclipse.jst.server.tomcat.core 2 0 2005-11-21 22:12:38.806\n!MESSAGE Could not load the Tomcat server configuration at /Servers/Tomcat v5.0 Server @ localhost-config. The configuration may be corrupt or incomplete.\n\n------------\n\nSo it appears to me that the problem is that in the \"Define a New Server\" dialog, when I select Tomcat v5.0 Server under Apache with Server\u0027s host name \"localhost\" and click next, it doesn\u0027t put the necessary files (specifically the config file) into the [eclipse]/Servers directory.",
    "I have been unable to reproduce this, but another bug raised one possibility - do you have access control working, and does the current user have the correct rights to load from the external Tomcat directory (i.e. the one that you typed in when creating the runtime)? If the user can\u0027t load from this directory it would cause this problem, and there appears to be a missing error message.",
    "I ran into this same problem and it turned out that I would get this kind of error if Tomcat was someplace I didn\u0027t have access to (/usr/local/tomcat) when I was running as a non-root user. Moving Tomcat to ~/Applications/Tomcat fixed the problem. It seems that making the error message give you information that you don\u0027t have the right permissions would be helpful.",
    "(In reply to comment #2)\n\u003e I ran into this same problem and it turned out that I would get this kind of\n\u003e error if Tomcat was someplace I didn\u0027t have access to (/usr/local/tomcat) when\n\u003e I was running as a non-root user. Moving Tomcat to ~/Applications/Tomcat fixed\n\u003e the problem. It seems that making the error message give you information that\n\u003e you don\u0027t have the right permissions would be helpful.\n\u003e \n\nI am running under x86_64 linux and tomcat5.5. I have the same problem. I get the error below. I am running eclipse and tomcat in the same virtual machine as the same user. both program directories lie in my home directory and I have full access. both programs are working fine on their own. i just can\u0027t get eclipse/wtp to communicate with tomcat.\n\n\n\n!ENTRY org.eclipse.wst.server.core 4 0 2006-01-24 14:11:48.491\n!MESSAGE Publishing failed\n!SUBENTRY 1 org.eclipse.jst.server.tomcat.core 4 0 2006-01-24 14:11:48.528\n!MESSAGE Could not load the Tomcat server configuration at /Servers/Tomcat v5.5 Server @ localhost-config. The configuration may be corrupt or incomplete.\n!STACK 1\norg.eclipse.core.runtime.CoreException: Could not load the Tomcat server configuration at /Servers/Tomcat v5.5 Server @ localhost-config. The configuration may be corrupt or incomplete.\n\tat org.eclipse.jst.server.tomcat.core.internal.Tomcat55Configuration.load(Tomcat55Configuration.java:250)\n\tat org.eclipse.jst.server.tomcat.core.internal.TomcatServer.getTomcatConfiguration(TomcatServer.java:80)\n\tat org.eclipse.jst.server.tomcat.core.internal.TomcatServerBehaviour.getTomcatConfiguration(TomcatServerBehaviour.java:74)\n\tat org.eclipse.jst.server.tomcat.core.internal.TomcatServerBehaviour.publishServer(TomcatServerBehaviour.java:200)\n\tat org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish(ServerBehaviourDelegate.java:583)\n\tat org.eclipse.wst.server.core.internal.Server.doPublish(Server.java:799)\n\tat org.eclipse.wst.server.core.internal.Server.publish(Server.java:788)\n\tat org.eclipse.wst.server.core.internal.PublishServerJob.run(PublishServerJob.java:145)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)\n!SUBENTRY 2 org.eclipse.jst.server.tomcat.core 2 0 2006-01-24 14:11:48.529\n!MESSAGE Could not load the Tomcat server configuration at /Servers/Tomcat v5.5 Server @ localhost-config. The configuration may be corrupt or incomplete.\n!SUBENTRY 1 org.eclipse.jst.server.tomcat.core 4 0 2006-01-24 14:11:48.529\n!MESSAGE Could not load the Tomcat server configuration at /Servers/Tomcat v5.5 Server @ localhost-config. The configuration may be corrupt or incomplete.\n!STACK 1\norg.eclipse.core.runtime.CoreException: Could not load the Tomcat server configuration at /Servers/Tomcat v5.5 Server @ localhost-config. The configuration may be corrupt or incomplete.\n\tat org.eclipse.jst.server.tomcat.core.internal.Tomcat55Configuration.load(Tomcat55Configuration.java:250)\n\tat org.eclipse.jst.server.tomcat.core.internal.TomcatServer.getTomcatConfiguration(TomcatServer.java:80)\n\tat org.eclipse.jst.server.tomcat.core.internal.TomcatServerBehaviour.getTomcatConfiguration(TomcatServerBehaviour.java:74)\n\tat org.eclipse.jst.server.tomcat.core.internal.TomcatServerBehaviour.publishFinish(TomcatServerBehaviour.java:332)\n\tat org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish(ServerBehaviourDelegate.java:606)\n\tat org.eclipse.wst.server.core.internal.Server.doPublish(Server.java:799)\n\tat org.eclipse.wst.server.core.internal.Server.publish(Server.java:788)\n\tat org.eclipse.wst.server.core.internal.PublishServerJob.run(PublishServerJob.java:145)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)\n!SUBENTRY 2 org.eclipse.jst.server.tomcat.core 2 0 2006-01-24 14:11:48.530\n!MESSAGE Could not load the Tomcat server configuration at /Servers/Tomcat v5.5 Server @ localhost-config. The configuration may be corrupt or incomplete.\n",
    "I finally got it working by doing the following three steps:\n\n1. I used WTP1.5M4 + prereqs under eclipse 3.2M4. it was then still not working.\n2. i then removed the server in the servers view and readded it and then it worked. so something must have been stucked.\n3. afterwards the old eclipse 3.1.1 configuration was working as well.\n\njust wanted to let you know.\n\nthx\n\nmax",
    "*** Bug 124097 has been marked as a duplicate of this bug. ***",
    "Released a fix to 1.0.2 and 1.5 builds. It should give an error message if the Tomcat configuration cannot be read and prevent you from creating a server this way, since it will fail when you try to use it.",
    "The fix doesn\u0027t seem to be working. I\u0027m running 3.2M5:\n\n1) Created Tomcat 5.5 server runtime and played a bit with it.\n2) Noticed \"Server\" project showing up in Eclipse workspace- and deleted it\n3) Now, when trying to start the existing Tomcat, error message occurs again\n4) Removing and readding server runtime doesn\u0027t fix the issue\n5) Neither [workspace]/Server or [eclipse]/Server directory exists or is created (not a permission issue as running Windows)",
    "This is a different problem. In the case above, the New wizard was not giving an error message and allowing the user to create it anyway. In your case, you are deliberately deleting the server configuration, and that is (correctly) causing the error.\n\nThe easiest way around it is to just delete the server and recreate it. If you think the error message could be better please open a new bug with your comments.",
    "Closing old bugs."
  ],
  "commentCreationDates": [
    "2005-11-23T01:22:30+01:00",
    "2005-12-19T14:56:04+01:00",
    "2006-01-07T16:39:43+01:00",
    "2006-01-24T03:25:06+01:00",
    "2006-01-24T08:13:39+01:00",
    "2006-02-21T15:12:31+01:00",
    "2006-03-12T23:35:44+01:00",
    "2006-05-25T11:31:03+02:00",
    "2006-06-06T17:18:32+02:00",
    "2006-11-21T19:44:33+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.runtime.CoreException",
      "message": "Could not load the Tomcat server configuration at /Servers/Tomcat v5.0 Server @ localhost-config. The configuration may be corrupt or incomplete.",
      "elements": [
        {
          "method": "org.eclipse.jst.server.tomcat.core.internal.Tomcat50Configuration.load",
          "source": "Tomcat50Configuration.java:278"
        },
        {
          "method": "org.eclipse.jst.server.tomcat.core.internal.TomcatServer.getTomcatConfiguration",
          "source": "TomcatServer.java:80"
        },
        {
          "method": "org.eclipse.jst.server.tomcat.core.internal.TomcatServerBehaviour.getTomcatConfiguration",
          "source": "TomcatServerBehaviour.java:72"
        },
        {
          "method": "org.eclipse.jst.server.tomcat.core.internal.TomcatServerBehaviour.publishServer",
          "source": "TomcatServerBehaviour.java:186"
        },
        {
          "method": "org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish",
          "source": "ServerBehaviourDelegate.java:571"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.Server.doPublish",
          "source": "Server.java:706"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.Server.publish",
          "source": "Server.java:693"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.PublishServerJob.run",
          "source": "PublishServerJob.java:149"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:76"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "117611",
      "date": "2005-11-23T01:22:30+01:00",
      "product": "Web Tools",
      "component": "jst.server",
      "severity": "major"
    },
    {
      "exceptionType": "org.eclipse.core.runtime.CoreException",
      "message": "Could not load the Tomcat server configuration at /Servers/Tomcat v5.5 Server @ localhost-config. The configuration may be corrupt or incomplete.",
      "elements": [
        {
          "method": "org.eclipse.jst.server.tomcat.core.internal.Tomcat55Configuration.load",
          "source": "Tomcat55Configuration.java:250"
        },
        {
          "method": "org.eclipse.jst.server.tomcat.core.internal.TomcatServer.getTomcatConfiguration",
          "source": "TomcatServer.java:80"
        },
        {
          "method": "org.eclipse.jst.server.tomcat.core.internal.TomcatServerBehaviour.getTomcatConfiguration",
          "source": "TomcatServerBehaviour.java:74"
        },
        {
          "method": "org.eclipse.jst.server.tomcat.core.internal.TomcatServerBehaviour.publishServer",
          "source": "TomcatServerBehaviour.java:200"
        },
        {
          "method": "org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish",
          "source": "ServerBehaviourDelegate.java:583"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.Server.doPublish",
          "source": "Server.java:799"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.Server.publish",
          "source": "Server.java:788"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.PublishServerJob.run",
          "source": "PublishServerJob.java:145"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:76"
        }
      ],
      "number": 1,
      "commentIndex": 3,
      "bugId": "117611",
      "date": "2006-01-24T03:25:06+01:00",
      "product": "Web Tools",
      "component": "jst.server",
      "severity": "major"
    },
    {
      "exceptionType": "org.eclipse.core.runtime.CoreException",
      "message": "Could not load the Tomcat server configuration at /Servers/Tomcat v5.5 Server @ localhost-config. The configuration may be corrupt or incomplete.",
      "elements": [
        {
          "method": "org.eclipse.jst.server.tomcat.core.internal.Tomcat55Configuration.load",
          "source": "Tomcat55Configuration.java:250"
        },
        {
          "method": "org.eclipse.jst.server.tomcat.core.internal.TomcatServer.getTomcatConfiguration",
          "source": "TomcatServer.java:80"
        },
        {
          "method": "org.eclipse.jst.server.tomcat.core.internal.TomcatServerBehaviour.getTomcatConfiguration",
          "source": "TomcatServerBehaviour.java:74"
        },
        {
          "method": "org.eclipse.jst.server.tomcat.core.internal.TomcatServerBehaviour.publishFinish",
          "source": "TomcatServerBehaviour.java:332"
        },
        {
          "method": "org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish",
          "source": "ServerBehaviourDelegate.java:606"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.Server.doPublish",
          "source": "Server.java:799"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.Server.publish",
          "source": "Server.java:788"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.PublishServerJob.run",
          "source": "PublishServerJob.java:145"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:76"
        }
      ],
      "number": 2,
      "commentIndex": 3,
      "bugId": "117611",
      "date": "2006-01-24T03:25:06+01:00",
      "product": "Web Tools",
      "component": "jst.server",
      "severity": "major"
    }
  ],
  "groupId": "117611",
  "bugId": "117611",
  "date": "2005-11-23T01:22:30+01:00",
  "product": "Web Tools",
  "component": "jst.server",
  "severity": "major"
}