{
  "comments": [
    "Build 3.3RC0\n\nHad defined the following file in default package X.java, containing the source:\n\n-------------------\npackage p;\nimport static p.Super.A.*;\n\nclass Super\u003cT\u003e {\n\tstatic class A\u003cU\u003e {}\n}\n\npublic class X extends Super\u003cA\u003cX\u003e\u003e {\n}\n-------------------\n\nMoved mouse cursor onto the run button, got an error dialog asking to exit workbench.\n\n\n!ENTRY org.eclipse.core.jobs 4 2 2007-05-14 15:25:31.411\n!MESSAGE An internal error occurred during: \"Compute launch button tooltip\".\n!STACK 0\njava.lang.StackOverflowError\n        at org.eclipse.jdt.internal.core.PackageFragmentRoot.equals(PackageFragmentRoot.java:333)\n        at org.eclipse.jdt.internal.core.PackageFragment.equals(PackageFragment.java:175)\n        at java.util.Hashtable$HashtableCacheHashEntry.equalsKey(Hashtable.java:65)\n        at java.util.Hashtable.get(Hashtable.java:486)\n        at org.eclipse.jdt.internal.core.util.LRUCache.get(LRUCache.java:206)\n        at org.eclipse.jdt.internal.core.JavaModelCache.getInfo(JavaModelCache.java:101)\n        at org.eclipse.jdt.internal.core.JavaModelManager.getInfo(JavaModelManager.java:1566)\n        at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:247)\n        at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:235)\n        at org.eclipse.jdt.internal.core.JavaElement.getChildren(JavaElement.java:190)\n        at org.eclipse.jdt.internal.core.NameLookup.seekTypesInSourcePackage(NameLookup.java:1037)\n        at org.eclipse.jdt.internal.core.NameLookup.seekTypes(NameLookup.java:952)\n        at org.eclipse.jdt.internal.core.NameLookup.findType(NameLookup.java:746)\n        at org.eclipse.jdt.internal.core.NameLookup.findType(NameLookup.java:630)\n        at org.eclipse.jdt.internal.core.NameLookup.findType(NameLookup.java:589)\n        at org.eclipse.jdt.internal.core.SearchableEnvironment.find(SearchableEnvironment.java:96)\n        at org.eclipse.jdt.internal.core.SearchableEnvironment.findType(SearchableEnvironment.java:282)\n        at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:124)\n        at org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage(PackageBinding.java:178)\n        at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.findImport(CompilationUnitScope.java:447)\n        at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.checkAndSetImports(CompilationUnitScope.java:182)\n        at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:275)\n        at org.eclipse.jdt.internal.core.hierarchy.HierarchyResolver.accept(HierarchyResolver.java:153)\n        at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:136)\n        at org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage(PackageBinding.java:178)\n        at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.findImport(CompilationUnitScope.java:447)\n        at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.checkAndSetImports(CompilationUnitScope.java:182)\n        at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:275)\n        at org.eclipse.jdt.internal.core.hierarchy.HierarchyResolver.accept(HierarchyResolver.java:153)\n        at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:136)\n        at org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage(PackageBinding.java:178)\n        at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.findImport(CompilationUnitScope.java:447)\n        at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.checkAndSetImports(CompilationUnitScope.java:182)\n        at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:275)\n        at org.eclipse.jdt.internal.core.hierarchy.HierarchyResolver.accept(HierarchyResolver.java:153)\n        at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:136)\n        at org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage(PackageBinding.java:178)\n        at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.findImport(CompilationUnitScope.java:447)\n        at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.checkAndSetImports(CompilationUnitScope.java:182)\n        at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:275)\n        at org.eclipse.jdt.internal.core.hierarchy.HierarchyResolver.accept(HierarchyResolver.java:153)\n        at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:136)\n        at org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage(PackageBinding.java:178)\n        at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.findImport(CompilationUnitScope.java:447)\n        at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.checkAndSetImports(CompilationUnitScope.java:182)\n        at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:275)\n\n        ....\n\n        at org.eclipse.jdt.internal.core.hierarchy.HierarchyResolver.accept(HierarchyResolver.java:153)\n        at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:136)\n        at org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage(PackageBinding.java:178)\n        at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.findImport(CompilationUnitScope.java:447)\n        at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.checkAndSetImports(CompilationUnitScope.java:182)\n        at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:275)\n        at org.eclipse.jdt.internal.core.hierarchy.HierarchyResolver.accept(HierarchyResolver.java:153)\n        at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:136)\n        at org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage(PackageBinding.java:178)\n        at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.findImport(CompilationUnitScope.java:447)\n        at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.checkAndSetImports(CompilationUnitScope.java:182)\n        at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:275)\n        at org.eclipse.jdt.internal.core.hierarchy.HierarchyResolver.accept(HierarchyResolver.java:153)\n        at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:136)\n        at org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage(PackageBinding.java:178)\n        at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.findImport(CompilationUnitScope.java:447)\n        at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.checkAndSetImports(CompilationUnitScope.java:182)\n        at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:275)\n        at org.eclipse.jdt.internal.core.hierarchy.HierarchyResolver.accept(HierarchyResolver.java:153)\n        at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:136)\n        at org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage(PackageBinding.java:178)\n        at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.findImport(CompilationUnitScope.java:447)\n        at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.checkAndSetImports(CompilationUnitScope.java:182)\n        at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:275)\n        at org.eclipse.jdt.internal.core.hierarchy.HierarchyResolver.accept(HierarchyResolver.java:153)\n        at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:136)\n        at org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage(PackageBinding.java:178)\n        at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.findImport(CompilationUnitScope.java:447)\n        at org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.checkAndSetImports(CompilationUnitScope.java:182)\n        at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings(LookupEnvironment.java:275)\n        at org.eclipse.jdt.internal.core.hierarchy.HierarchyResolver.resolve(HierarchyResolver.java:718)\n        at org.eclipse.jdt.internal.core.hierarchy.HierarchyResolver.resolve(HierarchyResolver.java:550)\n        at org.eclipse.jdt.internal.core.hierarchy.HierarchyBuilder.buildSupertypes(HierarchyBuilder.java:115)\n        at org.eclipse.jdt.internal.core.hierarchy.IndexBasedHierarchyBuilder.build(IndexBasedHierarchyBuilder.java:135)\n        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.compute(TypeHierarchy.java:300)\n        at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.refresh(TypeHierarchy.java:1234)\n        at org.eclipse.jdt.internal.core.CreateTypeHierarchyOperation.executeOperation(CreateTypeHierarchyOperation.java:90)\n        at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:720)\n        at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:780)\n        at org.eclipse.jdt.internal.core.SourceType.newSupertypeHierarchy(SourceType.java:697)\n        at org.eclipse.jdt.internal.core.SourceType.newSupertypeHierarchy(SourceType.java:649)\n        at org.eclipse.jdt.internal.launching.JavaLaunchableTester.hasSuperclass(JavaLaunchableTester.java:470)\n        at org.eclipse.jdt.internal.launching.JavaLaunchableTester.test(JavaLaunchableTester.java:613)\n        at org.eclipse.core.internal.expressions.Property.test(Property.java:58)\n        at org.eclipse.core.internal.expressions.TestExpression.evaluate(TestExpression.java:98)\n        at org.eclipse.core.internal.expressions.CompositeExpression.evaluateOr(CompositeExpression.java:68)\n        at org.eclipse.core.internal.expressions.OrExpression.evaluate(OrExpression.java:21)\n        at org.eclipse.core.internal.expressions.CompositeExpression.evaluateAnd(CompositeExpression.java:53)\n        at org.eclipse.core.internal.expressions.IterateExpression.evaluate(IterateExpression.java:150)\n        at org.eclipse.core.internal.expressions.CompositeExpression.evaluateAnd(CompositeExpression.java:53)\n        at org.eclipse.core.internal.expressions.WithExpression.evaluate(WithExpression.java:69)\n        at org.eclipse.core.internal.expressions.CompositeExpression.evaluateAnd(CompositeExpression.java:53)\n        at org.eclipse.core.internal.expressions.EnablementExpression.evaluate(EnablementExpression.java:43)\n        at org.eclipse.debug.internal.ui.launchConfigurations.LaunchShortcutExtension.evalEnablementExpression(LaunchShortcutExtension.java:282)\n        at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationManager.getApplicableConfigurationTypes(LaunchConfigurationManager.java:693)\n        at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationManager.getApplicableLaunchConfigurations(LaunchConfigurationManager.java:726\n        at org.eclipse.debug.internal.ui.contextlaunching.LaunchingResourceManager.getResourceLabel(LaunchingResourceManager.java:272)\n        at org.eclipse.debug.internal.ui.contextlaunching.LaunchingResourceManager.computeLabels(LaunchingResourceManager.java:194)\n        at org.eclipse.debug.internal.ui.contextlaunching.LaunchingResourceManager$2.run(LaunchingResourceManager.java:120)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)",
    "Kent - can you look at it pls ? ",
    "Actually, hovering onto the DEBUG button is required (not RUN).",
    "Kent - to reproduce, pls get \u0027Crap\u0027 project v_001, and open X.java from default package. There must be sthg extra required to reproduce from my original testcase (likely some existing type).",
    "Other case (maybe same):\npackage p;\nimport static p.Super.*;\n\nclass Top\u003cT\u003e {}\n\nclass Super\u003cT\u003e extends Top\u003cT\u003e{\n}\n\npublic class X extends Super\u003cjava.util.List\u003cX\u003e\u003e {\n}",
    "I think the secondary type cache is attaching Super to the package p even tho\nthe file X.java is defined in the default package.\n\nWe should never find Super in the first place to cause the stack overflow.\n",
    "Created an attachment (id\u003d76207)\nProposed patch\n\n",
    "Released for 3.4M1 in HEAD stream.\n",
    "Verified for 3.4 M2 using build I20070917-0010."
  ],
  "commentCreationDates": [
    "2007-05-14T15:35:08+02:00",
    "2007-05-14T15:36:29+02:00",
    "2007-05-14T15:41:20+02:00",
    "2007-05-14T15:48:45+02:00",
    "2007-05-14T15:57:42+02:00",
    "2007-05-14T19:07:48+02:00",
    "2007-08-16T12:40:32+02:00",
    "2007-08-16T12:41:01+02:00",
    "2007-09-18T11:28:40+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.StackOverflowError",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.PackageFragmentRoot.equals",
          "source": "PackageFragmentRoot.java:333"
        },
        {
          "method": "org.eclipse.jdt.internal.core.PackageFragment.equals",
          "source": "PackageFragment.java:175"
        },
        {
          "method": "java.util.Hashtable$HashtableCacheHashEntry.equalsKey",
          "source": "Hashtable.java:65"
        },
        {
          "method": "java.util.Hashtable.get",
          "source": "Hashtable.java:486"
        },
        {
          "method": "org.eclipse.jdt.internal.core.util.LRUCache.get",
          "source": "LRUCache.java:206"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelCache.getInfo",
          "source": "JavaModelCache.java:101"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelManager.getInfo",
          "source": "JavaModelManager.java:1566"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaElement.getElementInfo",
          "source": "JavaElement.java:247"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaElement.getElementInfo",
          "source": "JavaElement.java:235"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaElement.getChildren",
          "source": "JavaElement.java:190"
        },
        {
          "method": "org.eclipse.jdt.internal.core.NameLookup.seekTypesInSourcePackage",
          "source": "NameLookup.java:1037"
        },
        {
          "method": "org.eclipse.jdt.internal.core.NameLookup.seekTypes",
          "source": "NameLookup.java:952"
        },
        {
          "method": "org.eclipse.jdt.internal.core.NameLookup.findType",
          "source": "NameLookup.java:746"
        },
        {
          "method": "org.eclipse.jdt.internal.core.NameLookup.findType",
          "source": "NameLookup.java:630"
        },
        {
          "method": "org.eclipse.jdt.internal.core.NameLookup.findType",
          "source": "NameLookup.java:589"
        },
        {
          "method": "org.eclipse.jdt.internal.core.SearchableEnvironment.find",
          "source": "SearchableEnvironment.java:96"
        },
        {
          "method": "org.eclipse.jdt.internal.core.SearchableEnvironment.findType",
          "source": "SearchableEnvironment.java:282"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType",
          "source": "LookupEnvironment.java:124"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage",
          "source": "PackageBinding.java:178"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.findImport",
          "source": "CompilationUnitScope.java:447"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.checkAndSetImports",
          "source": "CompilationUnitScope.java:182"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings",
          "source": "LookupEnvironment.java:275"
        },
        {
          "method": "org.eclipse.jdt.internal.core.hierarchy.HierarchyResolver.accept",
          "source": "HierarchyResolver.java:153"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType",
          "source": "LookupEnvironment.java:136"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage",
          "source": "PackageBinding.java:178"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.findImport",
          "source": "CompilationUnitScope.java:447"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.checkAndSetImports",
          "source": "CompilationUnitScope.java:182"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings",
          "source": "LookupEnvironment.java:275"
        },
        {
          "method": "org.eclipse.jdt.internal.core.hierarchy.HierarchyResolver.accept",
          "source": "HierarchyResolver.java:153"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType",
          "source": "LookupEnvironment.java:136"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage",
          "source": "PackageBinding.java:178"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.findImport",
          "source": "CompilationUnitScope.java:447"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.checkAndSetImports",
          "source": "CompilationUnitScope.java:182"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings",
          "source": "LookupEnvironment.java:275"
        },
        {
          "method": "org.eclipse.jdt.internal.core.hierarchy.HierarchyResolver.accept",
          "source": "HierarchyResolver.java:153"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType",
          "source": "LookupEnvironment.java:136"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage",
          "source": "PackageBinding.java:178"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.findImport",
          "source": "CompilationUnitScope.java:447"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.checkAndSetImports",
          "source": "CompilationUnitScope.java:182"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings",
          "source": "LookupEnvironment.java:275"
        },
        {
          "method": "org.eclipse.jdt.internal.core.hierarchy.HierarchyResolver.accept",
          "source": "HierarchyResolver.java:153"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType",
          "source": "LookupEnvironment.java:136"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getTypeOrPackage",
          "source": "PackageBinding.java:178"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.findImport",
          "source": "CompilationUnitScope.java:447"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.CompilationUnitScope.checkAndSetImports",
          "source": "CompilationUnitScope.java:182"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.completeTypeBindings",
          "source": "LookupEnvironment.java:275"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "186781",
      "date": "2007-05-14T15:35:08+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "186781",
  "bugId": "186781",
  "date": "2007-05-14T15:35:08+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}