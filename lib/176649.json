{
  "comments": [
    "The Web service wizard allows user enter a file URL for a wsdl file.  On Windows system, when an user enter \"file:/C:\\wsdl-remote\\Manufacturer\\ManufacturerB_Impl.wsdl\" (which is a valid WSDL definition recognized by the Web service wizard), the CopyWSDLTreeCommand throws an exception.  The workaround is to replace the \"\\\" in the WSDL URL with \"/\", eg. \"file:/C:/wsdl-remote/Manufacturer/ManufacturerB_Impl.wsdl\".\n\nI can provide the wsdl files upon requested.\n\nThis is the exception:\nIWAB0028E Failed to copy WSDL file:/C:\\wsdl-remote\\Manufacturer\\ManufacturerB_Impl.wsdl to platform:/resource/testCopy/WebContent/WEB-INF/wsdl/ManufacturerB_Impl.wsdl\n    java.io.FileNotFoundException: \\Manufacturer.wsdl (The system cannot find the file specified.)\n    at java.io.FileInputStream.open(Native Method)\n    at java.io.FileInputStream.\u003cinit\u003e(FileInputStream.java:135)\n    at java.io.FileInputStream.\u003cinit\u003e(FileInputStream.java:95)\n    at sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java:85)\n    at sun.net.www.protocol.file.FileURLConnection.getInputStream(FileURLConnection.java:176)\n    at org.eclipse.wst.ws.internal.parser.wsil.WebServicesParser.getInputStreamAsByteArray(WebServicesParser.java:553)\n    at org.eclipse.wst.ws.internal.parser.wsil.WebServicesParser.getWSDLDefinitionVerbose(WebServicesParser.java:224)\n    at org.eclipse.jst.ws.internal.consumption.command.common.CopyWSDLTreeCommand.copyWSDL(CopyWSDLTreeCommand.java:229)\n    at org.eclipse.jst.ws.internal.consumption.command.common.CopyWSDLTreeCommand.copyWSDL(CopyWSDLTreeCommand.java:269)\n    at org.eclipse.jst.ws.internal.consumption.command.common.CopyWSDLTreeCommand.access$9(CopyWSDLTreeCommand.java:236)\n    at org.eclipse.jst.ws.internal.consumption.command.common.CopyWSDLTreeCommand$CopyWSDLRunnable.run(CopyWSDLTreeCommand.java:120)\n    at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1737)\n    at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)\n    at org.eclipse.jst.ws.internal.consumption.command.common.CopyWSDLTreeCommand.execute(CopyWSDLTreeCommand.java:92)",
    "Andrew, one for you please, and for WTP 1.5.4. Thanks - CB.",
    "Created an attachment (id\u003d60447)\npatch for CopyWSDLTreeCommand\n\nReplace \u0027\\\u0027 with \u0027/\u0027 at the start of the copying.  I will attach a separate patch for bug 171071 which is for wtp 2.0\u0027s WSDLCopier utility.",
    "Requesting approval for fixing this in WTP 1.5.4.\n\nProblem:\n\nOn Windows, users can enter the path to their wsdl file using the \u0027\\\u0027 separator in the web service wizard.  The wizard will not flag this as an error but the generation of the web service will fail if the wsdl has imports to other wsdl or xsd files.\n\nWorkaround:\n\nOnce this scenario is enountered, the user have to start over.  However, from the error message it is not apparent that the \u0027\\\u0027 in the path is causing the problem.\n\nSolution:\n\nIn out command that copies the WSDL and its imported files, we should convert the \u0027\\\u0027 to \u0027/\u0027 characters\n\nTesting:\n\nThis fix has been tested using the wsdl that the reporter has provided.\n\nRisk:\n\nThe risk is low, the change is isolated to one file inside one method.\n\n\nChris/Kathy, please comment on this bug after it has been reviewed, thanks!",
    "Patch reviewed.  Looks good.",
    "Reviewed and approved for WTP 1.5.4. The WsdlURI property on CopyWSDLTreeCommand will always be a URI string vs. anything else like a Windows filesystem pathname, so the replacement of backslashes by forward slashes is reasonable. Thanks - CB.",
    "+1",
    "+1",
    "+1",
    "Checked into R1_5_maintenance.  Released to R1.5.4 as v200703212342.  Will release to HEAD later on today.",
    "Checked into HEAD.  Released to WTP 2.0 as v200703220008. ",
    "Released to HEAD and R1_5_maintenance.",
    "verified in WTP 154 200703220230",
    "Closing as verified."
  ],
  "commentCreationDates": [
    "2007-03-07T21:34:41+01:00",
    "2007-03-08T03:40:16+01:00",
    "2007-03-08T21:23:00+01:00",
    "2007-03-19T22:50:52+01:00",
    "2007-03-20T01:24:36+01:00",
    "2007-03-20T20:09:27+01:00",
    "2007-03-20T23:28:19+01:00",
    "2007-03-21T22:27:52+01:00",
    "2007-03-21T23:04:30+01:00",
    "2007-03-22T00:45:39+01:00",
    "2007-03-22T01:10:47+01:00",
    "2007-03-22T01:12:49+01:00",
    "2007-03-30T20:02:22+02:00",
    "2007-04-03T17:37:47+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.io.FileNotFoundException",
      "message": "\\Manufacturer.wsdl (The system cannot find the file specified.)",
      "elements": [
        {
          "method": "java.io.FileInputStream.open",
          "source": "Native Method"
        },
        {
          "method": "java.io.FileInputStream.\u003cinit\u003e",
          "source": "FileInputStream.java:135"
        },
        {
          "method": "java.io.FileInputStream.\u003cinit\u003e",
          "source": "FileInputStream.java:95"
        },
        {
          "method": "sun.net.www.protocol.file.FileURLConnection.connect",
          "source": "FileURLConnection.java:85"
        },
        {
          "method": "sun.net.www.protocol.file.FileURLConnection.getInputStream",
          "source": "FileURLConnection.java:176"
        },
        {
          "method": "org.eclipse.wst.ws.internal.parser.wsil.WebServicesParser.getInputStreamAsByteArray",
          "source": "WebServicesParser.java:553"
        },
        {
          "method": "org.eclipse.wst.ws.internal.parser.wsil.WebServicesParser.getWSDLDefinitionVerbose",
          "source": "WebServicesParser.java:224"
        },
        {
          "method": "org.eclipse.jst.ws.internal.consumption.command.common.CopyWSDLTreeCommand.copyWSDL",
          "source": "CopyWSDLTreeCommand.java:229"
        },
        {
          "method": "org.eclipse.jst.ws.internal.consumption.command.common.CopyWSDLTreeCommand.copyWSDL",
          "source": "CopyWSDLTreeCommand.java:269"
        },
        {
          "method": "org.eclipse.jst.ws.internal.consumption.command.common.CopyWSDLTreeCommand.access$9",
          "source": "CopyWSDLTreeCommand.java:236"
        },
        {
          "method": "org.eclipse.jst.ws.internal.consumption.command.common.CopyWSDLTreeCommand$CopyWSDLRunnable.run",
          "source": "CopyWSDLTreeCommand.java:120"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1737"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1719"
        },
        {
          "method": "org.eclipse.jst.ws.internal.consumption.command.common.CopyWSDLTreeCommand.execute",
          "source": "CopyWSDLTreeCommand.java:92"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "176649",
      "date": "2007-03-07T21:34:41+01:00",
      "product": "Web Tools",
      "component": "jst.ws",
      "severity": "major"
    }
  ],
  "groupId": "176649",
  "bugId": "176649",
  "date": "2007-03-07T21:34:41+01:00",
  "product": "Web Tools",
  "component": "jst.ws",
  "severity": "major"
}