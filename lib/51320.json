{
  "comments": [
    "I get the following exception when weaving the attached aspect on the dev build.\n\njava.lang.ClassCastException\n\tat org.aspectj.weaver.patterns.IfPointcut.concretize1(IfPointcut.java:156)\n\tat org.aspectj.weaver.patterns.IfPointcut.concretize(IfPointcut.java:143)\n\tat org.aspectj.weaver.patterns.Pointcut.concretize(Pointcut.java:119)\n\tat org.aspectj.weaver.Checker.concretize(Checker.java:35)\n\tat org.aspectj.weaver.CrosscuttingMembers.\naddShadowMunger(CrosscuttingMembers.java:78)\n\tat org.aspectj.weaver.CrosscuttingMembers.addDeclare(CrosscuttingMembers.\njava:102)\n\tat org.aspectj.weaver.CrosscuttingMembers.addDeclares(CrosscuttingMembers.\njava:92)\n\tat org.aspectj.weaver.CrosscuttingMembersSet.\naddAdviceLikeDeclares(CrosscuttingMembersSet.java:65)\n\tat org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.\naddAdviceLikeDeclares(AjLookupEnvironment.java:147)\n\tat org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.\ncompleteTypeBindings(AjLookupEnvironment.java:122)\n\tat org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:\n300)\n\tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:314)\n\tat org.aspectj.ajdt.internal.core.builder.AjBuildManager.\nperformCompilation(AjBuildManager.java:384)\n\tat org.aspectj.ajdt.internal.core.builder.AjBuildManager.\ndoBuild(AjBuildManager.java:125)\n\tat org.aspectj.ajdt.internal.core.builder.AjBuildManager.\nbatchBuild(AjBuildManager.java:70)\n\tat org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:104)\n\tat org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:53)\n\tat org.aspectj.tools.ajc.Main.run(Main.java:234)\n\tat org.aspectj.tools.ajc.Main.runMain(Main.java:170)\n\tat org.aspectj.tools.ajc.Main.main(Main.java:81)",
    "Created an attachment (id\u003d7721)\nAspect\n",
    "additional comments:\n1.) The object \"advice\" is of type Checker, which is _not_ a subtype of Advice.\n2.) I do realize that the declare warning statement is not necessarily supposed \nto work with an if pointcut. Though a decent error should be given.",
    "It would be good to improve the error handling here for 1.2 if we can. Marked \nwith target \u003d 1.2 for now pending investigation.",
    "Fix checked in.  As per the discussion on the list, the use of PCDs that may \nhave dynamic residue is policed and you will get an error message if you try \nto use them in deow statements.\n\n\nC:\\Eclipse\\212\\eclipse\\aspectj_ws\\tests\\bugs\u003eajc DecwClassCastException.java\nC:\\Eclipse\\212\\eclipse\\aspectj_ws\\tests\\bugs\\DecwClassCastException.java:27 if\n() pointcut designator cannot be used in declare statement\nC:\\Eclipse\\212\\eclipse\\aspectj_ws\\tests\\bugs\\DecwClassCastException.java:29 if\n() pointcut designator cannot be used in declare statement\nC:\\Eclipse\\212\\eclipse\\aspectj_ws\\tests\\bugs\\DecwClassCastException.java:31 \ncflow() pointcut designator cannot be used in declare statement\nC:\\Eclipse\\212\\eclipse\\aspectj_ws\\tests\\bugs\\DecwClassCastException.java:33 \ncflow() pointcut designator cannot be used in declare statement\nC:\\Eclipse\\212\\eclipse\\aspectj_ws\\tests\\bugs\\DecwClassCastException.java:35 \ncflowbelow() pointcut designator cannot be used in declare statement\nC:\\Eclipse\\212\\eclipse\\aspectj_ws\\tests\\bugs\\DecwClassCastException.java:37 \ncflowbelow() pointcut designator cannot be used in declare statement\nC:\\Eclipse\\212\\eclipse\\aspectj_ws\\tests\\bugs\\DecwClassCastException.java:39 \nthis() pointcut designator cannot be used in declare statement\nC:\\Eclipse\\212\\eclipse\\aspectj_ws\\tests\\bugs\\DecwClassCastException.java:41 \nthis() pointcut designator cannot be used in declare statement\nC:\\Eclipse\\212\\eclipse\\aspectj_ws\\tests\\bugs\\DecwClassCastException.java:43 \ntarget() pointcut designator cannot be used in declare statement\nC:\\Eclipse\\212\\eclipse\\aspectj_ws\\tests\\bugs\\DecwClassCastException.java:45 \ntarget() pointcut designator cannot be used in declare statement\nC:\\Eclipse\\212\\eclipse\\aspectj_ws\\tests\\bugs\\DecwClassCastException.java:47 \nargs() pointcut designator cannot be used in declare statement\nC:\\Eclipse\\212\\eclipse\\aspectj_ws\\tests\\bugs\\DecwClassCastException.java:49 \nargs() pointcut designator cannot be used in declare statement\n\n12 errors\n\nThe line number in the error is always the line number of the declare \nstatement."
  ],
  "commentCreationDates": [
    "2004-02-07T17:26:00+01:00",
    "2004-02-07T17:27:39+01:00",
    "2004-02-07T17:29:17+01:00",
    "2004-02-19T14:51:52+01:00",
    "2004-02-25T11:41:49+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "elements": [
        {
          "method": "org.aspectj.weaver.patterns.IfPointcut.concretize1",
          "source": "IfPointcut.java:156"
        },
        {
          "method": "org.aspectj.weaver.patterns.IfPointcut.concretize",
          "source": "IfPointcut.java:143"
        },
        {
          "method": "org.aspectj.weaver.patterns.Pointcut.concretize",
          "source": "Pointcut.java:119"
        },
        {
          "method": "org.aspectj.weaver.Checker.concretize",
          "source": "Checker.java:35"
        },
        {
          "method": "org.aspectj.weaver.CrosscuttingMembers.addShadowMunger",
          "source": "CrosscuttingMembers.java:78"
        },
        {
          "method": "org.aspectj.weaver.CrosscuttingMembers.addDeclare",
          "source": "CrosscuttingMembers. java:102"
        },
        {
          "method": "org.aspectj.weaver.CrosscuttingMembers.addDeclares",
          "source": "CrosscuttingMembers. java:92"
        },
        {
          "method": "org.aspectj.weaver.CrosscuttingMembersSet.addAdviceLikeDeclares",
          "source": "CrosscuttingMembersSet.java:65"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.addAdviceLikeDeclares",
          "source": "AjLookupEnvironment.java:147"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.completeTypeBindings",
          "source": "AjLookupEnvironment.java:122"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.beginToCompile",
          "source": "Compiler.java: 300"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:314"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:384"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:125"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBuildManager.java:70"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.doCommand",
          "source": "AjdtCommand.java:104"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.runCommand",
          "source": "AjdtCommand.java:53"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.run",
          "source": "Main.java:234"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.runMain",
          "source": "Main.java:170"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.main",
          "source": "Main.java:81"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "51320",
      "date": "2004-02-07T17:26:00+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "51320",
  "bugId": "51320",
  "date": "2004-02-07T17:26:00+01:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}