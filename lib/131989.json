{
  "comments": [
    "I20060314-1200\n\n- in an example editor from a tutorial plug-in\n- tried to open a hyperlink\n- IWorkbenchBrowserSupport::createBrowser(String) allows null as argument\n- the implementation does not...\n\n!ENTRY org.eclipse.ui 4 0 2006-03-15 18:34:05.685\n!MESSAGE java.lang.NullPointerException\n!STACK 0\njava.lang.NullPointerException\n\tat java.util.Hashtable.get(Hashtable.java:336)\n\tat org.eclipse.ui.internal.browser.DefaultWorkbenchBrowserSupport.findBrowser(DefaultWorkbenchBrowserSupport.java:46)\n\tat org.eclipse.ui.internal.browser.DefaultWorkbenchBrowserSupport.createBrowser(DefaultWorkbenchBrowserSupport.java:62)\n\tat org.eclipse.ui.internal.browser.DefaultWorkbenchBrowserSupport.createBrowser(DefaultWorkbenchBrowserSupport.java:77)\n\tat org.eclipse.ui.internal.browser.WorkbenchBrowserSupport.createBrowser(WorkbenchBrowserSupport.java:104)\n\tat org.eclipse.ui.internal.editors.text.URLHyperlink.\u003cinit\u003e(URLHyperlink.java:47)\n\tat org.eclipse.ui.internal.editors.text.URLHyperlinkDetector.detectHyperlinks(URLHyperlinkDetector.java:35)\n\tat org.eclipse.jface.text.hyperlink.HyperlinkManager.findHyperlinks(HyperlinkManager.java:232)\n\tat org.eclipse.jface.text.hyperlink.HyperlinkManager.mouseMove(HyperlinkManager.java:411)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:145)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1074)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3158)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2838)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1909)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1873)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:418)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:107)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:374)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:282)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)",
    "This is actually a bug in the workbench core support for browsers, not in our default implementation. For some reason you are not picking up the default SDK browser support (in org.eclipse.ui.browser plug-in), so Eclipse defaults to the fallback code that will always open the external browser.\n\nThe fix is to to use any of the techniques for generating unique names to autogen a new browser id if it is null.\n\nThe orthogonal question is: why is org.eclipse.ui.browser plug-in missing from your list?",
    "Eric, this bug was in the right inbox. The problem above is not in org.eclipse.ui.browser plug-in but in the fallback code that is run when this plug-in is not present (in RCPs). This code is in the workbench UI.",
    "Tom \n\nWhich editor from which example plug-in?",
    "Sorry for not answering sooner. It was an example editor from an eclipse con talk; it is available from http://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/platform-text-home/development/dev.html. \n\nBut I believe the problem is straight forward: DefaultWorkbenchBrowserSupport must allow a null argument.",
    "Which editor from your example Tom? If you could give me some steps that would be a big help.",
    "The DefaultBrowserSupport code was written by UA. It is not so simple as a null check here - we need some sort of default ID.",
    "According to the API for IWorkbenchBrowserSupport a null means that you want a new instance every time and it is supposed to generate a new id for you.\n\nWe are not following the API here. We should fix this for 3.4.",
    "Created an attachment (id\u003d72745)\npatch\n\nThis patch fixes the problem in both \"org.eclipse.ui.workbench/org.eclipse.ui.internal.browser.DefaultWorkbenchBrowserSupport\" and \"org.eclipse.ui.browser/org.eclipse.ui.internal.browser.DefaultBrowserSupport\". The former was not obeying the API in that it simply did not accept null values (threw an NPE) while the later was not obeying the API in that it was always using the same id when a null id was passed. The API says that a unique one will be generated every time.\n\nThe solution in this patch, in both cases, is to use a base string and append an integer on the end. The hash map of browser ids is polled until nothing is returned for a given id, which is then used.",
    "The patch is good. I have commited to HEAD the part of the patch that affects org.eclipse.ui.browser, and which does not depend on the other half of the patch. Can someone from Platform UI review and apply the half of the patch that affects org.eclipse.ui.workbench?",
    "Released in HEAD \u003e20070712\nPW\n",
    "Paul do you want to go ahead and resolve the bug as fixed?",
    "*** Bug 125181 has been marked as a duplicate of this bug. ***",
    "fixed in 3.4\nPW\n"
  ],
  "commentCreationDates": [
    "2006-03-15T17:35:20+01:00",
    "2006-04-18T23:56:39+02:00",
    "2006-04-19T15:31:30+02:00",
    "2006-04-19T19:43:16+02:00",
    "2006-04-21T18:13:25+02:00",
    "2006-04-21T22:07:43+02:00",
    "2006-04-21T22:34:44+02:00",
    "2007-06-28T22:58:49+02:00",
    "2007-06-28T23:55:54+02:00",
    "2007-07-11T23:36:45+02:00",
    "2007-07-12T17:28:22+02:00",
    "2007-07-20T01:31:20+02:00",
    "2007-07-20T01:36:03+02:00",
    "2007-07-20T12:19:35+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "java.util.Hashtable.get",
          "source": "Hashtable.java:336"
        },
        {
          "method": "org.eclipse.ui.internal.browser.DefaultWorkbenchBrowserSupport.findBrowser",
          "source": "DefaultWorkbenchBrowserSupport.java:46"
        },
        {
          "method": "org.eclipse.ui.internal.browser.DefaultWorkbenchBrowserSupport.createBrowser",
          "source": "DefaultWorkbenchBrowserSupport.java:62"
        },
        {
          "method": "org.eclipse.ui.internal.browser.DefaultWorkbenchBrowserSupport.createBrowser",
          "source": "DefaultWorkbenchBrowserSupport.java:77"
        },
        {
          "method": "org.eclipse.ui.internal.browser.WorkbenchBrowserSupport.createBrowser",
          "source": "WorkbenchBrowserSupport.java:104"
        },
        {
          "method": "org.eclipse.ui.internal.editors.text.URLHyperlink.\u003cinit\u003e",
          "source": "URLHyperlink.java:47"
        },
        {
          "method": "org.eclipse.ui.internal.editors.text.URLHyperlinkDetector.detectHyperlinks",
          "source": "URLHyperlinkDetector.java:35"
        },
        {
          "method": "org.eclipse.jface.text.hyperlink.HyperlinkManager.findHyperlinks",
          "source": "HyperlinkManager.java:232"
        },
        {
          "method": "org.eclipse.jface.text.hyperlink.HyperlinkManager.mouseMove",
          "source": "HyperlinkManager.java:411"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:145"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1074"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3158"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2838"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1909"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1873"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:418"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:107"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:374"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:169"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:338"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:282"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "131989",
      "date": "2006-03-15T17:35:20+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "131989",
  "bugId": "131989",
  "date": "2006-03-15T17:35:20+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}