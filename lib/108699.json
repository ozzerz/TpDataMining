{
  "comments": [
    "In the case where there are conditions that start as mutable and later become\nimmutable, ConditionalPermissions.implies should check the conditions array \nreturned from getNeededConditions for null.\n\n   Condition conds[] \u003d cpsArray[i].getNeededConditions();\n-\u003e if (conds \u003d\u003d null) continue cpsLoop;\n\nThere is a test in org.osgi.test.cases.permissionadmin.conditional that \nchecks this scenario.\n\njava.lang.NullPointerException\n        at \norg.eclipse.osgi.framework.internal.core.ConditionalPermissions.implies\n(ConditionalPermissions.java:136)\n        at \norg.eclipse.osgi.framework.internal.core.BundleCombinedPermissions.implies\n(BundleCombinedPermissions.java:190)\n        at java.security.ProtectionDomain.implies(ProtectionDomain.java:193)\nat java.security.AccessControlContext.checkPermission\n(AccessControlContext.java:254)",
    "Fixed in HEAD.  This needs to be fixed in 3.1.1 to pass the R4 TCK.",
    "Created an attachment (id\u003d26802)\nFix for 3.1.1\n\nPascal, please review patch against 3.1.1 maintenance branch.  Thanks.",
    "Created an attachment (id\u003d26807)\nUpdated fix\n\nThe null check for neededConditions should happen before the\nneededConditions.length check.",
    "Patch reviewed, good to go.",
    "Fixed in HEAD and 3.1 maintenance branch."
  ],
  "commentCreationDates": [
    "2005-09-02T17:14:47+02:00",
    "2005-09-02T17:35:12+02:00",
    "2005-09-02T17:36:55+02:00",
    "2005-09-02T20:00:32+02:00",
    "2005-09-03T00:49:01+02:00",
    "2005-09-03T16:29:39+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.osgi.framework.internal.core.ConditionalPermissions.implies",
          "source": "ConditionalPermissions.java:136"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleCombinedPermissions.implies",
          "source": "BundleCombinedPermissions.java:190"
        },
        {
          "method": "java.security.ProtectionDomain.implies",
          "source": "ProtectionDomain.java:193"
        },
        {
          "method": "java.security.AccessControlContext.checkPermission",
          "source": "AccessControlContext.java:254"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "108699",
      "date": "2005-09-02T17:14:47+02:00",
      "product": "Platform",
      "component": "Runtime",
      "severity": "normal"
    }
  ],
  "groupId": "108699",
  "bugId": "108699",
  "date": "2005-09-02T17:14:47+02:00",
  "product": "Platform",
  "component": "Runtime",
  "severity": "normal"
}