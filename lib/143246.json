{
  "comments": [
    "When java 5.0 parametrized generic types are used in method signatures, and the EJB project contains no source, the EJB validator fails with following NPE:\n\n*** ERROR ***: Tue May 23 11:02:05 EDT 2006    java.lang.NullPointerException\n    \tat org.eclipse.jem.java.impl.JavaClassImpl.isExistingType(JavaClassImpl.java:995)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.ValidationRuleUtility.isValidType(ValidationRuleUtility.java:1376)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.ValidationRuleUtility.isSerializable(ValidationRuleUtility.java:1205)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.ValidationRuleUtility.isLegalRMI_IIOPType(ValidationRuleUtility.java:1026)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.ATypeVRule.validateRMI_IIOPTypeRules(ATypeVRule.java:589)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.AComponentVRule.validate(AComponentVRule.java:115)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.ATypeVRule.validate(ATypeVRule.java:229)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.ATypeVRule.validate(ATypeVRule.java:80)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.AbstractEJBValidator.run(AbstractEJBValidator.java:127)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.EJBValidator.fullValidate(EJBValidator.java:414)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.EJBValidator.validate(EJBValidator.java:80)\n    \tat org.eclipse.jst.j2ee.internal.ejb.workbench.validation.UIEjbValidator.validate(UIEjbValidator.java:48)\n    \tat org.eclipse.wst.validation.internal.core.ValidatorLauncher.start(ValidatorLauncher.java:90)\n    \tat org.eclipse.wst.validation.internal.operations.ValidationOperation.launchValidator(ValidationOperation.java:1220)\n    \tat org.eclipse.wst.validation.internal.operations.ValidationOperation.internalValidate(ValidationOperation.java:1046)\n    \tat org.eclipse.wst.validation.internal.operations.ValidationOperation.validate(ValidationOperation.java:929)\n    \tat org.eclipse.wst.validation.internal.operations.ValidationOperation.run(ValidationOperation.java:640)\n    \tat com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.validate(BatchExtension.java:1839)\n\n\nEverything works if the source code for the EJB classes are included\n\nTo reproduce, import the attached EJB ear.",
    "Created an attachment (id\u003d42274)\nTest case\n\n",
    "The reflection is from JEM",
    "Rich - I\u0027m going to take a look at this...    I don\u0027t think we have done enough debugging on our end yet to determine the issue.....",
    "JEM has no support at all for 5.0 generics. It wasn\u0027t in the specs as required. It is still at 1.4 syntax. There is no telling what could happen with 5.0 syntax.",
    "This ends up being a JEM problem.  The real issue here is that JEM is special casing generics and creating a specialized format the a URI that will serialize in an XML file.  For example something like \"java.util.List\u003ccom.acme.Test\u003e\" becomes \"java.util#List{com.acme!Test}\".  The problem then is that this generated URI can not be resolved later because the name that is set for the type is using this format and it is not a valid Java identifier.\n\nSince JEM isn\u0027t updated to support Java 5 directly it needs to be made so that it tolerates it better.  The solution would be to use the gerneric interface type and ignore the parameter types.  So in the example above we would only track the type \"java.util.List\".  The only oddity is that for binary types the generic type will come across as \"com.acme.TestList\" which is the compiled type that is created to support the generic.\n\nI will include a patch that has this support.",
    "Created an attachment (id\u003d42637)\nPatch for JavaRefFactoryImpl\n\n",
    "*** Bug 143237 has been marked as a duplicate of this bug. ***",
    "The changes have bben released to HEAD. ",
    "Closing now that VE 1.2 is released."
  ],
  "commentCreationDates": [
    "2006-05-23T17:59:57+02:00",
    "2006-05-23T18:00:37+02:00",
    "2006-05-23T23:08:18+02:00",
    "2006-05-23T23:17:00+02:00",
    "2006-05-23T23:57:58+02:00",
    "2006-05-25T22:36:01+02:00",
    "2006-05-25T22:39:54+02:00",
    "2006-05-25T23:24:19+02:00",
    "2006-05-30T15:43:36+02:00",
    "2006-07-05T17:19:36+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jem.java.impl.JavaClassImpl.isExistingType",
          "source": "JavaClassImpl.java:995"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.ValidationRuleUtility.isValidType",
          "source": "ValidationRuleUtility.java:1376"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.ValidationRuleUtility.isSerializable",
          "source": "ValidationRuleUtility.java:1205"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.ValidationRuleUtility.isLegalRMI_IIOPType",
          "source": "ValidationRuleUtility.java:1026"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.ATypeVRule.validateRMI_IIOPTypeRules",
          "source": "ATypeVRule.java:589"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.AComponentVRule.validate",
          "source": "AComponentVRule.java:115"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.ATypeVRule.validate",
          "source": "ATypeVRule.java:229"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.ATypeVRule.validate",
          "source": "ATypeVRule.java:80"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.AbstractEJBValidator.run",
          "source": "AbstractEJBValidator.java:127"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.EJBValidator.fullValidate",
          "source": "EJBValidator.java:414"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.EJBValidator.validate",
          "source": "EJBValidator.java:80"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.ejb.workbench.validation.UIEjbValidator.validate",
          "source": "UIEjbValidator.java:48"
        },
        {
          "method": "org.eclipse.wst.validation.internal.core.ValidatorLauncher.start",
          "source": "ValidatorLauncher.java:90"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidationOperation.launchValidator",
          "source": "ValidationOperation.java:1220"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidationOperation.internalValidate",
          "source": "ValidationOperation.java:1046"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidationOperation.validate",
          "source": "ValidationOperation.java:929"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidationOperation.run",
          "source": "ValidationOperation.java:640"
        },
        {
          "method": "com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.validate",
          "source": "BatchExtension.java:1839"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "143246",
      "date": "2006-05-23T17:59:57+02:00",
      "product": "Web Tools",
      "component": "jst.jem",
      "severity": "critical"
    }
  ],
  "groupId": "143246",
  "bugId": "143246",
  "date": "2006-05-23T17:59:57+02:00",
  "product": "Web Tools",
  "component": "jst.jem",
  "severity": "critical"
}