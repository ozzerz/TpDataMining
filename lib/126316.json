{
  "comments": [
    "In the following simple program, a parameterized type signature is escaping into BCEL and causing us to blow up:\n\n\npublic class EnumFun\u003cE extends Enum\u003cE\u003e\u003e {\n\n  public E get() { return null; }\n\n}\n\npublic aspect SimpleAspect {\n\n    Object around() : execution(* *(..)) {\n        System.out.println(\"before\");\n        return proceed();\n    }\n\n}\n\n\nwhen implementing on shadow method-execution(java.lang.Enum EnumFun.get())\nwhen weaving type EnumFun\nwhen weaving classes\nwhen weaving\nwhen batch building with classpath: C:\\Program Files\\Java\\jre1.5.0_06\\lib\\ext\\dn\nsns.jar;C:\\Program Files\\Java\\jre1.5.0_06\\lib\\ext\\sunjce_provider.jar;C:\\Program\n Files\\Java\\jre1.5.0_06\\lib\\ext\\sunpkcs11.jar;C:\\programs\\spring-framework-1.2.6\n\\dist\\spring.jar;C:\\programs\\aspectj1.5\\lib\\aspectjrt.jar;\nInvalid method signature: Pjava/lang/Enum\u003cLjava/lang/Object;\u003e;\norg.aspectj.apache.bcel.classfile.ClassFormatException: Invalid method signature\n: Pjava/lang/Enum\u003cLjava/lang/Object;\u003e;\n        at org.aspectj.apache.bcel.classfile.Utility.typeOfSignature(Utility.jav\na:1293)\n        at org.aspectj.apache.bcel.generic.Type.getTypeInternal(Type.java:166)\n        at org.aspectj.apache.bcel.generic.Type.getType(Type.java:155)\n        at org.aspectj.weaver.bcel.BcelWorld.makeBcelType(BcelWorld.java:208)\n        at org.aspectj.weaver.bcel.BcelShadow.createMethodGen(BcelShadow.java:31\n28)\n        at org.aspectj.weaver.bcel.BcelShadow.extractMethod(BcelShadow.java:2955\n)\n        at org.aspectj.weaver.bcel.BcelShadow.weaveAroundInline(BcelShadow.java:\n2142)\n        at org.aspectj.weaver.bcel.BcelAdvice.implementOn(BcelAdvice.java:232)\n        at org.aspectj.weaver.Shadow.implementMungers(Shadow.java:610)\n        at org.aspectj.weaver.Shadow.implement(Shadow.java:427)\n        at org.aspectj.weaver.bcel.BcelClassWeaver.implement(BcelClassWeaver.jav\na:2182)\n        at org.aspectj.weaver.bcel.BcelClassWeaver.weave(BcelClassWeaver.java:47\n0)\n        at org.aspectj.weaver.bcel.BcelClassWeaver.weave(BcelClassWeaver.java:10\n5)\n        at org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:1543)",
    "the problem was that we weren\u0027t correctly setting the erasure signature for a type variable that had a first bound which was a parameterized type.\n\njust running the suite and then I\u0027ll commit the fix.",
    "fix committed, waiting on uploaded build before closing.",
    "fix now available"
  ],
  "commentCreationDates": [
    "2006-02-03T10:05:25+01:00",
    "2006-02-03T10:43:51+01:00",
    "2006-02-03T11:15:31+01:00",
    "2006-02-06T19:28:13+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.aspectj.apache.bcel.classfile.ClassFormatException",
      "message": "Invalid method signature : Pjava/lang/Enum\u003cLjava/lang/Object;\u003e;",
      "elements": [
        {
          "method": "org.aspectj.apache.bcel.classfile.Utility.typeOfSignature",
          "source": "Utility.jav a:1293"
        },
        {
          "method": "org.aspectj.apache.bcel.generic.Type.getTypeInternal",
          "source": "Type.java:166"
        },
        {
          "method": "org.aspectj.apache.bcel.generic.Type.getType",
          "source": "Type.java:155"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWorld.makeBcelType",
          "source": "BcelWorld.java:208"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelShadow.createMethodGen",
          "source": "BcelShadow.java:31 28"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelShadow.extractMethod",
          "source": "BcelShadow.java:2955 "
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelShadow.weaveAroundInline",
          "source": "BcelShadow.java: 2142"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelAdvice.implementOn",
          "source": "BcelAdvice.java:232"
        },
        {
          "method": "org.aspectj.weaver.Shadow.implementMungers",
          "source": "Shadow.java:610"
        },
        {
          "method": "org.aspectj.weaver.Shadow.implement",
          "source": "Shadow.java:427"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.implement",
          "source": "BcelClassWeaver.jav a:2182"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.weave",
          "source": "BcelClassWeaver.java:47 0"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.weave",
          "source": "BcelClassWeaver.java:10 5"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weave",
          "source": "BcelWeaver.java:1543"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "126316",
      "date": "2006-02-03T10:05:25+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "major"
    }
  ],
  "groupId": "126316",
  "bugId": "126316",
  "date": "2006-02-03T10:05:25+01:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "major"
}