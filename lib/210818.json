{
  "comments": [
    "If I generate stub files for the entire SDK, then read them all with JDT\u0027s IClassFileReader, I get some exceptions. I created a test case for this, but did not add it to the overall test suite - @see ClassFileStubTests. The class file reader is failing with a class file format error, and returning null in these cases. But the error is logged.\n\njava.lang.ArrayIndexOutOfBoundsException\n\tat org.eclipse.jdt.internal.core.util.MethodInfo.\u003cinit\u003e(MethodInfo.java:104)\n\tat org.eclipse.jdt.internal.core.util.ClassFileReader.\u003cinit\u003e(ClassFileReader.java:220)\n\tat org.eclipse.jdt.core.ToolFactory.createDefaultClassFileReader(ToolFactory.java:263)\n\tat org.eclipse.pde.api.tools.reference.tests.ClassFileStubTests$1.visit(ClassFileStubTests.java:63)\n\tat org.eclipse.pde.api.tools.internal.model.component.ArchiveClassFileContainer.accept(ArchiveClassFileContainer.java:169)\n\tat org.eclipse.pde.api.tools.internal.model.component.AbstractClassFileContainer.accept(AbstractClassFileContainer.java:43)\n\tat org.eclipse.pde.api.tools.internal.model.component.AbstractApiComponent.accept(AbstractApiComponent.java:137)\n\tat org.eclipse.pde.api.tools.reference.tests.ClassFileStubTests.testClassFileReader(ClassFileStubTests.java:69)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:615)\n\tat junit.framework.TestCase.runTest(TestCase.java:164)\n\tat junit.framework.TestCase.runBare(TestCase.java:130)\n\tat junit.framework.TestResult$1.protect(TestResult.java:106)\n\tat junit.framework.TestResult.runProtected(TestResult.java:124)\n\tat junit.framework.TestResult.run(TestResult.java:109)\n\tat junit.framework.TestCase.run(TestCase.java:120)\n\tat junit.framework.TestSuite.runTest(TestSuite.java:230)\n\tat junit.framework.TestSuite.run(TestSuite.java:225)\n\tat org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130)\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196)",
    "As a workaround, I am using ASM to read method declarations from stub class files (which might even be faster...)",
    "Fixed in HEAD.\nThe problem was a method body without any \"reference\" would end up with no code attribute, but the method was not tagged as native.\n\nDarin, please verify that your test now passes.\n\nI would still preserve the usage of ASM to read method declarations.",
    "Verified."
  ],
  "commentCreationDates": [
    "2007-11-23T21:54:16+01:00",
    "2007-11-23T21:55:59+01:00",
    "2007-11-24T03:11:10+01:00",
    "2007-11-26T19:18:45+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.util.MethodInfo.\u003cinit\u003e",
          "source": "MethodInfo.java:104"
        },
        {
          "method": "org.eclipse.jdt.internal.core.util.ClassFileReader.\u003cinit\u003e",
          "source": "ClassFileReader.java:220"
        },
        {
          "method": "org.eclipse.jdt.core.ToolFactory.createDefaultClassFileReader",
          "source": "ToolFactory.java:263"
        },
        {
          "method": "org.eclipse.pde.api.tools.reference.tests.ClassFileStubTests$1.visit",
          "source": "ClassFileStubTests.java:63"
        },
        {
          "method": "org.eclipse.pde.api.tools.internal.model.component.ArchiveClassFileContainer.accept",
          "source": "ArchiveClassFileContainer.java:169"
        },
        {
          "method": "org.eclipse.pde.api.tools.internal.model.component.AbstractClassFileContainer.accept",
          "source": "AbstractClassFileContainer.java:43"
        },
        {
          "method": "org.eclipse.pde.api.tools.internal.model.component.AbstractApiComponent.accept",
          "source": "AbstractApiComponent.java:137"
        },
        {
          "method": "org.eclipse.pde.api.tools.reference.tests.ClassFileStubTests.testClassFileReader",
          "source": "ClassFileStubTests.java:69"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:64"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:43"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:615"
        },
        {
          "method": "junit.framework.TestCase.runTest",
          "source": "TestCase.java:164"
        },
        {
          "method": "junit.framework.TestCase.runBare",
          "source": "TestCase.java:130"
        },
        {
          "method": "junit.framework.TestResult$1.protect",
          "source": "TestResult.java:106"
        },
        {
          "method": "junit.framework.TestResult.runProtected",
          "source": "TestResult.java:124"
        },
        {
          "method": "junit.framework.TestResult.run",
          "source": "TestResult.java:109"
        },
        {
          "method": "junit.framework.TestCase.run",
          "source": "TestCase.java:120"
        },
        {
          "method": "junit.framework.TestSuite.runTest",
          "source": "TestSuite.java:230"
        },
        {
          "method": "junit.framework.TestSuite.run",
          "source": "TestSuite.java:225"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run",
          "source": "JUnit3TestReference.java:130"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.TestExecution.run",
          "source": "TestExecution.java:38"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests",
          "source": "RemoteTestRunner.java:460"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests",
          "source": "RemoteTestRunner.java:673"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run",
          "source": "RemoteTestRunner.java:386"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main",
          "source": "RemoteTestRunner.java:196"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "210818",
      "date": "2007-11-23T21:54:16+01:00",
      "product": "PDE",
      "component": "Incubators",
      "severity": "normal"
    }
  ],
  "groupId": "210818",
  "bugId": "210818",
  "date": "2007-11-23T21:54:16+01:00",
  "product": "PDE",
  "component": "Incubators",
  "severity": "normal"
}