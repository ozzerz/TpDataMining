{
  "comments": [
    "I20050214 09:27 build.\n\nAfter indexing help, the log contains:\n!MESSAGE Help document /org.eclipse.platform.doc.isv/reference/extension-\npoints/org_eclipse_ui_popupMenus.html cannot be opened.  The document will not \nbe indexed.\n\nIt means the pop up menu extension point is in the help TOC, but there is no \ncorresponding content.",
    "Konrad has asked that this get addressed for 3.1 M5.\n\nAndrea: is this possible?",
    "Doug, where can Andrea look to make sure this doc is generated?",
    "I don\u0027t know off the top of my head.  Konrad: do you know?\n",
    "I see org.eclipse.ui/plugin.xml exists in \nthe /org.eclipse.platform.doc.isv/buildDoc.xml, so it looks OK from \ncontribution point of view.\n\nSonia do you see anything that could be wrong?\n\nWassim, could this be a problem with shchema to HTML converter?",
    "I have a strong suspicion it\u0027s the converter, since all the extension point \nschemas in question, including this one, are ones that include other schemas.  \nwill investigate.",
    "Kim will investigate.",
    "This isn\u0027t the only UI extension point that includes other schema files.  All\nthe action extension points include commonAction.exsd:\norg.eclipse.ui/schema - actionSets.exsd\norg.eclipse.ui/schema - editorActions.exsd\norg.eclipse.ui/schema - popupMenus.exsd\norg.eclipse.ui/schema - viewActions.exsd\n\nI don\u0027t see any interesting differences between these in how the includes are\ndone at first glance.",
    "right-clicking on the popupMenu.exsd in the workspace and selecting PDE Tools \n\u003e Preview schema document in effect runs the same code and the HTML looks fine.",
    "Are the individual extension points listed explicitly somewhere for the doc\ngeneration?  Could this just be a typo (popupMenu vs. popupMenus)?  I\u0027ve seen\nthis typo twice in the last couple of days.\n",
    "PDE retrieves the names of extension points from the plugin.xml itself and \ngenerates the name of the HTML file based on it.  So unless the extension \npoint id has a typo in it, which is highly unlikely as we would then have much \nbigger problems, the names are ok.",
    "If you search the content of org.eclipse.platform.doc.isv, there are several\nrefernces to org_eclipse_ui_popupMenus\n\nHowever, this file doesn\u0027t actually exist in the current org.eclipse.ui project,\nonly in older versions in cvs\n-bash-2.05b$ locate popupMenu | grep doc \n/home/eclipse/org.eclipse.ui/doc/Attic/org_eclipse_ui_popupMenus.html,v\n/home/eclipse/org.eclipse.ui/doc/Attic/popupMenus.html,v\n/home/eclipse/org.eclipse.ui/doc/Attic/org_eclipse_ui_popupMenu.html,v\n/home/eclipse/org.eclipse.pde.ui/doc/Attic/popupMenus.html,v\n/home/eclipse/org.eclipse.platform.doc.isv/guide/workbench_basicext_popupMenus.htm,v\n/home/eclipse/org.eclipse.platform.doc.isv/reference/extension-points/Attic/org_eclipse_ui_popupMenus.html,v\n\n",
    "Are you referring to the .exsd file or the .html file?  The popupMenus.exsd file\ndoes exist in org.eclipse.ui/schema.  My understanding is that the HTML files\nwere auto-generated from the schema files while building help, and so shouldn\u0027t\nexist in org.eclipse.ui.\n",
    "I am referring to the .exsd file.\n\nHere is how the ant task works:\n\nGiven a plugin:\n1. we get all its extension points\n2. for each extension point that has a schema, we look for the schema relative \nto the plugin.\n3. If the schema is found, we take it through a transformer that produces an \nHTML document.  \nThe HTML document is given a name based on the extension point id.\nthe \u0027.\u0027 is replaced with \u0027_\u0027 and we give the file an html extension.\n\nThe destination of the HTML files is specified as an arg to the ant task.",
    "The plugin.xml for org.eclipse.ui has:\n   \u003cextension-point id\u003d\"popupMenus\" name\u003d\"%ExtPoint.popupMenus\"\nschema\u003d\"schema/popupMenus.exsd\"/\u003e\n\nSo this looks fine.\n",
    "The file does not get generated when we run the buildDoc.xml script.  Kim and \nI are debugging this.",
    "Assigning to Sonia.  Please punt it back to us if there is something more we\nneed to do.",
    "*** Bug 85172 has been marked as a duplicate of this bug. ***",
    "I get an NPE everytime somewhere in Schema.traverseDocumentTree\n(handler.getDocumentElement()) where it is called ConvertSchemaToHTML class \n(3.1M4 version on Linux Motif).  I don\u0027t believe there is anything I can do \nfrom here to fix.  Moving back to PDE to investigate further.",
    "Here is the .log when I try to \n\nRight-click on the popupMenu.exsd in the workspace and selecting PDE Tools \n Preview schema document\n\nwith I20050215-2300\n\n!ENTRY org.eclipse.ui 4 0 2005-02-16 17:49:59.875\n!MESSAGE java.lang.NullPointerException\n!STACK 0\njava.lang.NullPointerException\n\tat org.eclipse.pde.internal.core.schema.Schema.load(Schema.java:331)\n\tat\norg.eclipse.pde.internal.core.schema.SchemaInclude.createInternalSchema(SchemaInclude.java:79)\n\tat\norg.eclipse.pde.internal.core.schema.SchemaInclude.getIncludedSchema(SchemaInclude.java:70)\n\tat\norg.eclipse.pde.internal.builders.SchemaTransformer.transformDescription(SchemaTransformer.java:220)\n\tat\norg.eclipse.pde.internal.builders.SchemaTransformer.printBody(SchemaTransformer.java:109)\n\tat\norg.eclipse.pde.internal.builders.SchemaTransformer.printHTMLContent(SchemaTransformer.java:71)\n\tat\norg.eclipse.pde.internal.builders.SchemaTransformer.transform(SchemaTransformer.java:44)\n\tat\norg.eclipse.pde.internal.builders.SchemaTransformer.transform(SchemaTransformer.java:36)\n\tat\norg.eclipse.pde.internal.ui.search.ShowDescriptionAction.showSchemaDocument(ShowDescriptionAction.java:88)\n\tat\norg.eclipse.pde.internal.ui.search.ShowDescriptionAction.run(ShowDescriptionAction.java:70)\n\tat\norg.eclipse.pde.internal.ui.search.PreviewReferenceAction.run(PreviewReferenceAction.java:42)\n\tat org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:244)\n\tat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:557)\n\tat\norg.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:507)\n\tat\norg.eclipse.jface.action.ActionContributionItem$6.handleEvent(ActionContributionItem.java:421)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2908)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2541)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1612)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1578)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:293)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:333)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:150)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:268)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:260)\n\tat org.eclipse.core.launcher.Main.run(Main.java:887)\n\tat org.eclipse.core.launcher.Main.main(Main.java:871)",
    "Sonia and Wassim were troubleshooting this issue last night and believe it to be\na caused by the fact that our org.eclipse.releng.basebuilder includes the xerces\nplugin.  I ran a test build last night and the resulting build seems to be okay.\nI have tagged the builder for the 8am build with the xerces plugin removed.",
    "I have tested help indexing in I20050217-0800 build.  The same extension \npoints documents are missing as before.",
    "yes we are debugging again with new plugins",
    "We can\u0027t update the all the plugins required for this change in our builder at\nthis time because it is too risky at this stage of the milestone.  \n\nWe will generate the missing files manually and include them in the doc plugin\nfor the next build.",
    "I\u0027ve released pre-generated extension point doc into \norg.eclipse.platform.doc.isv and org.eclipse.jdt.doc.isv for the 4 pm build as \na temporary fix until we move to our new set of builder plug-ins post M5.  The \ndoc will still be generated at build time and will overwrite any existing.",
    "There are still the missing entries for the org.eclipse.jdt.doc.isv\n\nDoc team or Sonia, could you please sync org.eclipse.jdt.doc.isv with HEAD and\ntag for the 8pm build. I don\u0027t have commit rights for this project.  Here is the\n.log from the I20050217-1602.  These errors are because Sonia\u0027s changes are not\nincluded in the tag for the 4pm build.\n\n\n!ENTRY org.eclipse.help.base 4 4 2005-02-17 17:00:44.306\n!MESSAGE Help documentation could not be indexed completely.\n!SUBENTRY 1 org.eclipse.help.base 4 4 2005-02-17 17:00:44.306\n!MESSAGE Help document\n/org.eclipse.jdt.doc.isv/reference/extension-points/org_eclipse_ltk_core_refactoring_renameParticipants.html\ncannot be opened.\n!SUBENTRY 1 org.eclipse.help.base 4 4 2005-02-17 17:00:44.306\n!MESSAGE Help document\n/org.eclipse.jdt.doc.isv/reference/extension-points/org_eclipse_jdt_ui_quickFixProcessors.html\ncannot be opened.\n!SUBENTRY 1 org.eclipse.help.base 4 4 2005-02-17 17:00:44.306\n!MESSAGE Help document\n/org.eclipse.jdt.doc.isv/reference/extension-points/org_eclipse_ltk_core_refactoring_createParticipants.html\ncannot be opened.\n!SUBENTRY 1 org.eclipse.help.base 4 4 2005-02-17 17:00:44.306\n!MESSAGE Help document\n/org.eclipse.jdt.doc.isv/reference/extension-points/org_eclipse_ltk_core_refactoring_deleteParticipants.html\ncannot be opened.\n!SUBENTRY 1 org.eclipse.help.base 4 4 2005-02-17 17:00:44.306\n!MESSAGE Help document\n/org.eclipse.jdt.doc.isv/reference/extension-points/org_eclipse_jdt_ui_quickAssistProcessors.html\ncannot be opened.\n!SUBENTRY 1 org.eclipse.help.base 4 4 2005-02-17 17:00:44.306\n!MESSAGE Help document\n/org.eclipse.jdt.doc.isv/reference/extension-points/org_eclipse_ltk_ui_refactoring_statusContextViewers.html\ncannot be opened.\n!SUBENTRY 1 org.eclipse.help.base 4 4 2005-02-17 17:00:44.306\n!MESSAGE Help document\n/org.eclipse.jdt.doc.isv/reference/extension-points/org_eclipse_ltk_ui_refactoring_changePreviewViewers.html\ncannot be opened.\n!SUBENTRY 1 org.eclipse.help.base 4 4 2005-02-17 17:00:44.306\n!MESSAGE Help document\n/org.eclipse.jdt.doc.isv/reference/extension-points/org_eclipse_ltk_core_refactoring_moveParticipants.html\ncannot be opened.",
    "I\u0027ve released jdt.doc.isv into I20050217-2000.",
    "verified the error does not appear in I20050217-2000",
    "*** Bug 85844 has been marked as a duplicate of this bug. ***",
    "Sonia,\nIs the new builder runing now, or pre-generated extension point doc are still \npresent?",
    "Pregenerated extension point doc is still there.  We are working through some\nissues with the new builder and should have it in place by the end of the week.",
    "Sonia/Kim, the errors are back in the I-20050308 build.\nIs the xerces plugin still in the builder?",
    "The Xerces jars are still there but should not be on the classpath (we removed \nthe plugin.xml).  The problem also remains if I regenerate the doc with the \nxerces jars removed altogether.",
    "I also noticed that the generated HTMLs for the schema have duplicate entries\nfor the elements, e.g. in the Help, org.eclipse.ui.editors lists the \u003ceditor\u003e\nelement twice.  This isn\u0027t happening when Preview Reference Document is chosen\ninteractively.\n",
    "In the latest night build, I verified that the missing docs problem  and \nthe \"double vision\" problem in comment 33 are now fixed.\n\nHowever, we are not done yet.  The docs were missing because of an unguarded \nNPE, which is now fixed, but the problem remains that the schema \nexpressionLanguage.exsd (contributed by the org.eclipse.core.expressions \nplugin) is still not being found.  Therefore, these schemas which reference it \nnow have incomplete content.\n\nEverything works fine when I run the Ant tasks in my workspace, which leads me \nto suspect that the org.eclipse.core.expressions plugin might be missing from \nthe releng builder.\n\nSonia, please confirm if that\u0027s the case or not.",
    "The  org.eclipse.core.expressions plugin is in our builder but it is from\n3.1M5a.  Do we need a newer version?\n\nSee org.eclipse.releng.basebuilder/plugins/org.eclipse.core.expressions_3.1.0",
    "Ok, I finally figured out what is going on.  The plugin \norg.eclipse.core.expressions is there, but it contains no schemas.\n\nWhen looking for schemas contributed by this plugin, PDE first looks in the \nplugin itself.  If the schema/ folder is not there, we look in the source plug-\nins.  However, in the releng builder, the plugin itself does not have the \nschema folder (which is no surprise because you got it from the sdk).  Also, \nthe releng builder does not contain any source plugins, so PDE has no hope of \nfinding the source.\n\nTherefore I recommend that you copy the schema/ folder from the \u003c3.1M5 \ninstall\u003e/plugins/org.eclipse.platform.source_3.1.0/src/org.eclipse.core.express\nions_3.1.0/ into \norg.eclipse.releng.builder/plugins/org.eclipse.core.expressions_3.1.0/\n\nNote that with this solution we are including the 3.1M5 schema which may be \nstale.  In reality, it\u0027s most likely not stale though.\n\nAn ideal solution would be to copy the schema/ folder from the \ncore.expressions plugin of the current build into the releng builder with \nevery build.",
    "this is going to become a bigger problem when org.eclipse.core.expressions \nbecomes a JARd plugin in the sdk, as you will not be able then to copy the \nschema/ folder into it.\n\nAnother option might be to have the source plugins as part of the releng \nbuilder.",
    "All these options are not ideal since we are still building against a schema \nfrom an older core.expressions in the builder.\n\nI think it may be possible to put in another last resort case in the schema \nfinding code that if all else fails, assume the plugins are located and do a \nrelative file search for the schema.  \n\nIf the releng team is interested, please point me to the script that runs the \nAnt task.",
    "okay, it\u0027s been added.  I\u0027ll run a test build later today.",
    "The scripts are in org.eclipse.releng.eclipsebuilder \n\nhttp://dev.eclipse.org/viewcvs/index.cgi/~checkout~/org.eclipse.releng.eclipsebuilder/sdk/customTargets.xml?rev\u003dHEAD\u0026content-type\u003dtext/xml\n\nThis readme is a useful description of how to run the builder \nhttp://dev.eclipse.org/viewcvs/index.cgi/~checkout~/org.eclipse.releng.eclipsebuilder/readme.html?rev\u003dHEAD\u0026content-type\u003dtext/html",
    "closing as schemas are now complete."
  ],
  "commentCreationDates": [
    "2005-02-14T18:59:56+01:00",
    "2005-02-16T16:10:28+01:00",
    "2005-02-16T17:40:17+01:00",
    "2005-02-16T17:46:25+01:00",
    "2005-02-16T18:22:38+01:00",
    "2005-02-16T18:26:43+01:00",
    "2005-02-16T18:37:29+01:00",
    "2005-02-16T18:45:47+01:00",
    "2005-02-16T18:47:43+01:00",
    "2005-02-16T19:03:55+01:00",
    "2005-02-16T19:10:28+01:00",
    "2005-02-16T19:22:21+01:00",
    "2005-02-16T19:34:46+01:00",
    "2005-02-16T19:47:12+01:00",
    "2005-02-16T19:57:50+01:00",
    "2005-02-16T20:03:25+01:00",
    "2005-02-16T20:33:31+01:00",
    "2005-02-16T22:35:48+01:00",
    "2005-02-16T22:41:43+01:00",
    "2005-02-16T22:54:12+01:00",
    "2005-02-17T12:23:56+01:00",
    "2005-02-17T16:11:04+01:00",
    "2005-02-17T16:21:38+01:00",
    "2005-02-17T17:37:13+01:00",
    "2005-02-17T19:47:09+01:00",
    "2005-02-17T22:20:41+01:00",
    "2005-02-17T22:31:24+01:00",
    "2005-02-18T03:21:20+01:00",
    "2005-02-18T17:07:19+01:00",
    "2005-02-24T05:55:22+01:00",
    "2005-02-24T13:10:13+01:00",
    "2005-03-15T06:45:59+01:00",
    "2005-03-18T19:16:11+01:00",
    "2005-03-18T19:54:43+01:00",
    "2005-03-20T19:11:39+01:00",
    "2005-03-21T13:23:27+01:00",
    "2005-03-21T13:42:51+01:00",
    "2005-03-21T13:54:55+01:00",
    "2005-03-21T14:02:02+01:00",
    "2005-03-21T14:24:59+01:00",
    "2005-03-21T15:42:43+01:00",
    "2005-03-24T08:47:30+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.pde.internal.core.schema.Schema.load",
          "source": "Schema.java:331"
        },
        {
          "method": "org.eclipse.pde.internal.core.schema.SchemaInclude.createInternalSchema",
          "source": "SchemaInclude.java:79"
        },
        {
          "method": "org.eclipse.pde.internal.core.schema.SchemaInclude.getIncludedSchema",
          "source": "SchemaInclude.java:70"
        },
        {
          "method": "org.eclipse.pde.internal.builders.SchemaTransformer.transformDescription",
          "source": "SchemaTransformer.java:220"
        },
        {
          "method": "org.eclipse.pde.internal.builders.SchemaTransformer.printBody",
          "source": "SchemaTransformer.java:109"
        },
        {
          "method": "org.eclipse.pde.internal.builders.SchemaTransformer.printHTMLContent",
          "source": "SchemaTransformer.java:71"
        },
        {
          "method": "org.eclipse.pde.internal.builders.SchemaTransformer.transform",
          "source": "SchemaTransformer.java:44"
        },
        {
          "method": "org.eclipse.pde.internal.builders.SchemaTransformer.transform",
          "source": "SchemaTransformer.java:36"
        },
        {
          "method": "org.eclipse.pde.internal.ui.search.ShowDescriptionAction.showSchemaDocument",
          "source": "ShowDescriptionAction.java:88"
        },
        {
          "method": "org.eclipse.pde.internal.ui.search.ShowDescriptionAction.run",
          "source": "ShowDescriptionAction.java:70"
        },
        {
          "method": "org.eclipse.pde.internal.ui.search.PreviewReferenceAction.run",
          "source": "PreviewReferenceAction.java:42"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:244"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:557"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:507"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$6.handleEvent",
          "source": "ActionContributionItem.java:421"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:842"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2908"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2541"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1612"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1578"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:293"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:144"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:102"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:228"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:333"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:150"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:268"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:260"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:887"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:871"
        }
      ],
      "number": 0,
      "commentIndex": 19,
      "bugId": "85170",
      "date": "2005-02-16T22:54:12+01:00",
      "product": "PDE",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "85170",
  "bugId": "85170",
  "date": "2005-02-14T18:59:56+01:00",
  "product": "PDE",
  "component": "UI",
  "severity": "normal"
}