{
  "comments": [
    "CVSUIPlugin.runWithProgress(final Shell parent, final boolean cancelable,\nfinal IRunnableWithProgress runnable, int flags) - from line 241\n\ncontains the following code:\n\nfinal Exception exception[] \u003d new Exception[] { null }; // note: array length\u003d1\nRunnable outerRunnable \u003d new Runnable() {\n    public void run() {\n        try {\n            TeamUIPlugin.runWithProgress(parent, cancelable, runnable);\n        } catch (InvocationTargetException e) {\n            exception[1] \u003d e; // accesses second element in array\n        } catch (InterruptedException e) {\n            exception[1] \u003d e;\n        }\n\nIf an exception occurs in the TeamUIPlugin.runWithProgress method, the \nexception handling will _always_ fail with an ArrayIndexOutOfBoundsException, \nbecause the \"exception\" array is length\u003d1, and the code above attempts to \naccess the second element of the array.\n\nThe code above should be:\n        } catch (InvocationTargetException e) {\n            exception[0] \u003d e; // replace first element of array\n        } catch (InterruptedException e) {\n            exception[0] \u003d e; // replace first element of array\n        }\n\nI am not sure how to reproduce this, but I found the problem using the \nfollowing stacktrace:\n!STACK 0\njava.lang.ArrayIndexOutOfBoundsException: 1\n\tat org.eclipse.team.internal.ccvs.ui.CVSUIPlugin$3.run\n(CVSUIPlugin.java:253)\n\tat org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:127)\n\tat org.eclipse.ui.internal.UISynchronizer.syncExec\n(UISynchronizer.java:24)\n\tat org.eclipse.swt.widgets.Display.syncExec(Display.java:2153)\n\tat org.eclipse.team.internal.ccvs.ui.CVSUIPlugin.runWithProgress\n(CVSUIPlugin.java:270)\n\tat org.eclipse.team.internal.ccvs.ui.FileModificationValidator.run\n(FileModificationValidator.java:176)\n\tat \norg.eclipse.team.internal.ccvs.ui.FileModificationValidator.promptToEditFiles\n(FileModificationValidator.java:160)\n\tat org.eclipse.team.internal.ccvs.ui.FileModificationValidator.edit\n(FileModificationValidator.java:124)\n\tat \norg.eclipse.team.internal.ccvs.ui.FileModificationValidator.validateSave\n(FileModificationValidator.java:59)\n\tat \norg.eclipse.team.internal.core.FileModificationValidatorManager.validateSave\n(FileModificationValidatorManager.java:104)\n\tat org.eclipse.core.internal.resources.Workspace$6.run\n(Workspace.java:2116)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:1006)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:413)\n\tat org.eclipse.core.internal.resources.Workspace.validateSave\n(Workspace.java:2122)\n\tat org.eclipse.core.internal.resources.File.setContents(File.java:270)\n\tat org.eclipse.core.internal.resources.File.setContents(File.java:305)\n\tat jp.azzurri.clay.ui.edit.DatabaseModelEditor.doSave\n(DatabaseModelEditor.java:194)",
    "Question from poster:\n\nI have an additional question related to a bug report I just filed.\n(https://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d43433)\n\nThe stacktrace in the bug report was sent to me by a user of our Clay database \ndesign plugin. It would be great if you could tell me (as far as possible of \ncourse) what could be the reason of the original error, as the original error \nis hidden by the error in the handler... :-(\n\nI told him that it looked like he could not save the file he was trying to \nsave because the file is read-only or needs to be checked out because somebody \nelse modified it. Is that correct? \n\nThanks! \nRemko \n",
    "Answer: I can\u0027t say for sure. The CVS Console will indicate if there was an \nerror response from the server.",
    "I\u0027ve released the fix to HEAD.",
    "Fix eleased to HEAD"
  ],
  "commentCreationDates": [
    "2003-09-22T17:28:25+02:00",
    "2003-09-22T18:21:07+02:00",
    "2003-09-22T18:21:25+02:00",
    "2003-09-22T18:21:56+02:00",
    "2003-09-26T17:04:16+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "1",
      "elements": [
        {
          "method": "org.eclipse.team.internal.ccvs.ui.CVSUIPlugin$3.run",
          "source": "CVSUIPlugin.java:253"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.syncExec",
          "source": "Synchronizer.java:127"
        },
        {
          "method": "org.eclipse.ui.internal.UISynchronizer.syncExec",
          "source": "UISynchronizer.java:24"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.syncExec",
          "source": "Display.java:2153"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.CVSUIPlugin.runWithProgress",
          "source": "CVSUIPlugin.java:270"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.FileModificationValidator.run",
          "source": "FileModificationValidator.java:176"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.FileModificationValidator.promptToEditFiles",
          "source": "FileModificationValidator.java:160"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.FileModificationValidator.edit",
          "source": "FileModificationValidator.java:124"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.FileModificationValidator.validateSave",
          "source": "FileModificationValidator.java:59"
        },
        {
          "method": "org.eclipse.team.internal.core.FileModificationValidatorManager.validateSave",
          "source": "FileModificationValidatorManager.java:104"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace$6.run",
          "source": "Workspace.java:2116"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1006"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:413"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.validateSave",
          "source": "Workspace.java:2122"
        },
        {
          "method": "org.eclipse.core.internal.resources.File.setContents",
          "source": "File.java:270"
        },
        {
          "method": "org.eclipse.core.internal.resources.File.setContents",
          "source": "File.java:305"
        },
        {
          "method": "jp.azzurri.clay.ui.edit.DatabaseModelEditor.doSave",
          "source": "DatabaseModelEditor.java:194"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "43433",
      "date": "2003-09-22T17:28:25+02:00",
      "product": "Platform",
      "component": "Team",
      "severity": "major"
    }
  ],
  "groupId": "43433",
  "bugId": "43433",
  "date": "2003-09-22T17:28:25+02:00",
  "product": "Platform",
  "component": "Team",
  "severity": "major"
}