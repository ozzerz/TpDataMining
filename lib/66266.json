{
  "comments": [
    "I200406082000\n\nI launched my target using a new launch config wich only uses plug-ins that I\nhave in my workspace. This fails with erros (see below). When I add\n-application org.eclipse.ui.ide.workbench\nto the program arguments it works just fine but there is no welcome page\n\nWhy? What\u0027s missing?\n\nI then went to the PDE prefs and selected all plug-ins which are not in the\nworkspace and removed the program arguments. This did the trick. Then I started\nto import those plug-ins one by one and deselected it in the prefs. At the end\nit again did not launch. I added the program argument back and it worked again.\n\n\nNote:\n1) This happens in my build workspace where I also have features installed.\n2) This might be a user error but the given error message gives me no chance to\nfix this, especially since it worked using the external plug-ins and again\nstopped working after I imported them\n\n\n!SESSION Jun 09, 2004 12:25:03.799 ---------------------------------------------\neclipse.buildId\u003dunknown\njava.version\u003d1.4.2_03\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003dde_CH\n!ENTRY org.eclipse.osgi Jun 09, 2004 12:25:03.799\n!MESSAGE Application error\n!STACK 1\njava.lang.RuntimeException: No application id has been found.\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:312)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:272)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:128)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\n\tat org.eclipse.core.launcher.Main.run(Main.java:638)\n\tat org.eclipse.core.launcher.Main.main(Main.java:622)",
    "what plugin projects do you have in your workspace?\nwhat setting do you have on the Plug-ins tab of said launch configuration?\n\nThis all sounds like a user error that happens if you launch with an \nincomplete subset of plug-ins.",
    "\u003ewhat plugin projects do you have in your workspace?\nAll Text, JDT UI, Search, Compare and Debug plug-ins and corresponding feature\nprojects as source. Its required ones imported as binary (not linked)\n\n\u003ewhat setting do you have on the Plug-ins tab of said launch configuration?\nI used\n\"Launch with all workspace and enabled external plug-ins\"\nbut\n\"Choose plug-ins and fragments to launch from the list\" - all external unchecked\"\nshows same behavior.\n\n\u003eThis all sounds like a user error that happens if you launch with an \n\u003eincomplete subset of plug-ins.\nI tried the follwoing to fix it:\n1. on PDE target platform pref page select all which are not in workspace\n\u003d\u003d\u003e starts up\n2. uncheck all unneeded ones so that I have the minimum need\n\u003d\u003d\u003e starts up\n3. import those as binary and uncheck on PDE target platform pref page (so that\nthis has 0 checked)\n\u003d\u003d\u003e cannot launch\n\nThis does not look like a user error to me. If so please tell me which steps I\nforgot. Also, starting up when I manually add the parameter and not starting\nwithout the paramter seems not only to be a user error.\n",
    "Try putting -clean on the Program Arguments field of the launcher.  This may \nbe a runtime issue.",
    "I\u0027ll try again tomorrow if I find time",
    "please try it again at your earliest convenience, as we would like to resolve \nthis for RC2 and figure out if it\u0027s a runtime or a PDE issue.",
    "Sorry to not get back early - too busy. I just tried on I200406180010:\nneither -clean, -dev, a combination of it nor adding\n-Dosgi.checkConfiguration\u003dtrue -Dosgi.clean\u003dtrue\nas VM args help. I also tried with a new launch config - no luck.\n\nCould this be caused by having (or not having) some feature(s) in my workspace?\n\nMy setup is to have the binary plug-ins in my workspace (not linked).",
    "Dani, please go to the configuration directory for that launch.  Its location \nis specified on the -configuration argument of the launch that failed, i.e. in \nthe debug view, select the launch that failed and choose Properties.\n\nIn it, collect the config.ini file from the root of the directory.  Also \nplease get the platform.xml from the org.eclipse.update subdirectory and \nattach them to the bug report.",
    " C:\\JavaSDKs\\jdk1.4.2_03\\bin\\javaw.exe -classpath\nc:\\eclipse\\drops\\I200406180800\\startup.jar org.eclipse.core.launcher.Main\n-showsplash \"c:\\eclipse\\drops\\I200406180800\\eclipse -showsplash 600\" -data\nc:\\eclipse\\workspaces\\BuildMeister_2_2\\runtime-workspace -configuration\n\"file:c:/eclipse/workspaces/BuildMeister_2_2/plugins/.metadata/.plugins/org.eclipse.pde.core/New_configuration\n(1)/\" -dev\n\"file:c:/eclipse/workspaces/BuildMeister_2_2/plugins/.metadata/.plugins/org.eclipse.pde.core/New_configuration\n(1)/dev.properties\" -os win32 -ws win32 -arch x86 -nl de_CH -clean",
    "Created an attachment (id\u003d12532)\nconfig directory\n",
    "I attached the whole directory for that launch",
    "Figured out what the problem is by inspecting the platform.xml in the config \narea.\n\nWhen the user uses the default application in the launcher (i.e. \norg.eclipse.ui.ide.workbench if target platform is 3.0, and \norg.eclipse.ui.workbench if target platform is 2.1), PDE does not set the -\napplication argument on the launch configuration.  It lets Update do its thing \nand discover it upon startup.\n\nIn this case, all of Dani\u0027s plugins are coming from the workspace, i.e. coming \nfrom one site as far as Update Manager is concerned.  This site is not the \ntarget platform location, therefore, this site can\u0027t contribute any features, \nand Update Manager cannot determine the default application id upon startup.\n\nThat is why his scenario worked when he explicitly added -application \norg.eclipse.ui.ide.workbench to the program args.\n\nThis also explains why when he selected at least one plugin on the target \nplatform preference page, he no longer need the explicit -application arg.  \nThis is because when there is \u003e\u003d 1 plugin selected on the target platform \npage, the Eclipse install becomes another Update site, and Update Manager will \nbe able to pick up the default application id.\n\nMust-fix for RC3.\n\nThe value is high.\nThe risk is low.  All we need to do is always explicitly specify -application \non the program args that we load on the launcher.\n\nDejan, +1?",
    "By the way, the reason why we never hardcode the name of the default \napplication on the launch configuration is to allow 2.1 launch configs to work \nwithout any problems when targeting a 3.0 platform and vice versa.\n\nSo the logic for determining the default application is/was/always will be in \nthe launch configuration delegate and it will depend on what the target \nplatform is.",
    "Here is the only change needed in WorkbenchLaunchConfigurationDelegate.\n\n// specify the application to launch\nString defaultApp \u003d PDECore.getDefault().getModelManager\n().isOSGiRuntime ? \"org.eclipse.ui.ide.workbench\" \n                 : \"org.eclipse.ui.workbench\"; //$NON-NLS-1$ //$NON-NLS-2$\nprogramArgs.add(\"-application\"); //$NON-NLS-1$\nprogramArgs.add(configuration.getAttribute(APPLICATION, defaultApp););\n",
    "*** Bug 66785 has been marked as a duplicate of this bug. ***",
    "+1",
    "Fixed.",
    "verified in 3.0 RC3\nworks like a charm!"
  ],
  "commentCreationDates": [
    "2004-06-09T12:28:51+02:00",
    "2004-06-09T16:17:40+02:00",
    "2004-06-09T16:41:14+02:00",
    "2004-06-09T16:45:29+02:00",
    "2004-06-09T18:57:33+02:00",
    "2004-06-09T19:31:31+02:00",
    "2004-06-18T21:13:29+02:00",
    "2004-06-18T21:19:15+02:00",
    "2004-06-18T22:11:23+02:00",
    "2004-06-18T22:13:15+02:00",
    "2004-06-18T22:15:11+02:00",
    "2004-06-19T10:37:18+02:00",
    "2004-06-19T10:46:59+02:00",
    "2004-06-19T10:57:53+02:00",
    "2004-06-19T11:15:35+02:00",
    "2004-06-19T21:53:31+02:00",
    "2004-06-19T22:00:48+02:00",
    "2004-06-20T21:06:32+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.RuntimeException",
      "message": "No application id has been found.",
      "elements": [
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:312"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:272"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:128"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:638"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:622"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "66266",
      "date": "2004-06-09T12:28:51+02:00",
      "product": "PDE",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "66266",
  "bugId": "66266",
  "date": "2004-06-09T12:28:51+02:00",
  "product": "PDE",
  "component": "UI",
  "severity": "major"
}