{
  "comments": [
    "Build ID: I20070601-1539\n\nWhen I close a JPA project I see an error dialog and stack trace C is logged. When I reopen this project, I see two NPEs logged (stack trace B), the persistence.xml file seems hosed after reopening the project and a stack overflow results.\n\nSteps to Reproduce:\n\n1) Open an Entity in the Java editor and click around a bit, observe the details view to ensure that the JPA models have been setup correctly.\n\n2) Close project (Trace C logged)\n\n3) Open Project (Trace B logged twice)\n\n4) Open persistence.xml file to observe a truncated xml file in the editor - (only the XML header remains and the XML editor is marked dirty). If you attempt to close the file, you will get a stack overflow error.\n\n5) If you opened an Entity (instead of persistence.xml), the JPA Details view seems to work fine, however JPA validation does not work - old validation errors remain, new ones fail to show up.\n\nMore information:\nI used a DALI version checked out on June 12 2007, 2330 hrs UTC.\n\nMy workspace has a single simple JPA project and no other projects. This project has a single entity which is listed in the persistence.xml file. The persistence.xml path is: project/src/META-INF/persistence.xml \n\nStack trace B\njava.lang.NullPointerException\n at \norg.eclipse.wst.common.internal.emf.resource.IDTranslator.setMOFValue(IDTranslator.java:45)\n at \norg.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFFeature(EMF2DOMAdapterImpl.java:1399)\n at \norg.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFFeature(EMF2DOMAdapterImpl.java:1755)\n at \norg.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF(EMF2DOMAdapterImpl.java:929)\n at \norg.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF(EMF2DOMAdapterImpl.java:909)\n at \norg.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMultiFeature(EMF2DOMAdapterImpl.java:457)\n at \norg.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFRootFeature(EMF2DOMAdapterImpl.java:950)\n at \norg.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF(EMF2DOMAdapterImpl.java:925)\n at \norg.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF(EMF2DOMAdapterImpl.java:909)\n at \norg.eclipse.wst.common.internal.emf.resource.EMF2DOMRenderer.doLoad(EMF2DOMRenderer.java:62)\n at \norg.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.basicDoLoad(TranslatorResourceImpl.java:142)\n at \norg.eclipse.wst.common.internal.emf.resource.CompatibilityXMIResourceImpl.doLoad(CompatibilityXMIResourceImpl.java:173)\n at \norg.eclipse.emf.ecore.resource.impl.ResourceImpl.load(ResourceImpl.java:1354)\n at \norg.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.load(TranslatorResourceImpl.java:391)\n at \norg.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoad(ResourceSetImpl.java:256)\n at \norg.eclipse.jem.internal.util.emf.workbench.ProjectResourceSetImpl.demandLoad(ProjectResourceSetImpl.java:83)\n at \norg.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoadHelper(ResourceSetImpl.java:271)\n at \norg.eclipse.emf.ecore.resource.impl.ResourceSetImpl.getResource(ResourceSetImpl.java:398)\n at \norg.eclipse.jem.internal.util.emf.workbench.ProjectResourceSetImpl.getResource(ProjectResourceSetImpl.java:262)\n at \norg.eclipse.jpt.core.internal.content.persistence.PersistenceXmlJpaFileContentProvider.buildRootContent(PersistenceXmlJpaFileContentProvider.java:43)\n at \norg.eclipse.jpt.core.internal.JpaFileContentRegistry.buildContent(JpaFileContentRegistry.java:60)\n at \norg.eclipse.jpt.core.internal.JpaFileContentRegistry.getFile(JpaFileContentRegistry.java:44)\n at \norg.eclipse.jpt.core.internal.JpaProject.createJpaFile(JpaProject.java:613)\n at org.eclipse.jpt.core.internal.JpaProject$3.visit(JpaProject.java:480)\n at \norg.eclipse.core.internal.resources.Resource$1.visitElement(Resource.java:57)\n at \norg.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java:81)\n at \norg.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java:85)\n at \norg.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java:85)\n at \norg.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java:85)\n at \norg.eclipse.core.internal.watson.ElementTreeIterator.iterate(ElementTreeIterator.java:126)\n at org.eclipse.core.internal.resources.Resource.accept(Resource.java:67)\n at org.eclipse.jpt.core.internal.JpaProject.fill(JpaProject.java:487)\n at \norg.eclipse.jpt.core.internal.JpaModelManager.createFilledJpaProject(JpaModelManager.java:208)\n at \norg.eclipse.jpt.core.internal.JpaModelManager$ResourceChangeProcessor.checkForProjectsBeingAddedOrRemoved(JpaModelManager.java:411)\n at \norg.eclipse.jpt.core.internal.JpaModelManager$ResourceChangeProcessor.checkForProjectsBeingAddedOrRemoved(JpaModelManager.java:434)\n at \norg.eclipse.jpt.core.internal.JpaModelManager$ResourceChangeProcessor.resourceChanged(JpaModelManager.java:327)\n at \norg.eclipse.jpt.core.internal.JpaModelManager$ResourceChangeListener.resourceChanged(JpaModelManager.java:284)\n at \norg.eclipse.core.internal.events.NotificationManager$2.run(NotificationManager.java:282)\n at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n at \norg.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.java:276)\n at \norg.eclipse.core.internal.events.NotificationManager.broadcastChanges(NotificationManager.java:148)\n at \norg.eclipse.core.internal.resources.Workspace.broadcastPostChange(Workspace.java:311)\n at \norg.eclipse.core.internal.resources.Workspace.endOperation(Workspace.java:1018)\n at \norg.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:45)\n at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)\n\n\nSTACK TRACE C\njava.lang.NullPointerException\n at \norg.eclipse.jpt.core.internal.platform.BaseJpaProjectContext.isValidPersistenceXmlLocation(BaseJpaProjectContext.java:98)\n at \norg.eclipse.jpt.core.internal.platform.BaseJpaProjectContext.sortPersistenceXmlFiles(BaseJpaProjectContext.java:79)\n at \norg.eclipse.jpt.core.internal.platform.BaseJpaProjectContext.initialize(BaseJpaProjectContext.java:73)\n at \norg.eclipse.jpt.core.internal.platform.BaseContext.refreshDefaults(BaseContext.java:50)\n at \norg.eclipse.jpt.core.internal.platform.BaseJpaProjectContext.refreshDefaults(BaseJpaProjectContext.java:145)\n at \norg.eclipse.jpt.core.internal.platform.BaseJpaProjectContext.refreshDefaults(BaseJpaProjectContext.java:141)\n at \norg.eclipse.jpt.core.internal.platform.BaseJpaPlatform.resynch(BaseJpaPlatform.java:201)\n at org.eclipse.jpt.core.internal.JpaProject$1.run(JpaProject.java:179)\n at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)",
    "The user must restart the Workbench to get past the validation issue noted below if the below steps are followed.  \n\nIt does appear though that the project must to be closed and opened in the same Workbench session for items 3, 4, and 5 to occur, which would limit the exposure to this problem.\n\nWe should investigate this issue for 1.0.1.\n\nThe tip of the stack trace for the stack overflow:\n\njava.lang.StackOverflowError\n\tat java.io.FileOutputStream.writeBytes(Native Method)\n\tat java.io.FileOutputStream.write(FileOutputStream.java:260)\n\tat java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:65)\n\tat java.io.BufferedOutputStream.write(BufferedOutputStream.java:109)\n\tat java.io.PrintStream.write(PrintStream.java:412)\n\tat sun.nio.cs.StreamEncoder$CharsetSE.writeBytes(StreamEncoder.java:336)\n\tat sun.nio.cs.StreamEncoder$CharsetSE.implFlushBuffer(StreamEncoder.java:404)\n\tat sun.nio.cs.StreamEncoder.flushBuffer(StreamEncoder.java:115)\n\tat java.io.OutputStreamWriter.flushBuffer(OutputStreamWriter.java:169)\n\tat java.io.PrintStream.write(PrintStream.java:459)\n\tat java.io.PrintStream.print(PrintStream.java:602)\n\tat org.eclipse.core.runtime.adaptor.EclipseLog.write(EclipseLog.java:551)\n\tat org.eclipse.core.runtime.adaptor.EclipseLog.writeln(EclipseLog.java:570)\n\tat org.eclipse.core.runtime.adaptor.EclipseLog.writeEntry(EclipseLog.java:494)\n\tat org.eclipse.core.runtime.adaptor.EclipseLog.writeLog(EclipseLog.java:472)\n\tat org.eclipse.core.runtime.adaptor.EclipseLog.log(EclipseLog.java:300)\n\tat org.eclipse.core.internal.runtime.PlatformLogWriter.logging(PlatformLogWriter.java:36)\n\tat org.eclipse.core.internal.runtime.RuntimeLog.log(RuntimeLog.java:95)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.log(InternalPlatform.java:671)\n\tat org.eclipse.core.internal.runtime.Log.log(Log.java:56)\n\tat org.eclipse.wst.xml.core.internal.Logger._log(Logger.java:78)\n\tat org.eclipse.wst.xml.core.internal.Logger.logException(Logger.java:143)\n\tat org.eclipse.wst.xml.core.internal.document.DOMModelImpl.noChange(DOMModelImpl.java:621)\n\tat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument._fireEvent(BasicStructuredDocument.java:515)\n\tat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.fireStructuredDocumentEvent(BasicStructuredDocument.java:1173)\n\tat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.internalReplaceText(BasicStructuredDocument.java:1950)\n\tat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText(BasicStructuredDocument.java:2394)\n\tat org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.replaceText(JobSafeStructuredDocument.java:84)\n\tat org.eclipse.wst.xml.core.internal.document.XMLModelUpdater.replaceSource(XMLModelUpdater.java:1608)\n\tat org.eclipse.wst.xml.core.internal.document.XMLModelUpdater.replaceChild(XMLModelUpdater.java:1566)\n\tat org.eclipse.wst.xml.core.internal.document.DOMModelImpl.childReplaced(DOMModelImpl.java:188)\n\tat org.eclipse.wst.xml.core.internal.document.NodeContainer.notifyChildReplaced(NodeContainer.java:357)\n\tat org.eclipse.wst.xml.core.internal.document.NodeContainer.removeChild(NodeContainer.java:401)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.removeDOMChild(EMF2DOMAdapterImpl.java:685)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.removeDOMChild(EMF2DOMAdapterImpl.java:671)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateDOMMultiFeature(EMF2DOMAdapterImpl.java:374)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateDOMRootFeature(EMF2DOMAdapterImpl.java:940)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateDOM(EMF2DOMAdapterImpl.java:916)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.notifyChangedForRoot(EMF2DOMAdapterImpl.java:1051)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.notifyChanged(EMF2DOMAdapterImpl.java:1012)\n\tat org.eclipse.emf.common.notify.impl.BasicNotifierImpl.eNotify(BasicNotifierImpl.java:247)\n\tat org.eclipse.emf.common.notify.impl.NotificationImpl.dispatch(NotificationImpl.java:1030)\n\tat org.eclipse.emf.common.notify.impl.NotifyingListImpl.addUnique(NotifyingListImpl.java:367)\n\tat org.eclipse.emf.common.util.BasicEList.add(BasicEList.java:672)\n\tat org.eclipse.wst.common.internal.emf.resource.RootTranslator.setMOFValue(RootTranslator.java:34)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMultiFeature(EMF2DOMAdapterImpl.java:436)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFRootFeature(EMF2DOMAdapterImpl.java:952)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF(EMF2DOMAdapterImpl.java:927)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF(EMF2DOMAdapterImpl.java:911)\n\tat org.eclipse.wst.xml.core.internal.emf2xml.EMF2DOMSSEAdapter.notifyChanged(EMF2DOMSSEAdapter.java:224)\n\tat org.eclipse.wst.sse.core.internal.provisional.AbstractNotifier.notify(AbstractNotifier.java:201)\n\tat org.eclipse.wst.xml.core.internal.document.XMLModelNotifierImpl.notifyStructureChanged(XMLModelNotifierImpl.java:392)\n\tat org.eclipse.wst.xml.core.internal.document.XMLModelNotifierImpl.endChanging(XMLModelNotifierImpl.java:180)\n\tat org.eclipse.wst.xml.core.internal.document.DOMModelImpl.changedModel(DOMModelImpl.java:163)\n\tat org.eclipse.wst.sse.core.internal.model.AbstractStructuredModel$DocumentToModelNotifier.nodesReplaced(AbstractStructuredModel.java:152)\n\tat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument._fireEvent(BasicStructuredDocument.java:602)\n\tat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.fireStructuredDocumentEvent(BasicStructuredDocument.java:1201)\n\tat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.internalReplaceText(BasicStructuredDocument.java:1970)\n\tat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText(BasicStructuredDocument.java:2394)\n\tat org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.replaceText(JobSafeStructuredDocument.java:84)\n\tat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.set(BasicStructuredDocument.java:2908)\n\tat org.eclipse.core.internal.filebuffers.ResourceTextFileBuffer.handleFileContentChanged(ResourceTextFileBuffer.java:479)\n\tat org.eclipse.core.internal.filebuffers.ResourceFileBuffer.revert(ResourceFileBuffer.java:354)\n\tat org.eclipse.wst.sse.core.internal.FileBufferModelManager.revert(FileBufferModelManager.java:701)\n\tat org.eclipse.wst.sse.core.internal.model.ModelManagerImpl.revertModel(ModelManagerImpl.java:1408)\n\tat org.eclipse.wst.sse.core.internal.model.ModelManagerImpl.releaseFromEdit(ModelManagerImpl.java:1397)\n\tat org.eclipse.wst.sse.core.internal.model.ModelManagerImpl.releaseFromEdit(ModelManagerImpl.java:1345)\n\tat org.eclipse.wst.sse.core.internal.model.AbstractStructuredModel.releaseFromEdit(AbstractStructuredModel.java:1044)\n\tat org.eclipse.wst.xml.core.internal.document.DOMModelImpl.releaseFromEdit(DOMModelImpl.java:804)\n\tat org.eclipse.wst.xml.core.internal.emf2xml.EMF2DOMSSERenderer.modelChanged(EMF2DOMSSERenderer.java:382)\n\tat org.eclipse.wst.sse.core.internal.model.AbstractStructuredModel.fireModelChanged(AbstractStructuredModel.java:553)\n\tat org.eclipse.wst.sse.core.internal.model.AbstractStructuredModel.internalModelChanged(AbstractStructuredModel.java:887)\n\tat org.eclipse.wst.sse.core.internal.model.AbstractStructuredModel.changedModel(AbstractStructuredModel.java:382)\n\tat org.eclipse.wst.xml.core.internal.document.DOMModelImpl.changedModel(DOMModelImpl.java:167)\n\tat org.eclipse.wst.sse.core.internal.model.AbstractStructuredModel$DocumentToModelNotifier.nodesReplaced(AbstractStructuredModel.java:152)\n\tat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument._fireEvent(BasicStructuredDocument.java:602)\n\tat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.fireStructuredDocumentEvent(BasicStructuredDocument.java:1201)\n\tat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.internalReplaceText(BasicStructuredDocument.java:1970)\n\tat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText(BasicStructuredDocument.java:2394)\n\tat org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.replaceText(JobSafeStructuredDocument.java:84)\n\tat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.set(BasicStructuredDocument.java:2908)\n\tat org.eclipse.core.internal.filebuffers.ResourceTextFileBuffer.handleFileContentChanged(ResourceTextFileBuffer.java:479)",
    "More info:\nThe persistence.xml and orm.xml (this also affect orm.xml) that appear truncated after re-opening the project are actually still intact on the file system.  If the user does not save these truncated versions and restarts the workbench, the files will return with their previous content.",
    "*** Bug 194318 has been marked as a duplicate of this bug. ***",
    "A little different scenario to reproduce the defect with the latest WTP , DALI and Eclipse updates (20.07.07):\n 1.Create EJB 3.0 project with JPA Facet\n 2.Create single entity class in the project (e.g. with one @Id field only)\n 3.Switch to another workspace and import the project from previos one (with copy)\n 4.The \"No persistence.xml\" problems appear, but if you open the persistence.xml it\u0027s ok\n 5.Delete the project (with content, from current workspace) and import it with copy again\n 6.The problem does not appear but the situation like in the attached sceenshot \ncan be seen. - If you open the persistence.xml from \"ejbModule\" folder, \nit will be empty, if you open it from \"Build\" folder it will be \"Ok\"    \n",
    "Created an attachment (id\u003d74247)\nScreenshot for Comment  #4\n\n",
    "I raise this as hotbug. \nThis issue affects important use cases for SAP. \nWe hope to have it fixed for 1.0.1. ",
    "Created an attachment (id\u003d77216)\nA first look fix.\n\nHope to help identify the problem",
    "I have investigate the problem for a while and a have prepared a patch (just and idea), but the change is made in org.eclipse.wst.common.emf and because of that I do not like it very much. I do not know what else is effected.\n\nThe general description of the problem as I understand it.\n\nThe JpaModelManager has two listeners - facetedProjectListener, resourceChangeListener. This two listeners have the task to update the model as the projects and files are changed. When a resource is change  a jpaProject is created and jpaProject.fill() is called. Filling the project means calling PersistenceXmlJpaFileContentProvider::buildRootContent(jpaFile). \n\nThe following line located in buildRootContent() does the actual loading of the file \nPersistenceResource resource \u003d (PersistenceResource) getResourceSet(resourceFile).getResource(fileURI, true);\nThis line is successfully executed the first time the method is called for a fileURI. Loading the model includes reading and creating dom element and the corresponding EMF2DOM adapters.For every node and for its children an adapter is created. \n\nTo create the adapter EMF2DOMAdapterImpl::createAdapter(Node node, Translator childMap) is called. The method delegates to EMF2DOMSSEAdapter::primGetExistingAdapter() which tries to find a cached adapter for the node. If the attached patch is applied then no existingAdapter is used and  the adapters are created every time. The user will be able to close and open a project without exceptions thrown and without loosing the persistence.xml and orm.xml\n\nI will try to further investigate why are the existingAdapters causing the problem",
    "Paul has been investigating this, assigning to him.",
    "Copying some comments I made to Dimiter on the JPT mailing list:\n\n\"Yes, this is one of the more annoying bugs we have.  (We have a utility to generate unique project names for our JUnit tests, so we\u0027ve worked around one of your issues that way.)  Truth is, I know *when* it happens, but I really have no idea *why* it happens.  It only happens when creating a resource with a given path (say \"MyProject/src/META-INF/persistence.xml\"), deleting or closing the project, and then attempting to recreate the resource with the same path.  *Something* isn\u0027t being cleaned up or disposed, but again, I don\u0027t know what exactly.  I\u0027ve been experimenting with ArtifactEdits in an alt stream, and I\u0027ve seen a disappearance of most or all of these issues, but again, I\u0027m not sure why, and I\u0027m not sure I understand the code  well enough (lack of documentation is a big problem here) to feel good about introducing it into our maintenance stream.  But that is what I\u0027m going to look into doing.  This bug is big enough that even some problems caused by (mis)use of ArtifactEdits are probable worth it.\n\nIncidentally, this issue won\u0027t crop up when importing a brand new project into a workspace.  It only occurs when importing a project into a workspace in which it has been deleted in the same session (i.e. delete, then reimport.)\"\n\n\nI\u0027m currently waiting on some feedback from WTP developers.  Hopefully that will help me resolve this issue ASAP.",
    "Created an attachment (id\u003d77741)\nproposed patch\n\nThis patch looks pretty good so far to me.  I\u0027ve used the artifact edit framework, and there don\u0027t seem to be any major issues.\n\nPlease test this out and let me know if there are any issues.  We\u0027d like to get this into our RC build.",
    "Created an attachment (id\u003d77756)\nproposed patch\n\nSlightly tweaked patch to fix a few minor problems.\n\nOverall, we did discover that *functionally* sometimes this fix is *not* an improvement over non-patched code.  Sometimes, the orm and persistence models are not reloaded on project reopen/reimport.  But the patch does seem to remove completely all exceptions, so we\u0027re going to go with this patch for the time being as an improvement and hope to fix the remaining issues post-RC.\n\n(committed patch for RC build)",
    "Created an attachment (id\u003d77839)\npatch addendum\n\nThis looks to fix the problem uncovered by the previous bug fix.  A race condition was addressed.",
    "committed to post-RC code.\n\n(If downloading the RC, you should simply be able to use the patch addendum)",
    "I have verified this fix myself, but since this is a hot bug, I thought the requester may want to verify as well.  Please update the bug if you have any issues.",
    "I think a colleague already verified it, but I will do it again with RC3. ",
    "I have verified the \"steps to reproduce\" from both the bug description and comment #4. They are OK with WTP 2.0.1 RC3. "
  ],
  "commentCreationDates": [
    "2007-06-13T17:57:33+02:00",
    "2007-06-22T18:41:25+02:00",
    "2007-06-26T16:46:26+02:00",
    "2007-06-26T16:50:59+02:00",
    "2007-07-20T12:01:30+02:00",
    "2007-07-20T12:03:11+02:00",
    "2007-08-22T08:46:38+02:00",
    "2007-08-29T09:56:11+02:00",
    "2007-08-29T09:57:59+02:00",
    "2007-08-29T16:13:55+02:00",
    "2007-08-29T22:36:48+02:00",
    "2007-09-05T18:32:48+02:00",
    "2007-09-05T23:33:31+02:00",
    "2007-09-06T19:58:14+02:00",
    "2007-09-06T20:01:30+02:00",
    "2007-09-25T15:05:23+02:00",
    "2007-09-25T15:22:32+02:00",
    "2007-09-25T15:51:38+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.IDTranslator.setMOFValue",
          "source": "IDTranslator.java:45"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFFeature",
          "source": "EMF2DOMAdapterImpl.java:1399"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFFeature",
          "source": "EMF2DOMAdapterImpl.java:1755"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF",
          "source": "EMF2DOMAdapterImpl.java:929"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF",
          "source": "EMF2DOMAdapterImpl.java:909"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMultiFeature",
          "source": "EMF2DOMAdapterImpl.java:457"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFRootFeature",
          "source": "EMF2DOMAdapterImpl.java:950"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF",
          "source": "EMF2DOMAdapterImpl.java:925"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF",
          "source": "EMF2DOMAdapterImpl.java:909"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMRenderer.doLoad",
          "source": "EMF2DOMRenderer.java:62"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.basicDoLoad",
          "source": "TranslatorResourceImpl.java:142"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.CompatibilityXMIResourceImpl.doLoad",
          "source": "CompatibilityXMIResourceImpl.java:173"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceImpl.load",
          "source": "ResourceImpl.java:1354"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.load",
          "source": "TranslatorResourceImpl.java:391"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoad",
          "source": "ResourceSetImpl.java:256"
        },
        {
          "method": "org.eclipse.jem.internal.util.emf.workbench.ProjectResourceSetImpl.demandLoad",
          "source": "ProjectResourceSetImpl.java:83"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoadHelper",
          "source": "ResourceSetImpl.java:271"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.getResource",
          "source": "ResourceSetImpl.java:398"
        },
        {
          "method": "org.eclipse.jem.internal.util.emf.workbench.ProjectResourceSetImpl.getResource",
          "source": "ProjectResourceSetImpl.java:262"
        },
        {
          "method": "org.eclipse.jpt.core.internal.content.persistence.PersistenceXmlJpaFileContentProvider.buildRootContent",
          "source": "PersistenceXmlJpaFileContentProvider.java:43"
        },
        {
          "method": "org.eclipse.jpt.core.internal.JpaFileContentRegistry.buildContent",
          "source": "JpaFileContentRegistry.java:60"
        },
        {
          "method": "org.eclipse.jpt.core.internal.JpaFileContentRegistry.getFile",
          "source": "JpaFileContentRegistry.java:44"
        },
        {
          "method": "org.eclipse.jpt.core.internal.JpaProject.createJpaFile",
          "source": "JpaProject.java:613"
        },
        {
          "method": "org.eclipse.jpt.core.internal.JpaProject$3.visit",
          "source": "JpaProject.java:480"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource$1.visitElement",
          "source": "Resource.java:57"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.doIteration",
          "source": "ElementTreeIterator.java:81"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.doIteration",
          "source": "ElementTreeIterator.java:85"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.doIteration",
          "source": "ElementTreeIterator.java:85"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.doIteration",
          "source": "ElementTreeIterator.java:85"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.iterate",
          "source": "ElementTreeIterator.java:126"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource.accept",
          "source": "Resource.java:67"
        },
        {
          "method": "org.eclipse.jpt.core.internal.JpaProject.fill",
          "source": "JpaProject.java:487"
        },
        {
          "method": "org.eclipse.jpt.core.internal.JpaModelManager.createFilledJpaProject",
          "source": "JpaModelManager.java:208"
        },
        {
          "method": "org.eclipse.jpt.core.internal.JpaModelManager$ResourceChangeProcessor.checkForProjectsBeingAddedOrRemoved",
          "source": "JpaModelManager.java:411"
        },
        {
          "method": "org.eclipse.jpt.core.internal.JpaModelManager$ResourceChangeProcessor.checkForProjectsBeingAddedOrRemoved",
          "source": "JpaModelManager.java:434"
        },
        {
          "method": "org.eclipse.jpt.core.internal.JpaModelManager$ResourceChangeProcessor.resourceChanged",
          "source": "JpaModelManager.java:327"
        },
        {
          "method": "org.eclipse.jpt.core.internal.JpaModelManager$ResourceChangeListener.resourceChanged",
          "source": "JpaModelManager.java:284"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager$2.run",
          "source": "NotificationManager.java:282"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.notify",
          "source": "NotificationManager.java:276"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.broadcastChanges",
          "source": "NotificationManager.java:148"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.broadcastPostChange",
          "source": "Workspace.java:311"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.endOperation",
          "source": "Workspace.java:1018"
        },
        {
          "method": "org.eclipse.core.internal.resources.InternalWorkspaceJob.run",
          "source": "InternalWorkspaceJob.java:45"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:55"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "192477",
      "date": "2007-06-13T17:57:33+02:00",
      "product": "Dali JPA Tools",
      "component": "General",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jpt.core.internal.platform.BaseJpaProjectContext.isValidPersistenceXmlLocation",
          "source": "BaseJpaProjectContext.java:98"
        },
        {
          "method": "org.eclipse.jpt.core.internal.platform.BaseJpaProjectContext.sortPersistenceXmlFiles",
          "source": "BaseJpaProjectContext.java:79"
        },
        {
          "method": "org.eclipse.jpt.core.internal.platform.BaseJpaProjectContext.initialize",
          "source": "BaseJpaProjectContext.java:73"
        },
        {
          "method": "org.eclipse.jpt.core.internal.platform.BaseContext.refreshDefaults",
          "source": "BaseContext.java:50"
        },
        {
          "method": "org.eclipse.jpt.core.internal.platform.BaseJpaProjectContext.refreshDefaults",
          "source": "BaseJpaProjectContext.java:145"
        },
        {
          "method": "org.eclipse.jpt.core.internal.platform.BaseJpaProjectContext.refreshDefaults",
          "source": "BaseJpaProjectContext.java:141"
        },
        {
          "method": "org.eclipse.jpt.core.internal.platform.BaseJpaPlatform.resynch",
          "source": "BaseJpaPlatform.java:201"
        },
        {
          "method": "org.eclipse.jpt.core.internal.JpaProject$1.run",
          "source": "JpaProject.java:179"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:55"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "192477",
      "date": "2007-06-13T17:57:33+02:00",
      "product": "Dali JPA Tools",
      "component": "General",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.StackOverflowError",
      "elements": [
        {
          "method": "java.io.FileOutputStream.writeBytes",
          "source": "Native Method"
        },
        {
          "method": "java.io.FileOutputStream.write",
          "source": "FileOutputStream.java:260"
        },
        {
          "method": "java.io.BufferedOutputStream.flushBuffer",
          "source": "BufferedOutputStream.java:65"
        },
        {
          "method": "java.io.BufferedOutputStream.write",
          "source": "BufferedOutputStream.java:109"
        },
        {
          "method": "java.io.PrintStream.write",
          "source": "PrintStream.java:412"
        },
        {
          "method": "sun.nio.cs.StreamEncoder$CharsetSE.writeBytes",
          "source": "StreamEncoder.java:336"
        },
        {
          "method": "sun.nio.cs.StreamEncoder$CharsetSE.implFlushBuffer",
          "source": "StreamEncoder.java:404"
        },
        {
          "method": "sun.nio.cs.StreamEncoder.flushBuffer",
          "source": "StreamEncoder.java:115"
        },
        {
          "method": "java.io.OutputStreamWriter.flushBuffer",
          "source": "OutputStreamWriter.java:169"
        },
        {
          "method": "java.io.PrintStream.write",
          "source": "PrintStream.java:459"
        },
        {
          "method": "java.io.PrintStream.print",
          "source": "PrintStream.java:602"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseLog.write",
          "source": "EclipseLog.java:551"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseLog.writeln",
          "source": "EclipseLog.java:570"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseLog.writeEntry",
          "source": "EclipseLog.java:494"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseLog.writeLog",
          "source": "EclipseLog.java:472"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseLog.log",
          "source": "EclipseLog.java:300"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformLogWriter.logging",
          "source": "PlatformLogWriter.java:36"
        },
        {
          "method": "org.eclipse.core.internal.runtime.RuntimeLog.log",
          "source": "RuntimeLog.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.log",
          "source": "InternalPlatform.java:671"
        },
        {
          "method": "org.eclipse.core.internal.runtime.Log.log",
          "source": "Log.java:56"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.Logger._log",
          "source": "Logger.java:78"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.Logger.logException",
          "source": "Logger.java:143"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.DOMModelImpl.noChange",
          "source": "DOMModelImpl.java:621"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument._fireEvent",
          "source": "BasicStructuredDocument.java:515"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.fireStructuredDocumentEvent",
          "source": "BasicStructuredDocument.java:1173"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.internalReplaceText",
          "source": "BasicStructuredDocument.java:1950"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText",
          "source": "BasicStructuredDocument.java:2394"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.replaceText",
          "source": "JobSafeStructuredDocument.java:84"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.XMLModelUpdater.replaceSource",
          "source": "XMLModelUpdater.java:1608"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.XMLModelUpdater.replaceChild",
          "source": "XMLModelUpdater.java:1566"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.DOMModelImpl.childReplaced",
          "source": "DOMModelImpl.java:188"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.NodeContainer.notifyChildReplaced",
          "source": "NodeContainer.java:357"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.NodeContainer.removeChild",
          "source": "NodeContainer.java:401"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.removeDOMChild",
          "source": "EMF2DOMAdapterImpl.java:685"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.removeDOMChild",
          "source": "EMF2DOMAdapterImpl.java:671"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateDOMMultiFeature",
          "source": "EMF2DOMAdapterImpl.java:374"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateDOMRootFeature",
          "source": "EMF2DOMAdapterImpl.java:940"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateDOM",
          "source": "EMF2DOMAdapterImpl.java:916"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.notifyChangedForRoot",
          "source": "EMF2DOMAdapterImpl.java:1051"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.notifyChanged",
          "source": "EMF2DOMAdapterImpl.java:1012"
        },
        {
          "method": "org.eclipse.emf.common.notify.impl.BasicNotifierImpl.eNotify",
          "source": "BasicNotifierImpl.java:247"
        },
        {
          "method": "org.eclipse.emf.common.notify.impl.NotificationImpl.dispatch",
          "source": "NotificationImpl.java:1030"
        },
        {
          "method": "org.eclipse.emf.common.notify.impl.NotifyingListImpl.addUnique",
          "source": "NotifyingListImpl.java:367"
        },
        {
          "method": "org.eclipse.emf.common.util.BasicEList.add",
          "source": "BasicEList.java:672"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.RootTranslator.setMOFValue",
          "source": "RootTranslator.java:34"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOFMultiFeature",
          "source": "EMF2DOMAdapterImpl.java:436"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOFRootFeature",
          "source": "EMF2DOMAdapterImpl.java:952"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.primUpdateMOF",
          "source": "EMF2DOMAdapterImpl.java:927"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMAdapterImpl.updateMOF",
          "source": "EMF2DOMAdapterImpl.java:911"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.emf2xml.EMF2DOMSSEAdapter.notifyChanged",
          "source": "EMF2DOMSSEAdapter.java:224"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.provisional.AbstractNotifier.notify",
          "source": "AbstractNotifier.java:201"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.XMLModelNotifierImpl.notifyStructureChanged",
          "source": "XMLModelNotifierImpl.java:392"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.XMLModelNotifierImpl.endChanging",
          "source": "XMLModelNotifierImpl.java:180"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.DOMModelImpl.changedModel",
          "source": "DOMModelImpl.java:163"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.model.AbstractStructuredModel$DocumentToModelNotifier.nodesReplaced",
          "source": "AbstractStructuredModel.java:152"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument._fireEvent",
          "source": "BasicStructuredDocument.java:602"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.fireStructuredDocumentEvent",
          "source": "BasicStructuredDocument.java:1201"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.internalReplaceText",
          "source": "BasicStructuredDocument.java:1970"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText",
          "source": "BasicStructuredDocument.java:2394"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.replaceText",
          "source": "JobSafeStructuredDocument.java:84"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.set",
          "source": "BasicStructuredDocument.java:2908"
        },
        {
          "method": "org.eclipse.core.internal.filebuffers.ResourceTextFileBuffer.handleFileContentChanged",
          "source": "ResourceTextFileBuffer.java:479"
        },
        {
          "method": "org.eclipse.core.internal.filebuffers.ResourceFileBuffer.revert",
          "source": "ResourceFileBuffer.java:354"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.FileBufferModelManager.revert",
          "source": "FileBufferModelManager.java:701"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.model.ModelManagerImpl.revertModel",
          "source": "ModelManagerImpl.java:1408"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.model.ModelManagerImpl.releaseFromEdit",
          "source": "ModelManagerImpl.java:1397"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.model.ModelManagerImpl.releaseFromEdit",
          "source": "ModelManagerImpl.java:1345"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.model.AbstractStructuredModel.releaseFromEdit",
          "source": "AbstractStructuredModel.java:1044"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.DOMModelImpl.releaseFromEdit",
          "source": "DOMModelImpl.java:804"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.emf2xml.EMF2DOMSSERenderer.modelChanged",
          "source": "EMF2DOMSSERenderer.java:382"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.model.AbstractStructuredModel.fireModelChanged",
          "source": "AbstractStructuredModel.java:553"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.model.AbstractStructuredModel.internalModelChanged",
          "source": "AbstractStructuredModel.java:887"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.model.AbstractStructuredModel.changedModel",
          "source": "AbstractStructuredModel.java:382"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.DOMModelImpl.changedModel",
          "source": "DOMModelImpl.java:167"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.model.AbstractStructuredModel$DocumentToModelNotifier.nodesReplaced",
          "source": "AbstractStructuredModel.java:152"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument._fireEvent",
          "source": "BasicStructuredDocument.java:602"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.fireStructuredDocumentEvent",
          "source": "BasicStructuredDocument.java:1201"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.internalReplaceText",
          "source": "BasicStructuredDocument.java:1970"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText",
          "source": "BasicStructuredDocument.java:2394"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.replaceText",
          "source": "JobSafeStructuredDocument.java:84"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.set",
          "source": "BasicStructuredDocument.java:2908"
        },
        {
          "method": "org.eclipse.core.internal.filebuffers.ResourceTextFileBuffer.handleFileContentChanged",
          "source": "ResourceTextFileBuffer.java:479"
        }
      ],
      "number": 2,
      "commentIndex": 1,
      "bugId": "192477",
      "date": "2007-06-22T18:41:25+02:00",
      "product": "Dali JPA Tools",
      "component": "General",
      "severity": "major"
    }
  ],
  "groupId": "192477",
  "bugId": "192477",
  "date": "2007-06-13T17:57:33+02:00",
  "product": "Dali JPA Tools",
  "component": "General",
  "severity": "major"
}