{
  "comments": [
    "3.3 RC2\n\nIn the variables view, on a local variable of type \u0027long\u0027 I invoked \u0027New Detail Formatter...\u0027. Nothing happens. Log shows:\n\njava.lang.NullPointerException\n\tat org.eclipse.jdt.internal.debug.ui.actions.NewDetailFormatterAction.run(NewDetailFormatterAction.java:34)\n\tat org.eclipse.jdt.internal.debug.ui.actions.ObjectActionDelegate.runWithEvent(ObjectActionDelegate.java:96)\n\tat org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:246)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:545)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:402)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3682)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3293)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353)\n\tat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219)",
    "If you are talking about a \u0027long\u0027 java primitive, the New Detail Formatter command should not be available in the context menu.  If this is the case, can you put up a screenshot of the menu command showing up on a long and post some more information about your workspace.\n\nIf you are talking about a java.land.Long object, I can open up the detail formatter dialog without issue.  If this is what is causing the problem, I\u0027ll need more info about your test case to reproduce.",
    "Looking more closely at the code, I see how it could be reproduced.  Very rarely, it is possible to open up a context menu with no selection.  This case is not handled by the new detail formatter action.\n\nI will write a patch, to update the javadoc on the getCurrentSelection method and put a null check in the action.  Alternatively, it might be better to pass an empty selection rather than a null when nothing is selected.",
    "Created an attachment (id\u003d69278)\nPatch\n\nPatch adds proper null check to NewDetailFormatterAction and RemoveDetailFormatterAction.  Updates javadoc for getCurrentSelection() to explicitly state that it can return null if the active page cannot be resolved.",
    "Pretty simple change, so I think it is worth putting in for RC3.  Darin and Sam, please review.  Martin, you are welcome to review it as well.",
    "+1",
    "+1... but  I do not have the permission to JDT project to apply this patch.",
    "Applied patch (with updated copyrights).",
    "Verified."
  ],
  "commentCreationDates": [
    "2007-05-30T09:39:24+02:00",
    "2007-05-30T15:49:04+02:00",
    "2007-05-30T15:52:50+02:00",
    "2007-05-30T16:04:36+02:00",
    "2007-05-30T16:08:50+02:00",
    "2007-05-30T16:18:42+02:00",
    "2007-05-30T17:39:01+02:00",
    "2007-05-30T17:49:27+02:00",
    "2007-06-01T16:43:26+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.debug.ui.actions.NewDetailFormatterAction.run",
          "source": "NewDetailFormatterAction.java:34"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.actions.ObjectActionDelegate.runWithEvent",
          "source": "ObjectActionDelegate.java:96"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:246"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:545"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:490"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:402"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3682"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3293"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2389"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2353"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2219"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "189845",
      "date": "2007-05-30T09:39:24+02:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "189845",
  "bugId": "189845",
  "date": "2007-05-30T09:39:24+02:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "normal"
}