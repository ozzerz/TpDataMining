{
  "comments": [
    "I have downloaded the Motif library and the OpenGL examples from\nhttp://dev.eclipse.org/viewcvs/index.cgi/~checkout~/platform-swt-home/opengl/opengl.html\n\nI checked out the org.eclipse.swt.opengl module from CVS.\n\nI pieced together the sources for the gtk+ bindings from the CVS module, so that\nI have both the .jar files and the .so files.\n\nI then used\n---\nLD_LIBRARY_PATH\u003d. \\\njava \\\n-debug \\\n-Djava.library.path\u003dplugins/org.eclipse.swt.motif_2.1.1/os/linux/x86:plugins/org.eclipse.swt.opengl.motif_2.1.0/os/linux/x86\n\\\n-classpath\nplugins/org.eclipse.swt.opengl.examples_2.1.0/openglexamples.jar:plugins/org.eclipse.swt.opengl.motif_2.1.0/ws/motif/opengl.jar:plugins/org.eclipse.swt.motif_2.1.1/ws/motif/swt.jar\n\\\norg.eclipse.swt.opengl.examples.OpenGLExample\n---\nto run the examples with the motif SWT+OpenGL bindings, and\n\n---\nLD_LIBRARY_PATH\u003d. \\\njava \\\n-Djava.library.path\u003dplugins/org.eclipse.swt.gtk_2.1.1/os/linux/x86:plugins/org.eclipse.swt.opengl/gtk/gl_library\n\\\n-classpath\nplugins/org.eclipse.swt.opengl.examples_2.1.0:plugins/org.eclipse.swt.opengl/bin:plugins/org.eclipse.swt.gtk_2.1.1/ws/gtk/swt-pi.jar:plugins/org.eclipse.swt.gtk_2.1.1/ws/gtk/swt.jar\n\\\norg.eclipse.swt.opengl.examples.OpenGLExample\n---\n\nto run the examples with the gtk+motif OpenGL bindings.\n\nI both cases I appear to run into the same problem. The motif error message is\nleast unintelligble:\n---\nX Error of failed request:  BadMatch (invalid parameter attributes)\n  Major opcode of failed request:  144 (GLX)\n  Minor opcode of failed request:  5 (X_GLXMakeCurrent)\n  Serial number of failed request:  608\n  Current serial number in output stream:  608\n---\n\nThis with XFree86 4.3.0, revision r3, running the i830 driver:\nOpenGL renderer string: Mesa DRI Intel(R) 830M 20021115\nOpenGL version string: 1.2 Mesa 4.0.4\n\n\nColor depth is 24bpp, hardware is an IBM ThinkPad X30.\n\nMost other GL apps seem to work (various games, including tuxracer, savage,\nquake, ...). \n\n\nI am fairly confident the correct .so-files for both SWT and OpenGL are loaded;\nI\u0027ve played around with it for a while to get it loading at all.\n\nAny advise on how to proceed with obtaining more information? \n\nIs this a known bug?",
    "It appears that when running in Indirect mode, I get another error:\n---\nException in thread \"main\" org.eclipse.swt.SWTException: Unsupported color depth\n        at org.eclipse.swt.SWT.error(SWT.java:2332)\n        at org.eclipse.swt.SWT.error(SWT.java:2262)\n        at org.eclipse.swt.opengl.GLContext.\u003cinit\u003e(GLContext.java:46)\n        at\norg.eclipse.swt.opengl.examples.OpenGLTab.createOpenGLContext(OpenGLTab.java:47)\n        at\norg.eclipse.swt.opengl.examples.OpenGLTab.createTabFolderPage(OpenGLTab.java:81)\n        at org.eclipse.swt.opengl.examples.OpenGLExample.run(OpenGLExample.java:75)\n        at\norg.eclipse.swt.opengl.examples.OpenGLExample.main(OpenGLExample.java:117)\n\n\nwhich I suppose is a flaw in the i830 driver. ",
    "Thoughts SSQ?\n",
    "Try setting the debug mode, so that you can get a stack trace for the BadMatch \nproblem.\n\nDevice.DEBUG \u003d true;",
    "I tried adding\nimport org.eclipse.swt.graphics.Device; \nat the top of OpenGLExample.java, then doing Device.DEBUG \u003d true; in main(), to\nno avail (yes, I did set Device.DEBUG _before_ the call to OpenGLExample.run()).\n\nSo I ended up with adding some System.out.println throughout the code, and\nforcing an exception when I figured out where the code stops.\n\nThis is my trace:\n\nOpenGLExample.main()\nOpenGLExample.run()\nOpenGLTab.createTabFolderPage()\nOpenGLTab.createOpenGLContext()\nOpenGLTab.setCurrent()\nGLContext.setCurrent()\n135554320 / 29360243 / 135917512\njava.lang.Exception: It breaks here\n        at org.eclipse.swt.opengl.GLContext.setCurrent(GLContext.java:93)\n        at org.eclipse.swt.opengl.examples.OpenGLTab.setCurrent(OpenGLTab.java:218)\n        at\norg.eclipse.swt.opengl.examples.OpenGLTab.createOpenGLContext(OpenGLTab.java:48)\n        at\norg.eclipse.swt.opengl.examples.OpenGLTab.createTabFolderPage(OpenGLTab.java:81)\n        at org.eclipse.swt.opengl.examples.OpenGLExample.run(OpenGLExample.java:76)\n        at\norg.eclipse.swt.opengl.examples.OpenGLExample.main(OpenGLExample.java:124)\n\nThe line\n135554320 / 29360243 / 135917512\nshows the parameters to GL.glXMakeCurrent in GLContext.setCurrent, that is\ndata.display / data.drawable / handle\n\nFrom looking at the glXMakeCurrent man page, I get to:\n\"BadMatch  is  generated  if  drawable  was  not created with the same X\n screen and visual as ctx.  It is also generated if drawable is None and\n ctx is not NULL.\"\n\nSo it appears this is an instance of the first case. Any further advise on how\nto proceed? In particular, any way to get the Device.DEBUG trick to work properly?\n\n\n",
    "This problem is reproducable with my i845 at work.  Your last comment is\ncorrect, you have to make sure the visuals are actually the same.  I was able to\nfix the problem by asking for a direct-rendered visual.",
    "Fixed in CVS, we now create the drawable ourselves with a suitable visual."
  ],
  "commentCreationDates": [
    "2003-11-14T19:12:53+01:00",
    "2003-11-16T03:17:30+01:00",
    "2003-11-17T14:32:54+01:00",
    "2003-11-17T16:44:24+01:00",
    "2003-11-25T23:59:00+01:00",
    "2005-06-28T04:54:47+02:00",
    "2005-09-17T21:34:20+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Unsupported color depth",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2332"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2262"
        },
        {
          "method": "org.eclipse.swt.opengl.GLContext.\u003cinit\u003e",
          "source": "GLContext.java:46"
        },
        {
          "method": "org.eclipse.swt.opengl.examples.OpenGLTab.createOpenGLContext",
          "source": "OpenGLTab.java:47"
        },
        {
          "method": "org.eclipse.swt.opengl.examples.OpenGLTab.createTabFolderPage",
          "source": "OpenGLTab.java:81"
        },
        {
          "method": "org.eclipse.swt.opengl.examples.OpenGLExample.run",
          "source": "OpenGLExample.java:75"
        },
        {
          "method": "org.eclipse.swt.opengl.examples.OpenGLExample.main",
          "source": "OpenGLExample.java:117"
        }
      ],
      "number": 0,
      "commentIndex": 1,
      "bugId": "46692",
      "date": "2003-11-16T03:17:30+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.Exception",
      "message": "It breaks here",
      "elements": [
        {
          "method": "org.eclipse.swt.opengl.GLContext.setCurrent",
          "source": "GLContext.java:93"
        },
        {
          "method": "org.eclipse.swt.opengl.examples.OpenGLTab.setCurrent",
          "source": "OpenGLTab.java:218"
        },
        {
          "method": "org.eclipse.swt.opengl.examples.OpenGLTab.createOpenGLContext",
          "source": "OpenGLTab.java:48"
        },
        {
          "method": "org.eclipse.swt.opengl.examples.OpenGLTab.createTabFolderPage",
          "source": "OpenGLTab.java:81"
        },
        {
          "method": "org.eclipse.swt.opengl.examples.OpenGLExample.run",
          "source": "OpenGLExample.java:76"
        },
        {
          "method": "org.eclipse.swt.opengl.examples.OpenGLExample.main",
          "source": "OpenGLExample.java:124"
        }
      ],
      "number": 1,
      "commentIndex": 4,
      "bugId": "46692",
      "date": "2003-11-25T23:59:00+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    }
  ],
  "groupId": "46692",
  "bugId": "46692",
  "date": "2003-11-14T19:12:53+01:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "normal"
}