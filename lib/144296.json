{
  "comments": [
    "I checked out the R1_0_M3_BRANCH to experiment with building EPF on my Mac OS X system.  I only got as far as trying to create a new method library.  At that point, I got an error dialog, saying:\n\n\"IUPL0300E: Unable to open the specified method library.\n\nReason:\nThe selected method library folder is invalid, does not exist, or you do not have the proper permission to access it.\n\nClick OK to select another library folder.\"\n\nI went and looked at the directory in which it attempted to create the library; it was created correctly, is empty, and I have read/write/execute permissions on it.\n\nThe following exception was logged to the console.\n\nMultiFileResourceSetImpl.cleanUp(): removed resources: []\norg.eclipse.epf.persistence.MultiFileIOException: Could not rename \u0027/tmp/EPF/_di6kcO8-Edql0tBiwE3BCwnew_diJvcO8-Edql0tBiwE3BCw\u0027 to \u0027/Users/jhoward/EPF/Method Libraries/BUP/library.xmi\u0027\n    at org.eclipse.epf.persistence.MultiFileXMIResourceImpl.commit(MultiFileXMIResourceImpl.java:915)\n    at org.eclipse.epf.persistence.MethodLibraryPersister$FailSafePersister.commit(MethodLibraryPersister.java:648)\n    at org.eclipse.epf.persistence.MultiFileResourceSetImpl.save(MultiFileResourceSetImpl.java:1100)\n    at org.eclipse.epf.persistence.MultiFileResourceSetImpl.save(MultiFileResourceSetImpl.java:979)\n    at org.eclipse.epf.library.util.ModelStorage.newLibrary(ModelStorage.java:71)\n    at org.eclipse.epf.library.services.LibraryProcessor.newLibrary(LibraryProcessor.java:934)\n    at org.eclipse.epf.library.ui.LibraryUIManager.createLibrary(LibraryUIManager.java:346)\n    at org.eclipse.epf.library.ui.LibraryUIManager.promptForMethodLibrary(LibraryUIManager.java:168)\n    at org.eclipse.epf.authoring.ui.AuthoringUIPlugin.start(AuthoringUIPlugin.java:71)\n    at org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run(BundleContextImpl.java:995)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:989)\n    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:970)\n    at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:317)\n    at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:256)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.preFindLocalClass(EclipseLazyStarter.java:86)\n    at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:409)\n    at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:188)\n    at org.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass(BundleLoader.java:339)\n    at org.eclipse.osgi.framework.internal.core.SingleSourcePackage.loadClass(SingleSourcePackage.java:37)\n    at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:388)\n    at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:352)\n    at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:83)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:251)\n    at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319)\n    at org.eclipse.epf.rcp.MainWorkbenchAdvisor.getInitialWindowPerspectiveId(MainWorkbenchAdvisor.java:115)\n    at org.eclipse.ui.internal.Workbench.getDefaultPerspectiveId(Workbench.java:2351)\n    at org.eclipse.ui.internal.registry.PerspectiveRegistry.verifyDefaultPerspective(PerspectiveRegistry.java:625)\n    at org.eclipse.ui.internal.registry.PerspectiveRegistry.load(PerspectiveRegistry.java:405)\n    at org.eclipse.ui.internal.WorkbenchPlugin.getPerspectiveRegistry(WorkbenchPlugin.java:438)\n    at org.eclipse.ui.internal.Workbench.getPerspectiveRegistry(Workbench.java:952)\n    at org.eclipse.ui.internal.Workbench.doOpenFirstTimeWindow(Workbench.java:1438)\n    at org.eclipse.ui.internal.Workbench.openFirstTimeWindow(Workbench.java:1388)\n    at org.eclipse.ui.internal.WorkbenchConfigurer.openFirstTimeWindow(WorkbenchConfigurer.java:190)\n    at org.eclipse.ui.application.WorkbenchAdvisor.openWindows(WorkbenchAdvisor.java:708)\n    at org.eclipse.ui.internal.Workbench.init(Workbench.java:1085)\n    at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1847)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n    at org.eclipse.epf.rcp.MainApplication.run(MainApplication.java:52)\n    at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:585)\n    at org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n    at org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n    at org.eclipse.core.launcher.Main.run(Main.java:977)\n    at org.eclipse.core.launcher.Main.main(Main.java:952)\n\n\nThe call that failed was a renameTo call just above where the exception is thrown.  As I understand it, File.renameTo has some odd platform dependant behavior.  In this case, it appears that the renameTo method fails under OS X when the destination is on a different partition than the source.  In this case, my /tmp directory is on a different partition than my /Users directory.",
    "Created an attachment (id\u003d42893)\nProposed patch to fix this bug\n\nI put together a patch to fix this bug.  It\u0027s a little brute force; for each class that uses renameTo, I created a private static method called renameFile that manually copies a source file to a destination file and deletes the source file.  If I knew the source better, I\u0027d\u0027ve tried to find a single utility API to put the renameFile method in rather than duplicating the code.",
    "Created an attachment (id\u003d49134)\npatch to fix\n\nPatch based on Jeffrey Howard\u0027s patch.  Puts the renameFile method into org.eclipse.epf.common.utils.FileUtil.  Attempts File.renameTo first, and if that fails, attempt to copy the file and delete the original.\n",
    "Created an attachment (id\u003d49230)\npatch for fix v2\n\nSame patch as before, except utility method is called FileUtil.moveFile(..).  Added some javadoc for the method.",
    "patch applied, please verify.",
    "For the record, this defect affected Linux as well if the system was set up so that the /tmp directory was on a different partition than the Method Library.",
    "Tried on x86 environment with EPF 1.0 build, cannot reproduce it, bug is fixed.\nHaven\u0027t tried on MAC OS X system.",
    "v,closed."
  ],
  "commentCreationDates": [
    "2006-05-29T21:24:07+02:00",
    "2006-05-29T22:24:41+02:00",
    "2006-08-31T08:23:28+02:00",
    "2006-09-01T00:33:31+02:00",
    "2006-09-01T07:40:28+02:00",
    "2006-09-07T22:08:55+02:00",
    "2006-10-11T07:19:15+02:00",
    "2006-10-11T19:25:17+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.epf.persistence.MultiFileIOException",
      "message": "Could not rename \u0027/tmp/EPF/_di6kcO8-Edql0tBiwE3BCwnew_diJvcO8-Edql0tBiwE3BCw\u0027 to \u0027/Users/jhoward/EPF/Method Libraries/BUP/library.xmi\u0027",
      "elements": [
        {
          "method": "org.eclipse.epf.persistence.MultiFileXMIResourceImpl.commit",
          "source": "MultiFileXMIResourceImpl.java:915"
        },
        {
          "method": "org.eclipse.epf.persistence.MethodLibraryPersister$FailSafePersister.commit",
          "source": "MethodLibraryPersister.java:648"
        },
        {
          "method": "org.eclipse.epf.persistence.MultiFileResourceSetImpl.save",
          "source": "MultiFileResourceSetImpl.java:1100"
        },
        {
          "method": "org.eclipse.epf.persistence.MultiFileResourceSetImpl.save",
          "source": "MultiFileResourceSetImpl.java:979"
        },
        {
          "method": "org.eclipse.epf.library.util.ModelStorage.newLibrary",
          "source": "ModelStorage.java:71"
        },
        {
          "method": "org.eclipse.epf.library.services.LibraryProcessor.newLibrary",
          "source": "LibraryProcessor.java:934"
        },
        {
          "method": "org.eclipse.epf.library.ui.LibraryUIManager.createLibrary",
          "source": "LibraryUIManager.java:346"
        },
        {
          "method": "org.eclipse.epf.library.ui.LibraryUIManager.promptForMethodLibrary",
          "source": "LibraryUIManager.java:168"
        },
        {
          "method": "org.eclipse.epf.authoring.ui.AuthoringUIPlugin.start",
          "source": "AuthoringUIPlugin.java:71"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run",
          "source": "BundleContextImpl.java:995"
        },
        {
          "method": "java.security.AccessController.doPrivileged",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator",
          "source": "BundleContextImpl.java:989"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.start",
          "source": "BundleContextImpl.java:970"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleHost.startWorker",
          "source": "BundleHost.java:317"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.AbstractBundle.start",
          "source": "AbstractBundle.java:256"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.preFindLocalClass",
          "source": "EclipseLazyStarter.java:86"
        },
        {
          "method": "org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass",
          "source": "ClasspathManager.java:409"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass",
          "source": "DefaultClassLoader.java:188"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass",
          "source": "BundleLoader.java:339"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.SingleSourcePackage.loadClass",
          "source": "SingleSourcePackage.java:37"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClass",
          "source": "BundleLoader.java:388"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClass",
          "source": "BundleLoader.java:352"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass",
          "source": "DefaultClassLoader.java:83"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:251"
        },
        {
          "method": "java.lang.ClassLoader.loadClassInternal",
          "source": "ClassLoader.java:319"
        },
        {
          "method": "org.eclipse.epf.rcp.MainWorkbenchAdvisor.getInitialWindowPerspectiveId",
          "source": "MainWorkbenchAdvisor.java:115"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.getDefaultPerspectiveId",
          "source": "Workbench.java:2351"
        },
        {
          "method": "org.eclipse.ui.internal.registry.PerspectiveRegistry.verifyDefaultPerspective",
          "source": "PerspectiveRegistry.java:625"
        },
        {
          "method": "org.eclipse.ui.internal.registry.PerspectiveRegistry.load",
          "source": "PerspectiveRegistry.java:405"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPlugin.getPerspectiveRegistry",
          "source": "WorkbenchPlugin.java:438"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.getPerspectiveRegistry",
          "source": "Workbench.java:952"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.doOpenFirstTimeWindow",
          "source": "Workbench.java:1438"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.openFirstTimeWindow",
          "source": "Workbench.java:1388"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchConfigurer.openFirstTimeWindow",
          "source": "WorkbenchConfigurer.java:190"
        },
        {
          "method": "org.eclipse.ui.application.WorkbenchAdvisor.openWindows",
          "source": "WorkbenchAdvisor.java:708"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.init",
          "source": "Workbench.java:1085"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1847"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.epf.rcp.MainApplication.run",
          "source": "MainApplication.java:52"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:280"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "144296",
      "date": "2006-05-29T21:24:07+02:00",
      "product": "EPF",
      "component": "Tool",
      "severity": "blocker"
    }
  ],
  "groupId": "144296",
  "bugId": "144296",
  "date": "2006-05-29T21:24:07+02:00",
  "product": "EPF",
  "component": "Tool",
  "severity": "blocker"
}