{
  "comments": [
    "My project compiles successfully when the Java compiler property \"Unnecessary\ncast or \u0027instanceof\u0027 operation\" is set to ignore.\n\n\nAfter setting this property to warning, Eclipse displays an \"AspectJ Error\"\nmessage box with the message:\n\nClassCastException thrown:\norg.aspectj.org.eclipse.jdt.internal.compiler.ast.CastExpression$1\nReason:\nClassCastException thrown:\norg.aspectj.org.eclipse.jdt.internal.compiler.ast.CastExpression$1\n\n\nThen in the Problems view, I can see the following error:\n\nInternal compiler error\njava.lang.ClassCastException:\norg.aspectj.org.eclipse.jdt.internal.compiler.ast.CastExpression$1\n\tat\norg.aspectj.org.eclipse.jdt.internal.compiler.lookup.MethodBinding.getVisibleBinding(MethodBinding.java:141)\n\tat\norg.aspectj.org.eclipse.jdt.internal.compiler.lookup.Scope.getConstructor(Scope.java:1101)\n\tat\norg.aspectj.org.eclipse.jdt.internal.compiler.ast.CastExpression.checkAlternateBinding(CastExpression.java:399)\n\tat\norg.aspectj.org.eclipse.jdt.internal.compiler.ast.CastExpression.checkNeedForArgumentCasts(CastExpression.java:317)\n\tat\norg.aspectj.org.eclipse.jdt.internal.compiler.ast.AllocationExpression.resolveType(AllocationExpression.java:274)\n\tat\norg.aspectj.org.eclipse.jdt.internal.compiler.ast.LocalDeclaration.resolve(LocalDeclaration.java:189)\n\tat\norg.aspectj.org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolveStatements(AbstractMethodDeclaration.java:385)\n\tat\norg.aspectj.org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.resolveStatements(MethodDeclaration.java:137)\n\tat\norg.aspectj.org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve(AbstractMethodDeclaration.java:363)\n\tat\norg.aspectj.org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:933)\n\tat\norg.aspectj.org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:982)\n\tat\norg.aspectj.org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve(CompilationUnitDeclaration.java:273)\n\tat\norg.aspectj.org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:544)\n\tat\norg.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:365)\n\tat\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:682)\n\tat\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:168)\n\tat\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:102)\n\tat org.aspectj.ajde.internal.CompilerAdapter.compile(CompilerAdapter.java:122)\n\tat\norg.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run(AspectJBuildManager.java:165)\n\n\nI removed code from the class where the internal compiler error occurred while I\nstill got the error.\nThe remaining code looked like:\n\npublic class MyClass\n{\n    private GenericPosition position;\n    private Object object;\n\n    private void myMethod()\n    {\n        InstalledObject io \u003d new InstalledObject((SpecificPosition) position,\nobject);\n    }\n}\n\nWhere:\n - SpecificPosition is a class that implements the interface GenericPosition.\n - The constructor of InstalledObject takes a SpecificPosition as the first\nparameter.\n\nI tried to reproduce this issue in a new small project (my project contains more\nthan 800 classes) without success.",
    "Passing over to compiler",
    "I modified our test system to force -warn:uselessTypeCheck on - it ran all 1700\ntests without showing a problem.  Now I *am* running on a more recent JDT\ncompiler than the one used when this bug was reported - it could have been fixed\nsince this report was filed.  Is it possible to retry this on a more recent AJDT\ndev build (since that will include the new compiler) ?",
    "we haven\u0027t been able to reproduce this with the latest builds, and we haven\u0027t\nseen it in the wild since May, so closing out this report. Please reopen if you\nsee this behaviour again in the future with the latest builds."
  ],
  "commentCreationDates": [
    "2005-03-16T10:27:03+01:00",
    "2005-03-23T13:36:37+01:00",
    "2005-05-12T12:45:49+02:00",
    "2005-08-24T18:25:16+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.CastExpression$1",
      "elements": [
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.lookup.MethodBinding.getVisibleBinding",
          "source": "MethodBinding.java:141"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.lookup.Scope.getConstructor",
          "source": "Scope.java:1101"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.CastExpression.checkAlternateBinding",
          "source": "CastExpression.java:399"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.CastExpression.checkNeedForArgumentCasts",
          "source": "CastExpression.java:317"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.AllocationExpression.resolveType",
          "source": "AllocationExpression.java:274"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.LocalDeclaration.resolve",
          "source": "LocalDeclaration.java:189"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolveStatements",
          "source": "AbstractMethodDeclaration.java:385"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.resolveStatements",
          "source": "MethodDeclaration.java:137"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve",
          "source": "AbstractMethodDeclaration.java:363"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve",
          "source": "TypeDeclaration.java:933"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve",
          "source": "TypeDeclaration.java:982"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve",
          "source": "CompilationUnitDeclaration.java:273"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.process",
          "source": "Compiler.java:544"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:365"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:682"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:168"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBuildManager.java:102"
        },
        {
          "method": "org.aspectj.ajde.internal.CompilerAdapter.compile",
          "source": "CompilerAdapter.java:122"
        },
        {
          "method": "org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run",
          "source": "AspectJBuildManager.java:165"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "88153",
      "date": "2005-03-16T10:27:03+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "major"
    }
  ],
  "groupId": "88153",
  "bugId": "88153",
  "date": "2005-03-16T10:27:03+01:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "major"
}