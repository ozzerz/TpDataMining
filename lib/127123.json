{
  "comments": [
    "Mylar 0.4.8, Eclipse 3.1.2, Bugzilla 2.18:\n\nSteps to reproduce:\n\n- Add a bugzilla repository (server/user/password).\n- Add a few existing repository tasks.\n- Exit Eclipse and run again.\n- Select the bugzilla repository you previously added, open its properties.\n- The server remains, but user and password are missing.\n- Select any task you added previously, and Synchronize with repository.\n- The task description will be like: \"123: \" (perhaps it should indicate a error on synchronize???)",
    "The only time Mylar should forget the repository setting is when your Eclipse configuration changes (e.g. you install a new Eclipse, and point it at your old workspace).  This is because the username and password are stored securely in the Eclipses keyring.  We could change this to only forget the password, and prompt you to re-enter as the CVS support does.  But in the meantime, could you let me know if you installed a new Eclipse?",
    "Hi Mik,\n\nNo, I have not made a new installation. However, I work with at least 5 different workspaces (I use mylar in all of them), and switch between them while working in different projects.\n\nBut I don\u0027t move or rename them. I just switch workspaces.\n\nThe fact of just closing Eclipse and opening again (in the same workspace) is enough to make it forget the server settings.\n\nI will try to reproduce in a clean installation and will give you feedback soon.",
    "Some good and bad news:\n\nGood - I tried a fresh installation, and it worked ;-)\n\nBad - So, it must be something wrong in my workspace(s)...\n\nI tried the following:\n\n1 - Delete my task repository: close and reopen Eclipse, the bugzilla repository is restored.\n2 - Delete all my tasks and the bugzilla repository: close and reopen Eclipse, again, the bugzilla repository is restored.\n3 - Change the Server address: it creates a new bugzilla repository with the new settings and mantain the old... The weirdest thing in this case is that, if I change user/password on the 2 repositories, close and reopen Eclipse, the new repository is remembered, but in the old, it is forgot!!!\n\nCan you tell me where (what file) this information (task repository list) is stored? I can try to delete it and see what happens...\n\nOne more thing: The Mylar Task Data import wizard is not appearing on the import wizard (only the export), in 0.4.8, Eclipse 3.1.2, so because of my test n. 2, I cannot restore it... (I will open another bug report for this).",
    "Sorry, disconsider my last paragraph... I thought mylar had a import task data wizard, but last I saw bug#126271...\n\nBut, I could be nice to have... ;-)",
    "There is something wierd going on here, and I need to take a closer to try and duplicate the failure before assuming that it\u0027s your workspace.  The repository settings themselves are stored in plug-in prefs which are hard to read.\n\nAlso, I\u0027ve bumped the priority of the import bug, but for now note that you can simply close eclipse, and copy over the contents of the .mylar directory: http://www.eclipse.org/mylar/doc/faq.php#tasklist-blank\n\n",
    "(In reply to comment #5)\n\u003e There is something wierd going on here, and I need to take a closer to try and\n\u003e duplicate the failure before assuming that it\u0027s your workspace.  The repository\n\u003e settings themselves are stored in plug-in prefs which are hard to read.\n\u003e \n\nIs there any test I can do to help?\n\nI tested the same installation I use to work, in a new workspace. I created the bugzilla repository, close, reopen Eclipse, and the bug does not happen.\n\nSo, I conclude, there should be something in my existing workspaces that make this bug to happen.\n\nI should also note that I\u0027ve been using mylar since version 0.4.2, upgrading to each version until 0.4.8.\n\nPerhaps something went wrong in the task repository migration from 0.4.6 (http://www.eclipse.org/mylar/doc/faq.php#upgrading-repositories)?\n\nAnother thing I noted is there are some entries in the error log view, which appear when shutdown, but I think it is not about this bug:\n\norg.eclipse.swt.SWTException: Widget is disposed\nat org.eclipse.swt.SWT.error(SWT.java:2942)\nat org.eclipse.swt.SWT.error(SWT.java:2865)\nat org.eclipse.swt.SWT.error(SWT.java:2836)\nat org.eclipse.swt.widgets.Display.error(Display.java:915)\nat org.eclipse.swt.widgets.Display.checkDevice(Display.java:620)\nat org.eclipse.swt.widgets.Display.getActiveShell(Display.java:1042)\nat org.eclipse.ui.internal.Workbench.getActiveWorkbenchWindow(Workbench.java:735)\nat org.eclipse.mylar.internal.tasklist.MylarTaskListPlugin.stop(MylarTaskListPlugin.java:383)\nat org.eclipse.osgi.framework.internal.core.BundleContextImpl$3.run(BundleContextImpl.java:1035)\nat java.security.AccessController.doPrivileged(Native Method)\nat org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:1031)\nat org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:397)\nat org.eclipse.osgi.framework.internal.core.AbstractBundle.stop(AbstractBundle.java:408)\nat org.eclipse.core.runtime.internal.adaptor.BundleStopper.basicStopBundles(BundleStopper.java:82)\nat org.eclipse.core.runtime.internal.adaptor.BundleStopper.stopBundles(BundleStopper.java:72)\nat org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping(EclipseAdaptor.java:766)\nat org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:528)\nat org.eclipse.osgi.framework.internal.core.SystemBundle$1.run(SystemBundle.java:171)\nat java.lang.Thread.run(Thread.java:595)\n\n\n\u003e Also, I\u0027ve bumped the priority of the import bug, but for now note that you can\n\u003e simply close eclipse, and copy over the contents of the .mylar directory:\n\u003e http://www.eclipse.org/mylar/doc/faq.php#tasklist-blank\n\u003e \n\nI also figured out later how to restore the task list examing the exported contents. Thanks.",
    "You\u0027re probably right that this is due to the multiple repository migration, so I\u0027ll look into that.  Yup, that stack trace is unrelated and shouldn\u0027t cause any bad behavior, but I just added a guard against it.",
    "Another test:\n\n- I deleted all the directories /org.eclipse.mylar.* in /workspace/.metadata (NOT ./mylar).\n- Started Eclipse.\n- Did exactly the steps described in http://www.eclipse.org/mylar/doc/faq.php#upgrading-repositories.\n- On restart, this bug keeps happening...\n\nAnother thing to note is that after I deleted the directories and started Eclipse, my bugzilla repository came automatically (no need to add). This happened when I first upgraded to 0.4.6 too.",
    "Thanks for all the details, it helped me track this down.  The repository will now automatically pop up if Mylar thinks it needs to migrate you, but it will only do this once so the bug should be resolved.  Could I get you to try out a dev build that I\u0027ll post later today to verify?\n\nBtw, you also tripped over another bug where changing the repository URL adds a new one.  That was fixed last week.",
    "(In reply to comment #9)\n\u003e Thanks for all the details, it helped me track this down.  The repository will\n\u003e now automatically pop up if Mylar thinks it needs to migrate you, but it will\n\u003e only do this once so the bug should be resolved.  Could I get you to try out a\n\u003e dev build that I\u0027ll post later today to verify?\n\u003e \n\nSure! BTW, I intend to move to 3.2 as soon as M5 is released.",
    "Verified, it works!\n\nI tested with Eclipse 3.2 M5 + Mylar 0.4.8.v20060219-1900.\n\nAs always happens, when I opened at first time, the task repositories view came with my bugzilla repository automatically filled, but without username/password.\n\nI filled user/pass, validated server, ok.\n\nRestarted Eclipse, and now the configuration was successfully restored.\n\nI will test with Eclipse 3.1 + my other workspaces when the next version be released.\n\nThanks."
  ],
  "commentCreationDates": [
    "2006-02-09T18:21:27+01:00",
    "2006-02-09T18:36:25+01:00",
    "2006-02-09T18:51:48+01:00",
    "2006-02-13T21:28:32+01:00",
    "2006-02-13T21:34:23+01:00",
    "2006-02-14T16:20:09+01:00",
    "2006-02-14T17:18:36+01:00",
    "2006-02-14T18:01:04+01:00",
    "2006-02-15T18:35:28+01:00",
    "2006-02-16T15:53:11+01:00",
    "2006-02-17T21:49:24+01:00",
    "2006-02-20T15:57:54+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Widget is disposed",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2942"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2865"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2836"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.error",
          "source": "Display.java:915"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.checkDevice",
          "source": "Display.java:620"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.getActiveShell",
          "source": "Display.java:1042"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.getActiveWorkbenchWindow",
          "source": "Workbench.java:735"
        },
        {
          "method": "org.eclipse.mylar.internal.tasklist.MylarTaskListPlugin.stop",
          "source": "MylarTaskListPlugin.java:383"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl$3.run",
          "source": "BundleContextImpl.java:1035"
        },
        {
          "method": "java.security.AccessController.doPrivileged",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop",
          "source": "BundleContextImpl.java:1031"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker",
          "source": "BundleHost.java:397"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.AbstractBundle.stop",
          "source": "AbstractBundle.java:408"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.BundleStopper.basicStopBundles",
          "source": "BundleStopper.java:82"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.BundleStopper.stopBundles",
          "source": "BundleStopper.java:72"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseAdaptor.frameworkStopping",
          "source": "EclipseAdaptor.java:766"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.Framework.shutdown",
          "source": "Framework.java:528"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.SystemBundle$1.run",
          "source": "SystemBundle.java:171"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:595"
        }
      ],
      "number": 0,
      "commentIndex": 6,
      "bugId": "127123",
      "date": "2006-02-14T17:18:36+01:00",
      "product": "Mylyn",
      "component": "Bugzilla",
      "severity": "normal"
    }
  ],
  "groupId": "127123",
  "bugId": "127123",
  "date": "2006-02-09T18:21:27+01:00",
  "product": "Mylyn",
  "component": "Bugzilla",
  "severity": "normal"
}