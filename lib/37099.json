{
  "comments": [
    "File search for Arabic text either generates \"Problems encountered during text \nsearch\" or works correctly but messes up the word ordering when highlighting it.",
    "Build ID?\n\nIn the summary you state it does not always work but the description it never\nworks (either error dialog or messing up when highlighting). Which one is true?\n\nCan you please give an example for each of the two problems you reported?\n\nAre there exceptions written to .log in the case where you get \"Problems\nencountered...\"?\n",
    "The Build I am using is I20030326 (current stable build).\nI tested the two methods of search, using CTRL+?F? and file search from the \nSearch menu. They produced different results.\n\nWhen using CTRL+?F? to search for Arabic text, it finds the right word and it \nhighlights it. However, due to a problem with highlighting Arabic text (Bug \n37103), the text is not correctly highlighted.\n\nWhen working with File Search from the Search menu and attempting to search for \nArabic text, a dialog box appears containing ?Problems encountered during text \nsearch?. This only happens when the file to search contains Arabic text.\n\nHere is the exception reported in the .log file\n\nsun.io.MalformedInputException\n\tat sun.io.ByteToCharUTF8.convert(ByteToCharUTF8.java(Compiled Code))\n\tat java.io.InputStreamReader.convertInto(InputStreamReader.java:152)\n\tat java.io.InputStreamReader.fill(InputStreamReader.java:201)\n\tat java.io.InputStreamReader.read(InputStreamReader.java:264)\n\tat org.eclipse.jdt.internal.compiler.util.Util.getInputStreamAsCharArray\n(Util.java:270)\n\tat org.eclipse.jdt.internal.core.Util.getResourceContentsAsCharArray\n(Util.java:631)\n\tat org.eclipse.jdt.internal.core.Util.getResourceContentsAsCharArray\n(Util.java:620)\n\tat org.eclipse.jdt.internal.core.CompilationUnit.openBuffer\n(CompilationUnit.java:671)\n\tat org.eclipse.jdt.internal.core.Openable.openWhenClosed\n(Openable.java:393)\n\tat org.eclipse.jdt.internal.core.JavaElement.openHierarchy\n(JavaElement.java:490)\n\tat org.eclipse.jdt.internal.core.JavaElement.getElementInfo\n(JavaElement.java:312)\n\tat org.eclipse.jdt.internal.core.JavaElement.getChildren\n(JavaElement.java:254)\n\tat org.eclipse.jdt.internal.core.JavaElement.getChildrenOfType\n(JavaElement.java:263)\n\tat org.eclipse.jdt.internal.core.CompilationUnit.getTypes\n(CompilationUnit.java:522)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.util.JavaElementUtil.getMainType\n(JavaElementUtil.java:98)\n\tat org.eclipse.jdt.ui.actions.UseSupertypeAction.canEnable\n(UseSupertypeAction.java:125)\n\tat org.eclipse.jdt.ui.actions.UseSupertypeAction.selectionChanged\n(UseSupertypeAction.java:77)\n\tat \norg.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchSelectionChanged\n(SelectionDispatchAction.java:181)\n\tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.selectionChanged\n(SelectionDispatchAction.java:176)\n\tat org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:159)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java(Inlined Compiled Code))\n\tat org.eclipse.core.runtime.Platform.run(Platform.java(Compiled Code))\n\tat org.eclipse.jface.viewers.Viewer.fireSelectionChanged\n(Viewer.java:157)\n\tat org.eclipse.jface.viewers.StructuredViewer.updateSelection\n(StructuredViewer.java:1290)\n\tat org.eclipse.jface.viewers.StructuredViewer.handleDoubleSelect\n(StructuredViewer.java:588)\n\tat org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected\n(StructuredViewer.java:684)\n\tat org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent\n(OpenStrategy.java:187)\n\tat org.eclipse.jface.util.OpenStrategy.access$0(OpenStrategy.java:184)\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent\n(OpenStrategy.java:231)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined \nCompiled Code))\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java\n(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java\n(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1385)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:845)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:291)\n\tat org.eclipse.core.launcher.Main.run(Main.java:747)\n\tat org.eclipse.core.launcher.Main.main(Main.java:583)\n",
    "\u003eI20030326 (current stable build).\nEven though this has no effect on this PR you should switch to R2.1\n\nWhat is the current selection at the time you select \"File...\" from the main\n\"Search\" menu (I assume that\u0027s what you do)? Can you provide that file plus the\nselection?\n\nIs the attached trace written to the .log when you select \"Search\" -\u003e \"File...\"?\nTo me it looks totally unrelated to search: the exception comes from JCore when\nthe UseSuperTypeAction tries to update its enable state.\n",
    "Created an attachment (id\u003d4809)\nTest case for Search -\u003e File...\n",
    "The current selection is one file or more (I tried both) where any of the files \ncontains Arabic text.\n\nThe attached trace is the only change that gets reported in the .log file, that \nis why I assume it is related. Also, it shows an exception at converting from \nByte to UTF 8, so most probably it is related to the fact that there is Arabic \ntext. \n\nI have attached the file I select. It is saved under Cp1256 encoding (the JRE \ndefault Arabic encoding).",
    "\u003eThe current selection is one file or more (I tried both) where any of the files \n\u003econtains Arabic text.\nJust to understand that we spoke of the same. What you do is\n1. Select 1 or 2 file in the Navigator(?)\n2. From workbench window select menu Search\u003eFile...\n\nIs that correct? If not, can you provide the steps please.\nThe exception happens everytime you select the file? If so we have to log a\nseparate bug report against the UseSuperTypeAction.\n\n\n\n\n",
    "What happens exactly is that, from the Package Explorer view, I select one or \nmore files (where one of them is my Arabic file) and then from the workbench \nwindow I select Search\u003eFile? and in the ?Scope? area I choose ?Selected \nResources?.\n\nOne more thing I found out, this only takes place when the locale is set to \nArabic with UTF-8 encoding. If it is set to ISO-8859-6, it works fine. But this \nis still a limitation.\n\nThe exception turned out to be linked to saving the file that contains Arabic \ntext in UTF 8 encoding not to the Search procedure. Therefore, nothing gets \nreported in the .log file when the Search error occurs.",
    "OK thanks for the input. I will hunt down the search bug. Can you please file a\nnew bug against JDT-Text for the save problem.\n",
    "Bug 37375 opened for the save problem.",
    "We should check wether this is still a problem.",
    "please ropen if you still see this"
  ],
  "commentCreationDates": [
    "2003-04-30T19:06:22+02:00",
    "2003-05-02T09:46:23+02:00",
    "2003-05-06T13:39:49+02:00",
    "2003-05-06T13:57:32+02:00",
    "2003-05-07T12:29:20+02:00",
    "2003-05-07T12:30:33+02:00",
    "2003-05-07T13:39:40+02:00",
    "2003-05-08T10:47:03+02:00",
    "2003-05-08T10:58:27+02:00",
    "2003-05-08T11:30:29+02:00",
    "2004-06-29T10:52:28+02:00",
    "2005-05-25T19:14:28+02:00"
  ],
  "traces": [
    {
      "exceptionType": "sun.io.MalformedInputException",
      "elements": [
        {
          "method": "sun.io.ByteToCharUTF8.convert",
          "source": "ByteToCharUTF8.java(Compiled Code)"
        },
        {
          "method": "java.io.InputStreamReader.convertInto",
          "source": "InputStreamReader.java:152"
        },
        {
          "method": "java.io.InputStreamReader.fill",
          "source": "InputStreamReader.java:201"
        },
        {
          "method": "java.io.InputStreamReader.read",
          "source": "InputStreamReader.java:264"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.util.Util.getInputStreamAsCharArray",
          "source": "Util.java:270"
        },
        {
          "method": "org.eclipse.jdt.internal.core.Util.getResourceContentsAsCharArray",
          "source": "Util.java:631"
        },
        {
          "method": "org.eclipse.jdt.internal.core.Util.getResourceContentsAsCharArray",
          "source": "Util.java:620"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.openBuffer",
          "source": "CompilationUnit.java:671"
        },
        {
          "method": "org.eclipse.jdt.internal.core.Openable.openWhenClosed",
          "source": "Openable.java:393"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaElement.openHierarchy",
          "source": "JavaElement.java:490"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaElement.getElementInfo",
          "source": "JavaElement.java:312"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaElement.getChildren",
          "source": "JavaElement.java:254"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaElement.getChildrenOfType",
          "source": "JavaElement.java:263"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.getTypes",
          "source": "CompilationUnit.java:522"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.util.JavaElementUtil.getMainType",
          "source": "JavaElementUtil.java:98"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.UseSupertypeAction.canEnable",
          "source": "UseSupertypeAction.java:125"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.UseSupertypeAction.selectionChanged",
          "source": "UseSupertypeAction.java:77"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchSelectionChanged",
          "source": "SelectionDispatchAction.java:181"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.selectionChanged",
          "source": "SelectionDispatchAction.java:176"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer$2.run",
          "source": "Viewer.java:159"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java(Inlined Compiled Code)"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer.fireSelectionChanged",
          "source": "Viewer.java:157"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateSelection",
          "source": "StructuredViewer.java:1290"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleDoubleSelect",
          "source": "StructuredViewer.java:588"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected",
          "source": "StructuredViewer.java:684"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent",
          "source": "OpenStrategy.java:187"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$0",
          "source": "OpenStrategy.java:184"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "OpenStrategy.java:231"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java(Inlined  Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1385"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:291"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:747"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:583"
        }
      ],
      "number": 0,
      "commentIndex": 2,
      "bugId": "37099",
      "date": "2003-05-06T13:39:49+02:00",
      "product": "Platform",
      "component": "Search",
      "severity": "normal"
    }
  ],
  "groupId": "37099",
  "bugId": "37099",
  "date": "2003-04-30T19:06:22+02:00",
  "product": "Platform",
  "component": "Search",
  "severity": "normal"
}