{
  "comments": [
    "Open a build file with folding enabled, select all, start typing\nget this stack trace:\n\nError Dec 15, 2004 12:50:11.749 Error logged from Ant UI: \norg.eclipse.jface.text.BadLocationException\n\tat org.eclipse.jface.text.AbstractLineTracker.getLineNumberOfOffset(AbstractLineTracker.java:205)\n\tat org.eclipse.jface.text.AbstractDocument.getLineOfOffset(AbstractDocument.java:813)\n\tat \norg.eclipse.ant.internal.ui.editor.text.AntFoldingStructureProvider.addFoldingRegions(AntFoldingStructu\nreProvider.java:113)\n\tat \norg.eclipse.ant.internal.ui.editor.text.AntFoldingStructureProvider.updateFoldingRegions(AntFoldingStru\nctureProvider.java:97)\n\tat org.eclipse.ant.internal.ui.editor.AntEditor$2.antModelChanged(AntEditor.java:331)\n\tat org.eclipse.ant.internal.ui.model.AntModelCore.notifyAntModelListeners(AntModelCore.java:51)\n\tat org.eclipse.ant.internal.ui.model.AntModel.reconcile(AntModel.java:235)\n\tat \norg.eclipse.ant.internal.ui.editor.text.XMLReconcilingStrategy.internalReconcile(XMLReconcilingStrategy.\njava:47)\n\tat \norg.eclipse.ant.internal.ui.editor.text.XMLReconcilingStrategy.reconcile(XMLReconcilingStrategy.java:61)\n\tat org.eclipse.jface.text.reconciler.MonoReconciler.process(MonoReconciler.java:75)\n\tat org.eclipse.ant.internal.ui.editor.text.NotifyingReconciler.process(NotifyingReconciler.java:39)\n\tat \norg.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:204)",
    "I also get:\norg.eclipse.jface.text.BadLocationException\n\tat org.eclipse.jface.text.AbstractDocument.addPosition\n(AbstractDocument.java:331)\n\tat org.eclipse.jface.text.AbstractDocument.addPosition\n(AbstractDocument.java:348)\n\tat org.eclipse.jface.text.source.AnnotationModel.addPosition\n(AnnotationModel.java:315)\n\tat org.eclipse.jface.text.source.AnnotationModel.addAnnotation\n(AnnotationModel.java:278)\n\tat \norg.eclipse.ant.internal.ui.editor.text.AntAnnotationModel.endReporting\n(AntAnnotationModel.java:106)\n\tat org.eclipse.ant.internal.ui.model.AntModel.endReporting\n(AntModel.java:941)\n\tat org.eclipse.ant.internal.ui.model.AntModel.parseDocument\n(AntModel.java:285)\n\tat org.eclipse.ant.internal.ui.model.AntModel.reconcile\n(AntModel.java:232)\n\tat \norg.eclipse.ant.internal.ui.editor.text.XMLReconcilingStrategy.internalReconcil\ne(XMLReconcilingStrategy.java:47)\n\tat \norg.eclipse.ant.internal.ui.editor.text.XMLReconcilingStrategy.reconcile\n(XMLReconcilingStrategy.java:61)\n\tat org.eclipse.jface.text.reconciler.MonoReconciler.process\n(MonoReconciler.java:75)\n\tat org.eclipse.ant.internal.ui.editor.text.NotifyingReconciler.process\n(NotifyingReconciler.java:39)\n\tat \norg.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run\n(AbstractReconciler.java:204)\n\nWill investigate for M4 but if not trivial fix will defer to M5 as other than \nthe error logs there appears to be no ill side effects.",
    "Good find. This has been around for some time :-(\n\nFor our pseudo-incremental parsing of the Ant buildfile we were not handling \nthe case where the project length and offset were not set to the new values. \nIn this error case no new values were set, old values were used --\u003e big \ntrouble.\n\nChanges to AntProjectNode and a slight change to AntFoldingStructure provider \nto shortcut the computation when the project node has no offset or length.",
    "Please verify.",
    "verified"
  ],
  "commentCreationDates": [
    "2004-12-15T18:53:00+01:00",
    "2004-12-15T18:59:48+01:00",
    "2004-12-15T23:38:11+01:00",
    "2004-12-15T23:38:29+01:00",
    "2004-12-16T17:19:20+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.jface.text.BadLocationException",
      "elements": [
        {
          "method": "org.eclipse.jface.text.AbstractLineTracker.getLineNumberOfOffset",
          "source": "AbstractLineTracker.java:205"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.getLineOfOffset",
          "source": "AbstractDocument.java:813"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.text.AntFoldingStructureProvider.addFoldingRegions",
          "source": "AntFoldingStructu reProvider.java:113"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.text.AntFoldingStructureProvider.updateFoldingRegions",
          "source": "AntFoldingStru ctureProvider.java:97"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.AntEditor$2.antModelChanged",
          "source": "AntEditor.java:331"
        },
        {
          "method": "org.eclipse.ant.internal.ui.model.AntModelCore.notifyAntModelListeners",
          "source": "AntModelCore.java:51"
        },
        {
          "method": "org.eclipse.ant.internal.ui.model.AntModel.reconcile",
          "source": "AntModel.java:235"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.text.XMLReconcilingStrategy.internalReconcile",
          "source": "XMLReconcilingStrategy. java:47"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.text.XMLReconcilingStrategy.reconcile",
          "source": "XMLReconcilingStrategy.java:61"
        },
        {
          "method": "org.eclipse.jface.text.reconciler.MonoReconciler.process",
          "source": "MonoReconciler.java:75"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.text.NotifyingReconciler.process",
          "source": "NotifyingReconciler.java:39"
        },
        {
          "method": "org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run",
          "source": "AbstractReconciler.java:204"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "81274",
      "date": "2004-12-15T18:53:00+01:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    },
    {
      "exceptionType": "org.eclipse.jface.text.BadLocationException",
      "elements": [
        {
          "method": "org.eclipse.jface.text.AbstractDocument.addPosition",
          "source": "AbstractDocument.java:331"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.addPosition",
          "source": "AbstractDocument.java:348"
        },
        {
          "method": "org.eclipse.jface.text.source.AnnotationModel.addPosition",
          "source": "AnnotationModel.java:315"
        },
        {
          "method": "org.eclipse.jface.text.source.AnnotationModel.addAnnotation",
          "source": "AnnotationModel.java:278"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.text.AntAnnotationModel.endReporting",
          "source": "AntAnnotationModel.java:106"
        },
        {
          "method": "org.eclipse.ant.internal.ui.model.AntModel.endReporting",
          "source": "AntModel.java:941"
        },
        {
          "method": "org.eclipse.ant.internal.ui.model.AntModel.parseDocument",
          "source": "AntModel.java:285"
        },
        {
          "method": "org.eclipse.ant.internal.ui.model.AntModel.reconcile",
          "source": "AntModel.java:232"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.text.XMLReconcilingStrategy.internalReconcile",
          "source": "XMLReconcilingStrategy.java:47"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.text.XMLReconcilingStrategy.reconcile",
          "source": "XMLReconcilingStrategy.java:61"
        },
        {
          "method": "org.eclipse.jface.text.reconciler.MonoReconciler.process",
          "source": "MonoReconciler.java:75"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.text.NotifyingReconciler.process",
          "source": "NotifyingReconciler.java:39"
        },
        {
          "method": "org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run",
          "source": "AbstractReconciler.java:204"
        }
      ],
      "number": 1,
      "commentIndex": 1,
      "bugId": "81274",
      "date": "2004-12-15T18:59:48+01:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    }
  ],
  "groupId": "81274",
  "bugId": "81274",
  "date": "2004-12-15T18:53:00+01:00",
  "product": "Platform",
  "component": "Ant",
  "severity": "normal"
}