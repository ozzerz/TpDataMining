{
  "comments": [
    "Created an attachment (id\u003d77112)\nThe plugin of TptpTestApplication\n\nBuild ID: I20070625-1500\n\nSteps To Reproduce:\nI\u0027m trying to profile an Eclipse command line application plug-in that uses Log4j for logging. I encountered the following issue first in a larger application but I narrowed it down to a small plug-in (see the attachment).\n\nThe attached plug-in does the following:\n- extends the org.eclipse.core.runtime.applications extension point and provides an application implementation (tptptestplugin.TptpTestApplication class);\n- declares a dependency to the org.apache.log4j plug-in (the results are also the same if the log4j JAR is bundled inside the plug-in);\n- the application implementation instantiates a Log4j logger and tries to log a message.\n\nThe application executes as expected. However, when trying to profile it from the IDE using the Profile Dialog (with the memory or processor collector from the JDK 1.5+ group), the following stack trace is dumped:\n\nlog4j:ERROR Could not instantiate class [org.eclipse.hyades.logging.log4j.XmlLayout].\njava.lang.ClassNotFoundException: org.eclipse.hyades.logging.log4j.XmlLayout\n    at java.lang.ClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at org.eclipse.osgi.framework.internal.core.BundleLoader.findClassInternal(BundleLoader.java:429)\n    at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:369)\n    at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:357)\n    at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:83)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClassInternal(Unknown Source)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Unknown Source)\n    at org.apache.log4j.helpers.Loader.loadClass(Loader.java:178)\n    at org.apache.log4j.helpers.OptionConverter.instantiateByClassName(OptionConverter.java:317)\n    at org.apache.log4j.helpers.OptionConverter.instantiateByKey(OptionConverter.java:120)\n    at org.apache.log4j.PropertyConfigurator.parseAppender(PropertyConfigurator.java:641)\n    at org.apache.log4j.PropertyConfigurator.parseCategory(PropertyConfigurator.java:612)\n    at org.apache.log4j.PropertyConfigurator.configureRootCategory(PropertyConfigurator.java:509)\n    at org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:415)\n    at org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:441)\n    at org.apache.log4j.helpers.OptionConverter.selectAndConfigure(OptionConverter.java:468)\n    at org.apache.log4j.LogManager.\u003cclinit\u003e(LogManager.java:122)\n    at org.apache.log4j.Logger.getLogger(Logger.java:117)\n    at tptptestplugin.TptpTestApplication.\u003cclinit\u003e(TptpTestApplication.java:17)\n\n\nAm I doing something wrong here or is this really a bug?\n\nMore information:\nExecution environment:\n- Eclipse 3.3\n- TPTP 4.4 (latest from the Europa discovery site)\n- both JDK 1.6.0_02 and JDK 1.5.0_12",
    "I tried to reproduce it with 4.4.1-200709060100 build in clean workspace and failed.\nIt is being profiled fine and it seems to be a misconfiguration problem...\n\nCould you create temp workspace and try to profile it there with the latest build?\n\nWhat does you lib directory contain?\nDid you change classpath for profiling?\n",
    "I tested this with the latest candidate build (TPTP-4.4.1-200709101254) and the problem is fixed. Thanks for checking on this. Keep up the good work!"
  ],
  "commentCreationDates": [
    "2007-08-28T12:57:35+02:00",
    "2007-09-12T15:39:42+02:00",
    "2007-09-12T18:16:42+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassNotFoundException",
      "message": "org.eclipse.hyades.logging.log4j.XmlLayout",
      "elements": [
        {
          "method": "java.lang.ClassLoader.findClass",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClassInternal",
          "source": "BundleLoader.java:429"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClass",
          "source": "BundleLoader.java:369"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClass",
          "source": "BundleLoader.java:357"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass",
          "source": "DefaultClassLoader.java:83"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.ClassLoader.loadClassInternal",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.Class.forName0",
          "source": "Native Method"
        },
        {
          "method": "java.lang.Class.forName",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.log4j.helpers.Loader.loadClass",
          "source": "Loader.java:178"
        },
        {
          "method": "org.apache.log4j.helpers.OptionConverter.instantiateByClassName",
          "source": "OptionConverter.java:317"
        },
        {
          "method": "org.apache.log4j.helpers.OptionConverter.instantiateByKey",
          "source": "OptionConverter.java:120"
        },
        {
          "method": "org.apache.log4j.PropertyConfigurator.parseAppender",
          "source": "PropertyConfigurator.java:641"
        },
        {
          "method": "org.apache.log4j.PropertyConfigurator.parseCategory",
          "source": "PropertyConfigurator.java:612"
        },
        {
          "method": "org.apache.log4j.PropertyConfigurator.configureRootCategory",
          "source": "PropertyConfigurator.java:509"
        },
        {
          "method": "org.apache.log4j.PropertyConfigurator.doConfigure",
          "source": "PropertyConfigurator.java:415"
        },
        {
          "method": "org.apache.log4j.PropertyConfigurator.doConfigure",
          "source": "PropertyConfigurator.java:441"
        },
        {
          "method": "org.apache.log4j.helpers.OptionConverter.selectAndConfigure",
          "source": "OptionConverter.java:468"
        },
        {
          "method": "org.apache.log4j.LogManager.\u003cclinit\u003e",
          "source": "LogManager.java:122"
        },
        {
          "method": "org.apache.log4j.Logger.getLogger",
          "source": "Logger.java:117"
        },
        {
          "method": "tptptestplugin.TptpTestApplication.\u003cclinit\u003e",
          "source": "TptpTestApplication.java:17"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "201406",
      "date": "2007-08-28T12:57:35+02:00",
      "product": "TPTP Profiling",
      "component": "Platform.Execution",
      "severity": "normal"
    }
  ],
  "groupId": "201406",
  "bugId": "201406",
  "date": "2007-08-28T12:57:35+02:00",
  "product": "TPTP Profiling",
  "component": "Platform.Execution",
  "severity": "normal"
}