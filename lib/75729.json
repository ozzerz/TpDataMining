{
  "comments": [
    "Setting \"Ant Home...\" in Ant Runtime preferences doesn\u0027t set a String \nSubstitution Variable, a \"${system:} Variable, a Classpath Variable, or affect \nthe value of ${env.ANT_HOME} used in Antfiles.  Because Classpath Variables \ncan\u0027t make use of String Substitution Variables (another issue), I have to \nmultiply maintain these different types of Variables for ANT_HOME, and have to \nremember to change them simultaneously.",
    "Setting Ant home sets the system property ant.home which is then available as  \n${ant.home}\n",
    "OK, but this still doesn\u0027t do me any good:\n\nIn the Preferences-\u003eAnt-\u003eRuntime Properties tab, I press \"Add Property...\" and \nset Name: \"env.ANT_HOME\" (the build.xml file in question has a \u003cproperty \nenvironment\u003d\"env\"/\u003e, and attempts to reference the ANT_HOME environment \nvariable) Value: \"${ant.home}\" -- no dice\n\nBut if I press \"Edit Property...\" and press \"Variables...\" in the \"Edit User \nProperty\" dialog, and add a new String Substitution variable named \"ant.home\" \nwith the correct path as the value, things work.  Now I\u0027m back to having to \nsynchronize the values of a String Substitution variable, a Classpath \nVariable, and the setting of Preferences-\u003eAnt-\u003eRuntime-\u003e\"Ant Home...\" :(",
    "Environment variables can be set using the environment tab for the Ant launch \nconfiguration.\nThen \u003cproperty environment\u003d\"env\"/\u003e would work the same as at the command line.\n\nWe should investigate adding a preference to set this environment variable for \nthe user if running in a separate VM",
    "Foiled again!\n\nThe values for Environment Variables are - you guessed it - String \nSubstitution Variables.  So my attempt to set the environment \nvariable \"ANT_HOME\" to \"${ant.home}\" results in the following exception when I \nbuild the project:\n\norg.eclipse.core.runtime.CoreException: Reference to undefined variable \nant.home\n\tat org.eclipse.core.internal.variables.StringSubstitutionEngine.resolve\n(StringSubstitutionEngine.java:259)\n\tat \norg.eclipse.core.internal.variables.StringSubstitutionEngine.substitute\n(StringSubstitutionEngine.java:192)\n\tat \norg.eclipse.core.internal.variables.StringSubstitutionEngine.performStringSubst\nitution(StringSubstitutionEngine.java:86)\n\tat \norg.eclipse.core.internal.variables.StringVariableManager.performStringSubstitu\ntion(StringVariableManager.java:549)\n\tat \norg.eclipse.core.internal.variables.StringVariableManager.performStringSubstitu\ntion(StringVariableManager.java:341)\n\tat org.eclipse.debug.internal.core.LaunchManager.getEnvironment\n(LaunchManager.java:1571)\n\tat \norg.eclipse.jdt.internal.launching.JavaLocalApplicationLaunchConfigurationDeleg\nate.launch(JavaLocalApplicationLaunchConfigurationDelegate.java:68)\n\tat \norg.eclipse.ant.internal.ui.launchConfigurations.AntLaunchDelegate.runInSeparat\neVM(AntLaunchDelegate.java:449)\n\tat \norg.eclipse.ant.internal.ui.launchConfigurations.AntLaunchDelegate.launch\n(AntLaunchDelegate.java:161)\n\tat org.eclipse.debug.internal.core.LaunchConfiguration.launch\n(LaunchConfiguration.java:569)\n\tat org.eclipse.debug.internal.core.LaunchConfiguration.launch\n(LaunchConfiguration.java:150)\n\tat \norg.eclipse.ui.externaltools.internal.model.ExternalToolBuilder.launchBuild\n(ExternalToolBuilder.java:174)\n\tat \norg.eclipse.ui.externaltools.internal.model.ExternalToolBuilder.build\n(ExternalToolBuilder.java:77)\n\tat org.eclipse.core.internal.events.BuildManager$2.run\n(BuildManager.java:570)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:616)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:747)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild\n(BuildManager.java:159)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild\n(BuildManager.java:251)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild\n(BuildManager.java:204)\n\tat org.eclipse.core.internal.events.BuildManager$1.run\n(BuildManager.java:231)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:616)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:747)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild\n(BuildManager.java:234)\n\tat org.eclipse.core.internal.events.BuildManager.build\n(BuildManager.java:330)\n\tat org.eclipse.core.internal.resources.Project.build(Project.java:105)\n\tat org.eclipse.ui.actions.BuildAction.invokeOperation\n(BuildAction.java:169)\n\tat org.eclipse.ui.actions.WorkspaceAction.execute\n(WorkspaceAction.java:127)\n\tat org.eclipse.ui.actions.WorkspaceAction$2.run\n(WorkspaceAction.java:370)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)",
    "Chris...I am still a little confused reviewing this.\nWhy can\u0027t the buildfiles just reference and use the ant.home property?",
    "Investigate setting the ANT_HOME env variables for separate JRE Ant builds",
    "Added a test and fixed a few bugs here.\n\nAntLaunchDelegate:\nFor separate JRE builds we were always setting the property ant.home to the \nglobal preference setting...even if the user had set a local config value.\nSets the ANT_HOME environment variable for the build.\n\nAntHomeClasspath: returns an Ant home location for both local or global \n(always returned null for global before)\n\nAntUtil: updated the javadoc\n\nTests:\nSeparateVMTests: tests both ant.home and env.ANT_HOME are set.\nenviromentVar.xml: test buildfile\nProjectCreationDecorator: create the associated launch config",
    "Please verify DarinW.",
    "When I specify ant.home as a launch config property (on the property tab) with \na value of \"c:\\apache-ant-1.5.2\", I see the property appear twice on the \ngenerated command line:\n\n\"\\\"-Dant.home\u003dc:\\apache-ant-1.5.2 \\\"\" \\\"-Dant.home\u003dc:\\sdk20050215\n\\eclipse\\plugins\\org.apache.ant_1.6.2\\\"",
    "Verified. Will log seperate bug if required for other issue.",
    "Logged in bug 85335"
  ],
  "commentCreationDates": [
    "2004-10-06T21:59:01+02:00",
    "2004-10-06T22:16:42+02:00",
    "2004-10-06T23:59:52+02:00",
    "2004-10-07T00:06:31+02:00",
    "2004-10-07T00:15:35+02:00",
    "2005-02-01T23:13:35+01:00",
    "2005-02-10T16:28:01+01:00",
    "2005-02-11T06:25:23+01:00",
    "2005-02-11T06:25:39+01:00",
    "2005-02-15T21:45:41+01:00",
    "2005-02-15T21:53:14+01:00",
    "2005-02-15T22:00:38+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.runtime.CoreException",
      "message": "Reference to undefined variable  ant.home",
      "elements": [
        {
          "method": "org.eclipse.core.internal.variables.StringSubstitutionEngine.resolve",
          "source": "StringSubstitutionEngine.java:259"
        },
        {
          "method": "org.eclipse.core.internal.variables.StringSubstitutionEngine.substitute",
          "source": "StringSubstitutionEngine.java:192"
        },
        {
          "method": "org.eclipse.core.internal.variables.StringSubstitutionEngine.performStringSubstitution",
          "source": "StringSubstitutionEngine.java:86"
        },
        {
          "method": "org.eclipse.core.internal.variables.StringVariableManager.performStringSubstitution",
          "source": "StringVariableManager.java:549"
        },
        {
          "method": "org.eclipse.core.internal.variables.StringVariableManager.performStringSubstitution",
          "source": "StringVariableManager.java:341"
        },
        {
          "method": "org.eclipse.debug.internal.core.LaunchManager.getEnvironment",
          "source": "LaunchManager.java:1571"
        },
        {
          "method": "org.eclipse.jdt.internal.launching.JavaLocalApplicationLaunchConfigurationDelegate.launch",
          "source": "JavaLocalApplicationLaunchConfigurationDelegate.java:68"
        },
        {
          "method": "org.eclipse.ant.internal.ui.launchConfigurations.AntLaunchDelegate.runInSeparateVM",
          "source": "AntLaunchDelegate.java:449"
        },
        {
          "method": "org.eclipse.ant.internal.ui.launchConfigurations.AntLaunchDelegate.launch",
          "source": "AntLaunchDelegate.java:161"
        },
        {
          "method": "org.eclipse.debug.internal.core.LaunchConfiguration.launch",
          "source": "LaunchConfiguration.java:569"
        },
        {
          "method": "org.eclipse.debug.internal.core.LaunchConfiguration.launch",
          "source": "LaunchConfiguration.java:150"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.model.ExternalToolBuilder.launchBuild",
          "source": "ExternalToolBuilder.java:174"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.model.ExternalToolBuilder.build",
          "source": "ExternalToolBuilder.java:77"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$2.run",
          "source": "BuildManager.java:570"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:616"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:747"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:159"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:251"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:204"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$1.run",
          "source": "BuildManager.java:231"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:616"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:747"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:234"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.build",
          "source": "BuildManager.java:330"
        },
        {
          "method": "org.eclipse.core.internal.resources.Project.build",
          "source": "Project.java:105"
        },
        {
          "method": "org.eclipse.ui.actions.BuildAction.invokeOperation",
          "source": "BuildAction.java:169"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceAction.execute",
          "source": "WorkspaceAction.java:127"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceAction$2.run",
          "source": "WorkspaceAction.java:370"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:66"
        }
      ],
      "number": 0,
      "commentIndex": 4,
      "bugId": "75729",
      "date": "2004-10-07T00:15:35+02:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    }
  ],
  "groupId": "75729",
  "bugId": "75729",
  "date": "2004-10-06T21:59:01+02:00",
  "product": "Platform",
  "component": "Ant",
  "severity": "normal"
}