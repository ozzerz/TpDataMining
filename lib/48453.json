{
  "comments": [
    "The setup is to have a feature A, which optionally includes feature A1 and \nfeature A2.  Feature A1 itself mandatorily includes feature B.  Feature A2 also \nmandatorily includes feature B.   In this scenario, feature A1 depends on \nfeature B contents, and feature A2 also depends on feature B contents.  Feature \nB doesn\u0027t depend on either.\n\nActions to take are then install feature A via the Update Manager.  Because \nfeature A includes A1 and A2, both are installed.  However, A1 installs feature \nB first, and then feature A2 tries to also install feature B during its \ninstallation.  The result is that the installation of feature B the second time \nfails since it cannot overwrite the already existing plugin.xml of feature B:\n\njava.lang.Exception: Internal Error. Unable to \nrename \"C:\\programs\\eclipse\\plugins\\featureB_0.0.1\\plugin1071094617400.xml\" \nto \"C:/programs/eclipse/plugins/featureB_0.0.1/plugin.xml\".\nat org.eclipse.update.internal.core.SiteFilePluginContentConsumer.close\n(SiteFilePluginContentConsumer.java:125)\nat org.eclipse.update.internal.core.SiteFileContentConsumer.close\n(SiteFileContentConsumer.java:177)\nat org.eclipse.update.internal.core.FeatureExecutableContentConsumer.close\n(FeatureExecutableContentConsumer.java:89)\nat org.eclipse.update.internal.core.FeatureExecutableContentConsumer.close\n(FeatureExecutableContentConsumer.java:94)\nat org.eclipse.update.internal.core.FeatureExecutableContentConsumer.close\n(FeatureExecutableContentConsumer.java:94)\nat org.eclipse.update.core.Feature.install(Feature.java:404)\nat org.eclipse.update.internal.core.SiteFile.install(SiteFile.java:74)\nat org.eclipse.update.internal.core.ConfiguredSite.install\n(ConfiguredSite.java:194)\nat org.eclipse.update.internal.ui.wizards.InstallWizard.execute\n(InstallWizard.java:213)\nat org.eclipse.update.internal.ui.wizards.InstallWizard.access$3\n(InstallWizard.java:193)\nat org.eclipse.update.internal.ui.wizards.InstallWizard$1.run\n(InstallWizard.java:93)\nat org.eclipse.jface.operation.ModalContext$ModalContextThread.run\n(ModalContext.java:101)\n\nIf I remove either of the included Feature B dependencies from feature A1 or \nfrom feature A2, the installation occurs without error.\n\nThe desired resolution is for the update manager to know to only install \nfeature B once even though its listed twice in the included feature hierarchy.\n\nThe only workaround I know of is to flop the hierarchy so that Feature A \nincludes Feature B which then includes both Feature A1 and Feature A2, but this \nis highly undesirable.",
    "This has been fixed in the 3.0 stream. "
  ],
  "commentCreationDates": [
    "2003-12-11T00:43:17+01:00",
    "2003-12-11T00:57:00+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.Exception",
      "message": "Internal Error. Unable to  rename \"C:\\programs\\eclipse\\plugins\\featureB_0.0.1\\plugin1071094617400.xml\"  to \"C:/programs/eclipse/plugins/featureB_0.0.1/plugin.xml\".",
      "elements": [
        {
          "method": "org.eclipse.update.internal.core.SiteFilePluginContentConsumer.close",
          "source": "SiteFilePluginContentConsumer.java:125"
        },
        {
          "method": "org.eclipse.update.internal.core.SiteFileContentConsumer.close",
          "source": "SiteFileContentConsumer.java:177"
        },
        {
          "method": "org.eclipse.update.internal.core.FeatureExecutableContentConsumer.close",
          "source": "FeatureExecutableContentConsumer.java:89"
        },
        {
          "method": "org.eclipse.update.internal.core.FeatureExecutableContentConsumer.close",
          "source": "FeatureExecutableContentConsumer.java:94"
        },
        {
          "method": "org.eclipse.update.internal.core.FeatureExecutableContentConsumer.close",
          "source": "FeatureExecutableContentConsumer.java:94"
        },
        {
          "method": "org.eclipse.update.core.Feature.install",
          "source": "Feature.java:404"
        },
        {
          "method": "org.eclipse.update.internal.core.SiteFile.install",
          "source": "SiteFile.java:74"
        },
        {
          "method": "org.eclipse.update.internal.core.ConfiguredSite.install",
          "source": "ConfiguredSite.java:194"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.InstallWizard.execute",
          "source": "InstallWizard.java:213"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.InstallWizard.access$3",
          "source": "InstallWizard.java:193"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.InstallWizard$1.run",
          "source": "InstallWizard.java:93"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:101"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "48453",
      "date": "2003-12-11T00:43:17+01:00",
      "product": "Platform",
      "component": "Update",
      "severity": "major"
    }
  ],
  "groupId": "48453",
  "bugId": "48453",
  "date": "2003-12-11T00:43:17+01:00",
  "product": "Platform",
  "component": "Update",
  "severity": "major"
}