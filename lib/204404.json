{
  "comments": [
    "When configuring a launch (especially on an OSGi runtime) you often only need to see a small subset of the bundles.  For example, I am launching a system with 36 bundles, but there are over 1100 to choose from.  This makes navigating, selecting and choosing the start options a real pain.  \n\nA \"Show all\" / \"Show selected\" toggle option would really help here.\n\nDoes this make sense?",
    "Hey Ian, is there anything you suggest that would make your life easier?",
    "Brian, I was thinking that a toggle to show all bundles, or show selected bundles.  The workflow I imagine goes like this:\n\nSelect the bundles you know you need, \nClick \"Add Required Bundles\"\nThen toggle \"Show only selected bundles\"\n\nThen you can see the bundles that are required and you can configure their start level.\n\nIf this makes sense I can have a crack at it on bug day?",
    "would a filtered tree be nice too?",
    "(In reply to comment #3)\n\u003e would a filtered tree be nice too?\n\u003e \n\nYeah, good call!  This would make it much easier to find the bundle (or bunlde :) ).  How Does this relate to the Plug-in launch configuration under the Launch as Eclipse Application?  Are they the same source?  (Note, in the plug-in launch you cannot set the start level).",
    "*** Bug 80233 has been marked as a duplicate of this bug. ***",
    "I have a partial solution for this bug. So far, I have added a toggle to \"Show Only Selected Bundles\" and I added a view filter.  However, it seems that when I call refresh on the view (to invoke the filter) the text in column 2 and 3 (Start Level and Auto-Start) disappears.\n\nThis text is set on an selection action, and is not stored anywhere (until a save occurs), but it is lost on the refresh.  \n\nShould we simply cache the current values?  It seems a little like a kludge.\nIs there a better way to filter an item (It doesn\u0027t look like I can just set an item not visible).\n\n\n\n\n",
    "I have a partial solution for this bug. So far, I have added a toggle to \"Show Only Selected Bundles\" and I added a view filter.  However, it seems that when I call refresh on the view (to invoke the filter) the text in column 2 and 3 (Start Level and Auto-Start) disappears.\n\nThis text is set on an selection action, and is not stored anywhere (until a save occurs), but it is lost on the refresh.  \n\nShould we simply cache the current values?  It seems a little like a kludge.\nIs there a better way to filter an item (It doesn\u0027t look like I can just set an item not visible).\n\n\n\n\n",
    "Created an attachment (id\u003d80833)\nPatch to show bundles only if they are selected\n\nThis patch addresses the first part of this bug.  It adds a \"Show only selected bundles\" toggle.  I had to make a few modifications to OSGiBundlesBlock.java to properly remove any cell editors before the filter operation.\n\nThis patch does not address the second half of this bug, that is, to add a filter box to the tree.  I started to do this, but I wonder if it is easier to review this patch first.  Let me know.\n\n",
    "updated bug summary and opened bug 207064 to deal with filtering",
    "nice, let\u0027s do three more things:\n\n1) Change the capitalization of \"Only Show Selected Plug-ins/Bundles\" to first only, ie., \"Only show selected plug-ins\"\n2) In the Eclipse Application launcher, when launching with \"all workspace and target enabled plug-ins\" we should disable the checkbox like with the other buttons and controls.\n3) should we move this addition to be closer to x of x selected? ie., group them together? It may look better that way...\n\nPlus, I got an NPE while toying with it...\n\njava.lang.NullPointerException\nat org.eclipse.pde.internal.ui.launcher.OSGiBundleBlock.refreshTreeView(OSGiBundleBlock.java:388)\nat org.eclipse.pde.internal.ui.launcher.AbstractPluginBlock.handleFilterUnchecked(AbstractPluginBlock.java:373)\nat org.eclipse.pde.internal.ui.launcher.AbstractPluginBlock.access$8(AbstractPluginBlock.java:372)\nat org.eclipse.pde.internal.ui.launcher.AbstractPluginBlock$Listener.widgetSelected(AbstractPluginBlock.java:121)\nat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3742)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3353)\nat org.eclipse.jface.window.Window.runEventLoop(Window.java:825)\nat org.eclipse.jface.window.Window.open(Window.java:801)\nat org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.open(LaunchConfigurationsDialog.java:1113)\nat org.eclipse.debug.ui.DebugUITools$1.run(DebugUITools.java:389)\nat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)\nat org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup(DebugUITools.java:397)\nat org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup(DebugUITools.java:333)\nat org.eclipse.debug.ui.actions.OpenLaunchDialogAction.run(OpenLaunchDialogAction.java:81)\nat org.eclipse.jface.action.Action.runWithEvent(Action.java:498)\nat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:543)\nat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:489)\nat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:401)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3742)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3353)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353)\nat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219)\nat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)\nat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\nat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\nat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:169)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:362)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:175)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:515)\nat org.eclipse.equinox.launcher.Main.basicRun(Main.java:455)\nat org.eclipse.equinox.launcher.Main.run(Main.java:1193)\nat org.eclipse.equinox.launcher.Main.main(Main.java:1169)\n",
    "(In reply to comment #10)\n\n\u003e 3) should we move this addition to be closer to x of x selected? ie., group\n\u003e them together? It may look better that way...\n\nI agree.  I tried this at first, but it uses a grid layout and I could not figure out how to place 2 items at the bottom of a grid layout.  Chris, do you know if this is possible?  I could use a different layout, but I didn\u0027t want a far reaching change.\n\nI have fixed the other problems you found.",
    "Created an attachment (id\u003d81069)\npatch for AbstractPluginBlock \n\n(In reply to comment #11)\n\u003e (In reply to comment #10)\n\u003e \n\u003e \u003e 3) should we move this addition to be closer to x of x selected? ie., group\n\u003e \u003e them together? It may look better that way...\n\u003e \n\u003e I agree.  I tried this at first, but it uses a grid layout and I could not\n\u003e figure out how to place 2 items at the bottom of a grid layout.  Chris, do you\n\u003e know if this is possible?  I could use a different layout, but I didn\u0027t want a\n\u003e far reaching change.\n\u003e \n\u003e I have fixed the other problems you found.\n\u003e \n\nPiece of cake ;-)\n\nHere is a patch for AbstractPluginBlock, this does not contain the other content from your patch (sorry I have a bunch of files changed in my workspace and not sure which ones to include).  The modification was in createButtonContainer, added a GridData to fFilterButton and modified the one for fCounter.",
    "show us the love Ian ;)",
    "Created an attachment (id\u003d81081)\nUpdated patch for the bundle filter.\n\nSorry, CASCON is tiring me out :).  \n\nThis fixes all the things Chris pointed out.",
    "reviewing, targetting towards M3",
    "Created an attachment (id\u003d81092)\norg.eclipse.pde.ui.patch\n\nAlmost there Ian. There\u0027s one more issue to solve. The current setting to show selected bundles has amnesia. It doesn\u0027t remember its setting. I created a new constant in IPDELauncherConstants and help persist the value know so it remembers the state.\n\nHowever, there\u0027s an issue with if you leave it in the checked state. If you come back, the bundles/plug-ins tab is blank, like no plug-ins are selected.\n\n:)",
    "Created an attachment (id\u003d81093)\nmylyn/context/zip\n\n",
    "*poke* Ian",
    " (In reply to comment #18)\n\u003e *poke* Ian\nouch! \n\n",
    "Created an attachment (id\u003d81290)\nFilter Patch \n\nI have updated the patch so it now applies the filter properly when page is first loaded.  I also fixed the patch so when actions like \"select all\" are fired, the filter state is updated.\n\n",
    "Created an attachment (id\u003d81291)\nmylyn/context/zip\n\n",
    "Also, I know that if you have \"show only selected bundles\" on, and you de-select a bundle, that bundle does not disappear.  This was done intentionally, as not to confuse the user if they accidently de-select the wrong bundle (otherwise the bundle would disappear and it would be hard to find again).\n\nAlso checkout how I handled the interaction with the root of the tree.  The root toggles All / greyed / none.  It is not clear what we should do here.  I simply disable the filter when toggling to all.\n\nFinally, I fixed the patch so that when \"show only selected bundles\" is toggled, the editor state is changed to dirty (so the apply button becomes enabled).",
    "beautiful patch Ian! I\u0027m sure most people will be thrilled with this enhancement.",
    "Created an attachment (id\u003d81302)\nSmall fix for root of the tree\n\nThis fix changes the way that the root nodes are computed.  When a check on the tree happens, if it is the root node (and thus all other items are selected) we disable the filter. \n\nThis changes the way the root node is computed (instead of using instanceof it now compares the item checked to the list of root nodes).",
    "Created an attachment (id\u003d81303)\nmylyn/context/zip\n\n",
    "thanks Ian.",
    "I like you guys",
    "*** Bug 154592 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2007-09-24T06:54:23+02:00",
    "2007-09-24T18:49:19+02:00",
    "2007-09-24T18:59:40+02:00",
    "2007-09-24T19:44:08+02:00",
    "2007-09-24T19:47:54+02:00",
    "2007-09-28T07:10:57+02:00",
    "2007-10-19T22:08:14+02:00",
    "2007-10-19T22:08:29+02:00",
    "2007-10-21T04:23:07+02:00",
    "2007-10-22T17:55:30+02:00",
    "2007-10-22T18:39:50+02:00",
    "2007-10-24T05:43:32+02:00",
    "2007-10-24T17:17:05+02:00",
    "2007-10-24T17:22:48+02:00",
    "2007-10-24T19:25:50+02:00",
    "2007-10-24T20:24:30+02:00",
    "2007-10-24T21:13:42+02:00",
    "2007-10-24T21:13:51+02:00",
    "2007-10-26T20:41:37+02:00",
    "2007-10-26T20:50:03+02:00",
    "2007-10-26T21:07:37+02:00",
    "2007-10-26T21:07:40+02:00",
    "2007-10-26T21:11:36+02:00",
    "2007-10-26T21:29:10+02:00",
    "2007-10-26T22:58:45+02:00",
    "2007-10-26T22:58:47+02:00",
    "2007-10-26T23:08:07+02:00",
    "2007-10-27T16:04:40+02:00",
    "2007-10-31T17:31:20+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.pde.internal.ui.launcher.OSGiBundleBlock.refreshTreeView",
          "source": "OSGiBundleBlock.java:388"
        },
        {
          "method": "org.eclipse.pde.internal.ui.launcher.AbstractPluginBlock.handleFilterUnchecked",
          "source": "AbstractPluginBlock.java:373"
        },
        {
          "method": "org.eclipse.pde.internal.ui.launcher.AbstractPluginBlock.access$8",
          "source": "AbstractPluginBlock.java:372"
        },
        {
          "method": "org.eclipse.pde.internal.ui.launcher.AbstractPluginBlock$Listener.widgetSelected",
          "source": "AbstractPluginBlock.java:121"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:227"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3742"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3353"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:825"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:801"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.open",
          "source": "LaunchConfigurationsDialog.java:1113"
        },
        {
          "method": "org.eclipse.debug.ui.DebugUITools$1.run",
          "source": "DebugUITools.java:389"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:67"
        },
        {
          "method": "org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup",
          "source": "DebugUITools.java:397"
        },
        {
          "method": "org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup",
          "source": "DebugUITools.java:333"
        },
        {
          "method": "org.eclipse.debug.ui.actions.OpenLaunchDialogAction.run",
          "source": "OpenLaunchDialogAction.java:81"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:498"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:543"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:489"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:401"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3742"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3353"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2389"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2353"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2219"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:466"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:461"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:169"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:362"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:175"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:515"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:455"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1193"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1169"
        }
      ],
      "number": 0,
      "commentIndex": 10,
      "bugId": "204404",
      "date": "2007-10-22T18:39:50+02:00",
      "product": "PDE",
      "component": "UI",
      "severity": "enhancement"
    }
  ],
  "groupId": "204404",
  "bugId": "204404",
  "date": "2007-09-24T06:54:23+02:00",
  "product": "PDE",
  "component": "UI",
  "severity": "enhancement"
}