{
  "comments": [
    "20040511 1600 Help -\u003e Software Updates -\u003e Find and Install does nothing\nFollowing in the log:\n!MESSAGE java.lang.NullPointerException\n!STACK 0\njava.lang.NullPointerException\n\tat org.eclipse.jface.wizard.WizardDialog.saveUIState\n(WizardDialog.java:795)\n\tat org.eclipse.jface.wizard.WizardDialog.aboutToStart\n(WizardDialog.java:259)\n\tat org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:744)\n\tat \norg.eclipse.update.internal.ui.wizards.SitePage.getSiteCatalogWithIndicator\n(SitePage.java:553)\n\tat org.eclipse.update.internal.ui.wizards.SitePage.access$1\n(SitePage.java:525)\n\tat \norg.eclipse.update.internal.ui.wizards.SitePage$TreeContentProvider.getChildren\n(SitePage.java:51)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.getRawChildren\n(AbstractTreeViewer.java:704)\n\tat org.eclipse.jface.viewers.StructuredViewer.getFilteredChildren\n(StructuredViewer.java:441)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.isExpandable\n(AbstractTreeViewer.java:1138)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.updatePlus\n(AbstractTreeViewer.java:1585)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.updateChildren\n(AbstractTreeViewer.java:1533)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.internalRefreshStruct\n(AbstractTreeViewer.java:1039)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh\n(AbstractTreeViewer.java:1014)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh\n(AbstractTreeViewer.java:977)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh\n(AbstractTreeViewer.java:965)\n\tat org.eclipse.jface.viewers.StructuredViewer$7.run\n(StructuredViewer.java:848)\n\tat org.eclipse.jface.viewers.StructuredViewer.preservingSelection\n(StructuredViewer.java:788)\n\tat org.eclipse.jface.viewers.CheckboxTreeViewer.preservingSelection\n(CheckboxTreeViewer.java:346)\n\tat org.eclipse.jface.viewers.StructuredViewer.refresh\n(StructuredViewer.java:846)\n\tat org.eclipse.jface.viewers.StructuredViewer.refresh\n(StructuredViewer.java:808)\n\tat org.eclipse.jface.viewers.StructuredViewer.addFilter\n(StructuredViewer.java:203)\n\tat org.eclipse.update.internal.ui.wizards.SitePage.createTreeViewer\n(SitePage.java:294)\n\tat org.eclipse.update.internal.ui.wizards.SitePage.createContents\n(SitePage.java:179)\n\tat org.eclipse.update.internal.ui.wizards.BannerPage.createControl\n(BannerPage.java:41)\n\tat org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:161)\n\tat org.eclipse.jface.wizard.WizardDialog.createPageControls\n(WizardDialog.java:546)\n\tat org.eclipse.jface.wizard.WizardDialog.createContents\n(WizardDialog.java:451)\n\tat org.eclipse.jface.window.Window.create(Window.java:348)\n\tat org.eclipse.jface.dialogs.Dialog.create(Dialog.java:924)\n\tat \norg.eclipse.update.internal.ui.InstallWizardAction.openNewUpdatesWizard\n(InstallWizardAction.java:58)\n\tat org.eclipse.update.internal.ui.InstallWizardAction.doRun\n(InstallWizardAction.java:52)\n\tat org.eclipse.update.internal.ui.InstallWizardAction.access$0\n(InstallWizardAction.java:51)\n\tat org.eclipse.update.internal.ui.InstallWizardAction$1.run\n(InstallWizardAction.java:46)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile\n(BusyIndicator.java:69)\n\tat org.eclipse.update.internal.ui.InstallWizardAction.run\n(InstallWizardAction.java:44)\n\tat org.eclipse.ui.internal.PluginAction.runWithEvent\n(PluginAction.java:276)\n\tat org.eclipse.ui.internal.WWinPluginAction.runWithEvent\n(WWinPluginAction.java:206)\n\tat \norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:899)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2\n(ActionContributionItem.java:850)\n\tat org.eclipse.jface.action.ActionContributionItem$7.handleEvent\n(ActionContributionItem.java:769)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2725)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2390)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1353)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1324)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench\n(Workbench.java:243)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run\n(IDEApplication.java:90)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run\n(PlatformActivator.java:298)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:249)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:126)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:269)\n\tat org.eclipse.core.launcher.Main.run(Main.java:722)\n\tat org.eclipse.core.launcher.Main.main(Main.java:706)",
    "Created an attachment (id\u003d10550)\nbookmarks.xml\n\nPresence of workspace\\.metadata\\.plugins\\org.eclipse.update.ui\\bookmarks.xml is\ntriggering the problem.  Removing the file allow the dialog to show.",
    "*** Bug 61923 has been marked as a duplicate of this bug. ***",
    "Moving to UI for comments:\n\nThere hasn\u0027t been a recent change in the InstallWizard dialog, and this error \nhas only appeared since 0511 build.\nIt looks like currentPage is null in the\n\nsavedState.put(\"page\", ControlEnableState.disable(currentPage.getControl()));\n\ninside WizardDialog.saveUIState().\n\nHas anything changed in the WizardDialog or other classes on the stack dump \nthat requires our code to be modified ?",
    "*** Bug 62106 has been marked as a duplicate of this bug. ***",
    "Fixed in HEAD. This was because we were not checking to see if the current \npage was null (which is the default state). I am surprised this wasn\u0027t hit \nearlier as the code has been there for quite a while but it is now fixed.",
    "Tod, is it possible to release this for the integration build this week?\nWithout this fix, users can\u0027t run the Install Wizard.",
    "Sure Dorian.",
    "Thanks Tod.\nIt appears that there are some changes in the way refresh() is being called on \nstructured viewers, such as a checkboxtree.\nThis, and others, must have caused this bug, as the refresh() on the \ncheckboxtree in the SitePage (second page of the install wizard, while \nin \"search for new features\" mode) happens before the wizard is up.\nSo, currentPage being null bug only came out as a result of the too early \nrefresh() call in the tree.\n\nThe problem now is that the user will get some connection errors as soon as it \ntries to open the Find and Install wizard.\nI checked the M8 driver, and the refresh() does not happen until the page is \nturned to.\nBTW, refresh() is being triggered by viewer.setFilter().\n",
    "Verified on Windows XP and Mac OS X using Build id: 200405181200."
  ],
  "commentCreationDates": [
    "2004-05-12T17:41:09+02:00",
    "2004-05-12T17:50:45+02:00",
    "2004-05-12T17:55:32+02:00",
    "2004-05-13T06:21:32+02:00",
    "2004-05-13T19:25:14+02:00",
    "2004-05-13T22:05:44+02:00",
    "2004-05-13T22:20:19+02:00",
    "2004-05-13T23:42:19+02:00",
    "2004-05-15T00:55:39+02:00",
    "2004-05-18T23:09:28+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.saveUIState",
          "source": "WizardDialog.java:795"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.aboutToStart",
          "source": "WizardDialog.java:259"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.run",
          "source": "WizardDialog.java:744"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.SitePage.getSiteCatalogWithIndicator",
          "source": "SitePage.java:553"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.SitePage.access$1",
          "source": "SitePage.java:525"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.SitePage$TreeContentProvider.getChildren",
          "source": "SitePage.java:51"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.getRawChildren",
          "source": "AbstractTreeViewer.java:704"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.getFilteredChildren",
          "source": "StructuredViewer.java:441"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.isExpandable",
          "source": "AbstractTreeViewer.java:1138"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.updatePlus",
          "source": "AbstractTreeViewer.java:1585"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.updateChildren",
          "source": "AbstractTreeViewer.java:1533"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalRefreshStruct",
          "source": "AbstractTreeViewer.java:1039"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh",
          "source": "AbstractTreeViewer.java:1014"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh",
          "source": "AbstractTreeViewer.java:977"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh",
          "source": "AbstractTreeViewer.java:965"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$7.run",
          "source": "StructuredViewer.java:848"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.preservingSelection",
          "source": "StructuredViewer.java:788"
        },
        {
          "method": "org.eclipse.jface.viewers.CheckboxTreeViewer.preservingSelection",
          "source": "CheckboxTreeViewer.java:346"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.refresh",
          "source": "StructuredViewer.java:846"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.refresh",
          "source": "StructuredViewer.java:808"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.addFilter",
          "source": "StructuredViewer.java:203"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.SitePage.createTreeViewer",
          "source": "SitePage.java:294"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.SitePage.createContents",
          "source": "SitePage.java:179"
        },
        {
          "method": "org.eclipse.update.internal.ui.wizards.BannerPage.createControl",
          "source": "BannerPage.java:41"
        },
        {
          "method": "org.eclipse.jface.wizard.Wizard.createPageControls",
          "source": "Wizard.java:161"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.createPageControls",
          "source": "WizardDialog.java:546"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.createContents",
          "source": "WizardDialog.java:451"
        },
        {
          "method": "org.eclipse.jface.window.Window.create",
          "source": "Window.java:348"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog.create",
          "source": "Dialog.java:924"
        },
        {
          "method": "org.eclipse.update.internal.ui.InstallWizardAction.openNewUpdatesWizard",
          "source": "InstallWizardAction.java:58"
        },
        {
          "method": "org.eclipse.update.internal.ui.InstallWizardAction.doRun",
          "source": "InstallWizardAction.java:52"
        },
        {
          "method": "org.eclipse.update.internal.ui.InstallWizardAction.access$0",
          "source": "InstallWizardAction.java:51"
        },
        {
          "method": "org.eclipse.update.internal.ui.InstallWizardAction$1.run",
          "source": "InstallWizardAction.java:46"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.update.internal.ui.InstallWizardAction.run",
          "source": "InstallWizardAction.java:44"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:276"
        },
        {
          "method": "org.eclipse.ui.internal.WWinPluginAction.runWithEvent",
          "source": "WWinPluginAction.java:206"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:899"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:850"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$7.handleEvent",
          "source": "ActionContributionItem.java:769"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:796"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2725"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2390"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1353"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1324"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:243"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:141"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:90"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:298"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:249"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:126"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:269"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:722"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:706"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "61925",
      "date": "2004-05-12T17:41:09+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "61925",
  "bugId": "61925",
  "date": "2004-05-12T17:41:09+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}