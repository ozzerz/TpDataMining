{
  "comments": [
    "20030206\n\n1. select a method, invoke \u0027push down\u0027\n (e.g. ChangeCorrectionProposal.setImage)\n2. press preview\n3. press cancel\n4. press preview again\n\njava.lang.reflect.InvocationTargetException: \norg.eclipse.jdt.internal.corext.Assert$AssertionFailedException: assertion \nfailed; \n\tat org.eclipse.jdt.internal.corext.Assert.isTrue(Assert.java:130)\n\tat org.eclipse.jdt.internal.corext.Assert.isTrue(Assert.java(Compiled \nCode))\n\tat org.eclipse.jdt.internal.corext.textmanipulation.TextEdit.setParent\n(TextEdit.java:367)\n\tat org.eclipse.jdt.internal.corext.textmanipulation.TextEdit.internalAdd\n(TextEdit.java:397)\n\tat org.eclipse.jdt.internal.corext.textmanipulation.TextEdit.add\n(TextEdit.java:112)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.structure.PushDownRefactoring.fillWi\nthRewriteEdits(PushDownRefactoring.java:1157)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.structure.PushDownRefactoring.create\nChangeManager(PushDownRefactoring.java:771)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.structure.PushDownRefactoring.checkI\nnput(PushDownRefactoring.java:500)\n\tat org.eclipse.jdt.internal.ui.refactoring.CheckConditionsOperation.run\n(CheckConditionsOperation.java:59)\n\tat org.eclipse.jdt.internal.ui.refactoring.CreateChangeOperation.run\n(CreateChangeOperation.java:94)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run\n(ModalContext.java:95)",
    "*** Bug 31319 has been marked as a duplicate of this bug. ***",
    "more refactorings can be affected - the problem is, i think, that we don\u0027t \nclear the rewrite object",
    "very strange - i cannot reproduce it\nwhen i press \u0027Cancel\u0027 the dialog is dismissed",
    "ok, here\u0027s a test case:\n\npackage trrttdfdd;\nimport java.util.List;\npublic class A {\nint x;\npublic List f(){return null;}\n}\nclass B extends A{\n\tpublic List f(){return null;}\n}\n\n\npackage trrttdfdd;\npublic class Sd extends A{}\n\nselect A.f() in outline\npush down\npreview\nback\nuncheck f\ncheck x\npreview ",
    "like i thought, same problem in other cases \n(Pull Up, ChangeMethodSignature):\n\ntest case for ChangeMethodSignature:\npublic class A {\n\tpublic void x(){}\n}\nchange signature\nin the dialog, click the \u0027Add\u0027 button\ntype HashSet in the \u0027Type\u0027 cell\nclick the \u0027Add\u0027 button again\ntype List in the \u0027Type\u0027 cell\npress \u0027preview\u0027\nyou get an error\npress \u0027back\u0027\nselect the parameter with type \u0027List\u0027 and press \u0027Remove\u0027\npress \u0027Preview again\u0027\n\n---------------\ntest case for PullUp\nA.java\npackage ss;\n\npublic class A {\n\tpublic void x(){}\n}\nB.java\npackage ss;\nimport java.util.List;\npublic class B extends A{\n\tpublic void x(List l){ foo();}\n\tpublic void foo(){}\n}\n\nselect B.x\npull up\npress preview\nyou get an error\npress back\nuncheck x\ncheck foo\npress preview\n\n-------------\nfixed all of these",
    "*** Bug 31641 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2003-02-07T13:59:37+01:00",
    "2003-02-07T18:02:15+01:00",
    "2003-02-07T18:08:45+01:00",
    "2003-02-12T10:41:30+01:00",
    "2003-02-12T10:57:02+01:00",
    "2003-02-12T12:02:17+01:00",
    "2003-02-12T13:09:12+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.jdt.internal.corext.Assert$AssertionFailedException",
      "message": "assertion  failed;",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.corext.Assert.isTrue",
          "source": "Assert.java:130"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.Assert.isTrue",
          "source": "Assert.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.textmanipulation.TextEdit.setParent",
          "source": "TextEdit.java:367"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.textmanipulation.TextEdit.internalAdd",
          "source": "TextEdit.java:397"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.textmanipulation.TextEdit.add",
          "source": "TextEdit.java:112"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.structure.PushDownRefactoring.fillWithRewriteEdits",
          "source": "PushDownRefactoring.java:1157"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.structure.PushDownRefactoring.createChangeManager",
          "source": "PushDownRefactoring.java:771"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.structure.PushDownRefactoring.checkInput",
          "source": "PushDownRefactoring.java:500"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.CheckConditionsOperation.run",
          "source": "CheckConditionsOperation.java:59"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.CreateChangeOperation.run",
          "source": "CreateChangeOperation.java:94"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:95"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "31284",
      "date": "2003-02-07T13:59:37+01:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "31284",
  "bugId": "31284",
  "date": "2003-02-07T13:59:37+01:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}