{
  "comments": [
    "I declare a Java bean like this.\n\npackage com.blueprint.util.mixin.test;\n\nimport java.io.Serializable;\n\npublic class Bean implements Serializable{\n\t\n\tprivate String name;\n\n\tpublic String getName() {\n\t\treturn name;\n\t}\n\tpublic void setName( String name ) {\n\t\tthis.name \u003d name;\n\t}\n}\n\nMy aspect has a pointcut like this.\n\npointcut callSetter( Bean b ) \n\t    : call( @propertyChanger * *(..) ) \u0026\u0026 target( b );\n\nI am using the full compilation feature. So whenever it compiles I see a popup\nthat shows\n--------------------------------------------------\nNullPointerException thrown:null\nReason\nNullPointerException thrown:null\n--------------------------------------------------\n\nThe trace is \n\n!ENTRY org.eclipse.ajdt.ui 4 0 2005-08-29 12:51:26.445\n!MESSAGE NullPointerException thrown: null\n!STACK 0\njava.lang.NullPointerException\n\tat org.aspectj.weaver.patterns.WildAnnotationTypePattern.matches\n(WildAnnotationTypePattern.java:61)\n\tat org.aspectj.weaver.patterns.SignaturePattern.matchesAnnotations\n(SignaturePattern.java:326)\n\tat org.aspectj.weaver.patterns.SignaturePattern.matchesExactly\n(SignaturePattern.java:179)\n\tat org.aspectj.weaver.patterns.SignaturePattern.matches\n(SignaturePattern.java:152)\n\tat org.aspectj.weaver.patterns.KindedPointcut.matchInternal\n(KindedPointcut.java:111)\n\tat org.aspectj.weaver.patterns.Pointcut.match(Pointcut.java:151)\n\tat org.aspectj.weaver.patterns.AndPointcut.matchInternal\n(AndPointcut.java:61)\n\tat org.aspectj.weaver.patterns.Pointcut.match(Pointcut.java:151)\n\tat org.aspectj.weaver.patterns.AndPointcut.matchInternal\n(AndPointcut.java:61)\n\tat org.aspectj.weaver.patterns.Pointcut.match(Pointcut.java:151)\n\tat org.aspectj.weaver.ShadowMunger.match(ShadowMunger.java:62)\n\tat org.aspectj.weaver.Advice.match(Advice.java:101)\n\tat org.aspectj.weaver.bcel.BcelClassWeaver.match\n(BcelClassWeaver.java:1724)\n\tat org.aspectj.weaver.bcel.BcelClassWeaver.matchInvokeInstruction\n(BcelClassWeaver.java:1713)\n\tat org.aspectj.weaver.bcel.BcelClassWeaver.match\n(BcelClassWeaver.java:1526)\n\tat org.aspectj.weaver.bcel.BcelClassWeaver.match\n(BcelClassWeaver.java:1355)\n\tat org.aspectj.weaver.bcel.BcelClassWeaver.weave\n(BcelClassWeaver.java:381)\n\tat org.aspectj.weaver.bcel.BcelClassWeaver.weave\n(BcelClassWeaver.java:96)\n\tat org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:1368)\n\tat org.aspectj.weaver.bcel.BcelWeaver.weaveWithoutDump\n(BcelWeaver.java:1333)\n\tat org.aspectj.weaver.bcel.BcelWeaver.weaveAndNotify\n(BcelWeaver.java:1110)\n\tat org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:997)\n\tat org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave\n(AjCompilerAdapter.java:286)\n\tat org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling\n(AjCompilerAdapter.java:165)\n\tat \norg.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$afterReturning$org_aspec\ntj_ajdt_internal_compiler_CompilerAdapter$2$f9cc9ca0(CompilerAdapter.aj:70)\n\tat org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile\n(Compiler.java:367)\n\tat \norg.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation\n(AjBuildManager.java:728)\n\tat org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild\n(AjBuildManager.java:206)\n\tat org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild\n(AjBuildManager.java:140)\n\tat org.aspectj.ajde.internal.CompilerAdapter.compile\n(CompilerAdapter.java:121)\n\tat org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run\n(AspectJBuildManager.java:191)\n\nIn another package I have the following files.\n\npackage com.blueprint.util.aspectj5.test;\n\nimport java.io.Serializable;\n@javaBean()\npublic class Bean implements Serializable{\n\t\t\n\t\tprivate String name;\n\n\t\tpublic String getName() {\n\t\t\treturn name;\n\t\t}\n\t\t@propertyChanger()\n\t\tpublic void setName( String name ) {\n\t\t\tthis.name \u003d name;\n\t\t}\n}\n\nMy annotation is \n\npackage com.blueprint.util.aspectj5.test;\n\nimport java.lang.annotation.*;\nimport java.lang.*;\n@Retention( RetentionPolicy.RUNTIME )\n@Target({ ElementType.METHOD })\npublic @interface propertyChanger {\n}",
    "Clarification.\n\nThe first bean and the aspect with the pointcut shown are both in the same \npackage.\n\nThe second bean and the annotation are in a different package.",
    "Passing over to the compiler",
    "There\u0027s definitely a bug lurking here, but I couldn\u0027t reproduce it yet from the\ninformation provided so far. The pointcut you\u0027ve given in the snippet should\ncompile to a pointcut with an *ExactAnnotationTypePattern* (which it does for\nme), but in your stack trace you have a *WildAnnotationTypePattern*. I tried a\nvariant in which the propertyChanger annotation was not visible to the aspect,\nbut this just gave the expected type not found message. \n\nCould you please attach the full source of your aspect if possible? Also, do you\nhave any other pointcuts or advice in your application that are working with\nannotations? Is it possible one of these is the culprit?  If you could attach a\nself-contained zip with all files needed to reproduce that would be absolutely\nfantastic, otherwise we can continue the detective work as is....\n\nThanks, Adrian.",
    "I tried to repeat this but somehow my original configuration is lost. Actually \nwhen I moved everything to the same package I didn\u0027t see this bug.",
    "cant reproduce on our side - but given all the compiler changes, it might have\nbeen resolved.  Please reopen if it happens again."
  ],
  "commentCreationDates": [
    "2005-08-29T09:26:12+02:00",
    "2005-08-29T09:28:32+02:00",
    "2005-08-29T13:08:56+02:00",
    "2005-08-30T12:40:19+02:00",
    "2005-08-31T16:17:30+02:00",
    "2005-10-28T15:26:59+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.aspectj.weaver.patterns.WildAnnotationTypePattern.matches",
          "source": "WildAnnotationTypePattern.java:61"
        },
        {
          "method": "org.aspectj.weaver.patterns.SignaturePattern.matchesAnnotations",
          "source": "SignaturePattern.java:326"
        },
        {
          "method": "org.aspectj.weaver.patterns.SignaturePattern.matchesExactly",
          "source": "SignaturePattern.java:179"
        },
        {
          "method": "org.aspectj.weaver.patterns.SignaturePattern.matches",
          "source": "SignaturePattern.java:152"
        },
        {
          "method": "org.aspectj.weaver.patterns.KindedPointcut.matchInternal",
          "source": "KindedPointcut.java:111"
        },
        {
          "method": "org.aspectj.weaver.patterns.Pointcut.match",
          "source": "Pointcut.java:151"
        },
        {
          "method": "org.aspectj.weaver.patterns.AndPointcut.matchInternal",
          "source": "AndPointcut.java:61"
        },
        {
          "method": "org.aspectj.weaver.patterns.Pointcut.match",
          "source": "Pointcut.java:151"
        },
        {
          "method": "org.aspectj.weaver.patterns.AndPointcut.matchInternal",
          "source": "AndPointcut.java:61"
        },
        {
          "method": "org.aspectj.weaver.patterns.Pointcut.match",
          "source": "Pointcut.java:151"
        },
        {
          "method": "org.aspectj.weaver.ShadowMunger.match",
          "source": "ShadowMunger.java:62"
        },
        {
          "method": "org.aspectj.weaver.Advice.match",
          "source": "Advice.java:101"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.match",
          "source": "BcelClassWeaver.java:1724"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.matchInvokeInstruction",
          "source": "BcelClassWeaver.java:1713"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.match",
          "source": "BcelClassWeaver.java:1526"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.match",
          "source": "BcelClassWeaver.java:1355"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.weave",
          "source": "BcelClassWeaver.java:381"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.weave",
          "source": "BcelClassWeaver.java:96"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weave",
          "source": "BcelWeaver.java:1368"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveWithoutDump",
          "source": "BcelWeaver.java:1333"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveAndNotify",
          "source": "BcelWeaver.java:1110"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weave",
          "source": "BcelWeaver.java:997"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave",
          "source": "AjCompilerAdapter.java:286"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling",
          "source": "AjCompilerAdapter.java:165"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$afterReturning$org_aspectj_ajdt_internal_compiler_CompilerAdapter$2$f9cc9ca0",
          "source": "CompilerAdapter.aj:70"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:367"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:728"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:206"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBuildManager.java:140"
        },
        {
          "method": "org.aspectj.ajde.internal.CompilerAdapter.compile",
          "source": "CompilerAdapter.java:121"
        },
        {
          "method": "org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run",
          "source": "AspectJBuildManager.java:191"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "108245",
      "date": "2005-08-29T09:26:12+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "108245",
  "bugId": "108245",
  "date": "2005-08-29T09:26:12+02:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}