{
  "comments": [
    "I closed some projects to get rid of nagging exceptions from duplicate META-INF/aop.xml files. I\u0027m using the latest dev build with 3.2M6. Incremental recompilation produced:\n\njava.lang.StackOverflowError\nat java.util.Vector.addElement(Vector.java:581)\nat java.util.Stack.push(Stack.java:44)\nat org.aspectj.bridge.context.CompilationAndWeavingContext.enteringPhase(CompilationAndWeavingContext.java:178)\nat org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.collectAllITDsAndDeclares(AjLookupEnvironment.java:319)\nat org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.doSupertypesFirst(AjLookupEnvironment.java:301)\nat org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.collectAllITDsAndDeclares(AjLookupEnvironment.java:329)\nat org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.doSupertypesFirst(AjLookupEnvironment.java:301)\nat \n... (repeats many times)\nat org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.doSupertypesFirst(AjLookupEnvironment.java:301)\nat org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.collectAllITDsAndDeclares(AjLookupEnvironment.java:322)\n\nStackOverflowError thrown: null",
    "It turns out I get this one with a full rebuild even when using ant. I must have some kind of cyclic dependency in the source with some recent edits I made. Lots of fun to debug...",
    "p.s. In use cases like this, I really miss the old AJDT build configuration files, which made it a lot easier to build a changing subset of files to track down compiler bugs.",
    "I have narrowed this bug down (by debugging the ajc run in an Eclipse workspace with the AspectJ modules checked out). This pure Java code causes the same stack overflow in ajc, but runs properly with javac:\n\npublic interface StatisticsType {\n}\n\npublic class StatisticsTypeImpl implements StatisticsType {\n    static class UIStatisticsType extends UofwStatisticsType {\n    };\n\n    public static void main(String argz[]) {\n        System.out.println(new UIStatisticsType().toString());\n    }\n}\n\npublic class UofwStatisticsType extends StatisticsTypeImpl {\n}\n\nC:\\devel\\scratch\\funWithTypes\u003ejavac *.java\n\nC:\\devel\\scratch\\funWithTypes\u003ejava StatisticsTypeImpl\nStatisticsTypeImpl$UIStatisticsType@182f0db\n\nC:\\devel\\scratch\\funWithTypes\u003eajc *.java\nC:\\devel\\scratch\\funWithTypes\\UofwStatisticsType.java [error] Internal compiler\nerror\njava.lang.StackOverflowError\n        at org.aspectj.bridge.context.CompilationAndWeavingContext.enteringPhase\n(CompilationAndWeavingContext.java:176)\n        at org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.collect\nAllITDsAndDeclares(AjLookupEnvironment.java:319)\n        at org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.doSuper\ntypesFirst(AjLookupEnvironment.java:301)\n        at org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.collect\nAllITDsAndDeclares(AjLookupEnvironment.java:329)\n        at org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.doSuper\ntypesFirst(AjLookupEnvironment.java:301)\n...",
    "fix committed.  Remove the type earlier in the process so we don\u0027t loop round thinking we still need to deal with it.  Still might cause a problem with some wierd configuration of inter-dependendant types (wont overflow, but may fail to correctly apply ITDs).",
    "fix available."
  ],
  "commentCreationDates": [
    "2006-04-12T05:29:54+02:00",
    "2006-04-12T05:43:51+02:00",
    "2006-04-12T05:44:34+02:00",
    "2006-04-13T03:02:47+02:00",
    "2006-04-13T11:37:39+02:00",
    "2006-04-18T09:24:04+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.StackOverflowError",
      "elements": [
        {
          "method": "java.util.Vector.addElement",
          "source": "Vector.java:581"
        },
        {
          "method": "java.util.Stack.push",
          "source": "Stack.java:44"
        },
        {
          "method": "org.aspectj.bridge.context.CompilationAndWeavingContext.enteringPhase",
          "source": "CompilationAndWeavingContext.java:178"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.collectAllITDsAndDeclares",
          "source": "AjLookupEnvironment.java:319"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.doSupertypesFirst",
          "source": "AjLookupEnvironment.java:301"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.collectAllITDsAndDeclares",
          "source": "AjLookupEnvironment.java:329"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.doSupertypesFirst",
          "source": "AjLookupEnvironment.java:301"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "136258",
      "date": "2006-04-12T05:29:54+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.StackOverflowError",
      "elements": [
        {
          "method": "org.aspectj.bridge.context.CompilationAndWeavingContext.enteringPhase",
          "source": "CompilationAndWeavingContext.java:176"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.collectAllITDsAndDeclares",
          "source": "AjLookupEnvironment.java:319"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.doSupertypesFirst",
          "source": "AjLookupEnvironment.java:301"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.collectAllITDsAndDeclares",
          "source": "AjLookupEnvironment.java:329"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.AjLookupEnvironment.doSupertypesFirst",
          "source": "AjLookupEnvironment.java:301"
        }
      ],
      "number": 1,
      "commentIndex": 3,
      "bugId": "136258",
      "date": "2006-04-13T03:02:47+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "136258",
  "bugId": "136258",
  "date": "2006-04-12T05:29:54+02:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}