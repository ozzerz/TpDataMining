{
  "comments": [
    "Hi, I am using the ScriptedDataSource demo from Eclipse Birt Web Site, and I got different results from the report previwer and from the \"preview results\" of the \"Edit Data Set\" dialog box. \n\nIn the report previewer the results were as expected, but in the \"Edit Data Set\" dialog box appears the following error message:\n\norg.eclipse.birt.data.engine.core.DataException: Invalid Javascript expression. Source: DataSet:Data Set.open, line: 0, Expression:\nfunction_prefix_1137156632240();function function_prefix_1137156632240(){favoritesClass\u003d new Packages.SimpleClass();\nfavorites\u003d favoritesClass.readData();\ntotalrows\u003d favorites.size();\ncurrentrow\u003d0;}\nScript engine error: TypeError: [JavaPackage SimpleClass] is not a function.\nat org.eclipse.birt.data.engine.script.ScriptEvalUtil.RethrowJSEvalException(ScriptEvalUtil.java:414)\nat org.eclipse.birt.data.engine.script.ScriptEvalUtil.evaluateJSScript(ScriptEvalUtil.java:512)\nat org.eclipse.birt.data.engine.script.ScriptEvalUtil.evaluateJSAsMethod(ScriptEvalUtil.java:242)\nat org.eclipse.birt.data.engine.impl.DataSetRuntime.runScript(DataSetRuntime.java:245)\nat org.eclipse.birt.data.engine.impl.ScriptDataSetRuntime.runOpenScript(ScriptDataSetRuntime.java:52)\nat org.eclipse.birt.data.engine.impl.PreparedScriptDSQuery$ScriptDSQueryExecutor$CustomDataSet.open(PreparedScriptDSQuery.java:175)\nat org.eclipse.birt.data.engine.impl.PreparedScriptDSQuery$ScriptDSQueryExecutor.executeOdiQuery(PreparedScriptDSQuery.java:154)\nat org.eclipse.birt.data.engine.impl.PreparedQuery$Executor.execute(PreparedQuery.java:505)\nat org.eclipse.birt.data.engine.impl.QueryResults.getResultIterator(QueryResults.java:98)\nat org.eclipse.birt.report.designer.internal.ui.dialogs.ResultSetPreviewPage.updateResults(ResultSetPreviewPage.java:212)\nat org.eclipse.birt.report.designer.internal.ui.dialogs.ResultSetPreviewPage$2.run(ResultSetPreviewPage.java:297)\nat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\nat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\nat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3057)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2716)\nat org.eclipse.jface.window.Window.runEventLoop(Window.java:809)\nat org.eclipse.jface.window.Window.open(Window.java:787)\nat org.eclipse.birt.report.designer.internal.ui.dialogs.BaseDialog.open(BaseDialog.java:145)\nat org.eclipse.birt.report.designer.ui.actions.EditDataSetAction.doAction(EditDataSetAction.java:64)\nat org.eclipse.birt.report.designer.internal.ui.views.actions.AbstractElementAction.run(AbstractElementAction.java:60)\nat org.eclipse.jface.action.Action.runWithEvent(Action.java:996)\nat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)\nat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\nat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\nat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\nat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\nat org.eclipse.core.launcher.Main.run(Main.java:973)\nat org.eclipse.core.launcher.Main.main(Main.java:948)",
    "Created an attachment (id\u003d32986)\nReport Design\n\n",
    "Where you do put your JAR files containing the SimpleClass implementation? The error message basically says that Javascript engine can\u0027t find that class.\nIf you put the SimpleClass implementation in a Java project in the same workspace as your BIRT report project, Data Set preview should be able to locate it. If it is developed outside of this workspace, try putting its JAR file in the system class path.",
    "Additional note: please use one of the 2.0 RC buids. In earlier builds data set preview does not try to locate class in the workspace projects.",
    "Please see Gary\u0027s comment, please reopen this bug if ou still run into problem."
  ],
  "commentCreationDates": [
    "2006-01-13T15:49:37+01:00",
    "2006-01-13T15:55:57+01:00",
    "2006-01-13T19:28:24+01:00",
    "2006-01-13T19:31:51+01:00",
    "2006-01-26T06:20:37+01:00"
  ],
  "traces": [
    {
      "exceptionType": "TypeError",
      "message": "[JavaPackage SimpleClass] is not a function.",
      "elements": [
        {
          "method": "org.eclipse.birt.data.engine.script.ScriptEvalUtil.RethrowJSEvalException",
          "source": "ScriptEvalUtil.java:414"
        },
        {
          "method": "org.eclipse.birt.data.engine.script.ScriptEvalUtil.evaluateJSScript",
          "source": "ScriptEvalUtil.java:512"
        },
        {
          "method": "org.eclipse.birt.data.engine.script.ScriptEvalUtil.evaluateJSAsMethod",
          "source": "ScriptEvalUtil.java:242"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.DataSetRuntime.runScript",
          "source": "DataSetRuntime.java:245"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.ScriptDataSetRuntime.runOpenScript",
          "source": "ScriptDataSetRuntime.java:52"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedScriptDSQuery$ScriptDSQueryExecutor$CustomDataSet.open",
          "source": "PreparedScriptDSQuery.java:175"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedScriptDSQuery$ScriptDSQueryExecutor.executeOdiQuery",
          "source": "PreparedScriptDSQuery.java:154"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedQuery$Executor.execute",
          "source": "PreparedQuery.java:505"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.QueryResults.getResultIterator",
          "source": "QueryResults.java:98"
        },
        {
          "method": "org.eclipse.birt.report.designer.internal.ui.dialogs.ResultSetPreviewPage.updateResults",
          "source": "ResultSetPreviewPage.java:212"
        },
        {
          "method": "org.eclipse.birt.report.designer.internal.ui.dialogs.ResultSetPreviewPage$2.run",
          "source": "ResultSetPreviewPage.java:297"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:123"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3057"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2716"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:809"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:787"
        },
        {
          "method": "org.eclipse.birt.report.designer.internal.ui.dialogs.BaseDialog.open",
          "source": "BaseDialog.java:145"
        },
        {
          "method": "org.eclipse.birt.report.designer.ui.actions.EditDataSetAction.doAction",
          "source": "EditDataSetAction.java:64"
        },
        {
          "method": "org.eclipse.birt.report.designer.internal.ui.views.actions.AbstractElementAction.run",
          "source": "AbstractElementAction.java:60"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:996"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:538"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:843"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3080"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2713"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1699"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1663"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:367"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "123777",
      "date": "2006-01-13T15:49:37+01:00",
      "product": "BIRT",
      "component": "Data",
      "severity": "normal"
    }
  ],
  "groupId": "123777",
  "bugId": "123777",
  "date": "2006-01-13T15:49:37+01:00",
  "product": "BIRT",
  "component": "Data",
  "severity": "normal"
}