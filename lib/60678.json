{
  "comments": [
    "Build id: 200404281424\n\nIf you are self hosting with PDE UI plugin in source mode the classpath the ant\ntasks it defines do not load correctly.  You get this error in the logs:\n\u0027It appears the library specified via the extraClasspathEntries extension point\nof Plug-in Development UI does not exist\u0027\n\nThe problem appers to be that the ant integration can not load the pdeui.jar\nbecause it doesn\u0027t exist in the source plugin.\n\nIf you try and use task level content assist in an ant build script you get the\nfollowing error:\n\njava.lang.NoClassDefFoundError:\norg/eclipse/pde/internal/ui/wizards/exports/FeatureExportJob\nat java.lang.Class.getDeclaredMethods0(Native Method)\nat java.lang.Class.privateGetDeclaredMethods(Class.java:1647)\nat java.lang.Class.privateGetPublicMethods(Class.java:1770)\nat java.lang.Class.getMethods(Class.java:824)\nat org.apache.tools.ant.IntrospectionHelper.\u003cinit\u003e(IntrospectionHelper.java:172)\nat org.apache.tools.ant.IntrospectionHelper.getHelper(IntrospectionHelper.java:461)\nat\norg.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor.hasNestedElements(AntEditorCompletionProcessor.java:971)\nat\norg.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor.newCompletionProposal(AntEditorCompletionProcessor.java:845)\nat\norg.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor.createProposals(AntEditorCompletionProcessor.java:835)\nat\norg.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor.getTaskProposals(AntEditorCompletionProcessor.java:762)\nat\norg.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor.getProposalsFromDocument(AntEditorCompletionProcessor.java:345)\nat\norg.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor.determineProposals(AntEditorCompletionProcessor.java:319)\nat\norg.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor.computeCompletionProposals(AntEditorCompletionProcessor.java:228)\nat\norg.eclipse.jface.text.contentassist.ContentAssistant.computeCompletionProposals(ContentAssistant.java:1457)\nat\norg.eclipse.jface.text.contentassist.CompletionProposalPopup.computeProposals(CompletionProposalPopup.java:243)\nat\norg.eclipse.jface.text.contentassist.CompletionProposalPopup.access$7(CompletionProposalPopup.java:239)\nat\norg.eclipse.jface.text.contentassist.CompletionProposalPopup$1.run(CompletionProposalPopup.java:199)\nat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)\nat\norg.eclipse.jface.text.contentassist.CompletionProposalPopup.showProposals(CompletionProposalPopup.java:194)\nat\norg.eclipse.jface.text.contentassist.ContentAssistant.showPossibleCompletions(ContentAssistant.java:1308)\nat\norg.eclipse.ant.internal.ui.editor.AntEditor$StatusLineSourceViewer.doOperation(AntEditor.java:261)\nat org.eclipse.ui.texteditor.ContentAssistAction$1.run(ContentAssistAction.java:82)\nat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)",
    "Correct.  This is nothing more than an artifact of self-hosting and will not \n(cannot) be addressed, as it is a scenario that breaks the contract with Ant \nwhere classes are loaded exclusively from a JAR.",
    "Reopening, as this really falls in Platform/Ant land, and they have the final \nsay on how to address it.",
    "Sorry for the run around on this Brock.\nLooking at this again, I believe we do have a bug in the setup of our \nclassloader that we use for parsing the AntModel and for resolving the tasks \nand types.",
    "Changes to:\n    AntCorePlugin: exposed its classloader\n    AntModel: made use of the AntCorePlugin classloader so that plugin \nclassloader(s) needed from the extraClasspathEntries extension point are \navailable.\n    AntEditorCompletionProcessor: handles NoClassDefFoundErrors so if \nextenders do not configure there tasks contributions correctly we no longer \nbreak the code assist. Error is logged to the log.\n    AntEditorMessages: error message when there are problems.\n\nFixed in tandem with bug 60691.\n",
    "Please verify Jared.\nThanks Brock.",
    "Verified."
  ],
  "commentCreationDates": [
    "2004-05-01T05:35:20+02:00",
    "2004-05-01T05:58:28+02:00",
    "2004-05-01T06:13:27+02:00",
    "2004-05-01T18:09:28+02:00",
    "2004-05-03T18:14:48+02:00",
    "2004-05-03T18:15:13+02:00",
    "2004-05-11T05:37:23+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoClassDefFoundError",
      "message": "org/eclipse/pde/internal/ui/wizards/exports/FeatureExportJob",
      "elements": [
        {
          "method": "java.lang.Class.getDeclaredMethods0",
          "source": "Native Method"
        },
        {
          "method": "java.lang.Class.privateGetDeclaredMethods",
          "source": "Class.java:1647"
        },
        {
          "method": "java.lang.Class.privateGetPublicMethods",
          "source": "Class.java:1770"
        },
        {
          "method": "java.lang.Class.getMethods",
          "source": "Class.java:824"
        },
        {
          "method": "org.apache.tools.ant.IntrospectionHelper.\u003cinit\u003e",
          "source": "IntrospectionHelper.java:172"
        },
        {
          "method": "org.apache.tools.ant.IntrospectionHelper.getHelper",
          "source": "IntrospectionHelper.java:461"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor.hasNestedElements",
          "source": "AntEditorCompletionProcessor.java:971"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor.newCompletionProposal",
          "source": "AntEditorCompletionProcessor.java:845"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor.createProposals",
          "source": "AntEditorCompletionProcessor.java:835"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor.getTaskProposals",
          "source": "AntEditorCompletionProcessor.java:762"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor.getProposalsFromDocument",
          "source": "AntEditorCompletionProcessor.java:345"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor.determineProposals",
          "source": "AntEditorCompletionProcessor.java:319"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.AntEditorCompletionProcessor.computeCompletionProposals",
          "source": "AntEditorCompletionProcessor.java:228"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.ContentAssistant.computeCompletionProposals",
          "source": "ContentAssistant.java:1457"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.computeProposals",
          "source": "CompletionProposalPopup.java:243"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.access$7",
          "source": "CompletionProposalPopup.java:239"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup$1.run",
          "source": "CompletionProposalPopup.java:199"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:84"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.showProposals",
          "source": "CompletionProposalPopup.java:194"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.ContentAssistant.showPossibleCompletions",
          "source": "ContentAssistant.java:1308"
        },
        {
          "method": "org.eclipse.ant.internal.ui.editor.AntEditor$StatusLineSourceViewer.doOperation",
          "source": "AntEditor.java:261"
        },
        {
          "method": "org.eclipse.ui.texteditor.ContentAssistAction$1.run",
          "source": "ContentAssistAction.java:82"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:84"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "60678",
      "date": "2004-05-01T05:35:20+02:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    }
  ],
  "groupId": "60678",
  "bugId": "60678",
  "date": "2004-05-01T05:35:20+02:00",
  "product": "Platform",
  "component": "Ant",
  "severity": "normal"
}