{
  "comments": [
    "20020618 + org.eclipse.ui and org.eclipse.debug.ui from HEAD\nXP\n\n1) Place the following conditional breakpoint on the first line of \nMenuManager.update(boolean, boolean)\n     \"org.eclipse.ui.run\".equals(id)\n2) Launch (debug) a runtime workbench.\n3) You may hit the breakpoint \u003e resume\n4) When the workbench opens try changing between the Java, Debug, and Resource \nperspectives. If the breakpoint hits resume.\n5) You may have to do something in your dev such as browsing and modifying \ncode.\n6) If the breakpoint hits resume.\n7) Eventually, after switching perspectives a few times, you should notice \nthat your target is dead (sorry I can\u0027t give exact steps) but the debugger \ndoes not show a suspended thread.\n8) Press the \"Remove All Terminated Launches\" button\n9) Now the stack updates to show the suspended thread.\n\nAgain sorry for the lack of exact steps but I am seeing this about every 20 \nmins as I work with the debugger.",
    "I was using IBM JDK 1.3.1",
    "Created an attachment (id\u003d1506)\nFound a number of the attached paired exceptions in the log\n",
    "I noticed this in the console when trying to reproduce.\n\njava.lang.NullPointerException\n        at org.eclipse.jdt.internal.debug.eval.ast.engine.EvaluationThread.doEva\nluation(EvaluationThread.java:134)\n        at org.eclipse.jdt.internal.debug.eval.ast.engine.EvaluationThread.acces\ns$2(EvaluationThread.java:132)\n        at org.eclipse.jdt.internal.debug.eval.ast.engine.EvaluationThread$1.run\n(EvaluationThread.java:106)\n        at java.lang.Thread.run(Thread.java:512)",
    "The NPE appears to be a simple timing bug that managed to escape detection \nuntil now.\n\nEvaluationThread#evaluationFinished() sets fEvaluating\u003d false on the first \nline. At this point, another evaluation can start to use the \nEvaluationThread, setting the variables necessary to perform an evaluation. \nThen, the evaluationFinished() code finishes running and nulls out all of \nthe instance variables that were just set. When the time comes to perform \nthe evaluation in the thread, it blows up.\n\nThe fix is to simply move the call to \"fEvaluating\u003d false\" to the end of \nthe evaluationFinished method.",
    "Created an attachment (id\u003d1518)\nsreenshot of NPE\n",
    "Somehow, fExpression is null.",
    "Somehow, I missed your annotation, while updating :-)",
    "Verified the suggested fix fixes the problem.",
    "ARCH approval: The consequence of this one is as Jared states:\n\n\"EvaluationThread#evaluationFinished() sets fEvaluating\u003d false on the first \nline. At this point, another evaluation can start to use the \nEvaluationThread, setting the variables necessary to perform an evaluation. \nThen, the evaluationFinished() code finishes running and nulls out all of \nthe instance variables that were just set. When the time comes to perform \nthe evaluation in the thread, it blows up.\"\n\nThe fix is simple.",
    "Released fix to HEAD.",
    "Awiating approval.",
    "Verified."
  ],
  "commentCreationDates": [
    "2002-06-18T23:31:41+02:00",
    "2002-06-19T16:46:26+02:00",
    "2002-06-19T16:50:02+02:00",
    "2002-06-19T20:54:56+02:00",
    "2002-06-19T21:27:31+02:00",
    "2002-06-19T21:28:29+02:00",
    "2002-06-19T21:29:21+02:00",
    "2002-06-19T21:32:18+02:00",
    "2002-06-19T21:52:21+02:00",
    "2002-06-19T21:58:11+02:00",
    "2002-06-20T04:46:31+02:00",
    "2002-06-20T04:47:55+02:00",
    "2002-06-21T16:40:10+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.engine.EvaluationThread.doEvaluation",
          "source": "EvaluationThread.java:134"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.engine.EvaluationThread.access$2",
          "source": "EvaluationThread.java:132"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.engine.EvaluationThread$1.run",
          "source": "EvaluationThread.java:106"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:512"
        }
      ],
      "number": 0,
      "commentIndex": 3,
      "bugId": "20604",
      "date": "2002-06-19T20:54:56+02:00",
      "product": "Platform",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "20604",
  "bugId": "20604",
  "date": "2002-06-18T23:31:41+02:00",
  "product": "Platform",
  "component": "Debug",
  "severity": "normal"
}