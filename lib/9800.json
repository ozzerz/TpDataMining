{
  "comments": [
    "Build 20020212\n\n- I was creating an action on an action set using the PDE tools\n- On the property sheet, I click on the down arrow for the class attribute\n- In the resulting dialog I choose \"Generate new class\"\n- The entry fields were pre-filled with the following values:\n\nSource folder: src/\nPackage name: org.eclipse.ant.ui\nClass name: WorkbenchWindowActionDelegate1\n\n- I clicked the \"Browse\" button next to the \"Package name\" field\n   (side note: these \"Browse\" buttons are cut off, I can only see \"Bro\"\n- Internal error occurs\n\nAlthough the stack trace points the finger at JDT, I thought I should log it \nhere first to see if some incorrect value is being passed to the JDT dialog \nwhich causes the error.\n\njava.lang.IllegalArgumentException: Argument cannot be null\n\tat org.eclipse.swt.SWT.error(SWT.java:1873)\n\tat org.eclipse.swt.SWT.error(SWT.java:1819)\n\tat org.eclipse.swt.widgets.Widget.error(Widget.java:368)\n\tat org.eclipse.swt.widgets.Label.setText(Label.java(Compiled Code))\n\tat \norg.eclipse.ui.dialogs.SelectionDialog.createMessageArea(SelectionDialog.java:80\n)\n\tat \norg.eclipse.jdt.internal.ui.dialogs.AbstractElementListSelectionDialog.createMes\nsageArea(AbstractElementListSelectionDialog.java:240)\n\tat \norg.eclipse.jdt.internal.ui.dialogs.ElementListSelectionDialog.createDialogArea(\nElementListSelectionDialog.java:52)\n\tat org.eclipse.jface.dialogs.Dialog.createContents(Dialog.java:465)\n\tat org.eclipse.jface.window.Window.create(Window.java:263)\n\tat \norg.eclipse.jdt.internal.ui.dialogs.SelectionStatusDialog.create(SelectionStatus\nDialog.java:132)\n\tat \norg.eclipse.jdt.internal.ui.dialogs.AbstractElementListSelectionDialog.create(Ab\nstractElementListSelectionDialog.java:407)\n\tat org.eclipse.jface.window.Window.open(Window.java:512)\n\tat \norg.eclipse.jdt.internal.ui.dialogs.AbstractElementListSelectionDialog.access$su\nperOpen(AbstractElementListSelectionDialog.java:400)\n\tat \norg.eclipse.jdt.internal.ui.dialogs.AbstractElementListSelectionDialog.access$2(\nAbstractElementListSelectionDialog.java:399)\n\tat \norg.eclipse.jdt.internal.ui.dialogs.AbstractElementListSelectionDialog$4.run(Abs\ntractElementListSelectionDialog.java:393)\n\tat \norg.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java(Compiled \nCode))\n\tat \norg.eclipse.jdt.internal.ui.dialogs.AbstractElementListSelectionDialog.open(Abst\nractElementListSelectionDialog.java:391)\n\tat \norg.eclipse.pde.internal.editor.manifest.JavaAttributeWizardPage.handleFindPacka\nge(JavaAttributeWizardPage.java:348)\n\tat \norg.eclipse.pde.internal.editor.manifest.JavaAttributeWizardPage.access$7(JavaAt\ntributeWizardPage.java:343)\n\tat \norg.eclipse.pde.internal.editor.manifest.JavaAttributeWizardPage$5.widgetSelecte\nd(JavaAttributeWizardPage.java:164)\n\tat \norg.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java(Compiled \nCode))\n\tat \norg.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled \nCode))\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java(Compiled \nCode))\n\tat org.eclipse.jface.window.Window.open(Window.java:525)\n\tat \norg.eclipse.pde.internal.editor.manifest.JavaAttributeCellEditor.openDialogBox(J\navaAttributeCellEditor.java:40)\n\tat \norg.eclipse.jface.viewers.DialogCellEditor$2.widgetSelected(DialogCellEditor.jav\na:154)\n\tat \norg.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java(Compiled \nCode))\n\tat \norg.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled \nCode))\n\tat \norg.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:771)\n\tat \norg.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:77\n7)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:319)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:151)\n\tat org.eclipse.core.launcher.Main.run(Main.java:502)\n\tat org.eclipse.core.launcher.Main.main(Main.java:362)",
    "Good catch - I fixed the same problem for browsing for a class, but missed the \npackage one.\n\nJDT is using the message value before it is set, so the workaround was to \ncall \u0027setMessage(\"\")\u0027 on a search dialog to initialize the message.\n\nMoving this to JDT: when selection dialog is created in PDE using\n\n\t\tSelectionDialog dialog \u003d\n\t\t\tJavaUI.createPackageDialog\n(PDEPlugin.getActiveWorkbenchShell(), JavaCore.create(project), 0);\n\nthe dialog fails with a NPE if the message value is not initialized using:\n\ndialog.setMessage(\"\");\n\nTracing showed that the dialog is using the message value field without\nchecking if it was null.",
    "JDT team, see if this is still valid.",
    "SelectionDialog (in platform.ui) is the base class that holds the message.\nIt seems that this was changed and message now is initialized by an empty\nstring. But for the title this is still not the case.\nMoving to platform",
    "Ines please look at this one.",
    "We do this now in configureShel()\n\nif (title !\u003d null)\n\t\tshell.setText(title);"
  ],
  "commentCreationDates": [
    "2002-02-13T23:37:15+01:00",
    "2002-02-15T14:54:40+01:00",
    "2004-03-10T14:49:40+01:00",
    "2004-03-11T10:07:34+01:00",
    "2004-04-12T20:10:31+02:00",
    "2004-04-12T20:50:27+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Argument cannot be null",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:1873"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:1819"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:368"
        },
        {
          "method": "org.eclipse.swt.widgets.Label.setText",
          "source": "Label.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.dialogs.SelectionDialog.createMessageArea",
          "source": "SelectionDialog.java:80 "
        },
        {
          "method": "org.eclipse.jdt.internal.ui.dialogs.AbstractElementListSelectionDialog.createMessageArea",
          "source": "AbstractElementListSelectionDialog.java:240"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.dialogs.ElementListSelectionDialog.createDialogArea",
          "source": " ElementListSelectionDialog.java:52"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog.createContents",
          "source": "Dialog.java:465"
        },
        {
          "method": "org.eclipse.jface.window.Window.create",
          "source": "Window.java:263"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.dialogs.SelectionStatusDialog.create",
          "source": "SelectionStatus Dialog.java:132"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.dialogs.AbstractElementListSelectionDialog.create",
          "source": "Ab stractElementListSelectionDialog.java:407"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:512"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.dialogs.AbstractElementListSelectionDialog.access$superOpen",
          "source": "AbstractElementListSelectionDialog.java:400"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.dialogs.AbstractElementListSelectionDialog.access$2",
          "source": " AbstractElementListSelectionDialog.java:399"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.dialogs.AbstractElementListSelectionDialog$4.run",
          "source": "Abs tractElementListSelectionDialog.java:393"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.dialogs.AbstractElementListSelectionDialog.open",
          "source": "Abst ractElementListSelectionDialog.java:391"
        },
        {
          "method": "org.eclipse.pde.internal.editor.manifest.JavaAttributeWizardPage.handleFindPackage",
          "source": "JavaAttributeWizardPage.java:348"
        },
        {
          "method": "org.eclipse.pde.internal.editor.manifest.JavaAttributeWizardPage.access$7",
          "source": "JavaAt tributeWizardPage.java:343"
        },
        {
          "method": "org.eclipse.pde.internal.editor.manifest.JavaAttributeWizardPage$5.widgetSelected",
          "source": "JavaAttributeWizardPage.java:164"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:525"
        },
        {
          "method": "org.eclipse.pde.internal.editor.manifest.JavaAttributeCellEditor.openDialogBox",
          "source": "J avaAttributeCellEditor.java:40"
        },
        {
          "method": "org.eclipse.jface.viewers.DialogCellEditor$2.widgetSelected",
          "source": "DialogCellEditor.jav a:154"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:771"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:77 7"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:319"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:151"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:502"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:362"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "9800",
      "date": "2002-02-13T23:37:15+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "9800",
  "bugId": "9800",
  "date": "2002-02-13T23:37:15+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}