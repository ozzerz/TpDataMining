{
  "comments": [
    "Using Suse Linux ES 9 beta 4\nCDT 200406110301\nEclipse 200406110010\nIBM JRE 1.4.2 20040524\n\nQE_TestCase_P2_SCAN017  Scanner Config with Parallel build enabled\n\n1. Import a project\nI used Team Project Set in /home/bnicolle/cdt/big_projects/CppTargetRTS.psf\n\n(2. Cancel build that starts automatically.)\n\n3. From Project properties\u0027, change build command to run:\n make -j4 CONFIG\u003dREDHAT60S.x86-gnu-generic\n(REDHAT is a convenient config for generic Linux builds.)\n-j4 is the \"parallel build\" option\n\n4. Build the project.\nThe build is successful.\nIt appears Scanner Config works correctly too.\n\n5. Eventually refer back to the CONSOLE from which eclipse was started.\nThe following message appears on the CONSOLE. (The .log file is empty.)\n\njava.util.ConcurrentModificationException\n        at java.util.AbstractList$Itr.checkForComodification(AbstractList.java(I\nnlined Compiled Code))\n        at java.util.AbstractList$Itr.next(AbstractList.java(Compiled Code))\n        at java.util.AbstractCollection.remove(AbstractCollection.java(Compiled \nCode))\n        at org.eclipse.cdt.internal.core.model.CElementInfo.removeChild(CElement\nInfo.java:82)\n        at org.eclipse.cdt.internal.core.model.Parent.removeChild(Parent.java:35\n)\n        at org.eclipse.cdt.internal.core.model.Binary.closing(Binary.java:368)\n        at org.eclipse.cdt.internal.core.model.CModelManager.releaseCElement(CMo\ndelManager.java:449)\n        at org.eclipse.cdt.internal.core.model.DeltaProcessor.releaseCElement(De\nltaProcessor.java:213)\n        at org.eclipse.cdt.internal.core.model.DeltaProcessor.createElement(Delt\naProcessor.java(Compiled Code))\n        at org.eclipse.cdt.internal.core.model.DeltaProcessor.updateCurrentDelta\nAndIndex(DeltaProcessor.java(Compiled Code))\n        at org.eclipse.cdt.internal.core.model.DeltaProcessor.traverseDelta(Delt\naProcessor.java(Compiled Code))\n        at org.eclipse.cdt.internal.core.model.DeltaProcessor.traverseDelta(Delt\naProcessor.java(Compiled Code))\n        at org.eclipse.cdt.internal.core.model.DeltaProcessor.traverseDelta(Delt\naProcessor.java(Compiled Code))\n        at org.eclipse.cdt.internal.core.model.DeltaProcessor.processResourceDel\nta(DeltaProcessor.java:412)\n        at org.eclipse.cdt.internal.core.model.CModelManager.resourceChanged(CMo\ndelManager.java:697)\n        at org.eclipse.core.internal.events.NotificationManager$2.run(Notificati\nonManager.java:283)\n        at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatfo\nrm.java(Inlined Compiled Code))\n        at org.eclipse.core.runtime.Platform.run(Platform.java(Compiled Code))\n        at org.eclipse.core.internal.events.NotificationManager.notify(Notificat\nionManager.java:277)\n        at org.eclipse.core.internal.events.NotificationManager.broadcastChanges\n(NotificationManager.java:151)\n        at org.eclipse.core.internal.resources.Workspace.broadcastChanges(Worksp\nace.java(Inlined Compiled Code))\n        at org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.\njava(Compiled Code))\n        at org.eclipse.core.internal.resources.Project.build(Project.java:109)\n        at org.eclipse.ui.actions.BuildAction.invokeOperation(BuildAction.java:1\n69)\n        at org.eclipse.ui.actions.WorkspaceAction.execute(WorkspaceAction.java:1\n27)\n        at org.eclipse.ui.actions.WorkspaceAction$2.run(WorkspaceAction.java:370\n)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)",
    "Alain,  Does this make any sense to you?  I do not believe that it is related \nto ScannerConfig  (based on the call stack).",
    "\u003e Alain,  Does this make any sense to you?  I do not believe that it is related \n\u003e to ScannerConfig  (based on the call stack).\n\nYes.\nSince we no longer use an array to hold the children,\nwe have to synchronize the ArrayList() use in the CElementInfo.\n\nHoda, I\u0027ll take here of it later today.",
    "I\u0027m just suprise we did not see this before,\nThe BinaryRunner(A thread looking for Binary/Archive type files)\nwas adding children while the DeltaProcessor(resource changes)\nwas doing the same, hence the ConcurrentModificationException.\n\nSo we need to synchronize the list now ... unfortunate, it takes\na little on some excellent work Hoda did to raise the performance,\ni.e. changing the children array to a non-sync ArrayList.  According\nto my performance book a Vector is synchonized __and__ faster\nthen a synchonized ArrayList(), the list is change to a vector.\n\nHoda, you may want to re-run your tests, but IIRC the performance\ngain was more because we were checking (if contains()) for each\naddChild() to avoid duplication.\n\n\nFlip to fix.\n"
  ],
  "commentCreationDates": [
    "2004-06-16T21:34:00+02:00",
    "2004-06-24T15:50:08+02:00",
    "2004-06-24T20:55:48+02:00",
    "2004-06-25T03:24:03+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.util.ConcurrentModificationException",
      "elements": [
        {
          "method": "java.util.AbstractList$Itr.checkForComodification",
          "source": "AbstractList.java(I nlined Compiled Code)"
        },
        {
          "method": "java.util.AbstractList$Itr.next",
          "source": "AbstractList.java(Compiled Code)"
        },
        {
          "method": "java.util.AbstractCollection.remove",
          "source": "AbstractCollection.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.cdt.internal.core.model.CElementInfo.removeChild",
          "source": "CElement Info.java:82"
        },
        {
          "method": "org.eclipse.cdt.internal.core.model.Parent.removeChild",
          "source": "Parent.java:35 "
        },
        {
          "method": "org.eclipse.cdt.internal.core.model.Binary.closing",
          "source": "Binary.java:368"
        },
        {
          "method": "org.eclipse.cdt.internal.core.model.CModelManager.releaseCElement",
          "source": "CMo delManager.java:449"
        },
        {
          "method": "org.eclipse.cdt.internal.core.model.DeltaProcessor.releaseCElement",
          "source": "De ltaProcessor.java:213"
        },
        {
          "method": "org.eclipse.cdt.internal.core.model.DeltaProcessor.createElement",
          "source": "Delt aProcessor.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.cdt.internal.core.model.DeltaProcessor.updateCurrentDeltaAndIndex",
          "source": "DeltaProcessor.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.cdt.internal.core.model.DeltaProcessor.traverseDelta",
          "source": "Delt aProcessor.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.cdt.internal.core.model.DeltaProcessor.traverseDelta",
          "source": "Delt aProcessor.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.cdt.internal.core.model.DeltaProcessor.traverseDelta",
          "source": "Delt aProcessor.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.cdt.internal.core.model.DeltaProcessor.processResourceDelta",
          "source": "DeltaProcessor.java:412"
        },
        {
          "method": "org.eclipse.cdt.internal.core.model.CModelManager.resourceChanged",
          "source": "CMo delManager.java:697"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager$2.run",
          "source": "Notificati onManager.java:283"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatfo rm.java(Inlined Compiled Code)"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.notify",
          "source": "Notificat ionManager.java:277"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.broadcastChanges",
          "source": "NotificationManager.java:151"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.broadcastChanges",
          "source": "Worksp ace.java(Inlined Compiled Code)"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.endOperation",
          "source": "Workspace. java(Compiled Code)"
        },
        {
          "method": "org.eclipse.core.internal.resources.Project.build",
          "source": "Project.java:109"
        },
        {
          "method": "org.eclipse.ui.actions.BuildAction.invokeOperation",
          "source": "BuildAction.java:1 69"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceAction.execute",
          "source": "WorkspaceAction.java:1 27"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceAction$2.run",
          "source": "WorkspaceAction.java:370 "
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:66"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "67514",
      "date": "2004-06-16T21:34:00+02:00",
      "product": "CDT",
      "component": "cdt-core",
      "severity": "major"
    }
  ],
  "groupId": "67514",
  "bugId": "67514",
  "date": "2004-06-16T21:34:00+02:00",
  "product": "CDT",
  "component": "cdt-core",
  "severity": "major"
}