{
  "comments": [
    "Restarted everything in debugger.  All processes ended with error.\nConsole showed this (see bottom of note), amongst other things\n\nHmmmm...  Type not supported ... seems like there was something in my sample\ntest file that I was encouraged to comment out a while back...\nI built this one from the sample file within the MPI help plugin again...\nAh... MPI_Status.\nWhen I comment out the declaration and use of MPI_Status, it steps and\nruns just fine.\n\n...Beth\n\n\n\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d EVENT_DBG_ERROR \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n----- debugger error: Debugger error: type not supported (yet) ------------\n    --- Abs debugger: org.eclipse.ptp.debug.external.core.cdi.event.ErrorEvent@27662766\n***** CURRENT COMMAND: org.eclipse.ptp.debug.external.core.commands.StopDebuggerCommand@10a010a\n\u003c00000003 QUI\u003e\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d event: org.eclipse.ptp.debug.external.core.cdi.event.ErrorEvent@27662766\nException in thread \"IDebugger Event Thread\" java.lang.ClassCastException: org.eclipse.ptp.debug.external.core.cdi.event.ErrorEvent incompatible with org.eclipse.ptp.debug.external.core.cdi.event.InferiorSignaledEvent\n        at org.eclipse.ptp.debug.internal.ui.UIDebugManager.handleDebugEvents(UIDebugManager.java:567)\n        at org.eclipse.ptp.debug.internal.ui.UIDebugManager.access$0(UIDebugManager.java:517)\n        at org.eclipse.ptp.debug.internal.ui.UIDebugManager$5.run (UIDebugManager.java:508)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1721)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1741)\n        at org.eclipse.ptp.debug.internal.ui.UIDebugManager.handleDebugEvents (UIDebugManager.java:512)\n        at org.eclipse.ptp.debug.external.core.cdi.EventManager.fireEvents(EventManager.java:88)\n        at org.eclipse.ptp.debug.external.core.cdi.EventManager.update(EventManager.java:64)\n        at java.util.Observable.notifyObservers(Observable.java:157)\n        at org.eclipse.ptp.debug.external.core.AbstractDebugger.notifyObservers(AbstractDebugger.java:192)\n        at org.eclipse.ptp.debug.external.core.EventThread.run (EventThread.java:43)\nAbstractProxyDebugClientgot event EVENT_OK 111 8:FF\ngot debug event: EVENT_DBG_OK ff",
    "fixed java.lang.ClassCastException problem",
    "Please test and reopen if not fixed.",
    "Tested on Linux by adding the declaration \u0027MPI_status status;\u0027 to MPI program. There still appears to be a problem in the AIF code. Here is the console output with DEBUG enabled in MISession.c:\n\n*** SEND COMMAND: Get AIF, tasks: 0\n        \u003d\u003d\u003d\u003d\u003d\u003d\u003d int: is4, size: 4\ngot debug event: EVENT_DBG_DATA 01 \u003cis4,10922\u003e\n\u003c00000025 EEX 5:343a303100 9:287374617475732900\u003e\n++++++++++ ptp_orte_proxy: gdb\u003e\u003e\u003e -var-create - * (status)\n++++++++++ ptp_orte_proxy: \n++++++++++ ptp_orte_proxy: \u003c\u003c\u003cgdb ^done,name\u003d\"var17\",numchild\u003d\"5\",type\u003d\"MPI_Status\"\n++++++++++ ptp_orte_proxy: (gdb) \n++++++++++ ptp_orte_proxy: \nevent thread exiting...\n++++++++++ ptp_orte_proxy: gdb\u003e\u003e\u003e -var-list-children var17\n++++++++++ ptp_orte_proxy: \n++++++++++ ptp_orte_proxy: \u003c\u003c\u003cgdb ^done,numchild\u003d\"5\",children\u003d[child\u003d{name\u003d\"var17.MPI_SOURCE\",exp\u003d\"MPI_SOURCE\",numchild\u003d\"0\",type\u003d\"int\"},child\u003d{name\u003d\"var17.MPI_TAG\",exp\u003d\"MPI_TAG\",numchild\u003d\"0\",type\u003d\"int\"},child\u003d{name\u003d\"var17.MPI_ERROR\",exp\u003d\"MPI_ERROR\",numchild\u003d\"0\",type\u003d\"int\"},child\u003d{name\u003d\"var17._count\",exp\u003d\"_count\",numchild\u003d\"0\",type\u003d\"int\"},child\u003d{name\u003d\"var17._cancelled\",exp\u003d\"_cancelled\",numchild\u003d\"0\",type\u003d\"int\"}]\n++++++++++ ptp_orte_proxy: (gdb) \n++++++++++ ptp_orte_proxy: \n++++++++++ ptp_orte_proxy: gdb\u003e\u003e\u003e -var-delete var17\n++++++++++ ptp_orte_proxy: \n++++++++++ ptp_orte_proxy: \u003c\u003c\u003cgdb ^done,ndeleted\u003d\"6\"\n++++++++++ ptp_orte_proxy: (gdb) \n++++++++++ ptp_orte_proxy: \n++++++++++ ptp_orte_proxy: Signal:11 info.si_errno:0(Success) si_code:128()\n++++++++++ ptp_orte_proxy: Failing at addr:(nil)\n++++++++++ ptp_orte_proxy: ",
    "I see a similar problem on macosx. It looks like there is a problem reading the MPI_Status structure:\n\n\u003c00000025 EEX 5:323a303100 9:287374617475732900\u003e\n++++++++++ ptp_orte_proxy: Signal:10 info.si_errno:0(Unknown error: 0) si_code:1(BUS_ADRALN)\n++++++++++ ptp_orte_proxy: Failing at addr:0x1\n++++++++++ ptp_orte_proxy: ",
    "It looks like the problem is caused by support for typedef. I get a similar problem if I have the following declaration:\n\nstruct test {\n  int a;\n  int b;\n};\ntypedef struct test test;\ntest xxx;\n\nWhen the debugger tries to read the value of xxx the same error occurs.\n\n\n",
    "all defined types will be treated as struct type. Seems fixed this problem.",
    "This now appears to be fixed for MPI_Status, but MPI_Datatype now fails. \n\nAdd this declaration to an MPI program:\n\n     MPI_Datatype *\tres_type;\n\nWhen the debugger attempts to fetch the value, I see this error:\n\n*** SEND COMMAND: Get AIF, tasks: 0\n++++++++++ ptp_orte_proxy: Signal:11 info.si_errno:0(Unknown error: 0) si_code:1(SEGV_MAPERR)\n++++++++++ ptp_orte_proxy: Failing at addr:0x80808084\n++++++++++ ptp_orte_proxy: ",
    "I run gdb to test MPI_Datatype.\n\n-var-create - * res_type\n^done,name\u003d\"var1\",numchild\u003d\"0\",type\u003d\"MPI_Datatype\"\n(gdb)\n\nNote:  The type is MPI_Datatype, but numchild is 0.  If the numchild is 0, it should be primitive type, but it is not.  I tried ptype.\n\nptype res_type\n\u0026\"ptype res_type\\n\"\n~\"type \u003d struct ompi_datatype_t {\\n\"\n~\"    \u003cincomplete type\u003e\\n\"\n~\"} *\\n\"\n^done\n(gdb)\n\nIt returns the type is struct, but the content is incomplete type.\n\nThis case in CDT, it will print out the address value only.  In PTP, we use AIF.  Then what kind of type of AIF suits for this variable type?\n",
    "fixed."
  ],
  "commentCreationDates": [
    "2006-03-03T23:34:05+01:00",
    "2006-03-06T00:44:39+01:00",
    "2006-03-11T01:27:18+01:00",
    "2006-08-03T21:47:47+02:00",
    "2006-09-11T21:00:51+02:00",
    "2006-09-11T21:14:15+02:00",
    "2006-09-19T08:34:11+02:00",
    "2006-09-20T16:01:19+02:00",
    "2006-09-21T18:06:39+02:00",
    "2006-09-23T01:38:26+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.ptp.debug.external.core.cdi.event.ErrorEvent incompatible with org.eclipse.ptp.debug.external.core.cdi.event.InferiorSignaledEvent",
      "elements": [
        {
          "method": "org.eclipse.ptp.debug.internal.ui.UIDebugManager.handleDebugEvents",
          "source": "UIDebugManager.java:567"
        },
        {
          "method": "org.eclipse.ptp.debug.internal.ui.UIDebugManager.access$0",
          "source": "UIDebugManager.java:517"
        },
        {
          "method": "org.eclipse.ptp.debug.internal.ui.UIDebugManager$5.run",
          "source": "UIDebugManager.java:508"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1721"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1741"
        },
        {
          "method": "org.eclipse.ptp.debug.internal.ui.UIDebugManager.handleDebugEvents",
          "source": "UIDebugManager.java:512"
        },
        {
          "method": "org.eclipse.ptp.debug.external.core.cdi.EventManager.fireEvents",
          "source": "EventManager.java:88"
        },
        {
          "method": "org.eclipse.ptp.debug.external.core.cdi.EventManager.update",
          "source": "EventManager.java:64"
        },
        {
          "method": "java.util.Observable.notifyObservers",
          "source": "Observable.java:157"
        },
        {
          "method": "org.eclipse.ptp.debug.external.core.AbstractDebugger.notifyObservers",
          "source": "AbstractDebugger.java:192"
        },
        {
          "method": "org.eclipse.ptp.debug.external.core.EventThread.run",
          "source": "EventThread.java:43"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "130415",
      "date": "2006-03-03T23:34:05+01:00",
      "product": "PTP",
      "component": "Debug Core",
      "severity": "normal"
    }
  ],
  "groupId": "130415",
  "bugId": "130415",
  "date": "2006-03-03T23:34:05+01:00",
  "product": "PTP",
  "component": "Debug Core",
  "severity": "normal"
}