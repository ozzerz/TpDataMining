{
  "comments": [
    "For the display of an image created dynamically by an own java class I use a\nscripted data set with one column of type \"any\" and a\nScriptedDataSetEventAdapter that sets the column value with a byte[].\nThis was described in a BIRT example and works with BIRT 2.1.2.\n\nNow, we are using BIRT 2.2 and we get an AssertionError running our report creation JUnit test (where the assertion check is enabled).\nIt seems that the constructor of the \"ResultObject\" class has got a new\nif-statement if the result field is of type \"any\".\nThe assertion within the invoked method \"ResultFieldMetadata.setDataType()\"\nchecks whether the data type is an Integer.class or a Double.class or ...\nAs byte[] isn\u0027t part of the expected java data types the assertion error is\nthrown (see below).\n\njava.lang.AssertionError\n at\norg.eclipse.birt.data.engine.executor.ResultFieldMetadata.setDataType(Result\nFieldMetadata.java:100)\n at\norg.eclipse.birt.data.engine.executor.ResultObject.\u003cinit\u003e(ResultObject.java:\n55)\n at\norg.eclipse.birt.data.engine.executor.cache.ExpandableRowResultSet.next(Expa\nndableRowResultSet.java:77)\n at\norg.eclipse.birt.data.engine.executor.cache.SmartCacheHelper.populateData(Sm\nartCacheHelper.java:268)\n at\norg.eclipse.birt.data.engine.executor.cache.SmartCacheHelper.initInstance(Sm\nartCacheHelper.java:241)\n at\norg.eclipse.birt.data.engine.executor.cache.SmartCacheHelper.getResultSetCac\nhe(SmartCacheHelper.java:204)\n at\norg.eclipse.birt.data.engine.executor.cache.SmartCache.\u003cinit\u003e(SmartCache.jav\na:68)\n at\norg.eclipse.birt.data.engine.executor.transform.pass.PassUtil.populateOdiRes\nultSet(PassUtil.java:113)\n at\norg.eclipse.birt.data.engine.executor.transform.pass.PassUtil.pass(PassUtil.\njava:66)\n at\norg.eclipse.birt.data.engine.executor.transform.pass.PassManager.doSinglePas\ns(PassManager.java:185)\n at\norg.eclipse.birt.data.engine.executor.transform.pass.PassManager.pass(PassMa\nnager.java:90)\n at\norg.eclipse.birt.data.engine.executor.transform.pass.PassManager.populateRes\nultSet(PassManager.java:72)\n at\norg.eclipse.birt.data.engine.executor.transform.ResultSetPopulator.populateR\nesultSet(ResultSetPopulator.java:208)\n at\norg.eclipse.birt.data.engine.executor.transform.CachedResultSet.\u003cinit\u003e(Cache\ndResultSet.java:132)\n at\norg.eclipse.birt.data.engine.executor.CandidateQuery.execute(CandidateQuery.\njava:106)\n at\norg.eclipse.birt.data.engine.impl.PreparedScriptDSQuery$ScriptDSQueryExecuto\nr.executeOdiQuery(PreparedScriptDSQuery.java:223)\n at\norg.eclipse.birt.data.engine.impl.QueryExecutor.execute(QueryExecutor.java:7\n61)\n at\norg.eclipse.birt.data.engine.impl.ServiceForQueryResults.executeQuery(Servic\neForQueryResults.java:216)\n at\norg.eclipse.birt.data.engine.impl.QueryResults.getResultIterator(QueryResult\ns.java:152)\n at\norg.eclipse.birt.report.engine.data.dte.QueryResultSet.\u003cinit\u003e(QueryResultSet\n.java:83)\n at\norg.eclipse.birt.report.engine.data.dte.DteDataEngine.doExecuteQuery(DteData\nEngine.java:155)\n at\norg.eclipse.birt.report.engine.data.dte.DteDataEngine.doExecuteQuery(DteData\nEngine.java:115)\n at\norg.eclipse.birt.report.engine.data.dte.AbstractDataEngine.execute(AbstractD\nataEngine.java:178)\n at\norg.eclipse.birt.report.engine.executor.ExecutionContext.executeQuery(Execut\nionContext.java:1678)\n at\norg.eclipse.birt.report.engine.executor.QueryItemExecutor.executeQuery(Query\nItemExecutor.java:82)\n at\norg.eclipse.birt.report.engine.executor.TableItemExecutor.execute(TableItemE\nxecutor.java:61)\n at\norg.eclipse.birt.report.engine.internal.executor.wrap.WrappedReportItemExecu\ntor.execute(WrappedReportItemExecutor.java:45)\n at\norg.eclipse.birt.report.engine.internal.executor.dup.SuppressDuplicateItemEx\necutor.execute(SuppressDuplicateItemExecutor.java:42)\n at\norg.eclipse.birt.report.engine.internal.executor.wrap.WrappedReportItemExecu\ntor.execute(WrappedReportItemExecutor.java:45)\n at\norg.eclipse.birt.report.engine.internal.executor.l18n.LocalizedReportItemExe\ncutor.execute(LocalizedReportItemExecutor.java:33)\n at\norg.eclipse.birt.report.engine.layout.html.HTMLBlockStackingLM.layoutChildre\nn(HTMLBlockStackingLM.java:63)\n at\norg.eclipse.birt.report.engine.layout.html.HTMLAbstractLM.layout(HTMLAbstrac\ntLM.java:171)\n at\norg.eclipse.birt.report.engine.layout.html.HTMLInlineStackingLM.resumeLayout\n(HTMLInlineStackingLM.java:94)\n at\norg.eclipse.birt.report.engine.layout.html.HTMLInlineStackingLM.layoutChildr\nen(HTMLInlineStackingLM.java:138)\n at\norg.eclipse.birt.report.engine.layout.html.HTMLRowLM.layoutChildren(HTMLRowL\nM.java:41)\n at\norg.eclipse.birt.report.engine.layout.html.HTMLAbstractLM.layout(HTMLAbstrac\ntLM.java:171)\n at\norg.eclipse.birt.report.engine.layout.html.HTMLRowLM.layout(HTMLRowLM.java:3\n1)\n at\norg.eclipse.birt.report.engine.layout.html.HTMLBlockStackingLM.layoutChildre\nn(HTMLBlockStackingLM.java:68)\n at\norg.eclipse.birt.report.engine.layout.html.HTMLTableLM.layoutChildren(HTMLTa\nbleLM.java:81)\n at\norg.eclipse.birt.report.engine.layout.html.HTMLAbstractLM.layout(HTMLAbstrac\ntLM.java:171)\n at\norg.eclipse.birt.report.engine.layout.html.HTMLBlockStackingLM.layoutChildre\nn(HTMLBlockStackingLM.java:68)\n at\norg.eclipse.birt.report.engine.layout.html.HTMLAbstractLM.layout(HTMLAbstrac\ntLM.java:171)\n at\norg.eclipse.birt.report.engine.layout.html.HTMLInlineStackingLM.resumeLayout\n(HTMLInlineStackingLM.java:94)\n at\norg.eclipse.birt.report.engine.layout.html.HTMLInlineStackingLM.layoutChildr\nen(HTMLInlineStackingLM.java:138)\n at\norg.eclipse.birt.report.engine.layout.html.HTMLRowLM.layoutChildren(HTMLRowL\nM.java:41)\n at\norg.eclipse.birt.report.engine.layout.html.HTMLAbstractLM.layout(HTMLAbstrac\ntLM.java:171)\n at\norg.eclipse.birt.report.engine.layout.html.HTMLRowLM.layout(HTMLRowLM.java:3\n1)\n at\norg.eclipse.birt.report.engine.layout.html.HTMLBlockStackingLM.layoutChildre\nn(HTMLBlockStackingLM.java:68)\n at\norg.eclipse.birt.report.engine.layout.html.HTMLTableLM.layoutChildren(HTMLTa\nbleLM.java:81)\n at\norg.eclipse.birt.report.engine.layout.html.HTMLAbstractLM.layout(HTMLAbstrac\ntLM.java:171)\n at\norg.eclipse.birt.report.engine.layout.html.HTMLPageLM.layoutChildren(HTMLPag\neLM.java:142)\n at\norg.eclipse.birt.report.engine.layout.html.HTMLPageLM.layout(HTMLPageLM.java\n:84)\n at\norg.eclipse.birt.report.engine.layout.html.HTMLReportLayoutEngine.layout(HTM\nLReportLayoutEngine.java:90)\n at\norg.eclipse.birt.report.engine.api.impl.RunAndRenderTask.doRun(RunAndRenderT\nask.java:148)\n at\norg.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run(RunAndRenderTas\nk.java:71)",
    "Now we closed the ?assert? behavior in the method setDataType() of ResultFieldMetadata.java. So byte[] is allowed and won?t raise the exception here thus to make the report run forward.\n \nThis bug is fixed."
  ],
  "commentCreationDates": [
    "2007-09-26T09:39:01+02:00",
    "2007-10-23T12:08:29+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.AssertionError",
      "elements": [
        {
          "method": "org.eclipse.birt.data.engine.executor.ResultFieldMetadata.setDataType",
          "source": "Result FieldMetadata.java:100"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.ResultObject.\u003cinit\u003e",
          "source": "ResultObject.java: 55"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.cache.ExpandableRowResultSet.next",
          "source": "Expa ndableRowResultSet.java:77"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.cache.SmartCacheHelper.populateData",
          "source": "Sm artCacheHelper.java:268"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.cache.SmartCacheHelper.initInstance",
          "source": "Sm artCacheHelper.java:241"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.cache.SmartCacheHelper.getResultSetCache",
          "source": "SmartCacheHelper.java:204"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.cache.SmartCache.\u003cinit\u003e",
          "source": "SmartCache.jav a:68"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.pass.PassUtil.populateOdiResultSet",
          "source": "PassUtil.java:113"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.pass.PassUtil.pass",
          "source": "PassUtil. java:66"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.pass.PassManager.doSinglePass",
          "source": "PassManager.java:185"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.pass.PassManager.pass",
          "source": "PassMa nager.java:90"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.pass.PassManager.populateResultSet",
          "source": "PassManager.java:72"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.ResultSetPopulator.populateResultSet",
          "source": "ResultSetPopulator.java:208"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.CachedResultSet.\u003cinit\u003e",
          "source": "Cache dResultSet.java:132"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.CandidateQuery.execute",
          "source": "CandidateQuery. java:106"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedScriptDSQuery$ScriptDSQueryExecutor.executeOdiQuery",
          "source": "PreparedScriptDSQuery.java:223"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.QueryExecutor.execute",
          "source": "QueryExecutor.java:7 61"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.ServiceForQueryResults.executeQuery",
          "source": "Servic eForQueryResults.java:216"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.QueryResults.getResultIterator",
          "source": "QueryResult s.java:152"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.QueryResultSet.\u003cinit\u003e",
          "source": "QueryResultSet .java:83"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.DteDataEngine.doExecuteQuery",
          "source": "DteData Engine.java:155"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.DteDataEngine.doExecuteQuery",
          "source": "DteData Engine.java:115"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.execute",
          "source": "AbstractD ataEngine.java:178"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ExecutionContext.executeQuery",
          "source": "Execut ionContext.java:1678"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.QueryItemExecutor.executeQuery",
          "source": "Query ItemExecutor.java:82"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.TableItemExecutor.execute",
          "source": "TableItemE xecutor.java:61"
        },
        {
          "method": "org.eclipse.birt.report.engine.internal.executor.wrap.WrappedReportItemExecutor.execute",
          "source": "WrappedReportItemExecutor.java:45"
        },
        {
          "method": "org.eclipse.birt.report.engine.internal.executor.dup.SuppressDuplicateItemExecutor.execute",
          "source": "SuppressDuplicateItemExecutor.java:42"
        },
        {
          "method": "org.eclipse.birt.report.engine.internal.executor.wrap.WrappedReportItemExecutor.execute",
          "source": "WrappedReportItemExecutor.java:45"
        },
        {
          "method": "org.eclipse.birt.report.engine.internal.executor.l18n.LocalizedReportItemExecutor.execute",
          "source": "LocalizedReportItemExecutor.java:33"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLBlockStackingLM.layoutChildren",
          "source": "HTMLBlockStackingLM.java:63"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLAbstractLM.layout",
          "source": "HTMLAbstrac tLM.java:171"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLInlineStackingLM.resumeLayout",
          "source": "HTMLInlineStackingLM.java:94"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLInlineStackingLM.layoutChildren",
          "source": "HTMLInlineStackingLM.java:138"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLRowLM.layoutChildren",
          "source": "HTMLRowL M.java:41"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLAbstractLM.layout",
          "source": "HTMLAbstrac tLM.java:171"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLRowLM.layout",
          "source": "HTMLRowLM.java:3 1"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLBlockStackingLM.layoutChildren",
          "source": "HTMLBlockStackingLM.java:68"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLTableLM.layoutChildren",
          "source": "HTMLTa bleLM.java:81"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLAbstractLM.layout",
          "source": "HTMLAbstrac tLM.java:171"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLBlockStackingLM.layoutChildren",
          "source": "HTMLBlockStackingLM.java:68"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLAbstractLM.layout",
          "source": "HTMLAbstrac tLM.java:171"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLInlineStackingLM.resumeLayout",
          "source": "HTMLInlineStackingLM.java:94"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLInlineStackingLM.layoutChildren",
          "source": "HTMLInlineStackingLM.java:138"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLRowLM.layoutChildren",
          "source": "HTMLRowL M.java:41"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLAbstractLM.layout",
          "source": "HTMLAbstrac tLM.java:171"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLRowLM.layout",
          "source": "HTMLRowLM.java:3 1"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLBlockStackingLM.layoutChildren",
          "source": "HTMLBlockStackingLM.java:68"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLTableLM.layoutChildren",
          "source": "HTMLTa bleLM.java:81"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLAbstractLM.layout",
          "source": "HTMLAbstrac tLM.java:171"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLPageLM.layoutChildren",
          "source": "HTMLPag eLM.java:142"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLPageLM.layout",
          "source": "HTMLPageLM.java :84"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLReportLayoutEngine.layout",
          "source": "HTM LReportLayoutEngine.java:90"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.doRun",
          "source": "RunAndRenderT ask.java:148"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run",
          "source": "RunAndRenderTas k.java:71"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "204651",
      "date": "2007-09-26T09:39:01+02:00",
      "product": "BIRT",
      "component": "Data",
      "severity": "normal"
    }
  ],
  "groupId": "204651",
  "bugId": "204651",
  "date": "2007-09-26T09:39:01+02:00",
  "product": "BIRT",
  "component": "Data",
  "severity": "normal"
}