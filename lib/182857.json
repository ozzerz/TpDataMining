{
  "comments": [
    "We encountered the following NPE, in 3.3M6.  This is reproducible, but the repro case we have requires WTP and possibly some BEA-proprietary plug-ins, so you may just want to take my word for it :-)\n\nThe basic problem is that IPackageFragmentRoot.getRawClasspathEntry() is documented to throw JavaModelException when it cannot find the requested entry, but in fact it returns null.  The calling code in PackageExplorerContentProvider is not prepared to deal with a null.\n\nSo, either there needs to be a null check here, or the implementation of PackageFragmentRoot needs to be fixed.  I would suggest that probably putting in a null check is the more conservative fix at this point, although it might also be good to change the javadoc of the IPackageFragmentRoot method.\n\nHere\u0027s the stack trace:\n\njava.lang.NullPointerException\n    at org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.getPackageFragmentRoots(PackageExplorerContentProvider.java:291)\n    at org.eclipse.jdt.ui.StandardJavaElementContentProvider.getChildren(StandardJavaElementContentProvider.java:179)\n    at org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.getChildren(PackageExplorerContentProvider.java:270)\n    at org.eclipse.jdt.internal.ui.navigator.JavaNavigatorContentProvider.getPipelinedChildren(JavaNavigatorContentProvider.java:124)\n    at org.eclipse.ui.internal.navigator.NavigatorContentServiceContentProvider.pipelineChildren(NavigatorContentServiceContentProvider.java:310)\n    at org.eclipse.ui.internal.navigator.NavigatorContentServiceContentProvider.internalGetChildren(NavigatorContentServiceContentProvider.java:252)\n    at org.eclipse.ui.internal.navigator.NavigatorContentServiceContentProvider.getChildren(NavigatorContentServiceContentProvider.java:635)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.getRawChildren(AbstractTreeViewer.java:1277)\n    at org.eclipse.jface.viewers.TreeViewer.getRawChildren(TreeViewer.java:363)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.getFilteredChildren(AbstractTreeViewer.java:614)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.getSortedChildren(AbstractTreeViewer.java:580)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.updateChildren(AbstractTreeViewer.java:2446)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.internalRefreshStruct(AbstractTreeViewer.java:1788)\n    at org.eclipse.jface.viewers.TreeViewer.internalRefreshStruct(TreeViewer.java:561)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.internalRefreshStruct(AbstractTreeViewer.java:1795)\n    at org.eclipse.jface.viewers.TreeViewer.internalRefreshStruct(TreeViewer.java:561)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh(AbstractTreeViewer.java:1763)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh(AbstractTreeViewer.java:1719)\n    at org.eclipse.ui.navigator.CommonViewer.internalRefresh(CommonViewer.java:454)\n    at org.eclipse.jface.viewers.StructuredViewer$8.run(StructuredViewer.java:1478)\n    at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1333)\n    at org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1476)\n    at org.eclipse.ui.navigator.CommonViewer.refresh(CommonViewer.java:303)\n    at org.eclipse.ui.navigator.CommonViewer.refresh(CommonViewer.java:401)\n    at org.eclipse.ui.internal.navigator.resources.workbench.ResourceExtensionContentProvider$3.run(ResourceExtensionContentProvider.java:283)\n    at org.eclipse.ui.internal.navigator.resources.workbench.ResourceExtensionContentProvider.runUpdates(ResourceExtensionContentProvider.java:295)\n    at org.eclipse.ui.internal.navigator.resources.workbench.ResourceExtensionContentProvider.access$1(ResourceExtensionContentProvider.java:292)\n    at org.eclipse.ui.internal.navigator.resources.workbench.ResourceExtensionContentProvider$1.run(ResourceExtensionContentProvider.java:118)\n    at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)",
    "This is a duplicate of JDT/Core bug 162104",
    "\n\n*** This bug has been marked as a duplicate of bug 162104 ***"
  ],
  "commentCreationDates": [
    "2007-04-18T06:24:36+02:00",
    "2007-04-18T10:21:49+02:00",
    "2007-04-18T10:22:09+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.getPackageFragmentRoots",
          "source": "PackageExplorerContentProvider.java:291"
        },
        {
          "method": "org.eclipse.jdt.ui.StandardJavaElementContentProvider.getChildren",
          "source": "StandardJavaElementContentProvider.java:179"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.getChildren",
          "source": "PackageExplorerContentProvider.java:270"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.navigator.JavaNavigatorContentProvider.getPipelinedChildren",
          "source": "JavaNavigatorContentProvider.java:124"
        },
        {
          "method": "org.eclipse.ui.internal.navigator.NavigatorContentServiceContentProvider.pipelineChildren",
          "source": "NavigatorContentServiceContentProvider.java:310"
        },
        {
          "method": "org.eclipse.ui.internal.navigator.NavigatorContentServiceContentProvider.internalGetChildren",
          "source": "NavigatorContentServiceContentProvider.java:252"
        },
        {
          "method": "org.eclipse.ui.internal.navigator.NavigatorContentServiceContentProvider.getChildren",
          "source": "NavigatorContentServiceContentProvider.java:635"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.getRawChildren",
          "source": "AbstractTreeViewer.java:1277"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.getRawChildren",
          "source": "TreeViewer.java:363"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.getFilteredChildren",
          "source": "AbstractTreeViewer.java:614"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.getSortedChildren",
          "source": "AbstractTreeViewer.java:580"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.updateChildren",
          "source": "AbstractTreeViewer.java:2446"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalRefreshStruct",
          "source": "AbstractTreeViewer.java:1788"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.internalRefreshStruct",
          "source": "TreeViewer.java:561"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalRefreshStruct",
          "source": "AbstractTreeViewer.java:1795"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.internalRefreshStruct",
          "source": "TreeViewer.java:561"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh",
          "source": "AbstractTreeViewer.java:1763"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh",
          "source": "AbstractTreeViewer.java:1719"
        },
        {
          "method": "org.eclipse.ui.navigator.CommonViewer.internalRefresh",
          "source": "CommonViewer.java:454"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$8.run",
          "source": "StructuredViewer.java:1478"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.preservingSelection",
          "source": "StructuredViewer.java:1333"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.refresh",
          "source": "StructuredViewer.java:1476"
        },
        {
          "method": "org.eclipse.ui.navigator.CommonViewer.refresh",
          "source": "CommonViewer.java:303"
        },
        {
          "method": "org.eclipse.ui.navigator.CommonViewer.refresh",
          "source": "CommonViewer.java:401"
        },
        {
          "method": "org.eclipse.ui.internal.navigator.resources.workbench.ResourceExtensionContentProvider$3.run",
          "source": "ResourceExtensionContentProvider.java:283"
        },
        {
          "method": "org.eclipse.ui.internal.navigator.resources.workbench.ResourceExtensionContentProvider.runUpdates",
          "source": "ResourceExtensionContentProvider.java:295"
        },
        {
          "method": "org.eclipse.ui.internal.navigator.resources.workbench.ResourceExtensionContentProvider.access$1",
          "source": "ResourceExtensionContentProvider.java:292"
        },
        {
          "method": "org.eclipse.ui.internal.navigator.resources.workbench.ResourceExtensionContentProvider$1.run",
          "source": "ResourceExtensionContentProvider.java:118"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "182857",
      "duplicateId": "162104",
      "date": "2007-04-18T06:24:36+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "162104",
  "bugId": "182857",
  "duplicateId": "162104",
  "date": "2007-04-18T06:24:36+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}