{
  "comments": [
    "I have a fairly large XML schema (142 Classes, 133 DataTypes, 30 Enums, 549\nFeatures, 1 Package)\nthat I used to generate an EMF model (EMF 2.0.0_20031219 though I have the same\nproblem with\n2.0.0_20040127).  I\u0027m using this schema to send and receive SOAP messages, and\nfor most of my\nmessages this works fine.  Unfortunately, for one type of message I\u0027m seeing a\nstrange exception\nthrown when I try to parse a particular XML document.  The failing XML is small,\nand correct by the schema:\n\n\u003csch:LocationList xmlns:sch\u003d\"http://coalition/xml/schema\"\u003e\n  \u003csch:Location locationId\u003d\"271095\"\u003e\n    \u003csch:Name\u003eBrisbane Australia\u003c/sch:Name\u003e\n    \u003csch:Code codeType\u003d\"GEOLOC\"\u003e\n      \u003csch:Parameter parmName\u003d\"GEOLOC\"\u003eCKKJ\u003c/sch:Parameter\u003e\n    \u003c/sch:Code\u003e\n  \u003c/sch:Location\u003e\n\u003c/sch:LocationList\u003e\n\nWhereas this XML works fine:\n\n\u003csch:LocationList xmlns:sch\u003d\"http://coalition/xml/schema\"\u003e\n  \u003csch:Location locationId\u003d\"271095\"\u003e\n    \u003csch:Name\u003eBrisbane Australia\u003c/sch:Name\u003e\n  \u003c/sch:Location\u003e\n\u003c/sch:LocationList\u003e\n\nThe problem appears to revolve around the name collision avoidance mechanism\nthat EMF is using to deal with similarly named elements of different types.  If\nthe BaseEquipT type is removed from the schema, and everything rebuilt, the\nproblem goes away.  Unfortunately, I don\u0027t have the luxury of renaming the\nconflicting schema elements.\n\nThe exception that gets thrown is:\n\njava.lang.ArrayStoreException\n  at org.eclipse.emf.common.util.BasicEList.assign(BasicEList.java:190)\n  at org.eclipse.emf.common.util.BasicEList.addUnique(BasicEList.java:606)\n  at\norg.eclipse.emf.common.notify.impl.NotifyingListImpl.addUnique(NotifyingListImpl.java:299)\n  at org.eclipse.emf.ecore.xmi.impl.XMLHelperImpl.setValue(XMLHelperImpl.java:748)\n  at org.eclipse.emf.ecore.xmi.impl.XMLHandler.setFeatureValue(XMLHandler.java:1448)\n  at org.eclipse.emf.ecore.xmi.impl.XMLHandler.setFeatureValue(XMLHandler.java:1438)\n  at\norg.eclipse.emf.ecore.xmi.impl.XMLHandler.createObjectFromFeatureType(XMLHandler.java:1176)\n  at org.eclipse.emf.ecore.xmi.impl.XMLHandler.createObject(XMLHandler.java:1086)\n  at org.eclipse.emf.ecore.xmi.impl.XMLHandler.handleFeature(XMLHandler.java:952)\n  at org.eclipse.emf.ecore.xmi.impl.XMLHandler.processElement(XMLHandler.java:403)\n  at org.eclipse.emf.ecore.xmi.impl.XMLHandler.startElement(XMLHandler.java:386)\n  at org.eclipse.emf.ecore.xmi.impl.SAXWrapper.startElement(SAXWrapper.java:78)\n  at org.apache.crimson.parser.Parser2.maybeElement(Parser2.java:1637)\n  at org.apache.crimson.parser.Parser2.content(Parser2.java:1926)\n  at org.apache.crimson.parser.Parser2.maybeElement(Parser2.java:1654)\n  at org.apache.crimson.parser.Parser2.content(Parser2.java:1926)\n  at org.apache.crimson.parser.Parser2.maybeElement(Parser2.java:1654)\n  at org.apache.crimson.parser.Parser2.parseInternal(Parser2.java:634)\n  at org.apache.crimson.parser.Parser2.parse(Parser2.java:333)\n  at org.apache.crimson.parser.XMLReaderImpl.parse(XMLReaderImpl.java:448)\n  at javax.xml.parsers.SAXParser.parse(SAXParser.java:345)\n  at org.eclipse.emf.ecore.xmi.impl.XMLLoadImpl.load(XMLLoadImpl.java:89)\n  at org.eclipse.emf.ecore.xmi.impl.XMLResourceImpl.doLoad(XMLResourceImpl.java:141)\n  at org.eclipse.emf.ecore.resource.impl.ResourceImpl.load(ResourceImpl.java:879)\n  at t2.test.Test2.main(Test2.java:42)\n\nI\u0027ve attached the relevant subset of the schema (the full schema is proprietary\nand huge), the program that exposes the problem, as well as the genmodel and\necore files.",
    "Created an attachment (id\u003d8181)\nXML Schema that exposes the problem\n",
    "Created an attachment (id\u003d8182)\nGenerated genmodel\n",
    "Created an attachment (id\u003d8183)\nGenerated ecore\n",
    "Created an attachment (id\u003d8184)\nProgram that exposes the problem\n",
    "This will be fixed in the next drop.",
    "Fixed in latest driver."
  ],
  "commentCreationDates": [
    "2004-02-26T15:10:42+01:00",
    "2004-02-26T15:12:00+01:00",
    "2004-02-26T15:12:29+01:00",
    "2004-02-26T15:12:52+01:00",
    "2004-02-26T15:13:25+01:00",
    "2004-02-26T16:25:00+01:00",
    "2004-03-10T12:38:06+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayStoreException",
      "elements": [
        {
          "method": "org.eclipse.emf.common.util.BasicEList.assign",
          "source": "BasicEList.java:190"
        },
        {
          "method": "org.eclipse.emf.common.util.BasicEList.addUnique",
          "source": "BasicEList.java:606"
        },
        {
          "method": "org.eclipse.emf.common.notify.impl.NotifyingListImpl.addUnique",
          "source": "NotifyingListImpl.java:299"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLHelperImpl.setValue",
          "source": "XMLHelperImpl.java:748"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLHandler.setFeatureValue",
          "source": "XMLHandler.java:1448"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLHandler.setFeatureValue",
          "source": "XMLHandler.java:1438"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLHandler.createObjectFromFeatureType",
          "source": "XMLHandler.java:1176"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLHandler.createObject",
          "source": "XMLHandler.java:1086"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLHandler.handleFeature",
          "source": "XMLHandler.java:952"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLHandler.processElement",
          "source": "XMLHandler.java:403"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLHandler.startElement",
          "source": "XMLHandler.java:386"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.SAXWrapper.startElement",
          "source": "SAXWrapper.java:78"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.maybeElement",
          "source": "Parser2.java:1637"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.content",
          "source": "Parser2.java:1926"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.maybeElement",
          "source": "Parser2.java:1654"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.content",
          "source": "Parser2.java:1926"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.maybeElement",
          "source": "Parser2.java:1654"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.parseInternal",
          "source": "Parser2.java:634"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.parse",
          "source": "Parser2.java:333"
        },
        {
          "method": "org.apache.crimson.parser.XMLReaderImpl.parse",
          "source": "XMLReaderImpl.java:448"
        },
        {
          "method": "javax.xml.parsers.SAXParser.parse",
          "source": "SAXParser.java:345"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLLoadImpl.load",
          "source": "XMLLoadImpl.java:89"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLResourceImpl.doLoad",
          "source": "XMLResourceImpl.java:141"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceImpl.load",
          "source": "ResourceImpl.java:879"
        },
        {
          "method": "t2.test.Test2.main",
          "source": "Test2.java:42"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "53180",
      "date": "2004-02-26T15:10:42+01:00",
      "product": "EMF",
      "component": "Core",
      "severity": "critical"
    }
  ],
  "groupId": "53180",
  "bugId": "53180",
  "date": "2004-02-26T15:10:42+01:00",
  "product": "EMF",
  "component": "Core",
  "severity": "critical"
}