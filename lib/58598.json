{
  "comments": [
    "The type of editor input should dictate what pages to add to the manifest \neditor.\n\nFor example, the Build Configuration Page gui page only makes sense if the \neditor input is an IFileEditorInput.  Otherwise, only the source \nbuild.properties page should show up.\n\nWhen opening a file that is still in CVS, or a file from an external plug-in \nin the Plug-ins view, or via File \u003e Open External File...,\nonly the file being opened should be in the editor.  No freebee adjacent files \nshould be open.",
    "Are you saying this in principle, or you actualy saw a scenario where the \neditor does not work this way? By looking at the code for storage editor input \n(the one that will be used for CVS case), I don\u0027t see from the code that Build \nConfiguration page will be opened.",
    "In principle.  We should make sure that the behavior is correct.",
    "Fixed. Manifest editor opened from CVS now behaves.",
    "I gave you five minutes of joy.  Now let me burst your bubble.\nThe new manifest editor chokes on a plugin.xml when you use File \u003e Open \nExternal File... to open an external plugin.xml.  This is also long-standing \nproblem with the old editor.  So now we have the opportunity to do it right.\n\nTo be able to test it in the runtime workbench, the new editor has to be \ndeclared as the default in the plugin.xml of pde.ui in your host workbench.\n\nAttempt to open an external plugin.xml and you will get the following NPE.\n\nError Apr 24, 2004 19:29:55.264 Problems occurred when invoking code from plug-\nin: \"org.eclipse.core.runtime\".\njava.lang.NullPointerException\nat \norg.eclipse.pde.internal.ui.neweditor.plugin.ManifestEditor.computeInitialPageI\nd(ManifestEditor.java:213)\nat org.eclipse.pde.internal.ui.neweditor.PDEFormEditor.createPages\n(PDEFormEditor.java:129)\nat org.eclipse.ui.part.MultiPageEditorPart.createPartControl\n(MultiPageEditorPart.java:187)\nat org.eclipse.ui.internal.PartPane$1.run(PartPane.java:94)\nat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:609)\nat org.eclipse.core.runtime.Platform.run(Platform.java:541)\nat org.eclipse.ui.internal.PartPane.createChildControl(PartPane.java:90)\nat org.eclipse.ui.internal.PartPane.createControl(PartPane.java:154)\nat org.eclipse.ui.internal.EditorWorkbook.showPart(EditorWorkbook.java:416)\nat org.eclipse.ui.internal.EditorWorkbook.add(EditorWorkbook.java:237)\nat org.eclipse.ui.internal.EditorArea.addEditor(EditorArea.java:56)\nat org.eclipse.ui.internal.EditorPresentation.openEditor\n(EditorPresentation.java:225)\nat org.eclipse.ui.internal.EditorManager$2.run(EditorManager.java:550)\nat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)\nat org.eclipse.ui.internal.EditorManager.createEditorTab\n(EditorManager.java:539)\nat org.eclipse.ui.internal.EditorManager.openInternalEditor\n(EditorManager.java:635)\nat org.eclipse.ui.internal.EditorManager.openEditorFromDescriptor\n(EditorManager.java:438)\nat org.eclipse.ui.internal.EditorManager.openEditor(EditorManager.java:426)\nat org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor\n(WorkbenchPage.java:2129)\nat org.eclipse.ui.internal.WorkbenchPage.access$6(WorkbenchPage.java:2072)\nat org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:2059)\nat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)\nat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2054)\nat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2037)\nat org.eclipse.ui.internal.editors.text.OpenExternalFileAction.run\n(OpenExternalFileAction.java:115)\nat org.eclipse.ui.internal.editors.text.OpenExternalFileAction.run\n(OpenExternalFileAction.java:87)\nat org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:269)\nat org.eclipse.ui.internal.WWinPluginAction.runWithEvent\n(WWinPluginAction.java:207)\nat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:550)\nat org.eclipse.jface.action.ActionContributionItem.access$2\n(ActionContributionItem.java:502)\nat org.eclipse.jface.action.ActionContributionItem$5.handleEvent\n(ActionContributionItem.java:435)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:769)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2592)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2270)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1437)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1408)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:244)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:140)\nat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:90)\nat org.eclipse.core.internal.runtime.PlatformActivator$1.run\n(PlatformActivator.java:280)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:240)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:117)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:324)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:267)\nat org.eclipse.core.launcher.Main.run(Main.java:699)\nat org.eclipse.core.launcher.Main.main(Main.java:683)\n\n",
    "As for opening from CVS, nice!",
    "Ah, I see the initial comment \u0027or via File \u003e Open External File ...\u0027 - didn\u0027t \ntest this at all - no wander it chokes.",
    "This works now.",
    "Dejan, please make sure the new Plug-in Activation section is working too.  \nLast time I checked (i.e. last night), it was not.",
    "Cherie, make sure that Plug-in Activation section is disabled (i.e. all the \nwidgets that can change the file are disabled) when the model is not editable \n(call \u0027getPage().getModel().isEditable() to test).\n\nTo verify that it works, open external file as stated above.\n\nNote that I added some code to allow you to set the state of \u0027Add/remove\u0027 \nbuttons initially. Just override method \u0027enableButtons\u0027 (see \u0027super\u0027) - it \nwill be called after the buttons have been created by the shared part with \nbuttons so that you can call \u0027setButtonEnabled(int, boolean)\u0027 on the part.",
    "I tried PDESection\u0027s \u0027isEditable()\u0027 in this case as it seemed commonly used in \nother areas.  \n\nIs there a significant difference in functionality from PDESection\u0027s method \n\u0027getPage().getPDEEditor().getAggregateModel().isEditable()\u0027\nversus \n\u0027getPage().getModel().isEditable()?\n\nNevertheless, the\" Plugin Activation Section\" code is now accounting for model \neditability;  I tested using files from CVS and Open External File.\n\nCode is in head :-)",
    "Please stick to the instructions.",
    "Changed and released to head :-)",
    "From Dejan to Cherie, and the defect is still not done in full.\nCongratulations to all on a job half-done :-)\n\nFrom the orginal description of the defect:\n\"For example, the Build Configuration Page gui page only makes sense if the \neditor input is an IFileEditorInput.  Otherwise, only the source \nbuild.properties page should show up.\"\n",
    "Now you are just nitpicking. Let\u0027s just agree that nobody would open an editor \non an input other than IFileEditorInput :-).",
    "I think this is more my fault and I should be asking in which instances the \ninput is IFileEditorInput:\na) file in CVS\nb) file from external plug-in in plug-ins view\nc) File -\u003e Open External File\n\n:)",
    "Neither a, b nor c are IFileEditorInput.\nBTW, I fixed the problem last night for build.properties.\nKeeping the bug report open for manifest.mf.",
    "Thanks for working on the problem, Wassim :)\n\nAlso wanted to apologize for the half-done as I was focused on the Plug-in \nActivation section and wasn\u0027t fully aware all three instances should not allow \nthe build.properties gui editor to appear.  Thanks for clarifying that :)",
    "Closing."
  ],
  "commentCreationDates": [
    "2004-04-15T05:20:22+02:00",
    "2004-04-24T23:42:13+02:00",
    "2004-04-24T23:43:07+02:00",
    "2004-04-25T01:24:17+02:00",
    "2004-04-25T01:42:54+02:00",
    "2004-04-25T01:45:48+02:00",
    "2004-04-25T03:02:54+02:00",
    "2004-04-26T18:18:27+02:00",
    "2004-04-26T18:20:33+02:00",
    "2004-04-26T18:43:39+02:00",
    "2004-04-26T21:14:02+02:00",
    "2004-04-26T21:16:14+02:00",
    "2004-04-26T21:26:25+02:00",
    "2004-04-30T06:55:51+02:00",
    "2004-04-30T13:43:25+02:00",
    "2004-04-30T15:36:51+02:00",
    "2004-04-30T15:39:04+02:00",
    "2004-04-30T15:44:16+02:00",
    "2004-05-20T11:31:57+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.pde.internal.ui.neweditor.plugin.ManifestEditor.computeInitialPageId",
          "source": "ManifestEditor.java:213"
        },
        {
          "method": "org.eclipse.pde.internal.ui.neweditor.PDEFormEditor.createPages",
          "source": "PDEFormEditor.java:129"
        },
        {
          "method": "org.eclipse.ui.part.MultiPageEditorPart.createPartControl",
          "source": "MultiPageEditorPart.java:187"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane$1.run",
          "source": "PartPane.java:94"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:609"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:541"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.createChildControl",
          "source": "PartPane.java:90"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.createControl",
          "source": "PartPane.java:154"
        },
        {
          "method": "org.eclipse.ui.internal.EditorWorkbook.showPart",
          "source": "EditorWorkbook.java:416"
        },
        {
          "method": "org.eclipse.ui.internal.EditorWorkbook.add",
          "source": "EditorWorkbook.java:237"
        },
        {
          "method": "org.eclipse.ui.internal.EditorArea.addEditor",
          "source": "EditorArea.java:56"
        },
        {
          "method": "org.eclipse.ui.internal.EditorPresentation.openEditor",
          "source": "EditorPresentation.java:225"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager$2.run",
          "source": "EditorManager.java:550"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:84"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.createEditorTab",
          "source": "EditorManager.java:539"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.openInternalEditor",
          "source": "EditorManager.java:635"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.openEditorFromDescriptor",
          "source": "EditorManager.java:438"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.openEditor",
          "source": "EditorManager.java:426"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor",
          "source": "WorkbenchPage.java:2129"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.access$6",
          "source": "WorkbenchPage.java:2072"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$9.run",
          "source": "WorkbenchPage.java:2059"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:84"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:2054"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:2037"
        },
        {
          "method": "org.eclipse.ui.internal.editors.text.OpenExternalFileAction.run",
          "source": "OpenExternalFileAction.java:115"
        },
        {
          "method": "org.eclipse.ui.internal.editors.text.OpenExternalFileAction.run",
          "source": "OpenExternalFileAction.java:87"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:269"
        },
        {
          "method": "org.eclipse.ui.internal.WWinPluginAction.runWithEvent",
          "source": "WWinPluginAction.java:207"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:550"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:502"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:435"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:769"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2592"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2270"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1437"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1408"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:244"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:140"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:90"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:280"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:240"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:117"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:267"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:699"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:683"
        }
      ],
      "number": 0,
      "commentIndex": 4,
      "bugId": "58598",
      "date": "2004-04-25T01:42:54+02:00",
      "product": "PDE",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "58598",
  "bugId": "58598",
  "date": "2004-04-15T05:20:22+02:00",
  "product": "PDE",
  "component": "UI",
  "severity": "normal"
}