{
  "comments": [
    "Version of GEF used was 3.1M4 on Eclipse 3.1M4 on Mac OS/X 10.3.\n\nOn the Mac it\u0027s illegal to try to spin up AWT in an SWT application.  The new\nBIDI support in draw2d seems to try exactly that when a flyout palette is used,\nmaking such palette usage illegal.  To reproduce, just run a GEF example that\nuses flyout palettes on a Mac.  Here\u0027s the stacktrace:\n\n!ENTRY org.eclipse.ui 4 4 2005-01-28 10:58:15.678\n!MESSAGE Unhandled event loop exception\n\n!ENTRY org.eclipse.ui 4 0 2005-01-28 10:58:15.694\n!MESSAGE Can\\\u0027t start the AWT because Java was started on the \nfirst thread.  Make sure StartOnFirstThread is not specified in \nyour application\\\u0027s Info.plist or on the command line\n!STACK 0\njava.lang.InternalError: Can\\\u0027t start the AWT because Java was \nstarted on the first thread.  Make sure StartOnFirstThread is not \nspecified in your application\\\u0027s Info.plist or on the command line\nat java.lang.ClassLoader$NativeLibrary.load(Native Method)\nat java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1586)\nat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1503)\nat java.lang.Runtime.loadLibrary0(Runtime.java:788)\nat java.lang.System.loadLibrary(System.java:834)\nat sun.security.action.LoadLibraryAction.run(LoadLibraryAction.java:50)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.text.Bidi.\u003cclinit\u003e(Bidi.java:53)\nat org.eclipse.draw2d.text.BidiProcessor.process(BidiProcessor.java:154)\nat org.eclipse.draw2d.text.BlockFlow.validate(BlockFlow.java:197)\nat org.eclipse.draw2d.text.FlowPage.validate(FlowPage.java:138)\nat org.eclipse.draw2d.text.FlowPage.getPreferredSize(FlowPage.java:81)\nat org.eclipse.draw2d.BorderLayout.calculatePreferredSize(BorderLayout.java:155) \nat org.eclipse.draw2d.AbstractLayout.getPreferredSize(AbstractLayout.java:93) \nat\norg.eclipse.draw2d.AbstractHintLayout.getPreferredSize(AbstractHintLayout.java:86) \nat org.eclipse.draw2d.Figure.getPreferredSize(Figure.java:698)\nat org.eclipse.draw2d.StackLayout.calculatePreferredSize(StackLayout.java:71) \nat org.eclipse.draw2d.AbstractLayout.getPreferredSize(AbstractLayout.java:93) \nat\norg.eclipse.draw2d.AbstractHintLayout.getPreferredSize(AbstractHintLayout.java:86) \nat org.eclipse.draw2d.Figure.getPreferredSize(Figure.java:698)\nat\norg.eclipse.gef.internal.ui.palette.editparts.ColumnsLayout.getMinimumHints(ColumnsLayout.java:73)\n\nat\norg.eclipse.gef.internal.ui.palette.editparts.ColumnsLayout.getChildSize(ColumnsLayout.java:49)\n\nat org.eclipse.draw2d.FlowLayout.calculatePreferredSize(FlowLayout.java:126) \nat org.eclipse.draw2d.AbstractLayout.getPreferredSize(AbstractLayout.java:93) \nat\norg.eclipse.draw2d.AbstractHintLayout.getPreferredSize(AbstractHintLayout.java:86) \nat\norg.eclipse.draw2d.AbstractHintLayout.calculateMinimumSize(AbstractHintLayout.java:52)\n\nat org.eclipse.draw2d.AbstractHintLayout.getMinimumSize(AbstractHintLayout.java:69) \nat org.eclipse.draw2d.Figure.getMinimumSize(Figure.java:670)\nat org.eclipse.draw2d.ToolbarLayout.calculateChildrenSize(ToolbarLayout.java:96) \nat org.eclipse.draw2d.ToolbarLayout.calculateMinimumSize(ToolbarLayout.java:131) \nat org.eclipse.draw2d.AbstractHintLayout.getMinimumSize(AbstractHintLayout.java:69) \nat org.eclipse.draw2d.Figure.getMinimumSize(Figure.java:670)\nat org.eclipse.draw2d.StackLayout.calculateMinimumSize(StackLayout.java:44) \nat org.eclipse.draw2d.AbstractHintLayout.getMinimumSize(AbstractHintLayout.java:69) \nat org.eclipse.draw2d.Figure.getMinimumSize(Figure.java:670)\nat org.eclipse.draw2d.ViewportLayout.calculatePreferredSize(ViewportLayout.java:65) \nat org.eclipse.draw2d.AbstractLayout.getPreferredSize(AbstractLayout.java:93) \nat\norg.eclipse.draw2d.AbstractHintLayout.getPreferredSize(AbstractHintLayout.java:86) \nat org.eclipse.draw2d.Figure.getPreferredSize(Figure.java:698)\nat org.eclipse.draw2d.StackLayout.calculatePreferredSize(StackLayout.java:71) \nat org.eclipse.draw2d.AbstractLayout.getPreferredSize(AbstractLayout.java:93) \nat\norg.eclipse.draw2d.AbstractHintLayout.getPreferredSize(AbstractHintLayout.java:86) \nat org.eclipse.draw2d.Figure.getPreferredSize(Figure.java:698)\nat org.eclipse.draw2d.FigureCanvas.computeSize(FigureCanvas.java:125)\nat org.eclipse.swt.widgets.Control.computeSize(Control.java:391)\nat\norg.eclipse.gef.ui.palette.FlyoutPaletteComposite.setState(FlyoutPaletteComposite.java:563)\n\nat\norg.eclipse.gef.ui.palette.FlyoutPaletteComposite.updateState(FlyoutPaletteComposite.java:602)\n\nat\norg.eclipse.gef.ui.palette.FlyoutPaletteComposite.\u003cinit\u003e(FlyoutPaletteComposite.java:195)\n\nat\norg.eclipse.gef.ui.parts.GraphicalEditorWithFlyoutPalette.createPartControl(GraphicalEditorWithFlyoutPalette.java:75)\n\nat org.eclipse.ui.part.MultiPageEditorPart.addPage(MultiPageEditorPart.java:120) \n...\u003celided\u003e...",
    "This is addressed already in HEAD.  Bidi is temporarily disabled on the Mac \nplatform.  There is a bugzilla open asking for SWT to provide similar function \nto AWT. There is a bugzilla open for us to reenable bidi one this swt bug is \nfixed."
  ],
  "commentCreationDates": [
    "2005-02-05T01:15:14+01:00",
    "2005-02-06T03:14:37+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.InternalError",
      "message": "Can\\\u0027t start the AWT because Java was  started on the first thread.  Make sure StartOnFirstThread is not  specified in your application\\\u0027s Info.plist or on the command line",
      "elements": [
        {
          "method": "java.lang.ClassLoader$NativeLibrary.load",
          "source": "Native Method"
        },
        {
          "method": "java.lang.ClassLoader.loadLibrary0",
          "source": "ClassLoader.java:1586"
        },
        {
          "method": "java.lang.ClassLoader.loadLibrary",
          "source": "ClassLoader.java:1503"
        },
        {
          "method": "java.lang.Runtime.loadLibrary0",
          "source": "Runtime.java:788"
        },
        {
          "method": "java.lang.System.loadLibrary",
          "source": "System.java:834"
        },
        {
          "method": "sun.security.action.LoadLibraryAction.run",
          "source": "LoadLibraryAction.java:50"
        },
        {
          "method": "java.security.AccessController.doPrivileged",
          "source": "Native Method"
        },
        {
          "method": "java.text.Bidi.\u003cclinit\u003e",
          "source": "Bidi.java:53"
        },
        {
          "method": "org.eclipse.draw2d.text.BidiProcessor.process",
          "source": "BidiProcessor.java:154"
        },
        {
          "method": "org.eclipse.draw2d.text.BlockFlow.validate",
          "source": "BlockFlow.java:197"
        },
        {
          "method": "org.eclipse.draw2d.text.FlowPage.validate",
          "source": "FlowPage.java:138"
        },
        {
          "method": "org.eclipse.draw2d.text.FlowPage.getPreferredSize",
          "source": "FlowPage.java:81"
        },
        {
          "method": "org.eclipse.draw2d.BorderLayout.calculatePreferredSize",
          "source": "BorderLayout.java:155"
        },
        {
          "method": "org.eclipse.draw2d.AbstractLayout.getPreferredSize",
          "source": "AbstractLayout.java:93"
        },
        {
          "method": "org.eclipse.draw2d.AbstractHintLayout.getPreferredSize",
          "source": "AbstractHintLayout.java:86"
        },
        {
          "method": "org.eclipse.draw2d.Figure.getPreferredSize",
          "source": "Figure.java:698"
        },
        {
          "method": "org.eclipse.draw2d.StackLayout.calculatePreferredSize",
          "source": "StackLayout.java:71"
        },
        {
          "method": "org.eclipse.draw2d.AbstractLayout.getPreferredSize",
          "source": "AbstractLayout.java:93"
        },
        {
          "method": "org.eclipse.draw2d.AbstractHintLayout.getPreferredSize",
          "source": "AbstractHintLayout.java:86"
        },
        {
          "method": "org.eclipse.draw2d.Figure.getPreferredSize",
          "source": "Figure.java:698"
        },
        {
          "method": "org.eclipse.gef.internal.ui.palette.editparts.ColumnsLayout.getMinimumHints",
          "source": "ColumnsLayout.java:73"
        },
        {
          "method": "org.eclipse.gef.internal.ui.palette.editparts.ColumnsLayout.getChildSize",
          "source": "ColumnsLayout.java:49"
        },
        {
          "method": "org.eclipse.draw2d.FlowLayout.calculatePreferredSize",
          "source": "FlowLayout.java:126"
        },
        {
          "method": "org.eclipse.draw2d.AbstractLayout.getPreferredSize",
          "source": "AbstractLayout.java:93"
        },
        {
          "method": "org.eclipse.draw2d.AbstractHintLayout.getPreferredSize",
          "source": "AbstractHintLayout.java:86"
        },
        {
          "method": "org.eclipse.draw2d.AbstractHintLayout.calculateMinimumSize",
          "source": "AbstractHintLayout.java:52"
        },
        {
          "method": "org.eclipse.draw2d.AbstractHintLayout.getMinimumSize",
          "source": "AbstractHintLayout.java:69"
        },
        {
          "method": "org.eclipse.draw2d.Figure.getMinimumSize",
          "source": "Figure.java:670"
        },
        {
          "method": "org.eclipse.draw2d.ToolbarLayout.calculateChildrenSize",
          "source": "ToolbarLayout.java:96"
        },
        {
          "method": "org.eclipse.draw2d.ToolbarLayout.calculateMinimumSize",
          "source": "ToolbarLayout.java:131"
        },
        {
          "method": "org.eclipse.draw2d.AbstractHintLayout.getMinimumSize",
          "source": "AbstractHintLayout.java:69"
        },
        {
          "method": "org.eclipse.draw2d.Figure.getMinimumSize",
          "source": "Figure.java:670"
        },
        {
          "method": "org.eclipse.draw2d.StackLayout.calculateMinimumSize",
          "source": "StackLayout.java:44"
        },
        {
          "method": "org.eclipse.draw2d.AbstractHintLayout.getMinimumSize",
          "source": "AbstractHintLayout.java:69"
        },
        {
          "method": "org.eclipse.draw2d.Figure.getMinimumSize",
          "source": "Figure.java:670"
        },
        {
          "method": "org.eclipse.draw2d.ViewportLayout.calculatePreferredSize",
          "source": "ViewportLayout.java:65"
        },
        {
          "method": "org.eclipse.draw2d.AbstractLayout.getPreferredSize",
          "source": "AbstractLayout.java:93"
        },
        {
          "method": "org.eclipse.draw2d.AbstractHintLayout.getPreferredSize",
          "source": "AbstractHintLayout.java:86"
        },
        {
          "method": "org.eclipse.draw2d.Figure.getPreferredSize",
          "source": "Figure.java:698"
        },
        {
          "method": "org.eclipse.draw2d.StackLayout.calculatePreferredSize",
          "source": "StackLayout.java:71"
        },
        {
          "method": "org.eclipse.draw2d.AbstractLayout.getPreferredSize",
          "source": "AbstractLayout.java:93"
        },
        {
          "method": "org.eclipse.draw2d.AbstractHintLayout.getPreferredSize",
          "source": "AbstractHintLayout.java:86"
        },
        {
          "method": "org.eclipse.draw2d.Figure.getPreferredSize",
          "source": "Figure.java:698"
        },
        {
          "method": "org.eclipse.draw2d.FigureCanvas.computeSize",
          "source": "FigureCanvas.java:125"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.computeSize",
          "source": "Control.java:391"
        },
        {
          "method": "org.eclipse.gef.ui.palette.FlyoutPaletteComposite.setState",
          "source": "FlyoutPaletteComposite.java:563"
        },
        {
          "method": "org.eclipse.gef.ui.palette.FlyoutPaletteComposite.updateState",
          "source": "FlyoutPaletteComposite.java:602"
        },
        {
          "method": "org.eclipse.gef.ui.palette.FlyoutPaletteComposite.\u003cinit\u003e",
          "source": "FlyoutPaletteComposite.java:195"
        },
        {
          "method": "org.eclipse.gef.ui.parts.GraphicalEditorWithFlyoutPalette.createPartControl",
          "source": "GraphicalEditorWithFlyoutPalette.java:75"
        },
        {
          "method": "org.eclipse.ui.part.MultiPageEditorPart.addPage",
          "source": "MultiPageEditorPart.java:120"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "84501",
      "date": "2005-02-05T01:15:14+01:00",
      "product": "GEF",
      "component": "draw2d",
      "severity": "normal"
    }
  ],
  "groupId": "84501",
  "bugId": "84501",
  "date": "2005-02-05T01:15:14+01:00",
  "product": "GEF",
  "component": "draw2d",
  "severity": "normal"
}