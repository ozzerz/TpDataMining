{
  "comments": [
    "I\u0027ve been experiencing a lot of VM crashes with today integration build. Appears that plugins are not \nbeing loaded properly. Will attach log file.\n\n(filing against resources because first exception is logged there)",
    "Created an attachment (id\u003d19882)\nLog file\n",
    "Is this log from the session where the crash occurs, or the session after the\ncrash?  If the same session, are the errors occurring around the time of the\ncrash?  I just want to verify that the log contents are relevant to the crashes\n(they don\u0027t look like VM crashes in the log).",
    "I am seeing this...\n\norg.eclipse.swt.SWTException: Invalid thread access\n ? ? ? ?at org.eclipse.swt.SWT.error(SWT.java:2931)\n ? ? ? ?at org.eclipse.swt.SWT.error(SWT.java:2854)\n ? ? ? ?at org.eclipse.swt.SWT.error(SWT.java:2825)\n ? ? ? ?at org.eclipse.swt.widgets.Widget.error(Widget.java:554)\n ? ? ? ?at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:305)\n ? ? ? ?at org.eclipse.swt.widgets.Control.getToolTipText(Control.java:938)\n ? ? ? ?at org.eclipse.ui.internal.HeapStatus.updateToolTip(HeapStatus.java:279)\n ? ? ? ?at org.eclipse.ui.internal.HeapStatus.access$1(HeapStatus.java:264)\n ? ? ? ?at org.eclipse.ui.internal.HeapStatus$1.run(HeapStatus.java:52)\n ? ? ? ?at org.eclipse.swt.widgets.Display.timerProc(Display.java:3478)\n\n... at startup. Note that this looks like the timerProc is being called from a non-ui thread.\n\nI spoke with Kevin about this, and he indicated that he is not running in -debug mode.\n",
    "McQ\u0027s exception is unrelated.  For some reason, running \"eclipse -debug\" from \nthe command line causes the timer exec\u0027s that Nick uses to update his heap \nstatus plugin to come in on the wrong thread.  I have no idea why this would \nhappen but can\u0027t recreate it running an Eclipse from within an Eclipse.  Nick \nhas hacked his code to asyncExec() the first timer exec so that it runs after \nthe event loop has started.  We believe that the Mac gets messed up and starts \nsending timers from the wrong thread when a timer is added before the event \nloop has run and Eclipse is invoked from the command line.",
    "None of the exceptions in the original log file have SWT in them so I\u0027m not \nsure what to debug.  I got the lastest Mac and it WORKSFORME (provided I don\u0027t \nstart it with -debug).  McQ?",
    "The HeapStatus control only comes into play when both of the following debug\noptions are active:\norg.eclipse.core.runtime/perf\u003dtrue\norg.eclipse.ui/perf/showHeapStatus\u003dtrue\n\nThe Heap Status thingy has been in since I20050405, so I\u0027m curious as to why\nnobody saw this before.\n\nAs Steve mentioned, I\u0027ve put a workaround in the code to do the first timerExec\nin an asyncExec, which will get picked up for the next I-build.\nWe believe this should workaround any threading weirdness on the Mac, but\nhaven\u0027t been able to prove that it does.\n\nIn the meantime, the workaround is to not run with -debug, or remove the\nfollowing from the .options file:\norg.eclipse.ui/perf/showHeapStatus\u003dtrue\nor change it to false.\n",
    "My .options has both those parameters set but I wasn\u0027t running with -debug this morning.\nIt\u0027s possible that my crashes were caused by bad memory. I installed some additional memory last \nnight. I\u0027ll try removing it.",
    "I\u0027ve been unable to crash it w/o the new memory. Usually it would have crashed a couple times by now. \nI\u0027m still having trouble loading the jdt.debug plugin, but I\u0027ll file a separate bug for that (it\u0027s a debug \nproblem caused by the jarring of our plugins).\n",
    "\u003e\u003eNone of the exceptions in the original log file have SWT in them\n\u003e\u003eso I\u0027m not sure what to debug.  I got the lastest Mac and it\n\u003e\u003eWORKSFORME (provided I don\u0027t start it with -debug).  McQ?\n\nIs there a core dump you can append?  What version of OS X are you running?  \nHave you updated your OS automatically from the Apple website?",
    "My original complaint was Invalid. With Bug 91345 resolved, the bad memory removed from my \nmachine, and -debug off, I20050413-0910 WORKSFORME also.",
    "Changing the title to reflect the problem that we are seeing, specifically \nthis stack trace:\n\norg.eclipse.swt.SWTException: Invalid thread access\n        at org.eclipse.swt.SWT.error(SWT.java:2931)\n        at org.eclipse.swt.SWT.error(SWT.java:2854)\n        at org.eclipse.swt.SWT.error(SWT.java:2825)\n        at org.eclipse.swt.widgets.Widget.error(Widget.java:554)\n        at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:305)\n        at org.eclipse.swt.widgets.Control.getToolTipText(Control.java:938)\n        at org.eclipse.ui.internal.HeapStatus.updateToolTip\n(HeapStatus.java:279)\n        at org.eclipse.ui.internal.HeapStatus.access$1(HeapStatus.java:264)\n        at org.eclipse.ui.internal.HeapStatus$1.run(HeapStatus.java:52)\n        at org.eclipse.swt.widgets.Display.timerProc(Display.java:3478)\n",
    "This is an interesting problem that seems to happen only when Java is invoked \nfrom the command line, not from Eclipse within Eclipse or from RCP.",
    "This is happening because the eclipse.ini file is not adding the option -\nXstartOnFirstThread, which is required on Mac.\n\n*** This bug has been marked as a duplicate of 76855 ***"
  ],
  "commentCreationDates": [
    "2005-04-13T20:26:56+02:00",
    "2005-04-13T20:27:55+02:00",
    "2005-04-13T20:34:43+02:00",
    "2005-04-13T20:37:00+02:00",
    "2005-04-13T21:29:33+02:00",
    "2005-04-13T21:31:25+02:00",
    "2005-04-13T21:36:08+02:00",
    "2005-04-13T21:45:19+02:00",
    "2005-04-13T22:27:22+02:00",
    "2005-04-14T16:10:21+02:00",
    "2005-04-14T17:13:50+02:00",
    "2005-04-14T17:18:32+02:00",
    "2005-04-14T17:21:09+02:00",
    "2005-04-18T18:00:08+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Invalid thread access  ? ? ? ?",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2931"
        }
      ],
      "number": 0,
      "commentIndex": 3,
      "bugId": "91328",
      "duplicateId": "76855",
      "date": "2005-04-13T20:37:00+02:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    },
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Invalid thread access",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2931"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2854"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2825"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:554"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.checkWidget",
          "source": "Widget.java:305"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.getToolTipText",
          "source": "Control.java:938"
        },
        {
          "method": "org.eclipse.ui.internal.HeapStatus.updateToolTip",
          "source": "HeapStatus.java:279"
        },
        {
          "method": "org.eclipse.ui.internal.HeapStatus.access$1",
          "source": "HeapStatus.java:264"
        },
        {
          "method": "org.eclipse.ui.internal.HeapStatus$1.run",
          "source": "HeapStatus.java:52"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.timerProc",
          "source": "Display.java:3478"
        }
      ],
      "number": 1,
      "commentIndex": 11,
      "bugId": "91328",
      "duplicateId": "76855",
      "date": "2005-04-14T17:18:32+02:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    }
  ],
  "groupId": "76855",
  "bugId": "91328",
  "duplicateId": "76855",
  "date": "2005-04-13T20:26:56+02:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "normal"
}