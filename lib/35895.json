{
  "comments": [
    "Tried using IBM JRE 1.3.1\n\nThe same thing happens with Eclipse 2.0.2 with the 2.0.x NLS pack installed\n(except it gets stuck at 98%)\n\nReproduce:\n- unpack Eclipse 2.1 on a machine running Japanese Windows\n- Open the search window, and search for anything (ex. \"java\")",
    "Are there any errors written to .log file?",
    "!SESSION 3 31, 2003 14:41:31.753 -----------------------------------------------\njava.fullversion\u003dJ2RE 1.3.1 IBM Windows 32 build cn131-20021102 (JIT enabled: \njitc)\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003dja_JP\nCommand-line arguments: -os win32 -ws win32 -arch x86 -install \nfile:G:/xfer/fares/Eclipse.2.1/\n!ENTRY org.eclipse.help 4 0 3 31, 2003 14:41:31.763\n!MESSAGE IO exception occurred while adding \ndocument /org.eclipse.platform.doc.user/reference/ref-72.htm to index \nG:\\xfer\\fares\\Eclipse.2.1\n\\workspace\\.metadata\\.plugins\\org.eclipse.help\\nl\\ja_JP.\n!STACK 0\njava.io.FileNotFoundException: G:\\xfer\\fares\\Eclipse.2.1\n\\workspace\\.metadata\\.plugins\\org.eclipse.help\\nl\\ja_JP\\_qt.fnm (The system \ncannot find the file specified)\n\tat java.io.RandomAccessFile.open(Native Method)\n\tat java.io.RandomAccessFile.\u003cinit\u003e(RandomAccessFile.java(Inlined \nCompiled Code))\n\tat java.io.RandomAccessFile.\u003cinit\u003e(RandomAccessFile.java(Compiled Code))\n\tat org.apache.lucene.store.FSOutputStream.\u003cinit\u003e(Unknown Source)\n\tat org.apache.lucene.store.FSDirectory.createFile(Unknown Source)\n\tat org.apache.lucene.index.FieldInfos.write(Unknown Source)\n\tat org.apache.lucene.index.SegmentMerger.mergeFields(Unknown Source)\n(Compiled Code)\n\tat org.apache.lucene.index.SegmentMerger.merge(Unknown Source)(Compiled \nCode)\n\tat org.apache.lucene.index.IndexWriter.mergeSegments(Unknown Source)\n(Compiled Code)\n\tat org.apache.lucene.index.IndexWriter.maybeMergeSegments(Unknown \nSource)(Compiled Code)\n\tat org.apache.lucene.index.IndexWriter.addDocument(Unknown Source)\n\tat org.eclipse.help.internal.search.SearchIndex.addDocument\n(SearchIndex.java:122)\n\tat org.eclipse.help.internal.search.IndexingOperation.addDocuments\n(IndexingOperation.java:107)\n\tat org.eclipse.help.internal.search.IndexingOperation.execute\n(IndexingOperation.java:88)\n\tat org.eclipse.help.internal.search.SearchManager.updateIndex\n(SearchManager.java:147)\n\tat org.eclipse.help.internal.search.SearchManager.search\n(SearchManager.java:88)\n\tat org.eclipse.help.internal.search.SearchProgressMonitor$2.run\n(SearchProgressMonitor.java:143)\n\tat java.lang.Thread.run(Thread.java:512)\n!ENTRY org.eclipse.help 4 0 3 31, 2003 14:41:36.520\n!MESSAGE IO exception occurred while adding \ndocument /org.eclipse.platform.doc.user/concepts/concepts-6a.htm to index \nG:\\xfer\\fares\\Eclipse.2.1\n\\workspace\\.metadata\\.plugins\\org.eclipse.help\\nl\\ja_JP.\n!STACK 0\njava.io.FileNotFoundException: G:\\xfer\\fares\\Eclipse.2.1\n\\workspace\\.metadata\\.plugins\\org.eclipse.help\\nl\\ja_JP\\_9w.prx (Insufficient \nsystem resources exist to complete the requested service)\n\tat java.io.RandomAccessFile.open(Native Method)\n\tat java.io.RandomAccessFile.\u003cinit\u003e(RandomAccessFile.java(Compiled Code))\n\tat java.io.RandomAccessFile.\u003cinit\u003e(RandomAccessFile.java(Inlined \nCompiled Code))\n\tat org.apache.lucene.store.FSInputStream$Descriptor.\u003cinit\u003e(Unknown \nSource)(Inlined Compiled Code)\n\tat org.apache.lucene.store.FSInputStream.\u003cinit\u003e(Unknown Source)(Inlined \nCompiled Code)\n\tat org.apache.lucene.store.FSDirectory.openFile(Unknown Source)\n(Compiled Code)\n\tat org.apache.lucene.index.SegmentReader.\u003cinit\u003e(Unknown Source)(Inlined \nCompiled Code)\n\tat org.apache.lucene.index.IndexWriter.mergeSegments(Unknown Source)\n(Compiled Code)\n\tat org.apache.lucene.index.IndexWriter.maybeMergeSegments(Unknown \nSource)(Compiled Code)\n\tat org.apache.lucene.index.IndexWriter.addDocument(Unknown Source)\n\tat org.eclipse.help.internal.search.SearchIndex.addDocument\n(SearchIndex.java:122)\n\tat org.eclipse.help.internal.search.IndexingOperation.addDocuments\n(IndexingOperation.java:107)\n\tat org.eclipse.help.internal.search.IndexingOperation.execute\n(IndexingOperation.java:88)\n\tat org.eclipse.help.internal.search.SearchManager.updateIndex\n(SearchManager.java:147)\n\tat org.eclipse.help.internal.search.SearchManager.search\n(SearchManager.java:88)\n\tat org.eclipse.help.internal.search.SearchProgressMonitor$2.run\n(SearchProgressMonitor.java:143)\n\tat java.lang.Thread.run(Thread.java:512)\n",
    "Interesting part is\njava.io.FileNotFoundException: G:\\xfer\\fares\\Eclipse.2.1\n\\workspace\\.metadata\\.plugins\\org.eclipse.help\\nl\\ja_JP\\_9w.prx (Insufficient \nsystem resources exist to complete the requested service)\n\tat java.io.RandomAccessFile.open(Native Method)\n\nIs there enought space on the G: drive?\nIs G: a local drive or on the network mounted one?\nAre you running other software at the same time, that can keep many files \nopened?\nCan you reproduce the problem after rebooting your machine?\nCan you reproduce the problem if you pass -vmargs -Xmx256M options to Eclipse?\n\nThanks.",
    "I could not reproduce the problem on my Windows 2000 machine after setting it \nto Japanese.  I do not think the problem is related to the locale the machine \nis running.",
    "Also, try removing workspace/.plugins/org.eclipse.help and restart eclipse and \nre-index.",
    "You are right about this not having to do with the locale. I was able to \nreproduce it on an en_US Windows 2000 machine by using the same network volume.\n\nIt happens without other (large) programs open, after rebooting, and with -\nvmargs -Xmx256M.\n\nThe G: drive may partially be at fault, but I am not sure, because all other \nEclipse functions seem to run without problems. It is a mounted Novell network \ndrive that has about 27 Gigabytes of free space.\n\nWhile Eclipse is open and indexing has been run, I noticed that I cannot open \nany files on that Novell volume - it seems to be out of file handles. Windows \njust says \"out of system resources\" why I try to open any file on that volume. \nOpening files from any other network drives or local drives is no problem. \nClosing Eclipse often produces error messages saying that the metadata cannot \nbe written to the workspace, but this is not consistently reproducible.\n\nCould it be possible that Help opens a very large number of files at once while \nindexing? This may be the cause of problems on our network drive.",
    "Using Eclipse SDK help index takes about 17 files after indexing has finished.  \nDuring search most of these files are kept opened simultaneously.  When \nindexing, index is written into many small files and periodically merged.  I \nobserved the number of files oscillating between 30 and 300, but do not know \nhow many of them are opened simultaneously.  For performance reasons, I expect \nthat many.  The number of files opened by Lucene search engine would be in \naddition to open files that are used by the Eclipse platform.\n\nSince it works on supported OSes when workspace is local, and I have not seen \nthe problem using networked filesystem mounted on Unix OSes, I believe this \nproblem is a Novell on Windows issue.  Does Novell allow you to change maximum \nnumber of file handles?  If not, what is the imposed limit?",
    "Ok I checked, and our sysadmin looked up the maximum file handles for that \nserver: it is 3000. It is possible to increase it (i.e. it is not the hard \nlimit), but it is not currently doable as the server would have to be rebooted.\n\nI do not need to run Eclipse from that mount point (this is currently not a \nhigh priority \"bug\" as far as I\u0027m concerned), but is it possible that it opens \n3000 files at the same time? It may turn out not to be the open file handles..\n\nI\u0027m not sure whether this next bit provides a hint or not: We are running \nWebsphere Studio Device Developer here (which is based on Eclipse 2.0.2). \nEventhough the help content is quite different than vanilla Eclipse help \ncontent; it also still hangs at 98% when running off that Novell filesystem.\n\nAnother note: I get a busy cursor flash every second when the mouse is hovering \nover the progress bar that is stuck at 98% (refreshing the percentage \neventhough it has stopped indexing?).",
    "Thank you.\n\nSorry.  I did not mean that the number of file handles on the server is too \nsmall.  3000 seems much more than needed.  Rather there is probably some lower \nlimit of how many files a client can kept open on the Novell server.\n\nEclipse 2.0.2 and Eclipse 2.1 have the same Lucene engine, so the behavior \nshould be the same.  Your finding that WSDD fails the same as Eclipse 2.1 \nconfirms that there is not recent regression in the help code.\n\nI have mounted a network drive to my machine and ran Eclipse from the network \ndrive.  There was no problem indexing and searching, but my server was just \nanother Windows 2000 box to which I net used.\n\nIt is not likely that we will be able to fix the problem with Novell by doing \nanything in the help code.  I will mark the bug as WILL NOT FIX.\nIf more information becomes available that can help solve running on Novell, \nplease add comments or reopen the bug.\n\n\n"
  ],
  "commentCreationDates": [
    "2003-03-31T23:10:02+02:00",
    "2003-03-31T23:56:59+02:00",
    "2003-04-01T00:31:19+02:00",
    "2003-04-01T00:46:21+02:00",
    "2003-04-01T00:48:52+02:00",
    "2003-04-01T00:54:20+02:00",
    "2003-04-01T18:06:55+02:00",
    "2003-04-01T18:42:37+02:00",
    "2003-04-02T23:17:08+02:00",
    "2003-04-03T00:14:58+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.io.FileNotFoundException",
      "message": "G:\\xfer\\fares\\Eclipse.2.1 \\workspace\\.metadata\\.plugins\\org.eclipse.help\\nl\\ja_JP\\_qt.fnm (The system  cannot find the file specified)",
      "elements": [
        {
          "method": "java.io.RandomAccessFile.open",
          "source": "Native Method"
        },
        {
          "method": "java.io.RandomAccessFile.\u003cinit\u003e",
          "source": "RandomAccessFile.java(Inlined  Compiled Code)"
        },
        {
          "method": "java.io.RandomAccessFile.\u003cinit\u003e",
          "source": "RandomAccessFile.java(Compiled Code)"
        },
        {
          "method": "org.apache.lucene.store.FSOutputStream.\u003cinit\u003e",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.lucene.store.FSDirectory.createFile",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.lucene.index.FieldInfos.write",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.lucene.index.SegmentMerger.mergeFields",
          "source": "Unknown Source"
        }
      ],
      "number": 0,
      "commentIndex": 2,
      "bugId": "35895",
      "date": "2003-04-01T00:31:19+02:00",
      "product": "Platform",
      "component": "User Assistance",
      "severity": "normal"
    },
    {
      "exceptionType": "java.io.FileNotFoundException",
      "message": "G:\\xfer\\fares\\Eclipse.2.1 \\workspace\\.metadata\\.plugins\\org.eclipse.help\\nl\\ja_JP\\_9w.prx (Insufficient  system resources exist to complete the requested service)",
      "elements": [
        {
          "method": "java.io.RandomAccessFile.open",
          "source": "Native Method"
        },
        {
          "method": "java.io.RandomAccessFile.\u003cinit\u003e",
          "source": "RandomAccessFile.java(Compiled Code)"
        },
        {
          "method": "java.io.RandomAccessFile.\u003cinit\u003e",
          "source": "RandomAccessFile.java(Inlined  Compiled Code)"
        },
        {
          "method": "org.apache.lucene.store.FSInputStream$Descriptor.\u003cinit\u003e",
          "source": "Unknown  Source"
        }
      ],
      "number": 1,
      "commentIndex": 2,
      "bugId": "35895",
      "date": "2003-04-01T00:31:19+02:00",
      "product": "Platform",
      "component": "User Assistance",
      "severity": "normal"
    },
    {
      "exceptionType": "java.io.FileNotFoundException",
      "message": "G:\\xfer\\fares\\Eclipse.2.1 \\workspace\\.metadata\\.plugins\\org.eclipse.help\\nl\\ja_JP\\_9w.prx (Insufficient  system resources exist to complete the requested service)",
      "elements": [
        {
          "method": "java.io.RandomAccessFile.open",
          "source": "Native Method"
        }
      ],
      "number": 2,
      "commentIndex": 3,
      "bugId": "35895",
      "date": "2003-04-01T00:46:21+02:00",
      "product": "Platform",
      "component": "User Assistance",
      "severity": "normal"
    }
  ],
  "groupId": "35895",
  "bugId": "35895",
  "date": "2003-03-31T23:10:02+02:00",
  "product": "Platform",
  "component": "User Assistance",
  "severity": "normal"
}