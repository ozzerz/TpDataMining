{
  "comments": [
    "Hi,\n\nI\u0027d like to have access to declarations of referenced types in methods. Consequently after reading the docs, I wrote next piece of code:\n\n        final SearchEngine searchEngine \u003d new SearchEngine();\n\tfinal RequiredTypesRequestor searchRequestor \u003d new RequiredTypesRequestor( ... );\n    \ttry {\n        searchEngine.searchDeclarationsOfReferencedTypes( method, searchRequestor, monitor );\n    \t} catch ( JavaModelException except ) {\n        // logging\n      }\n\nUnfortunately I receive the exception below when the method is a binary method encapsulated into a jar [but it also occurs with any other java element packaged into that jar]. Jar with which I carefully attached a source code.\n\njava.lang.StringIndexOutOfBoundsException: String index out of range: -1\n\tat java.lang.String.substring(Unknown Source)\n\tat java.lang.String.substring(Unknown Source)\n\tat org.eclipse.jdt.internal.core.util.HandleFactory.createOpenable(HandleFactory.java:134)\n\tat org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1159)\n\tat org.eclipse.jdt.internal.core.search.JavaSearchParticipant.locateMatches(JavaSearchParticipant.java:94)\n\tat org.eclipse.jdt.internal.core.search.BasicSearchEngine.searchDeclarations(BasicSearchEngine.java:1108)\n\tat org.eclipse.jdt.internal.core.search.BasicSearchEngine.searchDeclarationsOfReferencedTypes(BasicSearchEngine.java:1161)\n\tat org.eclipse.jdt.core.search.SearchEngine.searchDeclarationsOfReferencedTypes(SearchEngine.java:896)\n...\n\nI work with Eclipse 3.2RC7.\n\nThanks in advance for your help.",
    "Could you please provide a test case?\nThanks.",
    "I\u0027ve already got test case from Emmanuel about this issue and asked him to open a bug...\nThanks Olivier",
    "Created an attachment (id\u003d45160)\nJar file to reproduce the problem\n\nAny of searchDeclarationsOf* method performed on this jar file would throw a JavaModelException...",
    "Created an attachment (id\u003d45161)\nProposed patch\n\nTests added on JavaSearchBugsTests use previous attached Jar file put in /JavaSearchBugs/lib folder...",
    "Philippe, I think this is obviously a candidate for 3.2.1, isn\u0027t it?\n",
    "+1 for 3.2.1",
    "Released for 3.2.1 in TARGET_321 branch",
    "Released for 3.3 M1 in HEAD",
    "Verified for 3.3 M1 using build I20060807-0010",
    "Verified for 3.2.1 using build M20060908-1655."
  ],
  "commentCreationDates": [
    "2006-06-22T15:55:25+02:00",
    "2006-06-22T16:31:01+02:00",
    "2006-06-22T16:58:40+02:00",
    "2006-06-23T12:59:54+02:00",
    "2006-06-23T13:01:36+02:00",
    "2006-06-23T13:03:35+02:00",
    "2006-06-23T13:05:37+02:00",
    "2006-06-23T16:11:00+02:00",
    "2006-06-23T17:37:08+02:00",
    "2006-08-07T10:35:34+02:00",
    "2006-09-11T19:53:45+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.StringIndexOutOfBoundsException",
      "message": "String index out of range: -1",
      "elements": [
        {
          "method": "java.lang.String.substring",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.String.substring",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jdt.internal.core.util.HandleFactory.createOpenable",
          "source": "HandleFactory.java:134"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches",
          "source": "MatchLocator.java:1159"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.JavaSearchParticipant.locateMatches",
          "source": "JavaSearchParticipant.java:94"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.BasicSearchEngine.searchDeclarations",
          "source": "BasicSearchEngine.java:1108"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.BasicSearchEngine.searchDeclarationsOfReferencedTypes",
          "source": "BasicSearchEngine.java:1161"
        },
        {
          "method": "org.eclipse.jdt.core.search.SearchEngine.searchDeclarationsOfReferencedTypes",
          "source": "SearchEngine.java:896"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "148215",
      "date": "2006-06-22T15:55:25+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "148215",
  "bugId": "148215",
  "date": "2006-06-22T15:55:25+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}