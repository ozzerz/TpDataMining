{
  "comments": [
    "Created an attachment (id\u003d81736)\nstdout and stderr from ./eclipse in 20071031-0010/equinox.p2\n\nI can\u0027t install today\u0027s SDK via the admin UI using metadata generated by me.  Here\u0027s what I think is the relevant information.  Let me know what else I can provide:\n\n(I apologize if some of the lines wrap stupidly.  I deleted some of the extraneous information but bugzilla\u0027s entry form isn\u0027t exactly a rich editor :))\n\nFrom today\u0027s SDK download (which works fine):\n\n$ md5sum /home/andrew/eclipse/binary/20071031/eclipse/plugins/org.eclipse.swt.gtk.linux.x86_3.4.0.v3416.jar \n3430acf95b92bd5d8fa5ebd460147c4f\n\n$ ls -lh /home/andrew/eclipse/binary/20071031/eclipse/plugins/org.eclipse.swt.gtk.linux.x86_3.4.0.v3416.jar\n-rw-rw-r-- 1 andrew andrew 1.9M 2007-10-31 04:06\n\nIn generated metadata/artifactRepo from today\u0027s SDK download:\n\n$ md5sum /tmp/equinox.prov/20071031/servers/artifactRepository/plugins/org.eclipse.swt.gtk.linux.x86_3.4.0.v3416.jar \n3430acf95b92bd5d8fa5ebd460147c4f\n\n$ ls -lh /tmp/equinox.prov/20071031/servers/artifactRepository/plugins/org.eclipse.swt.gtk.linux.x86_3.4.0.v3416.jar\n-rw-rw-r-- 1 andrew andrew 1.9M 2007-10-31 11:44\n\nNote that they\u0027re the same.\n\nIn error log (attached) from attempting to install today\u0027s sdk via admin UI:\n\nlocation\u003dfile:/home/andrew/work/eclipse/binary/20071031/equinox.p2/p2/org.eclipse.equinox.p2.touchpoint.eclipse/plugins/org.eclipse.swt.gtk.linux.x86_3.4.0.v3416.jar\njava.util.zip.ZipException: error in opening zip file\n\n[...]\n\n[ERROR][composeExpectedState()](org.eclipse.equinox.frameworkadmin.equinox.internal.EquinoxBundlesState)BundleInfo:BundleInfo(org.eclipse.swt.gtk.linux.x86, 3.4.0.v3416, location\u003dfile:/home/andrew/work/eclipse/binary/20071031/equinox.p2/p2/org.eclipse.equinox.p2.touchpoint.eclipse/plugins/org.eclipse.swt.gtk.linux.x86_3.4.0.v3416.jar, startLevel\u003d-1, toBeStarted\u003dfalse, resolved\u003dfalse, id\u003d-1,manifest available)\njava.lang.NullPointerException\n\tat org.eclipse.equinox.frameworkadmin.equinox.internal.EquinoxBundlesState.installBundle(EquinoxBundlesState.java:642)\n\tat org.eclipse.equinox.frameworkadmin.equinox.internal.EquinoxBundlesState.composeState(EquinoxBundlesState.java:441)\n\nHmm, what\u0027s it trying to unzip?\n\n$ md5sum /home/andrew/work/eclipse/binary/20071031/equinox.p2/p2/org.eclipse.equinox.p2.touchpoint.eclipse/plugins/org.eclipse.swt.gtk.linux.x86_3.4.0.v3416.jar\ne88fac991e62e964b0ef64689d612dbb\n\n$ ls -lh /home/andrew/work/eclipse/binary/20071031/equinox.p2/p2/org.eclipse.equinox.p2.touchpoint.eclipse/plugins/org.eclipse.swt.gtk.linux.x86_3.4.0.v3416.jar\n-rw-rw-r-- 1 andrew andrew 424K 2007-10-31 12:11\n\nDifferent from above.",
    "Andrew,\nI don\u0027t know if this is relevant or not, but in the past when I\u0027ve seen this kind of exception, it\u0027s often because I have some kind of previous failure that I didn\u0027t clean up.  I don\u0027t know if you are running a downloaded agent or one in your workspace.  When I see this kind of problem from my workspace, I make sure to clean out the directory that the launch config uses for its configuration area, clean out the profile data area, its install folder, and start fresh. ",
    "(In reply to comment #1)\n\u003e I don\u0027t know if this is relevant or not, but in the past when I\u0027ve seen this\n\u003e kind of exception, it\u0027s often because I have some kind of previous failure that\n\u003e I didn\u0027t clean up.  I don\u0027t know if you are running a downloaded agent or one\n\u003e in your workspace.  When I see this kind of problem from my workspace, I make\n\u003e sure to clean out the directory that the launch config uses for its\n\u003e configuration area, clean out the profile data area, its install folder, and\n\u003e start fresh. \n\nI\u0027m running the 20071031-0010 agent drop.\n\nThanks for the tip :)  I re-extracted the agent gzip and I can now install the sdk!\n",
    "I\u0027m seeing this quite a bit.  I\u0027m not sure where it\u0027s coming from, but I\u0027ve had to move my equinox.p2 directory out of the way and restart with a clean tar zxf of the agent download a few times now.  We should really track down what is being cached improperly or whatever is happening.",
    "It seems like this happens if I specify a bundlepool location that had a failure or cancellation during a previous provisioning operation.",
    "This seems to be a fairly interesting problem, please make sure to attach steps and feel free to start any investigation. Thx.",
    "The problem is coming from a failed or canceled download. Closing as a dup of 210475.\n\n*** This bug has been marked as a duplicate of bug 210475 ***"
  ],
  "commentCreationDates": [
    "2007-10-31T17:34:04+01:00",
    "2007-10-31T17:41:08+01:00",
    "2007-10-31T17:54:46+01:00",
    "2007-11-01T14:36:56+01:00",
    "2007-11-01T14:45:02+01:00",
    "2007-11-01T21:12:52+01:00",
    "2007-11-29T15:44:10+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.equinox.frameworkadmin.equinox.internal.EquinoxBundlesState.installBundle",
          "source": "EquinoxBundlesState.java:642"
        },
        {
          "method": "org.eclipse.equinox.frameworkadmin.equinox.internal.EquinoxBundlesState.composeState",
          "source": "EquinoxBundlesState.java:441"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "208276",
      "duplicateId": "210475",
      "date": "2007-10-31T17:34:04+01:00",
      "product": "Equinox",
      "component": "Incubator",
      "severity": "normal"
    }
  ],
  "groupId": "210475",
  "bugId": "208276",
  "duplicateId": "210475",
  "date": "2007-10-31T17:34:04+01:00",
  "product": "Equinox",
  "component": "Incubator",
  "severity": "normal"
}