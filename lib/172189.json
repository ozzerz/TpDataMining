{
  "comments": [
    "Eclipse 3.3M4 I20061214-1445, Sun 1.6.0-rc-b104, Win XP SP2\n\nInternal compiler error while compiling the following class:\n\nimport java.util.*;\n\npublic final class Pair\u003cA, B\u003e {\n\n    public A a;\n    public B b;\n\n    public Pair(A pa, B pb) {\n        a \u003d pa;\n        b \u003d pb;\n    }\n\n    public static \u003cA, B\u003e Pair\u003cA, B\u003e create(A pa, B pb) {\n        return new Pair\u003cA, B\u003e(pa, pb);\n    }\n\n    public static void main(String[] args) {\n        List\u003cPair\u003cString, Object\u003e\u003e list \u003d new ArrayList\u003cPair\u003cString,Object\u003e\u003e();\n        list.add(Pair.\u003c?, Object\u003ecreate(\"\", \"\"));\n    }\n}\n\nIf the ? wildcard is replaced with the correct type (String) it compiles without problem.\n\n\n.log information:\n\n!ENTRY org.eclipse.core.resources 2 75 2007-01-30 17:20:34.421\n!MESSAGE Errors during build.\n!SUBENTRY 1 org.eclipse.jdt.core 2 75 2007-01-30 17:20:34.421\n!MESSAGE Errors running builder \u0027Java Builder\u0027 on project \u0027Bug\u0027.\n!SUBENTRY 1 org.eclipse.jdt.core 2 75 2007-01-30 17:20:34.421\n!MESSAGE java.lang.NullPointerException encountered while running Java Builder.\n!STACK 0\njava.lang.NullPointerException\n\n!ENTRY org.eclipse.jdt.core 4 4 2007-01-30 17:20:35.359\n!MESSAGE Exception occurred during problem detection:\n----------------------------------- SOURCE BEGIN -------------------------------------\nimport java.util.*;\n\npublic final class Pair\u003cA, B\u003e {\n\n    public A a;\n    public B b;\n\n    public Pair(A pa, B pb) {\n        a \u003d pa;\n        b \u003d pb;\n    }\n\n    public static \u003cA, B\u003e Pair\u003cA, B\u003e create(A pa, B pb) {\n        return new Pair\u003cA, B\u003e(pa, pb);\n    }\n\n    public static void main(String[] args) {\n        List\u003cPair\u003cString, Object\u003e\u003e list \u003d new ArrayList\u003cPair\u003cString,Object\u003e\u003e();\n        list.add(Pair.\u003c?, Object\u003ecreate(\"\", \"\"));\n    }\n}\n\n----------------------------------- SOURCE END -------------------------------------\n!STACK 0\njava.lang.NullPointerException\n\n!ENTRY org.eclipse.jdt.ui 4 0 2007-01-30 17:20:35.359\n!MESSAGE Error in JDT Core during reconcile\n!STACK 1\nJava Model Exception: java.lang.NullPointerException\n\tat org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process(CompilationUnitProblemFinder.java:227)\n\tat org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process(CompilationUnitProblemFinder.java:249)\n\tat org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.makeConsistent(ReconcileWorkingCopyOperation.java:166)\n\tat org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.executeOperation(ReconcileWorkingCopyOperation.java:85)\n\tat org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:720)\n\tat org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:779)\n\tat org.eclipse.jdt.internal.core.CompilationUnit.reconcile(CompilationUnit.java:1147)\n\tat org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy$1.run(JavaReconcilingStrategy.java:97)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:82)\n\tat org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:145)\n\tat org.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.reconcile(CompositeReconcilingStrategy.java:86)\n\tat org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.reconcile(JavaCompositeReconcilingStrategy.java:96)\n\tat org.eclipse.jface.text.reconciler.MonoReconciler.process(MonoReconciler.java:75)\n\tat org.eclipse.jdt.internal.ui.text.JavaReconciler.process(JavaReconciler.java:343)\n\tat org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:204)\norg.eclipse.jdt.core.JavaModelException[1005]: java.lang.NullPointerException\nCaused by: java.lang.NullPointerException\n!SUBENTRY 1 org.eclipse.jdt.core 4 1005 2007-01-30 17:20:35.359\n!MESSAGE java.lang.NullPointerException\n!STACK 0\njava.lang.NullPointerException",
    "This is an invalid case that is not propertly reported.\nWhen simply trying to compile the code, we get:\nInternal compiler error\njava.lang.NullPointerException\n\tat org.eclipse.jdt.internal.compiler.ast.MessageSend.analyseCode(MessageSend.java:45)\n\tat org.eclipse.jdt.internal.compiler.ast.MessageSend.analyseCode(MessageSend.java:54)\n\tat org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.analyseCode(MethodDeclaration.java:90)\n\tat org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.internalAnalyseCode(TypeDeclaration.java:668)\n\tat org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.analyseCode(TypeDeclaration.java:253)\n\tat org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.analyseCode(CompilationUnitDeclaration.java:107)\n\tat org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:621)\n\tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:391)\n\tat org.eclipse.jdt.internal.compiler.batch.Main.performCompilation(Main.java:3024)\n\tat org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:1324)\n\tat org.eclipse.jdt.core.tools.compiler.Compile.main(Compile.java:86)\n",
    "javac 1.6 u1_b03 reports:\nX.java:19: illegal start of type\n        list.add(X.\u003c?, Object\u003ecreate(\"\", \"\"));\n                    ^\nX.java:19: illegal start of expression\n        list.add(X.\u003c?, Object\u003ecreate(\"\", \"\"));\n                     ^\n2 errors",
    "We have no binding for the method invocation:\nX.\u003c?, Object\u003ecreate(\"\", \"\")\nwithout reporting any error.",
    "The problem seems to come from the fact that the wildcard without a bound returns null in the resolveType call without logging any error.",
    "Added disabled regression test org.eclipse.jdt.core.tests.compiler.regression.GenericTypeTest._test1101()",
    "Created an attachment (id\u003d57817)\nProposed fix\n\n",
    "Looks good to me.",
    "I missed a case with the first fix where the parameterized type cannot be resolved. In this case, we ended up reporting too many errors.\nI propose to move the check inside the message send class.\nSee my second proposal.",
    "Created an attachment (id\u003d57918)\nNew patch\n\n",
    "Released for 3.3M5.\nRegression test enabled.",
    "Verified for 3.3 M5 using build I20070205-0009",
    "*** Bug 174724 has been marked as a duplicate of this bug. ***",
    "Has this really been fixed in 3.3 M5? I could reproduce bug 174724 (marked as duplicate) using M5.",
    "Your test case from bug 174724 compiles fine using M5.\n\nd:\\tests_sources\u003ejava -jar org.eclipse.jdt.core_3.3.0.v_735.jar X.java -1.5\n----------\n1. WARNING in X.java (at line 3)\n        Class foo \u003d Class.\u003c? extends Object\u003eforName(Integer.class.getName());\n        ^^^^^\nClass is a raw type. References to generic type Class\u003cT\u003e should be parameterized\n----------\n2. ERROR in X.java (at line 3)\n        Class foo \u003d Class.\u003c? extends Object\u003eforName(Integer.class.getName());\n                           ^^^^^^^^^^^^^^^^\nWildcard is not allowed at this location\n----------\n2 problems (1 error, 1 warning)",
    "Never mind, I was actually using M4. I was reading the build number from the log file, and I had inadvertently been running M5 and M4 on the same workspace (the log file had some sessions describing the M5 build, and others the M4 build). Should use the About dialog box next time."
  ],
  "commentCreationDates": [
    "2007-01-30T16:51:53+01:00",
    "2007-01-30T17:19:38+01:00",
    "2007-01-30T17:20:15+01:00",
    "2007-01-30T17:21:52+01:00",
    "2007-01-30T17:28:30+01:00",
    "2007-01-30T17:46:56+01:00",
    "2007-01-30T18:18:50+01:00",
    "2007-01-31T09:51:13+01:00",
    "2007-01-31T15:45:39+01:00",
    "2007-01-31T15:55:01+01:00",
    "2007-01-31T19:32:18+01:00",
    "2007-02-06T12:47:11+01:00",
    "2007-02-20T05:22:38+01:00",
    "2007-02-20T14:28:36+01:00",
    "2007-02-20T15:25:59+01:00",
    "2007-02-20T15:50:47+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process",
          "source": "CompilationUnitProblemFinder.java:227"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process",
          "source": "CompilationUnitProblemFinder.java:249"
        },
        {
          "method": "org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.makeConsistent",
          "source": "ReconcileWorkingCopyOperation.java:166"
        },
        {
          "method": "org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.executeOperation",
          "source": "ReconcileWorkingCopyOperation.java:85"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.run",
          "source": "JavaModelOperation.java:720"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.runOperation",
          "source": "JavaModelOperation.java:779"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.reconcile",
          "source": "CompilationUnit.java:1147"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy$1.run",
          "source": "JavaReconcilingStrategy.java:97"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile",
          "source": "JavaReconcilingStrategy.java:82"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile",
          "source": "JavaReconcilingStrategy.java:145"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.reconcile",
          "source": "CompositeReconcilingStrategy.java:86"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.reconcile",
          "source": "JavaCompositeReconcilingStrategy.java:96"
        },
        {
          "method": "org.eclipse.jface.text.reconciler.MonoReconciler.process",
          "source": "MonoReconciler.java:75"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.JavaReconciler.process",
          "source": "JavaReconciler.java:343"
        },
        {
          "method": "org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run",
          "source": "AbstractReconciler.java:204"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "172189",
      "date": "2007-01-30T16:51:53+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "minor"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.MessageSend.analyseCode",
          "source": "MessageSend.java:45"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.MessageSend.analyseCode",
          "source": "MessageSend.java:54"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.analyseCode",
          "source": "MethodDeclaration.java:90"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.internalAnalyseCode",
          "source": "TypeDeclaration.java:668"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.analyseCode",
          "source": "TypeDeclaration.java:253"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.analyseCode",
          "source": "CompilationUnitDeclaration.java:107"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.process",
          "source": "Compiler.java:621"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:391"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.batch.Main.performCompilation",
          "source": "Main.java:3024"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.batch.Main.compile",
          "source": "Main.java:1324"
        },
        {
          "method": "org.eclipse.jdt.core.tools.compiler.Compile.main",
          "source": "Compile.java:86"
        }
      ],
      "number": 1,
      "commentIndex": 1,
      "bugId": "172189",
      "date": "2007-01-30T17:19:38+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "minor"
    }
  ],
  "groupId": "172189",
  "bugId": "172189",
  "date": "2007-01-30T16:51:53+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "minor"
}