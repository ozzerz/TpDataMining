{
  "comments": [
    "When using \"-listener org.apache.tools.ant.XmlLogger\".\n\n     [exec] java.lang.reflect.InvocationTargetException: \njava.lang.NullPointerException\n     [exec]     at org.apache.tools.ant.XmlLogger.buildFinished\n(XmlLogger.java:119)\n     [exec]     at \norg.eclipse.ant.internal.core.ant.InternalAntRunner.fireBuildFinished\n(InternalAntRunner.java:507)\n     [exec]     at org.eclipse.ant.internal.core.ant.InternalAntRunner.run\n(InternalAntRunner.java:305)\n     [exec]     at org.eclipse.ant.internal.core.ant.InternalAntRunner.run\n(InternalAntRunner.java:443)\n     [exec]     at java.lang.reflect.Method.invoke(Native Method)\n     [exec]     at org.eclipse.ant.core.AntRunner.run(AntRunner.java:338)\n     [exec]     at org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:775)\n     [exec]     at org.eclipse.core.boot.BootLoader.run(BootLoader.java:462)\n     [exec]     at java.lang.reflect.Method.invoke(Native Method)\n     [exec]     at org.eclipse.core.launcher.Main.basicRun(Main.java:247)\n     [exec]     at org.eclipse.core.launcher.Main.run(Main.java:703)\n     [exec]     at org.eclipse.core.launcher.Main.main(Main.java:539)",
    "On the current stream (which will be coming to light in the next weeks \nintegration build and is available in the nightly builds), I fixed the problem \nwith a reordering of when buildStarted(BuildEvent) was called and where the \nlog.xml file was generated.\n",
    "Please verify (Jared)",
    "With the nightly build N22020924 I get another NPE.\n\n[exec] Using \nY:\\rnd_beehive_source_eclipse_vob\\build\\internal\\estudio\\logxyz.xml file as \nbuild log.\n[exec] java.lang.reflect.InvocationTargetException: \njava.lang.NullPointerException\n[exec]     at org.apache.tools.ant.XmlLogger.messageLogged(XmlLogger.java:237)\n[exec]     at org.apache.tools.ant.Project.fireMessageLoggedEvent\n(Project.java:982)\n[exec]     at org.apache.tools.ant.Project.fireMessageLogged(Project.java:988)\n[exec]     at org.apache.tools.ant.Project.log(Project.java:246)\n[exec]     at org.apache.tools.ant.Project.setProperty(Project.java:269)\n[exec]     at \norg.eclipse.ant.internal.core.ant.InternalAntRunner.fireBuildFinished\n(InternalAntRunner.java:573)\n[exec]     at org.eclipse.ant.internal.core.ant.InternalAntRunner.run\n(InternalAntRunner.java:496)\n[exec]     at org.eclipse.ant.internal.core.ant.InternalAntRunner.run\n(InternalAntRunner.java:421)\n[exec]     at java.lang.reflect.Method.invoke(Native Method)\n[exec]     at org.eclipse.ant.core.AntRunner.run(AntRunner.java:356)\n[exec]     at org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:775)\n[exec]     at org.eclipse.core.boot.BootLoader.run(BootLoader.java:462)\n[exec]     at java.lang.reflect.Method.invoke(Native Method)\n[exec]     at org.eclipse.core.launcher.Main.basicRun(Main.java:247)\n[exec]     at org.eclipse.core.launcher.Main.run(Main.java:703)\n[exec]     at org.eclipse.core.launcher.Main.main(Main.java:539)\n\n",
    "I believe another bug was causing this.\nThe InternalAntRunner was always calling buildFinished even in cases where it \nhad not called build started.\nI believe this made it into the 20020926 nightly build.\nGunnar can you please give me the exact steps that were causing the NPE so I \ncan ensure that all are fixed this time.",
    "nothing special\n\nI just ran the following target in my build.xml\n\n\u003c!-- executes the eclipse ant from within eclipse (should work on any os) --\u003e\n\u003ctarget name\u003d\"eclipse.ant\" if\u003d\"eclipse.ant.buildfile.verified\"\u003e\n  \u003cexec executable\u003d\"${temp.eclipse}/eclipse\" dir\u003d\"${eclipse.ant.dir}\" \nfailonerror\u003d\"true\"\u003e\n    \u003carg line\u003d\"-nosplash -data ${temp.eclipse}/buildworkspace -application \norg.eclipse.ant.core.antRunner -listener org.apache.tools.ant.XmlLogger -\nlogfile somelog.xml -Dinstall.path\u003d${temp.estudio} -\nDplugin.path\u003dfile:${temp.estudio}/plugins/,file:${temp.eclipse}/plugins/ -\nDos\u003d${os} -Dws\u003d${ws} -Darch\u003d${arch} -buildfile ${eclipse.ant.buildfile} \n${eclipse.ant.target}\"/\u003e\n  \u003c/exec\u003e\n\u003c/target\u003e\n\n",
    "It seems that the build file never get executed. The fireBuildFinished() is \ncalled before the build is finished ?!?\n\nWith N20020927 the NPE is still there but with a slightly different stack trace.\n\njava.lang.reflect.InvocationTargetException\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n  at java.lang.reflect.Method.invoke(Method.java:324)\n  at org.eclipse.ant.core.AntRunner.run(AntRunner.java:355)\n  at org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:775)\n  at org.eclipse.core.boot.BootLoader.run(BootLoader.java:462)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n  at java.lang.reflect.Method.invoke(Method.java:324)\n  at org.eclipse.core.launcher.Main.basicRun(Main.java:247)\n  at org.eclipse.core.launcher.Main.run(Main.java:703)\n  at org.eclipse.core.launcher.Main.main(Main.java:539)\nCaused by: java.lang.NullPointerException\n  at org.apache.tools.ant.XmlLogger.messageLogged(XmlLogger.java:237)\n  at org.apache.tools.ant.Project.fireMessageLoggedEvent(Project.java:982)\n  at org.apache.tools.ant.Project.fireMessageLogged(Project.java:988)\n  at org.apache.tools.ant.Project.log(Project.java:246)\n  at org.apache.tools.ant.Project.setProperty(Project.java:269)\n  at org.eclipse.ant.internal.core.ant.InternalAntRunner.fireBuildFinished\n(InternalAntRunner.java:587)\n  at org.eclipse.ant.internal.core.ant.InternalAntRunner.run\n(InternalAntRunner.java:511)\n  at org.eclipse.ant.internal.core.ant.InternalAntRunner.run\n(InternalAntRunner.java:425)\n  ... 14 more",
    "the error also pops up if I start the ant runner with an invalid build file.",
    "I can reproduce the problem...thanks Gunnar.  Working on a solution.",
    "Eclipse Ant as an IPlatformRunnable application had not been tested much on the \nnew code base(sorry, different entry point into the code).\n\nFixed the handling of command line arguments, non-existant build file and error \nreporting after the build was finished.\n\nGunnar if you get the chance could you verify?",
    "Please verify (Jared)",
    "Reopening to reassign as must be verified for M2",
    "Please verify (Luc)",
    "Marking as fixed.",
    "Verified.\nPlease update the build notes (darinS)"
  ],
  "commentCreationDates": [
    "2002-09-23T13:32:52+02:00",
    "2002-09-23T23:50:58+02:00",
    "2002-09-23T23:51:23+02:00",
    "2002-09-24T08:31:29+02:00",
    "2002-09-26T17:45:57+02:00",
    "2002-09-27T07:58:40+02:00",
    "2002-09-27T09:32:05+02:00",
    "2002-09-27T09:39:42+02:00",
    "2002-09-27T15:54:26+02:00",
    "2002-09-27T17:14:36+02:00",
    "2002-09-30T16:06:28+02:00",
    "2002-10-11T15:00:22+02:00",
    "2002-10-11T15:01:28+02:00",
    "2002-10-11T15:58:02+02:00",
    "2002-10-14T16:41:51+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.reflect.InvocationTargetException",
      "message": "java.lang.NullPointerException      [exec]",
      "elements": [
        {
          "method": "org.apache.tools.ant.XmlLogger.buildFinished",
          "source": "XmlLogger.java:119"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "23972",
      "date": "2002-09-23T13:32:52+02:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.reflect.InvocationTargetException",
      "message": "java.lang.NullPointerException [exec]",
      "elements": [
        {
          "method": "org.apache.tools.ant.XmlLogger.messageLogged",
          "source": "XmlLogger.java:237"
        }
      ],
      "number": 1,
      "commentIndex": 3,
      "bugId": "23972",
      "date": "2002-09-24T08:31:29+02:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.reflect.InvocationTargetException",
      "elements": [
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.ant.core.AntRunner.run",
          "source": "AntRunner.java:355"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:775"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:462"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:247"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:703"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:539"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.NullPointerException",
        "elements": [
          {
            "method": "org.apache.tools.ant.XmlLogger.messageLogged",
            "source": "XmlLogger.java:237"
          },
          {
            "method": "org.apache.tools.ant.Project.fireMessageLoggedEvent",
            "source": "Project.java:982"
          },
          {
            "method": "org.apache.tools.ant.Project.fireMessageLogged",
            "source": "Project.java:988"
          },
          {
            "method": "org.apache.tools.ant.Project.log",
            "source": "Project.java:246"
          },
          {
            "method": "org.apache.tools.ant.Project.setProperty",
            "source": "Project.java:269"
          },
          {
            "method": "org.eclipse.ant.internal.core.ant.InternalAntRunner.fireBuildFinished",
            "source": "InternalAntRunner.java:587"
          },
          {
            "method": "org.eclipse.ant.internal.core.ant.InternalAntRunner.run",
            "source": "InternalAntRunner.java:511"
          },
          {
            "method": "org.eclipse.ant.internal.core.ant.InternalAntRunner.run",
            "source": "InternalAntRunner.java:425"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 2,
      "commentIndex": 6,
      "bugId": "23972",
      "date": "2002-09-27T09:32:05+02:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    }
  ],
  "groupId": "23972",
  "bugId": "23972",
  "date": "2002-09-23T13:32:52+02:00",
  "product": "Platform",
  "component": "Ant",
  "severity": "normal"
}