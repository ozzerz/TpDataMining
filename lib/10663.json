{
  "comments": [
    "given the source:\n-----------start----------\n//cannot rename to i, i\npackage p;\nclass A{\n\tint m(){\n\t\tint i, /*[*/int j/*]*/;\n\t\treturn 0;\n\t};\n}\n-----------end----------\nAST.parseCompilationUnit(cu, true)\nresults in an exception:\n\njava.lang.IllegalArgumentException\n\tat org.eclipse.jdt.core.dom.ASTNode.setSourceRange(ASTNode.java:1018)\n\tat org.eclipse.jdt.core.dom.ASTConverter.convertPackage\n(ASTConverter.java:98)\n\tat org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:57)\n\tat org.eclipse.jdt.core.dom.AST.parseCompilationUnit(AST.java:230)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.rename.RenameTempRefactoring.initial\nizeAst(RenameTempRefactoring.java:151)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.rename.RenameTempRefactoring.checkAc\ntivation(RenameTempRefactoring.java:123)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.base.Refactoring.checkPreconditions\n(Refactoring.java:80)\n\tat \norg.eclipse.jdt.ui.tests.refactoring.RefactoringTest.performRefactoring\n(RefactoringTest.java:107)\n\tat org.eclipse.jdt.ui.tests.refactoring.RenameTempTests.helper2\n(RenameTempTests.java:97)\n\tat org.eclipse.jdt.ui.tests.refactoring.RenameTempTests.helper2\n(RenameTempTests.java:102)\n\tat org.eclipse.jdt.ui.tests.refactoring.RenameTempTests.testFail2\n(RenameTempTests.java:272)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:42)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:28)\n\tat java.lang.reflect.Method.invoke(Method.java:327)\n\tat junit.framework.TestCase.runTest(TestCase.java:166)\n\tat junit.framework.TestCase.runBare(TestCase.java:140)\n\tat junit.framework.TestResult$1.protect(TestResult.java:106)\n\tat junit.framework.TestResult.runProtected(TestResult.java:124)\n\tat junit.framework.TestResult.run(TestResult.java:109)\n\tat junit.framework.TestCase.run(TestCase.java:131)\n\tat junit.framework.TestSuite.runTest(TestSuite.java:173)\n\tat junit.framework.TestSuite.run(TestSuite.java:168)\n\tat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\n\tat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\n\tat junit.framework.TestResult.runProtected(TestResult.java:124)\n\tat junit.extensions.TestSetup.run(TestSetup.java:23)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests\n(RemoteTestRunner.java:319)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run\n(RemoteTestRunner.java:215)\n\tat org.eclipse.pde.internal.junit.ui.RemotePluginTestRunner.main\n(RemotePluginTestRunner.java:30)\n\tat org.eclipse.pde.internal.junit.ui.UITestApplication.runEventLoop\n(UITestApplication.java:34)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:771)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:777)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:319)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:42)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:28)\n\tat java.lang.reflect.Method.invoke(Method.java:327)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:151)\n\tat org.eclipse.core.launcher.Main.run(Main.java:502)\n\tat org.eclipse.core.launcher.UIMain.main(UIMain.java:52)",
    "Did you use the code I released on Friday to get this error? I could not \nreproduce with latest code.",
    "I cannot reproduce with latest code. I found a problem in the given code. This \ncode is syntaxically incorrect.\n\nIt should be:\npackage p;\nclass A{\n\tint m(){\n\t\tint i, /*[*/j/*]*/;\n\t\treturn 0;\n\t};\n}\n\notherwise you have a syntax error on the second \u0027int\u0027. You get \"identifier \nexpected\". I close this PR.",
    "The problem comes from the comment line at the beginning of the code. In this case the import \ndeclarationEnd is not set (equals to 0) and then the settings of the source range for the package \ndeclaration fails.\n",
    "This is fixed now. The problem was due to the syntax error. In the recovery mode, one of the \npositions stored in the import reference (package declaration) was missing.\nFixed and \nreleased in HEAD."
  ],
  "commentCreationDates": [
    "2002-03-04T10:01:46+01:00",
    "2002-03-04T14:04:27+01:00",
    "2002-03-04T14:15:17+01:00",
    "2002-03-05T17:38:06+01:00",
    "2002-03-05T18:05:09+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "elements": [
        {
          "method": "org.eclipse.jdt.core.dom.ASTNode.setSourceRange",
          "source": "ASTNode.java:1018"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTConverter.convertPackage",
          "source": "ASTConverter.java:98"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTConverter.convert",
          "source": "ASTConverter.java:57"
        },
        {
          "method": "org.eclipse.jdt.core.dom.AST.parseCompilationUnit",
          "source": "AST.java:230"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.rename.RenameTempRefactoring.initializeAst",
          "source": "RenameTempRefactoring.java:151"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.rename.RenameTempRefactoring.checkActivation",
          "source": "RenameTempRefactoring.java:123"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.base.Refactoring.checkPreconditions",
          "source": "Refactoring.java:80"
        },
        {
          "method": "org.eclipse.jdt.ui.tests.refactoring.RefactoringTest.performRefactoring",
          "source": "RefactoringTest.java:107"
        },
        {
          "method": "org.eclipse.jdt.ui.tests.refactoring.RenameTempTests.helper2",
          "source": "RenameTempTests.java:97"
        },
        {
          "method": "org.eclipse.jdt.ui.tests.refactoring.RenameTempTests.helper2",
          "source": "RenameTempTests.java:102"
        },
        {
          "method": "org.eclipse.jdt.ui.tests.refactoring.RenameTempTests.testFail2",
          "source": "RenameTempTests.java:272"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:42"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:28"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:327"
        },
        {
          "method": "junit.framework.TestCase.runTest",
          "source": "TestCase.java:166"
        },
        {
          "method": "junit.framework.TestCase.runBare",
          "source": "TestCase.java:140"
        },
        {
          "method": "junit.framework.TestResult$1.protect",
          "source": "TestResult.java:106"
        },
        {
          "method": "junit.framework.TestResult.runProtected",
          "source": "TestResult.java:124"
        },
        {
          "method": "junit.framework.TestResult.run",
          "source": "TestResult.java:109"
        },
        {
          "method": "junit.framework.TestCase.run",
          "source": "TestCase.java:131"
        },
        {
          "method": "junit.framework.TestSuite.runTest",
          "source": "TestSuite.java:173"
        },
        {
          "method": "junit.framework.TestSuite.run",
          "source": "TestSuite.java:168"
        },
        {
          "method": "junit.extensions.TestDecorator.basicRun",
          "source": "TestDecorator.java:22"
        },
        {
          "method": "junit.extensions.TestSetup$1.protect",
          "source": "TestSetup.java:19"
        },
        {
          "method": "junit.framework.TestResult.runProtected",
          "source": "TestResult.java:124"
        },
        {
          "method": "junit.extensions.TestSetup.run",
          "source": "TestSetup.java:23"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests",
          "source": "RemoteTestRunner.java:319"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run",
          "source": "RemoteTestRunner.java:215"
        },
        {
          "method": "org.eclipse.pde.internal.junit.ui.RemotePluginTestRunner.main",
          "source": "RemotePluginTestRunner.java:30"
        },
        {
          "method": "org.eclipse.pde.internal.junit.ui.UITestApplication.runEventLoop",
          "source": "UITestApplication.java:34"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:771"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:777"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:319"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:42"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:28"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:327"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:151"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:502"
        },
        {
          "method": "org.eclipse.core.launcher.UIMain.main",
          "source": "UIMain.java:52"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "10663",
      "date": "2002-03-04T10:01:46+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "10663",
  "bugId": "10663",
  "date": "2002-03-04T10:01:46+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}