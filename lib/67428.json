{
  "comments": [
    "3.0RC2 Build id: 200406111814\nGetting from time to time the following sequence of errors while editing.\nI cannot correlate the errors with any specific action since the edit session\nseems to be not affected by them and i see the errors only if i look into the log.\nYesterday it happend five times, this morning one.\n\n\n!ENTRY org.eclipse.ui 4 4 Jun 16, 2004 11:51:36.850\n!MESSAGE Unhandled event loop exception\n\n!ENTRY org.eclipse.ui 4 0 Jun 16, 2004 11:51:36.850\n!MESSAGE Failed to execute runnable (java.lang.ArrayIndexOutOfBoundsException: -1)\n!STACK 0\norg.eclipse.swt.SWTException: Failed to execute runnable\n(java.lang.ArrayIndexOutOfBoundsException: -1)\n\tat org.eclipse.swt.SWT.error(SWT.java:2691)\n\tat org.eclipse.swt.SWT.error(SWT.java:2616)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:109)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2709)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2401)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1362)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1333)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:252)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:334)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:272)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:128)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\n\tat org.eclipse.core.launcher.Main.run(Main.java:638)\n\tat org.eclipse.core.launcher.Main.main(Main.java:622)\n\n!ENTRY org.eclipse.ui 4 4 Jun 16, 2004 11:51:36.850\n!MESSAGE *** SWT nested exception\n\n!ENTRY org.eclipse.ui 4 0 Jun 16, 2004 11:51:36.866\n!MESSAGE -1\n!STACK 0\njava.lang.ArrayIndexOutOfBoundsException: -1\n\tat\norg.eclipse.jface.text.rules.BufferedRuleBasedScanner.read(BufferedRuleBasedScanner.java:118)\n\tat\norg.eclipse.jdt.internal.ui.text.CombinedWordRule.evaluate(CombinedWordRule.java:334)\n\tat\norg.eclipse.jface.text.rules.RuleBasedScanner.nextToken(RuleBasedScanner.java:155)\n\tat\norg.eclipse.jdt.internal.ui.text.AbstractJavaScanner.nextToken(AbstractJavaScanner.java:115)\n\tat\norg.eclipse.jface.text.rules.DefaultDamagerRepairer.createPresentation(DefaultDamagerRepairer.java:166)\n\tat\norg.eclipse.jface.text.presentation.PresentationReconciler.createPresentation(PresentationReconciler.java:446)\n\tat\norg.eclipse.jface.text.presentation.PresentationReconciler.processDamage(PresentationReconciler.java:555)\n\tat\norg.eclipse.jface.text.presentation.PresentationReconciler.access$3(PresentationReconciler.java:553)\n\tat\norg.eclipse.jface.text.presentation.PresentationReconciler$InternalListener.textChanged(PresentationReconciler.java:222)\n\tat org.eclipse.jface.text.TextViewer.updateTextListeners(TextViewer.java:2235)\n\tat org.eclipse.jface.text.TextViewer.fireRedrawChanged(TextViewer.java:4268)\n\tat org.eclipse.jface.text.TextViewer.enabledRedrawing(TextViewer.java:4338)\n\tat org.eclipse.jface.text.TextViewer.setRedraw(TextViewer.java:4415)\n\tat\norg.eclipse.jface.text.source.projection.ProjectionViewer.catchupWithProjectionAnnotationModel(ProjectionViewer.java:868)\n\tat\norg.eclipse.jface.text.source.projection.ProjectionViewer.access$5(ProjectionViewer.java:821)\n\tat\norg.eclipse.jface.text.source.projection.ProjectionViewer$1.run(ProjectionViewer.java:792)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:106)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2709)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2401)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1362)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1333)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:252)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:334)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:272)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:128)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\n\tat org.eclipse.core.launcher.Main.run(Main.java:638)\n\tat org.eclipse.core.launcher.Main.main(Main.java:622)",
    "We cannot fix this without a test case.\n\nReasons why we get the IOOBE:\n- RuleBasedScanner.setRange directly sets the offset. This method is called from\nthe damager with the damaged region. if getDamagedRegion(...) returns a negative\noffset then it will also in the scanner (region is not protected against\nnegative values)\n- some code has more calls to scanner.unread() than to scanner.read()",
    "*** Bug 63836 has been marked as a duplicate of this bug. ***",
    "Daniel,\ni understand your point, but i cannot reproduce it at will.\nI keep the error log view opened while editing and when i see popping out the\nerror i try to reply the last actions i did before the error, but up to now i\nhad no luck, it just happens when... it decides to happen.",
    "Do you have advanced highlighting enabled?",
    "Yes i do.",
    "Could you check whether the problem disappears if you disable advanced highlighting?",
    "should fix for RC3",
    "I\u0027ll try, but last days i did extensive changes in many classes and it was\nfrequent, now i\u0027m working on the build/deploy part of the project and since\nyesterday it didn\u0027t happen any longer.\nI\u0027ll let you know if it recurs again.",
    "Reviewed by DM. Fixed in HEAD. Will be released in I200406181600.\n\nThe semantic highlighting uses its own PresentationReconciler in the background\nthread. Without the fix, the same scanners as in the main thread were used,\nwhich can result in more calls to unread() than read(). This would explain the\nexception. However, a call to setRange(..) with a negative offset could also\ntrigger this. I will open a new PR for adding an assertion to setRange(..) post 3.0.\n"
  ],
  "commentCreationDates": [
    "2004-06-16T12:14:13+02:00",
    "2004-06-16T20:46:47+02:00",
    "2004-06-16T20:50:09+02:00",
    "2004-06-17T08:27:01+02:00",
    "2004-06-17T09:23:24+02:00",
    "2004-06-17T09:35:52+02:00",
    "2004-06-17T19:38:07+02:00",
    "2004-06-17T23:17:03+02:00",
    "2004-06-18T07:36:41+02:00",
    "2004-06-18T18:03:47+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "-1)",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2691"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2616"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:109"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:2709"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2401"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1362"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1333"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:252"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:141"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:96"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:334"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:272"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:128"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:638"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:622"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "67428",
      "date": "2004-06-16T12:14:13+02:00",
      "product": "JDT",
      "component": "Text",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "-1",
      "elements": [
        {
          "method": "org.eclipse.jface.text.rules.BufferedRuleBasedScanner.read",
          "source": "BufferedRuleBasedScanner.java:118"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.CombinedWordRule.evaluate",
          "source": "CombinedWordRule.java:334"
        },
        {
          "method": "org.eclipse.jface.text.rules.RuleBasedScanner.nextToken",
          "source": "RuleBasedScanner.java:155"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.AbstractJavaScanner.nextToken",
          "source": "AbstractJavaScanner.java:115"
        },
        {
          "method": "org.eclipse.jface.text.rules.DefaultDamagerRepairer.createPresentation",
          "source": "DefaultDamagerRepairer.java:166"
        },
        {
          "method": "org.eclipse.jface.text.presentation.PresentationReconciler.createPresentation",
          "source": "PresentationReconciler.java:446"
        },
        {
          "method": "org.eclipse.jface.text.presentation.PresentationReconciler.processDamage",
          "source": "PresentationReconciler.java:555"
        },
        {
          "method": "org.eclipse.jface.text.presentation.PresentationReconciler.access$3",
          "source": "PresentationReconciler.java:553"
        },
        {
          "method": "org.eclipse.jface.text.presentation.PresentationReconciler$InternalListener.textChanged",
          "source": "PresentationReconciler.java:222"
        },
        {
          "method": "org.eclipse.jface.text.TextViewer.updateTextListeners",
          "source": "TextViewer.java:2235"
        },
        {
          "method": "org.eclipse.jface.text.TextViewer.fireRedrawChanged",
          "source": "TextViewer.java:4268"
        },
        {
          "method": "org.eclipse.jface.text.TextViewer.enabledRedrawing",
          "source": "TextViewer.java:4338"
        },
        {
          "method": "org.eclipse.jface.text.TextViewer.setRedraw",
          "source": "TextViewer.java:4415"
        },
        {
          "method": "org.eclipse.jface.text.source.projection.ProjectionViewer.catchupWithProjectionAnnotationModel",
          "source": "ProjectionViewer.java:868"
        },
        {
          "method": "org.eclipse.jface.text.source.projection.ProjectionViewer.access$5",
          "source": "ProjectionViewer.java:821"
        },
        {
          "method": "org.eclipse.jface.text.source.projection.ProjectionViewer$1.run",
          "source": "ProjectionViewer.java:792"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:106"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:2709"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2401"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1362"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1333"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:252"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:141"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:96"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:334"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:272"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:128"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:638"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:622"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "67428",
      "date": "2004-06-16T12:14:13+02:00",
      "product": "JDT",
      "component": "Text",
      "severity": "normal"
    }
  ],
  "groupId": "67428",
  "bugId": "67428",
  "date": "2004-06-16T12:14:13+02:00",
  "product": "JDT",
  "component": "Text",
  "severity": "normal"
}