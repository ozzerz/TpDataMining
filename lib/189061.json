{
  "comments": [
    "This is a regression.\n\nI was running the smoke test for the S-2.0RC1-200705241855 smoke test.  I created a Web 2.4 targeted at Apache 5.5 (which should not matter), then I created an Ear 1.4 targeted at WebSphere 6.0, and then I created an EJB 2.1, and during the creation I selected Add to Ear and chose the Ear I had just created.  When the creation ended, I saw 3 validation errors stating that the Deployment Descriptor for the EJB project could not be loaded.  I also saw that there was not a Deployment Descriptor node in the Project Explorer for that project.\nI brought up the ejb-jar.xml in the XML editor, and it showed me an empty xml file that was marked as dirty.\nI checked on disk, and the ejb-jar.xml file was there and had proper contents.\nI did a refresh on the EJB project, and the validation errors disappeared, and the XML editor showed the appropriate contents.",
    "From the .log file:\n\n!ENTRY org.eclipse.wst.validation 4 0 2007-05-24 21:17:26.397\n!MESSAGE \n*** ERROR ***: Thu May 24 21:17:26 EDT 2007    java.lang.reflect.InvocationTargetException\n    \tat sun.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    \tat java.lang.reflect.Method.invoke(Method.java:615)\n    \tat org.eclipse.wst.validation.internal.operations.WorkbenchContext.loadModel(WorkbenchContext.java:583)\n    \tat org.eclipse.jst.j2ee.internal.ejb.workbench.validation.EJBHelper.loadModel(EJBHelper.java:300)\n    \tat org.eclipse.wst.validation.internal.operations.WorkbenchContext.loadModel(WorkbenchContext.java:565)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.EJBValidationContext.loadModel(EJBValidationContext.java:115)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.EJBValidator.fullValidate(EJBValidator.java:376)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.EJBValidator.commonValidate(EJBValidator.java:80)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.EJBValidator.validateInJob(EJBValidator.java:104)\n    \tat org.eclipse.jst.j2ee.internal.ejb.workbench.validation.UIEjbValidator.validateInJob(UIEjbValidator.java:52)\n    \tat org.eclipse.wst.validation.internal.operations.ValidatorJob.run(ValidatorJob.java:65)\n    \tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)\n    Caused by: org.eclipse.jst.j2ee.commonarchivecore.internal.exception.DeploymentDescriptorLoadException: META-INF/ejb-jar.xml\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.impl.EJBJarFileImpl.getDeploymentDescriptor(EJBJarFileImpl.java:121)\n    \tat org.eclipse.jst.j2ee.internal.ejb.workbench.validation.EJBHelper.loadEjbModel(EJBHelper.java:566)\n    \t... 13 more\n    Caused by: org.eclipse.jst.j2ee.commonarchivecore.internal.exception.EmptyResourceException: platform:/resource/SmokeEJB/ejbModule/META-INF/ejb-jar.xml\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.util.ArchiveUtil.getRoot(ArchiveUtil.java:440)\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.XmlBasedImportStrategyImpl.primLoadDeploymentDescriptor(XmlBasedImportStrategyImpl.java:42)\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.EjbJar11ImportStrategyImpl.loadDeploymentDescriptor(EjbJar11ImportStrategyImpl.java:87)\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.EjbJar11ImportStrategyImpl.importMetaData(EjbJar11ImportStrategyImpl.java:81)\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.impl.EJBJarFileImpl.getDeploymentDescriptor(EJBJarFileImpl.java:117)\n    \t... 14 more",
    "See if you can figure out how to reproduce this.",
    "I can\u0027t get this to fail anymore.  This must have been a fluke through a small window of opportunity.",
    "Closing (unless I happen to find a way to reproduce.)"
  ],
  "commentCreationDates": [
    "2007-05-25T03:41:08+02:00",
    "2007-05-25T03:42:11+02:00",
    "2007-05-29T15:07:07+02:00",
    "2007-06-04T19:51:07+02:00",
    "2007-06-04T19:51:33+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.reflect.InvocationTargetException",
      "elements": [
        {
          "method": "sun.reflect.GeneratedMethodAccessor16.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:43"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:615"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.WorkbenchContext.loadModel",
          "source": "WorkbenchContext.java:583"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.ejb.workbench.validation.EJBHelper.loadModel",
          "source": "EJBHelper.java:300"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.WorkbenchContext.loadModel",
          "source": "WorkbenchContext.java:565"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.EJBValidationContext.loadModel",
          "source": "EJBValidationContext.java:115"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.EJBValidator.fullValidate",
          "source": "EJBValidator.java:376"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.EJBValidator.commonValidate",
          "source": "EJBValidator.java:80"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.EJBValidator.validateInJob",
          "source": "EJBValidator.java:104"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.ejb.workbench.validation.UIEjbValidator.validateInJob",
          "source": "UIEjbValidator.java:52"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidatorJob.run",
          "source": "ValidatorJob.java:65"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:55"
        }
      ],
      "causedBy": {
        "exceptionType": "org.eclipse.jst.j2ee.commonarchivecore.internal.exception.DeploymentDescriptorLoadException",
        "message": "META-INF/ejb-jar.xml",
        "elements": [
          {
            "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.impl.EJBJarFileImpl.getDeploymentDescriptor",
            "source": "EJBJarFileImpl.java:121"
          },
          {
            "method": "org.eclipse.jst.j2ee.internal.ejb.workbench.validation.EJBHelper.loadEjbModel",
            "source": "EJBHelper.java:566"
          }
        ],
        "causedBy": {
          "exceptionType": "org.eclipse.jst.j2ee.commonarchivecore.internal.exception.EmptyResourceException",
          "message": "platform:/resource/SmokeEJB/ejbModule/META-INF/ejb-jar.xml",
          "elements": [
            {
              "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.util.ArchiveUtil.getRoot",
              "source": "ArchiveUtil.java:440"
            },
            {
              "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.XmlBasedImportStrategyImpl.primLoadDeploymentDescriptor",
              "source": "XmlBasedImportStrategyImpl.java:42"
            },
            {
              "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.EjbJar11ImportStrategyImpl.loadDeploymentDescriptor",
              "source": "EjbJar11ImportStrategyImpl.java:87"
            },
            {
              "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.EjbJar11ImportStrategyImpl.importMetaData",
              "source": "EjbJar11ImportStrategyImpl.java:81"
            },
            {
              "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.impl.EJBJarFileImpl.getDeploymentDescriptor",
              "source": "EJBJarFileImpl.java:117"
            }
          ],
          "number": 0,
          "commentIndex": 0
        },
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 1,
      "bugId": "189061",
      "date": "2007-05-25T03:42:11+02:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "major"
    }
  ],
  "groupId": "189061",
  "bugId": "189061",
  "date": "2007-05-25T03:41:08+02:00",
  "product": "Web Tools",
  "component": "jst.j2ee",
  "severity": "major"
}