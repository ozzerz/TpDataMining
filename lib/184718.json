{
  "comments": [
    "I tried moving the Web services plugins to use the axis.jar from Orbit and run into the problem:\n\nIWAB0398E Error in generating WSDL from Java:  java.lang.VerifyError: javax/wsdl/Definition.getBinding(Ljavax/xml/namespace/QName;)Ljavax/wsdl/Binding;\n    java.lang.VerifyError: javax/wsdl/Definition.getBinding(Ljavax/xml/namespace/QName;)Ljavax/wsdl/Binding;\n    at org.apache.axis.wsdl.fromJava.Emitter.writeBinding(Emitter.java:895)\n    at org.apache.axis.wsdl.fromJava.Emitter.getWSDL(Emitter.java:482)\n    at org.apache.axis.wsdl.fromJava.Emitter.emit(Emitter.java:331)\n    at org.apache.axis.wsdl.fromJava.Emitter.emit(Emitter.java:430)\n    at org.apache.axis.tools.ant.wsdl.Java2WsdlAntTask.execute(Java2WsdlAntTask.java:243)\n    at org.eclipse.jst.ws.internal.axis.consumption.core.command.Java2WSDLCommand.executeAntTask(Java2WSDLCommand.java:179)\n    at org.eclipse.jst.ws.internal.axis.consumption.core.command.Java2WSDLCommand.execute(Java2WSDLCommand.java:94)\n\nI found that I need to add the following to the MANIFEST.MF of javax.wsdl for the Web services scenarios to work:\n\nRequire-Bundle: javax.xml.rpc;bundle-version\u003d\"[1.1.0,2.0.0)\"\n\nDavid, please add this to the javax.wsdl plugin in Orbit.",
    "Kathy, Before I do this, lets review. \n\njavax.xml.namespace.QName is available in 1.4 and 1.5 JRE\u0027s, from what I can tell (from a quick search). \n\nThere is also a version available in xerces. \n\nSo, is there a reason it _has_ to be javax.xml.rpc? \nIf it\u0027s just that javax.wsdl uses a slightly different version than the JRE version, then do you think it\u0027s feasible to use the xerces version instead? \nTo do that with the current bundles in Orbit would be to add \nRequire-Bundle: org.w3c.dom;bundle-version\u003d\"[1.3.0,2.0.0)\"\n\nPart of the reason I am asking is that the xerces related bundles are set up to \"replace\" the definitions that exist in the JRE. And, sounds like you tested it, but I\u0027m not sure how having avax.xml.rpc on the classpath would ensure \"the right\" version of QName is used. \n\nHopefully this terse note makes sense, and I\u0027m happy to try either way ... but, \njust thought I\u0027d mention it before we commit to one way or the other. If, for example, you know for sure the original source is built with javax.xml.rpc then perhaps that is the right way. \n\nThanks, \n\n",
    "Hi David,\n\nI\u0027ve tested with \n\nRequire-Bundle: org.w3c.dom;bundle-version\u003d\"[1.3.0,2.0.0)\"\n\nand got the same java.lang.VerifyError error with Axis.  So it does need the version of javax.xml.qname from javax.xml.rpc.  So, please add:\n\nRequire-Bundle: javax.xml.rpc;bundle-version\u003d\"[1.1.0,2.0.0)\"\n\nWhat exactly do you mean by \"xerces related bundles are set up to\n\"replace\" the definitions that exist in the JRE\"?  Is this something we need to worry about longer term?\n",
    "(In reply to comment #2)\n\n\u003e \n\u003e What exactly do you mean by \"xerces related bundles are set up to\n\u003e \"replace\" the definitions that exist in the JRE\"?  Is this something we need to\n\u003e worry about longer term?\n\u003e \n\nNo, you shouldn\u0027t have to. I\u0027m a little confused about this QName error, though. \n(You know, exactly which QName is not verifying, and why the xml.rpc is the \"right\" one. Maybe one of these days I\u0027ll load up more of the source, and figure it all out. (For example, maybe that version of QName is _older_ than both the JVM versions and the Xerces distributed version?)\n\nBut, for now, I will make the fix you recommend. \n\n\n\n",
    "Fixed in builds \u003e\u003d\n\nhttp://download.eclipse.org/tools/orbit/committers/drops/I200704302142/",
    "Verified in WTP 2.0 0502 driver.",
    "FYI, the fix that\u0027s in the code now, was changed from previously documented solution. It was discovered \nthat the QName in javax.xml.rpc was a \"bad\" one ... not only different, but compiled with 1.3 semantics, whereas the ones in jre and xerces are compiled with \n1.1 semantics ... or similar. So, QName is no longer exported from javax.xml.rpc. \n\nSee bug 187038 and bug 186903 for more information and cases. \n",
    "Oh, so I might be clearer, the wsdl4j version 1.5 no longer as javax.xml.rpc at all. It does have xerces, listed as optional, partially to provide a qname, but also becuase the web pages for wsdl say it should run on 1.2 JREs as long as an namespace aware parser is available .... so, to make sure it runs on lower JRE\u0027s, xerces would be needed .. if someone was running on 1.5, or 1.6, then they would likely not need xerces there. Eventually, this too can be improved with versioned package import/export. \n\n"
  ],
  "commentCreationDates": [
    "2007-04-30T17:51:51+02:00",
    "2007-04-30T18:22:57+02:00",
    "2007-04-30T21:44:18+02:00",
    "2007-04-30T22:53:13+02:00",
    "2007-05-01T00:39:30+02:00",
    "2007-05-02T23:48:32+02:00",
    "2007-05-16T07:25:11+02:00",
    "2007-05-16T07:31:01+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.VerifyError",
      "message": "javax/wsdl/Definition.getBinding(Ljavax/xml/namespace/QName;)Ljavax/wsdl/Binding;",
      "elements": [
        {
          "method": "org.apache.axis.wsdl.fromJava.Emitter.writeBinding",
          "source": "Emitter.java:895"
        },
        {
          "method": "org.apache.axis.wsdl.fromJava.Emitter.getWSDL",
          "source": "Emitter.java:482"
        },
        {
          "method": "org.apache.axis.wsdl.fromJava.Emitter.emit",
          "source": "Emitter.java:331"
        },
        {
          "method": "org.apache.axis.wsdl.fromJava.Emitter.emit",
          "source": "Emitter.java:430"
        },
        {
          "method": "org.apache.axis.tools.ant.wsdl.Java2WsdlAntTask.execute",
          "source": "Java2WsdlAntTask.java:243"
        },
        {
          "method": "org.eclipse.jst.ws.internal.axis.consumption.core.command.Java2WSDLCommand.executeAntTask",
          "source": "Java2WSDLCommand.java:179"
        },
        {
          "method": "org.eclipse.jst.ws.internal.axis.consumption.core.command.Java2WSDLCommand.execute",
          "source": "Java2WSDLCommand.java:94"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "184718",
      "date": "2007-04-30T17:51:51+02:00",
      "product": "Web Tools",
      "component": "jst.ws",
      "severity": "normal"
    }
  ],
  "groupId": "184718",
  "bugId": "184718",
  "date": "2007-04-30T17:51:51+02:00",
  "product": "Web Tools",
  "component": "jst.ws",
  "severity": "normal"
}