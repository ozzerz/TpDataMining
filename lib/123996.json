{
  "comments": [
    "A report written on a PC with a different locale to another will give exceptions when strings are converted to dates. For example, a report generated by Jason Weathersby works OK on his machine when accessing the Classic Models database, but fails on mine with the following error:\nA BIRT exception occurred.\n  Plug-in Provider:Eclipse.org\n  Plug-in Name:BIRT Data Engine\n  Plug-in ID:org.eclipse.birt.data\n  Version:2.0.0\n  Error Code:odaconsumer.CannotConvertIndexedParameterValue\n  Error Message:Cannot convert the parameter value Jan 6, 2003 12:00 AM at index 1 from the value type of class java.lang.String to the ODA type of 91.\n\nMy locale is set to English, United Kingdom. Date format is Short Date - dd/MM/yyyy, Long Date - dd MM yyyy, time - HH:mm:ss\nNote that if I change the default value of both parameters (report and data set) to \"06-Jan-2003 12:00\", then the preview option works, but when I try to preview the report, I get an error:\n\nError0 : odaconsumer.CannotConvertIndexedParameterValue ( 1 time(s) )\ndetail : org.eclipse.birt.data.engine.core.DataException: Cannot convert the parameter value \"06-Jan-2003 12:00\" at index 1 from the value type of class java.lang.String to the ODA type of 91.For input string: \"\"06\" at org.eclipse.birt.data.engine.odaconsumer.PreparedStatement.conversionError(PreparedStatement.java:3233) at org.eclipse.birt.data.engine.odaconsumer.PreparedStatement.retrySetStringParamValue(PreparedStatement.java:3053) at org.eclipse.birt.data.engine.odaconsumer.PreparedStatement.retrySetParameterValue(PreparedStatement.java:2876) at org.eclipse.birt.data.engine.odaconsumer.PreparedStatement.setParameterValue(PreparedStatement.java:2777) at org.eclipse.birt.data.engine.odaconsumer.PreparedStatement.setParameterValue(PreparedStatement.java:2680) at org.eclipse.birt.data.engine.executor.DataSourceQuery.setInputParameterBinding(DataSourceQuery.java:693) at org.eclipse.birt.data.engine.executor.DataSourceQuery.addParameterDefns(DataSourceQuery.java:398) at org.eclipse.birt.data.engine.executor.DataSourceQuery.prepare(DataSourceQuery.java:308) at org.eclipse.birt.data.engine.impl.PreparedExtendedDSQuery$ExtendedDSQueryExecutor.prepareOdiQuery(PreparedExtendedDSQuery.java:367) at org.eclipse.birt.data.engine.impl.PreparedQuery$Executor.prepareExecution(PreparedQuery.java:673) at org.eclipse.birt.data.engine.impl.PreparedQuery$Executor.access$000(PreparedQuery.java:499) at org.eclipse.birt.data.engine.impl.PreparedQuery.doPrepare(PreparedQuery.java:225) at org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.execute(PreparedDataSourceQuery.java:145) at org.eclipse.birt.report.engine.data.dte.DteDataEngine.execute(DteDataEngine.java:205) at org.eclipse.birt.report.engine.executor.QueryItemExecutor.openResultSet(QueryItemExecutor.java:62) at org.eclipse.birt.report.engine.executor.TableItemExecutor.execute(TableItemExecutor.java:114) at org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitTableItem(ReportExecutorVisitor.java:187) at org.eclipse.birt.report.engine.ir.TableItemDesign.accept(TableItemDesign.java:69) at org.eclipse.birt.report.engine.executor.ReportExecutor.execute(ReportExecutor.java:121) at org.eclipse.birt.report.engine.executor.ReportExecutor.execute(ReportExecutor.java:87) at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run(RunAndRenderTask.java:158) at org.eclipse.birt.report.services.ReportEngineService.runAndRenderReport(Unknown Source) at org.eclipse.birt.report.viewer.aggregation.layout.EngineFragment.doService(Unknown Source) at org.eclipse.birt.report.viewer.aggregation.BaseFragment.service(Unknown Source) at org.eclipse.birt.report.viewer.servlet.ViewerServlet.doGet(Unknown Source) at javax.servlet.http.HttpServlet.service(HttpServlet.java:740) at org.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:327) at javax.servlet.http.HttpServlet.service(HttpServlet.java:853) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:247) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193) at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:256) at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643) at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480) at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191) at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643) at org.apache.catalina.valves.CertificatesValve.invoke(CertificatesValve.java:246) at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641) at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480) at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995) at org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2422) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:180) at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643) at org.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherValve.java:171) at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641) at org.eclipse.tomcat.internal.EclipseErrorReportValve.invoke(EclipseErrorReportValve.java:153) at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641) at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480) at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:174) at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643) at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480) at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995) at org.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:199) at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:828) at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:700) at org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:584) at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:683) at java.lang.Thread.run(Unknown Source)Caused by: java.lang.NumberFormatException: For input string: \"\"06\" at java.lang.NumberFormatException.forInputString(Unknown Source) at java.lang.Integer.parseInt(Unknown Source) at java.lang.Integer.parseInt(Unknown Source) at java.sql.Date.valueOf(Unknown Source) at org.eclipse.birt.data.engine.odaconsumer.PreparedStatement.retrySetStringParamValue(PreparedStatement.java:3047) ... 57 more\n\nIf I then change the parameter types to Date/Time (they were string), then when I preview the report I get the error:\n\"Some required parameter values are not set or set to incompatible data type.\"\n\nIf I then try to change the default parameter values to \"01/06/2003 12:00:00 AM\" as it suggests on the report parameter screen, I get the same error when I preview the report. Previewing the data in the data set does not give an error, but no data is shown.",
    "Created an attachment (id\u003d33087)\nTest report \n\nFile sent from Jason Wethersby. Works OK on his machine, gives errors as detailed on mine.",
    "The current framework that converts a literal date value in String only supports converting a string in JDBC date escape format.  Note that the data type conversion support is limited because it is triggered only if the underlying ODA or JDBC driver does not support the data type conversion in setting an input parameter value.  In other words, it is intended to serve as a last best effort attempt.\n\nTo work with the current scope of support, try input the date value in JDBC date escape format \"yyyy-mm-dd\", as supported by java.sql.Date.valueOf method.\n\n\n"
  ],
  "commentCreationDates": [
    "2006-01-16T17:46:40+01:00",
    "2006-01-16T17:50:33+01:00",
    "2006-01-18T01:56:58+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.birt.data.engine.core.DataException",
      "message": "Cannot convert the parameter value \"06-Jan-2003 12:00\" at index 1 from the value type of class java.lang.String to the ODA type of 91.For input string: \"\"06\"",
      "elements": [
        {
          "method": "org.eclipse.birt.data.engine.odaconsumer.PreparedStatement.conversionError",
          "source": "PreparedStatement.java:3233"
        },
        {
          "method": "org.eclipse.birt.data.engine.odaconsumer.PreparedStatement.retrySetStringParamValue",
          "source": "PreparedStatement.java:3053"
        },
        {
          "method": "org.eclipse.birt.data.engine.odaconsumer.PreparedStatement.retrySetParameterValue",
          "source": "PreparedStatement.java:2876"
        },
        {
          "method": "org.eclipse.birt.data.engine.odaconsumer.PreparedStatement.setParameterValue",
          "source": "PreparedStatement.java:2777"
        },
        {
          "method": "org.eclipse.birt.data.engine.odaconsumer.PreparedStatement.setParameterValue",
          "source": "PreparedStatement.java:2680"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.DataSourceQuery.setInputParameterBinding",
          "source": "DataSourceQuery.java:693"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.DataSourceQuery.addParameterDefns",
          "source": "DataSourceQuery.java:398"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.DataSourceQuery.prepare",
          "source": "DataSourceQuery.java:308"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedExtendedDSQuery$ExtendedDSQueryExecutor.prepareOdiQuery",
          "source": "PreparedExtendedDSQuery.java:367"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedQuery$Executor.prepareExecution",
          "source": "PreparedQuery.java:673"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedQuery$Executor.access$000",
          "source": "PreparedQuery.java:499"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedQuery.doPrepare",
          "source": "PreparedQuery.java:225"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.execute",
          "source": "PreparedDataSourceQuery.java:145"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.DteDataEngine.execute",
          "source": "DteDataEngine.java:205"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.QueryItemExecutor.openResultSet",
          "source": "QueryItemExecutor.java:62"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.TableItemExecutor.execute",
          "source": "TableItemExecutor.java:114"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitTableItem",
          "source": "ReportExecutorVisitor.java:187"
        },
        {
          "method": "org.eclipse.birt.report.engine.ir.TableItemDesign.accept",
          "source": "TableItemDesign.java:69"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutor.execute",
          "source": "ReportExecutor.java:121"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutor.execute",
          "source": "ReportExecutor.java:87"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run",
          "source": "RunAndRenderTask.java:158"
        },
        {
          "method": "org.eclipse.birt.report.services.ReportEngineService.runAndRenderReport",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.viewer.aggregation.layout.EngineFragment.doService",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.viewer.aggregation.BaseFragment.service",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.viewer.servlet.ViewerServlet.doGet",
          "source": "Unknown Source"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:740"
        },
        {
          "method": "org.apache.axis.transport.http.AxisServletBase.service",
          "source": "AxisServletBase.java:327"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:853"
        },
        {
          "method": "org.apache.catalina.core.ApplicationFilterChain.internalDoFilter",
          "source": "ApplicationFilterChain.java:247"
        },
        {
          "method": "org.apache.catalina.core.ApplicationFilterChain.doFilter",
          "source": "ApplicationFilterChain.java:193"
        },
        {
          "method": "org.apache.catalina.core.StandardWrapperValve.invoke",
          "source": "StandardWrapperValve.java:256"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext",
          "source": "StandardPipeline.java:643"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline.invoke",
          "source": "StandardPipeline.java:480"
        },
        {
          "method": "org.apache.catalina.core.ContainerBase.invoke",
          "source": "ContainerBase.java:995"
        },
        {
          "method": "org.apache.catalina.core.StandardContextValve.invoke",
          "source": "StandardContextValve.java:191"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext",
          "source": "StandardPipeline.java:643"
        },
        {
          "method": "org.apache.catalina.valves.CertificatesValve.invoke",
          "source": "CertificatesValve.java:246"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext",
          "source": "StandardPipeline.java:641"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline.invoke",
          "source": "StandardPipeline.java:480"
        },
        {
          "method": "org.apache.catalina.core.ContainerBase.invoke",
          "source": "ContainerBase.java:995"
        },
        {
          "method": "org.apache.catalina.core.StandardContext.invoke",
          "source": "StandardContext.java:2422"
        },
        {
          "method": "org.apache.catalina.core.StandardHostValve.invoke",
          "source": "StandardHostValve.java:180"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext",
          "source": "StandardPipeline.java:643"
        },
        {
          "method": "org.apache.catalina.valves.ErrorDispatcherValve.invoke",
          "source": "ErrorDispatcherValve.java:171"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext",
          "source": "StandardPipeline.java:641"
        },
        {
          "method": "org.eclipse.tomcat.internal.EclipseErrorReportValve.invoke",
          "source": "EclipseErrorReportValve.java:153"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext",
          "source": "StandardPipeline.java:641"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline.invoke",
          "source": "StandardPipeline.java:480"
        },
        {
          "method": "org.apache.catalina.core.ContainerBase.invoke",
          "source": "ContainerBase.java:995"
        },
        {
          "method": "org.apache.catalina.core.StandardEngineValve.invoke",
          "source": "StandardEngineValve.java:174"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext",
          "source": "StandardPipeline.java:643"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline.invoke",
          "source": "StandardPipeline.java:480"
        },
        {
          "method": "org.apache.catalina.core.ContainerBase.invoke",
          "source": "ContainerBase.java:995"
        },
        {
          "method": "org.apache.coyote.tomcat4.CoyoteAdapter.service",
          "source": "CoyoteAdapter.java:199"
        },
        {
          "method": "org.apache.coyote.http11.Http11Processor.process",
          "source": "Http11Processor.java:828"
        },
        {
          "method": "org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection",
          "source": "Http11Protocol.java:700"
        },
        {
          "method": "org.apache.tomcat.util.net.TcpWorkerThread.runIt",
          "source": "PoolTcpEndpoint.java:584"
        },
        {
          "method": "org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run",
          "source": "ThreadPool.java:683"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Unknown Source"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "123996",
      "date": "2006-01-16T17:46:40+01:00",
      "product": "BIRT",
      "component": "Data Access",
      "severity": "enhancement"
    },
    {
      "exceptionType": "java.lang.NumberFormatException",
      "message": "For input string: \"\"06\"",
      "elements": [
        {
          "method": "java.lang.NumberFormatException.forInputString",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.Integer.parseInt",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.Integer.parseInt",
          "source": "Unknown Source"
        },
        {
          "method": "java.sql.Date.valueOf",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.data.engine.odaconsumer.PreparedStatement.retrySetStringParamValue",
          "source": "PreparedStatement.java:3047"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "123996",
      "date": "2006-01-16T17:46:40+01:00",
      "product": "BIRT",
      "component": "Data Access",
      "severity": "enhancement"
    }
  ],
  "groupId": "123996",
  "bugId": "123996",
  "date": "2006-01-16T17:46:40+01:00",
  "product": "BIRT",
  "component": "Data Access",
  "severity": "enhancement"
}