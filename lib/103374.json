{
  "comments": [
    "Eclipse fails to show history for files that are locked using \"cvs admin -L\"\ncommand. Here is a stack trace I see in .log\n\n!ENTRY org.eclipse.ui 4 0 2005-07-11 15:02:49.281\n!MESSAGE Failed to execute runnable (java.lang.NumberFormatException: For input\nstring: \"2\tlocked by: cvslock;\")\n!STACK 0\norg.eclipse.swt.SWTException: Failed to execute runnable\n(java.lang.NumberFormatException: For input string: \"2\tlocked by: cvslock;\")\n\tat org.eclipse.swt.SWT.error(SWT.java:2942)\n\tat org.eclipse.swt.SWT.error(SWT.java:2865)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:126)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3057)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2716)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n\tat org.eclipse.core.launcher.Main.run(Main.java:973)\n\tat org.eclipse.core.launcher.Main.main(Main.java:948)\nCaused by: java.lang.NumberFormatException: For input string: \"2\tlocked by:\ncvslock;\"\n\tat java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)\n\tat java.lang.Integer.parseInt(Integer.java:456)\n\tat java.lang.Integer.\u003cinit\u003e(Integer.java:620)\n\tat\norg.eclipse.team.internal.ccvs.ui.VersionCollator.getIntSegments(VersionCollator.java:55)\n\tat\norg.eclipse.team.internal.ccvs.ui.VersionCollator.compare(VersionCollator.java:27)\n\tat\norg.eclipse.team.internal.ccvs.ui.HistoryTableProvider$HistorySorter.compareColumnValue(HistoryTableProvider.java:195)\n\tat\norg.eclipse.team.internal.ccvs.ui.HistoryTableProvider$HistorySorter.compare(HistoryTableProvider.java:180)\n\tat org.eclipse.jface.viewers.ViewerSorter$1.compare(ViewerSorter.java:177)\n\tat java.util.Arrays.mergeSort(Arrays.java:1284)\n\tat java.util.Arrays.mergeSort(Arrays.java:1296)\n\tat java.util.Arrays.mergeSort(Arrays.java:1296)\n\tat java.util.Arrays.mergeSort(Arrays.java:1296)\n\tat java.util.Arrays.mergeSort(Arrays.java:1296)\n\tat java.util.Arrays.mergeSort(Arrays.java:1296)\n\tat java.util.Arrays.sort(Arrays.java:1223)\n\tat org.eclipse.jface.viewers.ViewerSorter.sort(ViewerSorter.java:175)\n\tat\norg.eclipse.jface.viewers.StructuredViewer.getSortedChildren(StructuredViewer.java:909)\n\tat org.eclipse.jface.viewers.TableViewer.internalRefreshAll(TableViewer.java:798)\n\tat org.eclipse.jface.viewers.TableViewer.internalRefresh(TableViewer.java:748)\n\tat org.eclipse.jface.viewers.TableViewer.internalRefresh(TableViewer.java:737)\n\tat org.eclipse.jface.viewers.StructuredViewer$7.run(StructuredViewer.java:1264)\n\tat\norg.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1201)\n\tat org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1262)\n\tat org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1221)\n\tat org.eclipse.team.internal.ccvs.ui.HistoryView$3.run(HistoryView.java:153)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\t... 18 more",
    "Created an attachment (id\u003d24579)\nproposed fix\n\nThe problem occures when revisions are locked using \"admin -l\u003crel\u003e\" command,\nnot \"admin -L\" as I originally thought. Here is an example of what gets\nreturned from CVS server for such revisions (as seen in the console when\ndetailed protocol output is enabled)\n\nM revision 1.2.2.3\tlocked by: igorf;\nM date: 2005/05/16 23:48:15;  author: igorf;  state: Exp;  lines: +1 -0\nM added new file\n\n\nHope this helps.",
    "Thanks for the patch. I\u0027ll apply it in the next week or so (if I don\u0027 get to \nit in the next week please ping me through this bug as a friendly reminder;-)",
    "Patch released.",
    "Thank you, Micheal. One question though - did you fix this problem in 3.1\n(branch?) too or in 3.2 only?\n",
    "*** Bug 44438 has been marked as a duplicate of this bug. ***",
    "It is fixed in 3.2. I don\u0027t think this is critical enough for 3.1.1 (i.e. the \nproblem has been there since 2.0 so it can\u0027t be that critical).",
    "Verified in I20050808-2000.",
    "*** Bug 131161 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2005-07-11T21:10:42+02:00",
    "2005-07-11T23:46:05+02:00",
    "2005-07-12T14:56:48+02:00",
    "2005-07-18T17:14:56+02:00",
    "2005-07-18T20:27:52+02:00",
    "2005-07-18T21:24:10+02:00",
    "2005-08-03T18:15:45+02:00",
    "2005-08-10T17:00:30+02:00",
    "2006-03-11T19:20:12+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NumberFormatException",
      "message": "For input string: \"2 locked by: cvslock;\")",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2942"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2865"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:126"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3057"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2716"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1699"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1663"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:367"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.NumberFormatException",
        "message": "For input string: \"2 locked by: cvslock;\"",
        "elements": [
          {
            "method": "java.lang.NumberFormatException.forInputString",
            "source": "NumberFormatException.java:48"
          },
          {
            "method": "java.lang.Integer.parseInt",
            "source": "Integer.java:456"
          },
          {
            "method": "java.lang.Integer.\u003cinit\u003e",
            "source": "Integer.java:620"
          },
          {
            "method": "org.eclipse.team.internal.ccvs.ui.VersionCollator.getIntSegments",
            "source": "VersionCollator.java:55"
          },
          {
            "method": "org.eclipse.team.internal.ccvs.ui.VersionCollator.compare",
            "source": "VersionCollator.java:27"
          },
          {
            "method": "org.eclipse.team.internal.ccvs.ui.HistoryTableProvider$HistorySorter.compareColumnValue",
            "source": "HistoryTableProvider.java:195"
          },
          {
            "method": "org.eclipse.team.internal.ccvs.ui.HistoryTableProvider$HistorySorter.compare",
            "source": "HistoryTableProvider.java:180"
          },
          {
            "method": "org.eclipse.jface.viewers.ViewerSorter$1.compare",
            "source": "ViewerSorter.java:177"
          },
          {
            "method": "java.util.Arrays.mergeSort",
            "source": "Arrays.java:1284"
          },
          {
            "method": "java.util.Arrays.mergeSort",
            "source": "Arrays.java:1296"
          },
          {
            "method": "java.util.Arrays.mergeSort",
            "source": "Arrays.java:1296"
          },
          {
            "method": "java.util.Arrays.mergeSort",
            "source": "Arrays.java:1296"
          },
          {
            "method": "java.util.Arrays.mergeSort",
            "source": "Arrays.java:1296"
          },
          {
            "method": "java.util.Arrays.mergeSort",
            "source": "Arrays.java:1296"
          },
          {
            "method": "java.util.Arrays.sort",
            "source": "Arrays.java:1223"
          },
          {
            "method": "org.eclipse.jface.viewers.ViewerSorter.sort",
            "source": "ViewerSorter.java:175"
          },
          {
            "method": "org.eclipse.jface.viewers.StructuredViewer.getSortedChildren",
            "source": "StructuredViewer.java:909"
          },
          {
            "method": "org.eclipse.jface.viewers.TableViewer.internalRefreshAll",
            "source": "TableViewer.java:798"
          },
          {
            "method": "org.eclipse.jface.viewers.TableViewer.internalRefresh",
            "source": "TableViewer.java:748"
          },
          {
            "method": "org.eclipse.jface.viewers.TableViewer.internalRefresh",
            "source": "TableViewer.java:737"
          },
          {
            "method": "org.eclipse.jface.viewers.StructuredViewer$7.run",
            "source": "StructuredViewer.java:1264"
          },
          {
            "method": "org.eclipse.jface.viewers.StructuredViewer.preservingSelection",
            "source": "StructuredViewer.java:1201"
          },
          {
            "method": "org.eclipse.jface.viewers.StructuredViewer.refresh",
            "source": "StructuredViewer.java:1262"
          },
          {
            "method": "org.eclipse.jface.viewers.StructuredViewer.refresh",
            "source": "StructuredViewer.java:1221"
          },
          {
            "method": "org.eclipse.team.internal.ccvs.ui.HistoryView$3.run",
            "source": "HistoryView.java:153"
          },
          {
            "method": "org.eclipse.swt.widgets.RunnableLock.run",
            "source": "RunnableLock.java:35"
          },
          {
            "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
            "source": "Synchronizer.java:123"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "103374",
      "date": "2005-07-11T21:10:42+02:00",
      "product": "Platform",
      "component": "CVS",
      "severity": "normal"
    }
  ],
  "groupId": "103374",
  "bugId": "103374",
  "date": "2005-07-11T21:10:42+02:00",
  "product": "Platform",
  "component": "CVS",
  "severity": "normal"
}