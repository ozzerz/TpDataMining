{
  "comments": [
    "First bug so hopefully it\u0027s not to painful to read.\n    Running into a problem schronizing files \nagainst CVS using the M5 build. I have had CVS integration working with this build but at some \npoint you try to synchronize a file that has changes it comes back with an internal error \"String \nindex out of range: -2\" After which you are basically stuck starting from scratch (delete \nmetadata and do a clean checkout) as you will get this error on any snychronize that invovles a \nfile with changes in that project from then on. At least 3 of 8 of us in my group have run into this at \none point or another. The log and details follow...\nlog snippit:\n  \u003cstatus\n     plugin-\nid\u003d\"org.eclipse.core.resources\"\n     severity\u003d\"INFO\"\n     message\u003d\"Unhandled exception \ncaught in event loop.\"\n     code\u003d\"4\"\u003e\n  \u003c/status\u003e\n\u003c/log-entry\u003e\n\u003clog-entry date\u003d\"Wed May 08 \n10:54:40 EDT 2002\"\u003e\n  \u003cstatus\n     plugin-id\u003d\"org.eclipse.ui\"\n     severity\u003d\"ERROR\"\n     \nmessage\u003d\"String index out of range: -2\"\n     code\u003d\"0\"\u003e\nafter that it contains the same stack \ntrace as the detail of the error as follows...\nStack \ntrace:\njava.lang.StringIndexOutOfBoundsException: String index out of range: -2\nat \njava.lang.String.charAt(Unknown \nSource)\nat\norg.eclipse.team.internal.ccvs.core.client.listeners.LogListener.messageLine(LogListener.java:101)\nat\norg.eclipse.team.internal.ccvs.core.client.Request.executeRequest(Request.java:171)\nat\norg.eclipse.team.internal.ccvs.core.client.Command.doExecute(Command.java:385)\nat\norg.eclipse.team.internal.ccvs.core.client.Command$2.run(Command.java:317)\nat\norg.eclipse.team.internal.ccvs.core.resources.RemoteFolder.run(RemoteFolder.java:654)\nat\norg.eclipse.team.internal.ccvs.core.client.Command.execute(Command.java:328)\nat\norg.eclipse.team.internal.ccvs.core.resources.RemoteFile.getLogEntry(RemoteFile.java:224)\nat\norg.eclipse.team.internal.ccvs.core.resources.RemoteFile.getLogEntry(RemoteFile.java:205)\nat\norg.eclipse.team.internal.ccvs.ui.sync.CVSCatchupReleaseViewer.updateLabels(CVSCatchupReleaseViewer.java:299)\nat\norg.eclipse.team.ui.sync.CatchupReleaseViewer.selectionChanged(CatchupReleaseViewer.java:361)\nat \norg.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:147)\nat\norg.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:1064)\nat\norg.eclipse.jface.viewers.StructuredViewer.setSelection(StructuredViewer.java:813)\nat\norg.eclipse.compare.structuremergeviewer.DiffTreeViewer.internalSetSelection(DiffTreeViewer.java:635)\nat\norg.eclipse.compare.structuremergeviewer.DiffTreeViewer.internalNavigate(DiffTreeViewer.java:542)\nat\norg.eclipse.compare.structuremergeviewer.DiffTreeViewer.navigate(DiffTreeViewer.java:497)\nat\norg.eclipse.compare.structuremergeviewer.DiffTreeViewer.initialSelection(DiffTreeViewer.java:344)\nat\norg.eclipse.compare.structuremergeviewer.DiffTreeViewer.inputChanged(DiffTreeViewer.java:330)\nat\norg.eclipse.team.ui.sync.CatchupReleaseViewer.inputChanged(CatchupReleaseViewer.java:294)\nat\norg.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:234)\nat\norg.eclipse.jface.viewers.StructuredViewer.setInput(StructuredViewer.java:785)\nat\norg.eclipse.compare.CompareViewerSwitchingPane.setInput(CompareViewerSwitchingPane.java:237)\nat\norg.eclipse.compare.CompareEditorInput.createContents(CompareEditorInput.java:451)\nat\norg.eclipse.team.ui.sync.SyncCompareInput.createContents(SyncCompareInput.java:83)\nat \norg.eclipse.team.ui.sync.SyncView.showSync(SyncView.java:304)\nat\norg.eclipse.team.internal.ccvs.ui.actions.SyncAction.run(SyncAction.java:39)\nat\norg.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:202)\nat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:407)\nat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionContributionItem.java:361)\nat\norg.eclipse.jface.action.ActionContributionItem.access$0(ActionContributionItem.java:352)\nat\norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(ActionContributionItem.java:47)\nat \norg.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:75)\nat \norg.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:637)\nat \norg.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1412)\nat \norg.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1208)\nat \norg.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:836)\nat \norg.eclipse.ui.internal.Workbench.run(Workbench.java:819)\nat\norg.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:777)\nat \norg.eclipse.core.boot.BootLoader.run(BootLoader.java:319)\nat \njava.lang.reflect.Method.invoke(Native Method)\nat \norg.eclipse.core.launcher.Main.basicRun(Main.java:190)\nat \norg.eclipse.core.launcher.Main.run(Main.java:549)\nat \norg.eclipse.core.launcher.Main.main(Main.java:390)",
    "There are two things to consider here: the cuase and the symptom. \n\nThe symptom, of course, is the exception. We are not checking the index \nproperly, which we should do to ensure that a runtime exception does not occur.\n\nThe cause is the output from the \"cvs log\" command which we are parsing to get \nat the author name when displaying the author in the sync view editor. There is \nprobably something in the \"cvs log\" output that is throwing off our parsing. \n\nCould you perform a \"cvs log\" using the CVS command line client and attach the \noutput to the PR? Also, could you try a \"Show in Resource History\" on the file \nin Eclipse to see if the same error message is generated?",
    "The code has been changed so that the symptom will now be a log entry that \nprints out the offending revision. We still need to determine the cause.",
    "Ok the \"Show in Resource History\" does indeed produce the same effect. I\u0027ll give follow up with \nthe results of the CVS Log as soon as I get a chance.",
    "Created an attachment (id\u003d776)\ncvs log for a file exhibiting the problem\n",
    "Here are the offending entries:\n\n\tgenealogy100tip: 2\n\tbogus: 4117\n\tMaint: 2\n\nI suspect that these were created with a \"cvs import -b 2 ...\" which creates a \nbranch that starts with 2 (i.e. revisions will be 2.1, 2.2 etc.)",
    "I was wrong about the culprit being \"cvs import\". Do you know how the revision \nnumbers 2 and 4117 got into the tag information?",
    "I\u0027m pretty sure those stem from the fact our tree used to reside in a RCS repository some time ago. \nSo those would be carry over from that. Our person who wears the build hat most of the time agrees \nand adds he thinks with some effort you could get tags like those without having come from CVS. \nHope that helps. If we come up with anything else you\u0027ll of course see it here shortly.",
    "The code has been updated to log this occurance and continue. Since the \noffending tags are not of any interest, this should be adequate."
  ],
  "commentCreationDates": [
    "2002-05-08T18:32:46+02:00",
    "2002-05-08T19:17:03+02:00",
    "2002-05-08T19:30:45+02:00",
    "2002-05-08T19:59:21+02:00",
    "2002-05-08T20:06:50+02:00",
    "2002-05-08T20:51:43+02:00",
    "2002-05-08T21:36:13+02:00",
    "2002-05-08T22:06:50+02:00",
    "2002-05-08T22:38:02+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.StringIndexOutOfBoundsException",
      "message": "String index out of range: -2",
      "elements": [
        {
          "method": "java.lang.String.charAt",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.client.listeners.LogListener.messageLine",
          "source": "LogListener.java:101"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.client.Request.executeRequest",
          "source": "Request.java:171"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.client.Command.doExecute",
          "source": "Command.java:385"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.client.Command$2.run",
          "source": "Command.java:317"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.RemoteFolder.run",
          "source": "RemoteFolder.java:654"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.client.Command.execute",
          "source": "Command.java:328"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.RemoteFile.getLogEntry",
          "source": "RemoteFile.java:224"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.RemoteFile.getLogEntry",
          "source": "RemoteFile.java:205"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.sync.CVSCatchupReleaseViewer.updateLabels",
          "source": "CVSCatchupReleaseViewer.java:299"
        },
        {
          "method": "org.eclipse.team.ui.sync.CatchupReleaseViewer.selectionChanged",
          "source": "CatchupReleaseViewer.java:361"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer.fireSelectionChanged",
          "source": "Viewer.java:147"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateSelection",
          "source": "StructuredViewer.java:1064"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.setSelection",
          "source": "StructuredViewer.java:813"
        },
        {
          "method": "org.eclipse.compare.structuremergeviewer.DiffTreeViewer.internalSetSelection",
          "source": "DiffTreeViewer.java:635"
        },
        {
          "method": "org.eclipse.compare.structuremergeviewer.DiffTreeViewer.internalNavigate",
          "source": "DiffTreeViewer.java:542"
        },
        {
          "method": "org.eclipse.compare.structuremergeviewer.DiffTreeViewer.navigate",
          "source": "DiffTreeViewer.java:497"
        },
        {
          "method": "org.eclipse.compare.structuremergeviewer.DiffTreeViewer.initialSelection",
          "source": "DiffTreeViewer.java:344"
        },
        {
          "method": "org.eclipse.compare.structuremergeviewer.DiffTreeViewer.inputChanged",
          "source": "DiffTreeViewer.java:330"
        },
        {
          "method": "org.eclipse.team.ui.sync.CatchupReleaseViewer.inputChanged",
          "source": "CatchupReleaseViewer.java:294"
        },
        {
          "method": "org.eclipse.jface.viewers.ContentViewer.setInput",
          "source": "ContentViewer.java:234"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.setInput",
          "source": "StructuredViewer.java:785"
        },
        {
          "method": "org.eclipse.compare.CompareViewerSwitchingPane.setInput",
          "source": "CompareViewerSwitchingPane.java:237"
        },
        {
          "method": "org.eclipse.compare.CompareEditorInput.createContents",
          "source": "CompareEditorInput.java:451"
        },
        {
          "method": "org.eclipse.team.ui.sync.SyncCompareInput.createContents",
          "source": "SyncCompareInput.java:83"
        },
        {
          "method": "org.eclipse.team.ui.sync.SyncView.showSync",
          "source": "SyncView.java:304"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.actions.SyncAction.run",
          "source": "SyncAction.java:39"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:202"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:407"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java:361"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem.java:352"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java:47"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:75"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:637"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1412"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1208"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:836"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:819"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:777"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:319"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:190"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:549"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:390"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "15547",
      "date": "2002-05-08T18:32:46+02:00",
      "product": "Platform",
      "component": "Team",
      "severity": "normal"
    }
  ],
  "groupId": "15547",
  "bugId": "15547",
  "date": "2002-05-08T18:32:46+02:00",
  "product": "Platform",
  "component": "Team",
  "severity": "normal"
}