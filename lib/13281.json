{
  "comments": [
    "Build 20020409\nLinux-motif\n\nI created a selfhosting workspace with the following projects checked out from\nthe dev.eclipse.org repository: org.eclipse.debug.core, org.eclipse.debug.ui,\norg.eclipse.jdt.debug, org.eclipse.jdt.debug.ui, org.eclipse.jdt.launching,\norg.eclipse.jdt.launching.j9. I then imported all required projects for\norg.eclipse.jdt.ui as binaries.\n\nEverything compiles, but when I try to launch I get the following dumped to the\nconsole. No .log file is generated.\n\nException in thread \"main\" java.lang.UnsupportedClassVersionError:\norg/xml/sax/SAXParseException (Unsupported major.minor version 48.0)\n\tat java.lang.ClassLoader.defineClass0(Native Method)\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:496)\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:117)\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:251)\n\tat java.net.URLClassLoader.access$300(URLClassLoader.java:69)\n\tat java.net.URLClassLoader$ClassFinder.run(URLClassLoader.java:544)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:203)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:325)\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:380)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:257)\n\tat\norg.eclipse.core.internal.boot.DelegatingURLClassLoader.findClassParents(DelegatingURLClassLoader.java:369)\n\tat\norg.eclipse.core.internal.boot.PlatformClassLoader.findClassParentsSelf(PlatformClassLoader.java:59)\n\tat\norg.eclipse.core.internal.boot.DelegatingURLClassLoader.loadClass(DelegatingURLClassLoader.java:771)\n\tat\norg.eclipse.core.internal.boot.DelegatingURLClassLoader.loadClass(DelegatingURLClassLoader.java:751)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:257)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.parsePlugins(InternalPlatform.java:737)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.loadRegistry(InternalPlatform.java:686)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.loaderStartup(InternalPlatform.java:584)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat\norg.eclipse.core.internal.boot.InternalBootLoader.startup(InternalBootLoader.java:883)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:767)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:319)\n\tat EclipseRuntimeLauncher.main(EclipseRuntimeLauncher.java:14)",
    "If I create a new workspace and import only binary projects that are required\nfor org.eclipse.jdt.ui (that is, I bring on no projects as source), I can launch\nas expected.\n\nWill investigate if this is a problem in the imported source plugins.",
    "Closing. I was able to resolve this problem by bringing in a more recent version\nof the org.eclipse.jdt.ui project.",
    "My guess is that you have incompatibilities between your runtime platform and the settings used \nfor the compiler inside Eclipse. Major/minor versions \u003d 48.0 means that the .class files \ngenerated are targetting a 1.4 platform. These .class files should run like a charm on a 1.4 JRE. If \nyou are using a 1.3 or 1.2 JRE, please set the compiler settings to use 1.3 compliance settings in \nthe workbench preferences\u003eJava\u003eCompiler page.\nIf you still have trouble with that, please \nenter a PR on JUI for wrong combinations of settings.",
    "It looks like this is a real bug.\n\nMy settings are:\nDefault JRE: JDK 1.4\nCompiler compliance level: 1.3\n\nWhen I compile like this and try to launch on a 1.3 JRE, it blows up with the\nabove stack trace. Changing the default JRE to a 1.3 VM fixes the problem. If\nthe compiler compliance level is set to 1.3, shouldn\u0027t I be able to compile and\nrun on a 1.3 VM?\n\nReassigning to JDT core.",
    "Jed - I am guessing that in your last post you meant, \"Changing the default JRE \nto a 1.4 VM fixes the problem.\".\n\nNow, SAXParserException wasn\u0027t compiled from sources, as per your description.\nSo I don\u0027t get how we could be in the loop.\n\nThe fact that loading a different UI version did improve your behavior could \nsimply mean that the SAXParserException is no longer thrown, which hides the \nproblem.\n\nThe next question is how did we get a SAXParserException binary tagged as 1.4 ? \nHow was xerces.jar built ?\n",
    "I was able to run the following code against 1.3 and xerces.jar from 20020409.\n\npackage p1;\nimport org.xml.sax.SAXParseException;\n\npublic class X {\n\tpublic static void main(String[] arguments) {\n\t\ttry {\n\t\t\tthrow new SAXParseException(\"dummy\", null);\n\t\t} catch(Exception e){\n\t\t\tSystem.out.println(\"OK\");\n\t\t}\n\t}\n}\n",
    "Jared, what are your settings in Preferences-\u003ePlug-In Developement-\u003eTarget \nPlatform?",
    "Locate non-workspace plug-ins that are part of:\nX This application\n\nLocated non-workspace plug-ins:\nNone selected",
    "No, Philippe, I meant that changing it to a 1.3 JRE fixes the problem. Note that\nI\u0027m talking about the JRE setting under \"Window-\u003ePreferences-\u003eJava-\u003eInstalled\nJREs.\" The problem occurs when I have a 1.4 VM selected there.",
    "Thanks for the confirmation. Then I am suspecting that when running in 1.3 \nmode, some 1.3 specific classloader can be triggered and gets unhappy when \nloading 1.4 classes (from rt.jar maybe?) tagged with 48.0 (target 1.4).\n\nWould this be our classloading support ?",
    "For some reason, the 1.4 rt.jar is put on the classpath of the launched \nprogram. Since this rt.jar contains org.xml.sax.SAXParseException, the 1.4 \nversion of the SAXParseException class is loaded (in a 1.3 VM).\n\nMoving to PDE which provides the self-hosting launcher.",
    "PDE launcher allows you to set the JRE you want to use to launch the run-time \nworkbench instance. Did you use it to specify the right JRE?",
    "Yes, I set the runtime JRE in my PDE launch configs.",
    "Wassim, this one is related to the wrong JVM used to launch the run-time \ninstance (different from the one we said we will use). There is another defect \nI will send to you that looks like the same issue.",
    "F3 candidate.",
    "The problem must have been fixed at some point.  The correct VM is being used \nto launch the run-time instance."
  ],
  "commentCreationDates": [
    "2002-04-10T15:56:51+02:00",
    "2002-04-10T17:03:31+02:00",
    "2002-04-10T17:26:10+02:00",
    "2002-04-11T16:33:12+02:00",
    "2002-04-11T17:04:04+02:00",
    "2002-04-11T17:38:46+02:00",
    "2002-04-11T17:45:41+02:00",
    "2002-04-11T19:09:57+02:00",
    "2002-04-11T19:43:47+02:00",
    "2002-04-11T19:45:36+02:00",
    "2002-04-11T22:35:37+02:00",
    "2002-04-15T12:05:58+02:00",
    "2002-04-16T01:59:27+02:00",
    "2002-04-16T02:58:53+02:00",
    "2002-05-28T00:29:51+02:00",
    "2002-06-05T01:46:34+02:00",
    "2002-06-07T18:46:35+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.UnsupportedClassVersionError",
      "message": "org/xml/sax/SAXParseException (Unsupported major.minor version 48.0)",
      "elements": [
        {
          "method": "java.lang.ClassLoader.defineClass0",
          "source": "Native Method"
        },
        {
          "method": "java.lang.ClassLoader.defineClass",
          "source": "ClassLoader.java:496"
        },
        {
          "method": "java.security.SecureClassLoader.defineClass",
          "source": "SecureClassLoader.java:117"
        },
        {
          "method": "java.net.URLClassLoader.defineClass",
          "source": "URLClassLoader.java:251"
        },
        {
          "method": "java.net.URLClassLoader.access$300",
          "source": "URLClassLoader.java:69"
        },
        {
          "method": "java.net.URLClassLoader$ClassFinder.run",
          "source": "URLClassLoader.java:544"
        },
        {
          "method": "java.security.AccessController.doPrivileged",
          "source": "Native Method"
        },
        {
          "method": "java.net.URLClassLoader.findClass",
          "source": "URLClassLoader.java:203"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:325"
        },
        {
          "method": "sun.misc.Launcher$AppClassLoader.loadClass",
          "source": "Launcher.java:380"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:257"
        },
        {
          "method": "org.eclipse.core.internal.boot.DelegatingURLClassLoader.findClassParents",
          "source": "DelegatingURLClassLoader.java:369"
        },
        {
          "method": "org.eclipse.core.internal.boot.PlatformClassLoader.findClassParentsSelf",
          "source": "PlatformClassLoader.java:59"
        },
        {
          "method": "org.eclipse.core.internal.boot.DelegatingURLClassLoader.loadClass",
          "source": "DelegatingURLClassLoader.java:771"
        },
        {
          "method": "org.eclipse.core.internal.boot.DelegatingURLClassLoader.loadClass",
          "source": "DelegatingURLClassLoader.java:751"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:257"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.parsePlugins",
          "source": "InternalPlatform.java:737"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.loadRegistry",
          "source": "InternalPlatform.java:686"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.loaderStartup",
          "source": "InternalPlatform.java:584"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.startup",
          "source": "InternalBootLoader.java:883"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:767"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:319"
        },
        {
          "method": "EclipseRuntimeLauncher.main",
          "source": "EclipseRuntimeLauncher.java:14"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "13281",
      "date": "2002-04-10T15:56:51+02:00",
      "product": "PDE",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "13281",
  "bugId": "13281",
  "date": "2002-04-10T15:56:51+02:00",
  "product": "PDE",
  "component": "UI",
  "severity": "normal"
}