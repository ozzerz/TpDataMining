{
  "comments": [
    "This has not worked for me for a while, and it still happens in M7.  I cannot\nget any help (except in the new help IDE view).  I see others opening more\nspecific help problems, so the basic stuff must work for them?!\n\nFor example, Help \u003e Help Contents gives me an error:\n There was an error in your action: \n javax.servlet.ServletException: Class org/eclipse/core/runtime/Preferences\n violates loader constraints: parent and child already loaded different classes \n\nWhen I set the External browser to, say, Firefox:\n Lefthand navigation panel:  HTTP Status 500\n type Exception\n message\n description The server encountered an internal error () that prevented it\n from fulfilling this request.\n\n Righthand panel:\n same as above",
    "I guess, there is something messing up your Eclipse classpath.  Please install \neclipse to a clean directory and run with a clean JRE.  If the problem is \nstill there, please examin classpath and bootclasspath in Help -\u003e About -\u003e \nPlatform Configuration.\n\nYou may also check \nworkspace\\.metadata\\.plugins\\org.eclipse.tomcat\\catalina.*.log.  There might \nbe more precise error than shown in the browser.",
    "1.- You\u0027re right - I did not set my development environment (which I usually do\nthrough a *.bat file), i.e., no CLASSPATH \u0026 no PATH, and help works fine.\n\nBUT: I thought that when I run eclipse.exe it doesn\u0027t care about the system\nCLASSPATH, it handles only its own environment for each plug-in, etc. - it\ncertainly didn\u0027t care about it in R3.0 and before?!\n\n2.- The catalina.\u003cdate\u003e.log says something similar:\n\n. . .\nStandardManager[/help]: Seeding of random number generator has been completed\nStandardWrapper[/help:default]: Loading container servlet default\nStandardWrapper[/help:invoker]: Loading container servlet invoker\nApplicationDispatcher[/help] Servlet.service() for servlet\norg.eclipse.help.internal.webapp.jsp.advanced.index_jsp threw exception\njavax.servlet.ServletException: Class org/eclipse/core/runtime/Preferences\nviolates loader constraints:  parent and child already loaded different classes\n\tat\norg.apache.jasper.runtime.PageContextImpl.handlePageException(PageContextImpl.java:536)\n\tat\norg.eclipse.help.internal.webapp.jsp.advanced.index_jsp._jspService(index_jsp.java:142)\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:137)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat\norg.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:684)\n\tat\norg.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:432)\n\tat\norg.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:356)\n\tat org.eclipse.help.internal.webapp.jsp.index_jsp._jspService(index_jsp.java:73)\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:137)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:247)\n\tat\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:256)\n\tat\norg.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n. . .",
    "Thanks.\nRuntime guys, I think the bug can be closed, but let you look at too, because \nI cannot explain why 3.0 did not exhibit this problem.  It would be good if \nEclipse 3.1 was as immune to external classes as 3.0.",
    "Tom to verify.",
    "I cannot explain what is going on here.  If I set a CLASSPATH variable on my \nsystem the (Windows XP) the java property for the classpath is the following:\n \njava.class.path \u003d C:\\eclipse\\eclipse\\startup.jar\n\nMy CLASSPATH value is not used by the eclipse.exe to launch java.  Even if the \nCLASSPATH var was being used it still does not explain how the parent \nclassloader loaded classes from the app classloader.  The java.class.path \nproperty indicates what jars are on the classpath of the application \nclassloader.  By default plugins use the boot classloader as the parent \nclassloader.  So the only way I can see something like this happening is if \nthe boot classpath was getting messed up.",
    "Created an attachment (id\u003d22147)\nThe Help \u003e Configuration Details on my machine\n\nIn case it helps any - the configuration details displayed by Eclipse",
    "Can you try the eclipse.exe from eclipse 3.0.1 in your 3.1 installation and \nsee if it still fails?\n\nJust to be sure, you have a CLASSPATH set in your Windows Environment \nVariables, right?  I tried the same thing but cannot seem to reproduce, but I \njust noticed that you are using Windows 2000 in your configuration.",
    "\u003e\u003e Can you try the eclipse.exe from eclipse 3.0.1 in your 3.1 installation\n\nIt works fine with 3.0.1\u0027s eclipse.exe!!\n\n\u003e\u003e you have a CLASSPATH set in your Windows Environment Variables, right\n\nThe environment variables used are set in a \"Command Prompt\" window with a *.bat\nfile, they\u0027re not Windows-wide (I have different *.bat files for various Eclipse\ndrivers).  From this MS-DOS prompt window I also start Eclipse.\n\n\u003e\u003e I just noticed that you are using Windows 2000 in your configuration\n\nIt fails in the same way on both Win 2000 (at work) and Win XP Home edition (at\nhome).",
    "Pascal, who should look into eclipse.exe problems?",
    "Adrian, please attach the .bat file that you run before launching eclipse for \nthe \"Command Prompt\".  Thanks.",
    "Chris and I will look into it.",
    "Created an attachment (id\u003d22180)\n*.bat file to set dev environment\n\nThe *.bat file",
    "Created an attachment (id\u003d22181)\nOutput of doing SET \u003e set.log\n\nC:\\\u003e set \u003eset.log",
    "Giving up ownership.",
    "Updated title. It was, like, totally bothering me.",
    ":-)",
    "I haven\u0027t been able to reproduce.\nPlease reopen if you have more detailed steps.",
    "Trying to narrow down the culprit...  I open a new MS-DOS prompt window (XP\nHome), set two things:\n\nC:\\\u003e set\nCLASSPATH\u003dc:\\vabaseR3.1.0\\eclipse\\plugins\\org.eclipse.core.runtime_3.1.0.jar\nC:\\\u003e set PATH\u003df:\\jdk1.4.2\\bin\n\nThen start eclipse:\n\nC:\\\u003e cd \\vabaseR3.1.0\\eclipse\nC:\\vabaseR3.1.0\\eclipse\u003e eclipse\n\nThen select \"Help\" \u003e \"Help Contents\".  A separate windows opens, with this (new)\nerror message:\n\n  There was an error in your action: \n  java.lang.NoClassDefFoundError: org/eclipse/osgi/util/NLS\n\nSomething in eclipse is obviously using stuff from the machine\u0027s CLASSPATH. I\nhope you may be able to reproduce this scenario.\n\nBTW, if I do a\n  C:\\\u003e set\nin the MS-DOS prompt window, I get these settings (which seem all inconsequential):\nCLASSPATH\u003dc:\\vabaseR3.1.0\\eclipse\\plugins\\org.eclipse.core.runtime_3.1.0.jar\nCLIENTNAME\u003dConsole\nCMVC_AUTH_METHOD\u003dHOST\nCMVC_CASESENSE\u003dMIXED\nCMVC_FAMILY\u003dorbitsrv\nCMVC_HOME\u003dC:\\CMVC\\exe\nCODETMPDIR\u003dF:\\WDSC510\\TMP\nCOMPUTERNAME\u003dSTORI1\nCOPYCMD\u003d/Y\nDER_DRIVER_PATH\u003dF:\\ibmdebug\nFP_NO_HOST_CHECK\u003dNO\nHELP\u003dF:\\WDSC510\\HELP\nHOMEDRIVE\u003dC:\nIMNINST\u003dhelp\nIMNINSTSRV\u003dF:\\IMNNQ_XP\nIPF_PATH32\u003dF:\\WDSC510\\SYSTEM\nLOGONSERVER\u003d\\\\STORI1\nLPATH4\u003dC:\\lpex\\as;C:\\lpex\\macros\nNLSPATH\u003dF:\\ibmdebug\\msg\\%%L\\%%N\nNUMBER_OF_PROCESSORS\u003d1\nPath\u003df:\\jdk1.4.2\\bin\nPCOMM_Root\u003dC:\\Program Files\\Personal Communications\nPROCESSOR_ARCHITECTURE\u003dx86\nPROCESSOR_IDENTIFIER\u003dx86 Family 15 Model 2 Stepping 4, GenuineIntel\nPROCESSOR_LEVEL\u003d15\nPROCESSOR_REVISION\u003d0204\nPROMPT\u003d$P$G\nSESSIONNAME\u003dConsole\nSystemDrive\u003dC:\nSystemRoot\u003dC:\\WINDOWS\nTC_BECOME\u003dstori\nTC_FAMILY\u003dewb\nTC_USER\u003dstori\ntvdebugflags\u003d0x260\ntvlogsessioncount\u003d5000\nUSERDOMAIN\u003dSTORI1\nUSERNAME\u003dUser\nUSERPROFILE\u003dC:\\Documents and Settings\\User\nwindir\u003dC:\\WINDOWS",
    "Why are you putting org.eclipse.core.runtime on the classpath?",
    "I\u0027m putting Eclipse stuff in the classpath in order to run some things outside\nthe Eclipse IDE.\nI can, of course, run Eclipse itself from a different (classpath, etc.)\nenvironment, however I think that Eclipse\u0027s sensitivity to the machine classpath\nmay cause other problems (for others), so it may be worth looking into (as\nindicated above, eclipse.exe \u003c\u003d R3.0 didn\u0027t have this problem).",
    "I finally am able to reproduce this.  This happens when an IBM 1.4.2 JRE is \nused.  When using the -jar option the Sun JRE will ignore the CLASSPATH env.  \nBut the IBM 1.4.2 JRE appears to use the CLASSPATH variable even when using \nthe -jar option.\n\nI have no idea what the expected behavior is when -jar is used, but the two \nJREs definately have different behavior.  Prior to Eclispe 3.1 the eclispe.exe \nwas setting the CLASSPATH env to the startup.jar which overrode any settings \nthe user may have had on their maching.  In Eclipse 3.1 the eclipse.exe has \nmoved to using -jar and does not override CLASSPATH env with any value.\n\nShould we consider unsetting CLASSPATH env before launching the JRE from \neclipse.exe?",
    "Reopening and marking for RC3 to make sure we doucment the behavior somewhere\n",
    "Adding the following to the eclipse.ini will workaround the problem\n\n-cp\n\"\"\n\nmake sure the -cp and \"\" are on separate lines.  This will force the JRE to \nusing an empty string for the classpath setting.",
    "Reassigning to Tom.",
    "What can we do here?  Is the workaround in comment 23 good enough.  There are other bugs open that complain about the reverse of this bug.  They want the stuff from CLASSPATH to be included on the java.class.path, see 126499.\n\nI recommend we close as wontfix.",
    "Following the recommendation.",
    "*** Bug 126499 has been marked as a duplicate of this bug. ***",
    "Reopening to mark as dup of #126499 because we might still want to do some investigations.",
    "\n\n*** This bug has been marked as a duplicate of 126499 ***"
  ],
  "commentCreationDates": [
    "2005-05-18T13:50:54+02:00",
    "2005-05-26T21:35:17+02:00",
    "2005-05-26T23:25:54+02:00",
    "2005-05-26T23:47:28+02:00",
    "2005-05-31T23:01:06+02:00",
    "2005-06-01T16:15:05+02:00",
    "2005-06-01T16:28:13+02:00",
    "2005-06-01T16:54:04+02:00",
    "2005-06-01T17:02:57+02:00",
    "2005-06-01T17:05:54+02:00",
    "2005-06-01T17:33:50+02:00",
    "2005-06-01T18:31:52+02:00",
    "2005-06-01T19:20:23+02:00",
    "2005-06-01T19:21:22+02:00",
    "2005-06-02T14:51:41+02:00",
    "2005-06-02T17:10:22+02:00",
    "2005-06-02T17:21:41+02:00",
    "2005-06-10T20:27:16+02:00",
    "2005-06-11T14:16:21+02:00",
    "2005-06-13T04:14:00+02:00",
    "2005-06-13T13:57:29+02:00",
    "2005-06-13T18:00:11+02:00",
    "2005-06-13T18:56:08+02:00",
    "2005-06-13T20:20:30+02:00",
    "2005-06-16T01:38:23+02:00",
    "2006-04-06T21:25:52+02:00",
    "2006-04-06T22:20:01+02:00",
    "2006-04-06T22:20:28+02:00",
    "2006-04-06T22:40:41+02:00",
    "2006-04-06T22:41:00+02:00"
  ],
  "traces": [
    {
      "exceptionType": "javax.servlet.ServletException",
      "message": "Class org/eclipse/core/runtime/Preferences violates loader constraints:  parent and child already loaded different classes",
      "elements": [
        {
          "method": "org.apache.jasper.runtime.PageContextImpl.handlePageException",
          "source": "PageContextImpl.java:536"
        },
        {
          "method": "org.eclipse.help.internal.webapp.jsp.advanced.index_jsp._jspService",
          "source": "index_jsp.java:142"
        },
        {
          "method": "org.apache.jasper.runtime.HttpJspBase.service",
          "source": "HttpJspBase.java:137"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:853"
        },
        {
          "method": "org.apache.catalina.core.ApplicationDispatcher.invoke",
          "source": "ApplicationDispatcher.java:684"
        },
        {
          "method": "org.apache.catalina.core.ApplicationDispatcher.doForward",
          "source": "ApplicationDispatcher.java:432"
        },
        {
          "method": "org.apache.catalina.core.ApplicationDispatcher.forward",
          "source": "ApplicationDispatcher.java:356"
        },
        {
          "method": "org.eclipse.help.internal.webapp.jsp.index_jsp._jspService",
          "source": "index_jsp.java:73"
        },
        {
          "method": "org.apache.jasper.runtime.HttpJspBase.service",
          "source": "HttpJspBase.java:137"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:853"
        },
        {
          "method": "org.apache.catalina.core.ApplicationFilterChain.internalDoFilter",
          "source": "ApplicationFilterChain.java:247"
        },
        {
          "method": "org.apache.catalina.core.ApplicationFilterChain.doFilter",
          "source": "ApplicationFilterChain.java:193"
        },
        {
          "method": "org.apache.catalina.core.StandardWrapperValve.invoke",
          "source": "StandardWrapperValve.java:256"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext",
          "source": "StandardPipeline.java:643"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline.invoke",
          "source": "StandardPipeline.java:480"
        },
        {
          "method": "org.apache.catalina.core.ContainerBase.invoke",
          "source": "ContainerBase.java:995"
        },
        {
          "method": "org.apache.catalina.core.StandardContextValve.invoke",
          "source": "StandardContextValve.java:191"
        }
      ],
      "number": 0,
      "commentIndex": 2,
      "bugId": "95733",
      "duplicateId": "126499",
      "date": "2005-05-26T23:25:54+02:00",
      "product": "Equinox",
      "component": "Framework",
      "severity": "normal"
    }
  ],
  "groupId": "126499",
  "bugId": "95733",
  "duplicateId": "126499",
  "date": "2005-05-18T13:50:54+02:00",
  "product": "Equinox",
  "component": "Framework",
  "severity": "normal"
}