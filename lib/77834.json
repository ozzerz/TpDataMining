{
  "comments": [
    "When I setup a Java Project containing only one class:\n-----------------------------------------------\npublic class X {\n    public static void main(String[] args) {\n        System.out.println(\"Hello world\");\n    }\n}\n-----------------------------------------------\nI can profile it only, if I created the project in\nthe default workspace.\nOtherwise I get a NoClassDefFound X.\n\nLikewise profiling an application with dependencies\nto classes outside the workspace leads to\nNoClassDefFound exceptions. E.g. on org.apache.log4j.Level.\n\nI got Windows XP SP2, eclipse 3.0.1 with Hyades\n3.2.0_20041101_1032.",
    "BTW.\n\nI use Windows XP Home SP2\neclipse 3.0.1\nhyades.rac.nt_3.2.0_20041101_1032 and the other \n  hyades*_3.2.0_20041101_1032 without .rac.\nThe rac is running as service.\nJVM is Sun J2SDK 1.4.2_04.\n",
    "If you run the profiling project outside of the workspace you must manually \ndefine the classpath for the code.  This can be done in the launch \nconfiguration.  Please ensure this is completed correctly as this is working in \nour testcases. ",
    "I set up a little class with one dependency to log4j.jar.\nI get NoClassDefFound no matter if put the jar inside my \nproject (Add jar) or anywhere else (Add external jar).\nBoth variants work without profiling.\n\nProfile the following class as \"Java Application\"\nand see the output:\nNo externals so far.\njava.lang.NoClassDefFoundError: org/apache/log4j/Level\n\tat X.main(X.java:6)\nException in thread \"main\" \n-------- X.java --------------------------------------------------\nimport org.apache.log4j.Level;\n\npublic class X {\n    public static void main(String[] args) {\n        System.out.println(\"No externals so far.\");\n        Level l \u003d Level.ALL;\n        System.out.println(\"Have touched external Level.\");\n    }\n}\n------------------------------------------------------------------\n\nThis is strange since the Data Collector gets the right classpath\nin both scenarios:\n\n \u003cSERVER_MSG time\u003d\"2004:11:4:21:11:23\" severity\u003d\"DEBUG\" text\u003d\"Added Env Entry:\nUICLASSPATH\u003dD:\\Tmp\\eclipse\\playground\\build;D:\\Tmp\\lib\\log4j-1.2.8.jar\" file\u003d\"..\n\\RAServer\\launcher.c\" line\u003d\"1304\"/\u003e\n\u003cSERVER_MSG time\u003d\"2004:11:4:21:11:23\" severity\u003d\"INFORMATION\" text\u003d\"Attempting to\nlaunch process : java.exe  -XrunpiAgent:server\u003dcontrolled X in location D:\\Tm\np\\eclipse\\playground\" file\u003d\"..\\RAServer\\launcher.c\" line\u003d\"315\"/\u003e\n\u003cSERVER_MSG time\u003d\"2004:11:4:21:11:23\" severity\u003d\"INFORMATION\" text\u003d\"Process\nlaunched: PID\u003d2420\" file\u003d\"..\\RAServer\\launcher.c\" line\u003d\"334\"/\u003e\n\nIs log4j a bad choice? Does eclipse itself use it and I provoke classloader\nhassle? Why not passing the UICLASSPATH via commandline arg (-cp) to\nthe java executable?\n\nOr is only the first part of that UICLASSPATH searched?",
    "Heiner,\n\nCan you provide both the log output for the UICLASSPATH, as you have above, as \nwell as all the CLASSPATH entries?  The UICLASSPATH is sent over from the \nworkbench so that when the process details come back on the process we can \ndetermine what parts were inherited from the machine classpath verses those \nfrom the launch configuration. Thanks.",
    "3.2i1 is finishing today.  I feel we are stalled waiting for more information\nand we are not going to get closure today.  Pushing this out to 3.2i2",
    "If I add (with prepend or append):\n\u003cVariable name\u003d\"CLASSPATH\" value\u003d\"D:\\Tmp\\eclipse\\playground\\lib\\log4j-1.2.8.jar\"\nposition\u003d\"prepend\"/\u003e\nat the end of the classpath section in serviceconfig.xml, I get the same error \nwith the log4j-Level test.\n\n\u003cSERVER_MSG time\u003d\"2004:11:15:10:19:40\" severity\u003d\"DEBUG\" text\u003d\"Changed Env Entry:\n CLASSPATH\u003dD:\\Tmp\\eclipse\\playground\\build;D:\\Tmp\\eclipse\\playground\\lib\\log4j-1\n.2.8.jar;D:\\Tmp\\eclipse\\playground\\lib\\log4j-1.2.8.jar;;C:\\Hyades\\lib\\commons-lo\ngging.jar;C:\\Hyades\\lib\\hcframe.jar;C:\\Hyades\\lib\\hexcore.jar;C:\\Hyades\\lib\\hexl\n.jar;C:\\Hyades\\lib\\hexr.jar;C:\\Hyades\\lib\\hl14.jar;C:\\Hyades\\lib\\hlcommons.jar;C\n:\\Hyades\\lib\\hlcore.jar;C:\\Hyades\\lib\\hlevents.jar;C:\\Hyades\\lib\\hlcbe101.jar;C:\n\\Hyades\\lib\\ecore.jar;C:\\Hyades\\lib\\common.jar;C:\\Hyades/plugins/org.eclipse.hya\ndes.perfmon.jmxagent/lib/jmxagent.jar;C:\\Hyades\\plugins\\org.eclipse.hyades.test\\\nlib\\junit.jar\" file\u003d\"..\\RAServer\\launcher.c\" line\u003d\"1214\"/\u003e\n...\n\u003cSERVER_MSG time\u003d\"2004:11:15:10:19:40\" severity\u003d\"DEBUG\" text\u003d\"Added Env Entry:\nUICLASSPATH\u003dD:\\Tmp\\eclipse\\playground\\build;D:\\Tmp\\eclipse\\playground\\lib\\log4j-1.2.8.jar\"\nfile\u003d\"..\\RAServer\\launcher.c\" line\u003d\"1304\"/\u003e\n\nTo be sure its not just logging, I tested the same thing with HttpServer\nfrom jetty 4.2.21 (which is not referenced by any eclipse plugin I use).\nSame game: NoClassDefFound regardless if I add the CLASSPATH entry\nto serviceconfig.xml or not.",
    "Heiner,  I have looked at this several times now expecting to see something.  \nThe only thing I can see may be a problem is if your D: drive is a mounted\n(remote) drive.  We are aware of issues with mounted drives, otherwise I don\u0027t \nsee what the problem is.",
    "No, my D: is local and \nyes, I know about the network drive issue, since I reported it :)\nhttps://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d77831\n\nWhat I would like to know is, if anyone else sees the\nNoClassDefFound whenever referencing a jar.\n\nIf not, my eclipse setup is severely broken and I have to\nstart over :( - and you can close this one or change it\nto \"error reporting eats essential information\" or something.\n\nThe ONLY thing that does not seem to work with my setup\nis profiling.\n\nSince priority on pofiling dropped, I will not have the\ntime to investigate this further this year.",
    "Heiner,\n\nI appreciate you taking the time to work with us on this.  I cannot reproduce \nthe problems you are seeing.  I have run many scenarios and referenced external \njars without issue.  I am closing this as WorksForMe, which I totally dispise \nas a response, but I feel I cannot move forward on this."
  ],
  "commentCreationDates": [
    "2004-11-04T15:35:35+01:00",
    "2004-11-04T15:39:11+01:00",
    "2004-11-04T16:32:23+01:00",
    "2004-11-04T20:54:53+01:00",
    "2004-11-09T19:57:17+01:00",
    "2004-11-11T21:35:31+01:00",
    "2004-11-15T09:49:11+01:00",
    "2004-12-03T03:22:50+01:00",
    "2004-12-03T09:16:27+01:00",
    "2004-12-06T15:19:44+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoClassDefFoundError",
      "message": "org/apache/log4j/Level",
      "elements": [
        {
          "method": "X.main",
          "source": "X.java:6"
        }
      ],
      "number": 0,
      "commentIndex": 3,
      "bugId": "77834",
      "date": "2004-11-04T20:54:53+01:00",
      "product": "Hyades",
      "component": "DataCollection\u0026Control",
      "severity": "normal"
    }
  ],
  "groupId": "77834",
  "bugId": "77834",
  "date": "2004-11-04T15:35:35+01:00",
  "product": "Hyades",
  "component": "DataCollection\u0026Control",
  "severity": "normal"
}