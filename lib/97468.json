{
  "comments": [
    "3.1 RC1\n\nSteps to reproduce:\n- Create JUnit project\n- Invoke Use SuperType on TestCaseClassLoader\n\n-\u003e In the preview page, drill down to the TestCaseClassLoader change\n-\u003e Following assertion failure occurs\n\norg.eclipse.ltk.internal.core.refactoring.AssertionFailedException: assertion \nfailed: Wrong root edit\n\tat org.eclipse.ltk.internal.core.refactoring.Assert.isTrue\n(Assert.java:102)\n\tat org.eclipse.ltk.core.refactoring.TextChange.getPreviewContent\n(TextChange.java:621)\n\tat \norg.eclipse.ltk.internal.ui.refactoring.TextChangePreviewViewer.setInput\n(TextChangePreviewViewer.java:184)\n\tat \norg.eclipse.ltk.internal.ui.refactoring.PseudoLanguageChangeElement.feedInput\n(PseudoLanguageChangeElement.java:52)\n\tat \norg.eclipse.ltk.internal.ui.refactoring.PreviewWizardPage.showPreview\n(PreviewWizardPage.java:376)\n\tat org.eclipse.ltk.internal.ui.refactoring.PreviewWizardPage.access$2\n(PreviewWizardPage.java:355)\n\tat \norg.eclipse.ltk.internal.ui.refactoring.PreviewWizardPage$2.selectionChanged\n(PreviewWizardPage.java:346)\n\tat org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:162)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:1038)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:775)\n\tat org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)\n\tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148)\n\tat org.eclipse.jface.viewers.Viewer.fireSelectionChanged\n(Viewer.java:160)\n\tat org.eclipse.jface.viewers.StructuredViewer.updateSelection\n(StructuredViewer.java:1784)\n\tat org.eclipse.jface.viewers.StructuredViewer.handleSelect\n(StructuredViewer.java:1027)\n\tat org.eclipse.jface.viewers.CheckboxTreeViewer.handleSelect\n(CheckboxTreeViewer.java:267)\n\tat org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected\n(StructuredViewer.java:1053)\n\tat org.eclipse.jface.util.OpenStrategy.fireSelectionEvent\n(OpenStrategy.java:209)\n\tat org.eclipse.jface.util.OpenStrategy.access$3(OpenStrategy.java:204)\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent\n(OpenStrategy.java:364)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:844)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2929)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2562)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:809)\n\tat org.eclipse.jface.window.Window.open(Window.java:787)\n\tat org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation$1.run\n(RefactoringWizardOpenOperation.java:125)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile\n(BusyIndicator.java:69)\n\tat org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation.run\n(RefactoringWizardOpenOperation.java:138)\n\tat \norg.eclipse.jdt.internal.ui.refactoring.actions.RefactoringStarter.activate\n(RefactoringStarter.java:40)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.RefactoringExecutionStarter.startUs\neSupertypeRefactoring(RefactoringExecutionStarter.java:350)\n\tat org.eclipse.jdt.ui.actions.UseSupertypeAction.run\n(UseSupertypeAction.java:148)\n\tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun\n(SelectionDispatchAction.java:226)\n\tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.run\n(SelectionDispatchAction.java:198)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:996)\n\tat \norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:538)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2\n(ActionContributionItem.java:488)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent\n(ActionContributionItem.java:400)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:844)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2929)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2562)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1694)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1658)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench\n(Workbench.java:366)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run\n(IDEApplication.java:103)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run\n(PlatformActivator.java:226)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:375)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:162)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n\tat org.eclipse.core.launcher.Main.run(Main.java:973)\n\tat org.eclipse.core.launcher.Main.main(Main.java:948)",
    "Need to investigate whether this is a problem in LTK or the refactoring.",
    "The problem is that the edits passed in the TextEditChangeGroup do have a\ndifferent root than the TextChange itself. The edits asking for a preview for\nmust belong to the same roots as the text change.\n\nTobias, please have a look. It is not super critical for RC2, but if it can\neasily be fixed we should do it.",
    "Created an attachment (id\u003d22675)\npatch\n\nAttaching patch",
    "Fixed \u003e 20050609",
    "Still happens in some cases. Opened bug 99315 with more specific information",
    "Reopen for 3.1 RC2",
    "Fixed \u003e 20050610",
    "*** Bug 99315 has been marked as a duplicate of this bug. ***",
    "verifying...",
    "\u003e Fixed \u003e 20050610\n\noops, not yet fixed in I20050610.\n\n\n",
    "Verified during smoke test for build input I20050610-1200.\n\nNote that the offending class is TestCaseClassLoaderTest, not TestCaseClassLoader.",
    "Verified on I20050610-1200.\n\n- the class to invoke Use super type on is TestCaseClassLoader\n- the class to drill in is TestCaseClassLoaderTest\n\n"
  ],
  "commentCreationDates": [
    "2005-05-31T15:36:15+02:00",
    "2005-05-31T19:45:53+02:00",
    "2005-06-06T15:18:46+02:00",
    "2005-06-09T12:11:08+02:00",
    "2005-06-09T14:50:34+02:00",
    "2005-06-10T11:35:13+02:00",
    "2005-06-10T12:36:45+02:00",
    "2005-06-10T14:53:37+02:00",
    "2005-06-10T15:00:05+02:00",
    "2005-06-10T15:28:52+02:00",
    "2005-06-10T15:33:28+02:00",
    "2005-06-10T18:20:58+02:00",
    "2005-06-10T22:01:18+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.ltk.internal.core.refactoring.AssertionFailedException",
      "message": "assertion  failed: Wrong root edit",
      "elements": [
        {
          "method": "org.eclipse.ltk.internal.core.refactoring.Assert.isTrue",
          "source": "Assert.java:102"
        },
        {
          "method": "org.eclipse.ltk.core.refactoring.TextChange.getPreviewContent",
          "source": "TextChange.java:621"
        },
        {
          "method": "org.eclipse.ltk.internal.ui.refactoring.TextChangePreviewViewer.setInput",
          "source": "TextChangePreviewViewer.java:184"
        },
        {
          "method": "org.eclipse.ltk.internal.ui.refactoring.PseudoLanguageChangeElement.feedInput",
          "source": "PseudoLanguageChangeElement.java:52"
        },
        {
          "method": "org.eclipse.ltk.internal.ui.refactoring.PreviewWizardPage.showPreview",
          "source": "PreviewWizardPage.java:376"
        },
        {
          "method": "org.eclipse.ltk.internal.ui.refactoring.PreviewWizardPage.access$2",
          "source": "PreviewWizardPage.java:355"
        },
        {
          "method": "org.eclipse.ltk.internal.ui.refactoring.PreviewWizardPage$2.selectionChanged",
          "source": "PreviewWizardPage.java:346"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer$2.run",
          "source": "Viewer.java:162"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1038"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:775"
        },
        {
          "method": "org.eclipse.ui.internal.JFaceUtil$1.run",
          "source": "JFaceUtil.java:44"
        },
        {
          "method": "org.eclipse.jface.util.SafeRunnable.run",
          "source": "SafeRunnable.java:148"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer.fireSelectionChanged",
          "source": "Viewer.java:160"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateSelection",
          "source": "StructuredViewer.java:1784"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleSelect",
          "source": "StructuredViewer.java:1027"
        },
        {
          "method": "org.eclipse.jface.viewers.CheckboxTreeViewer.handleSelect",
          "source": "CheckboxTreeViewer.java:267"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected",
          "source": "StructuredViewer.java:1053"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireSelectionEvent",
          "source": "OpenStrategy.java:209"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$3",
          "source": "OpenStrategy.java:204"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "OpenStrategy.java:364"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:844"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2929"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2562"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:809"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:787"
        },
        {
          "method": "org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation$1.run",
          "source": "RefactoringWizardOpenOperation.java:125"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation.run",
          "source": "RefactoringWizardOpenOperation.java:138"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.actions.RefactoringStarter.activate",
          "source": "RefactoringStarter.java:40"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.RefactoringExecutionStarter.startUseSupertypeRefactoring",
          "source": "RefactoringExecutionStarter.java:350"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.UseSupertypeAction.run",
          "source": "UseSupertypeAction.java:148"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun",
          "source": "SelectionDispatchAction.java:226"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.run",
          "source": "SelectionDispatchAction.java:198"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:996"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:538"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:844"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2929"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2562"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1694"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1658"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:366"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:375"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:162"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "97468",
      "date": "2005-05-31T15:36:15+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "97468",
  "bugId": "97468",
  "date": "2005-05-31T15:36:15+02:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}