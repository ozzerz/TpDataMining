{
  "comments": [
    "Win2K, 20020214\n\nI am getting NPE\u0027s in property page support. It shows up in PDE preference page. \n\nSteps to recreate:\n* Workbench\u003e Preferences\u003e Plug_In Development\u003e Advanced tracing\n* expand tree, select plugin ... get NPE each time you do this\n\nStack trace below ... NPE deep in preference support.\n\nLog: Fri Feb 15 08:49:48 EST 2002\n4 org.eclipse.ui 0 java.lang.NullPointerException\njava.lang.NullPointerException\n\tat \norg.eclipse.ui.views.properties.PropertySheetPage.handleEntrySelection(PropertyS\nheetPage.java:161)\n\tat \norg.eclipse.ui.views.properties.PropertySheetPage$1.selectionChanged(PropertyShe\netPage.java:97)\n\tat \norg.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:147)\n\tat \norg.eclipse.ui.views.properties.PropertySheetViewer.entrySelectionChanged(Proper\ntySheetViewer.java:325)\n\tat \norg.eclipse.ui.views.properties.PropertySheetViewer.updateChildrenOf(PropertyShe\netViewer.java:1004)\n\tat \norg.eclipse.ui.views.properties.PropertySheetViewer.setInput(PropertySheetViewer\n.java:723)\n\tat \norg.eclipse.ui.views.properties.PropertySheetPage.selectionChanged(PropertySheet\nPage.java:227)\n\tat \norg.eclipse.pde.internal.preferences.AdvancedTracingPreferencePage.pluginSelecte\nd(AdvancedTracingPreferencePage.java:231)\n\tat \norg.eclipse.pde.internal.preferences.AdvancedTracingPreferencePage.access$5(Adva\nncedTracingPreferencePage.java:225)\n\tat \norg.eclipse.pde.internal.preferences.AdvancedTracingPreferencePage$2.selectionCh\nanged(AdvancedTracingPreferencePage.java:141)\n\tat \norg.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:147)\n\tat \norg.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java\n:999)\n\tat \norg.eclipse.jface.viewers.StructuredViewer.handleSelect(StructuredViewer.java:46\n6)\n\tat \norg.eclipse.jface.viewers.AbstractTreeViewer$1.widgetSelected(AbstractTreeViewer\n.java:624)\n\tat \norg.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:85)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:637)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1413)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1205)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:538)\n\tat org.eclipse.jface.window.Window.open(Window.java:525)\n\tat \norg.eclipse.ui.internal.OpenPreferencesAction.run(OpenPreferencesAction.java:47)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:452)\n\tat \norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionCont\nributionItem.java:407)\n\tat \norg.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionContribu\ntionItem.java:361)\n\tat \norg.eclipse.jface.action.ActionContributionItem.access$0(ActionContributionItem.\njava:352)\n\tat \norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(Actio\nnContributionItem.java:47)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:637)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1413)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1205)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:788)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:771)\n\tat \norg.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:77\n7)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:319)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:151)\n\tat org.eclipse.core.launcher.Main.run(Main.java:502)\n\tat org.eclipse.core.launcher.Main.main(Main.java:362)",
    "I found the problem. PDE is using property sheet in a preference and there are \nno action bars to pass to it. Property sheet used to check if any of the bars \nis !\u003dnull before dealing with them, but a recent mod in \u0027handleSelection\u0027 used \none of the bars without checking. \n\nI fixed this yesterday by providing dummy action bars (by implementing menu and \ntool bar manager interfaces using noop methods). You can pick the fix in last \nnight\u0027s build.\n\nAs a side note, I beleive it is an oversight to make property sheet page so \ndependent on the perspective context. Property sheet-like widgets are not \nuncommon in dialogs, and using a table viewer forces the developers to \nreinvent the entire property descriptor/cell editor architecture. \n\nIt is much better to design property sheet page in such a way to work with\naction bars if present, but not die the ugly death if they are not.",
    "Defer"
  ],
  "commentCreationDates": [
    "2002-02-15T13:57:25+01:00",
    "2002-02-15T14:09:01+01:00",
    "2002-05-01T22:51:14+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetPage.handleEntrySelection",
          "source": "PropertyS heetPage.java:161"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetPage$1.selectionChanged",
          "source": "PropertyShe etPage.java:97"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer.fireSelectionChanged",
          "source": "Viewer.java:147"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetViewer.entrySelectionChanged",
          "source": "Proper tySheetViewer.java:325"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetViewer.updateChildrenOf",
          "source": "PropertyShe etViewer.java:1004"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetViewer.setInput",
          "source": "PropertySheetViewer .java:723"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetPage.selectionChanged",
          "source": "PropertySheet Page.java:227"
        },
        {
          "method": "org.eclipse.pde.internal.preferences.AdvancedTracingPreferencePage.pluginSelected",
          "source": "AdvancedTracingPreferencePage.java:231"
        },
        {
          "method": "org.eclipse.pde.internal.preferences.AdvancedTracingPreferencePage.access$5",
          "source": "Adva ncedTracingPreferencePage.java:225"
        },
        {
          "method": "org.eclipse.pde.internal.preferences.AdvancedTracingPreferencePage$2.selectionChanged",
          "source": "AdvancedTracingPreferencePage.java:141"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer.fireSelectionChanged",
          "source": "Viewer.java:147"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateSelection",
          "source": "StructuredViewer.java :999"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleSelect",
          "source": "StructuredViewer.java:46 6"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$1.widgetSelected",
          "source": "AbstractTreeViewer .java:624"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:85"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:637"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1413"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1205"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:538"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:525"
        },
        {
          "method": "org.eclipse.ui.internal.OpenPreferencesAction.run",
          "source": "OpenPreferencesAction.java:47"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:452"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionCont ributionItem.java:407"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContribu tionItem.java:361"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem. java:352"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "Actio nContributionItem.java:47"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:637"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1413"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1205"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:788"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:771"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:77 7"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:319"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:151"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:502"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:362"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "9901",
      "date": "2002-02-15T13:57:25+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "9901",
  "bugId": "9901",
  "date": "2002-02-15T13:57:25+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}