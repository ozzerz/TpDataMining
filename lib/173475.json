{
  "comments": [
    "Eclipse: 3.2.1\nBuild ID: M20060921-0945\n\nAJDT: 1.4.1.200611230655\nAspectJ version: 1.5.3.200611221118\n\n\nException information:\n\njava.lang.NullPointerException\nat org.aspectj.org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.getFieldBase(SourceTypeBinding.java:873)\nat org.aspectj.org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.getField(SourceTypeBinding.java:862)\nat org.aspectj.org.eclipse.jdt.internal.compiler.lookup.Scope.findField(Scope.java:811)\nat org.aspectj.org.eclipse.jdt.internal.compiler.lookup.Scope.getBinding(Scope.java:1475)\nat or ... pter.java:102)\nat org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run(AspectJBuildManager.java:191)\n\nNullPointerException thrown: null\n\n\nI was able to reliable reproduce this problem on a rather complex setup that involves a lot of code being \"code generated\" and failing to generate properly due to a source code problem.\n\nIn other words the state of project being compiled was very broken -- lots of required files missing etc.\n\nThe crash always occured straight after launching ANT script to do APT code generation -- I was never able to reproduce it in any other way -- including closing/opening project and re-starting Eclipse.\n\nI\u0027m sorry that I can\u0027t provide more relevant information immediatelly, but I saved workspace contents so the bug is not readily apparent from examining the code, I\u0027ll try to find time to provide some reproduction scenario.",
    "It should be noted that ANT task that is generating code is set up to immediatelly refresh the project afterwards. So in essence the crash occured when major project re-compilation was occurring.",
    "The NPE is happening in the compiler, so I\u0027m passing this bug over",
    "Created an attachment (id\u003d58958)\nTwo eclipse projects that when imported cause AspectJ to crash.\n\nWell, I\u0027ve made an extract to demonstrate the NPE problem.\nSteps to reproduce:\n- Set compiler compliance level to 5.0 (so it supports annotations).\n- Import _AptCodeGenerator project (from the zip file).\n- Import Mulberry project (from the zip file).\n- Try to change anything in ContractT and save (to force recompilation) -- *crash*\n",
    "Bumped severity to major because when the problem occurs it makes it very difficult to work with workspace -- due to constant errors from the compiler."
  ],
  "commentCreationDates": [
    "2007-02-08T16:09:47+01:00",
    "2007-02-08T16:11:29+01:00",
    "2007-02-08T16:17:52+01:00",
    "2007-02-14T09:58:18+01:00",
    "2007-02-14T10:01:59+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.getFieldBase",
          "source": "SourceTypeBinding.java:873"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.getField",
          "source": "SourceTypeBinding.java:862"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.lookup.Scope.findField",
          "source": "Scope.java:811"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.lookup.Scope.getBinding",
          "source": "Scope.java:1475"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "173475",
      "date": "2007-02-08T16:09:47+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "major"
    }
  ],
  "groupId": "173475",
  "bugId": "173475",
  "date": "2007-02-08T16:09:47+01:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "major"
}