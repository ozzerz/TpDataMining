{
  "comments": [
    "Build 20030218\nJDK1.4.1_b01 target VM\n\n1. Add NullPointerException breakpoint\n2. Run self-hosting workspace under debug\n3. In target workspace, run search query described in bug 32182\n4. When breakpoint is hit, in MatchLocator2.locateMatches(JavaProject), inspect:\nthis.potentialMatches.getPotentialMatches(\n  getFocusType() \u003d\u003d null ?\n  javaProject.getPackageFragmentRoots() :\n  javaProject.getAllPackageFragmentRoots())\n5. In Expression view, select 1st, then 2nd, then 3rd element in the array \n(detail pane is shown)\nObserve: You get the following exception after a while:\n\n!ENTRY org.eclipse.jdt.debug 4 5010 Feb 19, 2003 12:06:16.348\n!MESSAGE com.sun.jdi.ObjectCollectedException occurred while retrieving value.\n!STACK 0\ncom.sun.jdi.ObjectCollectedException\n        at org.eclipse.jdi.internal.MirrorImpl.defaultReplyErrorHandler\n(MirrorImpl.java:234)\n        at org.eclipse.jdi.internal.ArrayReferenceImpl.length\n(ArrayReferenceImpl.java:187)\n        at org.eclipse.jdi.internal.ArrayReferenceImpl.getValues\n(ArrayReferenceImpl.java:78)\n        at org.eclipse.jdi.internal.ArrayReferenceImpl.getValue\n(ArrayReferenceImpl.java:63)\n        at \norg.eclipse.jdt.internal.debug.core.model.JDIArrayEntryVariable.retrieveValue\n(JDIArrayEntryVariable.java:56)\n        at org.eclipse.jdt.internal.debug.core.model.JDIVariable.getCurrentValue\n(JDIVariable.java:61)\n        at org.eclipse.jdt.internal.debug.core.model.JDIVariable.getValue\n(JDIVariable.java:83)\n        at \norg.eclipse.debug.internal.ui.views.variables.VariablesView.populateDetailPaneFr\nomSelection(VariablesView.java:757)\n        at \norg.eclipse.debug.internal.ui.views.variables.VariablesView$4.selectionChanged\n(VariablesView.java:738)\n        at org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:153)\n        at org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:867)\n        at org.eclipse.core.runtime.Platform.run(Platform.java:413)\n        at org.eclipse.jface.viewers.Viewer.fireSelectionChanged\n(Viewer.java:151)\n        at org.eclipse.jface.viewers.StructuredViewer.updateSelection\n(StructuredViewer.java:1285)\n        at org.eclipse.jface.viewers.StructuredViewer.handleSelect\n(StructuredViewer.java:652)\n        at org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected\n(StructuredViewer.java:676)\n        at org.eclipse.jface.util.OpenStrategy.fireSelectionEvent\n(OpenStrategy.java:172)\n        at org.eclipse.jface.util.OpenStrategy.access$3(OpenStrategy.java:167)\n        at org.eclipse.jface.util.OpenStrategy$1.handleEvent\n(OpenStrategy.java:302)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:77)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:836)\n        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1692)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1410)\n        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1288)\n        at org.eclipse.ui.internal.Workbench.run(Workbench.java:1271)\n        at org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:845)\n        at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:247)\n        at org.eclipse.core.launcher.Main.run(Main.java:703)\n        at org.eclipse.core.launcher.Main.main(Main.java:539)",
    "I was only able to reproduce the problem after I resumed from the NPE. This \nindicates the object was gabage collected. This seems fair if the search has \ncompleted? ",
    "If I recall correctly, I got the ObjectCollectedException while the thread was \nstill suspended.\n\nBut even if the thread is resumed, I don\u0027t see why I would not be able to \ninspect the object in the Expressions view. It should be allowed to be \ncollected only when I remove it from the Expressions view. I think JDI allows \nyou to control if the object can be collected or not.",
    "In the past, using this option caused problems with WSAD (the IBM VM, \nactually). We used to use it for an object which we allocated to terminate \nthreads (an instance of thread death). However, this caused the WS server to \ncrash :-(",
    "Marking as later for future consideration of marking inspected objects as \"not \nfor GC\".",
    "*** Bug 65308 has been marked as a duplicate of this bug. ***",
    "*** Bug 120672 has been marked as a duplicate of this bug. ***",
    "dup of bug 33452 ",
    "\n\n*** This bug has been marked as a duplicate of 33452 ***"
  ],
  "commentCreationDates": [
    "2003-02-19T11:14:52+01:00",
    "2003-02-19T17:27:03+01:00",
    "2003-02-19T17:36:05+01:00",
    "2003-02-19T17:38:38+01:00",
    "2003-02-19T19:13:35+01:00",
    "2004-06-02T16:45:46+02:00",
    "2005-12-13T19:36:32+01:00",
    "2006-06-19T20:13:22+02:00",
    "2006-06-19T20:13:44+02:00"
  ],
  "traces": [
    {
      "exceptionType": "com.sun.jdi.ObjectCollectedException",
      "elements": [
        {
          "method": "org.eclipse.jdi.internal.MirrorImpl.defaultReplyErrorHandler",
          "source": "MirrorImpl.java:234"
        },
        {
          "method": "org.eclipse.jdi.internal.ArrayReferenceImpl.length",
          "source": "ArrayReferenceImpl.java:187"
        },
        {
          "method": "org.eclipse.jdi.internal.ArrayReferenceImpl.getValues",
          "source": "ArrayReferenceImpl.java:78"
        },
        {
          "method": "org.eclipse.jdi.internal.ArrayReferenceImpl.getValue",
          "source": "ArrayReferenceImpl.java:63"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIArrayEntryVariable.retrieveValue",
          "source": "JDIArrayEntryVariable.java:56"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIVariable.getCurrentValue",
          "source": "JDIVariable.java:61"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIVariable.getValue",
          "source": "JDIVariable.java:83"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.variables.VariablesView.populateDetailPaneFromSelection",
          "source": "VariablesView.java:757"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.variables.VariablesView$4.selectionChanged",
          "source": "VariablesView.java:738"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer$2.run",
          "source": "Viewer.java:153"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:867"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:413"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer.fireSelectionChanged",
          "source": "Viewer.java:151"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateSelection",
          "source": "StructuredViewer.java:1285"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleSelect",
          "source": "StructuredViewer.java:652"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected",
          "source": "StructuredViewer.java:676"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireSelectionEvent",
          "source": "OpenStrategy.java:172"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$3",
          "source": "OpenStrategy.java:167"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "OpenStrategy.java:302"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:77"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:836"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1692"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1410"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1288"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1271"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:247"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:703"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:539"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "32222",
      "duplicateId": "33452",
      "date": "2003-02-19T11:14:52+01:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "33452",
  "bugId": "32222",
  "duplicateId": "33452",
  "date": "2003-02-19T11:14:52+01:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "normal"
}