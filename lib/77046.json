{
  "comments": [
    "If the Pattern Match job is already running when the console\u0027s partitioner reports that it is finished \nwork, it is possible that the pattern matcher can think that it\u0027s finished before checking the entire \ndocument.\n\n\nThis is the trace from the failed test:\n\nIncorrect number of messages logged for build. Should be 8. Was 2\n\njunit.framework.AssertionFailedError: Incorrect number of messages logged for build. Should be 8. Was \n2\nat org.eclipse.ant.tests.ui.BuildTests.testOutput(BuildTests.java:41)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat org.eclipse.ant.tests.ui.AbstractAntUIBuildTest.access$0(AbstractAntUIBuildTest.java:1)\nat org.eclipse.ant.tests.ui.AbstractAntUIBuildTest$1.run(AbstractAntUIBuildTest.java:44)\nat java.lang.Thread.run(Thread.java:534)",
    "Fixed in ConsolePatternMatcher.\n\nwhen the partitioner completes its work, it notifies the console. The console then calls \nConsolePatternMatcher.forceFinalMatching() so that remaining matches can be found before the \nconsole notifies property change listeners that output has completed. This bug occured because \nforceFinalMatching set a flag which told the Match Job to inform the console when it was complete. If \nthe MatchJob was running when the flag was set, the console could be notified too early.\n\nFix is to use a second flag...\n- forceFinalMatching() called\n- schedule flag set\n- Job completes, sets final flag, reschedules itself to find last matches\n- Job completes again, notifies console.",
    "DarinW, please verify.",
    "Verified."
  ],
  "commentCreationDates": [
    "2004-10-26T20:52:59+02:00",
    "2004-10-26T21:08:35+02:00",
    "2004-10-26T21:10:02+02:00",
    "2004-10-27T17:15:31+02:00"
  ],
  "traces": [
    {
      "exceptionType": "junit.framework.AssertionFailedError",
      "message": "Incorrect number of messages logged for build. Should be 8. Was  2",
      "elements": [
        {
          "method": "org.eclipse.ant.tests.ui.BuildTests.testOutput",
          "source": "BuildTests.java:41"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "org.eclipse.ant.tests.ui.AbstractAntUIBuildTest.access$0",
          "source": "AbstractAntUIBuildTest.java:1"
        },
        {
          "method": "org.eclipse.ant.tests.ui.AbstractAntUIBuildTest$1.run",
          "source": "AbstractAntUIBuildTest.java:44"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:534"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "77046",
      "date": "2004-10-26T20:52:59+02:00",
      "product": "Platform",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "77046",
  "bugId": "77046",
  "date": "2004-10-26T20:52:59+02:00",
  "product": "Platform",
  "component": "Debug",
  "severity": "normal"
}