{
  "comments": [
    "When creating an EJB module I selected the Add to EAR checkbox on the first page and selected a J2EE 1.4 EAR. On the second page I changed the EJB facet to 3.0, and there were no errors. I clicked Finish, and it \u0027worked\u0027, but there was an internal error during validation (see below).\n\n1) There should be some validation in the wizard letting the user know that this is an invalid selection and Finish should be disabled.\n\n2) If the user somehow does this manually, validation shouldn\u0027t get an internal error.\n\nIn the Problems view:\nIWAE0053E An internal error has occurred running validation on project:EE4]:EE4, check the log file for details\nThe deployment descriptor of the module \u0027EJB3.jar\u0027 cannot be loaded.\n\nIn the .log:\n!ENTRY org.eclipse.osgi 2 1 2007-06-29 10:35:59.312\n!MESSAGE NLS unused message: validator.name in: earvalidation\n\n!ENTRY org.eclipse.wst.validation 4 0 2007-06-29 10:35:59.312\n!MESSAGE \n*** ERROR ***: Fri Jun 29 10:35:59 EDT 2007    org.eclipse.wst.validation.internal.core.ValidationException: IWAE0053E An internal error has occurred running validation on project:EE4]:EE4, check the log file for details\n    \tat org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateInJob(EarValidator.java:165)\n    \tat org.eclipse.jst.j2ee.internal.validation.UIEarValidator.validateInJob(UIEarValidator.java:226)\n    \tat org.eclipse.wst.validation.internal.operations.ValidatorJob.run(ValidatorJob.java:75)\n    \tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)\n\n!ENTRY org.eclipse.wst.validation 4 0 2007-06-29 10:35:59.312\n!MESSAGE \n*** ERROR ***: Fri Jun 29 10:35:59 EDT 2007    java.lang.ClassCastException: org.eclipse.jst.javaee.ejb.internal.util.EjbResourceImpl incompatible with org.eclipse.jst.j2ee.internal.common.XMLResource\n    \tat org.eclipse.jst.j2ee.model.internal.validation.EarValidator.getVersionID(EarValidator.java:735)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateSpecLevel(EarValidator.java:719)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validate(EarValidator.java:124)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateInJob(EarValidator.java:144)\n    \tat org.eclipse.jst.j2ee.internal.validation.UIEarValidator.validateInJob(UIEarValidator.java:226)\n    \tat org.eclipse.wst.validation.internal.operations.ValidatorJob.run(ValidatorJob.java:75)\n    \tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)"
  ],
  "commentCreationDates": [
    "2007-06-29T16:41:34+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.wst.validation.internal.core.ValidationException",
      "message": "IWAE0053E An internal error has occurred running validation on project:EE4]:EE4, check the log file for details",
      "elements": [
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateInJob",
          "source": "EarValidator.java:165"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.validation.UIEarValidator.validateInJob",
          "source": "UIEarValidator.java:226"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidatorJob.run",
          "source": "ValidatorJob.java:75"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:55"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "194921",
      "date": "2007-06-29T16:41:34+02:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.jst.javaee.ejb.internal.util.EjbResourceImpl incompatible with org.eclipse.jst.j2ee.internal.common.XMLResource",
      "elements": [
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.EarValidator.getVersionID",
          "source": "EarValidator.java:735"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateSpecLevel",
          "source": "EarValidator.java:719"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validate",
          "source": "EarValidator.java:124"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.EarValidator.validateInJob",
          "source": "EarValidator.java:144"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.validation.UIEarValidator.validateInJob",
          "source": "UIEarValidator.java:226"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidatorJob.run",
          "source": "ValidatorJob.java:75"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:55"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "194921",
      "date": "2007-06-29T16:41:34+02:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "normal"
    }
  ],
  "groupId": "194921",
  "bugId": "194921",
  "date": "2007-06-29T16:41:34+02:00",
  "product": "Web Tools",
  "component": "jst.j2ee",
  "severity": "normal"
}