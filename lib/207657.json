{
  "comments": [
    "Build ID: I20070625-1500\n\nSteps To Reproduce:\nIn certain cases the refactoring of a static inner class fails with an exception like the one below. It fails every time I try to do it, but the source which causes it is somewhat complex, so I am giving you only the exception itself for now. Please let me know if more info is needed.\n\n!ENTRY org.eclipse.ltk.ui.refactoring 4 10000 2007-10-27 01:49:18.093\n!MESSAGE Internal Error\n!STACK 0\njava.lang.reflect.InvocationTargetException\n\tat org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:91)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)\nCaused by: Java Model Exception: Java Model Status [visitRelationshipEnd(End) {key\u003dLcom/objectaid/uml/cls/model/ClassDiagramVisitor;.visitRelationshipEnd(Lcom/objectaid/uml/cls/model/Relationship$End;)Z} [in ClassDiagramVisitor [in ClassDiagramVisitor.java [in com.objectaid.uml.cls.model [in src [in com.objectaid.uml]]]]] does not exist]\n\tat org.eclipse.jdt.internal.core.JavaElement.newNotPresentException(JavaElement.java:485)\n\tat org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:516)\n\tat org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:249)\n\tat org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:235)\n\tat org.eclipse.jdt.internal.core.Member.getFlags(Member.java:164)\n\tat org.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.adjustOutgoingVisibilityChain(MemberVisibilityAdjustor.java:680)\n\tat org.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.adjustOutgoingVisibility(MemberVisibilityAdjustor.java:673)\n\tat org.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.adjustOutgoingVisibility(MemberVisibilityAdjustor.java:715)\n\tat org.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.adjustVisibility(MemberVisibilityAdjustor.java:768)\n\tat org.eclipse.jdt.internal.corext.refactoring.structure.MoveInnerToTopRefactoring.createChangeManager(MoveInnerToTopRefactoring.java:806)\n\tat org.eclipse.jdt.internal.corext.refactoring.structure.MoveInnerToTopRefactoring.checkFinalConditions(MoveInnerToTopRefactoring.java:729)\n\tat org.eclipse.ltk.core.refactoring.CheckConditionsOperation.run(CheckConditionsOperation.java:83)\n\tat org.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:118)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1797)\n\tat org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:87)\n\t... 1 more\nRoot exception:\nJava Model Exception: Java Model Status [visitRelationshipEnd(End) {key\u003dLcom/objectaid/uml/cls/model/ClassDiagramVisitor;.visitRelationshipEnd(Lcom/objectaid/uml/cls/model/Relationship$End;)Z} [in ClassDiagramVisitor [in ClassDiagramVisitor.java [in com.objectaid.uml.cls.model [in src [in com.objectaid.uml]]]]] does not exist]\n\tat org.eclipse.jdt.internal.core.JavaElement.newNotPresentException(JavaElement.java:485)\n\tat org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:516)\n\tat org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:249)\n\tat org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:235)\n\tat org.eclipse.jdt.internal.core.Member.getFlags(Member.java:164)\n\tat org.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.adjustOutgoingVisibilityChain(MemberVisibilityAdjustor.java:680)\n\tat org.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.adjustOutgoingVisibility(MemberVisibilityAdjustor.java:673)\n\tat org.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.adjustOutgoingVisibility(MemberVisibilityAdjustor.java:715)\n\tat org.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.adjustVisibility(MemberVisibilityAdjustor.java:768)\n\tat org.eclipse.jdt.internal.corext.refactoring.structure.MoveInnerToTopRefactoring.createChangeManager(MoveInnerToTopRefactoring.java:806)\n\tat org.eclipse.jdt.internal.corext.refactoring.structure.MoveInnerToTopRefactoring.checkFinalConditions(MoveInnerToTopRefactoring.java:729)\n\tat org.eclipse.ltk.core.refactoring.CheckConditionsOperation.run(CheckConditionsOperation.java:83)\n\tat org.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:118)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1797)\n\tat org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:87)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)\n\n\n\nMore information:",
    "Moving to JDT/UI",
    "Looks like a dup of 135700 which is a search problem.\n\nFelix, it would be great if you find a way to construct a code example where the exception is reproducible.",
    "A small test case on which you can reproduce the problem would help us a lot to understand what happen there...",
    "Created an attachment (id\u003d81605)\nSource to reproduce the bug\n\nI managed to create a set of classes that reproduces the problem. Simply open Relationship.java and try to convert End to a top-level type. The crucial thing seems to be the genericity of ConnectionEnd, or maybe the accept() methods."
  ],
  "commentCreationDates": [
    "2007-10-27T08:01:29+02:00",
    "2007-10-27T11:11:24+02:00",
    "2007-10-29T10:28:28+01:00",
    "2007-10-29T10:41:56+01:00",
    "2007-10-30T18:27:00+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.reflect.InvocationTargetException",
      "elements": [
        {
          "method": "org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run",
          "source": "WorkbenchRunnableAdapter.java:91"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:113"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "207657",
      "date": "2007-10-27T08:01:29+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "207657",
  "bugId": "207657",
  "date": "2007-10-27T08:01:29+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}