{
  "comments": [
    "During checkout out of an acient source code management system, some of our jars\nand zips got corrupted, which was not noticed during the checkout process (This\nis clearly no eclipse problem ;-)\nNow we add this corrupt jars to a eclipse java project and got some mysterious\nerros like empty type lists, messages like \"no types available\" during \"Open\nType\" etc. \nIn the eclipse .log we have found messages like \n!ENTRY org.eclipse.jdt.core 4 4 Feb 21, 2005 09:47:36.795\n!MESSAGE Background Indexer Crash Recovery\n!STACK 0\njava.lang.ArrayIndexOutOfBoundsException: 37772\n\tat\norg.eclipse.jdt.internal.compiler.classfmt.ClassFileStruct.utf8At(ClassFileStruct.java:84)\n\tat\norg.eclipse.jdt.internal.compiler.classfmt.MethodInfo.readExceptionAttributes(MethodInfo.java:156)\n\tat\norg.eclipse.jdt.internal.compiler.classfmt.MethodInfo.getExceptionTypeNames(MethodInfo.java:59)\n\tat\norg.eclipse.jdt.internal.core.search.indexing.BinaryIndexer.indexDocument(BinaryIndexer.java:498)\n\tat\norg.eclipse.jdt.internal.core.search.JavaSearchParticipant.indexDocument(JavaSearchParticipant.java:74)\n\tat\norg.eclipse.jdt.internal.core.search.indexing.IndexManager.indexDocument(IndexManager.java:290)\n\tat\norg.eclipse.jdt.internal.core.search.indexing.AddJarFileToIndex.execute(AddJarFileToIndex.java:173)\n\tat\norg.eclipse.jdt.internal.core.search.processing.JobManager.run(JobManager.java:363)\n\tat java.lang.Thread.run(Unknown Source)\n\n!ENTRY org.eclipse.jdt.core 4 4 Feb 21, 2005 09:49:35.506\n!MESSAGE Background Indexer Crash Recovery\n!STACK 0\njava.lang.ArrayIndexOutOfBoundsException: 37772\n\tat\norg.eclipse.jdt.internal.compiler.classfmt.ClassFileStruct.utf8At(ClassFileStruct.java:84)\n\tat\norg.eclipse.jdt.internal.compiler.classfmt.MethodInfo.readExceptionAttributes(MethodInfo.java:156)\n\tat\norg.eclipse.jdt.internal.compiler.classfmt.MethodInfo.getExceptionTypeNames(MethodInfo.java:59)\n\tat\norg.eclipse.jdt.internal.core.search.indexing.BinaryIndexer.indexDocument(BinaryIndexer.java:498)\n\tat\norg.eclipse.jdt.internal.core.search.JavaSearchParticipant.indexDocument(JavaSearchParticipant.java:74)\n\tat\norg.eclipse.jdt.internal.core.search.indexing.IndexManager.indexDocument(IndexManager.java:290)\n\tat\norg.eclipse.jdt.internal.core.search.indexing.AddJarFileToIndex.execute(AddJarFileToIndex.java:173)\n\tat\norg.eclipse.jdt.internal.core.search.processing.JobManager.run(JobManager.java:363)\n\tat java.lang.Thread.run(Unknown Source)\n\nbut no hint which file causes this error. \nIs it possible to give a more specific error message, either in the .log file or\neven as an explicit error message in the eclipse GUI ?",
    "I would say that these corrupted .class files should simply be ignored. In order\nto do this, the BinaryIndex should fully initialize the .class files.\n\nShould replace:\nClassFileReader reader \u003d new ClassFileReader(contents,\nthis.document.getPath().toCharArray());\nwith:\nClassFileReader reader \u003d new ClassFileReader(contents,\nthis.document.getPath().toCharArray(), true);\n\nThen the ArrayIndexOutOfBoundsException would be converted to a\nClassFormatException.\n\nOr we can add checks in the decoding of the method info to protect it from\nArrayIndexOutOfBoundsException.",
    "In my opinion, it is not important which kind of exception is thrown, but the\nuser must be clearly informed which corrupt jar or class has caused it. It took\nus   some hours of trial and error to to find out the corrupt archive.\nIt is possible to show these kind of errors in the \"normal\" problem view ? ",
    "\n\n*** This bug has been marked as a duplicate of 81503 ***"
  ],
  "commentCreationDates": [
    "2005-02-21T10:38:27+01:00",
    "2005-02-21T20:34:28+01:00",
    "2005-02-21T21:00:49+01:00",
    "2006-03-28T15:58:51+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "37772",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.classfmt.ClassFileStruct.utf8At",
          "source": "ClassFileStruct.java:84"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.classfmt.MethodInfo.readExceptionAttributes",
          "source": "MethodInfo.java:156"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.classfmt.MethodInfo.getExceptionTypeNames",
          "source": "MethodInfo.java:59"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.BinaryIndexer.indexDocument",
          "source": "BinaryIndexer.java:498"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.JavaSearchParticipant.indexDocument",
          "source": "JavaSearchParticipant.java:74"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.IndexManager.indexDocument",
          "source": "IndexManager.java:290"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.AddJarFileToIndex.execute",
          "source": "AddJarFileToIndex.java:173"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.processing.JobManager.run",
          "source": "JobManager.java:363"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Unknown Source"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "85944",
      "duplicateId": "81503",
      "date": "2005-02-21T10:38:27+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "37772",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.classfmt.ClassFileStruct.utf8At",
          "source": "ClassFileStruct.java:84"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.classfmt.MethodInfo.readExceptionAttributes",
          "source": "MethodInfo.java:156"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.classfmt.MethodInfo.getExceptionTypeNames",
          "source": "MethodInfo.java:59"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.BinaryIndexer.indexDocument",
          "source": "BinaryIndexer.java:498"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.JavaSearchParticipant.indexDocument",
          "source": "JavaSearchParticipant.java:74"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.IndexManager.indexDocument",
          "source": "IndexManager.java:290"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.AddJarFileToIndex.execute",
          "source": "AddJarFileToIndex.java:173"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.processing.JobManager.run",
          "source": "JobManager.java:363"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Unknown Source"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "85944",
      "duplicateId": "81503",
      "date": "2005-02-21T10:38:27+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "81503",
  "bugId": "85944",
  "duplicateId": "81503",
  "date": "2005-02-21T10:38:27+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}