{
  "comments": [
    "This bug is in regards to an IBM customer complaint in which Common Base Events are failing validation despite being correctly formatted. The exception they are getting is as follows:\n\n           java.lang.IllegalArgumentException: The feature \u0027categoryName\u0027 is not a valid feature\n\n\tat org.eclipse.emf.ecore.impl.EObjectImpl.eDynamicGet(EObjectImpl.java:417)\n\tat org.eclipse.hyades.logging.events.cbe.impl.SituationImpl.eGet(SituationImpl.java:338)\n\tat org.eclipse.emf.ecore.impl.EObjectImpl.eGet(EObjectImpl.java:404)\n\tat org.eclipse.hyades.logging.events.cbe.util.EventValidation.validateRequiredProperties(EventValidation.java:81)\n\tat org.eclipse.hyades.logging.events.cbe.impl.SituationImpl.validate(SituationImpl.java:445)\n\tat org.eclipse.hyades.logging.events.cbe.impl.CommonBaseEventImpl.validate(CommonBaseEventImpl.java:2109)\n\tat com.ibm.events.emitter.impl.EmitterImpl.sendEventX(EmitterImpl.java:603)\n\tat com.ibm.events.emitter.impl.EmitterImpl.sendEvent(EmitterImpl.java:413)\n\nHere is an example event which causes the validation failure. \n  \n\u003cCommonBaseEvent creationTime\u003d\"2006-08-24T10:50:24.163Z\" extensionName\u003d\"WPC:ProcessInstanceEvent\" severity\u003d\"10\" version\u003d\"1.0.1\"\u003e\n\t\u003ccontextDataElements name\u003d\"ECSCurrentID\" type\u003d\"ECSID\"\u003e\n\t\t\u003ccontextValue\u003e_PI:9003010d.3fcd4c4f.cc8b67f6.7c830000\u003c/contextValue\u003e\n\t\u003c/contextDataElements\u003e\n\t\u003ccontextDataElements name\u003d\"ECSParentID\" type\u003d\"ECSID\"\u003e\n\t\t\u003ccontextValue\u003ewhatever\u003c/contextValue\u003e\n\t\u003c/contextDataElements\u003e\n\t\u003cextendedDataElements name\u003d\"Username\" type\u003d\"string\"\u003e\n\t\t\u003cvalues\u003eroot\u003c/values\u003e\n\t\u003c/extendedDataElements\u003e\n\t\u003cextendedDataElements name\u003d\"processTemplateName\" type\u003d\"string\"\u003e\n\t\t\u003cvalues\u003eCEI_Test1_Proc\u003c/values\u003e\n\t\u003c/extendedDataElements\u003e\n\t\u003cextendedDataElements name\u003d\"processTemplateId\" type\u003d\"string\"\u003e\n\t\t\u003cvalues\u003e_PT:9001010d.3f98fc5b.cc8b67f6.42900000\u003c/values\u003e\n\t\u003c/extendedDataElements\u003e\n\t\u003cextendedDataElements name\u003d\"WPCEventCode\" type\u003d\"string\"\u003e\n\t\t\u003cvalues\u003e21000\u003c/values\u003e\n\t\u003c/extendedDataElements\u003e\n\t\u003cextendedDataElements name\u003d\"processInstanceId\" type\u003d\"string\"\u003e\n\t\t\u003cvalues\u003e_PI:9003010d.3fcd4c4f.cc8b67f6.7c830000\u003c/values\u003e\n\t\u003c/extendedDataElements\u003e\n\t\u003cextendedDataElements name\u003d\"processInstanceExecutionState\" type\u003d\"string\"\u003e\n\t\t\u003cvalues\u003e2 - STATE_RUNNING\u003c/values\u003e\n\t\u003c/extendedDataElements\u003e\n\t\u003cextendedDataElements name\u003d\"processTemplateValidFrom\" type\u003d\"string\"\u003e\n\t\t\u003cvalues\u003eWed 2003-01-01 00:00:00.000\u003c/values\u003e\n\t\u003c/extendedDataElements\u003e\n\t\u003csourceComponentId component\u003d\"WBI-SF#Platform 5.1 [BASE 5.1.1.9 cf90603.03] [JDK 1.4.2 1.4.2_04-b05] [PME 5.1.1.4 cf40608.02] \" componentIdType\u003d\"ProductName\" executionEnvironment\u003d\"SunOS[sparc]#5.9\" instanceId\u003d\"fichte\\fichte\\server1\" location\u003d\"fichte.boeblingen.de.ibm.com\" locationType\u003d\"Hostname\" processId\u003d\"2225\" subComponent\u003d\"WPC\" threadId\u003d\"ORB.thread.pool : 5\" componentType\u003d\"http://www.ibm.com/namespaces/autonomic/Workflow_Engine\"/\u003e\n\t\u003csituation categoryName\u003d\"StartSituation\"\u003e\n\t\t\u003csituationType xsi:type\u003d\"StartSituation\" reasoningScope\u003d\"EXTERNAL\" successDisposition\u003d\"SUCCESSFUL\" situationQualifier\u003d\"START_COMPLETED\"/\u003e\n\t\u003c/situation\u003e\n\u003c/CommonBaseEvent\u003e\n\nThe validation is failing on the situation element which I believe is formatted correctly. Other events with identical values for the situation element  are validated successfully. The problem is most likely to occur when CommonBaseEvent.validate() is called in parallel by multiple threads which are operating on Common Base Events. Yet each thread is operating on a unique instance of a CBE.\n\nSo far we have only been able to recreate this problem within WebSphere. A test environment will be made available to the IES team. We are using version 3.0 of the IES SDK on Solaris 9 in the test environment.\n\nThe customer considers this a high priority bug that needs immediate attention.",
    "Assigning to Cindy for triage.",
    "This may not be a thread safety issue since the validate() method bodies are currently synchronized.  Cindy, you may want to confirm this is the case in Hyades 3.0.  ",
    "The validate() method is not synchronized in Hyades 3.0.0. It should be duplicate as https://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d71720. This bug is fixed in Hyades 3.1.0. ",
    "Can the consuming product move up to Hyades 3.1.0+?",
    "I don\u0027t believe they can move up to 3.1.0. The CEI DOU with the consumer requires 3.0, and the DOU between Eclipse and CEI is also limited to 3.0. So at this time I believe we need a 3.0.x patch. ",
    "A patch is created based on the hyades3.0.0, EMF1.1.1 and jdk1.3\n\n*** This bug has been marked as a duplicate of 71720 ***"
  ],
  "commentCreationDates": [
    "2006-08-24T21:27:59+02:00",
    "2006-08-25T15:41:17+02:00",
    "2006-08-25T15:43:10+02:00",
    "2006-08-25T17:56:26+02:00",
    "2006-08-28T15:21:12+02:00",
    "2006-08-28T15:26:00+02:00",
    "2006-09-11T18:11:26+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "The feature \u0027categoryName\u0027 is not a valid feature",
      "elements": [
        {
          "method": "org.eclipse.emf.ecore.impl.EObjectImpl.eDynamicGet",
          "source": "EObjectImpl.java:417"
        },
        {
          "method": "org.eclipse.hyades.logging.events.cbe.impl.SituationImpl.eGet",
          "source": "SituationImpl.java:338"
        },
        {
          "method": "org.eclipse.emf.ecore.impl.EObjectImpl.eGet",
          "source": "EObjectImpl.java:404"
        },
        {
          "method": "org.eclipse.hyades.logging.events.cbe.util.EventValidation.validateRequiredProperties",
          "source": "EventValidation.java:81"
        },
        {
          "method": "org.eclipse.hyades.logging.events.cbe.impl.SituationImpl.validate",
          "source": "SituationImpl.java:445"
        },
        {
          "method": "org.eclipse.hyades.logging.events.cbe.impl.CommonBaseEventImpl.validate",
          "source": "CommonBaseEventImpl.java:2109"
        },
        {
          "method": "com.ibm.events.emitter.impl.EmitterImpl.sendEventX",
          "source": "EmitterImpl.java:603"
        },
        {
          "method": "com.ibm.events.emitter.impl.EmitterImpl.sendEvent",
          "source": "EmitterImpl.java:413"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "155100",
      "duplicateId": "71720",
      "date": "2006-08-24T21:27:59+02:00",
      "product": "Hyades",
      "component": "Exec.logging",
      "severity": "critical"
    }
  ],
  "groupId": "71720",
  "bugId": "155100",
  "duplicateId": "71720",
  "date": "2006-08-24T21:27:59+02:00",
  "product": "Hyades",
  "component": "Exec.logging",
  "severity": "critical"
}