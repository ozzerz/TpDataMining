{
  "comments": [
    "It would be nice to have a Disconnect button (next to the Reconnect button).\n\nOne problem I have experienced is that Eclipse keeps SQL client connections open for long periods.  There is nothing wrong with this, however it doe not seem to be able to detect when the SQL server end has closed the connection.  This results in SQL driver exceptions being throw back to Eclipse when tring to run operations like \"Run SQL\".  Eclipse does not seem to understand or cope with this situation in a way that is developer friendly.\n\nIf I right click my *.sql file from the editor, goto the \"Use Connection\" dialog, there is a Reconnect button here.  However it is greyed out (this is because Eclipse believes it already has a working connection open/available).\n\nIdeally the solution would be to be able to generalise SQLException errors created from all database vendors, there is work withing Spring Framework and Hibernate which might allow the exceptions to be clasified as being statement execution related or network connection related.  If the error is network connection related it could disconnect and reconnect transparently providing there is no active transaction in progress from the eclipse side (if there were a transaction the correct thing to do is clear the client side of the broken connection and escalate the error back to eclipse).\n\n\nThe easiest thing to do in the short term is to simply provide a button to forcefully cause a disconnection from the \"Use connection\" dialog.\n\n\nHere is what the SQL exception looks like from the Data Output -\u003e Messages view.  The term \"Broken Pipe\" is a UNIXism for the socket API error raised when an application attempts to write to a socket that is no longer open.\n\n\nSTACKTRACE:\n\ncom.mysql.jdbc.CommunicationsException: Communications link failure due to underlying exception: \n\n** BEGIN NESTED EXCEPTION ** \n\njava.net.SocketException\nMESSAGE: Broken pipe\n\nSTACKTRACE:\n\njava.net.SocketException: Broken pipe\n\tat java.net.SocketOutputStream.socketWrite0(Native Method)\n\tat java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92)\n\tat java.net.SocketOutputStream.write(SocketOutputStream.java:136)\n\tat java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:65)\n\tat java.io.BufferedOutputStream.flush(BufferedOutputStream.java:123)\n\tat com.mysql.jdbc.MysqlIO.send(MysqlIO.java:2692)\n\tat com.mysql.jdbc.MysqlIO.send(MysqlIO.java:2621)\n\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1552)\n\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1666)\n\tat com.mysql.jdbc.Connection.execSQL(Connection.java:2988)\n\tat com.mysql.jdbc.Connection.unsetMaxRows(Connection.java:5309)\n\tat com.mysql.jdbc.Statement.realClose(Statement.java:1614)\n\tat com.mysql.jdbc.Connection.closeAllOpenStatements(Connection.java:2126)\n\tat com.mysql.jdbc.Connection.realClose(Connection.java:4422)\n\tat com.mysql.jdbc.Connection.cleanup(Connection.java:1973)\n\tat com.mysql.jdbc.Connection.execSQL(Connection.java:3021)\n\tat com.mysql.jdbc.Connection.execSQL(Connection.java:2917)\n\tat com.mysql.jdbc.Statement.execute(Statement.java:516)\n\tat org.eclipse.wst.rdb.internal.core.connection.StatementAdapter.execute(StatementAdapter.java:50)\n\tat org.eclipse.wst.rdb.server.internal.ui.query.execute.QueryOutputHelper.runSQLScrapbookQuery(QueryOutputHelper.java:148)\n\tat org.eclipse.wst.rdb.sqleditor.internal.actions.SQLRunAction.run(SQLRunAction.java:136)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:499)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1085)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3166)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2842)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)\n\n\n** END NESTED EXCEPTION **\n\n\n\nLast packet sent to the server was 1 ms ago.\n\tat com.mysql.jdbc.MysqlIO.send(MysqlIO.java:2710)\n\tat com.mysql.jdbc.MysqlIO.send(MysqlIO.java:2621)\n\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1552)\n\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1666)\n\tat com.mysql.jdbc.Connection.execSQL(Connection.java:2988)\n\tat com.mysql.jdbc.Connection.unsetMaxRows(Connection.java:5309)\n\tat com.mysql.jdbc.Statement.realClose(Statement.java:1614)\n\tat com.mysql.jdbc.Connection.closeAllOpenStatements(Connection.java:2126)\n\tat com.mysql.jdbc.Connection.realClose(Connection.java:4422)\n\tat com.mysql.jdbc.Connection.cleanup(Connection.java:1973)\n\tat com.mysql.jdbc.Connection.execSQL(Connection.java:3021)\n\tat com.mysql.jdbc.Connection.execSQL(Connection.java:2917)\n\tat com.mysql.jdbc.Statement.execute(Statement.java:516)\n\tat org.eclipse.wst.rdb.internal.core.connection.StatementAdapter.execute(StatementAdapter.java:50)\n\tat org.eclipse.wst.rdb.server.internal.ui.query.execute.QueryOutputHelper.runSQLScrapbookQuery(QueryOutputHelper.java:148)\n\tat org.eclipse.wst.rdb.sqleditor.internal.actions.SQLRunAction.run(SQLRunAction.java:136)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:499)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1085)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3166)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2842)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)\n\n\n** END NESTED EXCEPTION **",
    "mass update to remove target for all those targeted to 1.5.3 that were \"normal\" severity and \"priority 3\" (on the surface those dont\u0027 seem serious enough to fix in a maintenance release). \n\nIf I have made an error pleasae reset target and set priority appropriately. \n",
    "closing out as \"won\u0027t fix\" since the RDB project is quiescent. \n\nIf you still need these functions, please work with and open enhancement requests with the DTP project. \n\n"
  ],
  "commentCreationDates": [
    "2006-09-06T03:19:07+02:00",
    "2006-10-26T10:50:51+02:00",
    "2007-09-06T22:30:04+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.net.SocketException",
      "message": "Broken pipe",
      "elements": [
        {
          "method": "java.net.SocketOutputStream.socketWrite0",
          "source": "Native Method"
        },
        {
          "method": "java.net.SocketOutputStream.socketWrite",
          "source": "SocketOutputStream.java:92"
        },
        {
          "method": "java.net.SocketOutputStream.write",
          "source": "SocketOutputStream.java:136"
        },
        {
          "method": "java.io.BufferedOutputStream.flushBuffer",
          "source": "BufferedOutputStream.java:65"
        },
        {
          "method": "java.io.BufferedOutputStream.flush",
          "source": "BufferedOutputStream.java:123"
        },
        {
          "method": "com.mysql.jdbc.MysqlIO.send",
          "source": "MysqlIO.java:2692"
        },
        {
          "method": "com.mysql.jdbc.MysqlIO.send",
          "source": "MysqlIO.java:2621"
        },
        {
          "method": "com.mysql.jdbc.MysqlIO.sendCommand",
          "source": "MysqlIO.java:1552"
        },
        {
          "method": "com.mysql.jdbc.MysqlIO.sqlQueryDirect",
          "source": "MysqlIO.java:1666"
        },
        {
          "method": "com.mysql.jdbc.Connection.execSQL",
          "source": "Connection.java:2988"
        },
        {
          "method": "com.mysql.jdbc.Connection.unsetMaxRows",
          "source": "Connection.java:5309"
        },
        {
          "method": "com.mysql.jdbc.Statement.realClose",
          "source": "Statement.java:1614"
        },
        {
          "method": "com.mysql.jdbc.Connection.closeAllOpenStatements",
          "source": "Connection.java:2126"
        },
        {
          "method": "com.mysql.jdbc.Connection.realClose",
          "source": "Connection.java:4422"
        },
        {
          "method": "com.mysql.jdbc.Connection.cleanup",
          "source": "Connection.java:1973"
        },
        {
          "method": "com.mysql.jdbc.Connection.execSQL",
          "source": "Connection.java:3021"
        },
        {
          "method": "com.mysql.jdbc.Connection.execSQL",
          "source": "Connection.java:2917"
        },
        {
          "method": "com.mysql.jdbc.Statement.execute",
          "source": "Statement.java:516"
        },
        {
          "method": "org.eclipse.wst.rdb.internal.core.connection.StatementAdapter.execute",
          "source": "StatementAdapter.java:50"
        },
        {
          "method": "org.eclipse.wst.rdb.server.internal.ui.query.execute.QueryOutputHelper.runSQLScrapbookQuery",
          "source": "QueryOutputHelper.java:148"
        },
        {
          "method": "org.eclipse.wst.rdb.sqleditor.internal.actions.SQLRunAction.run",
          "source": "SQLRunAction.java:136"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:499"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:539"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1085"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3166"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2842"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1914"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1878"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:280"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "156291",
      "date": "2006-09-06T03:19:07+02:00",
      "product": "Web Tools",
      "component": "wst.rdb",
      "severity": "enhancement"
    }
  ],
  "groupId": "156291",
  "bugId": "156291",
  "date": "2006-09-06T03:19:07+02:00",
  "product": "Web Tools",
  "component": "wst.rdb",
  "severity": "enhancement"
}