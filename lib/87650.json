{
  "comments": [
    "Using 3.0.2RC2 build, on Fedora Core 3 with no Mozilla installed (only Firefox).\nLaunching help results in error and following in the log.\n\n!SESSION Mar 10, 2005 10:09:21.688 ---------------------------------------------\neclipse.buildId\u003dM200502161722\njava.fullversion\u003dJ2RE 1.4.2 IBM build cxia32142sr1a-20050209 (JIT enabled: jitc)\nBootLoader constants: OS\u003dlinux, ARCH\u003dx86, WS\u003dgtk, NL\u003den_US\n\n!ENTRY org.eclipse.help.ui 4 0 Mar 10, 2005 10:09:21.689\n!MESSAGE An exception occurred while launching help.   Refer to the log for more\ndetails.\n\n!ENTRY org.eclipse.help.base 4 0 Mar 10, 2005 10:09:21.698\n!MESSAGE An exception occurred while launching help.\n!STACK 0\njava.lang.NullPointerException\n\tat java.lang.ClassLoader.loadLibrary0(ClassLoader.java:2159)\n\tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1976)\n\tat java.lang.Runtime.loadLibrary0(Runtime.java:824)\n\tat java.lang.System.loadLibrary(System.java:908)\n\tat org.eclipse.swt.internal.Library.loadLibrary(Library.java:100)\n\tat org.eclipse.swt.browser.Browser.\u003cinit\u003e(Browser.java:115)\n\tat\norg.eclipse.help.ui.internal.browser.embedded.EmbeddedBrowserFactory.test(EmbeddedBrowserFactory.java:65)\n\nExpected is Out of handles, not NPE.",
    "This does not happen with the latest code in 3.1 builds.\nSince I remember there were similar bugs on other OSes, I have opened bug \n87652 for help to tolerate exceptions from SWT if something else then \nSWT.ERROR_NO_HANDLES is thrown.  I have released that into 3.0.2.\nIf you do not plan changes to Browse code in 3.0.2, feel free to close this \nreport as fixed in 3.1, and don\u0027t give me reasons to open similar bugs in the \nfuture against the latest code. :-)",
    "The NPE is wrong. Could this be a VM/java class library bug? \n\nWe never pass a null string to System.loadLibrary - that looks like the \nimplementation of ClassLoader.loadLibrary0 is doing something wrong.\n\nWe call: Library.loadLibrary (\"swt-mozilla\"); //$NON-NLS-1$\nWhich invokes: System.loadLibrary (newName);\nwhere newName is \"swt-mozilla\"+ extra stuff. So this should not be null.\n\nKonrad: does it fail as well with Sun VM?",
    "The javadoc for System.loadLibrary does not say it can throw an NPE. I checked \non Windows that Sun VM 1.4.2 does not even throw an NPE in that case (it \ncorrectly throw an UnsatisfiedLinkError):\nSystem.loadLibrary(null); \n\n(but again - we don\u0027t even pass a null String so we can\u0027t do much here)\n\nSo this really sounds like a bug in the class library of that IBM VM. \nHopefully you can confirm Sun VM does not throw the NPE.",
    "Confirmed. j9 throws an NPE with:\nSystem.loadLibrary(null);\n\nthrows\nException in thread \"main\" java.util.NoSuchElementException\n\tat java.util.StringTokenizer.nextToken(StringTokenizer.java:280)\n\tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1952)\nwith:\nSystem.loadLibrary(\"\");\n\n\nMaybe they also throw an NPE when parsing our String.\n\nCould still be interesting if you have a chance to confirm Sun VM does not \nhave that bug in your case.",
    "There is no problem using Sun JRE 1.4.2_07 OR using Eclipse I20050308.\nIt is IBM JRE 1.4.2 build cxia32142sr1a-20050209 with Eclipse 3.0.2rc2 that \nexperience the issue.",
    "Correction to comment 3: Sun System.loadLibrary(null) does throw an NPE. But \nthe one in the IBM JCL sends the wrong exception for System.loadLibrary(\"\") \nand might throw NPE even when the string is not null but happens to break \ntheir parser code in some way.\n\nMarking as WONTFIX and passing info to IBM.",
    "Thanks Christophe."
  ],
  "commentCreationDates": [
    "2005-03-10T15:25:56+01:00",
    "2005-03-10T17:57:30+01:00",
    "2005-03-10T18:17:09+01:00",
    "2005-03-10T18:33:12+01:00",
    "2005-03-10T18:40:30+01:00",
    "2005-03-10T18:43:26+01:00",
    "2005-03-10T18:55:15+01:00",
    "2005-03-10T18:57:54+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "java.lang.ClassLoader.loadLibrary0",
          "source": "ClassLoader.java:2159"
        },
        {
          "method": "java.lang.ClassLoader.loadLibrary",
          "source": "ClassLoader.java:1976"
        },
        {
          "method": "java.lang.Runtime.loadLibrary0",
          "source": "Runtime.java:824"
        },
        {
          "method": "java.lang.System.loadLibrary",
          "source": "System.java:908"
        },
        {
          "method": "org.eclipse.swt.internal.Library.loadLibrary",
          "source": "Library.java:100"
        },
        {
          "method": "org.eclipse.swt.browser.Browser.\u003cinit\u003e",
          "source": "Browser.java:115"
        },
        {
          "method": "org.eclipse.help.ui.internal.browser.embedded.EmbeddedBrowserFactory.test",
          "source": "EmbeddedBrowserFactory.java:65"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "87650",
      "date": "2005-03-10T15:25:56+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    },
    {
      "exceptionType": "java.util.NoSuchElementException",
      "elements": [
        {
          "method": "java.util.StringTokenizer.nextToken",
          "source": "StringTokenizer.java:280"
        },
        {
          "method": "java.lang.ClassLoader.loadLibrary",
          "source": "ClassLoader.java:1952"
        }
      ],
      "number": 1,
      "commentIndex": 4,
      "bugId": "87650",
      "date": "2005-03-10T18:40:30+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    }
  ],
  "groupId": "87650",
  "bugId": "87650",
  "date": "2005-03-10T15:25:56+01:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "normal"
}