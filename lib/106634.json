{
  "comments": [
    "the following reported a compile error using\nAspectJ Compiler DEVELOPMENT built on Monday Jun 20, 2005 at 08:14:57 GMT\nbut now crashes using\nAspectJ Compiler DEVELOPMENT built on Wednesday Aug 10, 2005 at 13:12:53 GMT\n\n\nimport java.util.Vector; // works if java.util.* is used\n\npublic class Bug extends Vector { // works if Vector is not extended\n  void test(DoesNotExist argument) {} // works without the argument\n}\n\n\nalso, the bug only appears if the -1.5 flag is used.",
    "update: also fails if \"java.util.*\" is used after all, and the argument type\ndoesn\u0027t have to be non-existent. so, an updated test case would be:\n\n\nimport java.util.*;\n\npublic class Bug extends Vector {\n  void test(Object argument) {}\n}\n\n\najc -1.5 Bug.java\n\n./Bug.java [error] Internal compiler error\njava.lang.IllegalStateException: Undeclared type variable in signature: E\n        at\norg.aspectj.weaver.bcel.BcelGenericSignatureToTypeXConverter.typeVariableSignature2TypeX(BcelGenericSignatureToTypeXConverter.java:203)\n        at\norg.aspectj.weaver.bcel.BcelGenericSignatureToTypeXConverter.fieldTypeSignature2TypeX(BcelGenericSignatureToTypeXConverter.java:120)\n        at\norg.aspectj.weaver.bcel.BcelGenericSignatureToTypeXConverter.typeArgument2TypeX(BcelGenericSignatureToTypeXConverter.java:163)\n        at\norg.aspectj.weaver.bcel.BcelGenericSignatureToTypeXConverter.classTypeSignature2TypeX(BcelGenericSignatureToTypeXConverter.java:75)\n        at\norg.aspectj.weaver.bcel.BcelGenericSignatureToTypeXConverter.classTypeSignature2TypeX(BcelGenericSignatureToTypeXConverter.java:40)\n        at\norg.aspectj.weaver.bcel.BcelObjectType.unpackGenericSignature(BcelObjectType.java:514)",
    "The problem seems to be in unpacking the generic signatures of Vector and its\nsuper types. In particular, Vector extends ArrayList\u003cE\u003e, which  has a nested\ntype Itr\u003cE\u003e. The \"E\" used it ArrayList$Itr\u003cE\u003e comes from the outer type, which\nwe are failing to look in when trying to resolve type parameters.",
    "Fix commited in tree,  will close when available in a published build. Thanks\nfor the clear bug report - we\u0027re making good headway on the generics\nimplementation now and hope to start giving much better service on bug reports\nagain soon.",
    "Dev build is available with fix in, closing this bug"
  ],
  "commentCreationDates": [
    "2005-08-10T17:04:45+02:00",
    "2005-08-10T21:37:05+02:00",
    "2005-08-11T11:24:29+02:00",
    "2005-08-11T12:47:05+02:00",
    "2005-08-18T11:12:51+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalStateException",
      "message": "Undeclared type variable in signature: E",
      "elements": [
        {
          "method": "org.aspectj.weaver.bcel.BcelGenericSignatureToTypeXConverter.typeVariableSignature2TypeX",
          "source": "BcelGenericSignatureToTypeXConverter.java:203"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelGenericSignatureToTypeXConverter.fieldTypeSignature2TypeX",
          "source": "BcelGenericSignatureToTypeXConverter.java:120"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelGenericSignatureToTypeXConverter.typeArgument2TypeX",
          "source": "BcelGenericSignatureToTypeXConverter.java:163"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelGenericSignatureToTypeXConverter.classTypeSignature2TypeX",
          "source": "BcelGenericSignatureToTypeXConverter.java:75"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelGenericSignatureToTypeXConverter.classTypeSignature2TypeX",
          "source": "BcelGenericSignatureToTypeXConverter.java:40"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelObjectType.unpackGenericSignature",
          "source": "BcelObjectType.java:514"
        }
      ],
      "number": 0,
      "commentIndex": 1,
      "bugId": "106634",
      "date": "2005-08-10T21:37:05+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "106634",
  "bugId": "106634",
  "date": "2005-08-10T17:04:45+02:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}