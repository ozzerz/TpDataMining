{
  "comments": [
    "Hi guys!\n\nI didn\u0027t talk to you for a while, but I\u0027ve found several new issues related to generics. Here is the first and the most annoying one:\n\n1) Just compile the testcase with iajc and you will get \"java.lang.IllegalStateException: Wrong number of type parameters supplied\"\n\nJava Code:\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n\npublic interface Generic1\u003cT extends Number\u003e {\n\tpublic void foo(T p);\n}\n\n\npublic interface Generic2\u003cT extends Number, Y extends Number\u003e extends Generic1\u003cT\u003e {\n\tpublic void foo2(Y p);\n}\n\npublic class Test\u003cY extends Number\u003e implements Generic2\u003cY,Y\u003e{\n\tpublic void foo2(Y p) {\n\t}\n\tpublic void foo(Y p) {\n\t}\n}\n\n\nAspect:\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n\npublic privileged aspect TestAspect {\n\tpointcut TestInheritance(Test test) : target(test) \u0026\u0026 execution (* com.mprv.secsph.Generic1.*(..));\n\n\tafter (Test test) : TestInheritance(test) {\n\t\tSystem.out.println(\"GO Aspects!\");\n\t}\n}\n\nException:\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\niajc\nabort trouble in: \npublic class com.mprv.secsph.Test extends java.lang.Object implements com.mprv.secsph.Generic2:\n  public void \u003cinit\u003e():\n                    ALOAD_0     // com.mprv.secsph.Test this   (line 10)\n                    INVOKESPECIAL java.lang.Object.\u003cinit\u003e ()V\n    constructor-execution(void com.mprv.secsph.Test.\u003cinit\u003e())\n    |               RETURN\n    constructor-execution(void com.mprv.secsph.Test.\u003cinit\u003e())\n  end public void \u003cinit\u003e()\n\n  public void foo2(Number)    org.aspectj.weaver.MethodDeclarationLineNumber: 11:259\n:\n                    RETURN   (line 12)\n  end public void foo2(Number)\n\n  public void foo(Number)    org.aspectj.weaver.MethodDeclarationLineNumber: 13:287\n:\n                    RETURN   (line 14)\n  end public void foo(Number)\n\nend public class com.mprv.secsph.Test\n -- (IllegalStateException) Wrong number of type parameters supplied\nWrong number of type parameters supplied\njava.lang.IllegalStateException: Wrong number of type parameters supplied\n\tat org.aspectj.weaver.ResolvedMemberImpl.parameterizedWith(ResolvedMemberImpl.java:609)\n\tat org.aspectj.weaver.ResolvedMemberImpl.parameterizedWith(ResolvedMemberImpl.java:590)\n\tat org.aspectj.weaver.ReferenceType.getDeclaredMethods(ReferenceType.java:472)\n\tat org.aspectj.weaver.ResolvedType.addAndRecurse(ResolvedType.java:262)\n\tat org.aspectj.weaver.ResolvedType.addAndRecurse(ResolvedType.java:301)\n\tat org.aspectj.weaver.ResolvedType.getMethodsWithoutIterator(ResolvedType.java:257)\n\tat org.aspectj.weaver.ResolvedType.lookupResolvedMember(ResolvedType.java:375)\n\tat org.aspectj.weaver.JoinPointSignatureIterator.findSignaturesFromSupertypes(JoinPointSignatureIterator.java:177)\n\tat org.aspectj.weaver.JoinPointSignatureIterator.hasNext(JoinPointSignatureIterator.java:68)\n\tat org.aspectj.weaver.patterns.SignaturePattern.matches(SignaturePattern.java:286)\n\tat org.aspectj.weaver.patterns.KindedPointcut.matchInternal(KindedPointcut.java:106)\n\tat org.aspectj.weaver.patterns.Pointcut.match(Pointcut.java:145)\n\tat org.aspectj.weaver.patterns.AndPointcut.matchInternal(AndPointcut.java:55)\n\tat org.aspectj.weaver.patterns.Pointcut.match(Pointcut.java:145)\n\tat org.aspectj.weaver.patterns.AndPointcut.matchInternal(AndPointcut.java:55)\n\tat org.aspectj.weaver.patterns.Pointcut.match(Pointcut.java:145)\n\tat org.aspectj.weaver.ShadowMunger.match(ShadowMunger.java:64)\n\tat org.aspectj.weaver.Advice.match(Advice.java:109)\n\tat org.aspectj.weaver.bcel.BcelAdvice.match(BcelAdvice.java:104)\n\tat org.aspectj.weaver.bcel.BcelClassWeaver.match(BcelClassWeaver.java:2149)\n\tat org.aspectj.weaver.bcel.BcelClassWeaver.match(BcelClassWeaver.java:1716)\n\tat org.aspectj.weaver.bcel.BcelClassWeaver.weave(BcelClassWeaver.java:458)\n\tat org.aspectj.weaver.bcel.BcelClassWeaver.weave(BcelClassWeaver.java:105)\n\tat org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:1543)\n\tat org.aspectj.weaver.bcel.BcelWeaver.weaveWithoutDump(BcelWeaver.java:1494)\n\tat org.aspectj.weaver.bcel.BcelWeaver.weaveAndNotify(BcelWeaver.java:1275)\n\tat org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:1097)\n\tat org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave(AjCompilerAdapter.java:300)\n\tat org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling(AjCompilerAdapter.java:178)\n\tat org.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$afterReturning$org_aspectj_ajdt_internal_compiler_CompilerAdapter$2$f9cc9ca0(CompilerAdapter.aj:70)\n\tat org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:367)\n\tat org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:819)\n\tat org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:234)\n\tat org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:157)\n\tat org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:112)\n\tat org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:60)\n\tat org.aspectj.tools.ajc.Main.run(Main.java:326)\n\tat org.aspectj.tools.ajc.Main.runMain(Main.java:240)\n\tat org.aspectj.tools.ant.taskdefs.AjcTask.executeInSameVM(AjcTask.java:1254)\n\tat org.aspectj.tools.ant.taskdefs.AjcTask.execute(AjcTask.java:1048)\n\tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n\tat org.apache.tools.ant.Task.perform(Task.java:364)\n\tat org.apache.tools.ant.Target.execute(Target.java:341)\n\tat org.apache.tools.ant.Target.performTasks(Target.java:369)\n\tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)\n\tat org.apache.tools.ant.Project.executeTarget(Project.java:1185)\n\tat org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:40)\n\tat org.apache.tools.ant.Project.executeTargets(Project.java:1068)\n\tat org.apache.tools.ant.Main.runBuild(Main.java:668)\n\tat org.apache.tools.ant.Main.startAnt(Main.java:187)\n\tat org.apache.tools.ant.launch.Launcher.run(Launcher.java:246)\n\tat org.apache.tools.ant.launch.Launcher.main(Launcher.java:67)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat com.intellij.rt.ant.execution.AntMain2.main(AntMain2.java:16)\nwarning at after (Test test) : TestInheritance(test) {\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/root/IdeaProjects/aspectsTest/src/com/mprv/secsph/TestAspect.aj:44:0::0 advice defined in com.mprv.secsph.TestAspect has not been applied [Xlint:adviceDidNotMatch]",
    "fix committed.  Involved the code that sorts out the object hierarchy in ReferenceType taking into account that your super interface may not have the same number of type variables as you do.\n\nwaiting on build.",
    "fix available."
  ],
  "commentCreationDates": [
    "2006-01-22T14:50:51+01:00",
    "2006-01-23T10:46:04+01:00",
    "2006-01-24T11:14:51+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalStateException",
      "message": "Wrong number of type parameters supplied",
      "elements": [
        {
          "method": "org.aspectj.weaver.ResolvedMemberImpl.parameterizedWith",
          "source": "ResolvedMemberImpl.java:609"
        },
        {
          "method": "org.aspectj.weaver.ResolvedMemberImpl.parameterizedWith",
          "source": "ResolvedMemberImpl.java:590"
        },
        {
          "method": "org.aspectj.weaver.ReferenceType.getDeclaredMethods",
          "source": "ReferenceType.java:472"
        },
        {
          "method": "org.aspectj.weaver.ResolvedType.addAndRecurse",
          "source": "ResolvedType.java:262"
        },
        {
          "method": "org.aspectj.weaver.ResolvedType.addAndRecurse",
          "source": "ResolvedType.java:301"
        },
        {
          "method": "org.aspectj.weaver.ResolvedType.getMethodsWithoutIterator",
          "source": "ResolvedType.java:257"
        },
        {
          "method": "org.aspectj.weaver.ResolvedType.lookupResolvedMember",
          "source": "ResolvedType.java:375"
        },
        {
          "method": "org.aspectj.weaver.JoinPointSignatureIterator.findSignaturesFromSupertypes",
          "source": "JoinPointSignatureIterator.java:177"
        },
        {
          "method": "org.aspectj.weaver.JoinPointSignatureIterator.hasNext",
          "source": "JoinPointSignatureIterator.java:68"
        },
        {
          "method": "org.aspectj.weaver.patterns.SignaturePattern.matches",
          "source": "SignaturePattern.java:286"
        },
        {
          "method": "org.aspectj.weaver.patterns.KindedPointcut.matchInternal",
          "source": "KindedPointcut.java:106"
        },
        {
          "method": "org.aspectj.weaver.patterns.Pointcut.match",
          "source": "Pointcut.java:145"
        },
        {
          "method": "org.aspectj.weaver.patterns.AndPointcut.matchInternal",
          "source": "AndPointcut.java:55"
        },
        {
          "method": "org.aspectj.weaver.patterns.Pointcut.match",
          "source": "Pointcut.java:145"
        },
        {
          "method": "org.aspectj.weaver.patterns.AndPointcut.matchInternal",
          "source": "AndPointcut.java:55"
        },
        {
          "method": "org.aspectj.weaver.patterns.Pointcut.match",
          "source": "Pointcut.java:145"
        },
        {
          "method": "org.aspectj.weaver.ShadowMunger.match",
          "source": "ShadowMunger.java:64"
        },
        {
          "method": "org.aspectj.weaver.Advice.match",
          "source": "Advice.java:109"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelAdvice.match",
          "source": "BcelAdvice.java:104"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.match",
          "source": "BcelClassWeaver.java:2149"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.match",
          "source": "BcelClassWeaver.java:1716"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.weave",
          "source": "BcelClassWeaver.java:458"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.weave",
          "source": "BcelClassWeaver.java:105"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weave",
          "source": "BcelWeaver.java:1543"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveWithoutDump",
          "source": "BcelWeaver.java:1494"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveAndNotify",
          "source": "BcelWeaver.java:1275"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weave",
          "source": "BcelWeaver.java:1097"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave",
          "source": "AjCompilerAdapter.java:300"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling",
          "source": "AjCompilerAdapter.java:178"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$afterReturning$org_aspectj_ajdt_internal_compiler_CompilerAdapter$2$f9cc9ca0",
          "source": "CompilerAdapter.aj:70"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:367"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:819"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:234"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBuildManager.java:157"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.doCommand",
          "source": "AjdtCommand.java:112"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.runCommand",
          "source": "AjdtCommand.java:60"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.run",
          "source": "Main.java:326"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.runMain",
          "source": "Main.java:240"
        },
        {
          "method": "org.aspectj.tools.ant.taskdefs.AjcTask.executeInSameVM",
          "source": "AjcTask.java:1254"
        },
        {
          "method": "org.aspectj.tools.ant.taskdefs.AjcTask.execute",
          "source": "AjcTask.java:1048"
        },
        {
          "method": "org.apache.tools.ant.UnknownElement.execute",
          "source": "UnknownElement.java:275"
        },
        {
          "method": "org.apache.tools.ant.Task.perform",
          "source": "Task.java:364"
        },
        {
          "method": "org.apache.tools.ant.Target.execute",
          "source": "Target.java:341"
        },
        {
          "method": "org.apache.tools.ant.Target.performTasks",
          "source": "Target.java:369"
        },
        {
          "method": "org.apache.tools.ant.Project.executeSortedTargets",
          "source": "Project.java:1216"
        },
        {
          "method": "org.apache.tools.ant.Project.executeTarget",
          "source": "Project.java:1185"
        },
        {
          "method": "org.apache.tools.ant.helper.DefaultExecutor.executeTargets",
          "source": "DefaultExecutor.java:40"
        },
        {
          "method": "org.apache.tools.ant.Project.executeTargets",
          "source": "Project.java:1068"
        },
        {
          "method": "org.apache.tools.ant.Main.runBuild",
          "source": "Main.java:668"
        },
        {
          "method": "org.apache.tools.ant.Main.startAnt",
          "source": "Main.java:187"
        },
        {
          "method": "org.apache.tools.ant.launch.Launcher.run",
          "source": "Launcher.java:246"
        },
        {
          "method": "org.apache.tools.ant.launch.Launcher.main",
          "source": "Launcher.java:67"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "com.intellij.rt.ant.execution.AntMain2.main",
          "source": "AntMain2.java:16"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "124803",
      "date": "2006-01-22T14:50:51+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "critical"
    }
  ],
  "groupId": "124803",
  "bugId": "124803",
  "date": "2006-01-22T14:50:51+01:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "critical"
}