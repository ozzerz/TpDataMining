{
  "comments": [
    "Opening an XML file\nOccured only once under heavy load\nRace condition ?\n\njava.lang.NullPointerException\n\tat org.eclipse.ui.texteditor.AbstractTextEditor.getAction(AbstractTextEditor.java:4026)\n\tat org.eclipse.wst.xml.ui.internal.tabletree.XMLTableTreeActionBarContributor.getAction(XMLTableTreeActionBarContributor.java:210)\n\tat org.eclipse.wst.xml.ui.internal.tabletree.XMLTableTreeActionBarContributor.setActiveEditor(XMLTableTreeActionBarContributor.java:198)\n\tat org.eclipse.wst.xml.ui.internal.tabletree.XMLMultiPageEditorActionBarContributor.activateSourcePage(XMLMultiPageEditorActionBarContributor.java:54)\n\tat org.eclipse.wst.xml.ui.internal.tabletree.SourceEditorActionBarContributor.setActivePage(SourceEditorActionBarContributor.java:168)\n\tat org.eclipse.ui.part.MultiPageEditorPart.pageChange(MultiPageEditorPart.java:580)\n\tat org.eclipse.wst.xml.ui.internal.tabletree.XMLMultiPageEditorPart.pageChange(XMLMultiPageEditorPart.java:739)\n\tat org.eclipse.ui.part.MultiPageEditorPart.setActivePage(MultiPageEditorPart.java:670)\n\tat org.eclipse.wst.xml.ui.internal.tabletree.XMLMultiPageEditorPart.createPages(XMLMultiPageEditorPart.java:509)\n\tat org.eclipse.ui.part.MultiPageEditorPart.createPartControl(MultiPageEditorPart.java:272)\n\tat org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:591)\n\tat org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:367)\n\tat org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:555)\n\tat org.eclipse.ui.internal.EditorReference.getEditor(EditorReference.java:212)\n\tat org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched(WorkbenchPage.java:2392)\n\tat org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2325)\n\tat org.eclipse.ui.internal.WorkbenchPage.access$10(WorkbenchPage.java:2317)\n\tat org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:2303)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2298)\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2283)\n\tat org.eclipse.ui.ide.IDE.openEditor(IDE.java:384)\n\tat org.eclipse.ui.ide.IDE.openEditor(IDE.java:347)\n\tat org.eclipse.ui.internal.ide.handlers.OpenResourceHandler.execute(OpenResourceHandler.java:112)\n\tat org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:151)\n\tat org.eclipse.core.commands.Command.executeWithChecks(Command.java:460)\n\tat org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:421)\n\tat org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:160)\n\tat org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:466)\n\tat org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:798)\n\tat org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:845)\n\tat org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:563)\n\tat org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:506)\n\tat org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:122)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Display.filterEvent(Display.java:1336)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1073)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1098)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1083)\n\tat org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1110)\n\tat org.eclipse.swt.widgets.Widget.gtk_key_press_event(Widget.java:652)\n\tat org.eclipse.swt.widgets.Control.gtk_key_press_event(Control.java:2045)\n\tat org.eclipse.swt.widgets.Composite.gtk_key_press_event(Composite.java:608)\n\tat org.eclipse.swt.widgets.Widget.windowProc(Widget.java:1423)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:3790)\n\tat org.eclipse.swt.internal.gtk.OS._gtk_main_do_event(Native Method)\n\tat org.eclipse.swt.internal.gtk.OS.gtk_main_do_event(OS.java:5162)\n\tat org.eclipse.swt.widgets.Display.eventProc(Display.java:1128)\n\tat org.eclipse.swt.internal.gtk.OS._g_main_context_iteration(Native Method)\n\tat org.eclipse.swt.internal.gtk.OS.g_main_context_iteration(OS.java:1407)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2836)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1899)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1863)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:417)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:99)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:374)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:282)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)",
    "In examing the code, there is nothing that could *possibly* be null, except for \nfActions variable. While this variable is initialized to to a hashmap, it is set to null in the \u0027dispose\u0027 method.  So, I\u0027m guessing in the case of our two page XML Editor, under heavy load, some part of the editor is closed/closing before the openeditor is completely finished (and, as part of the opening, we do \"change pages\" according to a preference setting ... if that is maybe a path not as well thread protected)? \n\nI will pass on to the text componet for comment. \n\nDani, do you think fActions should be better protected? Or, I\u0027d guess ... at some higher level? \n\nAlso, please note, according to the 0,7 in \u0027version\u0027 field in this bugzilla, this would be on the Eclipse 3.1 stream, though this code in the top of the stack trace appears to be the same in both streams 3.1 and 3.2. \n\nI am marking as low priority (if it leaves it as \u00274\u0027 when changing components) since this appears to be very rare failure and perhaps should just be taken as input for future improved thread protection? \n\n ",
    "Similar problems have been reported in bug 30913 and bug 54300.",
    "David, could you reproduce this?",
    "No, I have not seen (but also have no good tests for \"under heavy load\" ... and not exaclty sure what that means, from originators point of view .. I guess just lots of CPU/UI use). \n\n\n\n",
    "In reply of above, a few precisions :\n- It\u0027s a 3.2m5a + callito plugins + subversive plugin set environment\n- I think I hadn\u0027t any allready opened xml file at the time I tried to open this one\n- Eavy load indeed means : lot of CPU, nearly all RAM (compiling in the background)",
    "\nDaniel, can you suggest a slot for me to place this on the Platform UI side ?(I\u0027m a little confused about how it ended up here...)\n",
    "Hi Eric, hard to tell. The problem seems to be part (de-)activation happening on already disposed parts.",
    "Sorry but it is not under Platform Text\u0027s control when a disposed editor gets activated.\n\nThere are only two possibilities for the NPE:\n1) VM/JIT bug\n2) disposed editor gets activated",
    "*** Bug 139173 has been marked as a duplicate of this bug. ***",
    "*** Bug 142000 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2006-03-29T16:35:01+02:00",
    "2006-03-31T06:10:46+02:00",
    "2006-03-31T07:36:53+02:00",
    "2006-03-31T07:37:59+02:00",
    "2006-03-31T07:48:05+02:00",
    "2006-03-31T08:14:50+02:00",
    "2006-03-31T17:32:28+02:00",
    "2006-03-31T22:58:43+02:00",
    "2006-04-08T11:32:28+02:00",
    "2006-04-28T16:52:49+02:00",
    "2006-05-16T16:40:16+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor.getAction",
          "source": "AbstractTextEditor.java:4026"
        },
        {
          "method": "org.eclipse.wst.xml.ui.internal.tabletree.XMLTableTreeActionBarContributor.getAction",
          "source": "XMLTableTreeActionBarContributor.java:210"
        },
        {
          "method": "org.eclipse.wst.xml.ui.internal.tabletree.XMLTableTreeActionBarContributor.setActiveEditor",
          "source": "XMLTableTreeActionBarContributor.java:198"
        },
        {
          "method": "org.eclipse.wst.xml.ui.internal.tabletree.XMLMultiPageEditorActionBarContributor.activateSourcePage",
          "source": "XMLMultiPageEditorActionBarContributor.java:54"
        },
        {
          "method": "org.eclipse.wst.xml.ui.internal.tabletree.SourceEditorActionBarContributor.setActivePage",
          "source": "SourceEditorActionBarContributor.java:168"
        },
        {
          "method": "org.eclipse.ui.part.MultiPageEditorPart.pageChange",
          "source": "MultiPageEditorPart.java:580"
        },
        {
          "method": "org.eclipse.wst.xml.ui.internal.tabletree.XMLMultiPageEditorPart.pageChange",
          "source": "XMLMultiPageEditorPart.java:739"
        },
        {
          "method": "org.eclipse.ui.part.MultiPageEditorPart.setActivePage",
          "source": "MultiPageEditorPart.java:670"
        },
        {
          "method": "org.eclipse.wst.xml.ui.internal.tabletree.XMLMultiPageEditorPart.createPages",
          "source": "XMLMultiPageEditorPart.java:509"
        },
        {
          "method": "org.eclipse.ui.part.MultiPageEditorPart.createPartControl",
          "source": "MultiPageEditorPart.java:272"
        },
        {
          "method": "org.eclipse.ui.internal.EditorReference.createPartHelper",
          "source": "EditorReference.java:591"
        },
        {
          "method": "org.eclipse.ui.internal.EditorReference.createPart",
          "source": "EditorReference.java:367"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPartReference.getPart",
          "source": "WorkbenchPartReference.java:555"
        },
        {
          "method": "org.eclipse.ui.internal.EditorReference.getEditor",
          "source": "EditorReference.java:212"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched",
          "source": "WorkbenchPage.java:2392"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor",
          "source": "WorkbenchPage.java:2325"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.access$10",
          "source": "WorkbenchPage.java:2317"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$9.run",
          "source": "WorkbenchPage.java:2303"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:2298"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:2283"
        },
        {
          "method": "org.eclipse.ui.ide.IDE.openEditor",
          "source": "IDE.java:384"
        },
        {
          "method": "org.eclipse.ui.ide.IDE.openEditor",
          "source": "IDE.java:347"
        },
        {
          "method": "org.eclipse.ui.internal.ide.handlers.OpenResourceHandler.execute",
          "source": "OpenResourceHandler.java:112"
        },
        {
          "method": "org.eclipse.ui.internal.handlers.HandlerProxy.execute",
          "source": "HandlerProxy.java:151"
        },
        {
          "method": "org.eclipse.core.commands.Command.executeWithChecks",
          "source": "Command.java:460"
        },
        {
          "method": "org.eclipse.core.commands.ParameterizedCommand.executeWithChecks",
          "source": "ParameterizedCommand.java:421"
        },
        {
          "method": "org.eclipse.ui.internal.handlers.HandlerService.executeCommand",
          "source": "HandlerService.java:160"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand",
          "source": "WorkbenchKeyboard.java:466"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.press",
          "source": "WorkbenchKeyboard.java:798"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent",
          "source": "WorkbenchKeyboard.java:845"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings",
          "source": "WorkbenchKeyboard.java:563"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3",
          "source": "WorkbenchKeyboard.java:506"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent",
          "source": "WorkbenchKeyboard.java:122"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.filterEvent",
          "source": "Display.java:1336"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1073"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1098"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1083"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendKeyEvent",
          "source": "Widget.java:1110"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.gtk_key_press_event",
          "source": "Widget.java:652"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.gtk_key_press_event",
          "source": "Control.java:2045"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.gtk_key_press_event",
          "source": "Composite.java:608"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.windowProc",
          "source": "Widget.java:1423"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:3790"
        },
        {
          "method": "org.eclipse.swt.internal.gtk.OS._gtk_main_do_event",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.gtk.OS.gtk_main_do_event",
          "source": "OS.java:5162"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.eventProc",
          "source": "Display.java:1128"
        },
        {
          "method": "org.eclipse.swt.internal.gtk.OS._g_main_context_iteration",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.gtk.OS.g_main_context_iteration",
          "source": "OS.java:1407"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2836"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1899"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1863"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:417"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:99"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:374"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:169"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:338"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:282"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "133855",
      "date": "2006-03-29T16:35:01+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "133855",
  "bugId": "133855",
  "date": "2006-03-29T16:35:01+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}