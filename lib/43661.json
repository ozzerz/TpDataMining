{
  "comments": [
    "The following exceptions occured when I removed a breakpoint while debugging \nan Eclipse runtime:\n\n!MESSAGE Internal error logged from JDI Debug: \n!STACK 1\norg.eclipse.debug.core.DebugException: Breakpoint does not have an associated \nmarker.\n\tat org.eclipse.debug.core.model.Breakpoint.ensureMarker\n(Breakpoint.java:258)\n\tat \norg.eclipse.jdt.internal.debug.core.breakpoints.JavaLineBreakpoint.isConditionS\nuspendOnTrue(JavaLineBreakpoint.java:668)\n\tat \norg.eclipse.jdt.internal.debug.core.breakpoints.JavaLineBreakpoint$EvaluationLi\nstener.evaluationComplete(JavaLineBreakpoint.java:511)\n\tat \norg.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$EvalRunnable\n.evaluationFinished(ASTEvaluationEngine.java:367)\n\tat \norg.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$EvalRunnable\n.run(ASTEvaluationEngine.java:362)\n\tat org.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run\n(JDIThread.java:2487)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:61)\n!ENTRY org.eclipse.debug.core 4 5012 Sep 25, 2003 11:20:09.421\n!MESSAGE Breakpoint does not have an associated marker.\n!ENTRY org.eclipse.jdt.debug 4 120 Sep 25, 2003 11:20:09.436\n!MESSAGE Internal error logged from JDI Debug: \n!STACK 0\njava.lang.NullPointerException\n\tat \norg.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.expireHitCount\n(JavaBreakpoint.java:338)\n\tat \norg.eclipse.jdt.internal.debug.core.breakpoints.JavaLineBreakpoint.suspendForEv\nent(JavaLineBreakpoint.java:393)\n\tat \norg.eclipse.jdt.internal.debug.core.breakpoints.JavaLineBreakpoint$EvaluationLi\nstener.evaluationComplete(JavaLineBreakpoint.java:546)\n\tat \norg.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$EvalRunnable\n.evaluationFinished(ASTEvaluationEngine.java:367)\n\tat \norg.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$EvalRunnable\n.run(ASTEvaluationEngine.java:362)\n\tat org.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run\n(JDIThread.java:2487)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:61)\n!ENTRY org.eclipse.jdt.debug.ui 4 150 Sep 25, 2003 11:20:29.734\n!MESSAGE Internal Error\n!STACK 1\norg.eclipse.debug.core.DebugException: Breakpoint does not have an associated \nmarker.\n\tat org.eclipse.debug.core.model.Breakpoint.ensureMarker\n(Breakpoint.java:258)\n\tat \norg.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.getTypeName\n(JavaBreakpoint.java:734)\n\tat \norg.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getMarkerTypeName\n(JDIModelPresentation.java:604)\n\tat org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getThreadText\n(JDIModelPresentation.java:311)\n\tat org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getText\n(JDIModelPresentation.java:224)\n\tat org.eclipse.debug.internal.ui.LazyModelPresentation.getText\n(LazyModelPresentation.java:121)\n\tat org.eclipse.debug.internal.ui.DelegatingModelPresentation.getText\n(DelegatingModelPresentation.java:181)\n\tat org.eclipse.jface.viewers.TreeViewer.doUpdateItem\n(TreeViewer.java:95)\n\tat \norg.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run\n(AbstractTreeViewer.java:77)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:1034)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:432)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem\n(AbstractTreeViewer.java:441)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh\n(AbstractTreeViewer.java:1000)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh\n(AbstractTreeViewer.java:970)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh\n(AbstractTreeViewer.java:958)\n\tat org.eclipse.jface.viewers.StructuredViewer$7.run\n(StructuredViewer.java:856)\n\tat org.eclipse.jface.viewers.StructuredViewer.preservingSelection\n(StructuredViewer.java:796)\n\tat org.eclipse.jface.viewers.StructuredViewer.refresh\n(StructuredViewer.java:854)\n\tat org.eclipse.debug.internal.ui.views.launch.LaunchViewer.refresh\n(LaunchViewer.java:82)\n\tat org.eclipse.debug.internal.ui.views.launch.LaunchView.autoExpand\n(LaunchView.java:961)\n\tat \norg.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleSuspe\nndThreadEvent(LaunchViewEventHandler.java:230)\n\tat \norg.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleSuspe\nndEvent(LaunchViewEventHandler.java:180)\n\tat \norg.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleDebug\nEvents(LaunchViewEventHandler.java:103)\n\tat org.eclipse.debug.internal.ui.views.AbstractDebugEventHandler$1.run\n(AbstractDebugEventHandler.java:70)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages\n(Synchronizer.java:102)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2149)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1866)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2064)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:2047)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:858)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:298)\n\tat org.eclipse.core.launcher.Main.run(Main.java:764)\n\tat org.eclipse.core.launcher.Main.main(Main.java:598)\n!ENTRY org.eclipse.debug.core 4 5012 Sep 25, 2003 11:20:29.734\n!MESSAGE Breakpoint does not have an associated marker.",
    "Forgot to mention the build: I20030925",
    "Hmmm. Looks like your were suspended/stepping at a breakpoint that you were \nremoving (and also evaluating a condition on). It looks \"hard to acheive\". Can \nyou reproduce it reliably?",
    "Yes, I was possibly suspending at that exact time. I will try to reproduce it.",
    "Released a fix for the NPE. Instead of just putting the fix in the \nEvaluationListener, I decided to protect against null in the expireHitCount \nmethod to avoid this problem from other callers.\n\nWe already handle the missing marker gracefully.\n\nPlease verify change to JavaBreakpoint, DarinW.",
    "Jared, I see that the fix avoids the NPE, but why was the event \"null\" in the \nfirst place. I did not see how that could happen?",
    "Sorry, I should have explained. In this case, the event comes from a map which \nstores a cache of events per thread. The event will be null when the cache \ncontains no event for the thread in question. The cache will contain no event \nfor the thread in question if the breakpoint has been removed from the target \n(via JavaLineBreakpoint#removeFromTarget(JDIDebugTarget)).\n\nThis fits right in with our understanding of the stack trace which shows that \nthe marker has been deleted. Seems Michael got really lucky and removed a \nconditional breakpoint while the condition was evaluating. When the evaluation \nfinished, the marker was gone and the event cache had been cleared.",
    "Verified."
  ],
  "commentCreationDates": [
    "2003-09-25T17:25:47+02:00",
    "2003-09-25T17:26:11+02:00",
    "2003-09-25T17:29:51+02:00",
    "2003-09-25T18:00:17+02:00",
    "2003-09-25T18:59:38+02:00",
    "2003-09-26T04:33:36+02:00",
    "2003-09-26T07:18:18+02:00",
    "2003-09-26T17:57:33+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.debug.core.DebugException",
      "message": "Breakpoint does not have an associated  marker.",
      "elements": [
        {
          "method": "org.eclipse.debug.core.model.Breakpoint.ensureMarker",
          "source": "Breakpoint.java:258"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.breakpoints.JavaLineBreakpoint.isConditionSuspendOnTrue",
          "source": "JavaLineBreakpoint.java:668"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.breakpoints.JavaLineBreakpoint$EvaluationListener.evaluationComplete",
          "source": "JavaLineBreakpoint.java:511"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$EvalRunnable.evaluationFinished",
          "source": "ASTEvaluationEngine.java:367"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$EvalRunnable.run",
          "source": "ASTEvaluationEngine.java:362"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run",
          "source": "JDIThread.java:2487"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:61"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "43661",
      "date": "2003-09-25T17:25:47+02:00",
      "product": "Platform",
      "component": "Debug",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.expireHitCount",
          "source": "JavaBreakpoint.java:338"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.breakpoints.JavaLineBreakpoint.suspendForEvent",
          "source": "JavaLineBreakpoint.java:393"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.breakpoints.JavaLineBreakpoint$EvaluationListener.evaluationComplete",
          "source": "JavaLineBreakpoint.java:546"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$EvalRunnable.evaluationFinished",
          "source": "ASTEvaluationEngine.java:367"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$EvalRunnable.run",
          "source": "ASTEvaluationEngine.java:362"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run",
          "source": "JDIThread.java:2487"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:61"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "43661",
      "date": "2003-09-25T17:25:47+02:00",
      "product": "Platform",
      "component": "Debug",
      "severity": "normal"
    },
    {
      "exceptionType": "org.eclipse.debug.core.DebugException",
      "message": "Breakpoint does not have an associated  marker.",
      "elements": [
        {
          "method": "org.eclipse.debug.core.model.Breakpoint.ensureMarker",
          "source": "Breakpoint.java:258"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.getTypeName",
          "source": "JavaBreakpoint.java:734"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getMarkerTypeName",
          "source": "JDIModelPresentation.java:604"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getThreadText",
          "source": "JDIModelPresentation.java:311"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getText",
          "source": "JDIModelPresentation.java:224"
        },
        {
          "method": "org.eclipse.debug.internal.ui.LazyModelPresentation.getText",
          "source": "LazyModelPresentation.java:121"
        },
        {
          "method": "org.eclipse.debug.internal.ui.DelegatingModelPresentation.getText",
          "source": "DelegatingModelPresentation.java:181"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.doUpdateItem",
          "source": "TreeViewer.java:95"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run",
          "source": "AbstractTreeViewer.java:77"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1034"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:432"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem",
          "source": "AbstractTreeViewer.java:441"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh",
          "source": "AbstractTreeViewer.java:1000"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh",
          "source": "AbstractTreeViewer.java:970"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh",
          "source": "AbstractTreeViewer.java:958"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$7.run",
          "source": "StructuredViewer.java:856"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.preservingSelection",
          "source": "StructuredViewer.java:796"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.refresh",
          "source": "StructuredViewer.java:854"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchViewer.refresh",
          "source": "LaunchViewer.java:82"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchView.autoExpand",
          "source": "LaunchView.java:961"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleSuspendThreadEvent",
          "source": "LaunchViewEventHandler.java:230"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleSuspendEvent",
          "source": "LaunchViewEventHandler.java:180"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleDebugEvents",
          "source": "LaunchViewEventHandler.java:103"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.AbstractDebugEventHandler$1.run",
          "source": "AbstractDebugEventHandler.java:70"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:102"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:2149"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1866"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2064"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:2047"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:858"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:298"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:764"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:598"
        }
      ],
      "number": 2,
      "commentIndex": 0,
      "bugId": "43661",
      "date": "2003-09-25T17:25:47+02:00",
      "product": "Platform",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "43661",
  "bugId": "43661",
  "date": "2003-09-25T17:25:47+02:00",
  "product": "Platform",
  "component": "Debug",
  "severity": "normal"
}