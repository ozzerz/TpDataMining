{
  "comments": [
    "I have a simple wsdl which has a relative import to an xsd in the same directory in my workspace (e.g. /wsdl/test.wsdl and /wsdl/test.xsd).  I then try to generate a web service using this wsdl.  In the service definition field, I type in the url as \"platform:/resource/wsdl/test.wsdl\".  When I click finish, I get the error included below. Note that if my wsdl does not have the import, I have no problems generating a service using platform urls.\n\nIWAB0399E Error in generating Java from WSDL:  WSDLException (at /wsdl:definitions/wsdl:types/schema): faultCode\u003dOTHER_ERROR: An error occurred trying to resolve schema referenced at \u0027./test.xsd\u0027, relative to \u0027platform:/resource/wsdl/test.wsdl\u0027.: no content-type: java.net.UnknownServiceException: no content-type\n\tat java.net.URLConnection.getContentHandler(URLConnection.java:1179)\n\tat java.net.URLConnection.getContent(URLConnection.java:695)\n\tat java.net.URL.getContent(URL.java:1055)\n\tat com.ibm.wsdl.util.StringUtils.getContentAsInputStream(Unknown Source)\n\tat com.ibm.wsdl.xml.WSDLReaderImpl.parseSchema(Unknown Source)\n\tat com.ibm.wsdl.xml.WSDLReaderImpl.parseSchema(Unknown Source)\n\tat com.ibm.wsdl.xml.WSDLReaderImpl.parseTypes(Unknown Source)\n\tat com.ibm.wsdl.xml.WSDLReaderImpl.parseDefinitions(Unknown Source)\n\tat com.ibm.wsdl.xml.WSDLReaderImpl.readWSDL(Unknown Source)\n\tat com.ibm.wsdl.xml.WSDLReaderImpl.readWSDL(Unknown Source)\n\tat com.ibm.wsdl.xml.WSDLReaderImpl.readWSDL(Unknown Source)\n\tat org.apache.axis.wsdl.symbolTable.SymbolTable.populate(SymbolTable.java:516)\n\tat org.apache.axis.wsdl.symbolTable.SymbolTable.populate(SymbolTable.java:495)\n\tat org.apache.axis.wsdl.gen.Parser$WSDLRunnable.run(Parser.java:361)\n\tat java.lang.Thread.run(Thread.java:799)",
    "Either the WSDL model shouldn\u0027t be trying to get specific content and should instead just open a stream, or the platform stream handler needs to provide a \"content-type\" field in its implementation. Otherwise, we\u0027d pretty much need to catch the exception, convert the platform: URI to a file: URI, and try again; which seems kindof ugly.\n\nIt doesn\u0027t seem reasonable for us to deny third party components the right to call URL.getContent(), therefore, I think we should look into Eclipse\u0027s Platform URI handler to see if it could be beefed up.\n\nIs this happening when you launch the Top-down wizard from a WSDL document selected in the workspace, or did you have to specifically hand-enter a platform: URI into the WSDL entry field to make the wizard explode?\n\nPeter,\nthis sort of thing is right up your alley.",
    "I specifically hand entered the platform URI.  And something else, I can reproduce this error with http url to a wsdl hosted on a Tomcat Server, but the same wsdl hosted a WebSphere server was ok (seems like Tomcat is not returning with a content-type header).",
    "Andrew,\nTomcat comes with several precanned mappings of file extensions to mime content types, but WSDL isn\u0027t one of them, and Tomcat only fills in the content-type field if it finds a mapping. Have a look at Tomcat\u0027s conf/web.xml file."
  ],
  "commentCreationDates": [
    "2007-01-25T15:46:20+01:00",
    "2007-01-26T15:32:09+01:00",
    "2007-01-26T16:26:19+01:00",
    "2007-01-26T22:08:58+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.net.UnknownServiceException",
      "message": "no content-type",
      "elements": [
        {
          "method": "java.net.URLConnection.getContentHandler",
          "source": "URLConnection.java:1179"
        },
        {
          "method": "java.net.URLConnection.getContent",
          "source": "URLConnection.java:695"
        },
        {
          "method": "java.net.URL.getContent",
          "source": "URL.java:1055"
        },
        {
          "method": "com.ibm.wsdl.util.StringUtils.getContentAsInputStream",
          "source": "Unknown Source"
        },
        {
          "method": "com.ibm.wsdl.xml.WSDLReaderImpl.parseSchema",
          "source": "Unknown Source"
        },
        {
          "method": "com.ibm.wsdl.xml.WSDLReaderImpl.parseSchema",
          "source": "Unknown Source"
        },
        {
          "method": "com.ibm.wsdl.xml.WSDLReaderImpl.parseTypes",
          "source": "Unknown Source"
        },
        {
          "method": "com.ibm.wsdl.xml.WSDLReaderImpl.parseDefinitions",
          "source": "Unknown Source"
        },
        {
          "method": "com.ibm.wsdl.xml.WSDLReaderImpl.readWSDL",
          "source": "Unknown Source"
        },
        {
          "method": "com.ibm.wsdl.xml.WSDLReaderImpl.readWSDL",
          "source": "Unknown Source"
        },
        {
          "method": "com.ibm.wsdl.xml.WSDLReaderImpl.readWSDL",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.axis.wsdl.symbolTable.SymbolTable.populate",
          "source": "SymbolTable.java:516"
        },
        {
          "method": "org.apache.axis.wsdl.symbolTable.SymbolTable.populate",
          "source": "SymbolTable.java:495"
        },
        {
          "method": "org.apache.axis.wsdl.gen.Parser$WSDLRunnable.run",
          "source": "Parser.java:361"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:799"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "171686",
      "date": "2007-01-25T15:46:20+01:00",
      "product": "Web Tools",
      "component": "jst.ws",
      "severity": "minor"
    }
  ],
  "groupId": "171686",
  "bugId": "171686",
  "date": "2007-01-25T15:46:20+01:00",
  "product": "Web Tools",
  "component": "jst.ws",
  "severity": "minor"
}