{
  "comments": [
    "When the Clearcase plugin made by Rational is connected to the Clearcase \nserver, and files are checked out, then upon closing Eclipse a dialog used to \ncome up asking whether I want to checkin any files currently checked out.\n\nIt WAS working in Eclipe 3.0M8 (with the Xerces plugin copied over from M7 and \nClearcase dependency on Xerces plugin version bumped up to 4.0.13 in the \nClearcase plugin).\n\nIn 3.0 it is broken, it throws two exceptions in the log, both at the same line \nin the same class: \njava.lang.NullPointerException\n\tat com.rational.clearcase.RSCMService.onDemandCheckIn\n(RSCMService.java:1694)\n        ...\n\nThat line is the following, according to JAD:\n\n  elementselectiondialog \u003d \n    new ElementSelectionDialog(\n       Display.getCurrent().getActiveShell(), \n       unitstatuscache, byte0, \n       ResourceClass.GetResourceString\n(\"elementSelectionDialog.Check_In_Elements\"), \n       false);\n\nI guess Display.getCurrent() returns null in this case.\n\nIt was working in 3.0M8 (other things were not).\n\nThe entire exception is the following:\n\n!SESSION Jun 28, 2004 19:57:18.901 ---------------------------------------------\neclipse.buildId\u003dI200406251208\njava.version\u003d1.4.2_04\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_US\n\n!ENTRY org.eclipse.core.runtime 4 2 Jun 28, 2004 19:57:18.901\n!MESSAGE Problems occurred when invoking code from plug-\nin: \"org.eclipse.core.runtime\".\n!STACK 0\njava.lang.NullPointerException\n\tat com.rational.clearcase.RSCMService.onDemandCheckIn\n(RSCMService.java:1694)\n\tat com.rational.clearcase.RSCMService.onDemand(RSCMService.java:1574)\n\tat com.rational.clearcase.RSCMService.onWorkspaceSave\n(RSCMService.java:2003)\n\tat com.rational.clearcase.ClearCasePlugin.prepareToSave\n(ClearCasePlugin.java:407)\n\tat org.eclipse.core.internal.resources.SaveManager.executeLifecycle\n(SaveManager.java:305)\n\tat org.eclipse.core.internal.resources.SaveManager$1.run\n(SaveManager.java:129)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:615)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:747)\n\tat org.eclipse.core.internal.resources.SaveManager.broadcastLifecycle\n(SaveManager.java:141)\n\tat org.eclipse.core.internal.resources.SaveManager.save\n(SaveManager.java:1321)\n\tat org.eclipse.core.internal.resources.Workspace.save\n(Workspace.java:1707)\n\tat org.eclipse.ui.internal.ide.IDEWorkbenchAdvisor$5.run\n(IDEWorkbenchAdvisor.java:468)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run\n(ModalContext.java:101)\n\n!ENTRY org.eclipse.ui.ide 4 4 Jun 28, 2004 19:57:21.589\n!MESSAGE Problems saving workspace\n\n!ENTRY org.eclipse.ui.ide 2 1 Jun 28, 2004 19:57:21.589\n!MESSAGE Problems occurred while trying to save the state of the workbench.\n!SUBENTRY 1 org.eclipse.core.resources 2 566 Jun 28, 2004 19:57:21.589\n!MESSAGE Problems occurred during save.\n!STACK 0\njava.lang.NullPointerException\n\tat com.rational.clearcase.RSCMService.onDemandCheckIn\n(RSCMService.java:1694)\n\tat com.rational.clearcase.RSCMService.onDemand(RSCMService.java:1574)\n\tat com.rational.clearcase.RSCMService.onWorkspaceSave\n(RSCMService.java:2003)\n\tat com.rational.clearcase.ClearCasePlugin.prepareToSave\n(ClearCasePlugin.java:407)\n\tat org.eclipse.core.internal.resources.SaveManager.executeLifecycle\n(SaveManager.java:305)\n\tat org.eclipse.core.internal.resources.SaveManager$1.run\n(SaveManager.java:129)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:615)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:747)\n\tat org.eclipse.core.internal.resources.SaveManager.broadcastLifecycle\n(SaveManager.java:141)\n\tat org.eclipse.core.internal.resources.SaveManager.save\n(SaveManager.java:1321)\n\tat org.eclipse.core.internal.resources.Workspace.save\n(Workspace.java:1707)\n\tat org.eclipse.ui.internal.ide.IDEWorkbenchAdvisor$5.run\n(IDEWorkbenchAdvisor.java:468)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run\n(ModalContext.java:101)\n\nThose are the only exceptions in the log for this Eclipse session.",
    "Display.getCurrent() is spec\u0027d to be able to return null.  It appears that your\ncode is running during shutdown and this is after the display is disposed.  Have\nyou considered writing this as a background job that will be handled by the UI?\n The same as a workspace build will open a dialog on exit and give the user an\nopportunity to cancel it and finish the exit right away?  \n\nI\u0027m marking this as INVALID, but plesae if you have a clearer example of how\nEclipse has changed in some unexpected way to introduce this reopen this bug.",
    "It is not my code, it is the Rational Clearcase plugin.\n\nAnyway, they have fixed this bug by now in the plugin, so it can remain as it is."
  ],
  "commentCreationDates": [
    "2004-06-28T21:03:13+02:00",
    "2005-05-17T15:00:36+02:00",
    "2005-05-17T15:10:39+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "com.rational.clearcase.RSCMService.onDemandCheckIn",
          "source": "RSCMService.java:1694"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "68807",
      "date": "2004-06-28T21:03:13+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "com.rational.clearcase.RSCMService.onDemandCheckIn",
          "source": "RSCMService.java:1694"
        },
        {
          "method": "com.rational.clearcase.RSCMService.onDemand",
          "source": "RSCMService.java:1574"
        },
        {
          "method": "com.rational.clearcase.RSCMService.onWorkspaceSave",
          "source": "RSCMService.java:2003"
        },
        {
          "method": "com.rational.clearcase.ClearCasePlugin.prepareToSave",
          "source": "ClearCasePlugin.java:407"
        },
        {
          "method": "org.eclipse.core.internal.resources.SaveManager.executeLifecycle",
          "source": "SaveManager.java:305"
        },
        {
          "method": "org.eclipse.core.internal.resources.SaveManager$1.run",
          "source": "SaveManager.java:129"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:615"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:747"
        },
        {
          "method": "org.eclipse.core.internal.resources.SaveManager.broadcastLifecycle",
          "source": "SaveManager.java:141"
        },
        {
          "method": "org.eclipse.core.internal.resources.SaveManager.save",
          "source": "SaveManager.java:1321"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.save",
          "source": "Workspace.java:1707"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEWorkbenchAdvisor$5.run",
          "source": "IDEWorkbenchAdvisor.java:468"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:101"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "68807",
      "date": "2004-06-28T21:03:13+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "com.rational.clearcase.RSCMService.onDemandCheckIn",
          "source": "RSCMService.java:1694"
        },
        {
          "method": "com.rational.clearcase.RSCMService.onDemand",
          "source": "RSCMService.java:1574"
        },
        {
          "method": "com.rational.clearcase.RSCMService.onWorkspaceSave",
          "source": "RSCMService.java:2003"
        },
        {
          "method": "com.rational.clearcase.ClearCasePlugin.prepareToSave",
          "source": "ClearCasePlugin.java:407"
        },
        {
          "method": "org.eclipse.core.internal.resources.SaveManager.executeLifecycle",
          "source": "SaveManager.java:305"
        },
        {
          "method": "org.eclipse.core.internal.resources.SaveManager$1.run",
          "source": "SaveManager.java:129"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:615"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:747"
        },
        {
          "method": "org.eclipse.core.internal.resources.SaveManager.broadcastLifecycle",
          "source": "SaveManager.java:141"
        },
        {
          "method": "org.eclipse.core.internal.resources.SaveManager.save",
          "source": "SaveManager.java:1321"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.save",
          "source": "Workspace.java:1707"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEWorkbenchAdvisor$5.run",
          "source": "IDEWorkbenchAdvisor.java:468"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:101"
        }
      ],
      "number": 2,
      "commentIndex": 0,
      "bugId": "68807",
      "date": "2004-06-28T21:03:13+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "68807",
  "bugId": "68807",
  "date": "2004-06-28T21:03:13+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "major"
}