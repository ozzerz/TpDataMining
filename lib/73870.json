{
  "comments": [
    "I20040914\n\nWhile terminating a program producing large amounts of output I got this NPE. \n\n!ENTRY org.eclipse.core.runtime 4 2 Sep 14, 2004 08:53:33.578\n!MESSAGE An internal error occurred during: \"Match Job\".\n!STACK 0\njava.lang.NullPointerException\n\tat org.eclipse.jface.text.AbstractLineTracker.findLine\n(AbstractLineTracker.java:81)\n\tat org.eclipse.jface.text.AbstractLineTracker.getLineNumberOfOffset\n(AbstractLineTracker.java:167)\n\tat org.eclipse.jface.text.AbstractDocument.getLineOfOffset\n(AbstractDocument.java:781)\n\tat org.eclipse.ui.console.IOConsole$MatchJob.run(IOConsole.java:555)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)",
    "I got a similar one running the test suite:\n\nENTRY org.eclipse.core.runtime 4 2 Sep 14, 2004 14:42:46.562\n!MESSAGE An internal error occurred during: \"Match Job\".\n!STACK 0\njava.lang.NullPointerException\n\tat org.eclipse.jface.text.AbstractLineTracker.findLine\n(AbstractLineTracker.java:81)\n\tat org.eclipse.jface.text.AbstractLineTracker.getLineNumberOfOffset\n(AbstractLineTracker.java:167)\n\tat org.eclipse.jface.text.AbstractDocument.getLineOfOffset\n(AbstractDocument.java:781)\n\tat org.eclipse.ui.console.IOConsole$MatchJob.run(IOConsole.java:559)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)",
    "I can get the problem intermittently simply by running the following progam:\n\npublic class FloodConsole {\n\n\tpublic static void main(String[] args) {\n\t\tfor (int i \u003d 0; i \u003c 9999; i++) {\n\t\t\tSystem.out.println(\"0---------1--------2--------3------\n-4--------5--------6--------7--------8\");\n\t\t}\n\t\tSystem.err.print(\" - THE END - \");\n\t}\n}\n\nI believe the problem is in AbstractLineTracker. It does not sycnrhonize \nadditions and accesses to the fLines collection. Thus if lines are added to a \ndocument while performing a binary search for a line, problems can occurr. All \naccesses to fLines should be synchronized. I patched the class with \nsynchronization, and could no longer get the problem to occurr.",
    "Document (and the classes around it) are not multi-threaded. If you access it\nfrom different threads then you have to synchronize the corresponding methods\n(see JDT\u0027s or Ant\u0027s PartiallySynchronizedDocument for details).",
    "Fixed. Created IOConsoleDocument that provides synchronization on get/replace\nmethods.",
    "Please verify, Kevin.",
    "verified"
  ],
  "commentCreationDates": [
    "2004-09-14T16:02:36+02:00",
    "2004-09-14T21:51:12+02:00",
    "2004-09-15T16:28:35+02:00",
    "2004-09-20T15:43:15+02:00",
    "2004-09-20T17:52:50+02:00",
    "2004-09-20T17:53:07+02:00",
    "2004-09-21T00:21:08+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jface.text.AbstractLineTracker.findLine",
          "source": "AbstractLineTracker.java:81"
        },
        {
          "method": "org.eclipse.jface.text.AbstractLineTracker.getLineNumberOfOffset",
          "source": "AbstractLineTracker.java:167"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.getLineOfOffset",
          "source": "AbstractDocument.java:781"
        },
        {
          "method": "org.eclipse.ui.console.IOConsole$MatchJob.run",
          "source": "IOConsole.java:555"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:66"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "73870",
      "date": "2004-09-14T16:02:36+02:00",
      "product": "Platform",
      "component": "Debug",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jface.text.AbstractLineTracker.findLine",
          "source": "AbstractLineTracker.java:81"
        },
        {
          "method": "org.eclipse.jface.text.AbstractLineTracker.getLineNumberOfOffset",
          "source": "AbstractLineTracker.java:167"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.getLineOfOffset",
          "source": "AbstractDocument.java:781"
        },
        {
          "method": "org.eclipse.ui.console.IOConsole$MatchJob.run",
          "source": "IOConsole.java:559"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:66"
        }
      ],
      "number": 1,
      "commentIndex": 1,
      "bugId": "73870",
      "date": "2004-09-14T21:51:12+02:00",
      "product": "Platform",
      "component": "Debug",
      "severity": "major"
    }
  ],
  "groupId": "73870",
  "bugId": "73870",
  "date": "2004-09-14T16:02:36+02:00",
  "product": "Platform",
  "component": "Debug",
  "severity": "major"
}