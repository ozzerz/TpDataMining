{
  "comments": [
    "Found with 12/10 build.\n\nI made a Query against NIST public registry using the patient ID 306268c3314d406 and tried to retrieve the document which is supposed to be available at the URI included in the metadata but all I got is NullPointerException.   Here\u0027s an excerpt of the bridge log.   Even if its cause is reasonable enough I need more descriptive error messages to know what\u0027s happening.\n\n[DEBUG][2007-12-11T18:14:56.035+0900][bridge.conf.TransactionContext] ......................................................................\n[DEBUG][2007-12-11T18:14:56.035+0900][bridge.conf.TransactionContext] Start transaction mark for SessionContext ( mUser\u003d[satomi]    mSessionID\u003d[Tue_Dec_11_18:14:55_2007]    mRhioName\u003d[NIST2008]    mUserApplicationName\u003d[MyApplication]    mUserFacilityName\u003d[MyFacility]    mReturnLogLevel\u003d[DEBUG]    mUseSecuredConnectionWhenAvailable\u003d[true]     )\n[DEBUG][2007-12-11T18:14:56.035+0900][bridge.conf.TransactionContext] Bridge version 0.3.0 11/25/2007, WSDL last modified at 11/25/2007\n[DEBUG][2007-12-11T18:14:56.035+0900][bridge.conf.TransactionContext] ......................................................................\n[DEBUG][2007-12-11T18:14:56.035+0900][.builder.RhioConfigManagerImpl] Found confugurations for rhio NIST2008\n[DEBUG][2007-12-11T18:14:56.035+0900][AbstractRhioDedicatedResources] new RhioDedicatedResources(RhioConfig ( mPublicHealthcareAffinityDomain\u003d[false]    mName\u003d[NIST2008]    mDescription\u003d[NIST Public Server for 2008 Connectathon]    mHidden\u003d[false]    defaultRepository\u003d[null]    mAuditConfig\u003d[AuditConfig ( mAuditUri\u003d[IheUri ( mUnsecured\u003d[udp://hcxw2k1.nist.gov:8087]    mSecured\u003d[null]     )]     )]    mPixConfig\u003d[org.eclipse.ohf.bridge.conf.rhio.PixConfig@8d3d62]    mXdsRepositoryConfig\u003d[{nist_axis2\u003dXdsRepositoryConfig ( XDS Type\u003d[a]    retrieveUrl\u003d[null]    provideRegisterUrl\u003d[IheUri ( mUnsecured\u003d[http://hcxw2k1.nist.gov:9080/axis2/services/xdsrepositorya]    mSecured\u003d[https://hcxw2k1.nist.gov:9080/axis2/services/xdsrepositorya]     )]     )}]    mXdsRegistryConfig\u003d[XdsRegistryConfig ( XDS Type\u003d[a]    nonStoredQueryUrl\u003d[IheUri ( mUnsecured\u003d[http://hcxw2k1.nist.gov:9080/axis2/services/xdsregistrya]    mSecured\u003d[https://hcxw2k1.nist.gov:9443/axis2/services/xdsregistrya]     )]    storedQueriesUrl\u003d[IheUri ( mUnsecured\u003d[http://hcxw2k1.nist.gov:9080/axis2/services/xdsregistryb]    mSecured\u003d[https://hcxw2k1.nist.gov:9443/axis2/services/xdsregistryb]     )]    mllp\u003d[null]     )]     )) \n[DEBUG][2007-12-11T18:14:56.035+0900][.builder.RhioConfigManagerImpl] Found confugurations for rhio NIST2008\n[DEBUG][2007-12-11T18:14:56.050+0900][AbstractRhioDedicatedResources] new RhioDedicatedResources(RhioConfig ( mPublicHealthcareAffinityDomain\u003d[false]    mName\u003d[NIST2008]    mDescription\u003d[NIST Public Server for 2008 Connectathon]    mHidden\u003d[false]    defaultRepository\u003d[null]    mAuditConfig\u003d[AuditConfig ( mAuditUri\u003d[IheUri ( mUnsecured\u003d[udp://hcxw2k1.nist.gov:8087]    mSecured\u003d[null]     )]     )]    mPixConfig\u003d[org.eclipse.ohf.bridge.conf.rhio.PixConfig@8d3d62]    mXdsRepositoryConfig\u003d[{nist_axis2\u003dXdsRepositoryConfig ( XDS Type\u003d[a]    retrieveUrl\u003d[null]    provideRegisterUrl\u003d[IheUri ( mUnsecured\u003d[http://hcxw2k1.nist.gov:9080/axis2/services/xdsrepositorya]    mSecured\u003d[https://hcxw2k1.nist.gov:9080/axis2/services/xdsrepositorya]     )]     )}]    mXdsRegistryConfig\u003d[XdsRegistryConfig ( XDS Type\u003d[a]    nonStoredQueryUrl\u003d[IheUri ( mUnsecured\u003d[http://hcxw2k1.nist.gov:9080/axis2/services/xdsregistrya]    mSecured\u003d[https://hcxw2k1.nist.gov:9443/axis2/services/xdsregistrya]     )]    storedQueriesUrl\u003d[IheUri ( mUnsecured\u003d[http://hcxw2k1.nist.gov:9080/axis2/services/xdsregistryb]    mSecured\u003d[https://hcxw2k1.nist.gov:9443/axis2/services/xdsregistryb]     )]    mllp\u003d[null]     )]     )) \n[DEBUG][2007-12-11T18:14:56.050+0900][se.ohf.bridge.conf.rhio.IheUri] getting default URI from IheUri ( mUnsecured\u003d[udp://hcxw2k1.nist.gov:8087]    mSecured\u003d[null]     )\n[DEBUG][2007-12-11T18:14:56.050+0900][se.ohf.bridge.conf.rhio.IheUri] trying to get secured connection\n[DEBUG][2007-12-11T18:14:56.050+0900][se.ohf.bridge.conf.rhio.IheUri] Returning unsecured connection: udp://hcxw2k1.nist.gov:8087\n[DEBUG][2007-12-11T18:14:56.050+0900][se.ohf.bridge.conf.rhio.IheUri] getting default URI from IheUri ( mUnsecured\u003d[udp://hcxw2k1.nist.gov:8087]    mSecured\u003d[null]     )\n[DEBUG][2007-12-11T18:14:56.050+0900][se.ohf.bridge.conf.rhio.IheUri] trying to get secured connection\n[DEBUG][2007-12-11T18:14:56.050+0900][se.ohf.bridge.conf.rhio.IheUri] Returning unsecured connection: udp://hcxw2k1.nist.gov:8087\n[INFO ][2007-12-11T18:14:56.050+0900][bridge.conf.TransactionContext] Audit enabled to udp://hcxw2k1.nist.gov:8087\n[DEBUG][2007-12-11T18:14:56.066+0900][clipse.ohf.bridge.ws.OHFBridge] Starting XDSDocType GetDocumentByUrl(https://129.6.58.92:9443/Repository/129.6.58.92.3492.txt) \n[DEBUG][2007-12-11T18:14:56.066+0900][dge.ihe.IheXdsResourcesFactory] Starting XdsBridge getXDSBridge() in SessionContext ( mUser\u003d[satomi]    mSessionID\u003d[Tue_Dec_11_18:14:55_2007]    mRhioName\u003d[NIST2008]    mUserApplicationName\u003d[MyApplication]    mUserFacilityName\u003d[MyFacility]    mReturnLogLevel\u003d[DEBUG]    mUseSecuredConnectionWhenAvailable\u003d[true]     )\n[DEBUG][2007-12-11T18:14:56.066+0900][f.bridge.xds.AbstractXdsBridge] Starting XDSDocType retrieveDocumentByUrl(https://129.6.58.92:9443/Repository/129.6.58.92.3492.txt)  in SessionContext ( mUser\u003d[satomi]    mSessionID\u003d[Tue_Dec_11_18:14:55_2007]    mRhioName\u003d[NIST2008]    mUserApplicationName\u003d[MyApplication]    mUserFacilityName\u003d[MyFacility]    mReturnLogLevel\u003d[null]    mUseSecuredConnectionWhenAvailable\u003d[true]     )\n[ERROR][2007-12-11T18:14:56.066+0900][clipse.ohf.bridge.ws.OHFBridge] failed at GetDocumentByUrl\njava.lang.NullPointerException\n\tat org.eclipse.ohf.bridge.ihe.IheXdsBridge.createCX(IheXdsBridge.java:803)\n\tat org.eclipse.ohf.bridge.ihe.IheXdsBridge.goRetrieveDocumentByUrl(IheXdsBridge.java:909)\n\tat org.eclipse.ohf.bridge.xds.AbstractXdsBridge.retrieveDocumentByUrl(AbstractXdsBridge.java:147)\n\tat org.eclipse.ohf.bridge.ws.OHFBridge.RetrieveDocumentByUrl(OHFBridge.java:305)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.apache.axis.providers.java.RPCProvider.invokeMethod(RPCProvider.java:397)\n\tat org.apache.axis.providers.java.RPCProvider.processMessage(RPCProvider.java:186)\n\tat org.apache.axis.providers.java.JavaProvider.invoke(JavaProvider.java:323)\n\tat org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java:32)\n\tat org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118)\n\tat org.apache.axis.SimpleChain.invoke(SimpleChain.java:83)\n\tat org.apache.axis.handlers.soap.SOAPService.invoke(SOAPService.java:453)\n\tat org.apache.axis.server.AxisServer.invoke(AxisServer.java:281)\n\tat org.apache.axis.transport.http.AxisServlet.doPost(AxisServlet.java:699)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:710)\n\tat org.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:327)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n\tat org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service(ServletManager.java:129)\n\tat org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest(ServletRegistration.java:91)\n\tat org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:110)\n\tat org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:68)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n\tat org.eclipse.equinox.servletbridge.BridgeServlet.service(BridgeServlet.java:95)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:174)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:151)\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:874)\n\tat org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)\n\tat org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)\n\tat org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:689)\n\tat java.lang.Thread.run(Unknown Source)\n[DEBUG][2007-12-11T18:14:56.082+0900][bridge.conf.TransactionContext] Transaction cleared configurations\n[DEBUG][2007-12-11T18:14:56.082+0900][bridge.conf.TransactionContext] ......................................................................\n[DEBUG][2007-12-11T18:14:56.082+0900][bridge.conf.TransactionContext] end transaction mark for SessionContext ( mUser\u003d[satomi]    mSessionID\u003d[Tue_Dec_11_18:14:55_2007]    mRhioName\u003d[NIST2008]    mUserApplicationName\u003d[MyApplication]    mUserFacilityName\u003d[MyFacility]    mReturnLogLevel\u003d[null]    mUseSecuredConnectionWhenAvailable\u003d[true]     )\n[DEBUG][2007-12-11T18:14:56.082+0900][bridge.conf.TransactionContext] Transaction took 47 miliseconds\n[DEBUG][2007-12-11T18:14:56.082+0900][bridge.conf.TransactionContext] ......................................................................",
    "Takeo,\nThis is a bug in that we don\u0027t do a null check on the patient ID.  It has been fixed.\n\nHowever, the patient ID should not be null in the call to RetrieveDocumentByUrl.  For auditing purposes, the value here should not be null (IHE ATNA Audit requirements state that the patient ID of a retrieve document should be passed in).",
    "Matt,\n\nThank you for the fix.   Now I remember you (maybe not you) once mentioned patient ID requirement at NewsPortal."
  ],
  "commentCreationDates": [
    "2007-12-11T09:31:25+01:00",
    "2007-12-11T18:37:26+01:00",
    "2007-12-12T05:58:25+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ohf.bridge.ihe.IheXdsBridge.createCX",
          "source": "IheXdsBridge.java:803"
        },
        {
          "method": "org.eclipse.ohf.bridge.ihe.IheXdsBridge.goRetrieveDocumentByUrl",
          "source": "IheXdsBridge.java:909"
        },
        {
          "method": "org.eclipse.ohf.bridge.xds.AbstractXdsBridge.retrieveDocumentByUrl",
          "source": "AbstractXdsBridge.java:147"
        },
        {
          "method": "org.eclipse.ohf.bridge.ws.OHFBridge.RetrieveDocumentByUrl",
          "source": "OHFBridge.java:305"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.axis.providers.java.RPCProvider.invokeMethod",
          "source": "RPCProvider.java:397"
        },
        {
          "method": "org.apache.axis.providers.java.RPCProvider.processMessage",
          "source": "RPCProvider.java:186"
        },
        {
          "method": "org.apache.axis.providers.java.JavaProvider.invoke",
          "source": "JavaProvider.java:323"
        },
        {
          "method": "org.apache.axis.strategies.InvocationStrategy.visit",
          "source": "InvocationStrategy.java:32"
        },
        {
          "method": "org.apache.axis.SimpleChain.doVisiting",
          "source": "SimpleChain.java:118"
        },
        {
          "method": "org.apache.axis.SimpleChain.invoke",
          "source": "SimpleChain.java:83"
        },
        {
          "method": "org.apache.axis.handlers.soap.SOAPService.invoke",
          "source": "SOAPService.java:453"
        },
        {
          "method": "org.apache.axis.server.AxisServer.invoke",
          "source": "AxisServer.java:281"
        },
        {
          "method": "org.apache.axis.transport.http.AxisServlet.doPost",
          "source": "AxisServlet.java:699"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:710"
        },
        {
          "method": "org.apache.axis.transport.http.AxisServletBase.service",
          "source": "AxisServletBase.java:327"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:803"
        },
        {
          "method": "org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service",
          "source": "ServletManager.java:129"
        },
        {
          "method": "org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest",
          "source": "ServletRegistration.java:91"
        },
        {
          "method": "org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias",
          "source": "ProxyServlet.java:110"
        },
        {
          "method": "org.eclipse.equinox.http.servlet.internal.ProxyServlet.service",
          "source": "ProxyServlet.java:68"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:803"
        },
        {
          "method": "org.eclipse.equinox.servletbridge.BridgeServlet.service",
          "source": "BridgeServlet.java:95"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:803"
        },
        {
          "method": "org.apache.catalina.core.ApplicationFilterChain.internalDoFilter",
          "source": "ApplicationFilterChain.java:269"
        },
        {
          "method": "org.apache.catalina.core.ApplicationFilterChain.doFilter",
          "source": "ApplicationFilterChain.java:188"
        },
        {
          "method": "org.apache.catalina.core.StandardWrapperValve.invoke",
          "source": "StandardWrapperValve.java:213"
        },
        {
          "method": "org.apache.catalina.core.StandardContextValve.invoke",
          "source": "StandardContextValve.java:174"
        },
        {
          "method": "org.apache.catalina.core.StandardHostValve.invoke",
          "source": "StandardHostValve.java:127"
        },
        {
          "method": "org.apache.catalina.valves.ErrorReportValve.invoke",
          "source": "ErrorReportValve.java:117"
        },
        {
          "method": "org.apache.catalina.core.StandardEngineValve.invoke",
          "source": "StandardEngineValve.java:108"
        },
        {
          "method": "org.apache.catalina.connector.CoyoteAdapter.service",
          "source": "CoyoteAdapter.java:151"
        },
        {
          "method": "org.apache.coyote.http11.Http11Processor.process",
          "source": "Http11Processor.java:874"
        },
        {
          "method": "org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection",
          "source": "Http11BaseProtocol.java:665"
        },
        {
          "method": "org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket",
          "source": "PoolTcpEndpoint.java:528"
        },
        {
          "method": "org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt",
          "source": "LeaderFollowerWorkerThread.java:81"
        },
        {
          "method": "org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run",
          "source": "ThreadPool.java:689"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Unknown Source"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "212510",
      "date": "2007-12-11T09:31:25+01:00",
      "product": "OHF",
      "component": "bridge",
      "severity": "normal"
    }
  ],
  "groupId": "212510",
  "bugId": "212510",
  "date": "2007-12-11T09:31:25+01:00",
  "product": "OHF",
  "component": "bridge",
  "severity": "normal"
}