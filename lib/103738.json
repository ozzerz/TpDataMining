{
  "comments": [
    "To reproduce: create a Shell visual class.\nAdd a button, say ok to the popup name dialog.\nThe mouse pointer is still in the \"add\" cursor, and hovering over the shell\nstill gives feedback like before the button was added.\nClicking again resets it to normal and does not add another button.\n\nAlso works with a JFrame + JButton.\n\nNPE trace:\nError 2005-07-13 18:42:48.932 java.lang.NullPointerException\njava.lang.NullPointerException\n\tat org.eclipse.gef.tools.CreationTool.selectAddedObject(CreationTool.java:265)\n\tat org.eclipse.gef.tools.CreationTool.performCreation(CreationTool.java:254)\n\tat org.eclipse.gef.tools.CreationTool.handleButtonUp(CreationTool.java:178)\n\tat org.eclipse.gef.tools.AbstractTool.mouseUp(AbstractTool.java:1053)\n\tat org.eclipse.gef.EditDomain.mouseUp(EditDomain.java:259)\n\tat\norg.eclipse.gef.ui.parts.DomainEventDispatcher.dispatchMouseReleased(DomainEventDispatcher.java:374)\n\tat\norg.eclipse.draw2d.LightweightSystem$EventHandler.mouseUp(LightweightSystem.java:548)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:137)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1021)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2867)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2572)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n\tat org.eclipse.core.launcher.Main.run(Main.java:973)\n\tat org.eclipse.core.launcher.Main.main(Main.java:948)",
    "Sri, could you verify this with your Linux machine? Thanks.",
    "On linux-gtk i created a new Shell class, and from the palette was able to drop\na button and drop-resize a button with no exceptions. everything was working as\nexpected. On 07132005 driver.",
    "Doing more testing on linux-gtk I hit the same problem with Swing. Created an\nempty class and tried to drop a JSplitPane on the freeform. Threw the exact same\nexception and the cursor is still loaded. the source however is generated and\ntree edit part is generated. Only the UI editpart is not and the cursor is loaded. ",
    "This happens on linux-gtk when the bean name dialog pops up during the bean\ncreation. If one disables the dialog things work fine.",
    "Fixed by making it so that the dialog does not appear on Linux that allows the \nfield to be renamed on drop.  This is OK for 1.1 given the time left to do \nfixes, but I\u0027ll leave the bug open and defer to 1.2 for a more thorough \ninvestigation of the problem and fix post 1.1",
    "(In reply to comment #5)\n\u003e Fixed by making it so that the dialog does not appear on Linux that allows the \n\u003e field to be renamed on drop.  \n\nI personally don\u0027t mind the bug much and would rather have the dialog + the bug\nthan have neither. Perhaps just change the default setting under Linux to be off?\n\n",
    "(In reply to comment #6)\nHi Ben,\n\n\u003e I personally don\u0027t mind the bug much and would rather have the dialog + the \nbug\n\u003e than have neither. Perhaps just change the default setting under Linux to be \noff?\n\nSorry - I don\u0027t thinkg we have time to change this again before 1.1 GA\n\nThe exception might have been masking something more nasty and it\u0027s not a \ngreat idea for us to ship code that puts caught exceptions in the .log file, \nso what I did for Linux is make the default \"don\u0027t prompt\" but also disabled \nthe ability to set it.\nRight after drop however you can visit the JavaBean in the property sheet and \nchange the \"fieldName\" property which allows you to set a new name.  It isn\u0027t \nas nice as the prompt on drop but it works.  Another option is to use \nthe \"Choose Bean\" dialog from the palette (or toolbar) and on that you can \nsearch for the class to drop by name and also enter the field name right there \non the dialog - JRW\n\n",
    "*** Bug 105695 has been marked as a duplicate of this bug. ***",
    "Would be nice to enable this for linux instead of disabling it in PS.",
    "I think you meant 1.1.0.1 as the target... not 1.0.1.1",
    "For TVT purposes, this shouldn\u0027t be a problem since you can verify the\nproperties are translated on a Windows system. The same properties files are\nused on Linux.\n\nWe plan to fix this for 1.1.0.1 so the users on Linux will have this capability.",
    "This is a dup of a GEF bug which is supposed to be fixed in 3.1.1. For now we\u0027ll\nhave to leave the function (prompt when dropping a bean) disabled on Linux.\n\n*** This bug has been marked as a duplicate of 96108 ***",
    "closing"
  ],
  "commentCreationDates": [
    "2005-07-14T00:47:31+02:00",
    "2005-07-14T01:10:53+02:00",
    "2005-07-14T16:36:25+02:00",
    "2005-07-14T18:33:18+02:00",
    "2005-07-14T21:20:58+02:00",
    "2005-07-20T00:36:01+02:00",
    "2005-07-21T00:17:01+02:00",
    "2005-07-21T11:12:20+02:00",
    "2005-08-05T19:24:42+02:00",
    "2005-08-05T19:25:33+02:00",
    "2005-08-05T19:40:21+02:00",
    "2005-08-12T21:22:34+02:00",
    "2005-08-15T17:51:55+02:00",
    "2006-04-07T19:44:38+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.gef.tools.CreationTool.selectAddedObject",
          "source": "CreationTool.java:265"
        },
        {
          "method": "org.eclipse.gef.tools.CreationTool.performCreation",
          "source": "CreationTool.java:254"
        },
        {
          "method": "org.eclipse.gef.tools.CreationTool.handleButtonUp",
          "source": "CreationTool.java:178"
        },
        {
          "method": "org.eclipse.gef.tools.AbstractTool.mouseUp",
          "source": "AbstractTool.java:1053"
        },
        {
          "method": "org.eclipse.gef.EditDomain.mouseUp",
          "source": "EditDomain.java:259"
        },
        {
          "method": "org.eclipse.gef.ui.parts.DomainEventDispatcher.dispatchMouseReleased",
          "source": "DomainEventDispatcher.java:374"
        },
        {
          "method": "org.eclipse.draw2d.LightweightSystem$EventHandler.mouseUp",
          "source": "LightweightSystem.java:548"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:137"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1021"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2867"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2572"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1699"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1663"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:367"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "103738",
      "duplicateId": "96108",
      "date": "2005-07-14T00:47:31+02:00",
      "product": "VE",
      "component": "SWT",
      "severity": "major"
    }
  ],
  "groupId": "96108",
  "bugId": "103738",
  "duplicateId": "96108",
  "date": "2005-07-14T00:47:31+02:00",
  "product": "VE",
  "component": "SWT",
  "severity": "major"
}