{
  "comments": [
    "20020412\njdk 1.4 rc \n\n\u003clog-entry date\u003d\"Tue Apr 16 15:25:45 GMT+02:00 2002\"\u003e\n  \u003cstatus\n     plugin-id\u003d\"org.eclipse.jdt.debug.ui\"\n     severity\u003d\"ERROR\"\n     message\u003d\"Internal Error\"\n     code\u003d\"150\"\u003e\n    \u003cexception\n       message\u003d\"Thread not suspended, stack frame unavailable.\"\n       trace\u003d\"\norg.eclipse.debug.core.DebugException: Thread not suspended, stack frame \nunavailable.\n\tat \norg.eclipse.jdt.internal.debug.core.model.JDIDebugElement.requestFailed\n(JDIDebugElement.java:198)\n\tat \norg.eclipse.jdt.internal.debug.core.model.JDIStackFrame.getUnderlyingStackFrame\n(JDIStackFrame.java(Compiled Code))\n\tat \norg.eclipse.jdt.internal.debug.core.model.JDIStackFrame.getUnderlyingMethod\n(JDIStackFrame.java(Compiled Code))\n\tat org.eclipse.jdt.internal.debug.core.model.JDIStackFrame.isOutOfSynch\n(JDIStackFrame.java(Compiled Code))\n\tat \norg.eclipse.jdt.internal.debug.ui.JDIModelPresentation.computeJDIAdornmentFlags\n(JDIModelPresentation.java(Compiled Code))\n\tat \norg.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getDebugElementImage\n(JDIModelPresentation.java(Compiled Code))\n\tat org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getImage\n(JDIModelPresentation.java(Compiled Code))\n\tat org.eclipse.debug.internal.ui.LazyModelPresentation.getImage\n(LazyModelPresentation.java(Compiled Code))\n\tat org.eclipse.debug.internal.ui.DelegatingModelPresentation.getImage\n(DelegatingModelPresentation.java(Compiled Code))\n\tat \norg.eclipse.debug.internal.ui.views.LaunchViewer.updateOneStackFrameIcon\n(LaunchViewer.java:50)\n\tat \norg.eclipse.debug.internal.ui.views.LaunchViewer.updateStackFrameIcons\n(LaunchViewer.java:39)\n\tat \norg.eclipse.debug.internal.ui.views.LaunchViewEventHandler.doHandleResumeEvent\n(LaunchViewEventHandler.java:121)\n\tat \norg.eclipse.debug.internal.ui.views.LaunchViewEventHandler.doHandleDebugEvents\n(LaunchViewEventHandler.java:82)\n\tat org.eclipse.debug.internal.ui.views.AbstractDebugEventHandler$1.run\n(AbstractDebugEventHandler.java:49)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages\n(Synchronizer.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java\n(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java\n(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:819)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:777)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:319)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:190)\n\tat org.eclipse.core.launcher.Main.run(Main.java:549)\n\tat org.eclipse.core.launcher.Main.main(Main.java:390)\n\"\u003e\n    \u003c/exception\u003e\n  \u003c/status\u003e\n\u003c/log-entry\u003e",
    "From the trace, it looks like we are updating the stack frame icons for a \nRESUME/STEP event. When a frame is stepping, we cannot access the underlying \nmethod.\n\nThere are two options:\n(1) The JDI model presentation does not render out of synch information while \nstepping or evaluating an expression (but this adds more complexity to the \npresentation).\n\n(2) We could specify that #isOutOfSynch always returns false when the frames\u0027s \nthread is not suspended (since, unless we already know the frame is out of \nsynch, we cannot obtain the info until it suspends - and the info cannot change \nuntil it suspends).\n\n",
    "Fixed via approach (2) (and applied same logic to #isObsolete). This is safe, \nas if a frame is known to be out-of-synch or obsoloete, we cache that fact - \notherwise we do the dynamic calculation. Since the calculation cannot change \nuntil the thread suspends, it is safe to return false. Only an implementation \nchange (no API change).",
    "Please verify",
    "Verified."
  ],
  "commentCreationDates": [
    "2002-04-16T15:55:44+02:00",
    "2002-04-16T17:25:40+02:00",
    "2002-04-16T17:32:48+02:00",
    "2002-04-16T17:32:58+02:00",
    "2002-04-18T16:49:34+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.debug.core.DebugException",
      "message": "Thread not suspended, stack frame  unavailable.",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIDebugElement.requestFailed",
          "source": "JDIDebugElement.java:198"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIStackFrame.getUnderlyingStackFrame",
          "source": "JDIStackFrame.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIStackFrame.getUnderlyingMethod",
          "source": "JDIStackFrame.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIStackFrame.isOutOfSynch",
          "source": "JDIStackFrame.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.computeJDIAdornmentFlags",
          "source": "JDIModelPresentation.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getDebugElementImage",
          "source": "JDIModelPresentation.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getImage",
          "source": "JDIModelPresentation.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.debug.internal.ui.LazyModelPresentation.getImage",
          "source": "LazyModelPresentation.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.debug.internal.ui.DelegatingModelPresentation.getImage",
          "source": "DelegatingModelPresentation.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.LaunchViewer.updateOneStackFrameIcon",
          "source": "LaunchViewer.java:50"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.LaunchViewer.updateStackFrameIcons",
          "source": "LaunchViewer.java:39"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.LaunchViewEventHandler.doHandleResumeEvent",
          "source": "LaunchViewEventHandler.java:121"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.LaunchViewEventHandler.doHandleDebugEvents",
          "source": "LaunchViewEventHandler.java:82"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.AbstractDebugEventHandler$1.run",
          "source": "AbstractDebugEventHandler.java:49"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:819"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:777"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:319"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:190"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:549"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:390"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "13883",
      "date": "2002-04-16T15:55:44+02:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "13883",
  "bugId": "13883",
  "date": "2002-04-16T15:55:44+02:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "normal"
}