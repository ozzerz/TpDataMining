{
  "comments": [
    "Use IOutgoingFileTransferContainerAdapter to send file,but throw exception:\n\nException in processAsynch\njava.lang.IllegalArgumentException: IQ Type not understood\n\tat org.jivesoftware.smackx.packet.StreamInitiation.getChildElementXML(StreamInitiation.java:159)\n\tat org.jivesoftware.smack.packet.IQ.toXML(IQ.java:88)\n\tat org.eclipse.ecf.internal.provider.xmpp.events.IQEvent.toString(IQEvent.java:32)\n\tat java.lang.String.valueOf(String.java:2615)\n\tat java.lang.StringBuffer.append(StringBuffer.java:220)\n\tat org.eclipse.ecf.provider.generic.SOWrapper.send(SOWrapper.java:172)\n\tat org.eclipse.ecf.provider.generic.SOWrapper.deliverEvent(SOWrapper.java:217)\n\tat org.eclipse.ecf.internal.provider.xmpp.XMPPContainer.deliverEvent(XMPPContainer.java:344)\n\tat org.eclipse.ecf.internal.provider.xmpp.XMPPContainer.handleXMPPMessage(XMPPContainer.java:352)\n\tat org.eclipse.ecf.internal.provider.xmpp.XMPPContainer.processAsynch(XMPPContainer.java:408)\n\tat org.eclipse.ecf.provider.generic.SOContainer$MessageReceiver.handleAsynchEvent(SOContainer.java:208)\n\tat org.eclipse.ecf.internal.provider.xmpp.smack.ECFConnection.handlePacket(ECFConnection.java:236)\n\tat org.eclipse.ecf.internal.provider.xmpp.smack.ECFConnection$1.processPacket(ECFConnection.java:155)\n\tat org.jivesoftware.smack.PacketReader$ListenerWrapper.notifyListener(PacketReader.java:822)\n\tat org.jivesoftware.smack.PacketReader.processListeners(PacketReader.java:260)\n\tat org.jivesoftware.smack.PacketReader.access$1(PacketReader.java:244)\n\tat org.jivesoftware.smack.PacketReader$2.run(PacketReader.java:72)\n\nI use org.eclipse.ecf.filetransfer_1.0.0.v20070215.jar",
    "Thanks for the report.\n\nAt first blush, this seems to be a problem in Jive\u0027s smack library (version 2.2.1 is one that is being used currently...i.e. ECF 1.0.0.v20070215).  As the exception is occuring in Jive code (org.jivesoftware.smackx.packet.StreamInitiation.getChildElementXML(StreamInitiation.java:159)).\n\nIn order to help find/debug this further could you provide some more detailed info about what caused this?...e.g. did this happen on the file sender or receiver (appears to be receiver).  When did it occur in the file transfer sequence?  What was the sending client (i.e. was it an ECF-based client or was it GAIM/some other client?).  \n\nBasically, I would like to get enough info to reproduce this reliably, and we\u0027ll track down the problem (whether it\u0027s in ECF code and/or in Jive Smack code).\n\n\n\n",
    "I use ECF-based client when send file. The simple code :\n\nfinal IContainer newClient \u003d ContainerFactory.getDefault()\n\t\t\t\t.createContainer(\"ecf.xmpp.smack\");\n\n.\n.\n.\nIOutgoingFileTransferContainerAdapter fileTransferContainer;\n\t\tfileTransferContainer \u003d (IOutgoingFileTransferContainerAdapter) newClient.getAdapter(IOutgoingFileTransferContainerAdapter.class);\n.\n.\n.\ntry\n{\nfileTransferContainer.sendOutgoingRequest(remoteUser.getID(), \n\t\t\t\t\t\tnew File(\"d:/temp/exp.txt\"), \n\t\t\t\t\t\tnew IFileTransferListener()\n{\n  public void handleTransferEvent(IFileTransferEvent event)\n  {\n    System.out.println(\"IFileTransferEvent\");\n  }\n}, \n\tnull);\n}\ncatch(Exception ex)\n{\n\tex.printStackTrace();\n}\n\nThe server is Jabberd on linux.\n\nThank you.",
    "A number of fixes to xmpp provider implementation of IOutgoingFileTransferContainerAdapter.  Also created test case OutgoingFileTransferTest in org.eclipse.ecf.tests.filetransfer plugin.  The work is not completed yet, but it now works :).  3.20.2007.",
    "Fully implemented IOutgoingFileTransferContainerAdapter and tested.  See test code in org.eclipse.ecf.tests.filetransfer, class: OutgoingFileTransferTest.  Also source is visible here:\n\nhttp://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.ecf/tests/org.eclipse.ecf.tests.filetransfer/src/org/eclipse/ecf/tests/filetransfer/OutgoingFileTransferTest.java?root\u003dTechnology_Project\u0026view\u003dlog\n\nMarking this as resolved.  If you find another problem with implementation as it now exists, please open another bug.\n\nThanks for the report.\n\n",
    "Just discovered through testing that the smack 2.2.1 file transfer doesn\u0027t seem to work with google talk accounts (one gt sender and one receiver).  I\u0027ve posted a query to jive forum here about this issue:\n\nhttp://www.igniterealtime.org/forum/thread.jspa?threadID\u003d25359\n"
  ],
  "commentCreationDates": [
    "2007-03-07T08:15:32+01:00",
    "2007-03-07T20:32:50+01:00",
    "2007-03-08T01:16:08+01:00",
    "2007-03-21T07:55:33+01:00",
    "2007-03-21T22:12:50+01:00",
    "2007-03-22T02:48:55+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "IQ Type not understood",
      "elements": [
        {
          "method": "org.jivesoftware.smackx.packet.StreamInitiation.getChildElementXML",
          "source": "StreamInitiation.java:159"
        },
        {
          "method": "org.jivesoftware.smack.packet.IQ.toXML",
          "source": "IQ.java:88"
        },
        {
          "method": "org.eclipse.ecf.internal.provider.xmpp.events.IQEvent.toString",
          "source": "IQEvent.java:32"
        },
        {
          "method": "java.lang.String.valueOf",
          "source": "String.java:2615"
        },
        {
          "method": "java.lang.StringBuffer.append",
          "source": "StringBuffer.java:220"
        },
        {
          "method": "org.eclipse.ecf.provider.generic.SOWrapper.send",
          "source": "SOWrapper.java:172"
        },
        {
          "method": "org.eclipse.ecf.provider.generic.SOWrapper.deliverEvent",
          "source": "SOWrapper.java:217"
        },
        {
          "method": "org.eclipse.ecf.internal.provider.xmpp.XMPPContainer.deliverEvent",
          "source": "XMPPContainer.java:344"
        },
        {
          "method": "org.eclipse.ecf.internal.provider.xmpp.XMPPContainer.handleXMPPMessage",
          "source": "XMPPContainer.java:352"
        },
        {
          "method": "org.eclipse.ecf.internal.provider.xmpp.XMPPContainer.processAsynch",
          "source": "XMPPContainer.java:408"
        },
        {
          "method": "org.eclipse.ecf.provider.generic.SOContainer$MessageReceiver.handleAsynchEvent",
          "source": "SOContainer.java:208"
        },
        {
          "method": "org.eclipse.ecf.internal.provider.xmpp.smack.ECFConnection.handlePacket",
          "source": "ECFConnection.java:236"
        },
        {
          "method": "org.eclipse.ecf.internal.provider.xmpp.smack.ECFConnection$1.processPacket",
          "source": "ECFConnection.java:155"
        },
        {
          "method": "org.jivesoftware.smack.PacketReader$ListenerWrapper.notifyListener",
          "source": "PacketReader.java:822"
        },
        {
          "method": "org.jivesoftware.smack.PacketReader.processListeners",
          "source": "PacketReader.java:260"
        },
        {
          "method": "org.jivesoftware.smack.PacketReader.access$1",
          "source": "PacketReader.java:244"
        },
        {
          "method": "org.jivesoftware.smack.PacketReader$2.run",
          "source": "PacketReader.java:72"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "176578",
      "date": "2007-03-07T08:15:32+01:00",
      "product": "ECF",
      "component": "ecf.core",
      "severity": "normal"
    }
  ],
  "groupId": "176578",
  "bugId": "176578",
  "date": "2007-03-07T08:15:32+01:00",
  "product": "ECF",
  "component": "ecf.core",
  "severity": "normal"
}