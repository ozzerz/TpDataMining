{
  "comments": [
    "This is an intermittent problem where various people from our team have seen.  When we used the GUI wizard to create a Dynamic Web project and specified to add to ear, both the Web project and the EAR projects were created, but the application.xml stayed empty.  Here is the stack trace although I am not sure whether this is related:\n\n*** ERROR ***: Thu May 18 10:40:31 EDT 2006    org.eclipse.emf.common.util.Wrapp\nedException: org.xml.sax.SAXParseException: cvc-complex-type.2.4.b: The content\nof element \u0027application\u0027 is not complete. One of \u0027{\"http://java.sun.com/xml/ns/j\n2ee\":display-name, \"http://java.sun.com/xml/ns/j2ee\":icon, \"http://java.sun.com/\nxml/ns/j2ee\":module}\u0027 is expected.\n        at org.eclipse.wst.common.internal.emf.resource.EMF2DOMRenderer.loadDocu\nment(EMF2DOMRenderer.java:79)\n        at org.eclipse.wst.common.internal.emf.resource.EMF2DOMRenderer.doLoad(E\nMF2DOMRenderer.java:60)\n        at org.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.b\nasicDoLoad(TranslatorResourceImpl.java:141)\n        at org.eclipse.wst.common.internal.emf.resource.CompatibilityXMIResource\nImpl.doLoad(CompatibilityXMIResourceImpl.java:170)\n        at org.eclipse.emf.ecore.resource.impl.ResourceImpl.load(ResourceImpl.ja\nva:1089)\n        at org.eclipse.emf.ecore.resource.impl.ResourceImpl.load(ResourceImpl.ja\nva:895)\n        at org.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.l\noad(TranslatorResourceImpl.java:378)\n        at org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoad(Resour\nceSetImpl.java:249)\n        at org.eclipse.jem.internal.util.emf.workbench.ProjectResourceSetImpl.de\nmandLoad(ProjectResourceSetImpl.java:83)\n        at org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoadHelper(\nResourceSetImpl.java:264)\n        at org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.getResource(Resou\nrceSetImpl.java:346)\n        at org.eclipse.jem.internal.util.emf.workbench.ProjectResourceSetImpl.ge\ntResource(ProjectResourceSetImpl.java:262)\n        at org.eclipse.wst.common.internal.emfworkbench.WorkbenchResourceHelper.\ngetOrCreateResource(WorkbenchResourceHelper.java:307)\n        at org.eclipse.wst.common.internal.emfworkbench.integration.EditModel.ge\ntResource(EditModel.java:688)\n        at org.eclipse.wst.common.componentcore.internal.ArtifactEditModel.getRe\nsource(ArtifactEditModel.java:173)\n        at org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getDeployment\nDescriptorResource(EARArtifactEdit.java:302)\n        at org.eclipse.jst.j2ee.componentcore.EnterpriseArtifactEdit.getDeployme\nntDescriptorRoot(EnterpriseArtifactEdit.java:151)\n        at org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getApplicatio\nn(EARArtifactEdit.java:289)\n        at org.eclipse.jst.j2ee.application.internal.operations.AddComponentToEn\nterpriseApplicationOp.updateEARDD(AddComponentToEnterpriseApplicationOp.java:121\n)\n        at org.eclipse.jst.j2ee.application.internal.operations.AddComponentToEn\nterpriseApplicationOp.execute(AddComponentToEnterpriseApplicationOp.java:69)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibl\neOperationImpl$1.run(DataModelPausibleOperationImpl.java:379)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1737\n)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibl\neOperationImpl.runOperation(DataModelPausibleOperationImpl.java:403)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibl\neOperationImpl.runOperation(DataModelPausibleOperationImpl.java:355)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibl\neOperationImpl.doExecute(DataModelPausibleOperationImpl.java:245)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibl\neOperationImpl.executeImpl(DataModelPausibleOperationImpl.java:217)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibl\neOperationImpl.cacheThreadAndContinue(DataModelPausibleOperationImpl.java:92)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibl\neOperationImpl.execute(DataModelPausibleOperationImpl.java:205)\n        at org.eclipse.jst.j2ee.project.facet.J2EEFacetInstallDelegate.addToEar(\nJ2EEFacetInstallDelegate.java:119)\n        at org.eclipse.jst.j2ee.project.facet.J2EEFacetInstallDelegate.installAn\ndAddModuletoEAR(J2EEFacetInstallDelegate.java:140)\n        at org.eclipse.jst.j2ee.web.project.facet.WebFacetPostInstallDelegate.ex\necute(WebFacetPostInstallDelegate.java:51)\n        at org.eclipse.wst.common.project.facet.core.internal.FacetedProject.cal\nlDelegate(FacetedProject.java:1213)\n        at org.eclipse.wst.common.project.facet.core.internal.FacetedProject.cal\nlEventHandlers(FacetedProject.java:1161)\n        at org.eclipse.wst.common.project.facet.core.internal.FacetedProject.mod\nifyInternal(FacetedProject.java:375)\n        at org.eclipse.wst.common.project.facet.core.internal.FacetedProject.acc\ness$0(FacetedProject.java:265)\n        at org.eclipse.wst.common.project.facet.core.internal.FacetedProject$1.r\nun(FacetedProject.java:250)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1737\n)\n        at org.eclipse.wst.common.project.facet.core.internal.FacetedProject.mod\nify(FacetedProject.java:255)\n        at org.eclipse.wst.common.project.facet.ui.AddRemoveFacetsWizard.perform\nFinish(AddRemoveFacetsWizard.java:334)\n        at org.eclipse.wst.web.ui.internal.wizards.NewProjectDataModelFacetWizar\nd.performFinish(NewProjectDataModelFacetWizard.java:232)\n        at org.eclipse.wst.common.project.facet.ui.AddRemoveFacetsWizard$2.run(A\nddRemoveFacetsWizard.java:260)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1737\n)\n        at org.eclipse.wst.common.project.facet.ui.AddRemoveFacetsWizard$3.run(A\nddRemoveFacetsWizard.java:274)\n        at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(Modal\nContext.java:113)\n\nThis is the resulting application.xml:\n\n\u003c?xml version\u003d\"1.0\" encoding\u003d\"UTF-8\"?\u003e\n\u003capplication xmlns\u003d\"http://java.sun.com/xml/ns/j2ee\" xmlns:xsi\u003d\"http://www.w3.org/2001/XMLSchema-instance\" id\u003d\"Application_ID\" version\u003d\"1.4\" xsi:schemaLocation\u003d\"http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/application_1_4.xsd\"\u003e\n    \u003cdisplay-name\u003eabcEAR\u003c/display-name\u003e\n\u003c/application\u003e\n\n\nWe also observed a similar behaviour when we tried to use the WTP Web service wizard to create a new Web and EAR project for us.",
    "Request to add this to the hot bug list.\n\nAdopter: IBM\nRelease needed: WTP 1.5\nReason: The created J2EE project is not added to an ear, the ear is incomplete and user won\u0027t be able to work with that ear (export, publish, etc).",
    "I can\u0027t  reproduce the problem with GUI or with junits.\n\nPlease  provide me test case  or  reproducible scenario",
    "We haven\u0027t got a reproducable testcase yet (still trying to come up with one) The problem will appear after some light use. (e.g. create some web and ejb projects, some java classes and ejb beans, play with the deployment descriptor editors)\n\nI suspect this bug is caused by some caching problem which results in some kind of classCastException. The following two points support this speculation.\n\nFirst, you will need to restart the workbench after those operations to reproduce the problem. Also, when we get the project creation problem, we will keep running into the problem no matter we restart AST, or use a new workspace.\n \nSecond, a -clean will allow use to create projects cleanly. ",
    "These steps seems to reproduce the problem quite reliably:\nOpen J2EE perspective\nCreate an ear project.\nSelect ear project, from popup, run validation\nRestart",
    "These steps seems to reproduce the problem quite reliably:\nOpen J2EE perspective\nCreate an ear project.\nSelect ear project, from popup, run validation\nRestart\n\n\ndo you mean  restart the  workbench and then  create web project and add it to the EAR?",
    "When you restart the workbench, you\u0027ll see that exception stack.  Also, the node of the EAR\u0027s Deployment Descriptor will disappear.",
    "So it is after restarting the workbench when you add to the EAR, it  fails?",
    "Not a WTP issue, the problem has been determined at the  adoptore\u0027s end",
    "After the adopter made the change, this problem disappeared.",
    "closing"
  ],
  "commentCreationDates": [
    "2006-05-18T16:51:26+02:00",
    "2006-05-18T17:41:05+02:00",
    "2006-05-18T18:34:10+02:00",
    "2006-05-18T19:57:49+02:00",
    "2006-05-18T21:08:37+02:00",
    "2006-05-18T21:25:21+02:00",
    "2006-05-18T21:32:38+02:00",
    "2006-05-18T21:43:04+02:00",
    "2006-05-19T20:16:02+02:00",
    "2006-06-02T22:38:25+02:00",
    "2006-09-25T22:15:25+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.xml.sax.SAXParseException",
      "message": "cvc-complex-type.2.4.b: The content of element \u0027application\u0027 is not complete. One of \u0027{\"http://java.sun.com/xml/ns/j 2ee\":display-name, \"http://java.sun.com/xml/ns/j2ee\":icon, \"http://java.sun.com/ xml/ns/j2ee\":module}\u0027 is expected.",
      "elements": [
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMRenderer.loadDocument",
          "source": "EMF2DOMRenderer.java:79"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2DOMRenderer.doLoad",
          "source": "E MF2DOMRenderer.java:60"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.basicDoLoad",
          "source": "TranslatorResourceImpl.java:141"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.CompatibilityXMIResourceImpl.doLoad",
          "source": "CompatibilityXMIResourceImpl.java:170"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceImpl.load",
          "source": "ResourceImpl.ja va:1089"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceImpl.load",
          "source": "ResourceImpl.ja va:895"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.load",
          "source": "TranslatorResourceImpl.java:378"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoad",
          "source": "Resour ceSetImpl.java:249"
        },
        {
          "method": "org.eclipse.jem.internal.util.emf.workbench.ProjectResourceSetImpl.demandLoad",
          "source": "ProjectResourceSetImpl.java:83"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoadHelper",
          "source": " ResourceSetImpl.java:264"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.getResource",
          "source": "Resou rceSetImpl.java:346"
        },
        {
          "method": "org.eclipse.jem.internal.util.emf.workbench.ProjectResourceSetImpl.getResource",
          "source": "ProjectResourceSetImpl.java:262"
        },
        {
          "method": "org.eclipse.wst.common.internal.emfworkbench.WorkbenchResourceHelper.getOrCreateResource",
          "source": "WorkbenchResourceHelper.java:307"
        },
        {
          "method": "org.eclipse.wst.common.internal.emfworkbench.integration.EditModel.getResource",
          "source": "EditModel.java:688"
        },
        {
          "method": "org.eclipse.wst.common.componentcore.internal.ArtifactEditModel.getResource",
          "source": "ArtifactEditModel.java:173"
        },
        {
          "method": "org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getDeploymentDescriptorResource",
          "source": "EARArtifactEdit.java:302"
        },
        {
          "method": "org.eclipse.jst.j2ee.componentcore.EnterpriseArtifactEdit.getDeploymentDescriptorRoot",
          "source": "EnterpriseArtifactEdit.java:151"
        },
        {
          "method": "org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getApplication",
          "source": "EARArtifactEdit.java:289"
        },
        {
          "method": "org.eclipse.jst.j2ee.application.internal.operations.AddComponentToEnterpriseApplicationOp.updateEARDD",
          "source": "AddComponentToEnterpriseApplicationOp.java:121 "
        },
        {
          "method": "org.eclipse.jst.j2ee.application.internal.operations.AddComponentToEnterpriseApplicationOp.execute",
          "source": "AddComponentToEnterpriseApplicationOp.java:69"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibleOperationImpl$1.run",
          "source": "DataModelPausibleOperationImpl.java:379"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1737 "
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibleOperationImpl.runOperation",
          "source": "DataModelPausibleOperationImpl.java:403"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibleOperationImpl.runOperation",
          "source": "DataModelPausibleOperationImpl.java:355"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibleOperationImpl.doExecute",
          "source": "DataModelPausibleOperationImpl.java:245"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibleOperationImpl.executeImpl",
          "source": "DataModelPausibleOperationImpl.java:217"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibleOperationImpl.cacheThreadAndContinue",
          "source": "DataModelPausibleOperationImpl.java:92"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibleOperationImpl.execute",
          "source": "DataModelPausibleOperationImpl.java:205"
        },
        {
          "method": "org.eclipse.jst.j2ee.project.facet.J2EEFacetInstallDelegate.addToEar",
          "source": " J2EEFacetInstallDelegate.java:119"
        },
        {
          "method": "org.eclipse.jst.j2ee.project.facet.J2EEFacetInstallDelegate.installAndAddModuletoEAR",
          "source": "J2EEFacetInstallDelegate.java:140"
        },
        {
          "method": "org.eclipse.jst.j2ee.web.project.facet.WebFacetPostInstallDelegate.execute",
          "source": "WebFacetPostInstallDelegate.java:51"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.FacetedProject.callDelegate",
          "source": "FacetedProject.java:1213"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.FacetedProject.callEventHandlers",
          "source": "FacetedProject.java:1161"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.FacetedProject.modifyInternal",
          "source": "FacetedProject.java:375"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.FacetedProject.access$0",
          "source": "FacetedProject.java:265"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.FacetedProject$1.run",
          "source": "FacetedProject.java:250"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1737 "
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.FacetedProject.modify",
          "source": "FacetedProject.java:255"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.ui.AddRemoveFacetsWizard.performFinish",
          "source": "AddRemoveFacetsWizard.java:334"
        },
        {
          "method": "org.eclipse.wst.web.ui.internal.wizards.NewProjectDataModelFacetWizard.performFinish",
          "source": "NewProjectDataModelFacetWizard.java:232"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.ui.AddRemoveFacetsWizard$2.run",
          "source": "A ddRemoveFacetsWizard.java:260"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1737 "
        },
        {
          "method": "org.eclipse.wst.common.project.facet.ui.AddRemoveFacetsWizard$3.run",
          "source": "A ddRemoveFacetsWizard.java:274"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "Modal Context.java:113"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "142502",
      "date": "2006-05-18T16:51:26+02:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "major"
    }
  ],
  "groupId": "142502",
  "bugId": "142502",
  "date": "2006-05-18T16:51:26+02:00",
  "product": "Web Tools",
  "component": "jst.j2ee",
  "severity": "major"
}