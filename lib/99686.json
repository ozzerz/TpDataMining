{
  "comments": [
    "3.1 RC2\n\nSteps to reproduce:\n- Invoke content assist on following snippet:\n\npublic class C {\n\tObject fObject\u003d null;\n\tpublic void foo() {\n\t\tObject clazz\u003d new Object() {\n\t\t\tObject object\u003d this.getClass().\u003cCtrl+Space\u003e\n\t\t}\n\t}\n}\n\nThe following exception occurs:\n\njava.lang.IllegalArgumentException\n\tat org.eclipse.jdt.internal.core.util.Util.scanTypeBoundSignature\n(Util.java:2574)\n\tat org.eclipse.jdt.internal.core.util.Util.scanTypeSignature\n(Util.java:2353)\n\tat org.eclipse.jdt.core.Signature.getReturnType(Signature.java:1635)\n\tat \norg.eclipse.jdt.ui.text.java.CompletionProposalLabelProvider.createMethodPropos\nalLabel(CompletionProposalLabelProvider.java:182)\n\tat \norg.eclipse.jdt.ui.text.java.CompletionProposalLabelProvider.createLabel\n(CompletionProposalLabelProvider.java:351)\n\tat \norg.eclipse.jdt.internal.ui.text.java.LazyJavaCompletionProposal.computeDisplay\nString(LazyJavaCompletionProposal.java:365)\n\tat \norg.eclipse.jdt.internal.ui.text.java.LazyJavaCompletionProposal.getDisplayStri\nng(LazyJavaCompletionProposal.java:359)\n\tat \norg.eclipse.jdt.internal.ui.text.java.LazyJavaCompletionProposal.computeSortStr\ning(LazyJavaCompletionProposal.java:714)\n\tat \norg.eclipse.jdt.internal.ui.text.java.LazyJavaCompletionProposal.getSortString\n(LazyJavaCompletionProposal.java:704)\n\tat org.eclipse.jdt.ui.text.java.CompletionProposalComparator.getSortKey\n(CompletionProposalComparator.java:73)\n\tat org.eclipse.jdt.ui.text.java.CompletionProposalComparator.compare\n(CompletionProposalComparator.java:68)\n\tat java.util.Arrays.mergeSort(Arrays.java:1284)\n\tat java.util.Arrays.mergeSort(Arrays.java:1296)\n\tat java.util.Arrays.mergeSort(Arrays.java:1295)\n\tat java.util.Arrays.mergeSort(Arrays.java:1295)\n\tat java.util.Arrays.mergeSort(Arrays.java:1295)\n\tat java.util.Arrays.sort(Arrays.java:1223)\n\tat org.eclipse.jdt.internal.ui.text.java.JavaCompletionProcessor.order\n(JavaCompletionProcessor.java:305)\n\tat \norg.eclipse.jdt.internal.ui.text.java.JavaCompletionProcessor.internalComputeCo\nmpletionProposals(JavaCompletionProcessor.java:390)\n\tat \norg.eclipse.jdt.internal.ui.text.java.JavaCompletionProcessor.computeCompletion\nProposals(JavaCompletionProcessor.java:313)\n\tat \norg.eclipse.jface.text.contentassist.ContentAssistant.computeCompletionProposal\ns(ContentAssistant.java:1503)\n\tat \norg.eclipse.jface.text.contentassist.CompletionProposalPopup.computeProposals\n(CompletionProposalPopup.java:256)\n\tat \norg.eclipse.jface.text.contentassist.CompletionProposalPopup.access$7\n(CompletionProposalPopup.java:253)\n\tat org.eclipse.jface.text.contentassist.CompletionProposalPopup$1.run\n(CompletionProposalPopup.java:216)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile\n(BusyIndicator.java:69)\n\tat \norg.eclipse.jface.text.contentassist.CompletionProposalPopup.showProposals\n(CompletionProposalPopup.java:211)\n\tat org.eclipse.jface.text.contentassist.ContentAssistant$2.run\n(ContentAssistant.java:327)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages\n(Synchronizer.java:118)\n\t... 18 more",
    "Could not reproduce.",
    "I am still able to reproduce it. I have only one project with one class in my \nworkspace. The project uses 5.0 compliance and a 1.5 JRE.",
    "Created an attachment (id\u003d23069)\nProposed fix\n\nIn the case of code assist, the constant pool name of local and anoymous types\nis always null (since code generation has not started). As a consequence the\nsignature is invalid (L;) and cannot be decded.\n\nChanging it to use the source name for local types, and the super class source\nname for anonymous.",
    "Created an attachment (id\u003d23070)\nRegression test\n",
    "+1 for RC3\n\nDani - pls cast your vote",
    "+1 for 3.1 RC3.",
    "Thanks Dani.\nReleased fix and regression test.",
    "Verified using N20050616-0010 + JDT/Core HEAD"
  ],
  "commentCreationDates": [
    "2005-06-13T17:20:31+02:00",
    "2005-06-14T03:20:45+02:00",
    "2005-06-14T11:02:02+02:00",
    "2005-06-14T18:43:43+02:00",
    "2005-06-14T18:44:04+02:00",
    "2005-06-15T13:39:36+02:00",
    "2005-06-15T13:49:12+02:00",
    "2005-06-15T15:08:37+02:00",
    "2005-06-16T19:59:22+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.util.Util.scanTypeBoundSignature",
          "source": "Util.java:2574"
        },
        {
          "method": "org.eclipse.jdt.internal.core.util.Util.scanTypeSignature",
          "source": "Util.java:2353"
        },
        {
          "method": "org.eclipse.jdt.core.Signature.getReturnType",
          "source": "Signature.java:1635"
        },
        {
          "method": "org.eclipse.jdt.ui.text.java.CompletionProposalLabelProvider.createMethodProposalLabel",
          "source": "CompletionProposalLabelProvider.java:182"
        },
        {
          "method": "org.eclipse.jdt.ui.text.java.CompletionProposalLabelProvider.createLabel",
          "source": "CompletionProposalLabelProvider.java:351"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.LazyJavaCompletionProposal.computeDisplayString",
          "source": "LazyJavaCompletionProposal.java:365"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.LazyJavaCompletionProposal.getDisplayString",
          "source": "LazyJavaCompletionProposal.java:359"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.LazyJavaCompletionProposal.computeSortString",
          "source": "LazyJavaCompletionProposal.java:714"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.LazyJavaCompletionProposal.getSortString",
          "source": "LazyJavaCompletionProposal.java:704"
        },
        {
          "method": "org.eclipse.jdt.ui.text.java.CompletionProposalComparator.getSortKey",
          "source": "CompletionProposalComparator.java:73"
        },
        {
          "method": "org.eclipse.jdt.ui.text.java.CompletionProposalComparator.compare",
          "source": "CompletionProposalComparator.java:68"
        },
        {
          "method": "java.util.Arrays.mergeSort",
          "source": "Arrays.java:1284"
        },
        {
          "method": "java.util.Arrays.mergeSort",
          "source": "Arrays.java:1296"
        },
        {
          "method": "java.util.Arrays.mergeSort",
          "source": "Arrays.java:1295"
        },
        {
          "method": "java.util.Arrays.mergeSort",
          "source": "Arrays.java:1295"
        },
        {
          "method": "java.util.Arrays.mergeSort",
          "source": "Arrays.java:1295"
        },
        {
          "method": "java.util.Arrays.sort",
          "source": "Arrays.java:1223"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.JavaCompletionProcessor.order",
          "source": "JavaCompletionProcessor.java:305"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.JavaCompletionProcessor.internalComputeCompletionProposals",
          "source": "JavaCompletionProcessor.java:390"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.JavaCompletionProcessor.computeCompletionProposals",
          "source": "JavaCompletionProcessor.java:313"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.ContentAssistant.computeCompletionProposals",
          "source": "ContentAssistant.java:1503"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.computeProposals",
          "source": "CompletionProposalPopup.java:256"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.access$7",
          "source": "CompletionProposalPopup.java:253"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup$1.run",
          "source": "CompletionProposalPopup.java:216"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.showProposals",
          "source": "CompletionProposalPopup.java:211"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.ContentAssistant$2.run",
          "source": "ContentAssistant.java:327"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:118"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "99686",
      "date": "2005-06-13T17:20:31+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "99686",
  "bugId": "99686",
  "date": "2005-06-13T17:20:31+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}