{
  "comments": [
    "The following code causes an SWTException\n\nnew Image (display, this.getClass().getResourceAsStream(\"icon.ico\"));\n\nMoving back to M2 has no problems. This issue is only present in the current \nM3 release of SWT.\n\n\norg.eclipse.swt.SWTException: i/o error \n(java.lang.ArrayIndexOutOfBoundsException)\n\tat org.eclipse.swt.SWT.error(SWT.java:2697)\n\tat org.eclipse.swt.SWT.error(SWT.java:2622)\n\tat org.eclipse.swt.internal.image.FileFormat.loadFromStream\n(FileFormat.java:49)\n\tat org.eclipse.swt.internal.image.FileFormat.load(FileFormat.java:75)\n\tat org.eclipse.swt.graphics.ImageLoader.load(ImageLoader.java:125)\n\tat org.eclipse.swt.graphics.ImageData.\u003cinit\u003e(ImageData.java:309)\n\tat org.eclipse.swt.graphics.Image.\u003cinit\u003e(Image.java:635)\n\tat org.infogate.gui.resources.ResourceManager.getImage\n(ResourceManager.java:71)\n\tat org.infogate.gui.MainWindow.\u003cinit\u003e(MainWindow.java:50)\n\tat org.infogate.gui.Main.begin(Main.java:43)\n\tat org.infogate.gui.Main.main(Main.java:35)\n*** Stack trace of contained exception ***\njava.lang.ArrayIndexOutOfBoundsException\n\tat java.lang.System.arraycopy(Native Method)\n\tat org.eclipse.swt.internal.image.WinICOFileFormat.convertPad\n(WinICOFileFormat.java:28)\n\tat org.eclipse.swt.internal.image.WinICOFileFormat.loadIcon\n(WinICOFileFormat.java:130)\n\tat org.eclipse.swt.internal.image.WinICOFileFormat.loadFromByteStream\n(WinICOFileFormat.java:111)\n\tat org.eclipse.swt.internal.image.FileFormat.loadFromStream\n(FileFormat.java:47)\n\tat org.eclipse.swt.internal.image.FileFormat.load(FileFormat.java:75)\n\tat org.eclipse.swt.graphics.ImageLoader.load(ImageLoader.java:125)\n\tat org.eclipse.swt.graphics.ImageData.\u003cinit\u003e(ImageData.java:309)\n\tat org.eclipse.swt.graphics.Image.\u003cinit\u003e(Image.java:635)\n\tat org.infogate.gui.resources.ResourceManager.getImage\n(ResourceManager.java:71)\n\tat org.infogate.gui.MainWindow.\u003cinit\u003e(MainWindow.java:50)\n\tat org.infogate.gui.Main.begin(Main.java:43)\n\tat org.infogate.gui.Main.main(Main.java:35)\nException in thread \"org.infogate.gui.Main\"",
    "I just tried swt-I20041201-win32.zip and it works fine.\n\nRe-tried M3 and the same bug exists...???\n\nSeems the problem is fixed in the latest SWT builds - I hope it remains for \nM4 !\n\n",
    "Okay, reopen this problem report if you have problem on M4.\n\nI think this image file (icon.ico) is corrupt somehow, kind of thing that can \nhappen during a download for example.\n",
    "I\u0027m not sure what the last comment really mean\u0027t - I have a perfectly valid \nICO file working fine on M2. I download M3 SWT and it fails (as per initial \nbug report) and when I try a later version of SWT, it works again.\n\nMy guess is that between swt-M2 and swt-I20041201 some code changed in how \nWinICOFileFormat does things that broke loading of some ICO formats.\n\nIt is now fixed (at least in swt-I20041201) so hopefully it will hang around \nand not return later."
  ],
  "commentCreationDates": [
    "2004-11-30T04:04:13+01:00",
    "2004-12-02T12:13:37+01:00",
    "2004-12-02T21:52:40+01:00",
    "2004-12-03T03:40:42+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "i/o error  (java.lang.ArrayIndexOutOfBoundsException)",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2697"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2622"
        },
        {
          "method": "org.eclipse.swt.internal.image.FileFormat.loadFromStream",
          "source": "FileFormat.java:49"
        },
        {
          "method": "org.eclipse.swt.internal.image.FileFormat.load",
          "source": "FileFormat.java:75"
        },
        {
          "method": "org.eclipse.swt.graphics.ImageLoader.load",
          "source": "ImageLoader.java:125"
        },
        {
          "method": "org.eclipse.swt.graphics.ImageData.\u003cinit\u003e",
          "source": "ImageData.java:309"
        },
        {
          "method": "org.eclipse.swt.graphics.Image.\u003cinit\u003e",
          "source": "Image.java:635"
        },
        {
          "method": "org.infogate.gui.resources.ResourceManager.getImage",
          "source": "ResourceManager.java:71"
        },
        {
          "method": "org.infogate.gui.MainWindow.\u003cinit\u003e",
          "source": "MainWindow.java:50"
        },
        {
          "method": "org.infogate.gui.Main.begin",
          "source": "Main.java:43"
        },
        {
          "method": "org.infogate.gui.Main.main",
          "source": "Main.java:35"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "79744",
      "date": "2004-11-30T04:04:13+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "elements": [
        {
          "method": "java.lang.System.arraycopy",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.image.WinICOFileFormat.convertPad",
          "source": "WinICOFileFormat.java:28"
        },
        {
          "method": "org.eclipse.swt.internal.image.WinICOFileFormat.loadIcon",
          "source": "WinICOFileFormat.java:130"
        },
        {
          "method": "org.eclipse.swt.internal.image.WinICOFileFormat.loadFromByteStream",
          "source": "WinICOFileFormat.java:111"
        },
        {
          "method": "org.eclipse.swt.internal.image.FileFormat.loadFromStream",
          "source": "FileFormat.java:47"
        },
        {
          "method": "org.eclipse.swt.internal.image.FileFormat.load",
          "source": "FileFormat.java:75"
        },
        {
          "method": "org.eclipse.swt.graphics.ImageLoader.load",
          "source": "ImageLoader.java:125"
        },
        {
          "method": "org.eclipse.swt.graphics.ImageData.\u003cinit\u003e",
          "source": "ImageData.java:309"
        },
        {
          "method": "org.eclipse.swt.graphics.Image.\u003cinit\u003e",
          "source": "Image.java:635"
        },
        {
          "method": "org.infogate.gui.resources.ResourceManager.getImage",
          "source": "ResourceManager.java:71"
        },
        {
          "method": "org.infogate.gui.MainWindow.\u003cinit\u003e",
          "source": "MainWindow.java:50"
        },
        {
          "method": "org.infogate.gui.Main.begin",
          "source": "Main.java:43"
        },
        {
          "method": "org.infogate.gui.Main.main",
          "source": "Main.java:35"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "79744",
      "date": "2004-11-30T04:04:13+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "major"
    }
  ],
  "groupId": "79744",
  "bugId": "79744",
  "date": "2004-11-30T04:04:13+01:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "major"
}