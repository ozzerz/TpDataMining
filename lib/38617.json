{
  "comments": [
    "I am reporting this as a regression bug between I20030528 and I20030605 builds.\nThe former build runs my test suite as expected. The latter build, executed in\nthe same way using the same workspace, aborts the test run with the following\nmessage (displayed in the Console view):\n\nException in thread \"main\" java.lang.NoClassDefFoundError: \njavax/servlet/http/HttpServletRequest\n\tat java.lang.Class.getDeclaredMethods0(Native Method)\n\tat java.lang.Class.privateGetDeclaredMethods(Class.java:1627)\n\tat java.lang.Class.privateGetPublicMethods(Class.java:1655)\n\tat java.lang.Class.getMethod0(Class.java:1744)\n\tat java.lang.Class.getMethod(Class.java:963)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.\ngetTest(RemoteTestRunner.java:329)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.\nrunTests(RemoteTestRunner.java:370)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.\nrun(RemoteTestRunner.java:277)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.\nmain(RemoteTestRunner.java:168)\n\nThe project in which my test classes reside does not include servlet.jar\nin its classpath. None of the test cases require anything from\njavax.servlet.*. The project utilizes mockobjects.jar, some classes contained\nthere might reference javax.servlet.*. However, I assume that if I can rebuild\nthe my project without any classpath problems, there should be no issues at\nruntime either (\"Use default class path\" is checked in the run configuration).",
    "Erich,\n\ncan you please comment.",
    "need more info.\ncan you please attach the command line used to start the test run.\nTo do so:\nDebug view, select the process, properties.\n\nNotice the statement that you can build correctly doesn\u0027t mean that you can \nrun (at run-time you need access to the implementation classes, for building \nhaving access to the interfaces is sufficient). Therefore please provide the \ncommand line as described above.",
    "Created an attachment (id\u003d5352)\nCommand line used by I20030528 (no error reported)\n",
    "Created an attachment (id\u003d5353)\nCommand line used by I20030605 (error reported)\n",
    "Created an attachment (id\u003d5354)\nSame as cmdline-bad.txt, with line feeds\n",
    "Created an attachment (id\u003d5355)\nSame as cmdline-good.txt, with line feeds\n",
    "As far as I can tell, classpath elements in the command line are the same in\nboth cases.",
    "came to the same conclusion, the command line hasn\u0027t changed. Also there were \nno (obvious) source changes between 0528 and 0605 in junit that could affect \nthis behaviour. \n\nthe error shows that one of the test cases references HttpServletRequest. Did \nyou run with no verification in 0528 (this result in less classes being \nloaded). \n\nAnother question is the contents of the test suite the same in 0528 and 0605, \ncan you compare the contents of the testNameFile (see the command line:\n-testNameFile /tmp/testNames6377.txt).\n\n",
    "Created an attachment (id\u003d5452)\ntestNames.txt file for 0528 build, works ok\n",
    "Created an attachment (id\u003d5453)\ntestNames.txt for 0605 build, too many tests in there!\n",
    "I attached the testNamesXXX.txt files for runs of the same test suite in both\nbuilds. The 0605 build seems to be selecting too many tests, most notably\ntests from the \"mockobjects\" project, which exists in the workspace, but is\nnot ticked as a \"referenced project\" in my tested project\u0027s Properties.\nThe \"bin\" directory of the \"mockobjects\" project is included on the build\npath of the tested project, though. The suite is configured to be run on\n\"All Tests in Project, Source Folder or Package\". I think that it picking up\ntest cases from other directories from the project\u0027s build path is an error.",
    "Hello, is there anything I can do to help fixing this bug?\nIt exists in 3.0M6, too.",
    "I think that I have finally found the definite reason and a temporary fix for\nmy problems:\n\nThe \"too many tests picked up\" problem is also described in Bug #36449 and\nI feel it should be addressed there. I can configure the JUnit runner to run\nall tests from a source folder rather than a project to avoid this undocumented\n\"feature\".\n\nI could also get around the classpath errors in my newer session with this\nproblem by editing the run configuration and clicking on \"Restore Default \nEntries\". After my switch from 2.1 to 3.0, osgi.jar was not included in the\nJUnit classpath.\n\n*** This bug has been marked as a duplicate of 36449 ***"
  ],
  "commentCreationDates": [
    "2003-06-07T00:31:43+02:00",
    "2003-06-10T10:44:38+02:00",
    "2003-07-04T23:03:20+02:00",
    "2003-07-05T00:25:37+02:00",
    "2003-07-05T00:26:09+02:00",
    "2003-07-05T00:26:44+02:00",
    "2003-07-05T00:27:13+02:00",
    "2003-07-05T00:28:52+02:00",
    "2003-07-05T01:04:54+02:00",
    "2003-07-14T18:41:23+02:00",
    "2003-07-14T18:42:01+02:00",
    "2003-07-14T18:47:23+02:00",
    "2004-01-25T15:51:05+01:00",
    "2004-01-31T18:17:15+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoClassDefFoundError",
      "message": "javax/servlet/http/HttpServletRequest",
      "elements": [
        {
          "method": "java.lang.Class.getDeclaredMethods0",
          "source": "Native Method"
        },
        {
          "method": "java.lang.Class.privateGetDeclaredMethods",
          "source": "Class.java:1627"
        },
        {
          "method": "java.lang.Class.privateGetPublicMethods",
          "source": "Class.java:1655"
        },
        {
          "method": "java.lang.Class.getMethod0",
          "source": "Class.java:1744"
        },
        {
          "method": "java.lang.Class.getMethod",
          "source": "Class.java:963"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.getTest",
          "source": "RemoteTestRunner.java:329"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests",
          "source": "RemoteTestRunner.java:370"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run",
          "source": "RemoteTestRunner.java:277"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main",
          "source": "RemoteTestRunner.java:168"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "38617",
      "duplicateId": "36449",
      "date": "2003-06-07T00:31:43+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "36449",
  "bugId": "38617",
  "duplicateId": "36449",
  "date": "2003-06-07T00:31:43+02:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}