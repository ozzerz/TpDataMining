{
  "comments": [
    "In some cases an IndexOutOfBoundsException occurs on moving a bendpoint.\nBoth indices -1 and \"size\" arize. To provoke this error, just move the first or last bendpoint of the connection exactly on the adjacent anchor.\n\nThis error is caused by the index calculation in BendpointEditPolicy.setReferencePoints(BendpointRequest request).\n\nIn the for-loop it is tried to identify the point in the PointList of the connection, which represents the bendpoint which is currently moved.\nThe connection Pointlist also contains the locations of the anchors as first and last point. If a bendpoint coincide with the first point(\u003dthe source anchor) the distance \u003d 0, bpIndex \u003d 0 and the loop is left.\nSo the following points.getPoint(ref1, bpIndex - 1) leads to index -1 and causes the error.\n\nOur proposal to fix the bug is to change the loop to:\nfor (int i \u003d 1; i \u003c points.size() - 1; i++)\n\nThe anchors can\u0027t be the aquivalent point to the moved bendpoint,\nso do not check them by starting at 1 and iterate till size - 2.\n\n\n\nattached stacktrace:\njava.lang.IndexOutOfBoundsException: Index: -1, Size: 6 at org.eclipse.draw2d.geometry.PointList.getPoint(PointList.java:183)\nat org.eclipse.gef.editpolicies.BendpointEditPolicy.setReferencePoints(BendpointEditPolicy.java:292)\nat org.eclipse.gef.editpolicies.BendpointEditPolicy.showMoveBendpointFeedback(BendpointEditPolicy.java:346)\n..."
  ],
  "commentCreationDates": [
    "2006-01-05T14:48:51+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IndexOutOfBoundsException",
      "message": "Index: -1, Size: 6",
      "elements": [
        {
          "method": "org.eclipse.draw2d.geometry.PointList.getPoint",
          "source": "PointList.java:183"
        },
        {
          "method": "org.eclipse.gef.editpolicies.BendpointEditPolicy.setReferencePoints",
          "source": "BendpointEditPolicy.java:292"
        },
        {
          "method": "org.eclipse.gef.editpolicies.BendpointEditPolicy.showMoveBendpointFeedback",
          "source": "BendpointEditPolicy.java:346"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "122754",
      "date": "2006-01-05T14:48:51+01:00",
      "product": "GEF",
      "component": "GEF",
      "severity": "normal"
    }
  ],
  "groupId": "122754",
  "bugId": "122754",
  "date": "2006-01-05T14:48:51+01:00",
  "product": "GEF",
  "component": "GEF",
  "severity": "normal"
}