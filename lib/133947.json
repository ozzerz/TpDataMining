{
  "comments": [
    "If an annotation processor calls getTypeDeclaration on the AnnotationProcessorEnvironment with an invalid type name (i.e. \"..foo.Bar\") it throws an ArrayIndexOutOfBoundsException. It would be nice if it could either just return null, or throw a more meaningful IllegalArgumentException.\n\nThe stacktrace from the IllegalArgumentExceptionlooks like this:\n\njava.lang.ArrayIndexOutOfBoundsException: 0\n    at org.eclipse.jdt.internal.core.util.BindingKeyParser.parseInnerType(BindingKeyParser.java:678)\n    at org.eclipse.jdt.internal.core.util.BindingKeyParser.parse(BindingKeyParser.java:558)\n    at org.eclipse.jdt.internal.core.util.BindingKeyParser.parse(BindingKeyParser.java:540)\n    at org.eclipse.jdt.internal.core.util.BindingKeyResolver.getCompilerBinding(BindingKeyResolver.java:439)\n    at org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:795)\n    at org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:460)\n    at org.eclipse.jdt.core.dom.ASTParser.createASTs(ASTParser.java:664)\n    at org.eclipse.jdt.apt.core.internal.env.BaseProcessorEnv.getTypeBindingFromKey(BaseProcessorEnv.java:477)\n    at org.eclipse.jdt.apt.core.internal.env.BaseProcessorEnv.getTypeDefinitionBindingFromCorrectName(BaseProcessorEnv.java:428)\n    at org.eclipse.jdt.apt.core.internal.env.BaseProcessorEnv.getTypeDefinitionBindingFromName(BaseProcessorEnv.java:444)\n    at org.eclipse.jdt.apt.core.internal.env.BaseProcessorEnv.getTypeDeclaration(BaseProcessorEnv.java:389)\n    at org.eclipse.jdt.apt.core.internal.env.ProcessorEnvImpl.getTypeDeclaration(ProcessorEnvImpl.java:331)\n    at org.apache.beehive.netui.compiler.typesystem.impl.env.CoreAnnotationProcessorEnvImpl.getTypeDeclaration(CoreAnnotationProcessorEnvImpl.java:85)\n    at org.apache.beehive.netui.compiler.grammar.WebappPathType.checkRelativePath(WebappPathType.java:206)\n    at org.apache.beehive.netui.compiler.grammar.WebappPathType.onCheck(WebappPathType.java:150)\n...",
    "In this case, we now return null instead of allowing an exception to get thrown to the caller."
  ],
  "commentCreationDates": [
    "2006-03-30T00:24:24+02:00",
    "2006-03-30T00:46:11+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "0",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.util.BindingKeyParser.parseInnerType",
          "source": "BindingKeyParser.java:678"
        },
        {
          "method": "org.eclipse.jdt.internal.core.util.BindingKeyParser.parse",
          "source": "BindingKeyParser.java:558"
        },
        {
          "method": "org.eclipse.jdt.internal.core.util.BindingKeyParser.parse",
          "source": "BindingKeyParser.java:540"
        },
        {
          "method": "org.eclipse.jdt.internal.core.util.BindingKeyResolver.getCompilerBinding",
          "source": "BindingKeyResolver.java:439"
        },
        {
          "method": "org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve",
          "source": "CompilationUnitResolver.java:795"
        },
        {
          "method": "org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve",
          "source": "CompilationUnitResolver.java:460"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTParser.createASTs",
          "source": "ASTParser.java:664"
        },
        {
          "method": "org.eclipse.jdt.apt.core.internal.env.BaseProcessorEnv.getTypeBindingFromKey",
          "source": "BaseProcessorEnv.java:477"
        },
        {
          "method": "org.eclipse.jdt.apt.core.internal.env.BaseProcessorEnv.getTypeDefinitionBindingFromCorrectName",
          "source": "BaseProcessorEnv.java:428"
        },
        {
          "method": "org.eclipse.jdt.apt.core.internal.env.BaseProcessorEnv.getTypeDefinitionBindingFromName",
          "source": "BaseProcessorEnv.java:444"
        },
        {
          "method": "org.eclipse.jdt.apt.core.internal.env.BaseProcessorEnv.getTypeDeclaration",
          "source": "BaseProcessorEnv.java:389"
        },
        {
          "method": "org.eclipse.jdt.apt.core.internal.env.ProcessorEnvImpl.getTypeDeclaration",
          "source": "ProcessorEnvImpl.java:331"
        },
        {
          "method": "org.apache.beehive.netui.compiler.typesystem.impl.env.CoreAnnotationProcessorEnvImpl.getTypeDeclaration",
          "source": "CoreAnnotationProcessorEnvImpl.java:85"
        },
        {
          "method": "org.apache.beehive.netui.compiler.grammar.WebappPathType.checkRelativePath",
          "source": "WebappPathType.java:206"
        },
        {
          "method": "org.apache.beehive.netui.compiler.grammar.WebappPathType.onCheck",
          "source": "WebappPathType.java:150"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "133947",
      "date": "2006-03-30T00:24:24+02:00",
      "product": "JDT",
      "component": "APT",
      "severity": "minor"
    }
  ],
  "groupId": "133947",
  "bugId": "133947",
  "date": "2006-03-30T00:24:24+02:00",
  "product": "JDT",
  "component": "APT",
  "severity": "minor"
}