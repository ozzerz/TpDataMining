{
  "comments": [
    "Rename refactorings currently only consider Java files. As a result renaming a \nJava class that is referenced in a plugin.xml file too, doesn\u0027t update the \nplugin.xml file. There are two alternatives to solve this problem:\n\n1.) do a textual find/replace on certain files too (for example files with the \nextension .xml). But this can lead to a wrong refactoring too, since it doesn\u0027t \nknow anything about the structure of the xml file and might change occurences \nwhich aren\u0027t releated to the changed Java element.\n2.) open the refactoring framework for other plugins so that PDE could supply \nits own plugin.xml refactoring.\n\nShort term should be (1), long term solution should be (2).",
    "Dirk mentioned two possibilities when he opened this bug based on my report; I \nvote for the second one: \"open the refactoring framework for other plugins so \nthat PDE could supply its own plugin.xml refactoring\", assuming that means \"make \nthe refactor-gizmo work on xml files the way it does on java files: i.e., in \nJava it knows where/how to look for imports, method-calls, etc. -- SO, in XML, \nit should know to look for tags or whatever they are called\"",
    "Seems to be a dupe of 299?",
    "Here are two kinds of failures that show that refactoring should and could \nconsider the plugin.xml file: \n\nIn a project Foo, created by using the Plugin wizards (my tests were in a plugin \nthat added an action to the main menu): \n\na) rename the (wizard-generated) package in which the plugin\u0027s classes are \nfound; there is one reference to that package for the FooPlugin.java class and \none for the EditActionDelegate; see b and c for the effects of failing to change \nthose references (if both are unchanged, go to # b).\n\nb) rename the EditorActionDelegate class; if the plugin.xml isn\u0027t made \nconsistent, the action (if the plugin is an action) will appear in the runtime \nworkspace, but will crash on invocation, with the stack trace below, and the \nmessage (in the console): \"Plug-in \u003cid of plugin\u003e was unable to load class \n\u003cpackage\u003e.\u003cwrong name of class\u003e.\" \n\njava.lang.ClassNotFoundException: \u003cpackage\u003e.\u003cwrong name of class\u003e\n\tat \norg.eclipse.core.internal.boot.DelegatingURLClassLoader.loadClass(DelegatingURLC\nlassLoader.java(Compiled Code))\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java(Compiled Code))\n\tat \norg.eclipse.core.internal.plugins.PluginDescriptor.createExecutableExtension(Plu\nginDescriptor.java:148)\n\tat \norg.eclipse.core.internal.plugins.PluginDescriptor.createExecutableExtension(Plu\nginDescriptor.java:185)\n\tat \norg.eclipse.core.internal.plugins.ConfigurationElement.createExecutableExtension\n(ConfigurationElement.java:97)\n\tat \norg.eclipse.ui.internal.WorkbenchPlugin$1.run(WorkbenchPlugin.java:103)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:98)\n\tat \norg.eclipse.ui.internal.WorkbenchPlugin.createExtension(WorkbenchPlugin.java:100\n)\n\tat \norg.eclipse.ui.internal.PluginAction.createDelegate(PluginAction.java:70)\n\tat \norg.eclipse.ui.internal.EditorPluginAction.createDelegate(EditorPluginAction.jav\na:37)\n\tat org.eclipse.ui.internal.PluginAction.run(PluginAction.java:114)\n\tat \norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionCont\nributionItem.java:407)\n\tat \norg.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionContribu\ntionItem.java:361)\n\tat \norg.eclipse.jface.action.ActionContributionItem.access$0(ActionContributionItem.\njava:352)\n\tat \norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(Actio\nnContributionItem.java:47)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:634)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1282)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1092)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:673)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:656)\n\tat \norg.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:81\n5)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:285)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:151)\n\tat org.eclipse.core.launcher.Main.run(Main.java:433)\n\tat org.eclipse.core.launcher.UIMain.main(UIMain.java:52)\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n\nc) given that the problem described in # b is not present, then rename the \n(wizard-generated) plugin class; if the plugin.xml isn\u0027t made consistent, the \naction (if the plugin is an action) will appear in the runtime workspace, but \nwill crash on invocation, with the stack trace below, and the message (in the \nconsole): \"Plugin \u003cid of plugin\u003e activation failed while loading class \n\u003cpackage\u003e.\u003ceditor action delegate class\u003e\"\n\njava.lang.ClassNotFoundException: \u003cpackage\u003e.\u003cplugin class\u003e\n\tat \norg.eclipse.core.internal.boot.DelegatingURLClassLoader.loadClass(DelegatingURLC\nlassLoader.java(Compiled Code))\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java(Compiled Code))\n\tat \norg.eclipse.core.internal.plugins.PluginDescriptor.internalDoPluginActivation(Pl\nuginDescriptor.java:615)\n\tat \norg.eclipse.core.internal.plugins.PluginDescriptor.doPluginActivation(PluginDesc\nriptor.java:204)\n\tat \norg.eclipse.core.internal.plugins.PluginClassLoader.activatePlugin(PluginClassLo\nader.java:52)\n\tat \norg.eclipse.core.internal.plugins.PluginClassLoader.findClassParentsSelf(PluginC\nlassLoader.java(Compiled Code))\n\tat \norg.eclipse.core.internal.boot.DelegatingURLClassLoader.loadClass(DelegatingURLC\nlassLoader.java(Compiled Code))\n\tat \norg.eclipse.core.internal.boot.DelegatingURLClassLoader.loadClass(DelegatingURLC\nlassLoader.java(Compiled Code))\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java(Compiled Code))\n\tat \norg.eclipse.core.internal.plugins.PluginDescriptor.createExecutableExtension(Plu\nginDescriptor.java:148)\n\tat \norg.eclipse.core.internal.plugins.PluginDescriptor.createExecutableExtension(Plu\nginDescriptor.java:185)\n\tat \norg.eclipse.core.internal.plugins.ConfigurationElement.createExecutableExtension\n(ConfigurationElement.java:97)\n\tat \norg.eclipse.ui.internal.WorkbenchPlugin$1.run(WorkbenchPlugin.java:103)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:98)\n\tat \norg.eclipse.ui.internal.WorkbenchPlugin.createExtension(WorkbenchPlugin.java:100\n)\n\tat \norg.eclipse.ui.internal.PluginAction.createDelegate(PluginAction.java:70)\n\tat \norg.eclipse.ui.internal.EditorPluginAction.createDelegate(EditorPluginAction.jav\na:37)\n\tat org.eclipse.ui.internal.PluginAction.run(PluginAction.java:114)\n\tat \norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionCont\nributionItem.java:407)\n\tat \norg.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionContribu\ntionItem.java:361)\n\tat \norg.eclipse.jface.action.ActionContributionItem.access$0(ActionContributionItem.\njava:352)\n\tat \norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(Actio\nnContributionItem.java:47)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:634)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1282)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1092)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:673)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:656)\n\tat \norg.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:81\n5)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:285)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:151)\n\tat org.eclipse.core.launcher.Main.run(Main.java:433)\n\tat org.eclipse.core.launcher.UIMain.main(UIMain.java:52)\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n",
    "*** Bug 299 has been marked as a duplicate of this bug. ***",
    "We would like to have this feature, but is is not a priority for 2.0.\n\nPostpone \u003e 2.0",
    "How is \"Later\" a resolution?  What Mozilla does with bugs they don\u0027t want to\nsolve immediately is that they assign the bug to \"nobody@mozilla.org\" and add\nthe keyword \"helpwanted\".  IMO, it would be great if you guys could do the same.\n\nSome advantages of that is that:\n* Unresolved bugs aren\u0027t marked as \"resolved\"...\n* Easy to for people who want to help to find out where help is needed.\n\n",
    "Good suggestion. \n\nWe already started to flag PRs with \u0027helpwanted\u0027 but we don\u0027t assign these bugs \nto nobody@oti.com. We are looking into changing our procedure accordingly.\n\n ",
    "I agree with Dirk, currently nobody is me...",
    "If this might increase its priority (\"increase\" in the sense of \"sooner\") \nhere\u0027s another case: \n\ncreate, compile, etc. a plugin Foo; all is well \n\ncreate, compile, make dependent upon Foo another plugin Bar; all is well\n\nnow rename the *project* Foo to Food.  Ooops -- Bar barfs, and one needs to go \nboth to Bar\u0027s manifest editor to reset the dependency from Foo (still oddly a \npossibility) to Food by hand, and also go to Bar\u0027s Project properties and \nreset the project reference from Foo (still oddly a possibility) to Food by \nhand.\n\n\n",
    "I got burned by this as well and I would really like to have this feature. \n\nAs has been suggested in this bug there is 1) a quick and dirty way (text \nsearch) or 2) supporting refactoring in other file types. \n\nWe should do 2) but 2) is work and we can\u0027t commit to it for 2.0.",
    "Not clear yet if refactoring will become public in 2.x or 3.x",
    "*** Bug 27035 has been marked as a duplicate of this bug. ***",
    "We should also consider working sets and lauch configs when introducing \nrefactoring participants.",
    "option to search in non-Java file is now available."
  ],
  "commentCreationDates": [
    "2001-12-03T09:31:40+01:00",
    "2001-12-12T15:25:18+01:00",
    "2001-12-21T19:33:37+01:00",
    "2002-01-04T16:05:21+01:00",
    "2002-01-10T09:52:57+01:00",
    "2002-01-10T09:56:47+01:00",
    "2002-01-10T10:14:56+01:00",
    "2002-01-15T09:18:34+01:00",
    "2002-01-15T13:37:03+01:00",
    "2002-01-30T16:16:26+01:00",
    "2002-01-31T10:59:36+01:00",
    "2002-07-25T20:18:43+02:00",
    "2002-11-25T10:08:13+01:00",
    "2002-11-25T10:08:47+01:00",
    "2003-02-20T22:12:57+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassNotFoundException",
      "message": "\u003cpackage\u003e.\u003cwrong name of class\u003e",
      "elements": [
        {
          "method": "org.eclipse.core.internal.boot.DelegatingURLClassLoader.loadClass",
          "source": "DelegatingURLC lassLoader.java(Compiled Code)"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginDescriptor.createExecutableExtension",
          "source": "Plu ginDescriptor.java:148"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginDescriptor.createExecutableExtension",
          "source": "Plu ginDescriptor.java:185"
        },
        {
          "method": "org.eclipse.core.internal.plugins.ConfigurationElement.createExecutableExtension",
          "source": "ConfigurationElement.java:97"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPlugin$1.run",
          "source": "WorkbenchPlugin.java:103"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:98"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPlugin.createExtension",
          "source": "WorkbenchPlugin.java:100 "
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.createDelegate",
          "source": "PluginAction.java:70"
        },
        {
          "method": "org.eclipse.ui.internal.EditorPluginAction.createDelegate",
          "source": "EditorPluginAction.jav a:37"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.run",
          "source": "PluginAction.java:114"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionCont ributionItem.java:407"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContribu tionItem.java:361"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem. java:352"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "Actio nContributionItem.java:47"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:634"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1282"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1092"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:673"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:656"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:81 5"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:285"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:151"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:433"
        },
        {
          "method": "org.eclipse.core.launcher.UIMain.main",
          "source": "UIMain.java:52"
        }
      ],
      "number": 0,
      "commentIndex": 3,
      "bugId": "6496",
      "date": "2002-01-04T16:05:21+01:00",
      "product": "JDT",
      "component": "UI",
      "severity": "enhancement"
    },
    {
      "exceptionType": "java.lang.ClassNotFoundException",
      "message": "\u003cpackage\u003e.\u003cplugin class\u003e",
      "elements": [
        {
          "method": "org.eclipse.core.internal.boot.DelegatingURLClassLoader.loadClass",
          "source": "DelegatingURLC lassLoader.java(Compiled Code)"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginDescriptor.internalDoPluginActivation",
          "source": "Pl uginDescriptor.java:615"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginDescriptor.doPluginActivation",
          "source": "PluginDesc riptor.java:204"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginClassLoader.activatePlugin",
          "source": "PluginClassLo ader.java:52"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginClassLoader.findClassParentsSelf",
          "source": "PluginC lassLoader.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.core.internal.boot.DelegatingURLClassLoader.loadClass",
          "source": "DelegatingURLC lassLoader.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.core.internal.boot.DelegatingURLClassLoader.loadClass",
          "source": "DelegatingURLC lassLoader.java(Compiled Code)"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginDescriptor.createExecutableExtension",
          "source": "Plu ginDescriptor.java:148"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginDescriptor.createExecutableExtension",
          "source": "Plu ginDescriptor.java:185"
        },
        {
          "method": "org.eclipse.core.internal.plugins.ConfigurationElement.createExecutableExtension",
          "source": "ConfigurationElement.java:97"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPlugin$1.run",
          "source": "WorkbenchPlugin.java:103"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:98"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPlugin.createExtension",
          "source": "WorkbenchPlugin.java:100 "
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.createDelegate",
          "source": "PluginAction.java:70"
        },
        {
          "method": "org.eclipse.ui.internal.EditorPluginAction.createDelegate",
          "source": "EditorPluginAction.jav a:37"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.run",
          "source": "PluginAction.java:114"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionCont ributionItem.java:407"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContribu tionItem.java:361"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem. java:352"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "Actio nContributionItem.java:47"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:634"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1282"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1092"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:673"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:656"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:81 5"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:285"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:151"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:433"
        },
        {
          "method": "org.eclipse.core.launcher.UIMain.main",
          "source": "UIMain.java:52"
        }
      ],
      "number": 1,
      "commentIndex": 3,
      "bugId": "6496",
      "date": "2002-01-04T16:05:21+01:00",
      "product": "JDT",
      "component": "UI",
      "severity": "enhancement"
    }
  ],
  "groupId": "6496",
  "bugId": "6496",
  "date": "2001-12-03T09:31:40+01:00",
  "product": "JDT",
  "component": "UI",
  "severity": "enhancement"
}