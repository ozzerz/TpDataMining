{
  "comments": [
    "I20040513\n\n1. debugged a run-time workbench. \n2. Changed some classes and it was out of synch.\n3. Closed the target via its window close handle (X in upper right corner)\n-\u003e the target did not shut down\n4. In my host workbench, debug view, I hit the terminate button\n-\u003e host workbench dead in water, vm thread dump follows",
    "Created an attachment (id\u003d10639)\nfull session dump\n\nfull session dump including exceptions and vm thread dump",
    "the attached log shows some old (i.e. yesterday) exceptions which I am not sure\nof whether they play a role here. The vm dump shows the following interesting\nparts (repeated here to be searchable by bugzilla):\n\n\nThreadName\u003dmain(0x8052374)\nStatus\u003dBlocked\nMonitor\u003d0x8fde6c8 (Object monitor for java/lang/UNIXProcess @ 0x44509c40)\nCount\u003d1\nOwner\u003dWorker-20(0xa3c6300)\n        In org/eclipse/debug/core/model/RuntimeProcess.terminate()V\n        In org/eclipse/jdt/internal/debug/core/model/JDIDebugTarget.terminate()V\n        In org/eclipse/jdt/internal/debug/core/model/JDIThread.terminate()V\n        In\norg/eclipse/debug/internal/ui/actions/TerminateActionDelegate.doAction(Ljava/lang/Object;)V\n        In\norg/eclipse/debug/internal/ui/actions/AbstractDebugActionDelegate$1.run()V\n        In\norg/eclipse/swt/custom/BusyIndicator.showWhile(Lorg/eclipse/swt/widgets/Display;Ljava/lang/Runnable;)V\n        In\norg/eclipse/debug/internal/ui/actions/AbstractDebugActionDelegate.run(Lorg/eclipse/jface/action/IAction;)V\n        In\norg/eclipse/debug/internal/ui/actions/AbstractListenerActionDelegate.runWithEvent(Lorg/eclipse/jface/action/IAction;Lorg/eclipse/swt/widgets/Event;)V\n[...]\n\nThreadName\u003dWorker-20(0x8052f50)\nStatus\u003dRunning\n        In java/lang/Object.wait(JI)V\n        In java/lang/Object.wait()V\n        In java/lang/UNIXProcess.waitFor()I\n        In\norg/eclipse/debug/core/model/RuntimeProcess$ProcessMonitorJob.run(Lorg/eclipse/core/runtime/IProgressMonitor;)Lorg/eclipse/core/runtime/IStatus;\n        In org/eclipse/core/internal/jobs/Worker.run()V\n\nThreadName\u003dThread-28(0x8052820)\nStatus\u003dBlocked\nMonitor\u003d0x8fde6c8 (Object monitor for java/lang/UNIXProcess @ 0x44509c40)\nCount\u003d1\nOwner\u003dWorker-20(0xa3c6300)\n        In java/lang/UNIXProcess.deadChild(II)V\n        In java/lang/ProcHelper.run0(Ljava/lang/Process;)V\n        In java/lang/ProcHelper.run()V\n\nThreadName\u003dstderr reader pid\u003d7687(0x8052ccc)\nStatus\u003dBlocked\nMonitor\u003d0x8fde6c8 (Object monitor for java/lang/UNIXProcess @ 0x44509c40)\nCount\u003d1\nOwner\u003dWorker-20(0xa3c6300)\n        In java/lang/ProcessInputStream.run()V\n        In java/lang/Thread.run()V\n",
    "Got this *after* the thread dump:\n\n!STACK 1\norg.eclipse.debug.core.DebugException[100]:\ncom.sun.jdi.IncompatibleThreadStateException: Thread was not suspended\n        at java.lang.Throwable.\u003cinit\u003e(Throwable.java)\n        at java.lang.Throwable.\u003cinit\u003e(Throwable.java)\n        at\ncom.sun.jdi.IncompatibleThreadStateException.\u003cinit\u003e(IncompatibleThreadStateException.java:17)\n        at\norg.eclipse.jdi.internal.ThreadReferenceImpl.frameCount(ThreadReferenceImpl.java:152)\n        at\norg.eclipse.jdt.internal.debug.core.model.JDIThread.getUnderlyingFrameCount(JDIThread.java:628)\n        at\norg.eclipse.jdt.internal.debug.core.model.JDIThread.createAllStackFrames(JDIThread.java:542)\n        at\norg.eclipse.jdt.internal.debug.core.model.JDIThread.computeStackFrames(JDIThread.java)\n        at\norg.eclipse.jdt.internal.debug.core.model.JDIThread.computeStackFrames(JDIThread.java)\n        at\norg.eclipse.jdt.internal.debug.core.model.JDIThread.isOutOfSynch(JDIThread.java)\n        at\norg.eclipse.jdt.internal.debug.ui.JDIModelPresentation.computeJDIAdornmentFlags(JDIModelPresentation.java)\n        at\norg.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getDebugElementImage(JDIModelPresentation.java)\n        at\norg.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getImage(JDIModelPresentation.java)\n        at\norg.eclipse.debug.internal.ui.LazyModelPresentation.getImage(LazyModelPresentation.java)\n        at\norg.eclipse.debug.internal.ui.DelegatingModelPresentation.getImage(DelegatingModelPresentation.java)\n        at\norg.eclipse.debug.internal.ui.views.DebugViewInterimLabelProvider.getImage(DebugViewInterimLabelProvider.java)\n        at\norg.eclipse.jface.viewers.DecoratingLabelProvider.getImage(DecoratingLabelProvider.java)\n        at\norg.eclipse.debug.internal.ui.views.launch.LaunchViewer.doUpdateItem(LaunchViewer.java)\n        at\norg.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run(AbstractTreeViewer.java)\n        at\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java)\n        at org.eclipse.core.runtime.Platform.run(Platform.java)\n        at\norg.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java)\n        at\norg.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run(StructuredViewer.java)\n        at\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java)\n        at org.eclipse.core.runtime.Platform.run(Platform.java)\n        at\norg.eclipse.jface.viewers.StructuredViewer.updateItem(StructuredViewer.java)\n        at org.eclipse.jface.viewers.StructuredViewer.update(StructuredViewer.java)\n        at org.eclipse.jface.viewers.StructuredViewer.update(StructuredViewer.java)\n        at\norg.eclipse.debug.internal.ui.views.DebugViewDecoratingLabelProvider.labelsComputed(DebugViewDecoratingLabelProvider.java)\n        at\norg.eclipse.debug.internal.ui.views.DebugViewLabelDecorator$1.run(DebugViewLabelDecorator.java:135)\n        at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java)\n        at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java)\n        at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java)\n        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1353)\n        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1324)\n        at\norg.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:243)\n        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\n        at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:90)\n        at\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:298)\n        at\norg.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:249)\n        at\norg.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:126)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:79)\n",
    "Looks like a VM issue where a thread that is in a wait is holding a lock - \nWorker-20 is blocking the main thread, but should have released the lock.",
    "Tom, have you been able to reproduce this with a newer VM? ",
    "not recently, when I have been running a sun vm. This supports the vm thesis.",
    "marking as won\u0027t fix"
  ],
  "commentCreationDates": [
    "2004-05-14T10:49:30+02:00",
    "2004-05-14T10:50:30+02:00",
    "2004-05-14T10:53:48+02:00",
    "2004-05-14T10:59:43+02:00",
    "2004-06-02T22:15:31+02:00",
    "2004-06-07T16:03:18+02:00",
    "2004-06-07T16:06:07+02:00",
    "2004-06-07T16:11:51+02:00"
  ],
  "traces": [
    {
      "exceptionType": "com.sun.jdi.IncompatibleThreadStateException",
      "message": "Thread was not suspended",
      "elements": [
        {
          "method": "java.lang.Throwable.\u003cinit\u003e",
          "source": "Throwable.java"
        },
        {
          "method": "java.lang.Throwable.\u003cinit\u003e",
          "source": "Throwable.java"
        },
        {
          "method": "com.sun.jdi.IncompatibleThreadStateException.\u003cinit\u003e",
          "source": "IncompatibleThreadStateException.java:17"
        },
        {
          "method": "org.eclipse.jdi.internal.ThreadReferenceImpl.frameCount",
          "source": "ThreadReferenceImpl.java:152"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread.getUnderlyingFrameCount",
          "source": "JDIThread.java:628"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread.createAllStackFrames",
          "source": "JDIThread.java:542"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread.computeStackFrames",
          "source": "JDIThread.java"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread.computeStackFrames",
          "source": "JDIThread.java"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread.isOutOfSynch",
          "source": "JDIThread.java"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.computeJDIAdornmentFlags",
          "source": "JDIModelPresentation.java"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getDebugElementImage",
          "source": "JDIModelPresentation.java"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getImage",
          "source": "JDIModelPresentation.java"
        },
        {
          "method": "org.eclipse.debug.internal.ui.LazyModelPresentation.getImage",
          "source": "LazyModelPresentation.java"
        },
        {
          "method": "org.eclipse.debug.internal.ui.DelegatingModelPresentation.getImage",
          "source": "DelegatingModelPresentation.java"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.DebugViewInterimLabelProvider.getImage",
          "source": "DebugViewInterimLabelProvider.java"
        },
        {
          "method": "org.eclipse.jface.viewers.DecoratingLabelProvider.getImage",
          "source": "DecoratingLabelProvider.java"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchViewer.doUpdateItem",
          "source": "LaunchViewer.java"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run",
          "source": "AbstractTreeViewer.java"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem",
          "source": "AbstractTreeViewer.java"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run",
          "source": "StructuredViewer.java"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateItem",
          "source": "StructuredViewer.java"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.update",
          "source": "StructuredViewer.java"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.update",
          "source": "StructuredViewer.java"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.DebugViewDecoratingLabelProvider.labelsComputed",
          "source": "DebugViewDecoratingLabelProvider.java"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.DebugViewLabelDecorator$1.run",
          "source": "DebugViewLabelDecorator.java:135"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1353"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1324"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:243"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:141"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:90"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:298"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:249"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:126"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:79"
        }
      ],
      "number": 0,
      "commentIndex": 3,
      "bugId": "62223",
      "date": "2004-05-14T10:59:43+02:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "62223",
  "bugId": "62223",
  "date": "2004-05-14T10:49:30+02:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "normal"
}