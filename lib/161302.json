{
  "comments": [
    "[DEBUG][12:43:59][clipse.ohf.bridge.ws.OHFBridge] degistering new paptient PatientInfoType ( patientIdentifier\u003d[PIDType ( idNumber\u003d[null]    assigningAuthorityName\u003d[Lightweight OHF portal]    assigningAuthorityUniversalId\u003d[1.3.6.1.4.1.21367.2005.1.1]    assigningAuthorityUniversalIdType\u003d[ISO]     )]    patientName\u003d[PatientNameType ( familyName\u003d[Python]    givenName\u003d[Java]    otherName\u003d[]    suffix\u003d[]    prefix\u003d[]     )]    patientDateOfBirth\u003d[19160111]    patientSex\u003d[M]    patientAddress\u003d[AddressType ( streetAddress\u003d[]    otherDesignation\u003d[null]    city\u003d[San Jose]    stateOrProvince\u003d[CA]    zipOrPostalCode\u003d[12345]    country\u003d[USA]    countyParishCode\u003d[null]     )]    patientPhoneHome\u003d[PhoneType ( unformattedTelephoneNumber\u003d[]     )]    patientPhoneBusiness\u003d[PhoneType (\nunformattedTelephoneNumber\u003d[]     )]     )\nEishay comment: using FileAppender with filename: C:\\projects\\openHII\\bridge.install\\apache-tomcat-5.5.17\\bin\\bridge\\Dallas\\Default Clinic\\eishay.log with append attribute \u003d true\nEishay comment: output file is C:\\projects\\openHII\\bridge.install\\apache-tomcat-5.5.17\\bin\\bridge\\Dallas\\Default Clinic\\eishay.log with append attribute \u003d true\nEishay comment: output file is C:\\projects\\openHII\\bridge.install\\apache-tomcat-5.5.17\\bin\\bridge\\Dallas\\Default Clinic\\eishay.log with append attribute \u003d true\n[DEBUG][12:43:59][.conf.RhioConfigManagerEmfImpl] Found confugurations for rhio Dallas\n[DEBUG][12:43:59][ge.conf.RhioDedicatedResources] new RhioDedicatedResources(RhioConfig ( mName\u003d[Dallas]    mDefault\u003d[true]    mPixURL\u003d[http://ibmod235.dal-ebis.ihost.com:3600]    mRegistryURL\u003d[http://ibmod235.dal-ebis.ihost.com:9080/ihii/registry/soap]    mRepositoryURL\u003d[http://ibmod235.dal-ebis.ihost.com:9080/IHIIRepository/SubmissionSetReceiver]    mAuditURL\u003d[]    mDoAudit\u003d[false]\nmPixApplicationName\u003d[PAT_IDENTITY_X_REF_MGR_IBM1]    mAssigningAuthorityName\u003d[HIMSS2005]    mAssigningAuthorityUniversalId\u003d[1.3.6.1.4.1.21367.2005.1.1]    mAssigningAuthorityUniversalIdType\u003d[ISO]     ))\n[DEBUG][12:43:59][ge.conf.RhioDedicatedResources] Starting PixSource getPixSourcePixDestination()  in Session Context id[a20c95ebab710979ce9f0b1b7549aac9] user[eishay] rhio[Dallas] application[OHF light weight portal] facility[Default Clinic]\n[DEBUG][12:43:59][ge.conf.RhioDedicatedResources] creating PixSource\n[DEBUG][12:43:59][ge.conf.RhioDedicatedResources] using HL7DefinitionsFile \u003d C:\\projects\\openHII\\bridge.install\\apache-tomcat-5.5.17\\conf\\hl7Definitions.stream\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixFeedMsg: createFeedMsg - Entry\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-3-1 : MSH-3\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-4-1 : MSH-4\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-5-1 : MSH-5\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-6-1 : MSH-6\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-11-1 : MSH-11\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-12 : MSH-12\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-18-1 : MSH-18\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField PID-3-4-1 : PID-3\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-7 : MSH-7\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-10 : MSH-10\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField PID-3-1 : PID-3\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField EVN-2-1 : EVN-2\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField PV1-2 : PV1-2\n[DEBUG][12:44:01][ource.PixMsgRegisterOutpatient] PixMsgAdmitPatient: createA04Fields\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-3-1 : MSH-3\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-3-2 : MSH-3\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-3-3 : MSH-3\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: changeDefaultSendingApplication\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-4-1 : MSH-4\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-4-2 : MSH-4\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-4-3 : MSH-4\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: changeDefaultSendingFacility\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-5-1 : MSH-5\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-5-2 : MSH-5\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-5-3 : MSH-5\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: changeDefaultReceivingApplication\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-6-1 : MSH-6\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-6-2 : MSH-6\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-6-3 : MSH-6\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: changeDefaultRecievingFacility\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField PID-5-2 : PID-5\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: addOptionalPatientNameGivenName\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField PID-5-1-1 : PID-5\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: addOptionalPatientNameFamilyName\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField PID-8 : PID-8\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: addOptionalPatientSex\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField PID-7 : PID-7\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: addOptionalPatientDateOfBirth\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField PID-11-3 : PID-11\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: addOptionalPatientAddressCity\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField PID-11-4 : PID-11\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: addOptionalPatientAddressStateOrProvince\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField PID-11-6 : PID-11\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: addOptionalPatientAddressCountry\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField PID-11-5 : PID-11\n[DEBUG][12:44:01][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: addOptionalPatientAddressZipOrPostalCode\n[DEBUG][12:44:01][ge.conf.RhioDedicatedResources] Starting PixSource getPixSourcePixDestination()  in Session Context id[a20c95ebab710979ce9f0b1b7549aac9] user[eishay] rhio[Dallas] application[OHF light weight portal] facility[Default Clinic]\n[DEBUG][12:44:01][common.hl7v2.mllpclient.Client] Client: sendMsg -- Entry\n[DEBUG][12:44:01][common.hl7v2.mllpclient.Client] Client: send - Entry\nMSH|^~\\\u0026|OHF light weight portal|Default Clinic|PAT_IDENTITY_X_REF_MGR_IBM1|Dallas|20061017124401.PDT||ADT^A04^ADT_A01|26521451362PV1||O^^^HIMSS2005||Python^Java||19160111|M|||^^San Jose^CA^12345^USA\n[DEBUG][12:44:01][he.common.mllp.MLLPDestination] MLLPDestination: sendMessage - Entry\n[INFO ][12:44:01][he.common.mllp.MLLPDestination] *** Sending message to ibmod235.dal-ebis.ihost.com on port 3600\nMSH|^~\\\u0026|OHF light weight portal|Default Clinic|PAT_IDENTITY_X_REF_MGR_IBM1|Dallas|20061017124401.PDT||ADT^A04^ADT_A01|26521451362PV1||O^^^HIMSS2005||Python^Java||19160111|M|||^^San Jose^CA^12345^USA\n[DEBUG][12:44:01][he.common.mllp.MLLPDestination] \u0026#9794;MSH|^~\\\u0026|OHF light weight portal|Default Clinic|PAT_IDENTITY_X_REF_MGR_IBM1|Dal\u0026#8735;V1||O^^^HIMSS2005||Python^Java||19160111|M|||^^San Jose^CA^12345^USA\n[DEBUG][12:44:01][he.common.mllp.MLLPDestination] sending the server: \u0026#9794;MSH|^~\\\u0026|OHF light weight portal|Default Clinic|PAT_IDENTIT\u0026#8735;V1||O^^^HIMSS2005||Python^Java||19160111|M|||^^San Jose^CA^12345^USA6254111350|P|2.3.1\n[DEBUG][12:44:01][he.common.mllp.MLLPDestination] \u0026#9794;MSH|^~\\\u0026|OHF light weight portal|Default Clinic|PAT_IDENTITY_X_REF_MGR_IBM1|Dal\u0026#8735;V1||O^^^HIMSS2005||Python^Java||19160111|M|||^^San Jose^CA^12345^USA\n[DEBUG][12:44:01][he.common.mllp.MLLPDestination] done sending the message to the server\n[DEBUG][12:44:01][he.common.mllp.MLLPDestination] Response was: MSH|^~\\\u0026|DUMMYSENDAPP|DUMMYSENDFACILITY|DUMMYRCVAPP|DUMMYRCVFACILIERR||MSH^1^3|204|W|CONTROLID|UM|DUMMYMESSAGECONTROLID|P|2.5|\n[INFO ][12:44:01][he.common.mllp.MLLPDestination] *** Response from ibmod235.dal-ebis.ihost.com on port 3600 was:\nERR||MSH^1^3|204|W|CONTROLID|NDFACILITY|DUMMYRCVAPP|DUMMYRCVFACILITY|20061017144404-0500||ACK^DUM|DUMMYMESSAGECONTROLID|P|2.5|\n[DEBUG][12:44:01][he.common.mllp.MLLPDestination] MLLPDestination: sendMessage - Exit\n[DEBUG][12:44:01][common.hl7v2.mllpclient.Client] Client: send - Exit SEND_MLLP\n[DEBUG][12:44:01][common.hl7v2.mllpclient.Client] Client: send - Exit\n[DEBUG][12:44:01][common.hl7v2.mllpclient.Client] Client: sendMsg - Exit\n[DEBUG][12:44:01][e.pix.source.PixSourceResponse] PixSourceResponse: init - found error segment in pix source response\n[ERROR][12:44:01][clipse.ohf.bridge.ws.OHFBridge] failed at RegisterOutpatient\norg.eclipse.ohf.ihe.pix.source.PixSourceException: org.eclipse.ohf.ihe.common.hl7v2.mllpclient.ClientException: ClientUtilities: getFieldComponentsInRepeat - invalid parameters\n        at org.eclipse.ohf.ihe.pix.source.PixSourceResponse.getErrorCodeAndLocation(PixSourceResponse.java:369)\n        at org.eclipse.ohf.bridge.pix.PIXSourceBridge.parseError(PIXSourceBridge.java:326)\n        at org.eclipse.ohf.bridge.pix.PIXSourceBridge.registerOutpatient(PIXSourceBridge.java:211)\n        at org.eclipse.ohf.bridge.ws.OHFBridge.RegisterOutpatient(OHFBridge.java:290)\nCaused by:\norg.eclipse.ohf.ihe.common.hl7v2.mllpclient.ClientException: ClientUtilities: getFieldComponentsInRepeat - invalid parameters\n        at org.eclipse.ohf.ihe.common.hl7v2.mllpclient.ClientUtilities.getFieldComponentsInRepeat(ClientUtilities.java:203)\n        at org.eclipse.ohf.ihe.pix.source.PixSourceResponse.getErrorCodeAndLocation(PixSourceResponse.java:367)\n        ... 40 more",
    "Now using local patient id, still have problems.\nNote that there is an exception while parsing the error code from the server.\n\n\n[DEBUG][15:31:11][bridge.conf.TransactionContext] ......................................................................\n[DEBUG][15:31:11][bridge.conf.TransactionContext] Start transaction mark for Session Context id[a20c95ebab710979ce9f0b1b7549aac9] user[eishay] rhio[Dallas] application[OHF light weight portal] facility[Default Clinic]\n[DEBUG][15:31:11][bridge.conf.TransactionContext] Start transaction mark for Session Context id[a20c95ebab710979ce9f0b1b7549aac9] user[eishay] rhio[Dallas] application[OHF light weight portal] facility[Default Clinic]\n[DEBUG][15:31:11][bridge.conf.TransactionContext] ......................................................................\n[DEBUG][15:31:11][bridge.conf.TransactionContext] ......................................................................\n[DEBUG][15:31:11][clipse.ohf.bridge.ws.OHFBridge] degistering new paptient PatientInfoType ( patientIdentifier\u003d[PIDType ( idNumber\u003d[my_id]    assigningAuthorityName\u003d[Lightweight OHF portal]    assigningAuthorityUniversalId\u003d[1.3.6.1.4.1.21367.2005.1.1]    assigningAuthorityUniversalIdType\u003d[ISO]     )]    patientName\u003d[PatientNameType ( familyName\u003d[bar]    givenName\u003d[foo]    otherName\u003d[]    suffix\u003d[]    prefix\u003d[]     )]    patientDateOfBirth\u003d[19000101]    patientSex\u003d[M]    patientAddress\u003d[AddressType ( streetAddress\u003d[]    otherDesignation\u003d[null]    city\u003d[]    stateOrProvince\u003d[]    zipOrPostalCode\u003d[]    country\u003d[]    countyParishCode\u003d[null]     )]    patientPhoneHome\u003d[PhoneType ( unformattedTelephoneNumber\u003d[]     )]    patientPhoneBusiness\u003d[PhoneType ( unformattedTelephoneNumber\u003d[]     )]     )\n[DEBUG][15:31:11][.conf.RhioConfigManagerEmfImpl] Found confugurations for rhio Dallas\n[DEBUG][15:31:11][ge.conf.RhioDedicatedResources] new RhioDedicatedResources(RhioConfig ( mName\u003d[Dallas]    mDefault\u003d[true]    mPixURL\u003d[http://ibmod235.dal-ebis.ihost.com:3600]    mRegistryURL\u003d[http://ibmod235.dal-ebis.ihost.com:9080/ihii/registry/soap]    mRepositoryURL\u003d[http://ibmod235.dal-ebis.ihost.com:9080/IHIIRepository/SubmissionSetReceiver]    mAuditURL\u003d[]    mDoAudit\u003d[false]    mPixApplicationName\u003d[PAT_IDENTITY_X_REF_MGR_IBM1]    mAssigningAuthorityName\u003d[HIMSS2005]    mAssigningAuthorityUniversalId\u003d[1.3.6.1.4.1.21367.2005.1.1]    mAssigningAuthorityUniversalIdType\u003d[ISO]     )) \n[DEBUG][15:31:11][ge.conf.RhioDedicatedResources] Starting PixSource getPixSourcePixDestination()  in Session Context id[a20c95ebab710979ce9f0b1b7549aac9] user[eishay] rhio[Dallas] application[OHF light weight portal] facility[Default Clinic]\n[DEBUG][15:31:11][ge.conf.RhioDedicatedResources] creating PixSource\n[DEBUG][15:31:11][ge.conf.RhioDedicatedResources] using HL7DefinitionsFile \u003d C:\\projects\\openHII\\bridge.install\\apache-tomcat-5.5.17\\conf\\hl7Definitions.stream\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixFeedMsg: createFeedMsg - Entry \n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-3-1 : MSH-3\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-4-1 : MSH-4\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-5-1 : MSH-5\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-6-1 : MSH-6\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-11-1 : MSH-11\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-12 : MSH-12\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-18-1 : MSH-18\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField PID-3-4-1 : PID-3\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-7 : MSH-7\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-10 : MSH-10\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField PID-3-1 : PID-3\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField EVN-2-1 : EVN-2\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField PV1-2 : PV1-2\n[DEBUG][15:31:13][ource.PixMsgRegisterOutpatient] PixMsgAdmitPatient: createA04Fields \n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-3-1 : MSH-3\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-3-2 : MSH-3\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-3-3 : MSH-3\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: changeDefaultSendingApplication \n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-4-1 : MSH-4\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-4-2 : MSH-4\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-4-3 : MSH-4\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: changeDefaultSendingFacility \n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-5-1 : MSH-5\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-5-2 : MSH-5\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-5-3 : MSH-5\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: changeDefaultReceivingApplication \n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-6-1 : MSH-6\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-6-2 : MSH-6\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-6-3 : MSH-6\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: changeDefaultRecievingFacility \n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField PID-5-2 : PID-5\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: addOptionalPatientNameGivenName \n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField PID-5-1-1 : PID-5\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: addOptionalPatientNameFamilyName \n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField PID-8 : PID-8\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: addOptionalPatientSex \n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField PID-7 : PID-7\n[DEBUG][15:31:13][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: addOptionalPatientDateOfBirth \n[DEBUG][15:31:13][ge.conf.RhioDedicatedResources] Starting PixSource getPixSourcePixDestination()  in Session Context id[a20c95ebab710979ce9f0b1b7549aac9] user[eishay] rhio[Dallas] application[OHF light weight portal] facility[Default Clinic]\n[DEBUG][15:31:13][common.hl7v2.mllpclient.Client] Client: sendMsg -- Entry \n[DEBUG][15:31:13][common.hl7v2.mllpclient.Client] Client: send - Entry \n[DEBUG][15:31:13][common.hl7v2.mllpclient.Client] Client: send - Enter SEND_MLLP \nMSH|^~\\\u0026|OHF light weight portal|Default Clinic|PAT_IDENTITY_X_REF_MGR_IBM1|Dallas|20061017153113.PDT||ADT^A04^ADT_A01|3849012875243082132|P|2.3.1\nEVN||20061017153113.PDT\nPID|||^^^HIMSS2005||bar^foo||19000101|M\nPV1||O\n\n[DEBUG][15:31:13][he.common.mllp.MLLPDestination] MLLPDestination: sendMessage - Entry \n[INFO ][15:31:13][he.common.mllp.MLLPDestination] *** Sending message to ibmod235.dal-ebis.ihost.com on port 3600\nMSH|^~\\\u0026|OHF light weight portal|Default Clinic|PAT_IDENTITY_X_REF_MGR_IBM1|Dallas|20061017153113.PDT||ADT^A04^ADT_A01|3849012875243082132|P|2.3.1\nEVN||20061017153113.PDT\nPID|||^^^HIMSS2005||bar^foo||19000101|M\nPV1||O\n\n[DEBUG][15:31:13][he.common.mllp.MLLPDestination] MSH|^~\\\u0026|OHF light weight portal|Default Clinic|PAT_IDENTITY_X_REF_MGR_IBM1|Dallas|20061017153113.PDT||ADT^A04^ADT_A01|3849012875243082132|P|2.3.1\nEVN||20061017153113.PDT\nPID|||^^^HIMSS2005||bar^foo||19000101|M\nPV1||O\n\n\n[DEBUG][15:31:13][he.common.mllp.MLLPDestination] sending the server: MSH|^~\\\u0026|OHF light weight portal|Default Clinic|PAT_IDENTITY_X_REF_MGR_IBM1|Dallas|20061017153113.PDT||ADT^A04^ADT_A01|3849012875243082132|P|2.3.1\nEVN||20061017153113.PDT\nPID|||^^^HIMSS2005||bar^foo||19000101|M\nPV1||O\n\n\n[DEBUG][15:31:13][he.common.mllp.MLLPDestination] MSH|^~\\\u0026|OHF light weight portal|Default Clinic|PAT_IDENTITY_X_REF_MGR_IBM1|Dallas|20061017153113.PDT||ADT^A04^ADT_A01|3849012875243082132|P|2.3.1\nEVN||20061017153113.PDT\nPID|||^^^HIMSS2005||bar^foo||19000101|M\nPV1||O\n\n\n[DEBUG][15:31:13][he.common.mllp.MLLPDestination] done sending the message to the server\n[DEBUG][15:31:13][he.common.mllp.MLLPDestination] Response was: MSH|^~\\\u0026|DUMMYSENDAPP|DUMMYSENDFACILITY|DUMMYRCVAPP|DUMMYRCVFACILITY|20061017173116-0500||ACK^DUM|DUMMYMESSAGECONTROLID|P|2.5|\nMSA|AE|DUMMYMESSAGECONTROLID|\nERR||MSH^1^3|204|W|\n\n[INFO ][15:31:13][he.common.mllp.MLLPDestination] *** Response from ibmod235.dal-ebis.ihost.com on port 3600 was:\nMSH|^~\\\u0026|DUMMYSENDAPP|DUMMYSENDFACILITY|DUMMYRCVAPP|DUMMYRCVFACILITY|20061017173116-0500||ACK^DUM|DUMMYMESSAGECONTROLID|P|2.5|\nMSA|AE|DUMMYMESSAGECONTROLID|\nERR||MSH^1^3|204|W|\n\n[DEBUG][15:31:13][he.common.mllp.MLLPDestination] MLLPDestination: sendMessage - Exit\n[DEBUG][15:31:13][common.hl7v2.mllpclient.Client] Client: send - Exit SEND_MLLP \n[DEBUG][15:31:13][common.hl7v2.mllpclient.Client] Client: send - Exit \n[DEBUG][15:31:13][common.hl7v2.mllpclient.Client] Client: sendMsg - Exit \n[DEBUG][15:31:13][e.pix.source.PixSourceResponse] PixSourceResponse: init - found error segment in pix source response \n[ERROR][15:31:13][clipse.ohf.bridge.ws.OHFBridge] failed at RegisterOutpatient\norg.eclipse.ohf.ihe.pix.source.PixSourceException: org.eclipse.ohf.ihe.common.hl7v2.mllpclient.ClientException: ClientUtilities: getFieldComponentsInRepeat - invalid parameters\n\tat org.eclipse.ohf.ihe.pix.source.PixSourceResponse.getErrorCodeAndLocation(PixSourceResponse.java:369)\n\tat org.eclipse.ohf.bridge.pix.PIXSourceBridge.parseError(PIXSourceBridge.java:326)\n\tat org.eclipse.ohf.bridge.pix.PIXSourceBridge.registerOutpatient(PIXSourceBridge.java:211)\n\tat org.eclipse.ohf.bridge.ws.OHFBridge.RegisterOutpatient(OHFBridge.java:290)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:615)\n\tat org.apache.axis.providers.java.RPCProvider.invokeMethod(RPCProvider.java:397)\n\tat org.apache.axis.providers.java.RPCProvider.processMessage(RPCProvider.java:186)\n\tat org.apache.axis.providers.java.JavaProvider.invoke(JavaProvider.java:323)\n\tat org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java:32)\n\tat org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118)\n\tat org.apache.axis.SimpleChain.invoke(SimpleChain.java:83)\n\tat org.apache.axis.handlers.soap.SOAPService.invoke(SOAPService.java:453)\n\tat org.apache.axis.server.AxisServer.invoke(AxisServer.java:281)\n\tat org.apache.axis.transport.http.AxisServlet.doPost(AxisServlet.java:699)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:709)\n\tat org.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:327)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n\tat org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service(ServletManager.java:139)\n\tat org.eclipse.equinox.servlet.bridge.http.internal.ServletRegistration.handleRequest(ServletRegistration.java:78)\n\tat org.eclipse.equinox.servlet.bridge.http.internal.ProxyServlet.processAlias(ProxyServlet.java:107)\n\tat org.eclipse.equinox.servlet.bridge.http.internal.ProxyServlet.service(ProxyServlet.java:65)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n\tat org.eclipse.equinox.servlet.bridge.launcher.BridgeServlet.service(BridgeServlet.java:95)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:869)\n\tat org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:664)\n\tat org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)\n\tat org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)\n\tat java.lang.Thread.run(Thread.java:797)\nCaused by: \norg.eclipse.ohf.ihe.common.hl7v2.mllpclient.ClientException: ClientUtilities: getFieldComponentsInRepeat - invalid parameters\n\tat org.eclipse.ohf.ihe.common.hl7v2.mllpclient.ClientUtilities.getFieldComponentsInRepeat(ClientUtilities.java:203)\n\tat org.eclipse.ohf.ihe.pix.source.PixSourceResponse.getErrorCodeAndLocation(PixSourceResponse.java:367)\n\t... 40 more\n[DEBUG][15:31:13][bridge.conf.TransactionContext] Transaction cleared configurations\n[DEBUG][15:31:13][bridge.conf.TransactionContext] ......................................................................\n[DEBUG][15:31:13][bridge.conf.TransactionContext] end transaction mark for Session Context id[a20c95ebab710979ce9f0b1b7549aac9] user[eishay] rhio[Dallas] application[OHF light weight portal] facility[Default Clinic]\n[DEBUG][15:31:13][bridge.conf.TransactionContext] Transaction took 1893 miliseconds\n[DEBUG][15:31:13][bridge.conf.TransactionContext] ......................................................................",
    "method variable had wrong index use - changed ClientUtilities to all use 0 base\nindex as other plugins have changed to base0, rather than try to remain\nconsistent with HL7v2.\n\nAlso added error generation if no patientId given.",
    "Seems like it was because the bridge use a blank string for registerOutpatient(String). Now It use a patient ID:\nmy_id^^^OHFPortal\u00261.3.6.1.4.1.21367.2005.1.1\u0026ISO\n(Is it a valid id?)\nbut get the following error:\n\n[DEBUG][21:03:58][clipse.ohf.bridge.ws.OHFBridge] degistering new paptient PatientInfoType ( patientIdentifier\u003d[PIDType ( idNumber\u003d[my_id]    assigningAuthorityName\u003d[OHFPortal]    assigningAuthorityUniversalId\u003d[1.3.6.1.4.1.21367.2005.1.1]    assigningAuthorityUniversalIdType\u003d[ISO]     )]    patientName\u003d[PatientNameType ( familyName\u003d[Bar]    givenName\u003d[Foo]    otherName\u003d[]    suffix\u003d[]    prefix\u003d[]     )]    patientDateOfBirth\u003d[19000101]    patientSex\u003d[M]    patientAddress\u003d[AddressType ( streetAddress\u003d[]    otherDesignation\u003d[null]    city\u003d[]    stateOrProvince\u003d[]    zipOrPostalCode\u003d[]    country\u003d[]    countyParishCode\u003d[null]     )]    patientPhoneHome\u003d[PhoneType ( unformattedTelephoneNumber\u003d[]     )]    patientPhoneBusiness\u003d[PhoneType ( unformattedTelephoneNumber\u003d[]     )]     )\n[DEBUG][21:03:58][ohf.bridge.pix.PIXSourceBridge] Starting String registerOutpatient(PatientInfoType ( patientIdentifier\u003d[PIDType ( idNumber\u003d[my_id]    assigningAuthorityName\u003d[OHFPortal]    assigningAuthorityUniversalId\u003d[1.3.6.1.4.1.21367.2005.1.1]    assigningAuthorityUniversalIdType\u003d[ISO]     )]    patientName\u003d[PatientNameType ( familyName\u003d[Bar]    givenName\u003d[Foo]    otherName\u003d[]    suffix\u003d[]    prefix\u003d[]     )]    patientDateOfBirth\u003d[19000101]    patientSex\u003d[M]    patientAddress\u003d[AddressType ( streetAddress\u003d[]    otherDesignation\u003d[null]    city\u003d[]    stateOrProvince\u003d[]    zipOrPostalCode\u003d[]    country\u003d[]    countyParishCode\u003d[null]     )]    patientPhoneHome\u003d[PhoneType ( unformattedTelephoneNumber\u003d[]     )]    patientPhoneBusiness\u003d[PhoneType ( unformattedTelephoneNumber\u003d[]     )]     ))  in Session Context id[a20c95ebab710979ce9f0b1b7549aac9] user[eishay] rhio[Dallas] application[OHF light weight portal] facility[Default Clinic]\n[DEBUG][21:03:58][.conf.RhioConfigManagerEmfImpl] Found confugurations for rhio Dallas\n[DEBUG][21:03:58][ge.conf.RhioDedicatedResources] new RhioDedicatedResources(RhioConfig ( mName\u003d[Dallas]    mDefault\u003d[true]    mPixURL\u003d[http://ibmod235.dal-ebis.ihost.com:3600]    mRegistryURL\u003d[http://ibmod235.dal-ebis.ihost.com:9080/ihii/registry/soap]    mRepositoryURL\u003d[http://ibmod235.dal-ebis.ihost.com:9080/IHIIRepository/SubmissionSetReceiver]    mAuditURL\u003d[]    mDoAudit\u003d[false]    mPixApplicationName\u003d[PAT_IDENTITY_X_REF_MGR_IBM1]    mAssigningAuthorityName\u003d[HIMSS2005]    mAssigningAuthorityUniversalId\u003d[1.3.6.1.4.1.21367.2005.1.1]    mAssigningAuthorityUniversalIdType\u003d[ISO]     )) \n[DEBUG][21:03:58][ge.conf.RhioDedicatedResources] Starting PixSource getPixSourcePixDestination()  in Session Context id[a20c95ebab710979ce9f0b1b7549aac9] user[eishay] rhio[Dallas] application[OHF light weight portal] facility[Default Clinic]\n[DEBUG][21:03:58][ge.conf.RhioDedicatedResources] creating PixSource\n[DEBUG][21:03:58][ge.conf.RhioDedicatedResources] using HL7DefinitionsFile \u003d C:\\projects\\openHII\\bridge.install\\apache-tomcat-5.5.17\\conf\\hl7Definitions.stream\n[DEBUG][21:04:00][clipse.ohf.bridge.type.PIDType] converted to HL7 Id:my_id^^^OHFPortal\u00261.3.6.1.4.1.21367.2005.1.1\u0026ISO\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixSource] Starting PixMsgRegisterOutpatient registerOutpatient(my_id^^^OHFPortal\u00261.3.6.1.4.1.21367.2005.1.1\u0026ISO) \n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixFeedMsg: createFeedMsg - Entry \n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-3-1 : MSH-3\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-4-1 : MSH-4\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-5-1 : MSH-5\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-6-1 : MSH-6\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-11-1 : MSH-11\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-12 : MSH-12\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-18-1 : MSH-18\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField PID-3-4-1 : PID-3\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-7 : MSH-7\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-10 : MSH-10\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField PID-3-1 : PID-3\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField EVN-2-1 : EVN-2\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField PV1-2 : PV1-2\n[DEBUG][21:04:00][ource.PixMsgRegisterOutpatient] PixMsgAdmitPatient: createA04Fields \n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-3-1 : MSH-3\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-3-2 : MSH-3\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-3-3 : MSH-3\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: changeDefaultSendingApplication \n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-4-1 : MSH-4\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-4-2 : MSH-4\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-4-3 : MSH-4\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: changeDefaultSendingFacility \n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-5-1 : MSH-5\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-5-2 : MSH-5\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-5-3 : MSH-5\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: changeDefaultReceivingApplication \n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-6-1 : MSH-6\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-6-2 : MSH-6\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField MSH-6-3 : MSH-6\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: changeDefaultRecievingFacility \n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField PID-5-2 : PID-5\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: addOptionalPatientNameGivenName \n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField PID-5-1-1 : PID-5\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: addOptionalPatientNameFamilyName \n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField PID-8 : PID-8\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: addOptionalPatientSex \n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: setField PID-7 : PID-7\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixMsgADT] PixMsgADT: addOptionalPatientDateOfBirth \n[DEBUG][21:04:00][ge.conf.RhioDedicatedResources] Starting PixSource getPixSourcePixDestination()  in Session Context id[a20c95ebab710979ce9f0b1b7549aac9] user[eishay] rhio[Dallas] application[OHF light weight portal] facility[Default Clinic]\n[DEBUG][21:04:00][common.hl7v2.mllpclient.Client] Client: sendMsg -- Entry \n[DEBUG][21:04:00][common.hl7v2.mllpclient.Client] Client: send - Entry \n[DEBUG][21:04:00][common.hl7v2.mllpclient.Client] Client: send - Enter SEND_MLLP \nMSH|^~\\\u0026|OHF light weight portal|Default Clinic|PAT_IDENTITY_X_REF_MGR_IBM1|Dallas|20061017210400.PDT||ADT^A04^ADT_A01|1303535166602717548|P|2.3.1\nEVN||20061017210400.PDT\nPID|||my_id\\S\\\\S\\\\S\\OHFPortal\\T\\1.3.6.1.4.1.21367.2005.1.1\\T\\ISO^^^HIMSS2005||Bar^Foo||19000101|M\nPV1||O\n\n[DEBUG][21:04:00][he.common.mllp.MLLPDestination] MLLPDestination: sendMessage - Entry \n[INFO ][21:04:00][he.common.mllp.MLLPDestination] *** Sending message to ibmod235.dal-ebis.ihost.com on port 3600\nMSH|^~\\\u0026|OHF light weight portal|Default Clinic|PAT_IDENTITY_X_REF_MGR_IBM1|Dallas|20061017210400.PDT||ADT^A04^ADT_A01|1303535166602717548|P|2.3.1\nEVN||20061017210400.PDT\nPID|||my_id\\S\\\\S\\\\S\\OHFPortal\\T\\1.3.6.1.4.1.21367.2005.1.1\\T\\ISO^^^HIMSS2005||Bar^Foo||19000101|M\nPV1||O\n\n[DEBUG][21:04:00][he.common.mllp.MLLPDestination] MSH|^~\\\u0026|OHF light weight portal|Default Clinic|PAT_IDENTITY_X_REF_MGR_IBM1|Dallas|20061017210400.PDT||ADT^A04^ADT_A01|1303535166602717548|P|2.3.1\nEVN||20061017210400.PDT\nPID|||my_id\\S\\\\S\\\\S\\OHFPortal\\T\\1.3.6.1.4.1.21367.2005.1.1\\T\\ISO^^^HIMSS2005||Bar^Foo||19000101|M\nPV1||O\n\n\n[DEBUG][21:04:00][he.common.mllp.MLLPDestination] sending the server: MSH|^~\\\u0026|OHF light weight portal|Default Clinic|PAT_IDENTITY_X_REF_MGR_IBM1|Dallas|20061017210400.PDT||ADT^A04^ADT_A01|1303535166602717548|P|2.3.1\nEVN||20061017210400.PDT\nPID|||my_id\\S\\\\S\\\\S\\OHFPortal\\T\\1.3.6.1.4.1.21367.2005.1.1\\T\\ISO^^^HIMSS2005||Bar^Foo||19000101|M\nPV1||O\n\n\n[DEBUG][21:04:00][he.common.mllp.MLLPDestination] MSH|^~\\\u0026|OHF light weight portal|Default Clinic|PAT_IDENTITY_X_REF_MGR_IBM1|Dallas|20061017210400.PDT||ADT^A04^ADT_A01|1303535166602717548|P|2.3.1\nEVN||20061017210400.PDT\nPID|||my_id\\S\\\\S\\\\S\\OHFPortal\\T\\1.3.6.1.4.1.21367.2005.1.1\\T\\ISO^^^HIMSS2005||Bar^Foo||19000101|M\nPV1||O\n\n\n[DEBUG][21:04:00][he.common.mllp.MLLPDestination] done sending the message to the server\n[DEBUG][21:04:01][he.common.mllp.MLLPDestination] Response was: MSH|^~\\\u0026|DUMMYSENDAPP|DUMMYSENDFACILITY|DUMMYRCVAPP|DUMMYRCVFACILITY|20061017230404-0500||ACK^DUM|DUMMYMESSAGECONTROLID|P|2.5|\nMSA|AE|DUMMYMESSAGECONTROLID|\nERR||MSH^1^3|204|W|\n\n[INFO ][21:04:01][he.common.mllp.MLLPDestination] *** Response from ibmod235.dal-ebis.ihost.com on port 3600 was:\nMSH|^~\\\u0026|DUMMYSENDAPP|DUMMYSENDFACILITY|DUMMYRCVAPP|DUMMYRCVFACILITY|20061017230404-0500||ACK^DUM|DUMMYMESSAGECONTROLID|P|2.5|\nMSA|AE|DUMMYMESSAGECONTROLID|\nERR||MSH^1^3|204|W|\n\n[DEBUG][21:04:01][he.common.mllp.MLLPDestination] MLLPDestination: sendMessage - Exit\n[DEBUG][21:04:01][common.hl7v2.mllpclient.Client] Client: send - Exit SEND_MLLP \n[DEBUG][21:04:01][common.hl7v2.mllpclient.Client] Client: send - Exit \n[DEBUG][21:04:01][common.hl7v2.mllpclient.Client] Client: sendMsg - Exit \n[DEBUG][21:04:01][e.pix.source.PixSourceResponse] PixSourceResponse: init - found error segment in pix source response \n[DEBUG][21:04:01][ohf.bridge.pix.PIXSourceBridge] error on message MSH|^~\\\u0026|DUMMYSENDAPP|DUMMYSENDFACILITY|DUMMYRCVAPP|DUMMYRCVFACILITY|20061017230404-0500||ACK^DUM|DUMMYMESSAGECONTROLID|P|2.5\nMSA|AE|DUMMYMESSAGECONTROLID\nERR||MSH^1^3|204|W\n\n[DEBUG][21:04:01][ohf.bridge.pix.PIXSourceBridge] Errors returned: seg-1 rpt-0\n  Error: \n  Error: \n  Error: \n  Error: \n[ERROR][21:04:01][clipse.ohf.bridge.ws.OHFBridge] failed at RegisterOutpatient\njava.lang.IllegalStateException: Errors returned: seg-1 rpt-0\n  Error: \n  Error: \n  Error: \n  Error: \n\tat org.eclipse.ohf.bridge.pix.PIXSourceBridge.registerOutpatient(PIXSourceBridge.java:219)\n\tat org.eclipse.ohf.bridge.ws.OHFBridge.RegisterOutpatient(OHFBridge.java:290)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:615)\n\tat org.apache.axis.providers.java.RPCProvider.invokeMethod(RPCProvider.java:397)\n\tat org.apache.axis.providers.java.RPCProvider.processMessage(RPCProvider.java:186)\n\tat org.apache.axis.providers.java.JavaProvider.invoke(JavaProvider.java:323)\n\tat org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrategy.java:32)\n\tat org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118)\n\tat org.apache.axis.SimpleChain.invoke(SimpleChain.java:83)\n\tat org.apache.axis.handlers.soap.SOAPService.invoke(SOAPService.java:453)\n\tat org.apache.axis.server.AxisServer.invoke(AxisServer.java:281)\n\tat org.apache.axis.transport.http.AxisServlet.doPost(AxisServlet.java:699)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:709)\n\tat org.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:327)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n\tat org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service(ServletManager.java:139)\n\tat org.eclipse.equinox.servlet.bridge.http.internal.ServletRegistration.handleRequest(ServletRegistration.java:78)\n\tat org.eclipse.equinox.servlet.bridge.http.internal.ProxyServlet.processAlias(ProxyServlet.java:107)\n\tat org.eclipse.equinox.servlet.bridge.http.internal.ProxyServlet.service(ProxyServlet.java:65)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n\tat org.eclipse.equinox.servlet.bridge.launcher.BridgeServlet.service(BridgeServlet.java:95)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:869)\n\tat org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:664)\n\tat org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)\n\tat org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)\n\tat java.lang.Thread.run(Thread.java:797)\n[DEBUG][21:04:01][bridge.conf.TransactionContext] Transaction cleared configurations\n[DEBUG][21:04:01][bridge.conf.TransactionContext] ......................................................................\n[DEBUG][21:04:01][bridge.conf.TransactionContext] end transaction mark for Session Context id[a20c95ebab710979ce9f0b1b7549aac9] user[eishay] rhio[Dallas] application[OHF light weight portal] facility[Default Clinic]\n[DEBUG][21:04:01][bridge.conf.TransactionContext] Transaction took 2633 miliseconds\n[DEBUG][21:04:01][bridge.conf.TransactionContext] ......................................................................\n",
    "Eishay, this is invalid:\n[DEBUG][21:04:00][e.ohf.ihe.pix.source.PixSource] Starting\nPixMsgRegisterOutpatient\nregisterOutpatient(my_id^^^OHFPortal\u00261.3.6.1.4.1.21367.2005.1.1\u0026ISO)\n\nYou never pre-parse your input - Grahame\u0027s code does not allow this and it doesn\u0027t align with our \"make it English\" API. I have 2 applicable methods for you:\nregisterOutpatient(String patientId)\nregisterOutpatient(String patientId, String assigningAuthorityName, String assigningAuthorityUniversalId, String assigningAuthorityUniversalIdType)\n\nIn this case you would use the second like this:\nregisterOutpatient(my_id, OHFPortal, 1.3.6.1.4.1.21367.2005.1.1, ISO)\n\nAlso, \"my_id\" is not a valid ID. I was told it should be numbers and uppercase letters only. I leave it to the server to accept/reject.",
    "Eishay - I believe this has been resolved. Can you confirm?",
    "its ok now",
    "closing"
  ],
  "commentCreationDates": [
    "2006-10-17T21:46:47+02:00",
    "2006-10-18T00:31:17+02:00",
    "2006-10-18T00:33:56+02:00",
    "2006-10-18T06:09:04+02:00",
    "2006-10-18T17:52:53+02:00",
    "2006-11-15T00:36:40+01:00",
    "2006-11-15T04:04:07+01:00",
    "2007-06-28T01:26:53+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.ohf.ihe.common.hl7v2.mllpclient.ClientException",
      "message": "ClientUtilities: getFieldComponentsInRepeat - invalid parameters",
      "elements": [
        {
          "method": "org.eclipse.ohf.ihe.pix.source.PixSourceResponse.getErrorCodeAndLocation",
          "source": "PixSourceResponse.java:369"
        },
        {
          "method": "org.eclipse.ohf.bridge.pix.PIXSourceBridge.parseError",
          "source": "PIXSourceBridge.java:326"
        },
        {
          "method": "org.eclipse.ohf.bridge.pix.PIXSourceBridge.registerOutpatient",
          "source": "PIXSourceBridge.java:211"
        },
        {
          "method": "org.eclipse.ohf.bridge.ws.OHFBridge.RegisterOutpatient",
          "source": "OHFBridge.java:290"
        }
      ],
      "causedBy": {
        "exceptionType": "org.eclipse.ohf.ihe.common.hl7v2.mllpclient.ClientException",
        "message": "ClientUtilities: getFieldComponentsInRepeat - invalid parameters",
        "elements": [
          {
            "method": "org.eclipse.ohf.ihe.common.hl7v2.mllpclient.ClientUtilities.getFieldComponentsInRepeat",
            "source": "ClientUtilities.java:203"
          },
          {
            "method": "org.eclipse.ohf.ihe.pix.source.PixSourceResponse.getErrorCodeAndLocation",
            "source": "PixSourceResponse.java:367"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "161302",
      "date": "2006-10-17T21:46:47+02:00",
      "product": "OHF",
      "component": "pix.source",
      "severity": "normal"
    },
    {
      "exceptionType": "org.eclipse.ohf.ihe.common.hl7v2.mllpclient.ClientException",
      "message": "ClientUtilities: getFieldComponentsInRepeat - invalid parameters",
      "elements": [
        {
          "method": "org.eclipse.ohf.ihe.pix.source.PixSourceResponse.getErrorCodeAndLocation",
          "source": "PixSourceResponse.java:369"
        },
        {
          "method": "org.eclipse.ohf.bridge.pix.PIXSourceBridge.parseError",
          "source": "PIXSourceBridge.java:326"
        },
        {
          "method": "org.eclipse.ohf.bridge.pix.PIXSourceBridge.registerOutpatient",
          "source": "PIXSourceBridge.java:211"
        },
        {
          "method": "org.eclipse.ohf.bridge.ws.OHFBridge.RegisterOutpatient",
          "source": "OHFBridge.java:290"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:64"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:43"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:615"
        },
        {
          "method": "org.apache.axis.providers.java.RPCProvider.invokeMethod",
          "source": "RPCProvider.java:397"
        },
        {
          "method": "org.apache.axis.providers.java.RPCProvider.processMessage",
          "source": "RPCProvider.java:186"
        },
        {
          "method": "org.apache.axis.providers.java.JavaProvider.invoke",
          "source": "JavaProvider.java:323"
        },
        {
          "method": "org.apache.axis.strategies.InvocationStrategy.visit",
          "source": "InvocationStrategy.java:32"
        },
        {
          "method": "org.apache.axis.SimpleChain.doVisiting",
          "source": "SimpleChain.java:118"
        },
        {
          "method": "org.apache.axis.SimpleChain.invoke",
          "source": "SimpleChain.java:83"
        },
        {
          "method": "org.apache.axis.handlers.soap.SOAPService.invoke",
          "source": "SOAPService.java:453"
        },
        {
          "method": "org.apache.axis.server.AxisServer.invoke",
          "source": "AxisServer.java:281"
        },
        {
          "method": "org.apache.axis.transport.http.AxisServlet.doPost",
          "source": "AxisServlet.java:699"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:709"
        },
        {
          "method": "org.apache.axis.transport.http.AxisServletBase.service",
          "source": "AxisServletBase.java:327"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:802"
        },
        {
          "method": "org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service",
          "source": "ServletManager.java:139"
        },
        {
          "method": "org.eclipse.equinox.servlet.bridge.http.internal.ServletRegistration.handleRequest",
          "source": "ServletRegistration.java:78"
        },
        {
          "method": "org.eclipse.equinox.servlet.bridge.http.internal.ProxyServlet.processAlias",
          "source": "ProxyServlet.java:107"
        },
        {
          "method": "org.eclipse.equinox.servlet.bridge.http.internal.ProxyServlet.service",
          "source": "ProxyServlet.java:65"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:802"
        },
        {
          "method": "org.eclipse.equinox.servlet.bridge.launcher.BridgeServlet.service",
          "source": "BridgeServlet.java:95"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:802"
        },
        {
          "method": "org.apache.catalina.core.ApplicationFilterChain.internalDoFilter",
          "source": "ApplicationFilterChain.java:252"
        },
        {
          "method": "org.apache.catalina.core.ApplicationFilterChain.doFilter",
          "source": "ApplicationFilterChain.java:173"
        },
        {
          "method": "org.apache.catalina.core.StandardWrapperValve.invoke",
          "source": "StandardWrapperValve.java:213"
        },
        {
          "method": "org.apache.catalina.core.StandardContextValve.invoke",
          "source": "StandardContextValve.java:178"
        },
        {
          "method": "org.apache.catalina.core.StandardHostValve.invoke",
          "source": "StandardHostValve.java:126"
        },
        {
          "method": "org.apache.catalina.valves.ErrorReportValve.invoke",
          "source": "ErrorReportValve.java:105"
        },
        {
          "method": "org.apache.catalina.core.StandardEngineValve.invoke",
          "source": "StandardEngineValve.java:107"
        },
        {
          "method": "org.apache.catalina.connector.CoyoteAdapter.service",
          "source": "CoyoteAdapter.java:148"
        },
        {
          "method": "org.apache.coyote.http11.Http11Processor.process",
          "source": "Http11Processor.java:869"
        },
        {
          "method": "org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection",
          "source": "Http11BaseProtocol.java:664"
        },
        {
          "method": "org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket",
          "source": "PoolTcpEndpoint.java:527"
        },
        {
          "method": "org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt",
          "source": "LeaderFollowerWorkerThread.java:80"
        },
        {
          "method": "org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run",
          "source": "ThreadPool.java:684"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:797"
        }
      ],
      "causedBy": {
        "exceptionType": "org.eclipse.ohf.ihe.common.hl7v2.mllpclient.ClientException",
        "message": "ClientUtilities: getFieldComponentsInRepeat - invalid parameters",
        "elements": [
          {
            "method": "org.eclipse.ohf.ihe.common.hl7v2.mllpclient.ClientUtilities.getFieldComponentsInRepeat",
            "source": "ClientUtilities.java:203"
          },
          {
            "method": "org.eclipse.ohf.ihe.pix.source.PixSourceResponse.getErrorCodeAndLocation",
            "source": "PixSourceResponse.java:367"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 1,
      "commentIndex": 1,
      "bugId": "161302",
      "date": "2006-10-18T00:31:17+02:00",
      "product": "OHF",
      "component": "pix.source",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.IllegalStateException",
      "message": "Errors returned: seg-1 rpt-0   Error:    Error:    Error:    Error:",
      "elements": [
        {
          "method": "org.eclipse.ohf.bridge.pix.PIXSourceBridge.registerOutpatient",
          "source": "PIXSourceBridge.java:219"
        },
        {
          "method": "org.eclipse.ohf.bridge.ws.OHFBridge.RegisterOutpatient",
          "source": "OHFBridge.java:290"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:64"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:43"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:615"
        },
        {
          "method": "org.apache.axis.providers.java.RPCProvider.invokeMethod",
          "source": "RPCProvider.java:397"
        },
        {
          "method": "org.apache.axis.providers.java.RPCProvider.processMessage",
          "source": "RPCProvider.java:186"
        },
        {
          "method": "org.apache.axis.providers.java.JavaProvider.invoke",
          "source": "JavaProvider.java:323"
        },
        {
          "method": "org.apache.axis.strategies.InvocationStrategy.visit",
          "source": "InvocationStrategy.java:32"
        },
        {
          "method": "org.apache.axis.SimpleChain.doVisiting",
          "source": "SimpleChain.java:118"
        },
        {
          "method": "org.apache.axis.SimpleChain.invoke",
          "source": "SimpleChain.java:83"
        },
        {
          "method": "org.apache.axis.handlers.soap.SOAPService.invoke",
          "source": "SOAPService.java:453"
        },
        {
          "method": "org.apache.axis.server.AxisServer.invoke",
          "source": "AxisServer.java:281"
        },
        {
          "method": "org.apache.axis.transport.http.AxisServlet.doPost",
          "source": "AxisServlet.java:699"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:709"
        },
        {
          "method": "org.apache.axis.transport.http.AxisServletBase.service",
          "source": "AxisServletBase.java:327"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:802"
        },
        {
          "method": "org.eclipse.equinox.http.registry.internal.ServletManager$ServletWrapper.service",
          "source": "ServletManager.java:139"
        },
        {
          "method": "org.eclipse.equinox.servlet.bridge.http.internal.ServletRegistration.handleRequest",
          "source": "ServletRegistration.java:78"
        },
        {
          "method": "org.eclipse.equinox.servlet.bridge.http.internal.ProxyServlet.processAlias",
          "source": "ProxyServlet.java:107"
        },
        {
          "method": "org.eclipse.equinox.servlet.bridge.http.internal.ProxyServlet.service",
          "source": "ProxyServlet.java:65"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:802"
        },
        {
          "method": "org.eclipse.equinox.servlet.bridge.launcher.BridgeServlet.service",
          "source": "BridgeServlet.java:95"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:802"
        },
        {
          "method": "org.apache.catalina.core.ApplicationFilterChain.internalDoFilter",
          "source": "ApplicationFilterChain.java:252"
        },
        {
          "method": "org.apache.catalina.core.ApplicationFilterChain.doFilter",
          "source": "ApplicationFilterChain.java:173"
        },
        {
          "method": "org.apache.catalina.core.StandardWrapperValve.invoke",
          "source": "StandardWrapperValve.java:213"
        },
        {
          "method": "org.apache.catalina.core.StandardContextValve.invoke",
          "source": "StandardContextValve.java:178"
        },
        {
          "method": "org.apache.catalina.core.StandardHostValve.invoke",
          "source": "StandardHostValve.java:126"
        },
        {
          "method": "org.apache.catalina.valves.ErrorReportValve.invoke",
          "source": "ErrorReportValve.java:105"
        },
        {
          "method": "org.apache.catalina.core.StandardEngineValve.invoke",
          "source": "StandardEngineValve.java:107"
        },
        {
          "method": "org.apache.catalina.connector.CoyoteAdapter.service",
          "source": "CoyoteAdapter.java:148"
        },
        {
          "method": "org.apache.coyote.http11.Http11Processor.process",
          "source": "Http11Processor.java:869"
        },
        {
          "method": "org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection",
          "source": "Http11BaseProtocol.java:664"
        },
        {
          "method": "org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket",
          "source": "PoolTcpEndpoint.java:527"
        },
        {
          "method": "org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt",
          "source": "LeaderFollowerWorkerThread.java:80"
        },
        {
          "method": "org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run",
          "source": "ThreadPool.java:684"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:797"
        }
      ],
      "number": 2,
      "commentIndex": 3,
      "bugId": "161302",
      "date": "2006-10-18T06:09:04+02:00",
      "product": "OHF",
      "component": "pix.source",
      "severity": "normal"
    }
  ],
  "groupId": "161302",
  "bugId": "161302",
  "date": "2006-10-17T21:46:47+02:00",
  "product": "OHF",
  "component": "pix.source",
  "severity": "normal"
}