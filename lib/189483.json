{
  "comments": [
    "I have a Linux Store connection, which I did not specify to remember its pwd before.\nStarted the workbench and expanded the filter Files -\u003e MyHome.  Signon dialog came up, with my user name entered.  I clicked on the Cancel button without entering any thing for the password field.\nGot error dialog: RSEC1002E: Invalid password or user ID.\nI clicked on OK on the dialog, and the logon dialog displayed again.\nClicked on the Cancel button again, and this dialog was dismissed.\nAnd I could see there are some errors in the error log:\n\n!ENTRY org.eclipse.rse.ui 4 0 2007-05-28 14:03:05.000\n!MESSAGE Error launching server: Authentification Failed\n\n!ENTRY org.eclipse.rse.ui 4 0 2007-05-28 14:03:05.063\n!MESSAGE RSEC1002E: SUB#0:SLES8RM\n\n!ENTRY org.eclipse.rse.ui 4 0 2007-05-28 14:03:10.624\n!MESSAGE RSEG1066U: SUB#0:Exception java.lang.InterruptedException\n!STACK 0\njava.lang.InterruptedException\n\tat org.eclipse.rse.ui.subsystems.StandardCredentialsProvider.promptForCredentials(StandardCredentialsProvider.java:389)\n\tat org.eclipse.rse.ui.subsystems.StandardCredentialsProvider.acquireCredentials(StandardCredentialsProvider.java:218)\n\tat org.eclipse.rse.core.subsystems.AuthenticatingConnectorService.acquireCredentials(AuthenticatingConnectorService.java:189)\n\tat org.eclipse.rse.connectorservice.dstore.DStoreConnectorService$1.run(DStoreConnectorService.java:954)\n\tat org.eclipse.ui.internal.UILockListener.doPendingWork(UILockListener.java:155)\n\tat org.eclipse.ui.internal.UISynchronizer$2.run(UISynchronizer.java:126)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3650)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3287)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2365)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2329)\n\tat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2204)\n\tat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:497)\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:436)\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1162)\n \n-----------Enter bugs above this line-----------\nTM 2.0M7 Testing\ninstallation : eclipse-platform-3.3M7 (I20070503-1400)\nRSE install  : RSE-SDK-2.0RC1.zip\njava.runtime : Sun 1.5.0_06-b05\nos.name:     : Windows XP 5.1, Service Pack 2\n------------------------------------------------\nsystemtype   : Linux - DStore",
    "Dave can you look at this? It\u0027s not user friendly at all, and also affects ssh.\n\nOne problem might be throwing the InterruptedException, which is typically used for other things -- an OperationCanceledException might be more appropriate, together with exception handling like I\u0027ve introduced recently in SystemFetchOperation.showOperationErrorMessage().\n\nI\u0027m assigning to 2.0 since throwing a different kind of exception is an API change -- feel free to move to 2.0.1 if you don\u0027t think you can get this done.",
    "The problem was in SystemFetchOperation. It wasn\u0027t handling the cancel notification from the subsystem properly. The collector is now given the \"canceled\" message object as a child and the monitor is given the correct canceled status.\n\nOrdinarily an OperationCanceledException should have been thrown but for historical reasons runnables throw InterruptedExceptions here so I elected to retain that as the interface rather than modify signatures.\n\nWhile inspecting the code I found an misspelled method signature in AbstractConnectorService and fixed that.\n\nDaveM - please inspect the attached patch file. Thanks!",
    "Created an attachment (id\u003d69853)\npatch that generates cancellation message for password prompting on filter expand\n\n",
    "It looks good.  It might be worth putting comments in UpdateRegistry indicating how the cancelled message comes back to the user.",
    "Committed for RC2.",
    "(In reply to comment #2)\n\u003e Ordinarily an OperationCanceledException should have been thrown but for\n\u003e historical reasons runnables throw InterruptedExceptions here so I elected to\n\u003e retain that as the interface rather than modify signatures.\n\nEven is you think you must throw an InterruptedException in order to satisfy the method signature, the handler should handle OperationCanceledException as well in order to be better prepared for fixing this in the future.\n\nJavadoc of InterruptedException very clearly states that this is to be used for something else. So I hate seeing \n   throw new InterruptedException()\nif it is not absolutely necessary.\n\nI noticed some method signature like\n  protected void execute(..) throws Exception, InterruptedException\nnote that in this case, mentioning InterruptedException is unnecessary since it is a subclass of Exception. And, it could also throw OperationCanceledException because it is also a subclass of Exception.\n\nI created \nbug #190747 to properly track the API change (marked FIXED)\nbug #190744 asking for adding Javadoc to SystemFetchOperation (Assigned DaveD)\nbug #190750 asking to handle OperationCanceledException\n\nLet\u0027s keep this bug closed because the original issue is fixed.\nLet\u0027s work on bug #190750 getting rid of InterruptedException where we can, and add handling for OperationCanceledException where we can.\n\n",
    "Not an API change because the API change is tracked by bug #190747.",
    "This problem has been fixed in 2.0 RC4 driver."
  ],
  "commentCreationDates": [
    "2007-05-28T20:04:49+02:00",
    "2007-05-30T23:00:37+02:00",
    "2007-06-02T06:23:10+02:00",
    "2007-06-02T06:24:40+02:00",
    "2007-06-02T15:43:36+02:00",
    "2007-06-02T17:04:57+02:00",
    "2007-06-04T10:40:57+02:00",
    "2007-06-05T22:05:11+02:00",
    "2007-06-21T22:32:51+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.InterruptedException",
      "elements": [
        {
          "method": "org.eclipse.rse.ui.subsystems.StandardCredentialsProvider.promptForCredentials",
          "source": "StandardCredentialsProvider.java:389"
        },
        {
          "method": "org.eclipse.rse.ui.subsystems.StandardCredentialsProvider.acquireCredentials",
          "source": "StandardCredentialsProvider.java:218"
        },
        {
          "method": "org.eclipse.rse.core.subsystems.AuthenticatingConnectorService.acquireCredentials",
          "source": "AuthenticatingConnectorService.java:189"
        },
        {
          "method": "org.eclipse.rse.connectorservice.dstore.DStoreConnectorService$1.run",
          "source": "DStoreConnectorService.java:954"
        },
        {
          "method": "org.eclipse.ui.internal.UILockListener.doPendingWork",
          "source": "UILockListener.java:155"
        },
        {
          "method": "org.eclipse.ui.internal.UISynchronizer$2.run",
          "source": "UISynchronizer.java:126"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:123"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3650"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3287"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2365"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2329"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2204"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:466"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:461"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:153"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:363"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:176"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:497"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:436"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1162"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "189483",
      "date": "2007-05-28T20:04:49+02:00",
      "product": "Target Management",
      "component": "RSE",
      "severity": "minor"
    }
  ],
  "groupId": "189483",
  "bugId": "189483",
  "date": "2007-05-28T20:04:49+02:00",
  "product": "Target Management",
  "component": "RSE",
  "severity": "minor"
}