{
  "comments": [
    "Hi.\n\nI was having pretty fatal problems with eclipse\u0027s cvs-support in my Linux-box.\nWhile trying to\nupdate a folder in synchronize-view containing new files(!), I always received\nthis error:\n\n!ENTRY org.eclipse.ui 4 4 Jun 07, 2004 12:25:27.613\n!MESSAGE Unhandled exception caught in event loop.\n!ENTRY org.eclipse.ui 4 0 Jun 07, 2004 12:25:27.614\n!MESSAGE java.lang.NullPointerException\n!STACK 0\njava.lang.NullPointerException\n        at java.util.TimeZone.parseCustomTimeZone(TimeZone.java:696)\n        at java.util.TimeZone.getTimeZone(TimeZone.java:450)\n        at java.util.TimeZone.getTimeZone(TimeZone.java:444)\n        at\norg.eclipse.team.internal.ccvs.core.util.CVSDateFormatter.getTimeZone(CVSDateFormatter.java:97)\n        at\norg.eclipse.team.internal.ccvs.core.util.CVSDateFormatter.serverStampToDate(CVSDateFormatter.java:42)\n        at\norg.eclipse.team.internal.ccvs.core.client.ModTimeHandler.handle(ModTimeHandler.java:43)\n\nI don\u0027t get this bug in windows, but in linux it always occurs, eclipse version\n2.1 and 3.0-stream-builds\nalso contain it. This might have something to do with my environment\u0027s locales,\nbut I tried\nto mess around with all sorts of environment-variables and\nuser.timezone-variable with little success.\n\nMy system-configuration is this:\n\nOS: Mandrake 10.0\nJava version: 1.4.2_04-b05\nEclipse version: Any version above and including 2.1\nuser.timezone: Europe/Helsinki\nlocale settings:\nLANG\u003den_US\nLC_CTYPE\u003den_US\nLC_NUMERIC\u003dfi_FI\nLC_TIME\u003den_US\nLC_COLLATE\u003den_US\nLC_MONETARY\u003dfi_FI\nLC_MESSAGES\u003den_US\nLC_PAPER\u003dfi_FI\nLC_NAME\u003dfi_FI\nLC_ADDRESS\u003dfi_FI\nLC_TELEPHONE\u003dfi_FI\nLC_MEASUREMENT\u003dfi_FI\nLC_IDENTIFICATION\u003dfi_FI\nLC_ALL\u003d\n        \nI started to look into it, and the problem seemed to be in\nCVSDateFormatter-class in \nmethod:\n\nstatic private TimeZone getTimeZone(String dateFromServer)\n\nI got some (new-ish) version of this file from CVS:\n\norg/eclipse/team/internal/ccvs/core/util/CVSDateFormatter\nRevision 1.15 (Mon Apr 12 19:38:16 2004 UTC)\n\nI played around with the class adding some System.err.printlns and found out the\nfollowing\n\nThe value of dateFromServer in my case looks like this: \n\n4 Jun 2004 11:32:57 -0000\n\nAnd resultTz.toString() value:\n\nGMT-00:00\n\nNow this won\u0027t work with TimeZone-class\u0027s getTimeZone-method, this produces the\nNullPointerException which is the problem:\n\njava.util.TimeZone.getTimeZone(\"GMT-00:00\")\n\nNow, I changed line 99, I changed the abstraction-level of the Exception:\n\nIndexOutOfBoundsException  -\u003e RuntimeException\n\n/* Start of code */\n                \ntry \n{\n  if(tz!\u003dnull) \n  {\n    resultTz.append(tz.substring(1, 3) /*hours*/ + \":\" + tz.substring(3, 5)\n/*minutes*/);//$NON-NLS-1$\n    return TimeZone.getTimeZone(resultTz.toString());\n  }\n} catch(RuntimeException e) /* Here is the change! */\n{\n  return TimeZone.getTimeZone(\"GMT\");//$NON-NLS-1$\n}\n\n/* End of code */\n\nNow, I\u0027m not sure if this is the right fix for this (timestamps might get messed\nup a bit..)\nbut at least I can now update CVS from synchronize-view. Please let me know if\nyou find out something more about\nthis.\n\n-Perttu (perttu.auramo@ekahau.com)",
    "*** Bug 65931 has been marked as a duplicate of this bug. ***",
    "I\u0027ve tried it out on my windows box and passing \"GMT-00:00\" to the \nTimeZone.getTimeZone() works fine. What VM are you using? Could you try \nanother to see if that is the problem?",
    "Hmm, I had a nagging feeling that it\u0027s about the VM version (on a certain \nplatform). My VM version is 1.4.2_04: \n \njava version \"1.4.2_04\" \nJava(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_04-b05) \nJava HotSpot(TM) Client VM (build 1.4.2_04-b05, mixed mode) \n \nIt seems to be still the newest for linux(downloaded it from sun and checked). \nI don\u0027t feel like downgrading but I might try older versions if I have the \ntime (and if I can find older versions somewhere).  \n \n-Perttu \n ",
    "I have pinpointed the problem now after some tests on different platforms. Linux\nversion/locale-settings are irrelevant. The NullPointer always occurs when using\nthis code:\n\njava.util.TimeZone.getTimeZone(\"GMT-00:00\");\n\nwith JDK version 1.4.2_04-b05 on any Linux I\u0027ve tried it with (SuSE 9.0, Debian\nSID, Mandrake 10.0).\n\nWindows version of 1.4.2_04 doesn\u0027t crash in NullPointer with the code above.\nNeither does JDK 1.4.2_02 on Linux (I haven\u0027t tried _03).\n\nThis is obviously Sun\u0027s bug, but I am too lazy to report it to Sun. My\nworkaround above works for me (what do you think, should CVSDateFormatter\nreally be patched that way?), and I can always downgrade to 1.4.2_02. \n\n-Perttu",
    "Downgrading because of investigation that this is a VM bug. I don\u0027t want to\npatch our code to workaround a VM bug. Instead I will keep this bug open for\nreference.",
    "VM bug."
  ],
  "commentCreationDates": [
    "2004-06-07T14:30:44+02:00",
    "2004-06-07T15:49:59+02:00",
    "2004-06-07T20:39:23+02:00",
    "2004-06-08T09:23:35+02:00",
    "2004-06-08T14:10:31+02:00",
    "2004-06-09T20:07:59+02:00",
    "2006-06-16T05:01:32+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "java.util.TimeZone.parseCustomTimeZone",
          "source": "TimeZone.java:696"
        },
        {
          "method": "java.util.TimeZone.getTimeZone",
          "source": "TimeZone.java:450"
        },
        {
          "method": "java.util.TimeZone.getTimeZone",
          "source": "TimeZone.java:444"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.util.CVSDateFormatter.getTimeZone",
          "source": "CVSDateFormatter.java:97"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.util.CVSDateFormatter.serverStampToDate",
          "source": "CVSDateFormatter.java:42"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.client.ModTimeHandler.handle",
          "source": "ModTimeHandler.java:43"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "65954",
      "date": "2004-06-07T14:30:44+02:00",
      "product": "Platform",
      "component": "CVS",
      "severity": "major"
    }
  ],
  "groupId": "65954",
  "bugId": "65954",
  "date": "2004-06-07T14:30:44+02:00",
  "product": "Platform",
  "component": "CVS",
  "severity": "major"
}