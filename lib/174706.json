{
  "comments": [
    "Build ID: WTP I20070206\n\nSteps To Reproduce:\n1. Create an ejb project with an ear project, specifying\nfacet version 3.0\n2. get errors in console\n*** ERROR ***: Mon Feb 19 17:15:18 EST 2007    org.eclipse.emf.common.util.Basic\nEList$BasicIndexOutOfBoundsException: index\u003d0, size\u003d0\n        at org.eclipse.emf.common.util.BasicEList.get(BasicEList.java:535)\n        at org.eclipse.jst.j2ee.componentcore.EnterpriseArtifactEdit.getDeployme\nntDescriptorRoot(EnterpriseArtifactEdit.java:154)\n        at org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getApplicatio\nn(EARArtifactEdit.java:291)\n        at org.eclipse.jst.j2ee.application.internal.operations.AddComponentToEn\nterpriseApplicationOp.updateEARDD(AddComponentToEnterpriseApplicationOp.java:107\n)\n        at org.eclipse.jst.j2ee.application.internal.operations.AddComponentToEn\nterpriseApplicationOp.execute(AddComponentToEnterpriseApplicationOp.java:68)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibl\neOperationImpl$1.run(DataModelPausibleOperationImpl.java:376)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1743\n)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibl\neOperationImpl.runOperation(DataModelPausibleOperationImpl.java:401)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibl\neOperationImpl.runOperation(DataModelPausibleOperationImpl.java:352)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibl\neOperationImpl.doExecute(DataModelPausibleOperationImpl.java:242)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibl\neOperationImpl.executeImpl(DataModelPausibleOperationImpl.java:214)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibl\neOperationImpl.cacheThreadAndContinue(DataModelPausibleOperationImpl.java:89)\n        at org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibl\neOperationImpl.execute(DataModelPausibleOperationImpl.java:202)\n        at org.eclipse.jst.j2ee.project.facet.J2EEFacetInstallDelegate.addToEar(\nJ2EEFacetInstallDelegate.java:121)\n        at org.eclipse.jst.j2ee.project.facet.J2EEFacetInstallDelegate.installAn\ndAddModuletoEAR(J2EEFacetInstallDelegate.java:142)\n        at org.eclipse.jst.jee.ejb.project.facet.EjbFacetPostInstallDelegate.exe\ncute(EjbFacetPostInstallDelegate.java:81)\n        at org.eclipse.wst.common.project.facet.core.internal.FacetedProject.cal\nlDelegate(FacetedProject.java:1416)\n        at org.eclipse.wst.common.project.facet.core.internal.FacetedProject.cal\nlEventHandlers(FacetedProject.java:1364)\n        at org.eclipse.wst.common.project.facet.core.internal.FacetedProject.mod\nifyInternal(FacetedProject.java:413)\n        at org.eclipse.wst.common.project.facet.core.internal.FacetedProject.acc\ness$2(FacetedProject.java:269)\n        at org.eclipse.wst.common.project.facet.core.internal.FacetedProject$1.r\nun(FacetedProject.java:254)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1743\n)\n        at org.eclipse.wst.common.project.facet.core.internal.FacetedProject.mod\nify(FacetedProject.java:264)\n        at org.eclipse.wst.common.project.facet.ui.ModifyFacetedProjectWizard.pe\nrformFinish(ModifyFacetedProjectWizard.java:336)\n        at org.eclipse.wst.web.ui.internal.wizards.NewProjectDataModelFacetWizar\nd.performFinish(NewProjectDataModelFacetWizard.java:288)\n        at org.eclipse.wst.common.project.facet.ui.ModifyFacetedProjectWizard$2.\nrun(ModifyFacetedProjectWizard.java:260)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1743\n)\n        at org.eclipse.wst.common.project.facet.ui.ModifyFacetedProjectWizard$3.\nrun(ModifyFacetedProjectWizard.java:274)\n        at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(Modal\nContext.java:113)\n\n\nMore information:",
    "Created an attachment (id\u003d59329)\nfixes the exception by not calling ear edit model for the project version\n\nFixed by making the install delegate class (for the new version projects) extend a new delegate class called JEEFacetInstallDelegate, which does not access the deployment descriptor.\n\nFix affected install delegates for ejb 3.0, web 2.5, appclient 5.0 versions.\n\nsee patch for more details.\n",
    "Fixed 02/20",
    "closed"
  ],
  "commentCreationDates": [
    "2007-02-19T22:20:12+01:00",
    "2007-02-19T23:08:15+01:00",
    "2007-04-10T20:42:18+02:00",
    "2007-04-10T20:42:28+02:00"
  ],
  "traces": [
    {
      "exceptionType": "EList$BasicIndexOutOfBoundsException",
      "message": "index\u003d0, size\u003d0",
      "elements": [
        {
          "method": "org.eclipse.emf.common.util.BasicEList.get",
          "source": "BasicEList.java:535"
        },
        {
          "method": "org.eclipse.jst.j2ee.componentcore.EnterpriseArtifactEdit.getDeploymentDescriptorRoot",
          "source": "EnterpriseArtifactEdit.java:154"
        },
        {
          "method": "org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getApplication",
          "source": "EARArtifactEdit.java:291"
        },
        {
          "method": "org.eclipse.jst.j2ee.application.internal.operations.AddComponentToEnterpriseApplicationOp.updateEARDD",
          "source": "AddComponentToEnterpriseApplicationOp.java:107 "
        },
        {
          "method": "org.eclipse.jst.j2ee.application.internal.operations.AddComponentToEnterpriseApplicationOp.execute",
          "source": "AddComponentToEnterpriseApplicationOp.java:68"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibleOperationImpl$1.run",
          "source": "DataModelPausibleOperationImpl.java:376"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1743 "
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibleOperationImpl.runOperation",
          "source": "DataModelPausibleOperationImpl.java:401"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibleOperationImpl.runOperation",
          "source": "DataModelPausibleOperationImpl.java:352"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibleOperationImpl.doExecute",
          "source": "DataModelPausibleOperationImpl.java:242"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibleOperationImpl.executeImpl",
          "source": "DataModelPausibleOperationImpl.java:214"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibleOperationImpl.cacheThreadAndContinue",
          "source": "DataModelPausibleOperationImpl.java:89"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.DataModelPausibleOperationImpl.execute",
          "source": "DataModelPausibleOperationImpl.java:202"
        },
        {
          "method": "org.eclipse.jst.j2ee.project.facet.J2EEFacetInstallDelegate.addToEar",
          "source": " J2EEFacetInstallDelegate.java:121"
        },
        {
          "method": "org.eclipse.jst.j2ee.project.facet.J2EEFacetInstallDelegate.installAndAddModuletoEAR",
          "source": "J2EEFacetInstallDelegate.java:142"
        },
        {
          "method": "org.eclipse.jst.jee.ejb.project.facet.EjbFacetPostInstallDelegate.execute",
          "source": "EjbFacetPostInstallDelegate.java:81"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.FacetedProject.callDelegate",
          "source": "FacetedProject.java:1416"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.FacetedProject.callEventHandlers",
          "source": "FacetedProject.java:1364"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.FacetedProject.modifyInternal",
          "source": "FacetedProject.java:413"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.FacetedProject.access$2",
          "source": "FacetedProject.java:269"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.FacetedProject$1.run",
          "source": "FacetedProject.java:254"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1743 "
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.FacetedProject.modify",
          "source": "FacetedProject.java:264"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.ui.ModifyFacetedProjectWizard.performFinish",
          "source": "ModifyFacetedProjectWizard.java:336"
        },
        {
          "method": "org.eclipse.wst.web.ui.internal.wizards.NewProjectDataModelFacetWizard.performFinish",
          "source": "NewProjectDataModelFacetWizard.java:288"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.ui.ModifyFacetedProjectWizard$2.run",
          "source": "ModifyFacetedProjectWizard.java:260"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1743 "
        },
        {
          "method": "org.eclipse.wst.common.project.facet.ui.ModifyFacetedProjectWizard$3.run",
          "source": "ModifyFacetedProjectWizard.java:274"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "Modal Context.java:113"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "174706",
      "date": "2007-02-19T22:20:12+01:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "normal"
    }
  ],
  "groupId": "174706",
  "bugId": "174706",
  "date": "2007-02-19T22:20:12+01:00",
  "product": "Web Tools",
  "component": "jst.j2ee",
  "severity": "normal"
}