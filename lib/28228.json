{
  "comments": [
    "Eclipse 2.1M3 (but happened in v2.0).\n\nIf I hit ctl-S to save the current editor, then ctl-B to build while it is\nsaving, it hangs with the dialog present. I must kill the java process and\nrestart eclipse to get out of it. The file has successfully saved.\n\nBuild is set to save all editors (yes I know its redundant, but old habits die\nhard from anothe IDE). However, it still occurs if this is off.\nBuild on resource modification is off.\n\nHitting cancel in the dialog greys the cancel button but doesn\u0027t actually cancel\n- something that appears true of several functions in Eclipse on Linux.",
    "Are there any entries in your \u003cworkspace\u003e/.metadata/.log file?",
    "nothing that occurs after startup.\n\nI can reproduce this everytime on more than one linux-gtk installation, and\nacross different versions of eclipse.",
    "Assigning for further assessment.",
    "not a key bindings issue just because keys are pressed to reproduce the \nbug :). either JDT issue or thread synchronization in dialogs. moving to UI \n[dialogs] for comment.",
    "This is a problem with builders attempting to read a resource that is \ncurrently locked. Moving to JDT Core",
    "How could a builder run if the workspace lock is taken by someone else ?\nOnly a bad timing could cause this. Are save actions performed into \nbackground ? \n\nBTW WorkManager#checkIn loop should probably sleep in between 2 attempts, to \navoid using all CPU for no reason.\n\nMoving to JDT/UI for further analysis.",
    "I think this is because under GTK the UI isn\u0027t block while the save operation \nis active. Hence the user can start a second operation which will result in the \ndeadlock. I am not able to reproduce this under windows. In general the \nworkbench is supposed to take care that there can\u0027t be two \"normal\" operations \nrunning in parallel.\n\nIf build on resource modification is off the workbench uses an in place \nprogress monitor to report progress. May be this causes some troubles under \nLinux GTK.\n\nMoving back to platform to comment on this.",
    "*** Bug 29104 has been marked as a duplicate of this bug. ***",
    "*** Bug 29146 has been marked as a duplicate of this bug. ***",
    "I believe this may of some help...(see bug 29104) for my original bug of a\nsimlar nature.\n\nI believe something in either the Eclipse configuration or the project\nconfiguration that gets stored in the workspace folder could be to blame (or a\ncombination of both).  Last night, I got despirate and tried something I had not\ntried since upgrading to M4 from M3.  I made a .tar copy of my entire workspace\nfolder and deleted it off the system.  I then started Eclipse and it went\nthrough the normal \"finalizing install\" steps to re-create the workspace.  I\ncreated a new project and checked all my source out of CVS.  Rebuilt the project\nas I had in bug 29104 and I get no workbench hangs now.  If I replace the newly\ncreated workspace folder and all of it\u0027s contents, I can re-produce the\nworkbench hang problem listed in 29104.",
    "The SaveOperation is run within the UI Thread and any building is done within\nanother (I assume lower priority) thread so the issue here appears to be the\nfact that we have two threads attempting to access the same file - one to write\n(the UI Thread) and one to read (the Thread generated by the builder).\n\nDirk is right I believe - SaveOperations should be run in a critical mode\nbecause of this.",
    "As another test does this happen when you have auto build on? I suspect it won\u0027t\nas that will be run in the same thread as the save.\n\nAlso when you deadlock if you hit Ctrl-Break from the console you will get the\njava dump - appending that to this PR will be of great help.",
    "Here is the thread dump. Note that on M4 it seems a little different: I get a\ndialog \"resource has changed on the filesystem - overwrite?\". Obviously this is\nbecause the build is geting in ahead of the save. No matter what I answer, it\nstill hangs.  afterwards when the progress dialog appears.\n\nI\u0027m surprised nobody can reproduce this - I\u0027ve done it with 4 versions of\neclipse on 3 machines, new workspace or not, every single time. On the other\nhand, I\u0027ve used eclipse long enough to learn not to press it at the same time now :)\n\nTod: No, it doesn\u0027t happen just hitting save with autobuild on, but it does\nhappen when I do the ctl-S, ctl-B sequence with autobuild + save on build on\n\nDid kill -3 on the java process to get it:\n\nFull thread dump Java HotSpot(TM) Client VM (1.4.1-b21 mixed mode):\n\n\"ModalContext\" prio\u003d1 tid\u003d0x0x8715b98 nid\u003d0x112b in Object.wait()\n[4e553000..4e553830]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x44411cd8\u003e (a org.eclipse.core.internal.utils.Semaphore)\n        at java.lang.Object.wait(Object.java:426)\n        at org.eclipse.core.internal.utils.Semaphore.acquire(Semaphore.java:24)\n        - locked \u003c0x44411cd8\u003e (a org.eclipse.core.internal.utils.Semaphore)\n        at org.eclipse.core.resources.WorkspaceLock.acquire(WorkspaceLock.java:49)\n        at org.eclipse.ui.internal.UIWorkspaceLock.acquire(UIWorkspaceLock.java:40)\n        at\norg.eclipse.core.internal.resources.WorkManager.checkIn(WorkManager.java:80)\n        at\norg.eclipse.core.internal.resources.Workspace.prepareOperation(Workspace.java:1527)\n        at org.eclipse.core.internal.resources.Workspace.build(Workspace.java:171)\n        at\norg.eclipse.ui.actions.GlobalBuildAction$1.run(GlobalBuildAction.java:156)\n        at\norg.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:95)\n\n\"org.eclipse.jdt.internal.ui.text.JavaReconciler\" daemon prio\u003d1 tid\u003d0x0x86c0f30\nnid\u003d0x1129 in Object.wait() [4e4d2000..4e4d2830]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x44f88228\u003e (a\norg.eclipse.jface.text.reconciler.DirtyRegionQueue)\n        at\norg.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:161)\n        - locked \u003c0x44f88228\u003e (a org.eclipse.jface.text.reconciler.DirtyRegionQueue)\n\n\"Decoration\" prio\u003d1 tid\u003d0x0x85706d0 nid\u003d0x1123 in Object.wait() [4e445000..4e445830]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x44d1e3a0\u003e (a\norg.eclipse.ui.internal.decorators.DecorationScheduler)\n        at java.lang.Object.wait(Object.java:426)\n        at\norg.eclipse.ui.internal.decorators.DecorationScheduler.next(DecorationScheduler.java:247)\n        - locked \u003c0x44d1e3a0\u003e (a\norg.eclipse.ui.internal.decorators.DecorationScheduler)\n        at\norg.eclipse.ui.internal.decorators.DecorationScheduler$3.run(DecorationScheduler.java:273)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"Java indexing\" daemon prio\u003d1 tid\u003d0x0x815c890 nid\u003d0x1122 waiting on condition\n[4e37f000..4e37f830]\n        at java.lang.Thread.sleep(Native Method)\n        at\norg.eclipse.jdt.internal.core.search.processing.JobManager.run(JobManager.java:322)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"Snapshot\" prio\u003d1 tid\u003d0x0x814fb18 nid\u003d0x1121 in Object.wait() [4e2fe000..4e2fe830]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x44cd02e0\u003e (a\norg.eclipse.core.internal.resources.DelayedSnapshotRunnable)\n        at\norg.eclipse.core.internal.resources.DelayedSnapshotRunnable.run(DelayedSnapshotRunnable.java:38)\n        - locked \u003c0x44cd02e0\u003e (a\norg.eclipse.core.internal.resources.DelayedSnapshotRunnable)\n        at java.lang.Thread.run(Thread.java:536)\n\n\"Signal Dispatcher\" daemon prio\u003d1 tid\u003d0x0x80a4648 nid\u003d0x111d waiting on\ncondition [0..0]\n\n\"Finalizer\" daemon prio\u003d1 tid\u003d0x0x80863e0 nid\u003d0x111a in Object.wait()\n[4c470000..4c470830]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x448e5e20\u003e (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:111)\n        - locked \u003c0x448e5e20\u003e (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:127)\n        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:159)\n\n\"Reference Handler\" daemon prio\u003d1 tid\u003d0x0x8085830 nid\u003d0x1119 in Object.wait()\n[41f8d000..41f8d830]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x448e5e88\u003e (a java.lang.ref.Reference$Lock)\n        at java.lang.Object.wait(Object.java:426)\n        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:113)\n        - locked \u003c0x448e5e88\u003e (a java.lang.ref.Reference$Lock)\n\n\"main\" prio\u003d1 tid\u003d0x0x8051bb0 nid\u003d0x1116 waiting on condition [bfffc000..bfffd7b0]\n        at java.lang.Thread.sleep(Native Method)\n        at org.eclipse.swt.widgets.Display.sleep(Display.java:1674)\n        at\norg.eclipse.jface.operation.ModalContext$ModalContextThread.block(ModalContext.java:131)\n        at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:255)\n        at\norg.eclipse.jface.dialogs.ProgressMonitorDialog.run(ProgressMonitorDialog.java:351)\n        at\norg.eclipse.ui.actions.GlobalBuildAction.doBuildOperation(GlobalBuildAction.java:165)\n        at org.eclipse.ui.actions.GlobalBuildAction.run(GlobalBuildAction.java:219)\n        at org.eclipse.jface.action.Action.runWithEvent(Action.java:769)\n        at\norg.eclipse.ui.internal.WWinKeyBindingService.invoke(WWinKeyBindingService.java:139)\n        at\norg.eclipse.ui.internal.WWinKeyBindingService.pressed(WWinKeyBindingService.java:120)\n        at\norg.eclipse.ui.internal.WWinKeyBindingService$6.widgetSelected(WWinKeyBindingService.java:376)\n        at\norg.eclipse.ui.internal.AcceleratorMenu$2.handleEvent(AcceleratorMenu.java:55)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:77)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:868)\n        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1456)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1278)\n        at\norg.eclipse.ui.internal.dialogs.EventLoopProgressMonitor.runEventLoop(EventLoopProgressMonitor.java:88)\n        at\norg.eclipse.ui.internal.dialogs.EventLoopProgressMonitor.isCanceled(EventLoopProgressMonitor.java:67)\n        at\norg.eclipse.core.runtime.ProgressMonitorWrapper.isCanceled(ProgressMonitorWrapper.java:87)\n        at\norg.eclipse.core.runtime.ProgressMonitorWrapper.isCanceled(ProgressMonitorWrapper.java:87)\n        at\norg.eclipse.jdt.internal.core.CompilationUnit.buildStructure(CompilationUnit.java:85)\n        at\norg.eclipse.jdt.internal.core.CompilationUnit.makeConsistent(CompilationUnit.java:664)\n        at org.eclipse.jdt.internal.core.Openable.save(Openable.java:447)\n        at\norg.eclipse.jdt.internal.core.CommitWorkingCopyOperation.executeOperation(CommitWorkingCopyOperation.java:121)\n        at\norg.eclipse.jdt.internal.core.JavaModelOperation.execute(JavaModelOperation.java:326)\n        at\norg.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:626)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1564)\n        at\norg.eclipse.jdt.internal.core.JavaElement.runOperation(JavaElement.java:562)\n        at org.eclipse.jdt.internal.core.WorkingCopy.commit(WorkingCopy.java:78)\n        at\norg.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider.doSaveDocument(CompilationUnitDocumentProvider.java:925)\n        at\norg.eclipse.ui.texteditor.AbstractDocumentProvider.saveDocument(AbstractDocumentProvider.java:454)\n        at\norg.eclipse.ui.texteditor.AbstractTextEditor$11.execute(AbstractTextEditor.java:2772)\n        at\norg.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:65)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1564)\n        at\norg.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:79)\n        - locked \u003c0x45342970\u003e (a org.eclipse.ui.texteditor.AbstractTextEditor$11)\n        at\norg.eclipse.ui.texteditor.AbstractTextEditor.performSaveOperation(AbstractTextEditor.java:2790)\n        at\norg.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.performSaveOperation(CompilationUnitEditor.java:849)\n        at\norg.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.doSave(CompilationUnitEditor.java:913)\n        - locked \u003c0x44f7bb88\u003e (a org.eclipse.jdt.internal.core.WorkingCopy)\n        at org.eclipse.ui.internal.EditorManager$11.run(EditorManager.java:1032)\n        at org.eclipse.ui.internal.EditorManager$8.run(EditorManager.java:901)\n        at\norg.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:296)\n        at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:246)\n        at\norg.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.java:432)\n        at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:65)\n        at\norg.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.java:429)\n        at org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:1174)\n        at\norg.eclipse.ui.internal.EditorManager.runProgressMonitorOperation(EditorManager.java:907)\n        at org.eclipse.ui.internal.EditorManager.saveEditor(EditorManager.java:1037)\n        at org.eclipse.ui.internal.WorkbenchPage.saveEditor(WorkbenchPage.java:2143)\n        at org.eclipse.ui.internal.SaveAction.run(SaveAction.java:30)\n        at org.eclipse.jface.action.Action.runWithEvent(Action.java:769)\n        at\norg.eclipse.ui.internal.WWinKeyBindingService.invoke(WWinKeyBindingService.java:139)\n        at\norg.eclipse.ui.internal.WWinKeyBindingService.pressed(WWinKeyBindingService.java:120)\n        at\norg.eclipse.ui.internal.WWinKeyBindingService$6.widgetSelected(WWinKeyBindingService.java:376)\n        at\norg.eclipse.ui.internal.AcceleratorMenu$2.handleEvent(AcceleratorMenu.java:55)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:77)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:868)\n        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1456)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1278)\n        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1446)\n        at org.eclipse.ui.internal.Workbench.run(Workbench.java:1429)\n        at\norg.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:845)\n        at org.eclipse.core.boot.BootLoader.run(BootLoader.java:462)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:247)\n        at org.eclipse.core.launcher.Main.run(Main.java:703)\n        at org.eclipse.core.launcher.Main.main(Main.java:539)\n\n\"VM Thread\" prio\u003d1 tid\u003d0x0x80825f0 nid\u003d0x1118 runnable\n\n\"VM Periodic Task Thread\" prio\u003d1 tid\u003d0x0x80a3278 nid\u003d0x111b waiting on condition\n\"Suspend Checker Thread\" prio\u003d1 tid\u003d0x0x80a3be0 nid\u003d0x111c runnable\n",
    "Ah, this is a side-effect of that strange EventLoopProgressMonitor.  In the\nmiddle of the save operation, this progress monitor is allowing other events to\nbe dispatched (ostensibly to allow paint events to continue during a long\noperation).  Along comes the build operation, and it tries to build.  However it\ncan\u0027t build because the save operation already has the workspace semaphore\n(acquired by WorkspaceModifyOperation).  Hence the deadlock.\n\nI think the solution would involve preventing the build event from even being\nfired while the save operation is running.  I.e., while save is happening,\nfreeze the UI in a way that prevents users from invoking other actions.  We\ncan\u0027t be allowing other workspace-modifying actions to be run while the save is\nhappening.  Since this is only reproducible on GTK, I wonder if it relates to\nhow key events are dispatched on GTK versus windows??\n",
    "I have replicated this case - if you do a save from a java editor and then a\nCtrl-B then a Ctrl-B will be serviced even if the UI is not active (i.e. menus\nand  the tool bar are disabled).\n\n\nSWT should not allow accelerators when the Ui is not active.\n\nThe reason we see this on GTK only is because the other platforms disbale\naccelerators I suspect.",
    "Logged PR to SWT for this case.",
    "*** Bug 29296 has been marked as a duplicate of this bug. ***",
    "this is critical - you cannot work really\nthe whole ide freezes, you have to kill it and it takes \u003e 20 minutes to get it \nback to shape",
    "Umm, guys, I hate to tell you, but this isn\u0027t a GTK-only problem.  My user-\nexperience matches Bug #21904 -- sometimes while doing a project refresh, \nsometimes while getting some big updates from CVS, sometimes while opening the \nproject (after closing it).  It\u0027s had quite a deleterious effect on the general \nEclipse experience, and has made M4 almost unusable.  My workspace (excluding \nbin) is 82.5 megs (12,000 files).\n\nI run win2k on a P3-866 w/1 Gig of ram.\n\nWhen I get it from CVS, this is what appears in my log:\n\n!SESSION Jan 10, 2003 14:53:52.864 ---------------------------------------------\njava.version\u003d1.3.1_06\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_US\nCommand-line arguments: -os win32 -ws win32 -arch x86 -install file:C:/Program \nFiles/Tools/Development/Eclipse/\n!ENTRY org.eclipse.team.cvs.core 1 0 Jan 10, 2003 14:53:52.864\n!MESSAGE The resource tree is locked for modifications.\n!STACK 0\norg.eclipse.team.internal.ccvs.core.CVSException: The resource tree is locked \nfor modifications.\n\tat org.eclipse.team.internal.ccvs.core.CVSException.wrapException\n(CVSException.java:92)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.SynchronizerSyncInfoCache.setCache\ndSyncBytes(SynchronizerSyncInfoCache.java:271)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.cacheResourceS\nyncForChildren(EclipseSynchronizer.java:623)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.getSyncBytes\n(EclipseSynchronizer.java:229)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseResource.getSyncBytes\n(EclipseResource.java:222)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseResource.isManaged\n(EclipseResource.java:181)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseResource.isIgnored\n(EclipseResource.java:115)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseFile.handleModification\n(EclipseFile.java:494)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.FileModificationManager.contentsCh\nanged(FileModificationManager.java:161)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.FileModificationManager$1.visit\n(FileModificationManager.java:77)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:71)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:52)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.FileModificationManager.resourceCh\nanged(FileModificationManager.java:62)\n\tat org.eclipse.core.internal.events.NotificationManager$1.run\n(NotificationManager.java:137)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:852)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:413)\n\tat org.eclipse.core.internal.events.NotificationManager.notify\n(NotificationManager.java:152)\n\tat org.eclipse.core.internal.events.NotificationManager.broadcastChanges\n(NotificationManager.java:67)\n\tat org.eclipse.core.internal.resources.Workspace.broadcastChanges\n(Workspace.java:154)\n\tat org.eclipse.core.internal.resources.Workspace.endOperation\n(Workspace.java:870)\n\tat org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1570)\n\tat org.eclipse.ui.actions.WorkspaceModifyOperation.run\n(WorkspaceModifyOperation.java:79)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run\n(ModalContext.java:95)\n!ENTRY org.eclipse.team.cvs.core 1 0 Jan 10, 2003 15:14:40.974\n!MESSAGE The resource tree is locked for modifications.\n!STACK 0\norg.eclipse.team.internal.ccvs.core.CVSException: The resource tree is locked \nfor modifications.\n\tat org.eclipse.team.internal.ccvs.core.CVSException.wrapException\n(CVSException.java:92)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.SynchronizerSyncInfoCache.setCache\ndSyncBytes(SynchronizerSyncInfoCache.java:271)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.cacheResourceS\nyncForChildren(EclipseSynchronizer.java:623)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.getSyncBytes\n(EclipseSynchronizer.java:229)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseResource.getSyncBytes\n(EclipseResource.java:222)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseResource.isManaged\n(EclipseResource.java:181)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseResource.isIgnored\n(EclipseResource.java:115)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseFile.handleModification\n(EclipseFile.java:494)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.FileModificationManager.contentsCh\nanged(FileModificationManager.java:161)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.FileModificationManager$1.visit\n(FileModificationManager.java:77)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:71)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:79)\n\tat org.eclipse.core.internal.events.ResourceDelta.accept\n(ResourceDelta.java:52)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.FileModificationManager.resourceCh\nanged(FileModificationManager.java:62)\n\tat org.eclipse.core.internal.events.NotificationManager$1.run\n(NotificationManager.java:137)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:852)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:413)\n\tat org.eclipse.core.internal.events.NotificationManager.notify\n(NotificationManager.java:152)\n\tat org.eclipse.core.internal.events.NotificationManager.broadcastChanges\n(NotificationManager.java:67)\n\tat org.eclipse.core.internal.resources.Workspace.broadcastChanges\n(Workspace.java:154)\n\tat org.eclipse.core.internal.resources.Workspace.endOperation\n(Workspace.java:870)\n\tat org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1570)\n\tat org.eclipse.ui.actions.WorkspaceModifyOperation.run\n(WorkspaceModifyOperation.java:79)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run\n(ModalContext.java:95)\n",
    "You are actually reporting a different error - Bug 29212 - to do with \nworkspace locks and the CVS decorator. This is also fixed in 20030114.",
    "*nod* With the CVS part, I could be.  But I *am* getting the same freezing, for\nexample, when I start Eclipse.  (It\u0027s not consistent -- I\u0027ll try to get a log\nentry next time it does it.)",
    "I believe that this happened when I did a simple refresh.  I\u0027m not sure, tho -- \nlast night was a long night.  When I find something current, and I know what \naction triggered it, I\u0027ll post it too  (I appolgoize if this too is a different \nbug -- I\u0027m just going by \"I do some sort of refresh, and the darned thing \nfreezes.\").\n\n!SESSION Jan 13, 2003 10:00:12.44 ----------------------------------------------\njava.version\u003d1.3.1_06\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_US\nCommand-line arguments: -os win32 -ws win32 -arch x86 -install file:C:/Program \nFiles/Tools/Development/Eclipse/\n!ENTRY org.eclipse.jdt.core 1 2 Jan 13, 2003 10:00:12.44\n!MESSAGE Problems occurred when invoking code from plug-\nin: \"org.eclipse.jdt.core\".\n!STACK 1\nJava Model Exception: Core Exception [code 4] The resource tree is locked for \nmodifications.\n\tat org.eclipse.jdt.core.JavaCore.setClasspathContainer\n(JavaCore.java:2705)\n\tat org.eclipse.jdt.internal.launching.JREContainerInitializer.initialize\n(JREContainerInitializer.java:59)\n\tat org.eclipse.jdt.core.JavaCore$1.run(JavaCore.java:827)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:852)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:413)\n\tat org.eclipse.jdt.core.JavaCore.getClasspathContainer\n(JavaCore.java:822)\n\tat org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath\n(JavaProject.java:1471)\n\tat org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath\n(JavaProject.java:1401)\n\tat org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath\n(JavaProject.java:1377)\n\tat org.eclipse.jdt.internal.core.DeltaProcessor.initializeRoots\n(DeltaProcessor.java:1088)\n\tat org.eclipse.jdt.internal.core.DeltaProcessor.processResourceDelta\n(DeltaProcessor.java:1357)\n\tat org.eclipse.jdt.internal.core.DeltaProcessor.resourceChanged\n(DeltaProcessor.java:1628)\n\tat org.eclipse.core.internal.events.NotificationManager$1.run\n(NotificationManager.java:137)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:852)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:413)\n\tat org.eclipse.core.internal.events.NotificationManager.notify\n(NotificationManager.java:152)\n\tat org.eclipse.core.internal.events.NotificationManager.broadcastChanges\n(NotificationManager.java:67)\n\tat org.eclipse.core.internal.resources.Workspace.broadcastChanges\n(Workspace.java:154)\n\tat org.eclipse.core.internal.resources.Workspace.endOperation\n(Workspace.java:870)\n\tat org.eclipse.core.internal.resources.Synchronizer.setSyncInfo\n(Synchronizer.java:240)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.SynchronizerSyncInfoCache.setCache\ndSyncBytes(SynchronizerSyncInfoCache.java:268)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.cacheResourceS\nyncForChildren(EclipseSynchronizer.java:623)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.getSyncBytes\n(EclipseSynchronizer.java:229)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseResource.getSyncBytes\n(EclipseResource.java:222)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseResource.isManaged\n(EclipseResource.java:181)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseResource.isIgnored\n(EclipseResource.java:115)\n\tat org.eclipse.team.internal.ccvs.core.resources.EclipseFolder.isIgnored\n(EclipseFolder.java:284)\n\tat org.eclipse.team.internal.ccvs.ui.CVSLightweightDecorator.decorate\n(CVSLightweightDecorator.java:172)\n\tat \norg.eclipse.ui.internal.decorators.LightweightDecoratorDefinition.decorate\n(LightweightDecoratorDefinition.java:153)\n\tat \norg.eclipse.ui.internal.decorators.LightweightDecoratorManager$LightweightRunnab\nle.run(LightweightDecoratorManager.java:60)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:852)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:413)\n\tat \norg.eclipse.ui.internal.decorators.LightweightDecoratorManager.decorate\n(LightweightDecoratorManager.java:220)\n\tat \norg.eclipse.ui.internal.decorators.LightweightDecoratorManager.getDecorations\n(LightweightDecoratorManager.java:191)\n\tat org.eclipse.ui.internal.decorators.DecorationScheduler$3.run\n(DecorationScheduler.java:286)\n\tat java.lang.Thread.run(Thread.java:479)\n",
    "I have verified in 20030122 that this is no longer na issue. However due to \nsome self hosting problems in the is build I can\u0027t test as rigourously as I \nwould like - plese verify the fix if you have the time.",
    "Marking closed"
  ],
  "commentCreationDates": [
    "2002-12-12T23:42:35+01:00",
    "2002-12-13T14:44:15+01:00",
    "2002-12-15T22:30:27+01:00",
    "2002-12-16T13:27:30+01:00",
    "2003-01-07T20:02:05+01:00",
    "2003-01-07T20:07:24+01:00",
    "2003-01-08T11:55:26+01:00",
    "2003-01-08T14:19:53+01:00",
    "2003-01-08T15:25:54+01:00",
    "2003-01-08T15:27:05+01:00",
    "2003-01-08T15:52:23+01:00",
    "2003-01-08T18:30:30+01:00",
    "2003-01-08T18:48:05+01:00",
    "2003-01-08T21:28:40+01:00",
    "2003-01-08T22:17:37+01:00",
    "2003-01-09T21:20:22+01:00",
    "2003-01-09T21:25:21+01:00",
    "2003-01-10T21:49:25+01:00",
    "2003-01-13T16:18:25+01:00",
    "2003-01-14T13:51:01+01:00",
    "2003-01-14T14:03:43+01:00",
    "2003-01-14T14:07:52+01:00",
    "2003-01-14T14:12:34+01:00",
    "2003-01-23T20:38:04+01:00",
    "2005-05-10T20:56:09+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.team.internal.ccvs.core.CVSException",
      "message": "The resource tree is locked  for modifications.",
      "elements": [
        {
          "method": "org.eclipse.team.internal.ccvs.core.CVSException.wrapException",
          "source": "CVSException.java:92"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.SynchronizerSyncInfoCache.setCachedSyncBytes",
          "source": "SynchronizerSyncInfoCache.java:271"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.cacheResourceSyncForChildren",
          "source": "EclipseSynchronizer.java:623"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.getSyncBytes",
          "source": "EclipseSynchronizer.java:229"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseResource.getSyncBytes",
          "source": "EclipseResource.java:222"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseResource.isManaged",
          "source": "EclipseResource.java:181"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseResource.isIgnored",
          "source": "EclipseResource.java:115"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseFile.handleModification",
          "source": "EclipseFile.java:494"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.FileModificationManager.contentsChanged",
          "source": "FileModificationManager.java:161"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.FileModificationManager$1.visit",
          "source": "FileModificationManager.java:77"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:71"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:52"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.FileModificationManager.resourceChanged",
          "source": "FileModificationManager.java:62"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager$1.run",
          "source": "NotificationManager.java:137"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:852"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:413"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.notify",
          "source": "NotificationManager.java:152"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.broadcastChanges",
          "source": "NotificationManager.java:67"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.broadcastChanges",
          "source": "Workspace.java:154"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.endOperation",
          "source": "Workspace.java:870"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1570"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation.run",
          "source": "WorkspaceModifyOperation.java:79"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:95"
        }
      ],
      "number": 0,
      "commentIndex": 19,
      "bugId": "28228",
      "date": "2003-01-14T13:51:01+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "critical"
    },
    {
      "exceptionType": "org.eclipse.team.internal.ccvs.core.CVSException",
      "message": "The resource tree is locked  for modifications.",
      "elements": [
        {
          "method": "org.eclipse.team.internal.ccvs.core.CVSException.wrapException",
          "source": "CVSException.java:92"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.SynchronizerSyncInfoCache.setCachedSyncBytes",
          "source": "SynchronizerSyncInfoCache.java:271"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.cacheResourceSyncForChildren",
          "source": "EclipseSynchronizer.java:623"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.getSyncBytes",
          "source": "EclipseSynchronizer.java:229"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseResource.getSyncBytes",
          "source": "EclipseResource.java:222"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseResource.isManaged",
          "source": "EclipseResource.java:181"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseResource.isIgnored",
          "source": "EclipseResource.java:115"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseFile.handleModification",
          "source": "EclipseFile.java:494"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.FileModificationManager.contentsChanged",
          "source": "FileModificationManager.java:161"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.FileModificationManager$1.visit",
          "source": "FileModificationManager.java:77"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:71"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:79"
        },
        {
          "method": "org.eclipse.core.internal.events.ResourceDelta.accept",
          "source": "ResourceDelta.java:52"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.FileModificationManager.resourceChanged",
          "source": "FileModificationManager.java:62"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager$1.run",
          "source": "NotificationManager.java:137"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:852"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:413"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.notify",
          "source": "NotificationManager.java:152"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.broadcastChanges",
          "source": "NotificationManager.java:67"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.broadcastChanges",
          "source": "Workspace.java:154"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.endOperation",
          "source": "Workspace.java:870"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1570"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation.run",
          "source": "WorkspaceModifyOperation.java:79"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:95"
        }
      ],
      "number": 1,
      "commentIndex": 19,
      "bugId": "28228",
      "date": "2003-01-14T13:51:01+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "critical"
    }
  ],
  "groupId": "28228",
  "bugId": "28228",
  "date": "2002-12-12T23:42:35+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "critical"
}