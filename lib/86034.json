{
  "comments": [
    "call getImage() which calls isPublic() in UI thread. Communication should be done in the background.\n\nCommunication in main thread:\njava.lang.Exception: Stack trace\n\tat java.lang.Thread.dumpStack(Thread.java:1082)\n\tat org.eclipse.jdi.internal.connect.PacketReceiveManager.getReply(PacketReceiveManager.java:132)\n\tat org.eclipse.jdi.internal.connect.PacketReceiveManager.getReply(PacketReceiveManager.java:176)\n\tat org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:174)\n\tat org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:192)\n\tat org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:222)\n\tat org.eclipse.jdi.internal.ReferenceTypeImpl.modifiers(ReferenceTypeImpl.java:477)\n\tat org.eclipse.jdi.internal.AccessibleImpl.isPublic(AccessibleImpl.java:89)\n\tat org.eclipse.jdt.internal.debug.core.model.JDIThisVariable.isPublic(JDIThisVariable.java:138)\n\tat \norg.eclipse.jdt.internal.debug.ui.JDIModelPresentation.computeBaseImageDescriptor(JDIModelPresentati\non.java:1001)\n\tat \norg.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getVariableImage(JDIModelPresentation.java:852)\n\tat org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getImage(JDIModelPresentation.java:644)\n\tat org.eclipse.debug.internal.ui.LazyModelPresentation.getImage(LazyModelPresentation.java:107)\n\tat \norg.eclipse.debug.internal.ui.DelegatingModelPresentation.getImage(DelegatingModelPresentation.java:\n144)\n\tat \norg.eclipse.debug.internal.ui.views.DebugViewInterimLabelProvider.getImage(DebugViewInterimLabelPr\novider.java:62)\n\tat org.eclipse.jface.viewers.DecoratingLabelProvider.getImage(DecoratingLabelProvider.java:82)\n\tat org.eclipse.debug.internal.ui.views.RemoteTreeViewer.doUpdateItem(RemoteTreeViewer.java:\n435)\n\tat \norg.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run(AbstractTreeViewer.java:86)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1015)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:757)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:490)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh(AbstractTreeViewer.java:1079)\n\tat org.eclipse.debug.internal.ui.views.RemoteTreeViewer.access$6(RemoteTreeViewer.java:1)\n\tat org.eclipse.debug.internal.ui.views.RemoteTreeViewer$2.run(RemoteTreeViewer.java:400)\n\tat org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1109)\n\tat org.eclipse.debug.internal.ui.views.RemoteTreeViewer.replace(RemoteTreeViewer.java:378)\n\tat \norg.eclipse.debug.internal.ui.views.RemoteTreeContentManager$2.runInUIThread(RemoteTreeContentM\nanager.java:151)\n\tat org.eclipse.ui.progress.UIJob$1.run(UIJob.java:96)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:118)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2786)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2574)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1612)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1578)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:293)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:333)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:150)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:268)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:260)\n\tat org.eclipse.core.launcher.Main.run(Main.java:887)\n\tat org.eclipse.core.launcher.Main.main(Main.java:871)",
    "Created an attachment (id\u003d18154)\nPatch\n",
    "released patch",
    "Darin, please verify",
    "reopening. calling getImage() outside of the UI Thread causes:\norg.eclipse.swt.SWTException: Invalid thread access\n        at org.eclipse.swt.SWT.error(SWT.java:2839)\n        at org.eclipse.swt.SWT.error(SWT.java:2762)\n        at org.eclipse.swt.SWT.error(SWT.java:2733)\n        at org.eclipse.swt.widgets.Display.error(Display.java:922)\n        at org.eclipse.swt.widgets.Display.checkDevice(Display.java:510)\n        at org.eclipse.swt.widgets.Display.disposeExec(Display.java:879)\n        at \norg.eclipse.jdt.internal.debug.ui.ImageDescriptorRegistry.hookDisplay(ImageDescriptorRegistry.java:84)\n        at org.eclipse.jdt.internal.debug.ui.ImageDescriptorRegistry.\u003cinit\u003e(ImageDescriptorRegistry.java:\n47)\n        at org.eclipse.jdt.internal.debug.ui.ImageDescriptorRegistry.\u003cinit\u003e(ImageDescriptorRegistry.java:\n35)\n        at \norg.eclipse.jdt.internal.debug.ui.JDIDebugUIPlugin.getImageDescriptorRegistry(JDIDebugUIPlugin.java:\n342)\n        at \norg.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getDebugImageRegistry(JDIModelPresentation.jav\na:1867)\n        at \norg.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getDebugElementImage(JDIModelPresentation.jav\na:880)\n        at org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getImage(JDIModelPresentation.java:656)\n        at org.eclipse.debug.internal.ui.LazyModelPresentation.getImage(LazyModelPresentation.java:107)\n        at \norg.eclipse.debug.internal.ui.DelegatingModelPresentation.getImage(DelegatingModelPresentation.java:\n144)\n        at \norg.eclipse.debug.internal.ui.views.DebugViewInterimLabelProvider.getImage(DebugViewInterimLabelPr\novider.java:62)\n        at org.eclipse.jface.viewers.DecoratingLabelProvider.getImage(DecoratingLabelProvider.java:82)\n        at org.eclipse.debug.internal.ui.views.RemoteTreeViewer$3.run(RemoteTreeViewer.java:440)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)\n\n",
    "Problem is that we need to be in the UI thread to access the image registry, but we don\u0027t want to be in \nthe UI thread when calling IJavaVariable.isPublic(), and we need to call that method in order to decide on \nthe correct image.",
    "Images have to be computed in UI thread."
  ],
  "commentCreationDates": [
    "2005-02-21T21:29:44+01:00",
    "2005-02-21T21:59:59+01:00",
    "2005-02-22T21:40:07+01:00",
    "2005-02-22T21:40:35+01:00",
    "2005-02-22T21:44:09+01:00",
    "2005-03-01T00:21:43+01:00",
    "2005-04-04T20:55:41+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.Exception",
      "message": "Stack trace",
      "elements": [
        {
          "method": "java.lang.Thread.dumpStack",
          "source": "Thread.java:1082"
        },
        {
          "method": "org.eclipse.jdi.internal.connect.PacketReceiveManager.getReply",
          "source": "PacketReceiveManager.java:132"
        },
        {
          "method": "org.eclipse.jdi.internal.connect.PacketReceiveManager.getReply",
          "source": "PacketReceiveManager.java:176"
        },
        {
          "method": "org.eclipse.jdi.internal.MirrorImpl.requestVM",
          "source": "MirrorImpl.java:174"
        },
        {
          "method": "org.eclipse.jdi.internal.MirrorImpl.requestVM",
          "source": "MirrorImpl.java:192"
        },
        {
          "method": "org.eclipse.jdi.internal.MirrorImpl.requestVM",
          "source": "MirrorImpl.java:222"
        },
        {
          "method": "org.eclipse.jdi.internal.ReferenceTypeImpl.modifiers",
          "source": "ReferenceTypeImpl.java:477"
        },
        {
          "method": "org.eclipse.jdi.internal.AccessibleImpl.isPublic",
          "source": "AccessibleImpl.java:89"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThisVariable.isPublic",
          "source": "JDIThisVariable.java:138"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.computeBaseImageDescriptor",
          "source": "JDIModelPresentati on.java:1001"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getVariableImage",
          "source": "JDIModelPresentation.java:852"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getImage",
          "source": "JDIModelPresentation.java:644"
        },
        {
          "method": "org.eclipse.debug.internal.ui.LazyModelPresentation.getImage",
          "source": "LazyModelPresentation.java:107"
        },
        {
          "method": "org.eclipse.debug.internal.ui.DelegatingModelPresentation.getImage",
          "source": "DelegatingModelPresentation.java: 144"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.DebugViewInterimLabelProvider.getImage",
          "source": "DebugViewInterimLabelPr ovider.java:62"
        },
        {
          "method": "org.eclipse.jface.viewers.DecoratingLabelProvider.getImage",
          "source": "DecoratingLabelProvider.java:82"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.RemoteTreeViewer.doUpdateItem",
          "source": "RemoteTreeViewer.java: 435"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run",
          "source": "AbstractTreeViewer.java:86"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1015"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:757"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem",
          "source": "AbstractTreeViewer.java:490"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh",
          "source": "AbstractTreeViewer.java:1079"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.RemoteTreeViewer.access$6",
          "source": "RemoteTreeViewer.java:1"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.RemoteTreeViewer$2.run",
          "source": "RemoteTreeViewer.java:400"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.preservingSelection",
          "source": "StructuredViewer.java:1109"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.RemoteTreeViewer.replace",
          "source": "RemoteTreeViewer.java:378"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.RemoteTreeContentManager$2.runInUIThread",
          "source": "RemoteTreeContentM anager.java:151"
        },
        {
          "method": "org.eclipse.ui.progress.UIJob$1.run",
          "source": "UIJob.java:96"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:118"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:2786"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2574"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1612"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1578"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:293"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:144"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:102"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:228"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:333"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:150"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:268"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:260"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:887"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:871"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "86034",
      "date": "2005-02-21T21:29:44+01:00",
      "product": "Platform",
      "component": "Debug",
      "severity": "normal"
    },
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Invalid thread access",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2839"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2762"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2733"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.error",
          "source": "Display.java:922"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.checkDevice",
          "source": "Display.java:510"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.disposeExec",
          "source": "Display.java:879"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.ImageDescriptorRegistry.hookDisplay",
          "source": "ImageDescriptorRegistry.java:84"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.ImageDescriptorRegistry.\u003cinit\u003e",
          "source": "ImageDescriptorRegistry.java: 47"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.ImageDescriptorRegistry.\u003cinit\u003e",
          "source": "ImageDescriptorRegistry.java: 35"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JDIDebugUIPlugin.getImageDescriptorRegistry",
          "source": "JDIDebugUIPlugin.java: 342"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getDebugImageRegistry",
          "source": "JDIModelPresentation.jav a:1867"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getDebugElementImage",
          "source": "JDIModelPresentation.jav a:880"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getImage",
          "source": "JDIModelPresentation.java:656"
        },
        {
          "method": "org.eclipse.debug.internal.ui.LazyModelPresentation.getImage",
          "source": "LazyModelPresentation.java:107"
        },
        {
          "method": "org.eclipse.debug.internal.ui.DelegatingModelPresentation.getImage",
          "source": "DelegatingModelPresentation.java: 144"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.DebugViewInterimLabelProvider.getImage",
          "source": "DebugViewInterimLabelPr ovider.java:62"
        },
        {
          "method": "org.eclipse.jface.viewers.DecoratingLabelProvider.getImage",
          "source": "DecoratingLabelProvider.java:82"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.RemoteTreeViewer$3.run",
          "source": "RemoteTreeViewer.java:440"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:67"
        }
      ],
      "number": 1,
      "commentIndex": 4,
      "bugId": "86034",
      "date": "2005-02-22T21:44:09+01:00",
      "product": "Platform",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "86034",
  "bugId": "86034",
  "date": "2005-02-21T21:29:44+01:00",
  "product": "Platform",
  "component": "Debug",
  "severity": "normal"
}