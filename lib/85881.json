{
  "comments": [
    "I have the PackageExplorer set to Link with Editor\nChanging from a CompilationUnit editor to a plugin.xml editor:\n\nI could not reproduce after getting the problem.\n\njava.lang.IllegalArgumentException: Argument not valid\nat org.eclipse.swt.SWT.error(SWT.java:2823)\nat org.eclipse.swt.SWT.error(SWT.java:2762)\nat org.eclipse.swt.SWT.error(SWT.java:2733)\nat org.eclipse.swt.widgets.Widget.error(Widget.java:393)\nat org.eclipse.swt.widgets.Tree.showItem(Tree.java:2152)\nat org.eclipse.jface.viewers.TreeViewer.showItem(TreeViewer.java:567)\nat org.eclipse.jface.viewers.AbstractTreeViewer.setSelectionToWidget\n(AbstractTreeViewer.java:1452)\nat org.eclipse.jface.viewers.StructuredViewer.setSelectionToWidget\n(StructuredViewer.java:1400)\nat \norg.eclipse.jdt.internal.ui.packageview.PackageExplorerPart$PackageExplorerProb\nlemTreeViewer.setSelectionToWidget(PackageExplorerPart.java:595)\nat org.eclipse.jface.viewers.StructuredViewer.setSelection\n(StructuredViewer.java:1356)\nat org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart.showInput\n(PackageExplorerPart.java:1431)\nat org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart.editorActivated\n(PackageExplorerPart.java:1396)\nat org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart$1.partActivated\n(PackageExplorerPart.java:206)\nat org.eclipse.ui.internal.PartListenerList$1.run(PartListenerList.java:52)\nat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:1015)\nat org.eclipse.core.runtime.Platform.run(Platform.java:757)\nat org.eclipse.ui.internal.PartListenerList.firePartActivated\n(PartListenerList.java:50)\nat org.eclipse.ui.internal.WorkbenchPage.firePartActivated\n(WorkbenchPage.java:1500)\nat org.eclipse.ui.internal.WorkbenchPage.setActivePart(WorkbenchPage.java:2821)\nat org.eclipse.ui.internal.WorkbenchPage.requestActivation\n(WorkbenchPage.java:2479)\nat org.eclipse.ui.internal.PartPane.requestActivation(PartPane.java:314)\nat org.eclipse.ui.internal.EditorPane.requestActivation(EditorPane.java:151)\nat org.eclipse.ui.internal.PartPane.setFocus(PartPane.java:356)\nat org.eclipse.ui.internal.EditorPane.setFocus(EditorPane.java:179)\nat org.eclipse.ui.internal.PartStack.presentationSelectionChanged\n(PartStack.java:728)\nat org.eclipse.ui.internal.PartStack.access$0(PartStack.java:711)\nat org.eclipse.ui.internal.PartStack$1.selectPart(PartStack.java:93)\nat \norg.eclipse.ui.internal.presentations.newapi.TabbedStackPresentation$1.handleEv\nent(TabbedStackPresentation.java:116)\nat org.eclipse.ui.internal.presentations.newapi.AbstractTabFolder.fireEvent\n(AbstractTabFolder.java:263)\nat org.eclipse.ui.internal.presentations.newapi.AbstractTabFolder.fireEvent\n(AbstractTabFolder.java:272)\nat \norg.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder.acce\nss$1(DefaultTabFolder.java:1)\nat \norg.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder$2.ha\nndleEvent(DefaultTabFolder.java:81)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:866)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:851)\nat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:659)\nat org.eclipse.swt.custom.CTabFolder.setSelection(CTabFolder.java:3141)\nat org.eclipse.swt.custom.CTabFolder.onMouse(CTabFolder.java:1925)\nat org.eclipse.swt.custom.CTabFolder$1.handleEvent(CTabFolder.java:287)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2908)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2541)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1612)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1578)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:293)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)\nat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102)\nat org.eclipse.core.internal.runtime.PlatformActivator$1.run\n(PlatformActivator.java:228)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:333)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:150)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:324)\nat org.eclipse.core.launcher.Main.invokeFramework(Main.java:268)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:260)\nat org.eclipse.core.launcher.Main.run(Main.java:887)\nat org.eclipse.core.launcher.Main.main(Main.java:871)",
    "The problem can occur in two different ways:\n\n- the package explorer receives a part activated event although it already got\n  disposed.\n- JFace tries to set the selection to a tree item that is already disposed.\n\nDarin, do you remember if the package explorer was present/visible in the time\nthe exception occurred ?",
    "Asking Platform/UI if one of the two cases can occur ? If not there seems to be\na bug in JFace somewhere.",
    "Neither of these cases should be possible in JFace. The problem here looks like\nthe package explorer is trying to select a resource that is not in it. It\ndoesn\u0027t look like widget is disposed here although it could be a reference to an\neditor on a deleted resource that we are sending a bogus update for.\n\nDarin do you remember what editors you have open? I\u0027ll leave this open as it\nlooks like there is some sort of invalid selection being sent. Adding Doug ot\nthe list as it is potentially an editor lifecyle issue.",
    "Addding Stefan, as he knows more about editor life cycle....",
    "Activation events are fired from the page and the window, not sent to individual\nparts. The package explorer would continue to receive activation events until it\nremoves its listener from the workbench page, regardless of whether or not it is\ndisposed. Not sure if that helps.\n",
    "*** Bug 103046 has been marked as a duplicate of this bug. ***",
    "*** Bug 103905 has been marked as a duplicate of this bug. ***",
    "I\u0027ll give this one a try for 3.2 M4.",
    "I have not been able to reproduce this. I tried to understand what might have happened, but I am at a loss as to why the item ends up being disposed when we call Tree.showItem(), but was not disposed yet when (a few lines above) we called Tree.setSelection().\n\nWithout a reproducible case, and without an idea of what might be going on, there is nothing I can do.\n\nRemoving the target milestone, in the hope that we will find a reproducible case eventually.",
    "Closing."
  ],
  "commentCreationDates": [
    "2005-02-18T23:01:39+01:00",
    "2005-03-14T14:43:25+01:00",
    "2005-03-29T22:50:28+02:00",
    "2005-03-30T13:58:53+02:00",
    "2005-03-30T16:01:13+02:00",
    "2005-03-30T18:55:37+02:00",
    "2005-07-14T17:17:42+02:00",
    "2005-08-10T12:54:29+02:00",
    "2005-11-09T16:06:28+01:00",
    "2005-12-13T20:52:34+01:00",
    "2007-06-21T19:46:21+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Argument not valid",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2823"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2762"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2733"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:393"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.showItem",
          "source": "Tree.java:2152"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.showItem",
          "source": "TreeViewer.java:567"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.setSelectionToWidget",
          "source": "AbstractTreeViewer.java:1452"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.setSelectionToWidget",
          "source": "StructuredViewer.java:1400"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart$PackageExplorerProblemTreeViewer.setSelectionToWidget",
          "source": "PackageExplorerPart.java:595"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.setSelection",
          "source": "StructuredViewer.java:1356"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart.showInput",
          "source": "PackageExplorerPart.java:1431"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart.editorActivated",
          "source": "PackageExplorerPart.java:1396"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart$1.partActivated",
          "source": "PackageExplorerPart.java:206"
        },
        {
          "method": "org.eclipse.ui.internal.PartListenerList$1.run",
          "source": "PartListenerList.java:52"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1015"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:757"
        },
        {
          "method": "org.eclipse.ui.internal.PartListenerList.firePartActivated",
          "source": "PartListenerList.java:50"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.firePartActivated",
          "source": "WorkbenchPage.java:1500"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.setActivePart",
          "source": "WorkbenchPage.java:2821"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.requestActivation",
          "source": "WorkbenchPage.java:2479"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.requestActivation",
          "source": "PartPane.java:314"
        },
        {
          "method": "org.eclipse.ui.internal.EditorPane.requestActivation",
          "source": "EditorPane.java:151"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.setFocus",
          "source": "PartPane.java:356"
        },
        {
          "method": "org.eclipse.ui.internal.EditorPane.setFocus",
          "source": "EditorPane.java:179"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.presentationSelectionChanged",
          "source": "PartStack.java:728"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.access$0",
          "source": "PartStack.java:711"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack$1.selectPart",
          "source": "PartStack.java:93"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.newapi.TabbedStackPresentation$1.handleEvent",
          "source": "TabbedStackPresentation.java:116"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.newapi.AbstractTabFolder.fireEvent",
          "source": "AbstractTabFolder.java:263"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.newapi.AbstractTabFolder.fireEvent",
          "source": "AbstractTabFolder.java:272"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder.access$1",
          "source": "DefaultTabFolder.java:1"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder$2.handleEvent",
          "source": "DefaultTabFolder.java:81"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:842"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:866"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:851"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:659"
        },
        {
          "method": "org.eclipse.swt.custom.CTabFolder.setSelection",
          "source": "CTabFolder.java:3141"
        },
        {
          "method": "org.eclipse.swt.custom.CTabFolder.onMouse",
          "source": "CTabFolder.java:1925"
        },
        {
          "method": "org.eclipse.swt.custom.CTabFolder$1.handleEvent",
          "source": "CTabFolder.java:287"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:842"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2908"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2541"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1612"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1578"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:293"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:144"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:102"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:228"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:333"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:150"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:268"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:260"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:887"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:871"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "85881",
      "date": "2005-02-18T23:01:39+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "85881",
  "bugId": "85881",
  "date": "2005-02-18T23:01:39+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}