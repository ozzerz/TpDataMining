{
  "comments": [
    "Try to compile this code with 0605-1200.\n\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Inherited;\n\n@interface ClassAnnotation {\n\tString value() default \"Default\";\n}\n\nenum EnumClass{\n\tValue1, Value2, Value3\n}\n\n@Retention(RetentionPolicy.RUNTIME)\n@Inherited()\n@interface ValueAnnotation {\n\tString value() default \"Default\";\n\tboolean booleanValue() default true;\n\tchar charValue() default \u0027q\u0027;\n\tbyte byteValue() default 123;\n\tshort shortValue() default 12345;\n\tint intValue() default 1234567890;\n\tfloat floatValue() default 12345.6789f;\n\tdouble doubleValue() default 12345.6789;\n\tlong longValue() default 1234567890123456789l;\n\tString stringValue() default \"stringValue\";\n\tEnumClass enumValue() default EnumClass.Value1;\n\tClass classValue() default EnumClass.class;\n\tClassAnnotation annotationValue() default @ClassAnnotation();\n\tboolean[] booleanArrayValue() default {true, false};\n\tchar[] charArrayValue() default {\u0027q\u0027, \u0027m\u0027};\n\tbyte[] byteArrayValue() default {123, -123};\n\tshort[] shortArrayValue() default {12345, -12345};\n\tint[] intArrayValue() default {1234567890, -1234567890};\n\tfloat[] floatArrayValue() default {12345.6789f, -12345.6789f};\n\tdouble[] doubleArrayValue() default {12345.6789, -12345.6789};\n\tlong[] longArrayValue() default {1234567890123456789l, -1234567890123456789l};\n\tString[] stringArrayValue() default {\"stringValue\", \"valueString\"};\n\tEnumClass[] enumArrayValue() default {EnumClass.Value1, EnumClass.Value2};\n\tClass[] classArrayValue() default {X.class, EnumClass.class};\n\tClassAnnotation[] annotationArrayValue() default {@ClassAnnotation(),\n@ClassAnnotation()};\n}\n\npublic class X {\n\t@ValueAnnotation(\n\t\tvalue\u003d\"ValueAnnotation\",\n\t\tbooleanValue\u003dtrue,\n\t\tcharValue\u003d\u0027m\u0027,\n\t\tbyteValue\u003d-123,\n\t\tshortValue\u003d-12345,\n\t\tintValue\u003d-1234567890,\n\t\tfloatValue\u003d-12345.6789f,\n\t\tdoubleValue\u003d-12345.6789,\n\t\tlongValue\u003d-1234567890123456789l,\n\t\tstringValue\u003d\"valueString\",\n\t\tenumValue\u003dEnumClass.Value3,\n\t\tclassValue\u003dX.class,\n\t\tannotationValue\u003d@ClassAnnotation(value\u003d\"ClassAnnotation\"),\n\t\tbooleanArrayValue\u003d{\n\t\t\tfalse,\n\t\t\ttrue\n\t\t},\n\t\tcharArrayValue\u003d{\n\t\t\t\u0027m\u0027,\n\t\t\t\u0027q\u0027\n\t\t},\n\t\tbyteArrayValue\u003d{\n\t\t\t-123,\n\t\t\t123\n\t\t},\n\t\tshortArrayValue\u003d{\n\t\t\t-12345,\n\t\t\t12345\n\t\t},\n\t\tintArrayValue\u003d{\n\t\t\t-1234567890,\n\t\t\t1234567890\n\t\t},\n\t\tfloatArrayValue\u003d{\n\t\t\t-12345.6789f,\n\t\t\t12345.6789f\n\t\t},\n\t\tdoubleArrayValue\u003d{\n\t\t\t-12345.6789,\n\t\t\t12345.6789\n\t\t},\n\t\tlongArrayValue\u003d{\n\t\t\t-1234567890123456789l,\n\t\t\t1234567890123456789l\n\t\t},\n\t\tstringArrayValue\u003d{\n\t\t\t\"valueString\",\n\t\t\t\"stringValue\"\n\t\t},\n\t\tenumArrayValue\u003d{\n\t\t\tEnumClass.Value2,\n\t\t\tEnumClass.Value1\n\t\t},\n\t\tclassArrayValue\u003d{\n\t\t\tEnumClass.class,\n\t\t\tX.class\n\t\t},\n\t\tannotationArrayValue\u003d{\n\t\t\t@ClassAnnotation(value\u003d\"ClassAnnotation1\"),\n\t\t\t@ClassAnnotation(value\u003d\"ClassAnnotation2\")\n\t\t})\n\tpublic String field;\n\t@ValueAnnotation(value\u003d\"ValueAnnotation\",booleanValue\u003dtrue,charValue\u003d\u0027m\u0027,byteValue\u003d-123,shortValue\u003d-12345,\n\t\t\nintValue\u003d-1234567890,floatValue\u003d-12345.6789f,doubleValue\u003d-12345.6789,longValue\u003d-1234567890123456789l,\n\t\t\nstringValue\u003d\"valueString\",enumValue\u003dEnumClass.Value3,classValue\u003dAnnotationTestClass.class,\n\t\t\nannotationValue\u003d@ClassAnnotation(value\u003d\"ClassAnnotation\"),booleanArrayValue\u003d{false,true},charArrayValue\u003d{\u0027m\u0027,\u0027q\u0027},\n\t\t\nbyteArrayValue\u003d{-123,123},shortArrayValue\u003d{-12345,12345},intArrayValue\u003d{-1234567890,1234567890},\n\t\t\nfloatArrayValue\u003d{-12345.6789f,12345.6789f},doubleArrayValue\u003d{-12345.6789,12345.6789},\n\t\t\nlongArrayValue\u003d{-1234567890123456789l,1234567890123456789l},stringArrayValue\u003d{\"valueString\",\n\"stringValue\"},\n\t\t\nenumArrayValue\u003d{EnumClass.Value2,EnumClass.Value1},classArrayValue\u003d{EnumClass.class,\nAnnotationTestClass.class},\n\t\t\tannotationArrayValue\u003d{@ClassAnnotation(value\u003d\"ClassAnnotation1\"),\n@ClassAnnotation(value\u003d\"ClassAnnotation2\")})\n\t@ConstructorAnnotation(value\u003d\"ConstructorAnnotation\")\n\tpublic AnnotationTestClass(@ParameterAnnotation(value\u003d\"ParameterAnnotation\")\n@Deprecated() String param1, @ParameterAnnotation(value\u003d\"ParameterAnnotation\")\nString param2) {\n\t}\n\t@ValueAnnotation(value\u003d\"ValueAnnotation\",booleanValue\u003dtrue,charValue\u003d\u0027m\u0027,byteValue\u003d-123,shortValue\u003d-12345,\n\t\t\nintValue\u003d-1234567890,floatValue\u003d-12345.6789f,doubleValue\u003d-12345.6789,longValue\u003d-1234567890123456789l,\n\t\t\nstringValue\u003d\"valueString\",enumValue\u003dEnumClass.Value3,classValue\u003dAnnotationTestClass.class,\n\t\t\nannotationValue\u003d@ClassAnnotation(value\u003d\"ClassAnnotation\"),booleanArrayValue\u003d{false,true},charArrayValue\u003d{\u0027m\u0027,\u0027q\u0027},\n\t\t\nbyteArrayValue\u003d{-123,123},shortArrayValue\u003d{-12345,12345},intArrayValue\u003d{-1234567890,1234567890},\n\t\t\nfloatArrayValue\u003d{-12345.6789f,12345.6789f},doubleArrayValue\u003d{-12345.6789,12345.6789},\n\t\t\nlongArrayValue\u003d{-1234567890123456789l,1234567890123456789l},stringArrayValue\u003d{\"valueString\",\n\"stringValue\"},\n\t\t\nenumArrayValue\u003d{EnumClass.Value2,EnumClass.Value1},classArrayValue\u003d{EnumClass.class,\nAnnotationTestClass.class},\n\t\t\tannotationArrayValue\u003d{@ClassAnnotation(value\u003d\"ClassAnnotation1\"),\n@ClassAnnotation(value\u003d\"ClassAnnotation2\")})\n\t@MethodAnnotation(value\u003d\"MethodAnnotation\")\n\tpublic void method(@ParameterAnnotation(value\u003d\"ParameterAnnotation\")\n@Deprecated() String param1, @ParameterAnnotation(value\u003d\"ParameterAnnotation\")\nString param2){\n\t}\n}\n\nYou get:\n----------\n1. ERROR in d:\\tests_sources\\X.java\n (at line 0)\n\timport java.lang.annotation.Retention;\n\t^\nInternal compiler error\njava.lang.NullPointerException\n\tat\norg.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.bindArguments(AbstractMethodDeclaration.java:90)\n\tat\norg.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve(AbstractMethodDeclaration.java:389)\n\tat\norg.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1063)\n\tat\norg.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1112)\n\tat\norg.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve(CompilationUnitDeclaration.java:305)\n\tat org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:504)\n\tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:329)\n\tat org.eclipse.jdt.internal.compiler.batch.Main.performCompilation(Main.java:2691)\n\tat org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:1151)\n\tat org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:1048)\n\tat org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:1040)\n\tat org.eclipse.jdt.core.tools.compiler.Compile.main(Compile.java:19)\n\n----------\n2. ERROR in d:\\tests_sources\\X.java\n (at line 109)\n\tstringValue\u003d\"valueString\",enumValue\u003dEnumClass.Value3,classValue\u003dAnnotationTestClass.class,\n\t                                                                ^^^^^^^^^^^^^^^^^^^\nAnnotationTestClass cannot be resolved to a type\n----------\n3. ERROR in d:\\tests_sources\\X.java\n (at line 114)\n\tenumArrayValue\u003d{EnumClass.Value2,EnumClass.Value1},classArrayValue\u003d{EnumClass.class,\nAnnotationTestClass.class},\n\t                                                                              \n      ^^^^^^^^^^^^^^^^^^^\nAnnotationTestClass cannot be resolved to a type\n----------\n4. ERROR in d:\\tests_sources\\X.java\n (at line 116)\n\t@ConstructorAnnotation(value\u003d\"ConstructorAnnotation\")\n\t ^^^^^^^^^^^^^^^^^^^^^\nConstructorAnnotation cannot be resolved to a type\n----------\n5. ERROR in d:\\tests_sources\\X.java\n (at line 117)\n\tpublic AnnotationTestClass(@ParameterAnnotation(value\u003d\"ParameterAnnotation\")\n@Deprecated() String param1, @ParameterAnnotation(value\u003d\"ParameterAnnotation\")\nString param2) {\n\t      \n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nReturn type for the method is missing\n----------\n6. ERROR in d:\\tests_sources\\X.java\n (at line 117)\n\tpublic AnnotationTestClass(@ParameterAnnotation(value\u003d\"ParameterAnnotation\")\n@Deprecated() String param1, @ParameterAnnotation(value\u003d\"ParameterAnnotation\")\nString param2) {\n\t                            ^^^^^^^^^^^^^^^^^^^\nParameterAnnotation cannot be resolved to a type\n----------\n7. ERROR in d:\\tests_sources\\X.java\n (at line 121)\n\tstringValue\u003d\"valueString\",enumValue\u003dEnumClass.Value3,classValue\u003dAnnotationTestClass.class,\n\t                                                                ^^^^^^^^^^^^^^^^^^^\nAnnotationTestClass cannot be resolved to a type\n----------\n8. ERROR in d:\\tests_sources\\X.java\n (at line 126)\n\tenumArrayValue\u003d{EnumClass.Value2,EnumClass.Value1},classArrayValue\u003d{EnumClass.class,\nAnnotationTestClass.class},\n\t                                                                              \n      ^^^^^^^^^^^^^^^^^^^\nAnnotationTestClass cannot be resolved to a type\n----------\n9. ERROR in d:\\tests_sources\\X.java\n (at line 128)\n\t@MethodAnnotation(value\u003d\"MethodAnnotation\")\n\t ^^^^^^^^^^^^^^^^\nMethodAnnotation cannot be resolved to a type\n----------",
    "Smaller test case:\n\npublic class X {\n\n\tpublic foo(@Deprecated() String s) {\n\t}\n}\n\nYou need a method for which the binding is null and a parameter annotation.",
    "Created an attachment (id\u003d22839)\nApply on HEAD\n\nWith this patch, the error is:\n----------\n1. ERROR in d:\\tests_sources\\X.java\n (at line 3)\n\tpublic foo(@Deprecated() String s) {\n\t       ^^^^^^^^^^^^^^^^^^^^^^^^^^^\nReturn type for the method is missing\n----------\n1 problem (1 error)",
    "+1 for RC3.\n\nDani - pls cast a vote for it. You know how exceptions in compiler can damage\nthe editing experience... \u003cg\u003e",
    "+1 for 3.1 RC3.",
    "Added AnnotationTest#test167.\n\nMade similar fix to proposed, but extracted the null check out of the loop to\navoid penalizing standard scenario.\n\nFixed",
    "Verified using N20050616-0010 + JDT/Core HEAD"
  ],
  "commentCreationDates": [
    "2005-06-10T22:33:20+02:00",
    "2005-06-10T22:41:54+02:00",
    "2005-06-10T22:42:53+02:00",
    "2005-06-13T12:42:03+02:00",
    "2005-06-13T12:44:01+02:00",
    "2005-06-13T15:56:46+02:00",
    "2005-06-16T20:18:28+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.bindArguments",
          "source": "AbstractMethodDeclaration.java:90"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve",
          "source": "AbstractMethodDeclaration.java:389"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve",
          "source": "TypeDeclaration.java:1063"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve",
          "source": "TypeDeclaration.java:1112"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve",
          "source": "CompilationUnitDeclaration.java:305"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.process",
          "source": "Compiler.java:504"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:329"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.batch.Main.performCompilation",
          "source": "Main.java:2691"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.batch.Main.compile",
          "source": "Main.java:1151"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.batch.Main.compile",
          "source": "Main.java:1048"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.batch.Main.compile",
          "source": "Main.java:1040"
        },
        {
          "method": "org.eclipse.jdt.core.tools.compiler.Compile.main",
          "source": "Compile.java:19"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "99469",
      "date": "2005-06-10T22:33:20+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "critical"
    }
  ],
  "groupId": "99469",
  "bugId": "99469",
  "date": "2005-06-10T22:33:20+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "critical"
}