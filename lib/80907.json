{
  "comments": [
    "I20041214-0010\n\nHappened when pressing on the Debug icon in the tool bar. A dialog appeared\nsaying that an error happened during decoration. Debugger started without\nfurther problems.\n\n!SESSION 2004-12-14 09:35:11.565 -----------------------------------------------\neclipse.buildId\u003dI20041214-0010\njava.version\u003d1.4.2_06\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003dde_CH\nFramework arguments:  -update -keyring c:\\eclipse\\.keyring -application\norg.eclipse.ui.ide.workbench -showlocation\nCommand-line arguments:  -update -keyring c:\\eclipse\\.keyring -application\norg.eclipse.ui.ide.workbench -showlocation -data\nc:\\eclipse\\workspaces\\Development_2_2\\plugins\n\n!ENTRY org.eclipse.core.runtime 4 2 2004-12-14 09:35:11.565\n!MESSAGE An internal error occurred during: \"Decoration Calculation\".\n!STACK 0\njava.lang.NullPointerException\n\tat\norg.eclipse.core.internal.runtime.AdapterManager.getFactories(AdapterManager.java:165)\n\tat\norg.eclipse.core.internal.runtime.AdapterManager.getAdapter(AdapterManager.java:237)\n\tat org.eclipse.core.runtime.PlatformObject.getAdapter(PlatformObject.java:64)\n\tat\norg.eclipse.ui.internal.ActionExpression$ObjectStateExpression.getActionFilter(ActionExpression.java:476)\n\tat\norg.eclipse.ui.internal.ActionExpression$ObjectStateExpression.preciselyMatches(ActionExpression.java:462)\n\tat\norg.eclipse.ui.internal.ActionExpression$ObjectStateExpression.isEnabledFor(ActionExpression.java:435)\n\tat\norg.eclipse.ui.internal.ActionExpression$AndExpression.isEnabledFor(ActionExpression.java:395)\n\tat\norg.eclipse.ui.internal.ActionExpression$OrExpression.isEnabledFor(ActionExpression.java:366)\n\tat\norg.eclipse.ui.internal.ActionExpression$AndExpression.isEnabledFor(ActionExpression.java:395)\n\tat\norg.eclipse.ui.internal.ActionExpression$SingleExpression.isEnabledFor(ActionExpression.java:308)\n\tat org.eclipse.ui.internal.ActionExpression.isEnabledFor(ActionExpression.java:121)\n\tat\norg.eclipse.ui.internal.decorators.LightweightDecoratorManager.getDecorations(LightweightDecoratorManager.java:242)\n\tat\norg.eclipse.ui.internal.decorators.DecorationScheduler$1.run(DecorationScheduler.java:285)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)",
    "Passing to core for comment",
    "It seems a thread-safety issue. getAdapter is not synchronized, and calls\ngetFactories, which lazily initializes the adapterLookup field. But other\nthreads may call flushLookup, which will set that reference to null again,\npotentially before it is dereferenced.",
    "I\u0027ll take a look. There have been changes in that code recently.",
    "Yikes, that was a pretty obvious timing hole.  I have added reference caching\nfor all caches in AdapterManager to protect against concurrent flush.",
    "Fix released for build. I\u0027m not sure if it will catch the noon or 4PM EST build.",
    "*** Bug 81763 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2004-12-14T08:50:07+01:00",
    "2004-12-14T14:45:53+01:00",
    "2004-12-14T15:25:04+01:00",
    "2004-12-14T16:15:08+01:00",
    "2004-12-14T16:48:05+01:00",
    "2004-12-14T17:11:36+01:00",
    "2004-12-22T18:28:53+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.core.internal.runtime.AdapterManager.getFactories",
          "source": "AdapterManager.java:165"
        },
        {
          "method": "org.eclipse.core.internal.runtime.AdapterManager.getAdapter",
          "source": "AdapterManager.java:237"
        },
        {
          "method": "org.eclipse.core.runtime.PlatformObject.getAdapter",
          "source": "PlatformObject.java:64"
        },
        {
          "method": "org.eclipse.ui.internal.ActionExpression$ObjectStateExpression.getActionFilter",
          "source": "ActionExpression.java:476"
        },
        {
          "method": "org.eclipse.ui.internal.ActionExpression$ObjectStateExpression.preciselyMatches",
          "source": "ActionExpression.java:462"
        },
        {
          "method": "org.eclipse.ui.internal.ActionExpression$ObjectStateExpression.isEnabledFor",
          "source": "ActionExpression.java:435"
        },
        {
          "method": "org.eclipse.ui.internal.ActionExpression$AndExpression.isEnabledFor",
          "source": "ActionExpression.java:395"
        },
        {
          "method": "org.eclipse.ui.internal.ActionExpression$OrExpression.isEnabledFor",
          "source": "ActionExpression.java:366"
        },
        {
          "method": "org.eclipse.ui.internal.ActionExpression$AndExpression.isEnabledFor",
          "source": "ActionExpression.java:395"
        },
        {
          "method": "org.eclipse.ui.internal.ActionExpression$SingleExpression.isEnabledFor",
          "source": "ActionExpression.java:308"
        },
        {
          "method": "org.eclipse.ui.internal.ActionExpression.isEnabledFor",
          "source": "ActionExpression.java:121"
        },
        {
          "method": "org.eclipse.ui.internal.decorators.LightweightDecoratorManager.getDecorations",
          "source": "LightweightDecoratorManager.java:242"
        },
        {
          "method": "org.eclipse.ui.internal.decorators.DecorationScheduler$1.run",
          "source": "DecorationScheduler.java:285"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:66"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "80907",
      "date": "2004-12-14T08:50:07+01:00",
      "product": "Platform",
      "component": "Runtime",
      "severity": "normal"
    }
  ],
  "groupId": "80907",
  "bugId": "80907",
  "date": "2004-12-14T08:50:07+01:00",
  "product": "Platform",
  "component": "Runtime",
  "severity": "normal"
}