{
  "comments": [
    "I\u0027m getting the following stack trace when using External Tools to run an ant\nscript.  It looks like the location object passed to AntLoggers can sometimes be\nempty.  This may be as a result of a custom task of mine, however, it works on\nthe command line so should work in eclipse as well.  A possible patch is\nincluded below the trace.\n\njava.lang.StringIndexOutOfBoundsException: String index out of range: -1\n\tat java.lang.String.substring(String.java:1480)\n\tat\norg.eclipse.ui.externaltools.internal.ant.logger.AntProcessBuildLogger.getTaskLink(AntProcessBuildLogger.java:236)\n\tat\norg.eclipse.ui.externaltools.internal.ant.logger.AntProcessBuildLogger.getAdornedMessage(AntProcessBuildLogger.java:129)\n\tat\norg.eclipse.ui.externaltools.internal.ant.logger.AntProcessBuildLogger.logMessage(AntProcessBuildLogger.java:97)\n\tat\norg.eclipse.ui.externaltools.internal.ant.logger.AntProcessBuildLogger.messageLogged(AntProcessBuildLogger.java:300)\n\tat org.apache.tools.ant.Project.fireMessageLoggedEvent(Project.java:1967)\n\tat org.apache.tools.ant.Project.fireMessageLogged(Project.java:2012)\n\tat org.apache.tools.ant.Project.log(Project.java:394)\n\tat org.apache.tools.ant.Task.log(Task.java:302)\n\tat\norg.apache.tools.ant.taskdefs.LogOutputStream.processLine(LogOutputStream.java:137)\n\tat\norg.apache.tools.ant.taskdefs.LogOutputStream.processLine(LogOutputStream.java:128)\n\tat\norg.apache.tools.ant.taskdefs.LogOutputStream.processBuffer(LogOutputStream.java:118)\n\tat org.apache.tools.ant.taskdefs.LogOutputStream.write(LogOutputStream.java:105)\n\tat java.io.OutputStream.write(OutputStream.java:99)\n\tat org.apache.tools.ant.taskdefs.StreamPumper.run(StreamPumper.java:106)\n\tat java.lang.Thread.run(Thread.java:536)\n\n\n\nIndex: AntProcessBuildLogger.java\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\nRCS file: /home/eclipse/org.eclipse.ui.externaltools/Ant Runner\nSupport/org/eclipse/ui/externaltools/internal/ant/logger/AntProcessBuildLogger.java,v\nretrieving revision 1.15\ndiff -u -r1.15 AntProcessBuildLogger.java\n--- AntProcessBuildLogger.java\t9 Dec 2002 16:36:14 -0000\t1.15\n+++ AntProcessBuildLogger.java\t10 Dec 2002 21:34:26 -0000\n@@ -229,6 +229,8 @@\n \t\t\t\t\t// remove \"file:\"\n \t\t\t\t\tpath\u003d path.substring(5, path.length());\n \t\t\t\t}\n+\t\t\t\tif (path.length() \u003d\u003d 0)\n+\t\t\t\t\treturn null;\n \t\t\t\t// format is file:F:L: where F is file path, and L is line number\n \t\t\t\tint index \u003d path.lastIndexOf(\u0027:\u0027);\n \t\t\t\tif (index \u003d\u003d path.length() - 1) {",
    "Thanks Matt.\n\nFixed in AntProcessBuildLogger.\nPlease verify (Jared).",
    "Verified. Updated contributor doc on file.",
    "*** Bug 32751 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2002-12-10T21:42:48+01:00",
    "2002-12-10T21:52:55+01:00",
    "2002-12-11T20:44:22+01:00",
    "2003-02-24T19:12:49+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.StringIndexOutOfBoundsException",
      "message": "String index out of range: -1",
      "elements": [
        {
          "method": "java.lang.String.substring",
          "source": "String.java:1480"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.logger.AntProcessBuildLogger.getTaskLink",
          "source": "AntProcessBuildLogger.java:236"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.logger.AntProcessBuildLogger.getAdornedMessage",
          "source": "AntProcessBuildLogger.java:129"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.logger.AntProcessBuildLogger.logMessage",
          "source": "AntProcessBuildLogger.java:97"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.ant.logger.AntProcessBuildLogger.messageLogged",
          "source": "AntProcessBuildLogger.java:300"
        },
        {
          "method": "org.apache.tools.ant.Project.fireMessageLoggedEvent",
          "source": "Project.java:1967"
        },
        {
          "method": "org.apache.tools.ant.Project.fireMessageLogged",
          "source": "Project.java:2012"
        },
        {
          "method": "org.apache.tools.ant.Project.log",
          "source": "Project.java:394"
        },
        {
          "method": "org.apache.tools.ant.Task.log",
          "source": "Task.java:302"
        },
        {
          "method": "org.apache.tools.ant.taskdefs.LogOutputStream.processLine",
          "source": "LogOutputStream.java:137"
        },
        {
          "method": "org.apache.tools.ant.taskdefs.LogOutputStream.processLine",
          "source": "LogOutputStream.java:128"
        },
        {
          "method": "org.apache.tools.ant.taskdefs.LogOutputStream.processBuffer",
          "source": "LogOutputStream.java:118"
        },
        {
          "method": "org.apache.tools.ant.taskdefs.LogOutputStream.write",
          "source": "LogOutputStream.java:105"
        },
        {
          "method": "java.io.OutputStream.write",
          "source": "OutputStream.java:99"
        },
        {
          "method": "org.apache.tools.ant.taskdefs.StreamPumper.run",
          "source": "StreamPumper.java:106"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:536"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "28052",
      "date": "2002-12-10T21:42:48+01:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    }
  ],
  "groupId": "28052",
  "bugId": "28052",
  "date": "2002-12-10T21:42:48+01:00",
  "product": "Platform",
  "component": "Ant",
  "severity": "normal"
}