{
  "comments": [
    "The compiler seems to generate the wrong code (or different from jdk 1.4.2_06,\nat least) for the default constructor in private nested classes. Given the\nfollowing classes defined over two files:\n\npackage scribble;\n\npublic class Bar {\n    public static void main(String[] args) throws Exception {\n        Foo foo \u003d new Foo();\n        foo.frob(Baz.class);\n    }\n\n    private static class Baz {\n    }\n}\n\npublic class Foo {\n    public void frob(Class cls) throws Exception {\n        Object o \u003d cls.newInstance();\n    }\n}\n\nCompiling and running with the JDK gives:\n\nException in thread \"main\" java.lang.IllegalAccessException: Class scribble.Foo\ncan not access a member of class scribble.Bar$Baz with modifiers \"private\"\n        at sun.reflect.Reflection.ensureMemberAccess(Reflection.java:57)\n        at java.lang.Class.newInstance0(Class.java:302)\n        at java.lang.Class.newInstance(Class.java:261)\n        at scribble.Foo.frob(Foo.java:5)\n        at scribble.Bar.main(Bar.java:10)\n\nCompiling with Eclipse and running with the JDK gives no error.\n\nComparing the output of javap shows why. javac gives us this:\n\nCompiled from \"Bar.java\"\nclass scribble.Bar$Baz extends java.lang.Object{\n    private scribble.Bar$Baz();\n}\n \nwhile Eclipse\u0027s compiler gives us this:\n\nCompiled from \"Bar.java\"\nclass scribble.Bar$Baz extends java.lang.Object{\n    scribble.Bar$Baz();\n}\n \nInterestingly, the same code is generated even if Baz has an explicit private\nconstructor.",
    "This happens only with private constructors; private methods have the private\nflag in the .class.\n\nWhy this assymmetry?",
    "This behavior has been in for a long time. But I agree it is wrong in the end.\nWill correct it.\n\nMarking as dup of bug 117758 which had more discussions in it.\n\n*** This bug has been marked as a duplicate of 117758 ***",
    "Added InnerEmulationTest#test124"
  ],
  "commentCreationDates": [
    "2004-11-02T13:18:47+01:00",
    "2005-04-28T19:08:46+02:00",
    "2006-03-01T10:22:42+01:00",
    "2006-03-01T17:54:53+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalAccessException",
      "message": "Class scribble.Foo can not access a member of class scribble.Bar$Baz with modifiers \"private\"",
      "elements": [
        {
          "method": "sun.reflect.Reflection.ensureMemberAccess",
          "source": "Reflection.java:57"
        },
        {
          "method": "java.lang.Class.newInstance0",
          "source": "Class.java:302"
        },
        {
          "method": "java.lang.Class.newInstance",
          "source": "Class.java:261"
        },
        {
          "method": "scribble.Foo.frob",
          "source": "Foo.java:5"
        },
        {
          "method": "scribble.Bar.main",
          "source": "Bar.java:10"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "77473",
      "duplicateId": "117758",
      "date": "2004-11-02T13:18:47+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "117758",
  "bugId": "77473",
  "duplicateId": "117758",
  "date": "2004-11-02T13:18:47+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}