{
  "comments": [
    "Build 20020412\n\nI encountered a NegativeArraySizeException when closing a Netscape OLE editor on \nan HTML file.  I was in the process of trying to reproduce bug 13821.  I was \nopening and closing editors on an empty HTML file.  Top of stack is below, \ncomplete stack is attached.\n\n\njava.lang.NegativeArraySizeException\n\tat org.eclipse.swt.widgets.Menu.getItems(Menu.java(Compiled Code))\n\tat org.eclipse.jface.action.MenuManager.update(MenuManager.java(Compiled \nCode))",
    "Created an attachment (id\u003d616)\nComplete stack trace of error\n",
    "Now the workbench is in a broken state: continued attempts to close the editor \nresult in other errors (see second attachment).",
    "Created an attachment (id\u003d617)\nAnother stack trace that occurs after first one\n",
    "Looks like GetMenuItemCount returned -1.  Menu.getItems() should handle this \ncase.\nThe real question is: why?  Can OLE editors dispose our menus?  If so, why did \nwe make it past checkWidget()?\n\nJohn, is this reproducable?\n\n\n",
    "The second error is consistent with the first: we\u0027re apparently talking to menu \nitems that have been disposed without SWT\u0027s knowledge.\n",
    "No, I played around with it for awhile but could not reproduce it.  Note that I \nhad reproduced bug 13821, so it\u0027s possible that as a side-effect of that bug I \nwas in a strange state.",
    "We could presumably put code in to check for this case, but if it can happen \nhere, it can probably happen in many many other places. Netscape should not be \ndisposing of the application\u0027s menus.",
    "This can only happen if the OLE editor has blown up.  It is a case we can not \ndetect and have no control over."
  ],
  "commentCreationDates": [
    "2002-04-16T20:08:17+02:00",
    "2002-04-16T20:08:38+02:00",
    "2002-04-16T20:11:32+02:00",
    "2002-04-16T20:12:05+02:00",
    "2002-04-16T20:32:39+02:00",
    "2002-04-16T20:35:36+02:00",
    "2002-04-16T21:11:10+02:00",
    "2002-04-16T21:49:28+02:00",
    "2002-05-27T15:22:37+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NegativeArraySizeException",
      "elements": [
        {
          "method": "org.eclipse.swt.widgets.Menu.getItems",
          "source": "Menu.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.update",
          "source": "MenuManager.java(Compiled  Code)"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "13923",
      "date": "2002-04-16T20:08:17+02:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    }
  ],
  "groupId": "13923",
  "bugId": "13923",
  "date": "2002-04-16T20:08:17+02:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "normal"
}