{
  "comments": [
    "The transport test bundle class has an additional, incorrect service name in the EXPORTED_SERVICE_NAMES array which causes an IllegalArgumentException when the service is exported with a type that it is not an instance of.  The transport test bundle exports a service of type XXXTransportTest as a XXXTransportTestService (that one is correct) and as a XXXTransportService (which it is not). \n\nThe error occurs when running the transport test bundle in equinox such as the following:\n\nCreate a new Equinox Framework launch configuration.  Select org.eclipse.soda.dk.samsys.chump.transport.test and org.eclipse.soda.dk.samsys.chump.transport.test.bundle, click Add Required Plugins, click run.\n\nHere is an example of the code that needs to be fixed by the generator from class SamsysChumpTransportTestBundle:\npublic static final String[] EXPORTED_SERVICE_NAMES \u003d new String[] {\nSamsysChumpTransportService.SERVICE_NAME, SamsysChumpTransportTestService.SERVICE_NAME };\n\njava.lang.IllegalArgumentException: org.eclipse.soda.dk.samsys.chump.transport.service.SamsysChumpTransportService.getService() returned a service object that is not an instanceof the service class \u003cmissing argument\u003e\n\nHere is a sample stack trace from a transport test (Samsys Chump Transport Test):\n[ERROR] 2007-06-13 14:05:34.687 - FrameworkManager@79d879d8: (SAT-100.1001) A framework error has occurred.\norg.osgi.framework.BundleException: Exception in org.eclipse.soda.dk.samsys.chump.transport.test.bundle.SamsysChumpTransportTestBundle.start() of bundle org.eclipse.soda.dk.samsys.chump.transport.test.bundle.\n\tat org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:1010)\n\tat org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:966)\n\tat org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:317)\n\tat org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(AbstractBundle.java:329)\n\tat org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Framework.java:1037)\n\tat org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:573)\n\tat org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(StartLevelManager.java:495)\n\tat org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:275)\n\tat org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:455)\n\tat org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:189)\n\tat org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:291)\nCaused by: java.lang.IllegalArgumentException: org.eclipse.soda.dk.samsys.chump.transport.service.SamsysChumpTransportService.getService() returned a service object that is not an instanceof the service class \u003cmissing argument\u003e\n\tat org.eclipse.osgi.framework.internal.core.BundleContextImpl.registerService(BundleContextImpl.java:597)\n\tat org.eclipse.soda.sat.core.internal.record.ExportServiceRecord.registerServiceWithFramework(ExportServiceRecord.java:288)\n\tat org.eclipse.soda.sat.core.internal.record.ExportServiceRecord.register(ExportServiceRecord.java:275)\n\tat org.eclipse.soda.sat.core.internal.framework.bundle.BundleActivationManager.addExportedService(BundleActivationManager.java:189)\n\tat org.eclipse.soda.sat.core.internal.framework.bundle.BundleActivationManager.addExportedServices(BundleActivationManager.java:211)\n\tat org.eclipse.soda.sat.core.framework.BaseBundleActivator.addExportedServices(BaseBundleActivator.java:234)\n\tat org.eclipse.soda.dk.transport.test.bundle.TransportTestBundle.activate(TransportTestBundle.java:60)\n\tat org.eclipse.soda.sat.core.framework.BaseBundleActivator$1.activate(BaseBundleActivator.java:308)\n\tat org.eclipse.soda.sat.core.internal.framework.bundle.BundleActivationManager.activate(BundleActivationManager.java:152)\n\tat org.eclipse.soda.sat.core.internal.framework.bundle.BundleActivationManager.performActivation(BundleActivationManager.java:1290)\n\tat org.eclipse.soda.sat.core.internal.framework.bundle.BundleActivationManager.access$0(BundleActivationManager.java:1276)\n\tat org.eclipse.soda.sat.core.internal.framework.bundle.BundleActivationManager$1.acquired(BundleActivationManager.java:414)\n\tat org.eclipse.soda.sat.core.internal.record.container.ImportServiceRecordContainer.serviceAcquired(ImportServiceRecordContainer.java:465)\n\tat org.eclipse.soda.sat.core.internal.record.container.ImportServiceRecordContainer.access$0(ImportServiceRecordContainer.java:453)\n\tat org.eclipse.soda.sat.core.internal.record.container.ImportServiceRecordContainer$4.serviceAcquired(ImportServiceRecordContainer.java:276)\n\tat org.eclipse.soda.sat.core.internal.record.ImportServiceRecord.acquire(ImportServiceRecord.java:119)\n\tat org.eclipse.soda.sat.core.internal.record.ImportServiceRecord.acquire(ImportServiceRecord.java:128)\n\tat org.eclipse.soda.sat.core.internal.record.container.ImportServiceRecordContainer$1.execute(ImportServiceRecordContainer.java:57)\n\tat org.eclipse.soda.sat.core.internal.record.container.ServiceRecordContainer.doForService(ServiceRecordContainer.java:360)\n\tat org.eclipse.soda.sat.core.internal.record.container.ServiceRecordContainer.doForEach(ServiceRecordContainer.java:328)\n\tat org.eclipse.soda.sat.core.internal.record.container.ImportServiceRecordContainer.acquire(ImportServiceRecordContainer.java:236)\n\tat org.eclipse.soda.sat.core.internal.framework.bundle.BundleActivationManager.acquireImportedServices(BundleActivationManager.java:127)\n\tat org.eclipse.soda.sat.core.internal.framework.bundle.BundleActivationManager.startSync(BundleActivationManager.java:1694)\n\tat org.eclipse.soda.sat.core.internal.framework.bundle.BundleActivationManager.start(BundleActivationManager.java:1663)\n\tat org.eclipse.soda.sat.core.framework.BaseBundleActivator.start(BaseBundleActivator.java:1102)\n\tat org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run(BundleContextImpl.java:991)\n\tat java.security.AccessController.doPrivileged(AccessController.java:242)\n\tat org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:985)\n\t... 10 more"
  ],
  "commentCreationDates": [
    "2007-06-14T21:49:30+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.osgi.framework.BundleException",
      "message": "Exception in org.eclipse.soda.dk.samsys.chump.transport.test.bundle.SamsysChumpTransportTestBundle.start() of bundle org.eclipse.soda.dk.samsys.chump.transport.test.bundle.",
      "elements": [
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator",
          "source": "BundleContextImpl.java:1010"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.start",
          "source": "BundleContextImpl.java:966"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleHost.startWorker",
          "source": "BundleHost.java:317"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.AbstractBundle.resume",
          "source": "AbstractBundle.java:329"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.Framework.resumeBundle",
          "source": "Framework.java:1037"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles",
          "source": "StartLevelManager.java:573"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL",
          "source": "StartLevelManager.java:495"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel",
          "source": "StartLevelManager.java:275"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent",
          "source": "StartLevelManager.java:455"
        },
        {
          "method": "org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent",
          "source": "EventManager.java:189"
        },
        {
          "method": "org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run",
          "source": "EventManager.java:291"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.IllegalArgumentException",
        "message": "org.eclipse.soda.dk.samsys.chump.transport.service.SamsysChumpTransportService.getService() returned a service object that is not an instanceof the service class \u003cmissing argument\u003e",
        "elements": [
          {
            "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.registerService",
            "source": "BundleContextImpl.java:597"
          },
          {
            "method": "org.eclipse.soda.sat.core.internal.record.ExportServiceRecord.registerServiceWithFramework",
            "source": "ExportServiceRecord.java:288"
          },
          {
            "method": "org.eclipse.soda.sat.core.internal.record.ExportServiceRecord.register",
            "source": "ExportServiceRecord.java:275"
          },
          {
            "method": "org.eclipse.soda.sat.core.internal.framework.bundle.BundleActivationManager.addExportedService",
            "source": "BundleActivationManager.java:189"
          },
          {
            "method": "org.eclipse.soda.sat.core.internal.framework.bundle.BundleActivationManager.addExportedServices",
            "source": "BundleActivationManager.java:211"
          },
          {
            "method": "org.eclipse.soda.sat.core.framework.BaseBundleActivator.addExportedServices",
            "source": "BaseBundleActivator.java:234"
          },
          {
            "method": "org.eclipse.soda.dk.transport.test.bundle.TransportTestBundle.activate",
            "source": "TransportTestBundle.java:60"
          },
          {
            "method": "org.eclipse.soda.sat.core.framework.BaseBundleActivator$1.activate",
            "source": "BaseBundleActivator.java:308"
          },
          {
            "method": "org.eclipse.soda.sat.core.internal.framework.bundle.BundleActivationManager.activate",
            "source": "BundleActivationManager.java:152"
          },
          {
            "method": "org.eclipse.soda.sat.core.internal.framework.bundle.BundleActivationManager.performActivation",
            "source": "BundleActivationManager.java:1290"
          },
          {
            "method": "org.eclipse.soda.sat.core.internal.framework.bundle.BundleActivationManager.access$0",
            "source": "BundleActivationManager.java:1276"
          },
          {
            "method": "org.eclipse.soda.sat.core.internal.framework.bundle.BundleActivationManager$1.acquired",
            "source": "BundleActivationManager.java:414"
          },
          {
            "method": "org.eclipse.soda.sat.core.internal.record.container.ImportServiceRecordContainer.serviceAcquired",
            "source": "ImportServiceRecordContainer.java:465"
          },
          {
            "method": "org.eclipse.soda.sat.core.internal.record.container.ImportServiceRecordContainer.access$0",
            "source": "ImportServiceRecordContainer.java:453"
          },
          {
            "method": "org.eclipse.soda.sat.core.internal.record.container.ImportServiceRecordContainer$4.serviceAcquired",
            "source": "ImportServiceRecordContainer.java:276"
          },
          {
            "method": "org.eclipse.soda.sat.core.internal.record.ImportServiceRecord.acquire",
            "source": "ImportServiceRecord.java:119"
          },
          {
            "method": "org.eclipse.soda.sat.core.internal.record.ImportServiceRecord.acquire",
            "source": "ImportServiceRecord.java:128"
          },
          {
            "method": "org.eclipse.soda.sat.core.internal.record.container.ImportServiceRecordContainer$1.execute",
            "source": "ImportServiceRecordContainer.java:57"
          },
          {
            "method": "org.eclipse.soda.sat.core.internal.record.container.ServiceRecordContainer.doForService",
            "source": "ServiceRecordContainer.java:360"
          },
          {
            "method": "org.eclipse.soda.sat.core.internal.record.container.ServiceRecordContainer.doForEach",
            "source": "ServiceRecordContainer.java:328"
          },
          {
            "method": "org.eclipse.soda.sat.core.internal.record.container.ImportServiceRecordContainer.acquire",
            "source": "ImportServiceRecordContainer.java:236"
          },
          {
            "method": "org.eclipse.soda.sat.core.internal.framework.bundle.BundleActivationManager.acquireImportedServices",
            "source": "BundleActivationManager.java:127"
          },
          {
            "method": "org.eclipse.soda.sat.core.internal.framework.bundle.BundleActivationManager.startSync",
            "source": "BundleActivationManager.java:1694"
          },
          {
            "method": "org.eclipse.soda.sat.core.internal.framework.bundle.BundleActivationManager.start",
            "source": "BundleActivationManager.java:1663"
          },
          {
            "method": "org.eclipse.soda.sat.core.framework.BaseBundleActivator.start",
            "source": "BaseBundleActivator.java:1102"
          },
          {
            "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run",
            "source": "BundleContextImpl.java:991"
          },
          {
            "method": "java.security.AccessController.doPrivileged",
            "source": "AccessController.java:242"
          },
          {
            "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator",
            "source": "BundleContextImpl.java:985"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "192748",
      "date": "2007-06-14T21:49:30+02:00",
      "product": "OHF",
      "component": "DeviceKit",
      "severity": "normal"
    }
  ],
  "groupId": "192748",
  "bugId": "192748",
  "date": "2007-06-14T21:49:30+02:00",
  "product": "OHF",
  "component": "DeviceKit",
  "severity": "normal"
}