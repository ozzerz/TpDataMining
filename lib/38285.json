{
  "comments": [
    "Using latest pde.build code from HEAD.\nTo be able to reproduce it, also get the latest pde ui code from HEAD.  The \nclass that generates the feature script is \norg.eclipse.pde.internal.ui.feature.BuildFeatureAction.\n\n1. Create a \"hello, world\" plug-in (com.example.abc)\n2. Create another one (com.example.xyz)\n3. Create a feature project that includes both plug-ins.\n4. Right-click on the feature.xml and select \u0027Create Ant Build File\u0027, you will \nget the exception pasted at the end.\n\nI also noted a change in behavior, which I am not sure if it is a bug or it\u0027s \nintentional:\nWhen I am setting the pluginPath on the featureBuildScriptGenerator, the plugin \npaths must now also include the URLs for the feature projects in order for the \nfeatures to be found.  Back in 2.0 pde.build code, the plugin path only \ncontained plugin URLs and everything worked fine.  Now, if I don\u0027t include the \nfeature URLs, I get an error message saying that the feature was not found.\n\njava.lang.ArrayIndexOutOfBoundsException: 1\n\tat org.eclipse.pde.internal.build.site.BuildTimeSiteFactory.setSitePaths\n(BuildTimeSiteFactory.java:127)\n\tat \norg.eclipse.pde.internal.build.builder.AbstractBuildScriptGenerator.getSite\n(AbstractBuildScriptGenerator.java:70)\n\tat org.eclipse.pde.internal.build.builder.ClasspathComputer.getPlugin\n(ClasspathComputer.java:106)\n\tat org.eclipse.pde.internal.build.builder.ClasspathComputer.getClasspath\n(ClasspathComputer.java:51)\n\tat \norg.eclipse.pde.internal.build.builder.ModelBuildScriptGenerator.generateBuildJa\nrsTarget(ModelBuildScriptGenerator.java:554)\n\tat \norg.eclipse.pde.internal.build.builder.ModelBuildScriptGenerator.generateBuildSc\nript(ModelBuildScriptGenerator.java:130)\n\tat \norg.eclipse.pde.internal.build.builder.ModelBuildScriptGenerator.generate\n(ModelBuildScriptGenerator.java:106)\n\tat \norg.eclipse.pde.internal.build.builder.FeatureBuildScriptGenerator.generateModel\ns(FeatureBuildScriptGenerator.java:775)\n\tat \norg.eclipse.pde.internal.build.builder.FeatureBuildScriptGenerator.generateChild\nrenScripts(FeatureBuildScriptGenerator.java:750)\n\tat \norg.eclipse.pde.internal.build.builder.FeatureBuildScriptGenerator.generate\n(FeatureBuildScriptGenerator.java:205)\n\tat org.eclipse.pde.internal.ui.feature.BuildFeatureAction.makeScripts\n(BuildFeatureAction.java:63)\n\tat org.eclipse.pde.internal.ui.feature.BaseBuildAction.doBuild\n(BaseBuildAction.java:91)\n\tat org.eclipse.pde.internal.ui.feature.BaseBuildAction.access$0\n(BaseBuildAction.java:82)\n\tat org.eclipse.pde.internal.ui.feature.BaseBuildAction$2.run\n(BaseBuildAction.java:48)\n\tat org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1595)\n\tat org.eclipse.pde.internal.ui.feature.BaseBuildAction$1.run\n(BaseBuildAction.java:55)\n\tat org.eclipse.jface.operation.ModalContext.runInCurrentThread\n(ModalContext.java:302)\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:252)\n\tat org.eclipse.jface.dialogs.ProgressMonitorDialog.run\n(ProgressMonitorDialog.java:357)\n\tat org.eclipse.pde.internal.ui.feature.BaseBuildAction.run\n(BaseBuildAction.java:64)\n\tat org.eclipse.ui.internal.PluginAction.runWithEvent\n(PluginAction.java:263)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:526)\n\tat org.eclipse.jface.action.ActionContributionItem.access$4\n(ActionContributionItem.java:480)\n\tat org.eclipse.jface.action.ActionContributionItem$6.handleEvent\n(ActionContributionItem.java:452)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:81)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:848)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2034)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1741)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1402)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1385)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:845)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:291)\n\tat org.eclipse.core.launcher.Main.run(Main.java:747)\n\tat org.eclipse.core.launcher.Main.main(Main.java:583)",
    "Actually, without self-hosting, if I export the code as jars and run, once \nagain I stop at an earlier stage where I get an error saying that the feature \nwas not found!!!\n\nUsing pde.buildR_3_0early access and compatible pde.ui v20030602_newpdebuild",
    "Fixed in the R3_0_early_access branch",
    "Using R_3_0 branch, I\u0027m still the \u0027cannot find feature: com.example.feature\u0027 \nerror.",
    "Use pde.ui (branch R_3_0_newbuild) to reproduce.",
    "It\u0027s normal that you get this error because you do not specify the location of \nthe feature.xml.\nWhen you do the call to generator.setPluginPath(...) you need to give the \nlocation of the feature.",
    "I tried doing that too, but it made no difference either.\nI\u0027ll try it again, but note that we never had to do any of this stuff for 2.1.",
    "Just tried it again, after adding feature.xml to the plugin path, and I still \nget the same error.\nGet the latest from R_3_0_newbuild and try it for yourself.",
    "I\u0027m sorry but I can not reproduce the bug with your code.\nTo make sure you get the correct version of the build code, I tagged it with \nv20030623.",
    "It works fine when you launch a runtime workbench instance.  It did not work \nwhen I exported the new jars and restarted the development workbench.  The \nreason for that was that I needed to replace the entire pde.build plug-in in \nthe install tree, not just pdebuild.jar.  Works fine now.",
    "Code released in HEAD",
    "Don\u0027t know if this is related.\n\nFirst I saw this error message:\nError Jan 14, 2004 03:24:45.964 Cannot find feature:\nfi.jab.eclipse.JabEclipseFeature.\n\nAnd after removing the contents of features/ and plugins/ directories i started\ngetting NPE.\n\nError Jan 14, 2004 03:27:14.828 java.lang.NullPointerException\njava.lang.NullPointerException\n\tat\norg.eclipse.pde.internal.ui.feature.BuildSiteAction$2.run(BuildSiteAction.java:62)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1555)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1574)\n\tat\norg.eclipse.pde.internal.ui.feature.BuildSiteAction$1.run(BuildSiteAction.java:68)\n\tat\norg.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:302)\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:252)\n\tat\norg.eclipse.jface.dialogs.ProgressMonitorDialog.run(ProgressMonitorDialog.java:394)\n\tat org.eclipse.pde.internal.ui.feature.BuildSiteAction.run(BuildSiteAction.java:80)\n\tat org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:271)\n\tat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:509)\n\tat\norg.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:461)\n\tat\norg.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:408)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:847)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2311)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1992)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1506)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1482)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:246)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:47)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:85)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:279)\n\tat org.eclipse.core.launcher.Main.run(Main.java:742)\n\tat org.eclipse.core.launcher.Main.main(Main.java:581)\n\n",
    "Running E3M6.",
    "The feature has most weird directory structure which seems wrong:\nJabEclipseFeature:\n bin\n    .classpath\n    .project\n    build.properties\n    feature.xml\n .classpath\n .project\n build.propreties\n feature.xml\n\nI remember seeing this erroneous behaviour sometimes before too.\n\n "
  ],
  "commentCreationDates": [
    "2003-05-30T23:10:33+02:00",
    "2003-06-16T14:37:59+02:00",
    "2003-06-17T15:15:34+02:00",
    "2003-06-21T03:37:47+02:00",
    "2003-06-23T00:52:54+02:00",
    "2003-06-23T14:59:00+02:00",
    "2003-06-23T15:59:33+02:00",
    "2003-06-23T16:06:14+02:00",
    "2003-06-23T17:32:31+02:00",
    "2003-06-23T18:17:38+02:00",
    "2003-07-14T20:37:24+02:00",
    "2004-01-14T01:34:54+01:00",
    "2004-01-14T01:35:16+01:00",
    "2004-01-14T01:39:16+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "1",
      "elements": [
        {
          "method": "org.eclipse.pde.internal.build.site.BuildTimeSiteFactory.setSitePaths",
          "source": "BuildTimeSiteFactory.java:127"
        },
        {
          "method": "org.eclipse.pde.internal.build.builder.AbstractBuildScriptGenerator.getSite",
          "source": "AbstractBuildScriptGenerator.java:70"
        },
        {
          "method": "org.eclipse.pde.internal.build.builder.ClasspathComputer.getPlugin",
          "source": "ClasspathComputer.java:106"
        },
        {
          "method": "org.eclipse.pde.internal.build.builder.ClasspathComputer.getClasspath",
          "source": "ClasspathComputer.java:51"
        },
        {
          "method": "org.eclipse.pde.internal.build.builder.ModelBuildScriptGenerator.generateBuildJarsTarget",
          "source": "ModelBuildScriptGenerator.java:554"
        },
        {
          "method": "org.eclipse.pde.internal.build.builder.ModelBuildScriptGenerator.generateBuildScript",
          "source": "ModelBuildScriptGenerator.java:130"
        },
        {
          "method": "org.eclipse.pde.internal.build.builder.ModelBuildScriptGenerator.generate",
          "source": "ModelBuildScriptGenerator.java:106"
        },
        {
          "method": "org.eclipse.pde.internal.build.builder.FeatureBuildScriptGenerator.generateModels",
          "source": "FeatureBuildScriptGenerator.java:775"
        },
        {
          "method": "org.eclipse.pde.internal.build.builder.FeatureBuildScriptGenerator.generateChildrenScripts",
          "source": "FeatureBuildScriptGenerator.java:750"
        },
        {
          "method": "org.eclipse.pde.internal.build.builder.FeatureBuildScriptGenerator.generate",
          "source": "FeatureBuildScriptGenerator.java:205"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BuildFeatureAction.makeScripts",
          "source": "BuildFeatureAction.java:63"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BaseBuildAction.doBuild",
          "source": "BaseBuildAction.java:91"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BaseBuildAction.access$0",
          "source": "BaseBuildAction.java:82"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BaseBuildAction$2.run",
          "source": "BaseBuildAction.java:48"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1595"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BaseBuildAction$1.run",
          "source": "BaseBuildAction.java:55"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:302"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:252"
        },
        {
          "method": "org.eclipse.jface.dialogs.ProgressMonitorDialog.run",
          "source": "ProgressMonitorDialog.java:357"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BaseBuildAction.run",
          "source": "BaseBuildAction.java:64"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:263"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:526"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$4",
          "source": "ActionContributionItem.java:480"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$6.handleEvent",
          "source": "ActionContributionItem.java:452"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:81"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:848"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2034"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1741"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1402"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1385"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:291"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:747"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:583"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "38285",
      "date": "2003-05-30T23:10:33+02:00",
      "product": "PDE",
      "component": "Build",
      "severity": "critical"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.pde.internal.ui.feature.BuildSiteAction$2.run",
          "source": "BuildSiteAction.java:62"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1555"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1574"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BuildSiteAction$1.run",
          "source": "BuildSiteAction.java:68"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:302"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:252"
        },
        {
          "method": "org.eclipse.jface.dialogs.ProgressMonitorDialog.run",
          "source": "ProgressMonitorDialog.java:394"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BuildSiteAction.run",
          "source": "BuildSiteAction.java:80"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:271"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:509"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:461"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:408"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:847"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2311"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1992"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1506"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1482"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:246"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:139"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:47"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:279"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:742"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:581"
        }
      ],
      "number": 1,
      "commentIndex": 11,
      "bugId": "38285",
      "date": "2004-01-14T01:34:54+01:00",
      "product": "PDE",
      "component": "Build",
      "severity": "critical"
    }
  ],
  "groupId": "38285",
  "bugId": "38285",
  "date": "2003-05-30T23:10:33+02:00",
  "product": "PDE",
  "component": "Build",
  "severity": "critical"
}