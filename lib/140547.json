{
  "comments": [
    "when debugging a web-application which uses the resin app server and generics, any time i attempt to inspect or watch a generic class results in the following error, java.util.NoSuchElementException\n\nThis is a real hassle when trying to debug any class using generics(which most of what I work on now *ARE*) thus i made this a blocker...  i tried to replicate the issue with a test class and main method but could not so i think it might be tied to the web app debugging.  I\u0027m trying to create a test app, if i can reproduce 100% i\u0027ll post the code\n\nstack from log:\n\n!ENTRY org.eclipse.jdt.debug 4 120 2006-05-05 16:58:01.679\n!MESSAGE Exception processing async thread queue\n!SUBENTRY 1 org.eclipse.jdt.debug 4 120 2006-05-05 16:58:01.679\n!MESSAGE Exception processing async thread queue\n!STACK 0\njava.util.NoSuchElementException\n\tat java.util.AbstractList$Itr.next(AbstractList.java:427)\n\tat org.eclipse.jdt.internal.debug.eval.ast.engine.SourceBasedSourceGenerator.buildTypeDeclaration(SourceBasedSourceGenerator.java:542)\n\tat org.eclipse.jdt.internal.debug.eval.ast.engine.SourceBasedSourceGenerator.endVisit(SourceBasedSourceGenerator.java:926)\n\tat org.eclipse.jdt.core.dom.TypeDeclaration.accept0(TypeDeclaration.java:486)\n\tat org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2466)\n\tat org.eclipse.jdt.core.dom.ASTNode.acceptChildren(ASTNode.java:2536)\n\tat org.eclipse.jdt.core.dom.CompilationUnit.accept0(CompilationUnit.java:212)\n\tat org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2466)\n\tat org.eclipse.jdt.internal.debug.eval.ast.engine.EvaluationSourceGenerator.createEvaluationSourceFromSource(EvaluationSourceGenerator.java:152)\n\tat org.eclipse.jdt.internal.debug.eval.ast.engine.EvaluationSourceGenerator.getSource(EvaluationSourceGenerator.java:189)\n\tat org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine.getCompiledExpression(ASTEvaluationEngine.java:197)\n\tat org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine.evaluate(ASTEvaluationEngine.java:89)\n\tat org.eclipse.jdt.internal.debug.ui.JavaWatchExpressionDelegate$EvaluationRunnable.run(JavaWatchExpressionDelegate.java:144)\n\tat org.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run(JDIThread.java:2467)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)",
    "Do you know if this works using 3.2RC3?",
    "actually - i wasn\u0027t aware there WAS an RC3, though i should have mentioned that i did test it on 3.2RC2...\n\ni\u0027ll download RC3 and let you know. ",
    "If this happens on 3.2RC2, then the \u0027version\u0027 of the bug should be 3.2, rather than 3.1.2.",
    "i agree, except that i can\u0027t select MULTIPLE versions, else i would have\nselected 3.1.1, 3.1.2, 3.2 etc... (i tried ctrl-clicking but it didn\u0027t work) i\nonly mentioned rc2 as i thought maybe it was fixed in rc2... (clearly it\nwasn\u0027t! - lol) \n\nit\u0027s been a common problem for us for a while now, but we didn\u0027t have enough\ngeneric classes for it to be a \u0027serious\u0027 problem... now we do.\n\nthe dl just completed for rc3, i\u0027ll unzip and let you know.",
    "I believe it will be a problem in RC3, as we made no fixes in this area between RC2 and RC3.",
    "problem confirmed in 3.2RC3, thanks",
    "confirmed not related to web app container as the problem is replicated when debugging JUnit tests",
    "in 3.2rc2 the erorr is only \u0027detectible\u0027 when i try to \u0027watch\u0027 something, inspect doesn\u0027t throw the error... however in 3.2RC3 the error \u0027pops up\u0027 each time a breakpoint is hit which is \u0027mildly\u0027 annoying, however what is VERY annoying is every time i \u0027step out\u0027 of the current method i get the error too... yuck! ",
    "Created an attachment (id\u003d40587)\ntest.GenericTest.java\n\nthe test class",
    "Created an attachment (id\u003d40589)\ntest.GenericMap.java\n\nthe test map",
    "test case created: turns out the problem is with \"double\" generics (don\u0027t know the \u0027right\u0027 name for it, such as Map\u003cK, V\u003e).\n\ni attatched two classes that will make the problem occur 100% of the time (well - tested in 3.2RC3 fyi)\n\nput a breakpoint on GenericMap.putIntoMap at gmap.put(t,u); and you \"should\" see the error.\n\nthanks",
    "I can see the bug in the code - it\u0027s a typo on iterators between inner/outer. Should be a simple fix, marking as RC4 candidate.",
    "Created an attachment (id\u003d40744)\npatch\n\nPatch fixes references to iterators.",
    "Risk:\n\nThis is a trivial fix that improves 5.0/generic evaluation support in the java debugger.\n\nCC\u0027ing Philippe and Martin for RC4 approval.",
    "(and CC\u0027ing Martin for approval).",
    "+1 for 3.2 RC4",
    "+1 for 3.2RC4",
    "Applied patch.",
    "Fixed. Please verify, Kevin.",
    "verified"
  ],
  "commentCreationDates": [
    "2006-05-08T14:47:24+02:00",
    "2006-05-08T15:02:37+02:00",
    "2006-05-08T15:07:45+02:00",
    "2006-05-08T15:14:08+02:00",
    "2006-05-08T15:18:30+02:00",
    "2006-05-08T15:21:19+02:00",
    "2006-05-08T15:28:41+02:00",
    "2006-05-08T15:38:39+02:00",
    "2006-05-08T16:24:00+02:00",
    "2006-05-08T16:30:37+02:00",
    "2006-05-08T16:32:14+02:00",
    "2006-05-08T16:36:07+02:00",
    "2006-05-08T18:32:12+02:00",
    "2006-05-09T17:54:45+02:00",
    "2006-05-09T17:55:46+02:00",
    "2006-05-09T17:56:34+02:00",
    "2006-05-09T18:00:36+02:00",
    "2006-05-10T15:09:09+02:00",
    "2006-05-10T16:35:13+02:00",
    "2006-05-10T16:35:30+02:00",
    "2006-05-11T17:49:42+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.util.NoSuchElementException",
      "elements": [
        {
          "method": "java.util.AbstractList$Itr.next",
          "source": "AbstractList.java:427"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.engine.SourceBasedSourceGenerator.buildTypeDeclaration",
          "source": "SourceBasedSourceGenerator.java:542"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.engine.SourceBasedSourceGenerator.endVisit",
          "source": "SourceBasedSourceGenerator.java:926"
        },
        {
          "method": "org.eclipse.jdt.core.dom.TypeDeclaration.accept0",
          "source": "TypeDeclaration.java:486"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTNode.accept",
          "source": "ASTNode.java:2466"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTNode.acceptChildren",
          "source": "ASTNode.java:2536"
        },
        {
          "method": "org.eclipse.jdt.core.dom.CompilationUnit.accept0",
          "source": "CompilationUnit.java:212"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTNode.accept",
          "source": "ASTNode.java:2466"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.engine.EvaluationSourceGenerator.createEvaluationSourceFromSource",
          "source": "EvaluationSourceGenerator.java:152"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.engine.EvaluationSourceGenerator.getSource",
          "source": "EvaluationSourceGenerator.java:189"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine.getCompiledExpression",
          "source": "ASTEvaluationEngine.java:197"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine.evaluate",
          "source": "ASTEvaluationEngine.java:89"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JavaWatchExpressionDelegate$EvaluationRunnable.run",
          "source": "JavaWatchExpressionDelegate.java:144"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run",
          "source": "JDIThread.java:2467"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "140547",
      "date": "2006-05-08T14:47:24+02:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "blocker"
    }
  ],
  "groupId": "140547",
  "bugId": "140547",
  "date": "2006-05-08T14:47:24+02:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "blocker"
}