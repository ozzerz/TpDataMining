{
  "comments": [
    "This is a development time bug, rather than a runtime bug...\n\nUsing I20040519\n\n* Started new workspace running on IBM 1.4.1 VM\n* Imported standard ant/debug plugins from CVS (but did not import \norg.apache.ant)\n* Workspace build, but org.eclipse.ant.core had compile errors in \"ant_src\" \ndirectory\n* Thought I had to import org.apache.ant as plug-in, so I did\n* Still have compile errors (many), like this:\n\nSeverity\tDescription\tResource\tIn Folder\tLocation\n\tCreation Time\n2\tThe import org.apache.tools cannot be resolved\n\tDemuxInputStreamSetter.java\n\torg.eclipse.ant.core/src_ant/org/eclipse/ant/internal/core/ant\tline 14\n\tMay 19, 2004 8:28:07 AM",
    "Over the course of the day, these build errors have disappeared. I have since \ndone a few full builds, shutdown/startup, etc., thru normal testing.",
    "I believe there is some PDE magic that is supposed to pick up the extra JAR \ninformation from the build.properties file.\njars.extra.classpath\u003d../org.apache.ant/lib/ant.jar,../org.apache.ant/lib/ant-\nlauncher.jar\n\nI have forgotten how to trigger this update of the plugin dependancies",
    "Actually it looks like once you restart with the org.apache.ant plugin in the \nworkspace, the plug-in dependencies are updated to include the \nbuild.properties extra jars...now I seem to remember I logged a bug about this.",
    "Correct.  If org.apache.ant is imported into your workspace, PDE should \nrecompute the classpath of your plug-in and include the JARs listed in \nant.core\u0027s build.properties.\n\nDarins did open a bug regarding this issue months ago and was fixed back \nthen.  Not sure why it came back.  Will investigate and more importantly will \nfix it.",
    "Actually, PDE is certainly updating the classpath of org.eclipse.ant.core \ncorrectly after org.apache.ant is imported into the workspace, as can be \nverified by inspecting the value of the Plug-in Dependencies container.\n\nHowever, JDT/Core does not kick in and the red X remains on the \norg.apache.ant.core project until a \"clean\" is explicitly called on the \nproject.\n\nSimple test case:\n1. Fresh workspace.\n2. Check out org.eclipse.ant.core from cvs.  It should contain compiler errors.\n3. Check out org.apache.ant from cvs.  The container for org.eclipse.ant.core \nnow contains references to two libraries from org.apache.ant.  However, the \nred X still remains on the project.\n\nMoving to JDT/Core.  This is a regression.",
    "Wassim - a regression compared to what ?",
    "When bug 45755 was resolved, this scenario used to work fine.  Now it doesn\u0027t.",
    "Bug 45755 was living in PDE UI, couldn\u0027t this expose a subsequent weakness on \nyour side ? Did you provide traces proving this is JDT/Core ?\n\nWill investigate anyway.",
    "Trying to reproduce after step 2, I got a build failure:\n\nBuildfile: \nD:\\eclipse\\testing\\workspace\\org.eclipse.ant.core\\buildfiles\\buildExtraJAR.xml\n\nproperties:\n\ninit:\n\nclean:\n\nlib/antsupportlib.jar:\n       [mkdir] Created dir: \nD:\\eclipse\\testing\\workspace\\org.eclipse.ant.core\\temp.folder\\lib\\antsupportlib\n.jar.bin\n       [javac] Compiling 8 source files to \nD:\\eclipse\\testing\\workspace\\org.eclipse.ant.core\\temp.folder\\lib\\antsupportlib\n.jar.bin\nBUILD FAILED: \nD:\\eclipse\\testing\\workspace\\org.eclipse.ant.core\\buildfiles\\buildExtraJAR.xml:\n33: org.eclipse.jdt.core.JDTCompilerAdapter isn\u0027t the classname of a compiler \nadapter.\nTotal time: 1 second\n",
    "Created an attachment (id\u003d11648)\nJDTCore trace\n\nWhen reproducing with steps in comment#5, no clean is addressing the problem,\nand the offending required plugins container remains empty forever.\nSee attached trace of JDTCore activity when importing org.apache.ant from CVS;\nPDE sets the container to empty value and from thereon there is nothing that\ncan be done. Looks like PDE fails to infer proper build path.",
    "Suspect failure to reproduce in comment#10 is due to PDE failure at comment#9.\nMoving to PDE for further investigation.",
    "Created an attachment (id\u003d11652)\nJDTCore trace\n\nPrevious failure to reproduce did occur in a runtime workbench, where PDE seems\nunable to properly trigger the external JAR builder.\n\nReproduced though using a pure SDK install. Again PDE seems to hammer empty\ncontainers. Also I am surprised by the amount of times PDE sets container until\nthey get finalized. Note that in this testcase, I didn\u0027t see the container\nvalue to get the right value (i.e. a value which would make build problems go\naway).",
    "Created an attachment (id\u003d11653)\nExpanded org.eclipse.ant.core\n\nObserve that the PDE container does not contain any reference to any Ant\nlibrary at the end of org.apache.ant import.",
    "I used RC1 build to reproduce.",
    "Side question:\nWhy is it ok to have build errors after step 2 ?\n\u003e 1. Fresh workspace.\n\u003e 2. Check out org.eclipse.ant.core from cvs.  It should contain compiler \nerrors.\n\nIsn\u0027t the PDE container supposed to infer that the required org.apache.ant \nplugin is available through target platform ?\n",
    "Interestingly, when importing more than just org.eclipse.ant.core originally, \nsome projects correctly get apache prereq with it.\n\nI did import at once:\n- org.eclipse.ant.core\n- org.eclipse.ant.optional.junit\n- org.eclipse.ant.ui\n- org.eclipse.jdt.debug\n- org.eclipse.jdt.debug.ui\n\nand org.eclipse.ant.ui did list lots of ant-*.jar files in its PDE container, \nwhere org.eclipse.ant.core did not. As a result, org.eclipse.ant.core was the \nonly project left with build errors in the end.\n",
    "Created an attachment (id\u003d11661)\nProject with a full container and a red X\n\nThis screenshot shows ant.core with a full container, including the two JAR\nreference to org.apache.ant, and yet the project still has a red X.  This is\nthe reason why I moved it to JDT/Core in the first place.",
    "Re comment #9, trying to reproduce the scenario in a runtime workbench when \nthe host workbench contains jdt/core in source form is a bad idea as you are \nintroducing more variables.  These variables include the fact that the ant \ntasks in ant.core can\u0027t compile because they expect compilerAdapter to be in \nJAR form.\n\nRe question in comment #15, the entry in jars.extra.classpath is a relative \npath of the form:\n../org.apache.ant/lib/ant.jar\nThis does not in any way infer that it\u0027s a plugin.  It just denotes a \ndirectory, folder or a project that is in a relative location to ant.core.  \nPeople can use this form to reference anything they want relatively, and that \nis why PDE can\u0027t make the assumption it is a plug-in.\n\nRe comment #12, when you say that PDE is \"hammering empty containers\".  Do you \nmean \"incomplete\", as in the JARs from org.apache.ant are not listed?  I would \nfind it hard to believe after all we\u0027ve done that it would be \"empty\".\n\nScreenshot attached in comment #10 shows a problem that should not be \nhappening.  This problem is in PDE land.\n\nScreenshot attached in comment #17 shows a problem that, to me, seems to fall \nin JDT/Core land.",
    "If cannot reproduce in runtime workbench, then steps are not good enough to \ndebug the problem. Leaving only trace analysis approach.\n\nDid you read the trace in comment #12 ? If so, you would see situations where \nyou set empty container values and incomplete ones as well.\n\nThread[Worker-0,5,main] CPContainer SET  - setting container\nThread[Worker-0,5,main]         container path: \norg.eclipse.pde.core.requiredPlugins\nThread[Worker-0,5,main]         projects: {org.eclipse.ant.core}\nThread[Worker-0,5,main]         values: {\nThread[Worker-0,5,main]                 Plug-in Dependencies {\nThread[Worker-0,5,main]                 }\nThread[Worker-0,5,main]         }\n\n\nThread[Worker-4,5,main] CPContainer SET  - setting container\nThread[Worker-4,5,main]         container path: \norg.eclipse.pde.core.requiredPlugins\nThread[Worker-4,5,main]         projects: {org.eclipse.ant.core}\nThread[Worker-4,5,main]         values: {\nThread[Worker-4,5,main]                 Plug-in Dependencies {\nThread[Worker-4,5,main]                         \nD:/eclipse/sdk/eclipse/plugins/org.eclipse.core.variables_3.0.0/variables.jar\n[CPE_LIBRARY][K_BINARY][sourcePath:D:/eclipse/sdk/eclipse/plugins/org.eclip\nse.platform.source_3.0.0/src/org.eclipse.core.variables_3.0.0/variablessrc.zip]\n[isExported:false]\nThread[Worker-4,5,main]                         \nD:/eclipse/sdk/eclipse/plugins/org.eclipse.core.runtime.compatibility_3.0.0/com\npatibility.jar[CPE_LIBRARY][K_BINARY][sourcePath:D:/eclipse/sdk/eclipse/p\nlugins/org.eclipse.platform.source_3.0.0/src/org.eclipse.core.runtime.compatibi\nlity_3.0.0/compatibilitysrc.zip][isExported:false]\nThread[Worker-4,5,main]                         \nD:/eclipse/sdk/eclipse/plugins/org.eclipse.core.runtime_3.0.0/runtime.jar\n[CPE_LIBRARY][K_BINARY][sourcePath:D:/eclipse/sdk/eclipse/plugins/org.eclipse.p\nlatform.source_3.0.0/src/org.eclipse.core.runtime_3.0.0/runtimesrc.zip]\n[isExported:false]\nThread[Worker-4,5,main]                         \nD:/eclipse/sdk/eclipse/plugins/org.eclipse.osgi_3.0.0/osgi.jar[CPE_LIBRARY]\n[K_BINARY][sourcePath:D:/eclipse/sdk/eclipse/plugins/org.eclipse.platform.sou\nrce_3.0.0/src/org.eclipse.osgi_3.0.0/osgisrc.zip][isExported:false]\nThread[Worker-4,5,main]                         \nD:/eclipse/sdk/eclipse/plugins/org.eclipse.osgi_3.0.0/core.jar[CPE_LIBRARY]\n[K_BINARY][sourcePath:D:/eclipse/sdk/eclipse/plugins/org.eclipse.platform.sou\nrce_3.0.0/src/org.eclipse.osgi_3.0.0/coresrc.zip][isExported:false]\nThread[Worker-4,5,main]                         \nD:/eclipse/sdk/eclipse/plugins/org.eclipse.osgi_3.0.0/resolver.jar[CPE_LIBRARY]\n[K_BINARY][sourcePath:D:/eclipse/sdk/eclipse/plugins/org.eclipse.platform\n.source_3.0.0/src/org.eclipse.osgi_3.0.0/resolversrc.zip][isExported:false]\nThread[Worker-4,5,main]                         \nD:/eclipse/sdk/eclipse/plugins/org.eclipse.osgi_3.0.0/defaultAdaptor.jar\n[CPE_LIBRARY][K_BINARY]\n[sourcePath:D:/eclipse/sdk/eclipse/plugins/org.eclipse.pl\natform.source_3.0.0/src/org.eclipse.osgi_3.0.0/defaultAdaptorsrc.zip]\n[isExported:false]\nThread[Worker-4,5,main]                         \nD:/eclipse/sdk/eclipse/plugins/org.eclipse.osgi_3.0.0/eclipseAdaptor.jar\n[CPE_LIBRARY][K_BINARY]\n[sourcePath:D:/eclipse/sdk/eclipse/plugins/org.eclipse.pl\natform.source_3.0.0/src/org.eclipse.osgi_3.0.0/eclipseAdaptorsrc.zip]\n[isExported:false]\nThread[Worker-4,5,main]                         \nD:/eclipse/sdk/eclipse/plugins/org.eclipse.osgi_3.0.0/console.jar[CPE_LIBRARY]\n[K_BINARY][sourcePath:D:/eclipse/sdk/eclipse/plugins/org.eclipse.platform.\nsource_3.0.0/src/org.eclipse.osgi_3.0.0/consolesrc.zip][isExported:false]\nThread[Worker-4,5,main]                         \nD:/eclipse/sdk/eclipse/plugins/org.eclipse.update.configurator_3.0.0/configurat\nor.jar[CPE_LIBRARY][K_BINARY][sourcePath:D:/eclipse/sdk/eclipse/plugins/o\nrg.eclipse.platform.source_3.0.0/src/org.eclipse.update.configurator_3.0.0/conf\niguratorsrc.zip][isExported:false]\nThread[Worker-4,5,main]                 }\nThread[Worker-4,5,main]         }\nThread[Worker-4,5,main]         invocation stack trace:\njava.lang.Exception: \u003cFake exception\u003e\n        at org.eclipse.jdt.core.JavaCore.setClasspathContainer\n(JavaCore.java:3337)\n        at \norg.eclipse.pde.internal.core.PluginModelManager.updateAffectedEntries\n(PluginModelManager.java:366)\n        at org.eclipse.pde.internal.core.PluginModelManager.handleModelsChanged\n(PluginModelManager.java:243)\n        at org.eclipse.pde.internal.core.PluginModelManager.access$0\n(PluginModelManager.java:173)\n        at org.eclipse.pde.internal.core.PluginModelManager$1.modelsChanged\n(PluginModelManager.java:36)\n        at \norg.eclipse.pde.internal.core.WorkspaceModelManager.fireModelProviderEvent\n(WorkspaceModelManager.java:739)\n        at \norg.eclipse.pde.internal.core.WorkspaceModelManager.processModelChanges\n(WorkspaceModelManager.java:733)\n        at org.eclipse.pde.internal.core.WorkspaceModelManager.resourceChanged\n(WorkspaceModelManager.java:365)\n        at org.eclipse.jdt.internal.core.DeltaProcessingState$1.run\n(DeltaProcessingState.java:408)\n        at org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:615)\n        at org.eclipse.core.runtime.Platform.run(Platform.java:758)\n        at org.eclipse.jdt.internal.core.DeltaProcessingState.resourceChanged\n(DeltaProcessingState.java:403)\n        at org.eclipse.core.internal.events.NotificationManager$2.run\n(NotificationManager.java:283)\n        at org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:615)\n        at org.eclipse.core.runtime.Platform.run(Platform.java:758)\n        at org.eclipse.core.internal.events.NotificationManager.notify\n(NotificationManager.java:277)\n        at \norg.eclipse.core.internal.events.NotificationManager.broadcastChanges\n(NotificationManager.java:151)\n        at org.eclipse.core.internal.resources.Workspace.broadcastChanges\n(Workspace.java:172)\n        at org.eclipse.core.internal.resources.Workspace.endOperation\n(Workspace.java:900)\n        at org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1682)\n        at org.eclipse.jdt.core.JavaCore.run(JavaCore.java:3246)\n        at org.eclipse.jdt.internal.launching.LaunchingPlugin$VMChanges.process\n(LaunchingPlugin.java:207)\n        at \norg.eclipse.jdt.internal.launching.LaunchingPlugin.processVMPrefsChanged\n(LaunchingPlugin.java:586)\n        at org.eclipse.jdt.internal.launching.LaunchingPlugin.propertyChange\n(LaunchingPlugin.java:493)\n        at \norg.eclipse.core.internal.preferences.PreferenceForwarder.preferenceChange\n(PreferenceForwarder.java:115)\n        at org.eclipse.core.internal.preferences.EclipsePreferences$4.run\n(EclipsePreferences.java:743)\n        at org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:615)\n        at org.eclipse.core.runtime.Platform.run(Platform.java:758)\n        at \norg.eclipse.core.internal.preferences.EclipsePreferences.preferenceChanged\n(EclipsePreferences.java:746)\n        at org.eclipse.core.internal.preferences.EclipsePreferences.put\n(EclipsePreferences.java:757)\n        at org.eclipse.core.internal.preferences.PreferenceForwarder.setValue\n(PreferenceForwarder.java:604)\n        at org.eclipse.jdt.launching.JavaRuntime$1.run(JavaRuntime.java:1274)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)\n\n\n\nThread[Worker-6,5,main] CPContainer SET  - setting container\nThread[Worker-6,5,main]         container path: \norg.eclipse.pde.core.requiredPlugins\nThread[Worker-6,5,main]         projects: {org.eclipse.ant.core, \norg.apache.ant}\nThread[Worker-6,5,main]         values: {\nThread[Worker-6,5,main]                 Plug-in Dependencies {\nThread[Worker-6,5,main]                         \nD:/eclipse/sdk/eclipse/plugins/org.eclipse.core.variables_3.0.0/variables.jar\n[CPE_LIBRARY][K_BINARY][sourcePath:D:/eclipse/sdk/eclipse/plugins/org.eclip\nse.platform.source_3.0.0/src/org.eclipse.core.variables_3.0.0/variablessrc.zip]\n[isExported:false]\nThread[Worker-6,5,main]                         \nD:/eclipse/sdk/eclipse/plugins/org.eclipse.core.runtime.compatibility_3.0.0/com\npatibility.jar[CPE_LIBRARY][K_BINARY][sourcePath:D:/eclipse/sdk/eclipse/p\nlugins/org.eclipse.platform.source_3.0.0/src/org.eclipse.core.runtime.compatibi\nlity_3.0.0/compatibilitysrc.zip][isExported:false]\nThread[Worker-6,5,main]                         \nD:/eclipse/sdk/eclipse/plugins/org.eclipse.core.runtime_3.0.0/runtime.jar\n[CPE_LIBRARY][K_BINARY][sourcePath:D:/eclipse/sdk/eclipse/plugins/org.eclipse.p\nlatform.source_3.0.0/src/org.eclipse.core.runtime_3.0.0/runtimesrc.zip]\n[isExported:false]\nThread[Worker-6,5,main]                         \nD:/eclipse/sdk/eclipse/plugins/org.eclipse.osgi_3.0.0/osgi.jar[CPE_LIBRARY]\n[K_BINARY][sourcePath:D:/eclipse/sdk/eclipse/plugins/org.eclipse.platform.sou\nrce_3.0.0/src/org.eclipse.osgi_3.0.0/osgisrc.zip][isExported:false]\nThread[Worker-6,5,main]                         \nD:/eclipse/sdk/eclipse/plugins/org.eclipse.osgi_3.0.0/core.jar[CPE_LIBRARY]\n[K_BINARY][sourcePath:D:/eclipse/sdk/eclipse/plugins/org.eclipse.platform.sou\nrce_3.0.0/src/org.eclipse.osgi_3.0.0/coresrc.zip][isExported:false]\nThread[Worker-6,5,main]                         \nD:/eclipse/sdk/eclipse/plugins/org.eclipse.osgi_3.0.0/resolver.jar[CPE_LIBRARY]\n[K_BINARY][sourcePath:D:/eclipse/sdk/eclipse/plugins/org.eclipse.platform\n.source_3.0.0/src/org.eclipse.osgi_3.0.0/resolversrc.zip][isExported:false]\nThread[Worker-6,5,main]                         \nD:/eclipse/sdk/eclipse/plugins/org.eclipse.osgi_3.0.0/defaultAdaptor.jar\n[CPE_LIBRARY][K_BINARY]\n[sourcePath:D:/eclipse/sdk/eclipse/plugins/org.eclipse.pl\natform.source_3.0.0/src/org.eclipse.osgi_3.0.0/defaultAdaptorsrc.zip]\n[isExported:false]\nThread[Worker-6,5,main]                         \nD:/eclipse/sdk/eclipse/plugins/org.eclipse.osgi_3.0.0/eclipseAdaptor.jar\n[CPE_LIBRARY][K_BINARY]\n[sourcePath:D:/eclipse/sdk/eclipse/plugins/org.eclipse.pl\natform.source_3.0.0/src/org.eclipse.osgi_3.0.0/eclipseAdaptorsrc.zip]\n[isExported:false]\nThread[Worker-6,5,main]                         \nD:/eclipse/sdk/eclipse/plugins/org.eclipse.osgi_3.0.0/console.jar[CPE_LIBRARY]\n[K_BINARY][sourcePath:D:/eclipse/sdk/eclipse/plugins/org.eclipse.platform.\nsource_3.0.0/src/org.eclipse.osgi_3.0.0/consolesrc.zip][isExported:false]\nThread[Worker-6,5,main]                         \nD:/eclipse/sdk/eclipse/plugins/org.eclipse.update.configurator_3.0.0/configurat\nor.jar[CPE_LIBRARY][K_BINARY][sourcePath:D:/eclipse/sdk/eclipse/plugins/o\nrg.eclipse.platform.source_3.0.0/src/org.eclipse.update.configurator_3.0.0/conf\niguratorsrc.zip][isExported:false]\nThread[Worker-6,5,main]                 },              Plug-in Dependencies {\nThread[Worker-6,5,main]                 }\nThread[Worker-6,5,main]         }\nThread[Worker-6,5,main]         invocation stack trace:\njava.lang.Exception: \u003cFake exception\u003e\n        at org.eclipse.jdt.core.JavaCore.setClasspathContainer\n(JavaCore.java:3337)\n        at \norg.eclipse.pde.internal.core.PluginModelManager.updateAffectedEntries\n(PluginModelManager.java:366)\n        at org.eclipse.pde.internal.core.PluginModelManager.handleModelsChanged\n(PluginModelManager.java:243)\n        at org.eclipse.pde.internal.core.PluginModelManager.access$0\n(PluginModelManager.java:173)\n        at org.eclipse.pde.internal.core.PluginModelManager$1.modelsChanged\n(PluginModelManager.java:36)\n        at \norg.eclipse.pde.internal.core.WorkspaceModelManager.fireModelProviderEvent\n(WorkspaceModelManager.java:739)\n        at \norg.eclipse.pde.internal.core.WorkspaceModelManager.processModelChanges\n(WorkspaceModelManager.java:733)\n        at org.eclipse.pde.internal.core.WorkspaceModelManager.resourceChanged\n(WorkspaceModelManager.java:365)\n        at org.eclipse.jdt.internal.core.DeltaProcessingState$1.run\n(DeltaProcessingState.java:408)\n        at org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:615)\n        at org.eclipse.core.runtime.Platform.run(Platform.java:758)\n        at org.eclipse.jdt.internal.core.DeltaProcessingState.resourceChanged\n(DeltaProcessingState.java:403)\n        at org.eclipse.core.internal.events.NotificationManager$2.run\n(NotificationManager.java:283)\n        at org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:615)\n        at org.eclipse.core.runtime.Platform.run(Platform.java:758)\n        at org.eclipse.core.internal.events.NotificationManager.notify\n(NotificationManager.java:277)\n        at \norg.eclipse.core.internal.events.NotificationManager.broadcastChanges\n(NotificationManager.java:151)\n        at org.eclipse.core.internal.resources.Workspace.broadcastChanges\n(Workspace.java:172)\n        at org.eclipse.core.internal.resources.Workspace.endOperation\n(Workspace.java:900)\n        at org.eclipse.core.internal.resources.File.create(File.java:168)\n        at org.eclipse.core.internal.resources.File.create(File.java:181)\n        at \norg.eclipse.team.internal.ccvs.core.resources.EclipseFile.setContents\n(EclipseFile.java:198)\n        at org.eclipse.team.internal.ccvs.core.client.Session.receiveFile\n(Session.java:778)\n        at \norg.eclipse.team.internal.ccvs.core.client.UpdatedHandler.receiveTargetFile\n(UpdatedHandler.java:100)\n        at org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.handle\n(UpdatedHandler.java:90)\n        at org.eclipse.team.internal.ccvs.core.client.Request.executeRequest\n(Request.java:232)\n        at org.eclipse.team.internal.ccvs.core.client.Command.doExecute\n(Command.java:421)\n        at org.eclipse.team.internal.ccvs.core.client.Checkout.doExecute\n(Checkout.java:168)\n        at \norg.eclipse.team.internal.ccvs.core.client.CheckoutWithOverwrite.doExecute\n(CheckoutWithOverwrite.java:52)\n        at org.eclipse.team.internal.ccvs.core.client.Command$1.run\n(Command.java:337)\n        at \norg.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run\n(EclipseSynchronizer.java:1405)\n        at org.eclipse.team.internal.ccvs.core.resources.EclipseResource$2.run\n(EclipseResource.java:268)\n        at org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1673)\n        at org.eclipse.team.internal.ccvs.core.resources.EclipseResource.run\n(EclipseResource.java:265)\n        at org.eclipse.team.internal.ccvs.core.client.Command.execute\n(Command.java:349)\n        at \norg.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.performCh\neckout(CheckoutProjectOperation.java:245)\n        at \norg.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation$1.run\n(CheckoutProjectOperation.java:151)\n        at \norg.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run\n(EclipseSynchronizer.java:1405)\n        at \norg.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout\n(CheckoutProjectOperation.java:149)\n        at \norg.eclipse.team.internal.ccvs.ui.operations.CheckoutMultipleProjectsOperation.\ncheckout(CheckoutMultipleProjectsOperation.java:50)\n        at \norg.eclipse.team.internal.ccvs.ui.operations.CheckoutOperation.checkout\n(CheckoutOperation.java:46)\n        at \norg.eclipse.team.internal.ccvs.ui.operations.CheckoutOperation.execute\n(CheckoutOperation.java:31)\n        at org.eclipse.team.internal.ccvs.ui.operations.CVSOperation.run\n(CVSOperation.java:84)\n        at org.eclipse.team.internal.ui.actions.JobRunnableContext.run\n(JobRunnableContext.java:159)\n        at \norg.eclipse.team.internal.ui.actions.JobRunnableContext$3.runInWorkspace\n(JobRunnableContext.java:179)\n        at org.eclipse.core.internal.resources.InternalWorkspaceJob.run\n(InternalWorkspaceJob.java:38)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)",
    "From what I am seeing in your last screenshot, I am observing only 2 Ant jars \nlisted, where I would expect 29 of them (from what I see when expanding PDE \ncontainer in ant.ui project). I am wrong ? Please provide a trace proving that \nyou did set PDE container correctly.\n\nI am not saying there cannot be a bug in our land, but I am not convinced it \nis ours. I wasn\u0027t able to reproduce, and all indications looked like PDE was \nnot correctly setting its container.\n\nSo to make things simpler, please attach a trace where the problem is \nreproduced, so as to indicate whether PDE did set the container properly or \nnot. \n\nRecommmend options are:\n\n# Turn on debug tracing for org.eclipse.jdt.core plugin\norg.eclipse.jdt.core/debug\u003dtrue\n\n# Reports incremental builder activity : nature of build, built state reading, \nindictment process\norg.eclipse.jdt.core/debug/builder\u003dtrue\n\n# Reports classpath variable initialization, and classpath container resolution\norg.eclipse.jdt.core/debug/cpresolution\u003dtrue\n\n# Print notified Java element deltas\norg.eclipse.jdt.core/debug/javadelta\u003dtrue\n\n# Turn on debugging for the org.eclipse.core.resources plugin.\norg.eclipse.core.resources/debug\u003dtrue\n\n# Reports the start and end of all builder invocations\norg.eclipse.core.resources/build/invoking\u003dtrue\n\n# Reports the start and end of build delta calculations\norg.eclipse.core.resources/build/delta\u003dtrue\n\n# For incremental builds, displays which builder is being run\n# and because of changes in which project.\norg.eclipse.core.resources/build/needbuild\u003dtrue",
    "\u003eI am observing only 2 Ant jars listed, where I would expect 29 of them (from \n\u003ewhat I see when expanding PDE container in ant.ui project). I am wrong ?\nThe observed behavior is correct.  Had ant.core explicitly listed \norg.apache.ant as a dependency in its plugin.xml, then all 29 JARs would be on \nant.core\u0027s classpath.  This is not the case here.  \nThe dependency list in the plugin.xml of ant.core makes no reference to \norg.apache.ant.  It only lists two of org.apache.ant\u0027s libraries in its \nbuild.properties.  That is why only these two libraries should be on \nant.core\u0027s classpath.",
    "Created an attachment (id\u003d12192)\nTrace\n\nTrace where org.eclipse.ant.core has correct classpath including the two ant\nlibraries, and yet a build does not kick in.  The result would be the\nscreenshot in comment #17, where the expanded container contains all the right\nlibraries, and yet the project still has a red X.  An explicit clean is\nrequired to fix the problem.\n\nIn this scenario, I launched a runtime workbench on a workspace that contains\norg.eclipse.ant.core and org.apache.ant as projects in the workspace.  The\norg.apache.ant is initially closed when the workbench opens.  So\norg.eclipse.ant.core\u0027s classpath should initially be incomplete and should\ncontain compiler errors.  Now open the org.apache.ant project.\tAs the trace\nindicates (as far as I could tell), the classpath got updated to include the\ntwo ant libraries and needsBuild was still false.",
    "Philippe, please see the stack trace attached in previous comment.",
    "This was a tricky one because:\n1. during the resolution of a classpath container, we are forbidden from \nmaking calls to query IPackageFragmentRoot from another project as it would \nmake JDT unhappy.\n\n2. these extra JARs are coming via the build.properties file so we can\u0027t just \nput the org.apache.ant project on the classpath since it would put all 20+ \nJARs on the classpath and we only need 2.\n\n3. At the time when org.apache.ant is checked out, the plugin.xml is checked \nout way before the ant.jar.  so when the recomputation of the classpath occurs \nbefore the actual JAR is physically there, and we therefore could not put it \non the classpath.\n\n\nDARINS, note that not only did I address this problem, your life is going to \nbe a lot easier now as you will no longer be required to have org.apache.ant \nin your workspace to have ant.core compile.\n\nEven though, you reference ant.jar via ../org.apache.ant/lib/ant.jar (i.e. a \nrelative path), PDE will now go the extra mile to find it.\nIf it\u0027s not found relative to your plugin, we will look in the target platform.\n\n"
  ],
  "commentCreationDates": [
    "2004-05-19T15:52:55+02:00",
    "2004-05-19T20:38:15+02:00",
    "2004-05-29T02:12:01+02:00",
    "2004-05-29T02:14:02+02:00",
    "2004-05-29T03:00:18+02:00",
    "2004-06-06T23:11:05+02:00",
    "2004-06-07T00:22:28+02:00",
    "2004-06-07T00:36:02+02:00",
    "2004-06-07T11:28:51+02:00",
    "2004-06-07T13:05:50+02:00",
    "2004-06-07T13:18:24+02:00",
    "2004-06-07T13:20:03+02:00",
    "2004-06-07T14:00:35+02:00",
    "2004-06-07T14:03:47+02:00",
    "2004-06-07T15:33:44+02:00",
    "2004-06-07T15:37:20+02:00",
    "2004-06-07T15:43:03+02:00",
    "2004-06-07T16:25:35+02:00",
    "2004-06-07T16:35:04+02:00",
    "2004-06-07T18:11:32+02:00",
    "2004-06-07T18:15:07+02:00",
    "2004-06-07T18:37:12+02:00",
    "2004-06-15T23:00:05+02:00",
    "2004-06-15T23:00:47+02:00",
    "2005-04-12T07:03:31+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.Exception",
      "message": "\u003cFake exception\u003e",
      "elements": [
        {
          "method": "org.eclipse.jdt.core.JavaCore.setClasspathContainer",
          "source": "JavaCore.java:3337"
        },
        {
          "method": "org.eclipse.pde.internal.core.PluginModelManager.updateAffectedEntries",
          "source": "PluginModelManager.java:366"
        },
        {
          "method": "org.eclipse.pde.internal.core.PluginModelManager.handleModelsChanged",
          "source": "PluginModelManager.java:243"
        },
        {
          "method": "org.eclipse.pde.internal.core.PluginModelManager.access$0",
          "source": "PluginModelManager.java:173"
        },
        {
          "method": "org.eclipse.pde.internal.core.PluginModelManager$1.modelsChanged",
          "source": "PluginModelManager.java:36"
        },
        {
          "method": "org.eclipse.pde.internal.core.WorkspaceModelManager.fireModelProviderEvent",
          "source": "WorkspaceModelManager.java:739"
        },
        {
          "method": "org.eclipse.pde.internal.core.WorkspaceModelManager.processModelChanges",
          "source": "WorkspaceModelManager.java:733"
        },
        {
          "method": "org.eclipse.pde.internal.core.WorkspaceModelManager.resourceChanged",
          "source": "WorkspaceModelManager.java:365"
        },
        {
          "method": "org.eclipse.jdt.internal.core.DeltaProcessingState$1.run",
          "source": "DeltaProcessingState.java:408"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:615"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:758"
        },
        {
          "method": "org.eclipse.jdt.internal.core.DeltaProcessingState.resourceChanged",
          "source": "DeltaProcessingState.java:403"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager$2.run",
          "source": "NotificationManager.java:283"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:615"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:758"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.notify",
          "source": "NotificationManager.java:277"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.broadcastChanges",
          "source": "NotificationManager.java:151"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.broadcastChanges",
          "source": "Workspace.java:172"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.endOperation",
          "source": "Workspace.java:900"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1682"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore.run",
          "source": "JavaCore.java:3246"
        },
        {
          "method": "org.eclipse.jdt.internal.launching.LaunchingPlugin$VMChanges.process",
          "source": "LaunchingPlugin.java:207"
        },
        {
          "method": "org.eclipse.jdt.internal.launching.LaunchingPlugin.processVMPrefsChanged",
          "source": "LaunchingPlugin.java:586"
        },
        {
          "method": "org.eclipse.jdt.internal.launching.LaunchingPlugin.propertyChange",
          "source": "LaunchingPlugin.java:493"
        },
        {
          "method": "org.eclipse.core.internal.preferences.PreferenceForwarder.preferenceChange",
          "source": "PreferenceForwarder.java:115"
        },
        {
          "method": "org.eclipse.core.internal.preferences.EclipsePreferences$4.run",
          "source": "EclipsePreferences.java:743"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:615"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:758"
        },
        {
          "method": "org.eclipse.core.internal.preferences.EclipsePreferences.preferenceChanged",
          "source": "EclipsePreferences.java:746"
        },
        {
          "method": "org.eclipse.core.internal.preferences.EclipsePreferences.put",
          "source": "EclipsePreferences.java:757"
        },
        {
          "method": "org.eclipse.core.internal.preferences.PreferenceForwarder.setValue",
          "source": "PreferenceForwarder.java:604"
        },
        {
          "method": "org.eclipse.jdt.launching.JavaRuntime$1.run",
          "source": "JavaRuntime.java:1274"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:66"
        }
      ],
      "number": 0,
      "commentIndex": 19,
      "bugId": "62907",
      "date": "2004-06-07T18:11:32+02:00",
      "product": "PDE",
      "component": "UI",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.Exception",
      "message": "\u003cFake exception\u003e",
      "elements": [
        {
          "method": "org.eclipse.jdt.core.JavaCore.setClasspathContainer",
          "source": "JavaCore.java:3337"
        },
        {
          "method": "org.eclipse.pde.internal.core.PluginModelManager.updateAffectedEntries",
          "source": "PluginModelManager.java:366"
        },
        {
          "method": "org.eclipse.pde.internal.core.PluginModelManager.handleModelsChanged",
          "source": "PluginModelManager.java:243"
        },
        {
          "method": "org.eclipse.pde.internal.core.PluginModelManager.access$0",
          "source": "PluginModelManager.java:173"
        },
        {
          "method": "org.eclipse.pde.internal.core.PluginModelManager$1.modelsChanged",
          "source": "PluginModelManager.java:36"
        },
        {
          "method": "org.eclipse.pde.internal.core.WorkspaceModelManager.fireModelProviderEvent",
          "source": "WorkspaceModelManager.java:739"
        },
        {
          "method": "org.eclipse.pde.internal.core.WorkspaceModelManager.processModelChanges",
          "source": "WorkspaceModelManager.java:733"
        },
        {
          "method": "org.eclipse.pde.internal.core.WorkspaceModelManager.resourceChanged",
          "source": "WorkspaceModelManager.java:365"
        },
        {
          "method": "org.eclipse.jdt.internal.core.DeltaProcessingState$1.run",
          "source": "DeltaProcessingState.java:408"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:615"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:758"
        },
        {
          "method": "org.eclipse.jdt.internal.core.DeltaProcessingState.resourceChanged",
          "source": "DeltaProcessingState.java:403"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager$2.run",
          "source": "NotificationManager.java:283"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:615"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:758"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.notify",
          "source": "NotificationManager.java:277"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.broadcastChanges",
          "source": "NotificationManager.java:151"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.broadcastChanges",
          "source": "Workspace.java:172"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.endOperation",
          "source": "Workspace.java:900"
        },
        {
          "method": "org.eclipse.core.internal.resources.File.create",
          "source": "File.java:168"
        },
        {
          "method": "org.eclipse.core.internal.resources.File.create",
          "source": "File.java:181"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseFile.setContents",
          "source": "EclipseFile.java:198"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.client.Session.receiveFile",
          "source": "Session.java:778"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.receiveTargetFile",
          "source": "UpdatedHandler.java:100"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.client.UpdatedHandler.handle",
          "source": "UpdatedHandler.java:90"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.client.Request.executeRequest",
          "source": "Request.java:232"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.client.Command.doExecute",
          "source": "Command.java:421"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.client.Checkout.doExecute",
          "source": "Checkout.java:168"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.client.CheckoutWithOverwrite.doExecute",
          "source": "CheckoutWithOverwrite.java:52"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.client.Command$1.run",
          "source": "Command.java:337"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run",
          "source": "EclipseSynchronizer.java:1405"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseResource$2.run",
          "source": "EclipseResource.java:268"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1673"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseResource.run",
          "source": "EclipseResource.java:265"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.client.Command.execute",
          "source": "Command.java:349"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.performCheckout",
          "source": "CheckoutProjectOperation.java:245"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation$1.run",
          "source": "CheckoutProjectOperation.java:151"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.run",
          "source": "EclipseSynchronizer.java:1405"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.operations.CheckoutProjectOperation.checkout",
          "source": "CheckoutProjectOperation.java:149"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.operations.CheckoutMultipleProjectsOperation.checkout",
          "source": "CheckoutMultipleProjectsOperation.java:50"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.operations.CheckoutOperation.checkout",
          "source": "CheckoutOperation.java:46"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.operations.CheckoutOperation.execute",
          "source": "CheckoutOperation.java:31"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.operations.CVSOperation.run",
          "source": "CVSOperation.java:84"
        },
        {
          "method": "org.eclipse.team.internal.ui.actions.JobRunnableContext.run",
          "source": "JobRunnableContext.java:159"
        },
        {
          "method": "org.eclipse.team.internal.ui.actions.JobRunnableContext$3.runInWorkspace",
          "source": "JobRunnableContext.java:179"
        },
        {
          "method": "org.eclipse.core.internal.resources.InternalWorkspaceJob.run",
          "source": "InternalWorkspaceJob.java:38"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:66"
        }
      ],
      "number": 1,
      "commentIndex": 19,
      "bugId": "62907",
      "date": "2004-06-07T18:11:32+02:00",
      "product": "PDE",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "62907",
  "bugId": "62907",
  "date": "2004-05-19T15:52:55+02:00",
  "product": "PDE",
  "component": "UI",
  "severity": "major"
}