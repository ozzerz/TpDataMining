{
  "comments": [
    "Description:\nSet Optional Y Series Grouping on one column, and set total.sum() on the Y Series, errors pop up when preview in designer.\n\nSteps to reproduce:\n1.Create sample data source, and create data set with sql statement \"select *\nfrom CLASSICMODELS.CUSTOMERS\".\n2.Create a line chart in the layout, in the \"Optional Y Series Grouping\" edit with \"row[\"STATE\"]\", bind Y Series with \"Total.sum(row[\"CUSTOMERNUMBER\"],null,row[\"STATE\"])\", and bind X Series with \"row[\"STATE\"]\".\n3.Preview in designer, error pop up.\n\nError log:\nThere are errors on the report page: \n-There are error(s) in Chart : 8 \nError0 : data.engine.InvalidJSExpr ( 202 time(s) )\ndetail : org.eclipse.birt.data.engine.core.DataException: Invalid Javascript expression: Total.sum(row[\"CUSTOMERNUMBER\"],null,\u0027row[\"STATE\"]\u0027)Invalid group level: SUM at org.eclipse.birt.data.engine.expression.ExpressionCompiler.compile(ExpressionCompiler.java:95) at org.eclipse.birt.data.engine.impl.PreparedQuery.prepareExpression(PreparedQuery.java:220) at org.eclipse.birt.data.engine.impl.PreparedQuery.prepareExpressions(PreparedQuery.java:200) at org.eclipse.birt.data.engine.impl.PreparedQuery.prepareGroup(PreparedQuery.java:164) at org.eclipse.birt.data.engine.impl.PreparedQuery.prepare(PreparedQuery.java:143) at org.eclipse.birt.data.engine.impl.PreparedQuery.\u003cinit\u003e(PreparedQuery.java:95) at org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.\u003cinit\u003e(PreparedDataSourceQuery.java:121) at org.eclipse.birt.data.engine.impl.PreparedOdaDSQuery.\u003cinit\u003e(PreparedOdaDSQuery.java:66) at org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.newInstance(PreparedDataSourceQuery.java:79) at org.eclipse.birt.data.engine.impl.DataEngineImpl.prepare(DataEngineImpl.java:387) at org.eclipse.birt.report.engine.data.dte.DteDataEngine.prepare(DteDataEngine.java:171) at org.eclipse.birt.report.engine.executor.ReportExecutor.execute(ReportExecutor.java:107) at org.eclipse.birt.report.engine.executor.ReportExecutor.execute(ReportExecutor.java:89) at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run(RunAndRenderTask.java:175) at org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport(Unknown Source) at org.eclipse.birt.report.presentation.aggregation.layout.EngineFragment.doService(Unknown Source) at org.eclipse.birt.report.presentation.aggregation.BaseFragment.service(Unknown Source) at org.eclipse.birt.report.servlet.ViewerServlet.doGet(Unknown Source) at javax.servlet.http.HttpServlet.service(HttpServlet.java:740)",
    "Created an attachment (id\u003d36596)\ndesign file\n\n",
    "The grouping mentioned in bug description has not been put into query definition so that DtE cannot handle it. Is the \"grouping\" here in chart has same meaning with which is defined in Data?  Reassign to chart team for more investigation.",
    "The Y Series grouping doesn\u0027t do any aggregation. I think the grouping \nterminology here might be confusing, because it\u0027s only grouping the data \nvisually, although the data itself is never aggregated.\n\nFor instance you have a chart that shows the population by city, and you do a Y \nseries grouping by year. What happens is that for each city it will show \nseveral bars (as many as years), and those bars are grouped together. Each bar \nwill show the population for this city and the given year. No aggregation \nhappened. If you didn\u0027t group by year, you would see several bars for each \ncity, but not really grouped together, making the chart hard to read, although \nthe bars would be of the same height, simply not grouped in y series.\n\nSo I cancel the bug as invalid, there is another bug to remove total.sum from \nthe expression builder inside the chart builder.",
    "Cancel."
  ],
  "commentCreationDates": [
    "2006-03-20T10:00:06+01:00",
    "2006-03-20T10:00:36+01:00",
    "2006-03-23T08:16:38+01:00",
    "2006-03-23T16:21:39+01:00",
    "2006-03-31T07:33:31+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.birt.data.engine.core.DataException",
      "message": "Invalid Javascript expression: Total.sum(row[\"CUSTOMERNUMBER\"],null,\u0027row[\"STATE\"]\u0027)Invalid group level: SUM",
      "elements": [
        {
          "method": "org.eclipse.birt.data.engine.expression.ExpressionCompiler.compile",
          "source": "ExpressionCompiler.java:95"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedQuery.prepareExpression",
          "source": "PreparedQuery.java:220"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedQuery.prepareExpressions",
          "source": "PreparedQuery.java:200"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedQuery.prepareGroup",
          "source": "PreparedQuery.java:164"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedQuery.prepare",
          "source": "PreparedQuery.java:143"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedQuery.\u003cinit\u003e",
          "source": "PreparedQuery.java:95"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.\u003cinit\u003e",
          "source": "PreparedDataSourceQuery.java:121"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedOdaDSQuery.\u003cinit\u003e",
          "source": "PreparedOdaDSQuery.java:66"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.newInstance",
          "source": "PreparedDataSourceQuery.java:79"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.DataEngineImpl.prepare",
          "source": "DataEngineImpl.java:387"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.DteDataEngine.prepare",
          "source": "DteDataEngine.java:171"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutor.execute",
          "source": "ReportExecutor.java:107"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutor.execute",
          "source": "ReportExecutor.java:89"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run",
          "source": "RunAndRenderTask.java:175"
        },
        {
          "method": "org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.presentation.aggregation.layout.EngineFragment.doService",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.presentation.aggregation.BaseFragment.service",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.servlet.ViewerServlet.doGet",
          "source": "Unknown Source"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:740"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "132522",
      "date": "2006-03-20T10:00:06+01:00",
      "product": "BIRT",
      "component": "Chart",
      "severity": "major"
    }
  ],
  "groupId": "132522",
  "bugId": "132522",
  "date": "2006-03-20T10:00:06+01:00",
  "product": "BIRT",
  "component": "Chart",
  "severity": "major"
}