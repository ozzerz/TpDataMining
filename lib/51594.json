{
  "comments": [
    "I200402101600\n\nTest case:\n- open TestCase\n- add method:\n/**\n * The following is a Java snipet.\n * \n * \u003cpre\u003e\n *  while ((size \u003d availableSize(stream, size)) \u003e 0) {\n *      System.out.println(\"available\");\n * }\n * \u003c/pre\u003e\n */\n    public void test() {        \n    }\n- view test() in segemented mode\n- select comment lines from \u003cpre\u003e to \u003c/pre\u003e (including)\n- format, undo, format, undo...\n-\u003e the exception is usually thrown during the first or second format\n\nException from .log, including the first of four similar follow-up exceptions:\n\n!SESSION Feb 11, 2004 10:03:41.957 ---------------------------------------------\njava.version\u003d1.4.2\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_US\nCommand-line arguments: -data c:\\local\\eclipse\\workspace\\testing\n!ENTRY org.eclipse.ui 4 4 Feb 11, 2004 10:03:41.957\n!MESSAGE Action for command \u0027org.eclipse.jdt.ui.edit.text.java.format\u0027 failed to\nexecute properly.\n!ENTRY org.eclipse.ui 4 0 Feb 11, 2004 10:03:41.967\n!MESSAGE Action for command \u0027org.eclipse.jdt.ui.edit.text.java.format\u0027 failed to\nexecute properly.\n!STACK 0\njava.lang.IllegalArgumentException: assertion failed; \n\tat org.eclipse.jface.text.Assert.isLegal(Assert.java:94)\n\tat org.eclipse.jface.text.Assert.isLegal(Assert.java:77)\n\tat\norg.eclipse.jface.text.ChildDocument.parentDocumentChanged(ChildDocument.java:317)\n\tat\norg.eclipse.jface.text.ChildDocumentManager.fireDocumentEvent(ChildDocumentManager.java:435)\n\tat\norg.eclipse.jface.text.ChildDocumentManager.documentChanged(ChildDocumentManager.java:447)\n\tat\norg.eclipse.jface.text.AbstractDocument.doFireDocumentChanged2(AbstractDocument.java:673)\n\tat\norg.eclipse.jface.text.AbstractDocument.doFireDocumentChanged(AbstractDocument.java:638)\n\tat\norg.eclipse.jface.text.AbstractDocument.doFireDocumentChanged(AbstractDocument.java:623)\n\tat\norg.eclipse.jface.text.AbstractDocument.fireDocumentChanged(AbstractDocument.java:698)\n\tat org.eclipse.jface.text.AbstractDocument.set(AbstractDocument.java:1003)\n\tat\norg.eclipse.jdt.internal.ui.javaeditor.PartiallySynchronizedDocument.set(PartiallySynchronizedDocument.java:68)\n\tat org.eclipse.jface.text.source.SourceViewer.doOperation(SourceViewer.java:689)\n\tat\norg.eclipse.jdt.internal.ui.javaeditor.JavaSourceViewer.doOperation(JavaSourceViewer.java:124)\n\tat\norg.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor$AdaptedSourceViewer.doOperation(CompilationUnitEditor.java:186)\n\tat\norg.eclipse.ui.texteditor.TextOperationAction$1.run(TextOperationAction.java:122)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)\n\tat org.eclipse.ui.texteditor.TextOperationAction.run(TextOperationAction.java:120)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:881)\n\tat org.eclipse.ui.internal.commands.ActionHandler.execute(ActionHandler.java:40)\n\tat\norg.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:427)\n\tat org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:815)\n\tat\norg.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:856)\n\tat\norg.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:526)\n\tat\norg.eclipse.ui.internal.keys.WorkbenchKeyboard.access$2(WorkbenchKeyboard.java:458)\n\tat\norg.eclipse.ui.internal.keys.WorkbenchKeyboard$1.handleEvent(WorkbenchKeyboard.java:241)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Display.filterEvent(Display.java:699)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:832)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:857)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)\n\tat org.eclipse.swt.widgets.Control.sendKeyEvent(Control.java:1716)\n\tat org.eclipse.swt.widgets.Control.sendKeyEvent(Control.java:1712)\n\tat org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3037)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:2940)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:2873)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1371)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2027)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1550)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1526)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:265)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:47)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:245)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:104)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:279)\n\tat org.eclipse.core.launcher.Main.run(Main.java:742)\n\tat org.eclipse.core.launcher.Main.main(Main.java:581)\n!ENTRY org.eclipse.ui 4 4 Feb 11, 2004 10:03:41.977\n!MESSAGE Unhandled event loop exception\n!ENTRY org.eclipse.ui 4 0 Feb 11, 2004 10:03:41.987\n!MESSAGE 11\n!STACK 0\njava.lang.ArrayIndexOutOfBoundsException: 11\n\tat\norg.eclipse.swt.custom.DefaultLineStyler.lineGetBackground(DefaultLineStyler.java:263)\n\tat\norg.eclipse.swt.custom.StyledTextListener.handleEvent(StyledTextListener.java:37)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:833)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:857)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:650)\n\tat org.eclipse.swt.custom.StyledText.sendLineEvent(StyledText.java:3949)\n\tat org.eclipse.swt.custom.StyledText.getLineBackgroundData(StyledText.java:3843)\n\tat\norg.eclipse.swt.custom.DisplayRenderer.getLineBackgroundData(DisplayRenderer.java:179)\n\tat org.eclipse.swt.custom.StyledTextRenderer.drawLine(StyledTextRenderer.java:120)\n\tat org.eclipse.swt.custom.StyledText.performPaint(StyledText.java:6090)\n\tat org.eclipse.swt.custom.StyledText.handlePaint(StyledText.java:5396)\n\tat org.eclipse.swt.custom.StyledText$7.handleEvent(StyledText.java:5071)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:833)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:857)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)\n\tat org.eclipse.swt.widgets.Composite.WM_PAINT(Composite.java:780)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:2990)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:2873)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1371)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2027)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1550)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1526)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:265)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:47)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:245)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:104)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:279)\n\tat org.eclipse.core.launcher.Main.run(Main.java:742)\n\tat org.eclipse.core.launcher.Main.main(Main.java:581)",
    "Need to investigate cases where getLength() \u003c fRememberedLength in\nChildDocument#getLength(). The event is then patched to an invalid length.\n",
    "*** Bug 54700 has been marked as a duplicate of this bug. ***",
    "*** Bug 54633 has been marked as a duplicate of this bug. ***",
    "Fixed.\nAvailable in builds \u003e\u003d N20040317 and \u003e\u003d I20040323\n",
    "start verifying for m8 ...",
    "verified. (no exception but the source can get corrupted see bug 55962)"
  ],
  "commentCreationDates": [
    "2004-02-11T09:22:44+01:00",
    "2004-03-08T16:45:00+01:00",
    "2004-03-15T10:11:08+01:00",
    "2004-03-15T16:44:36+01:00",
    "2004-03-18T11:18:05+01:00",
    "2004-03-24T17:55:11+01:00",
    "2004-03-24T18:15:16+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "assertion failed;",
      "elements": [
        {
          "method": "org.eclipse.jface.text.Assert.isLegal",
          "source": "Assert.java:94"
        },
        {
          "method": "org.eclipse.jface.text.Assert.isLegal",
          "source": "Assert.java:77"
        },
        {
          "method": "org.eclipse.jface.text.ChildDocument.parentDocumentChanged",
          "source": "ChildDocument.java:317"
        },
        {
          "method": "org.eclipse.jface.text.ChildDocumentManager.fireDocumentEvent",
          "source": "ChildDocumentManager.java:435"
        },
        {
          "method": "org.eclipse.jface.text.ChildDocumentManager.documentChanged",
          "source": "ChildDocumentManager.java:447"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.doFireDocumentChanged2",
          "source": "AbstractDocument.java:673"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.doFireDocumentChanged",
          "source": "AbstractDocument.java:638"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.doFireDocumentChanged",
          "source": "AbstractDocument.java:623"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.fireDocumentChanged",
          "source": "AbstractDocument.java:698"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.set",
          "source": "AbstractDocument.java:1003"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.PartiallySynchronizedDocument.set",
          "source": "PartiallySynchronizedDocument.java:68"
        },
        {
          "method": "org.eclipse.jface.text.source.SourceViewer.doOperation",
          "source": "SourceViewer.java:689"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.JavaSourceViewer.doOperation",
          "source": "JavaSourceViewer.java:124"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor$AdaptedSourceViewer.doOperation",
          "source": "CompilationUnitEditor.java:186"
        },
        {
          "method": "org.eclipse.ui.texteditor.TextOperationAction$1.run",
          "source": "TextOperationAction.java:122"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:84"
        },
        {
          "method": "org.eclipse.ui.texteditor.TextOperationAction.run",
          "source": "TextOperationAction.java:120"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:881"
        },
        {
          "method": "org.eclipse.ui.internal.commands.ActionHandler.execute",
          "source": "ActionHandler.java:40"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand",
          "source": "WorkbenchKeyboard.java:427"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.press",
          "source": "WorkbenchKeyboard.java:815"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent",
          "source": "WorkbenchKeyboard.java:856"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings",
          "source": "WorkbenchKeyboard.java:526"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$2",
          "source": "WorkbenchKeyboard.java:458"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard$1.handleEvent",
          "source": "WorkbenchKeyboard.java:241"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.filterEvent",
          "source": "Display.java:699"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:832"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:857"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:842"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.sendKeyEvent",
          "source": "Control.java:1716"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.sendKeyEvent",
          "source": "Control.java:1712"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.WM_CHAR",
          "source": "Control.java:3037"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:2940"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:2873"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessageW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessage",
          "source": "OS.java:1371"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2027"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1550"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1526"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:265"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:139"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:47"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:245"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:104"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:279"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:742"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:581"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "51594",
      "date": "2004-02-11T09:22:44+01:00",
      "product": "JDT",
      "component": "Text",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "11",
      "elements": [
        {
          "method": "org.eclipse.swt.custom.DefaultLineStyler.lineGetBackground",
          "source": "DefaultLineStyler.java:263"
        },
        {
          "method": "org.eclipse.swt.custom.StyledTextListener.handleEvent",
          "source": "StyledTextListener.java:37"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:833"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:857"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:842"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:650"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.sendLineEvent",
          "source": "StyledText.java:3949"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.getLineBackgroundData",
          "source": "StyledText.java:3843"
        },
        {
          "method": "org.eclipse.swt.custom.DisplayRenderer.getLineBackgroundData",
          "source": "DisplayRenderer.java:179"
        },
        {
          "method": "org.eclipse.swt.custom.StyledTextRenderer.drawLine",
          "source": "StyledTextRenderer.java:120"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.performPaint",
          "source": "StyledText.java:6090"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.handlePaint",
          "source": "StyledText.java:5396"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText$7.handleEvent",
          "source": "StyledText.java:5071"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:833"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:857"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:842"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.WM_PAINT",
          "source": "Composite.java:780"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:2990"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:2873"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessageW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessage",
          "source": "OS.java:1371"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2027"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1550"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1526"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:265"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:139"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:47"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:245"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:104"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:279"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:742"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:581"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "51594",
      "date": "2004-02-11T09:22:44+01:00",
      "product": "JDT",
      "component": "Text",
      "severity": "major"
    }
  ],
  "groupId": "51594",
  "bugId": "51594",
  "date": "2004-02-11T09:22:44+01:00",
  "product": "JDT",
  "component": "Text",
  "severity": "major"
}