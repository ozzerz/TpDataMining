{
  "comments": [
    "build 2002-03-07 on Win98.\n\n- I have my perspective set up so I have 2 editors side-by-side all the time\n- I was using ctrl-f6 and ctrl-f7 to switch between editors and views\n- then I got into a weird state where the title on the left-hand editor tab was \nIResourceTree.java, but the editor had no contents (was grey) and there was \nalso an editor on the right-hand side which was open to IResourceTree.java and \nwas in the correct state.\n- Thought this was weird and clicked on the X to close the bad editor on the \nleft, and got a message saying that an exception occurred and prompting me to \nexit the workspace.\n- stack trace to follow as attachment",
    "Created an attachment (id\u003d456)\nstack trace from log file\n",
    "Created an attachment (id\u003d457)\nstack trace from log file\n",
    "Got the same exception today with the same stack trace. But didn\u0027t seem to have \nmultiple editors open on the same file, like I did before.\n\nAll I did was try and close an editor via the X in the corner.\n\nNote that I still dock editors side-by-side so I can look at 2 at once.",
    "Created an attachment (id\u003d460)\nstack trace\n",
    "DJ managed to get it again with one editor open on a .java file and one on \na .class file.\n\nHere is the code that causes this problem. Beyond that I am unsure how it \nhappens.\n\n\t// listener to switch between visible tabItems\n\ttabFolder.addSelectionListener(new SelectionAdapter() {\n\t\tpublic void widgetSelected(SelectionEvent e) {\n\t\t\tif (handleTabSelection) {\n\t\t\t\tEditorPane pane \u003d (EditorPane) \nmapTabToEditor.get(e.item);\n\t\t\t\t// Pane can be null when tab is just created \nbut not map yet.\n\t\t\t\tif (pane !\u003d null) {\n\t\t\t\t\tsetVisibleEditor(pane);\n\t\t\t\t\tif (assignFocusOnSelection) {\n\t\t\t\t\t\t// If we get a tab focus hide \nrequest, it\u0027s from\n\t\t\t\t\t\t// the previous editor in this \nworkbook which had focus.\n\t\t\t\t\t\t// Therefore ignore it to avoid \npaint flicker\n\t\t\t\t\t\tignoreTabFocusHide \u003d true;\n\t\t\t\t\t\tpane.setFocus();\n\t\t\t\t\t\tignoreTabFocusHide \u003d false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n",
    "Fixed in build \u003e20020312. This was due to the widgets being disposed before the \neditor was removed from the list - as a result it was possible to select an \neditor and generate a widget event in between the time of deletion of the \ncontrol and the removal of the editor from the list.\n\nRemoval code has been changed to do the removal before the dispose and the \nsetVisibleEditor method now checks for detroyed controls/",
    "TC to verify that the visible editor is being cleared out when the editor is \nremoved.",
    "I got this again in build 2002-03-14 on Win98.\n\njava.lang.NullPointerException\n\tat org.eclipse.ui.internal.EditorWorkbook.setVisibleEditor\n(EditorWorkbook.java:758)\n\tat org.eclipse.ui.internal.EditorWorkbook$2.widgetSelected\n(EditorWorkbook.java:133)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java(Compiled \nCode))\n\tat org.eclipse.swt.custom.CTabFolder.setSelection(CTabFolder.java:1569)\n\tat org.eclipse.swt.custom.CTabFolder.onMouseDown(CTabFolder.java:1686)\n\tat org.eclipse.swt.custom.CTabFolder$1.handleEvent(CTabFolder.java\n(Compiled Code))\n\tat org.eclipse.swt.custom.CTabFolder$1.handleEvent(CTabFolder.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java\n(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java\n(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:675)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:777)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:319)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:151)\n\tat org.eclipse.core.launcher.Main.run(Main.java:502)\n\tat org.eclipse.core.launcher.Main.main(Main.java:362)\n",
    "The fix was not applied until build 2002-03-18.",
    "dispose() was also not clearing the visibleEditor. Added in code to clear the \nvisible editor on a dispose. I will leave this open pending confirmation from \nDJH.",
    "Closing PR.",
    "Marking closed"
  ],
  "commentCreationDates": [
    "2002-03-09T20:37:09+01:00",
    "2002-03-09T20:37:56+01:00",
    "2002-03-09T20:38:06+01:00",
    "2002-03-10T15:49:27+01:00",
    "2002-03-10T15:50:06+01:00",
    "2002-03-12T20:39:38+01:00",
    "2002-03-12T21:38:30+01:00",
    "2002-03-12T22:05:18+01:00",
    "2002-03-20T22:15:28+01:00",
    "2002-03-21T13:23:16+01:00",
    "2002-03-21T13:45:55+01:00",
    "2002-04-01T17:18:05+02:00",
    "2005-05-10T20:56:25+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.internal.EditorWorkbook.setVisibleEditor",
          "source": "EditorWorkbook.java:758"
        },
        {
          "method": "org.eclipse.ui.internal.EditorWorkbook$2.widgetSelected",
          "source": "EditorWorkbook.java:133"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.custom.CTabFolder.setSelection",
          "source": "CTabFolder.java:1569"
        },
        {
          "method": "org.eclipse.swt.custom.CTabFolder.onMouseDown",
          "source": "CTabFolder.java:1686"
        },
        {
          "method": "org.eclipse.swt.custom.CTabFolder$1.handleEvent",
          "source": "CTabFolder.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.custom.CTabFolder$1.handleEvent",
          "source": "CTabFolder.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:675"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:777"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:319"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:151"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:502"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:362"
        }
      ],
      "number": 0,
      "commentIndex": 8,
      "bugId": "11073",
      "date": "2002-03-20T22:15:28+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "11073",
  "bugId": "11073",
  "date": "2002-03-09T20:37:09+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}