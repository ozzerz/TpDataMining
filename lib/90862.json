{
  "comments": [
    "Having upgraded from 3.1M5 to 3.1M6, I notice I cannot use the tools to create\nnew java classes or interfaces. For example, in Package Explorer, if I\nright-click a package, select New and then Class or Interface, nothing happens\nat all. There is no dialog window to create the class, and no visual feedback at\nall (and most importantly, no new class or interface). The same applies for\nusing Quick-Fix to create the class or interface.\n\nLooking at the log file, for each time I try to make a new class/interface, this\nappears:\n\n!ENTRY org.eclipse.ui 4 4 2005-04-08 22:25:12.545\n!MESSAGE Unhandled event loop exception\n\n!ENTRY org.eclipse.ui 4 0 2005-04-08 22:25:12.546\n!MESSAGE org/eclipse/swt/widgets/Control\n!STACK 0\njava.lang.NoClassDefFoundError: org/eclipse/swt/widgets/Control\n\tat\norg.eclipse.jdt.ui.wizards.NewTypeWizardPage.createCommentControls(NewTypeWizardPage.java:693)\n\tat\norg.eclipse.jdt.ui.wizards.NewClassWizardPage.createControl(NewClassWizardPage.java:166)\n\tat org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:179)\n\tat org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:611)\n\tat org.eclipse.jface.wizard.WizardDialog.createContents(WizardDialog.java:502)\n\tat org.eclipse.jface.window.Window.create(Window.java:418)\n\tat org.eclipse.jface.dialogs.Dialog.create(Dialog.java:996)\n\tat\norg.eclipse.ui.internal.actions.NewWizardShortcutAction.run(NewWizardShortcutAction.java:99)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:996)\n\tat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)\n\tat\norg.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\n\tat\norg.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1012)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2778)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2472)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1570)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1534)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:306)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:156)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:315)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:268)\n\tat org.eclipse.core.launcher.Main.run(Main.java:942)\n\tat org.eclipse.core.launcher.Main.main(Main.java:926)\n\nI\u0027m using SUN j2sdk 1.5 on an Athlon XP under Arch Linux. Eclipse has been\nstarted with the usual /opt/eclipse/eclipse which I use.",
    "That stack trace came out a little garbled. For nicer formatting, you can look\nat http://www.ii.uib.no/~haakon/tmp/log .",
    "This seems very similar to my problems in bug 90132.",
    "(In reply to comment #2)\n\u003e This seems very similar to my problems in bug 90132.\n\nFor the record, I can also reproduce bug 90132 (at least as described in its\nmessage #0).",
    "When running the same eclipse installation from a fresh user on my system, I\ncannot reproduce this. Classes and interfaces can be created as usual.\n\nI installed M6 by unpacking eclipse-SDK-3.1M6-linux-gtk.tar.gz and running the\neclipse script within.\n\nIt may be relevant to mention that on my main user, I start M6 with the same\nworkspace directory as I used with M5, and on the same project. I\u0027d like to try\nwith a fresh project on my main user\u0027s eclipse (which can reproduce the bug),\nbut the dialog for creating projects doesn\u0027t work either -- it logs this after\nhaving selected a Java project:\n\n!ENTRY org.eclipse.ui 4 4 2005-04-08 23:10:26.96\n!MESSAGE Unhandled event loop exception\n\n!ENTRY org.eclipse.ui 4 0 2005-04-08 23:10:26.96\n!MESSAGE org/eclipse/swt/widgets/Composite\n!STACK 0\njava.lang.NoClassDefFoundError: org/eclipse/swt/widgets/Composite\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(Unknown Source)\n        at\norg.eclipse.osgi.framework.internal.defaultadaptor.DefaultClassLoader.defineClass(DefaultClassLoader.java:303)\n        at\norg.eclipse.core.runtime.adaptor.EclipseClassLoader.defineClass(EclipseClassLoader.java:223)\n        at\norg.eclipse.osgi.framework.internal.defaultadaptor.DefaultClassLoader.findClassImpl(DefaultClassLoader.java:286)\n        at\norg.eclipse.osgi.framework.internal.defaultadaptor.DefaultClassLoader.findClass(DefaultClassLoader.java:178)\n        at\norg.eclipse.osgi.framework.adaptor.core.AbstractClassLoader.findLocalClass(AbstractClassLoader.java:179)\n        at\norg.eclipse.core.runtime.adaptor.EclipseClassLoader.basicFindLocalClass(EclipseClassLoader.java:135)\n        at\norg.eclipse.core.runtime.adaptor.EclipseClassLoader.findLocalClass(EclipseClassLoader.java:60)\n        at\norg.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass(BundleLoader.java:313)\n        at\norg.eclipse.osgi.framework.internal.core.SingleSourcePackage.loadClass(SingleSourcePackage.java:37)\n        at\norg.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:356)\n        at\norg.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:326)\n        at\norg.eclipse.osgi.framework.adaptor.core.AbstractClassLoader.loadClass(AbstractClassLoader.java:74)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClassInternal(Unknown Source)\n        at\norg.eclipse.jdt.internal.ui.wizards.buildpaths.BuildPathsBlock.createControl(BuildPathsBlock.java:209)\n        at\norg.eclipse.jdt.ui.wizards.JavaCapabilityConfigurationPage.createControl(JavaCapabilityConfigurationPage.java:130)\n        at org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:179)\n        at\norg.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:611)\n        at org.eclipse.jface.wizard.WizardDialog.setWizard(WizardDialog.java:965)\n        at\norg.eclipse.jface.wizard.WizardDialog.updateForPage(WizardDialog.java:1016)\n        at org.eclipse.jface.wizard.WizardDialog.access$2(WizardDialog.java:1013)\n        at org.eclipse.jface.wizard.WizardDialog$4.run(WizardDialog.java:1003)\n        at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n        at org.eclipse.jface.wizard.WizardDialog.showPage(WizardDialog.java:1001)\n        at org.eclipse.jface.wizard.WizardDialog.nextPressed(WizardDialog.java:753)\n        at\norg.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:345)\n        at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556)\n        at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1012)\n        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2778)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2472)\n        at org.eclipse.jface.window.Window.runEventLoop(Window.java:803)\n        at org.eclipse.jface.window.Window.open(Window.java:781)\n        (truncate here, let me know if you want the whole shebang)\n\nI tried restarting eclipse with a new workspace directory, but the bug still\napplies.\n\nLet me know if there\u0027s any further info I can provide.\n",
    "Three questions:\n1) Did the problem occured in your development environment or while selfhosting like in bug 90132?\n2) When the problem happened for how has your eclipse been running?\n3) Could you verify that the jars in the working install and the other have the same size?\n\nPlease keep your workspace preciously!",
    "Pascal, it seems the user-private configuration area is the important data, since:\n- he cannot reproduce the problem when running as a different user\n- he can reproduce the problem with a different workspace ",
    "*** Bug 90132 has been marked as a duplicate of this bug. ***",
    "Created an attachment (id\u003d21297)\nZip of config area for my target workspace\n\nI saw this, getting a NoClassDefFoundError for\norg.eclipse.swt.widgets.Composite when trying to create a new Java project (ref\nfrom org.eclipse.ui.forms).\n",
    "For record some steps to reproduce the problem:\n- load org.eclipse.ui in your workspace\n- create a new launch configuration, run, then shutdown\n- touch the manifest.mf file of org.eclipse.ui\n- try to open the new java project wizard\n\n\nThere are two problems here:\n- The prereqs of org.eclipse.ui.forms are incorrect. ui forms can not optionaly\nrequire UI, since if UI is not here, forms can\u0027t get access to SWT.\n- When the system is running, the fwk uses a least perturbation resolution\nalgorithm which causes forms to not be rebound to UI because of the previous\noptional requirement (more details about that have been captured in bug #95681).\n\nMoving to ui.forms to fix the bogus prereq. ",
    "I assume the correct dependencies for org.eclipse.ui.forms are:\n- hard dependency on org.eclipse.swt and org.eclipse.core.runtime\n- optional dependency on org.eclipse.ui\n\nDejan, does forms have any dependency on JFace?\n\nSo with this fixed up, it sounds like the problem could still occur.\n",
    "Actually, I\u0027m not even sure there\u0027s a hard dependency on org.eclipse.core.runtime.\nA while back I saw somebody do an \"SWT\" library for Groovy containing the\nenhanced widgets from org.eclipse.ui.forms too.\n",
    "I have corrected the dependency list:\n\norg.eclipse.core.runtime - hard\norg.eclipse.jface - hard\norg.eclipse.ui - optional\n\nRuntime and JFace dependencies are hard - too many things used from JFace to \ntry to replace in 3.1. UI is only needed for the multi-page form editor \nportion, so a plug-in that does not need them could get by using SWT and JFace \nonly.\n\nMoving back to runtime - the other problem looks like a similar I opened \nrecently (I could not find Layout but SWT was also involved).",
    "The runtime problem has been captured in bug 95681.\nClosing on behalf of Dejan."
  ],
  "commentCreationDates": [
    "2005-04-08T22:43:27+02:00",
    "2005-04-08T22:45:57+02:00",
    "2005-04-08T22:46:59+02:00",
    "2005-04-08T22:56:43+02:00",
    "2005-04-08T23:18:22+02:00",
    "2005-04-09T14:35:00+02:00",
    "2005-04-09T17:07:50+02:00",
    "2005-05-07T06:31:40+02:00",
    "2005-05-17T22:51:49+02:00",
    "2005-05-18T15:22:40+02:00",
    "2005-05-18T15:39:46+02:00",
    "2005-05-18T15:41:15+02:00",
    "2005-05-18T18:03:57+02:00",
    "2005-05-18T21:09:19+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoClassDefFoundError",
      "message": "org/eclipse/swt/widgets/Control",
      "elements": [
        {
          "method": "org.eclipse.jdt.ui.wizards.NewTypeWizardPage.createCommentControls",
          "source": "NewTypeWizardPage.java:693"
        },
        {
          "method": "org.eclipse.jdt.ui.wizards.NewClassWizardPage.createControl",
          "source": "NewClassWizardPage.java:166"
        },
        {
          "method": "org.eclipse.jface.wizard.Wizard.createPageControls",
          "source": "Wizard.java:179"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.createPageControls",
          "source": "WizardDialog.java:611"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.createContents",
          "source": "WizardDialog.java:502"
        },
        {
          "method": "org.eclipse.jface.window.Window.create",
          "source": "Window.java:418"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog.create",
          "source": "Dialog.java:996"
        },
        {
          "method": "org.eclipse.ui.internal.actions.NewWizardShortcutAction.run",
          "source": "NewWizardShortcutAction.java:99"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:996"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:538"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1012"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2778"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2472"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1570"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1534"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:306"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:228"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:344"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:156"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:315"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:268"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:942"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:926"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "90862",
      "date": "2005-04-08T22:43:27+02:00",
      "product": "Platform",
      "component": "Runtime",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NoClassDefFoundError",
      "message": "org/eclipse/swt/widgets/Composite",
      "elements": [
        {
          "method": "java.lang.ClassLoader.defineClass1",
          "source": "Native Method"
        },
        {
          "method": "java.lang.ClassLoader.defineClass",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.defaultadaptor.DefaultClassLoader.defineClass",
          "source": "DefaultClassLoader.java:303"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseClassLoader.defineClass",
          "source": "EclipseClassLoader.java:223"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.defaultadaptor.DefaultClassLoader.findClassImpl",
          "source": "DefaultClassLoader.java:286"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.defaultadaptor.DefaultClassLoader.findClass",
          "source": "DefaultClassLoader.java:178"
        },
        {
          "method": "org.eclipse.osgi.framework.adaptor.core.AbstractClassLoader.findLocalClass",
          "source": "AbstractClassLoader.java:179"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseClassLoader.basicFindLocalClass",
          "source": "EclipseClassLoader.java:135"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseClassLoader.findLocalClass",
          "source": "EclipseClassLoader.java:60"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass",
          "source": "BundleLoader.java:313"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.SingleSourcePackage.loadClass",
          "source": "SingleSourcePackage.java:37"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClass",
          "source": "BundleLoader.java:356"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClass",
          "source": "BundleLoader.java:326"
        },
        {
          "method": "org.eclipse.osgi.framework.adaptor.core.AbstractClassLoader.loadClass",
          "source": "AbstractClassLoader.java:74"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.ClassLoader.loadClassInternal",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.wizards.buildpaths.BuildPathsBlock.createControl",
          "source": "BuildPathsBlock.java:209"
        },
        {
          "method": "org.eclipse.jdt.ui.wizards.JavaCapabilityConfigurationPage.createControl",
          "source": "JavaCapabilityConfigurationPage.java:130"
        },
        {
          "method": "org.eclipse.jface.wizard.Wizard.createPageControls",
          "source": "Wizard.java:179"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.createPageControls",
          "source": "WizardDialog.java:611"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.setWizard",
          "source": "WizardDialog.java:965"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.updateForPage",
          "source": "WizardDialog.java:1016"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.access$2",
          "source": "WizardDialog.java:1013"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog$4.run",
          "source": "WizardDialog.java:1003"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.showPage",
          "source": "WizardDialog.java:1001"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.nextPressed",
          "source": "WizardDialog.java:753"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.buttonPressed",
          "source": "WizardDialog.java:345"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$2.widgetSelected",
          "source": "Dialog.java:556"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:89"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1012"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2778"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2472"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:803"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:781"
        }
      ],
      "number": 1,
      "commentIndex": 4,
      "bugId": "90862",
      "date": "2005-04-08T23:18:22+02:00",
      "product": "Platform",
      "component": "Runtime",
      "severity": "normal"
    }
  ],
  "groupId": "90862",
  "bugId": "90862",
  "date": "2005-04-08T22:43:27+02:00",
  "product": "Platform",
  "component": "Runtime",
  "severity": "normal"
}