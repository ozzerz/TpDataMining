{
  "comments": [
    "From the mailing list (stephane.chomat@imag.fr):\n\nHi\nI have a null pointeur exception at\norg.aspectj.weaver.ReferenceType.makeDeclaredSignature. The\nreferenceType has no genericType and no typeParameters.\n\nI attached a eclipse project eclipses which shows the problem with\napectj. The problem comes that there is a generic interface  and a non\ngeneric interface.\n\nThis sample pattern is :\n\ninterface I {\n}\n\ninterface IE1\u003cT\u003e {\n\n}\n\ninterface IE2 {\n\n}\n\naspect A1 {\n       declare parents : I implements  IE1\u003cString\u003e;\n}\n\naspect A2 {\n       declare parents : I implements  IE2;\n}\n\nA first solution is to add a test to the beginning of method\ngetSignatureForAttribute before the call of makeDeclaredSignature.\n\n   public String getSignatureForAttribute() {\n       if (genericType \u003d\u003d null || typeParameters \u003d\u003d null)\n           return this.getSignature();\n       return makeDeclaredSignature(genericType,typeParameters);\n   }\n\nI think it resolve my problem.\nThanks.",
    "test and fixes checked in - waiting on build before closing.  \nTest also verifies signature is \"Ljava/lang/Object;LIE2;LIE1\u003cLjava/lang/String;\u003e;\"",
    "I think I have encountered the same issue around using Declare Parent (I posted\na bunch of messages to the user list).\n\nI encountered this problem with a 1.3.0 build of AJDT, but I had a new error\ndialog after updating to:\n\nVersion: 1.3.0\nBuild id: 20050928171145\nAspectJ version: 1.5.0.200509270946\n\nUsing:\n\nEclipse 3.1\nJava 5 (Jrockit for running eclipse - project JDK sun Java 5)\nUnder Linux (Suse 9)\n\nHere are the details of my null pointer exception:\n\njava.lang.NullPointerException\nat org.aspectj.weaver.ReferenceType.makeDeclaredSignature(ReferenceType.java:553)\nat org.aspectj.weaver.ReferenceType.getSignatureForAttribute(ReferenceType.java:99)\nat\norg.aspectj.weaver.bcel.LazyClassGen.fixupGenericSignatureAttribute(LazyClassGen.java:547)\nat org.aspectj.weaver.bcel.LazyClassGen.writeBack(LazyClassGen.java:478)\nat org.aspectj.weaver.bcel.LazyClassGen.getJavaClass(LazyClassGen.java:600)\nat org.aspectj.weaver.bcel.BcelWeaver.getClassFilesFor(BcelWeaver.java:1222)\nat org.aspectj.weaver.bcel.BcelWeaver.weaveAndNotify(BcelWeaver.java:1195)\nat org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:1030)\nat\norg.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave(AjCompilerAdapter.java:299)\nat\norg.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling(AjCompilerAdapter.java:178)\nat\norg.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$afterReturning$org_aspectj_ajdt_internal_compiler_CompilerAdapter$2$f9cc9ca0(CompilerAdapter.aj:70)\nat org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:367)\nat\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:760)\nat\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:225)\nat\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:151)\nat org.aspectj.ajde.internal.CompilerAdapter.compile(CompilerAdapter.java:120)\nat\norg.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run(AspectJBuildManager.java:191)\n\nNullPointerException thrown: null\n\n(In reply to comment #1)\n\u003e test and fixes checked in - waiting on build before closing.  \n\u003e Test also verifies signature is \"Ljava/lang/Object;LIE2;LIE1\u003cLjava/lang/String;\u003e;\"\n\n",
    "fix available in latest AJ dev build - will be in AJDT soon (monday?)"
  ],
  "commentCreationDates": [
    "2005-09-28T15:03:57+02:00",
    "2005-09-28T15:21:42+02:00",
    "2005-09-29T00:06:37+02:00",
    "2005-09-30T14:14:18+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.aspectj.weaver.ReferenceType.makeDeclaredSignature",
          "source": "ReferenceType.java:553"
        },
        {
          "method": "org.aspectj.weaver.ReferenceType.getSignatureForAttribute",
          "source": "ReferenceType.java:99"
        },
        {
          "method": "org.aspectj.weaver.bcel.LazyClassGen.fixupGenericSignatureAttribute",
          "source": "LazyClassGen.java:547"
        },
        {
          "method": "org.aspectj.weaver.bcel.LazyClassGen.writeBack",
          "source": "LazyClassGen.java:478"
        },
        {
          "method": "org.aspectj.weaver.bcel.LazyClassGen.getJavaClass",
          "source": "LazyClassGen.java:600"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.getClassFilesFor",
          "source": "BcelWeaver.java:1222"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveAndNotify",
          "source": "BcelWeaver.java:1195"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weave",
          "source": "BcelWeaver.java:1030"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave",
          "source": "AjCompilerAdapter.java:299"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling",
          "source": "AjCompilerAdapter.java:178"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$afterReturning$org_aspectj_ajdt_internal_compiler_CompilerAdapter$2$f9cc9ca0",
          "source": "CompilerAdapter.aj:70"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:367"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:760"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:225"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBuildManager.java:151"
        },
        {
          "method": "org.aspectj.ajde.internal.CompilerAdapter.compile",
          "source": "CompilerAdapter.java:120"
        },
        {
          "method": "org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run",
          "source": "AspectJBuildManager.java:191"
        }
      ],
      "number": 0,
      "commentIndex": 2,
      "bugId": "110927",
      "date": "2005-09-29T00:06:37+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "110927",
  "bugId": "110927",
  "date": "2005-09-28T15:03:57+02:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}