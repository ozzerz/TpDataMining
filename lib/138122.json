{
  "comments": [
    "1.5 RC1a\n\nIt looks like WTP needs to call validateEdit before changing the .classpath file. The file is read-only because it\u0027s under source control.\n\n*** ERROR ***: Sat Apr 22 18:19:16 EDT 2006    org.eclipse.wst.common.frameworks.internal.enablement.nonui.WFTWrappedException\n    Java Model Exception: Core Exception [code 279] File /edealInv/.classpath is read-only.\n    \tat org.eclipse.jdt.internal.core.JavaProject.saveClasspath(JavaProject.java:2800)\n    \tat org.eclipse.jdt.internal.core.SetClasspathOperation.saveClasspathIfNecessary(SetClasspathOperation.java:615)\n    \tat org.eclipse.jdt.internal.core.SetClasspathOperation.executeOperation(SetClasspathOperation.java:257)\n    \tat org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:720)\n    \tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1737)\n    \tat org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:784)\n    \tat org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:3011)\n    \tat org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:3027)\n    \tat org.eclipse.jst.j2ee.internal.common.operations.UpdateJavaBuildPathOperation.run(UpdateJavaBuildPathOperation.java:231)\n    \tat org.eclipse.wst.common.frameworks.internal.ui.RunnableWithProgressWrapper.run(RunnableWithProgressWrapper.java:67)\n    \tat org.eclipse.wst.common.frameworks.internal.ui.WorkspaceModifyComposedOperation.execute(WorkspaceModifyComposedOperation.java:73)\n    \tat org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:101)\n    \tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1737)\n    \tat org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:113)\n    \tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)\n    Caused by: org.eclipse.core.internal.resources.ResourceException: File /edealInv/.classpath is read-only.\n    \tat org.eclipse.core.internal.resources.Workspace.validateSave(Workspace.java:2044)\n    \tat org.eclipse.core.internal.resources.File.setContents(File.java:355)\n    \tat org.eclipse.jdt.internal.core.JavaProject.setSharedProperty(JavaProject.java:3069)\n    \tat org.eclipse.jdt.internal.core.JavaProject.saveClasspath(JavaProject.java:2797)\n    \tat org.eclipse.jdt.internal.core.SetClasspathOperation.saveClasspathIfNecessary(SetClasspathOperation.java:615)\n    \tat org.eclipse.jdt.internal.core.SetClasspathOperation.executeOperation(SetClasspathOperation.java:257)\n    \tat org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:720)\n    \tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1737)\n    \tat org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:784)\n    \tat org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:3011)\n    \tat org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:3027)\n    \tat org.eclipse.jst.j2ee.internal.common.operations.UpdateJavaBuildPathOperation.run(UpdateJavaBuildPathOperation.java:231)\n    \tat org.eclipse.wst.common.frameworks.internal.ui.RunnableWithProgressWrapper.run(RunnableWithProgressWrapper.java:67)\n    \tat org.eclipse.wst.common.frameworks.internal.ui.WorkspaceModifyComposedOperation.execute(WorkspaceModifyComposedOperation.java:73)\n    \tat org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:101)\n    \tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1737)\n    \tat org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:113)\n    \tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)",
    "Actually I was modifying the J2EE Module Dependencies. This exception was thrown for every Jar I added there.",
    "Can you provide exact steps for a reproducible scenario?\n\nRob, Neeraj, I did see a bunch of validate edit code in here surrounding the classpath, this may be just an overlooked case or it may be fixed.\n\nFYI - I am adding validate edit support to artifact edits and structure edits through https://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d125738",
    "The JDT is responsible for handling .classpath but it is calling validateEdit() in JavaProject.setSharedProperty(), which is called by JavaProject.saveClasspath(). Perhaps there is an issue with your SCM configuration?\n\n...\n// update the resource content\n\t\tif (rscFile.exists()) {\n\t\t\tif (rscFile.isReadOnly()) {\n\t\t\t\t// provide opportunity to checkout read-only .classpath file (23984)\n\t\t\t\tResourcesPlugin.getWorkspace().validateEdit(new IFile[]{rscFile}, null);\n\t\t\t}\n\t\t\trscFile.setContents(inputStream, IResource.FORCE, null);\n\t\t} else {\n\t\t\trscFile.create(inputStream, IResource.FORCE, null);\n\t\t}\n...",
    "Well, the project is managed in StarTeam but outside of Eclipse due to some problems with the Eclipse StarTeam integration. Thus, for Eclipse the file really is read-only. I\u0027ve opened a bug for JDT to allow editing in this case.",
    "This is part of a mass update to close out all stale WTP resolved bugs from the 1.0.x and 1.5.0 timeframe.  If you feel this bug was closed inappropriately, please reopen.\n\nThanks, John Lanuti"
  ],
  "commentCreationDates": [
    "2006-04-23T00:34:27+02:00",
    "2006-04-23T00:35:08+02:00",
    "2006-05-10T22:48:59+02:00",
    "2006-05-10T23:12:25+02:00",
    "2006-05-11T00:59:28+02:00",
    "2006-11-28T20:59:39+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.internal.resources.ResourceException",
      "message": "File /edealInv/.classpath is read-only.",
      "elements": [
        {
          "method": "org.eclipse.core.internal.resources.Workspace.validateSave",
          "source": "Workspace.java:2044"
        },
        {
          "method": "org.eclipse.core.internal.resources.File.setContents",
          "source": "File.java:355"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaProject.setSharedProperty",
          "source": "JavaProject.java:3069"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaProject.saveClasspath",
          "source": "JavaProject.java:2797"
        },
        {
          "method": "org.eclipse.jdt.internal.core.SetClasspathOperation.saveClasspathIfNecessary",
          "source": "SetClasspathOperation.java:615"
        },
        {
          "method": "org.eclipse.jdt.internal.core.SetClasspathOperation.executeOperation",
          "source": "SetClasspathOperation.java:257"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.run",
          "source": "JavaModelOperation.java:720"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1737"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.runOperation",
          "source": "JavaModelOperation.java:784"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaProject.setRawClasspath",
          "source": "JavaProject.java:3011"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaProject.setRawClasspath",
          "source": "JavaProject.java:3027"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.common.operations.UpdateJavaBuildPathOperation.run",
          "source": "UpdateJavaBuildPathOperation.java:231"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.ui.RunnableWithProgressWrapper.run",
          "source": "RunnableWithProgressWrapper.java:67"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.ui.WorkspaceModifyComposedOperation.execute",
          "source": "WorkspaceModifyComposedOperation.java:73"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation$1.run",
          "source": "WorkspaceModifyOperation.java:101"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1737"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation.run",
          "source": "WorkspaceModifyOperation.java:113"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:113"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "138122",
      "date": "2006-04-23T00:34:27+02:00",
      "product": "Web Tools",
      "component": "wst.common",
      "severity": "normal"
    }
  ],
  "groupId": "138122",
  "bugId": "138122",
  "date": "2006-04-23T00:34:27+02:00",
  "product": "Web Tools",
  "component": "wst.common",
  "severity": "normal"
}