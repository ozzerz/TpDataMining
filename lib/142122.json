{
  "comments": [
    "A client is editing a report design, adding a calculated column. The expression for the column is translated from BRD to Javascript using a BRD to JS translator. The BRD expression is:\n\nLOWER( [CITY] ) \n\nand the resulting JS expression is:\n\nBirtStr.toLower(row[\"CITY\"])\n\nA new column binding is created using the expression:\n\u003cstructure\u003e\n    \u003cproperty name\u003d\"name\"\u003eLOWERCITY\u003c/property\u003e\n    \u003cexpression name\u003d\"expression\"\u003eBirtStr.toLower(row[\"CITY\"])\u003c/expression\u003e\n    \u003cproperty name\u003d\"dataType\"\u003estring\u003c/property\u003e\n\u003c/structure\u003e\n\nWhen running the edited design, an exception is thrown (see bottom of this message).\n\nThe expression (BirtStr.toLower(row[\"CITY\"])) does not seem to be recognized by the DTE. I have tried other expressions containing computations, and they all throw the same exception.\n\nIf I try simple expressions that does not contain any computations (like row[\"CITY\"]), it works, i.e. no exception is thrown and the report runs and renders as expected.\n\nThe following exception is the exception thrown:\n\norg.mozilla.javascript.EvaluatorException: Can\u0027t find the column: LOWERCITY\n\tat org.eclipse.birt.report.engine.data.dte.NativeRowObject.get(NativeRowObject.java:88)\n\tat org.mozilla.javascript.ScriptableObject.getProperty(ScriptableObject.java:1263)\n\tat org.mozilla.javascript.ScriptRuntime.getObjectElem(ScriptRuntime.java:1301)\n\tat org.mozilla.javascript.ScriptRuntime.getObjectElem(ScriptRuntime.java:1283)\n\tat org.mozilla.javascript.gen.c56._c0(\u003cinline\u003e:1)\n\tat org.mozilla.javascript.gen.c56.call(\u003cinline\u003e)\n\tat org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:304)\n\tat org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:2769)\n\tat org.mozilla.javascript.gen.c56.call(\u003cinline\u003e)\n\tat org.mozilla.javascript.gen.c56.exec(\u003cinline\u003e)\n\tat org.eclipse.birt.core.script.ScriptContext.eval(ScriptContext.java:224)\n\tat org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate(ExecutionContext.java:535)\n\tat org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate(ExecutionContext.java:504)\n\tat org.eclipse.birt.report.engine.executor.DataItemExecutor.execute(DataItemExecutor.java:92)\n\tat org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitDataItem(ReportExecutorVisitor.java:175)\n\tat org.eclipse.birt.report.engine.ir.DataItemDesign.accept(DataItemDesign.java:69)\n\tat org.eclipse.birt.report.engine.executor.TableItemExecutor.accessRow(TableItemExecutor.java:618)\n\tat org.eclipse.birt.report.engine.executor.TableItemExecutor.accessTableBand(TableItemExecutor.java:506)\n\tat org.eclipse.birt.report.engine.executor.TableItemExecutor.accessDetail(TableItemExecutor.java:418)\n\tat org.eclipse.birt.report.engine.executor.ListingElementExecutor.accessQuery(ListingElementExecutor.java:130)\n\tat org.eclipse.birt.report.engine.executor.TableItemExecutor.execute(TableItemExecutor.java:151)\n\tat org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitTableItem(ReportExecutorVisitor.java:205)\n\tat org.eclipse.birt.report.engine.ir.TableItemDesign.accept(TableItemDesign.java:69)\n\tat org.eclipse.birt.report.engine.executor.GridItemExecutor.executeCell(GridItemExecutor.java:273)\n\tat org.eclipse.birt.report.engine.executor.GridItemExecutor.executeRow(GridItemExecutor.java:204)\n\tat org.eclipse.birt.report.engine.executor.GridItemExecutor.execute(GridItemExecutor.java:128)\n\tat org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitGridItem(ReportExecutorVisitor.java:190)\n\tat org.eclipse.birt.report.engine.ir.GridItemDesign.accept(GridItemDesign.java:117)\n\tat org.eclipse.birt.report.engine.executor.ReportExecutor.execute(ReportExecutor.java:129)\n\tat org.eclipse.birt.report.engine.executor.ReportExecutor.execute(ReportExecutor.java:89)\n\tat org.eclipse.birt.report.engine.api.impl.RunTask.doRun(RunTask.java:202)\n\tat org.eclipse.birt.report.engine.api.impl.RunTask.run(RunTask.java:111)\n\tat org.eclipse.birt.report.engine.api.impl.RunTask.run(RunTask.java:96)\n\tat com.actuate.reportapi.engine.birt.ReportGenerationTask.generateReport(Unknown Source)\n\tat com.actuate.reportapi.engine.ReportGenerationTaskBase.doTask(Unknown Source)\n\tat com.actuate.reportapi.engine.Task.execute(Unknown Source)\n\tat com.actuate.reportapi.enginemanager.ThreadPool$ControlRunnable.run(Unknown Source)\n\tat java.lang.Thread.run(Unknown Source)",
    "Created an attachment (id\u003d41679)\nThe report design that produces the error\n\nAttaching the report deisgn that produces the error.",
    "For new java script objects, BirtComp, BirtMath, BirtStr, BirtDateTime have been added.",
    "Verified it in build 200605190630"
  ],
  "commentCreationDates": [
    "2006-05-17T02:16:05+02:00",
    "2006-05-17T02:19:20+02:00",
    "2006-05-17T15:30:28+02:00",
    "2006-05-19T07:45:28+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.mozilla.javascript.EvaluatorException",
      "message": "Can\u0027t find the column: LOWERCITY",
      "elements": [
        {
          "method": "org.eclipse.birt.report.engine.data.dte.NativeRowObject.get",
          "source": "NativeRowObject.java:88"
        },
        {
          "method": "org.mozilla.javascript.ScriptableObject.getProperty",
          "source": "ScriptableObject.java:1263"
        },
        {
          "method": "org.mozilla.javascript.ScriptRuntime.getObjectElem",
          "source": "ScriptRuntime.java:1301"
        },
        {
          "method": "org.mozilla.javascript.ScriptRuntime.getObjectElem",
          "source": "ScriptRuntime.java:1283"
        },
        {
          "method": "org.mozilla.javascript.gen.c56._c0",
          "source": "\u003cinline\u003e:1"
        },
        {
          "method": "org.mozilla.javascript.gen.c56.call",
          "source": "\u003cinline\u003e"
        },
        {
          "method": "org.mozilla.javascript.ContextFactory.doTopCall",
          "source": "ContextFactory.java:304"
        },
        {
          "method": "org.mozilla.javascript.ScriptRuntime.doTopCall",
          "source": "ScriptRuntime.java:2769"
        },
        {
          "method": "org.mozilla.javascript.gen.c56.call",
          "source": "\u003cinline\u003e"
        },
        {
          "method": "org.mozilla.javascript.gen.c56.exec",
          "source": "\u003cinline\u003e"
        },
        {
          "method": "org.eclipse.birt.core.script.ScriptContext.eval",
          "source": "ScriptContext.java:224"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate",
          "source": "ExecutionContext.java:535"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate",
          "source": "ExecutionContext.java:504"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.DataItemExecutor.execute",
          "source": "DataItemExecutor.java:92"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitDataItem",
          "source": "ReportExecutorVisitor.java:175"
        },
        {
          "method": "org.eclipse.birt.report.engine.ir.DataItemDesign.accept",
          "source": "DataItemDesign.java:69"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.TableItemExecutor.accessRow",
          "source": "TableItemExecutor.java:618"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.TableItemExecutor.accessTableBand",
          "source": "TableItemExecutor.java:506"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.TableItemExecutor.accessDetail",
          "source": "TableItemExecutor.java:418"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ListingElementExecutor.accessQuery",
          "source": "ListingElementExecutor.java:130"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.TableItemExecutor.execute",
          "source": "TableItemExecutor.java:151"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitTableItem",
          "source": "ReportExecutorVisitor.java:205"
        },
        {
          "method": "org.eclipse.birt.report.engine.ir.TableItemDesign.accept",
          "source": "TableItemDesign.java:69"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.GridItemExecutor.executeCell",
          "source": "GridItemExecutor.java:273"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.GridItemExecutor.executeRow",
          "source": "GridItemExecutor.java:204"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.GridItemExecutor.execute",
          "source": "GridItemExecutor.java:128"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitGridItem",
          "source": "ReportExecutorVisitor.java:190"
        },
        {
          "method": "org.eclipse.birt.report.engine.ir.GridItemDesign.accept",
          "source": "GridItemDesign.java:117"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutor.execute",
          "source": "ReportExecutor.java:129"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutor.execute",
          "source": "ReportExecutor.java:89"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunTask.doRun",
          "source": "RunTask.java:202"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunTask.run",
          "source": "RunTask.java:111"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunTask.run",
          "source": "RunTask.java:96"
        },
        {
          "method": "com.actuate.reportapi.engine.birt.ReportGenerationTask.generateReport",
          "source": "Unknown Source"
        },
        {
          "method": "com.actuate.reportapi.engine.ReportGenerationTaskBase.doTask",
          "source": "Unknown Source"
        },
        {
          "method": "com.actuate.reportapi.engine.Task.execute",
          "source": "Unknown Source"
        },
        {
          "method": "com.actuate.reportapi.enginemanager.ThreadPool$ControlRunnable.run",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Unknown Source"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "142122",
      "date": "2006-05-17T02:16:05+02:00",
      "product": "BIRT",
      "component": "Data",
      "severity": "normal"
    }
  ],
  "groupId": "142122",
  "bugId": "142122",
  "date": "2006-05-17T02:16:05+02:00",
  "product": "BIRT",
  "component": "Data",
  "severity": "normal"
}