{
  "comments": [
    "Steps:\n\n1) Downloaded/installed Eclipse SDK 3.2 RC1a\n2) Ran eclipse without -data argument\n3) At the workspace prompt, I selected a new workspace /home/johna/callisto-test/\n4) Pointed Eclipse at the Callisto update site (currently download.eclipse.org/callisto/staging/, by tomorrow it will probably be download.eclipse.org/callisto/releases/).\n5) Selected to install all features\n6) Ok to license and unsigned jar prompts\n7) Ok to restart prompt\n\nOn restart, I got the following error on stdout:\n\n_X11TransSocketOpen: socket() failed for local\n_X11TransSocketOpenCOTSClient: Unable to open socket for local\n_X11TransOpen: transport open failed for local/wsjarthorne2:0\nrunCommand:\n    \u003c/home/johna/eclipse/eclipse\u003e\u003c-name\u003e\u003cEclipse\u003e\u003c-exitdata\u003e\u003cb000f\u003e\u003cAn error has  occurred. See the log file\n/home/johna/workspace/.metadata/.log.\u003e\n\nNote that the log file was created in a different workspace from the one I was using prior to restarting.  Either somebody is writing to the wrong log file, or the wrong workspace is used after restart on update.",
    "This is the stack trace that appeared in the log (in the wrong workspace directory):\n\norg.eclipse.swt.SWTError: No more handles [gtk_init_check() failed]\n\tat org.eclipse.swt.SWT.error(SWT.java:3400)\n\tat org.eclipse.swt.widgets.Display.createDisplay(Display.java:788)\n\tat org.eclipse.swt.widgets.Display.create(Display.java:776)\n\tat org.eclipse.swt.graphics.Device.\u003cinit\u003e(Device.java:145)\n\tat org.eclipse.swt.widgets.Display.\u003cinit\u003e(Display.java:452)\n\tat org.eclipse.swt.widgets.Display.\u003cinit\u003e(Display.java:443)\n\tat org.eclipse.ui.internal.Workbench.createDisplay(Workbench.java:448)\n\tat org.eclipse.ui.PlatformUI.createDisplay(PlatformUI.java:155)\n\tat org.eclipse.ui.internal.ide.IDEApplication.createDisplay(IDEApplication.java:122)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:75)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)\n\tat java.lang.reflect.Method.invoke(Method.java:391)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)\n",
    "Note that when I manually restarted, it started fine and chose the correct workspace location.  It seems to be just the automatic restart that is not working.",
    "Programmatic restart is IWorkbench API - we are not doing anyting ourselves.",
    "Erich, don\u0027t just automatically reassign bugs to us just because you see the keyword \u0027update\u0027 in the title. The bug is about wrong workspace being used after the programmatic use of IWorkbench.restart(), which is in the UI space. It just happens that the call is made from Update, but it does not make it an update bug.",
    "Turns out this is a duplicate of a complex runtime/SWT bug.  Dejan, just because you\u0027re calling a UI API method, it doesn\u0027t mean it\u0027s a UI bug either ;)  My apologies for not doing a more thorough search before entering this bug.\n\n*** This bug has been marked as a duplicate of 106396 ***",
    "No, everything is a UI bug because all the errors are shown in dialogs that belong to JFace :-).\n\nWhat I meant to say is that we are calling IWorkbench.restart() which IS in the UI space, but that does not mean that the trail necessarily ends there. We (Update) just cannot go beyond the API boundary."
  ],
  "commentCreationDates": [
    "2006-04-24T23:08:27+02:00",
    "2006-04-24T23:08:50+02:00",
    "2006-04-24T23:09:40+02:00",
    "2006-04-24T23:41:06+02:00",
    "2006-04-25T16:43:12+02:00",
    "2006-04-25T16:54:02+02:00",
    "2006-04-25T17:09:22+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTError",
      "message": "No more handles [gtk_init_check() failed]",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3400"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.createDisplay",
          "source": "Display.java:788"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.create",
          "source": "Display.java:776"
        },
        {
          "method": "org.eclipse.swt.graphics.Device.\u003cinit\u003e",
          "source": "Device.java:145"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.\u003cinit\u003e",
          "source": "Display.java:452"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.\u003cinit\u003e",
          "source": "Display.java:443"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createDisplay",
          "source": "Workbench.java:448"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createDisplay",
          "source": "PlatformUI.java:155"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.createDisplay",
          "source": "IDEApplication.java:122"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:75"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:169"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:58"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:60"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:391"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:280"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 1,
      "bugId": "138271",
      "duplicateId": "106396",
      "date": "2006-04-24T23:08:50+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "106396",
  "bugId": "138271",
  "duplicateId": "106396",
  "date": "2006-04-24T23:08:27+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}