{
  "comments": [
    "Launching one perfmon agent works ok but after terminating that agent, if\nanother agent is launched, the progress dialog eventually returns the following\nerror:\n\n\nIWAT6060E Error starting agent trace\n\n(Details:)\njava.lang.Exception: IWAT6062E Could not create trace agent on RAC\nat\norg.eclipse.hyades.perfmon.utils.internal.DCAgentGenericLoader.init(DCAgentGenericLoader.java:409)\nat\norg.eclipse.hyades.perfmon.utils.internal.DCAgentGenericLoader.\u003cinit\u003e(DCAgentGenericLoader.java:85)\nat\norg.eclipse.hyades.perfmon.common.internal.CommonModuleTrace$Init.run(CommonModuleTrace.java:320)\nat\norg.eclipse.hyades.perfmon.common.internal.CommonModuleTrace.run(CommonModuleTrace.java:165)\nat\norg.eclipse.hyades.perfmon.common.internal.CommonModuleTraceLaunchJob.run(CommonModuleTraceLaunchJob.java:40)\nat org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)",
    "As far as I can see, the problem is not in creating the second new agent, but\nrather in the termination of the first. When the Perfmon Agent is stopped, the\nfollowing exception is thrown...\n\njava.lang.NullPointerException\n\tat\norg.eclipse.hyades.internal.execution.local.control.AgentImpl.handleCommand(AgentImpl.java:593)\n\tat\norg.eclipse.hyades.internal.execution.local.control.AgentImpl$2.incommingCommand(AgentImpl.java:160)\n\tat\norg.eclipse.hyades.internal.execution.local.control.ConnectionImpl$1.incommingCommand(ConnectionImpl.java:179)\n\tat\norg.eclipse.hyades.internal.execution.local.control.ConnectionImpl.processControlMessage(ConnectionImpl.java:414)\n\tat\norg.eclipse.hyades.internal.execution.local.control.ConnectionImpl$SocketReaderThread.run(ConnectionImpl.java:500)\n\nwhich translates to the following code in AgentImpl.java\n\n_server.shutdownServer() in handleCommand(final CommandElement command) method.\n\nwhere _server is null. _server is set to null as the detach() is called prior to\nthge handleCommand in AgentImpl.java.\n\nThe _server.shutdownServer() call was added on the 17/03/2005 - it is possible\nthat a null check would suffice here (as is used throughout AgentImpl.java).\n",
    "I have verified that a null check on _server results in correct repetitive\nlaunching of the agents. Am CC\u0027ing Samson on this as he would know best whether\nor not this is due to a bug in AgentImpl or our incorrect use of the API.",
    "AgentImpl fixes have been checked into CVS (3.3 and 4.0) under the handler for\nprocess exited event like this:\n\nif(_server !\u003d null) { // Bug 88991\n  _server.shutdownServer();\n}\nif(_server_mux !\u003d null) { // Bug 88991\n  _server_mux.shutdownServer();\n}\n",
    "Checked and working in build 3.3.0_20050404_1420."
  ],
  "commentCreationDates": [
    "2005-03-24T14:10:44+01:00",
    "2005-03-31T12:20:16+02:00",
    "2005-03-31T12:21:51+02:00",
    "2005-04-01T15:08:50+02:00",
    "2005-04-05T11:29:52+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.Exception",
      "message": "IWAT6062E Could not create trace agent on RAC",
      "elements": [
        {
          "method": "org.eclipse.hyades.perfmon.utils.internal.DCAgentGenericLoader.init",
          "source": "DCAgentGenericLoader.java:409"
        },
        {
          "method": "org.eclipse.hyades.perfmon.utils.internal.DCAgentGenericLoader.\u003cinit\u003e",
          "source": "DCAgentGenericLoader.java:85"
        },
        {
          "method": "org.eclipse.hyades.perfmon.common.internal.CommonModuleTrace$Init.run",
          "source": "CommonModuleTrace.java:320"
        },
        {
          "method": "org.eclipse.hyades.perfmon.common.internal.CommonModuleTrace.run",
          "source": "CommonModuleTrace.java:165"
        },
        {
          "method": "org.eclipse.hyades.perfmon.common.internal.CommonModuleTraceLaunchJob.run",
          "source": "CommonModuleTraceLaunchJob.java:40"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:66"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "88991",
      "date": "2005-03-24T14:10:44+01:00",
      "product": "Hyades",
      "component": "DataCollection\u0026Control",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.hyades.internal.execution.local.control.AgentImpl.handleCommand",
          "source": "AgentImpl.java:593"
        },
        {
          "method": "org.eclipse.hyades.internal.execution.local.control.AgentImpl$2.incommingCommand",
          "source": "AgentImpl.java:160"
        },
        {
          "method": "org.eclipse.hyades.internal.execution.local.control.ConnectionImpl$1.incommingCommand",
          "source": "ConnectionImpl.java:179"
        },
        {
          "method": "org.eclipse.hyades.internal.execution.local.control.ConnectionImpl.processControlMessage",
          "source": "ConnectionImpl.java:414"
        },
        {
          "method": "org.eclipse.hyades.internal.execution.local.control.ConnectionImpl$SocketReaderThread.run",
          "source": "ConnectionImpl.java:500"
        }
      ],
      "number": 1,
      "commentIndex": 1,
      "bugId": "88991",
      "date": "2005-03-31T12:20:16+02:00",
      "product": "Hyades",
      "component": "DataCollection\u0026Control",
      "severity": "major"
    }
  ],
  "groupId": "88991",
  "bugId": "88991",
  "date": "2005-03-24T14:10:44+01:00",
  "product": "Hyades",
  "component": "DataCollection\u0026Control",
  "severity": "major"
}