{
  "comments": [
    "Build ID: I20070209-1006\n\nSteps To Reproduce:\nInstall webtools and have something which activates the indexing (ie jsp pages). After short time Open Type dialog stops working with stack trace below\n\nMore information:\nOne of webtools indexers probably\ngets hold of public indexLocations table in IndexManager and puts Strings inside. JDT in 3.3M4 used Strings, but it uses IPaths in 3.3M5\n\nStack trace:\n\n!MESSAGE An internal error occurred during: \"Searching for all types\".\n!STACK 0\njava.lang.ClassCastException: java.lang.String cannot be cast to\norg.eclipse.core.runtime.IPath\n        at\norg.eclipse.jdt.internal.core.search.indexing.IndexManager.computeIndexLocation(IndexManager.java:129)\n        at\norg.eclipse.jdt.internal.core.search.IndexSelector.initializeIndexLocations(IndexSelector.java:128)\n        at\norg.eclipse.jdt.internal.core.search.IndexSelector.getIndexLocations(IndexSelector.java:203)\n        at\norg.eclipse.jdt.internal.core.search.JavaSearchParticipant.selectIndexes(JavaSearchParticipant.java:112)\n        at\norg.eclipse.jdt.internal.core.search.PatternSearchJob.getIndexes(PatternSearchJob.java:80)\n        at\norg.eclipse.jdt.internal.core.search.PatternSearchJob.ensureReadyToRun(PatternSearchJob.java:51)\n        at\norg.eclipse.jdt.internal.core.search.processing.JobManager.performConcurrentJob(JobManager.java:177)\n        at\norg.eclipse.jdt.internal.core.search.BasicSearchEngine.searchAllTypeNames(BasicSearchEngine.java:777)\n        at\norg.eclipse.jdt.core.search.SearchEngine.searchAllTypeNames(SearchEngine.java:780)\n        at\norg.eclipse.jdt.internal.ui.dialogs.TypeInfoViewer$SearchEngineJob.getSearchResult(TypeInfoViewer.java:669)\n        at\norg.eclipse.jdt.internal.ui.dialogs.TypeInfoViewer$AbstractSearchJob.internalRun(TypeInfoViewer.java:571)\n        at\norg.eclipse.jdt.internal.ui.dialogs.TypeInfoViewer$AbstractSearchJob.doRun(TypeInfoViewer.java:518)\n        at\norg.eclipse.jdt.internal.ui.dialogs.TypeInfoViewer$AbstractJob.run(TypeInfoViewer.java:484)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)",
    "*** Bug 173921 has been marked as a duplicate of this bug. ***",
    "Fixed in org.eclipse.jst.jsp.core.internal.java.search.JSPSearchSupport.computeIndexLocation(IPath)"
  ],
  "commentCreationDates": [
    "2007-02-14T09:39:36+01:00",
    "2007-02-14T09:39:56+01:00",
    "2007-02-15T03:43:13+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "java.lang.String cannot be cast to org.eclipse.core.runtime.IPath",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.IndexManager.computeIndexLocation",
          "source": "IndexManager.java:129"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.IndexSelector.initializeIndexLocations",
          "source": "IndexSelector.java:128"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.IndexSelector.getIndexLocations",
          "source": "IndexSelector.java:203"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.JavaSearchParticipant.selectIndexes",
          "source": "JavaSearchParticipant.java:112"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.PatternSearchJob.getIndexes",
          "source": "PatternSearchJob.java:80"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.PatternSearchJob.ensureReadyToRun",
          "source": "PatternSearchJob.java:51"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.processing.JobManager.performConcurrentJob",
          "source": "JobManager.java:177"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.BasicSearchEngine.searchAllTypeNames",
          "source": "BasicSearchEngine.java:777"
        },
        {
          "method": "org.eclipse.jdt.core.search.SearchEngine.searchAllTypeNames",
          "source": "SearchEngine.java:780"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.dialogs.TypeInfoViewer$SearchEngineJob.getSearchResult",
          "source": "TypeInfoViewer.java:669"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.dialogs.TypeInfoViewer$AbstractSearchJob.internalRun",
          "source": "TypeInfoViewer.java:571"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.dialogs.TypeInfoViewer$AbstractSearchJob.doRun",
          "source": "TypeInfoViewer.java:518"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.dialogs.TypeInfoViewer$AbstractJob.run",
          "source": "TypeInfoViewer.java:484"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "174139",
      "date": "2007-02-14T09:39:36+01:00",
      "product": "Web Tools",
      "component": "jst.jsp",
      "severity": "normal"
    }
  ],
  "groupId": "174139",
  "bugId": "174139",
  "date": "2007-02-14T09:39:36+01:00",
  "product": "Web Tools",
  "component": "jst.jsp",
  "severity": "normal"
}