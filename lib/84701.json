{
  "comments": [
    "The following error occurs when trying to import an HTTP access log file.\n\n!MESSAGE IWAT0027E Error importing the specified log file.\n!STACK 0\norg.eclipse.hyades.logging.parsers.LogParserException: IWAT0373E The adapter \nconfiguration file D:\\hyades\\testing\\test0208\\eclipse\\tests\\workspace1\n\\.metadata\\.plugins\\org.eclipse.hyades.logging.adapter.config\\GLA1107875756172.a\ndapter cannot be saved due to the following reason: \njavax.xml.transform.TransformerException: java.io.IOException: Stream closed\n\tat \norg.eclipse.hyades.logging.adapter.config.StaticParserWrapper.getNewConfigFile\n(StaticParserWrapper.java)\n\tat \norg.eclipse.hyades.logging.adapter.config.StaticParserWrapper.setUserInput\n(StaticParserWrapper.java)\n\tat \norg.eclipse.hyades.log.ui.internal.wizards.LocalLogParserLoader.startParsing\n(LocalLogParserLoader.java)\n\tat \norg.eclipse.hyades.log.ui.internal.wizards.ImportLogWizard$LocalLogImportJob.run\nOnLocalHost(ImportLogWizard.java)\n\tat \norg.eclipse.hyades.log.ui.internal.wizards.ImportLogWizard$LocalLogImportJob.run\n(ImportLogWizard.java)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)\nEmbedded Exception follows:\norg.eclipse.hyades.logging.core.SerializationException: \njavax.xml.transform.TransformerException: java.io.IOException: Stream closed\n\tat org.eclipse.hyades.logging.core.XmlUtility.serialize\n(XmlUtility.java:544)\n\tat org.eclipse.hyades.logging.core.XmlUtility.serialize\n(XmlUtility.java:399)\n\tat org.eclipse.hyades.logging.core.XmlUtility.serialize\n(XmlUtility.java:349)\n\tat org.eclipse.hyades.logging.core.XmlUtility.serialize\n(XmlUtility.java:304)\n\tat \norg.eclipse.hyades.logging.adapter.config.StaticParserWrapper.getNewConfigFile\n(StaticParserWrapper.java)\n\tat \norg.eclipse.hyades.logging.adapter.config.StaticParserWrapper.setUserInput\n(StaticParserWrapper.java)\n\tat \norg.eclipse.hyades.log.ui.internal.wizards.LocalLogParserLoader.startParsing\n(LocalLogParserLoader.java)\n\tat \norg.eclipse.hyades.log.ui.internal.wizards.ImportLogWizard$LocalLogImportJob.run\nOnLocalHost(ImportLogWizard.java)\n\tat \norg.eclipse.hyades.log.ui.internal.wizards.ImportLogWizard$LocalLogImportJob.run\n(ImportLogWizard.java)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)\n!SUBENTRY 1 org.eclipse.hyades.log.ui 4 0 Feb 08, 2005 10:15:57.00\n!MESSAGE IWAT0373E The adapter configuration file D:\\hyades\\testing\\test0208\n\\eclipse\\tests\\workspace1\n\\.metadata\\.plugins\\org.eclipse.hyades.logging.adapter.config\\GLA1107875756172.a\ndapter cannot be saved due to the following reason: \njavax.xml.transform.TransformerException: java.io.IOException: Stream closed\n!STACK 0\norg.eclipse.hyades.logging.parsers.LogParserException: IWAT0373E The adapter \nconfiguration file D:\\hyades\\testing\\test0208\\eclipse\\tests\\workspace1\n\\.metadata\\.plugins\\org.eclipse.hyades.logging.adapter.config\\GLA1107875756172.a\ndapter cannot be saved due to the following reason: \njavax.xml.transform.TransformerException: java.io.IOException: Stream closed\n\tat \norg.eclipse.hyades.logging.adapter.config.StaticParserWrapper.getNewConfigFile\n(StaticParserWrapper.java)\n\tat \norg.eclipse.hyades.logging.adapter.config.StaticParserWrapper.setUserInput\n(StaticParserWrapper.java)\n\tat \norg.eclipse.hyades.log.ui.internal.wizards.LocalLogParserLoader.startParsing\n(LocalLogParserLoader.java)\n\tat \norg.eclipse.hyades.log.ui.internal.wizards.ImportLogWizard$LocalLogImportJob.run\nOnLocalHost(ImportLogWizard.java)\n\tat \norg.eclipse.hyades.log.ui.internal.wizards.ImportLogWizard$LocalLogImportJob.run\n(ImportLogWizard.java)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)\nEmbedded Exception follows:\norg.eclipse.hyades.logging.core.SerializationException: \njavax.xml.transform.TransformerException: java.io.IOException: Stream closed\n\tat org.eclipse.hyades.logging.core.XmlUtility.serialize\n(XmlUtility.java:544)\n\tat org.eclipse.hyades.logging.core.XmlUtility.serialize\n(XmlUtility.java:399)\n\tat org.eclipse.hyades.logging.core.XmlUtility.serialize\n(XmlUtility.java:349)\n\tat org.eclipse.hyades.logging.core.XmlUtility.serialize\n(XmlUtility.java:304)\n\tat \norg.eclipse.hyades.logging.adapter.config.StaticParserWrapper.getNewConfigFile\n(StaticParserWrapper.java)\n\tat \norg.eclipse.hyades.logging.adapter.config.StaticParserWrapper.setUserInput\n(StaticParserWrapper.java)\n\tat \norg.eclipse.hyades.log.ui.internal.wizards.LocalLogParserLoader.startParsing\n(LocalLogParserLoader.java)\n\tat \norg.eclipse.hyades.log.ui.internal.wizards.ImportLogWizard$LocalLogImportJob.run\nOnLocalHost(ImportLogWizard.java)\n\tat \norg.eclipse.hyades.log.ui.internal.wizards.ImportLogWizard$LocalLogImportJob.run\n(ImportLogWizard.java)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)\n!SUBENTRY 1 org.eclipse.hyades.log.ui 4 0 Feb 08, 2005 10:15:57.00\n!MESSAGE \n!STACK 0\norg.eclipse.hyades.logging.parsers.LogParserException: IWAT0373E The adapter \nconfiguration file D:\\hyades\\testing\\test0208\\eclipse\\tests\\workspace1\n\\.metadata\\.plugins\\org.eclipse.hyades.logging.adapter.config\\GLA1107875756172.a\ndapter cannot be saved due to the following reason: \njavax.xml.transform.TransformerException: java.io.IOException: Stream closed\n\tat \norg.eclipse.hyades.logging.adapter.config.StaticParserWrapper.getNewConfigFile\n(StaticParserWrapper.java)\n\tat \norg.eclipse.hyades.logging.adapter.config.StaticParserWrapper.setUserInput\n(StaticParserWrapper.java)\n\tat \norg.eclipse.hyades.log.ui.internal.wizards.LocalLogParserLoader.startParsing\n(LocalLogParserLoader.java)\n\tat \norg.eclipse.hyades.log.ui.internal.wizards.ImportLogWizard$LocalLogImportJob.run\nOnLocalHost(ImportLogWizard.java)\n\tat \norg.eclipse.hyades.log.ui.internal.wizards.ImportLogWizard$LocalLogImportJob.run\n(ImportLogWizard.java)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)\nEmbedded Exception follows:\norg.eclipse.hyades.logging.core.SerializationException: \njavax.xml.transform.TransformerException: java.io.IOException: Stream closed\n\tat org.eclipse.hyades.logging.core.XmlUtility.serialize\n(XmlUtility.java:544)\n\tat org.eclipse.hyades.logging.core.XmlUtility.serialize\n(XmlUtility.java:399)\n\tat org.eclipse.hyades.logging.core.XmlUtility.serialize\n(XmlUtility.java:349)\n\tat org.eclipse.hyades.logging.core.XmlUtility.serialize\n(XmlUtility.java:304)\n\tat \norg.eclipse.hyades.logging.adapter.config.StaticParserWrapper.getNewConfigFile\n(StaticParserWrapper.java)\n\tat \norg.eclipse.hyades.logging.adapter.config.StaticParserWrapper.setUserInput\n(StaticParserWrapper.java)\n\tat \norg.eclipse.hyades.log.ui.internal.wizards.LocalLogParserLoader.startParsing\n(LocalLogParserLoader.java)\n\tat \norg.eclipse.hyades.log.ui.internal.wizards.ImportLogWizard$LocalLogImportJob.run\nOnLocalHost(ImportLogWizard.java)\n\tat \norg.eclipse.hyades.log.ui.internal.wizards.ImportLogWizard$LocalLogImportJob.run\n(ImportLogWizard.java)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)",
    "Created an attachment (id\u003d17753)\nHTTP access log file\n",
    "*** Bug 84754 has been marked as a duplicate of this bug. ***",
    "I believe these exceptions are caused by \norg.eclipse.hyades.logging.core.XmlUtility$JAXPXMLSerializer.serialize not \nbeing synchronized.  JAXPXMLSerializer.serialize uses a static transformer \nobject so every log import job/thread uses the same transformer object to \nserialize the adapter configuration DOM to a file and sometimes the object gets \ncorrupted.  This method should either be serialized or should use a new \ntransformer object for each call.\n\nI tested the fix of creating a new transformer object on every call and it \nworked.",
    "(In reply to comment #3)\n\nThis fix does not resolve this defect.  However, the XmlUtility should be made \nthread safe (see defect #84826).",
    "I found a problem in StaticParserWrapper.getNewConfigFile() where it creates \nthe new adapter file.  The following code is used to create a temporary file \nname:\n\nnewFile \u003d new File(((String)(toOSStringMethod.invoke(iPathObject,null))),\"GLA\" \n+ System.currentTimeMillis() + \".adapter\");\n\nThis is not threadsafe because two thread could be calling the same code within \nthe same millisecond and so could generate the same file name.\n\nI will replace that line with the following:\n\nFile dirpath \u003d new File((String)(toOSStringMethod.invoke(iPathObject,null)));\nnewFile \u003d File.createTempFile(\"GLA\", \".adapter\", dirpath);\n\nFile.createTempFile guarantees that the file name will be unique when running \nwithin the same VM.\n\nHowever, even with the above fix I experienced exceptions as documented in this \ndefect.  I believe the fix for defect #84826 is still required so I\u0027ll make \nthis defect dependent on 84826.",
    "Committed to fix to Hyades and TPTP head CVS",
    "verified in build 3.3 20050328_1223"
  ],
  "commentCreationDates": [
    "2005-02-08T15:42:24+01:00",
    "2005-02-08T15:42:52+01:00",
    "2005-02-09T16:19:01+01:00",
    "2005-02-09T16:24:23+01:00",
    "2005-02-09T20:05:29+01:00",
    "2005-02-09T22:07:59+01:00",
    "2005-02-09T22:26:53+01:00",
    "2005-04-01T01:45:44+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.io.IOException",
      "message": "Stream closed",
      "elements": [
        {
          "method": "org.eclipse.hyades.logging.adapter.config.StaticParserWrapper.getNewConfigFile",
          "source": "StaticParserWrapper.java"
        },
        {
          "method": "org.eclipse.hyades.logging.adapter.config.StaticParserWrapper.setUserInput",
          "source": "StaticParserWrapper.java"
        },
        {
          "method": "org.eclipse.hyades.log.ui.internal.wizards.LocalLogParserLoader.startParsing",
          "source": "LocalLogParserLoader.java"
        },
        {
          "method": "org.eclipse.hyades.log.ui.internal.wizards.ImportLogWizard$LocalLogImportJob.runOnLocalHost",
          "source": "ImportLogWizard.java"
        },
        {
          "method": "org.eclipse.hyades.log.ui.internal.wizards.ImportLogWizard$LocalLogImportJob.run",
          "source": "ImportLogWizard.java"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:66"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "84701",
      "date": "2005-02-08T15:42:24+01:00",
      "product": "Hyades",
      "component": "UI.log_view",
      "severity": "critical"
    },
    {
      "exceptionType": "java.io.IOException",
      "message": "Stream closed",
      "elements": [
        {
          "method": "org.eclipse.hyades.logging.core.XmlUtility.serialize",
          "source": "XmlUtility.java:544"
        },
        {
          "method": "org.eclipse.hyades.logging.core.XmlUtility.serialize",
          "source": "XmlUtility.java:399"
        },
        {
          "method": "org.eclipse.hyades.logging.core.XmlUtility.serialize",
          "source": "XmlUtility.java:349"
        },
        {
          "method": "org.eclipse.hyades.logging.core.XmlUtility.serialize",
          "source": "XmlUtility.java:304"
        },
        {
          "method": "org.eclipse.hyades.logging.adapter.config.StaticParserWrapper.getNewConfigFile",
          "source": "StaticParserWrapper.java"
        },
        {
          "method": "org.eclipse.hyades.logging.adapter.config.StaticParserWrapper.setUserInput",
          "source": "StaticParserWrapper.java"
        },
        {
          "method": "org.eclipse.hyades.log.ui.internal.wizards.LocalLogParserLoader.startParsing",
          "source": "LocalLogParserLoader.java"
        },
        {
          "method": "org.eclipse.hyades.log.ui.internal.wizards.ImportLogWizard$LocalLogImportJob.runOnLocalHost",
          "source": "ImportLogWizard.java"
        },
        {
          "method": "org.eclipse.hyades.log.ui.internal.wizards.ImportLogWizard$LocalLogImportJob.run",
          "source": "ImportLogWizard.java"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:66"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "84701",
      "date": "2005-02-08T15:42:24+01:00",
      "product": "Hyades",
      "component": "UI.log_view",
      "severity": "critical"
    },
    {
      "exceptionType": "java.io.IOException",
      "message": "Stream closed",
      "elements": [
        {
          "method": "org.eclipse.hyades.logging.adapter.config.StaticParserWrapper.getNewConfigFile",
          "source": "StaticParserWrapper.java"
        },
        {
          "method": "org.eclipse.hyades.logging.adapter.config.StaticParserWrapper.setUserInput",
          "source": "StaticParserWrapper.java"
        },
        {
          "method": "org.eclipse.hyades.log.ui.internal.wizards.LocalLogParserLoader.startParsing",
          "source": "LocalLogParserLoader.java"
        },
        {
          "method": "org.eclipse.hyades.log.ui.internal.wizards.ImportLogWizard$LocalLogImportJob.runOnLocalHost",
          "source": "ImportLogWizard.java"
        },
        {
          "method": "org.eclipse.hyades.log.ui.internal.wizards.ImportLogWizard$LocalLogImportJob.run",
          "source": "ImportLogWizard.java"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:66"
        }
      ],
      "number": 2,
      "commentIndex": 0,
      "bugId": "84701",
      "date": "2005-02-08T15:42:24+01:00",
      "product": "Hyades",
      "component": "UI.log_view",
      "severity": "critical"
    },
    {
      "exceptionType": "java.io.IOException",
      "message": "Stream closed",
      "elements": [
        {
          "method": "org.eclipse.hyades.logging.core.XmlUtility.serialize",
          "source": "XmlUtility.java:544"
        },
        {
          "method": "org.eclipse.hyades.logging.core.XmlUtility.serialize",
          "source": "XmlUtility.java:399"
        },
        {
          "method": "org.eclipse.hyades.logging.core.XmlUtility.serialize",
          "source": "XmlUtility.java:349"
        },
        {
          "method": "org.eclipse.hyades.logging.core.XmlUtility.serialize",
          "source": "XmlUtility.java:304"
        },
        {
          "method": "org.eclipse.hyades.logging.adapter.config.StaticParserWrapper.getNewConfigFile",
          "source": "StaticParserWrapper.java"
        },
        {
          "method": "org.eclipse.hyades.logging.adapter.config.StaticParserWrapper.setUserInput",
          "source": "StaticParserWrapper.java"
        },
        {
          "method": "org.eclipse.hyades.log.ui.internal.wizards.LocalLogParserLoader.startParsing",
          "source": "LocalLogParserLoader.java"
        },
        {
          "method": "org.eclipse.hyades.log.ui.internal.wizards.ImportLogWizard$LocalLogImportJob.runOnLocalHost",
          "source": "ImportLogWizard.java"
        },
        {
          "method": "org.eclipse.hyades.log.ui.internal.wizards.ImportLogWizard$LocalLogImportJob.run",
          "source": "ImportLogWizard.java"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:66"
        }
      ],
      "number": 3,
      "commentIndex": 0,
      "bugId": "84701",
      "date": "2005-02-08T15:42:24+01:00",
      "product": "Hyades",
      "component": "UI.log_view",
      "severity": "critical"
    },
    {
      "exceptionType": "java.io.IOException",
      "message": "Stream closed",
      "elements": [
        {
          "method": "org.eclipse.hyades.logging.adapter.config.StaticParserWrapper.getNewConfigFile",
          "source": "StaticParserWrapper.java"
        },
        {
          "method": "org.eclipse.hyades.logging.adapter.config.StaticParserWrapper.setUserInput",
          "source": "StaticParserWrapper.java"
        },
        {
          "method": "org.eclipse.hyades.log.ui.internal.wizards.LocalLogParserLoader.startParsing",
          "source": "LocalLogParserLoader.java"
        },
        {
          "method": "org.eclipse.hyades.log.ui.internal.wizards.ImportLogWizard$LocalLogImportJob.runOnLocalHost",
          "source": "ImportLogWizard.java"
        },
        {
          "method": "org.eclipse.hyades.log.ui.internal.wizards.ImportLogWizard$LocalLogImportJob.run",
          "source": "ImportLogWizard.java"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:66"
        }
      ],
      "number": 4,
      "commentIndex": 0,
      "bugId": "84701",
      "date": "2005-02-08T15:42:24+01:00",
      "product": "Hyades",
      "component": "UI.log_view",
      "severity": "critical"
    },
    {
      "exceptionType": "java.io.IOException",
      "message": "Stream closed",
      "elements": [
        {
          "method": "org.eclipse.hyades.logging.core.XmlUtility.serialize",
          "source": "XmlUtility.java:544"
        },
        {
          "method": "org.eclipse.hyades.logging.core.XmlUtility.serialize",
          "source": "XmlUtility.java:399"
        },
        {
          "method": "org.eclipse.hyades.logging.core.XmlUtility.serialize",
          "source": "XmlUtility.java:349"
        },
        {
          "method": "org.eclipse.hyades.logging.core.XmlUtility.serialize",
          "source": "XmlUtility.java:304"
        },
        {
          "method": "org.eclipse.hyades.logging.adapter.config.StaticParserWrapper.getNewConfigFile",
          "source": "StaticParserWrapper.java"
        },
        {
          "method": "org.eclipse.hyades.logging.adapter.config.StaticParserWrapper.setUserInput",
          "source": "StaticParserWrapper.java"
        },
        {
          "method": "org.eclipse.hyades.log.ui.internal.wizards.LocalLogParserLoader.startParsing",
          "source": "LocalLogParserLoader.java"
        },
        {
          "method": "org.eclipse.hyades.log.ui.internal.wizards.ImportLogWizard$LocalLogImportJob.runOnLocalHost",
          "source": "ImportLogWizard.java"
        },
        {
          "method": "org.eclipse.hyades.log.ui.internal.wizards.ImportLogWizard$LocalLogImportJob.run",
          "source": "ImportLogWizard.java"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:66"
        }
      ],
      "number": 5,
      "commentIndex": 0,
      "bugId": "84701",
      "date": "2005-02-08T15:42:24+01:00",
      "product": "Hyades",
      "component": "UI.log_view",
      "severity": "critical"
    }
  ],
  "groupId": "84701",
  "bugId": "84701",
  "date": "2005-02-08T15:42:24+01:00",
  "product": "Hyades",
  "component": "UI.log_view",
  "severity": "critical"
}