{
  "comments": [
    " ",
    "Created a class with a instance variable: ArrayList\u003cInteger\u003e list;\nAdded watch expressions for list and list.size()\nWhen select either watch expression get CCE attempting to cast a JDIClassType to\nIJavaValue\n\nStack Trace:\njava.lang.ClassCastException\n\tat\norg.eclipse.jdt.internal.debug.eval.ast.instructions.Instruction.popValue(Instruction.java:113)\n\tat\norg.eclipse.jdt.internal.debug.eval.ast.instructions.PushFieldVariable.execute(PushFieldVariable.java:50)\n\tat\norg.eclipse.jdt.internal.debug.eval.ast.engine.Interpreter.execute(Interpreter.java:50)\n\tat\norg.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$1$EvaluationRunnable.run(ASTEvaluationEngine.java:420)\n\tat\norg.eclipse.jdt.internal.debug.core.model.JDIThread.runEvaluation(JDIThread.java:565)\n\tat\norg.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$EvalRunnable.run(ASTEvaluationEngine.java:454)\n\tat\norg.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run(JDIThread.java:2448)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)\n",
    "Appears to be a regression since 3.1",
    "Can\u0027t reproduce. Not sure if fixes to bug 106492 or 106479 fixed this.",
    "I used this test case:\n\nimport java.util.ArrayList;\n\npublic class ArrayTest {\n\n\t\n\tArrayList\u003cInteger\u003e list \u003d new ArrayList\u003cInteger\u003e();\n\t\n\tpublic static void main(String[] args) {\n\t\tnew ArrayTest().foo();\n\t}\n\t\n\tpublic void foo() {\n\t\tfor (int i \u003d 0; i \u003c 10; i++) {\n\t\t\tlist.add(i);\n\t\t}\n\t\tSystem.out.println(list);\n\t}\n\n}",
    "Steps to reproduce with your testcase:\n1. create watch Expression \"list.size()\"\n2. create breakpoint at println line\n3. debug to breakpoint\n4. select second stack frame in Debug View.\n",
    "if the breakpoint is in main(..) the CCE happens when the breakpoint is hit.",
    "Fixed in ASTEvaluationEngine and EvaluationSourceGenerator. A refactoring from \nbug 99416 improperly removed the \u0027static\u0027 nature of the compilation. We were \nattempting to resove \u0027list\u0027 (non-static field) in a static context.",
    "Please verify, Kevin.",
    "verified"
  ],
  "commentCreationDates": [
    "2005-08-09T16:56:18+02:00",
    "2005-08-09T16:59:03+02:00",
    "2005-08-09T17:52:08+02:00",
    "2005-08-09T20:43:15+02:00",
    "2005-08-09T20:50:08+02:00",
    "2005-08-09T20:54:38+02:00",
    "2005-08-09T21:07:02+02:00",
    "2005-08-09T21:14:43+02:00",
    "2005-08-09T21:15:04+02:00",
    "2005-08-15T16:46:18+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.instructions.Instruction.popValue",
          "source": "Instruction.java:113"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.instructions.PushFieldVariable.execute",
          "source": "PushFieldVariable.java:50"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.engine.Interpreter.execute",
          "source": "Interpreter.java:50"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$1$EvaluationRunnable.run",
          "source": "ASTEvaluationEngine.java:420"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread.runEvaluation",
          "source": "JDIThread.java:565"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$EvalRunnable.run",
          "source": "ASTEvaluationEngine.java:454"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run",
          "source": "JDIThread.java:2448"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:76"
        }
      ],
      "number": 0,
      "commentIndex": 1,
      "bugId": "106489",
      "date": "2005-08-09T16:59:03+02:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "106489",
  "bugId": "106489",
  "date": "2005-08-09T16:56:18+02:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "normal"
}