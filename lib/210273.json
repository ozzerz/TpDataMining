{
  "comments": [
    "Build ID: 3.3\n\nSteps To Reproduce:\n1. have the following CU\n\npublic class CU {\n\t\n\tvoid foo() {\n\t\tMap\u003cString, Number\u003e map\u003d new HashMap\u003cString, Number\u003e();\n\t\tmap.put(\"float\", 1.23F);\n\t\tmap.put(\"long\", 123L);\n\t\t\t\n\t\tprintFloat(this.\u003cFloat\u003ebar(\u003cCARET\u003e));\n\t}\n\t\n\tvoid printFloat(float n) {\n\t\t// ...\n\t}\n\t\n\t\u003cT extends Number\u003e T bar(String name, Map\u003cString, Number\u003e map) {\n\t\tNumber number\u003d map.get(name);\n\t\tif(number \u003d\u003d null)\n\t\t\treturn null;\n\t\treturn (T) number;\n\t}\n}\n\n2. CTRL+SPACE at \u003cCARET\u003e\n \u003e you dont get any proposals\n   [with \"this.\u003cFloat\u003ebar(\"float\", \u003cCARET\u003e)\" it\u0027s no better]\n\n\nMore information:",
    "Reproduce with this smaller test case:\n\npublic class CU {\n\tvoid foo() {\n\t\tthis.\u003cObject\u003ebar();\n\t}\n}\n\nAn ArrayIndexOutOfBoundsException occurs in completion parser recovery\n\njava.lang.ArrayIndexOutOfBoundsException: -1\n\tat org.eclipse.jdt.internal.codeassist.complete.CompletionParser.checkInvocation(CompletionParser.java:1388)\n\tat org.eclipse.jdt.internal.codeassist.complete.CompletionParser.completionIdentifierCheck(CompletionParser.java:1825)\n\tat org.eclipse.jdt.internal.codeassist.complete.CompletionParser.updateRecoveryState(CompletionParser.java:4413)\n\tat org.eclipse.jdt.internal.compiler.parser.Parser.resumeOnSyntaxError(Parser.java:10274)\n\tat org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:9109)\n\tat org.eclipse.jdt.internal.codeassist.impl.AssistParser.parseBlockStatements(AssistParser.java:1358)\n\tat org.eclipse.jdt.internal.codeassist.impl.AssistParser.parseBlockStatements(AssistParser.java:1211)\n\tat org.eclipse.jdt.internal.codeassist.impl.Engine.parseBlockStatements(Engine.java:288)\n\tat org.eclipse.jdt.internal.codeassist.impl.Engine.parseBlockStatements(Engine.java:251)\n\tat org.eclipse.jdt.internal.codeassist.CompletionEngine.complete(CompletionEngine.java:2351)\n\tat ...",
    "Created an attachment (id\u003d83426)\nProposed fix\n\n",
    "Released for 3.4M4\n\nTest added\n  GenericsCompletionParserTesr#test0215_Diet() -\u003e test0215_Method()",
    "Verified for 3.4 M4 using build I20071210-1800"
  ],
  "commentCreationDates": [
    "2007-11-19T17:07:11+01:00",
    "2007-11-20T12:02:21+01:00",
    "2007-11-21T12:48:48+01:00",
    "2007-11-21T14:37:51+01:00",
    "2007-12-11T14:06:10+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "-1",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.codeassist.complete.CompletionParser.checkInvocation",
          "source": "CompletionParser.java:1388"
        },
        {
          "method": "org.eclipse.jdt.internal.codeassist.complete.CompletionParser.completionIdentifierCheck",
          "source": "CompletionParser.java:1825"
        },
        {
          "method": "org.eclipse.jdt.internal.codeassist.complete.CompletionParser.updateRecoveryState",
          "source": "CompletionParser.java:4413"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.parser.Parser.resumeOnSyntaxError",
          "source": "Parser.java:10274"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.parser.Parser.parse",
          "source": "Parser.java:9109"
        },
        {
          "method": "org.eclipse.jdt.internal.codeassist.impl.AssistParser.parseBlockStatements",
          "source": "AssistParser.java:1358"
        },
        {
          "method": "org.eclipse.jdt.internal.codeassist.impl.AssistParser.parseBlockStatements",
          "source": "AssistParser.java:1211"
        },
        {
          "method": "org.eclipse.jdt.internal.codeassist.impl.Engine.parseBlockStatements",
          "source": "Engine.java:288"
        },
        {
          "method": "org.eclipse.jdt.internal.codeassist.impl.Engine.parseBlockStatements",
          "source": "Engine.java:251"
        },
        {
          "method": "org.eclipse.jdt.internal.codeassist.CompletionEngine.complete",
          "source": "CompletionEngine.java:2351"
        }
      ],
      "number": 0,
      "commentIndex": 1,
      "bugId": "210273",
      "date": "2007-11-20T12:02:21+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "210273",
  "bugId": "210273",
  "date": "2007-11-19T17:07:11+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}