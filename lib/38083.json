{
  "comments": [
    "I was debugging a program which had a HashMap in the list of variables. I\naccidentally double-clicked on the \u0027tree expand\u0027 icon, with the result that the\ntree opened and closed quickly.\n\nI also had the mouse over the HashMap id itself, so it was possibly also\ntrying to display the HashMap as a string.\n\nCouldn\u0027t immediately re-create the bug so it may be that this was a race condition; however\nI\u0027ve filed the log with this in case there is any obvious error with what \nhappened.\n\n!SESSION May 24, 2003 18:41:46.770 ---------------------------------------------\njava.version\u003d1.3.1\njava.vendor\u003dApple Computer, Inc.\nBootLoader constants: OS\u003dmacosx, ARCH\u003dppc, WS\u003dcarbon, NL\u003den_US\nCommand-line arguments: -consoleLog -showlocation -os macosx -ws carbon -install file:/Volumes/Applications/Eclipse/\n!ENTRY org.eclipse.jface 4 2 May 24, 2003 18:41:46.772\n!MESSAGE Problems occurred when invoking code from plug-in: \"org.eclipse.jface\".\n!STACK 0\njava.lang.NullPointerException\n        at org.eclipse.jface.viewers.CustomHashtable.hashCode(CustomHashtable.java:225)\n        at org.eclipse.jface.viewers.CustomHashtable.get(CustomHashtable.java:201)\n        at org.eclipse.jface.viewers.StructuredViewer.findItem(StructuredViewer.java:355)\n        at org.eclipse.jface.viewers.AbstractTreeViewer.getExpandedState(AbstractTreeViewer.java:545)\n        at org.eclipse.debug.internal.ui.views.variables.VariablesView.doubleClick(VariablesView.java:1121)\n        at org.eclipse.jface.viewers.StructuredViewer$1.run(StructuredViewer.java:372)\n        at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:889)\n        at org.eclipse.core.runtime.Platform.run(Platform.java:413)\n        at org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick(StructuredViewer.java:370)\n        at org.eclipse.jface.viewers.StructuredViewer.handleDoubleSelect(StructuredViewer.java:589)\n        at org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected(StructuredViewer.java:684)\n        at org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent(OpenStrategy.java:187)\n        at org.eclipse.jface.util.OpenStrategy.access$0(OpenStrategy.java:184)\n        at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:231)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:81)\n        at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:989)\n        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1911)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1623)\n        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1402)\n        at org.eclipse.ui.internal.Workbench.run(Workbench.java:1385)\n        at org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:845)\n        at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:291)\n        at org.eclipse.core.launcher.Main.run(Main.java:747)\n        at org.eclipse.core.launcher.Main.main(Main.java:583)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at apple.launcher.LaunchRunner.run(LaunchRunner.java:88)\n        at apple.launcher.LaunchRunner.callMain(LaunchRunner.java:50)\n        at apple.launcher.JavaApplicationLauncher.launch(JavaApplicationLauncher.java:52)",
    "The NPE is coming from jface code.",
    "Does the variables view update the viewer on expand/collapse, other than \nthrough the usual lazy update via the content provider mechanism?\nJust wondering if the viewer\u0027s state would have been changing due to the user\u0027s \nactions.  Do you think a race condition is likely or possible here?",
    "On closer inspection, it looks like we are passing in a \"null\" parameter to \n#getExpandedState. We were not checking for a \"null\" return value from \nIStructuredSelection.getFirstElement().",
    "Fixed.",
    "Please verify change in VariablesView.",
    "Verified code."
  ],
  "commentCreationDates": [
    "2003-05-24T19:51:24+02:00",
    "2003-05-26T18:21:59+02:00",
    "2003-05-27T15:55:51+02:00",
    "2003-05-27T16:19:55+02:00",
    "2003-05-27T16:21:07+02:00",
    "2003-05-27T16:21:30+02:00",
    "2003-05-27T23:07:57+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jface.viewers.CustomHashtable.hashCode",
          "source": "CustomHashtable.java:225"
        },
        {
          "method": "org.eclipse.jface.viewers.CustomHashtable.get",
          "source": "CustomHashtable.java:201"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.findItem",
          "source": "StructuredViewer.java:355"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.getExpandedState",
          "source": "AbstractTreeViewer.java:545"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.variables.VariablesView.doubleClick",
          "source": "VariablesView.java:1121"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$1.run",
          "source": "StructuredViewer.java:372"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:889"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:413"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick",
          "source": "StructuredViewer.java:370"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleDoubleSelect",
          "source": "StructuredViewer.java:589"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected",
          "source": "StructuredViewer.java:684"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent",
          "source": "OpenStrategy.java:187"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$0",
          "source": "OpenStrategy.java:184"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "OpenStrategy.java:231"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:81"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:989"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1911"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1623"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1402"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1385"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:291"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:747"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:583"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "apple.launcher.LaunchRunner.run",
          "source": "LaunchRunner.java:88"
        },
        {
          "method": "apple.launcher.LaunchRunner.callMain",
          "source": "LaunchRunner.java:50"
        },
        {
          "method": "apple.launcher.JavaApplicationLauncher.launch",
          "source": "JavaApplicationLauncher.java:52"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "38083",
      "date": "2003-05-24T19:51:24+02:00",
      "product": "Platform",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "38083",
  "bugId": "38083",
  "date": "2003-05-24T19:51:24+02:00",
  "product": "Platform",
  "component": "Debug",
  "severity": "normal"
}