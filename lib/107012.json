{
  "comments": [
    "I selected a private method that I wanted to move to another class and got this\nexception when clicking preview:\n\n\njava.lang.reflect.InvocationTargetException\n\tat\norg.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:90)\n\tat\norg.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)\nCaused by: Java Model Exception: Java Model Status [setProductPrice(BigDecimal)\n{key\u003dLno/ecc/gds/data/auto/_GdsProductPrice;.setProductPrice(Ljava/math/BigDecimal;)V}\n[in _GdsProductPrice [in _GdsProductPrice.java [in no.ecc.gds.data.auto [in src\n[in gds]]]]] does not exist]\n\tat\norg.eclipse.jdt.internal.core.JavaElement.newNotPresentException(JavaElement.java:468)\n\tat org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:499)\n\tat org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:232)\n\tat org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:218)\n\tat org.eclipse.jdt.internal.core.Member.getFlags(Member.java:147)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.adjustOutgoingVisibility(MemberVisibilityAdjustor.java:688)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.adjustOutgoingVisibility(MemberVisibilityAdjustor.java:707)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.adjustOutgoingVisibility(MemberVisibilityAdjustor.java:739)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.adjustVisibility(MemberVisibilityAdjustor.java:780)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MoveInstanceMethodProcessor.createChangeManager(MoveInstanceMethodProcessor.java:1529)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MoveInstanceMethodProcessor.checkFinalConditions(MoveInstanceMethodProcessor.java:1097)\n\tat\norg.eclipse.ltk.core.refactoring.participants.ProcessorBasedRefactoring.checkFinalConditions(ProcessorBasedRefactoring.java:169)\n\tat\norg.eclipse.ltk.core.refactoring.CheckConditionsOperation.run(CheckConditionsOperation.java:84)\n\tat\norg.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:114)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)\n\tat\norg.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:86)\n\t... 1 more",
    "If I do not click Preview, but OK directly, I get this exception:\n\n\nJava Model Exception: Java Model Status [setProductPrice(BigDecimal)\n{key\u003dLno/ecc/gds/data/auto/_GdsProductPrice;.setProductPrice(Ljava/math/BigDecimal;)V}\n[in _GdsProductPrice [in _GdsProductPrice.java [in no.ecc.gds.data.auto [in src\n[in gds]]]]] does not exist]\n\tat\norg.eclipse.jdt.internal.core.JavaElement.newNotPresentException(JavaElement.java:468)\n\tat org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:499)\n\tat org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:232)\n\tat org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:218)\n\tat org.eclipse.jdt.internal.core.Member.getFlags(Member.java:147)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.adjustOutgoingVisibility(MemberVisibilityAdjustor.java:688)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.adjustOutgoingVisibility(MemberVisibilityAdjustor.java:707)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.adjustOutgoingVisibility(MemberVisibilityAdjustor.java:739)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.adjustVisibility(MemberVisibilityAdjustor.java:780)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MoveInstanceMethodProcessor.createChangeManager(MoveInstanceMethodProcessor.java:1529)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MoveInstanceMethodProcessor.checkFinalConditions(MoveInstanceMethodProcessor.java:1097)\n\tat\norg.eclipse.ltk.core.refactoring.participants.ProcessorBasedRefactoring.checkFinalConditions(ProcessorBasedRefactoring.java:169)\n\tat\norg.eclipse.ltk.core.refactoring.CheckConditionsOperation.run(CheckConditionsOperation.java:84)\n\tat\norg.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:114)\n\tat\norg.eclipse.ltk.core.refactoring.PerformChangeOperation.run(PerformChangeOperation.java:189)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)\n\tat\norg.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:86)\n\tat\norg.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)\n",
    "Please provide build ID and a test case to reproduce, thx",
    "(In reply to comment #2)\n\u003e Please provide build ID and a test case to reproduce, thx\n\nThis was with 3.1 release version.\n\nThe code is my client\u0027s, so I\u0027m not at liberty to pass it along.\n\nFeel free to close this PR as impossible to pursue if you can\u0027t immediately\nextract something useful from the exceptions.\n\n?yvind",
    "I understand that your code might be private...\nCan\u0027t you create a similar test case which reproduces the problem and put it in\nthis bug?\nTIA",
    "(In reply to comment #4)\n\u003e I understand that your code might be private...\n\u003e Can\u0027t you create a similar test case which reproduces the problem and put it in\n\u003e this bug?\n\nThe Move refactoring code is quite mature + the program I\u0027m working on is large.\nI believe it unlikely to be easy to produce a small test case. I\u0027ve used the\nMove refactoring a dozen times the last week on cases which appear to be fairly\nsimilar(different projects though).\n\nI will see if I can make it happen again and try to squeeze some info out of the\ndebugger.\n\n\n\u003e TIA\n\n",
    "Created an attachment (id\u003d26139)\nShows exception in debugger\n\nI can reproduce the problem here.\n\nI tried to get some info out of the debugger, but found nothing obvious so far.",
    "I tried opening the source file in which setProductPrice is implemented, but I \nstill get the exception.\n\n",
    "(In reply to comment #3)\n\u003e Feel free to close this PR as impossible to pursue if you can\u0027t immediately\n\u003e extract something useful from the exceptions.\n\nUnfortunately the stack traces are not enough to find out what\u0027s wrong. \nPlease reopen if you can find steps to reproduce.",
    "(In reply to comment #8)\n\u003e (In reply to comment #3)\n\u003e \u003e Feel free to close this PR as impossible to pursue if you can\u0027t immediately\n\u003e \u003e extract something useful from the exceptions.\n\u003e \n\u003e Unfortunately the stack traces are not enough to find out what\u0027s wrong. \n\u003e Please reopen if you can find steps to reproduce.\n\nI can reproduce it on my machine. Can you give me some tips on where and how to\ndebug?\n\n?yvind\n\n\n\n\n",
    "(In reply to comment #9)\n\u003e I can reproduce it on my machine. Can you give me some tips on where and how to\n\u003e debug?\n\nCan you please evaluate the following in the Display view of the debugger when\nthe top stack frame is selected ?\n\n  this.getOpenable().getBuffer().getContents()\n\nand check if the method \"setProductPrice(BigDecimal)\" exists in the class\n\"_GdsProductPrice\" in this source.",
    "(In reply to comment #10)\n\u003e (In reply to comment #9)\n\u003e \u003e I can reproduce it on my machine. Can you give me some tips on where and \nhow to\n\u003e \u003e debug?\n\u003e Can you please evaluate the following in the Display view of the debugger when\n\u003e the top stack frame is selected ?\n\u003e   this.getOpenable().getBuffer().getContents()\n\u003e and check if the method \"setProductPrice(BigDecimal)\" exists in the class\n\u003e \"_GdsProductPrice\" in this source.\n\nYes:\n\npackage no.ecc.gds.data.auto;\n\n/** Class _GdsProductPrice was generated by Cayenne.\n  * It is probably a good idea to avoid changing this class manually, \n  * since it may be overwritten next time code is regenerated. \n  * If you need to make any customizations, please use subclass. \n  */\npublic class _GdsProductPrice extends org.objectstyle.cayenne.CayenneDataObject \n{\n\n    public static final String PRODUCT_PRICE_PROPERTY \u003d \"productPrice\";\n    public static final String PRODUCT_PROPERTY \u003d \"product\";\n    public static final String SUBSCRIPTION_TYPE_PROPERTY \u003d \"subscriptionType\";\n\n    public static final String PRODUCT_ID_PK_COLUMN \u003d \"PRODUCT_ID\";\n    public static final String SUBSCRIPTION_TYPE_PK_COLUMN \n\u003d \"SUBSCRIPTION_TYPE\";\n\n    public void setProductPrice(java.math.BigDecimal productPrice) {\n        writeProperty(\"productPrice\", productPrice);\n    }\n    public java.math.BigDecimal getProductPrice() {\n        return (java.math.BigDecimal)readProperty(\"productPrice\");\n    }\n    \n    \n    public void setProduct(no.ecc.gds.data.GdsProduct product) {\n        setToOneTarget(\"product\", product, true);\n    }\n\n    public no.ecc.gds.data.GdsProduct getProduct() {\n        return (no.ecc.gds.data.GdsProduct)readProperty(\"product\");\n    } \n    \n    \n    public void setSubscriptionType(no.ecc.gds.data.GdsSubscriptionType \nsubscriptionType) {\n        setToOneTarget(\"subscriptionType\", subscriptionType, true);\n    }\n\n    public no.ecc.gds.data.GdsSubscriptionType getSubscriptionType() {\n        return (no.ecc.gds.data.GdsSubscriptionType)readProperty\n(\"subscriptionType\");\n    } \n    \n    \n}\n",
    "Created an attachment (id\u003d26335)\nA shot in the dark\n"
  ],
  "commentCreationDates": [
    "2005-08-15T15:04:43+02:00",
    "2005-08-15T15:05:36+02:00",
    "2005-08-15T17:09:56+02:00",
    "2005-08-15T17:16:23+02:00",
    "2005-08-15T17:28:20+02:00",
    "2005-08-15T17:38:12+02:00",
    "2005-08-16T09:46:06+02:00",
    "2005-08-16T09:47:48+02:00",
    "2005-08-17T10:44:14+02:00",
    "2005-08-17T13:10:28+02:00",
    "2005-08-17T15:01:36+02:00",
    "2005-08-22T08:56:17+02:00",
    "2005-08-22T09:12:56+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.reflect.InvocationTargetException",
      "elements": [
        {
          "method": "org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run",
          "source": "WorkbenchRunnableAdapter.java:90"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:113"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "107012",
      "date": "2005-08-15T15:04:43+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "107012",
  "bugId": "107012",
  "date": "2005-08-15T15:04:43+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}