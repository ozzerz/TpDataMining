{
  "comments": [
    "Test program\n\u003d\u003d BEGIN EclipseBug.java \u003d\u003d\npackage crash;\n\nimport java.io.PrintWriter;\nimport java.io.Writer;\n\nimport junit.framework.Test;\nimport junit.framework.TestCase;\nimport junit.framework.TestSuite;\n\n/**\n *  \n */\npublic class EclipseBug extends TestCase\n{\n\n    public static void main(String[] args)\n    {\n        junit.textui.TestRunner.run(EclipseBug.class);\n    }\n\n    public static Test suite()\n    {\n        return new TestSuite(EclipseBug.class);\n    }\n\n    /*\n     * @see TestCase#tearDown()\n     */\n    protected void tearDown() throws Exception\n    {\n        super.tearDown();\n    }\n\n    /*\n     * @see TestCase#setUp()\n     */\n    protected void setUp() throws Exception\n    {\n        super.setUp();\n    }\n\n    public void testEclipseCrash() throws Exception\n    {\n        Writer out;\n        out \u003d new PrintWriter(System.out);\n        String test \u003d \u0027\\033\u0027 + \"[J\";\n        test.toCharArray();\n        for (int i \u003d 0; i \u003c 5000; i++)\n        {\n            out.write(\u0027\\b\u0027);\n            out.write(test.toCharArray());\n            out.flush();\n        }\n    }\n\n}\n\u003d\u003d END EclipseBug.java \u003d\u003d\n\nThe  Log file\n\u003d\u003d BEGIN .log \u003d\u003d\n!SESSION feb 22, 2005 21:38:29.272 --------------------------------------------\n-\neclipse.buildId\u003dM200409161125\njava.version\u003d1.4.2_06\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003dda_DK\n\n!ENTRY org.eclipse.ui 4 4 feb 22, 2005 21:38:29.272\n!MESSAGE Unhandled event loop exception\n\n!ENTRY org.eclipse.ui 4 0 feb 22, 2005 21:38:29.282\n!MESSAGE No more handles\n!STACK 0\norg.eclipse.swt.SWTError: No more handles\n\tat org.eclipse.swt.SWT.error(SWT.java:2717)\n\tat org.eclipse.swt.graphics.Image.init(Image.java:1366)\n\tat org.eclipse.swt.graphics.Image.\u003cinit\u003e(Image.java:161)\n\tat org.eclipse.swt.custom.StyledText.performPaint(StyledText.java:5676)\n\tat org.eclipse.swt.custom.StyledText.handleTextChanged\n(StyledText.java:5174)\n\tat org.eclipse.swt.custom.StyledText$6.textChanged\n(StyledText.java:4709)\n\tat org.eclipse.jface.text.DefaultDocumentAdapter.fireTextChanged\n(DefaultDocumentAdapter.java:337)\n\tat org.eclipse.jface.text.DefaultDocumentAdapter.documentChanged\n(DefaultDocumentAdapter.java:281)\n\tat org.eclipse.jface.text.AbstractDocument.doFireDocumentChanged2\n(AbstractDocument.java:672)\n\tat org.eclipse.jface.text.AbstractDocument.doFireDocumentChanged\n(AbstractDocument.java:645)\n\tat org.eclipse.jface.text.AbstractDocument.doFireDocumentChanged\n(AbstractDocument.java:630)\n\tat org.eclipse.jface.text.AbstractDocument.fireDocumentChanged\n(AbstractDocument.java:707)\n\tat org.eclipse.jface.text.AbstractDocument.replace\n(AbstractDocument.java:998)\n\tat \norg.eclipse.debug.internal.ui.views.console.ConsoleDocumentPartitioner$3.run\n(ConsoleDocumentPartitioner.java:699)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages\n(Synchronizer.java:106)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2749)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2434)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1377)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1348)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench\n(Workbench.java:254)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run\n(IDEApplication.java:96)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run\n(PlatformActivator.java:335)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:273)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:129)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\n\tat org.eclipse.core.launcher.Main.run(Main.java:704)\n\tat org.eclipse.core.launcher.Main.main(Main.java:688)\n\u003d\u003d END .log \u003d\u003d",
    "Unable to reproduce on Windows or Mac. Why was this moved to debug? All the console is doing is \ncalling Document.replace().",
    "I just saw that the problem was with the console view and figured it should be looked\nat first by whomever owns this view.  It\u0027s hard to know who is eating handles (if anyone)\njust based on the stack.\n\nFeel free to move the bug back to UI (or SWT) if you think either is to blame, but if the\nproblem is not easily reproducable, it is hard to say.",
    "brn@image.dk - Do you have any non-SDK plugins installed? Does this happen everytime you run the \nsample code?",
    "Created an attachment (id\u003d18235)\nThe Eclipce project + log file\n\nAdded for easy reproduction",
    "(In reply to comment #3)\n\u003e brn@image.dk - Do you have any non-SDK plugins installed? Does this happen\neverytime you run the \n\u003e sample code?\n\nNo i am running a just downloaded version (eclipse-SDK-3.0.1-win32.zip) and no\nnon -SDK plugins.",
    "This is reproducable on 3.0.1 (WinXP). Iterating through the loop 5000 times \nwas not enough to crash Eclipse on my machine. The task manager did show that \nan increase (of roughly 5000) in the number of GDI ojbects used. Removing \nunused consoles from the console view brought the GDI object back down to a \nnormal level. Attempting to iterate through the loop 15000 times crashed \neclipse altogether and my .log looks like the one below.\n\nThis does not appear to be a problem on 3.1. Running the code on I20050222-\n0821 had no impact on the number of GDI objects used.",
    "This has something to do with long lines containing \u0027\\b\u0027. The GDI objects do \nnot get used up at nearly the rate if the \"out.write(\u0027\\b\u0027);\" is commented out \nor if the console is set to a fixed width.\nMoving to SWT",
    "*** Bug 79604 has been marked as a duplicate of this bug. ***",
    "*** Bug 86530 has been marked as a duplicate of this bug. ***",
    "brn@image.dk: Does this problem happen on Eclipse 3.1 M6 ?\n",
    "(In reply to comment #10)\n\u003e brn@image.dk: Does this problem happen on Eclipse 3.1 M6 ?\nNo ",
    "Okay, the bug is already fixed then. Closing.\nthanks for testing.",
    "*** Bug 82077 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2005-02-22T20:57:01+01:00",
    "2005-02-22T21:33:10+01:00",
    "2005-02-22T22:27:36+01:00",
    "2005-02-22T23:39:04+01:00",
    "2005-02-23T12:17:15+01:00",
    "2005-02-23T12:19:40+01:00",
    "2005-02-23T16:41:13+01:00",
    "2005-02-23T16:53:58+01:00",
    "2005-02-23T20:53:09+01:00",
    "2005-02-25T03:07:04+01:00",
    "2005-04-21T00:02:02+02:00",
    "2005-04-26T18:16:48+02:00",
    "2005-04-26T19:41:39+02:00",
    "2006-09-22T22:40:11+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTError",
      "message": "No more handles",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2717"
        },
        {
          "method": "org.eclipse.swt.graphics.Image.init",
          "source": "Image.java:1366"
        },
        {
          "method": "org.eclipse.swt.graphics.Image.\u003cinit\u003e",
          "source": "Image.java:161"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.performPaint",
          "source": "StyledText.java:5676"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.handleTextChanged",
          "source": "StyledText.java:5174"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText$6.textChanged",
          "source": "StyledText.java:4709"
        },
        {
          "method": "org.eclipse.jface.text.DefaultDocumentAdapter.fireTextChanged",
          "source": "DefaultDocumentAdapter.java:337"
        },
        {
          "method": "org.eclipse.jface.text.DefaultDocumentAdapter.documentChanged",
          "source": "DefaultDocumentAdapter.java:281"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.doFireDocumentChanged2",
          "source": "AbstractDocument.java:672"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.doFireDocumentChanged",
          "source": "AbstractDocument.java:645"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.doFireDocumentChanged",
          "source": "AbstractDocument.java:630"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.fireDocumentChanged",
          "source": "AbstractDocument.java:707"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.replace",
          "source": "AbstractDocument.java:998"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.console.ConsoleDocumentPartitioner$3.run",
          "source": "ConsoleDocumentPartitioner.java:699"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:106"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:2749"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2434"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1377"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1348"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:254"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:141"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:96"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:335"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:273"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:704"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:688"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "86201",
      "date": "2005-02-22T20:57:01+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    }
  ],
  "groupId": "86201",
  "bugId": "86201",
  "date": "2005-02-22T20:57:01+01:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "normal"
}