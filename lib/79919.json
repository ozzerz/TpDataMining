{
  "comments": [
    "build I20041130\nhost vm: pj9n142-20040928a with -Xj9\ntarget vm: pj9n142-20040928a with -Xj9\n\nEvery time I launch the target eclipse now (using F11), I get the following.\nI was also seeing this without having -Xj9 for the target vm.\nIt happens immediately after pressing F11.\n\n!ENTRY org.eclipse.debug.ui 4 120 2004-12-01 14:52:02.596\n!MESSAGE Error logged from Debug UI: \n!STACK 1\norg.eclipse.debug.core.DebugException[5010]:\ncom.sun.jdi.VMDisconnectedException: Got IOException from Virtual Machine\n\tat\norg.eclipse.jdi.internal.connect.PacketSendManager.sendPacket(PacketSendManager.java:79)\n\tat org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:169)\n\tat org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:191)\n\tat org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:206)\n\tat\norg.eclipse.jdi.internal.ThreadReferenceImpl.frameCount(ThreadReferenceImpl.java:147)\n\tat\norg.eclipse.jdt.internal.debug.core.model.JDIThread.getUnderlyingFrameCount(JDIThread.java:629)\n\tat\norg.eclipse.jdt.internal.debug.core.model.JDIThread.createAllStackFrames(JDIThread.java:543)\n\tat\norg.eclipse.jdt.internal.debug.core.model.JDIThread.computeStackFrames(JDIThread.java:409)\n\tat\norg.eclipse.jdt.internal.debug.core.model.JDIThread.computeStackFrames(JDIThread.java:515)\n\tat\norg.eclipse.jdt.internal.debug.core.model.JDIThread.getTopStackFrame(JDIThread.java:1018)\n\tat\norg.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler$5.run(LaunchViewEventHandler.java:540)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:118)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2780)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2451)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1579)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1550)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:282)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:220)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)\n\tat java.lang.reflect.Method.invoke(Method.java:391)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\n\tat org.eclipse.core.launcher.Main.run(Main.java:710)\n\tat org.eclipse.core.launcher.Main.main(Main.java:694)\n!SUBENTRY 1 org.eclipse.jdt.debug 4 5010 2004-12-01 14:52:02.636\n!MESSAGE com.sun.jdi.VMDisconnectedException: Got IOException from Virtual\nMachine occurred retrieving frame count.\n!STACK 0\ncom.sun.jdi.VMDisconnectedException: Got IOException from Virtual Machine\n\tat\norg.eclipse.jdi.internal.connect.PacketSendManager.sendPacket(PacketSendManager.java:79)\n\tat org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:169)\n\tat org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:191)\n\tat org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:206)\n\tat\norg.eclipse.jdi.internal.ThreadReferenceImpl.frameCount(ThreadReferenceImpl.java:147)\n\tat\norg.eclipse.jdt.internal.debug.core.model.JDIThread.getUnderlyingFrameCount(JDIThread.java:629)\n\tat\norg.eclipse.jdt.internal.debug.core.model.JDIThread.createAllStackFrames(JDIThread.java:543)\n\tat\norg.eclipse.jdt.internal.debug.core.model.JDIThread.computeStackFrames(JDIThread.java:409)\n\tat\norg.eclipse.jdt.internal.debug.core.model.JDIThread.computeStackFrames(JDIThread.java:515)\n\tat\norg.eclipse.jdt.internal.debug.core.model.JDIThread.getTopStackFrame(JDIThread.java:1018)\n\tat\norg.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler$5.run(LaunchViewEventHandler.java:540)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:118)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2780)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2451)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1579)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1550)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:282)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:220)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)\n\tat java.lang.reflect.Method.invoke(Method.java:391)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\n\tat org.eclipse.core.launcher.Main.run(Main.java:710)\n\tat org.eclipse.core.launcher.Main.main(Main.java:694)",
    "Nick - it looks like there may be a disconnected target lying around (not \nremoved from the launch manager properly?) If you re-start your workspace, do \nthese \"VM disconnected\" problems disappear?",
    "Yes, I had another disconnected VM lying around (see one of my earlier PRs from\ntoday).\n",
    "If I restart, the problem goes away.\n\nSo the disconnected VM is not fully dead?\n",
    "The disconnected VM was still attempting to carry out requests... So the bug \nis that the VM did not clean up properly. The process terminated, but the VM \nnever received notification, and did not know it was dead.",
    "*** Bug 79920 has been marked as a duplicate of this bug. ***",
    "See bug 79896 for the original cause.  The screen shot there shows that somebody\nin the Debug view knows that the VM is gone.\n",
    "We should be able to do a better job of this... Currently, the VM only notices \nthat it has termianted/disconnected when notified via JDI events. However, it \nits associated process terminates, we should ensure that the VM knows that it \nhas been disconnected (first wait for the notification, but if it does not \narrive in a reasonable amount of time, assume the backend has died).",
    "*** Bug 90417 has been marked as a duplicate of this bug. ***",
    "Fixed in JDIDebugTarget and EventDispatcher.\n\nWhen a VM\u0027s associated process termiantes a job is scheduled to cleanup the \ntarget in case it does not receive a terminate event. The job is delayed based \non the communication timeout being used for debugging (default 3 seconds).\n\nI changed the EventDispatcher to read events from the target in a non-blocking \nfashions (delays a second at most), such that the event dispatcher can be \nshutdown in the case that a target goes south.",
    "Please verify, Kevin.",
    "verified",
    "*** Bug 91106 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2004-12-01T19:55:28+01:00",
    "2004-12-01T20:04:33+01:00",
    "2004-12-01T20:34:29+01:00",
    "2004-12-01T20:36:14+01:00",
    "2004-12-01T20:44:18+01:00",
    "2004-12-01T20:45:08+01:00",
    "2004-12-01T20:46:58+01:00",
    "2004-12-01T20:47:33+01:00",
    "2005-04-12T14:44:18+02:00",
    "2005-04-27T22:31:14+02:00",
    "2005-04-27T22:31:27+02:00",
    "2005-04-29T21:43:52+02:00",
    "2005-05-02T17:26:35+02:00"
  ],
  "traces": [
    {
      "exceptionType": "com.sun.jdi.VMDisconnectedException",
      "message": "Got IOException from Virtual Machine",
      "elements": [
        {
          "method": "org.eclipse.jdi.internal.connect.PacketSendManager.sendPacket",
          "source": "PacketSendManager.java:79"
        },
        {
          "method": "org.eclipse.jdi.internal.MirrorImpl.requestVM",
          "source": "MirrorImpl.java:169"
        },
        {
          "method": "org.eclipse.jdi.internal.MirrorImpl.requestVM",
          "source": "MirrorImpl.java:191"
        },
        {
          "method": "org.eclipse.jdi.internal.MirrorImpl.requestVM",
          "source": "MirrorImpl.java:206"
        },
        {
          "method": "org.eclipse.jdi.internal.ThreadReferenceImpl.frameCount",
          "source": "ThreadReferenceImpl.java:147"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread.getUnderlyingFrameCount",
          "source": "JDIThread.java:629"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread.createAllStackFrames",
          "source": "JDIThread.java:543"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread.computeStackFrames",
          "source": "JDIThread.java:409"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread.computeStackFrames",
          "source": "JDIThread.java:515"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread.getTopStackFrame",
          "source": "JDIThread.java:1018"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler$5.run",
          "source": "LaunchViewEventHandler.java:540"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:118"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:2780"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2451"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1579"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1550"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:282"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:144"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:102"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:220"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:273"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:58"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:60"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:391"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:710"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:694"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "79919",
      "date": "2004-12-01T19:55:28+01:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    },
    {
      "exceptionType": "com.sun.jdi.VMDisconnectedException",
      "message": "Got IOException from Virtual Machine",
      "elements": [
        {
          "method": "org.eclipse.jdi.internal.connect.PacketSendManager.sendPacket",
          "source": "PacketSendManager.java:79"
        },
        {
          "method": "org.eclipse.jdi.internal.MirrorImpl.requestVM",
          "source": "MirrorImpl.java:169"
        },
        {
          "method": "org.eclipse.jdi.internal.MirrorImpl.requestVM",
          "source": "MirrorImpl.java:191"
        },
        {
          "method": "org.eclipse.jdi.internal.MirrorImpl.requestVM",
          "source": "MirrorImpl.java:206"
        },
        {
          "method": "org.eclipse.jdi.internal.ThreadReferenceImpl.frameCount",
          "source": "ThreadReferenceImpl.java:147"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread.getUnderlyingFrameCount",
          "source": "JDIThread.java:629"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread.createAllStackFrames",
          "source": "JDIThread.java:543"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread.computeStackFrames",
          "source": "JDIThread.java:409"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread.computeStackFrames",
          "source": "JDIThread.java:515"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread.getTopStackFrame",
          "source": "JDIThread.java:1018"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler$5.run",
          "source": "LaunchViewEventHandler.java:540"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:118"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:2780"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2451"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1579"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1550"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:282"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:144"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:102"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:220"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:273"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:58"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:60"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:391"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:710"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:694"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "79919",
      "date": "2004-12-01T19:55:28+01:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "79919",
  "bugId": "79919",
  "date": "2004-12-01T19:55:28+01:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "normal"
}