{
  "comments": [
    "Build: I-20040121\n\n1. create a Hello world plug-in.\n2. Create a feature that contains the plug-in.\n3. Create an update site to create the feature.\n4. Right-click on the site.xml and choose PDE tools \u003e Build site.\nThe site will build ok, but there is an NPE from ant core:\n\nError Jan 23, 2004 15:47:56.300 Malformed URL.\njava.io.IOException\nat org.eclipse.core.internal.boot.PlatformURLConnection.setResolvedURL\n(PlatformURLConnection.java:321)\nat org.eclipse.core.internal.boot.PlatformURLHandler.openConnection\n(PlatformURLHandler.java:64)\nat \norg.eclipse.osgi.framework.internal.protocol.URLStreamHandlerProxy.openConnecti\non(URLStreamHandlerProxy.java:113)\nat java.net.URL.openConnection(URL.java:896)\nat org.eclipse.core.internal.runtime.InternalPlatform.asActualURL\n(InternalPlatform.java:230)\nat org.eclipse.core.internal.runtime.InternalPlatform.asLocalURL\n(InternalPlatform.java:210)\nat org.eclipse.core.runtime.Platform.asLocalURL(Platform.java:226)\nat org.eclipse.ant.core.AntCorePreferences.computeDefaultExtraClasspathEntries\n(AntCorePreferences.java:513)\nat org.eclipse.ant.core.AntCorePreferences.\u003cinit\u003e(AntCorePreferences.java:94)\nat org.eclipse.ant.core.AntCorePlugin.getPreferences(AntCorePlugin.java:181)\nat org.eclipse.ant.core.AntCorePlugin.getNewClassLoader(AntCorePlugin.java:212)\nat org.eclipse.ant.core.AntRunner.getClassLoader(AntRunner.java:490)\nat org.eclipse.ant.core.AntRunner.getInternalAntRunner(AntRunner.java:360)\nat org.eclipse.ant.core.AntRunner.run(AntRunner.java:288)\nat org.eclipse.pde.internal.ui.feature.BuildSiteAction.runScript\n(BuildSiteAction.java:165)\nat org.eclipse.pde.internal.ui.feature.BuildSiteAction.doBuildFeature\n(BuildSiteAction.java:115)\nat org.eclipse.pde.internal.ui.feature.BuildSiteAction.access$3\n(BuildSiteAction.java:97)\nat org.eclipse.pde.internal.ui.feature.BuildSiteAction$2.run\n(BuildSiteAction.java:67)\nat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1564)\nat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1583)\nat org.eclipse.pde.internal.ui.feature.BuildSiteAction$1.run\n(BuildSiteAction.java:76)\nat org.eclipse.jface.operation.ModalContext.runInCurrentThread\n(ModalContext.java:302)\nat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:252)\nat org.eclipse.jface.dialogs.ProgressMonitorDialog.run\n(ProgressMonitorDialog.java:394)\nat org.eclipse.pde.internal.ui.feature.BuildSiteAction.run\n(BuildSiteAction.java:88)\nat org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:273)\nat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:536)\nat org.eclipse.jface.action.ActionContributionItem.access$2\n(ActionContributionItem.java:488)\nat org.eclipse.jface.action.ActionContributionItem$5.handleEvent\n(ActionContributionItem.java:420)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:833)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2340)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2021)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1530)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1506)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:265)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)\nat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:47)\nat org.eclipse.core.internal.runtime.PlatformActivator$1.run\n(PlatformActivator.java:248)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:85)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:324)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:279)\nat org.eclipse.core.launcher.Main.run(Main.java:742)\nat org.eclipse.core.launcher.Main.main(Main.java:581)",
    "Is there an NPE or \"just\" the Malformed URL IO exception?",
    "No NPE.  Just the malformed URL.  \nSorry.  I opened three bug reports in 2 minutes and just got confused.",
    "I am having no luck reproducing.\n\nBut I looking at the stack trace I do not believe this is an Ant bug.\nI am asking for the install URL of a plugin that is claiming to extend the \nextraClasspathEntries extension point.\n\nWe handle the exception and log it...not much more I could do.\n\nIt would be interesting to know why the platform is failing to resolve the URL \nfor the plugin though...",
    "It is possible that this is related to the recent semantic change in \nPlatform.resolve(url) that was announced on the mailing list a few days ago.\nIn any event, the exception happens the first time I try to build site.\nThe site builds fine.  The exception gets logged in a very dramatic way though.\nSo I suggest asking the core team to comment.",
    "Darin, I figured out what the problem is.\nThe exception is being thrown in my runtime workbench, and \norg.eclipse.pde.core is in source form in my development workbench.\n\nIn the runtime workbench, as you loop through the extensions \nfor \"org.eclipse.ant.core.extraclasspathEntries\", you process the entry \nreferencing pdecore.jar.  When you look for this jar, you don\u0027t find it, as \npde.core is in source form, so you throw the URL exception.\n\nThis malformed url exception is thus an artifact of self-hosting and does not \naffect the building of the site.\n\nI was going to close this bug report as INVALID.  However, maybe you would \nwant to handle an extension whose JAR is missing more gracefully than a stack \ntrace dump.\n",
    "This is developer error but it would have been easier to diagnose with a \nbetter error message.",
    "I separated out the errors for MalformedURLException and the more general \nexceptions.\n\nChanges to AntCorePreferences and InternalCoreAntMessages",
    "Please verify Jared.",
    "Verified code."
  ],
  "commentCreationDates": [
    "2004-01-23T20:57:13+01:00",
    "2004-01-23T21:06:59+01:00",
    "2004-01-23T21:12:12+01:00",
    "2004-01-23T23:51:22+01:00",
    "2004-01-24T02:15:20+01:00",
    "2004-01-24T02:54:26+01:00",
    "2004-01-24T06:50:16+01:00",
    "2004-01-24T16:19:55+01:00",
    "2004-01-24T16:20:09+01:00",
    "2004-01-31T19:07:20+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.io.IOException",
      "elements": [
        {
          "method": "org.eclipse.core.internal.boot.PlatformURLConnection.setResolvedURL",
          "source": "PlatformURLConnection.java:321"
        },
        {
          "method": "org.eclipse.core.internal.boot.PlatformURLHandler.openConnection",
          "source": "PlatformURLHandler.java:64"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.protocol.URLStreamHandlerProxy.openConnection",
          "source": "URLStreamHandlerProxy.java:113"
        },
        {
          "method": "java.net.URL.openConnection",
          "source": "URL.java:896"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.asActualURL",
          "source": "InternalPlatform.java:230"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.asLocalURL",
          "source": "InternalPlatform.java:210"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.asLocalURL",
          "source": "Platform.java:226"
        },
        {
          "method": "org.eclipse.ant.core.AntCorePreferences.computeDefaultExtraClasspathEntries",
          "source": "AntCorePreferences.java:513"
        },
        {
          "method": "org.eclipse.ant.core.AntCorePreferences.\u003cinit\u003e",
          "source": "AntCorePreferences.java:94"
        },
        {
          "method": "org.eclipse.ant.core.AntCorePlugin.getPreferences",
          "source": "AntCorePlugin.java:181"
        },
        {
          "method": "org.eclipse.ant.core.AntCorePlugin.getNewClassLoader",
          "source": "AntCorePlugin.java:212"
        },
        {
          "method": "org.eclipse.ant.core.AntRunner.getClassLoader",
          "source": "AntRunner.java:490"
        },
        {
          "method": "org.eclipse.ant.core.AntRunner.getInternalAntRunner",
          "source": "AntRunner.java:360"
        },
        {
          "method": "org.eclipse.ant.core.AntRunner.run",
          "source": "AntRunner.java:288"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BuildSiteAction.runScript",
          "source": "BuildSiteAction.java:165"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BuildSiteAction.doBuildFeature",
          "source": "BuildSiteAction.java:115"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BuildSiteAction.access$3",
          "source": "BuildSiteAction.java:97"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BuildSiteAction$2.run",
          "source": "BuildSiteAction.java:67"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1564"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1583"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BuildSiteAction$1.run",
          "source": "BuildSiteAction.java:76"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:302"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:252"
        },
        {
          "method": "org.eclipse.jface.dialogs.ProgressMonitorDialog.run",
          "source": "ProgressMonitorDialog.java:394"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BuildSiteAction.run",
          "source": "BuildSiteAction.java:88"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:273"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:536"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:420"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:833"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2340"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2021"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1530"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1506"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:265"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:139"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:47"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:248"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:279"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:742"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:581"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "50505",
      "date": "2004-01-23T20:57:13+01:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    }
  ],
  "groupId": "50505",
  "bugId": "50505",
  "date": "2004-01-23T20:57:13+01:00",
  "product": "Platform",
  "component": "Ant",
  "severity": "normal"
}