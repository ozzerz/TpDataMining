{
  "comments": [
    "I20070109-1805\n\nI always get an NPE when trying to use the eclipse or OSGi launchers.  This makes the latest I-Build unusable for me.\n\njava.lang.NullPointerException\nat org.eclipse.pde.internal.ui.launcher.LaunchArgumentsHelper.getEquinoxStartupPath(LaunchArgumentsHelper.java:208)\nat org.eclipse.pde.internal.ui.launcher.LaunchArgumentsHelper.constructClasspath(LaunchArgumentsHelper.java:178)\nat org.eclipse.pde.ui.launcher.AbstractPDELaunchConfiguration.getClasspath(AbstractPDELaunchConfiguration.java:148)\nat org.eclipse.pde.ui.launcher.AbstractPDELaunchConfiguration.launch(AbstractPDELaunchConfiguration.java:72)\nat org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:734)\nat org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:613)\nat org.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch(DebugUIPlugin.java:803)\nat org.eclipse.debug.internal.ui.DebugUIPlugin$7.run(DebugUIPlugin.java:993)\nat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)",
    "Created an attachment (id\u003d56697)\ncomplete log\n\nHere is the complete log.  The first NPE is from using the eclipse launcher the second NPE is from using the OSGi launcher.",
    "I narrowed down the cause.  I have all the new launcher projects checked out in my workspace\n\norg.eclipse.equinox.launcher\norg.eclipse.equinox.launcher.carbon.macosx\norg.eclipse.equinox.launcher.gtk.linux.ppc\norg.eclipse.equinox.launcher.gtk.linux.x86\norg.eclipse.equinox.launcher.gtk.linux.x86_64\norg.eclipse.equinox.launcher.gtk.solaris.sparc\norg.eclipse.equinox.launcher.motif.aix.ppc\norg.eclipse.equinox.launcher.motif.hpux.PA_RISC\norg.eclipse.equinox.launcher.win32.win32.x86\n\nIf I close these projects then I can launch again.  So it must have something to do with the launcher projects in the workspace.",
    "You can check all the launcher projects out from the equinox incubator on dev.eclipse.org at:\n\n/cvsroot/eclipse/equinox-incubator/org.eclipse.equinox.launcher\n\nThe launcher fragments are nested inside the main launcher project.  I also have each of these checked out individually as projects.  All the fragment projects are under\n\n/cvsroot/eclipse/equinox-incubator/org.eclipse.equinox.launcher/fragments/\n\n",
    "reducing severity since I have a workaround.",
    "I think I found the problem",
    "Created an attachment (id\u003d56700)\npatch to pde.ui\n\nThe original code called .getOutputPath() on a IClasspathEntry.  If the source folder (IClasspathEntry) is suppose to output to the default output folder, this call returns null.  This was where the NPE was coming from.",
    "I am up and running on the patched pde.ui.  Thanks Brian for the very quick response and fix.  I\u0027ll leave it up to you if you want to respin the I-Build.  This probably only effects a small number of developers from the core team for now.",
    "Sine the build is having some problems, it affects a small # of developers and we have a work around for this bug, I am not going to ask for a rebuild.  I will drop a slightly modified patch into HEAD so next week we should not have this problem.",
    "OK, it is fixed.  But we require one change in org.eclipse.equinox.launcher to launch when that plug-ins is imported through the binary import.\n\nAndrew, can you add \"Bundle-ClassPath: .\" to org.eclipse.equinox.launcher?  This will prevent future problems.",
    "I\u0027m confused why you need Bundle-ClassPath: . added to the launcher manifest.  If this header is not specified then the default value is \u0027.\u0027.  I thought PDE handled the default case?",
    "when importing a plug-in, we determine if it requires a Java project if it meets one of the following:\n1. it has a Bundle-Classpath header\n2. it imports or exports packages\n3. it has a Require-Bundle header\n\nOtherwise, we don\u0027t give it a Java nature.  For example, doc plugins don\u0027t get a Java nature.\n\nThis plugin is a special rare case in taht it has no Bundle-Classpath/Import-Package/Export-Package/Require-Bundle headers.  There is no way for us to distinguish between it and a doc-like plugin.  That is why we suggested adding the harmless Bundle-Classpath header.\n\nHowever, if that plugin has an EE header, then it should be sufficient to distinguish it from a non-code containing plugin (without the need for a bundle-classpath header) and we should add criterion #4 to the list above.",
    "Adding the Bundle-ClassPath header in this case is harmless (and can be done if we want to temporarily work around this issue).  \n\nTechnically any bundle with code should document its required execution environment.  Andrew, what is the new launchers required EE?  I hope it is foundation 1.0 or lower :-).  Either way you should add the EE header to the manifest.",
    "The launcher bundle has \nBundle-RequiredExecutionEnvironment: J2SE-1.4, CDC-1.0/Foundation-1.0, J2SE-1.3\nThough I will need to double check it does actually still run on foundation 1.0\n\nI will add the classpath entry to play nice for now."
  ],
  "commentCreationDates": [
    "2007-01-10T14:23:13+01:00",
    "2007-01-10T14:25:32+01:00",
    "2007-01-10T14:41:04+01:00",
    "2007-01-10T14:45:51+01:00",
    "2007-01-10T14:46:33+01:00",
    "2007-01-10T14:56:50+01:00",
    "2007-01-10T15:11:18+01:00",
    "2007-01-10T15:45:50+01:00",
    "2007-01-10T16:00:03+01:00",
    "2007-01-10T16:50:11+01:00",
    "2007-01-10T17:12:45+01:00",
    "2007-01-10T17:39:44+01:00",
    "2007-01-10T17:52:03+01:00",
    "2007-01-10T18:07:33+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.pde.internal.ui.launcher.LaunchArgumentsHelper.getEquinoxStartupPath",
          "source": "LaunchArgumentsHelper.java:208"
        },
        {
          "method": "org.eclipse.pde.internal.ui.launcher.LaunchArgumentsHelper.constructClasspath",
          "source": "LaunchArgumentsHelper.java:178"
        },
        {
          "method": "org.eclipse.pde.ui.launcher.AbstractPDELaunchConfiguration.getClasspath",
          "source": "AbstractPDELaunchConfiguration.java:148"
        },
        {
          "method": "org.eclipse.pde.ui.launcher.AbstractPDELaunchConfiguration.launch",
          "source": "AbstractPDELaunchConfiguration.java:72"
        },
        {
          "method": "org.eclipse.debug.internal.core.LaunchConfiguration.launch",
          "source": "LaunchConfiguration.java:734"
        },
        {
          "method": "org.eclipse.debug.internal.core.LaunchConfiguration.launch",
          "source": "LaunchConfiguration.java:613"
        },
        {
          "method": "org.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch",
          "source": "DebugUIPlugin.java:803"
        },
        {
          "method": "org.eclipse.debug.internal.ui.DebugUIPlugin$7.run",
          "source": "DebugUIPlugin.java:993"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "170081",
      "date": "2007-01-10T14:23:13+01:00",
      "product": "PDE",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "170081",
  "bugId": "170081",
  "date": "2007-01-10T14:23:13+01:00",
  "product": "PDE",
  "component": "UI",
  "severity": "normal"
}