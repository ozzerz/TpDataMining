{
  "comments": [
    "Steps to reproduce:\n\n1. Open uk.gov.cfh.mim.6.1.01/TemplatedExamples/POCD_EX170001UK03_01_(OP_Wilfred_Smith_Surgical_Lipoma)_tight.xml in the MIE\n2. In the design view, select the element ClinicalDocument/author/COCD_TP145001UK02.AssignedAuthorSDS, then right-click on it to open the context menu.\n\nActual behavior:\n1. Context menu not displayed.\n2. Throws a NPE (see Error Log).\n\nExpected behavior:\nDisplay context menu.\n\n\nStack trace excerpt:\njava.lang.NullPointerException\n\tat org.eclipse.ohf.h3et.instanceeditor.core.services.InstanceModelQuery.isCfHTemplateNode(InstanceModelQuery.java:442)\n\tat org.eclipse.ohf.h3et.instanceeditor.core.services.InstanceModelQuery.templateStatus(InstanceModelQuery.java:407)\n\tat org.eclipse.ohf.h3et.instanceeditor.ui.contextmenu.MessageInstanceXMLNodeActionManager.createTemplateActionsMenu(MessageInstanceXMLNodeActionManager.java:247)\n\tat org.eclipse.ohf.h3et.instanceeditor.ui.contextmenu.XMLNodeActionManager.contributeActions(XMLNodeActionManager.java:98)\n\tat org.eclipse.ohf.h3et.instanceeditor.ui.contextmenu.XMLNodeActionManager.fillContextMenu(XMLNodeActionManager.java:57)\n\tat org.eclipse.ohf.h3et.instanceeditor.ui.views.MessageInstanceDesignView$NodeActionMenuListener.menuAboutToShow(MessageInstanceDesignView.java:73)\n\tat org.eclipse.jface.action.MenuManager.fireAboutToShow(MenuManager.java:289)\n.\n.\n.",
    "Actually the context menu is only missing the first time you click on COCD_TP145001UK02.AssignedAuthorSDS, subsequent right-clicks open the context menu, but sometimes we get the NPE as well. The only consistently reproducible NPE happens at the first click, the others seem random to me at this point.",
    "Fixed and tested."
  ],
  "commentCreationDates": [
    "2007-03-27T14:56:05+02:00",
    "2007-03-27T15:20:15+02:00",
    "2007-03-28T11:50:59+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ohf.h3et.instanceeditor.core.services.InstanceModelQuery.isCfHTemplateNode",
          "source": "InstanceModelQuery.java:442"
        },
        {
          "method": "org.eclipse.ohf.h3et.instanceeditor.core.services.InstanceModelQuery.templateStatus",
          "source": "InstanceModelQuery.java:407"
        },
        {
          "method": "org.eclipse.ohf.h3et.instanceeditor.ui.contextmenu.MessageInstanceXMLNodeActionManager.createTemplateActionsMenu",
          "source": "MessageInstanceXMLNodeActionManager.java:247"
        },
        {
          "method": "org.eclipse.ohf.h3et.instanceeditor.ui.contextmenu.XMLNodeActionManager.contributeActions",
          "source": "XMLNodeActionManager.java:98"
        },
        {
          "method": "org.eclipse.ohf.h3et.instanceeditor.ui.contextmenu.XMLNodeActionManager.fillContextMenu",
          "source": "XMLNodeActionManager.java:57"
        },
        {
          "method": "org.eclipse.ohf.h3et.instanceeditor.ui.views.MessageInstanceDesignView$NodeActionMenuListener.menuAboutToShow",
          "source": "MessageInstanceDesignView.java:73"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.fireAboutToShow",
          "source": "MenuManager.java:289"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "179507",
      "date": "2007-03-27T14:56:05+02:00",
      "product": "OHF",
      "component": "H3ET",
      "severity": "normal"
    }
  ],
  "groupId": "179507",
  "bugId": "179507",
  "date": "2007-03-27T14:56:05+02:00",
  "product": "OHF",
  "component": "H3ET",
  "severity": "normal"
}