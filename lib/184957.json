{
  "comments": [
    "The following code crashes eclipse compiler:\n\npublic class CompilerCrash {\n\tpublic static void main(String[] args) {\n\t    if(new Integer(2) \u003d\u003d 0) {}\n\t}\n}\n\nInternal compiler error\njava.lang.ArrayIndexOutOfBoundsException: -1\n\tat org.eclipse.jdt.internal.compiler.codegen.StackMapFrameCodeStream.generateUnboxingConversion(StackMapFrameCodeStream.java:737)\n\tat org.eclipse.jdt.internal.compiler.codegen.CodeStream.generateImplicitConversion(CodeStream.java:1907)\n\tat org.eclipse.jdt.internal.compiler.ast.AllocationExpression.generateCode(AllocationExpression.java:129)\n\tat org.eclipse.jdt.internal.compiler.ast.EqualExpression.generateNonBooleanEqual(EqualExpression.java:418)\n\tat org.eclipse.jdt.internal.compiler.ast.EqualExpression.generateCode(EqualExpression.java:158)\n\tat org.eclipse.jdt.internal.compiler.ast.IfStatement.generateCode(IfStatement.java:200)\n\tat org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.generateCode(AbstractMethodDeclaration.java:229)\n\tat org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.generateCode(AbstractMethodDeclaration.java:176)\n\tat org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.generateCode(TypeDeclaration.java:533)\n\tat org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.generateCode(TypeDeclaration.java:584)\n\tat org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.generateCode(CompilationUnitDeclaration.java:214)\n\tat org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:602)\n\tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:411)\n\tat org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:353)\n\tat org.eclipse.jdt.internal.core.builder.IncrementalImageBuilder.compile(IncrementalImageBuilder.java:302)\n\tat org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:290)\n\tat org.eclipse.jdt.internal.core.builder.IncrementalImageBuilder.build(IncrementalImageBuilder.java:130)\n\tat org.eclipse.jdt.internal.core.builder.JavaBuilder.buildDeltas(JavaBuilder.java:252)\n\tat org.eclipse.jdt.internal.core.builder.JavaBuilder.build(JavaBuilder.java:185)\n\tat org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:603)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:167)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:201)\n\tat org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:230)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:233)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:252)\n\tat org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:285)\n\tat org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:154)\n\tat org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:217)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\n\tzzzSCJP/src/chapter3/e\tCompilerCrash.java\tline 0\t1178045134109\t211779",
    "It works fine with 3.3M7 candidate.\nI\u0027ll check 3.2.x maintenance stream.",
    "Reproduced with 3.2.x maintenance stream.\nPhilippe, do you want a fix for this one in this stream?",
    "This is also a problem in HEAD as it leads to a VerifyError.\nI am invesigating a fix.\nThanks for the report.",
    "Thanks for your support and super quick answer, I was thinking that this was an automated response :-)",
    "Created an attachment (id\u003d65554)\nProposed fix\n\n",
    "Created an attachment (id\u003d65555)\nRegression test\n\n",
    "Created an attachment (id\u003d65557)\nBetter fix\n\n",
    "Created an attachment (id\u003d65558)\nRegression tests\n\n",
    "Created an attachment (id\u003d65559)\nBetter patch\n\nCleanup some unnecessary test in the switch statement.",
    "Philippe, please review.\nWould be a good candidate for 3.3M7.",
    "Patch looks good. +1 for 3.2.x.\nAlso did you check QualifiedAllocationExpression ? It may need a similar fix.",
    "Created an attachment (id\u003d65619)\nLast patch\n\nThis patch also includes the corresponding change for the QualifiedAllocationExpression",
    "Created an attachment (id\u003d65620)\nMore regression tests\n\n",
    "Set as 3.3M7.\nFix in under testing.",
    "Released for 3.3M7.\nAdded regression tests:\norg.eclipse.jdt.core.tests.compiler.regression.AutoBoxingTest.test147()\norg.eclipse.jdt.core.tests.compiler.regression.AutoBoxingTest.test148()\norg.eclipse.jdt.core.tests.compiler.regression.AutoBoxingTest.test149()\norg.eclipse.jdt.core.tests.compiler.regression.AutoBoxingTest.test150()\norg.eclipse.jdt.core.tests.compiler.regression.AutoBoxingTest.test151()\norg.eclipse.jdt.core.tests.compiler.regression.AutoBoxingTest.test152()",
    "Verify for 3.3M7 with  I20070503-1400",
    "Reopen to backport to 3.2.x maintenance stream.",
    "Created an attachment (id\u003d65913)\nLast patch for 3.2.x maintenance stream\n\n",
    "Released in 3.2 maintenance stream.\nSame regression tests added.",
    "I\u0027ll set the milestone when 3.2.3 is available.",
    "Setting milestone to 3.3M7 since there might never be a 3.2.3. If a 3.2.3 was to appear, then we should set the milestone to 3.2.3.",
    "Verify for 3.3M7 with  I20070503-1400"
  ],
  "commentCreationDates": [
    "2007-05-01T20:57:17+02:00",
    "2007-05-01T21:00:12+02:00",
    "2007-05-01T21:19:06+02:00",
    "2007-05-01T21:53:38+02:00",
    "2007-05-01T22:28:02+02:00",
    "2007-05-02T03:02:55+02:00",
    "2007-05-02T03:03:15+02:00",
    "2007-05-02T03:47:32+02:00",
    "2007-05-02T03:47:50+02:00",
    "2007-05-02T05:17:09+02:00",
    "2007-05-02T05:17:39+02:00",
    "2007-05-02T15:51:04+02:00",
    "2007-05-02T17:19:30+02:00",
    "2007-05-02T17:20:07+02:00",
    "2007-05-02T17:21:11+02:00",
    "2007-05-02T19:12:20+02:00",
    "2007-05-04T02:53:04+02:00",
    "2007-05-04T14:45:00+02:00",
    "2007-05-04T14:45:52+02:00",
    "2007-05-04T15:15:59+02:00",
    "2007-05-04T15:16:19+02:00",
    "2007-05-04T16:05:52+02:00",
    "2007-05-07T16:18:10+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "-1",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.codegen.StackMapFrameCodeStream.generateUnboxingConversion",
          "source": "StackMapFrameCodeStream.java:737"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.codegen.CodeStream.generateImplicitConversion",
          "source": "CodeStream.java:1907"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.AllocationExpression.generateCode",
          "source": "AllocationExpression.java:129"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.EqualExpression.generateNonBooleanEqual",
          "source": "EqualExpression.java:418"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.EqualExpression.generateCode",
          "source": "EqualExpression.java:158"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.IfStatement.generateCode",
          "source": "IfStatement.java:200"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.generateCode",
          "source": "AbstractMethodDeclaration.java:229"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.generateCode",
          "source": "AbstractMethodDeclaration.java:176"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.generateCode",
          "source": "TypeDeclaration.java:533"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.generateCode",
          "source": "TypeDeclaration.java:584"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.generateCode",
          "source": "CompilationUnitDeclaration.java:214"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.process",
          "source": "Compiler.java:602"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:411"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile",
          "source": "AbstractImageBuilder.java:353"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.IncrementalImageBuilder.compile",
          "source": "IncrementalImageBuilder.java:302"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile",
          "source": "AbstractImageBuilder.java:290"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.IncrementalImageBuilder.build",
          "source": "IncrementalImageBuilder.java:130"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.JavaBuilder.buildDeltas",
          "source": "JavaBuilder.java:252"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.JavaBuilder.build",
          "source": "JavaBuilder.java:185"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$2.run",
          "source": "BuildManager.java:603"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:167"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:201"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$1.run",
          "source": "BuildManager.java:230"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:233"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuildLoop",
          "source": "BuildManager.java:252"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.build",
          "source": "BuildManager.java:285"
        },
        {
          "method": "org.eclipse.core.internal.events.AutoBuildJob.doBuild",
          "source": "AutoBuildJob.java:154"
        },
        {
          "method": "org.eclipse.core.internal.events.AutoBuildJob.run",
          "source": "AutoBuildJob.java:217"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "184957",
      "date": "2007-05-01T20:57:17+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "184957",
  "bugId": "184957",
  "date": "2007-05-01T20:57:17+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}