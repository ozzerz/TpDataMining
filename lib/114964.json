{
  "comments": [
    "Hi,\n\n  I\u0027m facing a strange issue with WTP 0.7.1 on AIX. Our product uses WTP WSDL \nant validation task and this feature works well on many platforms: Windows, \nLinux, Solaris and HP X1*. The only platform causing problems is AIX. We have \ntested on both 5.1 and 5.3 versions \u003cith the same product environment (JRE \n1.4.2 latest according to the platform).\n\n  Our tests always lead to the same error message:\nERROR   1:1:The namespace null specified is not a valid WSDL namespace.\n\n\nAfter some code investigation, it seems that this message may be thrown for \nmany reasons since deeper exceptions are not catched at all ... So i decided to \nuse the source code of WTP wsdl validation, compile it and then debug it in \norder to make the real reason appear ... The only thing i get was a really \nstrange error dealing with java internals and class loaders. Given that i\u0027m not \na Java hardcoder, i can\u0027t investigate any more whith this kind of errors.\n\nHere is the stack i get when i\u0027m debugging the validation task:\n\njava.lang.NoSuchMethodError: org.apache.xerces.dom.ElementImpl: method \nsetUserData(Ljava/lang/String;Ljava/lang/Object;Lorg/w3c/dom/UserDataHandler;)\nLjava/lang/Object; not found\n        at \norg.eclipse.wst.wsdl.validation.internal.xml.LineNumberDOMParser.startElement\n(LineNumberDOMParser.java:124)\n        at org.apache.xerces.impl.XMLNamespaceBinder.handleStartElement(Unknown \nSource)\n        at org.apache.xerces.impl.XMLNamespaceBinder.startElement(Unknown \nSource)\n        at org.apache.xerces.impl.dtd.XMLDTDValidator.startElement(Unknown \nSource)\n        at \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanStartElement(Unknown \nSource)\n        at \norg.apache.xerces.impl.XMLDocumentScannerImpl$ContentDispatcher.scanRootElementH\nook(Unknown Source)\n        at \norg.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.\ndispatch(Unknown Source)\n        at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument\n(Unknown Source)\n        at org.apache.xerces.parsers.DTDConfiguration.parse(Unknown Source)\n        at org.apache.xerces.parsers.DTDConfiguration.parse(Unknown Source)\n        at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n        at org.apache.xerces.parsers.DOMParser.parse(Unknown Source)\n        at \norg.eclipse.wst.wsdl.validation.internal.ValidationController.getDocument\n(ValidationController.java:343)\n        at \norg.eclipse.wst.wsdl.validation.internal.ValidationController.validate\n(ValidationController.java:126)\n        at org.eclipse.wst.wsdl.validation.internal.WSDLValidator.validate\n(WSDLValidator.java:96)\n        at org.eclipse.wst.wsdl.validation.internal.WSDLValidator.validate\n(WSDLValidator.java:81)\n        at org.eclipse.wst.wsdl.validation.internal.ui.ant.WSDLValidate.execute\n(WSDLValidate.java:343)\n        at com.axway.xws.wsdl.validator.WSDLValidator.validate\n(WSDLValidator.java:176)\n        at com.axway.xws.xwp.builder.XWSPackageBuilder.doGenerateXWSWSDL\n(XWSPackageBuilder.java:229)\n        at com.axway.xws.xwp.builder.XWSPackageBuilder.generatePackage\n(XWSPackageBuilder.java:133)\n        at com.axway.xws.server.iface.ant.XWSPackageGeneratorTask.execute\n(XWSPackageGeneratorTask.java:48)\n        at \njunit.axway.xws.generator.pack.XWSPackageAGeneratorTest.testGeneratedPackage\n(XWSPackageAGeneratorTest.java:190)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:85)\n        at sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:58)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:60)\n        at java.lang.reflect.Method.invoke(Method.java:391)\n        at junit.framework.TestCase.runTest(TestCase.java:154)\n        at junit.framework.TestCase.runBare(TestCase.java:127)\n        at junit.framework.TestResult$1.protect(TestResult.java:106)\n        at junit.framework.TestResult.runProtected(TestResult.java:124)\n        at junit.framework.TestResult.run(TestResult.java:109)\n        at junit.framework.TestCase.run(TestCase.java:118)\n        at junit.framework.TestSuite.runTest(TestSuite.java:208)\n        at junit.framework.TestSuite.run(TestSuite.java:203)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests\n(RemoteTestRunner.java:478)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run\n(RemoteTestRunner.java:344)\n        at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main\n(RemoteTestRunner.java:196)\n\n\n\nAs you can see, the problem seems to be a non existent method in:\n\norg.apache.xerces.dom.ElementImpl: method setUserData\n\nBut I can compile WTP wsdl validation source code without any warning, and this \nmethod DOES exist in my classpath (we are using Xerces latest build 2.7.1)\n\nI think it could be a classpath problem, or maybe i\u0027m messing with source \ncode ... i don\u0027t know.\n\nPS: Here is the ant task caller code :\n\n    /**\n     * Validates the specified wsdl agains the WS-I Basic Profile 1.1 rules.\n     * \n     * @param wsdlURI\n     *            A wsdl uri\n     * @throws WSDLValidationException\n     *             If the WSDL file is not valid\n     */\n    public static void validate(URI wsdlURI) throws WSDLValidationException {\n        try {\n            // Validate WSDL file\n            Project project \u003d new Project();\n            project.init();\n\n            DefaultLogger consoleLogger \u003d new DefaultLogger();\n            consoleLogger.setErrorPrintStream(System.err);\n            consoleLogger.setOutputPrintStream(System.out);\n            consoleLogger.setMessageOutputLevel(Project.MSG_INFO);\n            project.addBuildListener(consoleLogger);\n\n            // Configure the ANT project\n            project.addTaskDefinition(\"WSDLValidate\", WSDLValidate.class); //\n$NON-NLS-1$\n\n            // Setup proxy parameter to allow remote WSDL access\n            setupProxy(project);\n\n            // Start WSDL validation\n            WSDLValidate wsdlValidateTask \u003d null;\n            wsdlValidateTask \u003d (WSDLValidate) project.createTask\n(\"WSDLValidate\"); //$NON-NLS-1$\n            wsdlURI.normalize();\n            wsdlValidateTask.setFile(wsdlURI.toString());\n\n            wsdlValidateTask.setSchemaDir(XWS.getSchemaHome());\n            wsdlValidateTask.setFailOnError(true);\n\n            wsdlValidateTask.execute();\n        } catch (BuildException e) {\n            throw new WSDLValidationException(e);\n        } catch (XWSServerException e) {\n            throw new WSDLValidationException(e);\n        }\n    }",
    "This error usually shows up when there is a conflict in the version of Xerces in\nuse. I put a fix in for a similar bug with the IBM 1.4.2 JDK on Windows that may\naffect AIX as well. Can you give this a shot with a recent WTP integration\ndriver or wait until M9 is declared next week?",
    "Bertrand, this problem should be fixed in WTP 1.0. I don\u0027t currently have an AIX 5.1 or 5.3 system available to test. Please verify in your specific environment. Reopen if you\u0027re still experiencing problems with WTP 1.0 or 1.0.1.\n\nThanks.",
    "This is part of a mass update to close out all stale WTP bugs which are in the resolved state without an appropriate targeted version.  If you feel this bug was closed inappropriately, please reopen."
  ],
  "commentCreationDates": [
    "2005-11-03T18:43:59+01:00",
    "2005-11-19T08:56:41+01:00",
    "2006-03-15T00:29:35+01:00",
    "2006-11-28T20:50:19+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoSuchMethodError",
      "message": "org.apache.xerces.dom.ElementImpl: method  setUserData(Ljava/lang/String;Ljava/lang/Object;Lorg/w3c/dom/UserDataHandler;) Ljava/lang/Object; not found",
      "elements": [
        {
          "method": "org.eclipse.wst.wsdl.validation.internal.xml.LineNumberDOMParser.startElement",
          "source": "LineNumberDOMParser.java:124"
        },
        {
          "method": "org.apache.xerces.impl.XMLNamespaceBinder.handleStartElement",
          "source": "Unknown  Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLNamespaceBinder.startElement",
          "source": "Unknown  Source"
        },
        {
          "method": "org.apache.xerces.impl.dtd.XMLDTDValidator.startElement",
          "source": "Unknown  Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanStartElement",
          "source": "Unknown  Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLDocumentScannerImpl$ContentDispatcher.scanRootElementHook",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.parsers.DTDConfiguration.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.parsers.DTDConfiguration.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.parsers.XMLParser.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.parsers.DOMParser.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.wst.wsdl.validation.internal.ValidationController.getDocument",
          "source": "ValidationController.java:343"
        },
        {
          "method": "org.eclipse.wst.wsdl.validation.internal.ValidationController.validate",
          "source": "ValidationController.java:126"
        },
        {
          "method": "org.eclipse.wst.wsdl.validation.internal.WSDLValidator.validate",
          "source": "WSDLValidator.java:96"
        },
        {
          "method": "org.eclipse.wst.wsdl.validation.internal.WSDLValidator.validate",
          "source": "WSDLValidator.java:81"
        },
        {
          "method": "org.eclipse.wst.wsdl.validation.internal.ui.ant.WSDLValidate.execute",
          "source": "WSDLValidate.java:343"
        },
        {
          "method": "com.axway.xws.wsdl.validator.WSDLValidator.validate",
          "source": "WSDLValidator.java:176"
        },
        {
          "method": "com.axway.xws.xwp.builder.XWSPackageBuilder.doGenerateXWSWSDL",
          "source": "XWSPackageBuilder.java:229"
        },
        {
          "method": "com.axway.xws.xwp.builder.XWSPackageBuilder.generatePackage",
          "source": "XWSPackageBuilder.java:133"
        },
        {
          "method": "com.axway.xws.server.iface.ant.XWSPackageGeneratorTask.execute",
          "source": "XWSPackageGeneratorTask.java:48"
        },
        {
          "method": "junit.axway.xws.generator.pack.XWSPackageAGeneratorTest.testGeneratedPackage",
          "source": "XWSPackageAGeneratorTest.java:190"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:58"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:60"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:391"
        },
        {
          "method": "junit.framework.TestCase.runTest",
          "source": "TestCase.java:154"
        },
        {
          "method": "junit.framework.TestCase.runBare",
          "source": "TestCase.java:127"
        },
        {
          "method": "junit.framework.TestResult$1.protect",
          "source": "TestResult.java:106"
        },
        {
          "method": "junit.framework.TestResult.runProtected",
          "source": "TestResult.java:124"
        },
        {
          "method": "junit.framework.TestResult.run",
          "source": "TestResult.java:109"
        },
        {
          "method": "junit.framework.TestCase.run",
          "source": "TestCase.java:118"
        },
        {
          "method": "junit.framework.TestSuite.runTest",
          "source": "TestSuite.java:208"
        },
        {
          "method": "junit.framework.TestSuite.run",
          "source": "TestSuite.java:203"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests",
          "source": "RemoteTestRunner.java:478"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run",
          "source": "RemoteTestRunner.java:344"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main",
          "source": "RemoteTestRunner.java:196"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "114964",
      "date": "2005-11-03T18:43:59+01:00",
      "product": "Web Tools",
      "component": "wst.wsdl",
      "severity": "major"
    }
  ],
  "groupId": "114964",
  "bugId": "114964",
  "date": "2005-11-03T18:43:59+01:00",
  "product": "Web Tools",
  "component": "wst.wsdl",
  "severity": "major"
}