{
  "comments": [
    "The fix for bug 205270 tries to automatically set some org.osgi.framework.* properties based on the osgi.os, osgi.arch, and osgi.lang values.  The code makes an incorrect assumption that the values of the osgi.* properties will be instances of String.  PDE-Build may use a CatchAllValue class which matches all values.  This is not instance of String.  As a result a ClassCaseException can occur if a bundle with Bundle-NativeCode is built.  The exception looks something like this:\n\njava.lang.ClassCastException: org.eclipse.osgi.tests.services.resolver.StateResolverTest$CatchAllValue incompatible with java.lang.String\n\tat org.eclipse.osgi.internal.resolver.NativeCodeSpecificationImpl.isSatisfiedBy(NativeCodeSpecificationImpl.java:62)\n\tat org.eclipse.osgi.internal.module.ResolverImpl.isResolvable(ResolverImpl.java:286)\n\tat org.eclipse.osgi.internal.module.ResolverImpl.resolveBundles(ResolverImpl.java:499)\n\tat org.eclipse.osgi.internal.module.ResolverImpl.resolve(ResolverImpl.java:389)\n\tat org.eclipse.osgi.internal.resolver.StateImpl.resolve(StateImpl.java:385)\n\tat org.eclipse.osgi.internal.resolver.StateImpl.resolve(StateImpl.java:441)",
    "Created an attachment (id\u003d81785)\npatch\n\nProposed fix and new testcase.",
    "Released fix for M3.",
    "I forgot to change the state to FIXED."
  ],
  "commentCreationDates": [
    "2007-10-31T22:06:53+01:00",
    "2007-10-31T22:09:27+01:00",
    "2007-10-31T22:14:55+01:00",
    "2007-10-31T22:30:52+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.osgi.tests.services.resolver.StateResolverTest$CatchAllValue incompatible with java.lang.String",
      "elements": [
        {
          "method": "org.eclipse.osgi.internal.resolver.NativeCodeSpecificationImpl.isSatisfiedBy",
          "source": "NativeCodeSpecificationImpl.java:62"
        },
        {
          "method": "org.eclipse.osgi.internal.module.ResolverImpl.isResolvable",
          "source": "ResolverImpl.java:286"
        },
        {
          "method": "org.eclipse.osgi.internal.module.ResolverImpl.resolveBundles",
          "source": "ResolverImpl.java:499"
        },
        {
          "method": "org.eclipse.osgi.internal.module.ResolverImpl.resolve",
          "source": "ResolverImpl.java:389"
        },
        {
          "method": "org.eclipse.osgi.internal.resolver.StateImpl.resolve",
          "source": "StateImpl.java:385"
        },
        {
          "method": "org.eclipse.osgi.internal.resolver.StateImpl.resolve",
          "source": "StateImpl.java:441"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "208313",
      "date": "2007-10-31T22:06:53+01:00",
      "product": "Equinox",
      "component": "Framework",
      "severity": "normal"
    }
  ],
  "groupId": "208313",
  "bugId": "208313",
  "date": "2007-10-31T22:06:53+01:00",
  "product": "Equinox",
  "component": "Framework",
  "severity": "normal"
}