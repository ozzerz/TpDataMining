{
  "comments": [
    "When running a test, the run fails due to an incorrectly configured AC.   The setconfig command generates a serviceconfig.xml where the temp directory has some additional characters at the end of the path.\n\n\u003cVariable name\u003d\"SYS_TEMP_DIR\" position\u003d\"replace\" value\u003d\"C:\\DOCUME~1\\ADMINI~1\\LOCALS~1\\Temp\\2\" /\u003e\n\nwhereas the \"2\" directory does not exist on the file system.\nSo I changed this line to \n\u003cVariable name\u003d\"SYS_TEMP_DIR\" position\u003d\"replace\" value\u003d\"C:\\DOCUME~1\\ADMINI~1\\LOCALS~1\\Temp\" /\u003e\n\nIssue has also occurred on a Windows 200 machine.   This doesn\u0027t happen on all cases, or even all machines that are Windows 2003, so not sure from the data we have yet what causes the wrong temp dir to be generated.\n\n\nConnecting to an agent controller running on Windows 2003 Server causes error since a DaemonConnectException is thrown whenever a connection attempt is made.\n\norg.eclipse.hyades.execution.core.DaemonConnectException\n\tat org.eclipse.hyades.execution.local.NodeImpl._connect(NodeImpl.java:232)\n\tat org.eclipse.hyades.execution.local.NodeImpl.connect(NodeImpl.java:360)\n\tat org.eclipse.hyades.execution.local.NodeImpl.connect(NodeImpl.java:347)\n\tat org.eclipse.hyades.execution.harness.TestExecutionHarness$4.run(TestExecutionHarness.java:2430)\n\tat java.lang.Thread.run(Thread.java:798)\nCaused by: org.eclipse.hyades.internal.execution.local.control.NoSuchApplicationException\n\tat org.eclipse.hyades.internal.execution.local.control.ProcessImpl.launch(ProcessImpl.java:190)\n\tat org.eclipse.hyades.execution.local.NodeImpl._connect(NodeImpl.java:217)\n\t... 4 more",
    "Set severity on bug correctly",
    "Not sure who should own this one, so copying Randy in addition to assigning to Samson.  Whoever has time to look.",
    "Target to 4.3 w/o iteration - awaiting triage.",
    "I\u0027ve run man SetConfigs on Windows 2003... but only on Windows-IPF and Windows-EM64T systems. Is this one of those? Or a \"stock\" X86 Windows 2003 box?\n\nHere\u0027s how that sys-var gets defined by SetConfig.java:\n\t\tvar \u003d doc.createElement(Variable.TAG);\n\t\tVariable.setName(var, \"SYS_TEMP_DIR\");\n\t\tVariable.setValue(var, PlatformObject.tempDir);\n\t\tVariable.setPosition(var, \"replace\");\n\t\tacEnv.appendChild(var);\nThe key being the \"setValue\" using the PlatformObject.tempDir... and here is how that is defined by PlatformObject.java:\n\tpublic final static String tempDir \u003d ConfigUtility.removeTrailings(System.getProperty(\"java.io.tmpdir\", \"%RASERVER_HOME%\"));\n\nThe \"removeTrailings\" just trims (white space) and removes trailing slashes... so it looks like your java.io.tmpdir system property is somehow corrupted?",
    "Increasing severity from major to critical based on frequency seen in continued system testing, and bad out-of-the-box experience.",
    "Set target to 4.2.1.\n",
    "I created a standalone java app to retrieve the java.io.tempdir from my Windows 2003 Server running on IA32, and it returned \"C:\\DOCUME~1\\ADMINI~1\\LOCALS~1\\Temp\\1\".  This directory exists on the machine, and the URL test cases passed.  This directory has existed since 2005, which shows that it was not created recently by the Agent Controller or any other program.\n\nIn the reported case by David, \"...\\Temp\\2\" did no exist on the machine, so when the Agent Controller tried to access data from a directory that did not exist, it was causing the exception.  It seems that from the testing \"...\\Temp\\2\" is the correct default TEMP_DIR however, another user may have accidentally erased that directory causing this failure.  This may also explain why the error is no longer reproducible by the reporter or others in his area.\n\nWhen the reporter switched to an existing folder \"C:\\DOCUME~1\\ADMINI~1\\LOCALS~1\\Temp\", the program executed without causing any exception.  \n\nWhen I specified a directory that does not exist under SYS_TEMP_DIR, I am able to reproduce the error provided in this bug report.\n\nFrom the testing and discussions with David, we have agreed to close this bug for now, and re-open if this problem persists.\n\n\n",
    "(In reply to comment #7)\n\nClosing bug."
  ],
  "commentCreationDates": [
    "2006-10-04T23:28:01+02:00",
    "2006-10-04T23:31:34+02:00",
    "2006-10-05T00:17:39+02:00",
    "2006-10-05T18:16:04+02:00",
    "2006-10-10T20:28:46+02:00",
    "2006-10-20T03:44:10+02:00",
    "2006-10-30T15:20:43+01:00",
    "2006-11-07T22:57:58+01:00",
    "2006-11-08T16:24:48+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.hyades.execution.core.DaemonConnectException",
      "elements": [
        {
          "method": "org.eclipse.hyades.execution.local.NodeImpl._connect",
          "source": "NodeImpl.java:232"
        },
        {
          "method": "org.eclipse.hyades.execution.local.NodeImpl.connect",
          "source": "NodeImpl.java:360"
        },
        {
          "method": "org.eclipse.hyades.execution.local.NodeImpl.connect",
          "source": "NodeImpl.java:347"
        },
        {
          "method": "org.eclipse.hyades.execution.harness.TestExecutionHarness$4.run",
          "source": "TestExecutionHarness.java:2430"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:798"
        }
      ],
      "causedBy": {
        "exceptionType": "org.eclipse.hyades.internal.execution.local.control.NoSuchApplicationException",
        "elements": [
          {
            "method": "org.eclipse.hyades.internal.execution.local.control.ProcessImpl.launch",
            "source": "ProcessImpl.java:190"
          },
          {
            "method": "org.eclipse.hyades.execution.local.NodeImpl._connect",
            "source": "NodeImpl.java:217"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "159813",
      "date": "2006-10-04T23:28:01+02:00",
      "product": "TPTP Agent Controller",
      "component": "Platform.Agents",
      "severity": "critical"
    }
  ],
  "groupId": "159813",
  "bugId": "159813",
  "date": "2006-10-04T23:28:01+02:00",
  "product": "TPTP Agent Controller",
  "component": "Platform.Agents",
  "severity": "critical"
}