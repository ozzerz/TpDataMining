{
  "comments": [
    "LazyClassGen.java:1216\n\nAspect J Internal Compiler Error caught by AJDT.\nUsing Eclipse 3.1.2, JDK 1.4.2.\n\nFull details are as follows:\n\norg.aspectj.weaver.BCException\nat org.aspectj.weaver.bcel.LazyClassGen.getLazyMethodGen(LazyClassGen.java:1216)\nat org.aspectj.weaver.bcel.LazyClassGen.getLazyMethodGen(LazyClassGen.java:1201)\nat org.aspectj.weaver.bcel.BcelShadow.weaveAroundInline(BcelShadow.java:2048)\nat org.aspectj.weaver.bcel.BcelAdvice.implementOn(BcelAdvice.java:232)\nat org.aspectj.weaver.Shadow.implementMungers(Shadow.java:588)\nat org.aspectj.weaver.Shadow.implement(Shadow.java:405)\nat org.aspectj.weaver.bcel.BcelClassWeaver.implement(BcelClassWeaver.java:2146)\nat org.aspectj.weaver.bcel.BcelClassWeaver.weave(BcelClassWeaver.java:467)\nat org.aspectj.weaver.bcel.BcelClassWeaver.weave(BcelClassWeaver.java:102)\nat org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:1543)\nat org.aspectj.weaver.bcel.BcelWeaver.weaveWithoutDump(BcelWeaver.java:1494)\nat org.aspectj.weaver.bcel.BcelWeaver.weaveAndNotify(BcelWeaver.java:1275)\nat org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:1097)\nat org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave(AjCompilerAdapter.java:300)\nat org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling(AjCompilerAdapter.java:178)\nat org.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$afterReturning$org_aspectj_ajdt_internal_compiler_CompilerAdapter$2$f9cc9ca0(CompilerAdapter.aj:70)\nat org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:367)\nat org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:811)\nat org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:254)\nat org.aspectj.ajdt.internal.core.builder.AjBuildManager.incrementalBuild(AjBuildManager.java:163)\nat org.aspectj.ajde.internal.CompilerAdapter.compile(CompilerAdapter.java:117)\nat org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run(AspectJBuildManager.java:191)\n\ntrouble in: \nfinal class com.abmuk.oms.core.model.ccmn.CreateInvestigationDAO extends java.lang.Object:\n  private static final String CREATE_INV_PROCEDURE \u003d \"begin DBPK_MODULE119.CREATE_INVESTIGATION(?, ?, ?); end;\"\n  private static final org.aspectj.lang.JoinPoint$StaticPart ajc$tjp_0\n  private void \u003cinit\u003e()    org.aspectj.weaver.MethodDeclarationLineNumber: 43:1243\n:\n                    ALOAD_0     // com.abmuk.oms.core.model.ccmn.CreateInvestigationDAO this   (line 43)\n                    INVOKESPECIAL java.lang.Object.\u003cinit\u003e ()V\n    constructor-execution(void com.abmuk.oms.core.model.ccmn.CreateInvestigationDAO.\u003cinit\u003e())\n    |               RETURN\n    constructor-execution(void com.abmuk.oms.core.model.ccmn.CreateInvestigationDAO.\u003cinit\u003e())\n  end private void \u003cinit\u003e()\n\n  static long createInvestigation(long, com.abmuk.oms.core.common.User) throws com.abmuk.oms.core.model.ccmn.CcmnException    org.aspectj.weaver.MethodDeclarationLineNumber: 56:1855\n:\n                    LLOAD_0\n                    LSTORE 13\n                    ALOAD_2\n                    ASTORE 15\n    method-execution(long com.abmuk.oms.core.model.ccmn.CreateInvestigationDAO.createInvestigation(long, com.abmuk.oms.core.common.User))\n    |               ACONST_NULL   (line 59)\n    |               ASTORE_3\n    |               ACONST_NULL   (line 60)\n    |               ASTORE 4\n    | finally -\u003e E3\n    | | catch com.abmuk.oms.core.common.database.ConnectionException -\u003e E1\n    | | | catch java.sql.SQLException -\u003e E0\n    | | | |         ALOAD_2     // com.abmuk.oms.core.common.User user   (line 64)\n    | | | |         INVOKESTATIC com.abmuk.oms.core.common.database.DBUtils.getWriteableConnection (Lcom/abmuk/oms/core/common/User;)Ljava/sql/Connection;\n    | | | |         ASTORE 4     // java.sql.Connection con\n    | | | |         ALOAD 4     // java.sql.Connection con   (line 66)\n    | | | |         LDC \"begin DBPK_MODULE119.CREATE_INVESTIGATION(?, ?, ?); end;\"\n    | | | |         INVOKEINTERFACE java.sql.Connection.prepareCall (Ljava/lang/String;)Ljava/sql/CallableStatement;\n    | | | |         ASTORE_3     // java.sql.CallableStatement stmt\n    | | | |         ALOAD_3     // java.sql.CallableStatement stmt   (line 68)\n    | | | |         ICONST_1\n    | | | |         LLOAD_0     // long docParentId\n    | | | |         INVOKEINTERFACE java.sql.CallableStatement.setLong (IJ)V\n    | | | |         ALOAD_3     // java.sql.CallableStatement stmt   (line 69)\n    | | | |         ICONST_2\n    | | | |         ICONST_4\n    | | | |         INVOKEINTERFACE java.sql.CallableStatement.registerOutParameter (II)V\n    | | | |         ALOAD_3     // java.sql.CallableStatement stmt   (line 70)\n    | | | |         ICONST_3\n    | | | |         BIPUSH -5\n    | | | |         INVOKEINTERFACE java.sql.CallableStatement.registerOutParameter (II)V\n    | | | |         ALOAD_3     // java.sql.CallableStatement stmt   (line 72)\n    | | | |         INVOKEINTERFACE java.sql.CallableStatement.execute ()Z\n    | | | |         POP\n    | | | |         ALOAD_3     // java.sql.CallableStatement stmt   (line 74)\n    | | | |         ICONST_2\n    | | | |         INVOKEINTERFACE java.sql.CallableStatement.getLong (I)J\n    | | | |         LSTORE 5\n    | | | |         ALOAD_3     // java.sql.CallableStatement stmt   (line 75)\n    | | | |         ICONST_3\n    | | | |         INVOKEINTERFACE java.sql.CallableStatement.getLong (I)J\n    | | | |         LSTORE 7\n    | | | |         ALOAD_3     // java.sql.CallableStatement stmt   (line 78)\n    | | | |         INVOKEINTERFACE java.sql.CallableStatement.wasNull ()Z\n    | | | |         IFEQ L0\n    | | | |         ALOAD 4     // java.sql.Connection con   (line 79)\n    | | | |         INVOKEINTERFACE java.sql.Connection.commit ()V\n    | | | |         GOTO L1\n    | | | |     L0: ALOAD 4     // java.sql.Connection con   (line 82)\n    | | | |         INVOKESTATIC com.abmuk.oms.core.common.database.DBUtils.rollback (Ljava/sql/Connection;)V\n    | | | |         NEW com.abmuk.oms.core.model.ccmn.CcmnException   (line 83)\n    | | | |         DUP\n    | | | |         LDC \"Error creating the new investigation.\"\n    | | | |         LLOAD 7     // long errorId\n    | | | |         INVOKESPECIAL com.abmuk.oms.core.model.ccmn.CcmnException.\u003cinit\u003e (Ljava/lang/String;J)V\n    | | | |         ATHROW\n    | | | |     L1: LLOAD 5     // long investigationId   (line 86)\n    | | | |         LSTORE 11\n    | | | |         JSR L2\n    | | | finally -\u003e E3\n    | | |           LLOAD 11\n    | | |           LRETURN\n    | | catch java.sql.SQLException -\u003e E0\n    | catch com.abmuk.oms.core.common.database.ConnectionException -\u003e E1\n    | finally -\u003e E3\n    | |         E0: ASTORE 5   (line 88)\n    | |             ALOAD 4     // java.sql.Connection con   (line 89)\n    | |             INVOKESTATIC com.abmuk.oms.core.common.database.DBUtils.rollback (Ljava/sql/Connection;)V\n    | |             LDC \"Error while calling the procedure:begin DBPK_MODULE119.CREATE_INVESTIGATION(?, ?, ?); end;\"   (line 91)\n    | |             ASTORE 6\n    | |             ALOAD 5     // java.sql.SQLException ex   (line 93)\n    | |             ALOAD 6     // java.lang.String message\n    | |             ALOAD_2     // com.abmuk.oms.core.common.User user\n    | |             INVOKESTATIC com.abmuk.oms.core.common.logging.ErrorLog.log (Ljava/lang/Throwable;Ljava/lang/String;Lcom/abmuk/oms/core/common/User;)V\n    | |             NEW com.abmuk.oms.core.model.ccmn.CcmnException   (line 94)\n    | |             DUP\n    | |             ALOAD 6     // java.lang.String message\n    | |             ALOAD 5     // java.sql.SQLException ex\n    | |             INVOKESPECIAL com.abmuk.oms.core.model.ccmn.CcmnException.\u003cinit\u003e (Ljava/lang/String;Ljava/lang/Throwable;)V\n    | |             ATHROW\n    | |         E1: ASTORE 5   (line 96)\n    | |             LDC \"Error opening connection\"   (line 97)\n    | |             ASTORE 6\n    | |             ALOAD 5     // com.abmuk.oms.core.common.database.ConnectionException ex   (line 98)\n    | |             ALOAD 6     // java.lang.String message\n    | |             ALOAD_2     // com.abmuk.oms.core.common.User user\n    | |             INVOKESTATIC com.abmuk.oms.core.common.logging.ErrorLog.log (Ljava/lang/Throwable;Ljava/lang/String;Lcom/abmuk/oms/core/common/User;)V\n    | |             NEW com.abmuk.oms.core.model.ccmn.CcmnException   (line 99)\n    | |             DUP\n    | |             ALOAD 6     // java.lang.String message\n    | |             ALOAD 5     // com.abmuk.oms.core.common.database.ConnectionException ex\n    | |             INVOKESPECIAL com.abmuk.oms.core.model.ccmn.CcmnException.\u003cinit\u003e (Ljava/lang/String;Ljava/lang/Throwable;)V\n    | |             ATHROW\n    | finally -\u003e E3\n    |           E3: ASTORE 10   (line 101)\n    |               JSR L2\n    |               ALOAD 10   (line 103)\n    |               ATHROW\n    |           L2: ASTORE 9   (line 101)\n    |               ALOAD_3     // java.sql.CallableStatement stmt   (line 102)\n    |               ALOAD 4     // java.sql.Connection con\n    |               INVOKESTATIC com.abmuk.oms.core.common.database.DBUtils.close (Ljava/sql/Statement;Ljava/sql/Connection;)V\n    |               RET 9   (line 103)\n    method-execution(long com.abmuk.oms.core.model.ccmn.CreateInvestigationDAO.createInvestigation(long, com.abmuk.oms.core.common.User))\n  end static long createInvestigation(long, com.abmuk.oms.core.common.User) throws com.abmuk.oms.core.model.ccmn.CcmnException\n\nend final class com.abmuk.oms.core.model.ccmn.CreateInvestigationDAO\n\nwhen implementing on shadow method-execution(long com.abmuk.oms.core.model.ccmn.CreateInvestigationDAO.createInvestigation(long, com.abmuk.oms.core.common.User))\nwhen weaving type com.abmuk.oms.core.model.ccmn.CreateInvestigationDAO\nwhen weaving classes \nwhen weaving \nwhen incrementally building BuildConfig[C:\\Documents and Settings\\nappinc\\workspace\\.metadata\\.plugins\\org.eclipse.ajdt.core\\Pegasus.generated.lst] #Files\u003d549",
    "A simple search through bugzilla for LazyClassGen.java:1216 reveals two bugs reporting the same thing (121768, 124399).\n\nAs reported in both those bugs, this problem can no longer occur in the latest AspectJ but AJDT doesn\u0027t include the latest AspectJ yet - hopefully it will do in the next day or so.  \n\nClosing as a dup of 124399.\n\n*** This bug has been marked as a duplicate of 124399 ***"
  ],
  "commentCreationDates": [
    "2006-03-07T10:47:14+01:00",
    "2006-03-07T10:57:14+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.aspectj.weaver.BCException",
      "elements": [
        {
          "method": "org.aspectj.weaver.bcel.LazyClassGen.getLazyMethodGen",
          "source": "LazyClassGen.java:1216"
        },
        {
          "method": "org.aspectj.weaver.bcel.LazyClassGen.getLazyMethodGen",
          "source": "LazyClassGen.java:1201"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelShadow.weaveAroundInline",
          "source": "BcelShadow.java:2048"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelAdvice.implementOn",
          "source": "BcelAdvice.java:232"
        },
        {
          "method": "org.aspectj.weaver.Shadow.implementMungers",
          "source": "Shadow.java:588"
        },
        {
          "method": "org.aspectj.weaver.Shadow.implement",
          "source": "Shadow.java:405"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.implement",
          "source": "BcelClassWeaver.java:2146"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.weave",
          "source": "BcelClassWeaver.java:467"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelClassWeaver.weave",
          "source": "BcelClassWeaver.java:102"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weave",
          "source": "BcelWeaver.java:1543"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveWithoutDump",
          "source": "BcelWeaver.java:1494"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weaveAndNotify",
          "source": "BcelWeaver.java:1275"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weave",
          "source": "BcelWeaver.java:1097"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave",
          "source": "AjCompilerAdapter.java:300"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling",
          "source": "AjCompilerAdapter.java:178"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$afterReturning$org_aspectj_ajdt_internal_compiler_CompilerAdapter$2$f9cc9ca0",
          "source": "CompilerAdapter.aj:70"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:367"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:811"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:254"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.incrementalBuild",
          "source": "AjBuildManager.java:163"
        },
        {
          "method": "org.aspectj.ajde.internal.CompilerAdapter.compile",
          "source": "CompilerAdapter.java:117"
        },
        {
          "method": "org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run",
          "source": "AspectJBuildManager.java:191"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "130720",
      "duplicateId": "124399",
      "date": "2006-03-07T10:47:14+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "critical"
    }
  ],
  "groupId": "124399",
  "bugId": "130720",
  "duplicateId": "124399",
  "date": "2006-03-07T10:47:14+01:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "critical"
}