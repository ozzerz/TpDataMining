{
  "comments": [
    "Using the Magnifier/Screen Reader software ZoomText 9.1 the Variables View in the Debug perspective gets invalid during a debug session. You can reproduce the error (not always) for example by having activated ZoomText and switching to another perspective (for example Java) during a running debug session. The following stacktrace occured:\n\n!ENTRY org.eclipse.ui.workbench 4 2 2007-11-22 14:01:07.970\n!MESSAGE Problems occurred when invoking code from plug-in: \"org.eclipse.ui.workbench\".\n!STACK 0\norg.eclipse.swt.SWTException: Widget is disposed\n\tat org.eclipse.swt.SWT.error(SWT.java:3563)\n\tat org.eclipse.swt.SWT.error(SWT.java:3481)\n\tat org.eclipse.swt.SWT.error(SWT.java:3452)\n\tat org.eclipse.swt.widgets.Widget.error(Widget.java:432)\n\tat org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:325)\n\tat org.eclipse.swt.widgets.TreeItem.getText(TreeItem.java:886)\n\tat org.eclipse.swt.accessibility.Accessible.get_accDescription(Accessible.java:731)\n\tat org.eclipse.swt.accessibility.Accessible$1.method12(Accessible.java:79)\n\tat org.eclipse.swt.internal.ole.win32.COMObject.callback12(COMObject.java:173)\n\tat org.eclipse.swt.internal.win32.OS.CallWindowProcW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.CallWindowProc(OS.java:2179)\n\tat org.eclipse.swt.widgets.Tree.callWindowProc(Tree.java:1541)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:3760)\n\tat org.eclipse.swt.widgets.Tree.windowProc(Tree.java:5370)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:4351)\n\tat org.eclipse.swt.internal.win32.OS.SendMessageW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.SendMessage(OS.java:2901)\n\tat org.eclipse.swt.widgets.Tree.removeAll(Tree.java:3776)\n\tat org.eclipse.jface.viewers.TreeViewer.removeAll(TreeViewer.java:312)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer$5.run(AbstractTreeViewer.java:1444)\n\tat org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1368)\n\tat org.eclipse.jface.viewers.TreeViewer.preservingSelection(TreeViewer.java:390)\n\tat org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1330)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.inputChanged(AbstractTreeViewer.java:1435)\n\tat org.eclipse.debug.internal.ui.viewers.model.InternalTreeModelViewer.inputChanged(InternalTreeModelViewer.java:474)\n\tat org.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:251)\n\tat org.eclipse.jface.viewers.StructuredViewer.setInput(StructuredViewer.java:1606)\n\tat org.eclipse.debug.internal.ui.views.variables.VariablesView.setViewerInput(VariablesView.java:284)\n\tat org.eclipse.debug.internal.ui.views.variables.VariablesView.becomesHidden(VariablesView.java:939)\n\tat org.eclipse.debug.ui.AbstractDebugView$DebugViewPartListener.partHidden(AbstractDebugView.java:188)\n\tat org.eclipse.ui.internal.PartListenerList2$6.run(PartListenerList2.java:149)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:857)\n\tat org.eclipse.ui.internal.PartListenerList2.fireEvent(PartListenerList2.java:53)\n\tat org.eclipse.ui.internal.PartListenerList2.firePartHidden(PartListenerList2.java:147)\n\tat org.eclipse.ui.internal.PartService.firePartHidden(PartService.java:126)\n\tat org.eclipse.ui.internal.WorkbenchPagePartList.firePartHidden(WorkbenchPagePartList.java:63)\n\tat org.eclipse.ui.internal.PartList.partHidden(PartList.java:197)\n\tat org.eclipse.ui.internal.PartList.access$3(PartList.java:188)\n\tat org.eclipse.ui.internal.PartList$1.propertyChanged(PartList.java:46)\n\tat org.eclipse.ui.internal.WorkbenchPartReference.fireInternalPropertyChange(WorkbenchPartReference.java:372)\n\tat org.eclipse.ui.internal.WorkbenchPartReference.fireVisibilityChange(WorkbenchPartReference.java:533)\n\tat org.eclipse.ui.internal.PartPane.setVisible(PartPane.java:304)\n\tat org.eclipse.ui.internal.ViewPane.setVisible(ViewPane.java:531)\n\tat org.eclipse.ui.internal.WorkbenchPage.updateVisibility(WorkbenchPage.java:3553)\n\tat org.eclipse.ui.internal.WorkbenchPage.setPerspective(WorkbenchPage.java:3485)\n\tat org.eclipse.ui.internal.WorkbenchPage.busySetPerspective(WorkbenchPage.java:997)\n\tat org.eclipse.ui.internal.WorkbenchPage.access$18(WorkbenchPage.java:981)\n\tat org.eclipse.ui.internal.WorkbenchPage$18.run(WorkbenchPage.java:3578)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)\n\tat org.eclipse.ui.internal.WorkbenchPage.setPerspective(WorkbenchPage.java:3576)\n\tat org.eclipse.ui.internal.PerspectiveBarContributionItem.select(PerspectiveBarContributionItem.java:123)\n\tat org.eclipse.ui.internal.PerspectiveBarContributionItem$1.widgetSelected(PerspectiveBarContributionItem.java:92)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3682)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3293)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353)\n\tat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219)\n\tat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:169)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:508)\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:447)\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1173)\n\nPerhaps the bug is located in org.eclipse.swt.widgets.Tree.removeAll(). The tree items are released at first and then a message to the OS is sent that the tree has been deleted. This activates the MSAA to inform the Magnifier about the UI change and the description of the removed items is requested. This fails because of the Widget.checkWidget() method, because the item has been removed allready.",
    "Moving to JFace",
    "On to SWT...",
    "Carolyn, please construct a simple case and fix this right away.  Also check the other platforms for the a similar problem.",
    "I tried to replicate the problem with my accessibility tools (I have several) and I could not get into the situation that your stack trace shows, where the AT is asking for a tree item\u0027s description during a Tree.removeAll().\n\nSo I tried to download the trial version of ZoomText 9.1 from http://www.aisquared.com/Products/zt9/Z9FreeTrial.cfm\nin order to try to replicate your exact scenario, and I was unable to download the product. (I assume you are using the product called NeoSpeech?)\n\nI have asked their customer support for assistance, but if I can\u0027t replicate the problem, I can still try adding an isDisposed() check to the latest version of eclipse and you could try that. I won\u0027t do that yet.\n\nWhile we are waiting, have you by chance tried running eclipse 3.4 M3 to see if the problem is still there?\nhttp://fullmoon.ottawa.ibm.com/eclipse/downloads/drops/S-3.4M3-200711012000/index.php\n\nThanks,\nCarolyn",
    "Sorry - the correct link for downloading eclipse 3.4 M3 is:\nhttp://download.eclipse.org/eclipse/downloads/drops/S-3.4M3-200711012000/index.php",
    "The Milestone Build M3 of Eclipse 3.4 doesn\u0027t seem to resolve the problem. I\u0027ve tried it but the same exception occured. I agree with you that it\u0027s difficult to reproduce the bug, because it doesn\u0027t occure immediately during a debug session. Sometimes it happens during a switch to another perspective, some other time during the switch to another view in the same perspective.\n\nI\u0027m using ZoomText 9.1 Magnifier/Screen Reader, but currently the speech is turned off. Otherwise my speech synthesizer is NeoSpeech and a german voice by ScanSoft. Maybe the isDispose() check will resolve the problem.\n"
  ],
  "commentCreationDates": [
    "2007-11-22T15:47:46+01:00",
    "2007-11-22T16:00:27+01:00",
    "2007-11-22T19:43:39+01:00",
    "2007-11-22T22:07:59+01:00",
    "2007-11-26T19:59:47+01:00",
    "2007-11-26T20:08:27+01:00",
    "2007-11-27T10:00:28+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Widget is disposed",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3563"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3481"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3452"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:432"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.checkWidget",
          "source": "Widget.java:325"
        },
        {
          "method": "org.eclipse.swt.widgets.TreeItem.getText",
          "source": "TreeItem.java:886"
        },
        {
          "method": "org.eclipse.swt.accessibility.Accessible.get_accDescription",
          "source": "Accessible.java:731"
        },
        {
          "method": "org.eclipse.swt.accessibility.Accessible$1.method12",
          "source": "Accessible.java:79"
        },
        {
          "method": "org.eclipse.swt.internal.ole.win32.COMObject.callback12",
          "source": "COMObject.java:173"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.CallWindowProcW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.CallWindowProc",
          "source": "OS.java:2179"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.callWindowProc",
          "source": "Tree.java:1541"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:3760"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.windowProc",
          "source": "Tree.java:5370"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:4351"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.SendMessageW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.SendMessage",
          "source": "OS.java:2901"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.removeAll",
          "source": "Tree.java:3776"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.removeAll",
          "source": "TreeViewer.java:312"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$5.run",
          "source": "AbstractTreeViewer.java:1444"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.preservingSelection",
          "source": "StructuredViewer.java:1368"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.preservingSelection",
          "source": "TreeViewer.java:390"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.preservingSelection",
          "source": "StructuredViewer.java:1330"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.inputChanged",
          "source": "AbstractTreeViewer.java:1435"
        },
        {
          "method": "org.eclipse.debug.internal.ui.viewers.model.InternalTreeModelViewer.inputChanged",
          "source": "InternalTreeModelViewer.java:474"
        },
        {
          "method": "org.eclipse.jface.viewers.ContentViewer.setInput",
          "source": "ContentViewer.java:251"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.setInput",
          "source": "StructuredViewer.java:1606"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.variables.VariablesView.setViewerInput",
          "source": "VariablesView.java:284"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.variables.VariablesView.becomesHidden",
          "source": "VariablesView.java:939"
        },
        {
          "method": "org.eclipse.debug.ui.AbstractDebugView$DebugViewPartListener.partHidden",
          "source": "AbstractDebugView.java:188"
        },
        {
          "method": "org.eclipse.ui.internal.PartListenerList2$6.run",
          "source": "PartListenerList2.java:149"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:857"
        },
        {
          "method": "org.eclipse.ui.internal.PartListenerList2.fireEvent",
          "source": "PartListenerList2.java:53"
        },
        {
          "method": "org.eclipse.ui.internal.PartListenerList2.firePartHidden",
          "source": "PartListenerList2.java:147"
        },
        {
          "method": "org.eclipse.ui.internal.PartService.firePartHidden",
          "source": "PartService.java:126"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPagePartList.firePartHidden",
          "source": "WorkbenchPagePartList.java:63"
        },
        {
          "method": "org.eclipse.ui.internal.PartList.partHidden",
          "source": "PartList.java:197"
        },
        {
          "method": "org.eclipse.ui.internal.PartList.access$3",
          "source": "PartList.java:188"
        },
        {
          "method": "org.eclipse.ui.internal.PartList$1.propertyChanged",
          "source": "PartList.java:46"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPartReference.fireInternalPropertyChange",
          "source": "WorkbenchPartReference.java:372"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPartReference.fireVisibilityChange",
          "source": "WorkbenchPartReference.java:533"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.setVisible",
          "source": "PartPane.java:304"
        },
        {
          "method": "org.eclipse.ui.internal.ViewPane.setVisible",
          "source": "ViewPane.java:531"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.updateVisibility",
          "source": "WorkbenchPage.java:3553"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.setPerspective",
          "source": "WorkbenchPage.java:3485"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.busySetPerspective",
          "source": "WorkbenchPage.java:997"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.access$18",
          "source": "WorkbenchPage.java:981"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$18.run",
          "source": "WorkbenchPage.java:3578"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:67"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.setPerspective",
          "source": "WorkbenchPage.java:3576"
        },
        {
          "method": "org.eclipse.ui.internal.PerspectiveBarContributionItem.select",
          "source": "PerspectiveBarContributionItem.java:123"
        },
        {
          "method": "org.eclipse.ui.internal.PerspectiveBarContributionItem$1.widgetSelected",
          "source": "PerspectiveBarContributionItem.java:92"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:227"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3682"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3293"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2389"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2353"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2219"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:466"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:461"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:169"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:363"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:176"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:597"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:508"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:447"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1173"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "210675",
      "date": "2007-11-22T15:47:46+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    }
  ],
  "groupId": "210675",
  "bugId": "210675",
  "date": "2007-11-22T15:47:46+01:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "normal"
}