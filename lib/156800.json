{
  "comments": [
    "I\u0027m debugging a 5 process job with one process registered. When a program has lots of local variables the variables view takes a while to update fully. If I step a few times before the variable view has finished updating, I get the following message:\n\n  An internal error occurred during \"Updating registered process...\"\n\nThen I get a \"Multiple Errors have Occurred\" dialog. This shows the above error plus another error:\n\n  An internal error occurred during \"Retrieving Labels\"\n\nBoth errors appear to be due to NullPointerException.\n\nHere are the last few lines of console log:\n\n*** SET COMMAND RETURN: Get AIF, result: \u003c[r0..3U][r0..3U]f4,[[0.0,0.0,-2.2657182E-29,-1.9996634],[1.47179E-39,1.4E-45,5.6E-44,-2.2104518E-29],[-1.99963,0.0,0.0,0.0],[0.0,0.0,-1.9997125,-2.2657182E-29]]\u003e, tasks: 0\n*** SEND COMMAND: Step over, tasks: 0-4\n*** SEND COMMAND: Get AIF, tasks: 0\n++++++++++ ptp_orte_proxy: $$$$$$$$$$$$$$$$$$$$ MIEventTypeSteppingRange \n++++++++++ ptp_orte_proxy: $$$$$$$$$$$$$$$$$$$$ MIEventTypeSteppingRange \n++++++++++ ptp_orte_proxy: $$$$$$$$$$$$$$$$$$$$ MIEventTypeSteppingRange \n++++++++++ ptp_orte_proxy: $$$$$$$$$$$$$$$$$$$$ MIEventTypeSteppingRange \n++++++++++ ptp_orte_proxy: $$$$$$$$$$$$$$$$$$$$ MIEventTypeSteppingRange \ngot debug event: EVENT_DBG_STEP 1f 0 org.eclipse.ptp.debug.external.core.cdi.Locator@7471a5\n***** Debugger event: org.eclipse.ptp.debug.external.core.cdi.event.EndSteppingRangeEvent@d13898\nException in thread \"Thread-13\" java.lang.NullPointerException\n\tat org.eclipse.ptp.debug.external.core.commands.AbstractDebugCommand.checkReturn(AbstractDebugCommand.java:95)\n\tat org.eclipse.ptp.debug.external.core.commands.AbstractDebugCommand.waitForReturn(AbstractDebugCommand.java:144)\n\tat org.eclipse.ptp.debug.external.core.commands.AbstractDebugCommand.waitForReturn(AbstractDebugCommand.java:128)\n\tat org.eclipse.ptp.debug.external.core.commands.AbstractDebugCommand.execCommand(AbstractDebugCommand.java:236)\n\tat org.eclipse.ptp.debug.external.core.DebugCommandQueue.run(DebugCommandQueue.java:68)",
    "please check in the latest and try again.  See if the problem is still here.",
    "The NullPointerException seems to be fixed. However there still seems to be a UI problem. If I step a couple of times before all variables have redrawn the \u0027step over\u0027 button dims but never becomes active again. Terminate still seems to work, but then the UI appears to freeze. \n\nThis appears repeatable (at least on the Mac):\n\n1. Create program with 20 variables. Make them 1 and 2 dimensional arrays so they take a while to fetch.\n\n2. Start debugging 5 processes. Register process 0. Make sure variable view is visible.\n\n3. Start stepping immediately (before all variables have redrawn)\n\n4. Keep stepping each time the step butting rectivates. Eventually the step button does not reactivate.\n\n5. Terminate job. The job terminates, but then the UI appears to hang.\n\nHere\u0027s the console output from the last step and terminate command.\n\n*** SEND COMMAND: Get AIF, tasks: 0\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d cmd will timeout after: 0\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d cmd will timeout after: 0\n++++++++++ ptp_orte_proxy: $$$$$$$$$$$$$$$$$$$$ MIEventTypeSteppingRange \n++++++++++ ptp_orte_proxy: $$$$$$$$$$$$$$$$$$$$ MIEventTypeSteppingRange \n++++++++++ ptp_orte_proxy: $$$$$$$$$$$$$$$$$$$$ MIEventTypeSteppingRange \n++++++++++ ptp_orte_proxy: $$$$$$$$$$$$$$$$$$$$ MIEventTypeSteppingRange \n++++++++++ ptp_orte_proxy: $$$$$$$$$$$$$$$$$$$$ MIEventTypeSteppingRange \ngot debug event: EVENT_DBG_STEP 1f 0 org.eclipse.ptp.debug.external.core.cdi.Locator@60e50b\n***** Debugger event: org.eclipse.ptp.debug.external.core.cdi.event.EndSteppingRangeEvent@5d443e\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d cmd will timeout after: 0\n*** SEND COMMAND: Terminate, tasks: 0-4\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d cmd will timeout after: 0\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d cmd will timeout after: 0\n\u003c00000010 TRM 5:353a316600\u003e\n***** Debugger event: org.eclipse.ptp.debug.external.core.cdi.event.InferiorExitedEvent@2fac73\ngot debug event: EVENT_DBG_OK 1f\n*** SET COMMAND RETURN: Terminate, result: OK, tasks: 0-4\n*** SEND COMMAND: Stop debugger, tasks: 0-4\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d cmd will timeout after: 0\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d cmd will timeout after: 0\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d cmd will timeout after: 0\n\u003c00000003 QUI\u003e\ngot debug event: EVENT_DBG_OK 1f\nevent thread exiting...\n*** SET COMMAND RETURN: Stop debugger, result: OK, tasks: 0-4\n++++++++++ ptp_orte_proxy: shutdown completed\n++++++++++ ptp_orte_proxy: remove debug job 3",
    "I think it is a timeout problem.  I changed the preference setting to store timeout value in PTPDebugCorePlugin.  When debug command is created on each time, it will get the timeout value from PTPDebugCorePlugin.   In your console message, \"\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d cmd will timeout after: 0\".  It should not be zero.  Can you try to change timeout in preference setting? See if the problem is still here.",
    "I went in and changed the timeout preference, but the problem still persists:\n\n*** SET COMMAND RETURN: Get AIF, result: \u003c[r0..15U][r0..15U]f4,[[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,-1.5816464E38,2.5E-44,0.0,8.4E-45,1.1E-44,1.558E-42],[2.54E-43,1.4E-45,7.45E-43,1.6092563E19,9.3238586E14,0.0,0.0,-3.178863E-29,3.4438E-41,0.0,3.4438E-41,9.8E-45,7.0E-45,9.8E-45,0.0,1.6101606E19],[1.9795632E34,0.0,0.0,1.6092563E19,9.3238586E14,0.0,0.0,-3.17998E-29,1.4114E-41,5.202E-42,5.6E-45,0.0,0.0,-1.435E-42,0.0,0.0],[1.6100484E19,4.4913085E21,1.1041452E21,1.9368E31,1.6092563E19,9.3238586E14,0.0,0.0,-3.183011E-29,0.0,1.9315E-41,2.8E-45,0.0,0.0,-1.1E-44,0.0],[5.0E-44,1.6100484E19,4.4913085E21,1.1041466E21,7.7765154E31,1.6092563E19,9.3238586E14,0.0,0.0,-3.1830133E-29,0.0,1.9327E-41,7.0E-45,0.0,0.0,-1.446E-42],[0.0,4.5E-44,1.6096836E19,7.6823377E31,6.044629E23,0.0,1.6092563E19,9.3238586E14,0.0,0.0,-3.1830133E-29,7.8E-44,1.9327E-41,2.8E-45,0.0,0.0],[2.8E-45,0.0,0.0,1.6099358E19,7.271459E31,8.704266E26,0.0,1.6092563E19,9.3238586E14,0.0,0.0,-3.1830302E-29,1.1E-44,1.9405E-41,2.8E-45,0.0],[0.0,4.2E-45,0.0,0.0,1.6096832E19,1.8836273E28,0.0,0.0,1.6092563E19,9.3238586E14,0.0,0.0,-3.1830326E-29,1.463E-41,1.9416E-41,4.2E-45],[0.0,0.0,0.0,0.0,0.0,1.6099358E19,7.271459E31,8.897694E26,0.0,1.6092563E19,9.3238586E14,0.0,0.0,-3.1861742E-29,3.7E-43,3.4046E-41],[4.2E-45,0.0,0.0,5.6E-45,0.0,0.0,1.4E-45,4.6E-43,1.6088055E19,3.31571475E12,0.0,0.0,-1.3653112E-19,5.74E-42,3.4438E-41,5.74E-42],[9.8E-45,4.2E-45,5.6E-45,0.0,1.6097098E19,7.1305346E31,0.0,0.0,1.6088055E19,3.31571475E12,0.0,0.0,-1.3653112E-19,5.6E-45,3.4438E-41,2.8E-45],[0.0,0.0,3.59E-43,0.0,0.0,1.6097124E19,1.10254035E27,0.0,0.0,1.6088055E19,3.31571475E12,0.0,0.0,-1.3653117E-19,1.1E-44,3.4444E-41],[2.8E-45,0.0,0.0,0.0,0.0,0.0,1.6099924E19,1.7544174E19,1.1041452E21,3.0260864E29,1.6088055E19,3.31571475E12,0.0,0.0,-1.3653128E-19,1.7E-44],[3.4455E-41,2.8E-45,0.0,0.0,8.4E-45,0.0,0.0,1.6099349E19,1.7544174E19,1.1041452E21,3.0260864E29,1.6088055E19,3.31571475E12,0.0,0.0,-1.3653143E-19]]\u003e, tasks: 0\n*** SEND COMMAND: Step over, tasks: 0-4\n*** SEND COMMAND: Get AIF, tasks: 0\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d cmd will timeout after: 60000\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d cmd will timeout after: 60000\n++++++++++ ptp_orte_proxy: $$$$$$$$$$$$$$$$$$$$ MIEventTypeSteppingRange \n++++++++++ ptp_orte_proxy: $$$$$$$$$$$$$$$$$$$$ MIEventTypeSteppingRange \n++++++++++ ptp_orte_proxy: $$$$$$$$$$$$$$$$$$$$ MIEventTypeSteppingRange \n++++++++++ ptp_orte_proxy: $$$$$$$$$$$$$$$$$$$$ MIEventTypeSteppingRange \n++++++++++ ptp_orte_proxy: $$$$$$$$$$$$$$$$$$$$ MIEventTypeSteppingRange \ngot debug event: EVENT_DBG_STEP 0a 0 org.eclipse.ptp.debug.external.core.cdi.Locator@8a1a0c\n***** Debugger event: org.eclipse.ptp.debug.external.core.cdi.event.EndSteppingRangeEvent@b433a6\ngot debug event: EVENT_DBG_STEP 15 0 org.eclipse.ptp.debug.external.core.cdi.Locator@72545\n***** Debugger event: org.eclipse.ptp.debug.external.core.cdi.event.EndSteppingRangeEvent@200c6b\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d cmd will timeout after: 60000\n*** SEND COMMAND: Terminate, tasks: 0-4\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d cmd will timeout after: 300000\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d cmd will timeout after: 60000\n\u003c00000010 TRM 5:353a316600\u003e\n***** Debugger event: org.eclipse.ptp.debug.external.core.cdi.event.InferiorExitedEvent@28594c\ngot debug event: EVENT_DBG_OK 1f\n\u003c00000003 QUI\u003e\n*** SET COMMAND RETURN: Terminate, result: OK, tasks: 0-4\n*** SEND COMMAND: Stop debugger, tasks: 0-4\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d cmd will timeout after: 60000\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d cmd will timeout after: 300000\ngot debug event: EVENT_DBG_OK 1f\nevent thread exiting...\n++++++++++ ptp_orte_proxy: shutdown completed\n*** SET COMMAND RETURN: Stop debugger, result: OK, tasks: 0-4\n++++++++++ ptp_orte_proxy: remove debug job 3",
    "I think the problem is in Variable View.  In latest eclipse version 3.2, they changed Debug View and Variable View to extend AsynchronizedTree.  Updating or expanding tree item in Variables View will be runnin with another thread.  Thus variable view will not freeze if it is updating variables or expanding the tree.  Because this reason, you can click step button when the variable view is drawing.   I will fix this problem asap.",
    "I guess there are two ways to solve this problem:\n\n1. Disable the controls (step, resume, etc.) until the variables have completed updating\n\n2. Allow the asynchronous update to be interrupted when a control is clicked\n\nI would prefer option 2 if possible, otherwise there may be a significant delay while waiting for all the variables to complete updating.",
    "I have minimized this problem.  Before executing the command, there is a checking whether request tasks are running or suspending.  If the request tasks are running, it will flush this command (do nothing).  This checking is used to solve the problem that hanged UI during updating variables.  The problem is still existed if variable contains a lot of data.  The main reason is that we cannot interrupt executing command (getAIFValue()).  Coming new version may need to consider avoiding to retrieve a lot of data of variable.",
    "The freezing problem appears to be fixed (or minimized). However, I\u0027m now seeing the variable view getting confused as to which variables have been updated (indicated by the yellow highlighting).\n\n1. Debug a 3 process job.\n2. Wait for breakpoint to be reached\n3. Unregister and register the first process.\n4. As the variable view is updating, step a couple of times.\n5. Repeat 3.\n\nEventually the variables view gets confused and shows variables as being updated that have not been. Screenshot attached.",
    "Created an attachment (id\u003d50558)\nvariable view problem\n\n",
    "(In reply to comment #9)\n\u003e Created an attachment (id\u003d50558) [edit]\n\u003e variable view problem\n\u003e \n\nCan you post your testing code, please?  Do the same variables get the wrong highlight each time?  Also please attachs your debug message when you got this error.  Thanks.",
    "Created an attachment (id\u003d51025)\ntest code\n\n",
    "Created an attachment (id\u003d51027)\nscreenshot of the bug\n\nI\u0027ve just launched a 2 process session and stepped once. Notice that the value of pi has just been changed, but the variables view is showing that uold has changed.",
    "No errors are displayed in the console output, it just shows the variables being fetched. This seems to be a problem with the variable view displaying incorrectly.",
    "Did you try your code on Linux?  There is no problem on my Linux machine.  I need to create MIVar (-var-create) for each variable before evaluate expression.  I created a mapping for MIVar and Var because -update-change shows MIVar only.  If I got MIVar changed from -update-change message, I will look for its Var and then send Var to eclipse.  I think the problem may mismatch between MIVar and Var, but there is no problem on Linux.  Anyway, I am modifying this mapping method for fixing the bug #157734.  If I detected a struct\u0027s member changed, I will only send parent var to eclipse.  Now I am changing to send its child only.",
    "I don\u0027t have access to a Linux machine at the moment. Is there any debug information I can provide that would help you track this down?",
    "Please check-in the latest version from cvs and try again.  Does the latest version fix the problem?",
    "No the problem is still apparent. It seems to happen if there are more variables than will fit in the view. I moved the variable being modified so it was visible, and it does get highlighted properly. However two other variables (which are definitely *not* being modified - at least by the program) are also highlighted.",
    "You mean that the highlight works properly if all varaibles fit on variable view (no scrollbar), right?  I tried many times on my linux machine.  It works properly  both when variables fit within variable view and when they are over the view.  \n\nDoes cdt work in both cases(within or over the variable view)?",
    "CDT works correctlys.",
    "Original problem has been fixed.",
    "Changing OS from Mac OS to Mac OS X as per bug 185991"
  ],
  "commentCreationDates": [
    "2006-09-09T17:51:55+02:00",
    "2006-09-11T08:16:11+02:00",
    "2006-09-11T16:56:46+02:00",
    "2006-09-11T17:37:48+02:00",
    "2006-09-11T18:04:30+02:00",
    "2006-09-13T18:48:28+02:00",
    "2006-09-13T19:22:45+02:00",
    "2006-09-19T06:43:11+02:00",
    "2006-09-20T16:26:12+02:00",
    "2006-09-20T16:28:02+02:00",
    "2006-09-27T12:26:33+02:00",
    "2006-09-27T18:57:38+02:00",
    "2006-09-27T19:06:46+02:00",
    "2006-09-27T19:07:53+02:00",
    "2006-09-28T02:38:19+02:00",
    "2006-09-28T09:08:34+02:00",
    "2006-09-29T17:01:20+02:00",
    "2006-09-30T13:14:23+02:00",
    "2006-09-30T18:42:32+02:00",
    "2006-10-01T13:37:30+02:00",
    "2006-11-03T03:26:36+01:00",
    "2007-07-29T15:20:54+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ptp.debug.external.core.commands.AbstractDebugCommand.checkReturn",
          "source": "AbstractDebugCommand.java:95"
        },
        {
          "method": "org.eclipse.ptp.debug.external.core.commands.AbstractDebugCommand.waitForReturn",
          "source": "AbstractDebugCommand.java:144"
        },
        {
          "method": "org.eclipse.ptp.debug.external.core.commands.AbstractDebugCommand.waitForReturn",
          "source": "AbstractDebugCommand.java:128"
        },
        {
          "method": "org.eclipse.ptp.debug.external.core.commands.AbstractDebugCommand.execCommand",
          "source": "AbstractDebugCommand.java:236"
        },
        {
          "method": "org.eclipse.ptp.debug.external.core.DebugCommandQueue.run",
          "source": "DebugCommandQueue.java:68"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "156800",
      "date": "2006-09-09T17:51:55+02:00",
      "product": "PTP",
      "component": "Debug Core",
      "severity": "major"
    }
  ],
  "groupId": "156800",
  "bugId": "156800",
  "date": "2006-09-09T17:51:55+02:00",
  "product": "PTP",
  "component": "Debug Core",
  "severity": "major"
}