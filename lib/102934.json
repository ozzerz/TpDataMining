{
  "comments": [
    "In 3.1, when I import a plugin project, I get the following error message in \nthe error log: \"JavaBuilder handling ImageBuilderInternalException while \nbuilding: MyPlugin\".\n\nHere\u0027s the callstack:\n\norg.eclipse.core.internal.resources.ResourceException: Resource already exists \non disk: /MyPlugin/bin/.project.\n\tat org.eclipse.core.internal.localstore.FileSystemResourceManager.copy\n(FileSystemResourceManager.java:140)\n\tat org.eclipse.core.internal.resources.Resource.copy(Resource.java:536)\n\tat org.eclipse.jdt.internal.core.builder.BatchImageBuilder$4.visit\n(BatchImageBuilder.java:228)\n\tat org.eclipse.core.internal.resources.Resource$1.visitElement\n(Resource.java:50)\n\tat org.eclipse.core.internal.watson.ElementTreeIterator.doIteration\n(ElementTreeIterator.java:81)\n\tat org.eclipse.core.internal.watson.ElementTreeIterator.doIteration\n(ElementTreeIterator.java:85)\n\tat org.eclipse.core.internal.watson.ElementTreeIterator.iterate\n(ElementTreeIterator.java:126)\n\tat org.eclipse.core.internal.resources.Resource.accept\n(Resource.java:60)\n\tat \norg.eclipse.jdt.internal.core.builder.BatchImageBuilder.copyExtraResourcesBack\n(BatchImageBuilder.java:198)\n\tat \norg.eclipse.jdt.internal.core.builder.BatchImageBuilder.cleanOutputFolders\n(BatchImageBuilder.java:131)\n\tat org.eclipse.jdt.internal.core.builder.BatchImageBuilder.build\n(BatchImageBuilder.java:36)\n\tat org.eclipse.jdt.internal.core.builder.JavaBuilder.buildAll\n(JavaBuilder.java:213)\n\tat org.eclipse.jdt.internal.core.builder.JavaBuilder.build\n(JavaBuilder.java:136)\n\tat org.eclipse.core.internal.events.BuildManager$2.run\n(BuildManager.java:593)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:1038)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:775)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild\n(BuildManager.java:168)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild\n(BuildManager.java:202)\n\tat org.eclipse.core.internal.events.BuildManager$1.run\n(BuildManager.java:231)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:1038)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:775)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild\n(BuildManager.java:234)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuildLoop\n(BuildManager.java:253)\n\tat org.eclipse.core.internal.events.BuildManager.build\n(BuildManager.java:282)\n\tat org.eclipse.core.internal.events.AutoBuildJob.doBuild\n(AutoBuildJob.java:139)\n\tat org.eclipse.core.internal.events.AutoBuildJob.run\n(AutoBuildJob.java:200)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)\n\nThe plugin project has the following \".classpath\" file:\n\n   \u003c?xml version\u003d\"1.0\" encoding\u003d\"UTF-8\"?\u003e\n   \u003cclasspath\u003e\n\t\u003cclasspathentry kind\u003d\"src\" path\u003d\"\"/\u003e\n\t\u003cclasspathentry kind\u003d\"con\" \npath\u003d\"org.eclipse.pde.core.requiredPlugins\"/\u003e\n\t\u003cclasspathentry kind\u003d\"con\" \npath\u003d\"org.eclipse.jdt.launching.JRE_CONTAINER\"/\u003e\n\t\u003cclasspathentry kind\u003d\"output\" path\u003d\"bin\"/\u003e\n   \u003c/classpath\u003e\n\nNote that the \"src\" classpath entry is \"\" (i.e. the project folder).  This is \nimportant to reproduce the bug, since this is what causes JDT to copy files \nfrom the project folder into the \"bin\" folder.  Though this copying behaviour \nhas been around for awhile (e.g. it behaves this way in 3.0, too), the error \nlog message is new in 3.1.\n\nTo reproduce this bug, you may need to repeatedly delete/re-import the plugin \nproject several times.  The error usually happens for the second and all \nsubsequent imports.\n\nI can\u0027t reproduce the error using 3.0, no matter how many times I delete/re-\nimport the plugin project.",
    "Created an attachment (id\u003d24400)\nzipfile containing a plugin project to reproduce bug\n\nUnzip this attachment somewhere and import the MyPlugin project to see the bug.",
    "Reproduced on the third try.\n\nInitial guess is a timing issue \u0026 the resource tree is not complete when the \nbuild starts.",
    "This is just a guess, but in case this is helpful, I also entered another bug \nhttps://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d102914, that is caused by a \nPOST_CHANGE event firing before the project is completely imported.  They \nbelieve this is caused by the fact that the new project import wizard isn\u0027t \nbundling the import operation properly such that the deltas are trickling in \nrather than coming in all together in one event (i.e. after all the project \nresources are in).\n\nPerhaps the fix for that bug will also fix this bug.\n",
    "Yes it will.\n\n*** This bug has been marked as a duplicate of 102102 ***"
  ],
  "commentCreationDates": [
    "2005-07-06T22:24:03+02:00",
    "2005-07-06T22:30:37+02:00",
    "2005-07-07T18:26:33+02:00",
    "2005-07-07T19:21:47+02:00",
    "2005-07-07T20:04:23+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.internal.resources.ResourceException",
      "message": "Resource already exists  on disk: /MyPlugin/bin/.project.",
      "elements": [
        {
          "method": "org.eclipse.core.internal.localstore.FileSystemResourceManager.copy",
          "source": "FileSystemResourceManager.java:140"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource.copy",
          "source": "Resource.java:536"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.BatchImageBuilder$4.visit",
          "source": "BatchImageBuilder.java:228"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource$1.visitElement",
          "source": "Resource.java:50"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.doIteration",
          "source": "ElementTreeIterator.java:81"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.doIteration",
          "source": "ElementTreeIterator.java:85"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.iterate",
          "source": "ElementTreeIterator.java:126"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource.accept",
          "source": "Resource.java:60"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.BatchImageBuilder.copyExtraResourcesBack",
          "source": "BatchImageBuilder.java:198"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.BatchImageBuilder.cleanOutputFolders",
          "source": "BatchImageBuilder.java:131"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.BatchImageBuilder.build",
          "source": "BatchImageBuilder.java:36"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.JavaBuilder.buildAll",
          "source": "JavaBuilder.java:213"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.JavaBuilder.build",
          "source": "JavaBuilder.java:136"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$2.run",
          "source": "BuildManager.java:593"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1038"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:775"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:168"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:202"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$1.run",
          "source": "BuildManager.java:231"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1038"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:775"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:234"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuildLoop",
          "source": "BuildManager.java:253"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.build",
          "source": "BuildManager.java:282"
        },
        {
          "method": "org.eclipse.core.internal.events.AutoBuildJob.doBuild",
          "source": "AutoBuildJob.java:139"
        },
        {
          "method": "org.eclipse.core.internal.events.AutoBuildJob.run",
          "source": "AutoBuildJob.java:200"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:76"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "102934",
      "duplicateId": "102102",
      "date": "2005-07-06T22:24:03+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "102102",
  "bugId": "102934",
  "duplicateId": "102102",
  "date": "2005-07-06T22:24:03+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}