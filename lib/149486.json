{
  "comments": [
    "Hi there, I\u0027m sorry if this bug is trivial but I\u0027v searched through the bugs for over an hour now and can\u0027t seem to find this problem already reported. My trouble is this: when opening the Runtime perspective I get a dialog box saying \u0027Internal error occurred during: \"Refresh runtime system\"\u0027\n\nI\u0027m using Redhat Fedora Core release 5 (Bordeaux), eclipse-SDK-3.2-linux-gtk, org.eclipse.cdt-3.0.2-linux.x86, org.eclipse.ptp-1.0.0, org.eclipse.ptp.debug-orte-linux-x86-1.0.0 and org.eclipse.ptp.orte-linux-x86-1.0.0 with openmpi-1.0.2\n\nI\u0027m able to run standalone mpi apps fine with the orterun.\n\nConsole output:\n\nYour Control System Choice: \u0027\u003cUNDEFINED CS\u003e\u0027\nYour Monitoring System Choice: \u0027\u003cUNDEFINED MS\u003e\u0027\nNo previous (or invalid) control or monitoring system selected.\n\nDefault systems set to Open Runtime Environment (ORTE).  To change, use the Window-\u003ePreferences-\u003ePTP preferences page.\nYour Control System Choice: \u0027Open Runtime Environment (ORTE)\u0027\nYour Monitoring System Choice: \u0027Open Runtime Environment (ORTE)\u0027\nrefreshRuntimeSystems\nSHUTTING DOWN CONTROL/MONITORING/PROXY systems where appropriate\nOMPIProxyRuntimeClient - firing up proxy, waiting for connecting.  Please wait!  This can take a minute . . .\nORTE_SERVER path \u003d \u0027\u0027\nOS \u003d \u0027linux\u0027, Architecture \u003d \u0027x86\u0027, OS_ARCH combo \u003d \u0027linux.x86\u0027\nPTP Version \u003d 1.0.0\nAll Found Fragments:\n        update@plugins/org.eclipse.ptp.orte.linux.x86_1.0.0/ [138]\nTesting fragment 1 with this OS/arch - path: \u0027/cuchome/cuc/james/eclipse/plugins/org.eclipse.ptp.orte.linux.x86_1.0.0/\u0027\n        Correct fragment for our OS \u0026 arch\n        Searching for file in \u0027/cuchome/cuc/james/eclipse/plugins/org.eclipse.ptp.orte.linux.x86_1.0.0/bin/orte_server\u0027\n                **** FOUND IT!\nsessionCreate(0)\nbind(0.0.0.0/0.0.0.0:0)\nport\u003d42060\naccept thread starting...\nRUNNING PROXY SERVER COMMAND: \u0027/cuchome/cuc/james/eclipse/plugins/org.eclipse.ptp.orte.linux.x86_1.0.0/bin/orte_server --port\u003d42060\u0027\nWaiting on accept.\nOMPIProxyRuntimeClient waiting on {201, 210}\nAbstractProxyRuntimeClient.handleEvent() got event EVENT_CONNECTED\nOMPIProxyRuntimeClient got event: EVENT_RUNTIME_CONNECTED\nOMPIProxyRuntimeClient notifying...\nOMPIProxyRuntimeClient awoke!\n\u003c0000000b STARTDAEMON\u003e\nOMPIProxyRuntimeClient waiting on {200, 201}\naccept thread exiting...\nevent thread starting...\n++++++++++ orte_server: proxy_svr_connect returned.\n++++++++++ orte_server: StartDaemon(orted orted --scope public --seed --persistent --universe PTP-ORTE-8271)\n++++++++++ orte_server: Starting execv now!\n++++++++++ orte_server: proxy_svr_connect returned.\n++++++++++ orte_server: PARENT: orted_pid \u003d 8271\n++++++++++ orte_server: ORTEInit (PTP-ORTE-8271)\nAbstractProxyRuntimeClient.handleEvent() got event EVENT_OK 200\nOMPIProxyRuntimeClient got event: EVENT_RUNTIME_OK\nOMPIProxyRuntimeClient notifying...\nOMPIProxyRuntimeClient awoke!\nOMPIMonitoringSystem startup()\nJAVA OMPI: getMachines() called\nOMPIMonitoringSystem: getNodes(machine0) called\n\u003c0000000f GETNODES 3:3000\u003e\n\nEclipse Log file contents:\n\n!ENTRY org.eclipse.core.jobs 4 2 2006-07-03 17:00:07.537\n!MESSAGE An internal error occurred during: \"Refresh runtime system\".\n!STACK 0\njava.lang.IllegalStateException\n   at java.nio.charset.CharsetEncoder.encode (libgcj.so.7)\n   at org.eclipse.ptp.core.proxy.AbstractProxyClient.sendCommand (AbstractProxyClient.java:93)\n   at org.eclipse.ptp.rtsystem.proxy.ProxyRuntimeClient.sendCommand (ProxyRuntimeClient.java:31)\n   at org.eclipse.ptp.core.proxy.AbstractProxyClient.sessionFinish (AbstractProxyClient.java:279)\n   at org.eclipse.ptp.rtsystem.ompi.OMPIProxyRuntimeClient.shutdown (OMPIProxyRuntimeClient.java:199)\n   at org.eclipse.ptp.internal.core.ModelManager.refreshRuntimeSystems (ModelManager.java:176)\n   at org.eclipse.ptp.internal.core.ModelManager.refreshRuntimeSystems (ModelManager.java:151)\n   at org.eclipse.ptp.ui.PTPUIPlugin$3.run (PTPUIPlugin.java:288)\n   at org.eclipse.core.internal.jobs.Worker.run (Worker.java:58)\n\nHopefully this is just some dumb config error on my part, its quite annoying!",
    "Nathan, do you think this could be a problem with Eclipse 3.2? We haven\u0027t tested PTP 1.0 using Eclipse 3.2 have we?\n\nJames, can you try the same combination under Eclipse 3.1.1? If it fixes the problem I can do a build of HEAD that should work under Eclipse 3.2.",
    "(In reply to comment #1)\n\u003e Nathan, do you think this could be a problem with Eclipse 3.2? We haven\u0027t\n\u003e tested PTP 1.0 using Eclipse 3.2 have we?\n\u003e \n\u003e James, can you try the same combination under Eclipse 3.1.1? If it fixes the\n\u003e problem I can do a build of HEAD that should work under Eclipse 3.2.\n\u003e \n\nI tried it under 3.1.2 and 3.1 and got the same error. However, looking at it in the cold light of day it seems to be a problem within the gtk lib so I just installed the latest (1.5.0_07) jdk and it worked fine with Eclipse 3.2, 3.1.2 and 3.1.0. So it seems that in fact its a jdk bug - sorry for the red herring!",
    "This was a JDK problem",
    "Not repeated."
  ],
  "commentCreationDates": [
    "2006-07-03T19:03:24+02:00",
    "2006-07-03T22:24:09+02:00",
    "2006-07-04T11:25:50+02:00",
    "2006-07-10T17:45:25+02:00",
    "2006-08-03T23:31:08+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalStateException",
      "elements": [
        {
          "method": "java.nio.charset.CharsetEncoder.encode",
          "source": "libgcj.so.7"
        },
        {
          "method": "org.eclipse.ptp.core.proxy.AbstractProxyClient.sendCommand",
          "source": "AbstractProxyClient.java:93"
        },
        {
          "method": "org.eclipse.ptp.rtsystem.proxy.ProxyRuntimeClient.sendCommand",
          "source": "ProxyRuntimeClient.java:31"
        },
        {
          "method": "org.eclipse.ptp.core.proxy.AbstractProxyClient.sessionFinish",
          "source": "AbstractProxyClient.java:279"
        },
        {
          "method": "org.eclipse.ptp.rtsystem.ompi.OMPIProxyRuntimeClient.shutdown",
          "source": "OMPIProxyRuntimeClient.java:199"
        },
        {
          "method": "org.eclipse.ptp.internal.core.ModelManager.refreshRuntimeSystems",
          "source": "ModelManager.java:176"
        },
        {
          "method": "org.eclipse.ptp.internal.core.ModelManager.refreshRuntimeSystems",
          "source": "ModelManager.java:151"
        },
        {
          "method": "org.eclipse.ptp.ui.PTPUIPlugin$3.run",
          "source": "PTPUIPlugin.java:288"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "149486",
      "date": "2006-07-03T19:03:24+02:00",
      "product": "PTP",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "149486",
  "bugId": "149486",
  "date": "2006-07-03T19:03:24+02:00",
  "product": "PTP",
  "component": "Core",
  "severity": "normal"
}