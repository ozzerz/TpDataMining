{
  "comments": [
    "1. Create new example project, Editing and validating XML files\n2. Open Invoice.dtd\n3. Open Invoice.xml\n4. Switch back to Invoice.dtd\n5. Get the below exception in the log\n\nThis actually also happens if you switch from DTD to HTML to DTD.\n\n!ENTRY org.eclipse.ui.workbench 4 0 2006-03-02 16:53:04.055\n!MESSAGE org.eclipse.wst.dtd.core.internal.Unrecognized\n!STACK 0\njava.lang.ClassCastException: org.eclipse.wst.dtd.core.internal.Unrecognized\n\tat org.eclipse.wst.xml.ui.internal.properties.XMLPropertySource.\u003cinit\u003e(XMLPropertySource.java:73)\n\tat org.eclipse.wst.xml.ui.views.properties.XMLPropertySheetConfiguration$XMLPropertySourceProvider.getPropertySource(XMLPropertySheetConfiguration.java:134)\n\tat org.eclipse.ui.views.properties.PropertySheetEntry.getPropertySource(PropertySheetEntry.java:449)\n\tat org.eclipse.ui.views.properties.PropertySheetEntry.setValues(PropertySheetEntry.java:721)\n\tat org.eclipse.ui.views.properties.PropertySheetViewer.setInput(PropertySheetViewer.java:916)\n\tat org.eclipse.ui.views.properties.PropertySheetPage.selectionChanged(PropertySheetPage.java:465)\n\tat org.eclipse.wst.sse.ui.internal.properties.ConfigurablePropertySheetPage.selectionChanged(ConfigurablePropertySheetPage.java:159)\n\tat org.eclipse.ui.internal.AbstractSelectionService.firePostSelection(AbstractSelectionService.java:179)\n\tat org.eclipse.ui.internal.AbstractSelectionService.setActivePart(AbstractSelectionService.java:284)\n\tat org.eclipse.ui.internal.WWinPartService.updateActivePart(WWinPartService.java:125)\n\tat org.eclipse.ui.internal.WWinPartService.access$0(WWinPartService.java:115)\n\tat org.eclipse.ui.internal.WWinPartService$1.partDeactivated(WWinPartService.java:48)\n\tat org.eclipse.ui.internal.PartListenerList2$4.run(PartListenerList2.java:112)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:816)\n\tat org.eclipse.ui.internal.PartListenerList2.fireEvent(PartListenerList2.java:53)\n\tat org.eclipse.ui.internal.PartListenerList2.firePartDeactivated(PartListenerList2.java:110)\n\tat org.eclipse.ui.internal.PartService.firePartDeactivated(PartService.java:116)\n\tat org.eclipse.ui.internal.PartService.setActivePart(PartService.java:165)\n\tat org.eclipse.ui.internal.WorkbenchPagePartList.fireActivePartChanged(WorkbenchPagePartList.java:56)\n\tat org.eclipse.ui.internal.PartList.setActivePart(PartList.java:117)\n\tat org.eclipse.ui.internal.WorkbenchPage.setActivePart(WorkbenchPage.java:2975)\n\tat org.eclipse.ui.internal.WorkbenchPage.requestActivation(WorkbenchPage.java:2543)\n\tat org.eclipse.ui.internal.PartPane.requestActivation(PartPane.java:251)\n\tat org.eclipse.ui.internal.EditorPane.requestActivation(EditorPane.java:88)\n\tat org.eclipse.ui.internal.PartPane.setFocus(PartPane.java:297)\n\tat org.eclipse.ui.internal.EditorPane.setFocus(EditorPane.java:116)\n\tat org.eclipse.ui.internal.PartStack.presentationSelectionChanged(PartStack.java:798)\n\tat org.eclipse.ui.internal.PartStack.access$1(PartStack.java:781)\n\tat org.eclipse.ui.internal.PartStack$1.selectPart(PartStack.java:122)\n\tat org.eclipse.ui.internal.presentations.util.TabbedStackPresentation$1.handleEvent(TabbedStackPresentation.java:126)\n\tat org.eclipse.ui.internal.presentations.util.AbstractTabFolder.fireEvent(AbstractTabFolder.java:267)\n\tat org.eclipse.ui.internal.presentations.util.AbstractTabFolder.fireEvent(AbstractTabFolder.java:276)\n\tat org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder.access$1(DefaultTabFolder.java:1)\n\tat org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder$2.handleEvent(DefaultTabFolder.java:84)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925)",
    "I\u0027ve committed fix in XMLPropertySource to gaurd against being initialized with \nnon XML Nodes. This seems to fix the immediate and ugly problem of class cast exceptions, but ... I am not sure it was ever intended to be intialized with DTD Nodes, or if that itself is another error with switching targets. (and/or switching property sheets). \n\nSo ... see or set break point in initNode of XMLPropertySource is continued suspecisons of not being used correctly. \n\n",
    "*** Bug 131153 has been marked as a duplicate of this bug. ***",
    "Verified in WTP 1.5 RC5. Thanks!",
    "This is part of a mass update to close out all stale WTP defects already verified by the reporter but awaiting closure by the assignee.  If you feel this defect was closed inappropriately, please reopen.\n\nThanks, John Lanuti"
  ],
  "commentCreationDates": [
    "2006-03-02T22:10:38+01:00",
    "2006-03-04T05:24:28+01:00",
    "2006-03-17T08:37:14+01:00",
    "2006-06-19T18:05:03+02:00",
    "2006-11-28T20:38:16+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.wst.dtd.core.internal.Unrecognized",
      "elements": [
        {
          "method": "org.eclipse.wst.xml.ui.internal.properties.XMLPropertySource.\u003cinit\u003e",
          "source": "XMLPropertySource.java:73"
        },
        {
          "method": "org.eclipse.wst.xml.ui.views.properties.XMLPropertySheetConfiguration$XMLPropertySourceProvider.getPropertySource",
          "source": "XMLPropertySheetConfiguration.java:134"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetEntry.getPropertySource",
          "source": "PropertySheetEntry.java:449"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetEntry.setValues",
          "source": "PropertySheetEntry.java:721"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetViewer.setInput",
          "source": "PropertySheetViewer.java:916"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetPage.selectionChanged",
          "source": "PropertySheetPage.java:465"
        },
        {
          "method": "org.eclipse.wst.sse.ui.internal.properties.ConfigurablePropertySheetPage.selectionChanged",
          "source": "ConfigurablePropertySheetPage.java:159"
        },
        {
          "method": "org.eclipse.ui.internal.AbstractSelectionService.firePostSelection",
          "source": "AbstractSelectionService.java:179"
        },
        {
          "method": "org.eclipse.ui.internal.AbstractSelectionService.setActivePart",
          "source": "AbstractSelectionService.java:284"
        },
        {
          "method": "org.eclipse.ui.internal.WWinPartService.updateActivePart",
          "source": "WWinPartService.java:125"
        },
        {
          "method": "org.eclipse.ui.internal.WWinPartService.access$0",
          "source": "WWinPartService.java:115"
        },
        {
          "method": "org.eclipse.ui.internal.WWinPartService$1.partDeactivated",
          "source": "WWinPartService.java:48"
        },
        {
          "method": "org.eclipse.ui.internal.PartListenerList2$4.run",
          "source": "PartListenerList2.java:112"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:816"
        },
        {
          "method": "org.eclipse.ui.internal.PartListenerList2.fireEvent",
          "source": "PartListenerList2.java:53"
        },
        {
          "method": "org.eclipse.ui.internal.PartListenerList2.firePartDeactivated",
          "source": "PartListenerList2.java:110"
        },
        {
          "method": "org.eclipse.ui.internal.PartService.firePartDeactivated",
          "source": "PartService.java:116"
        },
        {
          "method": "org.eclipse.ui.internal.PartService.setActivePart",
          "source": "PartService.java:165"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPagePartList.fireActivePartChanged",
          "source": "WorkbenchPagePartList.java:56"
        },
        {
          "method": "org.eclipse.ui.internal.PartList.setActivePart",
          "source": "PartList.java:117"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.setActivePart",
          "source": "WorkbenchPage.java:2975"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.requestActivation",
          "source": "WorkbenchPage.java:2543"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.requestActivation",
          "source": "PartPane.java:251"
        },
        {
          "method": "org.eclipse.ui.internal.EditorPane.requestActivation",
          "source": "EditorPane.java:88"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.setFocus",
          "source": "PartPane.java:297"
        },
        {
          "method": "org.eclipse.ui.internal.EditorPane.setFocus",
          "source": "EditorPane.java:116"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.presentationSelectionChanged",
          "source": "PartStack.java:798"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.access$1",
          "source": "PartStack.java:781"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack$1.selectPart",
          "source": "PartStack.java:122"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.util.TabbedStackPresentation$1.handleEvent",
          "source": "TabbedStackPresentation.java:126"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.util.AbstractTabFolder.fireEvent",
          "source": "AbstractTabFolder.java:267"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.util.AbstractTabFolder.fireEvent",
          "source": "AbstractTabFolder.java:276"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder.access$1",
          "source": "DefaultTabFolder.java:1"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.defaultpresentation.DefaultTabFolder$2.handleEvent",
          "source": "DefaultTabFolder.java:84"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:925"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "130233",
      "date": "2006-03-02T22:10:38+01:00",
      "product": "Web Tools",
      "component": "wst.dtd",
      "severity": "normal"
    }
  ],
  "groupId": "130233",
  "bugId": "130233",
  "date": "2006-03-02T22:10:38+01:00",
  "product": "Web Tools",
  "component": "wst.dtd",
  "severity": "normal"
}