{
  "comments": [
    "I20051108-1011 + ZRH-plugins from 20051114_1216\n\n- set a java breakpoint and edit the breakpoint condition\n- write \u0027syse\u0027 and press Ctrl+Space\n-\u003e Exception below in log, no proposals\n\nContent assist works after \u0027syso\u0027 (probably because there\u0027s no type starting\nwith Syso, but there\u0027s one starting with Syse).\n\nError 2005-11-14 19:53:24.577 null argument;\norg.eclipse.jface.text.Assert$AssertionFailedException: null argument;\nat org.eclipse.jface.text.Assert.isNotNull(Assert.java:158)\nat org.eclipse.jface.text.Assert.isNotNull(Assert.java:134)\nat\norg.eclipse.jdt.internal.ui.text.java.LazyJavaCompletionProposal.\u003cinit\u003e(LazyJavaCompletionProposal.java:210)\nat\norg.eclipse.jdt.internal.ui.text.java.LazyJavaTypeCompletionProposal.\u003cinit\u003e(LazyJavaTypeCompletionProposal.java:58)\nat\norg.eclipse.jdt.ui.text.java.CompletionProposalCollector.createTypeProposal(CompletionProposalCollector.java:755)\nat\norg.eclipse.jdt.ui.text.java.CompletionProposalCollector.createJavaCompletionProposal(CompletionProposalCollector.java:392)\nat\norg.eclipse.jdt.ui.text.java.CompletionProposalCollector.accept(CompletionProposalCollector.java:213)\nat\norg.eclipse.jdt.internal.codeassist.CompletionEngine.createTypeProposal(CompletionEngine.java:6296)\nat\norg.eclipse.jdt.internal.codeassist.CompletionEngine.proposeType(CompletionEngine.java:606)\nat\norg.eclipse.jdt.internal.codeassist.CompletionEngine.acceptTypes(CompletionEngine.java:526)\nat\norg.eclipse.jdt.internal.codeassist.CompletionEngine.findTypesAndPackages(CompletionEngine.java:5083)\nat\norg.eclipse.jdt.internal.codeassist.CompletionEngine.complete(CompletionEngine.java:791)\nat\norg.eclipse.jdt.internal.codeassist.CompletionEngine.complete(CompletionEngine.java:1716)\nat org.eclipse.jdt.internal.core.SourceType.codeComplete(SourceType.java:103)\nat org.eclipse.jdt.internal.core.SourceType.codeComplete(SourceType.java:75)\nat\norg.eclipse.jdt.internal.debug.ui.contentassist.JavaDebugContentAssistProcessor.computeCompletionProposals(JavaDebugContentAssistProcessor.java:136)\nat\norg.eclipse.jface.text.contentassist.ContentAssistant.computeCompletionProposals(ContentAssistant.java:1566)\nat\norg.eclipse.jface.text.contentassist.CompletionProposalPopup.computeProposals(CompletionProposalPopup.java:447)\nat\norg.eclipse.jface.text.contentassist.CompletionProposalPopup.access$15(CompletionProposalPopup.java:444)\nat\norg.eclipse.jface.text.contentassist.CompletionProposalPopup$2.run(CompletionProposalPopup.java:379)\nat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\nat\norg.eclipse.jface.text.contentassist.CompletionProposalPopup.showProposals(CompletionProposalPopup.java:373)\nat\norg.eclipse.jface.text.contentassist.ContentAssistant.showPossibleCompletions(ContentAssistant.java:1414)\nat org.eclipse.jface.text.source.SourceViewer.doOperation(SourceViewer.java:719)\nat\norg.eclipse.jdt.internal.debug.ui.propertypages.BreakpointConditionEditor$3.execute(BreakpointConditionEditor.java:161)\nat\norg.eclipse.ui.internal.handlers.LegacyHandlerWrapper.execute(LegacyHandlerWrapper.java:108)\nat org.eclipse.core.commands.Command.execute(Command.java:318)\nat\norg.eclipse.core.commands.ParameterizedCommand.execute(ParameterizedCommand.java:401)\nat\norg.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:459)\nat org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:781)\nat\norg.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:828)\nat\norg.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:550)\nat\norg.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:493)\nat\norg.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:117)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Display.filterEvent(Display.java:976)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:895)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:920)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:905)\nat org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:933)\nat org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:929)\nat org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1243)\nat org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3241)\nat org.eclipse.swt.widgets.Control.windowProc(Control.java:3142)\nat org.eclipse.swt.widgets.Display.windowProc(Display.java:3918)\nat org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)\nat org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1703)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2858)\nat org.eclipse.jface.window.Window.runEventLoop(Window.java:809)\nat org.eclipse.jface.window.Window.open(Window.java:787)\nat org.eclipse.ui.dialogs.PropertyDialogAction.run(PropertyDialogAction.java:157)\nat\norg.eclipse.jdt.internal.debug.ui.actions.JavaBreakpointPropertiesRulerAction.run(JavaBreakpointPropertiesRulerAction.java:56)\nat org.eclipse.jface.action.Action.runWithEvent(Action.java:996)\nat\norg.eclipse.ui.texteditor.AbstractRulerActionDelegate.runWithEvent(AbstractRulerActionDelegate.java:110)\nat org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:241)\nat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:530)\nat\norg.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:480)\nat\norg.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:392)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:896)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3240)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2860)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1786)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1750)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:378)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\nat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)\nat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:165)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:585)\nat org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:282)\nat org.eclipse.core.launcher.Main.run(Main.java:977)\nat org.eclipse.core.launcher.Main.main(Main.java:952)",
    "The problem here is that with the changes introduced around 20051117, the API\nclass CompletionProposalCollector practically requires clients to set the UI\ninvocation context to function properly. This is a behavioral API breakage.\n\nThe solution will be to create an invocation context inside\nCompletionProposalCollector if none was set from the outside. Since the context\nwill not have a viewer, TextContentAssistInvocationContext can no longer\nguarantee that a viewer is always present (which is not required for most\nproposals anyway).\n\n-\u003e create a TextContentAssistInvocationContext constructor that takes a document\nand offset as arguments\n-\u003e similar for JavaContentAssistInvocationContext\n-\u003e create a model-only context inside\nCompletionProposalCollector::getInvocationContext if there is none set from the\noutside.",
    "*** Bug 116897 has been marked as a duplicate of this bug. ***",
    "Tom,\n\nthe suggested solution does not work because the CompletionProposalCollector has no access to the document and in this reported scenario there\u0027s not even a CU.\n\nIn addition we have to adjust all the that currently accesses the viewer without null check.\n\nAdditional comment regarding JavaContentAssistInvocationContext: why does it take the editor? It only uses it to compute the CU.",
    "Created an attachment (id\u003d30326)\nPatch for JDT Debu\n\nPatch against JDT Debug to fix this occurrence of the problem. The current code assist rework has to be revisited regarding this issue.",
    "NOTE: the patch requires the latest revision of JavaContentAssistInvocationContext.\n\nTom, this is a must fix for 3.2 M4.",
    "Applied patch.",
    "Created an attachment (id\u003d30476)\n116304.patch\n\nPatch against jdt-ui and jface-text. The viewer and document are now optional for the TextContentAssistInvocationContext. This makes it possible to create a JavaContentAssistInvocationContext based on the CU only, which is done by CompletionProposalCollector if there is no context set from the outside.",
    "Note that the only places where the viewer and document are used are inside special proposals (Parameter guessing) and within the completion proposal computers used by jdt-ui. These places ensure that they set up the context such that the viewer and document are available.",
    "Dani, I released the patch \u003e 20051123, but may not be able to track it from the trenches... can you keep an eye on it?",
    "Tom, the patch (and the committed code) is bad!\n\nIt causes a compilation error in JDT Debug (HEAD). And of course when fixing the compilation error, the original problem is back since in the Debug scenario there is no compilation unit as I already pointed out in comment 3.\n\nTom, if I don\u0027t hear back from you until after lunch I\u0027ll reverted your changes.",
    "reverted 116304.patch",
    "*** Bug 119524 has been marked as a duplicate of this bug. ***",
    "fixed \u003e 20051207\n\nDarin, I left the constructor for JavaContentAssistInvocationContext used by attachment 30326 in and marked it as deprecated for a smooth transition on your side. It will be removed once you have removed the workaround on your side.\n\nThe fix on your side is to simply reverse-apply the workaround (attachment 30326) or to restore Revision 1.1 of JavaDebugContentAssistProcessor.java.\n\nVerified that this also fixes bug 119524, bug 116897, bug 117042, and bug 117081.",
    "Tom, I\u0027ve restored JavaDebugContentAssistProcessor in to version 1.1 in HEAD.",
    "Removed the deprecated constructor.",
    "*** Bug 120056 has been marked as a duplicate of this bug. ***",
    "Starting verification...",
    "Verified in I20051213-0010."
  ],
  "commentCreationDates": [
    "2005-11-14T19:13:05+01:00",
    "2005-11-19T13:29:52+01:00",
    "2005-11-19T13:41:11+01:00",
    "2005-11-21T19:03:29+01:00",
    "2005-11-21T19:11:56+01:00",
    "2005-11-21T19:13:47+01:00",
    "2005-11-21T20:14:17+01:00",
    "2005-11-23T10:50:13+01:00",
    "2005-11-23T10:51:45+01:00",
    "2005-11-23T10:56:26+01:00",
    "2005-11-23T11:31:45+01:00",
    "2005-11-23T17:58:09+01:00",
    "2005-12-07T09:35:48+01:00",
    "2005-12-07T10:34:09+01:00",
    "2005-12-07T16:21:11+01:00",
    "2005-12-08T09:14:49+01:00",
    "2005-12-09T07:46:53+01:00",
    "2005-12-13T09:24:25+01:00",
    "2005-12-13T09:55:21+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.jface.text.Assert$AssertionFailedException",
      "message": "null argument;",
      "elements": [
        {
          "method": "org.eclipse.jface.text.Assert.isNotNull",
          "source": "Assert.java:158"
        },
        {
          "method": "org.eclipse.jface.text.Assert.isNotNull",
          "source": "Assert.java:134"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.LazyJavaCompletionProposal.\u003cinit\u003e",
          "source": "LazyJavaCompletionProposal.java:210"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.LazyJavaTypeCompletionProposal.\u003cinit\u003e",
          "source": "LazyJavaTypeCompletionProposal.java:58"
        },
        {
          "method": "org.eclipse.jdt.ui.text.java.CompletionProposalCollector.createTypeProposal",
          "source": "CompletionProposalCollector.java:755"
        },
        {
          "method": "org.eclipse.jdt.ui.text.java.CompletionProposalCollector.createJavaCompletionProposal",
          "source": "CompletionProposalCollector.java:392"
        },
        {
          "method": "org.eclipse.jdt.ui.text.java.CompletionProposalCollector.accept",
          "source": "CompletionProposalCollector.java:213"
        },
        {
          "method": "org.eclipse.jdt.internal.codeassist.CompletionEngine.createTypeProposal",
          "source": "CompletionEngine.java:6296"
        },
        {
          "method": "org.eclipse.jdt.internal.codeassist.CompletionEngine.proposeType",
          "source": "CompletionEngine.java:606"
        },
        {
          "method": "org.eclipse.jdt.internal.codeassist.CompletionEngine.acceptTypes",
          "source": "CompletionEngine.java:526"
        },
        {
          "method": "org.eclipse.jdt.internal.codeassist.CompletionEngine.findTypesAndPackages",
          "source": "CompletionEngine.java:5083"
        },
        {
          "method": "org.eclipse.jdt.internal.codeassist.CompletionEngine.complete",
          "source": "CompletionEngine.java:791"
        },
        {
          "method": "org.eclipse.jdt.internal.codeassist.CompletionEngine.complete",
          "source": "CompletionEngine.java:1716"
        },
        {
          "method": "org.eclipse.jdt.internal.core.SourceType.codeComplete",
          "source": "SourceType.java:103"
        },
        {
          "method": "org.eclipse.jdt.internal.core.SourceType.codeComplete",
          "source": "SourceType.java:75"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.contentassist.JavaDebugContentAssistProcessor.computeCompletionProposals",
          "source": "JavaDebugContentAssistProcessor.java:136"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.ContentAssistant.computeCompletionProposals",
          "source": "ContentAssistant.java:1566"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.computeProposals",
          "source": "CompletionProposalPopup.java:447"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.access$15",
          "source": "CompletionProposalPopup.java:444"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup$2.run",
          "source": "CompletionProposalPopup.java:379"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.CompletionProposalPopup.showProposals",
          "source": "CompletionProposalPopup.java:373"
        },
        {
          "method": "org.eclipse.jface.text.contentassist.ContentAssistant.showPossibleCompletions",
          "source": "ContentAssistant.java:1414"
        },
        {
          "method": "org.eclipse.jface.text.source.SourceViewer.doOperation",
          "source": "SourceViewer.java:719"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.propertypages.BreakpointConditionEditor$3.execute",
          "source": "BreakpointConditionEditor.java:161"
        },
        {
          "method": "org.eclipse.ui.internal.handlers.LegacyHandlerWrapper.execute",
          "source": "LegacyHandlerWrapper.java:108"
        },
        {
          "method": "org.eclipse.core.commands.Command.execute",
          "source": "Command.java:318"
        },
        {
          "method": "org.eclipse.core.commands.ParameterizedCommand.execute",
          "source": "ParameterizedCommand.java:401"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand",
          "source": "WorkbenchKeyboard.java:459"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.press",
          "source": "WorkbenchKeyboard.java:781"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent",
          "source": "WorkbenchKeyboard.java:828"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings",
          "source": "WorkbenchKeyboard.java:550"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3",
          "source": "WorkbenchKeyboard.java:493"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent",
          "source": "WorkbenchKeyboard.java:117"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.filterEvent",
          "source": "Display.java:976"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:895"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:920"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:905"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendKeyEvent",
          "source": "Widget.java:933"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendKeyEvent",
          "source": "Widget.java:929"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.wmChar",
          "source": "Widget.java:1243"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.WM_CHAR",
          "source": "Control.java:3241"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:3142"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:3918"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessageW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessage",
          "source": "OS.java:1703"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2858"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:809"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:787"
        },
        {
          "method": "org.eclipse.ui.dialogs.PropertyDialogAction.run",
          "source": "PropertyDialogAction.java:157"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.actions.JavaBreakpointPropertiesRulerAction.run",
          "source": "JavaBreakpointPropertiesRulerAction.java:56"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:996"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractRulerActionDelegate.runWithEvent",
          "source": "AbstractRulerActionDelegate.java:110"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:241"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:530"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:480"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:392"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:896"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3240"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2860"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1786"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1750"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:378"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:165"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:338"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:282"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "116304",
      "date": "2005-11-14T19:13:05+01:00",
      "product": "JDT",
      "component": "Text",
      "severity": "major"
    }
  ],
  "groupId": "116304",
  "bugId": "116304",
  "date": "2005-11-14T19:13:05+01:00",
  "product": "JDT",
  "component": "Text",
  "severity": "major"
}