{
  "comments": [
    "When trying to export to a war file, a Dynamic Web project that has J2EE Module Dependencies from another simple Java project, the export fails showing the following error:\n\norg.eclipse.core.runtime.CoreException[0]: org.eclipse.core.commands.ExecutionException: Error exportingWar File\n...\n...\nCaused by: org.eclipse.jst.j2ee.commonarchivecore.internal.exception.SaveFailureException: WEB-INF/lib/spring-mock.jar\n\tat org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.SaveStrategyImpl.save(SaveStrategyImpl.java:130)\n...\n...\nCaused by: java.io.FileNotFoundException: SimpleJava\\lib\\spring-mock.jar (El sistema no puede hallar la ruta especificada)\n\tat java.io.FileInputStream.open(Native Method)\n\tat java.io.FileInputStream.\u003cinit\u003e(Unknown Source)\n\tat org.eclipse.jst.j2ee.internal.archive.operations.ComponentLoadStrategyImpl$FilesHolder.getInputStream(ComponentLoadStrategyImpl.java:143)\n\tat org.eclipse.jst.j2ee.internal.archive.operations.ComponentLoadStrategyImpl.getInputStream(ComponentLoadStrategyImpl.java:410)\n\tat org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ContainerImpl.primGetInputStream(ContainerImpl.java:279)\n\tat org.eclipse.jst.j2ee.commonarchivecore.internal.impl.FileImpl.getInputStream(FileImpl.java:172)\n\tat org.eclipse.jst.j2ee.commonarchivecore.internal.helpers.FileIteratorImpl.getInputStream(FileIteratorImpl.java:40)\n\tat org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.SaveStrategyImpl.save(SaveStrategyImpl.java:128)\n\t... 52 more\n\nThe spring-mock.jar file does exist in the lib folder of the SimpleJava project.\n\nThis happens even using WTP 1.0.2 RC3",
    "Moving to jst.j2ee",
    "Do you have copy of the workspace you can send me?  I\u0027d like to see the project layout for the Web project, and the dependent Java project.  If you can\u0027t send me your source code, then could you send me a mockup of your two failing projects demonstrating the failure (link them together the same way your real projects are linked and with any jar in place of the spring-mock.jar).",
    "I am able to recreate this error by using \"Add JARs...\" to add an external jar that is from the workspace.  This didn\u0027t work in 1.0.1 (though with a different symptom, for me the dialog wouldn\u0027t close), and doesn\u0027t work with this symptom in 1.0.2.  I\u0027m not having any problems with external jars in the current 1.5 (post RC1) code, including when exporting a WAR file.",
    "Created an attachment (id\u003d39489)\nA zip file containing two projects\n\nI am including a project (and another one containing the dependencies) that shows the error when exporting it. However there is no problem when excuting. ",
    "Created an attachment (id\u003d41029)\nfixed projects\n\nWhen I tried loading your two projects I ran into some problems because libaux was not a component project.  Once I used the tools to make it a component project, I had to also fix up the .component file for webapp-minimal in order to correctly point to spring.jar.  Once I cleaned it up, however, the export worked fine for me.  Please note, that I\u0027m using the latest code to test, some of which hasn\u0027t made it to a build yet, so you may not be able to use these projects as they are.  However, if copy over the .component files, and the other meta-data in libaux from this zip, it may work on your setup.",
    "Can\u0027t reproduce.",
    "(In reply to comment #5)\n\nWould you be so kind to address me to the part of the documentation where \"component projects\" are mentioned and which kind of tools are you using to make a project a component project. I am sure that I am missing something important.\n\nThank you in advance.",
    "I did a quick search for documentation and didn\u0027t find any.  The proper way to specify a dependent Java project is to right click on the web project and select properties-\u003eJ2EE Module dependencies.  Depending on whether your web project is included in an EAR you with either have a single page or two tabbed pages.  \n\nIf you only have one page, then your web project is not included in an EAR.  Selecting one of the Java projects in the list will \"componentize\" the Java project and setup the necessary component dependencies (as well as java classpath dependencies).  During export, your java project will be jarred up and included in the WEB-INF/libs directory during export.\n\nIf you have two pages, then one tabbed page is for controling which project are referenced from the EAR through runtime MANIFEST.MF entries, and the other page is the same as described above.",
    "verified",
    "verified by neeraj",
    "closing"
  ],
  "commentCreationDates": [
    "2006-04-21T11:17:53+02:00",
    "2006-04-21T15:51:56+02:00",
    "2006-04-24T15:32:47+02:00",
    "2006-04-25T21:48:51+02:00",
    "2006-04-26T01:49:50+02:00",
    "2006-05-10T22:07:50+02:00",
    "2006-05-10T22:08:13+02:00",
    "2006-05-28T17:17:13+02:00",
    "2006-05-30T17:30:15+02:00",
    "2006-09-25T17:18:02+02:00",
    "2006-09-25T18:03:22+02:00",
    "2006-09-25T18:03:36+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.jst.j2ee.commonarchivecore.internal.exception.SaveFailureException",
      "message": "WEB-INF/lib/spring-mock.jar",
      "elements": [
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.SaveStrategyImpl.save",
          "source": "SaveStrategyImpl.java:130"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "137906",
      "date": "2006-04-21T11:17:53+02:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "critical"
    },
    {
      "exceptionType": "java.io.FileNotFoundException",
      "message": "SimpleJava\\lib\\spring-mock.jar (El sistema no puede hallar la ruta especificada)",
      "elements": [
        {
          "method": "java.io.FileInputStream.open",
          "source": "Native Method"
        },
        {
          "method": "java.io.FileInputStream.\u003cinit\u003e",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.archive.operations.ComponentLoadStrategyImpl$FilesHolder.getInputStream",
          "source": "ComponentLoadStrategyImpl.java:143"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.archive.operations.ComponentLoadStrategyImpl.getInputStream",
          "source": "ComponentLoadStrategyImpl.java:410"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ContainerImpl.primGetInputStream",
          "source": "ContainerImpl.java:279"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.impl.FileImpl.getInputStream",
          "source": "FileImpl.java:172"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.helpers.FileIteratorImpl.getInputStream",
          "source": "FileIteratorImpl.java:40"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.SaveStrategyImpl.save",
          "source": "SaveStrategyImpl.java:128"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "137906",
      "date": "2006-04-21T11:17:53+02:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "critical"
    }
  ],
  "groupId": "137906",
  "bugId": "137906",
  "date": "2006-04-21T11:17:53+02:00",
  "product": "Web Tools",
  "component": "jst.j2ee",
  "severity": "critical"
}