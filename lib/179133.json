{
  "comments": [
    "An out of bounds ChartException occurs when rendering reports using multiple threads. This was seen multiple times when running the performance test in org.eclipse.birt.test.performance project. To reproduce this exception, run the test after increasing the threads to 50 in case-10threads-pdf in org.eclipse.birt.test.performance/config.xml.\n\nStack trace:\n\nWARNING: Exception\norg.eclipse.birt.chart.exception.ChartException: $NO-RB$ org.eclipse.birt.chart.\nexception.ChartException: Out of bounds\n        at org.eclipse.birt.chart.factory.Generator.render(Generator.java:1236)\n        at org.eclipse.birt.chart.reportitem.ChartReportItemPresentationImpl.onR\nowSets(ChartReportItemPresentationImpl.java:477)\n        at org.eclipse.birt.report.engine.presentation.LocalizedContentVisitor.p\nrocessExtendedContent(LocalizedContentVisitor.java:638)\n        at org.eclipse.birt.report.engine.presentation.LocalizedContentVisitor.v\nisitForeign(LocalizedContentVisitor.java:343)\n        at org.eclipse.birt.report.engine.content.impl.ForeignContent.accept(For\neignContent.java:59)\n        at org.eclipse.birt.report.engine.presentation.LocalizedContentVisitor.l\nocalize(LocalizedContentVisitor.java:99)\n        at org.eclipse.birt.report.engine.internal.executor.l18n.LocalizedReport\nItemExecutor.execute(LocalizedReportItemExecutor.java:38)\n        at org.eclipse.birt.report.engine.layout.content.BlockStackingExecutor.g\netNextChild(BlockStackingExecutor.java:47)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFBlockStackingLM.traverse\nChildren(PDFBlockStackingLM.java:86)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFStackingLM.layoutChildre\nn(PDFStackingLM.java:118)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFAbstractLM.layout(PDFAbs\ntractLM.java:132)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFRowLM.traverseChildren(P\nDFRowLM.java:123)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFStackingLM.layoutChildre\nn(PDFStackingLM.java:118)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFAbstractLM.layout(PDFAbs\ntractLM.java:132)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFRowLM.layout(PDFRowLM.ja\nva:51)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFBlockStackingLM.layoutCh\nildNode(PDFBlockStackingLM.java:109)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFBlockStackingLM.traverse\nChildren(PDFBlockStackingLM.java:89)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFTableBandLM.traverseChil\ndren(PDFTableBandLM.java:97)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFStackingLM.layoutChildre\nn(PDFStackingLM.java:118)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFAbstractLM.layout(PDFAbs\ntractLM.java:132)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFBlockStackingLM.layoutCh\nildNode(PDFBlockStackingLM.java:109)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFBlockStackingLM.traverse\nChildren(PDFBlockStackingLM.java:89)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFGroupLM.traverseChildren\n(PDFGroupLM.java:29)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFTableGroupLM.traverseChi\nldren(PDFTableGroupLM.java:41)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFStackingLM.layoutChildre\nn(PDFStackingLM.java:118)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFAbstractLM.layout(PDFAbs\ntractLM.java:132)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFTableGroupLM.layout(PDFT\nableGroupLM.java:61)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFBlockStackingLM.layoutCh\nildNode(PDFBlockStackingLM.java:109)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFBlockStackingLM.traverse\nChildren(PDFBlockStackingLM.java:89)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFTableLM.traverseChildren\n(PDFTableLM.java:157)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFStackingLM.layoutChildre\nn(PDFStackingLM.java:118)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFAbstractLM.layout(PDFAbs\ntractLM.java:132)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFBlockStackingLM.traverse\nChildren(PDFBlockStackingLM.java:68)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFStackingLM.layoutChildre\nn(PDFStackingLM.java:118)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFPageLM.layout(PDFPageLM.\njava:199)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFReportLayoutEngine.layou\ntReport(PDFReportLayoutEngine.java:56)\n        at org.eclipse.birt.report.engine.layout.pdf.PDFReportLayoutEngine.layou\nt(PDFReportLayoutEngine.java:72)\n        at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.doRun(RunAnd\nRenderTask.java:225)\n        at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run(RunAndRe\nnderTask.java:147)\n        at org.eclipse.birt.test.performance.RunRenderThread.run(RunRenderThread\n.java:138)\nCaused by: java.lang.RuntimeException: org.eclipse.birt.chart.exception.ChartExc\neption: Out of bounds\n        at org.eclipse.birt.chart.computation.DataSetIterator.next(DataSetIterat\nor.java:448)\n        at org.eclipse.birt.chart.render.AxesRenderHelper$TextAxisTypeComputatio\nn.handlePreEachTick(AxesRenderHelper.java:416)\n        at org.eclipse.birt.chart.render.AxesRenderHelper.renderHorizontalAxisBy\nType(AxesRenderHelper.java:814)\n        at org.eclipse.birt.chart.render.AxesRenderHelper.renderEachAxis(AxesRen\nderHelper.java:1679)\n        at org.eclipse.birt.chart.render.AxesRenderer.renderEachAxis(AxesRendere\nr.java:2915)\n        at org.eclipse.birt.chart.render.AxesRenderer.renderAxesLabels(AxesRende\nrer.java:2156)\n        at org.eclipse.birt.chart.render.AxesRenderer.renderPlot(AxesRenderer.ja\nva:2278)\n        at org.eclipse.birt.chart.render.AxesRenderer.render(AxesRenderer.java:2\n88)\n        at org.eclipse.birt.chart.factory.Generator.render(Generator.java:1231)\n        ... 39 more\nCaused by: org.eclipse.birt.chart.exception.ChartException: Out of bounds\n        at org.eclipse.birt.chart.computation.DataSetIterator.next(DataSetIterat\nor.java:451)\n        ... 47 more",
    "Caused by missing synchronized keyword of factory method.\nDue to concern of performance, create the helper class by constructor rather than synchronized singleton factory method.\n",
    "Thanks  Yulin Wang for looking at this issue. However, I have not been able to verify this fix. I checked out the latest code from trunk. Built the chart engine project and ran the performance test with 50 users. I still get the same \"Out of bounds\" exception. Can you please post if you have been able to verify that the exception does not occur with this fix in your environment? \nThanks ,\nDeepa",
    "(In reply to comment #2)\n\u003e Thanks  Yulin Wang for looking at this issue. However, I have not been able to\n\u003e verify this fix. I checked out the latest code from trunk. Built the chart\n\u003e engine project and ran the performance test with 50 users. I still get the same\n\u003e \"Out of bounds\" exception. Can you please post if you have been able to verify\n\u003e that the exception does not occur with this fix in your environment? \n\u003e Thanks ,\n\u003e Deepa\n\u003e \nI verified this bug by 50 threads, and chart won\u0027t throw exceptions.\nCould you confirm the code you used is latest? You could add the error logs here.\n",
    "Sorry for the confusion. I think it was a problem in my environment. I rebuilt the projects and re-ran the test multiple times with 50 threads. I do not get this exception anymore. Thanks again for fixing this."
  ],
  "commentCreationDates": [
    "2007-03-23T23:02:16+01:00",
    "2007-04-10T08:43:52+02:00",
    "2007-04-14T01:57:38+02:00",
    "2007-04-17T10:20:24+02:00",
    "2007-04-19T18:06:59+02:00"
  ],
  "traces": [
    {
      "exceptionType": "exception.ChartException",
      "message": "Out of bounds",
      "elements": [
        {
          "method": "org.eclipse.birt.chart.factory.Generator.render",
          "source": "Generator.java:1236"
        },
        {
          "method": "org.eclipse.birt.chart.reportitem.ChartReportItemPresentationImpl.onRowSets",
          "source": "ChartReportItemPresentationImpl.java:477"
        },
        {
          "method": "org.eclipse.birt.report.engine.presentation.LocalizedContentVisitor.processExtendedContent",
          "source": "LocalizedContentVisitor.java:638"
        },
        {
          "method": "org.eclipse.birt.report.engine.presentation.LocalizedContentVisitor.visitForeign",
          "source": "LocalizedContentVisitor.java:343"
        },
        {
          "method": "org.eclipse.birt.report.engine.content.impl.ForeignContent.accept",
          "source": "For eignContent.java:59"
        },
        {
          "method": "org.eclipse.birt.report.engine.presentation.LocalizedContentVisitor.localize",
          "source": "LocalizedContentVisitor.java:99"
        },
        {
          "method": "org.eclipse.birt.report.engine.internal.executor.l18n.LocalizedReportItemExecutor.execute",
          "source": "LocalizedReportItemExecutor.java:38"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.content.BlockStackingExecutor.getNextChild",
          "source": "BlockStackingExecutor.java:47"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFBlockStackingLM.traverseChildren",
          "source": "PDFBlockStackingLM.java:86"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFStackingLM.layoutChildren",
          "source": "PDFStackingLM.java:118"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFAbstractLM.layout",
          "source": "PDFAbs tractLM.java:132"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFRowLM.traverseChildren",
          "source": "P DFRowLM.java:123"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFStackingLM.layoutChildren",
          "source": "PDFStackingLM.java:118"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFAbstractLM.layout",
          "source": "PDFAbs tractLM.java:132"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFRowLM.layout",
          "source": "PDFRowLM.ja va:51"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFBlockStackingLM.layoutChildNode",
          "source": "PDFBlockStackingLM.java:109"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFBlockStackingLM.traverseChildren",
          "source": "PDFBlockStackingLM.java:89"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFTableBandLM.traverseChildren",
          "source": "PDFTableBandLM.java:97"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFStackingLM.layoutChildren",
          "source": "PDFStackingLM.java:118"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFAbstractLM.layout",
          "source": "PDFAbs tractLM.java:132"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFBlockStackingLM.layoutChildNode",
          "source": "PDFBlockStackingLM.java:109"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFBlockStackingLM.traverseChildren",
          "source": "PDFBlockStackingLM.java:89"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFGroupLM.traverseChildren",
          "source": "PDFGroupLM.java:29"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFTableGroupLM.traverseChildren",
          "source": "PDFTableGroupLM.java:41"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFStackingLM.layoutChildren",
          "source": "PDFStackingLM.java:118"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFAbstractLM.layout",
          "source": "PDFAbs tractLM.java:132"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFTableGroupLM.layout",
          "source": "PDFT ableGroupLM.java:61"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFBlockStackingLM.layoutChildNode",
          "source": "PDFBlockStackingLM.java:109"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFBlockStackingLM.traverseChildren",
          "source": "PDFBlockStackingLM.java:89"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFTableLM.traverseChildren",
          "source": "PDFTableLM.java:157"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFStackingLM.layoutChildren",
          "source": "PDFStackingLM.java:118"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFAbstractLM.layout",
          "source": "PDFAbs tractLM.java:132"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFBlockStackingLM.traverseChildren",
          "source": "PDFBlockStackingLM.java:68"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFStackingLM.layoutChildren",
          "source": "PDFStackingLM.java:118"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFPageLM.layout",
          "source": "PDFPageLM. java:199"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFReportLayoutEngine.layoutReport",
          "source": "PDFReportLayoutEngine.java:56"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.pdf.PDFReportLayoutEngine.layout",
          "source": "PDFReportLayoutEngine.java:72"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.doRun",
          "source": "RunAnd RenderTask.java:225"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run",
          "source": "RunAndRe nderTask.java:147"
        },
        {
          "method": "org.eclipse.birt.test.performance.RunRenderThread.run",
          "source": "RunRenderThread .java:138"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.RuntimeException",
        "message": "org.eclipse.birt.chart.exception.ChartExc eption: Out of bounds",
        "elements": [
          {
            "method": "org.eclipse.birt.chart.computation.DataSetIterator.next",
            "source": "DataSetIterat or.java:448"
          },
          {
            "method": "org.eclipse.birt.chart.render.AxesRenderHelper$TextAxisTypeComputation.handlePreEachTick",
            "source": "AxesRenderHelper.java:416"
          },
          {
            "method": "org.eclipse.birt.chart.render.AxesRenderHelper.renderHorizontalAxisByType",
            "source": "AxesRenderHelper.java:814"
          },
          {
            "method": "org.eclipse.birt.chart.render.AxesRenderHelper.renderEachAxis",
            "source": "AxesRen derHelper.java:1679"
          },
          {
            "method": "org.eclipse.birt.chart.render.AxesRenderer.renderEachAxis",
            "source": "AxesRendere r.java:2915"
          },
          {
            "method": "org.eclipse.birt.chart.render.AxesRenderer.renderAxesLabels",
            "source": "AxesRende rer.java:2156"
          },
          {
            "method": "org.eclipse.birt.chart.render.AxesRenderer.renderPlot",
            "source": "AxesRenderer.ja va:2278"
          },
          {
            "method": "org.eclipse.birt.chart.render.AxesRenderer.render",
            "source": "AxesRenderer.java:2 88"
          },
          {
            "method": "org.eclipse.birt.chart.factory.Generator.render",
            "source": "Generator.java:1231"
          }
        ],
        "causedBy": {
          "exceptionType": "org.eclipse.birt.chart.exception.ChartException",
          "message": "Out of bounds",
          "elements": [
            {
              "method": "org.eclipse.birt.chart.computation.DataSetIterator.next",
              "source": "DataSetIterat or.java:451"
            }
          ],
          "number": 0,
          "commentIndex": 0
        },
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "179133",
      "date": "2007-03-23T23:02:16+01:00",
      "product": "BIRT",
      "component": "Chart",
      "severity": "normal"
    }
  ],
  "groupId": "179133",
  "bugId": "179133",
  "date": "2007-03-23T23:02:16+01:00",
  "product": "BIRT",
  "component": "Chart",
  "severity": "normal"
}