{
  "comments": [
    "From the newsgroup, posted by rracaru@k.ro:\n\ntestes the RAPT project (https://rapt.dev.java.net) and it fails with\njava.lang.IllegalStateException.\n\nTargeted annotation where @As and @Mix (Mixins), apt was able to choke them.\n\nRegards,\nRadu",
    "Hi Radu,\n   I am currently looking into the problem you posted in the mailing list and \nneed a couple things from you.\n\n1) the entire stack trace of the IllegalStateException reported\n2) the java source files that you ran APT with. I need to reproduce the \nproblem you observed. \n\nthanks\nTheodora\n",
    "for @As annotation, docs:\nhttps://rapt.dev.java.net/nonav/docs/api/net/java/dev/rapt/exploratory/anon/As.html\nI get\n\njava.lang.IllegalStateException\n\tat\norg.eclipse.jdt.apt.core.internal.declaration.AnnotationMirrorImpl.getReflectionValue(AnnotationMirrorImpl.java:329)\n\tat\norg.eclipse.jdt.apt.core.internal.declaration.AnnotationMirrorImpl.getReflectionValue(AnnotationMirrorImpl.java:242)\n\tat\norg.eclipse.jdt.apt.core.internal.env.AnnotationInvocationHandler.invoke(AnnotationInvocationHandler.java:92)\n\tat $Proxy1.value(Unknown Source)\n\tat\nnet.java.dev.rapt.exploratory.anon.AsAptProcessor.process(AsAptProcessor.java:63)\n\tat\norg.eclipse.jdt.apt.core.internal.APTDispatchRunnable.runAPT(APTDispatchRunnable.java:187)\n\tat\norg.eclipse.jdt.apt.core.internal.APTDispatchRunnable.run(APTDispatchRunnable.java:138)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)\n\tat org.eclipse.jdt.apt.core.internal.APTDispatch.runAPT(APTDispatch.java:79)\n\tat\norg.eclipse.jdt.apt.core.internal.APTDispatch.runAPTDuringBuild(APTDispatch.java:43)\n\tat\norg.eclipse.jdt.apt.core.internal.AptCompilationParticipant.preBuildNotify(AptCompilationParticipant.java:120)\n\tat\norg.eclipse.jdt.apt.core.internal.AptCompilationParticipant.notify(AptCompilationParticipant.java:80)\n\tat\norg.eclipse.jdt.internal.core.builder.AbstractImageBuilder.notifyCompilationParticipants(AbstractImageBuilder.java:258)\n\tat\norg.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:475)\n\tat\norg.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:199)\n\tat\norg.eclipse.jdt.internal.core.builder.BatchImageBuilder.build(BatchImageBuilder.java:52)\n\tat org.eclipse.jdt.internal.core.builder.JavaBuilder.buildAll(JavaBuilder.java:215)\n\tat org.eclipse.jdt.internal.core.builder.JavaBuilder.build(JavaBuilder.java:138)\n\tat org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:593)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:783)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:168)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:202)\n\tat org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:231)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:783)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:234)\n\tat\norg.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:253)\n\tat org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:282)\n\tat org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:139)\n\tat org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:200)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)\n\nwith the code\n\nimport net.java.dev.rapt.exploratory.anon.As;\n\npublic class as {\n    @As(Runnable.class)\n    void doSomething() {\n    }\n}\n\nthis works with APT and produces the code as in the doc url\n\n\n(In reply to comment #1)\n\u003e Hi Radu,\n\u003e    I am currently looking into the problem you posted in the mailing list and \n\u003e need a couple things from you.\n\u003e \n\u003e 1) the entire stack trace of the IllegalStateException reported\n\u003e 2) the java source files that you ran APT with. I need to reproduce the \n\u003e problem you observed. \n\u003e \n\u003e thanks\n\u003e Theodora\n\u003e ",
    "Problem fixed.\nCause: not catching the reflection invocation on Class type correctly.\n\nRepro:\n1) Download the rapt.jar from https://rapt.dev.java.net.\n2) Create a java project in apt enabled Eclipse installation\n3) Add rapt.jar to build path and factory path.\n4) include the code from Radu. \n\npackage test;\nimport net.java.dev.rapt.exploratory.anon.As;\n\npublic class as {\n    @As(Runnable.class)\n    void doSomething() {\n    }\n}\n\n5)Without the fix, you will get the IllegalStateException reported here.\nWith the fix, a class call \"Runnables\" is generated and can be located at the \ngenerated source file directory.\n"
  ],
  "commentCreationDates": [
    "2005-08-10T19:08:12+02:00",
    "2005-08-10T23:55:16+02:00",
    "2005-08-11T14:05:10+02:00",
    "2005-08-11T19:46:50+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalStateException",
      "elements": [
        {
          "method": "org.eclipse.jdt.apt.core.internal.declaration.AnnotationMirrorImpl.getReflectionValue",
          "source": "AnnotationMirrorImpl.java:329"
        },
        {
          "method": "org.eclipse.jdt.apt.core.internal.declaration.AnnotationMirrorImpl.getReflectionValue",
          "source": "AnnotationMirrorImpl.java:242"
        },
        {
          "method": "org.eclipse.jdt.apt.core.internal.env.AnnotationInvocationHandler.invoke",
          "source": "AnnotationInvocationHandler.java:92"
        }
      ],
      "number": 0,
      "commentIndex": 2,
      "bugId": "106659",
      "date": "2005-08-11T14:05:10+02:00",
      "product": "JDT",
      "component": "APT",
      "severity": "normal"
    }
  ],
  "groupId": "106659",
  "bugId": "106659",
  "date": "2005-08-10T19:08:12+02:00",
  "product": "JDT",
  "component": "APT",
  "severity": "normal"
}