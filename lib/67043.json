{
  "comments": [
    "3.0RC2\n\nUsing default settings:\n- enable all folding options\n- open TestCase\n- select the two visible lines of runTest()\n- cut to clipboard\n- paste before the final } of the CU\n- revert block on the QuickDiff ruler\n-\u003e results in the following exception(s):\n\njava.lang.IllegalStateException\n        at org.eclipse.jface.text.projection.ProjectionTextStore.internalError(P\nrojectionTextStore.java:86)\n        at org.eclipse.jface.text.projection.ProjectionTextStore.get(ProjectionT\nextStore.java:153)\n        at org.eclipse.jface.text.AbstractDocument.get(AbstractDocument.java:896\n)\n        at org.eclipse.jface.text.DefaultDocumentAdapter.doGetLine(DefaultDocume\nntAdapter.java:127)\n        at org.eclipse.jface.text.DefaultDocumentAdapter.getLine(DefaultDocument\nAdapter.java:135)\n        at org.eclipse.swt.custom.StyledText$ContentWidthCache.calculate(StyledT\next.java:1219)\n        at org.eclipse.swt.custom.StyledText.calculateTopIndex(StyledText.java:1\n974)\n        at org.eclipse.swt.custom.StyledText.setVerticalScrollOffset(StyledText.\njava:7549)\n        at org.eclipse.swt.custom.StyledText.setTopIndex(StyledText.java:7482)\n        at org.eclipse.jface.text.TextViewer.setTopIndex(TextViewer.java:2559)\n        at org.eclipse.jface.text.TextViewer.enabledRedrawing(TextViewer.java:43\n14)\n        at org.eclipse.jface.text.TextViewer.setRedraw(TextViewer.java:4415)\n        at org.eclipse.jface.text.source.projection.ProjectionViewer.catchupWith\nProjectionAnnotationModel(ProjectionViewer.java:868)\n        at org.eclipse.jface.text.source.projection.ProjectionViewer.access$5(Pr\nojectionViewer.java:821)\n        at org.eclipse.jface.text.source.projection.ProjectionViewer$1.run(Proje\nctionViewer.java:792)\n        at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n        at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.ja\nva:106)\n        at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2709)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2401)\n        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1362)\n        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1333)\n        at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.jav\na:252)\n        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\n        at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96\n)\n        at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformAct\nivator.java:334)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.ja\nva:272)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.ja\nva:128)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\njava:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:185)\n        at org.eclipse.core.launcher.Main.run(Main.java:638)\n        at org.eclipse.core.launcher.Main.main(Main.java:622)\n\nAfter repeating this the following exception was thrown:\n\njava.lang.IllegalArgumentException: overlaps with existing fragment\n        at org.eclipse.jface.text.projection.ProjectionDocument.internalAddMaste\nrDocumentRange(ProjectionDocument.java:253)\n        at org.eclipse.jface.text.projection.ProjectionDocument.addMasterDocumen\ntRange(ProjectionDocument.java:461)\n        at org.eclipse.jface.text.projection.ProjectionDocument.addMasterDocumen\ntRange(ProjectionDocument.java:440)\n        at org.eclipse.jface.text.source.projection.ProjectionViewer.addMasterDo\ncumentRange(ProjectionViewer.java:563)\n        at org.eclipse.jface.text.source.projection.ProjectionViewer.executeProj\nectionCommands(ProjectionViewer.java:911)\n        at org.eclipse.jface.text.source.projection.ProjectionViewer.catchupWith\nProjectionAnnotationModel(ProjectionViewer.java:865)\n        at org.eclipse.jface.text.source.projection.ProjectionViewer.access$5(Pr\nojectionViewer.java:821)\n        at org.eclipse.jface.text.source.projection.ProjectionViewer$1.run(Proje\nctionViewer.java:792)\n        at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n        at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.ja\nva:106)\n        at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2709)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2401)\n        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1362)\n        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1333)\n        at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.jav\na:252)\n        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\n        at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96\n)\n        at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformAct\nivator.java:334)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.ja\nva:272)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.ja\nva:128)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\njava:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:185)\n        at org.eclipse.core.launcher.Main.run(Main.java:638)\n        at org.eclipse.core.launcher.Main.main(Main.java:622)",
    "Adding Dirk for second vote.",
    "Approved by Dirk \u0026 Kai.",
    "The fundamental problem is that the projection viewer has no way to \ndistinguish between annotations that have been deleted during the self-cleanup \nof the annotation model (i.e. because of a document change) and those that \nhave been deleted by clients of the annotation model such as the provider of \nthe projection structure. This is something that we have to add post 3.0.\n\nFor now the workaround is to reinitialze the projection document from scratch \nif problems occur during the incremental update.",
    "Created an attachment (id\u003d12367)\npatch for class ProjectionViewer\n",
    "Reviewed by Tom. Released for build I200406171600.",
    "start verifying ...",
    "Verified in 200406192000."
  ],
  "commentCreationDates": [
    "2004-06-14T19:24:06+02:00",
    "2004-06-16T15:25:12+02:00",
    "2004-06-16T19:58:19+02:00",
    "2004-06-17T11:22:57+02:00",
    "2004-06-17T11:25:35+02:00",
    "2004-06-17T18:42:44+02:00",
    "2004-06-21T12:03:29+02:00",
    "2004-06-21T12:42:37+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalStateException",
      "elements": [
        {
          "method": "org.eclipse.jface.text.projection.ProjectionTextStore.internalError",
          "source": "P rojectionTextStore.java:86"
        },
        {
          "method": "org.eclipse.jface.text.projection.ProjectionTextStore.get",
          "source": "ProjectionT extStore.java:153"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.get",
          "source": "AbstractDocument.java:896 "
        },
        {
          "method": "org.eclipse.jface.text.DefaultDocumentAdapter.doGetLine",
          "source": "DefaultDocume ntAdapter.java:127"
        },
        {
          "method": "org.eclipse.jface.text.DefaultDocumentAdapter.getLine",
          "source": "DefaultDocument Adapter.java:135"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText$ContentWidthCache.calculate",
          "source": "StyledT ext.java:1219"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.calculateTopIndex",
          "source": "StyledText.java:1 974"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.setVerticalScrollOffset",
          "source": "StyledText. java:7549"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.setTopIndex",
          "source": "StyledText.java:7482"
        },
        {
          "method": "org.eclipse.jface.text.TextViewer.setTopIndex",
          "source": "TextViewer.java:2559"
        },
        {
          "method": "org.eclipse.jface.text.TextViewer.enabledRedrawing",
          "source": "TextViewer.java:43 14"
        },
        {
          "method": "org.eclipse.jface.text.TextViewer.setRedraw",
          "source": "TextViewer.java:4415"
        },
        {
          "method": "org.eclipse.jface.text.source.projection.ProjectionViewer.catchupWithProjectionAnnotationModel",
          "source": "ProjectionViewer.java:868"
        },
        {
          "method": "org.eclipse.jface.text.source.projection.ProjectionViewer.access$5",
          "source": "Pr ojectionViewer.java:821"
        },
        {
          "method": "org.eclipse.jface.text.source.projection.ProjectionViewer$1.run",
          "source": "Proje ctionViewer.java:792"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.ja va:106"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:2709"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2401"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1362"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1333"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.jav a:252"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:141"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:96 "
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformAct ivator.java:334"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.ja va:272"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.ja va:128"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl. java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAcces sorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:638"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:622"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "67043",
      "date": "2004-06-14T19:24:06+02:00",
      "product": "Platform",
      "component": "Text",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "overlaps with existing fragment",
      "elements": [
        {
          "method": "org.eclipse.jface.text.projection.ProjectionDocument.internalAddMasterDocumentRange",
          "source": "ProjectionDocument.java:253"
        },
        {
          "method": "org.eclipse.jface.text.projection.ProjectionDocument.addMasterDocumentRange",
          "source": "ProjectionDocument.java:461"
        },
        {
          "method": "org.eclipse.jface.text.projection.ProjectionDocument.addMasterDocumentRange",
          "source": "ProjectionDocument.java:440"
        },
        {
          "method": "org.eclipse.jface.text.source.projection.ProjectionViewer.addMasterDocumentRange",
          "source": "ProjectionViewer.java:563"
        },
        {
          "method": "org.eclipse.jface.text.source.projection.ProjectionViewer.executeProjectionCommands",
          "source": "ProjectionViewer.java:911"
        },
        {
          "method": "org.eclipse.jface.text.source.projection.ProjectionViewer.catchupWithProjectionAnnotationModel",
          "source": "ProjectionViewer.java:865"
        },
        {
          "method": "org.eclipse.jface.text.source.projection.ProjectionViewer.access$5",
          "source": "Pr ojectionViewer.java:821"
        },
        {
          "method": "org.eclipse.jface.text.source.projection.ProjectionViewer$1.run",
          "source": "Proje ctionViewer.java:792"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.ja va:106"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:2709"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2401"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1362"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1333"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.jav a:252"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:141"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:96 "
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformAct ivator.java:334"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.ja va:272"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.ja va:128"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl. java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAcces sorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:638"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:622"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "67043",
      "date": "2004-06-14T19:24:06+02:00",
      "product": "Platform",
      "component": "Text",
      "severity": "major"
    }
  ],
  "groupId": "67043",
  "bugId": "67043",
  "date": "2004-06-14T19:24:06+02:00",
  "product": "Platform",
  "component": "Text",
  "severity": "major"
}