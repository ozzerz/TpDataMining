{
  "comments": [
    "The symptom is after some operations, whenever user refreshes in DSE, a \"Widget is disposed\" error will be thrown.\norg.eclipse.swt.SWTException: Widget is disposed\n\tat org.eclipse.swt.SWT.error(SWT.java:3563)\n\tat org.eclipse.swt.SWT.error(SWT.java:3481)\n\tat org.eclipse.swt.SWT.error(SWT.java:3452)\n\tat org.eclipse.swt.widgets.Widget.error(Widget.java:432)\n\tat org.eclipse.swt.widgets.Widget.getDisplay(Widget.java:542)\n\tat org.eclipse.datatools.connectivity.sqm.server.internal.ui.explorer.providers.content.impl.ServerExplorerContentProviderNav.notifyChanged(ServerExplorerContentProviderNav.java:185)\n\tat org.eclipse.datatools.connectivity.sqm.core.rte.RefreshManager.referesh(RefreshManager.java:74)\n\nThis problem occurred during the automated GUI test, and we still cannot find out the exact reproduce steps. But one typical character of the auto-test is to frequently close and reopen Database Development perspective between database operations while the connection profile is alway connected. \nAccording to the error log, I suspect that at some point, when the perspective is closed, some error may prevent ServerExplorerContentProviderNav.dispose() from being called, which results in a phantom ICatalogObjectListener. \nAlso the problem is only a rare case, but the result blocks user from doing any refresh. The attached patch adds sanity check in ServerExplorerContentProviderNav.notifyChanged(): when the widget is already disposed, this ServerExplorerContentProviderNav instance will be removed from the RefreshManager.",
    "Created an attachment (id\u003d78407)\npatch\n\n",
    "Interesting issue. Fix looks fine to me. Once it\u0027s PMC approved, I\u0027ll get it checked in.",
    "Delivered to 1.5 maintenance and head streams. Thanks hui!"
  ],
  "commentCreationDates": [
    "2007-09-14T09:20:15+02:00",
    "2007-09-14T09:20:44+02:00",
    "2007-09-14T16:39:16+02:00",
    "2007-09-14T18:27:17+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Widget is disposed",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3563"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3481"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3452"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:432"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.getDisplay",
          "source": "Widget.java:542"
        },
        {
          "method": "org.eclipse.datatools.connectivity.sqm.server.internal.ui.explorer.providers.content.impl.ServerExplorerContentProviderNav.notifyChanged",
          "source": "ServerExplorerContentProviderNav.java:185"
        },
        {
          "method": "org.eclipse.datatools.connectivity.sqm.core.rte.RefreshManager.referesh",
          "source": "RefreshManager.java:74"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "203407",
      "date": "2007-09-14T09:20:15+02:00",
      "product": "Data Tools",
      "component": "Data Source Explorer",
      "severity": "critical"
    }
  ],
  "groupId": "203407",
  "bugId": "203407",
  "date": "2007-09-14T09:20:15+02:00",
  "product": "Data Tools",
  "component": "Data Source Explorer",
  "severity": "critical"
}