{
  "comments": [
    "Build ID: WTP 1.5.5\n\nSteps To Reproduce:\nJ2EE utility JARs imported into an EAR project, cause errors if one or more of those JARs are later removed from the project.\n\nRecreation steps:\n 1. Right-click EAR project \u003e Import \u003e J2EE Utility JAR\n 2. Select \"Copy Utility JAR projects into an existing EAR from an\nexternal location\", click Next.\n 3. Browse to directory containing external JAR(s)\n 4. Select 1 or more JARs to import\n 5. Click Finish.\n 6. Right-click EAR project \u003e J2EE Module Dependencies\n 7. Uncheck the imported JAR\n 8. In the workspace .log:\n************************************************************************\n!ENTRY org.eclipse.ui 4 0 2007-05-24 11:57:30.276                       \n!MESSAGE Path must include project and resource name: /Concurrent.jar   \n!STACK 0                                                                \njava.lang.IllegalArgumentException: Path must include project and       \nresource name: /Concurrent.jar                                          \n at org.eclipse.core.runtime.Assert.isLegal(Unknown Source)             \n at org.eclipse.core.internal.resources.Workspace.newResource(Unknown   \nSource)                                                                 \n at org.eclipse.core.internal.resources.Container.getFile(Unknown       \nSource)                                                                 \n at                                                                     \norg.eclipse.wst.common.componentcore.internal.resources.VirtualArchiveCo\nmponent.getUnderlyingDiskFile(Unknown Source)                           \n at                                                                     \norg.eclipse.wst.common.componentcore.internal.resources.VirtualArchiveCo\nmponent.exists(Unknown Source)                                          \n at                                                                     \norg.eclipse.jst.j2ee.componentcore.util.EARVirtualComponent.getHardRefer\nences(Unknown Source)                                                   \n at                                                                     \norg.eclipse.jst.j2ee.componentcore.util.EARVirtualComponent.getReference\ns(Unknown Source)                                                       \n at                                                                     \norg.eclipse.wst.common.componentcore.internal.resources.VirtualComponent\n.getReference(Unknown Source)\n\nMore information:",
    "Created an attachment (id\u003d73698)\nPropsed fix\n\nThe references were not removed since the util components were deleted in the RemoveComponentFromEnterpriseApplicationOperation and when call was delegated to superclass RemoveReferenceComponentOperation, to remove the refernces, it wasn\u0027t able to find the referenced component.\n\nFix delays the deletion of the file associated with the component until the refernce is removed.",
    "I have reviewed and tested this patch...  This defers deleting the file on disk until all \".component\" references are cleaned up.  Result hasn\u0027t changed, just order of execution.\n\nI approve",
    "Dropped to build"
  ],
  "commentCreationDates": [
    "2007-07-12T21:12:37+02:00",
    "2007-07-12T21:21:10+02:00",
    "2007-07-13T16:38:32+02:00",
    "2007-07-16T17:00:49+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Path must include project and        resource name: /Concurrent.jar",
      "elements": [
        {
          "method": "org.eclipse.core.runtime.Assert.isLegal",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.newResource",
          "source": "Unknown    Source"
        },
        {
          "method": "org.eclipse.core.internal.resources.Container.getFile",
          "source": "Unknown        Source"
        },
        {
          "method": "org.eclipse.wst.common.componentcore.internal.resources.VirtualArchiveComponent.getUnderlyingDiskFile",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.wst.common.componentcore.internal.resources.VirtualArchiveComponent.exists",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jst.j2ee.componentcore.util.EARVirtualComponent.getHardReferences",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jst.j2ee.componentcore.util.EARVirtualComponent.getReferences",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.wst.common.componentcore.internal.resources.VirtualComponent.getReference",
          "source": "Unknown Source"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "196368",
      "date": "2007-07-12T21:12:37+02:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "normal"
    }
  ],
  "groupId": "196368",
  "bugId": "196368",
  "date": "2007-07-12T21:12:37+02:00",
  "product": "Web Tools",
  "component": "jst.j2ee",
  "severity": "normal"
}