{
  "comments": [
    "Build: Callisto 3.2\n\nThe org.eclipse.jst.jsp.ui.StructuredTextViewerConfigurationJSP class has a method called getJavaSourceViewerConfiguration(). This method creates a JavaTextTools instance, but this instance is never \"disposed\" when the JSP editor is closed.\n\nBy dispose, I mean the JavaTextTools.dispose() method is never called upon closing the JSP editor. Reason I found that out is because JavaTextTools has a color manager which creates at least 9 color objects when instantiated. These 9 color objects are leaked per JSP editor open/close (I found out using Sleak). Looks like we need to explicitly call the JavaTextTools.dispose() method when the editor is closed, or at least call the dispose() method on the color manager. Here\u0027s a stack trace for one of the color object:\n\njava.lang.Error\n\tat org.eclipse.swt.graphics.Device.new_Object(Device.java:753)\n\tat org.eclipse.swt.graphics.Color.\u003cinit\u003e(Color.java:110)\n\tat org.eclipse.jdt.internal.ui.text.JavaColorManager.getColor(JavaColorManager.java:98)\n\tat org.eclipse.jdt.internal.ui.text.JavaColorManager.getColor(JavaColorManager.java:122)\n\tat org.eclipse.jdt.internal.ui.text.AbstractJavaScanner.createTextAttribute(AbstractJavaScanner.java:240)\n\tat org.eclipse.jdt.internal.ui.text.AbstractJavaScanner.addToken(AbstractJavaScanner.java:218)\n\tat org.eclipse.jdt.internal.ui.text.AbstractJavaScanner.initialize(AbstractJavaScanner.java:166)\n\tat org.eclipse.jdt.internal.ui.text.java.JavaCodeScanner.\u003cinit\u003e(JavaCodeScanner.java:358)\n\tat org.eclipse.jdt.ui.text.JavaTextTools.\u003cinit\u003e(JavaTextTools.java:166)\n\tat org.eclipse.jdt.ui.text.JavaTextTools.\u003cinit\u003e(JavaTextTools.java:105)\n\tat org.eclipse.jst.jsp.ui.StructuredTextViewerConfigurationJSP.getJavaSourceViewerConfiguration(StructuredTextViewerConfigurationJSP.java:325)\n\tat org.eclipse.jst.jsp.ui.StructuredTextViewerConfigurationJSP.getAutoEditStrategies(StructuredTextViewerConfigurationJSP.java:123)",
    "\n\n*** This bug has been marked as a duplicate of 117349 ***",
    "Close."
  ],
  "commentCreationDates": [
    "2006-07-26T21:52:10+02:00",
    "2006-07-26T22:05:06+02:00",
    "2006-09-22T17:09:08+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.Error",
      "elements": [
        {
          "method": "org.eclipse.swt.graphics.Device.new_Object",
          "source": "Device.java:753"
        },
        {
          "method": "org.eclipse.swt.graphics.Color.\u003cinit\u003e",
          "source": "Color.java:110"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.JavaColorManager.getColor",
          "source": "JavaColorManager.java:98"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.JavaColorManager.getColor",
          "source": "JavaColorManager.java:122"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.AbstractJavaScanner.createTextAttribute",
          "source": "AbstractJavaScanner.java:240"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.AbstractJavaScanner.addToken",
          "source": "AbstractJavaScanner.java:218"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.AbstractJavaScanner.initialize",
          "source": "AbstractJavaScanner.java:166"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.java.JavaCodeScanner.\u003cinit\u003e",
          "source": "JavaCodeScanner.java:358"
        },
        {
          "method": "org.eclipse.jdt.ui.text.JavaTextTools.\u003cinit\u003e",
          "source": "JavaTextTools.java:166"
        },
        {
          "method": "org.eclipse.jdt.ui.text.JavaTextTools.\u003cinit\u003e",
          "source": "JavaTextTools.java:105"
        },
        {
          "method": "org.eclipse.jst.jsp.ui.StructuredTextViewerConfigurationJSP.getJavaSourceViewerConfiguration",
          "source": "StructuredTextViewerConfigurationJSP.java:325"
        },
        {
          "method": "org.eclipse.jst.jsp.ui.StructuredTextViewerConfigurationJSP.getAutoEditStrategies",
          "source": "StructuredTextViewerConfigurationJSP.java:123"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "151910",
      "duplicateId": "117349",
      "date": "2006-07-26T21:52:10+02:00",
      "product": "Web Tools",
      "component": "jst.jsp",
      "severity": "normal"
    }
  ],
  "groupId": "117349",
  "bugId": "151910",
  "duplicateId": "117349",
  "date": "2006-07-26T21:52:10+02:00",
  "product": "Web Tools",
  "component": "jst.jsp",
  "severity": "normal"
}