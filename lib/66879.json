{
  "comments": [
    "I have been experimenting with projection support in 3.0RC2, and managed to get\na simple editor with folding to work. However, when I collapse an element in it,\nI get the following NullPointerException:\n\njava.lang.NullPointerException\n\tat\norg.eclipse.jface.text.source.projection.ProjectionSummary.createSummary(ProjectionSummary.java:225)\n\tat\norg.eclipse.jface.text.source.projection.ProjectionSummary.createSummaries(ProjectionSummary.java:195)\n\tat\norg.eclipse.jface.text.source.projection.ProjectionSummary.internalUpdateSummaries(ProjectionSummary.java:130)\n\tat\norg.eclipse.jface.text.source.projection.ProjectionSummary.access$3(ProjectionSummary.java:111)\n\tat\norg.eclipse.jface.text.source.projection.ProjectionSummary$Summarizer.run(ProjectionSummary.java:61)\n\nThe reason for this is that createSummary expects fConfiguredAnnotationTypes to\nbe non-null, but I didn\u0027t add any \"summarizable annotation type\" to my editor\u0027s\nProjectionSupport. (The two that are used in JavaEditor, from which I lifted how\nto hook into the projection framework, are errors and warnings, neither of which\ncan occur in my editor.) An editor could legitimately register no summarizable\nannotation types and still support folding, couldn\u0027t it?",
    "Adding Dirk for second vote.",
    "It should also work if there are no configured annotation types. Changed code \naccordingly.\n\nThis, however, also reveals a problem with the concurrent access to the \nconfigured annotation types. As addAnnotationType and removeAnnotationType \nalso may change create or free the list of content types we need to guard the \naccess to the list inside the summarizer thread.",
    "Created an attachment (id\u003d12370)\npatch for class ProjectionSummary\n",
    "Reviewed by Tom. Released for build I200406171600.",
    "Start verifying",
    "Verified by code inspection"
  ],
  "commentCreationDates": [
    "2004-06-14T08:30:18+02:00",
    "2004-06-16T15:47:20+02:00",
    "2004-06-17T11:48:19+02:00",
    "2004-06-17T11:53:37+02:00",
    "2004-06-17T18:43:27+02:00",
    "2004-06-21T11:32:08+02:00",
    "2004-06-21T11:43:29+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jface.text.source.projection.ProjectionSummary.createSummary",
          "source": "ProjectionSummary.java:225"
        },
        {
          "method": "org.eclipse.jface.text.source.projection.ProjectionSummary.createSummaries",
          "source": "ProjectionSummary.java:195"
        },
        {
          "method": "org.eclipse.jface.text.source.projection.ProjectionSummary.internalUpdateSummaries",
          "source": "ProjectionSummary.java:130"
        },
        {
          "method": "org.eclipse.jface.text.source.projection.ProjectionSummary.access$3",
          "source": "ProjectionSummary.java:111"
        },
        {
          "method": "org.eclipse.jface.text.source.projection.ProjectionSummary$Summarizer.run",
          "source": "ProjectionSummary.java:61"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "66879",
      "date": "2004-06-14T08:30:18+02:00",
      "product": "Platform",
      "component": "Text",
      "severity": "normal"
    }
  ],
  "groupId": "66879",
  "bugId": "66879",
  "date": "2004-06-14T08:30:18+02:00",
  "product": "Platform",
  "component": "Text",
  "severity": "normal"
}