{
  "comments": [
    "CDT I200605090500, Eclipse 3.2RC3:\n\njava.lang.ClassCastException: org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTQualifiedName\nat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPClassTemplate.getCompositeScope(CPPClassTemplate.java:447)\nat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPDeferredClassInstance.getCompositeScope(CPPDeferredClassInstance.java:135)\nat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPVisitor.getContainingScope(CPPVisitor.java:797)\nat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.getLookupScope(CPPSemantics.java:917)\nat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.lookup(CPPSemantics.java:997)\nat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.resolveBinding(CPPSemantics.java:612)\nat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPVisitor.createBinding(CPPVisitor.java:164)\nat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTName.resolveBinding(CPPASTName.java:52)\nat org.eclipse.cdt.internal.core.pdom.dom.cpp.PDOMCPPLinkage.addName(PDOMCPPLinkage.java:111)\nat org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastIndexerJob$1.visit(PDOMFastIndexerJob.java:138)\nat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTName.accept(CPPASTName.java:90)\nat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTQualifiedName.accept(CPPASTQualifiedName.java:184)\nat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTDeclarator.accept(CPPASTDeclarator.java:126)\nat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTFunctionDefinition.accept(CPPASTFunctionDefinition.java:92)\nat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTTemplateDeclaration.accept(CPPASTTemplateDeclaration.java:95)\nat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTTranslationUnit.accept(CPPASTTranslationUnit.java:561)\nat org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastIndexerJob.addTU(PDOMFastIndexerJob.java:128)\nat org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastReindex$3.visit(PDOMFastReindex.java:103)\nat org.eclipse.cdt.internal.core.model.CElement.accept(CElement.java:485)\nat org.eclipse.cdt.internal.core.model.CElement.accept(CElement.java:492)\nat org.eclipse.cdt.internal.core.model.CElement.accept(CElement.java:492)\nat org.eclipse.cdt.internal.core.model.CElement.accept(CElement.java:492)\nat org.eclipse.cdt.internal.core.model.CElement.accept(CElement.java:492)\nat org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastReindex.run(PDOMFastReindex.java:90)\nat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\n\nThe code fragment being parsed is:\ntemplate \u003cclass T\u003e\nclass ExportedVariableMap::ValueHandler {\npublic:\n\n  static inline void WriteCallbackValueToIOBuffer(\n    Callback1\u003cT*\u003e * cb,\n    IOBuffer * output);\n};\n\nCurrent symbol is WriteCallbackValueToIOBuffer.\n\nPlease let me know if you want me to collect more information.",
    "I wasn\u0027t able to reproduce the exception, but I have protected the area so it shouldn\u0027t happen again.",
    "ClassCastException did not go away in I200605120500 although the call stack is different now and there was no popup dialog:\n\njava.lang.ClassCastException: org.eclipse.cdt.internal.core.dom.parser.cpp.CPPTemplateDefinition$CPPTemplateProblem\n\tat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.postResolution(CPPSemantics.java:698)\n\tat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.resolveBinding(CPPSemantics.java:628)\n\tat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPVisitor.resolveBinding(CPPVisitor.java:938)\n\tat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPVisitor.createBinding(CPPVisitor.java:183)\n\tat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPTemplates.createBinding(CPPTemplates.java:254)\n\tat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTTemplateId.resolveBinding(CPPASTTemplateId.java:74)\n\tat org.eclipse.cdt.internal.core.pdom.dom.cpp.PDOMCPPLinkage.addName(PDOMCPPLinkage.java:120)\n\tat org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastIndexerJob$1.visit(PDOMFastIndexerJob.java:132)\n\tat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTTemplateId.accept(CPPASTTemplateId.java:96)\n\tat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTIdExpression.accept(CPPASTIdExpression.java:41)\n\tat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTFunctionCallExpression.accept(CPPASTFunctionCallExpression.java:53)\n\tat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTReturnStatement.accept(CPPASTReturnStatement.java:56)\n\tat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTCompoundStatement.accept(CPPASTCompoundStatement.java:66)\n\tat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTFunctionDefinition.accept(CPPASTFunctionDefinition.java:93)\n\tat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTTemplateDeclaration.accept(CPPASTTemplateDeclaration.java:95)\n\tat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTTranslationUnit.accept(CPPASTTranslationUnit.java:561)\n\tat org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastIndexerJob.addSymbols(PDOMFastIndexerJob.java:123)\n\tat org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastIndexerJob.addTU(PDOMFastIndexerJob.java:77)\n\tat org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastReindex$3.visit(PDOMFastReindex.java:105)\n\tat org.eclipse.cdt.internal.core.model.CElement.accept(CElement.java:485)\n\tat org.eclipse.cdt.internal.core.model.CElement.accept(CElement.java:492)\n\tat org.eclipse.cdt.internal.core.model.CElement.accept(CElement.java:492)\n\tat org.eclipse.cdt.internal.core.model.CElement.accept(CElement.java:492)\n\tat org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastReindex.run(PDOMFastReindex.java:92)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\n\nAlso F3 and Ctrl+F3 don\u0027t seem to work at all in this build. Could it be caused by the prior ClassCastException in the indexer?\n",
    "Given that the call stack is different, it seems to be a new problem. I\u0027ll take a look.\n\nAnd, yes, I have improved the error handling so that it logs the error and tries to continue.",
    "Would be nice to add some logging, possibly conditional, to Open Declaration/Definition commands so that they can be troubleshooted. Should I file a separate bug for it?",
    "I have added checking around the cast. It shouldn\u0027t fail now."
  ],
  "commentCreationDates": [
    "2006-05-10T05:54:10+02:00",
    "2006-05-11T16:40:02+02:00",
    "2006-05-12T19:08:27+02:00",
    "2006-05-12T19:18:41+02:00",
    "2006-05-12T19:23:30+02:00",
    "2006-05-24T23:25:44+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTQualifiedName",
      "elements": [
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPClassTemplate.getCompositeScope",
          "source": "CPPClassTemplate.java:447"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPDeferredClassInstance.getCompositeScope",
          "source": "CPPDeferredClassInstance.java:135"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPVisitor.getContainingScope",
          "source": "CPPVisitor.java:797"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.getLookupScope",
          "source": "CPPSemantics.java:917"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.lookup",
          "source": "CPPSemantics.java:997"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.resolveBinding",
          "source": "CPPSemantics.java:612"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPVisitor.createBinding",
          "source": "CPPVisitor.java:164"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTName.resolveBinding",
          "source": "CPPASTName.java:52"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.dom.cpp.PDOMCPPLinkage.addName",
          "source": "PDOMCPPLinkage.java:111"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastIndexerJob$1.visit",
          "source": "PDOMFastIndexerJob.java:138"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTName.accept",
          "source": "CPPASTName.java:90"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTQualifiedName.accept",
          "source": "CPPASTQualifiedName.java:184"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTDeclarator.accept",
          "source": "CPPASTDeclarator.java:126"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTFunctionDefinition.accept",
          "source": "CPPASTFunctionDefinition.java:92"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTTemplateDeclaration.accept",
          "source": "CPPASTTemplateDeclaration.java:95"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTTranslationUnit.accept",
          "source": "CPPASTTranslationUnit.java:561"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastIndexerJob.addTU",
          "source": "PDOMFastIndexerJob.java:128"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastReindex$3.visit",
          "source": "PDOMFastReindex.java:103"
        },
        {
          "method": "org.eclipse.cdt.internal.core.model.CElement.accept",
          "source": "CElement.java:485"
        },
        {
          "method": "org.eclipse.cdt.internal.core.model.CElement.accept",
          "source": "CElement.java:492"
        },
        {
          "method": "org.eclipse.cdt.internal.core.model.CElement.accept",
          "source": "CElement.java:492"
        },
        {
          "method": "org.eclipse.cdt.internal.core.model.CElement.accept",
          "source": "CElement.java:492"
        },
        {
          "method": "org.eclipse.cdt.internal.core.model.CElement.accept",
          "source": "CElement.java:492"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastReindex.run",
          "source": "PDOMFastReindex.java:90"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "140973",
      "date": "2006-05-10T05:54:10+02:00",
      "product": "CDT",
      "component": "CDT-parser",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPTemplateDefinition$CPPTemplateProblem",
      "elements": [
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.postResolution",
          "source": "CPPSemantics.java:698"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.resolveBinding",
          "source": "CPPSemantics.java:628"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPVisitor.resolveBinding",
          "source": "CPPVisitor.java:938"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPVisitor.createBinding",
          "source": "CPPVisitor.java:183"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPTemplates.createBinding",
          "source": "CPPTemplates.java:254"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTTemplateId.resolveBinding",
          "source": "CPPASTTemplateId.java:74"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.dom.cpp.PDOMCPPLinkage.addName",
          "source": "PDOMCPPLinkage.java:120"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastIndexerJob$1.visit",
          "source": "PDOMFastIndexerJob.java:132"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTTemplateId.accept",
          "source": "CPPASTTemplateId.java:96"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTIdExpression.accept",
          "source": "CPPASTIdExpression.java:41"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTFunctionCallExpression.accept",
          "source": "CPPASTFunctionCallExpression.java:53"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTReturnStatement.accept",
          "source": "CPPASTReturnStatement.java:56"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTCompoundStatement.accept",
          "source": "CPPASTCompoundStatement.java:66"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTFunctionDefinition.accept",
          "source": "CPPASTFunctionDefinition.java:93"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTTemplateDeclaration.accept",
          "source": "CPPASTTemplateDeclaration.java:95"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTTranslationUnit.accept",
          "source": "CPPASTTranslationUnit.java:561"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastIndexerJob.addSymbols",
          "source": "PDOMFastIndexerJob.java:123"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastIndexerJob.addTU",
          "source": "PDOMFastIndexerJob.java:77"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastReindex$3.visit",
          "source": "PDOMFastReindex.java:105"
        },
        {
          "method": "org.eclipse.cdt.internal.core.model.CElement.accept",
          "source": "CElement.java:485"
        },
        {
          "method": "org.eclipse.cdt.internal.core.model.CElement.accept",
          "source": "CElement.java:492"
        },
        {
          "method": "org.eclipse.cdt.internal.core.model.CElement.accept",
          "source": "CElement.java:492"
        },
        {
          "method": "org.eclipse.cdt.internal.core.model.CElement.accept",
          "source": "CElement.java:492"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastReindex.run",
          "source": "PDOMFastReindex.java:92"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 1,
      "commentIndex": 2,
      "bugId": "140973",
      "date": "2006-05-12T19:08:27+02:00",
      "product": "CDT",
      "component": "CDT-parser",
      "severity": "normal"
    }
  ],
  "groupId": "140973",
  "bugId": "140973",
  "date": "2006-05-10T05:54:10+02:00",
  "product": "CDT",
  "component": "CDT-parser",
  "severity": "normal"
}