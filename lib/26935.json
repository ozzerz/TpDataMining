{
  "comments": [
    "Eclipse 2.1 M3, Windows 2000\n\nThe following exception occurs, when deleting some lines in a wrapped \nStyledText widget. It is important, that the selection starts at a real line \nwich is not the last one and ends at the last virtual line. (Real line is a \nline terminated with \"\\r\\n\", and the virtual line is a line shown by the \nStyledText widget.) It is also important that all selected lines are wrapped by \nthe widget.\n\njava.lang.ArrayIndexOutOfBoundsException\n\tat org.eclipse.swt.custom.WrappedContent.reset(WrappedContent.java:336)\n\tat org.eclipse.swt.custom.WrappedContent.textChanged\n(WrappedContent.java:437)\n\tat org.eclipse.swt.custom.StyledText$WordWrapCache.textChanged\n(StyledText.java:1521)\n\tat org.eclipse.swt.custom.StyledText.handleTextChanged\n(StyledText.java:5146)\n\tat org.eclipse.swt.custom.StyledText$6.textChanged(StyledText.java:4759)\n\tat org.eclipse.swt.custom.StyledTextListener.handleEvent\n(StyledTextListener.java:57)\n\tat org.eclipse.swt.custom.DefaultContent.sendTextEvent\n(DefaultContent.java:795)\n\tat org.eclipse.swt.custom.DefaultContent.replaceTextRange\n(DefaultContent.java:787)\n\tat org.eclipse.swt.custom.WrappedContent.replaceTextRange\n(WrappedContent.java:380)\n\tat org.eclipse.swt.custom.StyledText.modifyContent(StyledText.java:5621)\n\tat org.eclipse.swt.custom.StyledText.sendKeyEvent(StyledText.java:6545)\n\tat org.eclipse.swt.custom.StyledText.doBackspace(StyledText.java:2386)\n\tat org.eclipse.swt.custom.StyledText.invokeAction(StyledText.java:5427)\n\tat org.eclipse.swt.custom.StyledText.handleKey(StyledText.java:5011)\n\tat org.eclipse.swt.custom.StyledText.handleKeyDown(StyledText.java:5030)\n\tat org.eclipse.swt.custom.StyledText$8.handleEvent(StyledText.java:4800)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:77)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:825)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1692)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1410)\n\nWith the following test class the problem can be reproduced simply.\n\nimport org.eclipse.swt.SWT;\nimport org.eclipse.swt.custom.StyledText;\nimport org.eclipse.swt.layout.FillLayout;\nimport org.eclipse.swt.widgets.Display;\nimport org.eclipse.swt.widgets.Shell;\n\npublic class StyledTextProblem\n{\n\tpublic static void main(String[] args)\n\t{\n\t\tDisplay display \u003d new Display ();\n\t\tShell shell \u003d new Shell(display);\n\t\tshell.setLayout(new FillLayout());\n\n\t\tStyledText text \u003d new StyledText(shell, SWT.BORDER | SWT.WRAP);\n\t\t\n\t\tString string \u003d \"0123456789 \";\n\t\tStringBuffer sb \u003d new StringBuffer();\n\t\t\n\t\tfor (int j \u003d 0; j \u003c 4; j++)\n\t\t{\n\t\t\tif (j !\u003d 0)\n\t\t\t{\n\t\t\t\tsb.append(\"\\r\\n\");\n\t\t\t}\n\t\t\t\n\t\t\tfor (int i \u003d 0; i \u003c 30; i++)\n\t\t\t{\n\t\t\t\tsb.append(string);\n\t\t\t}\n\t\t}\n\t\ttext.setText(sb.toString());\n\t\t\n\t\tshell.setSize(600, 400);\n\t\tshell.open();\n\t\t\n\t\ttext.selectAll();\n\t\ttext.cut();\n\t\t\n\t\twhile (!shell.isDisposed())\n\t\t{\n\t\t\tif (!display.readAndDispatch())\n\t\t\t{\n\t\t\t\tdisplay.sleep();\n\t\t\t}\n\t\t}\n\t\t\n\t\tdisplay.dispose();\n\t}\n}",
    "Lynne to investigate and advise",
    "Bug.  Problem exists in R2.0.  Not introduced lately.  \n\nThanks for the test case.",
    "Fixed."
  ],
  "commentCreationDates": [
    "2002-11-22T12:20:44+01:00",
    "2002-11-22T17:07:29+01:00",
    "2002-11-22T17:40:47+01:00",
    "2002-11-25T16:41:55+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "elements": [
        {
          "method": "org.eclipse.swt.custom.WrappedContent.reset",
          "source": "WrappedContent.java:336"
        },
        {
          "method": "org.eclipse.swt.custom.WrappedContent.textChanged",
          "source": "WrappedContent.java:437"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText$WordWrapCache.textChanged",
          "source": "StyledText.java:1521"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.handleTextChanged",
          "source": "StyledText.java:5146"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText$6.textChanged",
          "source": "StyledText.java:4759"
        },
        {
          "method": "org.eclipse.swt.custom.StyledTextListener.handleEvent",
          "source": "StyledTextListener.java:57"
        },
        {
          "method": "org.eclipse.swt.custom.DefaultContent.sendTextEvent",
          "source": "DefaultContent.java:795"
        },
        {
          "method": "org.eclipse.swt.custom.DefaultContent.replaceTextRange",
          "source": "DefaultContent.java:787"
        },
        {
          "method": "org.eclipse.swt.custom.WrappedContent.replaceTextRange",
          "source": "WrappedContent.java:380"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.modifyContent",
          "source": "StyledText.java:5621"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.sendKeyEvent",
          "source": "StyledText.java:6545"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.doBackspace",
          "source": "StyledText.java:2386"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.invokeAction",
          "source": "StyledText.java:5427"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.handleKey",
          "source": "StyledText.java:5011"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.handleKeyDown",
          "source": "StyledText.java:5030"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText$8.handleEvent",
          "source": "StyledText.java:4800"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:77"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:825"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1692"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1410"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "26935",
      "date": "2002-11-22T12:20:44+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    }
  ],
  "groupId": "26935",
  "bugId": "26935",
  "date": "2002-11-22T12:20:44+01:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "normal"
}