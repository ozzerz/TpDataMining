{
  "comments": [
    "I get the following null pointer exception when trying to create the build.xml \nscript for a feature.\n\njava.lang.NullPointerException\nat org.eclipse.pde.internal.build.AbstractBuildScriptGenerator.setFragments\n(AbstractBuildScriptGenerator.java:789)\nat org.eclipse.pde.internal.build.AbstractBuildScriptGenerator.getRegistry\n(AbstractBuildScriptGenerator.java:776)\nat org.eclipse.pde.internal.build.FeatureBuildScriptGenerator.computeElements\n(FeatureBuildScriptGenerator.java:73)\nat \norg.eclipse.pde.internal.build.FeatureBuildScriptGenerator.generateChildrenScrip\nts(FeatureBuildScriptGenerator.java:435)\nat org.eclipse.pde.internal.build.FeatureBuildScriptGenerator.generate\n(FeatureBuildScriptGenerator.java:127)\nat org.eclipse.pde.internal.ui.feature.BuildFeatureAction.makeScripts\n(BuildFeatureAction.java:207)\nat org.eclipse.pde.internal.ui.feature.BuildFeatureAction.doBuildFeature\n(BuildFeatureAction.java:140)\nat org.eclipse.pde.internal.ui.feature.BuildFeatureAction.access$0\n(BuildFeatureAction.java:129)\nat org.eclipse.pde.internal.ui.feature.BuildFeatureAction$2.run\n(BuildFeatureAction.java:58)\nat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1595)\nat org.eclipse.pde.internal.ui.feature.BuildFeatureAction$1.run\n(BuildFeatureAction.java:65)\nat org.eclipse.jface.operation.ModalContext.runInCurrentThread\n(ModalContext.java:302)\nat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:252)\nat org.eclipse.jface.dialogs.ProgressMonitorDialog.run\n(ProgressMonitorDialog.java:357)\nat org.eclipse.pde.internal.ui.feature.BuildFeatureAction.run\n(BuildFeatureAction.java:75)\nat org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:251)\nat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:456)\nat org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent\n(ActionContributionItem.java:403)\nat org.eclipse.jface.action.ActionContributionItem.access$0\n(ActionContributionItem.java:397)\nat org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent\n(ActionContributionItem.java:72)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:81)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:840)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1838)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1545)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1402)\nat org.eclipse.ui.internal.Workbench.run(Workbench.java:1385)\nat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:858)\nat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:324)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:291)\nat org.eclipse.core.launcher.Main.run(Main.java:747)\nat org.eclipse.core.launcher.Main.main(Main.java:583)",
    "Could you please provide a test case and indicate which build you are using.\n",
    "Created an attachment (id\u003d5823)\nFeature creation null pointer exception\n\nThis zip file contains a pde project, a feature project, and a file containing\nthe contents of my configuration.  This file also contains the stack trace for\nthe exception.\tThe null pointer exception was created on the feature, by\nright-clicking on the feature.xml and executing the create Ant Build File menu\noption.",
    "Using the latest integration build (I20030820) I did not reproduce the bug.\nPlease re-open if it still occurs.",
    "This bug is caused by an error in the target environment plugins.  In this case \nI am referencing IBM\u0027s WDSc 5.0 as the target environment.  In that \nenvironment, one of the plugin fragments has an error in the plugin id that it \nreferences, so that there is no valid plugin that corresponds to the id.\n\nWhen you launch a runtime workbench in debug mode, this fragment is detected \nand ignored after reporting the error.\n\nHowever the build script generator does not ignore the problem.  The following \nis a snippet from the 2.1.1 code base where the problem occurs.\n\nprivate void setFragments() {\n\tPluginFragmentModel[] fragments \u003d registry.getFragments();\n\tfor (int i \u003d 0; i \u003c fragments.length; i++) {\n\t\tString pluginId \u003d fragments[i].getPluginId();\n\t\tPluginDescriptorModel plugin \u003d registry.getPlugin(pluginId);\n\u003d\u003d\u003d\u003eif plugin is null, the next statement fails.\n\t\tPluginFragmentModel[] existingFragments \u003d plugin.getFragments();\n\t\tif (existingFragments \u003d\u003d null)\n\t\t\tplugin.setFragments(new PluginFragmentModel[] { \nfragments[i] });\n\t\telse {\n\t\t\tPluginFragmentModel[] newFragments \u003d new \nPluginFragmentModel[existingFragments.length + 1];\n\t\t\tSystem.arraycopy(existingFragments, 0, newFragments, 0, \nexistingFragments.length);\n\t\t\tnewFragments[newFragments.length - 1] \u003d fragments[i];\n\t\t\tplugin.setFragments(newFragments);\n\t\t}\n\t}\n}\n\nI inserted a comment into the code to highlight where and why the null pointer \nexists.  I have not however examined the latest build code to see if this \nproblem has been fixed.",
    "Error Jan 14, 2004 03:44:31.239 2\njava.lang.ArrayIndexOutOfBoundsException: 2\n\tat org.eclipse.pde.internal.build.Config.\u003cinit\u003e(Config.java:29)\n\tat org.eclipse.pde.internal.build.Config.\u003cinit\u003e(Config.java:33)\n\tat\norg.eclipse.pde.internal.build.AbstractScriptGenerator.setConfigInfo(AbstractScriptGenerator.java:73)\n\tat\norg.eclipse.pde.internal.ui.feature.BuildFeatureAction.setConfigInfo(BuildFeatureAction.java:74)\n\tat\norg.eclipse.pde.internal.ui.feature.BuildFeatureAction.makeScripts(BuildFeatureAction.java:59)\n\tat\norg.eclipse.pde.internal.ui.feature.BaseBuildAction.doBuild(BaseBuildAction.java:80)\n\tat\norg.eclipse.pde.internal.ui.feature.BaseBuildAction.access$0(BaseBuildAction.java:71)\n\tat\norg.eclipse.pde.internal.ui.feature.BaseBuildAction$2.run(BaseBuildAction.java:37)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1555)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1574)\n\tat\norg.eclipse.pde.internal.ui.feature.BaseBuildAction$1.run(BaseBuildAction.java:44)\n\tat\norg.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:302)\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:252)\n\tat\norg.eclipse.jface.dialogs.ProgressMonitorDialog.run(ProgressMonitorDialog.java:394)\n\tat org.eclipse.pde.internal.ui.feature.BaseBuildAction.run(BaseBuildAction.java:53)\n\tat org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:271)\n\tat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:509)\n\tat\norg.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:461)\n\tat\norg.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:408)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:847)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2311)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1992)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1506)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1482)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:246)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:47)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:85)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:279)\n\tat org.eclipse.core.launcher.Main.run(Main.java:742)\n\tat org.eclipse.core.launcher.Main.main(Main.java:581)\n\nEclipse 3M6",
    "Duplicate of bug 39976.\nJarkko please open an other bug with more details since the stack trace you\nprovide does not show the same problem.\n\n*** This bug has been marked as a duplicate of 39976 ***"
  ],
  "commentCreationDates": [
    "2003-08-21T21:22:23+02:00",
    "2003-08-21T21:54:11+02:00",
    "2003-08-21T22:15:45+02:00",
    "2003-08-22T00:30:56+02:00",
    "2003-08-22T01:18:51+02:00",
    "2004-01-14T01:51:05+01:00",
    "2004-02-25T22:44:24+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.pde.internal.build.AbstractBuildScriptGenerator.setFragments",
          "source": "AbstractBuildScriptGenerator.java:789"
        },
        {
          "method": "org.eclipse.pde.internal.build.AbstractBuildScriptGenerator.getRegistry",
          "source": "AbstractBuildScriptGenerator.java:776"
        },
        {
          "method": "org.eclipse.pde.internal.build.FeatureBuildScriptGenerator.computeElements",
          "source": "FeatureBuildScriptGenerator.java:73"
        },
        {
          "method": "org.eclipse.pde.internal.build.FeatureBuildScriptGenerator.generateChildrenScripts",
          "source": "FeatureBuildScriptGenerator.java:435"
        },
        {
          "method": "org.eclipse.pde.internal.build.FeatureBuildScriptGenerator.generate",
          "source": "FeatureBuildScriptGenerator.java:127"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BuildFeatureAction.makeScripts",
          "source": "BuildFeatureAction.java:207"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BuildFeatureAction.doBuildFeature",
          "source": "BuildFeatureAction.java:140"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BuildFeatureAction.access$0",
          "source": "BuildFeatureAction.java:129"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BuildFeatureAction$2.run",
          "source": "BuildFeatureAction.java:58"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1595"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BuildFeatureAction$1.run",
          "source": "BuildFeatureAction.java:65"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:302"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:252"
        },
        {
          "method": "org.eclipse.jface.dialogs.ProgressMonitorDialog.run",
          "source": "ProgressMonitorDialog.java:357"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BuildFeatureAction.run",
          "source": "BuildFeatureAction.java:75"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:251"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:456"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java:403"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem.java:397"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java:72"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:81"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:840"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1838"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1545"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1402"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1385"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:858"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:291"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:747"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:583"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "41829",
      "duplicateId": "39976",
      "date": "2003-08-21T21:22:23+02:00",
      "product": "PDE",
      "component": "Build",
      "severity": "critical"
    },
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "2",
      "elements": [
        {
          "method": "org.eclipse.pde.internal.build.Config.\u003cinit\u003e",
          "source": "Config.java:29"
        },
        {
          "method": "org.eclipse.pde.internal.build.Config.\u003cinit\u003e",
          "source": "Config.java:33"
        },
        {
          "method": "org.eclipse.pde.internal.build.AbstractScriptGenerator.setConfigInfo",
          "source": "AbstractScriptGenerator.java:73"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BuildFeatureAction.setConfigInfo",
          "source": "BuildFeatureAction.java:74"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BuildFeatureAction.makeScripts",
          "source": "BuildFeatureAction.java:59"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BaseBuildAction.doBuild",
          "source": "BaseBuildAction.java:80"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BaseBuildAction.access$0",
          "source": "BaseBuildAction.java:71"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BaseBuildAction$2.run",
          "source": "BaseBuildAction.java:37"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1555"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1574"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BaseBuildAction$1.run",
          "source": "BaseBuildAction.java:44"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:302"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:252"
        },
        {
          "method": "org.eclipse.jface.dialogs.ProgressMonitorDialog.run",
          "source": "ProgressMonitorDialog.java:394"
        },
        {
          "method": "org.eclipse.pde.internal.ui.feature.BaseBuildAction.run",
          "source": "BaseBuildAction.java:53"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:271"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:509"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:461"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:408"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:847"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2311"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1992"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1506"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1482"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:246"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:139"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:47"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:279"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:742"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:581"
        }
      ],
      "number": 1,
      "commentIndex": 5,
      "bugId": "41829",
      "duplicateId": "39976",
      "date": "2004-01-14T01:51:05+01:00",
      "product": "PDE",
      "component": "Build",
      "severity": "critical"
    }
  ],
  "groupId": "39976",
  "bugId": "41829",
  "duplicateId": "39976",
  "date": "2003-08-21T21:22:23+02:00",
  "product": "PDE",
  "component": "Build",
  "severity": "critical"
}