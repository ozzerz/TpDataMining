{
  "comments": [
    "Build 20030611\n\nLoad all plugins as binary projects, except platform-ui module plugins.\nLoad platform-ui module from the repository.\nLoad ui test suite project from repository.\nRun UI Test Suite as JUnit Plugin Test.\n\nA number of IllegalArgumentExceptions occur in the CoolBar.update(boolean) \nmethod.  IllegalCapacity is the explanation.\n\nThe error does not always occur.",
    "Actually this appears to be a VM bug.  See [Bug 96446] Running JUnit plugin \ntests with J9 sidecar.  \n\nI tracked down where the failure is occurring.  It is when the following \nArrayList is allocated:  \n\n    CoolItem[] coolItems \u003d coolBar.getItems();\n    ArrayList coolItemsToRemove \u003d new ArrayList(coolItems.length);\n\ncoolBar is an SWT widget and it should not answer anything negative and is not \nanswering overly large.  When the test suites run and the failures occur, \ncoolItems.length \u003d\u003d 0.  I tried catching the exception, putting in some \nprintlns, and debugging.  In all these instances, the failures magically go \naway.\n\n",
    "Note KR successfully ran the test suites with J9 (no IllegalArgumentException).",
    "KR just tried disabling the JIT and the failure does not occur.\n\nThe only thing maybe interesting in the failure case is that the failure occurs \nin a try {} finally {} block (no catch).  When I tried to explicitly catch the \nfailure to see what was going on, the failure no longer occurred.\n\nReassigning to Jeff.  Please pass along to the appropriate party.  Thanks...",
    "java.fullversion\u003dJ2RE 1.3.1 IBM Windows 32 build cn131-20020710 (JIT enabled: \njitc)\n",
    "The vm noted is extremely old (20020710).  Please update to the latest VM and \nretry.\n",
    "I see the IllegalArgumentException with IBM SC J2RE 1.3.1 IBM Windows 32 build \ncn131-20030611\nLike Lynne writes disabling JIT solves the problem.",
    "Also occurs with\njava.fullversion\u003dJ2RE 1.3.1 IBM Windows 32 build cn131-20030329 (JIT enabled: \njitc)\n",
    "CCing Nick.  Who should this be assigned to if not Jeff?",
    "Knut says:\nLynne saw the IllegalArgumentException with her 1.3.1 IBM JRE (20020710). \nI see it with IBM JRE 1.4.0 (20020902) - the latest 1.4 VM we have on the \ndownloads page. Will check with the SR-4 1.3.1 IBM JRE.\n\nand:\nIllegalArgumentException still a problem with 1.3.1 IBM JRE SR-4 (20030329).\n",
    "The stack is:\n\njava.lang.IllegalArgumentException: Illegal Capacity: 278929240\n\tat java.util.ArrayList.\u003cinit\u003e(ArrayList.java(Inlined Compiled Code))\n\tat org.eclipse.ui.internal.CoolBarManager.update(CoolBarManager.java\n(Compiled Code))\n\tat org.eclipse.ui.internal.WorkbenchWindow.updateActionBars\n(WorkbenchWindow.java:1662)\n\tat org.eclipse.ui.internal.WorkbenchPage.updateActionBars\n(WorkbenchPage.java:2816)\n\tat org.eclipse.ui.internal.WorkbenchPage$ActionSwitcher.updateActivePart\n(WorkbenchPage.java:213)\n\tat org.eclipse.ui.internal.WorkbenchPage.setActivePart\n(WorkbenchPage.java:2487)\n\tat org.eclipse.ui.internal.WorkbenchPage.activate\n(WorkbenchPage.java:408)\n\tat org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor\n(WorkbenchPage.java:2066)\n\tat org.eclipse.ui.internal.WorkbenchPage.access$6\n(WorkbenchPage.java:1999)\n\tat org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:1986)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java\n(Compiled Code))\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor\n(WorkbenchPage.java:1981)\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor\n(WorkbenchPage.java:1866)\n\tat org.eclipse.ui.tests.api.IWorkbenchPageTest.testOpenEditor\n(IWorkbenchPageTest.java:222)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat junit.framework.TestCase.runTest(TestCase.java:154)\n\tat junit.framework.TestCase.runBare(TestCase.java:127)\n\tat junit.framework.TestResult$1.protect(TestResult.java:106)\n\tat junit.framework.TestResult.runProtected(TestResult.java:124)\n\tat junit.framework.TestResult.run(TestResult.java:109)\n\tat junit.framework.TestCase.run(TestCase.java:118)\n\tat junit.framework.TestSuite.runTest(TestSuite.java:208)\n\tat junit.framework.TestSuite.run(TestSuite.java:203)\n\tat junit.framework.TestSuite.runTest(TestSuite.java:208)\n\tat junit.framework.TestSuite.run(TestSuite.java:203)\n\tat junit.framework.TestSuite.runTest(TestSuite.java:208)\n\tat junit.framework.TestSuite.run(TestSuite.java:203)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests\n(RemoteTestRunner.java:392)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run\n(RemoteTestRunner.java:276)\n\tat org.eclipse.pde.internal.junit.ui.RemotePluginTestRunner.main\n(RemotePluginTestRunner.java:30)\n\tat org.eclipse.pde.internal.junit.ui.UITestApplication.runEventLoop\n(UITestApplication.java:35)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1385)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:845)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:431)\n\tat EclipseRuntimeLauncher.main(EclipseRuntimeLauncher.java:24)\n",
    "Kevin, can you route this to Hursley, or give us the steps for doing so?\n",
    "*** Bug 40897 has been marked as a duplicate of this bug. ***",
    "*** Bug 40834 has been marked as a duplicate of this bug. ***",
    "java.fullversion\u003dJ2RE 1.3.1 IBM Windows 32 build cn131-20030329 (JIT enabled: \njitc)\n\nI see the problem fairly consistently with build 20030723.  VM \u003d J2RE 1.3.1 IBM \nWindows 32 build cn131-20030329 (JIT enabled: jitc).\n\nKR also seeing the problem with IBM 1.4.0 vm.",
    "This appears to be a JIT bug in the IBM Hursley VM.  We have reported this in \nthe Hursley bug reporting system.\n\nLynne, you could try seeing if there are any suspicious code patterns that may \nbe confusing the JIT, and try changing them.  I had a quick pick and it all \nseems like pretty vanilla Java code to me.\n",
    "*** Bug 42128 has been marked as a duplicate of this bug. ***",
    "I get this error pretty regularly.  It\u0027s quite frustrating since it means I \nneed to restart Eclipse multiple times a day.  Happens on M3 and M4 builds.  \nI\u0027m using IBM JDK too:\n\nJ2RE 1.4.0 IBM Windows 32 build cn140-20020902 (JIT enabled: jitc)",
    "I know it\u0027s frustrating.  We\u0027ve reported the JIT bug to Hursley, but I haven\u0027t \nheard any response.  We\u0027ve tried to determine the problematic code pattern in \norder to work around it, but haven\u0027t had any success.\n\nRecommend using one of the Sun VMs.",
    "Regarding the problematic code pattern - see comment #3 above.  The problem \nmight go away by putting in a catch block that simply rethrows the caught \nexception.",
    "Kosta, can you explore this please?",
    "closing"
  ],
  "commentCreationDates": [
    "2003-06-13T22:11:04+02:00",
    "2003-06-13T23:13:05+02:00",
    "2003-06-13T23:18:42+02:00",
    "2003-06-16T17:10:15+02:00",
    "2003-06-16T17:37:19+02:00",
    "2003-06-16T17:50:29+02:00",
    "2003-06-16T18:14:00+02:00",
    "2003-06-16T18:16:44+02:00",
    "2003-06-16T18:20:57+02:00",
    "2003-06-16T19:52:54+02:00",
    "2003-06-16T19:54:50+02:00",
    "2003-06-16T19:55:59+02:00",
    "2003-07-29T19:56:00+02:00",
    "2003-07-29T19:56:30+02:00",
    "2003-07-29T20:44:24+02:00",
    "2003-07-29T22:20:33+02:00",
    "2003-09-03T23:14:33+02:00",
    "2003-10-29T18:04:16+01:00",
    "2003-10-29T18:18:30+01:00",
    "2003-10-29T18:54:24+01:00",
    "2003-10-29T20:44:49+01:00",
    "2006-04-11T16:24:51+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Illegal Capacity: 278929240",
      "elements": [
        {
          "method": "java.util.ArrayList.\u003cinit\u003e",
          "source": "ArrayList.java(Inlined Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.CoolBarManager.update",
          "source": "CoolBarManager.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.updateActionBars",
          "source": "WorkbenchWindow.java:1662"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.updateActionBars",
          "source": "WorkbenchPage.java:2816"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$ActionSwitcher.updateActivePart",
          "source": "WorkbenchPage.java:213"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.setActivePart",
          "source": "WorkbenchPage.java:2487"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.activate",
          "source": "WorkbenchPage.java:408"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor",
          "source": "WorkbenchPage.java:2066"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.access$6",
          "source": "WorkbenchPage.java:1999"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$9.run",
          "source": "WorkbenchPage.java:1986"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:1981"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:1866"
        },
        {
          "method": "org.eclipse.ui.tests.api.IWorkbenchPageTest.testOpenEditor",
          "source": "IWorkbenchPageTest.java:222"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "junit.framework.TestCase.runTest",
          "source": "TestCase.java:154"
        },
        {
          "method": "junit.framework.TestCase.runBare",
          "source": "TestCase.java:127"
        },
        {
          "method": "junit.framework.TestResult$1.protect",
          "source": "TestResult.java:106"
        },
        {
          "method": "junit.framework.TestResult.runProtected",
          "source": "TestResult.java:124"
        },
        {
          "method": "junit.framework.TestResult.run",
          "source": "TestResult.java:109"
        },
        {
          "method": "junit.framework.TestCase.run",
          "source": "TestCase.java:118"
        },
        {
          "method": "junit.framework.TestSuite.runTest",
          "source": "TestSuite.java:208"
        },
        {
          "method": "junit.framework.TestSuite.run",
          "source": "TestSuite.java:203"
        },
        {
          "method": "junit.framework.TestSuite.runTest",
          "source": "TestSuite.java:208"
        },
        {
          "method": "junit.framework.TestSuite.run",
          "source": "TestSuite.java:203"
        },
        {
          "method": "junit.framework.TestSuite.runTest",
          "source": "TestSuite.java:208"
        },
        {
          "method": "junit.framework.TestSuite.run",
          "source": "TestSuite.java:203"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests",
          "source": "RemoteTestRunner.java:392"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run",
          "source": "RemoteTestRunner.java:276"
        },
        {
          "method": "org.eclipse.pde.internal.junit.ui.RemotePluginTestRunner.main",
          "source": "RemotePluginTestRunner.java:30"
        },
        {
          "method": "org.eclipse.pde.internal.junit.ui.UITestApplication.runEventLoop",
          "source": "UITestApplication.java:35"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1385"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:431"
        },
        {
          "method": "EclipseRuntimeLauncher.main",
          "source": "EclipseRuntimeLauncher.java:24"
        }
      ],
      "number": 0,
      "commentIndex": 10,
      "bugId": "38909",
      "date": "2003-06-16T19:54:50+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "38909",
  "bugId": "38909",
  "date": "2003-06-13T22:11:04+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}