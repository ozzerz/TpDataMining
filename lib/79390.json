{
  "comments": [
    "Using latest, the following code leads to a ClassCastException.\n\npublic class X {\n\n\tpublic static void foo() {\n\t\tclass A\u003cT extends Number\u003e {\n\t\t\tT t \u003d null;\n\t\t\tT get() {\n\t\t\t\treturn t;\n\t\t\t}\n\t\t}\n\t\tA\u003cLong\u003e a \u003d new A\u003cLong\u003e() {\n\t\t\tLong get() {\n\t\t\t\treturn new Long(5);\n\t\t\t}\n\t\t};\n\t}\n}\n\n----------\n1. ERROR in C:\\tests_sources\\X.java (at line 0)\n\tpublic class X {\n\t^\nInternal compiler error\njava.lang.ClassCastException:\norg.eclipse.jdt.internal.compiler.lookup.ParameterizedTypeBinding\n\tat\norg.eclipse.jdt.internal.compiler.ast.TypeDeclaration.manageEnclosingInstanceAccessIfNecessary(TypeDeclaration.java:740)\n\tat\norg.eclipse.jdt.internal.compiler.ast.TypeDeclaration.analyseCode(TypeDeclaration.java:204)\n\tat\norg.eclipse.jdt.internal.compiler.ast.QualifiedAllocationExpression.analyseCode(QualifiedAllocationExpression.java:66)\n\tat\norg.eclipse.jdt.internal.compiler.ast.LocalDeclaration.analyseCode(LocalDeclaration.java:48)\n\tat\norg.eclipse.jdt.internal.compiler.ast.MethodDeclaration.analyseCode(MethodDeclaration.java:76)\n\tat\norg.eclipse.jdt.internal.compiler.ast.TypeDeclaration.internalAnalyseCode(TypeDeclaration.java:707)\n\tat\norg.eclipse.jdt.internal.compiler.ast.TypeDeclaration.analyseCode(TypeDeclaration.java:264)\n\tat\norg.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.analyseCode(CompilationUnitDeclaration.java:80)\n\tat org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:513)\n\tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:335)\n\tat org.eclipse.jdt.internal.compiler.batch.Main.performCompilation(Main.java:1681)\n\tat org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:375)\n\tat org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:268)\n\tat org.eclipse.jdt.internal.compiler.batch.Main.compile(Main.java:260)\n\tat org.eclipse.jdt.core.tools.compiler.Compile.main(Compile.java:19)",
    "Problem lies in inneremulation, which did not step back to super type erasure as\nit should.\nAdded regression test: GenericTypeTest#test428\nFixed",
    "Verified in 200412140800 that the CCE doesn\u0027t occur anymore, but we report a\nwarning.\n----------\n1. WARNING in C:\\tests_sources\\X.java (at line 11)\n\tLong get() {\n\t^^^^\nType safety: The return type Long of the method get() of type new A\u003cLong\u003e(){}\nneeds unchecked conversion to conform to the return type T of inherited method\n----------\n1 problem (1 warning)\n"
  ],
  "commentCreationDates": [
    "2004-11-24T15:15:10+01:00",
    "2004-11-25T08:10:18+01:00",
    "2004-12-14T22:49:51+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.jdt.internal.compiler.lookup.ParameterizedTypeBinding",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.manageEnclosingInstanceAccessIfNecessary",
          "source": "TypeDeclaration.java:740"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.analyseCode",
          "source": "TypeDeclaration.java:204"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.QualifiedAllocationExpression.analyseCode",
          "source": "QualifiedAllocationExpression.java:66"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.LocalDeclaration.analyseCode",
          "source": "LocalDeclaration.java:48"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.analyseCode",
          "source": "MethodDeclaration.java:76"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.internalAnalyseCode",
          "source": "TypeDeclaration.java:707"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.analyseCode",
          "source": "TypeDeclaration.java:264"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.analyseCode",
          "source": "CompilationUnitDeclaration.java:80"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.process",
          "source": "Compiler.java:513"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:335"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.batch.Main.performCompilation",
          "source": "Main.java:1681"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.batch.Main.compile",
          "source": "Main.java:375"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.batch.Main.compile",
          "source": "Main.java:268"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.batch.Main.compile",
          "source": "Main.java:260"
        },
        {
          "method": "org.eclipse.jdt.core.tools.compiler.Compile.main",
          "source": "Compile.java:19"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "79390",
      "date": "2004-11-24T15:15:10+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "79390",
  "bugId": "79390",
  "date": "2004-11-24T15:15:10+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}