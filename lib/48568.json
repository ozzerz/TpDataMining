{
  "comments": [
    "A bundle cannot require itself using the Require-Bundle header in the bundle \nmanifest file.  A bundle that does this will cause the framework to throw a \nStringIndexOutOfBounds exception.\n\nFor example:\n\nA bundle with the following manifest:\n\nManifest-Version: 1.0\nBundle-Name: classloading.tb1b\nBundle-Version: 1.0.0\nBundle-Activator: org.osgi.test.cases.classloading.tb1b.CalcBundle\nBundle-ClassPath: ., lib/calc-components.jar\nBundle-GlobalName: classloading.tb1b\nProvide-Package: org.osgi.test.cases.classloading.calc\nRequire-Bundle: classloading.tb1b\nImport-Package: org.osgi.framework; specification-version\u003d1.2,\n org.osgi.test.cases.classloading.tbc\n\nWhen started will cause the framework to throw an exception like this:\n\njava.lang.StringIndexOutOfBoundsException\n\tat java.lang.StringBuffer.deleteCharAt(StringBuffer.java:674)\n\tat \norg.eclipse.core.internal.dependencies.DependencySystem.getCycleString\n(DependencySystem.java:170)\n\tat org.eclipse.core.internal.dependencies.DependencySystem.visit\n(DependencySystem.java(Compiled Code))\n\tat org.eclipse.core.internal.dependencies.DependencySystem.resolve\n(DependencySystem.java:73)\n\tat org.eclipse.core.internal.dependencies.DependencySystem.resolve\n(DependencySystem.java:68)\n\tat org.eclipse.osgi.internal.resolver.ResolverImpl.resolve\n(ResolverImpl.java:38)\n\tat org.eclipse.osgi.internal.resolver.StateImpl.resolve\n(StateImpl.java:164)\n\tat org.eclipse.osgi.internal.resolver.StateImpl.resolve\n(StateImpl.java:192)\n\tat org.eclipse.osgi.framework.internal.core.PackageAdmin.resolveBundles\n(PackageAdmin.java:796)\n\tat org.eclipse.osgi.framework.internal.core.BundleHost.startWorker\n(BundleHost.java:442)\n\tat org.eclipse.osgi.framework.internal.core.Bundle.start\n(Bundle.java:328)\n\tat org.osgi.test.cases.util.Registry.installBundle(Registry.java:49)\n\tat org.osgi.test.cases.util.DefaultTestBundleControl.installBundle\n(DefaultTestBundleControl.java:479)\n\tat \norg.osgi.test.cases.classloading.tbc.ClassLoadingTestControl.testLoadingOptional\n(ClassLoadingTestControl.java:128)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:61)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:40)\n\tat java.lang.reflect.Method.invoke(Method.java:335)\n\tat org.osgi.test.cases.util.DefaultTestBundleControl.run\n(DefaultTestBundleControl.java:261)\n\tat java.lang.Thread.run(Thread.java:566)\nLog: During execution of testLoadingOptional \njava.lang.StringIndexOutOfBoundsException\njava.lang.StringIndexOutOfBoundsException\n\tat java.lang.StringBuffer.deleteCharAt(StringBuffer.java:674)\n\tat \norg.eclipse.core.internal.dependencies.DependencySystem.getCycleString\n(DependencySystem.java:170)\n\tat org.eclipse.core.internal.dependencies.DependencySystem.visit\n(DependencySystem.java(Compiled Code))\n\tat org.eclipse.core.internal.dependencies.DependencySystem.resolve\n(DependencySystem.java:73)\n\tat org.eclipse.core.internal.dependencies.DependencySystem.resolve\n(DependencySystem.java:68)\n\tat org.eclipse.osgi.internal.resolver.ResolverImpl.resolve\n(ResolverImpl.java:38)\n\tat org.eclipse.osgi.internal.resolver.StateImpl.resolve\n(StateImpl.java:164)\n\tat org.eclipse.osgi.internal.resolver.StateImpl.resolve\n(StateImpl.java:192)\n\tat org.eclipse.osgi.framework.internal.core.PackageAdmin.resolveBundles\n(PackageAdmin.java:796)\n\tat org.eclipse.osgi.framework.internal.core.BundleHost.startWorker\n(BundleHost.java:442)\n\tat org.eclipse.osgi.framework.internal.core.Bundle.start\n(Bundle.java:328)\n\tat org.osgi.test.cases.util.Registry.installBundle(Registry.java:49)\n\tat org.osgi.test.cases.util.DefaultTestBundleControl.installBundle\n(DefaultTestBundleControl.java:479)\n\tat \norg.osgi.test.cases.classloading.tbc.ClassLoadingTestControl.testLoadingOptional\n(ClassLoadingTestControl.java:128)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:61)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:40)\n\tat java.lang.reflect.Method.invoke(Method.java:335)\n\tat org.osgi.test.cases.util.DefaultTestBundleControl.run\n(DefaultTestBundleControl.java:261)\n\tat java.lang.Thread.run(Thread.java:566)",
    "This behavior is assimilated to a cycle.\nHowever we should not get the StringIndexOutOfBoundsException.\n\nWhen fixing this, we should also write a test case for circularity.",
    "In the RFC we state that if you want to change the order of the requires search \nso that your own bundle is searched before the bundles you require then you can \nrequire yourself before the other bundles you require.",
    "Fixed and released to HEAD."
  ],
  "commentCreationDates": [
    "2003-12-11T20:30:08+01:00",
    "2003-12-12T18:10:30+01:00",
    "2003-12-12T18:49:36+01:00",
    "2004-01-19T23:05:36+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.StringIndexOutOfBoundsException",
      "elements": [
        {
          "method": "java.lang.StringBuffer.deleteCharAt",
          "source": "StringBuffer.java:674"
        },
        {
          "method": "org.eclipse.core.internal.dependencies.DependencySystem.getCycleString",
          "source": "DependencySystem.java:170"
        },
        {
          "method": "org.eclipse.core.internal.dependencies.DependencySystem.visit",
          "source": "DependencySystem.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.core.internal.dependencies.DependencySystem.resolve",
          "source": "DependencySystem.java:73"
        },
        {
          "method": "org.eclipse.core.internal.dependencies.DependencySystem.resolve",
          "source": "DependencySystem.java:68"
        },
        {
          "method": "org.eclipse.osgi.internal.resolver.ResolverImpl.resolve",
          "source": "ResolverImpl.java:38"
        },
        {
          "method": "org.eclipse.osgi.internal.resolver.StateImpl.resolve",
          "source": "StateImpl.java:164"
        },
        {
          "method": "org.eclipse.osgi.internal.resolver.StateImpl.resolve",
          "source": "StateImpl.java:192"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.PackageAdmin.resolveBundles",
          "source": "PackageAdmin.java:796"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleHost.startWorker",
          "source": "BundleHost.java:442"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.Bundle.start",
          "source": "Bundle.java:328"
        },
        {
          "method": "org.osgi.test.cases.util.Registry.installBundle",
          "source": "Registry.java:49"
        },
        {
          "method": "org.osgi.test.cases.util.DefaultTestBundleControl.installBundle",
          "source": "DefaultTestBundleControl.java:479"
        },
        {
          "method": "org.osgi.test.cases.classloading.tbc.ClassLoadingTestControl.testLoadingOptional",
          "source": "ClassLoadingTestControl.java:128"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:61"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:40"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:335"
        },
        {
          "method": "org.osgi.test.cases.util.DefaultTestBundleControl.run",
          "source": "DefaultTestBundleControl.java:261"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:566"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "48568",
      "date": "2003-12-11T20:30:08+01:00",
      "product": "Equinox",
      "component": "Incubator",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.StringIndexOutOfBoundsException",
      "elements": [
        {
          "method": "java.lang.StringBuffer.deleteCharAt",
          "source": "StringBuffer.java:674"
        },
        {
          "method": "org.eclipse.core.internal.dependencies.DependencySystem.getCycleString",
          "source": "DependencySystem.java:170"
        },
        {
          "method": "org.eclipse.core.internal.dependencies.DependencySystem.visit",
          "source": "DependencySystem.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.core.internal.dependencies.DependencySystem.resolve",
          "source": "DependencySystem.java:73"
        },
        {
          "method": "org.eclipse.core.internal.dependencies.DependencySystem.resolve",
          "source": "DependencySystem.java:68"
        },
        {
          "method": "org.eclipse.osgi.internal.resolver.ResolverImpl.resolve",
          "source": "ResolverImpl.java:38"
        },
        {
          "method": "org.eclipse.osgi.internal.resolver.StateImpl.resolve",
          "source": "StateImpl.java:164"
        },
        {
          "method": "org.eclipse.osgi.internal.resolver.StateImpl.resolve",
          "source": "StateImpl.java:192"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.PackageAdmin.resolveBundles",
          "source": "PackageAdmin.java:796"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleHost.startWorker",
          "source": "BundleHost.java:442"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.Bundle.start",
          "source": "Bundle.java:328"
        },
        {
          "method": "org.osgi.test.cases.util.Registry.installBundle",
          "source": "Registry.java:49"
        },
        {
          "method": "org.osgi.test.cases.util.DefaultTestBundleControl.installBundle",
          "source": "DefaultTestBundleControl.java:479"
        },
        {
          "method": "org.osgi.test.cases.classloading.tbc.ClassLoadingTestControl.testLoadingOptional",
          "source": "ClassLoadingTestControl.java:128"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:61"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:40"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:335"
        },
        {
          "method": "org.osgi.test.cases.util.DefaultTestBundleControl.run",
          "source": "DefaultTestBundleControl.java:261"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:566"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "48568",
      "date": "2003-12-11T20:30:08+01:00",
      "product": "Equinox",
      "component": "Incubator",
      "severity": "normal"
    }
  ],
  "groupId": "48568",
  "bugId": "48568",
  "date": "2003-12-11T20:30:08+01:00",
  "product": "Equinox",
  "component": "Incubator",
  "severity": "normal"
}