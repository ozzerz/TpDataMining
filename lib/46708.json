{
  "comments": [
    "When someone tries to start a rule that conflicts with the currently running \nrule, and then cancels the beginRule call, the underlying graph of \nrelationships between threads and locks is not updated properly.",
    "Created an attachment (id\u003d6797)\nPatch to fix synchronization\n\nThe patch is against the DeadlockDetector file.",
    "Created an attachment (id\u003d6798)\nRegression test\n\nThe patch is against the DeadlockDetectionTest file.",
    "Assigning to myself to review and release patch",
    "*** Bug 46762 has been marked as a duplicate of this bug. ***",
    "Patch released with some cosmetic changes.\n\nRegression test also released.",
    "I\u0027ve seen this a couple of times on N20031117 as well.\nAlso showed up in the console when running the UI tests:\n\n!MESSAGE An internal error occurred during: \"Initializing Quick Diff\".\n!STACK 0\norg.eclipse.core.internal.runtime.AssertionFailedException: assertion failed: \nLock L/testOpenEditor/aaaaa was already removed.\n\tat org.eclipse.core.internal.runtime.Assert.isTrue(Assert.java:101)\n\tat org.eclipse.core.internal.jobs.DeadlockDetector.lockWaitStop\n(DeadlockDetector.java:294)\n\tat org.eclipse.core.internal.jobs.LockManager.removeLockWaitThread\n(LockManager.java:169)\n\tat org.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob.reportUnblocked\n(ImplicitJobs.java:171)\n\tat org.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob.joinRun\n(ImplicitJobs.java:117)\n\tat org.eclipse.core.internal.jobs.ImplicitJobs.begin\n(ImplicitJobs.java:232)\n\tat org.eclipse.core.internal.jobs.JobManager.beginRule\n(JobManager.java:115)\n\tat \norg.eclipse.ui.internal.editors.quickdiff.LastSaveReferenceProvider.readDocument\n(LastSaveReferenceProvider.java:161)\n\tat \norg.eclipse.ui.internal.editors.quickdiff.LastSaveReferenceProvider.getReference\n(LastSaveReferenceProvider.java:63)\n\tat org.eclipse.ui.internal.texteditor.quickdiff.DocumentLineDiffer$1.run\n(DocumentLineDiffer.java:521)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:62)\n!ENTRY org.eclipse.core.runtime 4 2 Nov 17, 2003 22:39:50.843\n!MESSAGE An internal error occurred during: \"Initializing Quick Diff\".\n!STACK 0\norg.eclipse.core.internal.runtime.AssertionFailedException: assertion failed: \nLock L/Bug41931/a.txt was already removed.\n\tat org.eclipse.core.internal.runtime.Assert.isTrue(Assert.java:101)\n\tat org.eclipse.core.internal.jobs.DeadlockDetector.lockWaitStop\n(DeadlockDetector.java:294)\n\tat org.eclipse.core.internal.jobs.LockManager.removeLockWaitThread\n(LockManager.java:169)\n\tat org.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob.reportUnblocked\n(ImplicitJobs.java:171)\n\tat org.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob.joinRun\n(ImplicitJobs.java:117)\n\tat org.eclipse.core.internal.jobs.ImplicitJobs.begin\n(ImplicitJobs.java:232)\n\tat org.eclipse.core.internal.jobs.JobManager.beginRule\n(JobManager.java:115)\n\tat \norg.eclipse.ui.internal.editors.quickdiff.LastSaveReferenceProvider.readDocument\n(LastSaveReferenceProvider.java:161)\n\tat \norg.eclipse.ui.internal.editors.quickdiff.LastSaveReferenceProvider.getReference\n(LastSaveReferenceProvider.java:63)\n\tat org.eclipse.ui.internal.texteditor.quickdiff.DocumentLineDiffer$1.run\n(DocumentLineDiffer.java:521)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:62)\n!ENTRY org.eclipse.core.runtime 4 2 Nov 17, 2003 22:39:50.863\n!MESSAGE An internal error occurred during: \"Initializing Quick Diff\".\n!STACK 0\norg.eclipse.core.internal.runtime.AssertionFailedException: assertion failed: \nLock L/Bug41931/b.txt was already removed.\n\tat org.eclipse.core.internal.runtime.Assert.isTrue(Assert.java:101)\n\tat org.eclipse.core.internal.jobs.DeadlockDetector.lockWaitStop\n(DeadlockDetector.java:294)\n\tat org.eclipse.core.internal.jobs.LockManager.removeLockWaitThread\n(LockManager.java:169)\n\tat org.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob.reportUnblocked\n(ImplicitJobs.java:171)\n\tat org.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob.joinRun\n(ImplicitJobs.java:117)\n\tat org.eclipse.core.internal.jobs.ImplicitJobs.begin\n(ImplicitJobs.java:232)\n\tat org.eclipse.core.internal.jobs.JobManager.beginRule\n(JobManager.java:115)\n\tat \norg.eclipse.ui.internal.editors.quickdiff.LastSaveReferenceProvider.readDocument\n(LastSaveReferenceProvider.java:161)\n\tat \norg.eclipse.ui.internal.editors.quickdiff.LastSaveReferenceProvider.getReference\n(LastSaveReferenceProvider.java:63)\n\tat org.eclipse.ui.internal.texteditor.quickdiff.DocumentLineDiffer$1.run\n(DocumentLineDiffer.java:521)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:62)",
    "Nick \u0026 Dirk: this should be fixed in today\u0027s build (nightly and integration). \nLet us know if you see it again."
  ],
  "commentCreationDates": [
    "2003-11-14T22:09:20+01:00",
    "2003-11-14T22:10:22+01:00",
    "2003-11-14T22:11:17+01:00",
    "2003-11-14T22:27:29+01:00",
    "2003-11-17T20:59:51+01:00",
    "2003-11-17T21:26:38+01:00",
    "2003-11-18T03:43:03+01:00",
    "2003-11-18T14:41:53+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.internal.runtime.AssertionFailedException",
      "message": "assertion failed:  Lock L/testOpenEditor/aaaaa was already removed.",
      "elements": [
        {
          "method": "org.eclipse.core.internal.runtime.Assert.isTrue",
          "source": "Assert.java:101"
        },
        {
          "method": "org.eclipse.core.internal.jobs.DeadlockDetector.lockWaitStop",
          "source": "DeadlockDetector.java:294"
        },
        {
          "method": "org.eclipse.core.internal.jobs.LockManager.removeLockWaitThread",
          "source": "LockManager.java:169"
        },
        {
          "method": "org.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob.reportUnblocked",
          "source": "ImplicitJobs.java:171"
        },
        {
          "method": "org.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob.joinRun",
          "source": "ImplicitJobs.java:117"
        },
        {
          "method": "org.eclipse.core.internal.jobs.ImplicitJobs.begin",
          "source": "ImplicitJobs.java:232"
        },
        {
          "method": "org.eclipse.core.internal.jobs.JobManager.beginRule",
          "source": "JobManager.java:115"
        },
        {
          "method": "org.eclipse.ui.internal.editors.quickdiff.LastSaveReferenceProvider.readDocument",
          "source": "LastSaveReferenceProvider.java:161"
        },
        {
          "method": "org.eclipse.ui.internal.editors.quickdiff.LastSaveReferenceProvider.getReference",
          "source": "LastSaveReferenceProvider.java:63"
        },
        {
          "method": "org.eclipse.ui.internal.texteditor.quickdiff.DocumentLineDiffer$1.run",
          "source": "DocumentLineDiffer.java:521"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:62"
        }
      ],
      "number": 0,
      "commentIndex": 6,
      "bugId": "46708",
      "date": "2003-11-18T03:43:03+01:00",
      "product": "Platform",
      "component": "Resources",
      "severity": "normal"
    },
    {
      "exceptionType": "org.eclipse.core.internal.runtime.AssertionFailedException",
      "message": "assertion failed:  Lock L/Bug41931/a.txt was already removed.",
      "elements": [
        {
          "method": "org.eclipse.core.internal.runtime.Assert.isTrue",
          "source": "Assert.java:101"
        },
        {
          "method": "org.eclipse.core.internal.jobs.DeadlockDetector.lockWaitStop",
          "source": "DeadlockDetector.java:294"
        },
        {
          "method": "org.eclipse.core.internal.jobs.LockManager.removeLockWaitThread",
          "source": "LockManager.java:169"
        },
        {
          "method": "org.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob.reportUnblocked",
          "source": "ImplicitJobs.java:171"
        },
        {
          "method": "org.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob.joinRun",
          "source": "ImplicitJobs.java:117"
        },
        {
          "method": "org.eclipse.core.internal.jobs.ImplicitJobs.begin",
          "source": "ImplicitJobs.java:232"
        },
        {
          "method": "org.eclipse.core.internal.jobs.JobManager.beginRule",
          "source": "JobManager.java:115"
        },
        {
          "method": "org.eclipse.ui.internal.editors.quickdiff.LastSaveReferenceProvider.readDocument",
          "source": "LastSaveReferenceProvider.java:161"
        },
        {
          "method": "org.eclipse.ui.internal.editors.quickdiff.LastSaveReferenceProvider.getReference",
          "source": "LastSaveReferenceProvider.java:63"
        },
        {
          "method": "org.eclipse.ui.internal.texteditor.quickdiff.DocumentLineDiffer$1.run",
          "source": "DocumentLineDiffer.java:521"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:62"
        }
      ],
      "number": 1,
      "commentIndex": 6,
      "bugId": "46708",
      "date": "2003-11-18T03:43:03+01:00",
      "product": "Platform",
      "component": "Resources",
      "severity": "normal"
    },
    {
      "exceptionType": "org.eclipse.core.internal.runtime.AssertionFailedException",
      "message": "assertion failed:  Lock L/Bug41931/b.txt was already removed.",
      "elements": [
        {
          "method": "org.eclipse.core.internal.runtime.Assert.isTrue",
          "source": "Assert.java:101"
        },
        {
          "method": "org.eclipse.core.internal.jobs.DeadlockDetector.lockWaitStop",
          "source": "DeadlockDetector.java:294"
        },
        {
          "method": "org.eclipse.core.internal.jobs.LockManager.removeLockWaitThread",
          "source": "LockManager.java:169"
        },
        {
          "method": "org.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob.reportUnblocked",
          "source": "ImplicitJobs.java:171"
        },
        {
          "method": "org.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob.joinRun",
          "source": "ImplicitJobs.java:117"
        },
        {
          "method": "org.eclipse.core.internal.jobs.ImplicitJobs.begin",
          "source": "ImplicitJobs.java:232"
        },
        {
          "method": "org.eclipse.core.internal.jobs.JobManager.beginRule",
          "source": "JobManager.java:115"
        },
        {
          "method": "org.eclipse.ui.internal.editors.quickdiff.LastSaveReferenceProvider.readDocument",
          "source": "LastSaveReferenceProvider.java:161"
        },
        {
          "method": "org.eclipse.ui.internal.editors.quickdiff.LastSaveReferenceProvider.getReference",
          "source": "LastSaveReferenceProvider.java:63"
        },
        {
          "method": "org.eclipse.ui.internal.texteditor.quickdiff.DocumentLineDiffer$1.run",
          "source": "DocumentLineDiffer.java:521"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:62"
        }
      ],
      "number": 2,
      "commentIndex": 6,
      "bugId": "46708",
      "date": "2003-11-18T03:43:03+01:00",
      "product": "Platform",
      "component": "Resources",
      "severity": "normal"
    }
  ],
  "groupId": "46708",
  "bugId": "46708",
  "date": "2003-11-14T22:09:20+01:00",
  "product": "Platform",
  "component": "Resources",
  "severity": "normal"
}