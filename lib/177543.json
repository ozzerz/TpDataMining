{
  "comments": [
    "When I use nonexistent variable, BIRT throws very long stacktrace. It does not contain information, which variable is wrong and the message itself is cryptic and you will hardly guess that it means that there is no such variable. You should handle this situation and provide better information (ege Error: variable XY is not defined). If rhino does not support such use case, please do not close this bug, but submit bug to rhino and once they finish it, implement this request too ..\n\nCaused by: org.eclipse.birt.data.engine.core.DataException: A BIRT exception occurred: Error evaluating Javascript expression. Script engine error: TypeError: Cannot find default value for object. (DataSet[Consumer].__bm_beforeOpen#7)\n Script source: DataSet[Consumer].__bm_beforeOpen, line: 1, text:\n__bm_beforeOpen(). See next exception for more information.\nError evaluating Javascript expression. Script engine error: TypeError: Cannot find default value for object. (DataSet[Consumer].__bm_beforeOpen#7)\n Script source: DataSet[Consumer].__bm_beforeOpen, line: 1, text:\n__bm_beforeOpen()\n at org.eclipse.birt.data.engine.core.DataException.wrap(DataException.java:118)\n at org.eclipse.birt.data.engine.script.ScriptEvalUtil.evaluateJSAsExpr(ScriptEvalUtil.java:552)\n at org.eclipse.birt.data.engine.script.JSMethodRunner.runScript(JSMethodRunner.java:79)\n at org.eclipse.birt.report.engine.script.internal.DtEScriptExecutor.handleJS(DtEScriptExecutor.java:71)\n ... 73 more\nCaused by: org.eclipse.birt.core.exception.CoreException: Error evaluating Javascript expression. Script engine error: TypeError: Cannot find default value for object. (DataSet[Consumer].__bm_beforeOpen#7)\n Script source: DataSet[Consumer].__bm_beforeOpen, line: 1, text:\n__bm_beforeOpen()\n at org.eclipse.birt.core.script.JavascriptEvalUtil.wrapRhinoException(JavascriptEvalUtil.java:281)\n at org.eclipse.birt.core.script.JavascriptEvalUtil.evaluateRawScript(JavascriptEvalUtil.java:105)\n at org.eclipse.birt.core.script.JavascriptEvalUtil.evaluateScript(JavascriptEvalUtil.java:137)\n at org.eclipse.birt.data.engine.script.ScriptEvalUtil.evaluateJSAsExpr(ScriptEvalUtil.java:548)\n ... 75 more\nCaused by: org.mozilla.javascript.EcmaError: TypeError: Cannot find default value for object. (DataSet[Consumer].__bm_beforeOpen#7)\n at org.mozilla.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3240)\n at org.mozilla.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3230)\n at org.mozilla.javascript.ScriptRuntime.typeError(ScriptRuntime.java:3246)\n at org.mozilla.javascript.ScriptRuntime.typeError1(ScriptRuntime.java:3258)\n at org.mozilla.javascript.ScriptableObject.getDefaultValue(ScriptableObject.java:599)\n at org.mozilla.javascript.ScriptRuntime.toString(ScriptRuntime.java:664)\n at org.mozilla.javascript.NativeJavaObject.coerceType(NativeJavaObject.java:623)\n at org.mozilla.javascript.NativeJavaMethod.call(NativeJavaMethod.java:163)\n at org.mozilla.javascript.optimizer.OptRuntime.call1(OptRuntime.java:63)\n at org.mozilla.javascript.gen.c23._c1(DataSet[Consumer].__bm_beforeOpen:7)\n at org.mozilla.javascript.gen.c23.call(DataSet[Consumer].__bm_beforeOpen)\n at org.mozilla.javascript.optimizer.OptRuntime.callName0(OptRuntime.java:105)\n at org.mozilla.javascript.gen.c12._c0(DataSet[Consumer].__bm_beforeOpen:1)\n at org.mozilla.javascript.gen.c12.call(DataSet[Consumer].__bm_beforeOpen)\n at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:304)\n at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:2769)\n at org.mozilla.javascript.gen.c12.call(DataSet[Consumer].__bm_beforeOpen)\n at org.mozilla.javascript.gen.c12.exec(DataSet[Consumer].__bm_beforeOpen)\n at org.eclipse.birt.core.script.JavascriptEvalUtil.evaluateRawScript(JavascriptEvalUtil.java:98)\n ... 77 more",
    "Hi Leos,\n\nCan you provide us with a report design which can reproduce the bug? Together with the version of BIRT you are use.\n\nWe\u0027ve tried to reproduce the problem however the exception thrown always indicate the name of variable that has not be initialized.\n\nThanks.\nLin",
    "Hi Leos,\n\nAs we\u0027ve not get feedback from you we will by now mark the bug as worksforme. Please feel free to reopen it in case of necessary.\n\nThanks!\nLin",
    "pity, I don\u0027t remember how I achieved this bug. When I try to create test case, I always receive reasonable message:\n\nCaused by: org.mozilla.javascript.EcmaError: ReferenceError: \"secondVar\" is not defined. (DataSet[Data Set].__bm_beforeOpen#2)\n at org.mozilla.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3240)\n"
  ],
  "commentCreationDates": [
    "2007-03-15T14:34:09+01:00",
    "2007-03-21T06:54:32+01:00",
    "2007-03-27T09:08:08+02:00",
    "2007-04-10T09:42:56+02:00"
  ],
  "traces": [
    {
      "exceptionType": "TypeError",
      "message": "Cannot find default value for object. (DataSet[Consumer].__bm_beforeOpen#7)  Script source: DataSet[Consumer].__bm_beforeOpen, line: 1, text: __bm_beforeOpen()",
      "elements": [
        {
          "method": "org.eclipse.birt.data.engine.core.DataException.wrap",
          "source": "DataException.java:118"
        },
        {
          "method": "org.eclipse.birt.data.engine.script.ScriptEvalUtil.evaluateJSAsExpr",
          "source": "ScriptEvalUtil.java:552"
        },
        {
          "method": "org.eclipse.birt.data.engine.script.JSMethodRunner.runScript",
          "source": "JSMethodRunner.java:79"
        },
        {
          "method": "org.eclipse.birt.report.engine.script.internal.DtEScriptExecutor.handleJS",
          "source": "DtEScriptExecutor.java:71"
        }
      ],
      "causedBy": {
        "exceptionType": "TypeError",
        "message": "Cannot find default value for object. (DataSet[Consumer].__bm_beforeOpen#7)  Script source: DataSet[Consumer].__bm_beforeOpen, line: 1, text: __bm_beforeOpen()",
        "elements": [
          {
            "method": "org.eclipse.birt.core.script.JavascriptEvalUtil.wrapRhinoException",
            "source": "JavascriptEvalUtil.java:281"
          },
          {
            "method": "org.eclipse.birt.core.script.JavascriptEvalUtil.evaluateRawScript",
            "source": "JavascriptEvalUtil.java:105"
          },
          {
            "method": "org.eclipse.birt.core.script.JavascriptEvalUtil.evaluateScript",
            "source": "JavascriptEvalUtil.java:137"
          },
          {
            "method": "org.eclipse.birt.data.engine.script.ScriptEvalUtil.evaluateJSAsExpr",
            "source": "ScriptEvalUtil.java:548"
          }
        ],
        "causedBy": {
          "exceptionType": "TypeError",
          "message": "Cannot find default value for object. (DataSet[Consumer].__bm_beforeOpen#7)",
          "elements": [
            {
              "method": "org.mozilla.javascript.ScriptRuntime.constructError",
              "source": "ScriptRuntime.java:3240"
            },
            {
              "method": "org.mozilla.javascript.ScriptRuntime.constructError",
              "source": "ScriptRuntime.java:3230"
            },
            {
              "method": "org.mozilla.javascript.ScriptRuntime.typeError",
              "source": "ScriptRuntime.java:3246"
            },
            {
              "method": "org.mozilla.javascript.ScriptRuntime.typeError1",
              "source": "ScriptRuntime.java:3258"
            },
            {
              "method": "org.mozilla.javascript.ScriptableObject.getDefaultValue",
              "source": "ScriptableObject.java:599"
            },
            {
              "method": "org.mozilla.javascript.ScriptRuntime.toString",
              "source": "ScriptRuntime.java:664"
            },
            {
              "method": "org.mozilla.javascript.NativeJavaObject.coerceType",
              "source": "NativeJavaObject.java:623"
            },
            {
              "method": "org.mozilla.javascript.NativeJavaMethod.call",
              "source": "NativeJavaMethod.java:163"
            },
            {
              "method": "org.mozilla.javascript.optimizer.OptRuntime.call1",
              "source": "OptRuntime.java:63"
            },
            {
              "method": "org.mozilla.javascript.gen.c23._c1",
              "source": "DataSet[Consumer].__bm_beforeOpen:7"
            },
            {
              "method": "org.mozilla.javascript.gen.c23.call",
              "source": "DataSet[Consumer].__bm_beforeOpen"
            },
            {
              "method": "org.mozilla.javascript.optimizer.OptRuntime.callName0",
              "source": "OptRuntime.java:105"
            },
            {
              "method": "org.mozilla.javascript.gen.c12._c0",
              "source": "DataSet[Consumer].__bm_beforeOpen:1"
            },
            {
              "method": "org.mozilla.javascript.gen.c12.call",
              "source": "DataSet[Consumer].__bm_beforeOpen"
            },
            {
              "method": "org.mozilla.javascript.ContextFactory.doTopCall",
              "source": "ContextFactory.java:304"
            },
            {
              "method": "org.mozilla.javascript.ScriptRuntime.doTopCall",
              "source": "ScriptRuntime.java:2769"
            },
            {
              "method": "org.mozilla.javascript.gen.c12.call",
              "source": "DataSet[Consumer].__bm_beforeOpen"
            },
            {
              "method": "org.mozilla.javascript.gen.c12.exec",
              "source": "DataSet[Consumer].__bm_beforeOpen"
            },
            {
              "method": "org.eclipse.birt.core.script.JavascriptEvalUtil.evaluateRawScript",
              "source": "JavascriptEvalUtil.java:98"
            }
          ],
          "number": 0,
          "commentIndex": 0
        },
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "177543",
      "date": "2007-03-15T14:34:09+01:00",
      "product": "BIRT",
      "component": "Data Access",
      "severity": "normal"
    },
    {
      "exceptionType": "ReferenceError",
      "message": "\"secondVar\" is not defined. (DataSet[Data Set].__bm_beforeOpen#2)",
      "elements": [
        {
          "method": "org.mozilla.javascript.ScriptRuntime.constructError",
          "source": "ScriptRuntime.java:3240"
        }
      ],
      "number": 1,
      "commentIndex": 3,
      "bugId": "177543",
      "date": "2007-04-10T09:42:56+02:00",
      "product": "BIRT",
      "component": "Data Access",
      "severity": "normal"
    }
  ],
  "groupId": "177543",
  "bugId": "177543",
  "date": "2007-03-15T14:34:09+01:00",
  "product": "BIRT",
  "component": "Data Access",
  "severity": "normal"
}