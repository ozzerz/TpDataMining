{
  "comments": [
    "I\u0027m new with ant and aspectj and I tried to compile a simple project with \naspectj and ANT. Without ANT it\u0027s ok.\nThis is the code, then the build.xml and then the error.\nEclipse Version: 2.1.1\nBuild id: 200306271545 for Windows 2000\n\n////-------------------------------------\npackage aspects;\nimport pippo.*;\npublic aspect ciao {\npointcut cutt(): call(static String pippo.Hello.a(int));\nbefore(): cutt() {\n\tSystem.out.println(\"Hello woooolrd\");\n}\n}\n////-------------------------------------\npackage pippo;\nimport java.io.*;\npublic class Hello {\n\tpublic static String a(int x) {\n\t\treturn new String(\"Sono in metodo a\u003d\"+x);\n\t}\n\tpublic static void main(String[] args) {\n\t\t\tString s \u003d Hello.a(2);\n\t\t\tSystem.out.println(\"Hello woooolrd\");\n\t\ts \u003d Hello.a(4);\n\t}\n}\n////-------------------------------------\n\n\u003c?xml version\u003d\"1.0\"?\u003e\n\n\u003cproject name\u003d\"prova\" default\u003d\"deploy\" basedir\u003d\".\"\u003e\n\t\u003cproperty file\u003d\"build.props\"/\u003e\n\t\n\u003ctaskdef name\u003d\"ajc\"\n\t\t classname\u003d\"org.aspectj.tools.ant.taskdefs.AjcTask\"\u003e\n\t\t \u003cclasspath\u003e\n\t\t \t\u003cpathelement location\u003d\"${aspectj}/aspectjrt.jar\"/\u003e\n\t\t \t\u003cpathelement location\u003d\"${aspectj}/aspectjtools.jar\"/\u003e\n\t\t \u003c/classpath\u003e\t\n\u003c/taskdef\u003e\t\n\n\u003ctarget name\u003d\"init\"\n\tdescription\u003d\"inizializza\"\u003e\n\t\u003cmkdir dir\u003d\"${build}\"/\u003e\n\u003c/target\u003e\n\n\u003c!-- workingdir\u003d\"temp\" preprocess\u003d\"${preprocess}\"--\u003e\n\u003ctarget name\u003d\"compile\" depends\u003d\"init\"\n\tdescription\u003d\"compila\"\u003e\n\t\u003cmkdir dir\u003d\"${build}\"/\u003e\n\u003cajc\t\n\tsrcdir\u003d\"${workDir}\"\n\tincludes\u003d\"aspects/*\"\t\t\n\tdestdir\u003d\"${build}\"\n\u003e\n\u003cclasspath\u003e\n\t\u003cpathelement location\u003d\"${aspectj}/aspectjrt.jar\"/\u003e\n\t\u003c!--pathelement location\u003d\"${aspectj}/lib/aspectjrt.jar\"/--\u003e\n\u003c/classpath\u003e\n\u003c/ajc\u003e\t\n\u003c/target\u003e\n\n\t\u003ctarget name\u003d\"deploy\" depends\u003d\"compile\"\u003e\t\n\t\u003cmkdir dir\u003d\"${dist}\" /\u003e\n\t\u003ccopy todir\u003d\"${deploy}\"\u003e\n\t\t\u003cfileset dir\u003d\"${build}\"/\u003e\n\t\u003c/copy\u003e\n\t\u003c/target\u003e\n\u003c/project\u003e\n\n////-------------------------------------\nOutput:\n\n\nBuildfile: E:\\workspace\\prova\\build.xml\n\ninit:\n\ncompile:\n         [ajc] ABORT\n         [ajc] Exception thrown from AspectJ 1.1.1\n         [ajc] \n         [ajc] This might be logged as a bug already -- find current bugs at\n         [ajc]   http://bugs.eclipse.org/bugs/buglist.cgi?\nproduct\u003dAspectJ\u0026component\u003dCompiler\n         [ajc] \n         [ajc] Bugs for exceptions thrown have titles File:line from the top \nstack, \n         [ajc] e.g., \"SomeFile.java:243\"\n         [ajc] \n         [ajc] If you don\u0027t find the exception below in a bug, please add a new \nbug\n         [ajc] at http://bugs.eclipse.org/bugs/enter_bug.cgi?product\u003dAspectJ\n         [ajc] To make the bug a priority, please include a test program\n         [ajc] that can reproduce this exception.\n         [ajc] (class: \norg/aspectj/ajdt/internal/compiler/lookup/AjLookupEnvironment, method: \ncreateBinaryTypeFrom signature: \n(Lorg/eclipse/jdt/internal/compiler/env/IBinaryType;\nLorg/eclipse/jdt/internal/compiler/lookup/PackageBinding;Z)\nLorg/eclipse/jdt/internal/compilerh?\n         [ajc] ?o?\n         [ajc] 0??\n         [ajc] ???\n         [ajc] $??\n         [ajc] H?+??\u003em\n         [ajc] (class: \norg/aspectj/ajdt/internal/compiler/lookup/AjLookupEnvironment, method: \ncreateBinaryTypeFrom signature: \n(Lorg/eclipse/jdt/internal/compiler/env/IBinaryType;\nLorg/eclipse/jdt/internal/compiler/lookup/PackageBinding;Z)\nLorg/eclipse/jdt/internal/compilerh?\n         [ajc] ?o?\n         [ajc] 0??\n         [ajc] ???\n         [ajc] $??\n         [ajc] H?+??\u003em\n         [ajc] java.lang.VerifyError: (class: \norg/aspectj/ajdt/internal/compiler/lookup/AjLookupEnvironment, method: \ncreateBinaryTypeFrom signature: \n(Lorg/eclipse/jdt/internal/compiler/env/IBinaryType;\nLorg/eclipse/jdt/internal/compiler/lookup/PackageBinding;Z)\nLorg/eclipse/jdt/internal/compilerh?\n         [ajc] ?o?\n         [ajc] 0??\n         [ajc] ???\n         [ajc] $??\n         [ajc] H?+??\u003em\n         [ajc] \tat org.aspectj.ajdt.internal.core.builder.AjBuildManager.\nperformCompilation(AjBuildManager.java:352)\n         [ajc] \tat org.aspectj.ajdt.internal.core.builder.AjBuildManager.\ndoBuild(AjBuildManager.java:125)\n         [ajc] \tat org.aspectj.ajdt.internal.core.builder.AjBuildManager.\nbatchBuild(AjBuildManager.java:70)\n         [ajc] \tat org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.\njava:99)\n         [ajc] \tat org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.\njava:53)\n         [ajc] \tat org.aspectj.tools.ajc.Main.run(Main.java:217)\n         [ajc] \tat org.aspectj.tools.ajc.Main.runMain(Main.java:155)\n         [ajc] \tat org.aspectj.tools.ant.taskdefs.AjcTask.\nexecuteInSameVM(AjcTask.java:1047)\n         [ajc] \tat org.aspectj.tools.ant.taskdefs.AjcTask.execute(AjcTask.\njava:904)\n         [ajc] \tat org.apache.tools.ant.Task.perform(Task.java:341)\n         [ajc] \tat org.apache.tools.ant.Target.execute(Target.java:309)\n         [ajc] \tat org.apache.tools.ant.Target.performTasks(Target.java:336)\n         [ajc] \tat org.apache.tools.ant.Project.executeTarget(Project.java:\n1339)\n         [ajc] \tat org.eclipse.ant.internal.core.ant.InternalAntRunner.\nrun(InternalAntRunner.java:571)\n         [ajc] \tat org.eclipse.ant.internal.core.ant.InternalAntRunner.\nrun(InternalAntRunner.java:367)\n         [ajc] \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native \nMethod)\n         [ajc] \tat sun.reflect.NativeMethodAccessorImpl.\ninvoke(NativeMethodAccessorImpl.java:39)\n         [ajc] \tat sun.reflect.DelegatingMethodAccessorImpl.\ninvoke(DelegatingMethodAccessorImpl.java:25)\n         [ajc] \tat java.lang.reflect.Method.invoke(Method.java:324)\n         [ajc] \tat org.eclipse.ant.core.AntRunner.run(AntRunner.java:335)\n         [ajc] \tat org.eclipse.ui.externaltools.internal.ant.\nlaunchConfigurations.AntLaunchDelegate$1.run(AntLaunchDelegate.java:172)\n         [ajc] \tat java.lang.Thread.run(Thread.java:536)\n         [ajc] \n         [ajc] BUILD FAILED: file:E:/workspace/prova/build.xml:27: fail due to \nVerifyError \"(class: \norg/aspectj/ajdt/internal/compiler/lookup/AjLookupEnvironment, method: \ncreateBinaryTypeFrom signature: \n(Lorg/eclipse/jdt/internal/compiler/env/IBinaryType;\nLorg/eclipse/jdt/internal/compiler/lookup/PackageBinding;Z)\nLorg/eclipse/jdt/internal/compilerh?\n?o?\n0??\n???\n$??\nH?+??\u003em\"\"ABORT\" (1 exceptions)\nTotal time: 3 seconds",
    "Thank you for reporting this and providing all the information.  It looks to me\nlike you\u0027re compiling with Ant under Eclipse, and this bug is a variant of 34246\n(because the verify error is due to loading the wrong Eclipse JDT class).  Would\nyou try using the iajc task instead of the ajc task and using the fork attribute\nand classpath, as suggested in that bug?  If it works, please close the bug as a\nduplicate of 34246.  ",
    "Resolving as duplicate of 34246. \n\n*** This bug has been marked as a duplicate of 34246 ***"
  ],
  "commentCreationDates": [
    "2003-09-25T12:11:02+02:00",
    "2003-09-26T08:00:20+02:00",
    "2003-09-28T18:21:11+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.VerifyError",
      "message": "(class:  org/aspectj/ajdt/internal/compiler/lookup/AjLookupEnvironment, method:  createBinaryTypeFrom signature:  (Lorg/eclipse/jdt/internal/compiler/env/IBinaryType; Lorg/eclipse/jdt/internal/compiler/lookup/PackageBinding;Z) Lorg/eclipse/jdt/internal/compilerh?          [ajc] ?o?          [ajc] 0??          [ajc] ???          [ajc] $??          [ajc] H?+??\u003em          [ajc]",
      "elements": [
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:352"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "43639",
      "duplicateId": "34246",
      "date": "2003-09-25T12:11:02+02:00",
      "product": "AspectJ",
      "component": "Ant",
      "severity": "major"
    }
  ],
  "groupId": "34246",
  "bugId": "43639",
  "duplicateId": "34246",
  "date": "2003-09-25T12:11:02+02:00",
  "product": "AspectJ",
  "component": "Ant",
  "severity": "major"
}