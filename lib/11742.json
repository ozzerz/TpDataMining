{
  "comments": [
    "Build 20020319\n\nI have a self-hosting workspace, with core components loaded from the repository \nas source, and all other projects as binary.\n\n1) Open the plugin manifest editor on plugin.xml of any core project (such as \nresources)\n\n2) Go to the dependencies tab, click new\n\nAn internal error occurs:\n\njava.lang.NullPointerException\n\tat \norg.eclipse.pde.internal.model.plugin.WorkspacePluginModelBase.getNLLookupLocati\non(WorkspacePluginModelBase.java:41)\n\tat \norg.eclipse.pde.internal.model.plugin.AbstractPluginModelBase.getNLLookupLocatio\nns(AbstractPluginModelBase.java:64)\n\tat \norg.eclipse.pde.internal.model.plugin.WorkspacePluginModelBase.createNLResourceH\nelper(WorkspacePluginModelBase.java:35)\n\tat \norg.eclipse.pde.internal.model.AbstractModel.getResourceString(AbstractModel.jav\na:60)\n\tat \norg.eclipse.pde.internal.model.plugin.PluginObject.getTranslatedName(PluginObjec\nt.java:86)\n\tat \norg.eclipse.pde.internal.editor.manifest.NewDependencyWizardPage$PluginLabelProv\nider.getText(NewDependencyWizardPage.java:47)\n\tat \norg.eclipse.jface.viewers.TreeViewer.doUpdateItem(TreeViewer.java(Compiled \nCode))\n\tat \norg.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.jav\na(Compiled Code))\n\tat \norg.eclipse.jface.viewers.StructuredViewer.updateItem(StructuredViewer.java(Comp\niled Code))\n\tat \norg.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem(AbstractTreeViewer.j\nava:256)\n\tat \norg.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.j\nava:241)\n\tat \norg.eclipse.jface.viewers.AbstractTreeViewer.internalExpandToLevel(AbstractTreeV\niewer.java:758)\n\tat \norg.eclipse.jface.viewers.AbstractTreeViewer.internalExpandToLevel(AbstractTreeV\niewer.java:766)\n\tat \norg.eclipse.jface.viewers.AbstractTreeViewer$3.run(AbstractTreeViewer.java:653)\n\tat \norg.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.\njava:572)\n\tat \norg.eclipse.jface.viewers.CheckboxTreeViewer.preservingSelection(CheckboxTreeVie\nwer.java:324)\n\tat \norg.eclipse.jface.viewers.AbstractTreeViewer.inputChanged(AbstractTreeViewer.jav\na:644)\n\tat \norg.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:234)\n\tat \norg.eclipse.jface.viewers.StructuredViewer.setInput(StructuredViewer.java:741)\n\tat \norg.eclipse.pde.internal.editor.manifest.NewDependencyWizardPage.initialize(NewD\nependencyWizardPage.java:204)\n\tat \norg.eclipse.pde.internal.editor.manifest.NewDependencyWizardPage.createControl(N\newDependencyWizardPage.java:121)\n\tat org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:164)\n\tat \norg.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:504)\n\tat \norg.eclipse.jface.wizard.WizardDialog.createContents(WizardDialog.java:455)\n\tat org.eclipse.jface.window.Window.create(Window.java:263)\n\tat \norg.eclipse.pde.internal.editor.manifest.ImportListSection$1.run(ImportListSecti\non.java:199)\n\tat \norg.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java(Compiled \nCode))\n\tat \norg.eclipse.pde.internal.editor.manifest.ImportListSection.handleNew(ImportListS\nection.java:194)\n\tat \norg.eclipse.pde.internal.editor.manifest.ImportListSection.buttonSelected(Import\nListSection.java:123)\n\tat \norg.eclipse.pde.internal.editor.TableSection$PartAdapter.buttonSelected(TableSec\ntion.java:35)\n\tat \norg.eclipse.pde.internal.parts.SharedPartWithButtons$SelectionHandler.buttonSele\ncted(SharedPartWithButtons.java:31)\n\tat \norg.eclipse.pde.internal.parts.SharedPartWithButtons$SelectionHandler.widgetSele\ncted(SharedPartWithButtons.java:24)\n\tat \norg.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java(Compiled \nCode))\n\tat \norg.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled \nCode))\n\tat \norg.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:698)\n\tat \norg.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:77\n7)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:319)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:196)\n\tat org.eclipse.core.launcher.Main.run(Main.java:555)\n\tat org.eclipse.core.launcher.Main.main(Main.java:396)",
    "Could you please attach your workspace? I am have received a number of reports \nof NPEs that I cannot reproduce.",
    "The exceptions aren\u0027t consistent across invocations.  I have had several NPEs \nfrom PDE (manifest editor, or while launching), but after shutting down and \nrestarting they cannot be reproduced.  If I get a case that is reproducible \nafter shutdown and restart, I will zip the workspace and make it available to \nyou.  There is nothing particularly special about my workspace... it was a brand \nnew workspace that I created with yesterday\u0027s build:\n\n- loaded all core plugins + test plugins from the repository\n- used PDE import to import all other plugins\n",
    "Please add a list of plug-ins you import from the repository. I want to retrace \nyour steps to see if I can trip PDE while before restarting the workbench.",
    "Here are the plugins that are in my workspace as source:\n\norg.eclipse.ant.core\norg.eclipse.ant.ui\norg.eclipse.core.boot\norg.eclipse.core.resources\norg.eclipse.core.runtime\norg.eclipse.core.tests.harness\norg.eclipse.core.tests.resources\norg.eclipse.core.tests.resources.saveparticipant\norg.eclipse.core.tests.resources.saveparticipant1\norg.eclipse.core.tests.resources.saveparticipant2\norg.eclipse.core.tests.resources.saveparticipant3\norg.eclipse.core.tests.runtime\n\nI also have two ant fragments in my workspace from the desktop repo on ottcvs1:\n\norg.eclipse.ant.optional.junit\norg.eclipse.ant.optional.xalan\n\n",
    "This is really an ellusive bug - I tried to repeat all your steps exactly and \ncould not reproduce it - it keeps compiling and running correctly. There must \nbe some combination of settings that is different.",
    "Created an attachment (id\u003d504)\nAnother NPE that sometimes happens launching runtime workspace\n",
    "In both cases, the exception could be caused by calling IResource.getLocation() \non a resource whose project does not exist.  The spec for this method has \nrecently been clarified, but the implementation hasn\u0027t changed.",
    "And that leads to the reproducible case:\n\n1) Create \"hello world\" plugin project\n2) Run the runtime workspace\n3) Delete the hello world plugin project\n4) Run the runtime workspace\n\nThis causes the second NPE.\n\nNote also that after deleting the plugin, it still appears in the list of \navailable plugins when you click on the New button in the dependencies page.  \nThis is likely the cause of the first NPE.",
    "You\u0027re going to love this, but all these problems are probably Core\u0027s fault.  \nThe PRE_DELETE notification hook was broken in Tuesday\u0027s build, so that event \nwasn\u0027t firing.  This has been fixed in today\u0027s build.  I noticed that the \nworkspace model manager was using the pre-delete hook to update the plugin \nmodel.",
    "John, I owe you a drink :-). I spend hours yesterday trying to figure out what \nis happening. I have a stack of NPE bugs all over the place, and they are all \nrelated to getting nulls or exceptions from PDE model objects that have \nunderlying resources. PDE model manager keeps track of the workspace and \nupdates itself accordingly. When it is not told about projects being deleted, a \nbunch of stale model objects start hanging around, causing all these NPEs when \nasked for data that in any way requires talking to the underlying resource \n(typically location).",
    "Fixed - was caused by stale model objects due to lack of Core resource \nnotification."
  ],
  "commentCreationDates": [
    "2002-03-19T23:09:44+01:00",
    "2002-03-20T15:35:34+01:00",
    "2002-03-20T16:08:15+01:00",
    "2002-03-20T16:11:09+01:00",
    "2002-03-20T17:18:34+01:00",
    "2002-03-21T03:32:47+01:00",
    "2002-03-21T16:51:36+01:00",
    "2002-03-21T17:06:03+01:00",
    "2002-03-21T17:17:24+01:00",
    "2002-03-21T17:20:18+01:00",
    "2002-03-21T17:27:47+01:00",
    "2002-03-22T01:30:59+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.pde.internal.model.plugin.WorkspacePluginModelBase.getNLLookupLocation",
          "source": "WorkspacePluginModelBase.java:41"
        },
        {
          "method": "org.eclipse.pde.internal.model.plugin.AbstractPluginModelBase.getNLLookupLocations",
          "source": "AbstractPluginModelBase.java:64"
        },
        {
          "method": "org.eclipse.pde.internal.model.plugin.WorkspacePluginModelBase.createNLResourceHelper",
          "source": "WorkspacePluginModelBase.java:35"
        },
        {
          "method": "org.eclipse.pde.internal.model.AbstractModel.getResourceString",
          "source": "AbstractModel.jav a:60"
        },
        {
          "method": "org.eclipse.pde.internal.model.plugin.PluginObject.getTranslatedName",
          "source": "PluginObjec t.java:86"
        },
        {
          "method": "org.eclipse.pde.internal.editor.manifest.NewDependencyWizardPage$PluginLabelProvider.getText",
          "source": "NewDependencyWizardPage.java:47"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.doUpdateItem",
          "source": "TreeViewer.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem",
          "source": "AbstractTreeViewer.jav a(Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateItem",
          "source": "StructuredViewer.java(Comp iled Code)"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem",
          "source": "AbstractTreeViewer.j ava:256"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.createChildren",
          "source": "AbstractTreeViewer.j ava:241"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalExpandToLevel",
          "source": "AbstractTreeV iewer.java:758"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalExpandToLevel",
          "source": "AbstractTreeV iewer.java:766"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$3.run",
          "source": "AbstractTreeViewer.java:653"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.preservingSelection",
          "source": "StructuredViewer. java:572"
        },
        {
          "method": "org.eclipse.jface.viewers.CheckboxTreeViewer.preservingSelection",
          "source": "CheckboxTreeVie wer.java:324"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.inputChanged",
          "source": "AbstractTreeViewer.jav a:644"
        },
        {
          "method": "org.eclipse.jface.viewers.ContentViewer.setInput",
          "source": "ContentViewer.java:234"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.setInput",
          "source": "StructuredViewer.java:741"
        },
        {
          "method": "org.eclipse.pde.internal.editor.manifest.NewDependencyWizardPage.initialize",
          "source": "NewD ependencyWizardPage.java:204"
        },
        {
          "method": "org.eclipse.pde.internal.editor.manifest.NewDependencyWizardPage.createControl",
          "source": "N ewDependencyWizardPage.java:121"
        },
        {
          "method": "org.eclipse.jface.wizard.Wizard.createPageControls",
          "source": "Wizard.java:164"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.createPageControls",
          "source": "WizardDialog.java:504"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.createContents",
          "source": "WizardDialog.java:455"
        },
        {
          "method": "org.eclipse.jface.window.Window.create",
          "source": "Window.java:263"
        },
        {
          "method": "org.eclipse.pde.internal.editor.manifest.ImportListSection$1.run",
          "source": "ImportListSecti on.java:199"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.pde.internal.editor.manifest.ImportListSection.handleNew",
          "source": "ImportListS ection.java:194"
        },
        {
          "method": "org.eclipse.pde.internal.editor.manifest.ImportListSection.buttonSelected",
          "source": "Import ListSection.java:123"
        },
        {
          "method": "org.eclipse.pde.internal.editor.TableSection$PartAdapter.buttonSelected",
          "source": "TableSec tion.java:35"
        },
        {
          "method": "org.eclipse.pde.internal.parts.SharedPartWithButtons$SelectionHandler.buttonSelected",
          "source": "SharedPartWithButtons.java:31"
        },
        {
          "method": "org.eclipse.pde.internal.parts.SharedPartWithButtons$SelectionHandler.widgetSelected",
          "source": "SharedPartWithButtons.java:24"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:698"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:77 7"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:319"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:196"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:555"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:396"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "11742",
      "date": "2002-03-19T23:09:44+01:00",
      "product": "PDE",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "11742",
  "bugId": "11742",
  "date": "2002-03-19T23:09:44+01:00",
  "product": "PDE",
  "component": "UI",
  "severity": "major"
}