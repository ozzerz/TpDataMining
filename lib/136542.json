{
  "comments": [
    "Description:\nColumn data binding in subquery of three layers doesn\u0027t work.\n\n\nSteps to reproduce\n1. New a datasource and a data set from table \"Account\"\n2. Insert a table(col 3,row 1) and bind it to dataset\n3. Add a group to table, key: row.open_dt\n3. Merge the columns in group header \n4. Insert a grid(1,1) to group header\n5. Insert a list to grid cell\n6. Insert some data to list detail, bind with row._outer._outer[\"name\"];\n7. Save and preview\n\nAttached is design file.\n\nResult:\nError0 : Error.ScriptEvaluationError ( 19 time(s) )\ndetail : org.eclipse.birt.report.engine.api.EngineException: There are errors evaluating script \"row[\"code\"]\". at org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate(ExecutionContext.java:520) at org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate(ExecutionContext.java:482) at org.eclipse.birt.report.engine.executor.DataItemExecutor.execute(DataItemExecutor.java:98) at org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitDataItem(ReportExecutorVisitor.java:158) at org.eclipse.birt.report.engine.ir.DataItemDesign.accept(DataItemDesign.java:69) at org.eclipse.birt.report.engine.executor.ListItemExecutor.accessListBand(ListItemExecutor.java:149) at org.eclipse.birt.report.engine.executor.ListItemExecutor.accessDetail(ListItemExecutor.java:165) at org.eclipse.birt.report.engine.executor.ListingElementExecutor.accessQuery(ListingElementExecutor.java:126) at org.eclipse.birt.report.engine.executor.ListItemExecutor.execute(ListItemExecutor.java:101) at org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitListItem(ReportExecutorVisitor.java:97) at org.eclipse.birt.report.engine.ir.ListItemDesign.accept(ListItemDesign.java:125) at org.eclipse.birt.report.engine.executor.GridItemExecutor.executeCell(GridItemExecutor.java:273) at org.eclipse.birt.report.engine.executor.GridItemExecutor.executeRow(GridItemExecutor.java:208) at org.eclipse.birt.report.engine.executor.GridItemExecutor.execute(GridItemExecutor.java:128) at org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitGridItem(ReportExecutorVisitor.java:173) at org.eclipse.birt.report.engine.ir.GridItemDesign.accept(GridItemDesign.java:117) at org.eclipse.birt.report.engine.executor.TableItemExecutor.accessRow(TableItemExecutor.java:615) at org.eclipse.birt.report.engine.executor.TableItemExecutor.accessTableBand(TableItemExecutor.java:505) at org.eclipse.birt.report.engine.executor.TableItemExecutor.accessGroupHeader(TableItemExecutor.java:454) at org.eclipse.birt.report.engine.executor.ListingElementExecutor.accessQuery(ListingElementExecutor.java:175) at org.eclipse.birt.report.engine.executor.TableItemExecutor.execute(TableItemExecutor.java:154) at org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitTableItem(ReportExecutorVisitor.java:188) at org.eclipse.birt.report.engine.ir.TableItemDesign.accept(TableItemDesign.java:69) at org.eclipse.birt.report.engine.executor.ReportExecutor.execute(ReportExecutor.java:125) at org.eclipse.birt.report.engine.executor.ReportExecutor.execute(ReportExecutor.java:89) at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run(RunAndRenderTask.java:171) at org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport(Unknown Source)",
    "Created an attachment (id\u003d38488)\ndesign file\n\n",
    "The expression builder should not add \"._outer\" to the built expression when \"Grid\" is met.",
    "Synch up with Callisto schedule to rename RC1 as RC2 targeted 5/5/2006.",
    "Here are the general rules:\n\n- row._outer is designed to access bound data columns that are defined in outer report items. The _outer can be chained, so it is possible to create an expression row._outer._outer.name,  to access a bound column called \"name\" two layers up.\n\n- you can always create a bound data columns on a report item even there is no data set bound to it. If the report item doesn\u0027t have a dataset bound,  the bound expression can use dataSetRow to access its container\u0027s data set columns if any. \n\n- Similar to BIRT 2.0, D\u0026D  data set column from data explore should behave as:\n\n    - if the target report item has a data set specified, only data set columns from the same data set will be allowed.\n\n    - if the target report item doesn\u0027t have a data set specified and all its container also doesn\u0027t have data set specified,  bound the data set to the target report item.\n\n    - if the target report item doesn\u0027t have a data set specified, but it\u0027s container has, we need to handle two cases:\n\n                - case 1:  the source data set is the same as the container\u0027s, create a bound data column on the target report item, but don\u0027t set the data set property.\n\n             - case 2:  the source data set is different from the container\u0027s, create a bound data column, and set data set property.\n\n \n\nFor example, assume we have three tables T1, T2, and T3 (outer --\u003e inner) with the following settings:\n\n        T1: bound dataset : customers \n\n        T2: bound dataset : orders\n\n        T3: bound dataset : none \n\nThe data columns availability are:\n\n \n\n- bound data column expression in T1 will have access to customer\u0027s columns + other bound data columns on T1.\n\n- bound data column expression in T2 will have access to order\u0027s columns + other bound data columns on T2   + bound data columns on T1 via row._outer.\n\n- bound data column expression in T3 will have access to  order\u0027s column (via dataSetRow) + bound data columns on T2 via row._outer  + bound data columns on T1 via row._outer._outer.\n\n \n\n\n \n\n",
    " Change bindling column logic with new rules. ",
    "I changed attached file using designer but get error when preview.\nI attached modified design file.",
    "Created an attachment (id\u003d39388)\nmodified design file\n\n",
    " Remember the group key when refresh the group key choice list.",
    "Mistake operation",
    "Please attach the error log.",
    "The current exception:\n\njava.lang.NullPointerException\n\tat org.eclipse.birt.data.engine.impl.Node.addChild(ExprManagerUtil.java:250)\n\tat org.eclipse.birt.data.engine.impl.ExprManagerUtil.populateNodeList(ExprManagerUtil.java:186)\n\tat org.eclipse.birt.data.engine.impl.ExprManagerUtil.validateNodes(ExprManagerUtil.java:133)\n\tat org.eclipse.birt.data.engine.impl.ExprManagerUtil.testDependencyCycle(ExprManagerUtil.java:122)\n\tat org.eclipse.birt.data.engine.impl.ExprManagerUtil.validateColumnBinding(ExprManagerUtil.java:46)\n\tat org.eclipse.birt.data.engine.impl.ServiceForQueryResults.validateQueryColumBinding(ServiceForQueryResults.java:318)\n\tat org.eclipse.birt.data.engine.impl.QueryResults.getResultIterator(QueryResults.java:153)\n\tat org.eclipse.birt.data.engine.impl.ResultIterator.getSecondaryIterator(ResultIterator.java:504)\n\tat org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.doExecuteSubQuery(AbstractDataEngine.java:233)\n\tat org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.execute(AbstractDataEngine.java:205)\n\tat org.eclipse.birt.report.engine.executor.QueryItemExecutor.openResultSet(QueryItemExecutor.java:62)",
    "In ExprManagerUtil.populateNodeList(), the original code will add a null value to node?s child list. Change the code so that once null value is meet it will not be append to child list.",
    "Verified in build 20060427"
  ],
  "commentCreationDates": [
    "2006-04-13T07:27:33+02:00",
    "2006-04-13T07:28:48+02:00",
    "2006-04-17T10:44:14+02:00",
    "2006-04-18T03:47:14+02:00",
    "2006-04-19T02:24:31+02:00",
    "2006-04-20T09:25:58+02:00",
    "2006-04-25T05:43:50+02:00",
    "2006-04-25T05:44:27+02:00",
    "2006-04-25T12:06:21+02:00",
    "2006-04-25T12:07:24+02:00",
    "2006-04-25T12:10:54+02:00",
    "2006-04-26T05:48:43+02:00",
    "2006-04-26T10:30:16+02:00",
    "2006-04-27T09:29:59+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.birt.report.engine.api.EngineException",
      "message": "There are errors evaluating script \"row[\"code\"]\".",
      "elements": [
        {
          "method": "org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate",
          "source": "ExecutionContext.java:520"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ExecutionContext.evaluate",
          "source": "ExecutionContext.java:482"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.DataItemExecutor.execute",
          "source": "DataItemExecutor.java:98"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitDataItem",
          "source": "ReportExecutorVisitor.java:158"
        },
        {
          "method": "org.eclipse.birt.report.engine.ir.DataItemDesign.accept",
          "source": "DataItemDesign.java:69"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ListItemExecutor.accessListBand",
          "source": "ListItemExecutor.java:149"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ListItemExecutor.accessDetail",
          "source": "ListItemExecutor.java:165"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ListingElementExecutor.accessQuery",
          "source": "ListingElementExecutor.java:126"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ListItemExecutor.execute",
          "source": "ListItemExecutor.java:101"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitListItem",
          "source": "ReportExecutorVisitor.java:97"
        },
        {
          "method": "org.eclipse.birt.report.engine.ir.ListItemDesign.accept",
          "source": "ListItemDesign.java:125"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.GridItemExecutor.executeCell",
          "source": "GridItemExecutor.java:273"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.GridItemExecutor.executeRow",
          "source": "GridItemExecutor.java:208"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.GridItemExecutor.execute",
          "source": "GridItemExecutor.java:128"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitGridItem",
          "source": "ReportExecutorVisitor.java:173"
        },
        {
          "method": "org.eclipse.birt.report.engine.ir.GridItemDesign.accept",
          "source": "GridItemDesign.java:117"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.TableItemExecutor.accessRow",
          "source": "TableItemExecutor.java:615"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.TableItemExecutor.accessTableBand",
          "source": "TableItemExecutor.java:505"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.TableItemExecutor.accessGroupHeader",
          "source": "TableItemExecutor.java:454"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ListingElementExecutor.accessQuery",
          "source": "ListingElementExecutor.java:175"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.TableItemExecutor.execute",
          "source": "TableItemExecutor.java:154"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutorVisitor.visitTableItem",
          "source": "ReportExecutorVisitor.java:188"
        },
        {
          "method": "org.eclipse.birt.report.engine.ir.TableItemDesign.accept",
          "source": "TableItemDesign.java:69"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutor.execute",
          "source": "ReportExecutor.java:125"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutor.execute",
          "source": "ReportExecutor.java:89"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run",
          "source": "RunAndRenderTask.java:171"
        },
        {
          "method": "org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport",
          "source": "Unknown Source"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "136542",
      "date": "2006-04-13T07:27:33+02:00",
      "product": "BIRT",
      "component": "Data",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.birt.data.engine.impl.Node.addChild",
          "source": "ExprManagerUtil.java:250"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.ExprManagerUtil.populateNodeList",
          "source": "ExprManagerUtil.java:186"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.ExprManagerUtil.validateNodes",
          "source": "ExprManagerUtil.java:133"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.ExprManagerUtil.testDependencyCycle",
          "source": "ExprManagerUtil.java:122"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.ExprManagerUtil.validateColumnBinding",
          "source": "ExprManagerUtil.java:46"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.ServiceForQueryResults.validateQueryColumBinding",
          "source": "ServiceForQueryResults.java:318"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.QueryResults.getResultIterator",
          "source": "QueryResults.java:153"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.ResultIterator.getSecondaryIterator",
          "source": "ResultIterator.java:504"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.doExecuteSubQuery",
          "source": "AbstractDataEngine.java:233"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.execute",
          "source": "AbstractDataEngine.java:205"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.QueryItemExecutor.openResultSet",
          "source": "QueryItemExecutor.java:62"
        }
      ],
      "number": 1,
      "commentIndex": 11,
      "bugId": "136542",
      "date": "2006-04-26T05:48:43+02:00",
      "product": "BIRT",
      "component": "Data",
      "severity": "major"
    }
  ],
  "groupId": "136542",
  "bugId": "136542",
  "date": "2006-04-13T07:27:33+02:00",
  "product": "BIRT",
  "component": "Data",
  "severity": "major"
}