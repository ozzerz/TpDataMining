{
  "comments": [
    "When the Internal Web Browser View is open, the Rename-Type\nrefactoring wizard won\u0027t show. After a click on the Refactor-\u003eRename\ncontext menu entry, nothing happens.\n\nSteps to Reproduce:\n1. Create a new Java Project e.g. TestProject\n2. Create a new class in the default package, e.g. TestClass\n3. Open the Internal Web Browser View via the Window -\u003e Show View -\u003e\nOther -\u003e General -\u003e Internal Web Browser menu.\n4. Open TestClass.java with the Java Editor.\n5. Select the class name, and select Refactor -\u003e Rename from the context menu.\n\nWhen the Internal Web Browser View is closed, the Rename-Type wizard\nwill open again.\n\nIm using Eclipse SDK 3.2 RC7\nBuild id: I20060602-1317",
    "Problem is that that site.getSelectionProvider() from the Internal Web Browser View is null and the refactoring initialziation routine isn\u0027t testing this. This is allowed by spec but very uncommon.\n\nThere\u0027s no workaround to do a rename except for closing the Internal Web Browser. Bring it to the background is not working. That means the browser could somewhere in the background and you have no idea why rename isn\u0027t showing a wizard.\n\nPhilippe, I think this is a late 3.2 candidate. I can\u0027t say how often the Internal Web Browser View is used, but maybe other views have the same behaviour with site.getSelectionProvider().\nAs the fix is trivial and safe (add a null check) I\u0027d be happy if you could bring this up in discussion with the PMC.\n\nInterstingly is the bug in the code for over 3 years. We haven\u0027t heard from this problem at all (good catch, Andreas).\n\njava.lang.NullPointerException\n\tat org.eclipse.jdt.internal.ui.refactoring.reorg.RenameUserInterfaceStarter$SelectionState.consider(RenameUserInterfaceStarter.java:83)\n\tat org.eclipse.jdt.internal.ui.refactoring.reorg.RenameUserInterfaceStarter$SelectionState.init(RenameUserInterfaceStarter.java:65)\n\tat org.eclipse.jdt.internal.ui.refactoring.reorg.RenameUserInterfaceStarter$SelectionState.\u003cinit\u003e(RenameUserInterfaceStarter.java:53)\n\tat org.eclipse.jdt.internal.ui.refactoring.reorg.RenameUserInterfaceStarter.activate(RenameUserInterfaceStarter.java:150)\n\tat org.eclipse.jdt.ui.refactoring.RenameSupport.openDialog(RenameSupport.java:114)\n\tat org.eclipse.jdt.internal.corext.refactoring.RefactoringExecutionStarter.startRenameRefactoring(RefactoringExecutionStarter.java:382)\n\tat org.eclipse.jdt.internal.ui.refactoring.actions.RenameJavaElementAction.run(RenameJavaElementAction.java:172)\n\tat org.eclipse.jdt.internal.ui.refactoring.actions.RenameJavaElementAction.run(RenameJavaElementAction.java:102)\n\tat org.eclipse.jdt.ui.actions.RenameAction.run(RenameAction.java:108)\n\tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:267)\n\tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:243)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:499)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)\n",
    "*** Bug 152703 has been marked as a duplicate of this bug. ***",
    "Fixed in HEAD for 3.3 M1.",
    "Fixed in R3_2_maintenance.",
    "*** Bug 153559 has been marked as a duplicate of this bug. ***",
    "Starting verification...",
    "verifying...",
    "...sorry Dani, it\u0027s all yours...",
    "Verified in M20060830-0800.",
    "*** Bug 157771 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2006-06-14T18:26:04+02:00",
    "2006-06-15T17:59:02+02:00",
    "2006-08-03T18:41:44+02:00",
    "2006-08-07T15:40:28+02:00",
    "2006-08-07T18:49:15+02:00",
    "2006-08-14T14:37:14+02:00",
    "2006-08-31T12:23:07+02:00",
    "2006-08-31T12:24:47+02:00",
    "2006-08-31T12:27:29+02:00",
    "2006-08-31T13:01:00+02:00",
    "2006-09-25T12:47:22+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.reorg.RenameUserInterfaceStarter$SelectionState.consider",
          "source": "RenameUserInterfaceStarter.java:83"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.reorg.RenameUserInterfaceStarter$SelectionState.init",
          "source": "RenameUserInterfaceStarter.java:65"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.reorg.RenameUserInterfaceStarter$SelectionState.\u003cinit\u003e",
          "source": "RenameUserInterfaceStarter.java:53"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.reorg.RenameUserInterfaceStarter.activate",
          "source": "RenameUserInterfaceStarter.java:150"
        },
        {
          "method": "org.eclipse.jdt.ui.refactoring.RenameSupport.openDialog",
          "source": "RenameSupport.java:114"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.RefactoringExecutionStarter.startRenameRefactoring",
          "source": "RefactoringExecutionStarter.java:382"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.actions.RenameJavaElementAction.run",
          "source": "RenameJavaElementAction.java:172"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.actions.RenameJavaElementAction.run",
          "source": "RenameJavaElementAction.java:102"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.RenameAction.run",
          "source": "RenameAction.java:108"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun",
          "source": "SelectionDispatchAction.java:267"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.run",
          "source": "SelectionDispatchAction.java:243"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:499"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:539"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3348"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2968"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1914"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1878"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:280"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 1,
      "bugId": "147079",
      "date": "2006-06-15T17:59:02+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "147079",
  "bugId": "147079",
  "date": "2006-06-14T18:26:04+02:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}