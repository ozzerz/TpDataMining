{
  "comments": [
    "While testing bug#159400, I got in a situation where I tried to add bug#400 from eclipse.org bugzilla and the message was \"Unable to retrieve task from repository\".\n\nAt first I thought it was a bug in Mylar, but after trying to access bug#400 in web browser I figured out that this bug does not exist on the server (strange, but ok...).\n\nIs it possible/easy to retrieve the server error from return page and embed it into the error message?",
    "Yes, we can give you a better error response for this. I\u0027ll add it to our html error processing and display a proper error dialog indicating the real reason for the failure. Thanks for pointing this out Willian.",
    "Another error to handle and present (2.22 repository query for changed):\n\norg.eclipse.mylar.internal.bugzilla.core.UnrecognizedReponseException: \u003ch1\u003eSoftware error:\u003c/h1\u003e\n\n....\n\nat org.eclipse.mylar.internal.bugzilla.core.BugzillaServerFacade.parseHtmlError(BugzillaServerFacade.java:200)\n\nat org.eclipse.mylar.internal.bugzilla.core.AbstractReportFactory.collectResults(AbstractReportFactory.java:124)\n\nat org.eclipse.mylar.internal.bugzilla.core.RepositoryQueryResultsFactory.performQuery(RepositoryQueryResultsFactory.java:36)\n\nat org.eclipse.mylar.internal.bugzilla.core.BugzillaOfflineTaskHandler.queryForChanged(BugzillaOfflineTaskHandler.java:183)\n\nat org.eclipse.mylar.internal.bugzilla.core.BugzillaOfflineTaskHandler.getChangedSinceLastSync(BugzillaOfflineTaskHandler.java:159)\n\nat org.eclipse.mylar.tasks.ui.RepositorySynchronizationManager$GetChangedTasksJob.run(RepositorySynchronizationManager.java:189)\n\nat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)",
    "Rob: shouldn\u0027t we be showing the HTML for all errors from a web-based repository?  We used to do this.  I\u0027m not saying that you get rid of your smarter error handling, just that rather than scattering logging code in places, you create something like a WebRepositoryMessageDialog class that allows the HTML message to be displayed in case that contains relevant information in the event of a misconfiguration and such.",
    "In the case of a bug not found we don\u0027t get the error in html form but rather just an error code in the returned xml. I\u0027ve updated the logging to give the details of the failure. For the case of html response I\u0027ve move UnrecognizedResponseException into tasks.core so that upon such an exception we automatically present the web dialog with the html.",
    "Created an attachment (id\u003d51912)\nmylar/context/zip\n\n"
  ],
  "commentCreationDates": [
    "2006-10-01T01:33:56+02:00",
    "2006-10-02T19:55:48+02:00",
    "2006-10-03T18:43:07+02:00",
    "2006-10-12T23:39:39+02:00",
    "2006-10-13T04:55:45+02:00",
    "2006-10-13T04:55:46+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.mylar.internal.bugzilla.core.UnrecognizedReponseException",
      "message": "\u003ch1\u003eSoftware error:\u003c/h1\u003e  ....",
      "elements": [
        {
          "method": "org.eclipse.mylar.internal.bugzilla.core.BugzillaServerFacade.parseHtmlError",
          "source": "BugzillaServerFacade.java:200"
        },
        {
          "method": "org.eclipse.mylar.internal.bugzilla.core.AbstractReportFactory.collectResults",
          "source": "AbstractReportFactory.java:124"
        },
        {
          "method": "org.eclipse.mylar.internal.bugzilla.core.RepositoryQueryResultsFactory.performQuery",
          "source": "RepositoryQueryResultsFactory.java:36"
        },
        {
          "method": "org.eclipse.mylar.internal.bugzilla.core.BugzillaOfflineTaskHandler.queryForChanged",
          "source": "BugzillaOfflineTaskHandler.java:183"
        },
        {
          "method": "org.eclipse.mylar.internal.bugzilla.core.BugzillaOfflineTaskHandler.getChangedSinceLastSync",
          "source": "BugzillaOfflineTaskHandler.java:159"
        },
        {
          "method": "org.eclipse.mylar.tasks.ui.RepositorySynchronizationManager$GetChangedTasksJob.run",
          "source": "RepositorySynchronizationManager.java:189"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 2,
      "bugId": "159402",
      "date": "2006-10-03T18:43:07+02:00",
      "product": "Mylyn",
      "component": "Bugzilla",
      "severity": "enhancement"
    }
  ],
  "groupId": "159402",
  "bugId": "159402",
  "date": "2006-10-01T01:33:56+02:00",
  "product": "Mylyn",
  "component": "Bugzilla",
  "severity": "enhancement"
}