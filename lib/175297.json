{
  "comments": [
    "I20070220-1330\n\nIn a workspace with most SDK plug-ins from HEAD, I tried to search for references to type org.eclipse.jdt.internal.ui.dialogs.OpenTypeSelectionDialog2\n\nI got 13 of the Exceptions below in the log.\nNo indication which files are affected.\n\nError\nFri Feb 23 17:08:57 CET 2007\nInvalid byte 2 of 2-byte UTF-8 sequence.\n\ncom.sun.org.apache.xerces.internal.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence.\n\tat com.sun.org.apache.xerces.internal.impl.io.UTF8Reader.invalidByte(UTF8Reader.java:674)\n\tat com.sun.org.apache.xerces.internal.impl.io.UTF8Reader.read(UTF8Reader.java:362)\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1742)\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.scanContent(XMLEntityScanner.java:916)\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanContent(XMLDocumentFragmentScannerImpl.java:1581)\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2887)\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:645)\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:508)\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:807)\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:107)\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)\n\tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)\n\tat javax.xml.parsers.SAXParser.parse(SAXParser.java:395)\n\tat javax.xml.parsers.SAXParser.parse(SAXParser.java:198)\n\tat org.eclipse.pde.internal.core.util.SAXParserWrapper.parse(SAXParserWrapper.java:56)\n\tat org.eclipse.pde.internal.core.schema.Schema.load(Schema.java:380)\n\tat org.eclipse.pde.internal.core.schema.Schema.load(Schema.java:362)\n\tat org.eclipse.pde.internal.core.schema.Schema.findElement(Schema.java:171)\n\tat org.eclipse.pde.internal.ui.search.ClassSearchParticipant.inspectExtension(ClassSearchParticipant.java:164)\n\tat org.eclipse.pde.internal.ui.search.ClassSearchParticipant.inspectExtension(ClassSearchParticipant.java:176)\n\tat org.eclipse.pde.internal.ui.search.ClassSearchParticipant.access$1(ClassSearchParticipant.java:160)\n\tat org.eclipse.pde.internal.ui.search.ClassSearchParticipant$1.modifyModel(ClassSearchParticipant.java:152)\n\tat org.eclipse.pde.internal.ui.util.PDEModelUtility.modifyModel(PDEModelUtility.java:258)\n\tat org.eclipse.pde.internal.ui.search.ClassSearchParticipant.searchProject(ClassSearchParticipant.java:157)\n\tat org.eclipse.pde.internal.ui.search.ClassSearchParticipant.search(ClassSearchParticipant.java:124)\n\tat org.eclipse.jdt.internal.ui.search.JavaSearchQuery$2.run(JavaSearchQuery.java:163)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.jdt.internal.ui.search.JavaSearchQuery.run(JavaSearchQuery.java:169)\n\tat org.eclipse.search2.internal.ui.InternalSearchUI$InternalSearchJob.run(InternalSearchUI.java:94)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)",
    "Steps:\n- jdk6_01 (works fine with 5.0)\n- new workspace\n- import org.eclipse.compare.examples.xml from CVS\n- import org.eclipse.jdt.ui as binary\n- search for references to class OpenTypeSelectionDialog2",
    "Got the same exceptions when incidentally typed \"pserver\" as a type to search:\n- Press \"Search\" dialog (Ctrl+H)\n- Switch \"Java Search\"\n- Enter \u0027\"pserver\"\u0027 as the Search string\n- Select \"Type\" in \"Search for\" options\n- Press enter\n\nAlso, few seconds after I got this:\n\njava.lang.NullPointerException\n\tat org.eclipse.jdt.internal.core.search.matching.MatchLocator.createHandle(MatchLocator.java:488)\n\tat org.eclipse.jdt.internal.core.search.matching.MatchLocator.reportMatching(MatchLocator.java:2045)\n\tat org.eclipse.jdt.internal.core.search.matching.MatchLocator.reportMatching(MatchLocator.java:2456)\n\tat org.eclipse.jdt.internal.core.search.matching.MatchLocator.reportMatching(MatchLocator.java:2468)\n\tat org.eclipse.jdt.internal.core.search.matching.MatchLocator$LocalDeclarationVisitor.visit(MatchLocator.java:179)\n\tat org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.traverse(TypeDeclaration.java:1237)\n\tat org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.traverse(MethodDeclaration.java:244)\n\tat org.eclipse.jdt.internal.core.search.matching.MatchLocator.reportMatching(MatchLocator.java:2016)\n\tat org.eclipse.jdt.internal.core.search.matching.MatchLocator.reportMatching(MatchLocator.java:2456)\n\tat org.eclipse.jdt.internal.core.search.matching.MatchLocator.reportMatching(MatchLocator.java:2203)\n\tat org.eclipse.jdt.internal.core.search.matching.MatchLocator.process(MatchLocator.java:1543)\n\tat org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1020)\n\tat org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1061)\n\tat org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches(MatchLocator.java:1168)\n\tat org.eclipse.jdt.internal.core.search.JavaSearchParticipant.locateMatches(JavaSearchParticipant.java:94)\n\tat org.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches(BasicSearchEngine.java:217)\n\tat org.eclipse.jdt.internal.core.search.BasicSearchEngine.search(BasicSearchEngine.java:500)\n\tat org.eclipse.jdt.core.search.SearchEngine.search(SearchEngine.java:550)\n\tat org.eclipse.jdt.internal.ui.search.JavaSearchQuery.run(JavaSearchQuery.java:143)\n\tat org.eclipse.search2.internal.ui.InternalSearchUI$InternalSearchJob.run(InternalSearchUI.java:94)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)",
    "I20070921-0919. Forgot about that, sorry.",
    "(In reply to comment #2)\nTomasz, your stacktrace looks completely unrelated to this bug. Please file a separate bug for that issue if you can still reproduce in I20070925-1406 (I couldn\u0027t).",
    "The problem seems to be with the idMapping.exsd file in the org.eclipse.compare.examples.xml plug-in.  What I did was to try to read the file with the following code:\n\ntry {\n\tURL url \u003d new URL(\"file:/C:/\u003chard coded path to idMapping.exsd\u003e\");\n\tSAXParser parser \u003d SAXParserFactory.newInstance().newSAXParser();\n\tInputStream is \u003d new BufferedInputStream(url.openStream());\n\tparser.parse(is, new DefaultHandler());\n\tSystem.out.println(\"Success\");\n} catch (Exception e) {\n\tSystem.err.print(e);\n}\n\nIt failed to parse the file (outside of PDE).  As stated in comment #1, I used Java 6 to test.  I also ran the test upon the source.exsd in org.eclipse.pde.core and it parsed that exsd file correctly.",
    "(In reply to comment #5)\n\u003e The problem seems to be with the idMapping.exsd file in the\n\u003e org.eclipse.compare.examples.xml plug-in.\n\nYes, but nevertheless, the PDE search participant should in this case log the name/path of the file in which the exception occurred.\n\nI had a look a the file, and found that the last copyright update must have messed up the file. Rev. 1.3 contains e.g. the character ? (\\u00ca), which is not valid UTF-8:\n\n[..] (update shown in bold): \n\u0026lt;p\u0026gt;\n\u0026lt;pre\u0026gt;\n\u0026lt;extension \n??????point\u003d\u0026quot;org.eclipse.compare.structureMergeViewers [..]",
    "\n\u003e Yes, but nevertheless, the PDE search participant should in this case log the\n\u003e name/path of the file in which the exception occurred.\n\nSounds like a fair request.  That would have definitely helped diagnose the problem.  Opened bug 204719 for this request.",
    "(In reply to comment #4)\n\u003e Tomasz, your stacktrace looks completely unrelated to this bug. Please file a\n\u003e separate bug for that issue if you can still reproduce in I20070925-1406 (I\n\u003e couldn\u0027t).\n\nI tried to reproduce it in N20070926-0010 but I couldn\u0027t. I guess there is no need to file a bug for it then. Sorry, for the unrelated comment and late response. I thought they have something in common. I was wrong, this kind of things do happen when you \"file first, investigate later\" (paraphrasing \"shoot first, ask later\" :).\n",
    "Created an attachment (id\u003d79903)\nInvalid characters removed\n\nWe could also change the ASCII/Binary property of the file. It\u0027s currently set to Binary.",
    "The patch wasn\u0027t really helpful since it doesn\u0027t really contain the keyword change. also, I couldn\u0027t apply it since my local file couldn\u0027t be read due to the invalid characters. I\u0027ve made the keyword change and removed the invalid characters.",
    "Verified."
  ],
  "commentCreationDates": [
    "2007-02-23T16:17:32+01:00",
    "2007-02-23T17:21:14+01:00",
    "2007-09-26T15:36:44+02:00",
    "2007-09-26T15:38:07+02:00",
    "2007-09-26T16:47:25+02:00",
    "2007-09-26T17:46:13+02:00",
    "2007-09-26T19:29:45+02:00",
    "2007-09-26T20:47:09+02:00",
    "2007-09-27T10:39:19+02:00",
    "2007-10-08T17:17:15+02:00",
    "2007-10-09T16:27:05+02:00",
    "2007-10-31T11:35:49+01:00"
  ],
  "traces": [
    {
      "exceptionType": "com.sun.org.apache.xerces.internal.impl.io.MalformedByteSequenceException",
      "message": "Invalid byte 2 of 2-byte UTF-8 sequence.",
      "elements": [
        {
          "method": "com.sun.org.apache.xerces.internal.impl.io.UTF8Reader.invalidByte",
          "source": "UTF8Reader.java:674"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.impl.io.UTF8Reader.read",
          "source": "UTF8Reader.java:362"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load",
          "source": "XMLEntityScanner.java:1742"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.scanContent",
          "source": "XMLEntityScanner.java:916"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanContent",
          "source": "XMLDocumentFragmentScannerImpl.java:1581"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next",
          "source": "XMLDocumentFragmentScannerImpl.java:2887"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next",
          "source": "XMLDocumentScannerImpl.java:645"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument",
          "source": "XMLDocumentFragmentScannerImpl.java:508"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse",
          "source": "XML11Configuration.java:807"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse",
          "source": "XML11Configuration.java:737"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.parsers.XMLParser.parse",
          "source": "XMLParser.java:107"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse",
          "source": "AbstractSAXParser.java:1205"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse",
          "source": "SAXParserImpl.java:522"
        },
        {
          "method": "javax.xml.parsers.SAXParser.parse",
          "source": "SAXParser.java:395"
        },
        {
          "method": "javax.xml.parsers.SAXParser.parse",
          "source": "SAXParser.java:198"
        },
        {
          "method": "org.eclipse.pde.internal.core.util.SAXParserWrapper.parse",
          "source": "SAXParserWrapper.java:56"
        },
        {
          "method": "org.eclipse.pde.internal.core.schema.Schema.load",
          "source": "Schema.java:380"
        },
        {
          "method": "org.eclipse.pde.internal.core.schema.Schema.load",
          "source": "Schema.java:362"
        },
        {
          "method": "org.eclipse.pde.internal.core.schema.Schema.findElement",
          "source": "Schema.java:171"
        },
        {
          "method": "org.eclipse.pde.internal.ui.search.ClassSearchParticipant.inspectExtension",
          "source": "ClassSearchParticipant.java:164"
        },
        {
          "method": "org.eclipse.pde.internal.ui.search.ClassSearchParticipant.inspectExtension",
          "source": "ClassSearchParticipant.java:176"
        },
        {
          "method": "org.eclipse.pde.internal.ui.search.ClassSearchParticipant.access$1",
          "source": "ClassSearchParticipant.java:160"
        },
        {
          "method": "org.eclipse.pde.internal.ui.search.ClassSearchParticipant$1.modifyModel",
          "source": "ClassSearchParticipant.java:152"
        },
        {
          "method": "org.eclipse.pde.internal.ui.util.PDEModelUtility.modifyModel",
          "source": "PDEModelUtility.java:258"
        },
        {
          "method": "org.eclipse.pde.internal.ui.search.ClassSearchParticipant.searchProject",
          "source": "ClassSearchParticipant.java:157"
        },
        {
          "method": "org.eclipse.pde.internal.ui.search.ClassSearchParticipant.search",
          "source": "ClassSearchParticipant.java:124"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.search.JavaSearchQuery$2.run",
          "source": "JavaSearchQuery.java:163"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.search.JavaSearchQuery.run",
          "source": "JavaSearchQuery.java:169"
        },
        {
          "method": "org.eclipse.search2.internal.ui.InternalSearchUI$InternalSearchJob.run",
          "source": "InternalSearchUI.java:94"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "175297",
      "date": "2007-02-23T16:17:32+01:00",
      "product": "Platform",
      "component": "Compare",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.createHandle",
          "source": "MatchLocator.java:488"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.reportMatching",
          "source": "MatchLocator.java:2045"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.reportMatching",
          "source": "MatchLocator.java:2456"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.reportMatching",
          "source": "MatchLocator.java:2468"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator$LocalDeclarationVisitor.visit",
          "source": "MatchLocator.java:179"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.traverse",
          "source": "TypeDeclaration.java:1237"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.traverse",
          "source": "MethodDeclaration.java:244"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.reportMatching",
          "source": "MatchLocator.java:2016"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.reportMatching",
          "source": "MatchLocator.java:2456"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.reportMatching",
          "source": "MatchLocator.java:2203"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.process",
          "source": "MatchLocator.java:1543"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches",
          "source": "MatchLocator.java:1020"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches",
          "source": "MatchLocator.java:1061"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches",
          "source": "MatchLocator.java:1168"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.JavaSearchParticipant.locateMatches",
          "source": "JavaSearchParticipant.java:94"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches",
          "source": "BasicSearchEngine.java:217"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.BasicSearchEngine.search",
          "source": "BasicSearchEngine.java:500"
        },
        {
          "method": "org.eclipse.jdt.core.search.SearchEngine.search",
          "source": "SearchEngine.java:550"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.search.JavaSearchQuery.run",
          "source": "JavaSearchQuery.java:143"
        },
        {
          "method": "org.eclipse.search2.internal.ui.InternalSearchUI$InternalSearchJob.run",
          "source": "InternalSearchUI.java:94"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:55"
        }
      ],
      "number": 1,
      "commentIndex": 2,
      "bugId": "175297",
      "date": "2007-09-26T15:36:44+02:00",
      "product": "Platform",
      "component": "Compare",
      "severity": "normal"
    }
  ],
  "groupId": "175297",
  "bugId": "175297",
  "date": "2007-02-23T16:17:32+01:00",
  "product": "Platform",
  "component": "Compare",
  "severity": "normal"
}