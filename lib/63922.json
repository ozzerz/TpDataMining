{
  "comments": [
    "Using M9, I replace one file with its HEAD contents using \"Override and update\"\naction and I got this:\n\norg.eclipse.swt.SWTException: Widget is disposed\nat java.lang.Throwable.\u003cinit\u003e(Throwable.java)\nat java.lang.Throwable.\u003cinit\u003e(Throwable.java)\nat org.eclipse.swt.SWTException.\u003cinit\u003e(SWTException.java:73)\nat org.eclipse.swt.SWT.error(SWT.java:2689)\nat org.eclipse.swt.SWT.error(SWT.java:2614)\nat org.eclipse.swt.SWT.error(SWT.java:2585)\nat org.eclipse.swt.widgets.Widget.error(Widget.java:381)\nat org.eclipse.swt.widgets.Widget.checkWidget(Widget.java)\nat org.eclipse.swt.widgets.TreeItem.setImage(TreeItem.java)\nat org.eclipse.jface.viewers.TreeViewer.doUpdateItem(TreeViewer.java)\nat\norg.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run(AbstractTreeViewer.java)\nat org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java)\nat org.eclipse.core.runtime.Platform.run(Platform.java)\nat\norg.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java)\nat\norg.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run(StructuredViewer.java)\nat org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java)\nat org.eclipse.core.runtime.Platform.run(Platform.java)\nat org.eclipse.jface.viewers.StructuredViewer.updateItem(StructuredViewer.java)\nat org.eclipse.jface.viewers.StructuredViewer.update(StructuredViewer.java)\nat org.eclipse.jface.viewers.StructuredViewer.update(StructuredViewer.java:1280)\nat\norg.eclipse.team.internal.ui.synchronize.SynchronizeModelProvider$LabelUpdateJob.runInUIThread(SynchronizeModelProvider.java:95)\nat org.eclipse.ui.progress.UIJob$1.run(UIJob.java)\nat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java)\nat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java)\nat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1363)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1334)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:253)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\nat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:97)\nat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:307)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:256)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:127)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:84)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:59)\nat java.lang.reflect.Method.invoke(Method.java:390)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\nat org.eclipse.core.launcher.Main.run(Main.java:638)\nat org.eclipse.core.launcher.Main.main(Main.java:622)",
    "This looks like the same problem we had seen and UI had fixed. They must check\nfor disposed tree items.",
    "The UI fix was to continue processing other label changes so at least the view \nlabels don\u0027t disappear. any exceptions that occur are still logged.",
    "Before we post the label changes, we check to make sure that the viewer\u0027s \ncontrol is not disposed. However, we do not ensure that the model objects \nbeing past are still in the viewer. The viewer contain an internal hashmap \nthat maps objects to tree items and the viewer updates the cache when items \nare added and removed. When an update is requested, if there is no \ncorresponding item for a model object, the object is ignored. Howewer, it \nappears that the cache in the tree viewer has held on to a disposed item which \nis resulting in the exception included in this report.\n\nThere are two possible causes. The equality check of the model elements could \nbe off or the internal cache of the Tree could have a bug. I will verify that \nthe model object\u0027s equality checks are right before moving to UI.",
    "I have verified that our equality checks look right. However, the hashCode \ndoes not so it may be related to that. I will fix the hashCode determination.",
    "I have entered bug 64572 against compare because the hashCode value of an \nobject can change. I have also ensured that the sync model elements have the \nproper equals and hashCode. The proper equals was missing from the \nUnchangedContainer and the hashCode was wrong entirely."
  ],
  "commentCreationDates": [
    "2004-05-25T19:25:41+02:00",
    "2004-05-27T16:27:32+02:00",
    "2004-05-28T16:21:07+02:00",
    "2004-05-28T16:46:38+02:00",
    "2004-05-28T17:03:23+02:00",
    "2004-05-28T17:35:22+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Widget is disposed",
      "elements": [
        {
          "method": "java.lang.Throwable.\u003cinit\u003e",
          "source": "Throwable.java"
        },
        {
          "method": "java.lang.Throwable.\u003cinit\u003e",
          "source": "Throwable.java"
        },
        {
          "method": "org.eclipse.swt.SWTException.\u003cinit\u003e",
          "source": "SWTException.java:73"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2689"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2614"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2585"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:381"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.checkWidget",
          "source": "Widget.java"
        },
        {
          "method": "org.eclipse.swt.widgets.TreeItem.setImage",
          "source": "TreeItem.java"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.doUpdateItem",
          "source": "TreeViewer.java"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run",
          "source": "AbstractTreeViewer.java"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem",
          "source": "AbstractTreeViewer.java"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run",
          "source": "StructuredViewer.java"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateItem",
          "source": "StructuredViewer.java"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.update",
          "source": "StructuredViewer.java"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.update",
          "source": "StructuredViewer.java:1280"
        },
        {
          "method": "org.eclipse.team.internal.ui.synchronize.SynchronizeModelProvider$LabelUpdateJob.runInUIThread",
          "source": "SynchronizeModelProvider.java:95"
        },
        {
          "method": "org.eclipse.ui.progress.UIJob$1.run",
          "source": "UIJob.java"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1363"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1334"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:253"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:141"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:97"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:307"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:256"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:127"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:84"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:57"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:59"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:390"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:638"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:622"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "63922",
      "date": "2004-05-25T19:25:41+02:00",
      "product": "Platform",
      "component": "CVS",
      "severity": "normal"
    }
  ],
  "groupId": "63922",
  "bugId": "63922",
  "date": "2004-05-25T19:25:41+02:00",
  "product": "Platform",
  "component": "CVS",
  "severity": "normal"
}