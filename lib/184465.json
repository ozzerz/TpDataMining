{
  "comments": [
    "Starting a test workspace from my host IDE (I20070427-0010), I got the following NPE. Did not happen on next re-start.\n\njava.lang.NullPointerException\n    at org.eclipse.ui.internal.WorkbenchPage.restoreState(WorkbenchPage.java:3011)\n    at org.eclipse.ui.internal.WorkbenchWindow.restoreState(WorkbenchWindow.java:2061)\n    at org.eclipse.ui.internal.Workbench.doRestoreState(Workbench.java:3316)\n    at org.eclipse.ui.internal.Workbench.access$32(Workbench.java:3258)\n    at org.eclipse.ui.internal.Workbench$51.run(Workbench.java:2097)\n    at org.eclipse.ui.internal.Workbench.runStartupWithProgress(Workbench.java:1812)\n    at org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:2095)\n    at org.eclipse.ui.internal.Workbench.access$30(Workbench.java:2066)\n    at org.eclipse.ui.internal.Workbench$46.run(Workbench.java:1924)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n    at org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1868)\n    at org.eclipse.ui.internal.WorkbenchConfigurer.restoreState(WorkbenchConfigurer.java:183)\n    at org.eclipse.ui.application.WorkbenchAdvisor.openWindows(WorkbenchAdvisor.java:751)\n    at org.eclipse.ui.internal.Workbench.init(Workbench.java:1338)\n    at org.eclipse.ui.internal.Workbench.access$33(Workbench.java:1274)\n    at org.eclipse.ui.internal.Workbench$55.run(Workbench.java:2284)",
    "\nDarin, was there anything particularly \u0027funky\u0027 about this particular workspace (i.e. no perspectives open...)?\n\nI can see the possible issue (we\u0027re not testing if the \u0027activePerspective\u0027 is non-null after the \u0027perspList.getNextActive()\u0027) but I really like to test these things and I don\u0027t have a repro scenario...\n\nI can safe up the code but can\u0027t really verify the fix...\n",
    "My workspace had crashed yesterday... it\u0027s possible that there were no perspectives (but I don\u0027t know exactly what happenned).",
    "\nCommitted in \u003e20070427. Turns out that the code was badly formed; there is a \u0027safe\u0027 call to the \u0027restoreState\u0027 immeditately after the offending code so this code path would have resulted in -two- restores if it were taken. The fix was to remove the unsafe one, leaving the other in place (which already checks for \u0027null\u0027).\n"
  ],
  "commentCreationDates": [
    "2007-04-27T17:55:06+02:00",
    "2007-04-27T20:14:00+02:00",
    "2007-04-27T20:19:26+02:00",
    "2007-04-27T20:28:03+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.restoreState",
          "source": "WorkbenchPage.java:3011"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.restoreState",
          "source": "WorkbenchWindow.java:2061"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.doRestoreState",
          "source": "Workbench.java:3316"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$32",
          "source": "Workbench.java:3258"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$51.run",
          "source": "Workbench.java:2097"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runStartupWithProgress",
          "source": "Workbench.java:1812"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.restoreState",
          "source": "Workbench.java:2095"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$30",
          "source": "Workbench.java:2066"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$46.run",
          "source": "Workbench.java:1924"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.restoreState",
          "source": "Workbench.java:1868"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchConfigurer.restoreState",
          "source": "WorkbenchConfigurer.java:183"
        },
        {
          "method": "org.eclipse.ui.application.WorkbenchAdvisor.openWindows",
          "source": "WorkbenchAdvisor.java:751"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.init",
          "source": "Workbench.java:1338"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$33",
          "source": "Workbench.java:1274"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$55.run",
          "source": "Workbench.java:2284"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "184465",
      "date": "2007-04-27T17:55:06+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "184465",
  "bugId": "184465",
  "date": "2007-04-27T17:55:06+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}