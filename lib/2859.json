{
  "comments": [
    "During a \"New\" wizard, if an SWTError is thrown while building a wizard page,\nthe error is not handled, and the IDE process terminates abnormally (i.e. no proper\nshutdown allowing edit sessions to save).  This will cause data loss and perceived\ninstability in the IDE.\n\nThe problem is likely going to happen with any runtime exception, but I\u0027ve only\nseen it with SWTError.  In particular, an SWTError was thrown under Linux when\nCombo.setItems(list) was called where list[0] \u003d\u003d null.  This doesn\u0027t cause an SWTError\nin Windows.\n\nTo reproduce this, take any New wizard (eg new Java Project). In the \ncreateControl() method that builds the wizard page content as called by \nWizard.createPageControls, manually throw an SWTError (throw new SWTError(\"oops\");).  \nThis is just to simulate an actual SWTError that might be thrown for a variety of \nlegitimate reasons such as low system resources.  With that throw in place, run the \nIDE and attempt to create the new object.  When you click Next from the first\nwizard page, and it attempts to build the page we modified createControl for,\nthe IDE will simply shut down.  I expected that the error would be caught, and\nthe current operation (creating a new Java Project for example) would fail and\ninfo written to .log.\n\nHere is the stack trace that was dumped to stdout in my case:\norg.eclipse.swt.SWTError: Item not added\n\tat org.eclipse.swt.SWT.error(SWT.java:1724)\n\tat org.eclipse.swt.SWT.error(SWT.java:1741)\n\tat org.eclipse.swt.widgets.Widget.error(Widget.java:262)\n\tat org.eclipse.swt.widgets.Combo.setItems(Combo.java:1142)\n\tat com.ibm.etools.j2ee.common.wizard.NewJ2EEProjectCreationPage.populateEARProjectCombo(NewJ2EEProjectCreationPage.java:148)\n\tat com.ibm.etools.j2ee.common.wizard.NewJ2EEProjectCreationPage.createControl(NewJ2EEProjectCreationPage.java:54)\n\tat org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:158)\n\tat org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:485)\n\tat org.eclipse.jface.wizard.WizardDialog.setWizard(WizardDialog.java:835)\n\tat org.eclipse.jface.wizard.WizardDialog.showPage(WizardDialog.java:870)\n\tat org.eclipse.jface.wizard.WizardDialog.nextPressed(WizardDialog.java:648)\n\tat org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:288)\n\tat org.eclipse.jface.dialogs.Dialog$1.widgetSelected(Dialog.java:236)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:69)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:505)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code))\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java(Compiled Code))\n\tat org.eclipse.jface.window.Window.open(Window.java:517)\n\tat org.eclipse.ui.actions.NewWizardAction.run(NewWizardAction.java:63)\n\tat org.eclipse.ui.internal.NewWizardDropDownAction.run(NewWizardDropDownAction.java:68)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:398)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionContributionItem.java:352)\n\tat org.eclipse.jface.action.ActionContributionItem.access$0(ActionContributionItem.java:343)\n\tat org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(ActionContributionItem.java:47)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:505)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:642)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:810)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:280)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:119)\n\tat org.eclipse.core.launcher.Main.run(Main.java:401)\n\nFor additional info, contact Steve Francisco (cisco@ca.ibm.com)\n\nNOTES:\n\nKH (9/20/2001 9:27:41 AM)\n\tCustomer will fix their code. The request is to be more robust when errors happen.",
    "PRODUCT VERSION:\nEclipse build 134 and 135 (likely long before that too)\n\n",
    "This is another case where we can improve stability/servicability. ",
    "*** Bug 2041 has been marked as a duplicate of this bug. ***",
    "See bug 2041 - Comments: McQ 2002-01-29 10:12.\n\nWe are changing it trying to make it more robust and trying to inform the user \nabout the problem but it may not be possible do open a dialog. Depending on the \nError that happened we may not have more handles or memory.",
    "Released.",
    "Received the following using version 3.1:\n\n!SESSION 2005-05-25 17:49:10.12 -----------------------------------------------\n-\neclipse.buildId\u003dI20050219-1500\njava.version\u003d1.5.0_02\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_US\nCommand-line arguments:  -os win32 -ws win32 -arch x86\n\n!ENTRY org.eclipse.osgi 2005-05-25 17:49:10.12\n!MESSAGE Application error\n!STACK 1\norg.eclipse.swt.SWTError: Item not added\n\tat org.eclipse.swt.SWT.error(SWT.java:2865)\n\tat org.eclipse.swt.SWT.error(SWT.java:2762)\n\tat org.eclipse.swt.SWT.error(SWT.java:2733)\n\tat org.eclipse.swt.widgets.Widget.error(Widget.java:393)\n\tat org.eclipse.swt.widgets.Menu.createItem(Menu.java:484)\n\tat org.eclipse.swt.widgets.MenuItem.\u003cinit\u003e(MenuItem.java:118)\n\tat org.eclipse.jface.action.ActionContributionItem.fill\n(ActionContributionItem.java:262)\n\tat org.eclipse.jface.action.SubContributionItem.fill\n(SubContributionItem.java:65)\n\tat org.eclipse.jface.action.MenuManager.update(MenuManager.java:625)\n\tat org.eclipse.jface.action.MenuManager.update(MenuManager.java:547)\n\tat org.eclipse.jface.action.MenuManager.fill(MenuManager.java:232)\n\tat org.eclipse.jface.action.SubContributionItem.fill\n(SubContributionItem.java:65)\n\tat org.eclipse.jface.action.MenuManager.update(MenuManager.java:625)\n\tat org.eclipse.jface.action.MenuManager.update(MenuManager.java:547)\n\tat org.eclipse.jface.action.MenuManager.fill(MenuManager.java:232)\n\tat org.eclipse.jface.action.SubContributionItem.fill\n(SubContributionItem.java:65)\n\tat org.eclipse.jface.action.MenuManager.update(MenuManager.java:625)\n\tat org.eclipse.jface.action.MenuManager.update(MenuManager.java:547)\n\tat org.eclipse.jface.action.MenuManager.fill(MenuManager.java:232)\n\tat org.eclipse.jface.action.SubContributionItem.fill\n(SubContributionItem.java:65)\n\tat org.eclipse.jface.action.MenuManager.update(MenuManager.java:625)\n\tat org.eclipse.jface.action.MenuManager.updateAll(MenuManager.java:719)\n\tat org.eclipse.ui.internal.WorkbenchWindow.updateActionBars\n(WorkbenchWindow.java:2358)\n\tat org.eclipse.ui.internal.WorkbenchWindow.updateActionSets\n(WorkbenchWindow.java:2428)\n\tat org.eclipse.ui.internal.WorkbenchWindow$4.run\n(WorkbenchWindow.java:2248)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile\n(BusyIndicator.java:69)\n\tat org.eclipse.ui.internal.WorkbenchWindow.setActivePage\n(WorkbenchWindow.java:2221)\n\tat org.eclipse.ui.internal.WorkbenchWindow.restoreState\n(WorkbenchWindow.java:1753)\n\tat org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1453)\n\tat org.eclipse.ui.internal.Workbench.access$9(Workbench.java:1409)\n\tat org.eclipse.ui.internal.Workbench$14.run(Workbench.java:1312)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:1015)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:757)\n\tat org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1246)\n\tat org.eclipse.ui.internal.WorkbenchConfigurer.restoreState\n(WorkbenchConfigurer.java:171)\n\tat org.eclipse.ui.application.WorkbenchAdvisor.openWindows\n(WorkbenchAdvisor.java:711)\n\tat org.eclipse.ui.internal.Workbench.init(Workbench.java:918)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1554)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench\n(Workbench.java:293)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run\n(IDEApplication.java:102)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run\n(PlatformActivator.java:228)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:333)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:150)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:268)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:260)\n\tat org.eclipse.core.launcher.Main.run(Main.java:887)\n\tat org.eclipse.core.launcher.Main.main(Main.java:871)"
  ],
  "commentCreationDates": [
    "2001-10-11T04:44:50+02:00",
    "2001-10-30T00:21:59+01:00",
    "2002-01-25T01:32:18+01:00",
    "2002-01-31T22:13:42+01:00",
    "2002-01-31T22:15:38+01:00",
    "2002-02-01T23:41:45+01:00",
    "2005-05-26T00:00:32+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTError",
      "message": "Item not added",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:1724"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:1741"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:262"
        },
        {
          "method": "org.eclipse.swt.widgets.Combo.setItems",
          "source": "Combo.java:1142"
        },
        {
          "method": "com.ibm.etools.j2ee.common.wizard.NewJ2EEProjectCreationPage.populateEARProjectCombo",
          "source": "NewJ2EEProjectCreationPage.java:148"
        },
        {
          "method": "com.ibm.etools.j2ee.common.wizard.NewJ2EEProjectCreationPage.createControl",
          "source": "NewJ2EEProjectCreationPage.java:54"
        },
        {
          "method": "org.eclipse.jface.wizard.Wizard.createPageControls",
          "source": "Wizard.java:158"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.createPageControls",
          "source": "WizardDialog.java:485"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.setWizard",
          "source": "WizardDialog.java:835"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.showPage",
          "source": "WizardDialog.java:870"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.nextPressed",
          "source": "WizardDialog.java:648"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.buttonPressed",
          "source": "WizardDialog.java:288"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$1.widgetSelected",
          "source": "Dialog.java:236"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:69"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:505"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:517"
        },
        {
          "method": "org.eclipse.ui.actions.NewWizardAction.run",
          "source": "NewWizardAction.java:63"
        },
        {
          "method": "org.eclipse.ui.internal.NewWizardDropDownAction.run",
          "source": "NewWizardDropDownAction.java:68"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:398"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java:352"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem.java:343"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java:47"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:505"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:642"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:810"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:280"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:119"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:401"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "2859",
      "date": "2001-10-11T04:44:50+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    },
    {
      "exceptionType": "org.eclipse.swt.SWTError",
      "message": "Item not added",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2865"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2762"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2733"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:393"
        },
        {
          "method": "org.eclipse.swt.widgets.Menu.createItem",
          "source": "Menu.java:484"
        },
        {
          "method": "org.eclipse.swt.widgets.MenuItem.\u003cinit\u003e",
          "source": "MenuItem.java:118"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.fill",
          "source": "ActionContributionItem.java:262"
        },
        {
          "method": "org.eclipse.jface.action.SubContributionItem.fill",
          "source": "SubContributionItem.java:65"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.update",
          "source": "MenuManager.java:625"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.update",
          "source": "MenuManager.java:547"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.fill",
          "source": "MenuManager.java:232"
        },
        {
          "method": "org.eclipse.jface.action.SubContributionItem.fill",
          "source": "SubContributionItem.java:65"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.update",
          "source": "MenuManager.java:625"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.update",
          "source": "MenuManager.java:547"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.fill",
          "source": "MenuManager.java:232"
        },
        {
          "method": "org.eclipse.jface.action.SubContributionItem.fill",
          "source": "SubContributionItem.java:65"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.update",
          "source": "MenuManager.java:625"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.update",
          "source": "MenuManager.java:547"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.fill",
          "source": "MenuManager.java:232"
        },
        {
          "method": "org.eclipse.jface.action.SubContributionItem.fill",
          "source": "SubContributionItem.java:65"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.update",
          "source": "MenuManager.java:625"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.updateAll",
          "source": "MenuManager.java:719"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.updateActionBars",
          "source": "WorkbenchWindow.java:2358"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.updateActionSets",
          "source": "WorkbenchWindow.java:2428"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow$4.run",
          "source": "WorkbenchWindow.java:2248"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.setActivePage",
          "source": "WorkbenchWindow.java:2221"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.restoreState",
          "source": "WorkbenchWindow.java:1753"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.restoreState",
          "source": "Workbench.java:1453"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$9",
          "source": "Workbench.java:1409"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$14.run",
          "source": "Workbench.java:1312"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1015"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:757"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.restoreState",
          "source": "Workbench.java:1246"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchConfigurer.restoreState",
          "source": "WorkbenchConfigurer.java:171"
        },
        {
          "method": "org.eclipse.ui.application.WorkbenchAdvisor.openWindows",
          "source": "WorkbenchAdvisor.java:711"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.init",
          "source": "Workbench.java:918"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1554"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:293"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:144"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:102"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:228"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:333"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:150"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:268"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:260"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:887"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:871"
        }
      ],
      "number": 1,
      "commentIndex": 6,
      "bugId": "2859",
      "date": "2005-05-26T00:00:32+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "2859",
  "bugId": "2859",
  "date": "2001-10-11T04:44:50+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}