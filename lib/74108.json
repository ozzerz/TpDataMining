{
  "comments": [
    "Debugging a simple jsp on a WAS server, set a JSP breakpoint. When the \nbreakpoint is hit, try to disable the breakpoint, get the following NPE:\n!ENTRY org.eclipse.core.runtime 4 2 Sep 16, 2004 15:04:36.390\n!MESSAGE Problems occurred when invoking code from plug-\nin: \"org.eclipse.core.runtime\".\n!STACK 0\njava.lang.NullPointerException\n\tat \norg.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.getEnclosingRefer\nenceTypeName(JavaBreakpoint.java:215)\n\tat \norg.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.createRequests\n(JavaBreakpoint.java:494)\n\tat \norg.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.recreate\n(JavaBreakpoint.java:1139)\n\tat \norg.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.recreate\n(JavaBreakpoint.java:1119)\n\tat \norg.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.setEnabled\n(JavaBreakpoint.java:1148)\n\tat \norg.eclipse.debug.internal.ui.views.breakpoints.BreakpointsView.handleCheckState\nChanged(Unknown Source)\n\tat \norg.eclipse.debug.internal.ui.views.breakpoints.BreakpointsView.access$0\n(Unknown Source)\n\tat \norg.eclipse.debug.internal.ui.views.breakpoints.BreakpointsView$1.checkStateChan\nged(Unknown Source)\n\tat org.eclipse.jface.viewers.CheckboxTableViewer$1.run(Unknown Source)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run(Unknown \nSource)\n\tat org.eclipse.core.runtime.Platform.run(Unknown Source)\n\tat org.eclipse.jface.viewers.CheckboxTableViewer.fireCheckStateChanged\n(Unknown Source)\n\tat org.eclipse.jface.viewers.CheckboxTableViewer.handleSelect(Unknown \nSource)\n\tat org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected(Unknown \nSource)\n\tat org.eclipse.jface.util.OpenStrategy.fireSelectionEvent(Unknown \nSource)\n\tat org.eclipse.jface.util.OpenStrategy.access$3(Unknown Source)\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent(Unknown Source)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2772)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2431)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1377)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1348)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench\n(Workbench.java:254)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(Unknown Source)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(Unknown \nSource)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:273)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:129)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:85)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:58)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:60)\n\tat java.lang.reflect.Method.invoke(Method.java:391)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\n\tat org.eclipse.core.launcher.Main.run(Main.java:684)\n\tat org.eclipse.core.launcher.Main.main(Main.java:668)",
    "Created an attachment (id\u003d14581)\nSet the breakpoint on line 12 of the jsp\n",
    "Verified the error occurrs on 3.0 as well (i.e. not a regression in 3.0.1). \nThe problem only happens when the breakpoint is not yet installed. If the \nbreakpoint is installed, then it has a type name, and no NPE occurrs.",
    "Darin,\n\nIt doesn\u0027t make sense to me. I can have the breakpoint hit (which mean the \nbreakpoint is installed), and then disable it. I will still get the NPE.",
    "Spoke with Steven, we are seeing the same problem - but it manifests itself \ndifferently with WSAD tooling vs. standalone SDK tooling (the WSAD tooling \nuses a wrapper breakpoint to our stratum breakpoint).\n\nHowever, the underlying stratum breakpoint fails to disable/re-enable when a \nserver has been started and the stratum breakpoint has not yet been installed \non the server, since the corresponding classfile has not yet been loaded in \nthe server.\n\nIn Steven\u0027s case, the breakpoint actually continues to work, but the error \nmessage appears (due to the wrapper recreating the stratum breakpoint under \nthe covers). In the standalone case, the breakpoint will no longer work and \nhas to be delete/re-created by the user.",
    "Since the breakpoint continues to work, this is not a stop ship defect for \n3.0.1. It is a user annoyance to see the error message, and I propose to fix \nfor 3.0.2 (waiting for proper bugzilla milestone tag).",
    "Steven and I agree that this is not stop-ship defect for 3.0.1 and will be \ninvestigating getting a post 3.0.1-fix.  Thanks",
    "Created an attachment (id\u003d14689)\npatch for 3.1 stream\n\nThis is a patch for the 3.1 stream. I found the same problem existed for\nIJavaPatternBreakpoints as well. Also, the \"skip breakpoints\" function was\nworking properly for the stratum and pattern breakpoints. This patch addresses\nboth problems for both types of breakpoints. I will attach a 3.0.1 patch\nseperately.",
    "Created an attachment (id\u003d14690)\nNew tests cases \n\nNew test cases for toggling uninstalled pattern and stratum breakpoints.\nRunning the tests *without* the patch demonstrates the NPEs reported. With the\npatch, all is happy.",
    "comment#7 should say that \"skip\" function was *not* working properly. This \npatch addresses the issues. 3.0.1 patch to follow.",
    "Created an attachment (id\u003d14691)\npatch for 3.0.1 stream\n",
    "I have tested the patch for 3.0.1 stream quite a bit. It works great.",
    "Released the fix and tests to the 3.1 development stream.\n\nChanges in JavaStratumLineBreakpoint and JavaPatternBreakpoint. The fix is to \nimplement (override) #createRequests(JDIDebugTarget) rather than #addToTarget\n(...). This way the createRequests method is used when creating the initial \nrequests (adding to a target) and when re-creating a breakpoint when one of \nits attribtues changes.",
    "Please verify, Luc.",
    "Verified.",
    "marking as 3.0.2 candidate",
    "re-open to port to 3.0.2 ",
    "This fix in in the 3.0.2 maintenance stream.",
    "Verified."
  ],
  "commentCreationDates": [
    "2004-09-16T21:27:18+02:00",
    "2004-09-16T21:29:02+02:00",
    "2004-09-16T23:50:49+02:00",
    "2004-09-17T00:10:42+02:00",
    "2004-09-17T16:39:04+02:00",
    "2004-09-17T16:43:49+02:00",
    "2004-09-17T17:14:45+02:00",
    "2004-09-22T05:12:10+02:00",
    "2004-09-22T05:13:42+02:00",
    "2004-09-22T05:15:01+02:00",
    "2004-09-22T05:36:01+02:00",
    "2004-09-22T19:07:28+02:00",
    "2004-09-22T21:18:46+02:00",
    "2004-09-22T21:18:59+02:00",
    "2004-09-22T23:50:56+02:00",
    "2005-01-06T17:59:21+01:00",
    "2005-01-12T03:42:56+01:00",
    "2005-01-17T20:46:30+01:00",
    "2005-03-07T23:01:58+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.getEnclosingReferenceTypeName",
          "source": "JavaBreakpoint.java:215"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.createRequests",
          "source": "JavaBreakpoint.java:494"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.recreate",
          "source": "JavaBreakpoint.java:1139"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.recreate",
          "source": "JavaBreakpoint.java:1119"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.setEnabled",
          "source": "JavaBreakpoint.java:1148"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.breakpoints.BreakpointsView.handleCheckStateChanged",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.breakpoints.BreakpointsView.access$0",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.breakpoints.BreakpointsView$1.checkStateChanged",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.viewers.CheckboxTableViewer$1.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.viewers.CheckboxTableViewer.fireCheckStateChanged",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.viewers.CheckboxTableViewer.handleSelect",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireSelectionEvent",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$3",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:796"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2772"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2431"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1377"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1348"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:254"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:141"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:273"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:58"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:60"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:391"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:684"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:668"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "74108",
      "date": "2004-09-16T21:27:18+02:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "critical"
    }
  ],
  "groupId": "74108",
  "bugId": "74108",
  "date": "2004-09-16T21:27:18+02:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "critical"
}