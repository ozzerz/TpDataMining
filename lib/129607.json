{
  "comments": [
    "N20060225-0010 and N20060226-0010 (Windows XP only)\n\nMany JDT Text tests fail due to this, see: http://fullmoon.rtp.raleigh.ibm.com/downloads/drops/N20060225-0010/testresults/html/org.eclipse.jdt.text.tests_win32.win32.x86.html\n\nThe cause is Display.getShells() which seems to return disposed shells. This method is used by Platform UI in ProgressManagerUtil.getModalShellExcluding().\n\nUsing SWT from I20060221-1300 fixes the problem.\n\n\nDetailed stack trace:\n\n\tWidget is disposed\n\norg.eclipse.swt.SWTException: Widget is disposed\nat org.eclipse.swt.SWT.error(SWT.java:3358)\nat org.eclipse.swt.SWT.error(SWT.java:3281)\nat org.eclipse.swt.SWT.error(SWT.java:3252)\nat org.eclipse.swt.widgets.Widget.error(Widget.java:432)\nat org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:327)\nat org.eclipse.swt.widgets.Shell.isVisible(Shell.java:927)\nat org.eclipse.ui.internal.progress.ProgressManagerUtil.getModalShellExcluding(ProgressManagerUtil.java:275)\nat org.eclipse.ui.internal.progress.ProgressManagerUtil.getDefaultParent(ProgressManagerUtil.java:294)\nat org.eclipse.ui.internal.progress.BlockedJobsDialog.\u003cinit\u003e(BlockedJobsDialog.java:269)\nat org.eclipse.ui.internal.progress.BlockedJobsDialog.createBlockedDialog(BlockedJobsDialog.java:191)\nat org.eclipse.ui.internal.dialogs.WorkbenchDialogBlockedHandler.showBlocked(WorkbenchDialogBlockedHandler.java:73)\nat org.eclipse.ui.internal.dialogs.WorkbenchDialogBlockedHandler.showBlocked(WorkbenchDialogBlockedHandler.java:87)\nat org.eclipse.ui.internal.dialogs.EventLoopProgressMonitor.setBlocked(EventLoopProgressMonitor.java:144)\nat org.eclipse.core.internal.jobs.JobManager.reportBlocked(JobManager.java:865)\nat org.eclipse.core.internal.jobs.ThreadJob.waitStart(ThreadJob.java:315)\nat org.eclipse.core.internal.jobs.ThreadJob.joinRun(ThreadJob.java:158)\nat org.eclipse.core.internal.jobs.ImplicitJobs.begin(ImplicitJobs.java:87)\nat org.eclipse.core.internal.jobs.JobManager.beginRule(JobManager.java:218)\nat org.eclipse.core.internal.resources.WorkManager.checkIn(WorkManager.java:96)\nat org.eclipse.core.internal.resources.Workspace.prepareOperation(Workspace.java:1683)\nat org.eclipse.core.internal.resources.Project.create(Project.java:268)\nat org.eclipse.core.filebuffers.tests.ResourceHelper.createLinkedProject(ResourceHelper.java:149)\nat org.eclipse.jdt.text.tests.CompilationUnitDocumentProviderTest.test3(CompilationUnitDocumentProviderTest.java:92)\nat org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:330)\nat org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:204)\nat org.eclipse.test.UITestApplication$3.run(UITestApplication.java:188)\nat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\nat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\nat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3264)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2910)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1927)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1891)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:423)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\nat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:107)\nat org.eclipse.test.UITestApplication.runApplication(UITestApplication.java:131)\nat org.eclipse.test.UITestApplication.run(UITestApplication.java:58)\nat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:99)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:374)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)\nat org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:282)\nat org.eclipse.core.launcher.Main.run(Main.java:977)\nat org.eclipse.core.launcher.Main.main(Main.java:952)",
    "I browsed the changes between I20060221-1300 and HEAD and can\u0027t see anything obvious.",
    "Ok, I think got this one, stand by ...",
    "Fixed \u003e 20060227\n\nShells are now registered mulitple times in the widget table and we were forgetting to remove duplicates ... dho!",
    "*** Bug 129340 has been marked as a duplicate of this bug. ***",
    "Using v3226 from HEAD, I still see the following two exceptions:\n\norg.eclipse.swt.SWTException: Widget is disposed\n\tat org.eclipse.swt.SWT.error(SWT.java:3358)\n\tat org.eclipse.swt.SWT.error(SWT.java:3281)\n\tat org.eclipse.swt.SWT.error(SWT.java:3252)\n\tat org.eclipse.swt.widgets.Widget.error(Widget.java:432)\n\tat org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:327)\n\tat org.eclipse.swt.widgets.Widget.getData(Widget.java:514)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:61)\n\t(...)\n\nand\n\njava.lang.NullPointerException\n\tat org.eclipse.swt.widgets.Control.isActive(Control.java:1268)\n\tat org.eclipse.swt.widgets.Shell.updateModal(Shell.java:1512)\n\tat org.eclipse.swt.widgets.Display.setModalShell(Display.java:3650)\n\tat org.eclipse.swt.widgets.Shell.setVisible(Shell.java:1426)\n\tat org.eclipse.swt.widgets.Shell.open(Shell.java:983)\n\t(...)",
    "Sorry but this is not fixed, see:\nhttp://eclipsebuildserv.ottawa.ibm.com/downloads/master/downloads/drops/N20060228-0010/testresults/html/org.eclipse.jdt.text.tests_win32.win32.x86.html\n\nNote: you can run the org.eclipse.jdt.text.tests tests to verify the fix.",
    "Yes, I should have done that.",
    "Fighting the tool right now ...",
    "... still fighting the tool.  What packages are needed from CVS to run the test that fails?",
    "You need SDK drop plus:\n      \u003cimport plugin\u003d\"org.eclipse.jface.text.tests\"/\u003e\n      \u003cimport plugin\u003d\"org.eclipse.jdt.ui.tests\"/\u003e\n      \u003cimport plugin\u003d\"org.eclipse.core.filebuffers.tests\"/\u003e\n      \u003cimport plugin\u003d\"org.eclipse.test.performance\"/\u003e\n      \u003cimport plugin\u003d\"org.eclipse.text.tests\"/\u003e\n\nOR: provide me with latest SWT version and I\u0027ll run them here.",
    "I did that and it failed.  Never mind, I have the fix in hand and am constructing a simple test case.",
    "Steve has released the code to HEAD and we have run org.eclipse.jdt.text.tests to verify - tests now complete with a few failures (but no Widget is diposed error) so I am creating a new SWT build release.",
    "Fixed \u003e 20060228\n\nOne more time.  Multiple calls to Shell.register() put multiple Shells in the widget table.  The fix was to remove the multiple calls.",
    "Ok, now it\u0027s FIXED.",
    "Ok, now it\u0027s FIXED.",
    "*** Bug 129806 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2006-02-27T17:09:08+01:00",
    "2006-02-27T19:30:42+01:00",
    "2006-02-27T19:35:25+01:00",
    "2006-02-27T19:55:37+01:00",
    "2006-02-28T00:05:41+01:00",
    "2006-02-28T03:44:29+01:00",
    "2006-02-28T11:40:57+01:00",
    "2006-02-28T14:15:22+01:00",
    "2006-02-28T14:43:25+01:00",
    "2006-02-28T15:47:10+01:00",
    "2006-02-28T15:57:39+01:00",
    "2006-02-28T16:31:52+01:00",
    "2006-02-28T16:43:42+01:00",
    "2006-02-28T16:47:02+01:00",
    "2006-02-28T16:47:31+01:00",
    "2006-02-28T16:47:36+01:00",
    "2006-02-28T16:57:05+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Widget is disposed",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3358"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3281"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3252"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:432"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.checkWidget",
          "source": "Widget.java:327"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.isVisible",
          "source": "Shell.java:927"
        },
        {
          "method": "org.eclipse.ui.internal.progress.ProgressManagerUtil.getModalShellExcluding",
          "source": "ProgressManagerUtil.java:275"
        },
        {
          "method": "org.eclipse.ui.internal.progress.ProgressManagerUtil.getDefaultParent",
          "source": "ProgressManagerUtil.java:294"
        },
        {
          "method": "org.eclipse.ui.internal.progress.BlockedJobsDialog.\u003cinit\u003e",
          "source": "BlockedJobsDialog.java:269"
        },
        {
          "method": "org.eclipse.ui.internal.progress.BlockedJobsDialog.createBlockedDialog",
          "source": "BlockedJobsDialog.java:191"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.WorkbenchDialogBlockedHandler.showBlocked",
          "source": "WorkbenchDialogBlockedHandler.java:73"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.WorkbenchDialogBlockedHandler.showBlocked",
          "source": "WorkbenchDialogBlockedHandler.java:87"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.EventLoopProgressMonitor.setBlocked",
          "source": "EventLoopProgressMonitor.java:144"
        },
        {
          "method": "org.eclipse.core.internal.jobs.JobManager.reportBlocked",
          "source": "JobManager.java:865"
        },
        {
          "method": "org.eclipse.core.internal.jobs.ThreadJob.waitStart",
          "source": "ThreadJob.java:315"
        },
        {
          "method": "org.eclipse.core.internal.jobs.ThreadJob.joinRun",
          "source": "ThreadJob.java:158"
        },
        {
          "method": "org.eclipse.core.internal.jobs.ImplicitJobs.begin",
          "source": "ImplicitJobs.java:87"
        },
        {
          "method": "org.eclipse.core.internal.jobs.JobManager.beginRule",
          "source": "JobManager.java:218"
        },
        {
          "method": "org.eclipse.core.internal.resources.WorkManager.checkIn",
          "source": "WorkManager.java:96"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.prepareOperation",
          "source": "Workspace.java:1683"
        },
        {
          "method": "org.eclipse.core.internal.resources.Project.create",
          "source": "Project.java:268"
        },
        {
          "method": "org.eclipse.core.filebuffers.tests.ResourceHelper.createLinkedProject",
          "source": "ResourceHelper.java:149"
        },
        {
          "method": "org.eclipse.jdt.text.tests.CompilationUnitDocumentProviderTest.test3",
          "source": "CompilationUnitDocumentProviderTest.java:92"
        },
        {
          "method": "org.eclipse.test.EclipseTestRunner.run",
          "source": "EclipseTestRunner.java:330"
        },
        {
          "method": "org.eclipse.test.EclipseTestRunner.run",
          "source": "EclipseTestRunner.java:204"
        },
        {
          "method": "org.eclipse.test.UITestApplication$3.run",
          "source": "UITestApplication.java:188"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:123"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3264"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2910"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1927"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1891"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:423"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:107"
        },
        {
          "method": "org.eclipse.test.UITestApplication.runApplication",
          "source": "UITestApplication.java:131"
        },
        {
          "method": "org.eclipse.test.UITestApplication.run",
          "source": "UITestApplication.java:58"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:99"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:374"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:169"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:338"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:282"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "129607",
      "date": "2006-02-27T17:09:08+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "critical"
    },
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Widget is disposed",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3358"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3281"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3252"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:432"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.checkWidget",
          "source": "Widget.java:327"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.getData",
          "source": "Widget.java:514"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:61"
        }
      ],
      "number": 1,
      "commentIndex": 5,
      "bugId": "129607",
      "date": "2006-02-28T03:44:29+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "critical"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.swt.widgets.Control.isActive",
          "source": "Control.java:1268"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.updateModal",
          "source": "Shell.java:1512"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.setModalShell",
          "source": "Display.java:3650"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.setVisible",
          "source": "Shell.java:1426"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.open",
          "source": "Shell.java:983"
        }
      ],
      "number": 2,
      "commentIndex": 5,
      "bugId": "129607",
      "date": "2006-02-28T03:44:29+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "critical"
    }
  ],
  "groupId": "129607",
  "bugId": "129607",
  "date": "2006-02-27T17:09:08+01:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "critical"
}