{
  "comments": [
    "The following code snippet fails with two NullPointerExceptions (one in StructureEdit.findComponentByURI and another in StructureEdit.dispose) if dynamic webapp has a dependent without ModuleCoreNature, in other words dependent project exists but does not have ModuleCoreNature nature and .settings/.component file.\n\n\u003csnippet\u003e\nvoid foo() {\n  StructureEdit warStruct \u003d StructureEdit.getStructureEditForRead(proj);\n  try {\n    WorkbenchComponent comp \u003d warStruct.getComponent();\n    EList children \u003d comp.getReferencedComponents();\n    for (Iterator itor\u003dchildren.iterator(); itor.hasNext();) {\n      ReferencedComponent childRef \u003d (ReferencedComponent) itor.next();\n      IPath rtFolder \u003d childRef.getRuntimePath();\n      URI refHandle \u003d childRef.getHandle();\n      try {\n        WorkbenchComponent childCom \u003d warStruct.findComponentByURI(refHandle);\n        if (childCom \u003d\u003d null) continue;\n      } catch (UnresolveableURIException e) {\n        e.printStackTrace();\n      }\n    }\n  } catch (Exception e) {\n    e.printStackTrace();\n  } finally {\n    warStruct.dispose();\n  }\n}\n\u003c/snippet\u003e\n\n\nStack traces that I get \n\njava.lang.NullPointerException\n\tat org.eclipse.wst.common.componentcore.internal.StructureEdit.findComponentByURI(StructureEdit.java:774)\n\tat com.ibm.tivoli.tpm.development.wst.ModuleTraverser.traverseWebComponent(ModuleTraverser.java:100)\n\tat com.ibm.tivoli.tpm.development.wst.ModuleTraverser.traverse(ModuleTraverser.java:52)\n\tat com.ibm.tivoli.tpm.development.tomcat.server.TomcatServerBehaviourDelegate.publishModule(TomcatServerBehaviourDelegate.java:157)\n\tat org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publishModule(ServerBehaviourDelegate.java:672)\n\tat org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publishModules(ServerBehaviourDelegate.java:752)\n\tat org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish(ServerBehaviourDelegate.java:610)\n\tat org.eclipse.wst.server.core.internal.Server.doPublish(Server.java:800)\n\tat org.eclipse.wst.server.core.internal.Server.publish(Server.java:788)\n\tat org.eclipse.wst.server.core.internal.PublishServerJob.run(PublishServerJob.java:145)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\n\n\n\njava.lang.NullPointerException\n\tat org.eclipse.wst.common.componentcore.internal.StructureEdit.dispose(StructureEdit.java:401)\n\tat com.ibm.tivoli.tpm.development.wst.ModuleTraverser.traverseWebComponent(ModuleTraverser.java:111)\n\tat com.ibm.tivoli.tpm.development.wst.ModuleTraverser.traverse(ModuleTraverser.java:52)\n\tat com.ibm.tivoli.tpm.development.tomcat.server.TomcatServerBehaviourDelegate.publishModule(TomcatServerBehaviourDelegate.java:157)\n\tat org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publishModule(ServerBehaviourDelegate.java:672)\n\tat org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publishModules(ServerBehaviourDelegate.java:752)\n\tat org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish(ServerBehaviourDelegate.java:610)\n\tat org.eclipse.wst.server.core.internal.Server.doPublish(Server.java:800)\n\tat org.eclipse.wst.server.core.internal.Server.publish(Server.java:788)\n\tat org.eclipse.wst.server.core.internal.PublishServerJob.run(PublishServerJob.java:145)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)",
    "This is released for the WTP 1.5 RC1 042006 driver.",
    "verified",
    "OK"
  ],
  "commentCreationDates": [
    "2006-04-19T16:34:17+02:00",
    "2006-04-19T20:04:45+02:00",
    "2006-06-27T04:58:01+02:00",
    "2006-06-29T20:13:21+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.wst.common.componentcore.internal.StructureEdit.findComponentByURI",
          "source": "StructureEdit.java:774"
        },
        {
          "method": "com.ibm.tivoli.tpm.development.wst.ModuleTraverser.traverseWebComponent",
          "source": "ModuleTraverser.java:100"
        },
        {
          "method": "com.ibm.tivoli.tpm.development.wst.ModuleTraverser.traverse",
          "source": "ModuleTraverser.java:52"
        },
        {
          "method": "com.ibm.tivoli.tpm.development.tomcat.server.TomcatServerBehaviourDelegate.publishModule",
          "source": "TomcatServerBehaviourDelegate.java:157"
        },
        {
          "method": "org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publishModule",
          "source": "ServerBehaviourDelegate.java:672"
        },
        {
          "method": "org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publishModules",
          "source": "ServerBehaviourDelegate.java:752"
        },
        {
          "method": "org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish",
          "source": "ServerBehaviourDelegate.java:610"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.Server.doPublish",
          "source": "Server.java:800"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.Server.publish",
          "source": "Server.java:788"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.PublishServerJob.run",
          "source": "PublishServerJob.java:145"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "137498",
      "date": "2006-04-19T16:34:17+02:00",
      "product": "Web Tools",
      "component": "wst.common",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.wst.common.componentcore.internal.StructureEdit.dispose",
          "source": "StructureEdit.java:401"
        },
        {
          "method": "com.ibm.tivoli.tpm.development.wst.ModuleTraverser.traverseWebComponent",
          "source": "ModuleTraverser.java:111"
        },
        {
          "method": "com.ibm.tivoli.tpm.development.wst.ModuleTraverser.traverse",
          "source": "ModuleTraverser.java:52"
        },
        {
          "method": "com.ibm.tivoli.tpm.development.tomcat.server.TomcatServerBehaviourDelegate.publishModule",
          "source": "TomcatServerBehaviourDelegate.java:157"
        },
        {
          "method": "org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publishModule",
          "source": "ServerBehaviourDelegate.java:672"
        },
        {
          "method": "org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publishModules",
          "source": "ServerBehaviourDelegate.java:752"
        },
        {
          "method": "org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish",
          "source": "ServerBehaviourDelegate.java:610"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.Server.doPublish",
          "source": "Server.java:800"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.Server.publish",
          "source": "Server.java:788"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.PublishServerJob.run",
          "source": "PublishServerJob.java:145"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "137498",
      "date": "2006-04-19T16:34:17+02:00",
      "product": "Web Tools",
      "component": "wst.common",
      "severity": "normal"
    }
  ],
  "groupId": "137498",
  "bugId": "137498",
  "date": "2006-04-19T16:34:17+02:00",
  "product": "Web Tools",
  "component": "wst.common",
  "severity": "normal"
}