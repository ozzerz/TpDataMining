{
  "comments": [
    "Build ID: M6\n\nSteps To Reproduce:\nI have a EAR 5.0 with a WebModule 2.4 and a EJB 3.0. During the publish mechanism we are doing a call to EARArtifactEdit.getUtilityModuleReferences(), to figure out what are the utility jars. This calls throws a exception, probably because is trying to figure out the utility jars from the deployment descriptor (which is now optional and in my case it doesn\u0027t exist):\n\norg.eclipse.emf.common.util.BasicEList$BasicIndexOutOfBoundsException: index\u003d0, size\u003d0\n\tat org.eclipse.emf.common.util.BasicEList.get(BasicEList.java:535)\n\tat org.eclipse.jst.j2ee.componentcore.EnterpriseArtifactEdit.getDeploymentDescriptorRoot(EnterpriseArtifactEdit.java:154)\n\tat org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getApplication(EARArtifactEdit.java:291)\n\tat org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getUtilityModuleReferences(EARArtifactEdit.java:414)\n\n\n\nMore information:\nThis is an high impact defect as we can\u0027t complete the publishing of the project",
    "Hey Raj, could you take a quick look at this.  My understanding is that for right now this API is broken and the only work around would be to supply a deployment descriptor.",
    "The workaround for this problem is quite simple.\n//1. get all component references\nIVirtualReference allRefs[] \u003d EarArtifactEdit.getComponentReferences();\nList allRefsList \u003d new ArrayList(Arrays.asList(allRefs));\n//2. get j2ee references \nIVirtualReference j2eeRefs[] \u003d EarArtifactEdit.getJ2EEModuleReferences();\nList j2eeRefsList \u003d new ArrayList(Arrays.asList(j2eeRefs));\n//3. utility \u003d all - j2ee\nallRefsList.removeAll(j2eeRefsList); // utility",
    "Lowering severity to reflect simple workaround for now",
    "We need to take another pass at this- EarArtifactEdit is not supported for Ear 5.0 projects.",
    "Carl - you moved the other methods to J2EEProjectUtilities... we need to move this one as well.  (But we will have to wait for 2.0.1.)",
    "Out of time for 2.0.1, so moving to 2.0.2 target. \n\n"
  ],
  "commentCreationDates": [
    "2007-04-04T17:49:53+02:00",
    "2007-04-04T20:29:45+02:00",
    "2007-05-10T18:13:35+02:00",
    "2007-05-10T18:15:19+02:00",
    "2007-05-17T17:16:06+02:00",
    "2007-06-08T20:59:26+02:00",
    "2007-09-19T06:14:08+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.emf.common.util.BasicEList$BasicIndexOutOfBoundsException",
      "message": "index\u003d0, size\u003d0",
      "elements": [
        {
          "method": "org.eclipse.emf.common.util.BasicEList.get",
          "source": "BasicEList.java:535"
        },
        {
          "method": "org.eclipse.jst.j2ee.componentcore.EnterpriseArtifactEdit.getDeploymentDescriptorRoot",
          "source": "EnterpriseArtifactEdit.java:154"
        },
        {
          "method": "org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getApplication",
          "source": "EARArtifactEdit.java:291"
        },
        {
          "method": "org.eclipse.jst.j2ee.componentcore.util.EARArtifactEdit.getUtilityModuleReferences",
          "source": "EARArtifactEdit.java:414"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "180980",
      "date": "2007-04-04T17:49:53+02:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "major"
    }
  ],
  "groupId": "180980",
  "bugId": "180980",
  "date": "2007-04-04T17:49:53+02:00",
  "product": "Web Tools",
  "component": "jst.j2ee",
  "severity": "major"
}