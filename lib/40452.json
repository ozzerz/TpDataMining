{
  "comments": [
    "------------------A.java---------------------\npackage a;\n\npublic class A\n{\n   public static void method2() //\u003c--- refactor rename this method\n   {\n   }\n}\n----------------------------------------------\n-----------------------B.java-----------------\npackage b;\n\nimport a.A;\n\npublic class B\n{\n   I i \u003d new I()\n   {\n      public void method()\n      {\n         A.method2();\n      }\n   };\n}\n\ninterface I\n{\n   void method();\n}\n--------------------------------------------------\n\nIf you have the above two files and refactor rename \"method2\" to something you \nget the following:\njava.lang.reflect.InvocationTargetException\nat org.eclipse.jface.operation.ModalContext.runInCurrentThread(Unknown Source)\nat org.eclipse.jface.operation.ModalContext.run(Unknown Source)\nat org.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2.run(Unknown \nSource)\nat \norg.eclipse.jdt.internal.ui.refactoring.PerformRefactoringUtil.performRefactorin\ng(Unknown Source)\nat org.eclipse.jdt.internal.ui.refactoring.RefactoringWizard.performFinish\n(Unknown Source)\nat org.eclipse.jdt.internal.ui.refactoring.UserInputWizardPage.performFinish\n(Unknown Source)\nat org.eclipse.jdt.internal.ui.refactoring.RefactoringWizard.performFinish\n(Unknown Source)\nat org.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2.okPressed\n(Unknown Source)\nat org.eclipse.jface.dialogs.Dialog.buttonPressed(Unknown Source)\nat org.eclipse.jface.dialogs.Dialog$1.widgetSelected(Unknown Source)\nat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:848)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2188)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1878)\nat org.eclipse.jface.window.Window.runEventLoop(Unknown Source)\nat org.eclipse.jface.window.Window.open(Unknown Source)\nat org.eclipse.jdt.internal.ui.refactoring.actions.RefactoringStarter.activate\n(Unknown Source)\nat org.eclipse.jdt.internal.ui.refactoring.reorg.RenameRefactoringAction.run\n(Unknown Source)\nat org.eclipse.jdt.ui.refactoring.RenameSupport.openDialog(Unknown Source)\nat org.eclipse.jdt.internal.ui.refactoring.actions.RenameJavaElementAction.run\n(Unknown Source)\nat org.eclipse.jdt.internal.ui.refactoring.actions.RenameJavaElementAction.run\n(Unknown Source)\nat org.eclipse.jdt.ui.actions.RenameAction.run(Unknown Source)\nat org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(Unknown \nSource)\nat org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(Unknown Source)\nat org.eclipse.jface.action.Action.runWithEvent(Unknown Source)\nat org.eclipse.ui.internal.commands.old.ActionHandler.execute(Unknown Source)\nat org.eclipse.ui.internal.commands.old.ContextAndHandlerManager.pressed\n(Unknown Source)\nat org.eclipse.ui.internal.commands.old.ContextAndHandlerManager.access$1\n(Unknown Source)\nat \norg.eclipse.ui.internal.commands.old.ContextAndHandlerManager$7.widgetSelected\n(Unknown Source)\nat org.eclipse.ui.internal.AcceleratorMenu$2.handleEvent(Unknown Source)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:848)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2188)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1878)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Unknown Source)\nat org.eclipse.ui.internal.Workbench.run(Unknown Source)\nat org.eclipse.core.internal.boot.InternalBootLoader.run(Unknown Source)\nat org.eclipse.core.boot.BootLoader.run(Unknown Source)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:324)\nat org.eclipse.core.launcher.Main.basicRun(Unknown Source)\nat org.eclipse.core.launcher.Main.run(Unknown Source)\nat org.eclipse.core.launcher.Main.main(Unknown Source)\nCaused by: java.lang.StringIndexOutOfBoundsException: String index out of \nrange: -7\nat java.lang.String.substring(String.java:1444)\nat java.lang.String.substring(String.java:1411)\nat \norg.eclipse.jdt.internal.corext.refactoring.rename.UpdateMethodReferenceEdit.con\nnect(Unknown Source)\nat org.eclipse.jdt.internal.corext.textmanipulation.TextEdit.executeConnect\n(Unknown Source)\nat \norg.eclipse.jdt.internal.corext.textmanipulation.AutoOrganizingTextEdit.executeC\nonnect(Unknown Source)\nat org.eclipse.jdt.internal.corext.textmanipulation.TextBufferEditor.add\n(Unknown Source)\nat org.eclipse.jdt.internal.corext.refactoring.changes.TextChange.addTextEdits\n(Unknown Source)\nat \norg.eclipse.jdt.internal.corext.refactoring.changes.TextChange.getPreviewTextBuf\nfer(Unknown Source)\nat \norg.eclipse.jdt.internal.corext.refactoring.rename.RenameAnalyzeUtil.getNewWorki\nngCopies(Unknown Source)\nat \norg.eclipse.jdt.internal.corext.refactoring.rename.RenameMethodProcessor.getNewO\nccurrences(Unknown Source)\nat \norg.eclipse.jdt.internal.corext.refactoring.rename.RenameMethodProcessor.analyze\nRenameChanges(Unknown Source)\nat \norg.eclipse.jdt.internal.corext.refactoring.rename.RenameMethodProcessor.checkIn\nput(Unknown Source)\nat \norg.eclipse.jdt.internal.corext.refactoring.rename.RenameNonVirtualMethodProcess\nor.checkInput(Unknown Source)\nat \norg.eclipse.jdt.internal.corext.refactoring.rename.RenameRefactoring.checkInput\n(Unknown Source)\nat org.eclipse.jdt.internal.ui.refactoring.CheckConditionsOperation.run(Unknown \nSource)\nat org.eclipse.jdt.internal.ui.refactoring.CreateChangeOperation.run(Unknown \nSource)\nat org.eclipse.jdt.internal.ui.refactoring.PerformChangeOperation.run(Unknown \nSource)\n... 46 more",
    "*** Bug 40135 has been marked as a duplicate of this bug. ***",
    "Created an attachment (id\u003d5627)\nunit test\n\nI have created a unit test for this bug however the string index out of bounds\nexception is not thrown anymore (somebody must have fixed it). However if you\nperform the refactoring you get an error message similar to that in bug 40476. ",
    "fixed",
    "*** Bug 41001 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2003-07-18T11:28:19+02:00",
    "2003-07-18T11:39:41+02:00",
    "2003-08-05T17:19:23+02:00",
    "2003-08-11T15:31:43+02:00",
    "2003-08-11T16:10:02+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.reflect.InvocationTargetException",
      "elements": [
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2.run",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.PerformRefactoringUtil.performRefactoring",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.RefactoringWizard.performFinish",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.UserInputWizardPage.performFinish",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.RefactoringWizard.performFinish",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2.okPressed",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog.buttonPressed",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$1.widgetSelected",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:89"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:848"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2188"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1878"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.actions.RefactoringStarter.activate",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.reorg.RenameRefactoringAction.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jdt.ui.refactoring.RenameSupport.openDialog",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.actions.RenameJavaElementAction.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.actions.RenameJavaElementAction.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.RenameAction.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun",
          "source": "Unknown  Source"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ui.internal.commands.old.ActionHandler.execute",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ui.internal.commands.old.ContextAndHandlerManager.pressed",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ui.internal.commands.old.ContextAndHandlerManager.access$1",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ui.internal.commands.old.ContextAndHandlerManager$7.widgetSelected",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ui.internal.AcceleratorMenu$2.handleEvent",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:848"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2188"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1878"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Unknown Source"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.StringIndexOutOfBoundsException",
        "message": "String index out of  range: -7",
        "elements": [
          {
            "method": "java.lang.String.substring",
            "source": "String.java:1444"
          },
          {
            "method": "java.lang.String.substring",
            "source": "String.java:1411"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.refactoring.rename.UpdateMethodReferenceEdit.connect",
            "source": "Unknown Source"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.textmanipulation.TextEdit.executeConnect",
            "source": "Unknown Source"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.textmanipulation.AutoOrganizingTextEdit.executeConnect",
            "source": "Unknown Source"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.textmanipulation.TextBufferEditor.add",
            "source": "Unknown Source"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.refactoring.changes.TextChange.addTextEdits",
            "source": "Unknown Source"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.refactoring.changes.TextChange.getPreviewTextBuffer",
            "source": "Unknown Source"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.refactoring.rename.RenameAnalyzeUtil.getNewWorkingCopies",
            "source": "Unknown Source"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.refactoring.rename.RenameMethodProcessor.getNewOccurrences",
            "source": "Unknown Source"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.refactoring.rename.RenameMethodProcessor.analyzeRenameChanges",
            "source": "Unknown Source"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.refactoring.rename.RenameMethodProcessor.checkInput",
            "source": "Unknown Source"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.refactoring.rename.RenameNonVirtualMethodProcessor.checkInput",
            "source": "Unknown Source"
          },
          {
            "method": "org.eclipse.jdt.internal.corext.refactoring.rename.RenameRefactoring.checkInput",
            "source": "Unknown Source"
          },
          {
            "method": "org.eclipse.jdt.internal.ui.refactoring.CheckConditionsOperation.run",
            "source": "Unknown  Source"
          },
          {
            "method": "org.eclipse.jdt.internal.ui.refactoring.CreateChangeOperation.run",
            "source": "Unknown  Source"
          },
          {
            "method": "org.eclipse.jdt.internal.ui.refactoring.PerformChangeOperation.run",
            "source": "Unknown  Source"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "40452",
      "date": "2003-07-18T11:28:19+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "40452",
  "bugId": "40452",
  "date": "2003-07-18T11:28:19+02:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}