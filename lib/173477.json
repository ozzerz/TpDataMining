{
  "comments": [
    "Build ID: I20061214-1445\n\nSteps To Reproduce:\nCompile and run the following code:\n\ninterface Root {\n  public Root someMethod();\n}\n\ninterface Intermediary extends Root {\n  public Leaf someMethod();\n}\n\nclass Leaf implements Intermediary {\n  @Override\n  public Leaf someMethod() {\n    System.out.println(\"Yup, we\u0027re here.\");\n    return null;\n  }\n}\n\npublic class BugTest {\n  public static void main(String[] args) {\n    Leaf leafReference \u003d new Leaf();\n    leafReference.someMethod();\n    Root rootReference \u003d leafReference;\n    rootReference.someMethod(); /* throws error */\n  }\n}\n\nMore information:\nFrom within Eclipse, the file compiles fine, but if you try to run it, you\u0027ll get a runtime error:\n\nException in thread \"main\" java.lang.AbstractMethodError: \nLeaf.someMethod()LRoot;\n at BugTest.main(BugTest.java:21)\n\nHowever, if you compile this using Sun\u0027s javac compiler, it\u0027ll run just fine, and print out the message twice, as expected.\n\nA disassembly of the class files reveals that the two compilers differ mainly in the generation of the Leaf.class file. Sun\u0027s javac produces the following bytecode:\n\nCompiled from \"BugTest.java\"\nclass Leaf extends java.lang.Object implements Intermediary{\nLeaf();\n  Code:\n   0:\taload_0\n   1:\tinvokespecial\t#1; //Method java/lang/Object.\"\u003cinit\u003e\":()V\n   4:\treturn\n\npublic Leaf someMethod();\n  Code:\n   0:\tgetstatic\t#2; //Field java/lang/System.out:Ljava/io/PrintStream;\n   3:\tldc\t#3; //String Yup, we\u0027re here.\n   5:\tinvokevirtual\t#4; //Method java/io/PrintStream.println:(Ljava/lang/String;)V\n   8:\taconst_null\n   9:\tareturn\n\npublic Root someMethod();\n  Code:\n   0:\taload_0\n   1:\tinvokevirtual\t#5; //Method someMethod:()LLeaf;\n   4:\tareturn\n\n}\n\nWhile Eclipse\u0027s compiler produces the following bytecode:\n\nCompiled from \"BugTest.java\"\nclass Leaf extends java.lang.Object implements Intermediary{\nLeaf();\n  Code:\n   0:\taload_0\n   1:\tinvokespecial\t#10; //Method java/lang/Object.\"\u003cinit\u003e\":()V\n   4:\treturn\n\npublic Leaf someMethod();\n  Code:\n   0:\tgetstatic\t#18; //Field java/lang/System.out:Ljava/io/PrintStream;\n   3:\tldc\t#24; //String Yup, we\u0027re here.\n   5:\tinvokevirtual\t#26; //Method java/io/PrintStream.println:(Ljava/lang/String;)V\n   8:\taconst_null\n   9:\tareturn\n\n}",
    "This is fixed using 3.3M5 build.\nI am looking for the duplicate.",
    "Looks like a dup of bug 168331.\n\n*** This bug has been marked as a duplicate of bug 168331 ***",
    "Added regression test org.eclipse.jdt.core.tests.compiler.regression.MethodVerifyTest#test121"
  ],
  "commentCreationDates": [
    "2007-02-08T16:15:07+01:00",
    "2007-02-08T16:22:28+01:00",
    "2007-02-08T16:24:16+01:00",
    "2007-02-08T18:37:46+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.AbstractMethodError",
      "message": "Leaf.someMethod()LRoot;",
      "elements": [
        {
          "method": "BugTest.main",
          "source": "BugTest.java:21"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "173477",
      "duplicateId": "168331",
      "date": "2007-02-08T16:15:07+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "blocker"
    }
  ],
  "groupId": "168331",
  "bugId": "173477",
  "duplicateId": "168331",
  "date": "2007-02-08T16:15:07+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "blocker"
}