{
  "comments": [
    "The test suite is showing transient failures caused by transport errors:\n\n\nTest case: testSimpleStepFilter\nNever received event: Suspend\nProcess exit value: 0\nConsole output follows:\nStepFilterTwo.test()Transport error, error code \u003d -1\n\nStepFilterThree.go()\n\n\n\nTest case: testSkipPatternBreakpoint\nNever received event: Suspend\nProcess exit value: 0\nConsole output follows:\nInitializer\nConstructor\nThreading\nConstructor\nIf\nElse\nfor\nfor\nfor\nwhile\nwhile\nwhile\nblock\ndowhile\ndowhile\ndowhile\ndowhile\ndowhile\ncatch block\nfinally after catch\ntry\nfinally after try\nswitch\nswitch default\nsynchronized\ninner instance\ninner instance\nTransport error, error code \u003d -1\n\n\n\nTest case: testUnanimousSuspendVote\nNever received event: Suspend\nProcess exit value: 0\nConsole output follows:\nInitializer\nConstructor\nThreading\nConstructor\nIf\nElse\nfor\nfor\nfor\nwhile\nwhile\nwhile\nblock\ndowhile\ndowhile\ndowhile\ndowhile\ndowhile\ncatch block\nfinally after catch\ntry\nfinally after try\nswitch\nswitch default\nsynchronized\ninner instance\ninner instance\nTransport error, error code \u003d -1\n\n\n\nTest case: testDeferredExpression\nNever received event: Suspend\nProcess exit value: 0\nConsole output follows:\nTransport error, error code \u003d -1",
    "Appears to be the new model proxy initialization code that is triggering the disconnect. (I dumped a stack trace by throwing an illegal arg exception when a disconnect occurrs. The illegal arg is just a hack here). Not sure why the \"installed\" code causes this problem:\n\njava.lang.IllegalArgumentException: disconnected\n\tat org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.disconnected(JDIDebugTarget.java:1305)\n\tat org.eclipse.jdt.internal.debug.core.model.JDIDebugElement.disconnected(JDIDebugElement.java:311)\n\tat org.eclipse.jdt.internal.debug.core.model.JDIDebugElement.throwDebugException(JDIDebugElement.java:201)\n\tat org.eclipse.jdt.internal.debug.core.model.JDIDebugElement.requestFailed(JDIDebugElement.java:158)\n\tat org.eclipse.jdt.internal.debug.core.model.JDIDebugElement.targetRequestFailed(JDIDebugElement.java:143)\n\tat org.eclipse.jdt.internal.debug.core.model.JDIThread.getUnderlyingFrames(JDIThread.java:511)\n\tat org.eclipse.jdt.internal.debug.core.model.JDIThread.computeStackFrames(JDIThread.java:419)\n\tat org.eclipse.jdt.internal.debug.core.model.JDIThread.computeStackFrames(JDIThread.java:483)\n\tat org.eclipse.jdt.internal.debug.core.model.JDIThread.getTopStackFrame(JDIThread.java:937)\n\tat org.eclipse.debug.internal.ui.viewers.update.DebugTargetProxy.installed(DebugTargetProxy.java:77)\n\tat org.eclipse.debug.internal.ui.viewers.AsynchronousViewer.installModelProxy(AsynchronousViewer.java:434)\n\tat org.eclipse.debug.internal.ui.viewers.AsynchronousViewer.map(AsynchronousViewer.java:392)\n\tat org.eclipse.debug.internal.ui.viewers.AsynchronousTreeViewer.map(AsynchronousTreeViewer.java:324)\n\tat org.eclipse.debug.internal.ui.viewers.AsynchronousTreeViewer$4.run(AsynchronousTreeViewer.java:507)\n\tat org.eclipse.debug.internal.ui.viewers.AsynchronousViewer.preservingSelection(AsynchronousViewer.java:902)\n\tat org.eclipse.debug.internal.ui.viewers.AsynchronousTreeViewer.setChildren(AsynchronousTreeViewer.java:472)\n\tat org.eclipse.debug.internal.ui.viewers.ChildrenRequestMonitor.performUpdate(ChildrenRequestMonitor.java:71)\n\tat org.eclipse.debug.internal.ui.viewers.AsynchronousRequestMonitor$1.runInUIThread(AsynchronousRequestMonitor.java:170)\n\tat org.eclipse.ui.progress.UIJob$1.run(UIJob.java:93)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3218)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2864)\n\tat org.eclipse.jdt.debug.tests.DebugSuite.run(DebugSuite.java:67)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:478)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:344)\n\tat org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(RemotePluginTestRunner.java:57)\n\tat org.eclipse.pde.internal.junit.runtime.UITestApplication$1.run(UITestApplication.java:105)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3218)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2864)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1762)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1726)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:397)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)\n\tat org.eclipse.pde.internal.junit.runtime.UITestApplication.run(UITestApplication.java:45)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:109)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:379)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:282)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)",
    "Appears related to inconsistent thread state in the model and target. When a target is created, class prepare requests are set for each deferred breakpoint. These requests are handled by the breakpoint class without tellingt the thread/target that the thread has actually suspended (i.e. never effects model state). If a thread\u0027s state is being initialized as a class prepare is hit, the thread can init its state to suspended even though this is just a transient state. This appears to cause the disconnect (asking for frames when the model thinks its suspended, when its not... although I think that is really a VM bug).\n\nFixed in JDIThread.initialize()/getBreakpoints(). Thread state is set to \"running\" when the model doesn\u0027t know about breakpoints, even if the target thinks its suspended. This is safe, as the thread state will be set to suspeneded in the case that a breakpoint is really hit. ",
    "Please verify, Kevin.",
    "verified"
  ],
  "commentCreationDates": [
    "2005-12-12T16:31:32+01:00",
    "2005-12-13T18:51:22+01:00",
    "2005-12-13T20:58:08+01:00",
    "2005-12-13T20:58:27+01:00",
    "2005-12-13T21:44:45+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "disconnected",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.disconnected",
          "source": "JDIDebugTarget.java:1305"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIDebugElement.disconnected",
          "source": "JDIDebugElement.java:311"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIDebugElement.throwDebugException",
          "source": "JDIDebugElement.java:201"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIDebugElement.requestFailed",
          "source": "JDIDebugElement.java:158"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIDebugElement.targetRequestFailed",
          "source": "JDIDebugElement.java:143"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread.getUnderlyingFrames",
          "source": "JDIThread.java:511"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread.computeStackFrames",
          "source": "JDIThread.java:419"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread.computeStackFrames",
          "source": "JDIThread.java:483"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread.getTopStackFrame",
          "source": "JDIThread.java:937"
        },
        {
          "method": "org.eclipse.debug.internal.ui.viewers.update.DebugTargetProxy.installed",
          "source": "DebugTargetProxy.java:77"
        },
        {
          "method": "org.eclipse.debug.internal.ui.viewers.AsynchronousViewer.installModelProxy",
          "source": "AsynchronousViewer.java:434"
        },
        {
          "method": "org.eclipse.debug.internal.ui.viewers.AsynchronousViewer.map",
          "source": "AsynchronousViewer.java:392"
        },
        {
          "method": "org.eclipse.debug.internal.ui.viewers.AsynchronousTreeViewer.map",
          "source": "AsynchronousTreeViewer.java:324"
        },
        {
          "method": "org.eclipse.debug.internal.ui.viewers.AsynchronousTreeViewer$4.run",
          "source": "AsynchronousTreeViewer.java:507"
        },
        {
          "method": "org.eclipse.debug.internal.ui.viewers.AsynchronousViewer.preservingSelection",
          "source": "AsynchronousViewer.java:902"
        },
        {
          "method": "org.eclipse.debug.internal.ui.viewers.AsynchronousTreeViewer.setChildren",
          "source": "AsynchronousTreeViewer.java:472"
        },
        {
          "method": "org.eclipse.debug.internal.ui.viewers.ChildrenRequestMonitor.performUpdate",
          "source": "ChildrenRequestMonitor.java:71"
        },
        {
          "method": "org.eclipse.debug.internal.ui.viewers.AsynchronousRequestMonitor$1.runInUIThread",
          "source": "AsynchronousRequestMonitor.java:170"
        },
        {
          "method": "org.eclipse.ui.progress.UIJob$1.run",
          "source": "UIJob.java:93"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:123"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3218"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2864"
        },
        {
          "method": "org.eclipse.jdt.debug.tests.DebugSuite.run",
          "source": "DebugSuite.java:67"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests",
          "source": "RemoteTestRunner.java:478"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run",
          "source": "RemoteTestRunner.java:344"
        },
        {
          "method": "org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main",
          "source": "RemotePluginTestRunner.java:57"
        },
        {
          "method": "org.eclipse.pde.internal.junit.runtime.UITestApplication$1.run",
          "source": "UITestApplication.java:105"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:123"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3218"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2864"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1762"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1726"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:397"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.pde.internal.junit.runtime.UITestApplication.run",
          "source": "UITestApplication.java:45"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:109"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:379"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:338"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:282"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 1,
      "bugId": "120385",
      "date": "2005-12-13T18:51:22+01:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "120385",
  "bugId": "120385",
  "date": "2005-12-12T16:31:32+01:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "normal"
}