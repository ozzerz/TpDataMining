{
  "comments": [
    "This is the public bug report for a DS1 problem in IBM\u0027s internal bug tracking system. Please email me for the bug reference number. \n\nI am updating a SSE based editor from a non-UI thread. (Using ProgressMonitorDialog to run a runnable.) I am seeing several IllegalArgumentExceptions caused by SWT because of invalid line offsets. Me and Nitin looked at this code but he can tell you more details about it. \n\nFrom what I understood, the redraw() was disabled on the SSE editor, but the various listeners - (OverviewRuler and AnnotationPainter, etc) were trying to access the out-of-date viewer, causing an index out of bounds. If you have any questions please ask Nitin for more explaination. \n\nHere are the relevent stack traces.\n\nCaused by: java.lang.IllegalArgumentException: Index out of bounds\n\tat org.eclipse.swt.SWT.error(SWT.java:3358)\n\tat org.eclipse.swt.SWT.error(SWT.java:3297)\n\tat org.eclipse.swt.SWT.error(SWT.java:3268)\n\tat org.eclipse.swt.custom.StyledText.getLineAtOffset(StyledText.java:3334)\n\tat org.eclipse.jface.text.source.OverviewRuler.doPaint1(OverviewRuler.java:653)\n\tat org.eclipse.jface.text.source.OverviewRuler.doubleBufferPaint(OverviewRuler.java:479)\n\tat org.eclipse.jface.text.source.OverviewRuler.redraw(OverviewRuler.java:705)\n\tat org.eclipse.jface.text.source.OverviewRuler.access$1(OverviewRuler.java:698)\n\tat org.eclipse.jface.text.source.OverviewRuler$5.run(OverviewRuler.java:687)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\t... 99 more\n\nCaused by: java.lang.IllegalArgumentException: Index out of bounds\n\tat org.eclipse.swt.SWT.error(SWT.java:3358)\n\tat org.eclipse.swt.SWT.error(SWT.java:3297)\n\tat org.eclipse.swt.SWT.error(SWT.java:3268)\n\tat org.eclipse.swt.custom.StyledText.redrawRange(StyledText.java:5993)\n\tat org.eclipse.jface.text.source.AnnotationPainter$SquigglesStrategy.draw(AnnotationPainter.java:122)\n\tat org.eclipse.jface.text.source.AnnotationPainter.handleDrawRequest(AnnotationPainter.java:1233)\n\tat org.eclipse.jface.text.source.AnnotationPainter.disablePainting(AnnotationPainter.java:380)\n\tat org.eclipse.jface.text.source.AnnotationPainter.updatePainting(AnnotationPainter.java:793)\n\tat org.eclipse.jface.text.source.AnnotationPainter.access$1(AnnotationPainter.java:792)\n\tat org.eclipse.jface.text.source.AnnotationPainter$1.run(AnnotationPainter.java:920)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\t... 99 more\n\nCaused by: java.lang.IllegalArgumentException: Index out of bounds\n\tat org.eclipse.swt.SWT.error(SWT.java:3358)\n\tat org.eclipse.swt.SWT.error(SWT.java:3297)\n\tat org.eclipse.swt.SWT.error(SWT.java:3268)\n\tat org.eclipse.swt.custom.StyledText.getLineAtOffset(StyledText.java:3334)\n\tat org.eclipse.jface.text.source.OverviewRuler.doPaint1(OverviewRuler.java:653)\n\tat org.eclipse.jface.text.source.OverviewRuler.doubleBufferPaint(OverviewRuler.java:479)\n\tat org.eclipse.jface.text.source.OverviewRuler.redraw(OverviewRuler.java:705)\n\tat org.eclipse.jface.text.source.OverviewRuler.access$1(OverviewRuler.java:698)\n\tat org.eclipse.jface.text.source.OverviewRuler$5.run(OverviewRuler.java:687)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\t... 99 more\n\nCaused by: java.lang.IllegalArgumentException: Index out of bounds\n\tat org.eclipse.swt.SWT.error(SWT.java:3358)\n\tat org.eclipse.swt.SWT.error(SWT.java:3297)\n\tat org.eclipse.swt.SWT.error(SWT.java:3268)\n\tat org.eclipse.swt.custom.StyledText.redrawRange(StyledText.java:5993)\n\tat org.eclipse.jface.text.source.AnnotationPainter$SquigglesStrategy.draw(AnnotationPainter.java:122)\n\tat org.eclipse.jface.text.source.AnnotationPainter.handleDrawRequest(AnnotationPainter.java:1233)\n\tat org.eclipse.jface.text.source.AnnotationPainter.enablePainting(AnnotationPainter.java:365)\n\tat org.eclipse.jface.text.source.AnnotationPainter.updatePainting(AnnotationPainter.java:800)\n\tat org.eclipse.jface.text.source.AnnotationPainter.access$1(AnnotationPainter.java:792)\n\tat org.eclipse.jface.text.source.AnnotationPainter$1.run(AnnotationPainter.java:920)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\t... 99 more\n\nCaused by: java.lang.IllegalArgumentException: Index out of bounds\n\tat org.eclipse.swt.SWT.error(SWT.java:3358)\n\tat org.eclipse.swt.SWT.error(SWT.java:3297)\n\tat org.eclipse.swt.SWT.error(SWT.java:3268)\n\tat org.eclipse.swt.custom.StyledText.getLineAtOffset(StyledText.java:3334)\n\tat org.eclipse.jface.text.source.OverviewRuler.doPaint1(OverviewRuler.java:653)\n\tat org.eclipse.jface.text.source.OverviewRuler.doubleBufferPaint(OverviewRuler.java:479)\n\tat org.eclipse.jface.text.source.OverviewRuler.redraw(OverviewRuler.java:705)\n\tat org.eclipse.jface.text.source.OverviewRuler.access$1(OverviewRuler.java:698)\n\tat org.eclipse.jface.text.source.OverviewRuler$5.run(OverviewRuler.java:687)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\t... 99 more",
    "I guess bugzilla tricked you.\n\n*** This bug has been marked as a duplicate of 162617 ***"
  ],
  "commentCreationDates": [
    "2006-10-27T21:31:34+02:00",
    "2006-10-28T09:03:23+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Index out of bounds",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3358"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3297"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3268"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.getLineAtOffset",
          "source": "StyledText.java:3334"
        },
        {
          "method": "org.eclipse.jface.text.source.OverviewRuler.doPaint1",
          "source": "OverviewRuler.java:653"
        },
        {
          "method": "org.eclipse.jface.text.source.OverviewRuler.doubleBufferPaint",
          "source": "OverviewRuler.java:479"
        },
        {
          "method": "org.eclipse.jface.text.source.OverviewRuler.redraw",
          "source": "OverviewRuler.java:705"
        },
        {
          "method": "org.eclipse.jface.text.source.OverviewRuler.access$1",
          "source": "OverviewRuler.java:698"
        },
        {
          "method": "org.eclipse.jface.text.source.OverviewRuler$5.run",
          "source": "OverviewRuler.java:687"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:123"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.IllegalArgumentException",
        "message": "Index out of bounds",
        "elements": [
          {
            "method": "org.eclipse.swt.SWT.error",
            "source": "SWT.java:3358"
          },
          {
            "method": "org.eclipse.swt.SWT.error",
            "source": "SWT.java:3297"
          },
          {
            "method": "org.eclipse.swt.SWT.error",
            "source": "SWT.java:3268"
          },
          {
            "method": "org.eclipse.swt.custom.StyledText.redrawRange",
            "source": "StyledText.java:5993"
          },
          {
            "method": "org.eclipse.jface.text.source.AnnotationPainter$SquigglesStrategy.draw",
            "source": "AnnotationPainter.java:122"
          },
          {
            "method": "org.eclipse.jface.text.source.AnnotationPainter.handleDrawRequest",
            "source": "AnnotationPainter.java:1233"
          },
          {
            "method": "org.eclipse.jface.text.source.AnnotationPainter.disablePainting",
            "source": "AnnotationPainter.java:380"
          },
          {
            "method": "org.eclipse.jface.text.source.AnnotationPainter.updatePainting",
            "source": "AnnotationPainter.java:793"
          },
          {
            "method": "org.eclipse.jface.text.source.AnnotationPainter.access$1",
            "source": "AnnotationPainter.java:792"
          },
          {
            "method": "org.eclipse.jface.text.source.AnnotationPainter$1.run",
            "source": "AnnotationPainter.java:920"
          },
          {
            "method": "org.eclipse.swt.widgets.RunnableLock.run",
            "source": "RunnableLock.java:35"
          },
          {
            "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
            "source": "Synchronizer.java:123"
          }
        ],
        "causedBy": {
          "exceptionType": "java.lang.IllegalArgumentException",
          "message": "Index out of bounds",
          "elements": [
            {
              "method": "org.eclipse.swt.SWT.error",
              "source": "SWT.java:3358"
            },
            {
              "method": "org.eclipse.swt.SWT.error",
              "source": "SWT.java:3297"
            },
            {
              "method": "org.eclipse.swt.SWT.error",
              "source": "SWT.java:3268"
            },
            {
              "method": "org.eclipse.swt.custom.StyledText.getLineAtOffset",
              "source": "StyledText.java:3334"
            },
            {
              "method": "org.eclipse.jface.text.source.OverviewRuler.doPaint1",
              "source": "OverviewRuler.java:653"
            },
            {
              "method": "org.eclipse.jface.text.source.OverviewRuler.doubleBufferPaint",
              "source": "OverviewRuler.java:479"
            },
            {
              "method": "org.eclipse.jface.text.source.OverviewRuler.redraw",
              "source": "OverviewRuler.java:705"
            },
            {
              "method": "org.eclipse.jface.text.source.OverviewRuler.access$1",
              "source": "OverviewRuler.java:698"
            },
            {
              "method": "org.eclipse.jface.text.source.OverviewRuler$5.run",
              "source": "OverviewRuler.java:687"
            },
            {
              "method": "org.eclipse.swt.widgets.RunnableLock.run",
              "source": "RunnableLock.java:35"
            },
            {
              "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
              "source": "Synchronizer.java:123"
            }
          ],
          "causedBy": {
            "exceptionType": "java.lang.IllegalArgumentException",
            "message": "Index out of bounds",
            "elements": [
              {
                "method": "org.eclipse.swt.SWT.error",
                "source": "SWT.java:3358"
              },
              {
                "method": "org.eclipse.swt.SWT.error",
                "source": "SWT.java:3297"
              },
              {
                "method": "org.eclipse.swt.SWT.error",
                "source": "SWT.java:3268"
              },
              {
                "method": "org.eclipse.swt.custom.StyledText.redrawRange",
                "source": "StyledText.java:5993"
              },
              {
                "method": "org.eclipse.jface.text.source.AnnotationPainter$SquigglesStrategy.draw",
                "source": "AnnotationPainter.java:122"
              },
              {
                "method": "org.eclipse.jface.text.source.AnnotationPainter.handleDrawRequest",
                "source": "AnnotationPainter.java:1233"
              },
              {
                "method": "org.eclipse.jface.text.source.AnnotationPainter.enablePainting",
                "source": "AnnotationPainter.java:365"
              },
              {
                "method": "org.eclipse.jface.text.source.AnnotationPainter.updatePainting",
                "source": "AnnotationPainter.java:800"
              },
              {
                "method": "org.eclipse.jface.text.source.AnnotationPainter.access$1",
                "source": "AnnotationPainter.java:792"
              },
              {
                "method": "org.eclipse.jface.text.source.AnnotationPainter$1.run",
                "source": "AnnotationPainter.java:920"
              },
              {
                "method": "org.eclipse.swt.widgets.RunnableLock.run",
                "source": "RunnableLock.java:35"
              },
              {
                "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
                "source": "Synchronizer.java:123"
              }
            ],
            "causedBy": {
              "exceptionType": "java.lang.IllegalArgumentException",
              "message": "Index out of bounds",
              "elements": [
                {
                  "method": "org.eclipse.swt.SWT.error",
                  "source": "SWT.java:3358"
                },
                {
                  "method": "org.eclipse.swt.SWT.error",
                  "source": "SWT.java:3297"
                },
                {
                  "method": "org.eclipse.swt.SWT.error",
                  "source": "SWT.java:3268"
                },
                {
                  "method": "org.eclipse.swt.custom.StyledText.getLineAtOffset",
                  "source": "StyledText.java:3334"
                },
                {
                  "method": "org.eclipse.jface.text.source.OverviewRuler.doPaint1",
                  "source": "OverviewRuler.java:653"
                },
                {
                  "method": "org.eclipse.jface.text.source.OverviewRuler.doubleBufferPaint",
                  "source": "OverviewRuler.java:479"
                },
                {
                  "method": "org.eclipse.jface.text.source.OverviewRuler.redraw",
                  "source": "OverviewRuler.java:705"
                },
                {
                  "method": "org.eclipse.jface.text.source.OverviewRuler.access$1",
                  "source": "OverviewRuler.java:698"
                },
                {
                  "method": "org.eclipse.jface.text.source.OverviewRuler$5.run",
                  "source": "OverviewRuler.java:687"
                },
                {
                  "method": "org.eclipse.swt.widgets.RunnableLock.run",
                  "source": "RunnableLock.java:35"
                },
                {
                  "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
                  "source": "Synchronizer.java:123"
                }
              ],
              "number": 0,
              "commentIndex": 0
            },
            "number": 0,
            "commentIndex": 0
          },
          "number": 0,
          "commentIndex": 0
        },
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "162618",
      "duplicateId": "162617",
      "date": "2006-10-27T21:31:34+02:00",
      "product": "Platform",
      "component": "Text",
      "severity": "major"
    }
  ],
  "groupId": "162617",
  "bugId": "162618",
  "duplicateId": "162617",
  "date": "2006-10-27T21:31:34+02:00",
  "product": "Platform",
  "component": "Text",
  "severity": "major"
}