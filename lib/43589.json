{
  "comments": [
    "N20030924\n\nJDT/UI test cases failed due to a NPE in JobQueue. The trace is:\n\njava.lang.NullPointerException\nat org.eclipse.core.internal.jobs.JobQueue.enqueue(JobQueue.java:83)\nat org.eclipse.core.internal.jobs.JobManager.changeState(JobManager.java:189)\nat org.eclipse.core.internal.jobs.JobManager.schedule(JobManager.java:492)\nat org.eclipse.core.internal.jobs.InternalJob.schedule(InternalJob.java:203)\nat org.eclipse.core.runtime.jobs.Job.schedule(Job.java:342)\nat org.eclipse.core.internal.events.NotificationManager.endOperation\n(NotificationManager.java:228)\nat org.eclipse.core.internal.resources.Workspace.endOperation\n(Workspace.java:832)\nat org.eclipse.core.internal.resources.Resource.delete(Resource.java:676)\nat org.eclipse.jdt.internal.core.JavaModelOperation.deleteResource\n(JavaModelOperation.java:308)\nat org.eclipse.jdt.internal.core.DeleteResourceElementsOperation.processElement\n(DeleteResourceElementsOperation.java:109)\nat org.eclipse.jdt.internal.core.MultiOperation.processElements\n(MultiOperation.java:160)\nat org.eclipse.jdt.internal.core.MultiOperation.executeOperation\n(MultiOperation.java:90)\nat org.eclipse.jdt.internal.core.JavaModelOperation.execute\n(JavaModelOperation.java:366)\nat org.eclipse.jdt.internal.core.JavaModelOperation.run\n(JavaModelOperation.java:705)\nat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1555)\nat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1572)\nat org.eclipse.jdt.internal.core.JavaElement.runOperation(JavaElement.java:526)\nat org.eclipse.jdt.internal.core.JavaModel.delete(JavaModel.java:124)\nat org.eclipse.jdt.internal.core.CompilationUnit.delete\n(CompilationUnit.java:356)\nat \norg.eclipse.jdt.ui.tests.refactoring.RefactoringTest.tryDeletingAllJavaChildren\n(RefactoringTest.java:146)\nat org.eclipse.jdt.ui.tests.refactoring.RefactoringTest.tearDown\n(RefactoringTest.java:99)\nat junit.extensions.TestDecorator.basicRun(TestDecorator.java:22)\nat junit.extensions.TestSetup$1.protect(TestSetup.java:19)\nat junit.extensions.TestSetup.run(TestSetup.java:23)\nat org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:320)\nat org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:199)\nat org.eclipse.test.EclipseTestRunner.main(EclipseTestRunner.java:134)\nat org.eclipse.test.UITestApplication.runTests(UITestApplication.java:45)\nat org.eclipse.test.UITestApplication.runEventLoop(UITestApplication.java:39)\nat org.eclipse.ui.internal.Workbench.run(Workbench.java:2047)\nat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:858)\nat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:298)\nat org.eclipse.core.launcher.Main.run(Main.java:764)\nat org.eclipse.core.launcher.Main.main(Main.java:598)",
    "Is this reproducible every time?  Is there a way I can narrow down the JDT UI\ntests to reproduce the failure?",
    "No idea \u003cg\u003e. \n\nSome of the failing test cases are ripples of the NPE. There is one failing \ntest case in AllTypesCache that is unrelated. \n\nThe first test fails in ChangeSignatureTests. Have you tried to run this test \ncase stand alone.",
    "I just realized you\u0027re not talking about the integration build.  I can only\nreproduce one failure in the integration build:\n\nAllTypesCacheTest.testNewElementCreation\n\nThis is the test that I assume you are referring as the unrelated failure. I\nwill try again with the nightly build.",
    "I\u0027m now using the nightly build contribution of JDT UI, but the current JDT UI\ntests from HEAD.  This is because the builds don\u0027t include source for test\nplugins so I can\u0027t import them into a workspace for testing.\n\nRunning AllRefactoringTests, I get two failures:\n\nInlineMethodTests.testArray\njunit.framework.AssertionFailedError: differences in lines: \n* 10* expected: \u003c\t\tint i\u003d (new int[] {1})[0];\u003e\n_ 10_ but was:  \u003c\t\tint i\u003d new int[] {1}[0];\u003e\n\n\nChangeSignatureTests.testAll47\njunit.framework.AssertionFailedError: precondition was supposed to pass\nexpected:\u003cnull\u003e but was:\u003c\u003cERROR\n\t\nERROR: The constructor Object(int) is undefined\nContext:\norg.eclipse.jdt.internal.corext.refactoring.base.JavaStringStatusContext@f216da\nData: null\ncode: 0\n\nThe NPE in JobQueue did not happen at all...",
    "The two test failures are ok. They will not show up if you use JDT/UI from \nHEAD.",
    "I have released some extra instrumentation in runtime plugin to help track down\nthe problem.  Essentially, when the NPE occurs it means the data structure is\nalready corrupt, which doesn\u0027t help to track it down.  I have added a number of\nassertions so that we can detect when it is trying to enter an illegal state...\nthis will hopefully reveal what is causing it.\n\nMeanwhile, I have been running the JDT UI tests in various configurations\n(nightly builds, integration, etc, but no luck reproducing yet.",
    "*** Bug 43732 has been marked as a duplicate of this bug. ***",
    "*** Bug 43996 has been marked as a duplicate of this bug. ***",
    "The extra assertions helped track this down and it is now fixed in HEAD.  Tod,\nplease rerun your UI tests when you get a chance.",
    "*** Bug 44094 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2003-09-24T18:13:50+02:00",
    "2003-09-24T18:40:18+02:00",
    "2003-09-24T18:55:48+02:00",
    "2003-09-24T21:26:28+02:00",
    "2003-09-24T23:15:16+02:00",
    "2003-09-25T10:09:20+02:00",
    "2003-09-25T18:43:07+02:00",
    "2003-09-26T17:43:21+02:00",
    "2003-10-01T17:16:25+02:00",
    "2003-10-01T17:31:11+02:00",
    "2003-10-03T16:31:08+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.core.internal.jobs.JobQueue.enqueue",
          "source": "JobQueue.java:83"
        },
        {
          "method": "org.eclipse.core.internal.jobs.JobManager.changeState",
          "source": "JobManager.java:189"
        },
        {
          "method": "org.eclipse.core.internal.jobs.JobManager.schedule",
          "source": "JobManager.java:492"
        },
        {
          "method": "org.eclipse.core.internal.jobs.InternalJob.schedule",
          "source": "InternalJob.java:203"
        },
        {
          "method": "org.eclipse.core.runtime.jobs.Job.schedule",
          "source": "Job.java:342"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.endOperation",
          "source": "NotificationManager.java:228"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.endOperation",
          "source": "Workspace.java:832"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource.delete",
          "source": "Resource.java:676"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.deleteResource",
          "source": "JavaModelOperation.java:308"
        },
        {
          "method": "org.eclipse.jdt.internal.core.DeleteResourceElementsOperation.processElement",
          "source": "DeleteResourceElementsOperation.java:109"
        },
        {
          "method": "org.eclipse.jdt.internal.core.MultiOperation.processElements",
          "source": "MultiOperation.java:160"
        },
        {
          "method": "org.eclipse.jdt.internal.core.MultiOperation.executeOperation",
          "source": "MultiOperation.java:90"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.execute",
          "source": "JavaModelOperation.java:366"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.run",
          "source": "JavaModelOperation.java:705"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1555"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1572"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaElement.runOperation",
          "source": "JavaElement.java:526"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModel.delete",
          "source": "JavaModel.java:124"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.delete",
          "source": "CompilationUnit.java:356"
        },
        {
          "method": "org.eclipse.jdt.ui.tests.refactoring.RefactoringTest.tryDeletingAllJavaChildren",
          "source": "RefactoringTest.java:146"
        },
        {
          "method": "org.eclipse.jdt.ui.tests.refactoring.RefactoringTest.tearDown",
          "source": "RefactoringTest.java:99"
        },
        {
          "method": "junit.extensions.TestDecorator.basicRun",
          "source": "TestDecorator.java:22"
        },
        {
          "method": "junit.extensions.TestSetup$1.protect",
          "source": "TestSetup.java:19"
        },
        {
          "method": "junit.extensions.TestSetup.run",
          "source": "TestSetup.java:23"
        },
        {
          "method": "org.eclipse.test.EclipseTestRunner.run",
          "source": "EclipseTestRunner.java:320"
        },
        {
          "method": "org.eclipse.test.EclipseTestRunner.run",
          "source": "EclipseTestRunner.java:199"
        },
        {
          "method": "org.eclipse.test.EclipseTestRunner.main",
          "source": "EclipseTestRunner.java:134"
        },
        {
          "method": "org.eclipse.test.UITestApplication.runTests",
          "source": "UITestApplication.java:45"
        },
        {
          "method": "org.eclipse.test.UITestApplication.runEventLoop",
          "source": "UITestApplication.java:39"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:2047"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:858"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:298"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:764"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:598"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "43589",
      "date": "2003-09-24T18:13:50+02:00",
      "product": "Platform",
      "component": "Resources",
      "severity": "critical"
    }
  ],
  "groupId": "43589",
  "bugId": "43589",
  "date": "2003-09-24T18:13:50+02:00",
  "product": "Platform",
  "component": "Resources",
  "severity": "critical"
}