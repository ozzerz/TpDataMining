{
  "comments": [
    "I20070201-0800\n\nGot the following error when disabling a breakpoint:\njava.lang.NullPointerException\nat java.util.Hashtable.remove(Hashtable.java:693)\nat org.eclipse.jdi.internal.request.EventRequestManagerImpl.removeRequestIDMapping(EventRequestManagerImpl.java:532)\nat org.eclipse.jdi.internal.request.EventRequestImpl.disable(EventRequestImpl.java:206)\nat org.eclipse.jdi.internal.request.EventRequestManagerImpl.deleteEventRequest(EventRequestManagerImpl.java:376)\nat org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.removeRequests(JavaBreakpoint.java:663)\nat org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.recreate(JavaBreakpoint.java:1158)\nat org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.recreate(JavaBreakpoint.java:1138)\nat org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.setEnabled(JavaBreakpoint.java:1168)\nat org.eclipse.debug.internal.ui.views.breakpoints.BreakpointsView$3.run(BreakpointsView.java:263)\nat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)",
    "Looks like a multi-threaded case could try to disable the breakpoint twice resulting in this NPE. The enable()/disable() methods of EventRequestImpl are not thread safe and should be synchronized. Added synchronization to:\n\nEventRequestImpl:\n  enable()\n  disable()\n  isEnabled()",
    "Please verify, Mike.",
    "could not reproduce the problem, but the fix is reasonable."
  ],
  "commentCreationDates": [
    "2007-02-06T03:50:48+01:00",
    "2007-02-06T22:26:09+01:00",
    "2007-02-06T22:26:23+01:00",
    "2007-02-07T18:00:46+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "java.util.Hashtable.remove",
          "source": "Hashtable.java:693"
        },
        {
          "method": "org.eclipse.jdi.internal.request.EventRequestManagerImpl.removeRequestIDMapping",
          "source": "EventRequestManagerImpl.java:532"
        },
        {
          "method": "org.eclipse.jdi.internal.request.EventRequestImpl.disable",
          "source": "EventRequestImpl.java:206"
        },
        {
          "method": "org.eclipse.jdi.internal.request.EventRequestManagerImpl.deleteEventRequest",
          "source": "EventRequestManagerImpl.java:376"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.removeRequests",
          "source": "JavaBreakpoint.java:663"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.recreate",
          "source": "JavaBreakpoint.java:1158"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.recreate",
          "source": "JavaBreakpoint.java:1138"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.setEnabled",
          "source": "JavaBreakpoint.java:1168"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.breakpoints.BreakpointsView$3.run",
          "source": "BreakpointsView.java:263"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "172989",
      "date": "2007-02-06T03:50:48+01:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "172989",
  "bugId": "172989",
  "date": "2007-02-06T03:50:48+01:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "normal"
}