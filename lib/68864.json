{
  "comments": [
    "Hi everybody!\n\nI found some postings in the newsgroup related to this topic before, but none\nhelped. \n\nWhen running a JUnit Plugin Test, the test classes are not found and execution\nof some runnable fails with a NullPointerException.\n\nThe affected plugin is a new E3.0 plugin, but depends on some older (still using\nthe deprecated ctors) plugnis. I am using WinXP. My tests are in a seperate\nsource folder. The JUnit plugin (org.junit) is a plugin dependency, and these\nclasses are found (at least Eclipse does not complain), so I currently have no\nidea how to fix this.\n\nThanks for any hints!\n\nRegards,\n\tMax\n\nClass not found org.eclipse.JUnitCIA.batch.TestTSParsing\nClass not found org.eclipse.JUnitCIA.batch.TestPackageCollector\nUnhandled event loop exception\nReason:\nFailed to execute runnable (java.lang.NullPointerException)\n*** SWT nested exception\nReason:\njava.lang.NullPointerException\norg.eclipse.swt.SWTException: Failed to execute runnable\n(java.lang.NullPointerException)\n\tat org.eclipse.swt.SWT.error(SWT.java:2691)\n\tat org.eclipse.swt.SWT.error(SWT.java:2616)\n\tat org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:161)\n\tat org.eclipse.ui.internal.UISynchronizer.syncExec(UISynchronizer.java:25)\n\tat org.eclipse.swt.widgets.Display.syncExec(Display.java:3096)\n\tat\norg.eclipse.ui.internal.testing.WorkbenchTestable.runTest(WorkbenchTestable.java:83)\n\tat\norg.eclipse.pde.internal.junit.runtime.UITestApplication.runTests(UITestApplication.java:90)\n\tat\norg.eclipse.ui.internal.testing.WorkbenchTestable$1.run(WorkbenchTestable.java:56)\n\tat java.lang.Thread.run(Unknown Source)",
    "Erich, can you please comment.",
    "Hi!\n\nJust found out something new: my plugin had both the runtime and the\nruntime.compatibility plugin as dependency. When I removed the compatibility\nplugin, Elipse found my classes again. So now I can run my tests, all classes\nare found.\n\nMaybe it might be a good idea to add a check (warning) to either include the new\nruntime or the old compatiblity plugin but not both in the plugin.xml editor.\nHowever, I am not sure about this because I also did some other major\nreorganization of my plugin project.\n\nChecked it with the following setup:\n\nCreated new plugin project, added org.junit and the compatiility plugin as\ndependency, added two source folders (src, test), created simple test in \"test\"\n(see below), tried to run -\u003e class not found MyTest.\n\nplugin.xml:\n\n\u003c?xml version\u003d\"1.0\" encoding\u003d\"UTF-8\"?\u003e\n\u003c?eclipse version\u003d\"3.0\"?\u003e\n\u003cplugin\n   id\u003d\"Foo\"\n   name\u003d\"Foo Plug-in\"\n   version\u003d\"1.0.0\"\n   provider-name\u003d\"\"\n   class\u003d\"Foo.FooPlugin\"\u003e\n\n   \u003cruntime\u003e\n      \u003clibrary name\u003d\"Foo.jar\"\u003e\n         \u003cexport name\u003d\"*\"/\u003e\n      \u003c/library\u003e\n   \u003c/runtime\u003e\n\n   \u003crequires\u003e\n      \u003cimport plugin\u003d\"org.eclipse.ui\"/\u003e\n      \u003cimport plugin\u003d\"org.eclipse.core.runtime\"/\u003e\n      \u003cimport plugin\u003d\"org.eclipse.core.runtime.compatibility\"/\u003e\n      \u003cimport plugin\u003d\"org.junit\"/\u003e\n   \u003c/requires\u003e\n\n\u003c/plugin\u003e\n\nMyTest.java:\n\nimport junit.framework.TestCase;\n\npublic class MyTest extends TestCase {\n\tpublic void testSomething() {\n\t\tSystem.out.println(\"foo\");\n\t}\n}\n\nRunning this setup fails (class not found MyTest), after removing compatibility\neverything is ok.\n\nRegards,\n    Max",
    "Actually the NPE happens in PDE JUnit. Moving to PDE to comment on the problem.",
    "Tom,\ndoes the presence of both org.eclipse.core.runtime and \norg.eclipse.core.runtime.compatibility in a plugin.xml cause problems?",
    "Re comment 4: I do not know of any issues with requiring both runtime and \nruntime.compatibility.  Pascal, do you see any issues?",
    "having core.runtime and core.runtime.compatibility at the same time should cause no problems.\n\nThere must have been other factors at play.\n\nresolving as worksforme since no action was done.  Reopen if it happens again."
  ],
  "commentCreationDates": [
    "2004-06-29T16:48:11+02:00",
    "2004-06-30T11:53:51+02:00",
    "2004-06-30T12:11:20+02:00",
    "2005-05-22T22:40:02+02:00",
    "2005-05-22T23:05:33+02:00",
    "2005-05-23T15:11:27+02:00",
    "2006-04-24T04:36:49+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Failed to execute runnable (java.lang.NullPointerException)",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2691"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2616"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.syncExec",
          "source": "Synchronizer.java:161"
        },
        {
          "method": "org.eclipse.ui.internal.UISynchronizer.syncExec",
          "source": "UISynchronizer.java:25"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.syncExec",
          "source": "Display.java:3096"
        },
        {
          "method": "org.eclipse.ui.internal.testing.WorkbenchTestable.runTest",
          "source": "WorkbenchTestable.java:83"
        },
        {
          "method": "org.eclipse.pde.internal.junit.runtime.UITestApplication.runTests",
          "source": "UITestApplication.java:90"
        },
        {
          "method": "org.eclipse.ui.internal.testing.WorkbenchTestable$1.run",
          "source": "WorkbenchTestable.java:56"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Unknown Source"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "68864",
      "date": "2004-06-29T16:48:11+02:00",
      "product": "PDE",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "68864",
  "bugId": "68864",
  "date": "2004-06-29T16:48:11+02:00",
  "product": "PDE",
  "component": "UI",
  "severity": "normal"
}