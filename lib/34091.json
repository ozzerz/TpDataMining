{
  "comments": [
    "RC2\n\nAfter getting this exception source lookup stop working at all. Had to \nshutdown and restart eclipse.\n\njava.lang.NullPointerException\n\tat \norg.eclipse.debug.internal.ui.views.launch.SourceNotFoundEditorInput.\u003cinit\u003e\n(SourceNotFoundEditorInput.java:47)\n\tat org.eclipse.debug.internal.ui.views.launch.LaunchView.sourceNotFound\n(LaunchView.java:617)\n\tat \norg.eclipse.debug.internal.ui.views.launch.LaunchView.lookupEditorInput\n(LaunchView.java:589)\n\tat \norg.eclipse.debug.internal.ui.views.launch.LaunchView.openEditorForStackFrame\n(LaunchView.java:642)\n\tat \norg.eclipse.debug.internal.ui.views.launch.LaunchView.showEditorForCurrentSelec\ntion(LaunchView.java:565)\n\tat \norg.eclipse.debug.internal.ui.views.launch.LaunchView.selectionChanged\n(LaunchView.java:441)\n\tat org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:153)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:867)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:413)\n\tat org.eclipse.jface.viewers.Viewer.fireSelectionChanged\n(Viewer.java:151)\n\tat org.eclipse.jface.viewers.StructuredViewer.updateSelection\n(StructuredViewer.java:1287)\n\tat org.eclipse.jface.viewers.StructuredViewer.setSelection\n(StructuredViewer.java:1017)\n\tat org.eclipse.debug.internal.ui.views.launch.LaunchView.autoExpand\n(LaunchView.java:962)\n\tat \norg.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleSuspe\nndThreadEvent(LaunchViewEventHandler.java:229)\n\tat \norg.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleSuspe\nndEvent(LaunchViewEventHandler.java:175)\n\tat \norg.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleDebug\nEvents(LaunchViewEventHandler.java:96)\n\tat org.eclipse.debug.internal.ui.views.AbstractDebugEventHandler$1.run\n(AbstractDebugEventHandler.java:66)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:31)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages\n(Synchronizer.java:94)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:1754)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1489)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1268)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1251)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:845)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:247)\n\tat org.eclipse.core.launcher.Main.run(Main.java:703)\n\tat org.eclipse.core.launcher.Main.main(Main.java:539)",
    "The only possibility for an NPE here is a null stack frame, but following the \ncode path, the stack frame could not have been null (unless we have a multi-\nthreading issue here and the stack frame somehow became null in a different \nthread).",
    "Dirk, do you know how to reproduce this, or if you had multiple programs being \ndebugged/suspending at the same time?",
    "It looks like a call to \"clearSourceSelection\" could cause trouble - i.e. we \nare about to display \"source not found\" and then a call to clear the source \nselection comes in.",
    "*** Bug 34098 has been marked as a duplicate of this bug. ***",
    "Regarding comment #2: I debugged two Eclipse instances in paralell.",
    "Fixed. The launch view was vulnerable to showing an editor for a stack frame, \nwhile another debug session \"clears the source selection\". Since the \"clear \nsource selection\" could happen at anytime, we cannot rely on \"getStackFrame()\" \nto return the stack frame that we are currently looking up source for. Thus, \nthe current lookup should pass the stack frame around as a parameter, \nand \"getStackFrame()\" should only be used to compare against the previous \nsource lookup (as is doc\u0027d by the setter/getter).\n\nFixed. The stack frame which is being displayed is passed as a parameter to the \napporpiate methods, and \"getStackFrame()\" is now only used to look at the \nprevious stack frame (and null is a valid value).",
    "Please verify, Darin (S).",
    "Verified code."
  ],
  "commentCreationDates": [
    "2003-03-07T15:18:19+01:00",
    "2003-03-07T15:29:52+01:00",
    "2003-03-07T15:30:23+01:00",
    "2003-03-07T15:37:03+01:00",
    "2003-03-07T15:57:50+01:00",
    "2003-03-07T17:39:34+01:00",
    "2003-03-13T17:41:01+01:00",
    "2003-03-13T17:41:22+01:00",
    "2003-03-17T21:46:07+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.SourceNotFoundEditorInput.\u003cinit\u003e",
          "source": "SourceNotFoundEditorInput.java:47"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchView.sourceNotFound",
          "source": "LaunchView.java:617"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchView.lookupEditorInput",
          "source": "LaunchView.java:589"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchView.openEditorForStackFrame",
          "source": "LaunchView.java:642"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchView.showEditorForCurrentSelection",
          "source": "LaunchView.java:565"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchView.selectionChanged",
          "source": "LaunchView.java:441"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer$2.run",
          "source": "Viewer.java:153"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:867"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:413"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer.fireSelectionChanged",
          "source": "Viewer.java:151"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateSelection",
          "source": "StructuredViewer.java:1287"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.setSelection",
          "source": "StructuredViewer.java:1017"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchView.autoExpand",
          "source": "LaunchView.java:962"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleSuspendThreadEvent",
          "source": "LaunchViewEventHandler.java:229"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleSuspendEvent",
          "source": "LaunchViewEventHandler.java:175"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleDebugEvents",
          "source": "LaunchViewEventHandler.java:96"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.AbstractDebugEventHandler$1.run",
          "source": "AbstractDebugEventHandler.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:31"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:94"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:1754"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1489"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1268"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1251"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:247"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:703"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:539"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "34091",
      "date": "2003-03-07T15:18:19+01:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "34091",
  "bugId": "34091",
  "date": "2003-03-07T15:18:19+01:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "normal"
}