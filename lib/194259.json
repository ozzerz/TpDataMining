{
  "comments": [
    "After using the team view and closing and reopening eclipse I get a NPE when it tries to load the Team View.  \n\nSteps to Reproduce:\n1. Expand some profiles and filter pools in the Team View.\n2. Close Eclipse.\n3. Reopen Eclipse.\n\nLog file:\njava.lang.NullPointerException\n\tat java.util.Hashtable.get(Unknown Source)\n\tat org.eclipse.rse.internal.ui.view.team.SystemTeamViewProfileAdapter.getCategoryChildren(SystemTeamViewProfileAdapter.java:232)\n\tat org.eclipse.rse.internal.ui.view.team.SystemTeamViewProfileAdapter.restoreCategory(SystemTeamViewProfileAdapter.java:275)\n\tat org.eclipse.rse.internal.ui.view.team.SystemTeamViewPart.getObjectFromMemento(SystemTeamViewPart.java:1408)\n\tat org.eclipse.rse.internal.ui.view.team.SystemTeamViewPart$RestoreStateRunnable.run(SystemTeamViewPart.java:1307)\n\tat org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:152)\n\tat org.eclipse.ui.internal.UISynchronizer.syncExec(UISynchronizer.java:118)\n\tat org.eclipse.swt.widgets.Display.syncExec(Display.java:4097)\n\tat org.eclipse.rse.internal.ui.view.team.SystemTeamViewPart.restoreState(SystemTeamViewPart.java:1280)\n\tat org.eclipse.rse.internal.ui.view.team.SystemTeamViewPart.createPartControl(SystemTeamViewPart.java:306)\n\tat org.eclipse.ui.internal.ViewReference.createPartHelper(ViewReference.java:370)\n\tat org.eclipse.ui.internal.ViewReference.createPart(ViewReference.java:227)\n\tat org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:592)\n\tat org.eclipse.ui.internal.WorkbenchPage$ActivationList.setActive(WorkbenchPage.java:4062)\n\tat org.eclipse.ui.internal.WorkbenchPage$17.runWithException(WorkbenchPage.java:3127)\n\tat org.eclipse.ui.internal.StartupThreading$StartupRunnable.run(StartupThreading.java:31)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3659)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3296)\n\tat org.eclipse.ui.application.WorkbenchAdvisor.openWindows(WorkbenchAdvisor.java:797)\n\tat org.eclipse.ui.internal.Workbench$25.runWithException(Workbench.java:1342)\n\tat org.eclipse.ui.internal.StartupThreading$StartupRunnable.run(StartupThreading.java:31)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3659)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3296)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2309)\n\tat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219)\n\tat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:504)\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:443)\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1169)\n\n\n-----------Enter bugs above this line-----------\nTM 2.0RC4 Testing\ninstallation : eclipse-SDK-3.3RC4\nRSE install  : RSE 2.0 RC4\njava.runtime : Sun 1.5.0_11-b03\nos.name:     : Windows XP, Service Pack 2\n------------------------------------------------",
    "Created an attachment (id\u003d73329)\nCheck to see if the ISystemProfile is null before attempting to obtain SystemTeamViewCategoryNode\n\nThis will resolve the issue of the NPE that is thrown on the restart.  Although when investigating the issue, it seems that the state of the expanded tree in the Team View is not kept after the application is restarted.  This could be another defect that might want to be opened?\n\nI, Rupen Mardirossian, declare that I developed attached code from\nscratch, without referencing any 3rd party materials except material licensed\nunder the EPL. I am authorized by my employer, IBM Canada Ltd. to make this\ncontribution under the EPL.",
    "Rupen --\n\nThis is a result of changing root for the SystemTeamView. There used to be a RemoteSystemsProject there that the profiles were descended from. The problem is that the memento that is being stored is derived from the current structure of the view (as it should be) but the code reading that memento on restore is assuming the old structure. Thus, it is looking for a \"RemoteSystemsProject\" when there isn\u0027t any and misinterpreting the tokens present in the string. The code should tolerate the memento being delivered now but we should ensure that they are being decoded in the proper format.\n\nAnyway, please investigate to see if we are constructing mementos properly for this view when the workbench closes and that we are restoring from them properly when the view opens.\n\nWe should probably also make sure that the mementos that currently exist don\u0027t cause problems but result in the view being \"folded up\" correctly.",
    "Not too sure if my patch was commited.  Although, the NPE does not seem present anymore.  There is still the persistence issue in which the team view does not have the profiles expanded as they were before the shutting of the app.  When the app is restarted, all the profiles are collapsed.  Should this be opened as a seperate bug?",
    "Apparently it was not committed. SystemTeamViewPart does not contain the patch and on the bug there is also no evidence that it was committed.",
    "This was fixed at the same time bug 187741 was fixed. Closing this as a result. Bug 201778 was opened to track the problem of restoring the state of the team view.",
    "Verified fixed with 2.0.1 RC1."
  ],
  "commentCreationDates": [
    "2007-06-25T19:48:34+02:00",
    "2007-07-09T17:02:28+02:00",
    "2007-07-17T22:44:32+02:00",
    "2007-07-23T22:35:39+02:00",
    "2007-07-24T15:38:51+02:00",
    "2007-08-30T20:53:52+02:00",
    "2007-09-13T20:54:22+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "java.util.Hashtable.get",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.rse.internal.ui.view.team.SystemTeamViewProfileAdapter.getCategoryChildren",
          "source": "SystemTeamViewProfileAdapter.java:232"
        },
        {
          "method": "org.eclipse.rse.internal.ui.view.team.SystemTeamViewProfileAdapter.restoreCategory",
          "source": "SystemTeamViewProfileAdapter.java:275"
        },
        {
          "method": "org.eclipse.rse.internal.ui.view.team.SystemTeamViewPart.getObjectFromMemento",
          "source": "SystemTeamViewPart.java:1408"
        },
        {
          "method": "org.eclipse.rse.internal.ui.view.team.SystemTeamViewPart$RestoreStateRunnable.run",
          "source": "SystemTeamViewPart.java:1307"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.syncExec",
          "source": "Synchronizer.java:152"
        },
        {
          "method": "org.eclipse.ui.internal.UISynchronizer.syncExec",
          "source": "UISynchronizer.java:118"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.syncExec",
          "source": "Display.java:4097"
        },
        {
          "method": "org.eclipse.rse.internal.ui.view.team.SystemTeamViewPart.restoreState",
          "source": "SystemTeamViewPart.java:1280"
        },
        {
          "method": "org.eclipse.rse.internal.ui.view.team.SystemTeamViewPart.createPartControl",
          "source": "SystemTeamViewPart.java:306"
        },
        {
          "method": "org.eclipse.ui.internal.ViewReference.createPartHelper",
          "source": "ViewReference.java:370"
        },
        {
          "method": "org.eclipse.ui.internal.ViewReference.createPart",
          "source": "ViewReference.java:227"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPartReference.getPart",
          "source": "WorkbenchPartReference.java:592"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$ActivationList.setActive",
          "source": "WorkbenchPage.java:4062"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$17.runWithException",
          "source": "WorkbenchPage.java:3127"
        },
        {
          "method": "org.eclipse.ui.internal.StartupThreading$StartupRunnable.run",
          "source": "StartupThreading.java:31"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:123"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3659"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3296"
        },
        {
          "method": "org.eclipse.ui.application.WorkbenchAdvisor.openWindows",
          "source": "WorkbenchAdvisor.java:797"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$25.runWithException",
          "source": "Workbench.java:1342"
        },
        {
          "method": "org.eclipse.ui.internal.StartupThreading$StartupRunnable.run",
          "source": "StartupThreading.java:31"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:123"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3659"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3296"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2309"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2219"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:466"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:461"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:153"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:363"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:176"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:504"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:443"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1169"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "194259",
      "date": "2007-06-25T19:48:34+02:00",
      "product": "Target Management",
      "component": "RSE",
      "severity": "normal"
    }
  ],
  "groupId": "194259",
  "bugId": "194259",
  "date": "2007-06-25T19:48:34+02:00",
  "product": "Target Management",
  "component": "RSE",
  "severity": "normal"
}