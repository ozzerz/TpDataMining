{
  "comments": [
    "NullPointerException occures when closing Eclipse (a ProjectContainer has to be opened):\n\njava.lang.NullPointerException\nat org.eclipse.corona.client.project.builder.ResourceProjectHandler.buildProjectEvent(ResourceProjectHandler.java:107)\nat org.eclipse.corona.client.project.builder.ResourceProjectHandler.processResourceChange(ResourceProjectHandler.java:170)\nat org.eclipse.corona.client.project.builder.ResourceProjectHandler.processResourceChange(ResourceProjectHandler.java:85)\nat org.eclipse.corona.client.project.builder.ResourceChangeListener.processResourceDelta(ResourceChangeListener.java:157)\nat org.eclipse.corona.client.project.builder.ResourceChangeListener.processResourceDelta(ResourceChangeListener.java:169)\nat org.eclipse.corona.client.project.builder.ResourceChangeListener.resourceChanged(ResourceChangeListener.java:80)\nat org.eclipse.core.internal.events.NotificationManager$2.run(NotificationManager.java:280)\nat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\nat org.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.java:274)\nat org.eclipse.core.internal.events.NotificationManager.broadcastChanges(NotificationManager.java:148)\nat org.eclipse.core.internal.resources.Workspace.broadcastPostChange(Workspace.java:256)\nat org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.java:958)\nat org.eclipse.core.internal.resources.SaveManager.save(SaveManager.java:1031)\nat org.eclipse.core.internal.resources.Workspace.save(Workspace.java:1764)\nat org.eclipse.ui.internal.ide.IDEWorkbenchAdvisor$3.run(IDEWorkbenchAdvisor.java:367)\nat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)",
    "Created an attachment (id\u003d49727)\nPlease apply the patch.\n\nFix implemented. \nAdditionally some code clean up was done. Methods build**Event from following classes: \n\n* CommitEventHandler\n* ResourceFileHandler\n* ResourceFolderHandler\n* ResourceProjectHandler\n\nwere moved to base class (CollaborationResourceHandler) as buildEvent method.",
    "Null pointer is not thrown. \n\nHowever problem still exists. Right now the following exception is generated:\n[WARN] [2006.09.14 03:24:52 CEST] [org.eclipse.corona.client.project.builder]: Could not find ProjectContainer for project features\norg.eclipse.corona.core.CoronaException: Failed to retrieve ProjectContextContainer\n\tat org.eclipse.corona.client.project.builder.CollaborationResourceHandler.initProjectEvent(CollaborationResourceHandler.java:225)\n\tat org.eclipse.corona.client.project.builder.CollaborationResourceHandler.buildEvent(CollaborationResourceHandler.java:77)\n\tat org.eclipse.corona.client.project.builder.ResourceProjectHandler.processResourceChange(ResourceProjectHandler.java:144)\n\tat org.eclipse.corona.client.project.builder.ResourceProjectHandler.processResourceChange(ResourceProjectHandler.java:81)\n\tat org.eclipse.corona.client.project.builder.ResourceChangeListener.processResourceDelta(ResourceChangeListener.java:160)\n\tat org.eclipse.corona.client.project.builder.ResourceChangeListener.processResourceDelta(ResourceChangeListener.java:172)\n\tat org.eclipse.corona.client.project.builder.ResourceChangeListener.resourceChanged(ResourceChangeListener.java:82)\n\tat org.eclipse.core.internal.events.NotificationManager$2.run(NotificationManager.java:280)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.java:274)\n\tat org.eclipse.core.internal.events.NotificationManager.broadcastChanges(NotificationManager.java:148)\n\tat org.eclipse.core.internal.resources.Workspace.broadcastPostChange(Workspace.java:256)\n\tat org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.java:958)\n\tat org.eclipse.core.internal.resources.SaveManager.save(SaveManager.java:1031)\n\tat org.eclipse.core.internal.resources.Workspace.save(Workspace.java:1764)\n\tat org.eclipse.ui.internal.ide.IDEWorkbenchAdvisor$3.run(IDEWorkbenchAdvisor.java:367)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)\norg.eclipse.corona.core.CoronaException: Failed to retrieve ProjectContextContainer\n\tat org.eclipse.corona.client.project.builder.CollaborationResourceHandler.initProjectEvent(CollaborationResourceHandler.java:225)\n\tat org.eclipse.corona.client.project.builder.CollaborationResourceHandler.buildEvent(CollaborationResourceHandler.java:77)\n\tat org.eclipse.corona.client.project.builder.ResourceProjectHandler.processResourceChange(ResourceProjectHandler.java:144)\n\tat org.eclipse.corona.client.project.builder.ResourceProjectHandler.processResourceChange(ResourceProjectHandler.java:81)\n\tat org.eclipse.corona.client.project.builder.ResourceChangeListener.processResourceDelta(ResourceChangeListener.java:160)\n\tat org.eclipse.corona.client.project.builder.ResourceChangeListener.processResourceDelta(ResourceChangeListener.java:172)\n\tat org.eclipse.corona.client.project.builder.ResourceChangeListener.resourceChanged(ResourceChangeListener.java:82)\n\tat org.eclipse.core.internal.events.NotificationManager$2.run(NotificationManager.java:280)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.java:274)\n\tat org.eclipse.core.internal.events.NotificationManager.broadcastChanges(NotificationManager.java:148)\n\tat org.eclipse.core.internal.resources.Workspace.broadcastPostChange(Workspace.java:256)\n\tat org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.java:958)\n\tat org.eclipse.core.internal.resources.SaveManager.save(SaveManager.java:1031)\n\tat org.eclipse.core.internal.resources.Workspace.save(Workspace.java:1764)\n\tat org.eclipse.ui.internal.ide.IDEWorkbenchAdvisor$3.run(IDEWorkbenchAdvisor.java:367)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)\n\nI see here two problems:\n- there is a trial of project event building while project container has already been closed - resource change listener should recognize (if it is possible?) that change event is caused by closing eclipse workbench and prevent further event generation\n- however \u0027project container close\u0027 action should generate project event informing that given team member is leaving",
    "As Edyta suggested. I\u0027ve implemented fix in following way:\nIn workbench preShutdown, all opened corona projects are closed, so that proper message can be sent (regarding closed corona project).\nAfter closing them corona\u0027s ResourceChangeListener is removed from workspace listeners.\n\nI\u0027ve noticed that when eclise is closing, all opened projects are synchronized, in my opinion this information should not be sent as corona event. That was the reason, why ResourceChangeListener was removed in preShutdown method.",
    "Closed items from past milestone"
  ],
  "commentCreationDates": [
    "2006-09-08T16:51:25+02:00",
    "2006-09-08T17:04:57+02:00",
    "2006-09-14T15:49:25+02:00",
    "2006-09-27T13:30:19+02:00",
    "2007-04-05T12:26:04+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.corona.client.project.builder.ResourceProjectHandler.buildProjectEvent",
          "source": "ResourceProjectHandler.java:107"
        },
        {
          "method": "org.eclipse.corona.client.project.builder.ResourceProjectHandler.processResourceChange",
          "source": "ResourceProjectHandler.java:170"
        },
        {
          "method": "org.eclipse.corona.client.project.builder.ResourceProjectHandler.processResourceChange",
          "source": "ResourceProjectHandler.java:85"
        },
        {
          "method": "org.eclipse.corona.client.project.builder.ResourceChangeListener.processResourceDelta",
          "source": "ResourceChangeListener.java:157"
        },
        {
          "method": "org.eclipse.corona.client.project.builder.ResourceChangeListener.processResourceDelta",
          "source": "ResourceChangeListener.java:169"
        },
        {
          "method": "org.eclipse.corona.client.project.builder.ResourceChangeListener.resourceChanged",
          "source": "ResourceChangeListener.java:80"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager$2.run",
          "source": "NotificationManager.java:280"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.notify",
          "source": "NotificationManager.java:274"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.broadcastChanges",
          "source": "NotificationManager.java:148"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.broadcastPostChange",
          "source": "Workspace.java:256"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.endOperation",
          "source": "Workspace.java:958"
        },
        {
          "method": "org.eclipse.core.internal.resources.SaveManager.save",
          "source": "SaveManager.java:1031"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.save",
          "source": "Workspace.java:1764"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEWorkbenchAdvisor$3.run",
          "source": "IDEWorkbenchAdvisor.java:367"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:113"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "156711",
      "date": "2006-09-08T16:51:25+02:00",
      "product": "Corona",
      "component": "collaboration",
      "severity": "minor"
    },
    {
      "exceptionType": "org.eclipse.corona.core.CoronaException",
      "message": "Failed to retrieve ProjectContextContainer",
      "elements": [
        {
          "method": "org.eclipse.corona.client.project.builder.CollaborationResourceHandler.initProjectEvent",
          "source": "CollaborationResourceHandler.java:225"
        },
        {
          "method": "org.eclipse.corona.client.project.builder.CollaborationResourceHandler.buildEvent",
          "source": "CollaborationResourceHandler.java:77"
        },
        {
          "method": "org.eclipse.corona.client.project.builder.ResourceProjectHandler.processResourceChange",
          "source": "ResourceProjectHandler.java:144"
        },
        {
          "method": "org.eclipse.corona.client.project.builder.ResourceProjectHandler.processResourceChange",
          "source": "ResourceProjectHandler.java:81"
        },
        {
          "method": "org.eclipse.corona.client.project.builder.ResourceChangeListener.processResourceDelta",
          "source": "ResourceChangeListener.java:160"
        },
        {
          "method": "org.eclipse.corona.client.project.builder.ResourceChangeListener.processResourceDelta",
          "source": "ResourceChangeListener.java:172"
        },
        {
          "method": "org.eclipse.corona.client.project.builder.ResourceChangeListener.resourceChanged",
          "source": "ResourceChangeListener.java:82"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager$2.run",
          "source": "NotificationManager.java:280"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.notify",
          "source": "NotificationManager.java:274"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.broadcastChanges",
          "source": "NotificationManager.java:148"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.broadcastPostChange",
          "source": "Workspace.java:256"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.endOperation",
          "source": "Workspace.java:958"
        },
        {
          "method": "org.eclipse.core.internal.resources.SaveManager.save",
          "source": "SaveManager.java:1031"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.save",
          "source": "Workspace.java:1764"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEWorkbenchAdvisor$3.run",
          "source": "IDEWorkbenchAdvisor.java:367"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:113"
        }
      ],
      "number": 1,
      "commentIndex": 2,
      "bugId": "156711",
      "date": "2006-09-14T15:49:25+02:00",
      "product": "Corona",
      "component": "collaboration",
      "severity": "minor"
    },
    {
      "exceptionType": "org.eclipse.corona.core.CoronaException",
      "message": "Failed to retrieve ProjectContextContainer",
      "elements": [
        {
          "method": "org.eclipse.corona.client.project.builder.CollaborationResourceHandler.initProjectEvent",
          "source": "CollaborationResourceHandler.java:225"
        },
        {
          "method": "org.eclipse.corona.client.project.builder.CollaborationResourceHandler.buildEvent",
          "source": "CollaborationResourceHandler.java:77"
        },
        {
          "method": "org.eclipse.corona.client.project.builder.ResourceProjectHandler.processResourceChange",
          "source": "ResourceProjectHandler.java:144"
        },
        {
          "method": "org.eclipse.corona.client.project.builder.ResourceProjectHandler.processResourceChange",
          "source": "ResourceProjectHandler.java:81"
        },
        {
          "method": "org.eclipse.corona.client.project.builder.ResourceChangeListener.processResourceDelta",
          "source": "ResourceChangeListener.java:160"
        },
        {
          "method": "org.eclipse.corona.client.project.builder.ResourceChangeListener.processResourceDelta",
          "source": "ResourceChangeListener.java:172"
        },
        {
          "method": "org.eclipse.corona.client.project.builder.ResourceChangeListener.resourceChanged",
          "source": "ResourceChangeListener.java:82"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager$2.run",
          "source": "NotificationManager.java:280"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.notify",
          "source": "NotificationManager.java:274"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.broadcastChanges",
          "source": "NotificationManager.java:148"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.broadcastPostChange",
          "source": "Workspace.java:256"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.endOperation",
          "source": "Workspace.java:958"
        },
        {
          "method": "org.eclipse.core.internal.resources.SaveManager.save",
          "source": "SaveManager.java:1031"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.save",
          "source": "Workspace.java:1764"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEWorkbenchAdvisor$3.run",
          "source": "IDEWorkbenchAdvisor.java:367"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:113"
        }
      ],
      "number": 2,
      "commentIndex": 2,
      "bugId": "156711",
      "date": "2006-09-14T15:49:25+02:00",
      "product": "Corona",
      "component": "collaboration",
      "severity": "minor"
    }
  ],
  "groupId": "156711",
  "bugId": "156711",
  "date": "2006-09-08T16:51:25+02:00",
  "product": "Corona",
  "component": "collaboration",
  "severity": "minor"
}