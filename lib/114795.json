{
  "comments": [
    "Installed wtp-sdk-I20051028.\nStarted eclipse with -clean.\nThen immedialty issued a: clean+build all\nThen within a few seconds the workspace locks on a Invoking Validation task.\n\nProgress -\u003e Task Info: Invoking Validation on /myproject\n\n\nSIGQUIT to Eclipse JVM and inspection of the log output:\n\norg.eclipse.core.internal.resources.ResourceException: The resource tree is\nlocked for modifications.\n        at\norg.eclipse.core.internal.resources.WorkManager.checkIn(WorkManager.java:94)\n        at\norg.eclipse.core.internal.resources.Workspace.prepareOperation(Workspace.java:1674)\n        at org.eclipse.core.internal.resources.Resource.move(Resource.java:1189)\n...SNIP...\n\n\nFull thread dump Java HotSpot(TM) Client VM (1.5.0_05-b05 mixed mode, sharing):\n\n\"Worker-7\" daemon prio\u003d1 tid\u003d0x083147a0 nid\u003d0x3505 runnable [0xaca29000..0xaca2aec0]\n        at\norg.eclipse.core.internal.localstore.CoreFileSystemLibrary.internalGetStat(Native\nMethod)\n        at\norg.eclipse.core.internal.localstore.CoreFileSystemLibrary.getStat(CoreFileSystemLibrary.java:116)\n        at\norg.eclipse.core.internal.localstore.FileSystemResourceManager.fastIsSynchronized(FileSystemResourceManager.java:497)\n        at\norg.eclipse.core.internal.localstore.FileSystemResourceManager.isSynchronized(FileSystemResourceManager.java:385)\n        at\norg.eclipse.core.internal.resources.Resource.isSynchronized(Resource.java:1129)\n        at\norg.eclipse.jem.util.emf.workbench.WorkbenchURIConverterImpl.createPlatformResourceInputStream(WorkbenchURIConverterImpl.java:49\n7)\n        at\norg.eclipse.emf.ecore.resource.impl.URIConverterImpl.createInputStream(URIConverterImpl.java:442)\n        at\norg.eclipse.emf.ecore.resource.impl.ResourceImpl.load(ResourceImpl.java:829)\n        at\norg.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.load(TranslatorResourceImpl.java:382)\n        - locked \u003c0x7f46e0f8\u003e (a\norg.eclipse.wst.common.componentcore.internal.impl.WTPModulesResource)\n        at\norg.eclipse.wst.common.componentcore.internal.ModuleStructuralModel.getAndLoadLocalResource(ModuleStructuralModel.java:157)\n        - locked \u003c0x7f46e0f8\u003e (a\norg.eclipse.wst.common.componentcore.internal.impl.WTPModulesResource)\n        at\norg.eclipse.wst.common.internal.emfworkbench.integration.EditModel.getResource(EditModel.java:681)\n        at \n...SNIP...\n        at\norg.eclipse.wst.validation.internal.ValidatorMetaData.checkIfValidSourceFile(ValidatorMetaData.java:333)\n        at\norg.eclipse.wst.validation.internal.ValidatorMetaData.isApplicableTo(ValidatorMetaData.java:319)\n        at\norg.eclipse.wst.validation.internal.ValidatorMetaData.isApplicableTo(ValidatorMetaData.java:309)\n        at\norg.eclipse.wst.validation.internal.FilterUtil.filterOut(FilterUtil.java:397)\n        at\norg.eclipse.wst.validation.internal.FilterUtil.filterOut(FilterUtil.java:431)\n        at\norg.eclipse.wst.validation.internal.FilterUtil$1.visit(FilterUtil.java:638)\n...SNIP...\n\n\nI\u0027m guessing at org.eclipse.wst.validation seems present with\norg.eclipse.wst.validation.validationbuilder configured as a Builder into most\nof my .project files.\n\nWill attach full STDOUT/STDERR and JVM thread dump in a monent.",
    "Created an attachment (id\u003d29183)\nSIGQUIT JVM Thread Dump and STDERR/STDOUT output from Eclipse\n",
    "I had upgraded from a 0.7.1 workspace and this problem occured right away on bootup.\n\nJust noticed the NPE on the end of the attachment, this occured sometime after\nworkspace locking and maybe a different problem to the workspace locking.  Maybe\na related problem but the timespan is a number of minutes (20 mins) after the lock.\n\nI still have the same eclipse session runing, it appears to have woken up (45\nmins from bootup with 42m36s of CPU time eaten) there is more output in the\nSTDERR/STDOUT log, which I can re-attach if it would be useful too, this is,\nmultiple NPEs (like the one at the end of the already attached dump) and a:\n\njava.lang.RuntimeException: Write reference count error: \norg.eclipse.wst.common.componentcore.internal.impl.WTPModulesResourceplatform:/resource/MyProject/.settings/.component\n        at\norg.eclipse.wst.common.internal.emf.resource.ReferencedXMIResourceImpl.releaseFromWrite(ReferencedXMIResourceImpl.java:197)\n        at\norg.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.releaseFromWrite(TranslatorResourceImpl.java:348)\n\n\nIf I can do more, please let me know.\n",
    "My eclipse session is still running, if I leave the validation to run around 10\nminutes a project (when it wants to run) it the workspace does return again.  I\nhave disabled all validation in workspace/global preferences, but this does not\nappear to affect the problem.\n\n\nMaybe related $HOME/workspace/.metadata/log file:\n\n!ENTRY org.eclipse.core.resources 4 566 2005-11-02 17:43:23.254\n!MESSAGE An error occurred while traversing resources.\n!STACK 0\njava.lang.ArrayStoreException\n        at java.lang.System.arraycopy(Native Method)\n        at java.util.ArrayList.toArray(ArrayList.java:305)\n        at\norg.eclipse.jst.common.componentcore.util.ProjectValidationHelper.getSourceContainers(ProjectValidationHelper.java:49)\n        at\norg.eclipse.wst.validation.internal.ValidatorMetaData.checkIfValidSourceFile(ValidatorMetaData.java:333)\n        at\norg.eclipse.wst.validation.internal.ValidatorMetaData.isApplicableTo(ValidatorMetaData.java:319)\n        at\norg.eclipse.wst.validation.internal.ValidatorMetaData.isApplicableTo(ValidatorMetaData.java:309)\n        at\norg.eclipse.wst.validation.internal.FilterUtil.filterOut(FilterUtil.java:397)\n        at\norg.eclipse.wst.validation.internal.FilterUtil.filterOut(FilterUtil.java:431)\n        at\norg.eclipse.wst.validation.internal.FilterUtil$1.visit(FilterUtil.java:638)\n        at org.eclipse.core.internal.resources.Resource$2.visit(Resource.java:103)\n        at\norg.eclipse.core.internal.resources.Resource$1.visitElement(Resource.java:50)\n        at\norg.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java:81)\n        at\norg.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java:85)\n        at\norg.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java:85)\n        at\norg.eclipse.core.internal.watson.ElementTreeIterator.iterate(ElementTreeIterator.java:126)\n\n",
    "Despite my previous claim, I have disabled validation globally and the problem\ndoes not occur now.  Once that initial full clean+build completed (~90 mins,\nwhen it usualy takes 2 mins), the diable validation option seemed to take effect.\n",
    "Looks like its getting locked on the migrating of .wtpmodules to\n.settings/.components.",
    "FYI - This error below, which I don\u0027t think is the problem, is fixed in nov 4th\nWTP m9 integration driver...\n\nENTRY org.eclipse.core.resources 4 566 2005-11-02 17:43:23.254\n!MESSAGE An error occurred while traversing resources.\n!STACK 0\njava.lang.ArrayStoreException\n        at java.lang.System.arraycopy(Native Method)\n        at java.util.ArrayList.toArray(ArrayList.java:305)\n        at\norg.eclipse.jst.common.componentcore.util.ProjectValidationHelper.getSourceContainers(ProjectValidationHelper.java:49)\n        at",
    "Duplicate of 114594\n\n*** This bug has been marked as a duplicate of 114594 ***",
    "Issue tracked and already closed thorugh 114594.",
    "Closing as verified."
  ],
  "commentCreationDates": [
    "2005-11-02T17:08:18+01:00",
    "2005-11-02T17:10:26+01:00",
    "2005-11-02T17:17:39+01:00",
    "2005-11-02T18:23:10+01:00",
    "2005-11-03T08:30:09+01:00",
    "2005-11-03T14:08:57+01:00",
    "2005-11-03T14:10:39+01:00",
    "2005-11-08T19:56:24+01:00",
    "2006-09-26T19:13:39+02:00",
    "2006-09-26T20:50:36+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.internal.resources.ResourceException",
      "message": "The resource tree is locked for modifications.",
      "elements": [
        {
          "method": "org.eclipse.core.internal.resources.WorkManager.checkIn",
          "source": "WorkManager.java:94"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.prepareOperation",
          "source": "Workspace.java:1674"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource.move",
          "source": "Resource.java:1189"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "114795",
      "duplicateId": "114594",
      "date": "2005-11-02T17:08:18+01:00",
      "product": "Web Tools",
      "component": "wst.common",
      "severity": "critical"
    },
    {
      "exceptionType": "java.lang.RuntimeException",
      "message": "Write reference count error:  org.eclipse.wst.common.componentcore.internal.impl.WTPModulesResourceplatform:/resource/MyProject/.settings/.component",
      "elements": [
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.ReferencedXMIResourceImpl.releaseFromWrite",
          "source": "ReferencedXMIResourceImpl.java:197"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.TranslatorResourceImpl.releaseFromWrite",
          "source": "TranslatorResourceImpl.java:348"
        }
      ],
      "number": 1,
      "commentIndex": 2,
      "bugId": "114795",
      "duplicateId": "114594",
      "date": "2005-11-02T17:17:39+01:00",
      "product": "Web Tools",
      "component": "wst.common",
      "severity": "critical"
    },
    {
      "exceptionType": "java.lang.ArrayStoreException",
      "elements": [
        {
          "method": "java.lang.System.arraycopy",
          "source": "Native Method"
        },
        {
          "method": "java.util.ArrayList.toArray",
          "source": "ArrayList.java:305"
        },
        {
          "method": "org.eclipse.jst.common.componentcore.util.ProjectValidationHelper.getSourceContainers",
          "source": "ProjectValidationHelper.java:49"
        },
        {
          "method": "org.eclipse.wst.validation.internal.ValidatorMetaData.checkIfValidSourceFile",
          "source": "ValidatorMetaData.java:333"
        },
        {
          "method": "org.eclipse.wst.validation.internal.ValidatorMetaData.isApplicableTo",
          "source": "ValidatorMetaData.java:319"
        },
        {
          "method": "org.eclipse.wst.validation.internal.ValidatorMetaData.isApplicableTo",
          "source": "ValidatorMetaData.java:309"
        },
        {
          "method": "org.eclipse.wst.validation.internal.FilterUtil.filterOut",
          "source": "FilterUtil.java:397"
        },
        {
          "method": "org.eclipse.wst.validation.internal.FilterUtil.filterOut",
          "source": "FilterUtil.java:431"
        },
        {
          "method": "org.eclipse.wst.validation.internal.FilterUtil$1.visit",
          "source": "FilterUtil.java:638"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource$2.visit",
          "source": "Resource.java:103"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource$1.visitElement",
          "source": "Resource.java:50"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.doIteration",
          "source": "ElementTreeIterator.java:81"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.doIteration",
          "source": "ElementTreeIterator.java:85"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.doIteration",
          "source": "ElementTreeIterator.java:85"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.iterate",
          "source": "ElementTreeIterator.java:126"
        }
      ],
      "number": 2,
      "commentIndex": 3,
      "bugId": "114795",
      "duplicateId": "114594",
      "date": "2005-11-02T18:23:10+01:00",
      "product": "Web Tools",
      "component": "wst.common",
      "severity": "critical"
    },
    {
      "exceptionType": "java.lang.ArrayStoreException",
      "elements": [
        {
          "method": "java.lang.System.arraycopy",
          "source": "Native Method"
        },
        {
          "method": "java.util.ArrayList.toArray",
          "source": "ArrayList.java:305"
        },
        {
          "method": "org.eclipse.jst.common.componentcore.util.ProjectValidationHelper.getSourceContainers",
          "source": "ProjectValidationHelper.java:49"
        }
      ],
      "number": 3,
      "commentIndex": 6,
      "bugId": "114795",
      "duplicateId": "114594",
      "date": "2005-11-03T14:10:39+01:00",
      "product": "Web Tools",
      "component": "wst.common",
      "severity": "critical"
    }
  ],
  "groupId": "114594",
  "bugId": "114795",
  "duplicateId": "114594",
  "date": "2005-11-02T17:08:18+01:00",
  "product": "Web Tools",
  "component": "wst.common",
  "severity": "critical"
}