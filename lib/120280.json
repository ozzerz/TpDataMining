{
  "comments": [
    "After migrating a workspace with a bunch of web projects from wtp r7 (and only 2 out of 9 have been successfully migrated) I am unable to publish to any of the existing tomcat 5.5 server.\n\nSelecting \"publish\" from the server view results in a \"Could not publish to the server\" error box, and in the following log entry. I couldn\u0027t find the root cause for this error, but maybe a simple check/fix for the ArrayIndexOutOfBoundsException could be dropped to wtp 1.0?\n\n\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d log \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n\n!ENTRY org.eclipse.wst.server.core 4 0 2005-12-11 22:54:49.152\n!MESSAGE Could not publish to the server.\n!STACK 0\njava.lang.ArrayIndexOutOfBoundsException\n\tat java.lang.System.arraycopy(Native Method)\n\tat org.eclipse.jst.j2ee.internal.deployables.J2EEFlexProjDeployable.handleJavaPath(J2EEFlexProjDeployable.java:174)\n\tat org.eclipse.wst.web.internal.deployables.ComponentDeployable.getMembers(ComponentDeployable.java:126)\n\tat org.eclipse.jst.j2ee.internal.deployables.J2EEFlexProjDeployable.members(J2EEFlexProjDeployable.java:131)\n\tat org.eclipse.wst.server.core.internal.ServerPublishInfo.getDelta(ServerPublishInfo.java:245)\n\tat org.eclipse.wst.server.core.internal.Server.getPublishedResourceDelta(Server.java:916)\n\tat org.eclipse.wst.server.core.model.ServerBehaviourDelegate.getPublishedResourceDelta(ServerBehaviourDelegate.java:477)\n\tat org.eclipse.jst.server.tomcat.core.internal.TomcatServerBehaviour.getPublishedResourceDelta(TomcatServerBehaviour.java:733)\n\tat org.eclipse.jst.server.tomcat.core.internal.PublishOperation2.publishDir(PublishOperation2.java:75)\n\tat org.eclipse.jst.server.tomcat.core.internal.PublishOperation2.execute(PublishOperation2.java:50)\n\tat org.eclipse.wst.server.core.model.ServerBehaviourDelegate.performTasks(ServerBehaviourDelegate.java:787)\n\tat org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish(ServerBehaviourDelegate.java:576)\n\tat org.eclipse.wst.server.core.internal.Server.doPublish(Server.java:765)\n\tat org.eclipse.wst.server.core.internal.Server.publish(Server.java:754)\n\tat org.eclipse.wst.server.core.internal.PublishServerJob.run(PublishServerJob.java:145)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)",
    "Created an attachment (id\u003d31541)\nPossible patch \n\nI\u0027ve attached a possible patch here. It looks like a simple one character typo during array copying.\nThis is a minor bug, but I think we should rebuild for it. Looking at the code, I think it\u0027s going to hit this bug or publish the wrong contents to the server whenever there are two or more Java source/output folders.",
    "Tim, which is is? Source or Output folders? :) \n\nCan you more precisely estimate how many/who would see this? \n\nIs there a work around? \n\n",
    "It is the output folders, but many people use multiple outputs whenever they have multiple source folders. I\u0027m also not entirely sure what the J2EE API will return there are multiple source folders pointing to the same output folder - if getJavaOutputFolders() returns multiple (identical) folders then that case would be hit as well.\n\nI can\u0027t see any possible workarounds, so it comes down to a question of how many people use the flexible project structure. One of the main purposes of it was to have multiple source folders, so it could hit a decent percentage of these users.",
    "Added to Hot List at the request of Tim deBoer and setting priority to P2. Is this patch good? Has anyone tested it on RC3? We need to review this with the PMC if you want it in 1.0.",
    "I\u0027m currently testing this on RC3.....  looks good so far...   I sent a note to wtp-dev voting for this patch....",
    "*** Bug 118922 has been marked as a duplicate of this bug. ***",
    "Chuck reviewed this with PMC. PMC approved RC4.",
    "Dropped to RC4 build",
    "This bug is being moved to the \"closed\" state since it has been in the fixed state for a so long it is being assumed fixed, without explicit verification from the originator. If there is still a problem, in the most recent 1.5.x builds, please reopen or open another bug."
  ],
  "commentCreationDates": [
    "2005-12-11T22:03:54+01:00",
    "2005-12-12T02:20:35+01:00",
    "2005-12-12T06:31:07+01:00",
    "2005-12-12T14:04:53+01:00",
    "2005-12-12T14:14:31+01:00",
    "2005-12-12T15:29:27+01:00",
    "2005-12-12T20:02:50+01:00",
    "2005-12-12T20:29:53+01:00",
    "2005-12-12T21:52:10+01:00",
    "2006-09-23T03:07:49+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "elements": [
        {
          "method": "java.lang.System.arraycopy",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.deployables.J2EEFlexProjDeployable.handleJavaPath",
          "source": "J2EEFlexProjDeployable.java:174"
        },
        {
          "method": "org.eclipse.wst.web.internal.deployables.ComponentDeployable.getMembers",
          "source": "ComponentDeployable.java:126"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.deployables.J2EEFlexProjDeployable.members",
          "source": "J2EEFlexProjDeployable.java:131"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.ServerPublishInfo.getDelta",
          "source": "ServerPublishInfo.java:245"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.Server.getPublishedResourceDelta",
          "source": "Server.java:916"
        },
        {
          "method": "org.eclipse.wst.server.core.model.ServerBehaviourDelegate.getPublishedResourceDelta",
          "source": "ServerBehaviourDelegate.java:477"
        },
        {
          "method": "org.eclipse.jst.server.tomcat.core.internal.TomcatServerBehaviour.getPublishedResourceDelta",
          "source": "TomcatServerBehaviour.java:733"
        },
        {
          "method": "org.eclipse.jst.server.tomcat.core.internal.PublishOperation2.publishDir",
          "source": "PublishOperation2.java:75"
        },
        {
          "method": "org.eclipse.jst.server.tomcat.core.internal.PublishOperation2.execute",
          "source": "PublishOperation2.java:50"
        },
        {
          "method": "org.eclipse.wst.server.core.model.ServerBehaviourDelegate.performTasks",
          "source": "ServerBehaviourDelegate.java:787"
        },
        {
          "method": "org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish",
          "source": "ServerBehaviourDelegate.java:576"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.Server.doPublish",
          "source": "Server.java:765"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.Server.publish",
          "source": "Server.java:754"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.PublishServerJob.run",
          "source": "PublishServerJob.java:145"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:76"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "120280",
      "date": "2005-12-11T22:03:54+01:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "critical"
    }
  ],
  "groupId": "120280",
  "bugId": "120280",
  "date": "2005-12-11T22:03:54+01:00",
  "product": "Web Tools",
  "component": "jst.j2ee",
  "severity": "critical"
}