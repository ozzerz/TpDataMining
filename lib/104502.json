{
  "comments": [
    "I am unable to use the Visual Editor on Eclipse 3.1 under Windows XP and Sun\u0027s\nJava 1.5.\n\nI can reproduce this every time using either an existing project or a new one:\n\nWhen creating a new Visual Class from File-\u003eNew-\u003eOther the Visual Editor\neventually shows and I have:\n\nThe Palette with only three tools: Selection, Marquee and Choose Bean.\nThe content area is empty and,,\nThe code area contains a bare class with a constructor and the initialize method.\n\nI have the following installed (from scratch, no old plugins around)\n\nVE-runtime-I20050720.zip (latest)\nGEF-runtime-3.1.zip\nemf-sdo-runtime-2.1.0.zip\neclipse-SDK-3.1-win32.zip\nand Sun\u0027s 1.5.0_01 SDK\n\nThe Eclipse log contains (and no, I can\u0027t explain the 1.5.0_02 vs. 1.5.0_01 jvm\ndiscrepancy either...):\n\n!SESSION 2005-07-20 15:00:52.629 -----------------------------------------------\neclipse.buildId\u003dI20050627-1435\njava.version\u003d1.5.0_02\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_GB\nFramework arguments:  --clean vm \\java\\jdk1.5.0_01\\jre\\bin\\javaw.exe\nCommand-line arguments:  -os win32 -ws win32 -arch x86 --clean vm\n\\java\\jdk1.5.0_01\\jre\\bin\\javaw.exe\n\n!ENTRY org.eclipse.ve.java.core 4 0 2005-07-20 15:02:07.879\n!MESSAGE Exception thrown.\n!STACK 0\njava.lang.NullPointerException\n  at\norg.eclipse.ve.internal.java.codegen.java.rules.DefaultVisitorFactoryRule.retrieveFromCache(DefaultVisitorFactoryRule.java:83)\n  at\norg.eclipse.ve.internal.java.codegen.java.rules.DefaultVisitorFactoryRule.getTypeVisitor(DefaultVisitorFactoryRule.java:109)\n  at\norg.eclipse.ve.internal.java.codegen.java.JavaBeanModelBuilder.visitType(JavaBeanModelBuilder.java:508)\n  at\norg.eclipse.ve.internal.java.codegen.java.JavaBeanModelBuilder.build(JavaBeanModelBuilder.java:417)\n  at\norg.eclipse.ve.internal.java.codegen.core.JavaSourceTranslator.reverseParse(JavaSourceTranslator.java:831)\n  at\norg.eclipse.ve.internal.java.codegen.core.JavaSourceTranslator.decodeDocument(JavaSourceTranslator.java:911)\n  at\norg.eclipse.ve.internal.java.codegen.core.JavaSourceTranslator.loadModel(JavaSourceTranslator.java:577)\n  at\norg.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart$Setup.run(JavaVisualEditorPart.java:1856)\n  at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)\n\n!ENTRY org.eclipse.ui 4 4 2005-07-20 15:02:10.926\n!MESSAGE Unhandled event loop exception\n\n!ENTRY org.eclipse.ui 4 0 2005-07-20 15:02:10.926\n!MESSAGE Failed to execute runnable (java.lang.IndexOutOfBoundsException: Index:\n1, Size: 1)\n!STACK 0\norg.eclipse.swt.SWTException: Failed to execute runnable\n(java.lang.IndexOutOfBoundsException: Index: 1, Size: 1)\n  at org.eclipse.swt.SWT.error(SWT.java:2942)\n  at org.eclipse.swt.SWT.error(SWT.java:2865)\n  at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:126)\n  at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3057)\n  at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2716)\n  at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)\n  at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)\n  at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)\n  at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n  at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\n  at\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n  at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\n  at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n  at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n  at java.lang.reflect.Method.invoke(Unknown Source)\n  at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n  at org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n  at org.eclipse.core.launcher.Main.run(Main.java:973)\n  at org.eclipse.core.launcher.Main.main(Main.java:948)\nCaused by: java.lang.IndexOutOfBoundsException: Index: 1, Size: 1\n  at java.util.ArrayList.RangeCheck(Unknown Source)\n  at java.util.ArrayList.get(Unknown Source)\n  at\norg.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart$32.activeToolChanged(JavaVisualEditorPart.java:799)\n  at\norg.eclipse.gef.ui.palette.PaletteViewer.fireModeChanged(PaletteViewer.java:175)\n  at org.eclipse.gef.ui.palette.PaletteViewer.setActiveTool(PaletteViewer.java:383)\n  at org.eclipse.gef.EditDomain.loadDefaultTool(EditDomain.java:188)\n  at org.eclipse.gef.EditDomain.setPaletteRoot(EditDomain.java:339)\n  at\norg.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart.rebuildPalette(JavaVisualEditorPart.java:839)\n  at\norg.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart$14.run(JavaVisualEditorPart.java:1962)\n  at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n  at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n... 18 more",
    "Following Rich\u0027s advice on the newsgroups (regarding old workspaces) this bug\nseems to have two causes:\n\nCause 1: Old workspace\n~~~~~~~~~~~~~~~~~~~~~~\n\nI created a fresh workspace and imported my existing projects. VE worked only on\ncertain projects and not others - so my problem was at least partly due to the\nold cache you referred to.\n\nCause 2: Vendor-specific JRE container\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nThe only difference between the ones that worked and the ones that didn\u0027t was\nthat some of our project don\u0027t use the default JRE container (this is replaced\nby a vendor specific one) and I believe VE sources its core classes from that.\n\nLooks like I may have to go through some project gymnastics to use VE with these\nprojects :(\n\nLowering severity to major, as it\u0027s no longer a total loss of functionality\n",
    "As mentioned in the newsgroup, it must be a JREContainer. Without it being a\nJREContainer we can\u0027t even launch the vm correctly because we would use the\ndefault java, not the one the special container points too. About the best I can\ndo is launch with the default vm instead of barfing. But that means anything\nspecial about the vendor jre will be ignored. This is actually what JDT does\ntoo, they may compile against the vendor\u0027s classes, but if you did a launch java\napplication it will launch the default vm instead of the vendor\u0027s vm.\n\nCould you please send us some info on this vendor container? Is it really not a\nJREContainer, or is it a JREContainer that points to a non-standard java? Is it\nbecause the jre the vendor is pointing to needs to be launched in a non-standard\nway?",
    "It may be that a project is not configured with a full blown JRE, but rather\nwith a JRE stub.\n\nThis is a problem for VE, as it needs a JRE based VM to instantiate the visuals,\nand render them.\n\nThere is really not much that VE can do, if an invalid JRE is defined.  We can\ntry and come up with the default (IDE) JRE.  It will not solve cases where the\ndefault JRE conflics with the various stubs/jars that are in the project."
  ],
  "commentCreationDates": [
    "2005-07-20T17:00:37+02:00",
    "2005-07-20T17:51:36+02:00",
    "2005-07-20T20:03:50+02:00",
    "2005-07-21T14:12:55+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ve.internal.java.codegen.java.rules.DefaultVisitorFactoryRule.retrieveFromCache",
          "source": "DefaultVisitorFactoryRule.java:83"
        },
        {
          "method": "org.eclipse.ve.internal.java.codegen.java.rules.DefaultVisitorFactoryRule.getTypeVisitor",
          "source": "DefaultVisitorFactoryRule.java:109"
        },
        {
          "method": "org.eclipse.ve.internal.java.codegen.java.JavaBeanModelBuilder.visitType",
          "source": "JavaBeanModelBuilder.java:508"
        },
        {
          "method": "org.eclipse.ve.internal.java.codegen.java.JavaBeanModelBuilder.build",
          "source": "JavaBeanModelBuilder.java:417"
        },
        {
          "method": "org.eclipse.ve.internal.java.codegen.core.JavaSourceTranslator.reverseParse",
          "source": "JavaSourceTranslator.java:831"
        },
        {
          "method": "org.eclipse.ve.internal.java.codegen.core.JavaSourceTranslator.decodeDocument",
          "source": "JavaSourceTranslator.java:911"
        },
        {
          "method": "org.eclipse.ve.internal.java.codegen.core.JavaSourceTranslator.loadModel",
          "source": "JavaSourceTranslator.java:577"
        },
        {
          "method": "org.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart$Setup.run",
          "source": "JavaVisualEditorPart.java:1856"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:76"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "104502",
      "date": "2005-07-20T17:00:37+02:00",
      "product": "VE",
      "component": "Java Core",
      "severity": "enhancement"
    },
    {
      "exceptionType": "java.lang.IndexOutOfBoundsException",
      "message": "Index: 1, Size: 1)",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2942"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2865"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:126"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3057"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2716"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1699"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1663"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:367"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.IndexOutOfBoundsException",
        "message": "Index: 1, Size: 1",
        "elements": [
          {
            "method": "java.util.ArrayList.RangeCheck",
            "source": "Unknown Source"
          },
          {
            "method": "java.util.ArrayList.get",
            "source": "Unknown Source"
          },
          {
            "method": "org.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart$32.activeToolChanged",
            "source": "JavaVisualEditorPart.java:799"
          },
          {
            "method": "org.eclipse.gef.ui.palette.PaletteViewer.fireModeChanged",
            "source": "PaletteViewer.java:175"
          },
          {
            "method": "org.eclipse.gef.ui.palette.PaletteViewer.setActiveTool",
            "source": "PaletteViewer.java:383"
          },
          {
            "method": "org.eclipse.gef.EditDomain.loadDefaultTool",
            "source": "EditDomain.java:188"
          },
          {
            "method": "org.eclipse.gef.EditDomain.setPaletteRoot",
            "source": "EditDomain.java:339"
          },
          {
            "method": "org.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart.rebuildPalette",
            "source": "JavaVisualEditorPart.java:839"
          },
          {
            "method": "org.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart$14.run",
            "source": "JavaVisualEditorPart.java:1962"
          },
          {
            "method": "org.eclipse.swt.widgets.RunnableLock.run",
            "source": "RunnableLock.java:35"
          },
          {
            "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
            "source": "Synchronizer.java:123"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 1,
      "commentIndex": 0,
      "bugId": "104502",
      "date": "2005-07-20T17:00:37+02:00",
      "product": "VE",
      "component": "Java Core",
      "severity": "enhancement"
    }
  ],
  "groupId": "104502",
  "bugId": "104502",
  "date": "2005-07-20T17:00:37+02:00",
  "product": "VE",
  "component": "Java Core",
  "severity": "enhancement"
}