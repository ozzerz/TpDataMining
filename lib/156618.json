{
  "comments": [
    "Steps I took.\n\n1. unzip archive agntctrl.linux_ia32-TPTP-4.2.0.2.zip\n2. from bin directory ran ./SetConfig.sh - accepted defaults\n3. edited agents/org.eclipse.tptp.TimeColector/agent.xml as described in the\nreadme.txt\n3. edited agents/org.eclipse.tptp.JavaTimeCollector/agent.xml\n set the executable to point to my installation of java\n set the classpath parameter to point to my installation of tptpcore.jar\n (org.eclipse.tptp.platform.execution_4.2.0.v200606140100/tptpcore.jar)\n see below. Note the first Parameter uses the position\u003d\"replace\" option. This was needed otherwise the java execution failed with \n\"Exception in thread \"main\" java.lang.NoClassDefFoundError:\"\nThis is another bug - however using position\u003d\"replace\" was is a workaround.\n\n4. started the server with ./ACServer\n5. Ran ./SampleClient to check it worked - it did.\n6. From within the eclipse SDK, ran\norg.eclipse.tptp.platform.execution.samples.SampleClientAC.java. to check that\nit worked. This is a java client talking to a c++ agent. It worked.\n7. Modified SampleClientAC.java to talk to JavaTimeCollector instead of\nTimeCollector\n8. Ran SampleClientAC and the ./ACServer reports an exception. see below\n\nMy investigations into the exeception have found...\n1. freeEnvironmentStrings is declared in libprocessControlUtil.so.4.2.0\n2. libtptpConfig.so.4.2.0 has an undefined reference to it\n3. libtptpConfig or libjavaBaseAgent should be linked against libprocessControlUtil to resolve this.\n\n\n\u003d\u003d\u003d\u003d ACServer output \u003d\u003d\u003d\u003d\u003d\u003d\n./ACServer\njava.lang.UnsatisfiedLinkError: /space/geoff/downloads/eclipse/3.2/agntctrl/lib/libjavaBaseAgent.so.4.2.0: /space/geoff/downloads/eclipse/3.2/agntctrl/lib/libtptpConfig.so.4: undefined symbol: freeEnvironmentStrings\n        at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n        at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1586)\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1511)\n        at java.lang.Runtime.loadLibrary0(Runtime.java:788)\n        at java.lang.System.loadLibrary(System.java:834)\n        at org.eclipse.tptp.platform.execution.datacollection.BaseAgent.\u003cclinit\u003e(BaseAgent.java:98)\norg.eclipse.tptp.platform.execution.exceptions.NativeLibraryNotFound: Error: The native library not found.\n        at org.eclipse.tptp.platform.execution.datacollection.BaseAgent.init(BaseAgent.java:161)\n        at org.eclipse.tptp.platform.execution.samples.TPTPJavaAgent.\u003cinit\u003e(TPTPJavaAgent.java:54)\n        at org.eclipse.tptp.platform.execution.samples.TPTPJavaAgent.main(TPTPJavaAgent.java:63)\nException in thread \"main\" java.lang.UnsatisfiedLinkError: register0\n        at org.eclipse.tptp.platform.execution.datacollection.BaseAgent.register0(Native Method)\n        at org.eclipse.tptp.platform.execution.datacollection.BaseAgent.register(BaseAgent.java:202)\n        at org.eclipse.tptp.platform.execution.samples.TPTPJavaAgent.main(TPTPJavaAgent.java:68)\n\n\u003d\u003d\u003d modified agent.xml \u003d\u003d\u003d\n\u003c?xml version\u003d\"1.0\" encoding\u003d\"UTF-8\" ?\u003e \n\u003c!-- The Java Time Collector will work with the following ServiceConfig \n     settings. (Bugzilla# 115006)\n     a) The TransportLayer namedPipeTL element that contains the \n     \tnamed pipe name in the PipeName element must be set to \"ramaster\".\n     b) The TransportLayer sharedMemTL element that contains the shared mem buffer \n     name in the element MemName must be set to \"rabuffer\" --\u003e\n\u003cAgent Name\u003d\"org.eclipse.tptp.JavaTimeCollector\"\u003e\n\t\u003cInterface\u003eorg.eclipse.tptp.agent\u003c/Interface\u003e\n\t\u003cInterface\u003eorg.eclipse.tptp.collector\u003c/Interface\u003e\n\t\u003cSingleInstance\u003e0\u003c/SingleInstance\u003e\n\t\u003cBound\u003e0\u003c/Bound\u003e\n\t\u003cMaxControllers\u003e-1\u003c/MaxControllers\u003e\n\t\u003cMaxObservers\u003e-1\u003c/MaxObservers\u003e\n\t\u003cConfigFile\u003ec:\\tptp\\agents\\org.eclipse.tptp.JavaTimeCollector\\config\\agentconfig.xml\u003c/ConfigFile\u003e\n\t\u003cLaunchConfiguration\u003e                                \n\t\t\u003claunchInfo\u003e\n\t\t\t\u003cApplication executable\u003d\"java\" path\u003d\"%JAVA_PATH%\"\u003e\n\t\t\t\t\u003cParameter position\u003d\"replace\" value\u003d\"-Djava.library.path\u003d/space/geoff/downloads/eclipse/3.2/agntctrl/lib\" /\u003e\n\t\t\t\t\u003cParameter value\u003d\"-classpath\" /\u003e\n\t\t\t\t\u003cParameter value\u003d\"/space/geoff/downloads/eclipse/3.2/extensions/tptp-4.2.0.2-200608021100/eclipse/plugins/org.eclipse.tptp.platform.execution_4.2.0.v200606140100/tptpcore.jar\" /\u003e\n\t\t\t\t\u003cParameter value\u003d\"org.eclipse.tptp.platform.execution.samples.TPTPJavaAgent\"/\u003e\n\t\t\t\u003c/Application\u003e\n\t\t\u003c/launchInfo\u003e\n\t\u003c/LaunchConfiguration\u003e\n\u003c/Agent\u003e",
    "\nthe following change makes it work for me.\n\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n--- AgentBase.make      2006-09-08 12:25:39.000000000 +1000\n+++ AgentBase.make.new  2006-09-08 12:25:19.000000000 +1000\n@@ -43,7 +43,7 @@\n #   list of additional libraries to be linked with\n #      (separated by blanks)\n #-----------------------------------\n-LIBS       :\u003d  uuid dl transportSupport tptpUtils tptpLogUtils tptpConfig pthread xerces-c\n+LIBS       :\u003d  uuid dl transportSupport tptpUtils tptpLogUtils tptpConfig processControlUtil pthread xerces-c\n\n #-----------------------------------\n #   list of additional library directories to search from\n",
    "Guru, The tptpConfig-should-link-in-processControlUtil problem should be assigned to me... I just checked and we put this in on Windows but not on Linux. I can fix that.\n\nBut I\u0027m not sure that this is a single bug... is the \"replace\" stuff a separate bug? That\u0027s not mine... but the linking is... so if there is another bug you need to break it out prior to assigning to me.",
    "The fix is a simple one will attach it. The code will be part of Head-CVS in 4.4",
    "Resolved"
  ],
  "commentCreationDates": [
    "2006-09-08T00:27:51+02:00",
    "2006-09-08T04:33:54+02:00",
    "2006-09-14T18:55:02+02:00",
    "2006-11-03T15:58:16+01:00",
    "2007-04-23T21:24:05+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.UnsatisfiedLinkError",
      "message": "/space/geoff/downloads/eclipse/3.2/agntctrl/lib/libjavaBaseAgent.so.4.2.0: /space/geoff/downloads/eclipse/3.2/agntctrl/lib/libtptpConfig.so.4: undefined symbol: freeEnvironmentStrings",
      "elements": [
        {
          "method": "java.lang.ClassLoader$NativeLibrary.load",
          "source": "Native Method"
        },
        {
          "method": "java.lang.ClassLoader.loadLibrary0",
          "source": "ClassLoader.java:1586"
        },
        {
          "method": "java.lang.ClassLoader.loadLibrary",
          "source": "ClassLoader.java:1511"
        },
        {
          "method": "java.lang.Runtime.loadLibrary0",
          "source": "Runtime.java:788"
        },
        {
          "method": "java.lang.System.loadLibrary",
          "source": "System.java:834"
        },
        {
          "method": "org.eclipse.tptp.platform.execution.datacollection.BaseAgent.\u003cclinit\u003e",
          "source": "BaseAgent.java:98"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "156618",
      "date": "2006-09-08T00:27:51+02:00",
      "product": "TPTP Profiling",
      "component": "Platform.Execution",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.UnsatisfiedLinkError",
      "message": "register0",
      "elements": [
        {
          "method": "org.eclipse.tptp.platform.execution.datacollection.BaseAgent.register0",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.tptp.platform.execution.datacollection.BaseAgent.register",
          "source": "BaseAgent.java:202"
        },
        {
          "method": "org.eclipse.tptp.platform.execution.samples.TPTPJavaAgent.main",
          "source": "TPTPJavaAgent.java:68"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "156618",
      "date": "2006-09-08T00:27:51+02:00",
      "product": "TPTP Profiling",
      "component": "Platform.Execution",
      "severity": "normal"
    }
  ],
  "groupId": "156618",
  "bugId": "156618",
  "date": "2006-09-08T00:27:51+02:00",
  "product": "TPTP Profiling",
  "component": "Platform.Execution",
  "severity": "normal"
}