{
  "comments": [
    "Using Eclipse 3.2 RC3\n\nThis exception was thrown while investigating bug 141380.  I shall try and identify the scenario that caused it, but I do not believe that it will be easy to reproduce.  Likely timing related.\n\njava.lang.IllegalStateException: The state indicates the bundle is resolved\n\tat org.eclipse.osgi.framework.internal.core.AbstractBundle.getResolutionFailureMessage(AbstractBundle.java:1347)\n\tat org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:294)\n\tat org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:256)\n\tat org.eclipse.osgi.framework.internal.core.FrameworkCommandProvider._start(FrameworkCommandProvider.java:239)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.osgi.framework.internal.core.FrameworkCommandInterpreter.execute(FrameworkCommandInterpreter.java:145)\n\tat org.eclipse.osgi.framework.internal.core.FrameworkConsole.docommand(FrameworkConsole.java:293)\n\tat org.eclipse.osgi.framework.internal.core.FrameworkConsole.console(FrameworkConsole.java:278)\n\tat org.eclipse.osgi.framework.internal.core.FrameworkConsole.run(FrameworkConsole.java:213)\n\tat java.lang.Thread.run(Thread.java:534)",
    "Simon, I can reproduce this bug with your example in bug 141380.  I will give more details on the steps to reproduce once I understand it better.  I did not want you to waste more time figuring out the details yourself.  Thanks.",
    "Thanks Tom... I tried yesterday, but could not easily reproduce it.  I remember it being related to starting particular bundle, but I forget which.  This bug, and bug 141380 are a little tricky to explain, so I\u0027m glad that you were able to reproduce this one.",
    "Created an attachment (id\u003d41346)\npatch\n\nThis patch fixes the problem where a removal pending has completed for an updated bundle.  The current code would attempt to refresh the already resolved new bundle when its old removal pending bundle was finally able to be completely removed.  This caused the new version of the bundle to become unresolved even though the resolver indicated that it should not have changed states.\n\nThe fix is to leave the new bundle state unchanged when a removal pending has completed.",
    "Fix released into the 3.3 stream.  Leaving bug open to release in 3.2.1 release.\n\nJeff, please approve for 3.2.1 release.  Thanks.",
    "forgot to cc Jeff ...",
    "+1",
    "Fix released to 3.2 maintenance branch."
  ],
  "commentCreationDates": [
    "2006-05-11T21:45:55+02:00",
    "2006-05-12T01:03:14+02:00",
    "2006-05-12T15:11:19+02:00",
    "2006-05-12T20:12:13+02:00",
    "2006-06-09T20:43:16+02:00",
    "2006-06-09T20:44:28+02:00",
    "2006-07-16T02:58:07+02:00",
    "2006-07-17T14:47:53+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalStateException",
      "message": "The state indicates the bundle is resolved",
      "elements": [
        {
          "method": "org.eclipse.osgi.framework.internal.core.AbstractBundle.getResolutionFailureMessage",
          "source": "AbstractBundle.java:1347"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleHost.startWorker",
          "source": "BundleHost.java:294"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.AbstractBundle.start",
          "source": "AbstractBundle.java:256"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkCommandProvider._start",
          "source": "FrameworkCommandProvider.java:239"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkCommandInterpreter.execute",
          "source": "FrameworkCommandInterpreter.java:145"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkConsole.docommand",
          "source": "FrameworkConsole.java:293"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkConsole.console",
          "source": "FrameworkConsole.java:278"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkConsole.run",
          "source": "FrameworkConsole.java:213"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:534"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "141402",
      "date": "2006-05-11T21:45:55+02:00",
      "product": "Equinox",
      "component": "Framework",
      "severity": "normal"
    }
  ],
  "groupId": "141402",
  "bugId": "141402",
  "date": "2006-05-11T21:45:55+02:00",
  "product": "Equinox",
  "component": "Framework",
  "severity": "normal"
}