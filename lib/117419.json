{
  "comments": [
    "When starting the new runtime the following NPE was observed.  It is unclear how this could happen since the Activator should have been started by this time.  I suspect that there is something messed up in the Lazy start settings. In this scenario the runtime was being started before the registry on the osgi.bundles list.\n\njava.lang.NullPointerException\n at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.onStart(RegistryStrategyOSGI.java:253)\n at org.eclipse.core.internal.registry.ExtensionRegistry.\u003cinit\u003e(ExtensionRegistry.java:634)\n at org.eclipse.equinox.registry.RegistryFactory.createExtensionRegistry(RegistryFactory.java:36)\n at org.eclipse.core.internal.registry.eclipse.EclipseExtensionRegistry.\u003cinit\u003e(EclipseExtensionRegistry.java:36)\n at org.eclipse.core.internal.runtime.InternalPlatform.start(InternalPlatform.java:981)\n at org.eclipse.core.internal.runtime.PlatformActivator.start(PlatformActivator.java:40)\n at org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run(BundleContextImpl.java:994)\n at java.security.AccessController.doPrivileged(Native Method)\n at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:988)\n at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:969)\n at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:316)\n at org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(AbstractBundle.java:328)\n at org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Framework.java:1026)\n at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:573)\n at org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(StartLevelManager.java:495)\n at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:275)\n at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:455)\n at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:189)\n at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:291)",
    "equinox.registry does not have an Eclipse-LazyStart header in it.  If you want the ablity to have core.runtime started before equinox.registry then we should make equinox.registry lazy startable.  It is clear that classes in equinox.registry will not work until after it is started.  This is a case for lazy start I think.",
    "The registry moved to a lazy-start bundle in M6.  This is no longer a problem."
  ],
  "commentCreationDates": [
    "2005-11-22T03:25:13+01:00",
    "2005-11-22T14:17:01+01:00",
    "2006-04-10T18:14:54+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.onStart",
          "source": "RegistryStrategyOSGI.java:253"
        },
        {
          "method": "org.eclipse.core.internal.registry.ExtensionRegistry.\u003cinit\u003e",
          "source": "ExtensionRegistry.java:634"
        },
        {
          "method": "org.eclipse.equinox.registry.RegistryFactory.createExtensionRegistry",
          "source": "RegistryFactory.java:36"
        },
        {
          "method": "org.eclipse.core.internal.registry.eclipse.EclipseExtensionRegistry.\u003cinit\u003e",
          "source": "EclipseExtensionRegistry.java:36"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.start",
          "source": "InternalPlatform.java:981"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator.start",
          "source": "PlatformActivator.java:40"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run",
          "source": "BundleContextImpl.java:994"
        },
        {
          "method": "java.security.AccessController.doPrivileged",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator",
          "source": "BundleContextImpl.java:988"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl.start",
          "source": "BundleContextImpl.java:969"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleHost.startWorker",
          "source": "BundleHost.java:316"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.AbstractBundle.resume",
          "source": "AbstractBundle.java:328"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.Framework.resumeBundle",
          "source": "Framework.java:1026"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles",
          "source": "StartLevelManager.java:573"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL",
          "source": "StartLevelManager.java:495"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel",
          "source": "StartLevelManager.java:275"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent",
          "source": "StartLevelManager.java:455"
        },
        {
          "method": "org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent",
          "source": "EventManager.java:189"
        },
        {
          "method": "org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run",
          "source": "EventManager.java:291"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "117419",
      "date": "2005-11-22T03:25:13+01:00",
      "product": "Equinox",
      "component": "Bundles",
      "severity": "normal"
    }
  ],
  "groupId": "117419",
  "bugId": "117419",
  "date": "2005-11-22T03:25:13+01:00",
  "product": "Equinox",
  "component": "Bundles",
  "severity": "normal"
}