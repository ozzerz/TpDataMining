{
  "comments": [
    "I suspect that this will be fixed once bug#5992 is fixed, but I\u0027m logging it \nseparately in case this isn\u0027t true.  Steps:\n\n- Window -\u003e Preferences\n- show the Workbench-Fonts page\n- show the Java-Editor page \u003c-- crashes\n\nThe dump file was written empty.",
    "This is not the same as bug#5992.\n\nA font is being set in a StyleText and then the font is disposed\nwhile the widget is still alive.\n\nHere are the stack traces that set the font in the widget and\nthat dispose the font:\n\n++++++++++++++++++++++++++++++ FIRST STACK +++++++++++++++++++++++++++++++\njava.lang.Error\n\tat org.eclipse.swt.custom.StyledText.setFont(StyledText.java:6042)\n\tat\norg.eclipse.jdt.internal.ui.preferences.JavaEditorPreferencePage.createPreviewer(JavaEditorPreferencePage.java:336)\n\tat\norg.eclipse.jdt.internal.ui.preferences.JavaEditorPreferencePage.createColorPage(JavaEditorPreferencePage.java:289)\n\tat\norg.eclipse.jdt.internal.ui.preferences.JavaEditorPreferencePage.createContents(JavaEditorPreferencePage.java:401)\n\tat\norg.eclipse.jface.preference.PreferencePage.createControl(PreferencePage.java:194)\n\tat\norg.eclipse.jdt.internal.ui.preferences.JavaEditorPreferencePage.createControl(JavaEditorPreferencePage.java:219)\n\tat\norg.eclipse.jface.preference.PreferenceDialog.showPage(PreferenceDialog.java:685)\n\tat\norg.eclipse.jface.preference.PreferenceDialog$6.run(PreferenceDialog.java:393)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:56)\n\tat\norg.eclipse.jface.preference.PreferenceDialog$5.widgetSelected(PreferenceDialog.java:385)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:85)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:489)\n\tat\norg.eclipse.swt.widgets.SelectableItemWidget.selectNotify(SelectableItemWidget.java:1680)\n\tat\norg.eclipse.swt.widgets.SelectableItemWidget.selectNotify(SelectableItemWidget.java:1703)\n\tat\norg.eclipse.swt.widgets.SelectableItemWidget.doMouseSelect(SelectableItemWidget.java:613)\n\tat org.eclipse.swt.widgets.Tree.mouseDown(Tree.java:1031)\n\tat org.eclipse.swt.widgets.Tree.handleEvents(Tree.java:806)\n\tat\norg.eclipse.swt.widgets.SelectableItemWidget$1.handleEvent(SelectableItemWidget.java:1189)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:489)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1531)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1387)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:536)\n\tat org.eclipse.jface.window.Window.open(Window.java:523)\n\tat\norg.eclipse.ui.internal.OpenPreferencesAction.run(OpenPreferencesAction.java:47)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:453)\n\tat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:407)\n\tat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionContributionItem.java:361)\n\tat\norg.eclipse.jface.action.ActionContributionItem.access$0(ActionContributionItem.java:352)\n\tat\norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(ActionContributionItem.java:47)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:489)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1531)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1387)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:729)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:712)\n\tat\norg.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:820)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:285)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:151)\n\tat org.eclipse.core.launcher.Main.run(Main.java:502)\n\tat org.eclipse.core.launcher.UIMain.main(UIMain.java:52)\n+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n+++++++++++++++++++++++++++SECOND STACK++++++++++++++++++++++++++++++\njava.lang.Error\n\tat org.eclipse.swt.graphics.Font.dispose(Font.java:113)\n\tat org.eclipse.jface.resource.FontRegistry.put(FontRegistry.java:382)\n\tat\norg.eclipse.jface.preference.PreferenceConverter.setValue(PreferenceConverter.java:384)\n\tat\norg.eclipse.ui.internal.dialogs.FontPreferencePage.performOk(FontPreferencePage.java:388)\n\tat\norg.eclipse.jface.preference.PreferenceDialog.okPressed(PreferenceDialog.java:514)\n\tat\norg.eclipse.jface.preference.PreferenceDialog.buttonPressed(PreferenceDialog.java:166)\n\tat org.eclipse.jface.dialogs.Dialog$1.widgetSelected(Dialog.java:211)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:85)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:489)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1531)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1387)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:536)\n\tat org.eclipse.jface.window.Window.open(Window.java:523)\n\tat\norg.eclipse.ui.internal.OpenPreferencesAction.run(OpenPreferencesAction.java:47)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:453)\n\tat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:407)\n\tat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionContributionItem.java:361)\n\tat\norg.eclipse.jface.action.ActionContributionItem.access$0(ActionContributionItem.java:352)\n\tat\norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(ActionContributionItem.java:47)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:489)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1531)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1387)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:729)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:712)\n\tat\norg.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:820)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:285)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:151)\n\tat org.eclipse.core.launcher.Main.run(Main.java:502)\n\tat org.eclipse.core.launcher.UIMain.main(UIMain.java:52)\n+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++",
    "Pls investigate. Looks like it is either a defect in the JFace FontRegistry \nsupport or a problem in the JDT - UI",
    "By following the simple steps as reported in this PR using Eclipse build 2001-\n11-07, I cannot reproduce this problem. I can switch between both pages without \nany problems. I can change the default text font (Workbench -\u003e Fonts page), \napply the changes, switch to the other Java Editor page without any problems.\n\nCould more detail steps be provided to reproduce this problem? Can the build \nnumber also be specified?\n\nThe only problem I find is when I press the OK or Cancel button, all of Eclipse \ndies. I\u0027m going to investigate to see if it has anything to do with this font \nproblem or if this is new problem to be reported.",
    "I can\u0027t reproduce this in 1122 now, but it was quite easy to do so in previous \nbuilds.  So it seems that a fix has been made here recently, perhaps \ninadvertently (?).\n\nThis PR can be closed.\n",
    "Original reporter cannot reproduce this problem also. No one on the UI Team has \nmade any changes to Font management is the last 4-5 weeks. Maybe JDT changed \nthe Java editor preference page that eliminated this problem.\n\nThe problem report will be closed\n\nNote, another potential font problem was discovered during my research into \nthis problem and has been reported as bug#6334"
  ],
  "commentCreationDates": [
    "2001-11-20T17:48:18+01:00",
    "2001-11-21T03:47:59+01:00",
    "2001-11-21T14:15:40+01:00",
    "2001-11-26T20:04:56+01:00",
    "2001-11-26T20:37:26+01:00",
    "2001-11-26T22:59:32+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.Error",
      "elements": [
        {
          "method": "org.eclipse.swt.custom.StyledText.setFont",
          "source": "StyledText.java:6042"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.preferences.JavaEditorPreferencePage.createPreviewer",
          "source": "JavaEditorPreferencePage.java:336"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.preferences.JavaEditorPreferencePage.createColorPage",
          "source": "JavaEditorPreferencePage.java:289"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.preferences.JavaEditorPreferencePage.createContents",
          "source": "JavaEditorPreferencePage.java:401"
        },
        {
          "method": "org.eclipse.jface.preference.PreferencePage.createControl",
          "source": "PreferencePage.java:194"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.preferences.JavaEditorPreferencePage.createControl",
          "source": "JavaEditorPreferencePage.java:219"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog.showPage",
          "source": "PreferenceDialog.java:685"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog$6.run",
          "source": "PreferenceDialog.java:393"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:56"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog$5.widgetSelected",
          "source": "PreferenceDialog.java:385"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:85"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:489"
        },
        {
          "method": "org.eclipse.swt.widgets.SelectableItemWidget.selectNotify",
          "source": "SelectableItemWidget.java:1680"
        },
        {
          "method": "org.eclipse.swt.widgets.SelectableItemWidget.selectNotify",
          "source": "SelectableItemWidget.java:1703"
        },
        {
          "method": "org.eclipse.swt.widgets.SelectableItemWidget.doMouseSelect",
          "source": "SelectableItemWidget.java:613"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.mouseDown",
          "source": "Tree.java:1031"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.handleEvents",
          "source": "Tree.java:806"
        },
        {
          "method": "org.eclipse.swt.widgets.SelectableItemWidget$1.handleEvent",
          "source": "SelectableItemWidget.java:1189"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:489"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1531"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1387"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:536"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:523"
        },
        {
          "method": "org.eclipse.ui.internal.OpenPreferencesAction.run",
          "source": "OpenPreferencesAction.java:47"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:453"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:407"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java:361"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem.java:352"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java:47"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:489"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1531"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1387"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:729"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:712"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:820"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:285"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:151"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:502"
        },
        {
          "method": "org.eclipse.core.launcher.UIMain.main",
          "source": "UIMain.java:52"
        }
      ],
      "number": 0,
      "commentIndex": 1,
      "bugId": "6121",
      "date": "2001-11-21T03:47:59+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.Error",
      "elements": [
        {
          "method": "org.eclipse.swt.graphics.Font.dispose",
          "source": "Font.java:113"
        },
        {
          "method": "org.eclipse.jface.resource.FontRegistry.put",
          "source": "FontRegistry.java:382"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceConverter.setValue",
          "source": "PreferenceConverter.java:384"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.FontPreferencePage.performOk",
          "source": "FontPreferencePage.java:388"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog.okPressed",
          "source": "PreferenceDialog.java:514"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog.buttonPressed",
          "source": "PreferenceDialog.java:166"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$1.widgetSelected",
          "source": "Dialog.java:211"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:85"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:489"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1531"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1387"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:536"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:523"
        },
        {
          "method": "org.eclipse.ui.internal.OpenPreferencesAction.run",
          "source": "OpenPreferencesAction.java:47"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:453"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:407"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java:361"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem.java:352"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java:47"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:489"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1531"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1387"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:729"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:712"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:820"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:285"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:151"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:502"
        },
        {
          "method": "org.eclipse.core.launcher.UIMain.main",
          "source": "UIMain.java:52"
        }
      ],
      "number": 1,
      "commentIndex": 1,
      "bugId": "6121",
      "date": "2001-11-21T03:47:59+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "6121",
  "bugId": "6121",
  "date": "2001-11-20T17:48:18+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}