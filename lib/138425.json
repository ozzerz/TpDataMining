{
  "comments": [
    "Case #1 NumberFormatException when refreshing decorators\nWin XP, regional settings English, ran Eclipse with -nl se\nUsing Sun VM:\njava version \"1.4.2_08\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_08-b03)\nJava HotSpot(TM) Client VM (build 1.4.2_08-b03, mixed mode)\n\n\nSteps:\n*Run Eclipse in english locale.  \n*Load a project from a repository (the decorators on the project will need to be refreshed)\n*Exit workspace\n*Run workspace with -nl se\nError when refreshing (see stack trace)\n\nCaused by: java.util.MissingResourceException: Unable to construct NumberFormat\n\tat com.ibm.icu.text.NumberFormatServiceShim.createInstance(NumberFormatServiceShim.java:94)\n\tat com.ibm.icu.text.NumberFormat.getInstance(NumberFormat.java:1139)\n\tat com.ibm.icu.text.NumberFormat.getIntegerInstance(NumberFormat.java:547)\n\tat com.ibm.icu.text.MessageFormat.makeFormat(MessageFormat.java:1449)\n\tat com.ibm.icu.text.MessageFormat.applyPattern(MessageFormat.java:494)\n\tat com.ibm.icu.text.MessageFormat.\u003cinit\u003e(MessageFormat.java:381)\n\tat com.ibm.icu.text.MessageFormat.subformat(MessageFormat.java:1272)\n\tat com.ibm.icu.text.MessageFormat.format(MessageFormat.java:869)\n\tat java.text.Format.format(Format.java:133)\n\tat com.ibm.icu.text.MessageFormat.format(MessageFormat.java:844)\n\tat org.eclipse.ui.views.markers.internal.ProblemView.formatSummaryBreakDown(ProblemView.java:252)\n\tat org.eclipse.ui.views.markers.internal.ProblemView.updateTitle(ProblemView.java:240)\n\tat org.eclipse.ui.views.markers.internal.MarkerView$UpdateJob.runInUIThread(MarkerView.java:228)\n\tat org.eclipse.ui.progress.UIJob$1.run(UIJob.java:94)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\nDoing same setup/steps using the base plugin does not cause a crash.\n\nCase#2 \nThe same exception occurs in the Error log view (when it has contents) when opening/creating that view since it uses NumberFormat:\n\njava.util.MissingResourceException: Unable to construct NumberFormat\n\tat com.ibm.icu.text.NumberFormatServiceShim.createInstance(NumberFormatServiceShim.java:94)\n\tat com.ibm.icu.text.NumberFormat.getInstance(NumberFormat.java:1139)\n\tat com.ibm.icu.text.NumberFormat.getInstance(NumberFormat.java:472)\n\tat com.ibm.icu.text.SimpleDateFormat.initialize(SimpleDateFormat.java:468)\n\tat com.ibm.icu.text.SimpleDateFormat.\u003cinit\u003e(SimpleDateFormat.java:335)\n\tat com.ibm.icu.text.SimpleDateFormat.\u003cinit\u003e(SimpleDateFormat.java:310)\n\tat org.eclipse.pde.internal.runtime.logview.LogEntry.processEntry(LogEntry.java:182)\n\tat org.eclipse.pde.internal.runtime.logview.LogReader.parseLogFile(LogReader.java:111)\n\tat org.eclipse.pde.internal.runtime.logview.LogView.readLogFile(LogView.java:636)\n\tat org.eclipse.pde.internal.runtime.logview.LogView.createPartControl(LogView.java:164)\n\tat org.eclipse.ui.internal.ViewReference.createPartHelper(ViewReference.java:332)\n\tat org.eclipse.ui.internal.ViewReference.createPart(ViewReference.java:197)\n\tat org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:566)\n\tat org.eclipse.ui.internal.PartPane.setVisible(PartPane.java:290)\n\tat org.eclipse.ui.internal.ViewPane.setVisible(ViewPane.java:525)\n\tat org.eclipse.ui.internal.presentations.PresentablePart.setVisible(PresentablePart.java:140)\n\tat org.eclipse.ui.internal.presentations.util.PresentablePartFolder.select(PresentablePartFolder.java:268)\n\tat org.eclipse.ui.internal.presentations.util.LeftToRightTabOrder.select(LeftToRightTabOrder.java:65)\n\tat org.eclipse.ui.internal.presentations.util.TabbedStackPresentation.selectPart(TabbedStackPresentation.java:394)\n\tat org.eclipse.ui.internal.PartStack.refreshPresentationSelection(PartStack.java:1143)\n\tat org.eclipse.ui.internal.PartStack.createControl(PartStack.java:619)\n\tat org.eclipse.ui.internal.PartStack.createControl(PartStack.java:531)\n\tat org.eclipse.ui.internal.PartSashContainer.createControl(PartSashContainer.java:562)\n\tat org.eclipse.ui.internal.PerspectiveHelper.activate(PerspectiveHelper.java:244)\n\tat org.eclipse.ui.internal.Perspective.onActivate(Perspective.java:832)\n\tat org.eclipse.ui.internal.WorkbenchPage.onActivate(WorkbenchPage.java:2378)\n\tat org.eclipse.ui.internal.WorkbenchWindow$6.run(WorkbenchWindow.java:2616)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)\n\tat org.eclipse.ui.internal.WorkbenchWindow.setActivePage(WorkbenchWindow.java:2597)\n\tat org.eclipse.ui.internal.WorkbenchWindow.restoreState(WorkbenchWindow.java:1982)\n\tat org.eclipse.ui.internal.Workbench.doRestoreState(Workbench.java:2857)\n\tat org.eclipse.ui.internal.Workbench.access$14(Workbench.java:2805)\n\tat org.eclipse.ui.internal.Workbench$19.run(Workbench.java:1681)\n\tat org.eclipse.ui.internal.Workbench.runStartupWithProgress(Workbench.java:1421)\n\tat org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1679)\n\tat org.eclipse.ui.internal.Workbench.access$12(Workbench.java:1650)\n\tat org.eclipse.ui.internal.Workbench$17.run(Workbench.java:1529)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1473)\n\tat org.eclipse.ui.internal.WorkbenchConfigurer.restoreState(WorkbenchConfigurer.java:183)\n\tat org.eclipse.ui.application.WorkbenchAdvisor.openWindows(WorkbenchAdvisor.java:702)\n\tat org.eclipse.ui.internal.Workbench.init(Workbench.java:1085)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1847)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)",
    "Using build N20060425-0010",
    "I just looked up the locale codes and se is the code for Sweden not Swedish so -nl se does not create a valid locale -nl sv or -nl sv_SE are the valid codes.\n\nI have written a test that runs though all of the locales and switches all of the perspectives. If you add a Locale \"se\" this will fail with a NumberFormatException. If you use the valid \"sv\" locale you will not.",
    "Created an attachment (id\u003d39496)\nTest suite (also released to the ui tests plug-in)\n\n",
    "Here is a list of locales: http://msdn2.microsoft.com/en-US/library/ms145903(SQL.90).aspx",
    "I have checked with the valid sv and sv_SE locales and it was fine in both. While I think this is important as it is an issue with invalid locales I would reduce it from critical to major.",
    "fix is in ICU4J 3.4.5 which was released into the 3.2.1 build M20060830-0800. Also see bug 150296.",
    "Verified in M20060830-0800"
  ],
  "commentCreationDates": [
    "2006-04-25T18:33:41+02:00",
    "2006-04-25T20:07:21+02:00",
    "2006-04-26T02:39:45+02:00",
    "2006-04-26T02:42:09+02:00",
    "2006-04-26T02:43:45+02:00",
    "2006-04-26T02:52:37+02:00",
    "2006-08-30T22:58:15+02:00",
    "2006-08-30T23:26:25+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.util.MissingResourceException",
      "message": "Unable to construct NumberForm",
      "elements": [
        {
          "method": "atcom.ibm.icu.text.NumberFormatServiceShim.createInstance",
          "source": "NumberFormatServiceShim.java:94"
        },
        {
          "method": "com.ibm.icu.text.NumberFormat.getInstance",
          "source": "NumberFormat.java:1139"
        },
        {
          "method": "com.ibm.icu.text.NumberFormat.getIntegerInstance",
          "source": "NumberFormat.java:547"
        },
        {
          "method": "com.ibm.icu.text.MessageFormat.makeFormat",
          "source": "MessageFormat.java:1449"
        },
        {
          "method": "com.ibm.icu.text.MessageFormat.applyPattern",
          "source": "MessageFormat.java:494"
        },
        {
          "method": "com.ibm.icu.text.MessageFormat.\u003cinit\u003e",
          "source": "MessageFormat.java:381"
        },
        {
          "method": "com.ibm.icu.text.MessageFormat.subformat",
          "source": "MessageFormat.java:1272"
        },
        {
          "method": "com.ibm.icu.text.MessageFormat.format",
          "source": "MessageFormat.java:869"
        },
        {
          "method": "java.text.Format.format",
          "source": "Format.java:133"
        },
        {
          "method": "com.ibm.icu.text.MessageFormat.format",
          "source": "MessageFormat.java:844"
        },
        {
          "method": "org.eclipse.ui.views.markers.internal.ProblemView.formatSummaryBreakDown",
          "source": "ProblemView.java:252"
        },
        {
          "method": "org.eclipse.ui.views.markers.internal.ProblemView.updateTitle",
          "source": "ProblemView.java:240"
        },
        {
          "method": "org.eclipse.ui.views.markers.internal.MarkerView$UpdateJob.runInUIThread",
          "source": "MarkerView.java:228"
        },
        {
          "method": "org.eclipse.ui.progress.UIJob$1.run",
          "source": "UIJob.java:94"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:123"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "138425",
      "date": "2006-04-25T18:33:41+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "major"
    },
    {
      "exceptionType": "java.util.MissingResourceException",
      "message": "Unable to construct NumberForm",
      "elements": [
        {
          "method": "atcom.ibm.icu.text.NumberFormatServiceShim.createInstance",
          "source": "NumberFormatServiceShim.java:94"
        },
        {
          "method": "com.ibm.icu.text.NumberFormat.getInstance",
          "source": "NumberFormat.java:1139"
        },
        {
          "method": "com.ibm.icu.text.NumberFormat.getInstance",
          "source": "NumberFormat.java:472"
        },
        {
          "method": "com.ibm.icu.text.SimpleDateFormat.initialize",
          "source": "SimpleDateFormat.java:468"
        },
        {
          "method": "com.ibm.icu.text.SimpleDateFormat.\u003cinit\u003e",
          "source": "SimpleDateFormat.java:335"
        },
        {
          "method": "com.ibm.icu.text.SimpleDateFormat.\u003cinit\u003e",
          "source": "SimpleDateFormat.java:310"
        },
        {
          "method": "org.eclipse.pde.internal.runtime.logview.LogEntry.processEntry",
          "source": "LogEntry.java:182"
        },
        {
          "method": "org.eclipse.pde.internal.runtime.logview.LogReader.parseLogFile",
          "source": "LogReader.java:111"
        },
        {
          "method": "org.eclipse.pde.internal.runtime.logview.LogView.readLogFile",
          "source": "LogView.java:636"
        },
        {
          "method": "org.eclipse.pde.internal.runtime.logview.LogView.createPartControl",
          "source": "LogView.java:164"
        },
        {
          "method": "org.eclipse.ui.internal.ViewReference.createPartHelper",
          "source": "ViewReference.java:332"
        },
        {
          "method": "org.eclipse.ui.internal.ViewReference.createPart",
          "source": "ViewReference.java:197"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPartReference.getPart",
          "source": "WorkbenchPartReference.java:566"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.setVisible",
          "source": "PartPane.java:290"
        },
        {
          "method": "org.eclipse.ui.internal.ViewPane.setVisible",
          "source": "ViewPane.java:525"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.PresentablePart.setVisible",
          "source": "PresentablePart.java:140"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.util.PresentablePartFolder.select",
          "source": "PresentablePartFolder.java:268"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.util.LeftToRightTabOrder.select",
          "source": "LeftToRightTabOrder.java:65"
        },
        {
          "method": "org.eclipse.ui.internal.presentations.util.TabbedStackPresentation.selectPart",
          "source": "TabbedStackPresentation.java:394"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.refreshPresentationSelection",
          "source": "PartStack.java:1143"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.createControl",
          "source": "PartStack.java:619"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.createControl",
          "source": "PartStack.java:531"
        },
        {
          "method": "org.eclipse.ui.internal.PartSashContainer.createControl",
          "source": "PartSashContainer.java:562"
        },
        {
          "method": "org.eclipse.ui.internal.PerspectiveHelper.activate",
          "source": "PerspectiveHelper.java:244"
        },
        {
          "method": "org.eclipse.ui.internal.Perspective.onActivate",
          "source": "Perspective.java:832"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.onActivate",
          "source": "WorkbenchPage.java:2378"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow$6.run",
          "source": "WorkbenchWindow.java:2616"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:67"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.setActivePage",
          "source": "WorkbenchWindow.java:2597"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.restoreState",
          "source": "WorkbenchWindow.java:1982"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.doRestoreState",
          "source": "Workbench.java:2857"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$14",
          "source": "Workbench.java:2805"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$19.run",
          "source": "Workbench.java:1681"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runStartupWithProgress",
          "source": "Workbench.java:1421"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.restoreState",
          "source": "Workbench.java:1679"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$12",
          "source": "Workbench.java:1650"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$17.run",
          "source": "Workbench.java:1529"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.restoreState",
          "source": "Workbench.java:1473"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchConfigurer.restoreState",
          "source": "WorkbenchConfigurer.java:183"
        },
        {
          "method": "org.eclipse.ui.application.WorkbenchAdvisor.openWindows",
          "source": "WorkbenchAdvisor.java:702"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.init",
          "source": "Workbench.java:1085"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1847"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:280"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "138425",
      "date": "2006-04-25T18:33:41+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "138425",
  "bugId": "138425",
  "date": "2006-04-25T18:33:41+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "major"
}