{
  "comments": [
    "I do not know to find clues about the cause ofthe crash. Just copying below \nthe .log:\n\n--LOG STARTS---\n!SESSION 2005-07-14 08:59:40.571 -----------------------------------------------\neclipse.buildId\u003dunknown\njava.version\u003d1.4.2_03\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003dpt_BR\nCommand-line arguments:  -os win32 -ws win32 -arch x86 -data \nC:\\pessoal\\feng\\workspace\n\n!ENTRY org.eclipse.ltk.ui.refactoring 4 10000 2005-07-14 09:01:46.308\n!MESSAGE Internal Error\n!STACK 0\njava.lang.reflect.InvocationTargetException\n\tat org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run\n(WorkbenchRunnableAdapter.java:90)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run\n(ModalContext.java:113)\nCaused by: Java Model Exception: Java Model Status [setMoeda(TypMroRecMoedaSp) \n{key\u003dLbr/com/tam/mro/pco/db/types/TypMroRecCusto;.setMoeda\n(Lbr/com/tam/mro/dup/db/types/TypMroRecMoedaSp;)V} [in TypMroRecCusto [in \nTypMroRecCusto.java [in br.com.tam.mro.pco.db.types [in mro/src/classes [in \nMRO]]]]] does not exist]\n\tat org.eclipse.jdt.internal.core.JavaElement.newNotPresentException\n(JavaElement.java:468)\n\tat org.eclipse.jdt.internal.core.JavaElement.openWhenClosed\n(JavaElement.java:499)\n\tat org.eclipse.jdt.internal.core.JavaElement.getElementInfo\n(JavaElement.java:232)\n\tat org.eclipse.jdt.internal.core.JavaElement.getElementInfo\n(JavaElement.java:218)\n\tat org.eclipse.jdt.internal.core.Member.getFlags(Member.java:147)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.a\ndjustOutgoingVisibility(MemberVisibilityAdjustor.java:688)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.a\ndjustOutgoingVisibility(MemberVisibilityAdjustor.java:707)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.a\ndjustOutgoingVisibility(MemberVisibilityAdjustor.java:739)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.a\ndjustVisibility(MemberVisibilityAdjustor.java:780)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.structure.MoveStaticMembersProcessor\n.createChange(MoveStaticMembersProcessor.java:745)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.structure.MoveStaticMembersProcessor\n.checkFinalConditions(MoveStaticMembersProcessor.java:325)\n\tat \norg.eclipse.ltk.core.refactoring.participants.ProcessorBasedRefactoring.checkFin\nalConditions(ProcessorBasedRefactoring.java:169)\n\tat org.eclipse.ltk.core.refactoring.CheckConditionsOperation.run\n(CheckConditionsOperation.java:84)\n\tat org.eclipse.ltk.core.refactoring.CreateChangeOperation.run\n(CreateChangeOperation.java:114)\n\tat org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1719)\n\tat org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run\n(WorkbenchRunnableAdapter.java:86)\n\t... 1 more\nRoot exception:\nJava Model Exception: Java Model Status [setMoeda(TypMroRecMoedaSp) \n{key\u003dLbr/com/tam/mro/pco/db/types/TypMroRecCusto;.setMoeda\n(Lbr/com/tam/mro/dup/db/types/TypMroRecMoedaSp;)V} [in TypMroRecCusto [in \nTypMroRecCusto.java [in br.com.tam.mro.pco.db.types [in mro/src/classes [in \nMRO]]]]] does not exist]\n\tat org.eclipse.jdt.internal.core.JavaElement.newNotPresentException\n(JavaElement.java:468)\n\tat org.eclipse.jdt.internal.core.JavaElement.openWhenClosed\n(JavaElement.java:499)\n\tat org.eclipse.jdt.internal.core.JavaElement.getElementInfo\n(JavaElement.java:232)\n\tat org.eclipse.jdt.internal.core.JavaElement.getElementInfo\n(JavaElement.java:218)\n\tat org.eclipse.jdt.internal.core.Member.getFlags(Member.java:147)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.a\ndjustOutgoingVisibility(MemberVisibilityAdjustor.java:688)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.a\ndjustOutgoingVisibility(MemberVisibilityAdjustor.java:707)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.a\ndjustOutgoingVisibility(MemberVisibilityAdjustor.java:739)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.a\ndjustVisibility(MemberVisibilityAdjustor.java:780)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.structure.MoveStaticMembersProcessor\n.createChange(MoveStaticMembersProcessor.java:745)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.structure.MoveStaticMembersProcessor\n.checkFinalConditions(MoveStaticMembersProcessor.java:325)\n\tat \norg.eclipse.ltk.core.refactoring.participants.ProcessorBasedRefactoring.checkFin\nalConditions(ProcessorBasedRefactoring.java:169)\n\tat org.eclipse.ltk.core.refactoring.CheckConditionsOperation.run\n(CheckConditionsOperation.java:84)\n\tat org.eclipse.ltk.core.refactoring.CreateChangeOperation.run\n(CreateChangeOperation.java:114)\n\tat org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1719)\n\tat org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run\n(WorkbenchRunnableAdapter.java:86)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run\n(ModalContext.java:113)\n--LOG ENDS-----",
    "After some sips of a cup of tea, I found the following: although the stacktrace \nclaims that \"setMoeda(TypMroRecMoedaSp)... in TypMroRecCusto.java ... does not \nexist\", it exists with the following definition:\n\npublic void setMoeda(br.com.tam.mro.dup.db.types.TypMroRecMoedaSp moeda)\n\t\tthrows SQLException {\n\t_struct.setAttribute(1, moeda);\n}\n\nThe exception could be caused by the use of a complete name of the type \nTypMroRecMoedaSp?",
    "\nMoving to core.",
    "I have made some test with other refactorings, and everytime that the same kind \nof exception occurs, I have changed the method signature using the short Type \nname, like:\n\nfrom:\npublic void setMoeda(br.com.tam.mro.dup.db.types.TypMroRecMoedaSp moeda)\n\t\tthrows SQLException {\n\t_struct.setAttribute(1, moeda);\n}\n\nwas changed to:\npublic void setMoeda(TypMroRecMoedaSp moeda)\n\t\tthrows SQLException {\n\t_struct.setAttribute(1, moeda);\n}\n\nand then tried to do the very same attempt to refactor. Now, this time it works \nwithout any glitch.\n",
    "Tobias, please investigate.",
    "Could you attach a snippet or possibly a project which helps to reproduce the \nfailure?",
    "Created an attachment (id\u003d24973)\nTest case\n\nthis is an eclipse project. Just import it.",
    "(From update of attachment 24973)\nFinally I got a test case. I had to trim the project down, but I could not trim\nit lower because I got no more spare time... I have stripped some jars out, but\nI hope that it will still generate the test case.\n\nDo the following:\ntry to preview the refactory of the the method named\nbr.com.tam.mro.factory.CBMBeanFactory.getTypMroRecValorFuncaoRHSp(), and move\nit to, ie. br.com.tam.mro.crh.factory.ValorFuncaoBeanFactory\n\nYou should get something similar to the following:\n\n\n\n\n!ENTRY org.eclipse.ltk.ui.refactoring 4 10000 2005-07-19 09:54:49.371\n!MESSAGE Internal Error\n!STACK 0\njava.lang.reflect.InvocationTargetException\n\tat\norg.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchR\nunnableAdapter.java:90)\n\tat\norg.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.ja\nva:113)\nCaused by: Java Model Exception: Java Model Status\n[setAaValorizacao(BigDecimal)\n{key\u003dLbr/com/tam/mro/crh/db/types/TypMroRecValorFuncaoRHSp;.setAaValorizacao(Lj\nava/math/BigDecimal;)V} [in TypMroRecValorFuncaoRHSp [in\nTypMroRecValorFuncaoRHSp.java [in br.com.tam.mro.crh.db.types [in\nmro/src/classes [in MRO-teste]]]]] does not exist]\n\tat\norg.eclipse.jdt.internal.core.JavaElement.newNotPresentException(JavaElement.ja\nva:468)\n\tat\norg.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:499)\n\tat\norg.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:232)\n\tat\norg.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:218)\n\tat org.eclipse.jdt.internal.core.Member.getFlags(Member.java:147)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.\nadjustOutgoingVisibility(MemberVisibilityAdjustor.java:688)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.\nadjustOutgoingVisibility(MemberVisibilityAdjustor.java:707)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.\nadjustOutgoingVisibility(MemberVisibilityAdjustor.java:739)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.\nadjustVisibility(MemberVisibilityAdjustor.java:780)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MoveStaticMembersProcesso\nr.createChange(MoveStaticMembersProcessor.java:745)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MoveStaticMembersProcesso\nr.checkFinalConditions(MoveStaticMembersProcessor.java:325)\n\tat\norg.eclipse.ltk.core.refactoring.participants.ProcessorBasedRefactoring.checkFi\nnalConditions(ProcessorBasedRefactoring.java:169)\n\tat\norg.eclipse.ltk.core.refactoring.CheckConditionsOperation.run(CheckConditionsOp\neration.java:84)\n\tat\norg.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperatio\nn.java:114)\n\tat\norg.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)\n\tat\norg.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchR\nunnableAdapter.java:86)\n\t... 1 more\nRoot exception:\nJava Model Exception: Java Model Status [setAaValorizacao(BigDecimal)\n{key\u003dLbr/com/tam/mro/crh/db/types/TypMroRecValorFuncaoRHSp;.setAaValorizacao(Lj\nava/math/BigDecimal;)V} [in TypMroRecValorFuncaoRHSp [in\nTypMroRecValorFuncaoRHSp.java [in br.com.tam.mro.crh.db.types [in\nmro/src/classes [in MRO-teste]]]]] does not exist]\n\tat\norg.eclipse.jdt.internal.core.JavaElement.newNotPresentException(JavaElement.ja\nva:468)\n\tat\norg.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:499)\n\tat\norg.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:232)\n\tat\norg.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:218)\n\tat org.eclipse.jdt.internal.core.Member.getFlags(Member.java:147)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.\nadjustOutgoingVisibility(MemberVisibilityAdjustor.java:688)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.\nadjustOutgoingVisibility(MemberVisibilityAdjustor.java:707)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.\nadjustOutgoingVisibility(MemberVisibilityAdjustor.java:739)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MemberVisibilityAdjustor.\nadjustVisibility(MemberVisibilityAdjustor.java:780)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MoveStaticMembersProcesso\nr.createChange(MoveStaticMembersProcessor.java:745)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MoveStaticMembersProcesso\nr.checkFinalConditions(MoveStaticMembersProcessor.java:325)\n\tat\norg.eclipse.ltk.core.refactoring.participants.ProcessorBasedRefactoring.checkFi\nnalConditions(ProcessorBasedRefactoring.java:169)\n\tat\norg.eclipse.ltk.core.refactoring.CheckConditionsOperation.run(CheckConditionsOp\neration.java:84)\n\tat\norg.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperatio\nn.java:114)\n\tat\norg.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719)\n\tat\norg.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchR\nunnableAdapter.java:86)\n\tat\norg.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.ja\nva:113)\n",
    "Cannot reproduce this using 3.2 M1. I think this has been fixed, but I can\u0027t \nremember the exact bug number.\n\nIf this problem should still persist, please reopen with a minimal test case."
  ],
  "commentCreationDates": [
    "2005-07-14T16:10:20+02:00",
    "2005-07-14T16:18:03+02:00",
    "2005-07-14T18:04:44+02:00",
    "2005-07-15T15:52:10+02:00",
    "2005-07-18T13:23:52+02:00",
    "2005-07-18T15:20:15+02:00",
    "2005-07-19T15:20:42+02:00",
    "2005-07-19T15:26:51+02:00",
    "2005-08-15T11:10:56+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.reflect.InvocationTargetException",
      "elements": [
        {
          "method": "org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run",
          "source": "WorkbenchRunnableAdapter.java:90"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:113"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "103812",
      "date": "2005-07-14T16:10:20+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.reflect.InvocationTargetException",
      "elements": [
        {
          "method": "org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run",
          "source": "WorkbenchR unnableAdapter.java:90"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.ja va:113"
        }
      ],
      "number": 1,
      "commentIndex": 7,
      "bugId": "103812",
      "date": "2005-07-19T15:26:51+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "103812",
  "bugId": "103812",
  "date": "2005-07-14T16:10:20+02:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}