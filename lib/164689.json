{
  "comments": [
    "One of our production users hit this npe\n\njava.lang.NullPointerException\n    at org.eclipse.wst.xml.core.internal.document.NodeContainer$ChildNodesCache.item(NodeContainer.java:82)\n    at org.eclipse.wst.xml.core.internal.document.NodeContainer.item(NodeContainer.java:335)\n    at com.bea.wlw.jsp.core.util.JspDocumentUtil.findTaglibFromNS(JspDocumentUtil.java:234)\n    at com.bea.wlw.jsp.core.util.JspDocumentUtil.findTaglibFromNS(JspDocumentUtil.java:237)\n    at com.bea.wlw.jsp.core.util.JspDocumentUtil.getTaglibImport(JspDocumentUtil.java:177)\n    at com.bea.wlw.netui.core.page.model.PageStructureBuilder.isFaces(PageStructureBuilder.java:225)\n    at com.bea.wlw.netui.core.page.model.PageStructureBuilder.build(PageStructureBuilder.java:151)\n    at com.bea.wlw.common.core.model.AbstractExternalEventAdapter$StructureBuilderJob.run(AbstractExternalEventAdapter.java:280)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)",
    "Sorry we don\u0027t have more solid repro steps for this one, but to add some more context, what our code is doing here is recursively looping through the elements in a jsp looking for a particular taglib definition. It starts at the Document itself, and since this is two layers into the stack it looks like it is on the first child of the Document.\n\nThe NPE happened while calling item(index i) on a NodeList retrieved by calling getChildNodes().\n\nHere\u0027s a code snippet:\n\n        // \"node\" here is most likely the first child of the Document\n        NodeList children \u003d node.getChildNodes();\n        for( int i\u003d0; i\u003cchildren.getLength(); i++ )\n        {\n            Node child \u003d children.item(i); // this is the call that npe\u0027d\n            if ( child instanceof Element )\n            {\n                String candidate \u003d findTaglibFromNS( jspFile, child, taglibURN, webProject );\n                if ( candidate !\u003d null )\n                    return candidate;\n            }\n        }"
  ],
  "commentCreationDates": [
    "2006-11-15T18:16:06+01:00",
    "2006-11-16T15:00:56+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.wst.xml.core.internal.document.NodeContainer$ChildNodesCache.item",
          "source": "NodeContainer.java:82"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.NodeContainer.item",
          "source": "NodeContainer.java:335"
        },
        {
          "method": "com.bea.wlw.jsp.core.util.JspDocumentUtil.findTaglibFromNS",
          "source": "JspDocumentUtil.java:234"
        },
        {
          "method": "com.bea.wlw.jsp.core.util.JspDocumentUtil.findTaglibFromNS",
          "source": "JspDocumentUtil.java:237"
        },
        {
          "method": "com.bea.wlw.jsp.core.util.JspDocumentUtil.getTaglibImport",
          "source": "JspDocumentUtil.java:177"
        },
        {
          "method": "com.bea.wlw.netui.core.page.model.PageStructureBuilder.isFaces",
          "source": "PageStructureBuilder.java:225"
        },
        {
          "method": "com.bea.wlw.netui.core.page.model.PageStructureBuilder.build",
          "source": "PageStructureBuilder.java:151"
        },
        {
          "method": "com.bea.wlw.common.core.model.AbstractExternalEventAdapter$StructureBuilderJob.run",
          "source": "AbstractExternalEventAdapter.java:280"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:76"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "164689",
      "date": "2006-11-15T18:16:06+01:00",
      "product": "Web Tools",
      "component": "wst.xml",
      "severity": "normal"
    }
  ],
  "groupId": "164689",
  "bugId": "164689",
  "date": "2006-11-15T18:16:06+01:00",
  "product": "Web Tools",
  "component": "wst.xml",
  "severity": "normal"
}