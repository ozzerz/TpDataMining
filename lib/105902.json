{
  "comments": [
    "All of a sudden, when I try to do Project\u003eClean, I get an \nArrayIndexOutOfBoundsException and no dialog shows up to perform a clean.\n\njava.lang.ArrayIndexOutOfBoundsException\nat java.lang.String.getChars(String.java:620)\nat java.lang.StringBuffer.append(StringBuffer.java:251)\nat org.eclipse.core.internal.preferences.EclipsePreferences.absolutePath\n(EclipsePreferences.java:86)\nat org.eclipse.core.internal.preferences.InstancePreferences.\u003cinit\u003e\n(InstancePreferences.java:62)\nat org.eclipse.core.internal.preferences.InstancePreferences.internalCreate\n(InstancePreferences.java:209)\nat org.eclipse.core.internal.preferences.EclipsePreferences.create\n(EclipsePreferences.java:288)\nat org.eclipse.core.internal.preferences.EclipsePreferences.internalNode\n(EclipsePreferences.java:549)\nat org.eclipse.core.internal.preferences.EclipsePreferences.node\n(EclipsePreferences.java:683)\nat org.eclipse.core.internal.preferences.AbstractScope.getNode\n(AbstractScope.java:39)\nat org.eclipse.ui.preferences.ScopedPreferenceStore.getStorePreferences\n(ScopedPreferenceStore.java:222)\nat org.eclipse.ui.preferences.ScopedPreferenceStore.getPreferenceNodes\n(ScopedPreferenceStore.java:262)\nat org.eclipse.ui.preferences.ScopedPreferenceStore.internalGet\n(ScopedPreferenceStore.java:443)\nat org.eclipse.ui.preferences.ScopedPreferenceStore.getString\n(ScopedPreferenceStore.java:500)\nat org.eclipse.ui.internal.registry.EditorRegistry.initializeFromStorage\n(EditorRegistry.java:542)\nat org.eclipse.ui.internal.registry.EditorRegistry.\u003cinit\u003e\n(EditorRegistry.java:156)\nat org.eclipse.ui.internal.WorkbenchPlugin.getEditorRegistry\n(WorkbenchPlugin.java:304)\nat org.eclipse.ui.internal.Workbench.getEditorRegistry(Workbench.java:777)\nat org.eclipse.ui.model.WorkbenchLabelProvider.\u003cinit\u003e\n(WorkbenchLabelProvider.java:72)\nat org.eclipse.ui.internal.ide.dialogs.CleanDialog.createProjectSelectionTable\n(CleanDialog.java:190)\nat org.eclipse.ui.internal.ide.dialogs.CleanDialog.createCustomArea\n(CleanDialog.java:171)\nat org.eclipse.jface.dialogs.MessageDialog.createDialogArea\n(MessageDialog.java:231)\nat org.eclipse.jface.dialogs.IconAndMessageDialog.createDialogAndButtonArea\n(IconAndMessageDialog.java:199)\nat org.eclipse.jface.dialogs.IconAndMessageDialog.createContents\n(IconAndMessageDialog.java:188)\nat org.eclipse.jface.window.Window.create(Window.java:418)\nat org.eclipse.jface.dialogs.Dialog.create(Dialog.java:996)\nat org.eclipse.jface.window.Window.open(Window.java:776)\nat org.eclipse.ui.internal.ide.actions.BuildCleanAction.run\n(BuildCleanAction.java:51)\nat org.eclipse.jface.action.Action.runWithEvent(Action.java:996)\nat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:538)\nat org.eclipse.jface.action.ActionContributionItem.access$2\n(ActionContributionItem.java:488)\nat org.eclipse.jface.action.ActionContributionItem$5.handleEvent\n(ActionContributionItem.java:400)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\nat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\nat org.eclipse.core.internal.runtime.PlatformActivator$1.run\n(PlatformActivator.java:226)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:64)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:615)\nat org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\nat org.eclipse.core.launcher.Main.run(Main.java:973)\nat org.eclipse.core.launcher.Main.main(Main.java:948)",
    "When I tried to replicate the event in a second launch under debugging, it \nwould not happen again. Now I cannot reproduce it. Yet, it happened once.\nPerhaps we need to add a try-catch at a convenient point?",
    "What VM?  This looks like a bug in the class library. The line of Eclipse code is:\n\nif (parentPath.length() \u003d\u003d 1)\n\t...\nelse\n\tcachedPath \u003d parentPath + PATH_SEPARATOR + name(); \u003c\u003c Line 86\n\nThe + operator on String is converted into StringBuffer methods by the compiler.\nThis should not cause any exceptions, since even appending null to a string\nworks fine.\n",
    "I admit this is a VM issue as I was doing some funky heap stuff.\n\nMy point is that a defensive try-catch may help the workbench to recover more \nintelligently from these kind of lower-level things.\nCurrently, I cannot even close the workbench as the exception travels all the \nway up.",
    "Now the truth comes out \u003cg\u003e\n\nThe workbench event loop should have caught this runtime exception. I would\nexpect an error dialog with some message like \"An internal error has occurred,\ncheck the log for details\".",
    "I closed this bug. This was due to an experimental VM that messed up Strings."
  ],
  "commentCreationDates": [
    "2005-08-03T14:51:56+02:00",
    "2005-08-03T14:56:14+02:00",
    "2005-08-03T17:12:18+02:00",
    "2005-08-03T19:07:39+02:00",
    "2005-08-03T20:52:43+02:00",
    "2005-08-04T14:02:33+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "elements": [
        {
          "method": "java.lang.String.getChars",
          "source": "String.java:620"
        },
        {
          "method": "java.lang.StringBuffer.append",
          "source": "StringBuffer.java:251"
        },
        {
          "method": "org.eclipse.core.internal.preferences.EclipsePreferences.absolutePath",
          "source": "EclipsePreferences.java:86"
        },
        {
          "method": "org.eclipse.core.internal.preferences.InstancePreferences.\u003cinit\u003e",
          "source": "InstancePreferences.java:62"
        },
        {
          "method": "org.eclipse.core.internal.preferences.InstancePreferences.internalCreate",
          "source": "InstancePreferences.java:209"
        },
        {
          "method": "org.eclipse.core.internal.preferences.EclipsePreferences.create",
          "source": "EclipsePreferences.java:288"
        },
        {
          "method": "org.eclipse.core.internal.preferences.EclipsePreferences.internalNode",
          "source": "EclipsePreferences.java:549"
        },
        {
          "method": "org.eclipse.core.internal.preferences.EclipsePreferences.node",
          "source": "EclipsePreferences.java:683"
        },
        {
          "method": "org.eclipse.core.internal.preferences.AbstractScope.getNode",
          "source": "AbstractScope.java:39"
        },
        {
          "method": "org.eclipse.ui.preferences.ScopedPreferenceStore.getStorePreferences",
          "source": "ScopedPreferenceStore.java:222"
        },
        {
          "method": "org.eclipse.ui.preferences.ScopedPreferenceStore.getPreferenceNodes",
          "source": "ScopedPreferenceStore.java:262"
        },
        {
          "method": "org.eclipse.ui.preferences.ScopedPreferenceStore.internalGet",
          "source": "ScopedPreferenceStore.java:443"
        },
        {
          "method": "org.eclipse.ui.preferences.ScopedPreferenceStore.getString",
          "source": "ScopedPreferenceStore.java:500"
        },
        {
          "method": "org.eclipse.ui.internal.registry.EditorRegistry.initializeFromStorage",
          "source": "EditorRegistry.java:542"
        },
        {
          "method": "org.eclipse.ui.internal.registry.EditorRegistry.\u003cinit\u003e",
          "source": "EditorRegistry.java:156"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPlugin.getEditorRegistry",
          "source": "WorkbenchPlugin.java:304"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.getEditorRegistry",
          "source": "Workbench.java:777"
        },
        {
          "method": "org.eclipse.ui.model.WorkbenchLabelProvider.\u003cinit\u003e",
          "source": "WorkbenchLabelProvider.java:72"
        },
        {
          "method": "org.eclipse.ui.internal.ide.dialogs.CleanDialog.createProjectSelectionTable",
          "source": "CleanDialog.java:190"
        },
        {
          "method": "org.eclipse.ui.internal.ide.dialogs.CleanDialog.createCustomArea",
          "source": "CleanDialog.java:171"
        },
        {
          "method": "org.eclipse.jface.dialogs.MessageDialog.createDialogArea",
          "source": "MessageDialog.java:231"
        },
        {
          "method": "org.eclipse.jface.dialogs.IconAndMessageDialog.createDialogAndButtonArea",
          "source": "IconAndMessageDialog.java:199"
        },
        {
          "method": "org.eclipse.jface.dialogs.IconAndMessageDialog.createContents",
          "source": "IconAndMessageDialog.java:188"
        },
        {
          "method": "org.eclipse.jface.window.Window.create",
          "source": "Window.java:418"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog.create",
          "source": "Dialog.java:996"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:776"
        },
        {
          "method": "org.eclipse.ui.internal.ide.actions.BuildCleanAction.run",
          "source": "BuildCleanAction.java:51"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:996"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:538"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:843"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3080"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2713"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1699"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1663"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:367"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:64"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:43"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:615"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "105902",
      "date": "2005-08-03T14:51:56+02:00",
      "product": "Platform",
      "component": "Runtime",
      "severity": "normal"
    }
  ],
  "groupId": "105902",
  "bugId": "105902",
  "date": "2005-08-03T14:51:56+02:00",
  "product": "Platform",
  "component": "Runtime",
  "severity": "normal"
}