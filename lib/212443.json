{
  "comments": [
    "I get the following error trying to use the weaving ant task\n\nC:\\Engineering\\EclipseLink\\dev\\jpa\\eclipselink.jpa.test\\build.xml:311: Exception [EclipseLink-40007] (Eclipse Persistence Services - SNAPSHOT (Build 20071204)): org.eclipse.persistence.exception\nException Description: An exception was thrown while weaving: {0}\nInternal Exception: java.lang.ClassCastException: $Proxy5\n\nOnly the exception is return and no stack even with logging at finest.  Also the {0} is not translated.  Any error that occurs during the task must be logged as a warning to the eclipselink log (to allow the stack on finest).  Also the exception class is incorrect.  It has a resource variable that is rarely set, and when it is set is not set to the resource.  I assume the resource should be the persistence.xml being weaved that causes the error, or the jar file being weaved?  Either way every error must set this.\n\nThe exception should handle the printing of the resource, each error message should not have a marker {0} to translate it, and if it did it must pass in the value.\n\nThe full stack is,\n\n    [weave] [EPS Warning]: 2007.12.10 01:42:39.060--Thread(Thread[main,5,main])--java.lang.ClassCastException: $Proxy5\n    [weave]     at org.eclipse.persistence.internal.jpa.metadata.accessors.ClassAccessor.processTable(ClassAccessor.java:1661)\n    [weave]     at\n\nWhich is occurring because the annotation is being loaded on a different class loader than that of TopLink.  This annotation code is wrong in general and is the same reason why our annotations do not work with Spring or WebSphere, so this must be fixed.\n\nYou should not have to call ant with a -lib to get the weaver to work, you should be able to set the classpath in the ant file, otherwise the ant task is useless."
  ],
  "commentCreationDates": [
    "2007-12-10T18:56:01+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "$Proxy5     [weave]",
      "elements": [
        {
          "method": "org.eclipse.persistence.internal.jpa.metadata.accessors.ClassAccessor.processTable",
          "source": "ClassAccessor.java:1661"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "212443",
      "date": "2007-12-10T18:56:01+01:00",
      "product": "EPS(EclipseLink)",
      "component": "ORM",
      "severity": "normal"
    }
  ],
  "groupId": "212443",
  "bugId": "212443",
  "date": "2007-12-10T18:56:01+01:00",
  "product": "EPS(EclipseLink)",
  "component": "ORM",
  "severity": "normal"
}