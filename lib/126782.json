{
  "comments": [
    "The following exception is being thrown by our internal product using the wtp0202I build (1.5). The excpetion is thrown for each module project created from the 3rd page of the EAR creation wizard.\n\norg.eclipse.core.runtime.CoreException: One or more constraints have not been satisfied.\n\tat org.eclipse.wst.common.project.facet.core.internal.FacetedProject.modifyInternal(FacetedProject.java:265)\n\tat org.eclipse.wst.common.project.facet.core.internal.FacetedProject.access$0(FacetedProject.java:247)\n\tat org.eclipse.wst.common.project.facet.core.internal.FacetedProject$1.run(FacetedProject.java:232)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1714)\n\tat org.eclipse.wst.common.project.facet.core.internal.FacetedProject.modify(FacetedProject.java:237)\n\tat org.eclipse.wst.common.componentcore.internal.operation.FacetProjectCreationOperation.addDefaultFacetsInProject(FacetProjectCreationOperation.java:164)\n\tat org.eclipse.wst.common.componentcore.internal.operation.FacetProjectCreationOperation.addDefaultFactets(FacetProjectCreationOperation.java:196)\n\tat org.eclipse.jst.j2ee.application.internal.operations.DefaultJ2EEComponentCreationOperation.addDefaultFacets(DefaultJ2EEComponentCreationOperation.java:119)\n\tat org.eclipse.jst.j2ee.application.internal.operations.DefaultJ2EEComponentCreationOperation.createRarJ2EEComponent(DefaultJ2EEComponentCreationOperation.java:92)\n\tat org.eclipse.jst.j2ee.application.internal.operations.DefaultJ2EEComponentCreationOperation.execute(DefaultJ2EEComponentCreationOperation.java:57)\n\tat org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.doExecute(ExtendableOperationImpl.java:163)\n\tat org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl$1.run(ExtendableOperationImpl.java:131)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1714)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1734)\n\tat org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.execute(ExtendableOperationImpl.java:137)\n\tat org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelWizard$3.run(DataModelWizard.java:191)\n\tat org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:360)\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:305)\n\tat org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:843)\n\tat org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelWizard.runOperations(DataModelWizard.java:199)\n\tat org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelWizard.performFinish(DataModelWizard.java:174)\n\tat org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:676)\n\tat org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:349)\n\tat org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:607)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:914)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3285)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2905)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:808)\n\tat org.eclipse.jface.window.Window.open(Window.java:786)\n\tat org.eclipse.jst.j2ee.ui.project.facet.EarFacetInstallPage.handleNewModuleButtonPressed(EarFacetInstallPage.java:235)\n\tat org.eclipse.jst.j2ee.ui.project.facet.EarFacetInstallPage.handleEvent(EarFacetInstallPage.java:222)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:914)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3285)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2905)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:808)\n\tat org.eclipse.jface.window.Window.open(Window.java:786)\n\tat org.eclipse.ui.actions.NewProjectAction.run(NewProjectAction.java:114)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:492)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:530)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:480)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:392)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:914)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3285)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2905)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1762)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1726)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:397)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:109)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:379)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)\n\tat java.lang.reflect.Method.invoke(Method.java:391)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:282)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)",
    "I believe this has something to do with the way the WAS runtime is defined by IBM.  I cannot reproduce this on WTP.  Perhaps the default facets are missing some required prereq facet or something...\n\nKosta, when does this usually occur?\n\n",
    "The exception is saying that the constraints for at least one of the facets being installed are not satisfied. The most likely cause is a required facet missing from the list. You may be able to get more information on this by launching one of the module project wizard, selecting WAS runtime, and then looking to see if there are any validation errors on the second page. Hopefully, its obvious which facet is missing.\n\nBTW, the reason the error message is not very helpful is due to the use of the \u003cor\u003e operator in one of the facet constraints. I would advise reviewing those cases and switching to version expressions where applicable.",
    "This is not a WTP issue.  It is a problem with the IBM runtime\u0027s definition of the extension point \"org.eclipse.wst.common.project.facet.core.defaultFacets\".  In there, they add all J2EE module type extensions as default facets.  This is bad because they are all conflicting types and can never all be added to the same project.  Please open a defect against the IBM runtime provider.",
    "Actually, that\u0027s what one has to do in order to specify defaults for all situations. The facets framework code takes care of filtering down that list based on the fixed facets provided. For instance, if you ask for default facets and say that your fixed facet is jst.web, the framework will not return you any facets that conflict with jst.web or depend on those that do. \n\nSo... The only reason that specifying all j2ee module facets in the defaultFacets extension point would be a problem if you are somehow attempting to create a project without specifying fixed facets. Don\u0027t know enough about the impl details of this operation to say whether fixed facets are getting set or not.",
    "Ah, ok, yep this is a problem with fixed facets.  Thanks Kosta for that heads up.",
    "In the addDefaultFacets method in FacetProjectCreation operation there was a call to setFixedFacets with a set of new fixed facets.  Problem is, the faceted project already had some fixed facets on it, so these were overwritten.  I changed this to retrieve the existing ones, add those to the new ones, and then set that back on the faceted project.  This resolved the issue.\n\nThis is released for the 02/09/06 WTP 1.5 M5 integration build.",
    "closing as verified"
  ],
  "commentCreationDates": [
    "2006-02-07T19:18:47+01:00",
    "2006-02-07T19:35:56+01:00",
    "2006-02-07T19:42:47+01:00",
    "2006-02-08T14:22:34+01:00",
    "2006-02-08T14:48:17+01:00",
    "2006-02-08T16:44:44+01:00",
    "2006-02-08T16:51:08+01:00",
    "2006-06-15T19:16:39+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.runtime.CoreException",
      "message": "One or more constraints have not been satisfied.",
      "elements": [
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.FacetedProject.modifyInternal",
          "source": "FacetedProject.java:265"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.FacetedProject.access$0",
          "source": "FacetedProject.java:247"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.FacetedProject$1.run",
          "source": "FacetedProject.java:232"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1714"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.FacetedProject.modify",
          "source": "FacetedProject.java:237"
        },
        {
          "method": "org.eclipse.wst.common.componentcore.internal.operation.FacetProjectCreationOperation.addDefaultFacetsInProject",
          "source": "FacetProjectCreationOperation.java:164"
        },
        {
          "method": "org.eclipse.wst.common.componentcore.internal.operation.FacetProjectCreationOperation.addDefaultFactets",
          "source": "FacetProjectCreationOperation.java:196"
        },
        {
          "method": "org.eclipse.jst.j2ee.application.internal.operations.DefaultJ2EEComponentCreationOperation.addDefaultFacets",
          "source": "DefaultJ2EEComponentCreationOperation.java:119"
        },
        {
          "method": "org.eclipse.jst.j2ee.application.internal.operations.DefaultJ2EEComponentCreationOperation.createRarJ2EEComponent",
          "source": "DefaultJ2EEComponentCreationOperation.java:92"
        },
        {
          "method": "org.eclipse.jst.j2ee.application.internal.operations.DefaultJ2EEComponentCreationOperation.execute",
          "source": "DefaultJ2EEComponentCreationOperation.java:57"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.doExecute",
          "source": "ExtendableOperationImpl.java:163"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl$1.run",
          "source": "ExtendableOperationImpl.java:131"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1714"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1734"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ExtendableOperationImpl.execute",
          "source": "ExtendableOperationImpl.java:137"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelWizard$3.run",
          "source": "DataModelWizard.java:191"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:360"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:305"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.run",
          "source": "WizardDialog.java:843"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelWizard.runOperations",
          "source": "DataModelWizard.java:199"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelWizard.performFinish",
          "source": "DataModelWizard.java:174"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.finishPressed",
          "source": "WizardDialog.java:676"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.buttonPressed",
          "source": "WizardDialog.java:349"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$2.widgetSelected",
          "source": "Dialog.java:607"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:90"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:914"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3285"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2905"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:808"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:786"
        },
        {
          "method": "org.eclipse.jst.j2ee.ui.project.facet.EarFacetInstallPage.handleNewModuleButtonPressed",
          "source": "EarFacetInstallPage.java:235"
        },
        {
          "method": "org.eclipse.jst.j2ee.ui.project.facet.EarFacetInstallPage.handleEvent",
          "source": "EarFacetInstallPage.java:222"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:914"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3285"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2905"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:808"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:786"
        },
        {
          "method": "org.eclipse.ui.actions.NewProjectAction.run",
          "source": "NewProjectAction.java:114"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:492"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:530"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:480"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:392"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:914"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3285"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2905"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1762"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1726"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:397"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:109"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:379"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:58"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:60"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:391"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:338"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:282"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "126782",
      "date": "2006-02-07T19:18:47+01:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "major"
    }
  ],
  "groupId": "126782",
  "bugId": "126782",
  "date": "2006-02-07T19:18:47+01:00",
  "product": "Web Tools",
  "component": "jst.j2ee",
  "severity": "major"
}