{
  "comments": [
    "I\u0027ve found some problems using the SWT_AWT bridge, below is the snippet and \nstacktrace. After running it just press the Alt key and you will get the \nmentioned stacktrace.\n\nIf it helps I\u0027ve tested with cross-platform look and feel (or without setting \nit) and everything working fine.\n\n\nimport java.awt.Frame;\n\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\nimport org.eclipse.swt.SWT;\nimport org.eclipse.swt.awt.SWT_AWT;\nimport org.eclipse.swt.layout.FillLayout;\nimport org.eclipse.swt.widgets.Composite;\nimport org.eclipse.swt.widgets.Display;\nimport org.eclipse.swt.widgets.Shell;\n\npublic class SWTAWTTest {\n  public static void main(String[] args) {\n    final Display display \u003d new Display();\n    final Shell shell \u003d new Shell(display);\n    shell.setLayout(new FillLayout());\n\n    Composite container \u003d new Composite(shell, SWT.EMBEDDED);\n    container.setLayout(new FillLayout());\n\n    Frame frame \u003d SWT_AWT.new_Frame(container);\n\n    try {\n      UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n    } catch (ClassNotFoundException e) {\n      e.printStackTrace();\n    } catch (InstantiationException e) {\n      e.printStackTrace();\n    } catch (IllegalAccessException e) {\n      e.printStackTrace();\n    } catch (UnsupportedLookAndFeelException e) {\n      e.printStackTrace();\n    }\n\n    shell.pack();\n    shell.open();\n\n    while (!shell.isDisposed ()) {\n      if (!display.readAndDispatch ()) display.sleep ();\n    }\n    display.dispose ();\n  }\n}\n\nand the stacktarce:\n\njava.lang.NullPointerException\n at javax.swing.SwingUtilities.getWindowAncestor(SwingUtilities.java:63)\n at\ncom.sun.java.swing.plaf.windows.WindowsRootPaneUI$AltProcessor.postProcessKe\nyEvent(WindowsRootPaneUI.java:158)\n at\njava.awt.DefaultKeyboardFocusManager.dispatchKeyEvent(DefaultKeyboardFocusMa\nnager.java:637)\n at\njava.awt.DefaultKeyboardFocusManager.preDispatchKeyEvent(DefaultKeyboardFocu\nsManager.java:831)\n at\njava.awt.DefaultKeyboardFocusManager.typeAheadAssertions(DefaultKeyboardFocu\nsManager.java:741)\n at\njava.awt.DefaultKeyboardFocusManager.dispatchEvent(DefaultKeyboardFocusManag\ner.java:592)\n at java.awt.Component.dispatchEventImpl(Component.java:3506)\n at java.awt.Container.dispatchEventImpl(Container.java:1627)\n at java.awt.Window.dispatchEventImpl(Window.java:1606)\n at java.awt.Component.dispatchEvent(Component.java:3477)\n at java.awt.EventQueue.dispatchEvent(EventQueue.java:456)\n at\njava.awt.EventDispatchThread.pumpOneEventForHierarchy(EventDispatchThread.ja\nva:201)\n at\njava.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java\n:151)\n at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:145)\n at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:137)\n at java.awt.EventDispatchThread.run(EventDispatchThread.java:100)",
    "This snippet works fine running JDK1.5.0_01 and JDK1.4.2_06. It fails running \nJDK1.4.2_02. I believe this is a bug in AWT that has been fixed already.\n\nWhich VM are you running?",
    "(In reply to comment #1)\n\u003e This snippet works fine running JDK1.5.0_01 and JDK1.4.2_06. It fails running \n\u003e JDK1.4.2_02. I believe this is a bug in AWT that has been fixed already.\n\u003e Which VM are you running?\n\nSorry, I forgot to mention this\nJ2SE 1.4.2_03-b02 from SUN !",
    "There is not much SWT can do here. It is an AWT bug that has been fixed \nalready, so I will have to close it as WONTFIX. Is upgrading the JDK an option \nfor you?",
    "Yes, it\u0027s an option. \nWhen I\u0027ve discovered that this happens only with the system look and feel I\u0027ve \nasked the same question, but didn\u0027t tried with newer JDK.\n\nThanks for the support.\n"
  ],
  "commentCreationDates": [
    "2005-05-11T10:02:57+02:00",
    "2005-05-11T21:29:59+02:00",
    "2005-05-12T10:04:34+02:00",
    "2005-05-12T17:20:44+02:00",
    "2005-05-13T10:16:45+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "javax.swing.SwingUtilities.getWindowAncestor",
          "source": "SwingUtilities.java:63"
        },
        {
          "method": "com.sun.java.swing.plaf.windows.WindowsRootPaneUI$AltProcessor.postProcessKeyEvent",
          "source": "WindowsRootPaneUI.java:158"
        },
        {
          "method": "java.awt.DefaultKeyboardFocusManager.dispatchKeyEvent",
          "source": "DefaultKeyboardFocusMa nager.java:637"
        },
        {
          "method": "java.awt.DefaultKeyboardFocusManager.preDispatchKeyEvent",
          "source": "DefaultKeyboardFocu sManager.java:831"
        },
        {
          "method": "java.awt.DefaultKeyboardFocusManager.typeAheadAssertions",
          "source": "DefaultKeyboardFocu sManager.java:741"
        },
        {
          "method": "java.awt.DefaultKeyboardFocusManager.dispatchEvent",
          "source": "DefaultKeyboardFocusManag er.java:592"
        },
        {
          "method": "java.awt.Component.dispatchEventImpl",
          "source": "Component.java:3506"
        },
        {
          "method": "java.awt.Container.dispatchEventImpl",
          "source": "Container.java:1627"
        },
        {
          "method": "java.awt.Window.dispatchEventImpl",
          "source": "Window.java:1606"
        },
        {
          "method": "java.awt.Component.dispatchEvent",
          "source": "Component.java:3477"
        },
        {
          "method": "java.awt.EventQueue.dispatchEvent",
          "source": "EventQueue.java:456"
        },
        {
          "method": "java.awt.EventDispatchThread.pumpOneEventForHierarchy",
          "source": "EventDispatchThread.ja va:201"
        },
        {
          "method": "java.awt.EventDispatchThread.pumpEventsForHierarchy",
          "source": "EventDispatchThread.java :151"
        },
        {
          "method": "java.awt.EventDispatchThread.pumpEvents",
          "source": "EventDispatchThread.java:145"
        },
        {
          "method": "java.awt.EventDispatchThread.pumpEvents",
          "source": "EventDispatchThread.java:137"
        },
        {
          "method": "java.awt.EventDispatchThread.run",
          "source": "EventDispatchThread.java:100"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "94618",
      "date": "2005-05-11T10:02:57+02:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    }
  ],
  "groupId": "94618",
  "bugId": "94618",
  "date": "2005-05-11T10:02:57+02:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "normal"
}