{
  "comments": [
    "This was a real crash. Quite possibly a Java out of memory, but I had started\nEclipse with the following flags: D:\\eclipse3.1M5a\\eclipse\\eclipse.exe -vmargs\n-Xmx256m\n\nI\u0027d been working for about 11 hours and Eclipse had been open maybe 24 hours.\nDid a Refactor \u003e Rename with a package selected in the Explorer. The refactor\ndialog produced some chit-chat but I ignored it and clicked Finish. It looked\nlike it was finished and the dialog went away and Eclipse vanished immediately\nthereafter but I can\u0027t be sure the two weren\u0027t simultaneous events.\n\nRestarted Eclipse and it recovered satisfactorily. No data lost. The files in\nthe package are renamed. There are 19 files, a mixture of interfaces and classes\nwith one messages.properties file.\n\nI have a .log file but I\u0027m a little puzzled what to do with it. It\u0027s 218MB! I\nhung NotePad trying to open it. I\u0027m not eager to post it in the bug report. I\ncould mail it on a CD. For now I\u0027ve just renamed it. Please advise.",
    "The information about the crash should be at the end of the .log file. Could you\nplease attach to this bug report the last 200 lines of the .log file?\nThis should be good enough to have an idea about the problem, if something\nrelevant is in the .log file.",
    "Unless it\u0027s a mile-long stack trace, in which case you want what\u0027s near the\nfront. I\u0027ll see what I can get out of it.",
    "Oh, and by the way, about an hour later I had a rename fail on a simple text\nfile named \"config.ini\".",
    "Bob, the log file would definitelly help. \n\nHowever, even a OME shouldn\u0027t crash Eclipse. Where there any infos from the VM\nitself about the crash. The info would even be more helpful than the .log.",
    "Bob, any additional info here. The VM dump would definitelly be a big help here.",
    "Created an attachment (id\u003d19433)\nZipped .log file from today\u0027s crash\n\nWRT my original bug report, you can download the zipped .log file from:\n\nhttp://xmlbuddy.com/savedlog.zip\n\nI just had another crash, this one when I pasted some text into a source file.\nSame symptom. I did something (paste), Eclipse vanished. It had nothing to do\nwith refactor that I could tell. That log was much smaller, so it\u0027s attached as\ncrashlog.zip",
    "About those other requests, I don\u0027t know where infos from the VM are and I don\u0027t\nknow how to get a dump of a VM that has crashed and gone. Is this something I\nhave to set up in advance?",
    "The VM tries to write a log file when it crashes. You would normally either find\nthe log file as sibling of java.exe or eclipse.exe.\n",
    "I looked at the logs and here are some findings:\n\n- the last entries in the savedLog are ClassNotFoundExceptions\n  net.redrobin.eclipse.jydt.debug.ui.JythonConsoleTracker\n\n- the last entries in the crashLog are of the form\n\norg.eclipse.core.internal.resources.ResourceException: Problems encountered\nwhile deleting resources.\n\tat\norg.eclipse.core.internal.localstore.FileSystemResourceManager.delete(FileSystemResourceManager.java:179)\n\tat\norg.eclipse.core.internal.resources.ResourceTree.standardDeleteFolder(ResourceTree.java:614)\n\tat\norg.eclipse.core.internal.resources.Resource.unprotectedDelete(Resource.java:1561)\n\tat org.eclipse.core.internal.resources.Resource.delete(Resource.java:666)\n\tat\norg.eclipse.jdt.internal.core.builder.BatchImageBuilder.cleanOutputFolders(BatchImageBuilder.java:125)\n\tat\norg.eclipse.jdt.internal.core.builder.BatchImageBuilder.build(BatchImageBuilder.java:35)\n\tat org.eclipse.jdt.internal.core.builder.JavaBuilder.buildAll(JavaBuilder.java:212)\n\tat org.eclipse.jdt.internal.core.builder.JavaBuilder.build(JavaBuilder.java:135)\n\tat org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:581)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1015)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:757)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:160)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:198)\n\tat org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:227)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1015)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:757)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:230)\n\tat\norg.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:249)\n\tat org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:278)\n\tat org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:138)\n\tat org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:199)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)\n\nBoth kind of exceptions shouldn\u0027t let the VM crash. \n\nBob, two additional questions:\n\n- which VM are you using\n- and which additional plug-ins do you have installed. Can you reproduce the\n  failure with a plain Eclipse installation.\n\nThe VM log/dump would be a big help since it tells us in which DLL/Exe the crash\nhappend.\n\nIf you can\u0027t find the log then you could try to start Eclipse using a plain java\n.exe. Something like\n\njava -showversion -Xms50M -Xmx350M -Dosgi.clean\u003dtrue -cp startup.jar\norg.eclipse.core.launcher.Main -update -application org.eclipse.ui.ide.workbench\n-showlocation\n\nWhen the VM crashes it tries to show the log in the console window as well.",
    "(In reply to comment #8)\n\nI don\u0027t see a log file in either of those places.\n",
    "(In reply to comment #9)\n\u003e - which VM are you using\n\nj2re1.4.2_07 (since 3/26). The first crash was in j2re1.4.2_06.\n\n\u003e - and which additional plug-ins do you have installed.\n\ncom.objfac.ant.preprocess_0.9.1\ncom.objfac.xmleditor_2.0.27\nnet.redrobin.eclipse.jydt.blah_1.4.6 (8 of these)\nnet.redrobin.eclipse.jython_1.3.9 (disabled)\n\nNone of these were active at the time of either crash. Jython wasn\u0027t installed\nwhen the first crash happened.\n\n\u003e Can you reproduce the\n\u003e   failure with a plain Eclipse installation.\n\nNot really. These failures are happening a week apart. I have disabled jython,\nbut I can\u0027t work for a week without my xmleditor or preprocessor. (If the former\nwas causing crashing bugs on this frequency many people would already be yelling\nat me. The latter is an Ant task.)\n\n\u003e java -showversion -Xms50M -Xmx350M -Dosgi.clean\u003dtrue -cp startup.jar\n\u003e org.eclipse.core.launcher.Main -update -application org.eclipse.ui.ide.workbench\n\u003e -showlocation\n\u003e \n\u003e When the VM crashes it tries to show the log in the console window as well.\n\nI can try this.\n\nOne new piece of information: After restarting Eclipse I couldn\u0027t build because\nthe contents of a bin folder couldn\u0027t be cleaned. I eventually had to reboot and\ndelete the contents manually before I restarted Eclipse. Don\u0027t know that this\nmeans anything other than Eclipse crashed while using the folder and the OS\nstill had it locked.",
    "Had another crash in 3.1M5a. Created a new class, pasted a method in. Gone.\n\nThis time I got a little dialog with an Exit code\u003d107374189. Did the JVM write\nsomething somewhere that would be useful?",
    "Bob, the VM normally writes the dump into the directory from which you started\nEclipse. In most cases this is the Eclipse installation directory.\n\nHave you started the VM with \n\n\u003e java -showversion -Xms50M -Xmx350M -Dosgi.clean\u003dtrue -cp startup.jar\n\u003e org.eclipse.core.launcher.Main -update -application org.eclipse.ui.ide.workbench\n\u003e -showlocation\n\n\nThis should print some information to the console.\n\nIn general crashes can come from two different sources:\n\n- VM problem\n- native problems\n\nWithout a dump it is hard to tell where the crash is coming from. Can I ask you\nto try the following:\n\n- use a different VM for a while (JDK 1.5.0 for example) or the IBM VM\n\nAnd a question: when the crash happens during rename package, did you have open\nsource editors which were affected by the refactoring ?",
    "(In reply to comment #13)\n\u003e And a question: when the crash happens during rename package, did you have open\n\u003e source editors which were affected by the refactoring ?\n\nVery likely.",
    "Might be related to bug 91828.\n\nBob, bug 91828 contains a VM produced on a JDK 1.5 VM. Have you tried running on\nthis ?",
    "(In reply to comment #15)\n\u003e bug 91828 contains a VM produced on a JDK 1.5 VM. Have you tried running on\n\u003e this ?\n\nNo, and I have to say I\u0027m sorry to hear it. A friend told me his shop has\nswitched to 1.5 because \"1.4.2\" was too unstable - it crashed about once a week.\nNow you\u0027ve dashed my hopes for an easy fix. ;-}",
    "Bob, the crash reported in bug 91828 might be unrelated to yours. It clearly\nhappens in SWT.dll. I would still like to encourage you to switch to a 1.5 VM.\nIf you still see the crash (and we hopefully get a VM dump) we know where it\nhappens.",
    "Carolyn, \n\ncould this be a dup of bug 69374 as well. The crashes happen when the there are\ntextual modifications (copy/paste or refactoring) is a text editor. This might\ncall code in org.eclipse.swt.internal.ole.win32 as well.",
    "I don\u0027t think so, Dirk - sorry.\nAs far as we can tell, the problem in bug 69374 occurred sometime after 3.1M2 \nand before 3.1M5a. We believe that bug is fixed in 3.1M5a or later.\n\nHave you verified with the org.eclipse.core developers that \norg.eclipse.core.internal.resources.Resource.delete\ncannot cause a VM crash? (I don\u0027t know - just asking).",
    "Hi Bob,\n\nIf a VM log file was created (might not have been... the VM can\u0027t always \ncreate one) you would find it in the working directory (usually the eclipse \ninstall directory). It typically starts with \"hs_err\" (for example \nhs_err_pid1234.log) or \"javacore\". If it is there, it would be a new file \ncreated near the time of the crash.",
    "Sorry, I don\u0027t see a file like this.",
    "Carolyn, \n\naccording to the information in bug 91828 the crash happend on I20050219-1500\nwhich is M5a. I don\u0027t think that the crash is related to core resources since it\nhappened on normal copy/paste as well.",
    "Bob, have you tried using a different VM so far ?",
    "\u003e Bob, have you tried using a different VM so far ?\n\nI am today. A few hours ago my 1.4.2_07 JVM crashed after a long period of\ninactivity when I moved the mouse across the screen. Now running 1.5.0_02. I\u0027ll\ncheck back in next time I crash or in a week, whichever is sooner.",
    "Re comment 22: I have reopened bug 69374 (bug 91828 was marked as a dup). You \nare right that the problem described in those bugs still exists.\n\nYes, it is possible that 88948 is the same as 91828, but I wouldn\u0027t mark it as \na dup yet, because there\u0027s no proof that it\u0027s the same. For that, we need a VM \nstack trace with org.eclipse.swt.internal.ole.win32.IUnknown.Release() at or \nnear the top of the stack. In fact, the fact that Bob does not have a VM trace \nseems to indicate that it may not be the same crash.\n\nPlease add yourself as a cc to bug 69374 to track progress of the \naccessibility/IUnknown.Release() crash. Perhaps something will come up as a \nclue to this bug.",
    "Bob, are you still experience crashes ? If not I will close this bug report. If\nso, where you able to capture a VM dump ?",
    "Haven\u0027t seen one since switching to 1.5.",
    "Closing then assuming that this was a VM problem."
  ],
  "commentCreationDates": [
    "2005-03-23T22:52:11+01:00",
    "2005-03-24T00:34:27+01:00",
    "2005-03-24T01:57:19+01:00",
    "2005-03-24T01:58:16+01:00",
    "2005-03-24T11:41:04+01:00",
    "2005-03-29T22:54:43+02:00",
    "2005-04-01T02:59:18+02:00",
    "2005-04-01T03:01:25+02:00",
    "2005-04-01T13:34:26+02:00",
    "2005-04-01T16:52:23+02:00",
    "2005-04-01T18:50:48+02:00",
    "2005-04-01T19:13:07+02:00",
    "2005-04-14T23:11:23+02:00",
    "2005-04-15T12:17:55+02:00",
    "2005-04-15T19:34:50+02:00",
    "2005-04-19T18:39:35+02:00",
    "2005-04-20T04:12:03+02:00",
    "2005-04-20T10:47:03+02:00",
    "2005-04-20T10:51:19+02:00",
    "2005-04-20T21:20:26+02:00",
    "2005-04-20T21:22:39+02:00",
    "2005-04-21T09:24:37+02:00",
    "2005-04-21T10:10:59+02:00",
    "2005-04-21T10:12:22+02:00",
    "2005-04-25T00:18:28+02:00",
    "2005-04-26T08:44:43+02:00",
    "2005-05-26T16:44:49+02:00",
    "2005-05-26T18:32:48+02:00",
    "2005-05-26T18:36:38+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.internal.resources.ResourceException",
      "message": "Problems encountered while deleting resources.",
      "elements": [
        {
          "method": "org.eclipse.core.internal.localstore.FileSystemResourceManager.delete",
          "source": "FileSystemResourceManager.java:179"
        },
        {
          "method": "org.eclipse.core.internal.resources.ResourceTree.standardDeleteFolder",
          "source": "ResourceTree.java:614"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource.unprotectedDelete",
          "source": "Resource.java:1561"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource.delete",
          "source": "Resource.java:666"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.BatchImageBuilder.cleanOutputFolders",
          "source": "BatchImageBuilder.java:125"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.BatchImageBuilder.build",
          "source": "BatchImageBuilder.java:35"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.JavaBuilder.buildAll",
          "source": "JavaBuilder.java:212"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.JavaBuilder.build",
          "source": "JavaBuilder.java:135"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$2.run",
          "source": "BuildManager.java:581"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1015"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:757"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:160"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:198"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$1.run",
          "source": "BuildManager.java:227"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1015"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:757"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:230"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuildLoop",
          "source": "BuildManager.java:249"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.build",
          "source": "BuildManager.java:278"
        },
        {
          "method": "org.eclipse.core.internal.events.AutoBuildJob.doBuild",
          "source": "AutoBuildJob.java:138"
        },
        {
          "method": "org.eclipse.core.internal.events.AutoBuildJob.run",
          "source": "AutoBuildJob.java:199"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:67"
        }
      ],
      "number": 0,
      "commentIndex": 9,
      "bugId": "88948",
      "date": "2005-04-01T16:52:23+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "88948",
  "bugId": "88948",
  "date": "2005-03-23T22:52:11+01:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}