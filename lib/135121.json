{
  "comments": [
    "M5\n\nHaving the \"Show Source of Selected Element Only\" option enabled, I saw two different problems when deleting lines using Ctrl-D to delete the last line of the element:\n\n1) sometimes I get an \"java.lang.IllegalArgumentException: overlaps with existing fragment\"\n\n2) otherwise, Ctrl-d will allow me to happily allow me to blindly delete lines from the elements below the one I was editing without even giving me much of a clue that I was doing that. I would expect that the editor would restrict to editing the contents of that element only.\n\nHere is the Java source I used to reproduce the problem:\n\npublic class Test {\n\n\t/* this is a test*/\n\tprivate int var2 \u003d 0;\n\t\n\tprivate int var1 \u003d 0;\n\t\n\tpublic static void main(String[] args) {\n\t\tSystem.out.println(\"Hello\");\n\t}\n\n}\n\nTry positioning the cursor at the end of var1 (not sure it matters) and press Ctrl-D twice.",
    "Forgot the stack trace:\n\n!ENTRY org.eclipse.ui 4 0 2006-04-05 15:19:15.390\n!MESSAGE overlaps with existing fragment\n!STACK 0\njava.lang.IllegalArgumentException: overlaps with existing fragment\n\tat org.eclipse.jface.text.projection.ProjectionDocument.internalAddMasterDocumentRange(ProjectionDocument.java:286)\n\tat org.eclipse.jface.text.projection.ProjectionDocument.addMasterDocumentRange(ProjectionDocument.java:559)\n\tat org.eclipse.jface.text.projection.ProjectionDocument.adaptProjectionToMasterChange(ProjectionDocument.java:741)\n\tat org.eclipse.jface.text.projection.ProjectionDocument.masterDocumentAboutToBeChanged(ProjectionDocument.java:775)\n\tat org.eclipse.jface.text.projection.ProjectionDocumentManager.fireDocumentEvent(ProjectionDocumentManager.java:121)\n\tat org.eclipse.jface.text.projection.ProjectionDocumentManager.documentAboutToBeChanged(ProjectionDocumentManager.java:138)\n\tat org.eclipse.jface.text.AbstractDocument.fireDocumentAboutToBeChanged(AbstractDocument.java:623)\n\tat org.eclipse.jface.text.AbstractDocument.replace(AbstractDocument.java:1103)\n\tat org.eclipse.core.internal.filebuffers.SynchronizableDocument.replace(SynchronizableDocument.java:151)\n\tat org.eclipse.jface.text.AbstractDocument.replace(AbstractDocument.java:1119)\n\tat org.eclipse.core.internal.filebuffers.SynchronizableDocument.replace(SynchronizableDocument.java:137)\n\tat org.eclipse.ui.texteditor.DeleteLineTarget.deleteLine(DeleteLineTarget.java:357)\n\tat org.eclipse.ui.texteditor.DeleteLineAction.run(DeleteLineAction.java:151)\n...",
    "Great! We were looking for a test case for this IAE for quite some time.\n\nSee also bug 134227.",
    "Not the same as bug 134227.\n\nThis bug is caused by ProjectionDocument::internalAddMasterDocumentRange which did not account for a visible fragment of length zero.\n\nFixed \u003e 20060407",
    "Tom, does this fix problem #2 as well (blindly deleting lines from the next element)? If not, is there a PR for that?",
    "(In reply to comment #4)\n\u003e Tom, does this fix problem #2 as well (blindly deleting lines from the next\n\u003e element)? If not, is there a PR for that?\n\n2 x No - would you file a separate PR? Not sure whether we will be able to do this for 3.2, though.\n\n",
    "Ok. Opened bug 135563.",
    "verified in 20060426"
  ],
  "commentCreationDates": [
    "2006-04-05T21:37:31+02:00",
    "2006-04-05T21:43:43+02:00",
    "2006-04-06T09:24:34+02:00",
    "2006-04-07T14:29:50+02:00",
    "2006-04-07T16:50:05+02:00",
    "2006-04-07T16:51:37+02:00",
    "2006-04-07T17:00:02+02:00",
    "2006-04-26T16:37:15+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "overlaps with existing fragment",
      "elements": [
        {
          "method": "org.eclipse.jface.text.projection.ProjectionDocument.internalAddMasterDocumentRange",
          "source": "ProjectionDocument.java:286"
        },
        {
          "method": "org.eclipse.jface.text.projection.ProjectionDocument.addMasterDocumentRange",
          "source": "ProjectionDocument.java:559"
        },
        {
          "method": "org.eclipse.jface.text.projection.ProjectionDocument.adaptProjectionToMasterChange",
          "source": "ProjectionDocument.java:741"
        },
        {
          "method": "org.eclipse.jface.text.projection.ProjectionDocument.masterDocumentAboutToBeChanged",
          "source": "ProjectionDocument.java:775"
        },
        {
          "method": "org.eclipse.jface.text.projection.ProjectionDocumentManager.fireDocumentEvent",
          "source": "ProjectionDocumentManager.java:121"
        },
        {
          "method": "org.eclipse.jface.text.projection.ProjectionDocumentManager.documentAboutToBeChanged",
          "source": "ProjectionDocumentManager.java:138"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.fireDocumentAboutToBeChanged",
          "source": "AbstractDocument.java:623"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.replace",
          "source": "AbstractDocument.java:1103"
        },
        {
          "method": "org.eclipse.core.internal.filebuffers.SynchronizableDocument.replace",
          "source": "SynchronizableDocument.java:151"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.replace",
          "source": "AbstractDocument.java:1119"
        },
        {
          "method": "org.eclipse.core.internal.filebuffers.SynchronizableDocument.replace",
          "source": "SynchronizableDocument.java:137"
        },
        {
          "method": "org.eclipse.ui.texteditor.DeleteLineTarget.deleteLine",
          "source": "DeleteLineTarget.java:357"
        },
        {
          "method": "org.eclipse.ui.texteditor.DeleteLineAction.run",
          "source": "DeleteLineAction.java:151"
        }
      ],
      "number": 0,
      "commentIndex": 1,
      "bugId": "135121",
      "date": "2006-04-05T21:43:43+02:00",
      "product": "Platform",
      "component": "Text",
      "severity": "major"
    }
  ],
  "groupId": "135121",
  "bugId": "135121",
  "date": "2006-04-05T21:37:31+02:00",
  "product": "Platform",
  "component": "Text",
  "severity": "major"
}