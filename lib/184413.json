{
  "comments": [
    "Build ID: 3.2\n\nEclipse is calling createPartControl() out of the GUI-Thread \n\nFor more info:refer question Invalid Thread Access in eclipse.technology.nebula forum\n\n\nMore information:\norg.eclipse.swt.SWTException: Invalid thread access \nat org.eclipse.swt.SWT.error(SWT.java:3374)\nat org.eclipse.swt.SWT.error(SWT.java:3297)\nat org.eclipse.swt.SWT.error(SWT.java:3268)\nat org.eclipse.swt.widgets.Display.error(Display.java:978)\nat org.eclipse.swt.widgets.Display.checkDevice(Display.java:638)\nat org.eclipse.swt.widgets.Display.getSystemColor(Display.java:1931)\nat org.eclipse.nebula.widgets.gallery.DefaultGalleryItemRenderer.\u003cinit\u003e(DefaultGalleryItemRenderer.java:63)\nat com.sequenom.everest.ui.project.GalleryView.createPartControl(GalleryView.java:335)\nat org.eclipse.ui.internal.ViewReference.createPartHelper(ViewReference.java:332)\nat org.eclipse.ui.internal.ViewReference.createPart(ViewReference.java:197)\nat org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:566)\nat org.eclipse.ui.internal.WorkbenchPage$ActivationList.setActive(WorkbenchPage.java:3915)\nat org.eclipse.ui.internal.WorkbenchPage.restoreState(WorkbenchPage.java:2929)\nat org.eclipse.ui.internal.WorkbenchWindow.restoreState(WorkbenchWindow.java:1936)\nat org.eclipse.ui.internal.Workbench.doRestoreState(Workbench.java:2857)\nat org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1665)\nat org.eclipse.ui.internal.Workbench.access$12(Workbench.java:1650)\nat org.eclipse.ui.internal.Workbench$17.run(Workbench.java:1529)\nat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\nat org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1473)\nat org.eclipse.ui.internal.WorkbenchConfigurer.restoreState(WorkbenchConfigur",
    "We need the entire exception.  Please attach your .log file from \u003cworkspace\u003e/.metadata/.log\n\nPW\n",
    "Created an attachment (id\u003d65200)\nlog file\n\n",
    "The attached .log file does not contain the stack trace you put in comment #0.",
    "I don\u0027t think this is a Platform bug. Eclipse creates new Composite controls prior to passing it to createPartControl(Composite). If it was being called in a non-UI thread, it would\u0027ve failed there instead of within your view\u0027s implementation.\n\nI believe the problem is with the Nebula Gallery widget itself. The DefaultGalleryImageRenderer class (and also the DefaultGalleryGroupRenderer class) uses Display.getDefault(), which, I guess, has the potential of creating another Display which is somehow causing a conflict with the original UI thread from the Platform.\n\nIdeally, those two classes should be taking a Display in its constructor and creating the colours from them, if you just try to do the following on a single-monitor environment, it will fail because you are creating a second display.\n\nDefaultGalleryGroupRenderer gr \u003d new DefaultGalleryGroupRenderer();\nDisplay display \u003d new Display();\n\nLooking at the original newsgroup posting (http://dev.eclipse.org/newslists/news.eclipse.technology.nebula/msg00672.html), you create the Gallery Nebula widget _before_ you create your renderer. Similar to what I mentioned in the first paragraph, if you were in a non-UI thread, you would _not_ be able to create a Gallery SWT widget (which is just a subclass of Canvas which is a subclass of Composite)."
  ],
  "commentCreationDates": [
    "2007-04-27T13:35:07+02:00",
    "2007-04-27T13:41:28+02:00",
    "2007-04-27T14:47:14+02:00",
    "2007-04-27T23:00:33+02:00",
    "2007-08-29T20:14:07+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Invalid thread access",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3374"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3297"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3268"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.error",
          "source": "Display.java:978"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.checkDevice",
          "source": "Display.java:638"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.getSystemColor",
          "source": "Display.java:1931"
        },
        {
          "method": "org.eclipse.nebula.widgets.gallery.DefaultGalleryItemRenderer.\u003cinit\u003e",
          "source": "DefaultGalleryItemRenderer.java:63"
        },
        {
          "method": "com.sequenom.everest.ui.project.GalleryView.createPartControl",
          "source": "GalleryView.java:335"
        },
        {
          "method": "org.eclipse.ui.internal.ViewReference.createPartHelper",
          "source": "ViewReference.java:332"
        },
        {
          "method": "org.eclipse.ui.internal.ViewReference.createPart",
          "source": "ViewReference.java:197"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPartReference.getPart",
          "source": "WorkbenchPartReference.java:566"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$ActivationList.setActive",
          "source": "WorkbenchPage.java:3915"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.restoreState",
          "source": "WorkbenchPage.java:2929"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.restoreState",
          "source": "WorkbenchWindow.java:1936"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.doRestoreState",
          "source": "Workbench.java:2857"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.restoreState",
          "source": "Workbench.java:1665"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$12",
          "source": "Workbench.java:1650"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$17.run",
          "source": "Workbench.java:1529"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.restoreState",
          "source": "Workbench.java:1473"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "184413",
      "date": "2007-04-27T13:35:07+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "184413",
  "bugId": "184413",
  "date": "2007-04-27T13:35:07+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "major"
}