{
  "comments": [
    "i200506170010\n\nIf you have auto-refresh on and and a linked resource pointing to the root, you\nwill get the following exception during startup (or a similar one when turning\nauto-refresh on).\n\n!ENTRY org.eclipse.core.resources 4 1 2005-06-17 11:30:52.921\n!MESSAGE An error occurred while installing an auto-refresh monitor\n!STACK 0\njava.lang.ArrayIndexOutOfBoundsException: -1\n\tat java.util.ArrayList.get(ArrayList.java:324)\n\tat\norg.eclipse.core.internal.resources.refresh.win32.Win32Monitor$LinkedResourceHandle.createFileHandleChain(Win32Monitor.java:230)\n\tat\norg.eclipse.core.internal.resources.refresh.win32.Win32Monitor$LinkedResourceHandle.\u003cinit\u003e(Win32Monitor.java:213)\n\tat\norg.eclipse.core.internal.resources.refresh.win32.Win32Monitor.createHandle(Win32Monitor.java:367)\n\tat\norg.eclipse.core.internal.resources.refresh.win32.Win32Monitor.monitor(Win32Monitor.java:434)\n\tat\norg.eclipse.core.internal.resources.refresh.win32.Win32RefreshProvider.installMonitor(Win32RefreshProvider.java:35)\n\tat\norg.eclipse.core.internal.refresh.MonitorManager.safeInstallMonitor(MonitorManager.java:249)\n\tat\norg.eclipse.core.internal.refresh.MonitorManager.monitor(MonitorManager.java:147)\n\tat org.eclipse.core.internal.refresh.MonitorManager.start(MonitorManager.java:268)\n\tat\norg.eclipse.core.internal.refresh.RefreshManager.manageAutoRefresh(RefreshManager.java:54)\n\tat\norg.eclipse.core.internal.refresh.RefreshManager.startup(RefreshManager.java:118)\n\tat org.eclipse.core.internal.resources.Workspace.startup(Workspace.java:1874)\n\tat org.eclipse.core.internal.resources.Workspace.open(Workspace.java:1642)\n\tat org.eclipse.core.resources.ResourcesPlugin.startup(ResourcesPlugin.java:357)",
    "THe following code does not account for the case the file being monitored does\nnot have a parent. The exception happens at the last line. It seems just\nreturning in the case the file does not have a parent fixes the problem.\n\nprotected void createFileHandleChain() {\n\tfileHandleChain \u003d new ArrayList(1);\n\tFile file \u003d new File(resource.getLocation().toOSString());\n\tfile \u003d file.getParentFile();\n\twhile (file !\u003d null) {\n\t\tfileHandleChain.add(0, new FileHandle(file));\n\t\tfile \u003d file.getParentFile();\n\t}\n\tint size \u003d fileHandleChain.size();\n\tfor (int i \u003d 0; i \u003c size; i++) {\n\t\tChainedHandle handle \u003d (ChainedHandle) fileHandleChain.get(i);\n\t\thandle.setPrevious((i \u003e 0) ? (ChainedHandle) fileHandleChain.get(i - 1) : null);\n\t\thandle.setNext((i + 1 \u003c size) ? (ChainedHandle) fileHandleChain.get(i + 1) :\nthis);\n\t}\n\tsetPrevious((ChainedHandle) fileHandleChain.get(size - 1));\n}",
    "Fix released."
  ],
  "commentCreationDates": [
    "2005-06-17T17:35:29+02:00",
    "2005-06-17T17:44:40+02:00",
    "2006-01-09T17:11:52+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "-1",
      "elements": [
        {
          "method": "java.util.ArrayList.get",
          "source": "ArrayList.java:324"
        },
        {
          "method": "org.eclipse.core.internal.resources.refresh.win32.Win32Monitor$LinkedResourceHandle.createFileHandleChain",
          "source": "Win32Monitor.java:230"
        },
        {
          "method": "org.eclipse.core.internal.resources.refresh.win32.Win32Monitor$LinkedResourceHandle.\u003cinit\u003e",
          "source": "Win32Monitor.java:213"
        },
        {
          "method": "org.eclipse.core.internal.resources.refresh.win32.Win32Monitor.createHandle",
          "source": "Win32Monitor.java:367"
        },
        {
          "method": "org.eclipse.core.internal.resources.refresh.win32.Win32Monitor.monitor",
          "source": "Win32Monitor.java:434"
        },
        {
          "method": "org.eclipse.core.internal.resources.refresh.win32.Win32RefreshProvider.installMonitor",
          "source": "Win32RefreshProvider.java:35"
        },
        {
          "method": "org.eclipse.core.internal.refresh.MonitorManager.safeInstallMonitor",
          "source": "MonitorManager.java:249"
        },
        {
          "method": "org.eclipse.core.internal.refresh.MonitorManager.monitor",
          "source": "MonitorManager.java:147"
        },
        {
          "method": "org.eclipse.core.internal.refresh.MonitorManager.start",
          "source": "MonitorManager.java:268"
        },
        {
          "method": "org.eclipse.core.internal.refresh.RefreshManager.manageAutoRefresh",
          "source": "RefreshManager.java:54"
        },
        {
          "method": "org.eclipse.core.internal.refresh.RefreshManager.startup",
          "source": "RefreshManager.java:118"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.startup",
          "source": "Workspace.java:1874"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.open",
          "source": "Workspace.java:1642"
        },
        {
          "method": "org.eclipse.core.resources.ResourcesPlugin.startup",
          "source": "ResourcesPlugin.java:357"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "100595",
      "date": "2005-06-17T17:35:29+02:00",
      "product": "Platform",
      "component": "Resources",
      "severity": "normal"
    }
  ],
  "groupId": "100595",
  "bugId": "100595",
  "date": "2005-06-17T17:35:29+02:00",
  "product": "Platform",
  "component": "Resources",
  "severity": "normal"
}