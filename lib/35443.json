{
  "comments": [
    "Steps to reproduce:\n\n1) get eclipse RC3 (linux gtk on a debian/sid laptop is what I got), unzip and run\n2) Navigate to Window/Preferences/Java/Code Generation/Code and Comments\n3) Select Types\n4) wait for a moment and notice that your favorite load meter shows that the CPU\nis pegged\n5) click edit\n6) modify the text\n7) click ok\n8) notice that the pattern display is not updated and CPU is still pegged\n9) Click apply ok and cancel\n10) notice that the prferences window doesn\u0027t go away\n11) click the \u0027X\u0027 in the window decorations for the preferences page\n12) notice that the preferences window goes away and CPU goes back down\n13) exit eclipse\n14) look at .metadata/.log, notice the stack trace\n\n!SESSION Mar 21, 2003 02:15:33.672 ---------------------------------------------\njava.fullversion\u003dJ2RE 1.4.0 IBM build cxia32140-20020917a (JIT enabled: jitc)\nBootLoader constants: OS\u003dlinux, ARCH\u003dx86, WS\u003dgtk, NL\u003den\nCommand-line arguments: -os linux -ws gtk -arch x86 -install\nfile:/home/burner/jdks/eclipse/eclipse/\n!ENTRY org.eclipse.ui 4 4 Mar 21, 2003 02:15:33.673\n!MESSAGE Unhandled exception caught in event loop.\n!ENTRY org.eclipse.ui 4 0 Mar 21, 2003 02:15:33.713\n!MESSAGE Widget is disposed\n!STACK 0\norg.eclipse.swt.SWTException: Widget is disposed\n        at org.eclipse.swt.SWT.error(SWT.java:2320)\n        at org.eclipse.swt.widgets.Control.getDisplay(Control.java(Compiled Code))\n        at org.eclipse.swt.widgets.Control.getDisplay(Control.java(Compiled Code))\n        at org.eclipse.swt.widgets.Control.getDisplay(Control.java(Compiled Code))\n        at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java(Compiled Code))\n        at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java(Compiled Code))\n        at org.eclipse.swt.widgets.Tree.setSelection(Tree.java:894)\n        at org.eclipse.jface.viewers.TreeViewer.setSelection(TreeViewer.java:226)\n        at\norg.eclipse.jface.viewers.AbstractTreeViewer.setSelectionToWidget(AbstractTreeViewer.java:1261)\n        at\norg.eclipse.jface.viewers.StructuredViewer.setSelectionToWidget(StructuredViewer.java:1053)\n        at\norg.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:808)\n        at\norg.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:859)\n        at\norg.eclipse.jdt.internal.ui.wizards.dialogfields.TreeListDialogField.refresh(TreeListDialogField.java:710)\n        at\norg.eclipse.jdt.internal.ui.preferences.CodeTemplateBlock.edit(CodeTemplateBlock.java:349)\n        at\norg.eclipse.jdt.internal.ui.preferences.CodeTemplateBlock.doButtonPressed(CodeTemplateBlock.java:332)\n        at\norg.eclipse.jdt.internal.ui.preferences.CodeTemplateBlock$CodeTemplateAdapter.customButtonPressed(CodeTemplateBlock.java:70)\n        at\norg.eclipse.jdt.internal.ui.wizards.dialogfields.TreeListDialogField.buttonPressed(TreeListDialogField.java:171)\n        at\norg.eclipse.jdt.internal.ui.wizards.dialogfields.TreeListDialogField.doButtonSelected(TreeListDialogField.java:386)\n        at\norg.eclipse.jdt.internal.ui.wizards.dialogfields.TreeListDialogField.access$2(TreeListDialogField.java:382)\n        at\norg.eclipse.jdt.internal.ui.wizards.dialogfields.TreeListDialogField$2.widgetSelected(TreeListDialogField.java:349)\n        at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:91)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled\nCode))\n        at\norg.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code))\n        at\norg.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code))\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled\nCode))\n        at org.eclipse.jface.window.Window.runEventLoop(Window.java(Compiled Code))\n        at org.eclipse.jface.window.Window.open(Window.java:563)\n        at\norg.eclipse.ui.internal.OpenPreferencesAction.run(OpenPreferencesAction.java:53)\n        at org.eclipse.jface.action.Action.runWithEvent(Action.java:842)\n        at\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:456)\n        at\norg.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionContributionItem.java:403)\n        at\norg.eclipse.jface.action.ActionContributionItem.access$0(ActionContributionItem.java:397)\n        at\norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(ActionContributionItem.java:72)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled\nCode))\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:913)\n        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1641)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1433)\n        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1402)\n        at org.eclipse.ui.internal.Workbench.run(Workbench.java:1385)\n        at\norg.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:845)\n        at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:61)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:40)\n        at java.lang.reflect.Method.invoke(Method.java:335)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:291)\n        at org.eclipse.core.launcher.Main.run(Main.java:747)\n        at org.eclipse.core.launcher.Main.main(Main.java:583)",
    "FYI: The exception is generated when the \u0027X\u0027 is clicked on the window\ndecorations for the preferences window.",
    "This was an RC3 bug fixed in RC3a, apparently",
    "Martin, also the reporter said that the problem is gone in RC3a can you please \ncomnment on the stack trace. May be there is a underlying problem here.",
    "I\u0027ve not seen such a stacktrace before. It\u0027s strange that the tree would be \ndisposed after the edit call. My guess this is a SWT problem",
    "Asking SWT if anything changed here between RC3 and RC3a",
    "The only changes made by SWT between RC3 and RC3a where for motif.  I think \nthe stack trace does not show the full problem.  When the CPU was pegged there \nwere probably exceptions thrown and caught that altered the code flow and \nresulted in referenceing a disposed tree.\n\nMoving back to JDT UI.",
    "Yeah, if I recall correctly the stack trace occured at step 11/12, so Veronika\u0027s\nprobably right.",
    "Veronika, I trried to track this done but I am not able to do so. Here are my findings: \n \n- it only happens under Linux-GTK. Motif, Windows and Mac don\u0027t reveal the  \n  behaviour of CPU pegging and exception. \n- starting GTK in debug mode and following the steps including 4 and then  \n  suspending the main thread brings the CPU back to normal. Unfortunatelly the \n  stack trace doesn\u0027t reveal what is done in main. \n- resuming main brings the CPU back to 100% \n \nThe first thing we have to track down IMO is the CPU pegging since it makes the \ndialog unusable. The exception at the end doesn\u0027t really cause harm. \n \nVeronika any idea what can cause the CPU pegging. It is easy to reproduce and I \nassume you have better tools and are more familiar with GTk to figure this out. \n \nI don\u0027t want to move the PR back and forth but without help from SWT it is hard to \nfind out what is going on, especially since it only happens under Linux-GTK ",
    "Weird, resize the dialog during the process and the bug doesn\u0027t happen.\n\n",
    "Another finding: \n \n- following steps until step 4 \n- move the scroll bar of the tree widget down \n \nobserve: the CPU does back to 0% and the dialog works as expected. ",
    "Dirk, please execute this in a shell, \"rpm -q glib2\".",
    "My configuration is: \n \natk: 1.2.0 \nglib: 2.2.1 \ngtk+: 2.2.1 \npango: 1.2.1 \npkgconfig: 0.15.0 ",
    "Note that after resizing the dialog or moving the scrollbar you have to wait 2 - 3 \nseconds until the CPU goes back to 0%.  ",
    "Use build to reproduce: 200303241446",
    "We are able to confirm that this problem occurs in GTK 2.2.x only.  Since this\nis not an offically supported GTK release at this time, I\u0027m downgrading this PR.\n Felipe is still looking at the problem.",
    "See also bug 31525.",
    "\n\n*** This bug has been marked as a duplicate of 31525 ***"
  ],
  "commentCreationDates": [
    "2003-03-21T07:21:25+01:00",
    "2003-03-21T07:23:31+01:00",
    "2003-03-21T08:43:08+01:00",
    "2003-03-21T11:34:40+01:00",
    "2003-03-21T13:19:17+01:00",
    "2003-03-21T13:45:25+01:00",
    "2003-03-24T16:22:04+01:00",
    "2003-03-24T17:23:35+01:00",
    "2003-03-24T19:14:28+01:00",
    "2003-03-24T23:22:02+01:00",
    "2003-03-25T10:16:52+01:00",
    "2003-03-25T17:51:34+01:00",
    "2003-03-25T17:59:14+01:00",
    "2003-03-25T18:07:59+01:00",
    "2003-03-25T18:10:47+01:00",
    "2003-03-25T19:13:01+01:00",
    "2003-03-26T14:38:03+01:00",
    "2003-03-26T21:07:09+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Widget is disposed",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2320"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.getDisplay",
          "source": "Control.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.getDisplay",
          "source": "Control.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.getDisplay",
          "source": "Control.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.checkWidget",
          "source": "Widget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.checkWidget",
          "source": "Widget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.setSelection",
          "source": "Tree.java:894"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.setSelection",
          "source": "TreeViewer.java:226"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.setSelectionToWidget",
          "source": "AbstractTreeViewer.java:1261"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.setSelectionToWidget",
          "source": "StructuredViewer.java:1053"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.preservingSelection",
          "source": "StructuredViewer.java:808"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.refresh",
          "source": "StructuredViewer.java:859"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.wizards.dialogfields.TreeListDialogField.refresh",
          "source": "TreeListDialogField.java:710"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.preferences.CodeTemplateBlock.edit",
          "source": "CodeTemplateBlock.java:349"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.preferences.CodeTemplateBlock.doButtonPressed",
          "source": "CodeTemplateBlock.java:332"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.preferences.CodeTemplateBlock$CodeTemplateAdapter.customButtonPressed",
          "source": "CodeTemplateBlock.java:70"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.wizards.dialogfields.TreeListDialogField.buttonPressed",
          "source": "TreeListDialogField.java:171"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.wizards.dialogfields.TreeListDialogField.doButtonSelected",
          "source": "TreeListDialogField.java:386"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.wizards.dialogfields.TreeListDialogField.access$2",
          "source": "TreeListDialogField.java:382"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.wizards.dialogfields.TreeListDialogField$2.widgetSelected",
          "source": "TreeListDialogField.java:349"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:91"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:563"
        },
        {
          "method": "org.eclipse.ui.internal.OpenPreferencesAction.run",
          "source": "OpenPreferencesAction.java:53"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:842"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:456"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java:403"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem.java:397"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java:72"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:913"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1641"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1433"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1402"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1385"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:61"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:40"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:335"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:291"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:747"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:583"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "35443",
      "duplicateId": "31525",
      "date": "2003-03-21T07:21:25+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "critical"
    }
  ],
  "groupId": "31525",
  "bugId": "35443",
  "duplicateId": "31525",
  "date": "2003-03-21T07:21:25+01:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "critical"
}