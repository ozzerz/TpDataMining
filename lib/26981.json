{
  "comments": [
    "EMF 1.0.1 on Eclipse 2.1 M3\nStep 4 of EMF Tutorial\n\n1. Create librarytest/My.library\n2. Edit My.library\n3. Create Writer Name\u003d\"PK Dick\"\n4. Create Book Title\u003d\"Ubik\" Author\u003dWriter PK Dick\n5. Save My.library\n6. Close My.library editor\n\nObserve: My.library has 301 bytes.\n\n7. Re-open My.library editor\n8. Create Writer Name\u003d\"PK Dick\"\n9. Save My.library\n\nObserve: In the design-time workbench, an error is reported on Console:\njava.lang.IllegalStateException: The \nobject \u0027org.eclipse.example.library.impl.WriterImpl@4c151dd0 (name: PK DIck)\u0027 \nreferenced by \u0027platform:/resource/librarytest/My.library\u0027is not contained in a \nresource.\n\tat org.eclipse.emf.ecore.xmi.impl.XMLHelperImpl.handleDanglingHREF\n(XMLHelperImpl.java:238)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLHelperImpl.getHREF\n(XMLHelperImpl.java:253)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLSave.saveHref(XMLSave.java:666)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLSave.saveHRefSingle\n(XMLSave.java:688)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLSave.saveFeatures\n(XMLSave.java:477)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLSave.saveElementID\n(XMLSave.java:831)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLSave.saveElement(XMLSave.java:279)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLSave.saveContainedMany\n(XMLSave.java:720)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLSave.saveFeatures\n(XMLSave.java:472)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLSave.saveElementID\n(XMLSave.java:831)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLSave.writeTopObject\n(XMLSave.java:152)\n\nExpectation: My.Library editor should (a) tell me that I have violated \nreferential integrity.\n\n10. Close My.library editor\n\nObserve: My.library has 0 bytes.\nExpectation: My.Library editor should not clobber the file.\n\n11. Re-open My.library editor\n\nObserve: The My.library is empty.\nObserve: In the design-time workbench, another error is reported:\njava.lang.NegativeArraySizeException: \n\tat org.eclipse.emf.ecore.xmi.impl.XMLStartLoad.readBuffer\n(XMLStartLoad.java:149)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLStartLoad.getEncoding\n(XMLStartLoad.java:128)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLStartLoad.load\n(XMLStartLoad.java:68)\n\nExpectation: My Library editor should tell me that it was unable to read the \nfile.\n\n12. Select My.library and choose Replace With / Local History\n\nObserve: The local history is empty.\nExpectation: The file saved successfully in step 5 should be in the local\nhistory so that user has fallback position.",
    "Yup, I\u0027ve had exactly this problem too. I thought it might have been \nEclipseUML, but it sounds like it\u0027s more EMF at fault.",
    "*** Bug 38655 has been marked as a duplicate of this bug. ***",
    "There is now a validate action which will find all the dangling references so \nyou can fix them.  And when you save, it will just discard the dangling \nreferences as if they were all cleaned up properly; if desired, a save option \ncan be used to ignore the dangling references entirely without logging an \nexception."
  ],
  "commentCreationDates": [
    "2002-11-22T16:54:22+01:00",
    "2003-02-21T02:52:33+01:00",
    "2003-06-09T21:08:55+02:00",
    "2004-05-29T12:45:41+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalStateException",
      "message": "The  object \u0027org.eclipse.example.library.impl.WriterImpl@4c151dd0 (name: PK DIck)\u0027  referenced by \u0027platform:/resource/librarytest/My.library\u0027is not contained in a  resource.",
      "elements": [
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLHelperImpl.handleDanglingHREF",
          "source": "XMLHelperImpl.java:238"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLHelperImpl.getHREF",
          "source": "XMLHelperImpl.java:253"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLSave.saveHref",
          "source": "XMLSave.java:666"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLSave.saveHRefSingle",
          "source": "XMLSave.java:688"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLSave.saveFeatures",
          "source": "XMLSave.java:477"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLSave.saveElementID",
          "source": "XMLSave.java:831"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLSave.saveElement",
          "source": "XMLSave.java:279"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLSave.saveContainedMany",
          "source": "XMLSave.java:720"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLSave.saveFeatures",
          "source": "XMLSave.java:472"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLSave.saveElementID",
          "source": "XMLSave.java:831"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLSave.writeTopObject",
          "source": "XMLSave.java:152"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "26981",
      "date": "2002-11-22T16:54:22+01:00",
      "product": "EMF",
      "component": "Core",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NegativeArraySizeException",
      "message": "",
      "elements": [
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLStartLoad.readBuffer",
          "source": "XMLStartLoad.java:149"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLStartLoad.getEncoding",
          "source": "XMLStartLoad.java:128"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLStartLoad.load",
          "source": "XMLStartLoad.java:68"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "26981",
      "date": "2002-11-22T16:54:22+01:00",
      "product": "EMF",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "26981",
  "bugId": "26981",
  "date": "2002-11-22T16:54:22+01:00",
  "product": "EMF",
  "component": "Core",
  "severity": "normal"
}