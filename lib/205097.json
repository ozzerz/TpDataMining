{
  "comments": [
    "Build ID: I20070621-1340\n\nSteps To Reproduce:\n1.In Servers view, define a new server for Tomcat 6.0.14 using jdk1.6.0_02.\n2.Enabled servlet invoker by uncommenting the following lines in web.xml. \n\n    \u003cservlet\u003e\n        \u003cservlet-name\u003einvoker\u003c/servlet-name\u003e\n        \u003cservlet-class\u003e\n          org.apache.catalina.servlets.InvokerServlet\n        \u003c/servlet-class\u003e\n        \u003cinit-param\u003e\n            \u003cparam-name\u003edebug\u003c/param-name\u003e\n            \u003cparam-value\u003e0\u003c/param-value\u003e\n        \u003c/init-param\u003e\n        \u003cload-on-startup\u003e2\u003c/load-on-startup\u003e\n    \u003c/servlet\u003e\n\n    \u003cservlet-mapping\u003e\n        \u003cservlet-name\u003einvoker\u003c/servlet-name\u003e\n        \u003curl-pattern\u003e/servlet/*\u003c/url-pattern\u003e\n    \u003c/servlet-mapping\u003e\n3.In Servers view, start server.\n\n\nMore information:\nThe following error appears in the Console view:\n\nSep 30, 2007 2:26:50 PM org.apache.catalina.core.AprLifecycleListener init\nINFO: The Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\\Program Files\\Java\\jdk1.6.0_02\\bin;.;C:\\WINDOWS\\Sun\\Java\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\DOS\\Perl\\site\\bin;C:\\DOS\\Perl\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\Program Files\\ATI Technologies\\ATI Control Panel;\"C:\\Program Files\\Common Files\\Roxio Shared\\DLLShared\";C:\\Program Files\\Common Files\\Roxio Shared\\DLLShared;C:\\Program Files\\Common Files\\Adobe\\AGL;\"C:\\Program Files\\Zone Labs\\ZoneAlarm\\MailFrontier\";C:\\Program Files\\Microsoft\\Support Tools\\;C:\\Program Files\\ATI Technologies\\ATI.ACE\\;C:\\Program Files\\CVSNT\\\nSep 30, 2007 2:26:50 PM org.apache.coyote.http11.Http11Protocol init\nINFO: Initializing Coyote HTTP/1.1 on http-8080\nSep 30, 2007 2:26:50 PM org.apache.catalina.startup.Catalina load\nINFO: Initialization processed in 1215 ms\nSep 30, 2007 2:26:50 PM org.apache.catalina.core.StandardService start\nINFO: Starting service Catalina\nSep 30, 2007 2:26:50 PM org.apache.catalina.core.StandardEngine start\nINFO: Starting Servlet Engine: Apache Tomcat/6.0.14\njava.lang.reflect.InvocationTargetException\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:288)\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:413)\nCaused by: java.lang.SecurityException: Servlet of class org.apache.catalina.servlets.InvokerServlet is privileged and cannot be loaded by this web application\n\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1134)\n\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:981)\n\tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4045)\n\tat org.apache.catalina.core.StandardContext.start(StandardContext.java:4351)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045)\n\tat org.apache.catalina.core.StandardHost.start(StandardHost.java:719)\n\tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1045)\n\tat org.apache.catalina.core.StandardEngine.start(StandardEngine.java:443)\n\tat org.apache.catalina.core.StandardService.start(StandardService.java:516)\n\tat org.apache.catalina.core.StandardServer.start(StandardServer.java:710)\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:566)\n\t... 6 more",
    "Although the Tomcat FAQ\nhttp://tomcat.apache.org/faq/misc.html#evil\nstrongly warns against using the invoker,\nit is useful for developmental purposes since many textbook examples use it.\n\nAt first, it appeared that the loading error was due to the way Eclipse loaded Tomcat 6. It now appears that it is an inherent \"feature\" of Tomcat 6 to run the invoker as privileged according to\nThe Long and Sordid Tale of the Invoker Servlet\nhttp://faq.javaranch.com/java/InvokerServlet\n\nUnfortunately, the Tomcat FAQ\nhttp://faq.javaranch.com/java/InvokerServlet\ndoes not mention up front that the Tomcat 6 invoker no longer loads unless privileged.\n\nTherefore, this bug report is solved.\n\n"
  ],
  "commentCreationDates": [
    "2007-10-01T19:54:53+02:00",
    "2007-10-02T03:43:36+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.reflect.InvocationTargetException",
      "elements": [
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:597"
        },
        {
          "method": "org.apache.catalina.startup.Bootstrap.start",
          "source": "Bootstrap.java:288"
        },
        {
          "method": "org.apache.catalina.startup.Bootstrap.main",
          "source": "Bootstrap.java:413"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.SecurityException",
        "message": "Servlet of class org.apache.catalina.servlets.InvokerServlet is privileged and cannot be loaded by this web application",
        "elements": [
          {
            "method": "org.apache.catalina.core.StandardWrapper.loadServlet",
            "source": "StandardWrapper.java:1134"
          },
          {
            "method": "org.apache.catalina.core.StandardWrapper.load",
            "source": "StandardWrapper.java:981"
          },
          {
            "method": "org.apache.catalina.core.StandardContext.loadOnStartup",
            "source": "StandardContext.java:4045"
          },
          {
            "method": "org.apache.catalina.core.StandardContext.start",
            "source": "StandardContext.java:4351"
          },
          {
            "method": "org.apache.catalina.core.ContainerBase.start",
            "source": "ContainerBase.java:1045"
          },
          {
            "method": "org.apache.catalina.core.StandardHost.start",
            "source": "StandardHost.java:719"
          },
          {
            "method": "org.apache.catalina.core.ContainerBase.start",
            "source": "ContainerBase.java:1045"
          },
          {
            "method": "org.apache.catalina.core.StandardEngine.start",
            "source": "StandardEngine.java:443"
          },
          {
            "method": "org.apache.catalina.core.StandardService.start",
            "source": "StandardService.java:516"
          },
          {
            "method": "org.apache.catalina.core.StandardServer.start",
            "source": "StandardServer.java:710"
          },
          {
            "method": "org.apache.catalina.startup.Catalina.start",
            "source": "Catalina.java:566"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "205097",
      "date": "2007-10-01T19:54:53+02:00",
      "product": "Web Tools",
      "component": "jst.servlet",
      "severity": "major"
    }
  ],
  "groupId": "205097",
  "bugId": "205097",
  "date": "2007-10-01T19:54:53+02:00",
  "product": "Web Tools",
  "component": "jst.servlet",
  "severity": "major"
}