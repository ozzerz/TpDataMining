{
  "comments": [
    "3.0 M3\n\nDuring background ant build run, while output scrolls in console, the following\nred message apears mixed with ant output:\n\nUnhandled exception caught in event loop.\nReason:\njava.lang.NullPointerException\n\nand the log shows the following:\n\n!ENTRY org.eclipse.ui 4 4 set 05, 2003 15:39:42.611\n!MESSAGE Unhandled exception caught in event loop.\n!ENTRY org.eclipse.ui 4 0 set 05, 2003 15:39:42.751\n!MESSAGE java.lang.NullPointerException\n!STACK 0\njava.lang.NullPointerException\n\tat\norg.eclipse.debug.internal.ui.views.console.ConsoleDocumentPartitioner.getRegion(ConsoleDocumentPartitioner.java:889)\n\tat\norg.eclipse.debug.internal.ui.views.console.ConsoleViewer.paintControl(ConsoleViewer.java:341)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:82)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:847)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:871)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:856)\n\tat org.eclipse.swt.widgets.Composite.WM_PAINT(Composite.java:800)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:2941)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:2713)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1343)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1876)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2036)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:2019)\n\tat\norg.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:858)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:295)\n\tat org.eclipse.core.launcher.Main.run(Main.java:751)\n\tat org.eclipse.core.launcher.Main.main(Main.java:587)\n\nThe console message does not always shows for each occurrence of the problem and\nsometimes after this problem eclipse becomes rather unresponsive and even if i\nstop interacting with it, in times ranging from few seconds to a couple of\nminutes, it freezes getting an out of memory error that forces it to close.",
    "This would seem to indicate a null partition in the console document which \nwould indicate a problem in the text framework.\n\nCan you always reproduce or does it only occur when you run out of memory?\n\nHave you had a look at bug 24448?",
    "Well, i examined better the log and may be i made wrong assumptions. The out of\nmemory errors, that indeed are present, may be unrelated with this NPE.\nIn any case i\u0027ll attach a few days long log that show this problem, and in my\nopinion some more others.\nI think it\u0027s better doing this than trying myself doing debug and leading you in\nthe wrong direction.\nJust to answer your question, up to now i have not been able to extract a\npattern of actions that leads to the NPE, it looks to be rather random and i\ncannot reproduce at will.",
    "Created an attachment (id\u003d6010)\neclipse run log\n",
    "*** Bug 42698 has been marked as a duplicate of this bug. ***",
    "As explained in Bug 42698, I get a NPE whenever I hover the mouse cursor over \nthe file/line information of a compile time error (I guess because it should \nbecome a link to the line in the file).",
    "This is a compile time error from a javac task or an actual syntax error in \nthe build file?\nAre you in the same or separate VM from Eclipse?\nI have had no success reproducing so far.",
    "It\u0027s an error from a javac task.\n\nI think it is running in the Eclipse VM.",
    "Ilja, can you please provide the exact steps you do to reproduce. Thanks.\n",
    "Mhh, till now I wasn\u0027t able to reproduce this with a simple test case... :(",
    "Eclipse 3.0 M3 on Win2000\n\nI\u0027m having the same problem, but it\u0027s with junit test errors. I\u0027ll get a failure\nsuch as this:\n\n       [junit] Testcase:\ntestCreateHoldingsItemCurrentPage(com.booksys.atriuum.services.tests.ItemServiceTest):\nCaused an ERROR\n       [junit] elementName\u003d[*] attributeName\u003d[id] attributeValue\u003d[holdingsSelectID]\n       [junit] com.gargoylesoftware.htmlunit.ElementNotFoundException:\nelementName\u003d[*] attributeName\u003d[id] attributeValue\u003d[holdingsSelectID]\n       [junit] \tat\ncom.gargoylesoftware.htmlunit.html.HtmlElement.getHtmlElementById(HtmlElement.java:641)\n       [junit] \tat com.booksys.wtf.WebAdapter.getListMembers(WebAdapter.java:143)\n       [junit] \tat\ncom.booksys.wtf.AbstractWebPage.getListMembers(AbstractWebPage.java:90)\n       [junit] \tat\ncom.booksys.atriuum.services.tests.ItemServiceTest.testCreateHoldingsItemCurrentPage(ItemServiceTest.java:69)\n       [junit] \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n       [junit] \tat\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n       [junit] \tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n       [junit] null\n       [junit] null\n       [junit] Testcase:\ntestCreateHoldingsItem(com.booksys.atriuum.services.tests.ItemServiceTest):\nCaused an ERROR\n       [junit] elementName\u003d[*] attributeName\u003d[id] attributeValue\u003d[holdingsSelectID]\n       [junit] com.gargoylesoftware.htmlunit.ElementNotFoundException:\nelementName\u003d[*] attributeName\u003d[id] attributeValue\u003d[holdingsSelectID]\n       [junit] \tat\ncom.gargoylesoftware.htmlunit.html.HtmlElement.getHtmlElementById(HtmlElement.java:641)\n       [junit] \tat com.booksys.wtf.WebAdapter.getListMembers(WebAdapter.java:143)\n       [junit] \tat\ncom.booksys.wtf.AbstractWebPage.getListMembers(AbstractWebPage.java:90)\n       [junit] \tat\ncom.booksys.atriuum.services.tests.ItemServiceTest.testCreateHoldingsItem(ItemServiceTest.java:87)\n       [junit] \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n       [junit] \tat\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n       [junit] \tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n       [junit] null\n       [junit] null\n       [junit] TEST com.booksys.atriuum.services.tests.ItemServiceTest FAILED\n\nWhen I mouse-over these items it will display 4 instances of the mentioned error\nand then stop outputting to the Console. The ant build continues in the\nbackground and I get the annoying little build failed dialog when it\u0027s done with\nno further errors. When I mouse over the class names the mouse cursor does\nchange to a \"hand\" but the underlines for the class names do not show up and I\ncannot click them to take me anywhere. You\u0027ll also notice the multuple \"null\"\nentries in the output which may or may not be related to Bug 43255 and/or this bug.\n\nMy .metadata/.log file looks almost identical to the attached one but I can\nattach mine if you need it also.",
    "Update: I just updated my remoteAnt.jar per bug 42222 comment #6 and ran in a\nseparate JRE and the problem went away along with Bug 43255\n",
    "Brad, I am still having trouble reproducing this one.\n\nCan you always reproduce?\nWhich exact item mouse over causes the NPE?\nDo you have the time to try the latest Eclipse integration build to see if the \nproblem is still reproducable?",
    "I believe this results from failing to find a file for a linked resource.\nWould this bear out your experiences?\n\nAntUtil.getTaskLink(...) can return null which will create a HyperlinkPosition \nthat has no hyperlink.\n\nCurrent stack trace (code has changed) :\nThread [main] (Suspended (exception NullPointerException))\n\tConsoleDocumentPartitioner.getRegion(IConsoleHyperlink) line: 946\n\tConsoleViewer.paintControl(PaintEvent) line: 334\n\tTypedListener.handleEvent(Event) line: 82\n\tEventTable.sendEvent(Event) line: 82\n\tStyledText(Widget).sendEvent(Event) line: 847\n        ....\n",
    "Two fixes here:\nChanged AntUtil.getFileForLocation(String, File) to handle linked resources \n(see bug 43628).\nChanged AntProcessBuildLogger to not add a hyperlink if the link is null (duh!)\nThis is why Brad had success in a separate JRE: the RemoteAntBuildListener was \nalready correctly handling this case.",
    "Please verify Jared.",
    "Verified."
  ],
  "commentCreationDates": [
    "2003-09-05T16:06:50+02:00",
    "2003-09-05T17:21:20+02:00",
    "2003-09-08T09:05:27+02:00",
    "2003-09-08T09:07:14+02:00",
    "2003-09-08T16:07:40+02:00",
    "2003-09-08T17:02:08+02:00",
    "2003-09-08T17:04:58+02:00",
    "2003-09-08T17:50:01+02:00",
    "2003-09-08T23:01:04+02:00",
    "2003-09-12T18:01:42+02:00",
    "2003-09-23T21:39:57+02:00",
    "2003-09-23T21:54:47+02:00",
    "2003-09-24T01:08:49+02:00",
    "2003-09-25T23:07:02+02:00",
    "2003-09-26T00:01:22+02:00",
    "2003-09-26T00:19:46+02:00",
    "2003-09-29T18:03:01+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.debug.internal.ui.views.console.ConsoleDocumentPartitioner.getRegion",
          "source": "ConsoleDocumentPartitioner.java:889"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.console.ConsoleViewer.paintControl",
          "source": "ConsoleViewer.java:341"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:847"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:871"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:856"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.WM_PAINT",
          "source": "Composite.java:800"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:2941"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:2713"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessageW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessage",
          "source": "OS.java:1343"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1876"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2036"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:2019"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:858"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:295"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:751"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:587"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "42595",
      "date": "2003-09-05T16:06:50+02:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    },
    {
      "exceptionType": "com.gargoylesoftware.htmlunit.ElementNotFoundException",
      "message": "elementName\u003d[*] attributeName\u003d[id] attributeValue\u003d[holdingsSelectID]        [junit]",
      "elements": [
        {
          "method": "com.gargoylesoftware.htmlunit.html.HtmlElement.getHtmlElementById",
          "source": "HtmlElement.java:641"
        }
      ],
      "number": 1,
      "commentIndex": 10,
      "bugId": "42595",
      "date": "2003-09-23T21:39:57+02:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    },
    {
      "exceptionType": "com.gargoylesoftware.htmlunit.ElementNotFoundException",
      "message": "elementName\u003d[*] attributeName\u003d[id] attributeValue\u003d[holdingsSelectID]        [junit]",
      "elements": [
        {
          "method": "com.gargoylesoftware.htmlunit.html.HtmlElement.getHtmlElementById",
          "source": "HtmlElement.java:641"
        }
      ],
      "number": 2,
      "commentIndex": 10,
      "bugId": "42595",
      "date": "2003-09-23T21:39:57+02:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "normal"
    }
  ],
  "groupId": "42595",
  "bugId": "42595",
  "date": "2003-09-05T16:06:50+02:00",
  "product": "Platform",
  "component": "Ant",
  "severity": "normal"
}