{
  "comments": [
    "Build 20020402\nIBM JRE 1.3.0\n\n1) I had a breakpoint in \norg.eclipse.core.internal.events.NotificationManager#broadCastChanges(ElementTre\ne, int, boolean, boolean)\n\n2) Then I modified and saved a file in the Eclipse test instance, which causes \nthe breakpoint to be hit.\n\n3) I stepped over the line where the field \"IResourceDelta delta\" was defined.\n\n4) Then in the display view I tried to evaluate the following snippet (bugzilla \nwill wrap it, but I had one statement per line):\n\norg.eclipse.core.resources.IResourceDelta[] children \u003d \ndelta.getAffectedChildren();\nSystem.out.println(children[0].toString());\n\nThis causes the following internal error (top of stack shown below, complete \nstack attached).\n\njava.lang.NullPointerException\n\tat \norg.eclipse.jdt.internal.debug.eval.ast.engine.ASTInstructionCompiler.getQualifi\nedName(ASTInstructionCompiler.java:2168)\n\tat \norg.eclipse.jdt.internal.debug.eval.ast.engine.ASTInstructionCompiler.visit(ASTI\nnstructionCompiler.java:944)",
    "Created an attachment (id\u003d556)\nLog file showing complete stack trace\n",
    "We tracked this down to a JDT core bug (Bug 13807).\n\nThe attempted evaluation is not \"legal\" as we don\u0027t support variable\ndeclaration. When the JDT core bug is fixed, our code will properly inform you\nof this.\n\nWill verify this when Bug 13807 is fixed.",
    "JDT Core is still having some problems with this, but we changed our code to\navoid the JDT Core problem (the new code is better anyway).",
    "Please verify.",
    "Verified.",
    "Re-opening",
    "There is still a problem when we try to evaluate a code like this :\n\nnew String[] {\"toto\"}\n\nbecause there are some braces, I guess the snippet should be a list of\nstatement, so I don\u0027t add \u0027return\u0027 and \u0027;\u0027.\n\nI think we need to modify the method which determines if a snippet is an\nexpression or a list of statement. The fact that a snippet contains some braces\nis no more a condition for say it\u0027s a list of statement.",
    "Fixed. Rewrote the method EvaluationSourceGenerator#isExpression(String). The\nnew method is significantly better than the old.",
    "Please verify.",
    "Verified"
  ],
  "commentCreationDates": [
    "2002-04-09T17:24:30+02:00",
    "2002-04-09T17:25:17+02:00",
    "2002-04-15T18:31:23+02:00",
    "2002-04-23T22:16:29+02:00",
    "2002-04-23T22:16:40+02:00",
    "2002-04-26T22:32:41+02:00",
    "2002-04-30T23:42:24+02:00",
    "2002-04-30T23:50:29+02:00",
    "2002-05-01T17:29:08+02:00",
    "2002-05-01T17:29:20+02:00",
    "2002-05-06T15:31:59+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.engine.ASTInstructionCompiler.getQualifiedName",
          "source": "ASTInstructionCompiler.java:2168"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.engine.ASTInstructionCompiler.visit",
          "source": "ASTI nstructionCompiler.java:944"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "13074",
      "date": "2002-04-09T17:24:30+02:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "13074",
  "bugId": "13074",
  "date": "2002-04-09T17:24:30+02:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "normal"
}