{
  "comments": [
    "java.util.ConcurrentModificationException\nat java.util.AbstractList$Itr.checkForComodification(Unknown Source)\nat java.util.AbstractList$Itr.next(Unknown Source)\nat org.eclipse.jface.text.source.projection.ProjectionViewer$1.run\n(ProjectionViewer.java:708)\nat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\nat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:106)\nat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2693)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2385)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1363)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1334)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:253)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\nat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:97)\nat org.eclipse.core.internal.runtime.PlatformActivator$1.run\n(PlatformActivator.java:307)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:256)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:127)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\nat org.eclipse.core.launcher.Main.run(Main.java:638)\nat org.eclipse.core.launcher.Main.main(Main.java:622)",
    "Please provide Eclipse version/build. What were you doing when it happened? Can\nyour reproduce it?\n\nAlso, it is usually better to provide the log entries instead of plain stack traces.\n\nMoving to Platform/UI.",
    "Sorry about stack trace. Next time will copy the log.\n\nThis is M9 proper. \n\nI might be wrong but I believe this is source level bug: \n\ndisplay.asyncExec(new Runnable() {\n    public void run() {\n\tIterator e\u003d fPendingRequests.iterator();\n\twhile (true) {\n\t    AnnotationModelEvent ame\u003d null;\n\t    synchronized (fLock) {\n\t\tif (e.hasNext()) {\n\t\t    ame\u003d (AnnotationModelEvent) e.next();\n\t\t} else {\n\t\t    fPendingRequests.clear();\n\t\t    return;\n\t\t}\n\t    }\n\t    catchupWithProjectionAnnotationModel(ame);\n\t}\n    }\n});\n\nsync(fLock) is too narrow.\nIt does allow the fPendingRequests to be changed while still\niterating it. You have to clone the ArrayList in a sync\nfashion to process it (I believe that bigger sync(fLock)\nis out of question because it would make the whole queue\nmeaningless). And even this won\u0027t guarantee that\nit won\u0027t end up with unprocessed pending elements \nat the end.\n\nIf I ever see it again I will give you steps to repro.\n\nLeo",
    "eclipse.buildId\u003dI200405211200",
    "This has already been fixed for RC2"
  ],
  "commentCreationDates": [
    "2004-06-16T00:12:33+02:00",
    "2004-06-16T01:38:26+02:00",
    "2004-06-16T22:29:34+02:00",
    "2004-06-16T23:40:07+02:00",
    "2004-06-17T09:56:16+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.util.ConcurrentModificationException",
      "elements": [
        {
          "method": "java.util.AbstractList$Itr.checkForComodification",
          "source": "Unknown Source"
        },
        {
          "method": "java.util.AbstractList$Itr.next",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.text.source.projection.ProjectionViewer$1.run",
          "source": "ProjectionViewer.java:708"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:106"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:2693"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2385"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1363"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1334"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:253"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:141"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:97"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:307"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:256"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:127"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:638"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:622"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "67394",
      "date": "2004-06-16T00:12:33+02:00",
      "product": "Platform",
      "component": "Text",
      "severity": "normal"
    }
  ],
  "groupId": "67394",
  "bugId": "67394",
  "date": "2004-06-16T00:12:33+02:00",
  "product": "Platform",
  "component": "Text",
  "severity": "normal"
}