{
  "comments": [
    "I ran my publishing test case (carryover from 1.0 testing)using build wtp-M200601170000 and ran into problems of varying severity in 4 of the 8 steps.\n\nPASS 1. Change java and jsp source code in web project and verify publication in the target web project\nPASS 2. Change non-source in web project and verify publication in the target web project\nFAIL 3. Change source in dependent project and verify publication in the target web project\nFAIL 4. Change non-source in dependent project and verify publication in the target web project\nFAIL 5. Add a dependent project and verify publication in the target web project\nPASS 6. Remove dependent project from web app and verify that it is not published in the target web project\nFAIL 7. Remove web app from server verify it is no longer deployed on the server\nPASS 8. Delete server containing web project(s). Add server back. Verify that former web projects are not deployed on the server.\n\nDetails:\n\n3. Change source in dependent project and verify publication in the target web project\n\n-Updated a class. WTP Publish notified and attempts to publish in real time to the running server (unexpected) but it failed with this error: \n- Publishing failed\n  Error creating zip file com....jar: Error deleting C:\\ws\\eval10\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp1\\webapps\\xxxServerWeb\\WEB-INF\\lib\\com.....servlet.jar. This was also posted to the log\n- Stop server, publish, start server worked OK. This is what I expected.\n\n4. Change non-source in dependent project and verify publication in the target web project FAIL\n- Update log4j.properties in same project. Same problem and workaround as in step 3.\n\n5. Add a dependent project and verify publication in the target web project \n-Added project using the jar dependencies props page. NPE below. Fails with server up or down. I don\u0027t believe this is a publishing problem. I will open a serparate bug.\n\n-java.lang.NullPointerException\n\tat org.eclipse.jst.j2ee.internal.JARDependencyPropertiesPage.getUnSelectedClassPathElementsForWebDependency(JARDependencyPropertiesPage.java:538)\n\tat org.eclipse.jst.j2ee.internal.JARDependencyPropertiesPage.createComponentDependencyOperations(JARDependencyPropertiesPage.java:626)\n\tat org.eclipse.jst.j2ee.internal.WebLibDependencyPropertiesPage.performOk(WebLibDependencyPropertiesPage.java:150)\n\tat org.eclipse.jst.j2ee.internal.J2EEDependenciesPage.performOk(J2EEDependenciesPage.java:139)\n\tat org.eclipse.jface.preference.PreferenceDialog$11.run(PreferenceDialog.java:862)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java(Inlined Compiled Code))\n\tat org.eclipse.core.runtime.Platform.run(Platform.java(Inlined Compiled Code))\n\tat org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java(Inlined Compiled Code))\n\tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java(Compiled Code))\n\tat org.eclipse.jface.preference.PreferenceDialog.okPressed(PreferenceDialog.java:842)\n\tat org.eclipse.ui.internal.dialogs.FilteredPreferenceDialog.okPressed(FilteredPreferenceDialog.java:295)\n\tat org.eclipse.jface.preference.PreferenceDialog.buttonPressed(PreferenceDialog.java:227)\n\tat org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:607)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java(Compiled Code))\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined Compiled Code))\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code))\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java(Compiled Code))\n\tat org.eclipse.jface.window.Window.open(Window.java:786)\n\tat org.eclipse.ui.dialogs.PropertyDialogAction.run(PropertyDialogAction.java:157)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:492)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:530)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:480)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:392)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined Compiled Code))\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1726)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:397)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:109)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:379)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)\n\tat java.lang.reflect.Method.invoke(Method.java:391)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:282)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)\n\n7. Remove web app from server verify it is no longer deployed on the server FAIL\nThe app was not entirely removed from the webapps directory. /WEB-INF/lib still there with jars. Had to manually cleaned it up.",
    "Added to the hot list. Setting priority to P2.",
    "Hi Jim,\n#3 \u0026 #4 - It sounds like the server was using those files, thus blocking us from deleting them. Did you run anything in the application before this step? (or conversely, does this work if you have just started the server but not run anything?) If this is the case, then there is nothing we can do since this is Tomcat\u0027s default behaviour. You can open a bug on apache.org.\n\n#5 - This is a jst.j2ee bug. You can either open a separate bug for this, or wait until the rest and resolved and I can transfer the bug over.\n\n#7 - This sounds like the same issue as #3/4. Did you remove the app while the server was still running and holding onto those files? In this case, the server state should still be \u0027unsynchronized\u0027 and a manual publish once the server has stopped should have cleaned up the jars.",
    "Hi Tim,\n\nReran test case on this week\u0027s maintenance build: wtp-M200601251151\n\nAll steps pass with except steps 5 and 6 which was blocked last week by bug 124729 (now fixed/verified). Details below.\n\n1/27/06 1.0.1 maint build: wtp-M200601251151\nServer stopped for each step\nPASS 1. Change java and jsp source code in web project and verify publication in the target web project\nPASS 2. Change non-source in web project and verify publication in the target web project\nPASS 3. Change source in dependent project and verify publication in the target web project\nPASS 4. Change non-source in dependent project and verify publication in the target web project\nFAIL 5. Add a dependent project and verify publication in the target web project\nServer did not move to republish state. Jar not published even if publish explicitly requested.\nThe dependent project shows in the list of dendencies when the web project is expanded in the servers view\nFAIL 6. Remove dependent project from web app and verify that it is not published in the target web project\nSince it never got publish this was hard to test. Republish state not set. The dependent project shows in the dependency list under the web app in the server view\nPASS 7. Remove web app from server verify it is no longer deployed on the server\nimproved from last week\nPASS 8. Delete server containing web project(s). Add server back. Verify that former web projects are not deployed on the server.",
    "Steps 5 and 6 of the publish test case are now triggering a republish state using build: wtp-M200602010238. I will follow up by rerunning the entire test case. ",
    "All steps of my publish test case pass using wtp-M200602010238. I will mark this as fixed/verified.\n\nI will continue to rerun the testcase in future builds.",
    "Closing."
  ],
  "commentCreationDates": [
    "2006-01-20T21:26:36+01:00",
    "2006-01-23T19:05:58+01:00",
    "2006-01-25T19:16:28+01:00",
    "2006-01-27T17:51:02+01:00",
    "2006-02-02T18:26:16+01:00",
    "2006-02-03T19:33:58+01:00",
    "2006-06-13T17:55:08+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jst.j2ee.internal.JARDependencyPropertiesPage.getUnSelectedClassPathElementsForWebDependency",
          "source": "JARDependencyPropertiesPage.java:538"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.JARDependencyPropertiesPage.createComponentDependencyOperations",
          "source": "JARDependencyPropertiesPage.java:626"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.WebLibDependencyPropertiesPage.performOk",
          "source": "WebLibDependencyPropertiesPage.java:150"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.J2EEDependenciesPage.performOk",
          "source": "J2EEDependenciesPage.java:139"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog$11.run",
          "source": "PreferenceDialog.java:862"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java(Inlined Compiled Code)"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java(Inlined Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.JFaceUtil$1.run",
          "source": "JFaceUtil.java(Inlined Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.util.SafeRunnable.run",
          "source": "SafeRunnable.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog.okPressed",
          "source": "PreferenceDialog.java:842"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.FilteredPreferenceDialog.okPressed",
          "source": "FilteredPreferenceDialog.java:295"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog.buttonPressed",
          "source": "PreferenceDialog.java:227"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$2.widgetSelected",
          "source": "Dialog.java:607"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java(Inlined Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:786"
        },
        {
          "method": "org.eclipse.ui.dialogs.PropertyDialogAction.run",
          "source": "PropertyDialogAction.java:157"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:492"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:530"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:480"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:392"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java(Inlined Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1726"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:397"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:109"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:379"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:58"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:60"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:391"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:338"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:282"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "124728",
      "date": "2006-01-20T21:26:36+01:00",
      "product": "Web Tools",
      "component": "wst.server",
      "severity": "critical"
    }
  ],
  "groupId": "124728",
  "bugId": "124728",
  "date": "2006-01-20T21:26:36+01:00",
  "product": "Web Tools",
  "component": "wst.server",
  "severity": "critical"
}