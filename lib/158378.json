{
  "comments": [
    "Build:  TPTP-4.3.0-200609220100\n\nTry to profile the attached class as an \"External Java Application\".  Select the analysis type: Execution time analysis with its default options.\n\nI wasn\u0027t able to see any data in the execution stat view after refreshing or selecting no post filters.",
    "Created an attachment (id\u003d50730)\nTest class\n\nContent:\n\n\npublic class HelloWorld \n{\n\tpublic static void main(String[] args) \n\t{\n\t\tHelloWorld hellWorld \u003d new HelloWorld();\n\t\thellWorld.rootMethod1();\n\t\thellWorld.rootMethod2();\n\t}\n\t\n\tpublic void rootMethod1()\n\t{\n\t\tSystem.out.println(\"rootMethod1 called\");\n\t\tchildMethod1();\n\t}\n\t\n\tpublic void rootMethod2()\n\t{\n\t\tSystem.out.println(\"rootMethod2 called\");\n\t}\n\t\t\n\tpublic void childMethod1()\n\t{\n\t\tSystem.out.println(\"childMethod1 called\");\n\t}\n\n}\n",
    "Actually when I profiled this the second time and selected \"no filters\", I was able to see profiling data.  It will be very confusing to first time users if they don\u0027t get any kind of data in the execution view because of the default filter.\n\nCan we not select the default filter in cases where it filters all the data?\nI\u0027m lowering the severity to normal",
    "Found another problem:  sometimes when I refresh the data, I get the following logged error (raising back to critical):\n\n\n\njava.lang.ClassCastException\n\tat org.eclipse.hyades.trace.views.internal.AggregatedExecutionStatistic$ExecutionStatisticContentProvider.getChildren(AggregatedExecutionStatistic.java:355)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.getRawChildren(AbstractTreeViewer.java:1166)\n\tat org.eclipse.jface.viewers.TreeViewer.getRawChildren(TreeViewer.java:768)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.getFilteredChildren(AbstractTreeViewer.java:574)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.getSortedChildren(AbstractTreeViewer.java:543)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer$1.run(AbstractTreeViewer.java:728)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:705)\n\tat org.eclipse.jface.viewers.TreeViewer.createChildren(TreeViewer.java:892)\n\tat org.eclipse.hyades.trace.views.internal.AggregatedExecutionStatistic$AggregatedExecutionTreeViewer.expandItem(AggregatedExecutionStatistic.java:473)\n\tat org.eclipse.hyades.trace.views.internal.AggregatedExecutionStatistic.searchMethodInvocation(AggregatedExecutionStatistic.java:750)\n\tat org.eclipse.hyades.trace.views.internal.AggregatedExecutionStatistic.searchMethod(AggregatedExecutionStatistic.java:701)\n\tat org.eclipse.hyades.trace.views.internal.AggregatedExecutionStatistic.select(AggregatedExecutionStatistic.java:678)\n\tat org.eclipse.hyades.trace.views.internal.AggregatedExecutionStatistic.expandToSelectedElement(AggregatedExecutionStatistic.java:661)\n\tat org.eclipse.hyades.trace.views.internal.AggregatedExecutionDetailsView.update(AggregatedExecutionDetailsView.java:109)\n\tat org.eclipse.hyades.trace.views.adapter.internal.AggregatedExecutionStatisticsTab.update(AggregatedExecutionStatisticsTab.java:80)\n\tat org.eclipse.hyades.trace.views.adapter.internal.ExecutionStatisticPage2.update(ExecutionStatisticPage2.java:200)\n\tat org.eclipse.hyades.trace.ui.TraceViewer.addViewPage(TraceViewer.java:216)\n\tat org.eclipse.hyades.trace.ui.TraceViewer.addViewPage(TraceViewer.java:230)\n\tat org.eclipse.hyades.trace.ui.TraceViewer.selectionChanged(TraceViewer.java:519)\n\tat org.eclipse.tptp.platform.common.ui.trace.internal.helpers.TraceUIManager.selectionChanged(TraceUIManager.java:339)\n\tat org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:162)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:843)\n\n....",
    "To be able to get the exception:\n\nclick on \"Link to viewer\" toolbar item in the profiling monitor and switch between the execution stat view and the profiling monitor view",
    "I can still reproduce the problem of not being able to see anything in the execution stat view (even after de-selecting the default filter).\n\nThis appears to be flaky behavior that happens intermittently",
    "I believe this maybe related to https://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d158580.  The reason why no profiling data is displayed is because the filtering criteria is set to:\n\n* * EXCLUDE (Despite the \"Default\" filter set being selected).\n\nWhen I profiled to a file, I got the following data:\n\n\u003c?xml version\u003d\"1.0\"?\u003e\n\u003cTRACE\u003e\n\u003cnode nodeId\u003d\"f28c7c30-64c2-4801-8413-1db7d254ab23\" hostname\u003d\"amehregani\" ipaddress\u003d\"9.26.144.203,127.0.0.1\" timezone\u003d\"300\" time\u003d\"1159212378.187499761\"/\u003e\n\u003cprocessCreate processId\u003d\"\" pid\u003d\"4172\" nodeIdRef\u003d\"f28c7c30-64c2-4801-8413-1db7d254ab23\" time\u003d\"1159212378.187499761\"/\u003e\n\u003cagentCreate agentId\u003d\"9cf1c628-7400-4cf8-87fe-47c458579d01\" version\u003d\"1.000\" processIdRef\u003d\"\" agentName\u003d\"Java Profiling Agent\" agentType\u003d\"Profiler\" agentParameters\u003d\"server\u003dcontrolled\" time\u003d\"1159212378.342999696\"/\u003e\n\u003ctraceStart traceId\u003d\"9f03677b-6cad-48d4-9033-937530d06b97\" agentIdRef\u003d\"9cf1c628-7400-4cf8-87fe-47c458579d01\" time\u003d\"1159212378.893707990\"/\u003e\n\u003cfilter pattern\u003d\"\" mode\u003d\"EXCLUDE\" genericPattern\u003d\"PREFIX\" methodPattern\u003d\"\" methodMode\u003d\"EXCLUDE\" methodGenericPattern\u003d\"PREFIX\"/\u003e\n\u003coption key\u003d\"CLASS_LOAD_DETAILS\" value\u003d\"false\"/\u003e\n\u003coption key\u003d\"METHOD_DETAILS\" value\u003d\"false\"/\u003e\n\u003coption key\u003d\"COLLATION_VALUES\" value\u003d\"false\"/\u003e\n\u003coption key\u003d\"CONTEXT_FLOW\" value\u003d\"false\"/\u003e\n\u003coption key\u003d\"FILTERS\" value\u003d\"true\"/\u003e\n\u003coption key\u003d\"TRACK_GC_EVENT_TYPES\" value\u003d\"frees\"/\u003e\n\u003coption key\u003d\"ID_STYLE\" value\u003d\"static\"/\u003e\n\u003coption key\u003d\"OBJ_REF_MODE\" value\u003d\"filterOwner\"/\u003e\n\u003coption key\u003d\"METHOD_COUNTS\" value\u003d\"false\"/\u003e\n\u003coption key\u003d\"OBJ_ALLOC_IS_ARRAY\" value\u003d\"true\"/\u003e\n\u003coption key\u003d\"OPTIONS\" value\u003d\"true\"/\u003e\n\u003coption key\u003d\"STACK_INFORMATION\" value\u003d\"normal\"/\u003e\n\u003coption key\u003d\"COMPRESS\" value\u003d\"aggregate\"/\u003e\n\u003coption key\u003d\"TRACE_MODE\" value\u003d\"noObjectCorrelation\"/\u003e\n\u003coption key\u003d\"TICKET\" value\u003d\"true\"/\u003e\n\u003coption key\u003d\"TIMESTAMPS\" value\u003d\"true\"/\u003e\n\u003coption key\u003d\"TRACE_IDREFS\" value\u003d\"false\"/\u003e\n\u003coption key\u003d\"UNREFERENCED_SYMBOLS\" value\u003d\"false\"/\u003e\n\u003coption key\u003d\"CPU_TIME\" value\u003d\"false\"/\u003e\n\u003coption key\u003d\"LLDATA_ENABLED\" value\u003d\"false\"/\u003e\n\u003coption key\u003d\"HEAP_INFO_FILE_PREFIX\" value\u003d\"optHeap\"/\u003e\n\u003coption key\u003d\"MONITOR_MODE\" value\u003d\"none\"/\u003e\n\u003coption key\u003d\"METHOD_COUNTS_ONLY\" value\u003d\"false\"/\u003e\n\u003coption key\u003d\"EXTENSION_LIBRARY\" value\u003d\"D:\\TPTP4.3\\TPTP-4.3.0-200609220100\\eclipse\\plugins\\org.eclipse.hyades.probekit_4.2.100.v200609190100/os/win32/x86/ProbeAgentExtension.dll\"/\u003e\n\u003coption key\u003d\"org.eclipse.hyades.trace.ui.ATTR_EXEC_POLLING_FREQ_MODE\" value\u003d\"true\"/\u003e\n\u003coption key\u003d\"org.eclipse.hyades.trace.ui.ATTR_SHOW_EXECUTION_FLOW\" value\u003d\"false\"/\u003e\n\u003coption key\u003d\"org.eclipse.hyades.trace.ui.ATTR_SHOW_EXEC_INSTANCES\" value\u003d\"false\"/\u003e\n\u003coption key\u003d\"org.eclipse.hyades.trace.ui.type0\" value\u003d\"org.eclipse.tptp.analysisType.execution\"/\u003e\n\u003coption key\u003d\"org.eclipse.hyades.trace.ui.ATTR_FILTER_SET\" value\u003d\"auto_generated_filter_set\"/\u003e\n\u003coption key\u003d\"org.eclipse.hyades.trace.ui.ANALYSIS_TYPE_ASSOCIATION(org.eclipse.tptp.analysisType.execution)\" value\u003d\"org.eclipse.tptp.analysisType.execution\"/\u003e\n\u003cthreadStart threadId\u003d\"2\" time\u003d\"1159212378.897098064\" threadName\u003d\"main\" groupName\u003d\"main\" parentName\u003d\"system\" objIdRef\u003d\"0\"/\u003e\n\u003cruntimeInitDone threadIdRef\u003d\"2\" time\u003d\"1159212378.897107839\"/\u003e\n\u003cthreadStart threadId\u003d\"3\" time\u003d\"1159212378.898643016\" threadName\u003d\"Signal Dispatcher\" groupName\u003d\"system\" parentName\u003d\"\" objIdRef\u003d\"0\"/\u003e\n\u003cthreadEnd threadIdRef\u003d\"2\" time\u003d\"1159212381.865031242\"/\u003e\n\u003cthreadStart threadId\u003d\"6\" time\u003d\"1159212381.865217924\" threadName\u003d\"DestroyJavaVM\" groupName\u003d\"main\" parentName\u003d\"system\" objIdRef\u003d\"0\"/\u003e\n\u003cthreadEnd threadIdRef\u003d\"6\" time\u003d\"1159212381.887429714\"/\u003e\n\u003cruntimeShutdown threadIdRef\u003d\"1\" time\u003d\"1159212381.887460708\"/\u003e\n\u003ctraceEnd time\u003d\"1159212381.887464761\"/\u003e\n\u003cagentDestroy agentIdRef\u003d\"9cf1c628-7400-4cf8-87fe-47c458579d01\" time\u003d\"1159212381.887470722\"/\u003e\n\u003c/TRACE\u003e\n",
    "Patch that fixes auto-filtering problem is attached to #158580.\nIt makes two things removes default autofiltering value association for launch configuration type which don\u0027t require it and includes all classes in profiling scope if no resources is found for inclusion (except for just adding excluding filter for any case)",
    "Patch applied",
    "*** Bug 159180 has been marked as a duplicate of this bug. ***",
    "I still see problem with profiling data in views.\n\nusing driver: tptp.sdk-TPTP-4.3.0-200609280100.zip\n\nDefault profile filter shows no data when profile a simple helloworld sample.\nWhen I modify the filter by removing org*, and relaunch, data of (default\npackage) is shown.",
    "Eugene, I don\u0027t think that build has the fix in it.\nThe patch was applied at 1:33pm.  The build you\u0027re using is for 1:00am.",
    "(In reply to comment #10)\n\u003e I still see problem with profiling data in views.\n\u003e \n\u003e using driver: tptp.sdk-TPTP-4.3.0-200609280100.zip\n\u003e \n\u003e Default profile filter shows no data when profile a simple helloworld sample.\n\u003e When I modify the filter by removing org*, and relaunch, data of (default\n\u003e package) is shown.\n\u003e \n\nThe problem does not seem to be related to this problem. Please ignore my comment in #10. I will mark this bug back to resolved.",
    "Eugene, is this driver the nightly driver. Was there a build following this today? If yes can you use that driver to validate it.",
    "Guru(In reply to comment #13)\n\u003e Eugene, is this driver the nightly driver. Was there a build following this\n\u003e today? If yes can you use that driver to validate it.\n\u003e \n\nThat\u0027s the lastest available build by now."
  ],
  "commentCreationDates": [
    "2006-09-22T21:53:14+02:00",
    "2006-09-22T21:54:34+02:00",
    "2006-09-22T22:06:14+02:00",
    "2006-09-22T22:08:27+02:00",
    "2006-09-22T22:12:15+02:00",
    "2006-09-22T22:20:28+02:00",
    "2006-09-25T21:29:01+02:00",
    "2006-09-26T12:18:44+02:00",
    "2006-09-28T19:33:00+02:00",
    "2006-09-28T22:04:18+02:00",
    "2006-09-28T22:51:48+02:00",
    "2006-09-28T23:13:05+02:00",
    "2006-09-28T23:14:47+02:00",
    "2006-09-28T23:26:20+02:00",
    "2006-09-28T23:37:17+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "elements": [
        {
          "method": "org.eclipse.hyades.trace.views.internal.AggregatedExecutionStatistic$ExecutionStatisticContentProvider.getChildren",
          "source": "AggregatedExecutionStatistic.java:355"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.getRawChildren",
          "source": "AbstractTreeViewer.java:1166"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.getRawChildren",
          "source": "TreeViewer.java:768"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.getFilteredChildren",
          "source": "AbstractTreeViewer.java:574"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.getSortedChildren",
          "source": "AbstractTreeViewer.java:543"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$1.run",
          "source": "AbstractTreeViewer.java:728"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:67"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.createChildren",
          "source": "AbstractTreeViewer.java:705"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.createChildren",
          "source": "TreeViewer.java:892"
        },
        {
          "method": "org.eclipse.hyades.trace.views.internal.AggregatedExecutionStatistic$AggregatedExecutionTreeViewer.expandItem",
          "source": "AggregatedExecutionStatistic.java:473"
        },
        {
          "method": "org.eclipse.hyades.trace.views.internal.AggregatedExecutionStatistic.searchMethodInvocation",
          "source": "AggregatedExecutionStatistic.java:750"
        },
        {
          "method": "org.eclipse.hyades.trace.views.internal.AggregatedExecutionStatistic.searchMethod",
          "source": "AggregatedExecutionStatistic.java:701"
        },
        {
          "method": "org.eclipse.hyades.trace.views.internal.AggregatedExecutionStatistic.select",
          "source": "AggregatedExecutionStatistic.java:678"
        },
        {
          "method": "org.eclipse.hyades.trace.views.internal.AggregatedExecutionStatistic.expandToSelectedElement",
          "source": "AggregatedExecutionStatistic.java:661"
        },
        {
          "method": "org.eclipse.hyades.trace.views.internal.AggregatedExecutionDetailsView.update",
          "source": "AggregatedExecutionDetailsView.java:109"
        },
        {
          "method": "org.eclipse.hyades.trace.views.adapter.internal.AggregatedExecutionStatisticsTab.update",
          "source": "AggregatedExecutionStatisticsTab.java:80"
        },
        {
          "method": "org.eclipse.hyades.trace.views.adapter.internal.ExecutionStatisticPage2.update",
          "source": "ExecutionStatisticPage2.java:200"
        },
        {
          "method": "org.eclipse.hyades.trace.ui.TraceViewer.addViewPage",
          "source": "TraceViewer.java:216"
        },
        {
          "method": "org.eclipse.hyades.trace.ui.TraceViewer.addViewPage",
          "source": "TraceViewer.java:230"
        },
        {
          "method": "org.eclipse.hyades.trace.ui.TraceViewer.selectionChanged",
          "source": "TraceViewer.java:519"
        },
        {
          "method": "org.eclipse.tptp.platform.common.ui.trace.internal.helpers.TraceUIManager.selectionChanged",
          "source": "TraceUIManager.java:339"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer$2.run",
          "source": "Viewer.java:162"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:843"
        }
      ],
      "number": 0,
      "commentIndex": 3,
      "bugId": "158378",
      "date": "2006-09-22T22:08:27+02:00",
      "product": "TPTP Profiling",
      "component": "Platform.UI.ProfilingPerspective",
      "severity": "critical"
    }
  ],
  "groupId": "158378",
  "bugId": "158378",
  "date": "2006-09-22T21:53:14+02:00",
  "product": "TPTP Profiling",
  "component": "Platform.UI.ProfilingPerspective",
  "severity": "critical"
}