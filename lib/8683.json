{
  "comments": [
    "20020124++\n\nSuspend the VM\nSelect the SignalDispatcher thread\nHit step over\n\nOur code assumes that there is a top stack frame.\n\njava.lang.NullPointerException\n\tat org.eclipse.jdt.internal.debug.core.model.JDIThread$StepHandler.step\n(JDIThread.java:1510)\n\tat org.eclipse.jdt.internal.debug.core.model.JDIThread.stepReturn\n(JDIThread.java:1115)\n\tat \norg.eclipse.debug.internal.ui.actions.StepReturnActionDelegate.stepAction\n(StepReturnActionDelegate.java:29)\n\tat org.eclipse.debug.internal.ui.actions.StepActionDelegate.doAction\n(StepActionDelegate.java:22)\n\tat org.eclipse.debug.internal.ui.actions.ControlActionDelegate$1.run\n(ControlActionDelegate.java:91)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:56)\n\tat org.eclipse.debug.internal.ui.actions.ControlActionDelegate.run\n(ControlActionDelegate.java:86)\n\tat org.eclipse.debug.internal.ui.actions.ControlActionDelegate.run\n(ControlActionDelegate.java:123)\n\tat org.eclipse.ui.internal.PluginAction.runWithEvent\n(PluginAction.java:204)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:407)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent\n(ActionContributionItem.java:361)\n\tat org.eclipse.jface.action.ActionContributionItem.access$0\n(ActionContributionItem.java:352)\n\tat \norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent\n(ActionContributionItem.java:47)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:74)\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:637)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1413)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1205)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:852)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:835)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:878)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:321)\n\tat SlimLauncher.main(SlimLauncher.java:14)",
    "Fixed.",
    "Please verify.",
    "The NPE does not occur but should the step really be attempted when there is no \ntop stack frame?  Now after I resume the VM, the signal dispatcher thread still \nsays stepping.  I altered the code to not do the step if there is no top stack \nframe.",
    "Changes made in JDIThread.",
    "Please verify.",
    "Moved the protection higher up to the API - canStepInto/over/return. Now the \nstep actions are also disabled in the UI in this case.",
    "Fixed",
    "Please verify.",
    "I am not sure that we want to trigger a refresh of the children polling if the \naction can step.  Could lead to timing issues for things like evaluation.  I \nthink canStep needs to call a \"getTopStackFrame2\" that does computeStackFrames\n(false)?",
    "What do you think?",
    "Verified that this will not trigger an (extra) refresh of children, as children \nare already present when a thread suspends/steps. This just re-accesses the \ncached children. Verified this did not slow stepping down.\n\nLeft for verification.",
    "Cool...verified."
  ],
  "commentCreationDates": [
    "2002-01-29T16:32:54+01:00",
    "2002-02-05T21:51:51+01:00",
    "2002-02-05T21:52:00+01:00",
    "2002-02-07T02:09:51+01:00",
    "2002-02-07T02:10:31+01:00",
    "2002-02-07T02:10:44+01:00",
    "2002-02-07T14:31:06+01:00",
    "2002-02-07T14:31:20+01:00",
    "2002-02-07T14:31:27+01:00",
    "2002-02-07T15:11:37+01:00",
    "2002-02-07T15:12:13+01:00",
    "2002-02-07T15:38:18+01:00",
    "2002-02-07T15:44:42+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread$StepHandler.step",
          "source": "JDIThread.java:1510"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread.stepReturn",
          "source": "JDIThread.java:1115"
        },
        {
          "method": "org.eclipse.debug.internal.ui.actions.StepReturnActionDelegate.stepAction",
          "source": "StepReturnActionDelegate.java:29"
        },
        {
          "method": "org.eclipse.debug.internal.ui.actions.StepActionDelegate.doAction",
          "source": "StepActionDelegate.java:22"
        },
        {
          "method": "org.eclipse.debug.internal.ui.actions.ControlActionDelegate$1.run",
          "source": "ControlActionDelegate.java:91"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:56"
        },
        {
          "method": "org.eclipse.debug.internal.ui.actions.ControlActionDelegate.run",
          "source": "ControlActionDelegate.java:86"
        },
        {
          "method": "org.eclipse.debug.internal.ui.actions.ControlActionDelegate.run",
          "source": "ControlActionDelegate.java:123"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:204"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:407"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java:361"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem.java:352"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java:47"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:74"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:637"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1413"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1205"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:852"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:835"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:878"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:321"
        },
        {
          "method": "SlimLauncher.main",
          "source": "SlimLauncher.java:14"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "8683",
      "date": "2002-01-29T16:32:54+01:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "8683",
  "bugId": "8683",
  "date": "2002-01-29T16:32:54+01:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "normal"
}