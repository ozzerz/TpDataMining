{
  "comments": [
    "Build ID: I20061214-1445\n\nSteps To Reproduce:\n1. Create a multi-page editor that uses addPage(IEditorPart, IEditorInput)\n2. Open the editor\n3. Make it dirty\n4. Close the workbench (choosing to save the editor)\n\n\nMore information:\nWhen the workbench closes, it calls into EditorManager\u0027s saveEditorState() method, which makes the following call:\n    final EditorSite site \u003d (EditorSite) editor.getEditorSite();\n\nBecause the editor site is a MultiPageEditorSite rather than an EditorSite, it throws a ClassCastException and it ends up bringing up an error dialog. Because of that error dialog, its a more noticeable problem for me.\n\nHere\u0027s the exception:\njava.lang.ClassCastException: org.eclipse.ui.part.MultiPageEditorSite\n\tat org.eclipse.ui.internal.EditorManager.saveEditorState(EditorManager.java:1514)\n\tat org.eclipse.ui.internal.EditorManager.saveState(EditorManager.java:1433)\n\tat org.eclipse.ui.internal.WorkbenchPage.saveState(WorkbenchPage.java:3065)\n\tat org.eclipse.ui.internal.WorkbenchWindow.saveState(WorkbenchWindow.java:2440)\n\tat org.eclipse.ui.internal.Workbench.saveState(Workbench.java:1950)\n\nI\u0027d recommend doing an instanceof before the cast.",
    "Fixed \u003e20070204."
  ],
  "commentCreationDates": [
    "2007-01-08T22:05:31+01:00",
    "2007-02-05T04:02:06+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.ui.part.MultiPageEditorSite",
      "elements": [
        {
          "method": "org.eclipse.ui.internal.EditorManager.saveEditorState",
          "source": "EditorManager.java:1514"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.saveState",
          "source": "EditorManager.java:1433"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.saveState",
          "source": "WorkbenchPage.java:3065"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.saveState",
          "source": "WorkbenchWindow.java:2440"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.saveState",
          "source": "Workbench.java:1950"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "169898",
      "date": "2007-01-08T22:05:31+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "169898",
  "bugId": "169898",
  "date": "2007-01-08T22:05:31+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "major"
}