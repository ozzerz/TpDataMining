{
  "comments": [
    "One user on the Spring forum posted an aspect that used a \u0027static final\u0027 string as pointcut expression. The compiler crashes for such an aspect. I think either accepting it (since such a string is a compile-time constant) or issuing a proper error message will be appropriate resolution.\n\npackage bug;\n\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Pointcut;\n\n@Aspect\npublic class StaticFinalStringInPointcutAspect {\n\tstatic final String pcExpression \u003d \"within(*)\";\n\t\n\t@Pointcut(pcExpression)\n\tpublic void pointcutThatUsesStaticFinalStringAsExpression() {}\n}\n\njava.lang.ClassCastException\nat org.aspectj.ajdt.internal.compiler.lookup.EclipseSourceType.getPointcutStringFromAnnotationStylePointcut(EclipseSourceType.java:169)\nat org.aspectj.ajdt.internal.compiler.lookup.EclipseSourceType.makeResolvedPointcutDefinition(EclipseSourceType.java:266)\nat org.aspectj.ajdt.internal.compiler.lookup.EclipseSourceType.fillDeclaredMembers(EclipseSourceType.java:232)\nat org.aspectj.ajdt.internal.compiler.looku ... rg.aspectj.org.eclipse.jdt.internal.compiler.ast.SingleNameReference cannot be cast to org.aspectj.org.eclipse.jdt.internal.compiler.ast.StringLiteral",
    "i think this could work..."
  ],
  "commentCreationDates": [
    "2007-02-15T22:38:36+01:00",
    "2007-10-26T12:31:54+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "elements": [
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.EclipseSourceType.getPointcutStringFromAnnotationStylePointcut",
          "source": "EclipseSourceType.java:169"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.EclipseSourceType.makeResolvedPointcutDefinition",
          "source": "EclipseSourceType.java:266"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.EclipseSourceType.fillDeclaredMembers",
          "source": "EclipseSourceType.java:232"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "174385",
      "date": "2007-02-15T22:38:36+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "174385",
  "bugId": "174385",
  "date": "2007-02-15T22:38:36+01:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}