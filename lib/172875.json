{
  "comments": [
    "Build I20070205-0009\n\nI\u0027m getting the following error from one of my self-hosting launch configurations on this build.  I have not been able to narrow down the conditions that are causing this yet.  Other launch configurations seem to work just fine.\n\nException in thread \"Thread-2\" org.eclipse.swt.SWTException: Invalid thread access\n\tat org.eclipse.swt.SWT.error(SWT.java:3478)\n\tat org.eclipse.swt.SWT.error(SWT.java:3401)\n\tat org.eclipse.swt.SWT.error(SWT.java:3372)\n\tat org.eclipse.swt.widgets.Widget.error(Widget.java:432)\n\tat org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:326)\n\tat org.eclipse.swt.widgets.Widget.checkParent(Widget.java:264)\n\tat org.eclipse.swt.widgets.Widget.\u003cinit\u003e(Widget.java:136)\n\tat org.eclipse.swt.widgets.Control.\u003cinit\u003e(Control.java:95)\n\tat org.eclipse.swt.widgets.Scrollable.\u003cinit\u003e(Scrollable.java:72)\n\tat org.eclipse.swt.widgets.Composite.\u003cinit\u003e(Composite.java:93)\n\tat org.eclipse.jface.wizard.ProgressMonitorPart.\u003cinit\u003e(ProgressMonitorPart.java:94)\n\tat org.eclipse.jface.wizard.ProgressMonitorPart.\u003cinit\u003e(ProgressMonitorPart.java:81)\n\tat org.eclipse.ui.splash.BasicSplashHandler$AbsolutePositionProgressMonitorPart.\u003cinit\u003e(BasicSplashHandler.java:40)\n\tat org.eclipse.ui.splash.BasicSplashHandler.getBundleProgressMonitor(BasicSplashHandler.java:163)\n\tat org.eclipse.ui.internal.Workbench.runStartupWithProgress(Workbench.java:1692)\n\tat org.eclipse.ui.internal.Workbench.openFirstTimeWindow(Workbench.java:1676)\n\tat org.eclipse.ui.internal.WorkbenchConfigurer.openFirstTimeWindow(WorkbenchConfigurer.java:190)\n\tat org.eclipse.ui.application.WorkbenchAdvisor.openWindows(WorkbenchAdvisor.java:757)\n\tat org.eclipse.ui.internal.Workbench.init(Workbench.java:1282)\n\tat org.eclipse.ui.internal.Workbench.access$33(Workbench.java:1227)\n\tat org.eclipse.ui.internal.Workbench$48.run(Workbench.java:2158)",
    "There is some code in EclipseSplashHandler at line 68 that checks the \"SHOW_BUILDID_ON_STARTUP\" preference.  For some reason this is returning false on my configuration that fails.\n\nif (PrefUtil.getInternalPreferenceStore().getBoolean(\n\t\t\"SHOW_BUILDID_ON_STARTUP\")) { //$NON-NLS-1$\n\tfinal String buildId \u003d System.getProperty(\n\t\t\t\"eclipse.buildId\", \"Unknown Build\"); //$NON-NLS-1$ //$NON-NLS-2$\n\n\tgetContent().addPaintListener(new PaintListener() {\n\n\t\tpublic void paintControl(PaintEvent e) {\n\t\t\te.gc.setForeground(getForeground());\n\t\t\t// hardcoded to be sensible with our current Europa Graphic\n\t\t\te.gc.drawText(buildId, 322, 190, true);\n\n\t\t}\n\t});\n}\n\nIf this code is not run at startup from the main thread then it is possible that BasicSplashHandler.getBundleProgressMonitor method will get called on a normal thread.  I think that is causing the issue.",
    "Another key bit of information.  I was using the org.eclipse.platform.ide product to launch with.  If I switch to org.eclipse.sdk.ide then it works just find.  I\u0027m not sure why I was launching with org.eclipse.platform.ide in that configuration ...",
    "Fix in HEAD.  Thanks!",
    "Verified in I20070208-2030"
  ],
  "commentCreationDates": [
    "2007-02-05T16:23:04+01:00",
    "2007-02-05T17:08:45+01:00",
    "2007-02-05T17:24:22+01:00",
    "2007-02-06T19:21:47+01:00",
    "2007-02-09T13:37:23+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Invalid thread access",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3478"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3401"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3372"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:432"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.checkWidget",
          "source": "Widget.java:326"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.checkParent",
          "source": "Widget.java:264"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.\u003cinit\u003e",
          "source": "Widget.java:136"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.\u003cinit\u003e",
          "source": "Control.java:95"
        },
        {
          "method": "org.eclipse.swt.widgets.Scrollable.\u003cinit\u003e",
          "source": "Scrollable.java:72"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.\u003cinit\u003e",
          "source": "Composite.java:93"
        },
        {
          "method": "org.eclipse.jface.wizard.ProgressMonitorPart.\u003cinit\u003e",
          "source": "ProgressMonitorPart.java:94"
        },
        {
          "method": "org.eclipse.jface.wizard.ProgressMonitorPart.\u003cinit\u003e",
          "source": "ProgressMonitorPart.java:81"
        },
        {
          "method": "org.eclipse.ui.splash.BasicSplashHandler$AbsolutePositionProgressMonitorPart.\u003cinit\u003e",
          "source": "BasicSplashHandler.java:40"
        },
        {
          "method": "org.eclipse.ui.splash.BasicSplashHandler.getBundleProgressMonitor",
          "source": "BasicSplashHandler.java:163"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runStartupWithProgress",
          "source": "Workbench.java:1692"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.openFirstTimeWindow",
          "source": "Workbench.java:1676"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchConfigurer.openFirstTimeWindow",
          "source": "WorkbenchConfigurer.java:190"
        },
        {
          "method": "org.eclipse.ui.application.WorkbenchAdvisor.openWindows",
          "source": "WorkbenchAdvisor.java:757"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.init",
          "source": "Workbench.java:1282"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$33",
          "source": "Workbench.java:1227"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$48.run",
          "source": "Workbench.java:2158"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "172875",
      "date": "2007-02-05T16:23:04+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "172875",
  "bugId": "172875",
  "date": "2007-02-05T16:23:04+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}