{
  "comments": [
    "I got this error, which shut down my JVM, after I selected \"Refactor-\u003eUse Supertype Where Possible...\", in the Package Explorer.\n\nThe trace is:\njava.lang.StackOverflowError\nat org.eclipse.swt.internal.win32.OS.CallWindowProc(OS.java:1842)\nat org.eclipse.swt.widgets.Tree.callWindowProc(Tree.java:1292)\nat org.eclipse.swt.widgets.Control.windowProc(Control.java:3334)\nat org.eclipse.swt.widgets.Tree.windowProc(Tree.java:4734)\nat org.eclipse.swt.widgets.Display.windowProc(Display.java:4025)\nat org.eclipse.swt.internal.win32.OS.SendMessageW(Native Method)\nat org.eclipse.swt.internal.win32.OS.SendMessage(OS.java:2589)\nat org.eclipse.swt.widgets.Tree.CDDS_ITEMPREPAINT(Tree.java:864)\nat org.eclipse.swt.widgets.Tree.wmNotifyChild(Tree.java:6103)\nat org.eclipse.swt.widgets.Control.WM_NOTIFY(Control.java:3794)\nat org.eclipse.swt.widgets.Composite.WM_NOTIFY(Composite.java:1166)\nat org.eclipse.swt.widgets.Control.windowProc(Control.java:3298)\nat org.eclipse.swt.widgets.Display.windowProc(Display.java:4025)\nat org.eclipse.swt.internal.win32.OS.CallWindowProcW(Native Method)\nat org.eclipse.swt.internal.win32.OS.CallWindowProc(OS.java:1842)\nat org.eclipse.swt.widgets.Tree.callWindowProc(Tree.java:1292)\nat org.eclipse.swt.widgets.Control.windowProc(Control.java:3334)\nat org.eclipse.swt.widgets.Tree.windowProc(Tree.java:4734)\nat org.eclipse.swt.widgets.Display.windowProc(Display.java:4025)\nat org.eclipse.swt.internal.win32.OS.SendMessageW(Native Method)\nat org.eclipse.swt.internal.win32.OS.SendMessage(OS.java:2514)\nat org.eclipse.swt.widgets.TreeItem.setExpanded(TreeItem.java:1137)\nat org.eclipse.jface.viewers.TreeViewer.setExpanded(TreeViewer.java:642)\nat org.eclipse.jface.viewers.AbstractTreeViewer.internalExpandToLevel(AbstractTreeViewer.java:1482)\nat org.eclipse.jface.viewers.AbstractTreeViewer.internalExpandToLevel(AbstractTreeViewer.java:1490)\nat org.eclipse.jface.viewers.AbstractTreeViewer.internalExpandToLevel(AbstractTreeViewer.java:1490)\nat org.eclipse.jface.viewers.AbstractTreeViewer.internalExpandToLevel(AbstractTreeViewer.java:1490)\nat org.eclipse.jface.viewers.AbstractTreeViewer.internalExpandToLevel(AbstractTreeViewer.java:1490)\nat org.eclipse.jface.viewers.AbstractTreeViewer.internalExpandToLevel(AbstractTreeViewer.java:1490)\nat org.eclipse.jface.viewers.AbstractTreeViewer.internalExpandToLevel(AbstractTreeViewer.java:1490)\nat org.eclipse.jface.viewers.AbstractTreeViewer.internalExpandToLevel(AbstractTreeViewer.java:1490)\nat \n\u003csnip... this went on for a few pages\u003e",
    "Not much I can do without some code or step that show the problem.  Do you have any idea what you were doing?  Boris, you got any ideas?",
    "Sorry Pawel, I didn\u0027t see the \"Refactor-\u003eUse Supertype Where Possible...\" even though it is right there.  I\u0027ll try it right now.",
    "\"Refactor-\u003eUse Supertype Where Possible...\" worked for me (but took a long time).  What class did you select?",
    "Could it be that JDT creates an infinite tree in some cases? Apparently, they ask us to expand the whole tree (probably in their wizard). AbstractTreeViewer uses a recursive algorithm to expand, and the depth of the recursion is the depth of the tree. With normal trees, I don\u0027t see how you can generate pages of recursion, hence my suspicion that their tree model is infinite.",
    "I wasn\u0027t sure if the stack trace would be enough to diagnose the bug, but I guess not.  I went back and tried to reproduce the problem, so in more detail:\n\n1) I created an annotation in its own file:\nServiceEventHandler.java:\n    public @interface ServiceEventHandler {}\n2) In package explorer, I selected \"Refactor-\u003eUse Supertype Where Possible...\" and that caused the exception.\n\nI\u0027m not even sure what Refactor-\u003eUse Supertype Where Possible... is supposed to do, maybe it\u0027s not applicable.  I just wanted to make this annotation an inner class of another class.\n\nI\u0027m still using RC2 btw.",
    "Tobias, can you provide a patch for 3.2?",
    "Created an attachment (id\u003d41092)\npatch\n\nThis patch fixes the computation of children. For interfaces, we always have to explicitely add java.lang.Object. Since the check for this was erroneous, expandAll() created an infinite tree causing the exception.",
    "Martin, do you approve for 3.2?",
    "Created an attachment (id\u003d41123)\nsimplified patch\n\nsimplified patch",
    "Tobias, can you review the simplified patch?\n\n+1 for 3.2 RC4\n\nDani and Darin, do you approve?",
    "+1",
    "+1 for 3.2 RC4.",
    "simplified patch released. Should go into I20060511-1800",
    "I20060511-1600 I meant",
    "verifying for I20060512-0010",
    "verified"
  ],
  "commentCreationDates": [
    "2006-05-10T07:46:12+02:00",
    "2006-05-10T15:55:32+02:00",
    "2006-05-10T15:56:43+02:00",
    "2006-05-10T15:58:52+02:00",
    "2006-05-10T16:14:11+02:00",
    "2006-05-10T17:55:11+02:00",
    "2006-05-10T19:49:51+02:00",
    "2006-05-11T12:28:31+02:00",
    "2006-05-11T12:29:38+02:00",
    "2006-05-11T16:40:56+02:00",
    "2006-05-11T16:43:09+02:00",
    "2006-05-11T16:53:20+02:00",
    "2006-05-11T17:23:45+02:00",
    "2006-05-11T17:30:26+02:00",
    "2006-05-11T17:51:06+02:00",
    "2006-05-12T10:00:00+02:00",
    "2006-05-12T10:15:51+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.StackOverflowError",
      "elements": [
        {
          "method": "org.eclipse.swt.internal.win32.OS.CallWindowProc",
          "source": "OS.java:1842"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.callWindowProc",
          "source": "Tree.java:1292"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:3334"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.windowProc",
          "source": "Tree.java:4734"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:4025"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.SendMessageW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.SendMessage",
          "source": "OS.java:2589"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.CDDS_ITEMPREPAINT",
          "source": "Tree.java:864"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.wmNotifyChild",
          "source": "Tree.java:6103"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.WM_NOTIFY",
          "source": "Control.java:3794"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.WM_NOTIFY",
          "source": "Composite.java:1166"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:3298"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:4025"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.CallWindowProcW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.CallWindowProc",
          "source": "OS.java:1842"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.callWindowProc",
          "source": "Tree.java:1292"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:3334"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.windowProc",
          "source": "Tree.java:4734"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:4025"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.SendMessageW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.SendMessage",
          "source": "OS.java:2514"
        },
        {
          "method": "org.eclipse.swt.widgets.TreeItem.setExpanded",
          "source": "TreeItem.java:1137"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.setExpanded",
          "source": "TreeViewer.java:642"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalExpandToLevel",
          "source": "AbstractTreeViewer.java:1482"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalExpandToLevel",
          "source": "AbstractTreeViewer.java:1490"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalExpandToLevel",
          "source": "AbstractTreeViewer.java:1490"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalExpandToLevel",
          "source": "AbstractTreeViewer.java:1490"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalExpandToLevel",
          "source": "AbstractTreeViewer.java:1490"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalExpandToLevel",
          "source": "AbstractTreeViewer.java:1490"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalExpandToLevel",
          "source": "AbstractTreeViewer.java:1490"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalExpandToLevel",
          "source": "AbstractTreeViewer.java:1490"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "140982",
      "date": "2006-05-10T07:46:12+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "140982",
  "bugId": "140982",
  "date": "2006-05-10T07:46:12+02:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}