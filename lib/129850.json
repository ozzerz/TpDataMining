{
  "comments": [
    "I keep getting exceptions that look like this in my RCP app:\n\njava.lang.NullPointerException\n\tat org.eclipse.emf.ecore.xmi.impl.SAXWrapper.prepare(SAXWrapper.java:46)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLParserPoolImpl.getDefaultHandler(XMLParserPoolImpl.java:143)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLLoadImpl.load(XMLLoadImpl.java:120)\n\tat org.eclipse.emf.ecore.xmi.impl.XMLResourceImpl.doLoad(XMLResourceImpl.java:172)\n\n...\n\nThis appears to be an EMF bug caused by the fix to bug 85141. The problematic pattern seems to come from XMLLoadImpl, which uses this pattern:\n\n      // release parser back to the pool\n      if (pool !\u003d null)\n      {\n        pool.release(parser, parserFeatures, parserProperties, Boolean.TRUE.equals(options.get(XMLResource.OPTION_USE_LEXICAL_HANDLER)));\n        pool.releaseDefaultHandler((XMLDefaultHandler)handler, options);\n      }\n      \n      // avoid memory leak bug #85141\n      if (handler instanceof SAXWrapper)\n      {\n        ((SAXWrapper)handler).handler \u003d null;\n      }     \n\nThe call to pool.releaseDefaultHandler causes the handler to end up in XMLParserPoolImpl\u0027s handlersCache, and the subsequent line nulls out the handler field. This means that the next call to XMLParserPoolImpl.getDefaultHandler with the same options will throw an NPE since the default handler has a null field.",
    "bug 127122 and bug 126645 seem to result from this same root cause.\n",
    "This was fixed with bug #125369",
    "Please try with the latest EMF driver (or at least one containing the fix for 125369).\n\n*** This bug has been marked as a duplicate of 125369 ***"
  ],
  "commentCreationDates": [
    "2006-02-28T21:19:27+01:00",
    "2006-02-28T21:42:19+01:00",
    "2006-02-28T21:47:20+01:00",
    "2006-02-28T22:24:36+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.SAXWrapper.prepare",
          "source": "SAXWrapper.java:46"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLParserPoolImpl.getDefaultHandler",
          "source": "XMLParserPoolImpl.java:143"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLLoadImpl.load",
          "source": "XMLLoadImpl.java:120"
        },
        {
          "method": "org.eclipse.emf.ecore.xmi.impl.XMLResourceImpl.doLoad",
          "source": "XMLResourceImpl.java:172"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "129850",
      "duplicateId": "125369",
      "date": "2006-02-28T21:19:27+01:00",
      "product": "EMF",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "125369",
  "bugId": "129850",
  "duplicateId": "125369",
  "date": "2006-02-28T21:19:27+01:00",
  "product": "EMF",
  "component": "Core",
  "severity": "normal"
}