{
  "comments": [
    "I used the update manager to update 3.2 installation of Eclipse to 3.2.1. When Eclipse restarted, the Package Manager view has the following error message as its contents: \"unable to create view: com/ibm/icu/text/MessageFormat\". Detail pane shows the following trace:\njava.lang.NoClassDefFoundError: com/ibm/icu/text/MessageFormat\n\tat org.eclipse.jdt.internal.corext.util.Messages.format(Messages.java:23)\n\tat org.eclipse.jdt.internal.ui.filters.FilterDescriptor.createViewerFilter(FilterDescriptor.java:121)\n\tat org.eclipse.jdt.ui.actions.CustomFiltersActionGroup.updateBuiltInFilters(CustomFiltersActionGroup.java:510)\n\tat org.eclipse.jdt.ui.actions.CustomFiltersActionGroup.installFilters(CustomFiltersActionGroup.java:474)\n\tat org.eclipse.jdt.ui.actions.CustomFiltersActionGroup.\u003cinit\u003e(CustomFiltersActionGroup.java:232)\n\tat org.eclipse.jdt.ui.actions.CustomFiltersActionGroup.\u003cinit\u003e(CustomFiltersActionGroup.java:212)\n\tat org.eclipse.jdt.internal.ui.packageview.PackageExplorerActionGroup.\u003cinit\u003e(PackageExplorerActionGroup.java:128)\n\tat org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart.makeActions(PackageExplorerPart.java:919)\n\tat org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart.createPartControl(PackageExplorerPart.java:634)\n\tat org.eclipse.ui.internal.ViewReference.createPartHelper(ViewReference.java:332)\n\tat org.eclipse.ui.internal.ViewReference.createPart(ViewReference.java:197)\n\tat org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:566)\n\tat org.eclipse.ui.internal.WorkbenchPage$ActivationList.setActive(WorkbenchPage.java:3915)\n\tat org.eclipse.ui.internal.WorkbenchPage.restoreState(WorkbenchPage.java:2929)\n\tat org.eclipse.ui.internal.WorkbenchWindow.restoreState(WorkbenchWindow.java:1936)\n\tat org.eclipse.ui.internal.Workbench.doRestoreState(Workbench.java:2857)\n\tat org.eclipse.ui.internal.Workbench.access$14(Workbench.java:2805)\n\tat org.eclipse.ui.internal.Workbench$19.run(Workbench.java:1681)\n\tat org.eclipse.ui.internal.Workbench.runStartupWithProgress(Workbench.java:1421)\n\tat org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1679)\n\tat org.eclipse.ui.internal.Workbench.access$12(Workbench.java:1650)\n\tat org.eclipse.ui.internal.Workbench$17.run(Workbench.java:1529)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1473)\n\tat org.eclipse.ui.internal.WorkbenchConfigurer.restoreState(WorkbenchConfigurer.java:183)\n\tat org.eclipse.ui.application.WorkbenchAdvisor.openWindows(WorkbenchAdvisor.java:702)\n\tat org.eclipse.ui.internal.Workbench.init(Workbench.java:1085)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1847)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)\n\nJava and text editors cannot be opened, giving the same error. Ditto for the About dialog. The install log page shows \"success\" for all features being enabled and disabled.",
    "The exception looks similar to bug 145988, but I\u0027m not sure why this would only manifest itself in 3.2.1 and not 3.2.\n\nRolling back the configuration to 3.2 did not help, but what did was disabling one of the local plugins which had worked perfectly fine until this update.",
    "I found a workaround that allows me to continue using the said internal plugin: in Eclipse\u0027s plugins directory, I noticed I had ICU jars for two versions, 3.4.4.1 and 3.4.5, where the latter was installed as part of my 3.2.1 update. I tried temporarily removing 3.4.5 jar, but then Eclipse wouldn\u0027t even start with errors in the log that it is missing the ICU bundle. I then made a copy of 3.4.4.1 jar and named it com.ibm.icu_3.4.5.jar, and now everything works fine, and I don\u0027t have to disable any plugins. I\u0027ve no idea why this helped, or how long it will work, though.",
    "\n\n*** This bug has been marked as a duplicate of bug 145988 ***",
    "DJ, I don\u0027t think this is a duplicate of bug 145988.  It seems like we can\u0027t have 2 versions of ICU4J present in the plugins directory.  Keep in mind, plugins using ICU4J are asked to use the Import-Package directive instead of Require-Bundle, maybe this is part of the problem?    ",
    "I am unable to reproduce this problem. My steps:\n\n- install Eclipse 3.2\n- create Java project, package and java file\n- in the Packages Explorer set the filters to show \".\" resources\n- make the Error Log visable and fill it with contents (copied log from other workspace) (I opened this view because it uses ICU)\n- Help -\u003e Software Updates -\u003e Find and Install... -\u003e Search for updates... -\u003e Eclipse 3.2.1\n- restart when requested\n\nMy Eclipse restarts ok.\n\nThen I also created a 3.2.2 update site based on the contents of the latest 3.2.2 maintenance stream build. I updated the workspace to these new feature versions and everything works ok.\n\nI am doing all of this with JDK 1.5.0_06.\n\nAs for the multiple versions, ICU specifies the \"singleton\" directive in its manifest file so we can have multiple versions on the file-system but only one will be installed. When people do \"import-package\" and don\u0027t specify a version, they will get whichever one was installed.\n\nYou can check which version you have installed by:\n1) Help -\u003e About -\u003e Plug-in Details\n2) or running with java.exe, and using the -console command-line arg and typing \"ss\". (note you may have to run also with -noexit so the console doesn\u0027t go away when Eclipse dies)\n",
    "Closing. Please re-open if you have a reproducible test case for us. Thanks.",
    "Karice, this is a duplicate of 145988, DJ\u0027s setup is missing one crucial step: there has to be a third-party plugin which references the ICU4J. (Actually, ours carries an older copy of ICU with it.) As I said in the other bug, the workaround was to disable this plugin or get rid of one version of ICU4J."
  ],
  "commentCreationDates": [
    "2007-01-09T01:56:11+01:00",
    "2007-01-09T20:05:17+01:00",
    "2007-01-09T20:09:33+01:00",
    "2007-01-09T21:15:00+01:00",
    "2007-01-17T16:42:48+01:00",
    "2007-01-17T19:28:45+01:00",
    "2007-01-17T19:29:41+01:00",
    "2007-01-17T20:12:01+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoClassDefFoundError",
      "message": "com/ibm/icu/text/MessageForm",
      "elements": [
        {
          "method": "atorg.eclipse.jdt.internal.corext.util.Messages.format",
          "source": "Messages.java:23"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.filters.FilterDescriptor.createViewerFilter",
          "source": "FilterDescriptor.java:121"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.CustomFiltersActionGroup.updateBuiltInFilters",
          "source": "CustomFiltersActionGroup.java:510"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.CustomFiltersActionGroup.installFilters",
          "source": "CustomFiltersActionGroup.java:474"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.CustomFiltersActionGroup.\u003cinit\u003e",
          "source": "CustomFiltersActionGroup.java:232"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.CustomFiltersActionGroup.\u003cinit\u003e",
          "source": "CustomFiltersActionGroup.java:212"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.PackageExplorerActionGroup.\u003cinit\u003e",
          "source": "PackageExplorerActionGroup.java:128"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart.makeActions",
          "source": "PackageExplorerPart.java:919"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart.createPartControl",
          "source": "PackageExplorerPart.java:634"
        },
        {
          "method": "org.eclipse.ui.internal.ViewReference.createPartHelper",
          "source": "ViewReference.java:332"
        },
        {
          "method": "org.eclipse.ui.internal.ViewReference.createPart",
          "source": "ViewReference.java:197"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPartReference.getPart",
          "source": "WorkbenchPartReference.java:566"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$ActivationList.setActive",
          "source": "WorkbenchPage.java:3915"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.restoreState",
          "source": "WorkbenchPage.java:2929"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.restoreState",
          "source": "WorkbenchWindow.java:1936"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.doRestoreState",
          "source": "Workbench.java:2857"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$14",
          "source": "Workbench.java:2805"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$19.run",
          "source": "Workbench.java:1681"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runStartupWithProgress",
          "source": "Workbench.java:1421"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.restoreState",
          "source": "Workbench.java:1679"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$12",
          "source": "Workbench.java:1650"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$17.run",
          "source": "Workbench.java:1529"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.restoreState",
          "source": "Workbench.java:1473"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchConfigurer.restoreState",
          "source": "WorkbenchConfigurer.java:183"
        },
        {
          "method": "org.eclipse.ui.application.WorkbenchAdvisor.openWindows",
          "source": "WorkbenchAdvisor.java:702"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.init",
          "source": "Workbench.java:1085"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1847"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:280"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "169917",
      "date": "2007-01-09T01:56:11+01:00",
      "product": "Platform",
      "component": "Update",
      "severity": "critical"
    }
  ],
  "groupId": "169917",
  "bugId": "169917",
  "date": "2007-01-09T01:56:11+01:00",
  "product": "Platform",
  "component": "Update",
  "severity": "critical"
}