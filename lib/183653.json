{
  "comments": [
    "Build ID: I20070323-1616\n\nSteps To Reproduce:\n1. Select the first 1000 or last 1000 lines out of a .cxx source files\n2. CTRL^X\n\nResults in \"An Error has occurred see log for details\" after clicking ok, text was cut and could be pasted elsewhere. This error only shows up if a lot of text is cut.\n\nPartial traceback here. Full is attached:\n!ENTRY org.eclipse.ui 4 0 2007-04-23 13:59:56.812\n!MESSAGE Unhandled event loop exception\n!STACK 0\njava.lang.IllegalArgumentException: Index out of bounds\n\tat org.eclipse.swt.SWT.error(SWT.java:3483)\n\tat org.eclipse.swt.SWT.error(SWT.java:3422)\n\tat org.eclipse.swt.SWT.error(SWT.java:3393)\n\tat org.eclipse.swt.custom.StyledText.getOffsetAtLine(StyledText.java:3744)\n\tat org.eclipse.jface.text.JFaceTextUtil.getPartialTopIndex(JFaceTextUtil.java:94)\n\tat org.eclipse.jface.text.JFaceTextUtil.getPartialTopIndex(JFaceTextUtil.java:142)",
    "Created an attachment (id\u003d64645)\nentire traceback of cut error\n\n",
    "Moving to CDT to check whether their computed projection regions are valid.",
    "(In reply to comment #2)\n\u003e Moving to CDT to check whether their computed projection regions are valid.\n\nThe stacktrace suggests that folding was disabled when the error occurred:\nProjectionViewer.doOperation(ProjectionViewer.java:1429)\n\nGregory,\ndoes the error happen reproducible?\nIf yes, could you try the same with the plain Text Editor (Open With...)\n\nThanks.",
    "Hi Anton, this error is quite reproducible with the CDT C++ editor. With plain text editor it does not cause any errors.\n\n",
    "(In reply to comment #4)\n\u003e Hi Anton, this error is quite reproducible with the CDT C++ editor. With plain\n\u003e text editor it does not cause any errors.\n\nIs it possible to attach a file which shows the problem?\nJust to make sure: Was folding enabled?",
    "Created an attachment (id\u003d64830)\nexample large file from MPI library\n\n",
    "Code folding is not enabled. Line Numbering is.\n\nAttached an example file. Cut lines 1:1261 causes error.. various size large cuts cause the error. ",
    "Thanks, I can reproduce it now.\n\nIt happens only in the CDT editor because of its LineBackgroundPainter which calls TextWidget.getTopIndex() to compute the first visible line. This topIndex is wrong during a selection changed event triggered by StyledText while handling a text change (StyledText.handleTextChange()). \nWhile displaying the error dialog, other painters get a chance to paint (e.g. LineNumberRulerColumn, AnnotationRulerColumn) and fall into the same trap.\n\nI can implement a workaround, but I am not sure if it is intentional that the topindex is stale during a selection change event.\n",
    "Fixed in 4.0 \u003e 20070425.",
    "verified in 200704280116\n\nThanks!"
  ],
  "commentCreationDates": [
    "2007-04-23T21:21:08+02:00",
    "2007-04-23T21:23:15+02:00",
    "2007-04-24T09:19:18+02:00",
    "2007-04-24T11:10:41+02:00",
    "2007-04-24T18:57:52+02:00",
    "2007-04-25T08:48:40+02:00",
    "2007-04-25T09:00:59+02:00",
    "2007-04-25T09:01:58+02:00",
    "2007-04-25T10:05:26+02:00",
    "2007-04-25T13:24:18+02:00",
    "2007-04-28T21:25:13+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Index out of bounds",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3483"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3422"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3393"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.getOffsetAtLine",
          "source": "StyledText.java:3744"
        },
        {
          "method": "org.eclipse.jface.text.JFaceTextUtil.getPartialTopIndex",
          "source": "JFaceTextUtil.java:94"
        },
        {
          "method": "org.eclipse.jface.text.JFaceTextUtil.getPartialTopIndex",
          "source": "JFaceTextUtil.java:142"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "183653",
      "date": "2007-04-23T21:21:08+02:00",
      "product": "CDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "183653",
  "bugId": "183653",
  "date": "2007-04-23T21:21:08+02:00",
  "product": "CDT",
  "component": "UI",
  "severity": "normal"
}