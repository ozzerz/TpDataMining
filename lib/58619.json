{
  "comments": [
    "I20040413 (with or without J Core preview 421)\n\nMy machine froze. After restarting I can no longer use my workspace: it opens\ntwo dialogs that tell me to wait. When I cancel the jobs they reappear. It looks\nas if the JREContainer initializer is the root cause.\n\n\nFull thread dump Java HotSpot(TM) Client VM (1.4.2_03-b02 mixed mode):\n\n\"Worker-3\" prio\u003d5 tid\u003d0x03168a88 nid\u003d0xcf0 in Object.wait() [3aff000..3affd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x11f125d8\u003e (a org.eclipse.core.internal.jobs.WorkerPool)\n        at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:189)\n        - locked \u003c0x11f125d8\u003e (a org.eclipse.core.internal.jobs.WorkerPool)\n        at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:215)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)\n\n\"Worker-2\" prio\u003d5 tid\u003d0x030dfd70 nid\u003d0x518 in Object.wait() [3abf000..3abfd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x129e2278\u003e (a\norg.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob)\n        at\norg.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob.joinRun(ImplicitJobs.java:119)\n        - locked \u003c0x129e2278\u003e (a\norg.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob)\n        at org.eclipse.core.internal.jobs.ImplicitJobs.begin(ImplicitJobs.java:281)\n        at org.eclipse.core.internal.jobs.JobManager.beginRule(JobManager.java:149)\n        at\norg.eclipse.team.internal.ccvs.core.CVSWorkspaceSubscriber.collectOutOfSync(CVSWorkspaceSubscriber.java:190)\n        at\norg.eclipse.team.internal.core.subscribers.SubscriberEventHandler.collectAll(SubscriberEventHandler.java:327)\n        at\norg.eclipse.team.internal.core.subscribers.SubscriberEventHandler.processEvent(SubscriberEventHandler.java:393)\n        at\norg.eclipse.team.internal.core.BackgroundEventHandler.processEvents(BackgroundEventHandler.java:273)\n        at\norg.eclipse.team.internal.core.BackgroundEventHandler$1.run(BackgroundEventHandler.java:131)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:62)\n\n\"Java indexing\" daemon prio\u003d4 tid\u003d0x00a4e9c0 nid\u003d0x9bc in Object.wait()\n[383f000..383fd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x12ab8e68\u003e (a\norg.eclipse.jdt.internal.core.search.indexing.IndexManager)\n        at java.lang.Object.wait(Object.java:429)\n        at\norg.eclipse.jdt.internal.core.search.processing.JobManager.run(JobManager.java:323)\n        - locked \u003c0x12ab8e68\u003e (a\norg.eclipse.jdt.internal.core.search.indexing.IndexManager)\n        at java.lang.Thread.run(Thread.java:534)\n\n\"Start Level Event Dispatcher\" daemon prio\u003d5 tid\u003d0x02ef2488 nid\u003d0x934 in\nObject.wait() [302f000..302fd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x11b68190\u003e (a\norg.eclipse.osgi.framework.eventmgr.EventThread)\n        at java.lang.Object.wait(Object.java:429)\n        at\norg.eclipse.osgi.framework.eventmgr.EventThread.getNextEvent(EventThread.java:167)\n        - locked \u003c0x11b68190\u003e (a org.eclipse.osgi.framework.eventmgr.EventThread)\n        at org.eclipse.osgi.framework.eventmgr.EventThread.run(EventThread.java:118)\n\n\"Framework Event Dispatcher\" daemon prio\u003d5 tid\u003d0x02dfae80 nid\u003d0x950 in\nObject.wait() [2fef000..2fefd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x11b68300\u003e (a\norg.eclipse.osgi.framework.eventmgr.EventThread)\n        at java.lang.Object.wait(Object.java:429)\n        at\norg.eclipse.osgi.framework.eventmgr.EventThread.getNextEvent(EventThread.java:167)\n        - locked \u003c0x11b68300\u003e (a org.eclipse.osgi.framework.eventmgr.EventThread)\n        at org.eclipse.osgi.framework.eventmgr.EventThread.run(EventThread.java:118)\n\n\"Signal Dispatcher\" daemon prio\u003d10 tid\u003d0x0003f2e0 nid\u003d0x8a8 waiting on condition\n[0..0]\n\n\"Finalizer\" daemon prio\u003d9 tid\u003d0x00a01b28 nid\u003d0x8b4 in Object.wait()\n[2caf000..2cafd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x11b0a528\u003e (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:111)\n        - locked \u003c0x11b0a528\u003e (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:127)\n        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:159)\n\n\"Reference Handler\" daemon prio\u003d10 tid\u003d0x009c20a8 nid\u003d0xcd0 in Object.wait()\n[2c6f000..2c6fd8c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x11b0a3a0\u003e (a java.lang.ref.Reference$Lock)\n        at java.lang.Object.wait(Object.java:429)\n        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:115)\n        - locked \u003c0x11b0a3a0\u003e (a java.lang.ref.Reference$Lock)\n\n\"main\" prio\u003d7 tid\u003d0x000352c0 nid\u003d0x438 in Object.wait() [7d000..7fc3c]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x13b95408\u003e (a\norg.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob)\n        at\norg.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob.joinRun(ImplicitJobs.java:119)\n        - locked \u003c0x13b95408\u003e (a\norg.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob)\n        at org.eclipse.core.internal.jobs.ImplicitJobs.begin(ImplicitJobs.java:281)\n        at org.eclipse.core.internal.jobs.JobManager.beginRule(JobManager.java:149)\n        at\norg.eclipse.core.internal.resources.WorkManager.checkIn(WorkManager.java:88)\n        at\norg.eclipse.core.internal.resources.Workspace.prepareOperation(Workspace.java:1526)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1559)\n        at\norg.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:744)\n        at\norg.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2605)\n        at org.eclipse.jdt.core.JavaCore$5.run(JavaCore.java:3440)\n        at\norg.eclipse.jdt.internal.core.BatchOperation.executeOperation(BatchOperation.java:34)\n        at\norg.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:700)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1564)\n        at org.eclipse.jdt.core.JavaCore.run(JavaCore.java:3254)\n        at org.eclipse.jdt.core.JavaCore.setClasspathContainer(JavaCore.java:3423)\n        at\norg.eclipse.pde.internal.core.ModelEntry.updateClasspathContainer(ModelEntry.java:107)\n        at\norg.eclipse.pde.internal.core.RequiredPluginsInitializer.initialize(RequiredPluginsInitializer.java:40)\n        at org.eclipse.jdt.core.JavaCore$1.run(JavaCore.java:1181)\n        at\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:611)\n        at org.eclipse.core.runtime.Platform.run(Platform.java:543)\n        at org.eclipse.jdt.core.JavaCore.getClasspathContainer(JavaCore.java:1176)\n        at\norg.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:1841)\n        at\norg.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:1755)\n        at\norg.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:1727)\n        at\norg.eclipse.jdt.internal.core.JavaProject.buildStructure(JavaProject.java:261)\n        at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:183)\n        at\norg.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:543)\n        at\norg.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:280)\n        at\norg.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:266)\n        at\norg.eclipse.jdt.internal.core.JavaElement.getChildren(JavaElement.java:221)\n        at\norg.eclipse.jdt.internal.core.JavaProject.getPackageFragmentRoots(JavaProject.java:1557)\n        at\norg.eclipse.jdt.ui.actions.OrganizeImportsAction.hasSourceFolders(OrganizeImportsAction.java:251)\n        at\norg.eclipse.jdt.ui.actions.OrganizeImportsAction.isEnabled(OrganizeImportsAction.java:237)\n        at\norg.eclipse.jdt.ui.actions.OrganizeImportsAction.selectionChanged(OrganizeImportsAction.java:150)\n        at\norg.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchSelectionChanged(SelectionDispatchAction.java:200)\n        at\norg.eclipse.jdt.ui.actions.SelectionDispatchAction.selectionChanged(SelectionDispatchAction.java:195)\n        at org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:159)\n        at\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:611)\n        at org.eclipse.core.runtime.Platform.run(Platform.java:543)\n        at org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:157)\n        at\norg.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:1310)\n        at\norg.eclipse.jface.viewers.StructuredViewer.handleSelect(StructuredViewer.java:666)\n        at\norg.eclipse.jface.viewers.StructuredViewer$4.widgetSelected(StructuredViewer.java:690)\n        at\norg.eclipse.jface.util.OpenStrategy.fireSelectionEvent(OpenStrategy.java:178)\n        at org.eclipse.jface.util.OpenStrategy.access$3(OpenStrategy.java:173)\n        at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:309)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:769)\n        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2584)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2262)\n        at\norg.eclipse.ui.internal.dialogs.EventLoopProgressMonitor.runEventLoop(EventLoopProgressMonitor.java:114)\n        at\norg.eclipse.ui.internal.dialogs.EventLoopProgressMonitor.isCanceled(EventLoopProgressMonitor.java:94)\n        at\norg.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob.isCanceled(ImplicitJobs.java:138)\n        at\norg.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob.joinRun(ImplicitJobs.java:107)\n        at org.eclipse.core.internal.jobs.ImplicitJobs.begin(ImplicitJobs.java:281)\n        at org.eclipse.core.internal.jobs.JobManager.beginRule(JobManager.java:149)\n        at\norg.eclipse.core.internal.resources.WorkManager.checkIn(WorkManager.java:88)\n        at\norg.eclipse.core.internal.resources.Workspace.prepareOperation(Workspace.java:1526)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1559)\n        at\norg.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:744)\n        at\norg.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2605)\n        at org.eclipse.jdt.core.JavaCore$5.run(JavaCore.java:3440)\n        at\norg.eclipse.jdt.internal.core.BatchOperation.executeOperation(BatchOperation.java:34)\n        at\norg.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:700)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1564)\n        at org.eclipse.jdt.core.JavaCore.run(JavaCore.java:3254)\n        at org.eclipse.jdt.core.JavaCore.setClasspathContainer(JavaCore.java:3423)\n        at\norg.eclipse.jdt.internal.launching.JREContainerInitializer.initialize(JREContainerInitializer.java:51)\n        at org.eclipse.jdt.core.JavaCore$1.run(JavaCore.java:1181)\n        at\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:611)\n        at org.eclipse.core.runtime.Platform.run(Platform.java:543)\n        at org.eclipse.jdt.core.JavaCore.getClasspathContainer(JavaCore.java:1176)\n        at\norg.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:1841)\n        at\norg.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:1755)\n        at\norg.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:1727)\n        at\norg.eclipse.jdt.internal.core.DeltaProcessingState.initializeRoots(DeltaProcessingState.java:147)\n        at\norg.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:698)\n        at\norg.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:739)\n        at\norg.eclipse.jdt.internal.core.CompilationUnit.becomeWorkingCopy(CompilationUnit.java:78)\n        at\norg.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider.createFileInfo(CompilationUnitDocumentProvider.java:\n        at\norg.eclipse.ui.editors.text.TextFileDocumentProvider.connect(TextFileDocumentProvider.java:416)\n        at\norg.eclipse.ui.texteditor.AbstractTextEditor.doSetInput(AbstractTextEditor.java:2707)\n        at\norg.eclipse.ui.texteditor.StatusTextEditor.doSetInput(StatusTextEditor.java:173)\n        at\norg.eclipse.ui.texteditor.ExtendedTextEditor.doSetInput(ExtendedTextEditor.java:1069)\n        at\norg.eclipse.jdt.internal.ui.javaeditor.JavaEditor.internalDoSetInput(JavaEditor.java:2639)\n        at\norg.eclipse.jdt.internal.ui.javaeditor.JavaEditor.doSetInput(JavaEditor.java:2617)\n        at\norg.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.doSetInput(CompilationUnitEditor.java:1392)\n        at\norg.eclipse.ui.texteditor.AbstractTextEditor$14.run(AbstractTextEditor.java:2175)\n        at\norg.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:302)\n        at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:252)\n        at\norg.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.java:576)\n        at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)\n        at\norg.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.java:573)\n        at org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:1569)\n        at\norg.eclipse.ui.texteditor.AbstractTextEditor.internalInit(AbstractTextEditor.java:2189)\n        at\norg.eclipse.ui.texteditor.AbstractTextEditor.init(AbstractTextEditor.java:2207)\n        at org.eclipse.ui.internal.EditorManager.createSite(EditorManager.java:569)\n        at\norg.eclipse.ui.internal.EditorManager.openInternalEditor(EditorManager.java:633)\n        at org.eclipse.ui.internal.EditorManager.access$7(EditorManager.java:619)\n        at org.eclipse.ui.internal.EditorManager$7.run(EditorManager.java:798)\n        at\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:611)\n        at org.eclipse.core.runtime.Platform.run(Platform.java:543)\n        at\norg.eclipse.ui.internal.EditorManager.busyRestoreEditor(EditorManager.java:773)\n        at org.eclipse.ui.internal.EditorManager$6.run(EditorManager.java:766)\n        at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)\n        at\norg.eclipse.ui.internal.EditorManager.restoreEditor(EditorManager.java:762)\n        at\norg.eclipse.ui.internal.EditorManager.restoreEditorState(EditorManager.java:1252)\n        at\norg.eclipse.ui.internal.EditorManager.restoreState(EditorManager.java:730)\n        at\norg.eclipse.ui.internal.WorkbenchPage.restoreState(WorkbenchPage.java:2345)\n        at\norg.eclipse.ui.internal.WorkbenchWindow.restoreState(WorkbenchWindow.java:1289)\n        at org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1289)\n        at org.eclipse.ui.internal.Workbench.access$9(Workbench.java:1256)\n        at org.eclipse.ui.internal.Workbench$14.run(Workbench.java:1167)\n        at\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:611)\n        at org.eclipse.core.runtime.Platform.run(Platform.java:543)\n        at org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1100)\n        at\norg.eclipse.ui.internal.WorkbenchConfigurer.restoreState(WorkbenchConfigurer.java:176)\n        at\norg.eclipse.ui.application.WorkbenchAdvisor.openWindows(WorkbenchAdvisor.java:599)\n        at org.eclipse.ui.internal.Workbench.init(Workbench.java:810)\n        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1384)\n        at\norg.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:244)\n        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:140)\n        at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:90)\n        at\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:280)\n        at\norg.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:241)\n        at\norg.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:117)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:267)\n        at org.eclipse.core.launcher.Main.run(Main.java:692)\n        at org.eclipse.core.launcher.Main.main(Main.java:676)\n\n\"VM Thread\" prio\u003d5 tid\u003d0x009bdd38 nid\u003d0x350 runnable\n\n\"VM Periodic Task Thread\" prio\u003d10 tid\u003d0x00a111a0 nid\u003d0x94c waiting on condition\n\"Suspend Checker Thread\" prio\u003d10 tid\u003d0x009fb960 nid\u003d0x8e4 runnable",
    "Created an attachment (id\u003d9523)\nThe 2 dialogs\n",
    "It looks like 2 threads are waiting on a job.\n\nMoving to Platform Core for comments.",
    "We have seen similar deadlocks in custom Jobs where a call to\nIFile.refreshLocal() has to re-sync file contents while a build (Autobuild\ngenerally) is running. The result is a deadlock in ImplictJobs.joinRun() but the\nstack trace matches the following segment of the stack trace above:\n\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x13b95408\u003e (a\norg.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob)\n        at\norg.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob.joinRun(ImplicitJobs.java:119)\n        - locked \u003c0x13b95408\u003e (a\norg.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob)\n        at org.eclipse.core.internal.jobs.ImplicitJobs.begin(ImplicitJobs.java:281)\n        at org.eclipse.core.internal.jobs.JobManager.beginRule(JobManager.java:149)\n        at\norg.eclipse.core.internal.resources.WorkManager.checkIn(WorkManager.java:88)\n        at\norg.eclipse.core.internal.resources.Workspace.prepareOperation(Workspace.java:1526)\n\nIn our case the prepareOperation is triggered by the call to refreshLocal(). \n\n",
    "Can you both tell me if there is further information in the log file when this\nhappens?",
    "nope - nothing was in .log (or console)",
    "In my case, I had the following stack trace, but I also had canceled the job\nfrom the UI popup dialog. I have seen other cases where no dialog was presented\nbut was unable to capture more information.\n\n!ENTRY org.eclipse.core.runtime 4 1 Apr 12, 2004 15:01:47.558\n!MESSAGE Executable extension definition for \"class\" not found.\nExecutable extension definition for \"class\" not found.\norg.eclipse.core.runtime.OperationCanceledException\n        at\norg.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob.joinRun(ImplicitJobs.java:109)\n        at org.eclipse.core.internal.jobs.ImplicitJobs.begin(ImplicitJobs.java:265)\n        at org.eclipse.core.internal.jobs.JobManager.beginRule(JobManager.java:149)\n        at\norg.eclipse.core.internal.resources.WorkManager.checkIn(WorkManager.java:88)\n        at\norg.eclipse.core.internal.resources.Workspace.prepareOperation(Workspace.java:1521)\n        at\norg.eclipse.core.internal.resources.Resource.refreshLocal(Resource.java:1158)\n        at org.eclipse.core.internal.resources.File.refreshLocal(File.java:291)\n        at\ncom.ibm.wtp.emf.workbench.WorkbenchURIConverterImpl.createPlatformResourceInputStream(Wor\n...\n\n\n\nThe defect is intermittent, but when I see it again I will check the .log. I\nhave not been able to reproduce it consistently in a debugger, or otherwise I\u0027d\nprovide the thread captures as well...",
    "Thanks for the details. A reproducible case is really important here.  Any\nplugin could be reponsible for such a deadlock by failing to release locks\n(typically in a failure condition, hence my question about the log file), but\nwithout a reproducible case it is hard to pin down the blame.",
    "Had it again!\n\nMy setup:\n- auto-build enabled\n- have 2 workbench windows (Java Browsing and Team Synchronize)\n\nOne of the hanging jobs is the CVS state updater\n\nThe only way to save my workspace is to delete workbench.xml so that only the\nresource perspective appears.",
    "Created an attachment (id\u003d9633)\nOperations that I tried to cancel\n",
    "Created an attachment (id\u003d9781)\nA thread trace of the driver state at the time of the lock\n",
    "While running on M8 I had a deadlock and created the thread trace to attach to\nthis defect.\n\nI wasn\u0027t doing anything special or fancy, some simple Java editor-ing using the\nnew search facility which highlights part of the file. I noticed that\n\"quickdiff\" appears in the packages of some of the stack trace, so I wasn\u0027t sure\nif that might have contributed to the lock. It looks like there is one joinRun()\nexecuting, and two Workers that are waiting on the Semaphore. \n\nI know you are looking for a reproducible case, but maybe the attached trace --\nalong with the others -- might help isolate the issue.",
    "Michael, it looks to me like you attached the wrong thing.  It looks like an \nerror log showing NPEs and other exceptions in non-Eclipse code.",
    "Created an attachment (id\u003d9791)\nDeadlock thread trace\n",
    "That looks more like a stack dump \u003cg\u003e, but there is a global build running in \nthis trace. It doesn\u0027t look like a deadlock.",
    "\nThe scenario locked the main display thread and the UI became non-responsive. I\ndid wait a little before I generated the trace, and concluded it was a deadlock\nsince all of the threads are in a \"watiting\" state. After a few minutes I took\nthe snapshot and killed the proc.\n\nWhat should I look for in the future to identify it as a deadlock?",
    "I do appreciate your effort in trying to identify these problems.  If it hangs \nfor more than 10 seconds it is probably a bug regardless of whether it is a \ndeadlock. Here are a couple of things to look out for:\n\n - See if the CPU usage is high, low, or fluctuating. This differentiates \ndeadlocks, infinite loops, or just a lack of responsiveness.\n - Do a few stack dumps over time to see if they are consistent (or just attach \nthem all and let me analyze them). The problem with a single snapshot when it is \nnot a deadlock is that it may not be giving an accurate picture of what is \nhappening.",
    "Created an attachment (id\u003d10055)\nAnother deadlock during build\n",
    "I\u0027ve attached another deadlock that was pretty clean. The build job was being\nblocked by another job, but neither of them destroyed the main/display thread. I\nwas able to cancel the job after waiting about 10 minutes without the percent\nprogress changing. ",
    "Again this doesn\u0027t look like a deadlock.  Worker-11 is in the middle of a\nresource change notification (thus blocking the build), and the UI thread is\nidle in the event loop.",
    "Bug 62368 may be related and it\u0027s definitely a deadlock (hourglass, white \nmenu, not responding).",
    "Following up on Ed\u0027s hypothesis: has anyone seen this since bug 62368 was \nfixed [M9 or later]? please provide new stack dump.",
    "I have not seen this since then.\n",
    "Unfortunately I don\u0027t think bug 62368 can be related. That bug was introduced\nand fixed within a two or three day period. In that case, the stack traces\nclearly showed a classic deadlock between an object monitor inside the\nJobManager and an object monitor inside the progress UI code.\n\nI suspect the traces in this report may represent a collection of unrelated\ndeadlocks, as they don\u0027t have much in common. In Dani\u0027s case, with multiple\nblocked dialogs, we have since made the blocked dialog a singleton. Prior to\nthat change, there were a number of conditions where multiple blockages would\nresult in multiple modal dialogs competing for focus, resulting in hangs.\n\nSince we have fixed over half a dozen deadlocks since this was reported, I will\nclose this bug. If anyone encounters deadlocks in RC2 and beyond, please enter\nnew bug reports."
  ],
  "commentCreationDates": [
    "2004-04-15T10:58:10+02:00",
    "2004-04-15T10:58:40+02:00",
    "2004-04-15T12:01:00+02:00",
    "2004-04-15T15:56:42+02:00",
    "2004-04-15T19:14:56+02:00",
    "2004-04-15T19:47:51+02:00",
    "2004-04-15T19:51:59+02:00",
    "2004-04-15T19:56:23+02:00",
    "2004-04-19T09:59:17+02:00",
    "2004-04-19T10:05:12+02:00",
    "2004-04-21T16:51:56+02:00",
    "2004-04-21T16:52:46+02:00",
    "2004-04-21T20:07:17+02:00",
    "2004-04-21T20:14:00+02:00",
    "2004-04-21T20:26:18+02:00",
    "2004-04-21T20:32:16+02:00",
    "2004-04-21T21:10:16+02:00",
    "2004-04-28T16:52:05+02:00",
    "2004-04-28T16:53:54+02:00",
    "2004-04-30T01:55:48+02:00",
    "2004-05-14T22:53:35+02:00",
    "2004-06-11T05:07:00+02:00",
    "2004-06-11T08:41:47+02:00",
    "2004-06-11T16:26:51+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.runtime.OperationCanceledException",
      "elements": [
        {
          "method": "org.eclipse.core.internal.jobs.ImplicitJobs$ThreadJob.joinRun",
          "source": "ImplicitJobs.java:109"
        },
        {
          "method": "org.eclipse.core.internal.jobs.ImplicitJobs.begin",
          "source": "ImplicitJobs.java:265"
        },
        {
          "method": "org.eclipse.core.internal.jobs.JobManager.beginRule",
          "source": "JobManager.java:149"
        },
        {
          "method": "org.eclipse.core.internal.resources.WorkManager.checkIn",
          "source": "WorkManager.java:88"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.prepareOperation",
          "source": "Workspace.java:1521"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource.refreshLocal",
          "source": "Resource.java:1158"
        },
        {
          "method": "org.eclipse.core.internal.resources.File.refreshLocal",
          "source": "File.java:291"
        }
      ],
      "number": 0,
      "commentIndex": 6,
      "bugId": "58619",
      "date": "2004-04-15T19:51:59+02:00",
      "product": "Platform",
      "component": "Resources",
      "severity": "blocker"
    }
  ],
  "groupId": "58619",
  "bugId": "58619",
  "date": "2004-04-15T10:58:10+02:00",
  "product": "Platform",
  "component": "Resources",
  "severity": "blocker"
}