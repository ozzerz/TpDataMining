{
  "comments": [
    "I20050330\n\n* test program with breakpoint on indicated line\n* when breakpoint is hit, eval this snippet:\n\n---\nint sum \u003d 0;\nfor (int integer : list) {\n    sum+\u003d integer;\n}\nSystem.out.println(sum);\n----\n\n\nPROGRAM:\n\n\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class HelloWorld {\n\n    public static void main(String[] args) {\n        new HelloWorld().fooint();\n    }\n\n    public void foo() {\n        List\u003cString\u003e list \u003d new ArrayList\u003cString\u003e();\n        list.add(\"one\");\n        list.add(\"two\");\n        list.add(\"three\");\n        bar(list);\n    }\n    \n    public void fooint() {\n        List\u003cInteger\u003e list \u003d new ArrayList\u003cInteger\u003e();\n        list.add(1);\n        list.add(2); // BREAKPOINT\n        list.add(3);\n        barint(list);\n    }\n\n    private void bar(List\u003cString\u003e list) {\n        switch (list.size()) {\n        case 1:\n            System.out.println(\"-1-\");\n            break;\n        case 2:\n            System.out.println(\"-2-\");\n            break;\n        default:\n            System.out.println(list.size());\n            break;\n        }\n        \n    }\n    \n    private void barint(List\u003cInteger\u003e list) {\n        int sum \u003d 0;\n        for (int integer : list) {\n            sum+\u003d integer;\n        }\n        System.out.println(sum);\n    }\n}\n\n\n----------\n\nYou get this exception:\n\n\njava.lang.ClassCastException: \norg/eclipse/jdt/internal/debug/core/model/JDIObjectValue incompatible with \norg/eclipse/jdt/debug/core/IJavaPrimitiveValue\nat \norg.eclipse.jdt.internal.debug.eval.ast.instructions.PlusOperator.getIntResult\n(PlusOperator.java:95)\nat \norg.eclipse.jdt.internal.debug.eval.ast.instructions.BinaryOperator.getIntValue\nResult(BinaryOperator.java:160)\nat \norg.eclipse.jdt.internal.debug.eval.ast.instructions.BinaryOperator.executeAssi\ngnment(BinaryOperator.java:58)\nat org.eclipse.jdt.internal.debug.eval.ast.instructions.BinaryOperator.execute\n(BinaryOperator.java:36)\nat org.eclipse.jdt.internal.debug.eval.ast.engine.Interpreter.execute\n(Interpreter.java:50)\nat org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$1\n$EvaluationRunnable.run(ASTEvaluationEngine.java:355)\nat org.eclipse.jdt.internal.debug.core.model.JDIThread.runEvaluation\n(JDIThread.java:558)\nat \norg.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$EvalRunnable\n.run(ASTEvaluationEngine.java:389)\nat org.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run\n(JDIThread.java:2417)\nat org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)",
    "ASTInstructionCompiler.visit(EnhancedForStatement) doesn\u0027t seem to handle\nunboxing for Collections or Arrays.",
    "Deferred to M7 - not a regression.",
    "Created an attachment (id\u003d19434)\nUnbox if necessary\n",
    "Applied patch. Thanks, Michael.",
    "Verified."
  ],
  "commentCreationDates": [
    "2005-03-30T17:27:08+02:00",
    "2005-03-30T23:23:41+02:00",
    "2005-03-31T19:31:26+02:00",
    "2005-04-01T04:45:04+02:00",
    "2005-04-06T05:09:17+02:00",
    "2005-04-06T05:10:10+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org/eclipse/jdt/internal/debug/core/model/JDIObjectValue incompatible with  org/eclipse/jdt/debug/core/IJavaPrimitiveValue",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.instructions.PlusOperator.getIntResult",
          "source": "PlusOperator.java:95"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.instructions.BinaryOperator.getIntValueResult",
          "source": "BinaryOperator.java:160"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.instructions.BinaryOperator.executeAssignment",
          "source": "BinaryOperator.java:58"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.instructions.BinaryOperator.execute",
          "source": "BinaryOperator.java:36"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.engine.Interpreter.execute",
          "source": "Interpreter.java:50"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$1$EvaluationRunnable.run",
          "source": "ASTEvaluationEngine.java:355"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread.runEvaluation",
          "source": "JDIThread.java:558"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$EvalRunnable.run",
          "source": "ASTEvaluationEngine.java:389"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run",
          "source": "JDIThread.java:2417"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:67"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "89585",
      "date": "2005-03-30T17:27:08+02:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "89585",
  "bugId": "89585",
  "date": "2005-03-30T17:27:08+02:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "normal"
}