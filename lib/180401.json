{
  "comments": [
    "Description:\nI create a fact table:\n1,1,male,USA,1,Beer,Drinking,\"Jan 1, 2007 12:00 AM\",30,6\n2,1,male,USA,2,Diaper,Baby,\"Jan 1, 2007 12:00 AM\",100,2\n....\n9,4,male,China,3,Noodle,FastFood,\"Apr 2, 2007 12:00 AM\",28,7\n10,4,male,China,5,Coffee,Drinking,\"Apr 2, 2007 12:00 AM\",20,2\n\nI use male and China as the row level and Noodle(product type) as column level.\nI have discussed with Mingxia, because of our driver thinks that the China and Noodle are duplicate in two rows, it is a invalid fact table. But we think it is a good fact table. And that kind of fact table will be often used.\nI have attached the report design to reproduce the bug.\n\nBuild number: \n2.2.0.v20070330-0630\n\nerror log:\nnull ( 1 time(s) )\ndetail : org.eclipse.birt.data.engine.core.DataException at org.eclipse.birt.data.engine.olap.api.query.impl.CubeQueryResults.getCubeCursor(CubeQueryResults.java:75) at org.eclipse.birt.report.engine.data.dte.CubeResultSet.\u003cinit\u003e(CubeResultSet.java:76) at org.eclipse.birt.report.engine.data.dte.DteDataEngine.doExecuteCube(DteDataEngine.java:192) at org.eclipse.birt.report.engine.data.dte.DteDataEngine.doExecuteQuery(DteDataEngine.java:119) at org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.execute(AbstractDataEngine.java:189) at org.eclipse.birt.report.engine.extension.internal.ExecutorContext.executeQuery(ExecutorContext.java:62) at org.eclipse.birt.report.item.crosstab.core.re.executor.BaseCrosstabExecutor.executeQuery(BaseCrosstabExecutor.java:89) at org.eclipse.birt.report.item.crosstab.core.re.executor.CrosstabReportItemExecutor.execute(CrosstabReportItemExecutor.java:92) at org.eclipse.birt.report.engine.executor.ExtendedItemExecutor.execute(ExtendedItemExecutor.java:89) at org.eclipse.birt.report.engine.internal.executor.l18n.LocalizedReportItemExecutor.execute(LocalizedReportItemExecutor.java:36) at org.eclipse.birt.report.engine.layout.html.HTMLPageLM.layoutChildren(HTMLPageLM.java:124) at org.eclipse.birt.report.engine.layout.html.HTMLPageLM.layout(HTMLPageLM.java:82) at org.eclipse.birt.report.engine.layout.html.HTMLReportLayoutEngine.layout(HTMLReportLayoutEngine.java:88) at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.doRun(RunAndRenderTask.java:205) at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run(RunAndRenderTask.java:125) at org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport(Unknown Source) at org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport(Unknown Source) at org.eclipse.birt.report.service.BirtViewerReportService.runAndRenderReport(Unknown Source) at org.eclipse.birt.report.service.actionhandler.BirtGetPageAllActionHandler.__execute(Unknown Source) at org.eclipse.birt.report.service.actionhandler.AbstractBaseActionHandler.execute(Unknown Source) at org.eclipse.birt.report.soapengine.processor.AbstractBaseDocumentProcessor.__executeAction(Unknown Source) at org.eclipse.birt.report.soapengine.processor.AbstractBaseComponentProcessor.executeAction(Unknown Source) at org.eclipse.birt.report.soapengine.processor.BirtDocumentProcessor.handleGetPageAll(Unknown Source",
    "Created an attachment (id\u003d62610)\nattached design file\n\n",
    "The fact table\nSALES_ID,CUSTOMERID,CUSTOMER_SEX,CUSTOMER_REGION,PRODUCTID,PRODUCT_NAME,PRODUCT_TYPE,SOLD_DATE,QUANTITY_PRICE,QUANTITY\n1,1,male,USA,1,Beer,Drinking,\"Jan 1, 2007 12:00 AM\",30,6\n2,1,male,USA,2,Diaper,Baby,\"Jan 1, 2007 12:00 AM\",100,2\n3,2,female,China,3,Noodle,FastFood,\"Mar 9, 2007 12:00 AM\",20,5\n4,2,female,China,4,Chopsticks,Tableware,\"Mar 9, 2007 12:00 AM\",25,5\n5,3,female,UK,2,Diaper,Baby,\"Apr 1, 2007 12:00 AM\",200,40\n6,3,female,UK,3,Noodle,FastFood,\"Apr 1, 2007 12:00 AM\",30,6\n7,3,female,UK,5,Coffee,Drinking,\"Apr 1, 2007 12:00 AM\",10,1\n8,3,female,UK,3,Hamburger,FastFood,\"Apr 1, 2007 12:00 AM\",30,2\n9,4,male,China,3,Noodle,FastFood,\"Apr 2, 2007 12:00 AM\",28,7\n10,4,male,China,5,Coffee,Drinking,\"Apr 2, 2007 12:00 AM\",20,2\n",
    "This is a valid enhancement.",
    "In our implementation of DataSetIterator, we should make group based on the leaf level keys rather than all level keys, the former will be the primary key of fact table\n\nChange our algorithm as though to fix the bug.\n",
    "closed\nRegards~"
  ],
  "commentCreationDates": [
    "2007-04-02T02:59:07+02:00",
    "2007-04-02T02:59:49+02:00",
    "2007-04-02T03:01:24+02:00",
    "2007-04-02T04:17:52+02:00",
    "2007-04-02T05:24:32+02:00",
    "2007-04-24T05:42:28+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.birt.data.engine.core.DataException",
      "elements": [
        {
          "method": "org.eclipse.birt.data.engine.olap.api.query.impl.CubeQueryResults.getCubeCursor",
          "source": "CubeQueryResults.java:75"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.CubeResultSet.\u003cinit\u003e",
          "source": "CubeResultSet.java:76"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.DteDataEngine.doExecuteCube",
          "source": "DteDataEngine.java:192"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.DteDataEngine.doExecuteQuery",
          "source": "DteDataEngine.java:119"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.execute",
          "source": "AbstractDataEngine.java:189"
        },
        {
          "method": "org.eclipse.birt.report.engine.extension.internal.ExecutorContext.executeQuery",
          "source": "ExecutorContext.java:62"
        },
        {
          "method": "org.eclipse.birt.report.item.crosstab.core.re.executor.BaseCrosstabExecutor.executeQuery",
          "source": "BaseCrosstabExecutor.java:89"
        },
        {
          "method": "org.eclipse.birt.report.item.crosstab.core.re.executor.CrosstabReportItemExecutor.execute",
          "source": "CrosstabReportItemExecutor.java:92"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ExtendedItemExecutor.execute",
          "source": "ExtendedItemExecutor.java:89"
        },
        {
          "method": "org.eclipse.birt.report.engine.internal.executor.l18n.LocalizedReportItemExecutor.execute",
          "source": "LocalizedReportItemExecutor.java:36"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLPageLM.layoutChildren",
          "source": "HTMLPageLM.java:124"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLPageLM.layout",
          "source": "HTMLPageLM.java:82"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLReportLayoutEngine.layout",
          "source": "HTMLReportLayoutEngine.java:88"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.doRun",
          "source": "RunAndRenderTask.java:205"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run",
          "source": "RunAndRenderTask.java:125"
        },
        {
          "method": "org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.service.BirtViewerReportService.runAndRenderReport",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.service.actionhandler.BirtGetPageAllActionHandler.__execute",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.service.actionhandler.AbstractBaseActionHandler.execute",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.soapengine.processor.AbstractBaseDocumentProcessor.__executeAction",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.soapengine.processor.AbstractBaseComponentProcessor.executeAction",
          "source": "Unknown Source"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "180401",
      "date": "2007-04-02T02:59:07+02:00",
      "product": "BIRT",
      "component": "Data",
      "severity": "major"
    }
  ],
  "groupId": "180401",
  "bugId": "180401",
  "date": "2007-04-02T02:59:07+02:00",
  "product": "BIRT",
  "component": "Data",
  "severity": "major"
}