{
  "comments": [
    "Driver:  wtp-sdk-M-1.5.1-200609150551.zip\n\nWhen I bring up the Web service wizard with this driver, the client scale is all red and the graphic for the service and client scale is partiall grey.  \n\nAndrew said he saw similar problem with the 0914 driver on SLES 9.0 yesterday but the problem went away with a different JDK.  I\u0027m using \"J2RE 1.4.2 IBM Windows 32 build cn142ifx-20060209 (SR4-1)\" when I saw that problem on Windows XP.  I had been using the same JRE before on WTP drivers and did not see this problem.\n\nWe\u0027ll do a bit more problem isolation to see which JDK seems to be causing the problem and which one don\u0027t.  We did not make any change in this area in recent weeks.",
    "Created an attachment (id\u003d50264)\nWeb service wizard that looks bad with the 0915 driver\n\n",
    "Created an attachment (id\u003d50265)\nHow Web service wizard page 1 normally looks like\n\n",
    "Here\u0027s the stack trace when the problem occurs:\n\n!MESSAGE The image could not be loaded: URLImageDescriptor(bundleentry://175/icons/scale6_bground.jp\ng)\n!STACK 0\norg.eclipse.jface.resource.DeviceResourceException: Unable to create resource URLImageDescriptor(bun\ndleentry://175/icons/scale6_bground.jpg)\n        at org.eclipse.jface.resource.ImageDescriptor.createResource(ImageDescriptor.java:173)\n        at org.eclipse.jface.resource.DeviceResourceManager.allocate(DeviceResourceManager.java:56)\n        at org.eclipse.jface.resource.AbstractResourceManager.create(AbstractResourceManager.java:87\n)\n        at org.eclipse.jface.resource.ResourceManager.createImageWithDefault(ResourceManager.java:11\n4)\n        at org.eclipse.jface.resource.ImageRegistry.get(ImageRegistry.java:205)\n        at org.eclipse.jst.ws.internal.consumption.ui.widgets.WebServiceClientTypeWidget.setGraphics\n(WebServiceClientTypeWidget.java:801)\n        at org.eclipse.jst.ws.internal.consumption.ui.widgets.WebServiceClientTypeWidget.setClientGe\nneration(WebServiceClientTypeWidget.java:830)\n        at org.eclipse.jst.ws.internal.creation.ui.widgets.ServerWizardWidget.setClientGeneration(Se\nrverWizardWidget.java:940)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)\n        at java.lang.reflect.Method.invoke(Method.java:391)\n        at org.eclipse.wst.command.internal.env.core.data.DataFlowManager.invokeMethod(DataFlowManag\ner.java:269)\n        at org.eclipse.wst.command.internal.env.core.data.DataFlowManager.process(DataFlowManager.ja\nva:124)\n        at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.handlePageVisible(Wizar\ndPageManager.java:219)\n        at org.eclipse.wst.command.internal.env.ui.widgets.SimpleWizardPage.setVisible(SimpleWizardP\nage.java:141)\n        at org.eclipse.jface.wizard.WizardDialog.showStartingPage(WizardDialog.java:1083)\n        at org.eclipse.jface.wizard.WizardDialog.createContents(WizardDialog.java:504)\n        at org.eclipse.jface.window.Window.create(Window.java:426)\n        at org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1124)\n        at org.eclipse.wst.command.internal.env.ui.widgets.popup.DynamicPopupWizard.run(DynamicPopup\nWizard.java:126)\n        at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:254)\n        at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionI\ntem.java:539)\n        at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\n\n        at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java\n:400)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\n        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)\n        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)\n        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)\n        at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n        at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n        at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLau\nncher.java:92)\n        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.jav\na:68)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60)\n        at java.lang.reflect.Method.invoke(Method.java:391)\n        at org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n        at org.eclipse.core.launcher.Main.run(Main.java:977)\n        at org.eclipse.core.launcher.Main.main(Main.java:952)\n\n\nThe problem does not show up in IBM 1.5 JDK or Sun 1.4.2 or 1.5 JDK.",
    "To reproduce the problem, get the WTP 1.5.1 driver from:\n\nhttp://download.eclipse.org/webtools/committers/drops/R1.5/M-1.5.1-200609150551/\n\nGet all the prereqs listed (Eclipse, EMF, GEF, GEM) and then the WTP 1.5.1 driver:\n\nhttp://www.eclipse.org/downloads/download.php?file\u003d/webtools/committers/drops/R1.5/M-1.5.1-200609150551/wtp-sdk-M-1.5.1-200609150551.zip\n\nAfter unzipping the driver, just use the New wizard to select Web Services -\u003e Web service to see page 1 of the Web service wizard.\n\nWe found that using the same IBM JRE142, the problem shows up using the prereq eclipse-SDK-M20060912-1730-win32.  However, the problem disappears using Eclipse M20060830-0800.  Is there some change in this area in these last couple of weeks?",
    "Raising priority. This needs a resolution in 3.2.1, either in SWT or, with SWT\u0027s help, in WTP. The wizard\u0027s apperance is unacceptably broken. Thanks very much in advance for your help.",
    "I just read SWT and moved this bug into their inbox, but I\u0027m not sure that it belongs to SWT. Investigating...",
    "Created an attachment (id\u003d50288)\nimage in question\n\nMaybe there is something wrong with this image?",
    "Try running with -Dorg.eclipse.swt.internal.image.JPEGFileFormat_3.2\n\nDoes the problem go away?  Can you also please attach the jpeg(s) that are failing?  Thanks.",
    "(In reply to comment #8)\n\u003e Does the problem go away?  Can you also please attach the jpeg(s) that are\n\u003e failing?  Thanks.\n\nThe image I attached (comment #7) is the one that fails to load.\n\nLet me know if you need help on the JFace side - it seems we are eating SWT exceptions and just returning null when there are problems while loading images.\n",
    "Created an attachment (id\u003d50291)\nThis is the JPG file that the wizard is trying to load.\n\nThis can be found in org.eclipse.jst.ws.consumption.ui_1.0.102.v200609132055.jar.",
    "I tried running with -Dorg.eclipse.swt.internal.image.JPEGFileFormat_3.2 and the problem went away.\n",
    "Ok, it looks like the new JPEG loading code fails somehow with the IBM JDK 1.4.2.  We are able to load the JPEG in question using both the new and old code on Sun JDK 1.42 and 1.5.  We are getting the exact JVM you are running to prove this as I type ...",
    "Since you might not be able to get the exact JVM I was using, just to let you know that Chris saw the same problem with this JVM:\n\n\"J2RE 1.4.2 IBM Windows 32 build cn142-20060824 (SR6)\"\n",
    "Kathy and Chris, when using the IBM 1.4.2 JRE, did you use J9 or Sov?\n",
    "I tried loading the image with our example ImageAnalyzer running the following VM (the same from comment#13). I was NOT able to reproduce the problem.\n\njava version \"1.4.2\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.4.2)\nClassic VM (build 1.4.2, J2RE 1.4.2 IBM Windows 32 build cn142-20060824 (SR6) JIT enabled: jitc))",
    "We are able to recreate the problem.  It seems that the image needs to be loaded from a .jar.  We are actively looking into this.  Stand by ...",
    "I am seeing the problem with IBM JRE 1.4.2 with or without J9.  Here are the JREs I tried that has problem with showing page 1 of the Web Services wizard:\n\n  \"J2RE 1.4.2 IBM Windows 32 build cn142ifx-20060209 (SR4-1)\"\n  \"J2RE 1.4.2 IBM Windows 32 build cn142-20050609\"\n  \"J2RE 1.4.2 IBM Windows 32 build cn142-20050929 (SR3)\"\n",
    "We found the bug and we are working on a fix ... but we don\u0027t believe that we should make any more changes in this area for 3.2.1. We are proposing that flags that control the new image loading code default to use the old code in 3.2.1.\n\nSilenio and Steve",
    "Fixed in HEAD and 3.2.1.",
    "Could you please indicate which Eclipse 3.2.1 build contains the fix so that we could pick it up for the WTP 1.5.1 build.",
    "The build is going to be done tomorrow.",
    "*** Bug 157887 has been marked as a duplicate of this bug. ***",
    "*** Bug 157887 has been marked as a duplicate of this bug. ***",
    "Verified on eclipse-SDK-M20060921-0945-win32.zip.",
    "Closing"
  ],
  "commentCreationDates": [
    "2006-09-15T17:01:12+02:00",
    "2006-09-15T17:04:19+02:00",
    "2006-09-15T17:05:07+02:00",
    "2006-09-15T17:18:39+02:00",
    "2006-09-15T17:51:43+02:00",
    "2006-09-15T19:34:02+02:00",
    "2006-09-15T20:38:21+02:00",
    "2006-09-15T20:46:36+02:00",
    "2006-09-15T20:47:01+02:00",
    "2006-09-15T20:57:07+02:00",
    "2006-09-15T21:04:43+02:00",
    "2006-09-15T21:08:43+02:00",
    "2006-09-15T21:13:39+02:00",
    "2006-09-15T21:16:56+02:00",
    "2006-09-15T21:36:53+02:00",
    "2006-09-15T21:46:37+02:00",
    "2006-09-15T22:43:39+02:00",
    "2006-09-15T22:45:12+02:00",
    "2006-09-16T00:11:45+02:00",
    "2006-09-18T19:20:09+02:00",
    "2006-09-18T19:26:45+02:00",
    "2006-09-18T20:05:16+02:00",
    "2006-09-19T21:57:00+02:00",
    "2006-09-20T15:06:01+02:00",
    "2006-09-22T16:29:32+02:00",
    "2007-01-24T16:28:14+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.jface.resource.DeviceResourceException",
      "message": "Unable to create resource URLImageDescriptor(bun dleentry://175/icons/scale6_bground.jpg)",
      "elements": [
        {
          "method": "org.eclipse.jface.resource.ImageDescriptor.createResource",
          "source": "ImageDescriptor.java:173"
        },
        {
          "method": "org.eclipse.jface.resource.DeviceResourceManager.allocate",
          "source": "DeviceResourceManager.java:56"
        },
        {
          "method": "org.eclipse.jface.resource.AbstractResourceManager.create",
          "source": "AbstractResourceManager.java:87 "
        },
        {
          "method": "org.eclipse.jface.resource.ResourceManager.createImageWithDefault",
          "source": "ResourceManager.java:11 4"
        },
        {
          "method": "org.eclipse.jface.resource.ImageRegistry.get",
          "source": "ImageRegistry.java:205"
        },
        {
          "method": "org.eclipse.jst.ws.internal.consumption.ui.widgets.WebServiceClientTypeWidget.setGraphics",
          "source": "WebServiceClientTypeWidget.java:801"
        },
        {
          "method": "org.eclipse.jst.ws.internal.consumption.ui.widgets.WebServiceClientTypeWidget.setClientGeneration",
          "source": "WebServiceClientTypeWidget.java:830"
        },
        {
          "method": "org.eclipse.jst.ws.internal.creation.ui.widgets.ServerWizardWidget.setClientGeneration",
          "source": "Se rverWizardWidget.java:940"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:58"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:60"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:391"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.core.data.DataFlowManager.invokeMethod",
          "source": "DataFlowManag er.java:269"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.core.data.DataFlowManager.process",
          "source": "DataFlowManager.ja va:124"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.handlePageVisible",
          "source": "Wizar dPageManager.java:219"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.SimpleWizardPage.setVisible",
          "source": "SimpleWizardP age.java:141"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.showStartingPage",
          "source": "WizardDialog.java:1083"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.createContents",
          "source": "WizardDialog.java:504"
        },
        {
          "method": "org.eclipse.jface.window.Window.create",
          "source": "Window.java:426"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog.create",
          "source": "Dialog.java:1124"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.popup.DynamicPopupWizard.run",
          "source": "DynamicPopup Wizard.java:126"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:254"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionI tem.java:539"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java :400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3348"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2968"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1914"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1878"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLau ncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.jav a:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:58"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:60"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:391"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:280"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 3,
      "bugId": "157478",
      "date": "2006-09-15T17:18:39+02:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "critical"
    }
  ],
  "groupId": "157478",
  "bugId": "157478",
  "date": "2006-09-15T17:01:12+02:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "critical"
}