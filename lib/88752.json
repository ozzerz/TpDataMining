{
  "comments": [
    "Hi,\n\nin the debug perspective I get often the \u0027Exception processing async thread \nqueue\u0027 message. This is while the expressions view is open and it contains \nwatch expressions not relevant for the current debug session (parts of the \nexpression are unresolved and the expression is colored red). See stack trace \nbelow.\n\nKind regards\n\nMartin\n\n\n\nSession data:\n-------------\neclipse.buildId\u003dI20050219-1500\njava.version\u003d1.5.0_02\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003dde_DE\nFramework arguments:  -showlocation\nCommand-line arguments:  -os win32 -ws win32 -arch x86 -data D:\\Exx -\nshowlocation\n\n\nStack trace:\n--------------\n\nError 2005-03-22 16:09:51.258 Exception processing async thread queue\njava.lang.NullPointerException\nat org.eclipse.jdt.internal.debug.eval.ast.engine.ASTInstructionCompiler.visit\n(ASTInstructionCompiler.java:1901)\nat org.eclipse.jdt.core.dom.ClassInstanceCreation.accept0\n(ClassInstanceCreation.java:323)\nat org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450)\nat org.eclipse.jdt.core.dom.ASTNode.acceptChild(ASTNode.java:2497)\nat org.eclipse.jdt.core.dom.ReturnStatement.accept0(ReturnStatement.java:135)\nat org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450)\nat org.eclipse.jdt.core.dom.ASTNode.acceptChildren(ASTNode.java:2520)\nat org.eclipse.jdt.core.dom.Block.accept0(Block.java:135)\nat org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450)\nat org.eclipse.jdt.core.dom.ASTNode.acceptChild(ASTNode.java:2497)\nat org.eclipse.jdt.core.dom.MethodDeclaration.accept0\n(MethodDeclaration.java:503)\nat org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450)\nat org.eclipse.jdt.core.dom.ASTNode.acceptChildren(ASTNode.java:2520)\nat org.eclipse.jdt.core.dom.TypeDeclaration.accept0(TypeDeclaration.java:477)\nat org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450)\nat org.eclipse.jdt.core.dom.ASTNode.acceptChildren(ASTNode.java:2520)\nat org.eclipse.jdt.core.dom.CompilationUnit.accept0(CompilationUnit.java:291)\nat org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450)\nat \norg.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine.createExpress\nionFromAST(ASTEvaluationEngine.java:293)\nat \norg.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine.getCompiledEx\npression(ASTEvaluationEngine.java:168)\nat org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine.evaluate\n(ASTEvaluationEngine.java:77)\nat \norg.eclipse.jdt.internal.debug.ui.JavaWatchExpressionDelegate$EvaluationRunnable\n.run(JavaWatchExpressionDelegate.java:144)\nat org.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run\n(JDIThread.java:2417)\nat org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)",
    "Do you know what expression you had in the view?",
    "(In reply to comment #1)\n\u003e Do you know what expression you had in the view?\n\nI don\u0027t know literally what expressions I had. Most of them were \u0027new String\n(byte[])\u0027 to show a byte array. There were some valid in the current stack \nframe and some were not valid.\n\nThe exception occurs during debugging a plug-in.\n\nHope this helps,\n\nMartin",
    "Luc, it looks like this means we cannot resolive a binding that we want. Any \nideas on how to fix this one? (note we should do a null check \non \"methodBinding\".\n\n\tIMethodBinding methodBinding\u003d node.resolveConstructorBinding();\n\tITypeBinding typeBinding\u003d methodBinding.getDeclaringClass();",
    "Fixed\n\nWe shouldn\u0027t have to do any null check on the binding is ASTInstructionCompiler.\nThis code is supposed to be called only when we are sure the compile was able to\nparse and resolve the evaluation source.\n\nThis problem was an error in the code, we were not correctly checking all the\nerrors reported by the compiler.\n\nASTInstructionCompiler - replaced \u0027break\u0027 by \u0027continue\u0027.",
    "Please verify, Darin W.\n\nTest case:\n\nint[] a\u003d new int[3];\n\nevaluate : \u0027new String(a)\u0027",
    "Verified.",
    "... the fix for this bug is in ASTEvaluationEngine, not ASTInstructionCompiler."
  ],
  "commentCreationDates": [
    "2005-03-22T15:31:28+01:00",
    "2005-04-04T22:05:51+02:00",
    "2005-04-05T13:17:50+02:00",
    "2005-04-18T21:52:10+02:00",
    "2005-04-18T22:49:22+02:00",
    "2005-04-18T22:50:32+02:00",
    "2005-04-19T00:05:19+02:00",
    "2005-07-26T22:38:46+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.engine.ASTInstructionCompiler.visit",
          "source": "ASTInstructionCompiler.java:1901"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ClassInstanceCreation.accept0",
          "source": "ClassInstanceCreation.java:323"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTNode.accept",
          "source": "ASTNode.java:2450"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTNode.acceptChild",
          "source": "ASTNode.java:2497"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ReturnStatement.accept0",
          "source": "ReturnStatement.java:135"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTNode.accept",
          "source": "ASTNode.java:2450"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTNode.acceptChildren",
          "source": "ASTNode.java:2520"
        },
        {
          "method": "org.eclipse.jdt.core.dom.Block.accept0",
          "source": "Block.java:135"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTNode.accept",
          "source": "ASTNode.java:2450"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTNode.acceptChild",
          "source": "ASTNode.java:2497"
        },
        {
          "method": "org.eclipse.jdt.core.dom.MethodDeclaration.accept0",
          "source": "MethodDeclaration.java:503"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTNode.accept",
          "source": "ASTNode.java:2450"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTNode.acceptChildren",
          "source": "ASTNode.java:2520"
        },
        {
          "method": "org.eclipse.jdt.core.dom.TypeDeclaration.accept0",
          "source": "TypeDeclaration.java:477"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTNode.accept",
          "source": "ASTNode.java:2450"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTNode.acceptChildren",
          "source": "ASTNode.java:2520"
        },
        {
          "method": "org.eclipse.jdt.core.dom.CompilationUnit.accept0",
          "source": "CompilationUnit.java:291"
        },
        {
          "method": "org.eclipse.jdt.core.dom.ASTNode.accept",
          "source": "ASTNode.java:2450"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine.createExpressionFromAST",
          "source": "ASTEvaluationEngine.java:293"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine.getCompiledExpression",
          "source": "ASTEvaluationEngine.java:168"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine.evaluate",
          "source": "ASTEvaluationEngine.java:77"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.JavaWatchExpressionDelegate$EvaluationRunnable.run",
          "source": "JavaWatchExpressionDelegate.java:144"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run",
          "source": "JDIThread.java:2417"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:67"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "88752",
      "date": "2005-03-22T15:31:28+01:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "88752",
  "bugId": "88752",
  "date": "2005-03-22T15:31:28+01:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "normal"
}