{
  "comments": [
    "Is it possible to avoid formating simple comments, not JavaDoc?\n  I often comment big pieces of code using /* */ pair, but when\nI format code, it breaks structure of code inside of comments. :-(\n  In same time, I would like to have JavaDoc comments formated, because\nthey start with /**. Is it possible to have additional switch for this?\nOr, if it is already exists, please point on it. ;-)",
    "Move to JDT/UI.\nThis is related to formatting comments.",
    "Note: Comment formatting does not depend on old/new Java code formatter.\n",
    "Ownership changed.",
    "Created an attachment (id\u003d58077)\nProposed fix\n\nThis fix also cleans up some code in the code formatter.",
    "Created an attachment (id\u003d58078)\nProposed fix for the JDT/UI side\n\nBenno,\n\nThis patch contains all the changes on the UI side. Please review them and tell me if this is fine for you. I reorganize a bit the comment formatting preference page.\nIf everything is fine, I would release it tomorrow. Then you could work on the Cleanup wizard related issue.",
    "Created an attachment (id\u003d58079)\nRegression tests updated\n\n",
    "This does not seam to work:\n1. Enable formatting all comment styles\n2. Uncheck \u0027Enable Line Comment Formatting\u0027\nIs:\n!ENTRY org.eclipse.jdt.ui 4 10001 2007-02-02 10:32:24.864\n!MESSAGE Internal Error\n!STACK 0\norg.eclipse.text.edits.MalformedTreeException: End position lies outside document range\n\tat org.eclipse.text.edits.TextEditProcessor.checkIntegrityDo(TextEditProcessor.java:170)\n\tat org.eclipse.text.edits.TextEdit.dispatchCheckIntegrity(TextEdit.java:740)\n\tat org.eclipse.text.edits.TextEditProcessor.performEdits(TextEditProcessor.java:149)\n\tat org.eclipse.text.edits.TextEdit.apply(TextEdit.java:708)\n\tat org.eclipse.text.edits.TextEdit.apply(TextEdit.java:732)\n\tat org.eclipse.jdt.internal.ui.text.comment.CommentFormattingStrategy.format(CommentFormattingStrategy.java:78)\n\tat org.eclipse.jface.text.formatter.MultiPassContentFormatter.formatSlave(MultiPassContentFormatter.java:221)\n\tat org.eclipse.jface.text.formatter.MultiPassContentFormatter.formatSlaves(MultiPassContentFormatter.java:268)\n\tat org.eclipse.jface.text.formatter.MultiPassContentFormatter.format(MultiPassContentFormatter.java:144)\n\tat org.eclipse.jdt.internal.ui.preferences.formatter.CompilationUnitPreview.doFormatPreview(CompilationUnitPreview.java:60)\n\tat org.eclipse.jdt.internal.ui.preferences.formatter.JavaPreview.update(JavaPreview.java:164)\n\tat org.eclipse.jdt.internal.ui.preferences.formatter.CommentsTabPage.doUpdatePreview(CommentsTabPage.java:233)\n\tat org.eclipse.jdt.internal.ui.preferences.formatter.ModifyDialogTabPage$1.update(ModifyDialogTabPage.java:70)\n\tat java.util.Observable.notifyObservers(Observable.java:142)\n\tat java.util.Observable.notifyObservers(Observable.java:98)\n\tat org.eclipse.jdt.internal.ui.preferences.formatter.ModifyDialogTabPage$ButtonPreference.checkboxChecked(ModifyDialogTabPage.java:193)\n\tat org.eclipse.jdt.internal.ui.preferences.formatter.ModifyDialogTabPage$2.widgetSelected(ModifyDialogTabPage.java:185)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:215)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3465)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3079)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\n\tat org.eclipse.jface.window.Window.open(Window.java:796)\n\tat org.eclipse.jdt.internal.ui.preferences.formatter.ProfileConfigurationBlock$ButtonController.modifyButtonPressed(ProfileConfigurationBlock.java:174)\n\tat org.eclipse.jdt.internal.ui.preferences.formatter.ProfileConfigurationBlock$ButtonController.widgetSelected(ProfileConfigurationBlock.java:160)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:215)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3465)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3079)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\n\tat org.eclipse.jface.window.Window.open(Window.java:796)\n\tat org.eclipse.ui.internal.OpenPreferencesAction.run(OpenPreferencesAction.java:65)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:499)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:545)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:402)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3465)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3079)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2099)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2063)\n\tat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:1969)\n\tat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:456)\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:228)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:451)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:101)\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:146)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:476)\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:416)\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1124)\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1099)",
    "Also:\n1. Enable only line comment formatting\nIs:\n Line width group is not enabled.\n\nBut it looks like in the preview that the line width setting is has also an effect on the single line formatting? Same for block comment formatting.\nThe line width setting must either be part of javadoc group if it is only affecting javadoc formatting or be enabled if any comment style is enabled.\n\nAlso:\nDisable all comment formatting styles does result in painting the javadoc group text gray, but not the \u0027javadoc and block\u0027 and line width. This groups must be disabled as well.\n\nAlso:\nIf possible I would like to have two \u0027Clear blank lines in comments\u0027 check boxes, one for javadoc and one for block comments:\n\n-- Javadoc comment settings -------\n[ ] Format header comment\n[ ] ...\n...\n[ ] New line after @param tags\n[ ] Remove blank lines\n\n-- Block comment settings ----------\n[ ] Remove blank lines\n\n-- Line width ----------------------\n....\n\nThis would make the ui code easier and IMHO make the ui easier to understand. Plus it would allow to add new block comment settings in the future without problems.",
    "Btw, if you want too I can take care of the first two UI issues.",
    "(In reply to comment #8)\n\u003e If possible I would like to have two \u0027Clear blank lines in comments\u0027 check\n\u003e boxes, one for javadoc and one for block comments:\nThis means that we need to split the existing option for clearing blank lines in comment in two different options.\n- one for the javadoc comment\n- one for the block comment\n\nI\u0027ll take care of this. I\u0027ll add a new patch for the UI side as well that you could modify.",
    "Created an attachment (id\u003d58113)\nNew patch\n\nnew patch that also splits the option for clearing blank lines inside comments.",
    "Released for 3.3M5",
    "I missed some backward compatibility changes on the core side.\nOld preferences also need to be support at the code level in order not to break existing code formatter profile.\nThis is for users that target directly the code formatter without going through the compatibility layer in the UI.",
    "Verified for 3.3 M5 using build I20070205-0009",
    "*** Bug 88570 has been marked as a duplicate of this bug. ***",
    "*** Bug 94024 has been marked as a duplicate of this bug. ***",
    "*** Bug 52115 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2003-12-30T05:27:17+01:00",
    "2004-01-02T16:21:09+01:00",
    "2004-01-05T10:02:48+01:00",
    "2005-10-10T18:56:09+02:00",
    "2007-02-02T01:29:06+01:00",
    "2007-02-02T01:30:54+01:00",
    "2007-02-02T01:31:54+01:00",
    "2007-02-02T09:46:12+01:00",
    "2007-02-02T10:03:28+01:00",
    "2007-02-02T10:13:44+01:00",
    "2007-02-02T13:13:24+01:00",
    "2007-02-02T14:40:38+01:00",
    "2007-02-02T14:49:26+01:00",
    "2007-02-02T19:34:05+01:00",
    "2007-02-06T11:21:17+01:00",
    "2007-02-08T15:41:29+01:00",
    "2007-02-13T20:18:02+01:00",
    "2007-03-12T11:01:21+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.text.edits.MalformedTreeException",
      "message": "End position lies outside document range",
      "elements": [
        {
          "method": "org.eclipse.text.edits.TextEditProcessor.checkIntegrityDo",
          "source": "TextEditProcessor.java:170"
        },
        {
          "method": "org.eclipse.text.edits.TextEdit.dispatchCheckIntegrity",
          "source": "TextEdit.java:740"
        },
        {
          "method": "org.eclipse.text.edits.TextEditProcessor.performEdits",
          "source": "TextEditProcessor.java:149"
        },
        {
          "method": "org.eclipse.text.edits.TextEdit.apply",
          "source": "TextEdit.java:708"
        },
        {
          "method": "org.eclipse.text.edits.TextEdit.apply",
          "source": "TextEdit.java:732"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.text.comment.CommentFormattingStrategy.format",
          "source": "CommentFormattingStrategy.java:78"
        },
        {
          "method": "org.eclipse.jface.text.formatter.MultiPassContentFormatter.formatSlave",
          "source": "MultiPassContentFormatter.java:221"
        },
        {
          "method": "org.eclipse.jface.text.formatter.MultiPassContentFormatter.formatSlaves",
          "source": "MultiPassContentFormatter.java:268"
        },
        {
          "method": "org.eclipse.jface.text.formatter.MultiPassContentFormatter.format",
          "source": "MultiPassContentFormatter.java:144"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.preferences.formatter.CompilationUnitPreview.doFormatPreview",
          "source": "CompilationUnitPreview.java:60"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.preferences.formatter.JavaPreview.update",
          "source": "JavaPreview.java:164"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.preferences.formatter.CommentsTabPage.doUpdatePreview",
          "source": "CommentsTabPage.java:233"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.preferences.formatter.ModifyDialogTabPage$1.update",
          "source": "ModifyDialogTabPage.java:70"
        },
        {
          "method": "java.util.Observable.notifyObservers",
          "source": "Observable.java:142"
        },
        {
          "method": "java.util.Observable.notifyObservers",
          "source": "Observable.java:98"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.preferences.formatter.ModifyDialogTabPage$ButtonPreference.checkboxChecked",
          "source": "ModifyDialogTabPage.java:193"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.preferences.formatter.ModifyDialogTabPage$2.widgetSelected",
          "source": "ModifyDialogTabPage.java:185"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:215"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3465"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3079"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:820"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:796"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.preferences.formatter.ProfileConfigurationBlock$ButtonController.modifyButtonPressed",
          "source": "ProfileConfigurationBlock.java:174"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.preferences.formatter.ProfileConfigurationBlock$ButtonController.widgetSelected",
          "source": "ProfileConfigurationBlock.java:160"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:215"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3465"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3079"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:820"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:796"
        },
        {
          "method": "org.eclipse.ui.internal.OpenPreferencesAction.run",
          "source": "OpenPreferencesAction.java:65"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:499"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:545"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:490"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:402"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3465"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3079"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2099"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2063"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:1969"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:456"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:228"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:451"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:101"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:146"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:354"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:169"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:476"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:416"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1124"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1099"
        }
      ],
      "number": 0,
      "commentIndex": 7,
      "bugId": "49412",
      "date": "2007-02-02T09:46:12+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "enhancement"
    }
  ],
  "groupId": "49412",
  "bugId": "49412",
  "date": "2003-12-30T05:27:17+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "enhancement"
}