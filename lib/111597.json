{
  "comments": [
    "1. I would like to use aspects built with the latest AJDT 1.3.0 for LTW with \nthe latest AspectJ development build but they are out of step and I get the \nexception below.\n2. Instead I would like to use the new org.aspectj.weaver plugin but its JAR \ndoes not contain the required manifest identifying the Java 5 weaving agent\n3. However even if I add the manifest myself the necessary \norg.aspectj.weaver.loadtime.Agent class is missing. In fact all the classes \nfrom the loadtime5 project are missing.\n\nwarning Register definition failed -- (BCException) malformed \norg.aspectj.weaver.PointcutDeclaration attribute java.io.EOFException\nmalformed org.aspectj.weaver.PointcutDeclaration attribute java.io.EOFException\norg.aspectj.weaver.BCException: malformed \norg.aspectj.weaver.PointcutDeclaration attribute java.io.EOFException\n\tat org.aspectj.weaver.AjAttribute.read(AjAttribute.java:121)\n\tat org.aspectj.weaver.bcel.BcelAttributes.readAjAttributes\n(BcelAttributes.java:42)\n\tat org.aspectj.weaver.bcel.BcelObjectType.unpackAspectAttributes\n(BcelObjectType.java:205)\n\tat org.aspectj.weaver.bcel.BcelObjectType.\u003cinit\u003e\n(BcelObjectType.java:107)\n\tat org.aspectj.weaver.bcel.BcelWorld.makeBcelObjectType\n(BcelWorld.java:239)\n\tat org.aspectj.weaver.bcel.BcelWorld.resolveObjectType\n(BcelWorld.java:234)\n\tat org.aspectj.weaver.World.resolveObjectType(World.java:160)\n\tat org.aspectj.weaver.World.resolve(World.java:132)\n\tat org.aspectj.weaver.bcel.BcelWeaver.addLibraryAspect\n(BcelWeaver.java:144)\n\tat \norg.aspectj.weaver.loadtime.ClassLoaderWeavingAdaptor.registerAspects\n(ClassLoaderWeavingAdaptor.java:197)\n\tat \norg.aspectj.weaver.loadtime.ClassLoaderWeavingAdaptor.registerDefinitions\n(ClassLoaderWeavingAdaptor.java:131)\n\tat org.aspectj.weaver.loadtime.ClassLoaderWeavingAdaptor.\u003cinit\u003e\n(ClassLoaderWeavingAdaptor.java:96)\n\tat org.aspectj.weaver.loadtime.Aj$WeaverContainer.getWeaver(Aj.java:78)\n\tat org.aspectj.weaver.loadtime.Aj.preProcess(Aj.java:54)\n\tat org.aspectj.weaver.loadtime.ClassPreProcessorAgentAdapter.transform\n(ClassPreProcessorAgentAdapter.java:52)\n\tat sun.instrument.TransformerManager.transform\n(TransformerManager.java:122)\n\tat sun.instrument.InstrumentationImpl.transform\n(InstrumentationImpl.java:155)\n\tat java.lang.ClassLoader.defineClass1(Native Method)\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:620)\n\tat java.security.SecureClassLoader.defineClass\n(SecureClassLoader.java:124)\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:260)\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:56)\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:195)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:188)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:268)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:251)\n\tat java.lang.ClassLoader.loadClassInternal(ClassLoader.java:319)",
    "AJDT generates the contents of the org.aspectj.weaver/aspectjweaver.jar from the\naspectjtools.jar which is created as part of the aspectj build. Unfortunately,\nthis aspectjtools.jar doesn\u0027t contain the contents of the loadtime5 and weaver5\nprojects, or the manifest file. \n\nThe solution is to unpack the contents of the aspectjweaver.jar created as part\nof the aspectj build to create the org.aspectj.weaver/aspectjweaver.jar. The\nreason we can\u0027t just copy this over is because the aspectj version contains some\nof the runtime classes which the plugin version doesn\u0027t need (as they are in the\norg.aspectj.runtime plugin).",
    "The fix to the build script in the org.aspectj.ajde plugin has been checked into\nboth the AJDT 1.2 and AJDT 1.3 streams. I\u0027m waiting for a good aspectj build to\nregenerate the jars in the three plugins (org.aspectj.ajde, org.aspectj.runtime\nand org.aspectj.weaver). ",
    "This has been fixed and the resultant aspectjweaver.jar has been verified to\ncontain the correct classes and manifest file. \n\nThe builds which contain this fix are:\n\nAJDT 1.3: 20051011134207\nAJDT 1.2: 20051007170626\n\nI\u0027m therefore closing this bug as fixed."
  ],
  "commentCreationDates": [
    "2005-10-05T14:51:36+02:00",
    "2005-10-06T09:47:49+02:00",
    "2005-10-06T13:47:42+02:00",
    "2005-10-13T10:01:04+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.io.EOFException",
      "elements": [
        {
          "method": "org.aspectj.weaver.AjAttribute.read",
          "source": "AjAttribute.java:121"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelAttributes.readAjAttributes",
          "source": "BcelAttributes.java:42"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelObjectType.unpackAspectAttributes",
          "source": "BcelObjectType.java:205"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelObjectType.\u003cinit\u003e",
          "source": "BcelObjectType.java:107"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWorld.makeBcelObjectType",
          "source": "BcelWorld.java:239"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWorld.resolveObjectType",
          "source": "BcelWorld.java:234"
        },
        {
          "method": "org.aspectj.weaver.World.resolveObjectType",
          "source": "World.java:160"
        },
        {
          "method": "org.aspectj.weaver.World.resolve",
          "source": "World.java:132"
        },
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.addLibraryAspect",
          "source": "BcelWeaver.java:144"
        },
        {
          "method": "org.aspectj.weaver.loadtime.ClassLoaderWeavingAdaptor.registerAspects",
          "source": "ClassLoaderWeavingAdaptor.java:197"
        },
        {
          "method": "org.aspectj.weaver.loadtime.ClassLoaderWeavingAdaptor.registerDefinitions",
          "source": "ClassLoaderWeavingAdaptor.java:131"
        },
        {
          "method": "org.aspectj.weaver.loadtime.ClassLoaderWeavingAdaptor.\u003cinit\u003e",
          "source": "ClassLoaderWeavingAdaptor.java:96"
        },
        {
          "method": "org.aspectj.weaver.loadtime.Aj$WeaverContainer.getWeaver",
          "source": "Aj.java:78"
        },
        {
          "method": "org.aspectj.weaver.loadtime.Aj.preProcess",
          "source": "Aj.java:54"
        },
        {
          "method": "org.aspectj.weaver.loadtime.ClassPreProcessorAgentAdapter.transform",
          "source": "ClassPreProcessorAgentAdapter.java:52"
        },
        {
          "method": "sun.instrument.TransformerManager.transform",
          "source": "TransformerManager.java:122"
        },
        {
          "method": "sun.instrument.InstrumentationImpl.transform",
          "source": "InstrumentationImpl.java:155"
        },
        {
          "method": "java.lang.ClassLoader.defineClass1",
          "source": "Native Method"
        },
        {
          "method": "java.lang.ClassLoader.defineClass",
          "source": "ClassLoader.java:620"
        },
        {
          "method": "java.security.SecureClassLoader.defineClass",
          "source": "SecureClassLoader.java:124"
        },
        {
          "method": "java.net.URLClassLoader.defineClass",
          "source": "URLClassLoader.java:260"
        },
        {
          "method": "java.net.URLClassLoader.access$100",
          "source": "URLClassLoader.java:56"
        },
        {
          "method": "java.net.URLClassLoader$1.run",
          "source": "URLClassLoader.java:195"
        },
        {
          "method": "java.security.AccessController.doPrivileged",
          "source": "Native Method"
        },
        {
          "method": "java.net.URLClassLoader.findClass",
          "source": "URLClassLoader.java:188"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:306"
        },
        {
          "method": "sun.misc.Launcher$AppClassLoader.loadClass",
          "source": "Launcher.java:268"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:251"
        },
        {
          "method": "java.lang.ClassLoader.loadClassInternal",
          "source": "ClassLoader.java:319"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "111597",
      "date": "2005-10-05T14:51:36+02:00",
      "product": "AJDT",
      "component": "Core",
      "severity": "major"
    }
  ],
  "groupId": "111597",
  "bugId": "111597",
  "date": "2005-10-05T14:51:36+02:00",
  "product": "AJDT",
  "component": "Core",
  "severity": "major"
}