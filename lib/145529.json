{
  "comments": [
    "Opened for IBM:\n\nENTRY org.eclipse.wst.validation 4 0 2006-06-02 11:03:01.730\n!MESSAGE\n*** ERROR ***: Fri Jun 02 11:03:01 EDT 2006    org.eclipse.wst.validation.intern\nal.core.ValidationException: CHKJ3000E: WAR Validation Failed: org.eclipse.jst.j\n2ee.commonarchivecore.internal.exception.DeploymentDescriptorLoadException: WEB-\nINF/web.xml\n        at org.eclipse.jst.j2ee.model.internal.validation.WarValidator.validateI\nnJob(WarValidator.java:295)\n        at org.eclipse.jst.j2ee.internal.web.validation.UIWarValidator.validateI\nnJob(UIWarValidator.java:90)\n        at org.eclipse.wst.validation.internal.operations.ValidatorJob.run(Valid\natorJob.java:70)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\n\n!ENTRY org.eclipse.wst.validation 4 0 2006-06-02 11:03:01.780\n!MESSAGE\n*** ERROR ***: Fri Jun 02 11:03:01 EDT 2006    org.eclipse.jst.j2ee.commonarchiv\necore.internal.exception.DeploymentDescriptorLoadException: WEB-INF/web.xml\n    Stack trace of nested exception:\n    org.eclipse.jst.j2ee.commonarchivecore.internal.exception.EmptyResourceExcep\ntion: platform:/resource/BUEJB2EJBClient/WebContent/WEB-INF/web.xml\n        at org.eclipse.jst.j2ee.commonarchivecore.internal.util.ArchiveUtil.getR\noot(ArchiveUtil.java:395)\n        at org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.XmlBasedImpo\nrtStrategyImpl.primLoadDeploymentDescriptor(XmlBasedImportStrategyImpl.java:42)\n        at org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.War22ImportS\ntrategyImpl.loadDeploymentDescriptor(War22ImportStrategyImpl.java:87)\n        at org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.War22ImportS\ntrategyImpl.importMetaData(War22ImportStrategyImpl.java:81)\n        at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.WARFileImpl.getD\neploymentDescriptor(WARFileImpl.java:150)\n        at org.eclipse.jst.j2ee.model.internal.validation.WarValidator.validateI\nnJob(WarValidator.java:280)\n        at org.eclipse.jst.j2ee.internal.web.validation.UIWarValidator.validateI\nnJob(UIWarValidator.java:90)\n        at org.eclipse.wst.validation.internal.operations.ValidatorJob.run(Valid\natorJob.java:70)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\n\n!ENTRY org.eclipse.wst.validation 4 0 2006-06-02 11:03:08.720\n!MESSAGE\n*** ERROR ***: Fri Jun 02 11:03:08 EDT 2006    org.eclipse.wst.validation.intern\nal.core.ValidationException: CHKJ3000E: WAR Validation Failed: org.eclipse.jst.j\n2ee.commonarchivecore.internal.exception.DeploymentDescriptorLoadException: WEB-\nINF/web.xml\n        at org.eclipse.jst.j2ee.model.internal.validation.WarValidator.validateI\nnJob(WarValidator.java:295)\n        at org.eclipse.jst.j2ee.internal.web.validation.UIWarValidator.validateI\nnJob(UIWarValidator.java:90)\n        at org.eclipse.wst.validation.internal.operations.ValidatorJob.run(Valid\natorJob.java:70)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\n\n!ENTRY org.eclipse.wst.validation 4 0 2006-06-02 11:03:08.820\n!MESSAGE\n*** ERROR ***: Fri Jun 02 11:03:08 EDT 2006    org.eclipse.jst.j2ee.commonarchiv\necore.internal.exception.DeploymentDescriptorLoadException: WEB-INF/web.xml\n    Stack trace of nested exception:\n    org.eclipse.jst.j2ee.commonarchivecore.internal.exception.EmptyResourceExcep\ntion: platform:/resource/BUEJB2EJBClient/WebContent/WEB-INF/web.xml\n        at org.eclipse.jst.j2ee.commonarchivecore.internal.util.ArchiveUtil.getR\noot(ArchiveUtil.java:395)\n        at org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.XmlBasedImpo\nrtStrategyImpl.primLoadDeploymentDescriptor(XmlBasedImportStrategyImpl.java:42)\n        at org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.War22ImportS\ntrategyImpl.loadDeploymentDescriptor(War22ImportStrategyImpl.java:87)\n        at org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.War22ImportS\ntrategyImpl.importMetaData(War22ImportStrategyImpl.java:81)\n        at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.WARFileImpl.getD\neploymentDescriptor(WARFileImpl.java:150)\n        at org.eclipse.jst.j2ee.model.internal.validation.WarValidator.validateI\nnJob(WarValidator.java:280)\n        at org.eclipse.jst.j2ee.internal.web.validation.UIWarValidator.validateI\nnJob(UIWarValidator.java:90)\n        at org.eclipse.wst.validation.internal.operations.ValidatorJob.run(Valid\natorJob.java:70)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\nRetrieving document at \u0027file:/D:/ASTI/IES32-o0622.14/inst/smoke/BUEJB2/ejbModule\n/META-INF/wsdl/AddressBook.wsdl\u0027.\nRetrieving document at \u0027file:/D:/ASTI/IES32-o0622.14/inst/smoke/BUEJB2EJBClient/\nWebContent/WEB-INF/wsdl/AddressBook.wsdl\u0027.\n\n!ENTRY org.eclipse.wst.server.core 4 0 2006-06-02 11:53:45.867\n!MESSAGE Publishing failed\n!SUBENTRY 1 org.eclipse.core.runtime 2006-06-02 11:53:45.867\n!MESSAGE OK\n!SUBENTRY 1 com.ibm.etools.wrd.websphere 4 4 2006-06-02 11:53:45.867\n!MESSAGE Publish completed with errors and/or warnings. Please see server logs f\nor more details.\n!SUBENTRY 2 com.ibm.etools.wrd.websphere 4 4 2006-06-02 11:53:45.877\n!MESSAGE Application contains validation errors.  Please correct the errors in P\nroblems view before publishing the application.\nCHKJ3000E: WAR Validation Failed: org.eclipse.jst.j2ee.commonarchivecore.interna\nl.exception.DeploymentDescriptorLoadException WEB-INF/web.xml",
    "moving to 1.5.1, a patch has been sent to the adoptor...",
    "With the patch from Neeraj, I can still reproduce a similar exception consistently using one of our scenarios:\n\n!ENTRY org.eclipse.wst.validation 4 0 2006-06-20 17:40:15.625\n!MESSAGE \n*** ERROR ***: Tue Jun 20 17:40:15 EDT 2006    org.eclipse.wst.validation.internal.core.ValidationException: CHKJ3000E: WAR Validation Failed: org.eclipse.jst.j2ee.commonarchivecore.internal.exception.DeploymentDescriptorLoadException: WEB-INF/web.xml\n    \tat org.eclipse.jst.j2ee.model.internal.validation.WarValidator.validateInJob(WarValidator.java:295)\n    \tat org.eclipse.jst.j2ee.internal.web.validation.UIWarValidator.validateInJob(UIWarValidator.java:92)\n    \tat org.eclipse.wst.validation.internal.operations.ValidatorJob.run(ValidatorJob.java:70)\n    \tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\n\n!ENTRY org.eclipse.wst.validation 4 0 2006-06-20 17:40:15.640\n!MESSAGE \n*** ERROR ***: Tue Jun 20 17:40:15 EDT 2006    org.eclipse.jst.j2ee.commonarchivecore.internal.exception.DeploymentDescriptorLoadException: WEB-INF/web.xml\n    Stack trace of nested exception:\n    org.eclipse.jst.j2ee.commonarchivecore.internal.exception.EmptyResourceException: platform:/resource/soap/WebContent/WEB-INF/web.xml\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.util.ArchiveUtil.getRoot(ArchiveUtil.java:395)\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.XmlBasedImportStrategyImpl.primLoadDeploymentDescriptor(XmlBasedImportStrategyImpl.java:42)\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.War22ImportStrategyImpl.loadDeploymentDescriptor(War22ImportStrategyImpl.java:87)\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.War22ImportStrategyImpl.importMetaData(War22ImportStrategyImpl.java:81)\n    \tat org.eclipse.jst.j2ee.commonarchivecore.internal.impl.WARFileImpl.getDeploymentDescriptor(WARFileImpl.java:150)\n    \tat org.eclipse.jst.j2ee.model.internal.validation.WarValidator.validateInJob(WarValidator.java:280)\n    \tat org.eclipse.jst.j2ee.internal.web.validation.UIWarValidator.validateInJob(UIWarValidator.java:92)\n    \tat org.eclipse.wst.validation.internal.operations.ValidatorJob.run(ValidatorJob.java:70)\n    \tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)",
    "Created an attachment (id\u003d45086)\nPatch\n\n",
    "The exception mentioned in the defect was seen becasue both War validator and a validator implmented by the adopter, which were running concurrently, were trying to access Deployment descriptor model, \n\n   While the call made by first validator was  still loading the model, the call made by the second validator returned with the info that it has been loaded, which  wasn\u0027t, the reason: code to load the Deployment descriptor model is not synchronized.\n\n  So, to fix the problem i have added scheduling rule in the War Validator for the IResource  corresponding to the Deployment descriptor and have suggested the adopter to include the same scheduling rule in its  implementation, also a fix has been made in the validation framework to apply the scheduling rule in the validator  job.",
    "Created an attachment (id\u003d45100)\nThis patch addresses similar problem for ejb and  ear validator\n\n",
    "I have tested both patches in adopter\u0027s product and they fixed the DeploymentDescriptorLoadException for Web, EJB and EAR.",
    "Not stop ship for WTP 1.5 - leaving in 151 release....",
    "In our product, this results in more than just a simple validation error which can be ignored. It is actually preventing some important downstream processing. Could this be considered for 1.5?",
    "released code ",
    "OK"
  ],
  "commentCreationDates": [
    "2006-06-06T15:46:05+02:00",
    "2006-06-13T20:53:33+02:00",
    "2006-06-20T23:44:47+02:00",
    "2006-06-22T15:56:18+02:00",
    "2006-06-22T16:06:04+02:00",
    "2006-06-22T19:18:48+02:00",
    "2006-06-22T19:21:20+02:00",
    "2006-06-22T19:47:26+02:00",
    "2006-06-22T20:05:18+02:00",
    "2006-07-11T18:33:19+02:00",
    "2006-08-28T22:29:09+02:00"
  ],
  "traces": [
    {
      "exceptionType": "2ee.commonarchivecore.internal.exception.DeploymentDescriptorLoadException",
      "message": "WEB- INF/web.xml",
      "elements": [
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.WarValidator.validateInJob",
          "source": "WarValidator.java:295"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.web.validation.UIWarValidator.validateInJob",
          "source": "UIWarValidator.java:90"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidatorJob.run",
          "source": "Valid atorJob.java:70"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "145529",
      "date": "2006-06-06T15:46:05+02:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "major"
    },
    {
      "exceptionType": "ecore.internal.exception.DeploymentDescriptorLoadException",
      "message": "WEB-INF/web.xml     Stack trace of nested exception:     org.eclipse.jst.j2ee.commonarchivecore.internal.exception.EmptyResourceExcep tion: platform:/resource/BUEJB2EJBClient/WebContent/WEB-INF/web.xml",
      "elements": [
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.util.ArchiveUtil.getRoot",
          "source": "ArchiveUtil.java:395"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.XmlBasedImportStrategyImpl.primLoadDeploymentDescriptor",
          "source": "XmlBasedImportStrategyImpl.java:42"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.War22ImportStrategyImpl.loadDeploymentDescriptor",
          "source": "War22ImportStrategyImpl.java:87"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.War22ImportStrategyImpl.importMetaData",
          "source": "War22ImportStrategyImpl.java:81"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.impl.WARFileImpl.getDeploymentDescriptor",
          "source": "WARFileImpl.java:150"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.WarValidator.validateInJob",
          "source": "WarValidator.java:280"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.web.validation.UIWarValidator.validateInJob",
          "source": "UIWarValidator.java:90"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidatorJob.run",
          "source": "Valid atorJob.java:70"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "145529",
      "date": "2006-06-06T15:46:05+02:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "major"
    },
    {
      "exceptionType": "2ee.commonarchivecore.internal.exception.DeploymentDescriptorLoadException",
      "message": "WEB- INF/web.xml",
      "elements": [
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.WarValidator.validateInJob",
          "source": "WarValidator.java:295"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.web.validation.UIWarValidator.validateInJob",
          "source": "UIWarValidator.java:90"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidatorJob.run",
          "source": "Valid atorJob.java:70"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 2,
      "commentIndex": 0,
      "bugId": "145529",
      "date": "2006-06-06T15:46:05+02:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "major"
    },
    {
      "exceptionType": "ecore.internal.exception.DeploymentDescriptorLoadException",
      "message": "WEB-INF/web.xml     Stack trace of nested exception:     org.eclipse.jst.j2ee.commonarchivecore.internal.exception.EmptyResourceExcep tion: platform:/resource/BUEJB2EJBClient/WebContent/WEB-INF/web.xml",
      "elements": [
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.util.ArchiveUtil.getRoot",
          "source": "ArchiveUtil.java:395"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.XmlBasedImportStrategyImpl.primLoadDeploymentDescriptor",
          "source": "XmlBasedImportStrategyImpl.java:42"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.War22ImportStrategyImpl.loadDeploymentDescriptor",
          "source": "War22ImportStrategyImpl.java:87"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.War22ImportStrategyImpl.importMetaData",
          "source": "War22ImportStrategyImpl.java:81"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.impl.WARFileImpl.getDeploymentDescriptor",
          "source": "WARFileImpl.java:150"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.WarValidator.validateInJob",
          "source": "WarValidator.java:280"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.web.validation.UIWarValidator.validateInJob",
          "source": "UIWarValidator.java:90"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidatorJob.run",
          "source": "Valid atorJob.java:70"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 3,
      "commentIndex": 0,
      "bugId": "145529",
      "date": "2006-06-06T15:46:05+02:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "major"
    },
    {
      "exceptionType": "org.eclipse.jst.j2ee.commonarchivecore.internal.exception.DeploymentDescriptorLoadException",
      "message": "WEB-INF/web.xml",
      "elements": [
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.WarValidator.validateInJob",
          "source": "WarValidator.java:295"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.web.validation.UIWarValidator.validateInJob",
          "source": "UIWarValidator.java:92"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidatorJob.run",
          "source": "ValidatorJob.java:70"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 4,
      "commentIndex": 2,
      "bugId": "145529",
      "date": "2006-06-20T23:44:47+02:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "major"
    },
    {
      "exceptionType": "org.eclipse.jst.j2ee.commonarchivecore.internal.exception.EmptyResourceException",
      "message": "platform:/resource/soap/WebContent/WEB-INF/web.xml",
      "elements": [
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.util.ArchiveUtil.getRoot",
          "source": "ArchiveUtil.java:395"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.XmlBasedImportStrategyImpl.primLoadDeploymentDescriptor",
          "source": "XmlBasedImportStrategyImpl.java:42"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.War22ImportStrategyImpl.loadDeploymentDescriptor",
          "source": "War22ImportStrategyImpl.java:87"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.strategy.War22ImportStrategyImpl.importMetaData",
          "source": "War22ImportStrategyImpl.java:81"
        },
        {
          "method": "org.eclipse.jst.j2ee.commonarchivecore.internal.impl.WARFileImpl.getDeploymentDescriptor",
          "source": "WARFileImpl.java:150"
        },
        {
          "method": "org.eclipse.jst.j2ee.model.internal.validation.WarValidator.validateInJob",
          "source": "WarValidator.java:280"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.web.validation.UIWarValidator.validateInJob",
          "source": "UIWarValidator.java:92"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidatorJob.run",
          "source": "ValidatorJob.java:70"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 5,
      "commentIndex": 2,
      "bugId": "145529",
      "date": "2006-06-20T23:44:47+02:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "major"
    }
  ],
  "groupId": "145529",
  "bugId": "145529",
  "date": "2006-06-06T15:46:05+02:00",
  "product": "Web Tools",
  "component": "jst.j2ee",
  "severity": "major"
}