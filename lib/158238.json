{
  "comments": [
    "The application for writing an \"experiment\" object as an XML file to the system console works fine. But not as an RCP! I buid an plugin \"org.sun.jaxb\" from JAR for JAXB from JWSDB 2.0. Then an other plugin \"org.bieri.jaxb.test2\" to use the JAXB plugin.\n\nThe application class is very simple:\n\npackage org.bieri.jaxb.test2;\n\npublic class Application implements IPlatformRunnable {\n\n\tpublic Object run(Object args) throws Exception {\n\t\ttry {\n\t\t\tnew Test1();\n\t\t\treturn IPlatformRunnable.EXIT_OK;\n\t\t} \n\t}\n}\n\nFirst, I print the experiment succesful to the console.\nThen I saved and restored the classloader in my Test1 class:\n\n     public Test1() throws Exception{\n\n// prints the experiment to the console\n        Experiment e \u003d this.getExperiment();\n\tSystem.out.println(e.toString());\n\n// save the current classloader and set the contextClassloader\n    \tThread thread \u003d Thread.currentThread();\n    \tClassLoader loader \u003d thread.getContextClassLoader();\n    \tthread.setContextClassLoader(this.getClass().getClassLoader());\n\t\t\n        try {\n\tJAXBContext context1 \u003d JAXBContext.newInstance(\"org.bieri.datamodel\",Thread.currentThread().getContextClassLoader());\n\t\t\tMarshaller m \u003d context1.createMarshaller();\n\t\t\tm.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n\t\t\tm.marshal(e, System.out);\n\t\t} ...\n\t\t}finally {\n// restore the contextclassloader\n\t\t\tthread.setContextClassLoader(loader);\n\t\t}\n\n\t}\n\nAlso, I wrote the Buddy Policy in plugin org.sun.jaxb \nManifest-Version: 1.0\nBundle-ManifestVersion: 2\nBundle-Name: Jaxb Plug-in\nBundle-SymbolicName: org.sun.jaxb\nBundle-Version: 2.0.0\nBundle-ClassPath: jaxb1-impl.jar,jaxb-api.jar,jaxb-impl.jar,jaxb-xjc.jar,jsr173_api.jar,sjsxp.jar\nBundle-Vendor: sun\nBundle-Localization: plugin\nExport-Package: .,\n 1.0.META-INF,\n 1.0.META-INF.services,\n 1.0.com.sun.codemodel,\n 1.0.com.sun.codemodel.fmt,\n....\nEclipse-BuddyPolicy: registered\n\nAnd dito in the plugin org.bieri.jaxb.test2\nManifest-Version: 1.0\nBundle-ManifestVersion: 2\nBundle-Name: Test2 Plug-in\nBundle-SymbolicName: org.bieri.jaxb.test2; singleton:\u003dtrue\nBundle-Version: 1.0.0\nBundle-ClassPath: nbieri.jaxb/\nBundle-Activator: org.bieri.jaxb.test2.Activator\nBundle-Vendor: nbieri\nBundle-Localization: plugin\nRequire-Bundle: org.eclipse.ui,\n org.eclipse.core.runtime,\n org.sun.jaxb\nEclipse-LazyStart: true\nEclipse-RegisterBuddy: org.sun.jaxb\nDynamicImport-Package: *\nExport-Package: org.bieri.datamodel,\n org.bieri.jaxb.test2\n\nEvery time appears following Error in the system-editor:\n!SESSION 2006-09-22 01:13:34.765 -----------------------------------------------\neclipse.buildId\u003dunknown\njava.version\u003d1.5.0_01\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003dde_CH\nFramework arguments:  -application org.bieri.jaxb.test2.application\nCommand-line arguments:  -application org.bieri.jaxb.test2.application -data C:\\Dokumente und Einstellungen\\Bieri\\Eigene Dateien\\Diplomarbeit\\workEclipse32/../runtime-EclipseApplication(2) -dev file:C:/Dokumente und Einstellungen/Bieri/Eigene Dateien/Diplomarbeit/workEclipse32/.metadata/.plugins/org.eclipse.pde.core/Eclipse Application (2)/dev.properties -os win32 -ws win32 -arch x86\n\n!ENTRY org.eclipse.osgi 4 0 2006-09-22 01:13:35.796\n!MESSAGE Application error\n!STACK 1\njava.lang.NoClassDefFoundError: javax/activation/DataSource\n\tat com.sun.xml.bind.v2.model.impl.RuntimeBuiltinLeafInfoImpl.\u003cclinit\u003e(RuntimeBuiltinLeafInfoImpl.java:172)\n\tat com.sun.xml.bind.v2.model.impl.RuntimeTypeInfoSetImpl.\u003cinit\u003e(RuntimeTypeInfoSetImpl.java:25)\n\tat com.sun.xml.bind.v2.model.impl.RuntimeModelBuilder.createTypeInfoSet(RuntimeModelBuilder.java:78)\n\tat com.sun.xml.bind.v2.model.impl.RuntimeModelBuilder.createTypeInfoSet(RuntimeModelBuilder.java:41)\n\tat com.sun.xml.bind.v2.model.impl.ModelBuilder.\u003cinit\u003e(ModelBuilder.java:97)\n\tat com.sun.xml.bind.v2.model.impl.RuntimeModelBuilder.\u003cinit\u003e(RuntimeModelBuilder.java:44)\n\tat com.sun.xml.bind.v2.runtime.JAXBContextImpl.getTypeInfoSet(JAXBContextImpl.java:320)\n\tat com.sun.xml.bind.v2.runtime.JAXBContextImpl.\u003cinit\u003e(JAXBContextImpl.java:198)\n\tat com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:76)\n\tat com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:55)\n\tat com.sun.xml.bind.v2.ContextFactory.createContext(ContextFactory.java:124)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:132)\n\tat javax.xml.bind.ContextFinder.find(ContextFinder.java:299)\n\tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:358)\n\tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:323)\n\tat org.bieri.datamodel.Test1.\u003cinit\u003e(Test1.java:41)\n\tat org.bieri.jaxb.test2.Application.run(Application.java:24)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)",
    "You Export-Package statement on the jaxb bundle does not seem right ...\n\nExport-Package: .,\n 1.0.META-INF,\n 1.0.META-INF.services,\n 1.0.com.sun.codemodel,\n 1.0.com.sun.codemodel.fmt,\n\n\nThe \"1.0.\" before the package names looks fishy.  If you want to specify versions then it should look more like this ...\n\nExport-Package: .,\n META-INF; version\u003d\"1.0\",\n META-INF.services; version\u003d\"1.0\",\n com.sun.codemodel; version\u003d\"1.0\",\n com.sun.codemodel.fmt; version\u003d\"1.0\",\n ...\n",
    "What does Export-Package: . mean? . is not a valid package name.",
    "It does not mean anything to OSGi.  In Equinox that is a way to export the\ndefault package.  I doubt that is needed for the JAXB bundle.\n"
  ],
  "commentCreationDates": [
    "2006-09-22T01:11:28+02:00",
    "2006-09-22T15:33:02+02:00",
    "2006-09-22T16:10:29+02:00",
    "2006-09-22T16:23:03+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoClassDefFoundError",
      "message": "javax/activation/DataSource",
      "elements": [
        {
          "method": "com.sun.xml.bind.v2.model.impl.RuntimeBuiltinLeafInfoImpl.\u003cclinit\u003e",
          "source": "RuntimeBuiltinLeafInfoImpl.java:172"
        },
        {
          "method": "com.sun.xml.bind.v2.model.impl.RuntimeTypeInfoSetImpl.\u003cinit\u003e",
          "source": "RuntimeTypeInfoSetImpl.java:25"
        },
        {
          "method": "com.sun.xml.bind.v2.model.impl.RuntimeModelBuilder.createTypeInfoSet",
          "source": "RuntimeModelBuilder.java:78"
        },
        {
          "method": "com.sun.xml.bind.v2.model.impl.RuntimeModelBuilder.createTypeInfoSet",
          "source": "RuntimeModelBuilder.java:41"
        },
        {
          "method": "com.sun.xml.bind.v2.model.impl.ModelBuilder.\u003cinit\u003e",
          "source": "ModelBuilder.java:97"
        },
        {
          "method": "com.sun.xml.bind.v2.model.impl.RuntimeModelBuilder.\u003cinit\u003e",
          "source": "RuntimeModelBuilder.java:44"
        },
        {
          "method": "com.sun.xml.bind.v2.runtime.JAXBContextImpl.getTypeInfoSet",
          "source": "JAXBContextImpl.java:320"
        },
        {
          "method": "com.sun.xml.bind.v2.runtime.JAXBContextImpl.\u003cinit\u003e",
          "source": "JAXBContextImpl.java:198"
        },
        {
          "method": "com.sun.xml.bind.v2.ContextFactory.createContext",
          "source": "ContextFactory.java:76"
        },
        {
          "method": "com.sun.xml.bind.v2.ContextFactory.createContext",
          "source": "ContextFactory.java:55"
        },
        {
          "method": "com.sun.xml.bind.v2.ContextFactory.createContext",
          "source": "ContextFactory.java:124"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "javax.xml.bind.ContextFinder.newInstance",
          "source": "ContextFinder.java:132"
        },
        {
          "method": "javax.xml.bind.ContextFinder.find",
          "source": "ContextFinder.java:299"
        },
        {
          "method": "javax.xml.bind.JAXBContext.newInstance",
          "source": "JAXBContext.java:358"
        },
        {
          "method": "javax.xml.bind.JAXBContext.newInstance",
          "source": "JAXBContext.java:323"
        },
        {
          "method": "org.bieri.datamodel.Test1.\u003cinit\u003e",
          "source": "Test1.java:41"
        },
        {
          "method": "org.bieri.jaxb.test2.Application.run",
          "source": "Application.java:24"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:280"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "158238",
      "date": "2006-09-22T01:11:28+02:00",
      "product": "Equinox",
      "component": "Bundles",
      "severity": "major"
    }
  ],
  "groupId": "158238",
  "bugId": "158238",
  "date": "2006-09-22T01:11:28+02:00",
  "product": "Equinox",
  "component": "Bundles",
  "severity": "major"
}