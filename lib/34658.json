{
  "comments": [
    "I had several editors open in the workbench, three of which were dirty, on of\nwhich was a scrapbook page. When I selected \"Save All\" from the File menu, I got\na dialog that said \"Save Failed: Errors during build.\".\n\nThe \"Reason:\" was \"Errors during build.\"\n\nThe \"Details\" was \"1802976400\".\n\nI do not know what the problem is.",
    "Created an attachment (id\u003d3998)\nFile which caused the exception.\n\nIt appears that the problem occurs when attempting to save the attached Java\nfile.",
    "The problem occured during the reconcile operation on the working copy, but I\ncannot reproduce it on Windows2000 using RC2.",
    "I cannot have access to a Mac before Chris MacLaren is back from vacation. So\nthis PR is on hold till tomorrow.",
    "Could not reproduce it on Verokina\u0027s Mac machine. It is running under JDK1.3.1. So we \nneed to try it again on a Mac that has JDK1.4.1.",
    "Here is the stack trace from the log...\n\njava.lang.ArrayIndexOutOfBoundsException: 1802976400\n\tat org.eclipse.jdt.internal.compiler.parser.Parser.check(Parser.java:616)\n\tat org.eclipse.jdt.internal.compiler.parser.Parser.tAction(Parser.java:7564)\n\tat org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:6845)\n\tat org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:7070)\n\tat\norg.eclipse.jdt.internal.compiler.ast.MethodDeclaration.parseStatements(MethodDeclaration.java:95)\n\tat\norg.eclipse.jdt.internal.compiler.ast.TypeDeclaration.parseMethod(TypeDeclaration.java:725)\n\tat org.eclipse.jdt.internal.compiler.Compiler.getMethodBodies(Compiler.java:391)\n\tat org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:527)\n\tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:338)\n\tat\norg.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:195)\n\tat\norg.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:145)\n\tat\norg.eclipse.jdt.internal.core.builder.BatchImageBuilder.build(BatchImageBuilder.java:51)\n\tat org.eclipse.jdt.internal.core.builder.JavaBuilder.buildAll(JavaBuilder.java:194)\n\tat org.eclipse.jdt.internal.core.builder.JavaBuilder.build(JavaBuilder.java:122)\n\tat org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:424)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:867)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:413)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:125)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:181)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:191)\n\tat org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:151)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:867)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:413)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:165)\n\tat\norg.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:243)\n\tat org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:212)\n\tat org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.java:884)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1596)\n\tat\norg.eclipse.team.internal.ccvs.core.resources.CVSWorkspaceRoot.createModule(CVSWorkspaceRoot.java:358)\n\tat\norg.eclipse.team.internal.ccvs.ui.wizards.SharingWizard$1.run(SharingWizard.java:260)\n\tat\norg.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:95)",
    "*** Bug 34706 has been marked as a duplicate of this bug. ***",
    "Add to CC\u0027s",
    "*** Bug 34734 has been marked as a duplicate of this bug. ***",
    "Could you please try with no jit?\nChanning, this page seems to explain how to disable the jit.\nhttp://developer.apple.com/techpubs/macosx/Java/JavaDevelopment/system_properties/chapter_9_section_3.html\n\n",
    "The properties key in the info.plist seems to be the place you put system properties usually defined with -D - http://developer.apple.com/techpubs/macosx/Java/JavaDevelopment/deploying/chapter_3_section_5.html\n\nBut, its not working for me - I\u0027ll keep digging. (Perhaps Andre knows how to do this ?)\n\nChanning",
    "I tried without a jit on my side, but I could not reproduce the problem with or\nwithout the jit. So it looks like it is crashing, but doesn\u0027t seem to be 100%\nreproducable.\nI really looks like a VM problem, but we need to be able to find out what is wrong.\nIf you have a reproducable test case, please submit your piece of code.",
    "I can recreate the problem by creating a plugin project-I used the plugin with\nan editor template. ",
    "I don\u0027t know if it helps but I notice that the line number of the file that the\nerror occurs at is always 0.",
    "Hi,\nI\u0027m on the IBM Websphere conference right now and just had a chance to download \nApple\u0027s final 1.4.1.\nI don\u0027t know what the problem is, but at least Eclipse runs just fine in its default \nconfiguration (which is to use 1.3.1).\nPlease, give me some more time for investigation...",
    "It may work fine in it\u0027s default configuration, but since Ant is launched in the same VM as Eclipse, if you have custom Ant tasks that get compiled with your project, you have to run Eclipse in 1.4.1 or you\u0027ll get a version conflict.  So in cases like mine, I can change the info.plist back to 1.3.1 and successfully compile my application, but it makes the Ant integration with Eclipse rather useless.  \nbtw, thanks for all your hard work on OS X SWT Andre!",
    "In its default configuration, but using the 1.4.1 as the default VM it works\nfine too.",
    "*** Bug 34802 has been marked as a duplicate of this bug. ***",
    "If I switched to interpreted mode (-Xint), then the index changes. I will try to\nsee when this is happening exactly, but for now it looks like a serious problem\nwith the JVM.",
    "TestCase for MacOSX 10.2.4 Eclipse RC2 JDK 1.4.1(Final)\nCreate this class. Save will fail with an InternalCompilerError until you remove the first \nmethod.\n\npackage a.hfhf.fdha.g;\n/*\n * Created on 12.03.2003\n *\n * To change this generated comment go to \n * Window\u003ePreferences\u003eJava\u003eCode Generation\u003eCode Template\n */\n/**\n * @author uli\n *\n * To change this generated comment go to \n * Window\u003ePreferences\u003eJava\u003eCode Generation\u003eCode Template\n */\npublic class Test {\n\t//this will fail\n\tpublic void test(String string) {\n\t\tif ((Object) string instanceof Test)\n\t\t\treturn;\n\t}\n\t//this work\n\tpublic void test(String string) {\n\t\tObject object \u003d (Object)string;\n\t\tif (object instanceof Test)\n\t\t\treturn;\n\t}\n}\n",
    "I don`t know if this is important, but there are two methods that do the check.\nThe first(check) returns a short\nThe second (original_state) calls check and returns an int.",
    "The problem is that it works fine on all VMs except this 1.4.1 VM.",
    "I added a trace in the parser loop to find out why we get this\nArrayIndexOutOfBoundException. It appears that on the JDK1.4.1 one of the\ninternal parser tables is shorter than on the JDK1.3.1. So this narrows down\nthis issue to the initialization of this table.\nI will continue to investigate. I\u0027ll keep you inform of my progress.",
    "I located the problem. At least for the ones that report an\nArrayIndexOutOfBoundException in the .log file. The problem appears because the\nresource files used to initialize the parser internal tables wasn\u0027t completely\nread. Our loop to initialize the table was boggus.\nChanging it to ensure that the whole file is read fixed the problem. I need to\ndouble-check the code before I release it.",
    "Olivier - could you paste in the fix for this bug ? (philippe)",
    "Excellent news that the bug has been found.\n\nI\u0027m curious as to why this bug doesn\u0027t occur on other platforms, any idea? Also, what is the class/method where the bug is - just curious.\n\nChanning",
    "*** Bug 34907 has been marked as a duplicate of this bug. ***",
    "Created an attachment (id\u003d4093)\nPatch\n\nApply it to compiler/org/eclipse/jdt/internal/compiler/util/Util.java",
    "Channing, the problem was in the reading of a stream into a byte[]. On the\nJDK1.4.1 for MacOS the reading is stopped too early and the table is incomplete.\nTherefore in the parser loop if an action requires to go beyond the size of the\ntable, we end up with the exception you saw.\nWhy didn\u0027t this happen on other platform? I could be due to the implementation\nof the native method available() on subclasses of java.io.InputStream or simply\nby luck.\nI attach the patch for this fix. So feel free to try it.",
    "Thanks for the explanation Olivier :-) I\u0027ll try the patch later today.\n\nChanning",
    "Thanks for the fix Oliver. Works great.\nUlrich",
    "Patch works for me too. Thanks Olivier",
    "Confirmed as well.  Thanks",
    "Verified the patch and integrated (with variable rename and -1 special case to \nmake it more obvious).\n\n",
    "Verified.",
    "*** Bug 36733 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2003-03-11T16:54:16+01:00",
    "2003-03-11T17:10:44+01:00",
    "2003-03-11T17:18:08+01:00",
    "2003-03-11T17:26:45+01:00",
    "2003-03-11T18:51:49+01:00",
    "2003-03-11T19:23:04+01:00",
    "2003-03-11T19:40:35+01:00",
    "2003-03-11T20:16:58+01:00",
    "2003-03-11T20:41:33+01:00",
    "2003-03-11T20:42:44+01:00",
    "2003-03-11T20:53:27+01:00",
    "2003-03-11T21:01:07+01:00",
    "2003-03-11T21:59:06+01:00",
    "2003-03-11T22:09:15+01:00",
    "2003-03-11T23:03:30+01:00",
    "2003-03-11T23:10:38+01:00",
    "2003-03-12T09:27:28+01:00",
    "2003-03-12T14:49:39+01:00",
    "2003-03-12T15:37:38+01:00",
    "2003-03-12T16:24:18+01:00",
    "2003-03-12T16:33:16+01:00",
    "2003-03-12T16:39:49+01:00",
    "2003-03-12T17:32:37+01:00",
    "2003-03-12T20:04:53+01:00",
    "2003-03-12T23:11:17+01:00",
    "2003-03-12T23:26:44+01:00",
    "2003-03-13T13:46:21+01:00",
    "2003-03-13T13:49:17+01:00",
    "2003-03-13T13:53:43+01:00",
    "2003-03-13T14:08:16+01:00",
    "2003-03-13T15:04:11+01:00",
    "2003-03-13T15:12:20+01:00",
    "2003-03-13T16:44:44+01:00",
    "2003-03-13T17:00:26+01:00",
    "2003-03-20T10:25:58+01:00",
    "2003-04-22T14:42:13+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "1802976400",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.parser.Parser.check",
          "source": "Parser.java:616"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.parser.Parser.tAction",
          "source": "Parser.java:7564"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.parser.Parser.parse",
          "source": "Parser.java:6845"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.parser.Parser.parse",
          "source": "Parser.java:7070"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.parseStatements",
          "source": "MethodDeclaration.java:95"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.parseMethod",
          "source": "TypeDeclaration.java:725"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.getMethodBodies",
          "source": "Compiler.java:391"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.process",
          "source": "Compiler.java:527"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:338"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile",
          "source": "AbstractImageBuilder.java:195"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile",
          "source": "AbstractImageBuilder.java:145"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.BatchImageBuilder.build",
          "source": "BatchImageBuilder.java:51"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.JavaBuilder.buildAll",
          "source": "JavaBuilder.java:194"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.JavaBuilder.build",
          "source": "JavaBuilder.java:122"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$2.run",
          "source": "BuildManager.java:424"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:867"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:413"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:125"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:181"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:191"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$1.run",
          "source": "BuildManager.java:151"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:867"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:413"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:165"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuildLoop",
          "source": "BuildManager.java:243"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.build",
          "source": "BuildManager.java:212"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.endOperation",
          "source": "Workspace.java:884"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1596"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.CVSWorkspaceRoot.createModule",
          "source": "CVSWorkspaceRoot.java:358"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.wizards.SharingWizard$1.run",
          "source": "SharingWizard.java:260"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:95"
        }
      ],
      "number": 0,
      "commentIndex": 5,
      "bugId": "34658",
      "date": "2003-03-11T19:23:04+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "34658",
  "bugId": "34658",
  "date": "2003-03-11T16:54:16+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}