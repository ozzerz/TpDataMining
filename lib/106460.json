{
  "comments": [
    "R3.1\n\nHere\u0027s the task  need to fulfill: replace all (cvs shared) projects for which\nthere\u0027s a R3_1_maintenance branch with that branch.\n\nI tried the following:\n- selected all projects in the Navigator and then replaced with R3_1_maintenance\n  \u003d\u003d\u003e some of the projects got empty because there was no branch\n- tried to filter all non-shared from the CVS Repositories view but filters \n  aren\u0027t supported\n\nFinally I had to do it manually one by one for more than 20 projects.",
    "\u003e   \u003d\u003d\u003e some of the projects got empty because there was no branch\n\nThis is actually a bug. The user should not be able to check out an inexistent branch. The action should just leave projects that don\u0027t have the selected branch alone.",
    "Created an attachment (id\u003d72778)\nFix\n\nI was too lazy to find all branched projects by hand, so I just fixed it in the source. The patch also fixes bug 125140.",
    "Thanks for the patch Markus.",
    "There is a fundamental problem with the patch. It assumes that the user chose to refresh the tags in the tag selection dialog. If the user does not refresh, it is possible that projects (or resources) that have the tag will be excluded from the operation. The only way I can see to make this work is to refresh the tags in the ReplaceOperation as well. I think that an acceptable workaround is to refresh in the replace operation if the tag is not found for a resource. I have added this to the patch and released it. I also added a short circuit which automatically adds the resource if the tag is a date, head or base tag.",
    "Thanks for the quick review/release.\n\nHowever, I just got the NPE below with the version in HEAD after deleting a file and the choosing \u0027Replace With \u003e Latest from HEAD\u0027 on the parent folder. It looks like getTag() can return null.\n\njava.lang.NullPointerException\n\tat org.eclipse.team.internal.ccvs.ui.operations.ReplaceOperation.addResourceIfTagExists(ReplaceOperation.java:145)\n\tat org.eclipse.team.internal.ccvs.ui.operations.ReplaceOperation.getResourcesToUpdate(ReplaceOperation.java:131)\n\tat org.eclipse.team.internal.ccvs.ui.operations.ReplaceOperation.internalExecuteCommand(ReplaceOperation.java:86)\n\tat org.eclipse.team.internal.ccvs.ui.operations.ReplaceOperation.access$0(ReplaceOperation.java:84)\n\tat org.eclipse.team.internal.ccvs.ui.operations.ReplaceOperation$1.run(ReplaceOperation.java:68)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1797)\n\tat org.eclipse.team.internal.ccvs.ui.operations.ReplaceOperation.executeCommand(ReplaceOperation.java:65)\n\tat org.eclipse.team.internal.ccvs.ui.operations.SingleCommandOperation.execute(SingleCommandOperation.java:42)\n\tat org.eclipse.team.internal.ccvs.ui.operations.RepositoryProviderOperation.execute(RepositoryProviderOperation.java:280)\n\tat org.eclipse.team.internal.ccvs.ui.operations.SingleCommandOperation.execute(SingleCommandOperation.java:66)\n\tat org.eclipse.team.internal.ccvs.ui.operations.RepositoryProviderOperation.execute(RepositoryProviderOperation.java:256)\n\tat org.eclipse.team.internal.ccvs.ui.operations.RepositoryProviderOperation.execute(RepositoryProviderOperation.java:210)\n\tat org.eclipse.team.internal.ccvs.ui.operations.CVSOperation.run(CVSOperation.java:81)\n\tat org.eclipse.team.internal.ui.actions.JobRunnableContext.run(JobRunnableContext.java:144)\n\tat org.eclipse.team.internal.ui.actions.JobRunnableContext$ResourceJob.runInWorkspace(JobRunnableContext.java:72)\n\tat org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:38)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)\n\n\n",
    "(In reply to comment #4)\n\u003e I also added a short circuit\n\u003e which automatically adds the resource if the tag is a date, head or base tag.\n\nChanging\n\n    if (tag.getType() \u003d\u003d CVSTag.DATE || tag.isHeadTag() || tag.isBaseTag())\n\nin ReplaceOperation.addResourceIfTagExists(..) to\n\n    if (tag \u003d\u003d null || tag.getType() \u003d\u003d CVSTag.DATE || tag.isHeadTag() ||\n            tag.isBaseTag())\n\nfixes the problem.",
    "Bumping up the severity: I can no longer use Replace With \u003e Latest From HEAD on my files as I always get an NPE.",
    "Sorry about that. Fix released to HEAD.",
    "Verified in I20070806-1800. \"Replace With \u003e\" for multiple projects works as expected."
  ],
  "commentCreationDates": [
    "2005-08-09T14:42:45+02:00",
    "2007-06-29T13:11:55+02:00",
    "2007-06-29T16:11:39+02:00",
    "2007-06-29T16:37:10+02:00",
    "2007-06-29T17:33:08+02:00",
    "2007-06-29T18:36:09+02:00",
    "2007-06-29T18:43:08+02:00",
    "2007-07-03T12:14:19+02:00",
    "2007-07-03T15:40:02+02:00",
    "2007-08-07T15:05:39+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.team.internal.ccvs.ui.operations.ReplaceOperation.addResourceIfTagExists",
          "source": "ReplaceOperation.java:145"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.operations.ReplaceOperation.getResourcesToUpdate",
          "source": "ReplaceOperation.java:131"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.operations.ReplaceOperation.internalExecuteCommand",
          "source": "ReplaceOperation.java:86"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.operations.ReplaceOperation.access$0",
          "source": "ReplaceOperation.java:84"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.operations.ReplaceOperation$1.run",
          "source": "ReplaceOperation.java:68"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1797"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.operations.ReplaceOperation.executeCommand",
          "source": "ReplaceOperation.java:65"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.operations.SingleCommandOperation.execute",
          "source": "SingleCommandOperation.java:42"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.operations.RepositoryProviderOperation.execute",
          "source": "RepositoryProviderOperation.java:280"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.operations.SingleCommandOperation.execute",
          "source": "SingleCommandOperation.java:66"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.operations.RepositoryProviderOperation.execute",
          "source": "RepositoryProviderOperation.java:256"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.operations.RepositoryProviderOperation.execute",
          "source": "RepositoryProviderOperation.java:210"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.operations.CVSOperation.run",
          "source": "CVSOperation.java:81"
        },
        {
          "method": "org.eclipse.team.internal.ui.actions.JobRunnableContext.run",
          "source": "JobRunnableContext.java:144"
        },
        {
          "method": "org.eclipse.team.internal.ui.actions.JobRunnableContext$ResourceJob.runInWorkspace",
          "source": "JobRunnableContext.java:72"
        },
        {
          "method": "org.eclipse.core.internal.resources.InternalWorkspaceJob.run",
          "source": "InternalWorkspaceJob.java:38"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:55"
        }
      ],
      "number": 0,
      "commentIndex": 5,
      "bugId": "106460",
      "date": "2007-06-29T18:36:09+02:00",
      "product": "Platform",
      "component": "CVS",
      "severity": "major"
    }
  ],
  "groupId": "106460",
  "bugId": "106460",
  "date": "2005-08-09T14:42:45+02:00",
  "product": "Platform",
  "component": "CVS",
  "severity": "major"
}