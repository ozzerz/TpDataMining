{
  "comments": [
    "I cannot reliably reproduce this. What I did was selecting a package and doing \na reference search:\n\njava.lang.reflect.InvocationTargetException: java.lang.NullPointerException\n\tat org.eclipse.jdt.internal.compiler.lookup.ReferenceBinding.canBeSeenBy\n(ReferenceBinding.java(Compiled Code))\n\tat org.eclipse.jdt.internal.compiler.lookup.Scope.getTypeOrPackage\n(Scope.java:955)\n\tat org.eclipse.jdt.internal.core.search.matching.MatchSet.reportMatching\n(MatchSet.java:222)\n\tat \norg.eclipse.jdt.internal.core.search.matching.MatchingOpenable.locateMatchesInCo\nmpilationUnit(MatchingOpenable.java:331)\n\tat \norg.eclipse.jdt.internal.core.search.matching.MatchingOpenable.locateMatches\n(MatchingOpenable.java:174)\n\tat \norg.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches\n(MatchLocator.java:1323)\n\tat \norg.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches\n(MatchLocator.java:586)\n\tat org.eclipse.jdt.core.search.SearchEngine.search\n(SearchEngine.java:412)\n\tat org.eclipse.jdt.core.search.SearchEngine.search\n(SearchEngine.java:358)\n\tat org.eclipse.jdt.internal.ui.search.JavaSearchOperation.execute\n(JavaSearchOperation.java:84)\n\tat org.eclipse.ui.actions.WorkspaceModifyOperation$1.run\n(WorkspaceModifyOperation.java:64)\n\tat org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1361)\n\tat org.eclipse.ui.actions.WorkspaceModifyOperation.run\n(WorkspaceModifyOperation.java:78)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run\n(ModalContext.java:98)",
    "Fix won\u0027t be ready for 2.0.1. Marking for 2.1 instead.",
    "Got same exception when searching for references to a class \"A\", when the\nreference of the referencing class (\"B\") is not valid (e.g. if \"A\" is not\nvisible to \"B\", but \"B\" imports it).",
    "Was able to reproduce as follow:\n1. Create package p1\n2. Create class A in p1:\npackage p1;\nclass A {\n}\n3. Create package p2\n4. Create class B in p2\npackage p2;\nimport p1.A;\npublic class B extends A {\n}\n5. Searching for reference to class A or to package p1 produces the above stack \ntrace.\n\nThanks for the test case Simon.",
    "Fixed Scope.getTypeOrPackage(char[]) so that is doesn\u0027t check the visibility if \nthe scope is a CompilationUnitScope (canBeSeenBy(Scope) doesn\u0027t support such a \nscope).",
    "*** Bug 22946 has been marked as a duplicate of this bug. ***",
    "for a real-life example - search for references to the class\norg.eclipse.jdt.internal.corext.dom.ASTFlattener ",
    "This works for me in 2.0 (so is life real? :-)\nOf course you don\u0027t have the fix yet... (since there was no build contribution \nfrom JDT/Core for the last integration build)",
    "Fix was not good enough (other senders of canBeSeenBy may have the same \nproblem).\nSo changed canBeSeenBy to handle the case of a compilation unit scope and \nremoved change in Scope.getTypeOrPackage(char[]).",
    "Verified."
  ],
  "commentCreationDates": [
    "2002-07-11T16:06:44+02:00",
    "2002-07-24T18:55:31+02:00",
    "2002-08-21T09:37:10+02:00",
    "2002-08-22T11:45:51+02:00",
    "2002-08-22T12:41:49+02:00",
    "2002-08-29T11:44:21+02:00",
    "2002-08-30T15:49:32+02:00",
    "2002-08-30T16:54:54+02:00",
    "2002-09-02T12:43:02+02:00",
    "2002-09-18T18:09:58+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.ReferenceBinding.canBeSeenBy",
          "source": "ReferenceBinding.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.Scope.getTypeOrPackage",
          "source": "Scope.java:955"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchSet.reportMatching",
          "source": "MatchSet.java:222"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchingOpenable.locateMatchesInCompilationUnit",
          "source": "MatchingOpenable.java:331"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchingOpenable.locateMatches",
          "source": "MatchingOpenable.java:174"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches",
          "source": "MatchLocator.java:1323"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.matching.MatchLocator.locateMatches",
          "source": "MatchLocator.java:586"
        },
        {
          "method": "org.eclipse.jdt.core.search.SearchEngine.search",
          "source": "SearchEngine.java:412"
        },
        {
          "method": "org.eclipse.jdt.core.search.SearchEngine.search",
          "source": "SearchEngine.java:358"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.search.JavaSearchOperation.execute",
          "source": "JavaSearchOperation.java:84"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation$1.run",
          "source": "WorkspaceModifyOperation.java:64"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1361"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation.run",
          "source": "WorkspaceModifyOperation.java:78"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:98"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "21485",
      "date": "2002-07-11T16:06:44+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "21485",
  "bugId": "21485",
  "date": "2002-07-11T16:06:44+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}