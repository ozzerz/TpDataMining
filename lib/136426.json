{
  "comments": [
    "The New AC testing for backward compatibility is failing with security enabled.\n\nI have tried the following RAC tests.\n\nPlatform.Communication.Control_Channel_Import_Log_File.Windows_IA32 \nPlatform.Communication.Control_Channel_Remote_Profiling.Windows_IA32\nSample JUnit Test\nSample URL Test\nSample HTTP Recording test",
    "When doing remote java profiling it doesn\u0027t return any error in the workbench. But test execution results in CoreException.",
    "Samson - please investigate.",
    "From the test result, is it true that \"Profiling w/security\" works? And only \"Test w/security\" and \"Log Import with filters w/security\" fail? If that\u0027s the case, then this is related the file server not being able to handle security. Please see bug 95846.\n\nFor the \"Remote Log Import w/o security\" error, there are some \u003cParameter\u003e specified under the config file \"plugins\\org.eclipse.hyades.logging.parsers_4.2.0.v200604120817\\config\\pluginconfig.xml\" not being passed to the launched java process. I browsed the AC log file and can\u0027t seem to find the \"config_path\" parameter being passed. I think this is AC related and not ACTL/CCTL related.\n\nFYI: Local log import does not need the RAC/AC at all. That means the failure of the test case \"log import - local w/security\" is not RAC/AC related.\n\nI have tried \"profiling w/security\" using the RC2 AC driver (TPTP-4.2.0-200604120817) and it works both locally and remotely.",
    "Vishnu, do you agree this is just a dup of bug 95846?",
    "This is a dup to bug 95846 and was already fixed.\n\n*** This bug has been marked as a duplicate of 95846 ***",
    "Samson,\nI have tested this bug with build TPTP-4.2.0-200605110100 for both TPTP runtime and New AC.\n\nI found that with security disabled all the tests work fine.\nWith security enabled, the tests sometimes work fine but other times getting the following exception in the workbench\n\njava.lang.RuntimeException: org.eclipse.hyades.internal.execution.core.file.ServerNotAvailableException: java.lang.NullPointerException\n\tat org.eclipse.hyades.execution.harness.JavaExecutionDeploymentAdapter.deployFile(JavaExecutionDeploymentAdapter.java:433)\n\tat org.eclipse.hyades.execution.harness.JavaExecutionDeploymentAdapter.deployToNode(JavaExecutionDeploymentAdapter.java:496)\n\tat org.eclipse.hyades.execution.harness.JavaExecutionDeploymentAdapter.deployTestAssets(JavaExecutionDeploymentAdapter.java:469)\n\tat org.eclipse.hyades.execution.harness.util.ExecutionAdapterUtilities.adaptExecutionDeployment(ExecutionAdapterUtilities.java:159)\n\tat org.eclipse.hyades.execution.harness.TestExecutionHarness.launchTestExecution(TestExecutionHarness.java:1956)\n\tat org.eclipse.hyades.execution.harness.TestExecutionHarness.access$2(TestExecutionHarness.java:1800)\n\tat org.eclipse.hyades.execution.harness.TestExecutionHarness$2.run(TestExecutionHarness.java:735)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\nCaused by: org.eclipse.hyades.internal.execution.core.file.ServerNotAvailableException: java.lang.NullPointerException\n\tat org.eclipse.hyades.internal.execution.core.file.dynamic.FileServerCommandFactory.connectSocketChannel(FileServerCommandFactory.java:348)\n\tat org.eclipse.hyades.internal.execution.core.file.dynamic.FileServerCommandFactory.connectSocketChannel(FileServerCommandFactory.java:269)\n\tat org.eclipse.hyades.internal.execution.core.file.dynamic.FileServerCommandFactory.createPutFileCommand(FileServerCommandFactory.java:523)\n\tat org.eclipse.hyades.execution.local.file.FileManagerExtendedImpl.putFile(FileManagerExtendedImpl.java:930)\n\tat org.eclipse.hyades.execution.local.file.FileManagerExtendedImpl.putFile(FileManagerExtendedImpl.java:994)\n\tat org.eclipse.hyades.execution.local.file.FileManagerExtendedImpl.putFile(FileManagerExtendedImpl.java:962)\n\tat org.eclipse.hyades.execution.local.file.FileManagerExtendedImpl.putFile(FileManagerExtendedImpl.java:947)\n\tat org.eclipse.hyades.execution.harness.JavaExecutionDeploymentAdapter.deployFile(JavaExecutionDeploymentAdapter.java:427)\n\t... 7 more\nCaused by: java.lang.NullPointerException\n\tat org.eclipse.hyades.internal.execution.local.control.SecureConnectionImpl.connect(SecureConnectionImpl.java:60)\n\tat org.eclipse.hyades.internal.execution.local.control.SecureConnectionImpl.create(SecureConnectionImpl.java:207)\n\tat org.eclipse.hyades.internal.execution.core.file.dynamic.FileServerCommandFactory.connectSocketChannel(FileServerCommandFactory.java:300)",
    "When the insecured connection is disconnecting after receiving a security required exception, it is setting the secured parameter to null. At the same time, the secured file server is trying to retrieve the same secured parameter from the same node. Depending on timing sometimes it will get a correct value but sometime it will get a null. There is currently no thread sync between the control channel thread and the file server thread. So, a fix for now is to make sure the insecured connection is not null-ing the secured parameter when disconnecting. This has been unit tested and I can run 10 TPTP JUnit tests plus 10 Profiling tests with no problem.\n\nFix checked in 2006/05/12 22:06 EDT.\n\nFiles:\n- ConnectionImpl.java\n"
  ],
  "commentCreationDates": [
    "2006-04-12T20:59:03+02:00",
    "2006-04-12T21:05:02+02:00",
    "2006-04-12T21:35:57+02:00",
    "2006-04-12T21:45:55+02:00",
    "2006-04-19T18:32:21+02:00",
    "2006-05-04T18:19:47+02:00",
    "2006-05-12T18:47:15+02:00",
    "2006-05-13T04:03:44+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.hyades.execution.harness.JavaExecutionDeploymentAdapter.deployFile",
          "source": "JavaExecutionDeploymentAdapter.java:433"
        },
        {
          "method": "org.eclipse.hyades.execution.harness.JavaExecutionDeploymentAdapter.deployToNode",
          "source": "JavaExecutionDeploymentAdapter.java:496"
        },
        {
          "method": "org.eclipse.hyades.execution.harness.JavaExecutionDeploymentAdapter.deployTestAssets",
          "source": "JavaExecutionDeploymentAdapter.java:469"
        },
        {
          "method": "org.eclipse.hyades.execution.harness.util.ExecutionAdapterUtilities.adaptExecutionDeployment",
          "source": "ExecutionAdapterUtilities.java:159"
        },
        {
          "method": "org.eclipse.hyades.execution.harness.TestExecutionHarness.launchTestExecution",
          "source": "TestExecutionHarness.java:1956"
        },
        {
          "method": "org.eclipse.hyades.execution.harness.TestExecutionHarness.access$2",
          "source": "TestExecutionHarness.java:1800"
        },
        {
          "method": "org.eclipse.hyades.execution.harness.TestExecutionHarness$2.run",
          "source": "TestExecutionHarness.java:735"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.NullPointerException",
        "elements": [
          {
            "method": "org.eclipse.hyades.internal.execution.core.file.dynamic.FileServerCommandFactory.connectSocketChannel",
            "source": "FileServerCommandFactory.java:348"
          },
          {
            "method": "org.eclipse.hyades.internal.execution.core.file.dynamic.FileServerCommandFactory.connectSocketChannel",
            "source": "FileServerCommandFactory.java:269"
          },
          {
            "method": "org.eclipse.hyades.internal.execution.core.file.dynamic.FileServerCommandFactory.createPutFileCommand",
            "source": "FileServerCommandFactory.java:523"
          },
          {
            "method": "org.eclipse.hyades.execution.local.file.FileManagerExtendedImpl.putFile",
            "source": "FileManagerExtendedImpl.java:930"
          },
          {
            "method": "org.eclipse.hyades.execution.local.file.FileManagerExtendedImpl.putFile",
            "source": "FileManagerExtendedImpl.java:994"
          },
          {
            "method": "org.eclipse.hyades.execution.local.file.FileManagerExtendedImpl.putFile",
            "source": "FileManagerExtendedImpl.java:962"
          },
          {
            "method": "org.eclipse.hyades.execution.local.file.FileManagerExtendedImpl.putFile",
            "source": "FileManagerExtendedImpl.java:947"
          },
          {
            "method": "org.eclipse.hyades.execution.harness.JavaExecutionDeploymentAdapter.deployFile",
            "source": "JavaExecutionDeploymentAdapter.java:427"
          }
        ],
        "causedBy": {
          "exceptionType": "java.lang.NullPointerException",
          "elements": [
            {
              "method": "org.eclipse.hyades.internal.execution.local.control.SecureConnectionImpl.connect",
              "source": "SecureConnectionImpl.java:60"
            },
            {
              "method": "org.eclipse.hyades.internal.execution.local.control.SecureConnectionImpl.create",
              "source": "SecureConnectionImpl.java:207"
            },
            {
              "method": "org.eclipse.hyades.internal.execution.core.file.dynamic.FileServerCommandFactory.connectSocketChannel",
              "source": "FileServerCommandFactory.java:300"
            }
          ],
          "number": 0,
          "commentIndex": 0
        },
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 6,
      "bugId": "136426",
      "date": "2006-05-12T18:47:15+02:00",
      "product": "TPTP Agent Controller",
      "component": "Platform.Communication",
      "severity": "critical"
    }
  ],
  "groupId": "136426",
  "bugId": "136426",
  "date": "2006-04-12T20:59:03+02:00",
  "product": "TPTP Agent Controller",
  "component": "Platform.Communication",
  "severity": "critical"
}