{
  "comments": [
    "The problem occurs when the CVS decorator is active and there are some \nnon-trivial projects that are loaded from CVS. \n\nWhen I close and then re-open all projects, I sometimes (!) get several hundred \nexceptions logged in the platform\u0027s .log file.  The exceptions are: \n\n1) ResourceException(\"Path to a project\u0027s index store\")\n   RepositoryProvider not registered as a nature id: \norg.eclipse.team.cvs.core.cvsnature\n2) IndexedStoreException: The indexed store is already opened. \n   Could not open index store: \"Path to a project\u0027s index store\"\n\nThe second exception is actually repeated for every project I was trying to \nopen.  Also, the first exception is actually a follow-up of the second \nexception.  \n\nAlso, the stack trace reveals that the exception originates in \n\"CVSDecorationRunnable.decorate\".  Sorry, I don\u0027t have a stack trace \navailable... :-(\n\nThis \"bug\" is not easy to reproduce.  I sometimes had to stress the platform by \nclosing, opening, closing, opening, ... the projects many times. \n\nIf you need more info, please let me know. \n\n--- Witold",
    "Meanwhile, I managed to reproduce the bug on the machine I am writing this \ncomment...:-)  Here it is: \n\nIndexedStoreException: The indexed store is already opened. \nat org.eclipse.core.internal.indexing.IndexedStore.open(IndexedStore.java:335)\nat \norg.eclipse.core.internal.properties.IndexedStoreWrapper.open(IndexedStoreWrappe\nr.java:38)\nat \norg.eclipse.core.internal.properties.IndexedStoreWrapper.create(IndexedStoreWrap\nper.java:92)\nat \norg.eclipse.core.internal.properties.IndexedStoreWrapper.getIndex(IndexedStoreWr\napper.java(Compiled Code))\nat \norg.eclipse.core.internal.properties.IndexedStoreWrapper.getIndex(IndexedStoreWr\napper.java(Compiled Code))\nat \norg.eclipse.core.internal.properties.IndexedStoreWrapper.getCursor(IndexedStoreW\nrapper.java(Compiled Code))\nat \norg.eclipse.core.internal.properties.PropertyStore.recordsMatching(PropertyStore\n.java(Compiled Code))\nat \norg.eclipse.core.internal.properties.PropertyManager.getProperty(PropertyManager\n.java(Compiled Code))\nat \norg.eclipse.core.internal.properties.PropertyManager.getProperty(PropertyManager\n.java(Compiled Code))\nat \norg.eclipse.core.internal.resources.Resource.getPersistentProperty(Resource.java\n(Compiled Code))\nat \norg.eclipse.team.core.RepositoryProvider.getProvider(RepositoryProvider.java(Com\npiled Code))\nat \norg.eclipse.team.internal.ccvs.ui.CVSDecorator.resourceStateChanged(CVSDecorator\n.java(Compiled Code))\nat \norg.eclipse.team.internal.ccvs.ui.CVSDecorator.resourceStateChanged(CVSDecorator\n.java(Compiled Code))\nat \norg.eclipse.team.internal.ccvs.core.CVSProviderPlugin$2.run(CVSProviderPlugin.ja\nva(Compiled Code))\nat \norg.eclipse.team.internal.ccvs.core.CVSProviderPlugin.broadcastResourceStateChan\nges(CVSProviderPlugin.java(Compiled Code))\nat \norg.eclipse.team.internal.ccvs.core.CVSProviderPlugin.broadcastResourceStateChan\nges(CVSProviderPlugin.java(Compiled Code))\nat \norg.eclipse.team.internal.ccvs.core.CVSProviderPlugin.broadcastResourceStateChan\nges(CVSProviderPlugin.java(Compiled Code))\nat \norg.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.syncFilesChang\ned(EclipseSynchronizer.java:410)\nat \norg.eclipse.team.internal.ccvs.core.util.SyncFileChangeListener.resourceChanged(\nSyncFileChangeListener.java:120)\nat \norg.eclipse.core.internal.events.NotificationManager$1.run(NotificationManager.j\nava(Compiled Code))\nat \norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java(Com\npiled Code))\nat \norg.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.\njava(Compiled Code))\nat \norg.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.\njava(Compiled Code))\nat \norg.eclipse.core.internal.events.NotificationManager.broadcastChanges(Notificati\nonManager.java:67)\nat \norg.eclipse.core.internal.resources.Workspace.broadcastChanges(Workspace.java:13\n3)\nat \norg.eclipse.core.internal.resources.Workspace.endOperation(Workspace.java(Compil\ned Code))\nat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1383)\nat \norg.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.jav\na:78)\nat \norg.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.jav\na:98)\n\n\n--- Witold",
    "I\u0027ve added John to the CC list as the exception is coming from Core.\n\nWitold, just to confirm, are you using Eclipse version 2.0.2?",
    "I am using IBM WSAD 5.0.0 Build-ID 20021125_2118 as well as WSWB 2.0.2, but I \ndon\u0027t know the build-id. :-( \n\nSince WSAD 5.0.0 is based on Eclipse 2.0.0 while WSWB 2.0.2 is based on Eclipse \n2.0.2, the bug seems to appear in both versions (I would also assume it appears \nalso in Eclipse 2.0.1). \n\nTo me it seems as if the platform is in a racing condition, where the CVS \ndecorator thread is accessing information some other thread is trying to grab as \nwell.  (I think it has something to do with the CVS decorator being run in the \nmain thread.  But I am not sure about it...)\n\n--- Witold",
    "Looks like a core issue",
    "\n\n*** This bug has been marked as a duplicate of 27272 ***"
  ],
  "commentCreationDates": [
    "2004-01-12T10:54:35+01:00",
    "2004-01-12T16:33:02+01:00",
    "2004-01-12T16:56:27+01:00",
    "2004-01-12T17:53:50+01:00",
    "2004-01-19T20:29:27+01:00",
    "2004-03-25T22:11:20+01:00"
  ],
  "traces": [
    {
      "exceptionType": "IndexedStoreException",
      "message": "The indexed store is already opened.",
      "elements": [
        {
          "method": "org.eclipse.core.internal.indexing.IndexedStore.open",
          "source": "IndexedStore.java:335"
        },
        {
          "method": "org.eclipse.core.internal.properties.IndexedStoreWrapper.open",
          "source": "IndexedStoreWrappe r.java:38"
        },
        {
          "method": "org.eclipse.core.internal.properties.IndexedStoreWrapper.create",
          "source": "IndexedStoreWrap per.java:92"
        },
        {
          "method": "org.eclipse.core.internal.properties.IndexedStoreWrapper.getIndex",
          "source": "IndexedStoreWr apper.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.core.internal.properties.IndexedStoreWrapper.getIndex",
          "source": "IndexedStoreWr apper.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.core.internal.properties.IndexedStoreWrapper.getCursor",
          "source": "IndexedStoreW rapper.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.core.internal.properties.PropertyStore.recordsMatching",
          "source": "PropertyStore .java(Compiled Code)"
        },
        {
          "method": "org.eclipse.core.internal.properties.PropertyManager.getProperty",
          "source": "PropertyManager .java(Compiled Code)"
        },
        {
          "method": "org.eclipse.core.internal.properties.PropertyManager.getProperty",
          "source": "PropertyManager .java(Compiled Code)"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource.getPersistentProperty",
          "source": "Resource.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.team.core.RepositoryProvider.getProvider",
          "source": "RepositoryProvider.java(Com piled Code)"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.CVSDecorator.resourceStateChanged",
          "source": "CVSDecorator .java(Compiled Code)"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.CVSDecorator.resourceStateChanged",
          "source": "CVSDecorator .java(Compiled Code)"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.CVSProviderPlugin$2.run",
          "source": "CVSProviderPlugin.ja va(Compiled Code)"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.CVSProviderPlugin.broadcastResourceStateChanges",
          "source": "CVSProviderPlugin.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.CVSProviderPlugin.broadcastResourceStateChanges",
          "source": "CVSProviderPlugin.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.CVSProviderPlugin.broadcastResourceStateChanges",
          "source": "CVSProviderPlugin.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.syncFilesChanged",
          "source": "EclipseSynchronizer.java:410"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.util.SyncFileChangeListener.resourceChanged",
          "source": " SyncFileChangeListener.java:120"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager$1.run",
          "source": "NotificationManager.j ava(Compiled Code)"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java(Com piled Code)"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.notify",
          "source": "NotificationManager. java(Compiled Code)"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.notify",
          "source": "NotificationManager. java(Compiled Code)"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.broadcastChanges",
          "source": "Notificati onManager.java:67"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.broadcastChanges",
          "source": "Workspace.java:13 3"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.endOperation",
          "source": "Workspace.java(Compil ed Code)"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1383"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation.run",
          "source": "WorkspaceModifyOperation.jav a:78"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.jav a:98"
        }
      ],
      "number": 0,
      "commentIndex": 1,
      "bugId": "49842",
      "duplicateId": "27272",
      "date": "2004-01-12T16:33:02+01:00",
      "product": "Platform",
      "component": "Resources",
      "severity": "normal"
    }
  ],
  "groupId": "27272",
  "bugId": "49842",
  "duplicateId": "27272",
  "date": "2004-01-12T10:54:35+01:00",
  "product": "Platform",
  "component": "Resources",
  "severity": "normal"
}