{
  "comments": [
    "steps to reproduce:\n\n   - use the attached report\n   - runandrender it in multiple threads using some load test tool\n\nactual behavior:\n\n   - following exception was thrown out in tomcat console randomly\n\nSEVERE: Fail to create file C:\\xiangli\\jakarta-tomcat-5.5.7\\temp\\8942489\\Custome\nr Cubeobj.\norg.eclipse.birt.data.engine.core.DataException: Fail to create file C:\\xiangli\\\njakarta-tomcat-5.5.7\\temp\\8942489\\Customer Cubeobj.\n        at org.eclipse.birt.report.data.adapter.impl.DataRequestSessionImpl.defi\nneCube(DataRequestSessionImpl.java:484)\n        at org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.prepare(Ab\nstractDataEngine.java:124)\n        at org.eclipse.birt.report.engine.executor.ReportExecutor.execute(Report\nExecutor.java:94)\n        at org.eclipse.birt.report.engine.internal.executor.wrap.WrappedReportEx\necutor.execute(WrappedReportExecutor.java:59)\n        at org.eclipse.birt.report.engine.internal.executor.dup.SuppressDuplciat\neReportExecutor.execute(SuppressDuplciateReportExecutor.java:50)\n        at org.eclipse.birt.report.engine.internal.executor.wrap.WrappedReportEx\necutor.execute(WrappedReportExecutor.java:59)\n        at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.doRun(RunAnd\nRenderTask.java:146)\n        at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run(RunAndRe\nnderTask.java:71)\n        at org.eclipse.birt.report.service.ReportEngineService.runAndRenderRepor\nt(Unknown Source)\n        at org.eclipse.birt.report.service.ReportEngineService.runAndRenderRepor\nt(Unknown Source)\n        at org.eclipse.birt.report.service.BirtViewerReportService.runAndRenderR\neport(Unknown Source)\n        at org.eclipse.birt.report.service.actionhandler.BirtGetPageAllActionHan\ndler.__execute(Unknown Source)\n        at org.eclipse.birt.report.service.actionhandler.AbstractBaseActionHandl\ner.execute(Unknown Source)\n        at org.eclipse.birt.report.soapengine.processor.AbstractBaseDocumentProc\nessor.__executeAction(Unknown Source)\n        at org.eclipse.birt.report.soapengine.processor.AbstractBaseComponentPro\ncessor.executeAction(Unknown Source)\n        at org.eclipse.birt.report.soapengine.processor.BirtDocumentProcessor.ha\nndleGetPageAll(Unknown Source)\n        at sun.reflect.GeneratedMethodAccessor296.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:585)\n        at org.eclipse.birt.report.soapengine.processor.AbstractBaseComponentPro\ncessor.process(Unknown Source)\n        at org.eclipse.birt.report.soapengine.endpoint.BirtSoapBindingImpl.getUp\ndatedObjects(Unknown Source)\n        at sun.reflect.GeneratedMethodAccessor74.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:585)\n        at org.apache.axis.providers.java.RPCProvider.invokeMethod(RPCProvider.j\nava:397)\n        at org.apache.axis.providers.java.RPCProvider.processMessage(RPCProvider\n.java:186)\n        at org.apache.axis.providers.java.JavaProvider.invoke(JavaProvider.java:\n323)\n        at org.apache.axis.strategies.InvocationStrategy.visit(InvocationStrateg\ny.java:32)\n        at org.apache.axis.SimpleChain.doVisiting(SimpleChain.java:118)\n        at org.apache.axis.SimpleChain.invoke(SimpleChain.java:83)\n        at org.apache.axis.handlers.soap.SOAPService.invoke(SOAPService.java:453\n)\n        at org.apache.axis.server.AxisServer.invoke(AxisServer.java:281)\n        at org.apache.axis.transport.http.AxisServlet.doPost(AxisServlet.java:69\n9)\n        at org.eclipse.birt.report.servlet.BirtSoapMessageDispatcherServlet.doPo\nst(Unknown Source)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:709)\n        at org.apache.axis.transport.http.AxisServletBase.service(AxisServletBas\ne.java:327)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(Appl\nicationFilterChain.java:252)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationF\nilterChain.java:173)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperV\nalve.java:214)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextV\nalve.java:178)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.j\nava:126)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.j\nava:105)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineVal\nve.java:107)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.jav\na:148)\n        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java\n:825)\n        at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.proce\nssConnection(Http11Protocol.java:738)\n        at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpo\nint.java:526)\n        at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFol\nlowerWorkerThread.java:80)\n        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadP\nool.java:684)\n        at java.lang.Thread.run(Thread.java:595)\nJun 9, 2007 7:29:28 PM org.eclipse.birt.report.engine.data.dte.DteDataEngine doExecuteCube",
    "Created an attachment (id\u003d70969)\nreport design\n\n",
    "Created an attachment (id\u003d70970)\nreport design\n\n",
    "Need to make creation of cube thread-safe.",
    "note that when using fairly simple xtab report, it can be reproduced easily",
    "(In reply to comment #3)\n\u003e Need to make creation of cube thread-safe.\n\nIs there any global data structure, object shared by different cube creation threads?  What are they?  Is it just the cube temp file name creation that needs to be syncronized?\n\n",
    "After investigation we found that the version of BIRT that is used to produce the problem is of Jun 1st build. However in Jun 10th build we already fixed the multithread problem. The bug described here is not reproduce-able in latest build. The latest performance test report also prove this.\n\nMark the bug as fixed.",
    "Verified, 20070806"
  ],
  "commentCreationDates": [
    "2007-06-12T10:27:01+02:00",
    "2007-06-12T10:27:30+02:00",
    "2007-06-12T10:27:46+02:00",
    "2007-06-12T11:42:27+02:00",
    "2007-06-13T03:07:32+02:00",
    "2007-06-13T08:42:40+02:00",
    "2007-08-09T03:43:43+02:00",
    "2007-08-09T05:02:15+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.birt.data.engine.core.DataException",
      "message": "Fail to create file C:\\xiangli\\ jakarta-tomcat-5.5.7\\temp\\8942489\\Customer Cubeobj.",
      "elements": [
        {
          "method": "org.eclipse.birt.report.data.adapter.impl.DataRequestSessionImpl.defineCube",
          "source": "DataRequestSessionImpl.java:484"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.prepare",
          "source": "Ab stractDataEngine.java:124"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.ReportExecutor.execute",
          "source": "Report Executor.java:94"
        },
        {
          "method": "org.eclipse.birt.report.engine.internal.executor.wrap.WrappedReportExecutor.execute",
          "source": "WrappedReportExecutor.java:59"
        },
        {
          "method": "org.eclipse.birt.report.engine.internal.executor.dup.SuppressDuplciateReportExecutor.execute",
          "source": "SuppressDuplciateReportExecutor.java:50"
        },
        {
          "method": "org.eclipse.birt.report.engine.internal.executor.wrap.WrappedReportExecutor.execute",
          "source": "WrappedReportExecutor.java:59"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.doRun",
          "source": "RunAnd RenderTask.java:146"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run",
          "source": "RunAndRe nderTask.java:71"
        },
        {
          "method": "org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.service.BirtViewerReportService.runAndRenderReport",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.service.actionhandler.BirtGetPageAllActionHandler.__execute",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.service.actionhandler.AbstractBaseActionHandler.execute",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.soapengine.processor.AbstractBaseDocumentProcessor.__executeAction",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.soapengine.processor.AbstractBaseComponentProcessor.executeAction",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.soapengine.processor.BirtDocumentProcessor.handleGetPageAll",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.GeneratedMethodAccessor296.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAcces sorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.birt.report.soapengine.processor.AbstractBaseComponentProcessor.process",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.birt.report.soapengine.endpoint.BirtSoapBindingImpl.getUpdatedObjects",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.GeneratedMethodAccessor74.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAcces sorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.apache.axis.providers.java.RPCProvider.invokeMethod",
          "source": "RPCProvider.j ava:397"
        },
        {
          "method": "org.apache.axis.providers.java.RPCProvider.processMessage",
          "source": "RPCProvider .java:186"
        },
        {
          "method": "org.apache.axis.providers.java.JavaProvider.invoke",
          "source": "JavaProvider.java: 323"
        },
        {
          "method": "org.apache.axis.strategies.InvocationStrategy.visit",
          "source": "InvocationStrateg y.java:32"
        },
        {
          "method": "org.apache.axis.SimpleChain.doVisiting",
          "source": "SimpleChain.java:118"
        },
        {
          "method": "org.apache.axis.SimpleChain.invoke",
          "source": "SimpleChain.java:83"
        },
        {
          "method": "org.apache.axis.handlers.soap.SOAPService.invoke",
          "source": "SOAPService.java:453 "
        },
        {
          "method": "org.apache.axis.server.AxisServer.invoke",
          "source": "AxisServer.java:281"
        },
        {
          "method": "org.apache.axis.transport.http.AxisServlet.doPost",
          "source": "AxisServlet.java:69 9"
        },
        {
          "method": "org.eclipse.birt.report.servlet.BirtSoapMessageDispatcherServlet.doPost",
          "source": "Unknown Source"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:709"
        },
        {
          "method": "org.apache.axis.transport.http.AxisServletBase.service",
          "source": "AxisServletBas e.java:327"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:802"
        },
        {
          "method": "org.apache.catalina.core.ApplicationFilterChain.internalDoFilter",
          "source": "Appl icationFilterChain.java:252"
        },
        {
          "method": "org.apache.catalina.core.ApplicationFilterChain.doFilter",
          "source": "ApplicationF ilterChain.java:173"
        },
        {
          "method": "org.apache.catalina.core.StandardWrapperValve.invoke",
          "source": "StandardWrapperV alve.java:214"
        },
        {
          "method": "org.apache.catalina.core.StandardContextValve.invoke",
          "source": "StandardContextV alve.java:178"
        },
        {
          "method": "org.apache.catalina.core.StandardHostValve.invoke",
          "source": "StandardHostValve.j ava:126"
        },
        {
          "method": "org.apache.catalina.valves.ErrorReportValve.invoke",
          "source": "ErrorReportValve.j ava:105"
        },
        {
          "method": "org.apache.catalina.core.StandardEngineValve.invoke",
          "source": "StandardEngineVal ve.java:107"
        },
        {
          "method": "org.apache.catalina.connector.CoyoteAdapter.service",
          "source": "CoyoteAdapter.jav a:148"
        },
        {
          "method": "org.apache.coyote.http11.Http11Processor.process",
          "source": "Http11Processor.java :825"
        },
        {
          "method": "org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection",
          "source": "Http11Protocol.java:738"
        },
        {
          "method": "org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket",
          "source": "PoolTcpEndpo int.java:526"
        },
        {
          "method": "org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt",
          "source": "LeaderFol lowerWorkerThread.java:80"
        },
        {
          "method": "org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run",
          "source": "ThreadP ool.java:684"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:595"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "192114",
      "date": "2007-06-12T10:27:01+02:00",
      "product": "BIRT",
      "component": "Data",
      "severity": "normal"
    }
  ],
  "groupId": "192114",
  "bugId": "192114",
  "date": "2007-06-12T10:27:01+02:00",
  "product": "BIRT",
  "component": "Data",
  "severity": "normal"
}