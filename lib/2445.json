{
  "comments": [
    "If you bookmark a .class file (which has no visible contents) and then double click on the \nbookmark from the bookmarks view you get a Class Cast Exception\n\nSTEPS\n1) Open a .class file (one of the ones in rt.jar is fine)\n2) Select Add a Bookmark\n3) Open the Bookmarks view\n4) Double click on the bookmark\n\n\n4 org.eclipse.ui 0 org.eclipse.core.internal.resources.Project\njava.lang.ClassCastException: org.eclipse.core.internal.resources.Project\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:968)\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:959)\n\tat org.eclipse.ui.views.bookmarkexplorer.OpenBookmarkAction.run(OpenBookmarkAction.java:30)\n\tat org.eclipse.ui.views.bookmarkexplorer.BookmarkNavigator$2.doubleClick(BookmarkNavigator.java:109)\n\tat org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick(StructuredViewer.java:269)\n\tat org.eclipse.jface.viewers.StructuredViewer.handleDoubleSelect(StructuredViewer.java:409)\n\tat org.eclipse.jface.viewers.AbstractTreeViewer$1.widgetDefaultSelected(AbstractTreeViewer.java:626)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:622)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:963)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:637)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:620)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:815)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:285)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:126)\n\tat org.eclipse.core.launcher.Main.run(Main.java:408)\n\tat org.eclipse.core.launcher.Main.main(Main.java:281)\n\n\n\nNOTES:\n\nDS (6/12/01 12:01:36 PM)\n\tHere is the offending code ..\n\n\tpublic IEditorPart openEditor(IMarker marker, boolean activate) \n\t\tthrows PartInitException \n\t{\n\t\t// Get the resource.\n\t\tIFile file \u003d (IFile)marker.getResource();\t\t\u003c------ according to exception\n\t\t..\n\t}\n\n\tProblem 1: I suspect this exception occurs because the result of getResource is an\n\tIProject, not an IFile.\n\n\tThe marker target is a class file in an external jar.  There is no underlying resource for the \n\tclass file, so I would guess that the java team is hanging the marker on the project itself.  \n\tThus, getResource returns an IProject rather than an IFile.  \n\n\tIf the getResource result is not an IFile there is no way for the workbench to \n\tdetermine the editor input.  IMarker does not provide API to support the scenario.\n\n\tSolution: check type of getResource result.  If not IFile show error dialog and return.\n\n\tProblem 2: The marker shouldn\u0027t even exist.  As stated above, IMarker doesn\u0027t provide\n\tAPI to get the real marker target.  Our own AddBookmarkAction does not support the\n\tcreation of bookmarks on non-IFiles, so the java team must be defining another \n\tbookmark action to bookmark class files.  This is an error.  The packages view \n\tshould not allow bookmarking on class files.\n\nEG (6/12/2001 7:09:23 AM)\n\tthe real problem is described here 1G8SCA9: ITPUI:ALL - Cannot open breakpoint on external jar \n\tThis problem will not be fixable so we have to investigate in workarounds.\n\tChanging the Add book mark action in the packages view is no problem. However, it isn\u0027t\n\tenough we can also create book marks in the Class File editor. \n\tTasks will have the same problem, need to verify.\n\nARCH (6/12/01 3:21:05 PM)\n\tDefer - Erich is doing separate workaround fix.",
    "PRODUCT VERSION: 122\n\n\n",
    "Add Bookmark is now disabled for entries with no text."
  ],
  "commentCreationDates": [
    "2001-10-11T04:36:32+02:00",
    "2001-10-29T23:28:30+01:00",
    "2002-01-22T15:03:09+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.core.internal.resources.Project",
      "elements": [
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:968"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:959"
        },
        {
          "method": "org.eclipse.ui.views.bookmarkexplorer.OpenBookmarkAction.run",
          "source": "OpenBookmarkAction.java:30"
        },
        {
          "method": "org.eclipse.ui.views.bookmarkexplorer.BookmarkNavigator$2.doubleClick",
          "source": "BookmarkNavigator.java:109"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick",
          "source": "StructuredViewer.java:269"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleDoubleSelect",
          "source": "StructuredViewer.java:409"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$1.widgetDefaultSelected",
          "source": "AbstractTreeViewer.java:626"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:90"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:622"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:963"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:637"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:620"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:815"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:285"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:126"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:408"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:281"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "2445",
      "date": "2001-10-11T04:36:32+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "2445",
  "bugId": "2445",
  "date": "2001-10-11T04:36:32+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}