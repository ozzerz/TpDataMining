{
  "comments": [
    "When the destination directory is not specified, it can be null and if the\nverbose mode is true, it leads to a NPE.\n\nThis is a problem for SWT custom script.\n\nWith M7, it leads to:\njava.lang.NullPointerException\n        at\norg.eclipse.jdt.core.JDTCompilerAdapter.setupJavacCommand(JDTCompilerAdapter.java:303)\n        at\norg.eclipse.jdt.core.JDTCompilerAdapter.execute(JDTCompilerAdapter.java:56)\n        at org.apache.tools.ant.taskdefs.Javac.compile(Javac.java:931)\n        at org.apache.tools.ant.taskdefs.Javac.execute(Javac.java:757)\n        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)\n        at org.apache.tools.ant.Task.perform(Task.java:364)\n        at org.apache.tools.ant.Target.execute(Target.java:341)\n        at org.apache.tools.ant.Target.performTasks(Target.java:369)\n        at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)\n        at\norg.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:37)",
    "Would be a candidate for RC2.",
    "Created an attachment (id\u003d22107)\nApply on HEAD on JDTCompilerAdapter class\n\nIf the destination directory is not specified, it creates a file called\ntemp.log in the user.dir directory whatever \"user.dir\" can be.",
    "Created an attachment (id\u003d22134)\ncustom build script for org.eclipse.swt.win32.wce_ppc.arm\n\nChanged build script to specify destdir.\n\nAttaching the original build script (without destDir)",
    "Thanks Veronika, the build succeeds with the change to your script.",
    "+1 for RC2",
    "Fixed and released in HEAD.\nTo verify, use an ant script in which the destination directory is not specified\nfor the javac ant task.\n\nFor example,\n\n\u003c?xml version\u003d\"1.0\" encoding\u003d\"UTF-8\"?\u003e\n\u003cproject name\u003d\"compile\" default\u003d\"main\" basedir\u003d\"../.\"\u003e\n\t\u003cproperty name\u003d\"build.compiler\" value\u003d\"org.eclipse.jdt.core.JDTCompilerAdapter\"/\u003e\n\t\u003cproperty name\u003d\"temp.folder\" value\u003d\"d:/tests_sources\"/\u003e\n\n\t\u003ctarget name\u003d\"main\"\u003e\n\t\t\u003cjavac srcdir\u003d\"${temp.folder}/temp.bin\" nowarn\u003d\"on\" deprecation\u003d\"off\"\ndebug\u003d\"on\" verbose\u003d\"on\"/\u003e\n\t\u003c/target\u003e\n\u003c/project\u003e\n\n\nPlease update the properties.\n\nYou would then end up with:\n\nBuildfile: D:\\eclipse\\workspaces\\test97744\\P\\scripts\\build.xml\n\nmain:\n       [javac] Compiling 2 source files\n       [javac] -noExit -classpath\nD:\\jdks\\jdk1.5.0_03\\jre\\lib\\ext\\dnsns.jar;D:\\jdks\\jdk1.5.0_03\\jre\\lib\\ext\\localedata.jar;D:\\jdks\\jdk1.5.0_03\\jre\\lib\\ext\\sunjce_provider.jar;D:\\jdks\\jdk1.5.0_03\\jre\\lib\\ext\\sunpkcs11.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-antlr.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-apache-bcel.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-apache-bsf.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-apache-log4j.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-apache-oro.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-apache-regexp.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-apache-resolver.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-commons-logging.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-commons-net.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-icontract.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-jai.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-javamail.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-jdepend.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-jmf.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-jsch.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-junit.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-launcher.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-netrexx.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-nodeps.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-starteam.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-stylebook.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-swing.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-trax.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-vaj.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-weblogic.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-xalan1.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.apache.ant_1.6.4\\lib\\ant-xslp.jar;D:\\jdks\\jdk1.5.0_03\\lib\\tools.jar;D:\\eclipse\\3.1RC1\\eclipse\\configuration\\org.eclipse.osgi\\bundles\\9\\1\\.cp\\ant_tasks\\pde-ant.jar;D:\\eclipse\\3.1RC1\\eclipse\\plugins\\org.eclipse.pde.build_3.1.0\\lib\\pdebuild-ant.jar;D:\\eclipse\\3.1RC1\\eclipse\\configuration\\org.eclipse.osgi\\bundles\\74\\1\\.cp\\ant_tasks\\helpbase-ant.jar;D:\\eclipse\\3.1RC1\\eclipse\\configuration\\org.eclipse.osgi\\bundles\\81\\1\\.cp\\ant_tasks\\resources-ant.jar;D:\\eclipse\\3.1RC1\\eclipse\\configuration\\org.eclipse.osgi\\bundles\\87\\1\\.cp\\pdeuiant.jar;D:\\eclipse\\3.1RC1\\eclipse\\configuration\\org.eclipse.osgi\\bundles\\91\\1\\.cp\\jdtCompilerAdapter.jar;D:\\eclipse\\3.1RC1\\eclipse\\configuration\\org.eclipse.osgi\\bundles\\13\\1\\.cp\\lib\\antsupportlib.jar;D:\\eclipse\\3.1RC1\\eclipse\\configuration\\org.eclipse.osgi\\bundles\\29\\1\\.cp\\lib\\antrunner.jar;D:\\eclipse\\3.1RC1\\eclipse\\configuration\\org.eclipse.osgi\\bundles\\29\\1\\.cp\\lib\\remoteAnt.jar;D:\\jdks\\jdk1.5.0_03\\jre\\lib\\rt.jar;D:\\jdks\\jdk1.5.0_03\\jre\\lib\\jce.jar;D:\\jdks\\jdk1.5.0_03\\jre\\lib\\jsse.jar;D:\\tests_sources\\temp.bin\nD:\\tests_sources\\temp.bin\\Y.java D:\\tests_sources\\temp.bin\\p\\X.java\n       [javac] ----------\n       [javac] 1. ERROR in D:\\tests_sources\\temp.bin\\p\\X.java\n       [javac]  (at line 4)\n       [javac] \tSystem.out.println(\"Hello World\")\n       [javac] \t                                ^\n       [javac] Syntax error, insert \";\" to complete BlockStatements\n       [javac] ----------\n       [javac] 1 problem (1 error)\n\nBUILD FAILED\nD:\\eclipse\\workspaces\\test97744\\P\\scripts\\build.xml:7: Compile failed; see the\ncompiler error output for details.\n\nTotal time: 2 seconds\n\nNo log is created, but you can still get the errors in the ant console.\n\nIf a destination dir is specified, you end up with:\n       [javac] ----------\n       [javac] 1. ERROR in D:\\tests_sources\\temp.bin\\p\\X.java\n       [javac]  (at line 4)\n       [javac] \tSystem.out.println(\"Hello World\")\n       [javac] \t                                ^\n       [javac] Syntax error, insert \";\" to complete BlockStatements\n       [javac] ----------\n       [javac] 1 problem (1 error)\n       [javac] Compilation failed. Compiler errors are available in\nD:\\tests_sources\\temp.bin.log",
    "Verified for 3.1 RC2 using build N20050607-0010 + JDT/Core HEAD",
    "Verified for 3.1 RC2 using build I20050610-0010"
  ],
  "commentCreationDates": [
    "2005-05-31T23:17:31+02:00",
    "2005-05-31T23:17:58+02:00",
    "2005-05-31T23:28:29+02:00",
    "2005-06-01T15:32:53+02:00",
    "2005-06-01T15:52:26+02:00",
    "2005-06-01T18:06:09+02:00",
    "2005-06-01T20:32:57+02:00",
    "2005-06-07T19:27:46+02:00",
    "2005-06-10T15:40:32+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.core.JDTCompilerAdapter.setupJavacCommand",
          "source": "JDTCompilerAdapter.java:303"
        },
        {
          "method": "org.eclipse.jdt.core.JDTCompilerAdapter.execute",
          "source": "JDTCompilerAdapter.java:56"
        },
        {
          "method": "org.apache.tools.ant.taskdefs.Javac.compile",
          "source": "Javac.java:931"
        },
        {
          "method": "org.apache.tools.ant.taskdefs.Javac.execute",
          "source": "Javac.java:757"
        },
        {
          "method": "org.apache.tools.ant.UnknownElement.execute",
          "source": "UnknownElement.java:275"
        },
        {
          "method": "org.apache.tools.ant.Task.perform",
          "source": "Task.java:364"
        },
        {
          "method": "org.apache.tools.ant.Target.execute",
          "source": "Target.java:341"
        },
        {
          "method": "org.apache.tools.ant.Target.performTasks",
          "source": "Target.java:369"
        },
        {
          "method": "org.apache.tools.ant.Project.executeSortedTargets",
          "source": "Project.java:1216"
        },
        {
          "method": "org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets",
          "source": "SingleCheckExecutor.java:37"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "97744",
      "date": "2005-05-31T23:17:31+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "97744",
  "bugId": "97744",
  "date": "2005-05-31T23:17:31+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}