{
  "comments": [
    "During implementation of custom contents for properties view (IPropertySource  \nfor specific selection) we found that eclipse crashes on GTK (Linux) in some \nspecial conditions:\n\n0. In our IPropertySource implementation we have editable text property. \n1. Open CellEditor for the editable property\n2. Change it\u0027s value\n3. Click to some other property in properties view of to the properties view \nbackground.\n\nWe found that after step 3. The following sequence of calls lead us to the \ncrash:\n1. Cell Editor receive focuslost event and start \"applyEditorValue()\" process\n2. PropertySheetEntry is trying to refresh property sheet contents \n(refreshFromRoot() method) by looking for appropriate IPropertySource and \ntrying to collect valid IPropertyDescriptors from this IPropertySource \ninstance by calling IPropertySource.getPropertyDescriptors()\n3. Eclipse crashes sometimes later if our instance of IPropertySoruce return \nempty array (IPropertyDescriptors [0]) during this call.\n\nThe same sequence works correctly on Windows.\nThe following trace present in console on setting \norg.eclipse.swt.graphics.Device.DEBUG \u003d true: \n\njava.lang.Error\n\tat org.eclipse.swt.graphics.Device.logProc(Device.java:539)\n\tat org.eclipse.swt.internal.gtk.OS.gtk_main_do_event(Native Method)\n\tat org.eclipse.swt.widgets.Display.eventProc(Display.java:635)\n\tat org.eclipse.swt.internal.gtk.OS.gtk_main_iteration(Native Method)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1638)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1402)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1385)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:858)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:291)\n\tat org.eclipse.core.launcher.Main.run(Main.java:747)\n\tat org.eclipse.core.launcher.Main.main(Main.java:583)\n\nGtk-ERROR **: file gtkrbtree.c: line 1189 (_gtk_rbtree_find_offset): assertion \nfailed: (tree)\naborting...",
    "Created an attachment (id\u003d7125)\nPlugin to reproduce this problem\n\nSteps to reproduce:\n- Unpack sample plugin to your eclipse plugins directory and restart eclipse\n- Create new java project, new class in it\n- Switch to the java perspective and show properties view on it\n- Select any compilation unit (created class in Package Explorer) -\u003e simple\ntext property appear in properties view\n- Change value of this property and click to the properties view background -\u003e\nEclipse crashes.",
    "Still happens in latest 3.0.\n",
    "Fixed \u003e 20040618."
  ],
  "commentCreationDates": [
    "2003-12-11T15:22:09+01:00",
    "2003-12-11T15:30:45+01:00",
    "2003-12-11T16:50:07+01:00",
    "2004-06-18T19:32:07+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.Error",
      "elements": [
        {
          "method": "org.eclipse.swt.graphics.Device.logProc",
          "source": "Device.java:539"
        },
        {
          "method": "org.eclipse.swt.internal.gtk.OS.gtk_main_do_event",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.eventProc",
          "source": "Display.java:635"
        },
        {
          "method": "org.eclipse.swt.internal.gtk.OS.gtk_main_iteration",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1638"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1402"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1385"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:858"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:291"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:747"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:583"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "48492",
      "date": "2003-12-11T15:22:09+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    }
  ],
  "groupId": "48492",
  "bugId": "48492",
  "date": "2003-12-11T15:22:09+01:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "normal"
}