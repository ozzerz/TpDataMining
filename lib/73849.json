{
  "comments": [
    "Hi,\n\n\ni\u0027m testing apache log parser with huge logfiles. After an amount between 20000\nand 40000 log entries in the access log file the SAX parser thread stops\nreading. The thread is still running but it didn\u0027t work in a correct manner and\nno error is written or logged. \n\nUsing an own log parser plug-in implementation, i determined the same behavior\nof the SAX parser thread. \n\nIt looks like it runs into a resource bottelneck. Not out of memory but static\narrays maybe exhausted because the thread always stops at the same entry if\nreading the same log file. Mostly it reads all log entries up to a certain\namount and one or two entries a few entries afterwards.\n\nThe behavior is always the same when using the same logfile there for i think\nit\u0027s no race condition.\n\nIt can\u0027t be an error in the log file entry because i tried log files with one\nentry cloned a thousands of times.\n\n\nWhich you much fun searching this error ;-)\n\n\nHolger",
    "Please attach the entry that you cloned and specify how may times did you cloned\nin order to reproduce the problem.\n\nIs the SAX parser thread the same as xmlParserThread.\n\nWhat JVM are you using ?",
    "Created an attachment (id\u003d14555)\nThis is one of the log files that are not parsed correctly\n\nI used SUN JDK 1.4.2_05.\n\nI\u0027m sorry but i\u0027m in hurry until next wednesday.\nFor the other questions i have to do a little work. You will get this\ninformation next week.\n",
    "Hi again,\n\nsorry for the late answer, i\u0027ve been busy for the last days.\n\n\nI reproduced the error with this log file entry cloned 50000 times:\n\n172.25.40.10 - - [29/Aug/2004:04:03:34 +0200] \"GET / HTTP/1.0\" 200 9381\n\n\n\nWhen i import this log file with 50000 entries using the hyades http log parser,\nafter a few seconds, the xmlParserThread stops working but is still alive.\nOn my machine (see machine 1) it parses 49852 of 50000 entries.\n\n\nDoing the same on a different machine (see machine 2) the parser sometimes\nprocesses about 32714 of 50000 entries only and eclipse writes the following\nexception (stack trace) thousands of times to stdout: \n\nThread[Basic Context Implementation:StaticParserContextID1,6,main] - org.xml.sax\n.SAXParseException: Illegal character at end of document, \u0026#x3c;.\n        at org.apache.crimson.parser.Parser2.fatal(Parser2.java:3376)\n        at org.apache.crimson.parser.Parser2.fatal(Parser2.java:3370)\n        at org.apache.crimson.parser.Parser2.parseInternal(Parser2.java:673)\n        at org.apache.crimson.parser.Parser2.parse(Parser2.java:337)\n        at org.apache.crimson.parser.XMLReaderImpl.parse(XMLReaderImpl.java:448)\n        at javax.xml.parsers.SAXParser.parse(SAXParser.java:345)\n        at org.eclipse.hyades.loaders.util.SAXFragmentHandler.parse(SAXFragmentH\nandler.java)\n        at org.eclipse.hyades.loaders.util.SAXFragmentHandler$1.run(SAXFragmentH\nandler.java)\n\n\n\n\nSystem descriptions:\n--------------------\n\nMachine 1\n---------\nPC\nPentium 4 CPU 2.60GHz\ncache size      : 512 KB\nMemory:      1 GB\nOS: Linux (Debian 3.0)\nKernel: 2.4.22 (gcc version 2.95.4)\n\nMachine 2\n---------\nPC\nPentium(R) 4 CPU 2.40GHz\ncache size      : 512 KB\nMemory: 512 MB\nOS: Linux (SuSE 8.1)\nKernel: 2.4.21-203-default (gcc version 3.2.2)\n\n\nSoftware (used on both platforms):\n----------------------------------\nJava: j2sdk1.4.2_05\nHyades: 20040909 \nEclipse: M20040901 (gtk)\nEMF:     M200409011021\nXSD:     M200409011021",
    "Hi Holger,\n\nSorry for the delay in responding to you, there is a problem with Crimson\nparser, which might not be fixed in this release.\n\nIn the mean time try to use this workaround, add the following VMARG on the\nHyades workbench command line:\n\n-Djava.endorsed.dirs\u003dPATH_TO_XERCES_JARS\n\nPlease go to:\nhttp://fullmoon.torolab.ibm.com/tools/emf/scripts/downloads-xerces.php for links\nto Xerces jars.\n",
    "I was able to import (on Windows) the attached log using the latest code and I\nget 55343 events.\n\nRegarding the exception it happens because there is some invalid input data, we\nhave seen recently this problem on SUSE 8.1 when using other parsers then HTTP\naccess log.\n",
    "I will close this defect as WORKSFORME, please reopen it if you still have\nproblems. I will handle the Crimson problem in a separate defect.\n"
  ],
  "commentCreationDates": [
    "2004-09-14T09:56:43+02:00",
    "2004-09-15T16:04:02+02:00",
    "2004-09-15T17:38:28+02:00",
    "2004-09-29T17:51:26+02:00",
    "2004-11-23T19:55:40+01:00",
    "2004-11-23T20:21:43+01:00",
    "2004-12-03T20:40:26+01:00"
  ],
  "traces": [
    {
      "exceptionType": "SAXParseException",
      "message": "Illegal character at end of document, \u0026#x3c;.",
      "elements": [
        {
          "method": "org.apache.crimson.parser.Parser2.fatal",
          "source": "Parser2.java:3376"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.fatal",
          "source": "Parser2.java:3370"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.parseInternal",
          "source": "Parser2.java:673"
        },
        {
          "method": "org.apache.crimson.parser.Parser2.parse",
          "source": "Parser2.java:337"
        },
        {
          "method": "org.apache.crimson.parser.XMLReaderImpl.parse",
          "source": "XMLReaderImpl.java:448"
        },
        {
          "method": "javax.xml.parsers.SAXParser.parse",
          "source": "SAXParser.java:345"
        },
        {
          "method": "org.eclipse.hyades.loaders.util.SAXFragmentHandler.parse",
          "source": "SAXFragmentH andler.java"
        },
        {
          "method": "org.eclipse.hyades.loaders.util.SAXFragmentHandler$1.run",
          "source": "SAXFragmentH andler.java"
        }
      ],
      "number": 0,
      "commentIndex": 3,
      "bugId": "73849",
      "date": "2004-09-29T17:51:26+02:00",
      "product": "Hyades",
      "component": "Models",
      "severity": "normal"
    }
  ],
  "groupId": "73849",
  "bugId": "73849",
  "date": "2004-09-14T09:56:43+02:00",
  "product": "Hyades",
  "component": "Models",
  "severity": "normal"
}