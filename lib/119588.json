{
  "comments": [
    "Hi,\n\nI tried the WTP 1.0 RC1 with the Oracle v10.1.3 DP4 serverdefinition today and I \nalways get an error (see stacktrace below) publishing my project on a \nWindows XP machine using NTFS as file system. As the path of every \nsuccessfully copied file is shorter or equal to 255 I suppose this is caused \nby a limitation to the length of paths. In Microsofts Knowledge Base \n(http://support.microsoft.com/kb/320081/EN-US/) is stated that NTFS can hold \nfiles with longer paths the problem has to be somewhere else.\n\nAs 167 characters (1), including the project name, of the path are built by \neclipse and only 93 characters (2) are from the package structure I have no \nchance to use a shorter path.\n\n1) \nworkspace3.1\\.metadata\\.plugins\\org.eclipse.core.resources\\.projects\\italia-production-appli\\org.eclipse.jst.server.generic.serverdefinitions\\italia-production-appli\\\n2) \nWEB-INF\\classes\\tis\\appli\\servlet\\jsp\\automation\\conditions\\InvalidExpressionException.class\n\nI hope there is a solution for that\nKlaus\n\n\n!ENTRY org.eclipse.jst.server.generic.core 4 0 2005-12-06 15:42:46.515\n!MESSAGE Publish failed using Ant publisher\n!STACK 1\norg.eclipse.core.runtime.CoreException[0]: java.lang.Exception: Error \nrenaming \nD:\\workspace3.1\\.metadata\\.plugins\\org.eclipse.jst.server.core\\tmp26805class \nto \nD:\\workspace3.1\\.metadata\\.plugins\\org.eclipse.core.resources\\.projects\\italia-production-appli\\org.eclipse.jst.server.generic.serverdefinitions\\italia-production-appli\\WEB-INF\\classes\\tis\\appli\\servlet\\jsp\\automation\\conditions\\InvalidExpressionException.class\n at org.eclipse.jst.server.core.PublishUtil.copyFile(PublishUtil.java:127)\n at org.eclipse.jst.server.core.PublishUtil.copyFile(PublishUtil.java:154)\n at org.eclipse.jst.server.core.PublishUtil.smartCopy(PublishUtil.java:260)\n at org.eclipse.jst.server.core.PublishUtil.smartCopy(PublishUtil.java:266)\n at org.eclipse.jst.server.core.PublishUtil.smartCopy(PublishUtil.java:266)\n at org.eclipse.jst.server.core.PublishUtil.smartCopy(PublishUtil.java:266)\n at org.eclipse.jst.server.core.PublishUtil.smartCopy(PublishUtil.java:266)\n at org.eclipse.jst.server.core.PublishUtil.smartCopy(PublishUtil.java:266)\n at org.eclipse.jst.server.core.PublishUtil.smartCopy(PublishUtil.java:266)\n at org.eclipse.jst.server.core.PublishUtil.smartCopy(PublishUtil.java:266)\n at org.eclipse.jst.server.core.PublishUtil.smartCopy(PublishUtil.java:266)\n at \norg.eclipse.jst.server.generic.core.internal.publishers.AbstractModuleAssembler.copyModule(AbstractModuleAssembler.java:126)\n at \norg.eclipse.jst.server.generic.core.internal.publishers.WarModuleAssembler.assemble(WarModuleAssembler.java:28)\n at \norg.eclipse.jst.server.generic.core.internal.publishers.AntPublisher.assembleModule(AntPublisher.java:103)\n at \norg.eclipse.jst.server.generic.core.internal.publishers.AntPublisher.publish(AntPublisher.java:90)\n at \norg.eclipse.jst.server.generic.core.internal.GenericServerBehaviour.publishModule(GenericServerBehaviour.java:90)\n at \norg.eclipse.wst.server.core.model.ServerBehaviourDelegate.publishModule(ServerBehaviourDelegate.java:658)\n at \norg.eclipse.wst.server.core.model.ServerBehaviourDelegate.publishModules(ServerBehaviourDelegate.java:740)\n at \norg.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish(ServerBehaviourDelegate.java:596)\n at org.eclipse.wst.server.core.internal.Server.doPublish(Server.java:740)\n at org.eclipse.wst.server.core.internal.Server.publish(Server.java:729)\n at \norg.eclipse.wst.server.core.internal.PublishServerJob.run(PublishServerJob.java:145)\n at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)\n\n!SUBENTRY 1 org.eclipse.jst.server.core 4 0 2005-12-06 15:42:46.515\n!MESSAGE Error copying file to \nD:\\workspace3.1\\.metadata\\.plugins\\org.eclipse.core.resources\\.projects\\italia-production-appli\\org.eclipse.jst.server.generic.serverdefinitions\\italia-production-appli\\WEB-INF\\classes\\tis\\appli\\servlet\\jsp\\automation\\conditions\\InvalidExpressionException.class: \nError renaming \nD:\\workspace3.1\\.metadata\\.plugins\\org.eclipse.jst.server.core\\tmp26805class \nto \nD:\\workspace3.1\\.metadata\\.plugins\\org.eclipse.core.resources\\.projects\\italia-production-appli\\org.eclipse.jst.server.generic.serverdefinitions\\italia-production-appli\\WEB-INF\\classes\\tis\\appli\\servlet\\jsp\\automation\\conditions\\InvalidExpressionException.class\n!STACK 0\njava.lang.Exception: Error renaming \nD:\\workspace3.1\\.metadata\\.plugins\\org.eclipse.jst.server.core\\tmp26805class \nto \nD:\\workspace3.1\\.metadata\\.plugins\\org.eclipse.core.resources\\.projects\\italia-production-appli\\org.eclipse.jst.server.generic.serverdefinitions\\italia-production-appli\\WEB-INF\\classes\\tis\\appli\\servlet\\jsp\\automation\\conditions\\InvalidExpressionException.class\n at org.eclipse.jst.server.core.PublishUtil.copyFile(PublishUtil.java:127)\n at org.eclipse.jst.server.core.PublishUtil.copyFile(PublishUtil.java:154)\n at org.eclipse.jst.server.core.PublishUtil.smartCopy(PublishUtil.java:260)\n at org.eclipse.jst.server.core.PublishUtil.smartCopy(PublishUtil.java:266)\n at org.eclipse.jst.server.core.PublishUtil.smartCopy(PublishUtil.java:266)\n at org.eclipse.jst.server.core.PublishUtil.smartCopy(PublishUtil.java:266)\n at org.eclipse.jst.server.core.PublishUtil.smartCopy(PublishUtil.java:266)\n at org.eclipse.jst.server.core.PublishUtil.smartCopy(PublishUtil.java:266)\n at org.eclipse.jst.server.core.PublishUtil.smartCopy(PublishUtil.java:266)\n at org.eclipse.jst.server.core.PublishUtil.smartCopy(PublishUtil.java:266)\n at org.eclipse.jst.server.core.PublishUtil.smartCopy(PublishUtil.java:266)\n at \norg.eclipse.jst.server.generic.core.internal.publishers.AbstractModuleAssembler.copyModule(AbstractModuleAssembler.java:126)\n at \norg.eclipse.jst.server.generic.core.internal.publishers.WarModuleAssembler.assemble(WarModuleAssembler.java:28)\n at \norg.eclipse.jst.server.generic.core.internal.publishers.AntPublisher.assembleModule(AntPublisher.java:103)\n at \norg.eclipse.jst.server.generic.core.internal.publishers.AntPublisher.publish(AntPublisher.java:90)\n at \norg.eclipse.jst.server.generic.core.internal.GenericServerBehaviour.publishModule(GenericServerBehaviour.java:90)\n at \norg.eclipse.wst.server.core.model.ServerBehaviourDelegate.publishModule(ServerBehaviourDelegate.java:658)\n at \norg.eclipse.wst.server.core.model.ServerBehaviourDelegate.publishModules(ServerBehaviourDelegate.java:740)\n at \norg.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish(ServerBehaviourDelegate.java:596)\n at org.eclipse.wst.server.core.internal.Server.doPublish(Server.java:740)\n at org.eclipse.wst.server.core.internal.Server.publish(Server.java:729)\n at \norg.eclipse.wst.server.core.internal.PublishServerJob.run(PublishServerJob.java:145)\n at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)",
    "Which JRE are you using? Most Windows 1.4 JREs have a path length limit that is shorter than the Windows maximum. I\u0027ve heard that in some cases this is fixed in 1.5.\n\nUnless you can publish projects with shorter paths successfully, this doesn\u0027t necessarily only point to a path length issue. Renaming can also fail if the \"to\" directory doesn\u0027t exist, or a file already exists there and can\u0027t be deleted.\n\nPassing to Gorkem since this happens with the Oracle server adapter. It may help to use the server\u0027s temp directory instead (ServerBehaviourDelegate.getTempDirectory()), which has a shorter path. If this does point to a problem in the framework or PublishUtil, please feel free to pass this one back.",
    "First I used JRE 1.4.2_08 but after Tims comment I tried JRE 1.5.0_04 as well with the same result.\n\nI tried to publish another project with only one servlet inside and that worked fine. So I renamed the project from \"italia-production-appli\" to \"ipa\" to get shorter paths and now publishing works. As I might run into the same problem in  future that is not a solution.\n\nAs my first guess was that there may be something wrong with the path (e.g. not existing path or file which could not be deleted) I checked that before I filed the bug report. Maybe I should have mentioned that.\n\n",
    "*** Bug 120146 has been marked as a duplicate of this bug. ***",
    "This is in fact related to J2SE bug 618812(http://bugs.sun.com/bugdatabase/view_bug.do?bug_id\u003d6182812) which is fixed in JDK 1.5.0_06, so the workaround is to use this JDK. \nThere is no real fix other than the JDK switch for this one but I am investigating to move the assembly area to a shorter path.",
    "I tried to run Eclipse with JRE 1.5.0_06 and publishing now workes. But I would appreciate a shorter path in the future.\n\nThanks for the help.\nKlaus\n\n",
    "I can confirm that this has nothing to do with the JRE/JDK in use.\n\nThis is a limitation with Windows.  The total file path cannot exceed 255 characters with Windows (even though NTFS can).  Even outside of Eclipse, you can create a file with say 10 characters in the name.  Then try to move it into a folder that has a total file path of 250 characters and you will get an Error Message from Windows - I will attach the message as well as the Eclipse log.\n\nEven though this is an obvious limitation with Windows, not really a WTP bug, the change in \"staging area\" from 0.7.1 to 1.0 has caused this exception to occur.\n\nOne fix is to use a shorter folder path for this staging area such as \n\nworkspace/PROJECT-NAME/.deployables/MODULE-NAME\n\ninstead of\n\nworkspace/.metadata/.plugins/org.eclipse.core.resources/.projects/PROJECT-NAME/org.eclipse.jst.server.generic.serverdefinitions/MODULE-NAME\n\nThis would help minimize this error from occuring.",
    "Created an attachment (id\u003d32588)\nEclipse log file showing Exception\n\n",
    "Created an attachment (id\u003d32589)\nScreenshot showing windows error outside of Eclipse\n\n",
    "I opened the duplicate Bug 120146 based on evaluation of wtp 1.0.\n\nEven if its not a WTP problem is there some way for WTP to offer some relief by using a shorter path? It\u0027s really annoying. It\u0027s particularly problemantic when publish to IBM Websphere. Thanks. ",
    "*** Bug 121195 has been marked as a duplicate of this bug. ***",
    "a fix is released to HEAD that use a shorter path as an assembly area. Will release the fix for 1.0.1 shortly",
    "This bug was moved to \u0027closed\u0027 state, since it is so old its assumed fixed and no longer useful or need further attention. Feel free to re-open, or open a new bug, if this semi-automatic processing was done in error. ",
    "*** Bug 176376 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2005-12-07T08:40:40+01:00",
    "2005-12-07T16:36:16+01:00",
    "2005-12-07T18:41:01+01:00",
    "2005-12-17T06:36:14+01:00",
    "2005-12-17T23:23:28+01:00",
    "2005-12-20T14:21:36+01:00",
    "2006-01-06T16:08:18+01:00",
    "2006-01-06T16:17:17+01:00",
    "2006-01-06T16:19:50+01:00",
    "2006-01-06T18:21:06+01:00",
    "2006-01-21T12:02:26+01:00",
    "2006-01-21T13:04:30+01:00",
    "2006-09-25T08:56:09+02:00",
    "2007-06-24T11:44:54+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.Exception",
      "message": "Error  renaming  D:\\workspace3.1\\.metadata\\.plugins\\org.eclipse.jst.server.core\\tmp26805class  to  D:\\workspace3.1\\.metadata\\.plugins\\org.eclipse.core.resources\\.projects\\italia-production-appli\\org.eclipse.jst.server.generic.serverdefinitions\\italia-production-appli\\WEB-INF\\classes\\tis\\appli\\servlet\\jsp\\automation\\conditions\\InvalidExpressionException.class",
      "elements": [
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.copyFile",
          "source": "PublishUtil.java:127"
        },
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.copyFile",
          "source": "PublishUtil.java:154"
        },
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.smartCopy",
          "source": "PublishUtil.java:260"
        },
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.smartCopy",
          "source": "PublishUtil.java:266"
        },
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.smartCopy",
          "source": "PublishUtil.java:266"
        },
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.smartCopy",
          "source": "PublishUtil.java:266"
        },
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.smartCopy",
          "source": "PublishUtil.java:266"
        },
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.smartCopy",
          "source": "PublishUtil.java:266"
        },
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.smartCopy",
          "source": "PublishUtil.java:266"
        },
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.smartCopy",
          "source": "PublishUtil.java:266"
        },
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.smartCopy",
          "source": "PublishUtil.java:266"
        },
        {
          "method": "org.eclipse.jst.server.generic.core.internal.publishers.AbstractModuleAssembler.copyModule",
          "source": "AbstractModuleAssembler.java:126"
        },
        {
          "method": "org.eclipse.jst.server.generic.core.internal.publishers.WarModuleAssembler.assemble",
          "source": "WarModuleAssembler.java:28"
        },
        {
          "method": "org.eclipse.jst.server.generic.core.internal.publishers.AntPublisher.assembleModule",
          "source": "AntPublisher.java:103"
        },
        {
          "method": "org.eclipse.jst.server.generic.core.internal.publishers.AntPublisher.publish",
          "source": "AntPublisher.java:90"
        },
        {
          "method": "org.eclipse.jst.server.generic.core.internal.GenericServerBehaviour.publishModule",
          "source": "GenericServerBehaviour.java:90"
        },
        {
          "method": "org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publishModule",
          "source": "ServerBehaviourDelegate.java:658"
        },
        {
          "method": "org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publishModules",
          "source": "ServerBehaviourDelegate.java:740"
        },
        {
          "method": "org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish",
          "source": "ServerBehaviourDelegate.java:596"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.Server.doPublish",
          "source": "Server.java:740"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.Server.publish",
          "source": "Server.java:729"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.PublishServerJob.run",
          "source": "PublishServerJob.java:145"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:76"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "119588",
      "date": "2005-12-07T08:40:40+01:00",
      "product": "Web Tools",
      "component": "jst.server",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.Exception",
      "message": "Error renaming  D:\\workspace3.1\\.metadata\\.plugins\\org.eclipse.jst.server.core\\tmp26805class  to  D:\\workspace3.1\\.metadata\\.plugins\\org.eclipse.core.resources\\.projects\\italia-production-appli\\org.eclipse.jst.server.generic.serverdefinitions\\italia-production-appli\\WEB-INF\\classes\\tis\\appli\\servlet\\jsp\\automation\\conditions\\InvalidExpressionException.class",
      "elements": [
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.copyFile",
          "source": "PublishUtil.java:127"
        },
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.copyFile",
          "source": "PublishUtil.java:154"
        },
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.smartCopy",
          "source": "PublishUtil.java:260"
        },
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.smartCopy",
          "source": "PublishUtil.java:266"
        },
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.smartCopy",
          "source": "PublishUtil.java:266"
        },
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.smartCopy",
          "source": "PublishUtil.java:266"
        },
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.smartCopy",
          "source": "PublishUtil.java:266"
        },
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.smartCopy",
          "source": "PublishUtil.java:266"
        },
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.smartCopy",
          "source": "PublishUtil.java:266"
        },
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.smartCopy",
          "source": "PublishUtil.java:266"
        },
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.smartCopy",
          "source": "PublishUtil.java:266"
        },
        {
          "method": "org.eclipse.jst.server.generic.core.internal.publishers.AbstractModuleAssembler.copyModule",
          "source": "AbstractModuleAssembler.java:126"
        },
        {
          "method": "org.eclipse.jst.server.generic.core.internal.publishers.WarModuleAssembler.assemble",
          "source": "WarModuleAssembler.java:28"
        },
        {
          "method": "org.eclipse.jst.server.generic.core.internal.publishers.AntPublisher.assembleModule",
          "source": "AntPublisher.java:103"
        },
        {
          "method": "org.eclipse.jst.server.generic.core.internal.publishers.AntPublisher.publish",
          "source": "AntPublisher.java:90"
        },
        {
          "method": "org.eclipse.jst.server.generic.core.internal.GenericServerBehaviour.publishModule",
          "source": "GenericServerBehaviour.java:90"
        },
        {
          "method": "org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publishModule",
          "source": "ServerBehaviourDelegate.java:658"
        },
        {
          "method": "org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publishModules",
          "source": "ServerBehaviourDelegate.java:740"
        },
        {
          "method": "org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish",
          "source": "ServerBehaviourDelegate.java:596"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.Server.doPublish",
          "source": "Server.java:740"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.Server.publish",
          "source": "Server.java:729"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.PublishServerJob.run",
          "source": "PublishServerJob.java:145"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:76"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "119588",
      "date": "2005-12-07T08:40:40+01:00",
      "product": "Web Tools",
      "component": "jst.server",
      "severity": "major"
    }
  ],
  "groupId": "119588",
  "bugId": "119588",
  "date": "2005-12-07T08:40:40+01:00",
  "product": "Web Tools",
  "component": "jst.server",
  "severity": "major"
}