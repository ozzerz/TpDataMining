{
  "comments": [
    "Some, maybe all refactorings (e.g. move class) don\u0027t work with some project \nnames. For example a project name like \"Test (AB)\" causes the following stack \ntrace, if I try to move a class:\n\njava.lang.NullPointerException\nat \norg.eclipse.jdt.internal.corext.refactoring.changes.MoveCompilationUnitChange.g\netName(MoveCompilationUnitChange.java:40)\nat org.eclipse.jdt.internal.ui.refactoring.ChangeElementLabelProvider.getText\n(ChangeElementLabelProvider.java:77)\nat org.eclipse.jface.viewers.TreeViewer.doUpdateItem(TreeViewer.java:95)\nat org.eclipse.jdt.internal.ui.refactoring.ChangeElementTreeViewer.doUpdateItem\n(ChangeElementTreeViewer.java:56)\nat org.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run\n(AbstractTreeViewer.java:77)\nat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:1018)\nat org.eclipse.core.runtime.Platform.run(Platform.java:461)\nat org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem\n(AbstractTreeViewer.java:457)\nat org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run\n(StructuredViewer.java:119)\nat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:1018)\nat org.eclipse.core.runtime.Platform.run(Platform.java:461)\nat org.eclipse.jface.viewers.StructuredViewer.updateItem\n(StructuredViewer.java:1263)\nat org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem\n(AbstractTreeViewer.java:371)\nat org.eclipse.jface.viewers.AbstractTreeViewer$1.run\n(AbstractTreeViewer.java:351)\nat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)\nat org.eclipse.jface.viewers.AbstractTreeViewer.createChildren\n(AbstractTreeViewer.java:337)\nat org.eclipse.jface.viewers.AbstractTreeViewer$5.run\n(AbstractTreeViewer.java:795)\nat org.eclipse.jface.viewers.StructuredViewer.preservingSelection\n(StructuredViewer.java:796)\nat org.eclipse.jface.viewers.CheckboxTreeViewer.preservingSelection\n(CheckboxTreeViewer.java:341)\nat org.eclipse.jface.viewers.AbstractTreeViewer.inputChanged\n(AbstractTreeViewer.java:785)\nat org.eclipse.jdt.internal.ui.refactoring.ChangeElementTreeViewer.inputChanged\n(ChangeElementTreeViewer.java:50)\nat org.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:238)\nat org.eclipse.jface.viewers.StructuredViewer.setInput\n(StructuredViewer.java:983)\nat org.eclipse.jdt.internal.ui.refactoring.PreviewWizardPage.setTreeViewerInput\n(PreviewWizardPage.java:308)\nat \norg.eclipse.jdt.internal.ui.refactoring.PreviewWizardPage.createStandardPreview\nPage(PreviewWizardPage.java:233)\nat org.eclipse.jdt.internal.ui.refactoring.PreviewWizardPage.createControl\n(PreviewWizardPage.java:205)\nat \norg.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2.previewPressed\n(RefactoringWizardDialog2.java:431)\nat org.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2.access$3\n(RefactoringWizardDialog2.java:416)\nat org.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2\n$1.widgetSelected(RefactoringWizardDialog2.java:547)\nat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:847)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2173)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1863)\nat org.eclipse.jface.window.Window.runEventLoop(Window.java:583)\nat org.eclipse.jface.window.Window.open(Window.java:563)\nat org.eclipse.jdt.internal.ui.refactoring.actions.RefactoringStarter.activate\n(RefactoringStarter.java:56)\nat org.eclipse.jdt.internal.ui.refactoring.reorg.ReorgMoveStarter.run\n(ReorgMoveStarter.java:82)\nat \norg.eclipse.jdt.internal.ui.packageview.SelectionTransferDropAdapter.handleDrop\nMove(SelectionTransferDropAdapter.java:207)\nat org.eclipse.jdt.internal.ui.packageview.SelectionTransferDropAdapter.drop\n(SelectionTransferDropAdapter.java:131)\nat org.eclipse.jdt.internal.ui.dnd.JdtViewerDropAdapter.drop\n(JdtViewerDropAdapter.java:112)\nat org.eclipse.jdt.internal.ui.dnd.DelegatingDropAdapter.drop\n(DelegatingDropAdapter.java:79)\nat org.eclipse.swt.dnd.DNDListener.handleEvent(DNDListener.java:65)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:847)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:871)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:856)\nat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:664)\nat org.eclipse.swt.dnd.DropTarget.notifyListeners(DropTarget.java:507)\nat org.eclipse.swt.dnd.DropTarget.Drop(DropTarget.java:428)\nat org.eclipse.swt.dnd.DropTarget.access$7(DropTarget.java:363)\nat org.eclipse.swt.dnd.DropTarget$3.method6(DropTarget.java:232)\nat org.eclipse.swt.internal.ole.win32.COMObject.callback6(COMObject.java:115)\nat org.eclipse.swt.internal.ole.win32.COM.DoDragDrop(Native Method)\nat org.eclipse.swt.dnd.DragSource.drag(DragSource.java:277)\nat org.eclipse.swt.dnd.DragSource.access$0(DragSource.java:263)\nat org.eclipse.swt.dnd.DragSource$1.handleEvent(DragSource.java:157)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:847)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2173)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1863)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2347)\nat org.eclipse.ui.internal.Workbench.run(Workbench.java:2330)\nat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:858)\nat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:299)\nat org.eclipse.core.launcher.Main.run(Main.java:765)\nat org.eclipse.core.launcher.Main.main(Main.java:599)",
    "Markus, can you please investigate for M7.",
    "The problem is that JavaCore.create(handle) fails if the project name contains a\n\"(\". Moving to jdt-core to resolve problems with \"dangerous\" characters in\nproject names.",
    "Markus, which JavaCore.create(...) API are you refering to?",
    "Oh sorry, I didn\u0027t realize that the create methods are overloaded :-/\nI wanted to refer to JavaCore.create(String handleIdentifier).\n\nIf you set a berakpint in it and then move a CU p/A.java to package qqq, you\u0027ll\nsee what I meant.",
    "Thanks. I will investigate.",
    "I have the same problem with a tilde (~) in the project name.\n\nTo verify:\n- Create a new java project with the name \"A~B\"\n- Select the project in the Package Explorer\n- Press Ctrl-C, Ctrl-V (on Windows) to create a copy of the project \nResult:\nError dialog \"The command for the key you pressed failed\"\nTruncated stack trace from the error log:\n\n---------------------------------------------------------------------\njava.lang.NullPointerException\n\tat\norg.eclipse.jdt.internal.corext.refactoring.reorg.ReorgUtils.getResource(ReorgUtils.java:116)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.reorg.ReorgUtils.getResources(ReorgUtils.java:122)\n\tat\norg.eclipse.jdt.internal.ui.refactoring.reorg.PasteAction$ProjectPaster.getProjectsToPaste(PasteAction.java:285)\n\tat\norg.eclipse.jdt.internal.ui.refactoring.reorg.PasteAction$ProjectPaster.pasteProjects(PasteAction.java:269)\n\tat\norg.eclipse.jdt.internal.ui.refactoring.reorg.PasteAction$ProjectPaster.paste(PasteAction.java:265)\n\tat\norg.eclipse.jdt.internal.ui.refactoring.reorg.PasteAction.run(PasteAction.java:191)\n\tat\norg.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:212)\n\tat\norg.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:188)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:881)\n        :\n---------------------------------------------------------------------\n\n\nOptional: Specify an external location _without_ a tilde in it. This doesn\u0027t\nmake a difference for the error. This shows that the error is _not_ because of\nproblems with directory names or other filesystem problems.",
    "Yes, the problem in the format of JavaElement handleIdentifier strings. They\nshould escape all characters in the elementName which are used as separators in\nthe memento.",
    "*** Bug 55480 has been marked as a duplicate of this bug. ***",
    "*** Bug 58633 has been marked as a duplicate of this bug. ***",
    "could somebody increase the severity of this bug? I think it should be \"major\".",
    "*** Bug 54439 has been marked as a duplicate of this bug. ***",
    "Changed JavaElement.getHandleMemento() and getHandleFromMemento(...) so that \nthey escape the delimiters in the memento.\n\nAdded regression test MementoTests.testProjectMemento2()",
    "Good job, thanks. I will download it tomorrow.\nThanks to Dirk Baeumer, too.",
    "*** Bug 57021 has been marked as a duplicate of this bug. ***",
    "Verified for 3.0 with build I200405180816."
  ],
  "commentCreationDates": [
    "2003-12-01T15:53:43+01:00",
    "2003-12-01T17:59:26+01:00",
    "2004-02-09T12:04:26+01:00",
    "2004-02-09T14:52:49+01:00",
    "2004-02-09T18:49:45+01:00",
    "2004-02-10T12:12:02+01:00",
    "2004-04-16T07:53:33+02:00",
    "2004-04-16T08:53:40+02:00",
    "2004-04-16T14:47:19+02:00",
    "2004-04-16T15:24:09+02:00",
    "2004-04-16T15:25:42+02:00",
    "2004-04-19T15:30:34+02:00",
    "2004-04-19T19:18:58+02:00",
    "2004-04-19T21:14:44+02:00",
    "2004-04-20T19:41:29+02:00",
    "2004-05-18T16:54:24+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.changes.MoveCompilationUnitChange.getName",
          "source": "MoveCompilationUnitChange.java:40"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.ChangeElementLabelProvider.getText",
          "source": "ChangeElementLabelProvider.java:77"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.doUpdateItem",
          "source": "TreeViewer.java:95"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.ChangeElementTreeViewer.doUpdateItem",
          "source": "ChangeElementTreeViewer.java:56"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run",
          "source": "AbstractTreeViewer.java:77"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1018"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:461"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem",
          "source": "AbstractTreeViewer.java:457"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run",
          "source": "StructuredViewer.java:119"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1018"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:461"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateItem",
          "source": "StructuredViewer.java:1263"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem",
          "source": "AbstractTreeViewer.java:371"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$1.run",
          "source": "AbstractTreeViewer.java:351"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:84"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.createChildren",
          "source": "AbstractTreeViewer.java:337"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$5.run",
          "source": "AbstractTreeViewer.java:795"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.preservingSelection",
          "source": "StructuredViewer.java:796"
        },
        {
          "method": "org.eclipse.jface.viewers.CheckboxTreeViewer.preservingSelection",
          "source": "CheckboxTreeViewer.java:341"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.inputChanged",
          "source": "AbstractTreeViewer.java:785"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.ChangeElementTreeViewer.inputChanged",
          "source": "ChangeElementTreeViewer.java:50"
        },
        {
          "method": "org.eclipse.jface.viewers.ContentViewer.setInput",
          "source": "ContentViewer.java:238"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.setInput",
          "source": "StructuredViewer.java:983"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.PreviewWizardPage.setTreeViewerInput",
          "source": "PreviewWizardPage.java:308"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.PreviewWizardPage.createStandardPreviewPage",
          "source": "PreviewWizardPage.java:233"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.PreviewWizardPage.createControl",
          "source": "PreviewWizardPage.java:205"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2.previewPressed",
          "source": "RefactoringWizardDialog2.java:431"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2.access$3",
          "source": "RefactoringWizardDialog2.java:416"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.RefactoringWizardDialog2$1.widgetSelected",
          "source": "RefactoringWizardDialog2.java:547"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:89"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:847"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2173"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1863"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:583"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:563"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.actions.RefactoringStarter.activate",
          "source": "RefactoringStarter.java:56"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.reorg.ReorgMoveStarter.run",
          "source": "ReorgMoveStarter.java:82"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.SelectionTransferDropAdapter.handleDropMove",
          "source": "SelectionTransferDropAdapter.java:207"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.SelectionTransferDropAdapter.drop",
          "source": "SelectionTransferDropAdapter.java:131"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.dnd.JdtViewerDropAdapter.drop",
          "source": "JdtViewerDropAdapter.java:112"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.dnd.DelegatingDropAdapter.drop",
          "source": "DelegatingDropAdapter.java:79"
        },
        {
          "method": "org.eclipse.swt.dnd.DNDListener.handleEvent",
          "source": "DNDListener.java:65"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:847"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:871"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:856"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:664"
        },
        {
          "method": "org.eclipse.swt.dnd.DropTarget.notifyListeners",
          "source": "DropTarget.java:507"
        },
        {
          "method": "org.eclipse.swt.dnd.DropTarget.Drop",
          "source": "DropTarget.java:428"
        },
        {
          "method": "org.eclipse.swt.dnd.DropTarget.access$7",
          "source": "DropTarget.java:363"
        },
        {
          "method": "org.eclipse.swt.dnd.DropTarget$3.method6",
          "source": "DropTarget.java:232"
        },
        {
          "method": "org.eclipse.swt.internal.ole.win32.COMObject.callback6",
          "source": "COMObject.java:115"
        },
        {
          "method": "org.eclipse.swt.internal.ole.win32.COM.DoDragDrop",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.dnd.DragSource.drag",
          "source": "DragSource.java:277"
        },
        {
          "method": "org.eclipse.swt.dnd.DragSource.access$0",
          "source": "DragSource.java:263"
        },
        {
          "method": "org.eclipse.swt.dnd.DragSource$1.handleEvent",
          "source": "DragSource.java:157"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:847"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2173"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1863"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2347"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:2330"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:858"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:299"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:765"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:599"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "47815",
      "date": "2003-12-01T15:53:43+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.reorg.ReorgUtils.getResource",
          "source": "ReorgUtils.java:116"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.reorg.ReorgUtils.getResources",
          "source": "ReorgUtils.java:122"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.reorg.PasteAction$ProjectPaster.getProjectsToPaste",
          "source": "PasteAction.java:285"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.reorg.PasteAction$ProjectPaster.pasteProjects",
          "source": "PasteAction.java:269"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.reorg.PasteAction$ProjectPaster.paste",
          "source": "PasteAction.java:265"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.reorg.PasteAction.run",
          "source": "PasteAction.java:191"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun",
          "source": "SelectionDispatchAction.java:212"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.run",
          "source": "SelectionDispatchAction.java:188"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:881"
        }
      ],
      "number": 1,
      "commentIndex": 6,
      "bugId": "47815",
      "date": "2004-04-16T07:53:33+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "47815",
  "bugId": "47815",
  "date": "2003-12-01T15:53:43+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}