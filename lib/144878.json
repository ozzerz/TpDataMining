{
  "comments": [
    "Hello developers,\n\nthe following bug occurs on WTP 1.5 RC4:\n\ncreate a new jsp file, and paste the following content:\n-- snip -- \n\n\n\n\nI just forgot to place the html start tag at \nthe beginning of the file. \n\nIf this file get\u0027s longer the parser needs more than\nlinear time to validate this document\n\nAnd the project explorer seems to do something\n\u003c/i\u003e\n\u003c/b\u003e \n\u003c/textarea\u003e\n\u003c/option\u003e\n\u003c/select\u003e\n\u003c/form\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n\n\n\n-- snap --\nChange the above code a little bit and save the file. Have a look at the warnings and at the project explorer\n\nSecond issue (possibly the same bug):\nCreate a new jsp file, and paste the following and save the file:\n\n\u003cjsp:fallback\n\u003c/html\u003e\n\n\nAn exception will be thrown:\n\n*** ERROR ***: Thu Jun 01 15:34:06 CEST 2006    java.lang.NullPointerException\n    \tat org.eclipse.wst.validation.internal.operations.WorkbenchReporter.getTargetObjectName(WorkbenchReporter.java:318)\n    \tat org.eclipse.wst.validation.internal.operations.WorkbenchReporter.getTargetObjectName(WorkbenchReporter.java:312)\n    \tat org.eclipse.wst.validation.internal.operations.WorkbenchReporter.addMessage(WorkbenchReporter.java:567)\n    \tat org.eclipse.wst.html.internal.validation.HTMLValidationReporter.report(HTMLValidationReporter.java:87)\n    \tat org.eclipse.wst.html.core.internal.validate.SyntaxValidator.report(SyntaxValidator.java:343)\n    \tat org.eclipse.wst.html.core.internal.validate.SyntaxValidator.validateTags(SyntaxValidator.java:191)\n    \tat org.eclipse.wst.html.core.internal.validate.SyntaxValidator.validate(SyntaxValidator.java:98)\n    \tat org.eclipse.wst.html.core.internal.validate.CompositeValidator.validate(CompositeValidator.java:54)\n    \tat org.eclipse.wst.xml.core.internal.validate.AbstractPropagatingValidator.validate(AbstractPropagatingValidator.java:37)\n    \tat org.eclipse.wst.xml.core.internal.validate.Propagator.propagateToChildElements(Propagator.java:41)\n    \tat org.eclipse.wst.xml.core.internal.validate.AbstractPropagatingValidator.validate(AbstractPropagatingValidator.java:40)\n    \tat org.eclipse.wst.html.internal.validation.HTMLValidator.validate(HTMLValidator.java:289)\n    \tat org.eclipse.wst.sse.ui.internal.reconcile.validator.ReconcileStepForValidator.validate(ReconcileStepForValidator.java:331)\n    \tat org.eclipse.wst.sse.ui.internal.reconcile.validator.ReconcileStepForValidator.reconcileModel(ReconcileStepForValidator.java:240)\n    \tat org.eclipse.jface.text.reconciler.AbstractReconcileStep.reconcile(AbstractReconcileStep.java:96)\n    \tat org.eclipse.wst.sse.ui.internal.reconcile.validator.ValidatorStrategy.reconcile(ValidatorStrategy.java:204)\n    \tat org.eclipse.wst.sse.ui.internal.reconcile.DocumentRegionProcessor.process(DocumentRegionProcessor.java:146)\n    \tat org.eclipse.wst.sse.ui.internal.reconcile.StructuredRegionProcessor.process(StructuredRegionProcessor.java:196)\n    \tat org.eclipse.wst.sse.ui.internal.reconcile.DirtyRegionProcessor.run(DirtyRegionProcessor.java:534)\n    \tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\n\n\nBest Regards,\nPatric Rufflar",
    "Amy, please see if there\u0027s an easy safe fix to avoid the exception. \n",
    "Opened bug 144909 for the Project Explorer issues.",
    "Amy, the remaining problem appears to be the validator adapters holding onto the reporter they were given when the model was first created.  In the original stack trace, it looks like the batch validator was the one that created the model and the editor was opened while that validator was still running, leaving the adapters in the model holding onto the workbench reporter instead of the incremental reporter the editor was supplying.  I think we need to rearchitect this validator to not use adapters anymore.  I tried making changes to recursively reset the reporters myself at one point, and even though that didn\u0027t succeed, I\u0027m pretty sure if it had it would have been not thread-safe.  I suspect that the factories themselves and most of the code is salvageable, though."
  ],
  "commentCreationDates": [
    "2006-06-01T15:23:03+02:00",
    "2006-06-01T18:38:46+02:00",
    "2006-06-01T18:43:59+02:00",
    "2006-06-15T08:12:50+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.wst.validation.internal.operations.WorkbenchReporter.getTargetObjectName",
          "source": "WorkbenchReporter.java:318"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.WorkbenchReporter.getTargetObjectName",
          "source": "WorkbenchReporter.java:312"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.WorkbenchReporter.addMessage",
          "source": "WorkbenchReporter.java:567"
        },
        {
          "method": "org.eclipse.wst.html.internal.validation.HTMLValidationReporter.report",
          "source": "HTMLValidationReporter.java:87"
        },
        {
          "method": "org.eclipse.wst.html.core.internal.validate.SyntaxValidator.report",
          "source": "SyntaxValidator.java:343"
        },
        {
          "method": "org.eclipse.wst.html.core.internal.validate.SyntaxValidator.validateTags",
          "source": "SyntaxValidator.java:191"
        },
        {
          "method": "org.eclipse.wst.html.core.internal.validate.SyntaxValidator.validate",
          "source": "SyntaxValidator.java:98"
        },
        {
          "method": "org.eclipse.wst.html.core.internal.validate.CompositeValidator.validate",
          "source": "CompositeValidator.java:54"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.validate.AbstractPropagatingValidator.validate",
          "source": "AbstractPropagatingValidator.java:37"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.validate.Propagator.propagateToChildElements",
          "source": "Propagator.java:41"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.validate.AbstractPropagatingValidator.validate",
          "source": "AbstractPropagatingValidator.java:40"
        },
        {
          "method": "org.eclipse.wst.html.internal.validation.HTMLValidator.validate",
          "source": "HTMLValidator.java:289"
        },
        {
          "method": "org.eclipse.wst.sse.ui.internal.reconcile.validator.ReconcileStepForValidator.validate",
          "source": "ReconcileStepForValidator.java:331"
        },
        {
          "method": "org.eclipse.wst.sse.ui.internal.reconcile.validator.ReconcileStepForValidator.reconcileModel",
          "source": "ReconcileStepForValidator.java:240"
        },
        {
          "method": "org.eclipse.jface.text.reconciler.AbstractReconcileStep.reconcile",
          "source": "AbstractReconcileStep.java:96"
        },
        {
          "method": "org.eclipse.wst.sse.ui.internal.reconcile.validator.ValidatorStrategy.reconcile",
          "source": "ValidatorStrategy.java:204"
        },
        {
          "method": "org.eclipse.wst.sse.ui.internal.reconcile.DocumentRegionProcessor.process",
          "source": "DocumentRegionProcessor.java:146"
        },
        {
          "method": "org.eclipse.wst.sse.ui.internal.reconcile.StructuredRegionProcessor.process",
          "source": "StructuredRegionProcessor.java:196"
        },
        {
          "method": "org.eclipse.wst.sse.ui.internal.reconcile.DirtyRegionProcessor.run",
          "source": "DirtyRegionProcessor.java:534"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "144878",
      "date": "2006-06-01T15:23:03+02:00",
      "product": "Web Tools",
      "component": "jst.jsp",
      "severity": "normal"
    }
  ],
  "groupId": "144878",
  "bugId": "144878",
  "date": "2006-06-01T15:23:03+02:00",
  "product": "Web Tools",
  "component": "jst.jsp",
  "severity": "normal"
}