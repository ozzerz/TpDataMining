{
  "comments": [
    "See also bug #57666 which is related (but has to do with manifests):\n\nI have a META-INF/aop.xml file in my aspectpath and another one in the source path. That shouldn\u0027t even be a duplicate, because the aspectpath resource should NOT be copied to output at all.\n\nIn AspectJ build:  1.5.1.20060309143651\n\nI am now getting:\n\njava.util.zip.ZipException\nat java.util.zip.ZipOutputStream.putNextEntry(ZipOutputStream.java:163)\nat java.util.jar.JarOutputStream.putNextEntry(JarOutputStream.java:90)\nat org.aspectj.ajdt.internal.core.builder.AjBuildManager.writeOutxmlFile(AjBuildManager.java:549)\nat org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:320)\nat org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:163)\nat org.aspectj.ajde.internal.CompilerAdapter.compile(CompilerAdapter.java:122)\nat org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run(AspectJBuildManager.java:191)\n\nZipException thrown: duplicate entry: META-INF/aop.xml",
    "I the problem is occuring because you are using either -outxml or -outxmlfile. Could you post the commandline or Ant options you are using? This option will generate an aop.xml file for those aspects visible to the weaver which is probably clashing with the one in the source path. We don\u0027t copy resources from aspectpath.\n\nNow of cause we shouldn\u0027t throw an exception so I propose the first come first served approach we used for manifests. Therefore in you case we will ignore the -outxml/outfile option. But should we issue and error/warning?",
    "1. Added test for existing aop.xml to OutXmlTest\n2. Modified NullIdeProperties to allow testProjectPath to be overriden by sourceRoots\n3. Issue warning message inAjBuildManager.writeResource() to say -outxml ignored",
    "You are right - there was both a META-INF/aop.xml file in the sources and an -outxml file option. The project was having this error in AJDT. Removing the -outxml option fixes the problem. Thanks and as you say this is a good condition to detect and warn about, with then not generating a file.",
    "Fix available"
  ],
  "commentCreationDates": [
    "2006-03-20T20:51:21+01:00",
    "2006-06-01T18:46:09+02:00",
    "2006-06-02T14:13:28+02:00",
    "2006-06-02T16:11:22+02:00",
    "2006-06-13T16:13:15+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.util.zip.ZipException",
      "elements": [
        {
          "method": "java.util.zip.ZipOutputStream.putNextEntry",
          "source": "ZipOutputStream.java:163"
        },
        {
          "method": "java.util.jar.JarOutputStream.putNextEntry",
          "source": "JarOutputStream.java:90"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.writeOutxmlFile",
          "source": "AjBuildManager.java:549"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:320"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBuildManager.java:163"
        },
        {
          "method": "org.aspectj.ajde.internal.CompilerAdapter.compile",
          "source": "CompilerAdapter.java:122"
        },
        {
          "method": "org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run",
          "source": "AspectJBuildManager.java:191"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "132591",
      "date": "2006-03-20T20:51:21+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "132591",
  "bugId": "132591",
  "date": "2006-03-20T20:51:21+01:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}