{
  "comments": [
    "ZRH smoke test for I20050405-motif\n\n(not sure whether this is Jdt-ui or ui or swt - please reassign as needed)\n\n- Open the type hierarchy on junit.framework.Testm, then on junit.framework.TestCase\n\n- get this:\n\n!ENTRY org.eclipse.ui 4 0 2005-04-05 12:27:39.339\n!MESSAGE -1\n!STACK 0\njava.lang.ArrayIndexOutOfBoundsException: -1\n\tat org.eclipse.swt.widgets.Tree.redrawItems(Tree.java:2418)\n\tat org.eclipse.swt.widgets.Tree.redrawItem(Tree.java:2396)\n\tat org.eclipse.swt.widgets.Tree.onFocusOut(Tree.java:1660)\n\tat org.eclipse.swt.widgets.Tree.handleEvents(Tree.java:880)\n\tat org.eclipse.swt.widgets.Tree$1.handleEvent(Tree.java:120)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:740)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:761)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:744)\n\tat org.eclipse.swt.widgets.Control.xFocusOut(Control.java:3094)\n\tat org.eclipse.swt.widgets.Composite.xFocusOut(Composite.java:1191)\n\tat org.eclipse.swt.widgets.Control.XFocusChange(Control.java:3019)\n\tat org.eclipse.swt.widgets.Widget.windowProc(Widget.java:1021)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:3554)\n\tat org.eclipse.swt.internal.motif.OS._XtUnmanageChild(Native Method)\n\tat org.eclipse.swt.internal.motif.OS.XtUnmanageChild(OS.java:4005)\n\tat org.eclipse.swt.widgets.Scrollable.setScrollBarVisible(Scrollable.java:317)\n\tat org.eclipse.swt.widgets.Composite.setScrollBarVisible(Composite.java:1033)\n\tat org.eclipse.swt.widgets.ScrollBar.setVisible(ScrollBar.java:648)\n\tat org.eclipse.swt.widgets.Tree.updateHorizontalBar(Tree.java:2966)\n\tat org.eclipse.swt.widgets.TreeItem.setExpanded(TreeItem.java:1757)\n\tat org.eclipse.jface.viewers.TreeViewer.setExpanded(TreeViewer.java:538)\n\tat\norg.eclipse.jface.viewers.AbstractTreeViewer.updateChildren(AbstractTreeViewer.java:1671)\n\tat\norg.eclipse.jface.viewers.AbstractTreeViewer.internalRefreshStruct(AbstractTreeViewer.java:1164)\n\tat\norg.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh(AbstractTreeViewer.java:1141)\n\tat\norg.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh(AbstractTreeViewer.java:1097)\n\tat\norg.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh(AbstractTreeViewer.java:1084)\n\tat org.eclipse.jface.viewers.StructuredViewer$7.run(StructuredViewer.java:1171)\n\tat\norg.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1108)\n\tat org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1169)\n\tat org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1128)\n\tat\norg.eclipse.jdt.internal.ui.typehierarchy.TraditionalHierarchyViewer.updateContent(TraditionalHierarchyViewer.java:53)\n\tat\norg.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart$11.run(TypeHierarchyViewPart.java:1088)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n\tat\norg.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart.updateHierarchyViewer(TypeHierarchyViewPart.java:1091)\n\tat\norg.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart.updateInput(TypeHierarchyViewPart.java:539)\n\tat\norg.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart.setInputElement(TypeHierarchyViewPart.java:484)\n\tat\norg.eclipse.jdt.internal.ui.util.OpenTypeHierarchyUtil.openInViewPart(OpenTypeHierarchyUtil.java:98)\n\tat\norg.eclipse.jdt.internal.ui.util.OpenTypeHierarchyUtil.open(OpenTypeHierarchyUtil.java:75)\n\tat\norg.eclipse.jdt.ui.actions.OpenTypeHierarchyAction.run(OpenTypeHierarchyAction.java:176)\n\tat\norg.eclipse.jdt.ui.actions.OpenTypeHierarchyAction.run(OpenTypeHierarchyAction.java:165)\n\tat\norg.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:212)\n\tat\norg.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:188)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:996)\n\tat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)\n\tat\norg.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\n\tat\norg.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)",
    "The same works fine with Linux-GTK",
    "ignore - started with wrong LD_LIBRARY path and linked in wrongl X libs. Works\nfine when started with the shipped libXm.",
    "Reproducable, not depending on the motif library used. ",
    "The code in TraditionalHierarchyViewer.updateContent looks like this:\n\ngetTree().setRedraw(false);\nrefresh();\n...\ngetTree().setRedraw(true);\n\nThere seems to be a problem in either JFace or SWT when refreshing a viewer with\nredraw \u003d\u003d off.\n\nMoving to SWT first since the problem happens in SWT code.",
    "GG to fix this right away.",
    "I can\u0027t reproduce this in 0405, though I tried doing some of the the jdt smoke \ntest script, and in particular the class hierarchy section.\n\n- I\u0027m assuming that you meant class junit.framework.Test in your description, \nnot junit.framework.Testm, right?\n- can you provide any more details on your steps?\n- and can you quickly retry this in the latest nightly build, as there have \nbeen recent changes in the suspect areas\n",
    "Unable to reproduce now. Not sure what *exactly* I did to trigger it, but I have\nseen it multiple times in fresh workspaces. The scenario was to open the type\nhierarchy on multiple types in random order.",
    "Closing report, since this has not been reported or reproduced for almost a year, and the Tree has changed significantly in the meantime.  If you see this problem again then please reopen the report, thanks.\n"
  ],
  "commentCreationDates": [
    "2005-04-05T12:30:56+02:00",
    "2005-04-05T12:36:41+02:00",
    "2005-04-05T12:42:50+02:00",
    "2005-04-05T15:45:00+02:00",
    "2005-04-05T16:21:43+02:00",
    "2005-04-06T21:39:53+02:00",
    "2005-04-06T23:44:54+02:00",
    "2005-04-07T10:02:51+02:00",
    "2006-03-06T17:05:16+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "-1",
      "elements": [
        {
          "method": "org.eclipse.swt.widgets.Tree.redrawItems",
          "source": "Tree.java:2418"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.redrawItem",
          "source": "Tree.java:2396"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.onFocusOut",
          "source": "Tree.java:1660"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.handleEvents",
          "source": "Tree.java:880"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree$1.handleEvent",
          "source": "Tree.java:120"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:740"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:761"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:744"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.xFocusOut",
          "source": "Control.java:3094"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.xFocusOut",
          "source": "Composite.java:1191"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.XFocusChange",
          "source": "Control.java:3019"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.windowProc",
          "source": "Widget.java:1021"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:3554"
        },
        {
          "method": "org.eclipse.swt.internal.motif.OS._XtUnmanageChild",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.motif.OS.XtUnmanageChild",
          "source": "OS.java:4005"
        },
        {
          "method": "org.eclipse.swt.widgets.Scrollable.setScrollBarVisible",
          "source": "Scrollable.java:317"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.setScrollBarVisible",
          "source": "Composite.java:1033"
        },
        {
          "method": "org.eclipse.swt.widgets.ScrollBar.setVisible",
          "source": "ScrollBar.java:648"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.updateHorizontalBar",
          "source": "Tree.java:2966"
        },
        {
          "method": "org.eclipse.swt.widgets.TreeItem.setExpanded",
          "source": "TreeItem.java:1757"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.setExpanded",
          "source": "TreeViewer.java:538"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.updateChildren",
          "source": "AbstractTreeViewer.java:1671"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalRefreshStruct",
          "source": "AbstractTreeViewer.java:1164"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh",
          "source": "AbstractTreeViewer.java:1141"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh",
          "source": "AbstractTreeViewer.java:1097"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh",
          "source": "AbstractTreeViewer.java:1084"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$7.run",
          "source": "StructuredViewer.java:1171"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.preservingSelection",
          "source": "StructuredViewer.java:1108"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.refresh",
          "source": "StructuredViewer.java:1169"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.refresh",
          "source": "StructuredViewer.java:1128"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.typehierarchy.TraditionalHierarchyViewer.updateContent",
          "source": "TraditionalHierarchyViewer.java:53"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart$11.run",
          "source": "TypeHierarchyViewPart.java:1088"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart.updateHierarchyViewer",
          "source": "TypeHierarchyViewPart.java:1091"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart.updateInput",
          "source": "TypeHierarchyViewPart.java:539"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart.setInputElement",
          "source": "TypeHierarchyViewPart.java:484"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.util.OpenTypeHierarchyUtil.openInViewPart",
          "source": "OpenTypeHierarchyUtil.java:98"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.util.OpenTypeHierarchyUtil.open",
          "source": "OpenTypeHierarchyUtil.java:75"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.OpenTypeHierarchyAction.run",
          "source": "OpenTypeHierarchyAction.java:176"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.OpenTypeHierarchyAction.run",
          "source": "OpenTypeHierarchyAction.java:165"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun",
          "source": "SelectionDispatchAction.java:212"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.run",
          "source": "SelectionDispatchAction.java:188"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:996"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:538"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "90265",
      "date": "2005-04-05T12:30:56+02:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    }
  ],
  "groupId": "90265",
  "bugId": "90265",
  "date": "2005-04-05T12:30:56+02:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "normal"
}