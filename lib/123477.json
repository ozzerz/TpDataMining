{
  "comments": [
    "1. In a web project, open \n.settings\\org.eclipse.wst.common.project.facet.core.xml\n2. Edit the value of an installed facet.  For example I prepended an x to \njst.web:  \u003cinstalled facet\u003d\"xjst.web\" version\u003d\"2.4\"/\u003e\n3. Save\n\norg.eclipse.core.runtime.CoreException: Facet xjst.web is not defined.\n\tat \norg.eclipse.wst.common.project.facet.core.internal.FacetedProject.refresh(FacetedProject.java:792)\n\tat \norg.eclipse.wst.common.project.facet.core.internal.ProjectFacetsManagerImpl$ResourceChangeListener.resourceChanged(ProjectFacetsManagerImpl.java:1559)\n\tat \norg.eclipse.core.internal.events.NotificationManager$2.run(NotificationManager.java:276)\n\tat \norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:783)\n\tat \norg.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.java:270)\n\tat \norg.eclipse.core.internal.events.NotificationManager.broadcastChanges(NotificationManager.java:144)\n\tat \norg.eclipse.core.internal.resources.Workspace.broadcastPostChange(Workspace.java:180)\n\tat \norg.eclipse.core.internal.resources.Workspace.endOperation(Workspace.java:914)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1728)\n\tat \norg.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:110)\n\tat \norg.eclipse.ui.internal.editors.text.WorkspaceOperationRunner.run(WorkspaceOperationRunner.java:73)\n\tat \norg.eclipse.ui.internal.editors.text.WorkspaceOperationRunner.run(WorkspaceOperationRunner.java:63)\n\tat \norg.eclipse.ui.editors.text.TextFileDocumentProvider.executeOperation(TextFileDocumentProvider.java:441)\n\tat \norg.eclipse.ui.editors.text.TextFileDocumentProvider.saveDocument(TextFileDocumentProvider.java:700)\n\tat \norg.eclipse.ui.texteditor.AbstractTextEditor.performSave(AbstractTextEditor.java:3736)\n\tat \norg.eclipse.ui.texteditor.AbstractTextEditor.doSave(AbstractTextEditor.java:3525)\n\tat \norg.eclipse.wst.sse.ui.StructuredTextEditor.doSave(StructuredTextEditor.java:1659)\n\tat \norg.eclipse.wst.xml.ui.internal.tabletree.XMLMultiPageEditorPart.doSave(XMLMultiPageEditorPart.java:599)\n\tat org.eclipse.ui.internal.SaveableHelper$1.run(SaveableHelper.java:95)\n\tat org.eclipse.ui.internal.SaveableHelper$2.run(SaveableHelper.java:116)\n\tat \norg.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:346)\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291)\n\tat \norg.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.java:624)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n\tat \norg.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.java:621)\n\tat org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:2134)\n\tat \norg.eclipse.ui.internal.SaveableHelper.runProgressMonitorOperation(SaveableHelper.java:122)\n\tat org.eclipse.ui.internal.SaveableHelper.savePart(SaveableHelper.java:100)\n\tat org.eclipse.ui.internal.EditorManager.savePart(EditorManager.java:1154)\n\tat org.eclipse.ui.internal.WorkbenchPage.savePart(WorkbenchPage.java:2714)\n\tat org.eclipse.ui.internal.WorkbenchPage.saveEditor(WorkbenchPage.java:2727)\n\tat org.eclipse.ui.internal.SaveAction.run(SaveAction.java:69)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:996)\n\tat \norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)\n\tat \norg.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\n\tat \norg.eclipse.jface.action.ActionContributionItem$6.handleEvent(ActionContributionItem.java:441)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3080)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2713)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)\n\tat \norg.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\n\tat \norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n\tat \norg.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\n\tat \norg.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat \nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat \nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n\tat org.eclipse.core.launcher.Main.run(Main.java:973)\n\tat org.eclipse.core.launcher.Main.main(Main.java:948)\n\nLeaving the severity as normal as this can also come up in team dev scenarios where someone on the team does not have all the facet impls available.",
    "Lowering the severity and defering to 1.5 as the user has to go out of their way to encounter this.",
    "Broadening the scope of this bug and increasing the severity to reflect that this can also come up in (1) team development when not everyone has the same set of facets, and (2) when a user uninstalls some plugins and then tries to use an old project.",
    "This can prevent the Dynamic Web Project Wizard from appearing (when you have a invalid facet - or if you have a facet that has a constraint that is invalid) ",
    "Created an attachment (id\u003d41535)\nfacet.core patch\n\n",
    "Created an attachment (id\u003d41536)\nfacet.ui patch\n\n",
    "Chuck, please review the attached patches for RC3 inclusion. The fix is rather extensive as getting the faceted project api and ui to behave well in the presense of missing facet definitions was rather a large undertaking. With this patch, the following cases are handled:\n\n1. Project contains an undefined facet.\n2. Project contains an undefined facet version.\n3. A fixed facet is undefined.\n\nThe api and ui will now work under these conditions and the user will be gently warned in the problems view and in the facets selection panel that something is not right.",
    "+1 Approved...\n\nThanks for fixing this one, I have seen these problems first hand... anything we can do to aid in diagnosis is preferred",
    "Fix released into the RC3 stream.",
    "*** Bug 143086 has been marked as a duplicate of this bug. ***",
    "closing"
  ],
  "commentCreationDates": [
    "2006-01-11T17:57:13+01:00",
    "2006-01-19T23:20:03+01:00",
    "2006-04-08T03:02:38+02:00",
    "2006-04-21T03:13:03+02:00",
    "2006-05-16T02:22:35+02:00",
    "2006-05-16T02:22:54+02:00",
    "2006-05-16T02:30:41+02:00",
    "2006-05-16T15:02:32+02:00",
    "2006-05-16T20:36:46+02:00",
    "2006-05-23T01:03:05+02:00",
    "2006-06-15T15:22:42+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.runtime.CoreException",
      "message": "Facet xjst.web is not defined.",
      "elements": [
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.FacetedProject.refresh",
          "source": "FacetedProject.java:792"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.core.internal.ProjectFacetsManagerImpl$ResourceChangeListener.resourceChanged",
          "source": "ProjectFacetsManagerImpl.java:1559"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager$2.run",
          "source": "NotificationManager.java:276"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1044"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:783"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.notify",
          "source": "NotificationManager.java:270"
        },
        {
          "method": "org.eclipse.core.internal.events.NotificationManager.broadcastChanges",
          "source": "NotificationManager.java:144"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.broadcastPostChange",
          "source": "Workspace.java:180"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.endOperation",
          "source": "Workspace.java:914"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1728"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation.run",
          "source": "WorkspaceModifyOperation.java:110"
        },
        {
          "method": "org.eclipse.ui.internal.editors.text.WorkspaceOperationRunner.run",
          "source": "WorkspaceOperationRunner.java:73"
        },
        {
          "method": "org.eclipse.ui.internal.editors.text.WorkspaceOperationRunner.run",
          "source": "WorkspaceOperationRunner.java:63"
        },
        {
          "method": "org.eclipse.ui.editors.text.TextFileDocumentProvider.executeOperation",
          "source": "TextFileDocumentProvider.java:441"
        },
        {
          "method": "org.eclipse.ui.editors.text.TextFileDocumentProvider.saveDocument",
          "source": "TextFileDocumentProvider.java:700"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor.performSave",
          "source": "AbstractTextEditor.java:3736"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor.doSave",
          "source": "AbstractTextEditor.java:3525"
        },
        {
          "method": "org.eclipse.wst.sse.ui.StructuredTextEditor.doSave",
          "source": "StructuredTextEditor.java:1659"
        },
        {
          "method": "org.eclipse.wst.xml.ui.internal.tabletree.XMLMultiPageEditorPart.doSave",
          "source": "XMLMultiPageEditorPart.java:599"
        },
        {
          "method": "org.eclipse.ui.internal.SaveableHelper$1.run",
          "source": "SaveableHelper.java:95"
        },
        {
          "method": "org.eclipse.ui.internal.SaveableHelper$2.run",
          "source": "SaveableHelper.java:116"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:346"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:291"
        },
        {
          "method": "org.eclipse.jface.window.ApplicationWindow$1.run",
          "source": "ApplicationWindow.java:624"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.jface.window.ApplicationWindow.run",
          "source": "ApplicationWindow.java:621"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.run",
          "source": "WorkbenchWindow.java:2134"
        },
        {
          "method": "org.eclipse.ui.internal.SaveableHelper.runProgressMonitorOperation",
          "source": "SaveableHelper.java:122"
        },
        {
          "method": "org.eclipse.ui.internal.SaveableHelper.savePart",
          "source": "SaveableHelper.java:100"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.savePart",
          "source": "EditorManager.java:1154"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.savePart",
          "source": "WorkbenchPage.java:2714"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.saveEditor",
          "source": "WorkbenchPage.java:2727"
        },
        {
          "method": "org.eclipse.ui.internal.SaveAction.run",
          "source": "SaveAction.java:69"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:996"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:538"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$6.handleEvent",
          "source": "ActionContributionItem.java:441"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:843"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3080"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2713"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1699"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1663"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:367"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "123477",
      "date": "2006-01-11T17:57:13+01:00",
      "product": "Web Tools",
      "component": "wst.common",
      "severity": "critical"
    }
  ],
  "groupId": "123477",
  "bugId": "123477",
  "date": "2006-01-11T17:57:13+01:00",
  "product": "Web Tools",
  "component": "wst.common",
  "severity": "critical"
}