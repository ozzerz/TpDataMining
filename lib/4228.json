{
  "comments": [
    "Browsing files in the Java Hierarchy Perspective with the hierarchy view on\nthe workbench sidebar. When I switch between editors using the F3 key on types,\nI occasionally get an internal error (stack trace below). After the error, I noticed that the outline view\nstops updating when I switch beween editors.\n\nLog: Thu Sep 20 11:50:35 EDT 2001\n2 org.eclipse.ui 2 Problems occurred when invoking code from plug-in: \norg.eclipse.ui.\norg.eclipse.swt.SWTException: Widget is disposed\n\t\t at org.eclipse.swt.SWT.error(SWT.java:1700)\n\t\t at org.eclipse.swt.SWT.error(SWT.java:1741)\n\t\t at org.eclipse.swt.widgets.Widget.error(Widget.java:262)\n\t\t at org.eclipse.swt.widgets.ToolItem.getDisplay(ToolItem.java(Compiled Code))\n\t\t at org.eclipse.swt.widgets.Widget.isValidThread(Widget.java(Compiled Code))\n\t\t at org.eclipse.jface.action.ToolBarManager.update(ToolBarManager.java(Compiled Code))\n\t\t at org.eclipse.jface.action.ToolBarManager.update(ToolBarManager.java(Compiled Code))\n\t\t at org.eclipse.ui.internal.ViewPane.updateActionBars(ViewPane.java:504)\n\t\t at org.eclipse.ui.internal.ViewActionBars.updateActionBars(ViewActionBars.java:48)\n\t\t at org.eclipse.ui.part.PageBookView.showPageRec(PageBookView.java:458)\n\t\t at org.eclipse.ui.part.PageBookView.partActivated(PageBookView.java:344)\n\t\t at org.eclipse.ui.views.contentoutline.ContentOutline.partBroughtToTop(ContentOutline.java:177)\n\t\t at org.eclipse.ui.internal.PartListenerList$2.run(PartListenerList.java:51)\n\t\t at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java(Compiled Code))\n\t\t at org.eclipse.core.runtime.Platform.run(Platform.java(Compiled Code))\n\t\t at org.eclipse.ui.internal.PartListenerList.firePartBroughtToTop(PartListenerList.java:49)\n\t\t at org.eclipse.ui.internal.WorkbenchPage.firePartBroughtToTop(WorkbenchPage.java:553)\n\t\t at org.eclipse.ui.internal.WorkbenchPage.bringToTop(WorkbenchPage.java:154)\n\t\t at org.eclipse.ui.internal.WorkbenchPage.activate(WorkbenchPage.java:67)\n\t\t at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:1071)\n\t\t at org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:221)\n\t\t at org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:207)\n\t\t at org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:195)\n\t\t at org.eclipse.jdt.internal.ui.actions.OpenJavaElementAction.open(OpenJavaElementAction.java:52)\n\t\t at org.eclipse.jdt.internal.ui.javaeditor.OpenOnSelectionAction.run(OpenOnSelectionAction.java:103)\n\t\t at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:397)\n\t\t at org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionContributionItem.java:351)\n\t\t at org.eclipse.jface.action.ActionContributionItem.access$0(ActionContributionItem.java:342)\n\t\t at org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(ActionContributionItem.java:47)\n\t\t at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java(Compiled Code))\n\t\t at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java(Compiled Code))\n\t\t at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code))\n\t\t at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code))\n\t\t at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code))\n\t\t at org.eclipse.ui.internal.Workbench.run(Workbench.java:676)\n\t\t at org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:810)\n\t\t at org.eclipse.core.boot.BootLoader.run(BootLoader.java:280)\n\t\t at java.lang.reflect.Method.invoke(Native Method)\n\t\t at org.eclipse.core.launcher.Main.basicRun(Main.java:151)\n\t\t at org.eclipse.core.launcher.Main.run(Main.java:433)\n\t\t at org.eclipse.core.launcher.Main.main(Main.java:306)\n\n\nNOTES:\nEG (9/20/2001 9:38:06 AM)\n\tCK pls investigate into a reproducable case on Linux or Windows",
    "How to reproduce (204):\n\n  1) Open a compilation unit in the java editor.\n  2) Hit F3 on another type inside the compilation unit.\n     If the associated compilation unit is already open in the editor,\n     the error occurs, otherwise go back to the first compilation unit\n     and hit F3 again on that type.\n\nThis problem occurs on Linux, but not on W2K.\n\nIt seems that some toolbar items (the first three) of the Outline toolbar get \ndisposed too early. The last toolbar item stays \u0027alive\u0027.\n\n",
    "The JavaOutline page is making its contributions\nthe official way (see below) and the walkback \nhappens deep inside UI code. Suspect that there is a problem in the toolbar \nmanagement code. Moving to Platform UI\n\n\tpublic void makeContributions(IMenuManager menuManager, IToolBarManager \ntoolBarManager, IStatusLineManager statusLineManager) {\n\t\t...\n\t\tAction action\u003d new LexicalSortingAction();\n\t\ttoolBarManager.add(action);\t\t\n                ...\n",
    "This still occurs on the 20011211 build.",
    "I cannot repeat in the 20011219 integration build (I was able to repeat in an \nearlier build). Could you verify that it is no longer occuring?\n\nAlso, just so I understand better what was happening, Claude could you \nelaborate what you ment by \"It seems that some toolbar items (the first three) \nof the Outline toolbar get disposed too early.\" \nWas this occuring in ToolBarManager.update(boolean) ? ",
    "*** Bug 7576 has been marked as a duplicate of this bug. ***",
    "The problem was due to a callback we receive on motif that we do not get on \nWindows. The callback occurs when a toolitem is disposed. On motif we get an \nactivation callback on the editor\u0027s control. This triggers a part activated \nnotification and we reenter the toolbar update code.\n\nAdded a check in PageBookView to do nothing if it is asked to show the page rec \nwhich it is already showing. "
  ],
  "commentCreationDates": [
    "2001-10-11T05:08:11+02:00",
    "2001-10-11T14:13:10+02:00",
    "2001-10-11T14:26:25+02:00",
    "2001-12-12T22:15:59+01:00",
    "2002-01-07T16:57:05+01:00",
    "2002-01-17T16:58:42+01:00",
    "2002-01-28T21:07:09+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Widget is disposed",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:1700"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:1741"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:262"
        },
        {
          "method": "org.eclipse.swt.widgets.ToolItem.getDisplay",
          "source": "ToolItem.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.isValidThread",
          "source": "Widget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.action.ToolBarManager.update",
          "source": "ToolBarManager.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.action.ToolBarManager.update",
          "source": "ToolBarManager.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.ViewPane.updateActionBars",
          "source": "ViewPane.java:504"
        },
        {
          "method": "org.eclipse.ui.internal.ViewActionBars.updateActionBars",
          "source": "ViewActionBars.java:48"
        },
        {
          "method": "org.eclipse.ui.part.PageBookView.showPageRec",
          "source": "PageBookView.java:458"
        },
        {
          "method": "org.eclipse.ui.part.PageBookView.partActivated",
          "source": "PageBookView.java:344"
        },
        {
          "method": "org.eclipse.ui.views.contentoutline.ContentOutline.partBroughtToTop",
          "source": "ContentOutline.java:177"
        },
        {
          "method": "org.eclipse.ui.internal.PartListenerList$2.run",
          "source": "PartListenerList.java:51"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.PartListenerList.firePartBroughtToTop",
          "source": "PartListenerList.java:49"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.firePartBroughtToTop",
          "source": "WorkbenchPage.java:553"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.bringToTop",
          "source": "WorkbenchPage.java:154"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.activate",
          "source": "WorkbenchPage.java:67"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:1071"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor",
          "source": "EditorUtility.java:221"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor",
          "source": "EditorUtility.java:207"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor",
          "source": "EditorUtility.java:195"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.actions.OpenJavaElementAction.open",
          "source": "OpenJavaElementAction.java:52"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.OpenOnSelectionAction.run",
          "source": "OpenOnSelectionAction.java:103"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:397"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java:351"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem.java:342"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java:47"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:676"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:810"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:280"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:151"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:433"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:306"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "4228",
      "date": "2001-10-11T05:08:11+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "4228",
  "bugId": "4228",
  "date": "2001-10-11T05:08:11+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}