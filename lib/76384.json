{
  "comments": [
    "Build: 20040924\n\nThe Team.ui plugin is being started when running headless applications (such as\nplatform core test suites). This results in an error because it tries to access\nthe Workbench, which has never been started.  The error is:\n\n!ENTRY org.eclipse.core.runtime 4 2 Oct 15, 2004 14:27:07.334\n!MESSAGE An internal error occurred during: \"\".\n!STACK 0\njava.lang.IllegalStateException: Workbench has not been created yet.\n        at org.eclipse.ui.PlatformUI.getWorkbench(PlatformUI.java:92)\n        at\norg.eclipse.team.internal.ui.TeamCapabilityHelper.\u003cinit\u003e(TeamCapabilityHelper.java:70)\n        at\norg.eclipse.team.internal.ui.TeamCapabilityHelper.getInstance(TeamCapabilityHelper.java:55)\n        at org.eclipse.team.internal.ui.TeamUIPlugin$2.run(TeamUIPlugin.java:197)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)\n\n\nThe stack trace of the activation of the team.ui plugin is below.  The loading\nof the file modification validator is causing team ui to load.\n\nThread [main] (Suspended (breakpoint at line 179 in\norg.eclipse.team.internal.ui.TeamUIPlugin))\n\torg.eclipse.team.internal.ui.TeamUIPlugin.start(org.osgi.framework.BundleContext) line: 179\n\torg.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run() line: 958\n\tjava.security.AccessController.doPrivileged(java.security.PrivilegedExceptionAction) line: not available [native method]\n\torg.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(org.osgi.framework.BundleActivator) line: 954\n\torg.eclipse.osgi.framework.internal.core.BundleContextImpl.start() line: 937\n\torg.eclipse.osgi.framework.internal.core.BundleHost.startWorker(boolean) line: 421\n\torg.eclipse.osgi.framework.internal.core.BundleHost(org.eclipse.osgi.framework.internal.core.AbstractBundle).start() line: 293\n\torg.eclipse.core.runtime.adaptor.EclipseClassLoader.findLocalClass(java.lang.String) line: 110\n\torg.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass(java.lang.String) line: 371\n\torg.eclipse.osgi.framework.internal.core.BundleLoader.findClass(java.lang.String) line: 402\n\torg.eclipse.core.runtime.adaptor.EclipseClassLoader(org.eclipse.osgi.framework.adaptor.core.AbstractClassLoader).loadClass(java.lang.String, boolean) line: 93\n\torg.eclipse.core.runtime.adaptor.EclipseClassLoader(java.lang.ClassLoader).loadClass(java.lang.String) line: 235\n\torg.eclipse.osgi.framework.internal.core.BundleLoader.loadClass(java.lang.String) line: 307\n\torg.eclipse.osgi.framework.internal.core.BundleHost.loadClass(java.lang.String,\nboolean) line: 336\n\torg.eclipse.osgi.framework.internal.core.BundleHost(org.eclipse.osgi.framework.internal.core.AbstractBundle).loadClass(java.lang.String) line: 1313\n\torg.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(org.osgi.framework.Bundle, java.lang.String, java.lang.Object, org.eclipse.core.runtime.IConfigurationElement, java.lang.String) line: 131\n\torg.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(org.osgi.framework.Bundle, java.lang.String, java.lang.String, java.lang.Object, org.eclipse.core.runtime.IConfigurationElement, java.lang.String) line: 124\n\torg.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(java.lang.String) line: 113\n\torg.eclipse.team.internal.core.FileModificationValidatorManager.loadDefaultValidator() line: 123\n\torg.eclipse.team.internal.core.FileModificationValidatorManager.getDefaultValidator() line: 109\n\torg.eclipse.team.internal.core.FileModificationValidatorManager.validateSave(org.eclipse.core.resources.IFile) line: 96\n\torg.eclipse.core.internal.resources.Workspace$6.run() line: 2229\n\torg.eclipse.core.internal.runtime.InternalPlatform.run(org.eclipse.core.runtime.ISafeRunnable) line: 616\n\torg.eclipse.core.runtime.Platform.run(org.eclipse.core.runtime.ISafeRunnable)\nline: 747\n\torg.eclipse.core.internal.resources.Workspace.validateSave(org.eclipse.core.resources.IFile) line: 2236\n\torg.eclipse.core.internal.resources.File.setContents(java.io.InputStream, int,\norg.eclipse.core.runtime.IProgressMonitor) line: 332\n\torg.eclipse.core.internal.localstore.FileSystemResourceManager.internalWrite(org.eclipse.core.resources.IProject, org.eclipse.core.resources.IProjectDescription, int, boolean, boolean) line: 287\n\torg.eclipse.core.internal.resources.Project.writeDescription(org.eclipse.core.resources.IProjectDescription, int, boolean, boolean) line: 1015\n\torg.eclipse.core.internal.resources.Project.writeDescription(int) line: 996\n\torg.eclipse.core.internal.resources.Project.create(org.eclipse.core.resources.IProjectDescription, org.eclipse.core.runtime.IProgressMonitor) line: 276\n\torg.eclipse.core.internal.resources.Project.create(org.eclipse.core.runtime.IProgressMonitor) line: 302\n\torg.eclipse.core.tests.resources.IResourceTest.setUp() line: 369\n\torg.eclipse.core.tests.resources.IResourceTest(junit.framework.TestCase).runBare() line: 125\n\tjunit.framework.TestResult$1.protect() line: 106\n\tjunit.framework.TestResult.runProtected(junit.framework.Test,\njunit.framework.Protectable) line: 124\n\tjunit.framework.TestResult.run(junit.framework.TestCase) line: 109\n\torg.eclipse.core.tests.resources.IResourceTest(junit.framework.TestCase).run(junit.framework.TestResult) line: 118\n\tjunit.framework.TestSuite.runTest(junit.framework.Test,\njunit.framework.TestResult) line: 208\n\tjunit.framework.TestSuite.run(junit.framework.TestResult) line: 203\n\torg.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner(org.eclipse.jdt.internal.junit.runner.RemoteTestRunner).runTests(java.lang.String[], java.lang.String) line: 421\n\torg.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner(org.eclipse.jdt.internal.junit.runner.RemoteTestRunner).run() line: 305\n\torg.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(java.lang.String[]) line: 30\n\torg.eclipse.pde.internal.junit.runtime.CoreTestApplication.run(java.lang.Object) line: 26\n\torg.eclipse.core.internal.runtime.PlatformActivator$1.run(java.lang.Object)\nline: 335\n\torg.eclipse.core.runtime.adaptor.EclipseStarter.run(java.lang.Object) line: 273\n\torg.eclipse.core.runtime.adaptor.EclipseStarter.run(java.lang.String[],\njava.lang.Runnable) line: 129\n\tsun.reflect.NativeMethodAccessorImpl.invoke0(java.lang.reflect.Method,\njava.lang.Object, java.lang.Object[]) line: not available [native method]\n\tsun.reflect.NativeMethodAccessorImpl.invoke(java.lang.Object,\njava.lang.Object[]) line: 39\n\tsun.reflect.DelegatingMethodAccessorImpl.invoke(java.lang.Object,\njava.lang.Object[]) line: 25\n\tjava.lang.reflect.Method.invoke(java.lang.Object, java.lang.Object[]) line: 324\n\torg.eclipse.core.launcher.Main.basicRun(java.lang.String[]) line: 185\n\torg.eclipse.core.launcher.Main.run(java.lang.String[]) line: 704\n\torg.eclipse.core.launcher.Main.main(java.lang.String[]) line: 688",
    "Fix released to HEAD. I added a shouldRun to the job that initializes the \nhelper. It will not run if the workbench is not running."
  ],
  "commentCreationDates": [
    "2004-10-15T20:45:26+02:00",
    "2004-11-08T20:47:53+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalStateException",
      "message": "Workbench has not been created yet.",
      "elements": [
        {
          "method": "org.eclipse.ui.PlatformUI.getWorkbench",
          "source": "PlatformUI.java:92"
        },
        {
          "method": "org.eclipse.team.internal.ui.TeamCapabilityHelper.\u003cinit\u003e",
          "source": "TeamCapabilityHelper.java:70"
        },
        {
          "method": "org.eclipse.team.internal.ui.TeamCapabilityHelper.getInstance",
          "source": "TeamCapabilityHelper.java:55"
        },
        {
          "method": "org.eclipse.team.internal.ui.TeamUIPlugin$2.run",
          "source": "TeamUIPlugin.java:197"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:66"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "76384",
      "date": "2004-10-15T20:45:26+02:00",
      "product": "Platform",
      "component": "Team",
      "severity": "normal"
    }
  ],
  "groupId": "76384",
  "bugId": "76384",
  "date": "2004-10-15T20:45:26+02:00",
  "product": "Platform",
  "component": "Team",
  "severity": "normal"
}