{
  "comments": [
    "Steps to Reproduce:\n1. Import any  log\n2. Import a symptom catalog with XPath rules\n3. Right click on any CBE event and Analyze -\u003e Configure to XPath Log Analyzer\n4. Right click on any CBE event and click Analyze -\u003e Run\n5. While the analysis is progress, repeat step 4 on any other event\n6. Do the step 4  more than once in parallel.\n7. This problem occurs when another analysis is started while the first \nanalysis in progress\n\njava.lang.ArrayIndexOutOfBoundsException\n\tat org.eclipse.tptp.platform.provisional.jre14.fastxpath.axes.EAxesWalker.processPredicates(EAxesWalker.java:357)\n\tat org.eclipse.tptp.platform.provisional.jre14.fastxpath.axes.EAxesWalker.execute(EAxesWalker.java:265)\n\tat org.eclipse.tptp.platform.provisional.jre14.fastxpath.axes.EAxesWalker.execute(EAxesWalker.java:184)\n\tat org.eclipse.tptp.platform.provisional.jre14.fastxpath.axes.EWalkingIterator.execute(EWalkingIterator.java:131)\n\tat org.eclipse.tptp.platform.provisional.jre14.fastxpath.EXPath.execute(EXPath.java:94)\n\tat org.eclipse.tptp.platform.provisional.jre14.fastxpath.FastXPathEngine.selectNodes(FastXPathEngine.java:88)\n\tat org.eclipse.tptp.platform.provisional.jre14.fastxpath.FastXPathEngine.eval(FastXPathEngine.java:95)\n\tat org.eclipse.tptp.symptom.analysis.XPathCorrelationEngine.processCBECommonBaseEvents(XPathCorrelationEngine.java:339)\n\tat org.eclipse.tptp.symptom.analysis.XPathCorrelationEngine.buildResults(XPathCorrelationEngine.java:242)\n\tat org.eclipse.tptp.symptom.analysis.XPathCorrelationEngine.correlate(XPathCorrelationEngine.java:186)\n\tat org.eclipse.hyades.logc.internal.util.AnalysisFacade.analyzeLog(AnalysisFacade.java:121)\n\tat org.eclipse.hyades.sdb.internal.util.LogAnalyzerDelegator.correlate(LogAnalyzerDelegator.java:81)\n\tat org.eclipse.tptp.platform.log.views.internal.actions.ExtendedAnalyzeAction$1.run(ExtendedAnalyzeAction.java:139)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\n\n\nSolution: Disable the analysis action item from the action list while analysis operation is in progress.\n\nI have set severity to major, since it is usability issue.",
    "This is not just a UI issue and is actually a problem with the xpath engine - refer https://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d156592 for detauils.\n\nIm not convinced that the resolution for the the defect i mention above is correct and i think this needs to be fixed in the engine.\n\nIm also surprised that the PMR raised on the jdk has not been resolved. Either we need this fixed in the JDK or in the xpath-engine.",
    "This seems to be a mojor problem with the tptp fast-xpath engine working with JDK 1.4.2",
    "Also, Eclipse LTA is not the only component facing this problem. All our components that use the fast-xpath engine have this problem.",
    "(In reply to comment #1)\n\u003e This is not just a UI issue and is actually a problem with the xpath engine -\n\u003e refer https://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d156592 for detauils.\n\u003e \n\u003e Im not convinced that the resolution for the the defect i mention above is\n\u003e correct and i think this needs to be fixed in the engine.\n\u003e \n\u003e Im also surprised that the PMR raised on the jdk has not been resolved. Either\n\u003e we need this fixed in the JDK or in the xpath-engine.\n\u003e \n\nThe PMR opened in bug 156592 results in no fix on the JDK side and synchronization fix was made on the engine size instead. \n\nPraful, would you be able to find out which expression does the engine fails at?\nand can you also test it on other JVM?",
    "Fix was made to the engine? i dont understand, can you please explain",
    "Ajay made the change to some JD(IBM) code, but i dont think this was fixed in the engine \n\n\"The real problem is the \"Multi threaded\" environment. So I changed the\nTestMatch.java to create a thread for each file and do filtering. Then it fails\nthrowing the error. Then I created a method wrapping\nfastXPathAPI.match(commonBaseEvents[i], expression) and  \"synchronize\" that\nmethod and invoked that method. Now it works fine with little overhead of\nsynchronization.\"",
    "To me you are talking about two different problems, the Linkage error is a different issue then the one discussed here. I see that in the problem reported here the code breaks in the XPath parser, not in the compiler (or custom class loader). We need to investigate this problem more closer before making any further comments or judgements.",
    "Import log files\nAnalyze all using a symptom catalog\nWhile the analysis is started, wait like 2% or so, do analyze selected\nThe analyze all process is hung and holding 100% CPU.\n\nI suggest to disable the analyze menu items during analysis.  ",
    "Can this menu item get dealt with for 4.4?",
    "I think we need a smarter solution, we should allow the user to run consecutive analyze operations but make sure no two analyze jobs are running concurrently, that is the second job has to wait until the first completes before it executes.",
    "Is a smarter solution containable in 4.4 (for Eclipse 3.3)?  If not, perhaps a brute force solution until a more elegant one could get done in the next release would be appropriate.  What is possible?",
    "is this still looking good to get into i4?",
    "Yes, the fix is due to be implemented by eod today",
    "Created an attachment (id\u003d70180)\nPatch with the fix\n\n",
    "Created an attachment (id\u003d70181)\nTeam project set with project needed to apply the patch\n\n",
    "Created an attachment (id\u003d70225)\nUpdated patch with the fix\n\n",
    "I have tested the latest patch and it works.",
    "Fix in CVS."
  ],
  "commentCreationDates": [
    "2006-11-16T16:59:33+01:00",
    "2006-11-17T15:15:47+01:00",
    "2006-11-17T15:20:22+01:00",
    "2006-11-17T15:21:24+01:00",
    "2006-11-17T15:39:22+01:00",
    "2006-11-17T15:52:57+01:00",
    "2006-11-17T15:56:02+01:00",
    "2006-11-17T15:59:35+01:00",
    "2007-05-11T22:26:11+02:00",
    "2007-05-14T19:24:34+02:00",
    "2007-05-14T20:05:39+02:00",
    "2007-05-14T20:36:58+02:00",
    "2007-06-04T18:23:26+02:00",
    "2007-06-05T14:38:53+02:00",
    "2007-06-05T19:34:54+02:00",
    "2007-06-05T19:36:18+02:00",
    "2007-06-05T22:45:31+02:00",
    "2007-06-06T00:12:10+02:00",
    "2007-06-06T03:05:27+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "elements": [
        {
          "method": "org.eclipse.tptp.platform.provisional.jre14.fastxpath.axes.EAxesWalker.processPredicates",
          "source": "EAxesWalker.java:357"
        },
        {
          "method": "org.eclipse.tptp.platform.provisional.jre14.fastxpath.axes.EAxesWalker.execute",
          "source": "EAxesWalker.java:265"
        },
        {
          "method": "org.eclipse.tptp.platform.provisional.jre14.fastxpath.axes.EAxesWalker.execute",
          "source": "EAxesWalker.java:184"
        },
        {
          "method": "org.eclipse.tptp.platform.provisional.jre14.fastxpath.axes.EWalkingIterator.execute",
          "source": "EWalkingIterator.java:131"
        },
        {
          "method": "org.eclipse.tptp.platform.provisional.jre14.fastxpath.EXPath.execute",
          "source": "EXPath.java:94"
        },
        {
          "method": "org.eclipse.tptp.platform.provisional.jre14.fastxpath.FastXPathEngine.selectNodes",
          "source": "FastXPathEngine.java:88"
        },
        {
          "method": "org.eclipse.tptp.platform.provisional.jre14.fastxpath.FastXPathEngine.eval",
          "source": "FastXPathEngine.java:95"
        },
        {
          "method": "org.eclipse.tptp.symptom.analysis.XPathCorrelationEngine.processCBECommonBaseEvents",
          "source": "XPathCorrelationEngine.java:339"
        },
        {
          "method": "org.eclipse.tptp.symptom.analysis.XPathCorrelationEngine.buildResults",
          "source": "XPathCorrelationEngine.java:242"
        },
        {
          "method": "org.eclipse.tptp.symptom.analysis.XPathCorrelationEngine.correlate",
          "source": "XPathCorrelationEngine.java:186"
        },
        {
          "method": "org.eclipse.hyades.logc.internal.util.AnalysisFacade.analyzeLog",
          "source": "AnalysisFacade.java:121"
        },
        {
          "method": "org.eclipse.hyades.sdb.internal.util.LogAnalyzerDelegator.correlate",
          "source": "LogAnalyzerDelegator.java:81"
        },
        {
          "method": "org.eclipse.tptp.platform.log.views.internal.actions.ExtendedAnalyzeAction$1.run",
          "source": "ExtendedAnalyzeAction.java:139"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "164833",
      "date": "2006-11-16T16:59:33+01:00",
      "product": "TPTP Log Analyzer",
      "component": "Platform.UI.LogView",
      "severity": "critical"
    }
  ],
  "groupId": "164833",
  "bugId": "164833",
  "date": "2006-11-16T16:59:33+01:00",
  "product": "TPTP Log Analyzer",
  "component": "Platform.UI.LogView",
  "severity": "critical"
}