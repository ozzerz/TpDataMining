{
  "comments": [
    "Checking the promotion logs for the past two EMF builds:\n\n     [echo] Running UpdateBuilderEMF for 3 or 4-part jars ...\n     [echo] -add4thPart -root\n/tmp/buildUpdate.sh-nickb/1/ant-build/updateJars/eclipse -directory\n/tmp/buildUpdate.sh-nickb/1/org.eclipse.emf.releng.build/maps/emf.map -build\nI200505261142 -buildDesc 2.1.0 -site\n/tmp/buildUpdate.sh-nickb/1/ant-build/updateJars/site -sitexml site.xml -debug 0\n     [java] java.lang.StringIndexOutOfBoundsException: String index out of range: -1\n     [java]     at java.lang.StringBuffer.substring(StringBuffer.java:797)\n     [java]     at\norg.eclipse.releng.generators.UpdateBuilderEMF.scan(UpdateBuilderEMF.java:563)\n     [java]     at\norg.eclipse.releng.generators.UpdateBuilderEMF.scan(UpdateBuilderEMF.java:556)\n     [java]     at\norg.eclipse.releng.generators.UpdateBuilderEMF.fixPluginXml(UpdateBuilderEMF.java:323)\n     [java]     at\norg.eclipse.releng.generators.UpdateBuilderEMF.modifyPlugin(UpdateBuilderEMF.java:308)\n     [java]     at\norg.eclipse.releng.generators.UpdateBuilderEMF.modifyPlugins(UpdateBuilderEMF.java:123)\n     [java]     at\norg.eclipse.releng.generators.UpdateBuilderEMF.run(UpdateBuilderEMF.java:82)\n     [java]     at\norg.eclipse.releng.generators.AbstractApplication.run(AbstractApplication.java:32)\n     [java]     at\norg.eclipse.releng.generators.UpdateBuilderEMF.main(UpdateBuilderEMF.java:76)\n...\n\nI hope to have this fixed this week (for the next I driver). Note that this does\nnot affect the 2.0.x stream.",
    "Okay, turns out the reason for this is that the old UpdateBuilderEMF.java code\nassumes that if there\u0027s a \u003cplugin\u003e tag, it\u0027ll have a version\u003d\"\" value. \n\nAs we migrate from plugin.xml to manifest.mf, this is no longer the case, so\nscan() returns -1 and then tries to run again using that as its starting point,\ncausing the StringIndexOutOfBoundsException when substringing.\n\nSo we need to rewrite this class to handle both formats for culling plugin\nversion in order to be able to rename folders/jars. ",
    "Turns out this has nothing to do with M7, only to do with migrating from\nplugin.xml to MANIFEST.MF. Old plugin.xml files used to contain, in part\n\n\u003cplugin \n   version\u003d\"2.1.0\"\n   ...\n/\u003e\n\nbut now the plugin tag is empty, in favour of placing contents in a manifest file. \n\nAs such, UpdateBuilderEMF needed to be updated. See original Eclipse version and\nEMF variant in emf-home/update-site/ant-build/org/eclipse/releng/generators/;\nnote also that buildEMFUpdateJars.xml and buildUpdateBuilder.xml have changed,\nas has emf-build/scripts/buildUpdate.sh.\n\nSee also bug 98190.\n\nWorking (tested with 3.1RC1) as of build 2.1.0.I200506020944. Note that UM in\nRC1 does NOT work with earlier EMF drivers.\n",
    "emf-home/update-site/ant-build/buildTools.jar updated too (copied from latest in\norg.eclipse.build.tools)",
    "Fixed in build 2.1.0 I200506091102"
  ],
  "commentCreationDates": [
    "2005-05-31T23:33:42+02:00",
    "2005-06-01T21:31:10+02:00",
    "2005-06-03T00:05:18+02:00",
    "2005-06-03T00:10:13+02:00",
    "2005-06-09T21:43:54+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.StringIndexOutOfBoundsException",
      "message": "String index out of range: -1      [java]",
      "elements": [
        {
          "method": "java.lang.StringBuffer.substring",
          "source": "StringBuffer.java:797"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "97751",
      "date": "2005-05-31T23:33:42+02:00",
      "product": "EMF",
      "component": "Website",
      "severity": "normal"
    }
  ],
  "groupId": "97751",
  "bugId": "97751",
  "date": "2005-05-31T23:33:42+02:00",
  "product": "EMF",
  "component": "Website",
  "severity": "normal"
}