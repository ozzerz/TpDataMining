{
  "comments": [
    "Build id: I20050104-1600\n\nUsing the following classes\n\npublic class A {\n    private void bar(B b, C c) {\n        foo(b, c);\n    }\n\n    private void foo(B b, C c) {\n        b.setX(c.getX());\n    }\n}\n\npublic class B {\n    public void setX(String x) {}\n}\n\npublic class C {\n    public String getX() {\n        return null;\n    }\n}\n\nI get a MalformedTreeException, when trying to move A#foo(A,B) to either A or B.\nIf A#bar(A,B) visibility is changed to \"public\" (or \"default\") the move works.\n\nI think (but that\u0027s just a rough guess) the refactoring tries to delete/modify\nthe private modifier of A#bar() (but why?)\n\norg.eclipse.text.edits.MalformedTreeException: Range of child edit lies outside\nof parent edit\n\tat org.eclipse.text.edits.TextEdit.internalAdd(TextEdit.java:742)\n\tat org.eclipse.text.edits.TextEdit.addChild(TextEdit.java:336)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MoveInstanceMethodProcessor.createMethodContent(MoveInstanceMethodProcessor.java:1860)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MoveInstanceMethodProcessor.createMethodSignature(MoveInstanceMethodProcessor.java:2313)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MoveInstanceMethodProcessor.createChangeManager(MoveInstanceMethodProcessor.java:1545)\n\tat\norg.eclipse.jdt.internal.corext.refactoring.structure.MoveInstanceMethodProcessor.checkFinalConditions(MoveInstanceMethodProcessor.java:1095)\n\tat\norg.eclipse.ltk.core.refactoring.participants.ProcessorBasedRefactoring.checkFinalConditions(ProcessorBasedRefactoring.java:153)\n\tat\norg.eclipse.ltk.core.refactoring.CheckConditionsOperation.run(CheckConditionsOperation.java:84)\n\tat\norg.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:114)\n\tat\norg.eclipse.ltk.core.refactoring.PerformChangeOperation.run(PerformChangeOperation.java:188)\n\tat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1688)\n\tat\norg.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:58)\n\tat\norg.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:111)",
    "\n\n*** This bug has been marked as a duplicate of 82337 ***"
  ],
  "commentCreationDates": [
    "2005-01-08T13:29:56+01:00",
    "2005-01-26T17:21:58+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.text.edits.MalformedTreeException",
      "message": "Range of child edit lies outside of parent edit",
      "elements": [
        {
          "method": "org.eclipse.text.edits.TextEdit.internalAdd",
          "source": "TextEdit.java:742"
        },
        {
          "method": "org.eclipse.text.edits.TextEdit.addChild",
          "source": "TextEdit.java:336"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.structure.MoveInstanceMethodProcessor.createMethodContent",
          "source": "MoveInstanceMethodProcessor.java:1860"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.structure.MoveInstanceMethodProcessor.createMethodSignature",
          "source": "MoveInstanceMethodProcessor.java:2313"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.structure.MoveInstanceMethodProcessor.createChangeManager",
          "source": "MoveInstanceMethodProcessor.java:1545"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.structure.MoveInstanceMethodProcessor.checkFinalConditions",
          "source": "MoveInstanceMethodProcessor.java:1095"
        },
        {
          "method": "org.eclipse.ltk.core.refactoring.participants.ProcessorBasedRefactoring.checkFinalConditions",
          "source": "ProcessorBasedRefactoring.java:153"
        },
        {
          "method": "org.eclipse.ltk.core.refactoring.CheckConditionsOperation.run",
          "source": "CheckConditionsOperation.java:84"
        },
        {
          "method": "org.eclipse.ltk.core.refactoring.CreateChangeOperation.run",
          "source": "CreateChangeOperation.java:114"
        },
        {
          "method": "org.eclipse.ltk.core.refactoring.PerformChangeOperation.run",
          "source": "PerformChangeOperation.java:188"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1688"
        },
        {
          "method": "org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run",
          "source": "WorkbenchRunnableAdapter.java:58"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:111"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "82420",
      "duplicateId": "82337",
      "date": "2005-01-08T13:29:56+01:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "82337",
  "bugId": "82420",
  "duplicateId": "82337",
  "date": "2005-01-08T13:29:56+01:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}