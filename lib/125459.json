{
  "comments": [
    "I have 2 ecore diagram (so, 2 ecore models) : Base \u0026 Tool.\n\nI created an Base ecore diagram using GMF ecore editor containing a PObject \nEClass.\nI created an Tool ecore diagram using GMF ecore editor containing a \nPToolComponent EClass.\n\nI want a generalization like : Tool.PToolComponent -\u003e Base.PObject.\n\nI tried to set Tool.PToolComponent  ESuperTypes EMF attribute  with \"PObject \n\"  from the combo in the properties view.\n\nThis operation leads to an exception (see below).\n\nIs it the right way to do ?\n\nIf NO, let me know how to do.\nIf YES, I will raise a bugzilla against the ecore editor since for me it is \na bug.\n\nregards,\n\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\njava.lang.ClassCastException: org.eclipse.emf.ecore.impl.EClassImpl\n at org.eclipse.emf.edit.command.SetCommand.create(SetCommand.java:110)\n at org.eclipse.emf.edit.command.SetCommand.create(SetCommand.java:89)\n at \norg.eclipse.emf.edit.provider.ItemPropertyDescriptor.setPropertyValue(ItemPropertyDescriptor.java:1317)\n at \norg.eclipse.gmf.runtime.emf.ui.properties.descriptors.EMFCompositeSourcePropertyDescriptor.setPropertyValue(EMFCompositeSourcePropertyDescriptor.java:426)\n at \norg.eclipse.gmf.runtime.emf.ui.properties.descriptors.EMFCompositePropertySource.setPropertyValue(EMFCompositePropertySource.java:233)\n at \norg.eclipse.gmf.runtime.emf.ui.properties.commands.SetModelPropertyValueCommand.doExecute(SetModelPropertyValueCommand.java:117)\n at \norg.eclipse.gmf.runtime.common.core.command.AbstractCommand.execute(AbstractCommand.java:174)\n at \norg.eclipse.gmf.runtime.emf.commands.core.command.AbstractModelCommand.access$0(AbstractModelCommand.java:1)\n at \norg.eclipse.gmf.runtime.emf.commands.core.command.AbstractModelCommand$1.run(AbstractModelCommand.java:218)\n at \norg.eclipse.gmf.runtime.emf.core.internal.domain.MSLEditingDomain.runAsWrite(MSLEditingDomain.java:1023)\n at \norg.eclipse.gmf.runtime.emf.core.util.OperationUtil.runAsWrite(OperationUtil.java:341)\n at \norg.eclipse.gmf.runtime.emf.commands.core.command.AbstractModelCommand$2.run(AbstractModelCommand.java:228)\n at \norg.eclipse.gmf.runtime.emf.core.internal.domain.MSLEditingDomain.runInUndoInterval(MSLEditingDomain.java:898)\n at \norg.eclipse.gmf.runtime.emf.core.internal.domain.MSLEditingDomain.runInUndoInterval(MSLEditingDomain.java:874)\n at \norg.eclipse.gmf.runtime.emf.core.util.OperationUtil.runInUndoInterval(OperationUtil.java:140)\n at \norg.eclipse.gmf.runtime.emf.commands.core.command.AbstractModelCommand.execute(AbstractModelCommand.java:223)\n at \norg.eclipse.gmf.runtime.emf.commands.core.command.CompositeModelCommand.executeCommands(CompositeModelCommand.java:319)\n at \norg.eclipse.gmf.runtime.emf.commands.core.command.CompositeModelCommand.access$1(CompositeModelCommand.java:304)\n at \norg.eclipse.gmf.runtime.emf.commands.core.command.CompositeModelCommand$1.run(CompositeModelCommand.java:250)\n at \norg.eclipse.gmf.runtime.emf.core.internal.domain.MSLEditingDomain.runAsWrite(MSLEditingDomain.java:1023)\n at \norg.eclipse.gmf.runtime.emf.core.util.OperationUtil.runAsWrite(OperationUtil.java:341)\n at \norg.eclipse.gmf.runtime.emf.commands.core.command.CompositeModelCommand$2.run(CompositeModelCommand.java:271)\n at \norg.eclipse.gmf.runtime.emf.core.internal.domain.MSLEditingDomain.runInUndoInterval(MSLEditingDomain.java:898)\n at \norg.eclipse.gmf.runtime.emf.core.internal.domain.MSLEditingDomain.runInUndoInterval(MSLEditingDomain.java:874)\n at \norg.eclipse.gmf.runtime.emf.core.util.OperationUtil.runInUndoInterval(OperationUtil.java:140)\n at \norg.eclipse.gmf.runtime.emf.commands.core.command.CompositeModelCommand.execute(CompositeModelCommand.java:266)\n at \norg.eclipse.gmf.runtime.emf.ui.properties.sections.UndoableModelPropertySheetEntry.valueChanged(UndoableModelPropertySheetEntry.java:192)\n at \norg.eclipse.gmf.runtime.emf.ui.properties.sections.UndoableModelPropertySheetEntry.setValue(UndoableModelPropertySheetEntry.java:155)\n at \norg.eclipse.gmf.runtime.emf.ui.properties.sections.UndoableModelPropertySheetEntry.applyEditorValue(UndoableModelPropertySheetEntry.java:96)\n at \norg.eclipse.ui.views.properties.PropertySheetViewer.applyEditorValue(PropertySheetViewer.java:246)\n at \norg.eclipse.ui.views.properties.PropertySheetViewer.handleSelect(PropertySheetViewer.java:663)\n at \norg.eclipse.ui.views.properties.PropertySheetViewer.access$7(PropertySheetViewer.java:660)\n at \norg.eclipse.ui.views.properties.PropertySheetViewer$5.mouseDown(PropertySheetViewer.java:769)\n at \norg.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:133)\n at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:920)\n at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3287)\n at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2907)\n at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1790)\n at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1754)\n at \norg.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:400)\n at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)\n at \norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:109)\n at \norg.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n at \norg.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n at \norg.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:373)\n at \norg.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:168)\n at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n at java.lang.reflect.Method.invoke(Unknown Source)\n at org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)\n at org.eclipse.core.launcher.Main.basicRun(Main.java:282)\n at org.eclipse.core.launcher.Main.run(Main.java:977)\n at org.eclipse.core.launcher.Main.main(Main.java:952)",
    "Created an attachment (id\u003d33718)\npatch for the runtime\n\n",
    "Seems like this is a problem in a runtime code. Incorrect CellEditor will be created for features which has isMany() \u003d\u003d true. I\u0027ve copied corresponding code from the parent class (org.eclipse.emf.edit.ui.provider.PropertyDescriptor) and it start working. \n\nBTW, the code in EMFCompositeSourcePropertyDescriptor.doCreateEditor() looks very similar to the code from PropertyDescriptor.createPropertyEditor(). Can we reuse code from superclass at least in some cases instead of duplicatin it locally?",
    "Concerning the valid way to create generatization link to an element from another model, you can use \"create shortcut\" dialog to create a referenc to an element from another model on your diagram and then use palette tool to drae generalization link.\n\nIf an issue with cell editor will be fixed, you\u0027ll probably face another problem in property view: https://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d124806\n\nBut with possibiltity to create shortcut on diagram you can work around this issue.",
    "Assigning to common component",
    "Related to Bug 141314 ?",
    "Bug 140070 , Bug 125459 and Bug 141314 are all related to EMFCompositeSourcePropertyDescriptor",
    "*** Bug 141314 has been marked as a duplicate of this bug. ***",
    "There is indeed an unfortunate amount of code duplication in the\nEMFCompositeSourcePropertyDescriptor from it\u0027s superclass. As far as I can\ntell, this was done to provide subclasses with a finer granularity of\noverridable behaviour from what EMF provides.  Without having looked into it in\ngreat detail, I\u0027d guess that clients should be customizing their item property\ndescriptors rather than subclassing the methods in\nEMFCompositeSourcePropertyDescriptor.  I\u0027ve opened bug 152765 to track this\npart of the problem separately, since it looks like it will involve changes to the API.",
    "Committed the patch (with some minor changes to the organization of the new code).\n\nVerified in the Mindmap example that the dialog cell editor can be used to edit multi-valued properties like Thread resources."
  ],
  "commentCreationDates": [
    "2006-01-27T12:38:08+01:00",
    "2006-01-27T16:57:11+01:00",
    "2006-01-27T17:05:03+01:00",
    "2006-01-27T17:08:53+01:00",
    "2006-02-13T15:19:01+01:00",
    "2006-07-14T20:55:43+02:00",
    "2006-08-01T17:30:17+02:00",
    "2006-08-03T17:18:15+02:00",
    "2006-08-03T19:20:58+02:00",
    "2006-08-08T17:01:58+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.emf.ecore.impl.EClassImpl",
      "elements": [
        {
          "method": "org.eclipse.emf.edit.command.SetCommand.create",
          "source": "SetCommand.java:110"
        },
        {
          "method": "org.eclipse.emf.edit.command.SetCommand.create",
          "source": "SetCommand.java:89"
        },
        {
          "method": "org.eclipse.emf.edit.provider.ItemPropertyDescriptor.setPropertyValue",
          "source": "ItemPropertyDescriptor.java:1317"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.ui.properties.descriptors.EMFCompositeSourcePropertyDescriptor.setPropertyValue",
          "source": "EMFCompositeSourcePropertyDescriptor.java:426"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.ui.properties.descriptors.EMFCompositePropertySource.setPropertyValue",
          "source": "EMFCompositePropertySource.java:233"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.ui.properties.commands.SetModelPropertyValueCommand.doExecute",
          "source": "SetModelPropertyValueCommand.java:117"
        },
        {
          "method": "org.eclipse.gmf.runtime.common.core.command.AbstractCommand.execute",
          "source": "AbstractCommand.java:174"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.commands.core.command.AbstractModelCommand.access$0",
          "source": "AbstractModelCommand.java:1"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.commands.core.command.AbstractModelCommand$1.run",
          "source": "AbstractModelCommand.java:218"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.core.internal.domain.MSLEditingDomain.runAsWrite",
          "source": "MSLEditingDomain.java:1023"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.core.util.OperationUtil.runAsWrite",
          "source": "OperationUtil.java:341"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.commands.core.command.AbstractModelCommand$2.run",
          "source": "AbstractModelCommand.java:228"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.core.internal.domain.MSLEditingDomain.runInUndoInterval",
          "source": "MSLEditingDomain.java:898"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.core.internal.domain.MSLEditingDomain.runInUndoInterval",
          "source": "MSLEditingDomain.java:874"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.core.util.OperationUtil.runInUndoInterval",
          "source": "OperationUtil.java:140"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.commands.core.command.AbstractModelCommand.execute",
          "source": "AbstractModelCommand.java:223"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.commands.core.command.CompositeModelCommand.executeCommands",
          "source": "CompositeModelCommand.java:319"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.commands.core.command.CompositeModelCommand.access$1",
          "source": "CompositeModelCommand.java:304"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.commands.core.command.CompositeModelCommand$1.run",
          "source": "CompositeModelCommand.java:250"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.core.internal.domain.MSLEditingDomain.runAsWrite",
          "source": "MSLEditingDomain.java:1023"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.core.util.OperationUtil.runAsWrite",
          "source": "OperationUtil.java:341"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.commands.core.command.CompositeModelCommand$2.run",
          "source": "CompositeModelCommand.java:271"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.core.internal.domain.MSLEditingDomain.runInUndoInterval",
          "source": "MSLEditingDomain.java:898"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.core.internal.domain.MSLEditingDomain.runInUndoInterval",
          "source": "MSLEditingDomain.java:874"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.core.util.OperationUtil.runInUndoInterval",
          "source": "OperationUtil.java:140"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.commands.core.command.CompositeModelCommand.execute",
          "source": "CompositeModelCommand.java:266"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.ui.properties.sections.UndoableModelPropertySheetEntry.valueChanged",
          "source": "UndoableModelPropertySheetEntry.java:192"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.ui.properties.sections.UndoableModelPropertySheetEntry.setValue",
          "source": "UndoableModelPropertySheetEntry.java:155"
        },
        {
          "method": "org.eclipse.gmf.runtime.emf.ui.properties.sections.UndoableModelPropertySheetEntry.applyEditorValue",
          "source": "UndoableModelPropertySheetEntry.java:96"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetViewer.applyEditorValue",
          "source": "PropertySheetViewer.java:246"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetViewer.handleSelect",
          "source": "PropertySheetViewer.java:663"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetViewer.access$7",
          "source": "PropertySheetViewer.java:660"
        },
        {
          "method": "org.eclipse.ui.views.properties.PropertySheetViewer$5.mouseDown",
          "source": "PropertySheetViewer.java:769"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:133"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:920"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3287"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2907"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1790"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1754"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:400"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:109"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:373"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:168"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:338"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:282"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "125459",
      "date": "2006-01-27T12:38:08+01:00",
      "product": "GMF",
      "component": "Runtime Common",
      "severity": "normal"
    }
  ],
  "groupId": "125459",
  "bugId": "125459",
  "date": "2006-01-27T12:38:08+01:00",
  "product": "GMF",
  "component": "Runtime Common",
  "severity": "normal"
}