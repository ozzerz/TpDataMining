{
  "comments": [
    "I am trying to deploy an RCP application via Java WebStart.  I followed the\ninstructions in the \"Deploying eclipse based application with Java Web Start\"\nitem in the help system EXACTLY.  However, when I try to start the .jnlp nothing\nhappens.\nI found this in the .log file in the configuration folder on the client...\n\njava.lang.ClassNotFoundException: org.eclipse.core.runtime.adaptor.EclipseStarter\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at org.eclipse.core.launcher.Main.invokeFramework(Main.java:331)\n    at org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n    at org.eclipse.core.launcher.WebStartMain.basicRun(WebStartMain.java:50)\n    at org.eclipse.core.launcher.Main.run(Main.java:973)\n    at org.eclipse.core.launcher.WebStartMain.main(WebStartMain.java:35)\n \n\n---------------------\n\nTurns out that the problem is that org.eclipse.core.launcher.WebStartMain does\nnot correctly find the framework bundle.\nI discovered this by including -debug as an argument to WebStartMain and trapped\nthe output in the JWS console (no easy task ;-().  The following lines appeared\nin the JWS console...\n\nFramework located:\n    file:/C:/Documents and Settings/ted stockwell/Application\nData/Sun/Java/Deployment/cache/javaws/file/D/P-1/DMC\u0026c/DMtemp/DMcontrolexample/DMplugins/RMorg.eclipse.osgi.services_3.1.0.jar\nFramework classpath:\n    file:/C:/Documents and Settings/ted stockwell/Application\nData/Sun/Java/Deployment/cache/javaws/file/D/P-1/DMC\u0026c/DMtemp/DMcontrolexample/DMplugins/RMorg.eclipse.osgi.services_3.1.0.jar\n\n\n-------------------\n\nI believe the problem is that I have included the org.eclipse.osgi.services\nbundle in my \u0027wrapping\u0027 feature and that causes\norg.eclipse.core.launcher.WebStartMain to miscalculate the framework bundle.\n\nI think the problem is in the WebStartMain.searchFor method...\n\nprotected String searchFor(final String target, String start) {\n       //The searching can be improved \n\tString[] jars \u003d getAllJars();\n\tArrayList selected \u003d new ArrayList(3);\n\tfor (int i \u003d 0; i \u003c jars.length; i++) {\n\t\tif (jars[i].indexOf(target) !\u003d -1)\n\t\t\tselected.add(jars[i]);\n\t}\n\tif (selected.size() \u003d\u003d 0)\n\t\treturn null;\n\n\tString[] selectedJars \u003d new String[selected.size()];\n\tfor (int i \u003d 0; i \u003c selected.size(); i++) {\n\t\tselectedJars[i] \u003d extractFileName((String) selected.get(i));\n\t}\n\tif (debug)\n\t\tSystem.out.println(extractInnerURL((String) selected.get(findMax(selectedJars))));\n\treturn extractInnerURL((String) selected.get(findMax(selectedJars)));\n\t}\n\n\n...notice that this method uses String.indexOf to identify a matching bundle. \nIf it used String.equals instead then it would correctly find JUST the\norg.eclipse.osgi plugin",
    "sigh.  We should consider this one for 3.1.1",
    "The webstart code has been changed last week in the 3.1.1 build as well as in\nHEAD. Could you please try again with either the latest I build from 3.2 or the\n3.1.1 drop and let me know (you just need to grab the startup.jar)",
    "What\u0027s the status of this bug for 3.1.1?  Is there any way we can verify the \nproblem is fixed?",
    "(In reply to comment #3)\n\u003e What\u0027s the status of this bug for 3.1.1?  Is there any way we can verify the \n\u003e problem is fixed?\n\nI downloaded the eclipse-SDK-M20050831-1200-win32 build and have verified that\nthe problem is fixed.",
    "Closing, based on comment #4"
  ],
  "commentCreationDates": [
    "2005-08-28T21:56:03+02:00",
    "2005-08-29T03:14:26+02:00",
    "2005-08-30T05:20:19+02:00",
    "2005-09-15T18:14:18+02:00",
    "2005-09-16T01:43:57+02:00",
    "2005-09-16T19:16:52+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassNotFoundException",
      "message": "org.eclipse.core.runtime.adaptor.EclipseStarter",
      "elements": [
        {
          "method": "java.net.URLClassLoader$1.run",
          "source": "Unknown Source"
        },
        {
          "method": "java.security.AccessController.doPrivileged",
          "source": "Native Method"
        },
        {
          "method": "java.net.URLClassLoader.findClass",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:331"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.WebStartMain.basicRun",
          "source": "WebStartMain.java:50"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.WebStartMain.main",
          "source": "WebStartMain.java:35"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "108226",
      "date": "2005-08-28T21:56:03+02:00",
      "product": "Platform",
      "component": "Runtime",
      "severity": "normal"
    }
  ],
  "groupId": "108226",
  "bugId": "108226",
  "date": "2005-08-28T21:56:03+02:00",
  "product": "Platform",
  "component": "Runtime",
  "severity": "normal"
}