{
  "comments": [
    "Using eclipse 3.2 \n\nThe \"Refactorings History\" dialog will show up on properties on resource inspection once, then next time you view properties it will no longer show up. In addition its showing up when it shouldn\u0027t (as far as I can tell). I\u0027ve seen this happen on several views and it looks like the property page just isn\u0027t registered correctly or something. \n\nSee attached document",
    "Created an attachment (id\u003d48400)\nshows refactoring history off of a resource off the navigator\n\n",
    "I think this got fixed for 3.2.1 and 3.3. Can you give this a try? Fix was for bug 151134.",
    "Steps in M20060830-0800:\n- new workspace\n- check out org.eclipse.core.expressions from CVS\n- select folder org.eclipse.core.expressions/schema and choose File \u003e Properties\n\u003d\u003e Refactoring History page is present\n\n- cancel, open properties on src\n\u003d\u003e Refactoring History page is not present\n\n- cancel, open properties on schema again\n\u003d\u003e Refactoring History page is not present any more\n\nI guess this has something to do with lazy plugin loading.",
    "*** Bug 157794 has been marked as a duplicate of this bug. ***",
    "*** Bug 161308 has been marked as a duplicate of this bug. ***",
    "I\u0027m seeing the Refactoring History Property Page in Eclipse 3.2.1, in the Update Manager:\n\nHelp \u003e Software Updates \u003e Find and Install \u003e Search for New Features \u003e\n  (Select Site, e.g. http://download.eclipse.org/dsdp/tm/updates) \u003e\n  (Choose a feature, e.g. RSE Runtime / org.eclipse.rse.ftp) \u003e \n  Press Properties button\n\nWhen I press cancel to go out of the Update Manager, then try the same steps again, I cannot see the page any more.\n\nOn a different occasion, I\u0027ve got an exception from the Refactoring History Property page, from a completely unrelated property page where refactoring history was not even shown (and not expected):\n  - eclipse.buildId\u003dM20060921-0945\n  - java.version\u003dSun 1.5.0_06\n  - linux-x86-gtk\n\norg.eclipse.core.runtime.AssertionFailedException: null argument:\nat org.eclipse.core.runtime.Assert.isNotNull(Assert.java:84)\nat org.eclipse.core.runtime.Assert.isNotNull(Assert.java:72)\nat org.eclipse.ltk.internal.core.refactoring.history.RefactoringHistoryService.hasSharedRefactoringHistory(RefactoringHistoryService.java:594)\nat org.eclipse.ltk.internal.ui.refactoring.history.RefactoringPropertyPage.performOk(RefactoringPropertyPage.java:404)\nat org.eclipse.jface.preference.PreferenceDialog$11.run(PreferenceDialog.java:889)\nat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\nat org.eclipse.core.runtime.Platform.run(Platform.java:843)\nat org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)\nat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:149)\nat org.eclipse.jface.preference.PreferenceDialog.okPressed(PreferenceDialog.java:869)\nat org.eclipse.ui.internal.dialogs.FilteredPreferenceDialog.okPressed(FilteredPreferenceDialog.java:377)\nat org.eclipse.jface.preference.PreferenceDialog.buttonPressed(PreferenceDialog.java:230)\nat org.eclipse.jface.dialogs.Dialog$3.widgetSelected(Dialog.java:660)\nat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1085)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3166)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2842)\nat org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\nat org.eclipse.jface.window.Window.open(Window.java:796)\nat org.eclipse.ui.dialogs.PropertyDialogAction.run(PropertyDialogAction.java:156)\nat org.eclipse.jface.action.Action.runWithEvent(Action.java:499)\nat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539)\nat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\nat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1085)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3166)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2842)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\nat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\nat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:585)\nat org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:280)\nat org.eclipse.core.launcher.Main.run(Main.java:977)\nat org.eclipse.core.launcher.Main.main(Main.java:952)\n\n\n\n",
    "I\u0027m finding this really annoying, it\u0027s reproducable in the Update Manager as well as our project (bug 164202, bug 149122) and due to the \"Assertion Failed\" exception it can even keep me from getting my work done so it\u0027s not just a minor cosmetical thing.\n\nBut it\u0027s still in state NEW... any plans for working on this?",
    "fixed \u003e 20061114 in 3.3 and 3.2.2.\n\nThe page now only shows up on projects. It\u0027s still possible that it shows up on a project on the first invocation but not anymore on the second. This happens when the property tester that tests if a project has a refactoring history is not yet loaded. We can\u0027t and don\u0027t want to force a plugin load. ",
    "Thanks for fixing this!\n\nJust one question regarding the forced plugin load: \n\nWhen I understand it right, it can still happen that the property page is displayed when it should not be displayed. So, because of not instaniating the plugin with the tester class, the UI is instanciated. But doesn\u0027t instanciation of the UI force a load of the non-UI classes that it depends on? In other words, can it happen that because of not loading the tester, the UI gets loaded which results in loading the tester in turn?\n\nIf this assumption is true, then loading the tester in advance might make sense after all.",
    "The UI classes (and the tester code) are only loaded when you really have a look at the page. That means you have to select the \u0027Refactoing History\u0027 node on the property page.",
    "I see. Thanks.",
    "Surprising, though, that I had run into the traceback of comment 6 although I had certainly not looked at the Refactoring History Page.",
    "The problem from comment 6 can\u0027t happen anymore as the page now only show up on projects. I supsect you got the stacktrace on non-project element but must have looked at the page.\nIt would be a bug in platform if the page would be loaded without being shown. I just verified this I think everything is fine there.\n",
    "*** Bug 165179 has been marked as a duplicate of this bug. ***",
    "*** Bug 169445 has been marked as a duplicate of this bug. ***",
    "Starting verification...",
    "Using M20070112-1200 I verified the scenarios reported in this bug and its duplicates. It works in all cases but closed projects:\n\n0. start\n1. select a closed simple project\n2. open its properties\n   \u003d\u003d\u003e Refactoring page is present\n3. click \u0027OK\u0027\n\u003d\u003d\u003e error dialog plus .log entries\n",
    "Created an attachment (id\u003d56911)\nproposed patch for 3.2.2\n\nPatch shows empty page when project is not accessible. Better would be a label, but I better don\u0027t introduce new NLS strings at this time.",
    "Note that the empty page is only shown when the property action is invoked on a closed project before ltk.ui is loaded.\nAs soon as ltk.ui is loaded, this will not happen anympre, but the page won\u0027t be available in the tree at all.\n\nreleased in 3.2.2 \u003e 20070115",
    "Verified in M20070125-1400.",
    "*** Bug 183074 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2006-08-22T20:41:02+02:00",
    "2006-08-22T20:42:15+02:00",
    "2006-08-29T11:34:24+02:00",
    "2006-09-04T15:51:00+02:00",
    "2006-09-19T17:25:05+02:00",
    "2006-10-17T22:40:56+02:00",
    "2006-11-03T22:37:57+01:00",
    "2006-11-14T20:17:25+01:00",
    "2006-11-15T11:13:21+01:00",
    "2006-11-15T12:23:12+01:00",
    "2006-11-15T13:24:36+01:00",
    "2006-11-15T13:36:11+01:00",
    "2006-11-15T13:37:42+01:00",
    "2006-11-15T13:47:44+01:00",
    "2006-11-22T10:44:18+01:00",
    "2007-01-04T14:06:40+01:00",
    "2007-01-15T10:26:41+01:00",
    "2007-01-15T10:58:46+01:00",
    "2007-01-15T16:30:48+01:00",
    "2007-01-15T16:36:22+01:00",
    "2007-01-29T16:43:22+01:00",
    "2007-04-24T12:44:20+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.runtime.AssertionFailedException",
      "message": "null argument:",
      "elements": [
        {
          "method": "org.eclipse.core.runtime.Assert.isNotNull",
          "source": "Assert.java:84"
        },
        {
          "method": "org.eclipse.core.runtime.Assert.isNotNull",
          "source": "Assert.java:72"
        },
        {
          "method": "org.eclipse.ltk.internal.core.refactoring.history.RefactoringHistoryService.hasSharedRefactoringHistory",
          "source": "RefactoringHistoryService.java:594"
        },
        {
          "method": "org.eclipse.ltk.internal.ui.refactoring.history.RefactoringPropertyPage.performOk",
          "source": "RefactoringPropertyPage.java:404"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog$11.run",
          "source": "PreferenceDialog.java:889"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:843"
        },
        {
          "method": "org.eclipse.ui.internal.JFaceUtil$1.run",
          "source": "JFaceUtil.java:44"
        },
        {
          "method": "org.eclipse.jface.util.SafeRunnable.run",
          "source": "SafeRunnable.java:149"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog.okPressed",
          "source": "PreferenceDialog.java:869"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.FilteredPreferenceDialog.okPressed",
          "source": "FilteredPreferenceDialog.java:377"
        },
        {
          "method": "org.eclipse.jface.preference.PreferenceDialog.buttonPressed",
          "source": "PreferenceDialog.java:230"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$3.widgetSelected",
          "source": "Dialog.java:660"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:90"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1085"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3166"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2842"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:820"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:796"
        },
        {
          "method": "org.eclipse.ui.dialogs.PropertyDialogAction.run",
          "source": "PropertyDialogAction.java:156"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:499"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:539"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1085"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3166"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2842"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1914"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1878"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:280"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 6,
      "bugId": "154735",
      "date": "2006-11-03T22:37:57+01:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "154735",
  "bugId": "154735",
  "date": "2006-08-22T20:41:02+02:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}