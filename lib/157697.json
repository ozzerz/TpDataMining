{
  "comments": [
    "I am experimenting with EJB3 and exported my EAR application as an EAR file. I will attach it.\nI was not able to re-import it because of an error in the EJB jar. The import dialog talked about an error and promised that more details could be found in the log (I will attach the dialog).\nBut the log file does not show any messages !\n\nThis is the core part of this bug report. What comes afterwards is probably an EJB3 enhancement request...\n\nFinally I found my error. I had to finish the import (EJB project was not imported) and there I clicked around the J2EE. After expanding both \"KuchenSimpleNoAnnotation\\Deployment Descriptor: KuchenSimple\\Modules\" and\n\"KuchenSimpleNoAnnotation\\Deployment Descriptor: KuchenSimple\\\\UtilityJars\" the log showed an error message which pointed me to the problem.\n\nThe message was:\n!ENTRY org.eclipse.ui.navigator 4 0 2006-09-18 22:15:55.656\n!MESSAGE Could not acquire children from extension: org.eclipse.jst.navigator.j2ee.ui.EARDDContent\n!STACK 0\njava.lang.IllegalStateException: Parent Translator (EnterpriseBeansTranslator(entity|session|message-driven,8817773)) did not find a Child Translator for \"persistence-context-ref\".\n\tat org.eclipse.wst.common.internal.emf.resource.CacheEventNode.init(CacheEventNode.java:128)\n\tat org.eclipse.wst.common.internal.emf.resource.CacheEventNode.init(CacheEventNode.java:96)\n\tat org.eclipse.wst.common.internal.emf.resource.CacheEventPool.createCacheEventNode(CacheEventPool.java:79)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2SAXDocumentHandler.addToStack(EMF2SAXDocumentHandler.java:164)\n\tat org.eclipse.wst.common.internal.emf.resource.EMF2SAXDocumentHandler.startElement(EMF2SAXDocumentHandler.java:86)\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(Unknown Source)\n\tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source)\n...\n\nThis pointed me to the problem: the \"persistence-context-ref\" element in ejb-jar.xml confuses the importer.\n\n\nSo, to sum it up:\na) The error message has to be logged (this is the main target of this bug report)\nb) It would be great if someone could take a look in why \"persistence-context-ref\" makes import impossible. I can work fine with JBoss/EJB3 and WTP 1.5, this is the first severe problem I encountered.",
    "Created an attachment (id\u003d50429)\nScreenshot of import dialog with error message\n\n",
    "Created an attachment (id\u003d50430)\nEAR file with sources. Try to import it\n\nI use my modified JBoss serverdefinition from http://www.informatik.fh-wiesbaden.de/~knauf/public/",
    "The Java EE models in 1.5 are not EE5 compliant, and the parser doesn\u0027t recognize these elements... This is a R2.0 line item",
    "OK, then the import of this EAR will not work before 2.0. Will have to use annotations then ;-).\n\nBut the core problem (which should be fixed in the 1.5 branch) is that the import error is not logged, thus not accessible to the user.",
    "Sounds like the parse error was logged eventually....   These documents will parse fine in 2.0",
    "No, the error was not logged on importing the EAR. It appeared in the log at a later point (after some clicking around in the project).",
    "Changing target to RC0",
    "Wolfgang- if there is a strong enough reason to include it, we could investigate this for 1.5.5 (but it would have to be a customer breakage or somesuch).  Otherwise, we will try to improve our logging in 2.0.1.",
    "Nope, it is not of critical importance. I will update to 2.0 as soon as possible.\n\nBut anyway, import errors should be reported to the user in an easy to spot way, and the log delay seems strange.",
    "This is working in the 2.0 RC2 driver.",
    "I cannot reproduce the behavior with current builds because they handle JavaEE5 deployment descriptors on import.\n\nClosing."
  ],
  "commentCreationDates": [
    "2006-09-18T22:49:28+02:00",
    "2006-09-18T22:50:29+02:00",
    "2006-09-18T22:51:54+02:00",
    "2006-09-18T22:55:19+02:00",
    "2006-09-19T09:02:38+02:00",
    "2007-02-23T18:51:34+01:00",
    "2007-02-26T09:04:13+01:00",
    "2007-04-05T17:20:14+02:00",
    "2007-05-17T22:29:16+02:00",
    "2007-05-18T09:50:41+02:00",
    "2007-06-06T17:48:49+02:00",
    "2007-06-09T18:26:30+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalStateException",
      "message": "Parent Translator (EnterpriseBeansTranslator(entity|session|message-driven,8817773)) did not find a Child Translator for \"persistence-context-ref\".",
      "elements": [
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.CacheEventNode.init",
          "source": "CacheEventNode.java:128"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.CacheEventNode.init",
          "source": "CacheEventNode.java:96"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.CacheEventPool.createCacheEventNode",
          "source": "CacheEventPool.java:79"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2SAXDocumentHandler.addToStack",
          "source": "EMF2SAXDocumentHandler.java:164"
        },
        {
          "method": "org.eclipse.wst.common.internal.emf.resource.EMF2SAXDocumentHandler.startElement",
          "source": "EMF2SAXDocumentHandler.java:86"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement",
          "source": "Unknown Source"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement",
          "source": "Unknown Source"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch",
          "source": "Unknown Source"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument",
          "source": "Unknown Source"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse",
          "source": "Unknown Source"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse",
          "source": "Unknown Source"
        },
        {
          "method": "com.sun.org.apache.xerces.internal.parsers.XMLParser.parse",
          "source": "Unknown Source"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "157697",
      "date": "2006-09-18T22:49:28+02:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "normal"
    }
  ],
  "groupId": "157697",
  "bugId": "157697",
  "date": "2006-09-18T22:49:28+02:00",
  "product": "Web Tools",
  "component": "jst.j2ee",
  "severity": "normal"
}