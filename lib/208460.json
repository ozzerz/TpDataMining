{
  "comments": [
    "Build ID: I20070625-1500\n\nSteps To Reproduce:\n1. Paste the following into a java project:\n\n+++++++++++++++++++++++++++++++++++++++++++++\nimport junit.framework.TestCase;\n\npublic class NulCharacterInJUnitTestFailureMessage extends TestCase {\n    public void testNul() {\n        String message \u003d \"This message contains a NUL {\\0} and then some more text.\";\n        fail(message);\n    }\n}\n+++++++++++++++++++++++++++++++++++++++++++++\n\n2.Run this as a JUnit Test\n3.Run some other test (need to have more than one entry in the JUnit test history; can be before or after the above test).\n4.Click the JUnit history drop-down, and switch back and forth between a successful test and the failing test above).\n5.Notice that an error has been generated.  If you have a JUnit history with many valid entries (without NULs), they will no longer be accessible (you won\u0027t be able to see the list of test cases).\n\nMore information:\nThe error is generated because the SAX parser is unable to parse \u0026#0;, which is what the NUL character was translated to.  This in turn is because NUL is not a legal XML character (I ran into exactly this problem several years ago with an XML parser written in C).\n\nYou might say \"Don\u0027t do that!\", and I will fix the code that led to this problem, but it would be nice to fix this bug so that others don\u0027t spend the time trying to figure out what went wrong.  FWIW, my solution in the past was to translate NUL to Unicode\u0027s user/vendor area before writing the XML file, and then back again in my SAX handler.\n\nHere is the error:\n\neclipse.buildId\u003dI20071004-2151\njava.fullversion\u003dJ2RE 1.5.0 IBM J9 2.3 Windows XP x86-32 j9vmwi3223-20070426 (JIT enabled)\nJ9VM - 20070420_12448_lHdSMR\nJIT  - 20070419_1806_r8\nGC   - 200704_19\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_US\nFramework arguments:  -showlocation -showlocation\nCommand-line arguments:  -os win32 -ws win32 -arch x86 -clean -showlocation -clean -showlocation -clean -data D:\\jmsynge\\jazzdev-repo-work\nThis is a continuation of log file D:\\jmsynge\\jazzdev-repo-work\\.metadata\\.bak_2.log\nCreated Time: 2007-10-29 17:29:19.363\n\nError\nThu Nov 01 14:03:15 EDT 2007\nThe test run could not be imported from file \u0027D:\\jmsynge\\jazzdev-repo-work\\.metadata\\.plugins\\org.eclipse.jdt.junit\\history\\20071101-140251.583.xml\u0027.\n\norg.xml.sax.SAXParseException: Character reference \"\u0026#0\" is an invalid XML character.\nat org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(Unknown Source)\nat org.apache.xerces.util.ErrorHandlerWrapper.fatalError(Unknown Source)\nat org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\nat org.apache.xerces.impl.XMLErrorReporter.reportError(Unknown Source)\nat org.apache.xerces.impl.XMLScanner.reportFatalError(Unknown Source)\nat org.apache.xerces.impl.XMLScanner.scanCharReferenceValue(Unknown Source)\nat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanCharReference(Unknown Source)\nat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)\nat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\nat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\nat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\nat org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\nat org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\nat org.apache.xerces.jaxp.SAXParserImpl.parse(Unknown Source)\nat javax.xml.parsers.SAXParser.parse(Unknown Source)\nat org.eclipse.jdt.internal.junit.model.JUnitModel.importIntoTestRunSession(JUnitModel.java:424)\nat org.eclipse.jdt.internal.junit.model.TestRunSession.swapIn(TestRunSession.java:356)\nat org.eclipse.jdt.internal.junit.model.TestRunSession.addTestSessionListener(TestRunSession.java:298)\nat org.eclipse.jdt.internal.junit.ui.TestRunnerViewPart.setActiveTestRunSession(TestRunnerViewPart.java:1215)\nat org.eclipse.jdt.internal.junit.ui.TestRunnerViewPart.access$2(TestRunnerViewPart.java:1164)\nat org.eclipse.jdt.internal.junit.ui.TestRunnerViewPart$RunnerViewHistory.setActiveEntry(TestRunnerViewPart.java:330)\nat org.eclipse.jdt.internal.ui.viewsupport.HistoryDropDownAction$HistoryAction.run(HistoryDropDownAction.java:54)\nat org.eclipse.jface.action.Action.runWithEvent(Action.java:498)\nat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:545)\nat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490)\nat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:402)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3682)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3293)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353)\nat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219)\nat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)\nat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\nat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\nat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:615)\nat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:504)\nat org.eclipse.equinox.launcher.Main.basicRun(Main.java:443)\nat org.eclipse.equinox.launcher.Main.run(Main.java:1169)"
  ],
  "commentCreationDates": [
    "2007-11-01T19:15:47+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.xml.sax.SAXParseException",
      "message": "Character reference \"\u0026#0\" is an invalid XML character.",
      "elements": [
        {
          "method": "org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.util.ErrorHandlerWrapper.fatalError",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLErrorReporter.reportError",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLErrorReporter.reportError",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLScanner.reportFatalError",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLScanner.scanCharReferenceValue",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanCharReference",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.parsers.XML11Configuration.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.parsers.XML11Configuration.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.parsers.XMLParser.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.parsers.AbstractSAXParser.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.jaxp.SAXParserImpl.parse",
          "source": "Unknown Source"
        },
        {
          "method": "javax.xml.parsers.SAXParser.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.model.JUnitModel.importIntoTestRunSession",
          "source": "JUnitModel.java:424"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.model.TestRunSession.swapIn",
          "source": "TestRunSession.java:356"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.model.TestRunSession.addTestSessionListener",
          "source": "TestRunSession.java:298"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.ui.TestRunnerViewPart.setActiveTestRunSession",
          "source": "TestRunnerViewPart.java:1215"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.ui.TestRunnerViewPart.access$2",
          "source": "TestRunnerViewPart.java:1164"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.ui.TestRunnerViewPart$RunnerViewHistory.setActiveEntry",
          "source": "TestRunnerViewPart.java:330"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.viewsupport.HistoryDropDownAction$HistoryAction.run",
          "source": "HistoryDropDownAction.java:54"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:498"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:545"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:490"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:402"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3682"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3293"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2389"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2353"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2219"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:466"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:461"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:153"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:363"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:176"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:64"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:43"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:615"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:504"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:443"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1169"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "208460",
      "date": "2007-11-01T19:15:47+01:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "208460",
  "bugId": "208460",
  "date": "2007-11-01T19:15:47+01:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}