{
  "comments": [
    "20020521\n\nWe have code to detect reentry in a few of our methods to try and track down\nsome difficult to reproduce bugs.\n\nThe code detected reentry caused by an activation callback when disposing a\nCoolItem. There was a similar problem with toolitems on Motif and I tink Steve\nreleased a fix for it.\n\nHere is the stack, I don\u0027t have a reproducable case.\n\n!ENTRY org.eclipse.ui 4 0 May 22, 2002 12:11:21.199\n!MESSAGE Re-entry in ActionSwitcher.updateActivePart\n!STACK 0\njava.lang.Exception\n\tat\norg.eclipse.ui.internal.WorkbenchPage$ActionSwitcher.updateActivePart(WorkbenchPage.java:93)\n\tat org.eclipse.ui.internal.WorkbenchPage.setActivePart(WorkbenchPage.java:2064)\n\tat org.eclipse.ui.internal.WorkbenchPage.requestActivation(WorkbenchPage.java:1851)\n\tat org.eclipse.ui.internal.PartPane.requestActivation(PartPane.java:326)\n\tat org.eclipse.ui.internal.EditorPane.requestActivation(EditorPane.java:129)\n\tat org.eclipse.ui.internal.PartPane.handleEvent(PartPane.java:300)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:781)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:785)\n\tat org.eclipse.swt.widgets.Shell.setActiveControl(Shell.java:1038)\n\tat org.eclipse.swt.widgets.Control.processSetFocus(Control.java:1454)\n\tat org.eclipse.swt.widgets.Widget.processEvent(Widget.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java(Compiled Code))\n\tat org.eclipse.swt.internal.motif.OS.XtDestroyWidget(Native Method)\n\tat org.eclipse.swt.widgets.Widget.destroyWidget(Widget.java:241)\n\tat org.eclipse.swt.widgets.Widget.dispose(Widget.java:276)\n\tat org.eclipse.swt.widgets.CoolItem.dispose(CoolItem.java:199)\n\tat org.eclipse.ui.internal.CoolBarManager.update(CoolBarManager.java:643)\n\tat\norg.eclipse.ui.internal.WorkbenchWindow.updateActionBars(WorkbenchWindow.java:1343)\n\tat\norg.eclipse.ui.internal.WorkbenchWindow.updateActionSets(WorkbenchWindow.java:1360)\n\tat\norg.eclipse.ui.internal.WorkbenchPage$ActionSwitcher.updateActionSets(WorkbenchPage.java:306)\n\tat\norg.eclipse.ui.internal.WorkbenchPage$ActionSwitcher.updateTopEditor(WorkbenchPage.java:210)\n\tat org.eclipse.ui.internal.WorkbenchPage.bringToTop(WorkbenchPage.java:482)\n\tat\norg.eclipse.jdt.internal.ui.javaeditor.JavaEditor.doSelectionChanged(JavaEditor.java:459)\n\tat\norg.eclipse.jdt.internal.ui.javaeditor.JavaEditor$SelectionChangedListener.selectionChanged(JavaEditor.java:139)\n\tat org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:147)\n\tat\norg.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:1154)\n\tat org.eclipse.jface.viewers.StructuredViewer.setSelection(StructuredViewer.java:903)\n\tat\norg.eclipse.jdt.internal.ui.javaeditor.JavaOutlinePage.select(JavaOutlinePage.java:846)\n\tat\norg.eclipse.jdt.internal.ui.javaeditor.JavaEditor.synchronizeOutlinePageSelection(JavaEditor.java:302)\n\tat\norg.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor$3.run(CompilationUnitEditor.java:1319)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:29)\n\tat\norg.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java(Compiled\nCode))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1068)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:739)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:462)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:200)\n\tat org.eclipse.core.launcher.Main.run(Main.java:643)\n\tat org.eclipse.core.launcher.Main.main(Main.java:476)",
    "Here are some steps \n\n1. Create a java project J and add java files A.java and B.java\n2. Go to the resource navigator\n3. Find the folder containing the files\n4. Select A.java and B.class\u003eOpen\n5. Note that A.java is active, click in it.\n6. Now without activating B.class, press its \"x\" icon in the editor toolbar\n\nThe stack will be written to the log.\n",
    "Presumably, if the item being destroyed had the focus, then it would need \nto be set to a new widget. This could potentially cause an activation \ncallback. Do you think there is more to the problem than this?",
    "I don\u0027t understand why the coolItem would have focus in normal use of the \ndesktop. One can give it focus using ctrl-tab but I never do. In the case that \nSteve and I looked at involving toolitem, the item did not have focus when \ndisposed but triggered an activation callback.\n\nSee my comment near the end of 13804.",
    "Reassigning to our CoolBar expert \u003cg\u003e.  Note that this problem is causing an \nexception.\n",
    "Fixed by same change as 14463"
  ],
  "commentCreationDates": [
    "2002-05-22T22:04:25+02:00",
    "2002-05-22T22:12:04+02:00",
    "2002-05-23T15:40:21+02:00",
    "2002-05-23T15:51:18+02:00",
    "2002-05-27T19:07:59+02:00",
    "2002-06-05T17:42:20+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.Exception",
      "elements": [
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$ActionSwitcher.updateActivePart",
          "source": "WorkbenchPage.java:93"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.setActivePart",
          "source": "WorkbenchPage.java:2064"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.requestActivation",
          "source": "WorkbenchPage.java:1851"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.requestActivation",
          "source": "PartPane.java:326"
        },
        {
          "method": "org.eclipse.ui.internal.EditorPane.requestActivation",
          "source": "EditorPane.java:129"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.handleEvent",
          "source": "PartPane.java:300"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:781"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:785"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.setActiveControl",
          "source": "Shell.java:1038"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.processSetFocus",
          "source": "Control.java:1454"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.processEvent",
          "source": "Widget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.internal.motif.OS.XtDestroyWidget",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.destroyWidget",
          "source": "Widget.java:241"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.dispose",
          "source": "Widget.java:276"
        },
        {
          "method": "org.eclipse.swt.widgets.CoolItem.dispose",
          "source": "CoolItem.java:199"
        },
        {
          "method": "org.eclipse.ui.internal.CoolBarManager.update",
          "source": "CoolBarManager.java:643"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.updateActionBars",
          "source": "WorkbenchWindow.java:1343"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.updateActionSets",
          "source": "WorkbenchWindow.java:1360"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$ActionSwitcher.updateActionSets",
          "source": "WorkbenchPage.java:306"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$ActionSwitcher.updateTopEditor",
          "source": "WorkbenchPage.java:210"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.bringToTop",
          "source": "WorkbenchPage.java:482"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.doSelectionChanged",
          "source": "JavaEditor.java:459"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.JavaEditor$SelectionChangedListener.selectionChanged",
          "source": "JavaEditor.java:139"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer.fireSelectionChanged",
          "source": "Viewer.java:147"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateSelection",
          "source": "StructuredViewer.java:1154"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.setSelection",
          "source": "StructuredViewer.java:903"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.JavaOutlinePage.select",
          "source": "JavaOutlinePage.java:846"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.synchronizeOutlinePageSelection",
          "source": "JavaEditor.java:302"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor$3.run",
          "source": "CompilationUnitEditor.java:1319"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:29"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1068"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:739"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:462"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:200"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:643"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:476"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "17036",
      "date": "2002-05-22T22:04:25+02:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    }
  ],
  "groupId": "17036",
  "bugId": "17036",
  "date": "2002-05-22T22:04:25+02:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "normal"
}