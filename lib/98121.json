{
  "comments": [
    "Rafael knows the details.\nI was running a build and generated a new script in the meantime. When the build\nscript was about to be opened by the editor, the file had been deleted by the\nrunning build leaving the resource tree in an inconsistent state, which then\ncaused this problem.\n\njava.io.FileNotFoundException: d:\\tmp\\97945\\org.eclipse.core.tools\\build.xml\n(The system cannot find the file specified)\n\tat java.io.FileInputStream.open(Native Method)\n\tat java.io.FileInputStream.\u003cinit\u003e(FileInputStream.java:106)\n\tat\norg.eclipse.core.internal.resources.ContentDescriptionManager$LazyFileInputStream.ensureOpened(ContentDescriptionManager.java:151)\n\tat\norg.eclipse.core.internal.resources.ContentDescriptionManager$LazyFileInputStream.read(ContentDescriptionManager.java:160)\n\tat java.io.InputStream.read(InputStream.java:89)\n\tat\norg.eclipse.core.internal.content.LazyInputStream.loadBlock(LazyInputStream.java:99)\n\tat\norg.eclipse.core.internal.content.LazyInputStream.ensureAvailable(LazyInputStream.java:64)\n\tat org.eclipse.core.internal.content.LazyInputStream.read(LazyInputStream.java:119)\n\tat\norg.eclipse.core.internal.content.TextContentDescriber.getByteOrderMark(TextContentDescriber.java:65)\n\tat\norg.eclipse.core.internal.content.XMLContentDescriber.describe(XMLContentDescriber.java:35)\n\tat\norg.eclipse.ant.internal.core.contentDescriber.AntBuildfileContentDescriber.describe(AntBuildfileContentDescriber.java:87)\n\tat org.eclipse.core.internal.content.ContentType.describe(ContentType.java:162)\n\tat\norg.eclipse.core.internal.content.ContentTypeCatalog.collectMatchingByContents(ContentTypeCatalog.java:188)\n\tat\norg.eclipse.core.internal.content.ContentTypeCatalog.internalFindContentTypesFor(ContentTypeCatalog.java:356)\n\tat\norg.eclipse.core.internal.content.ContentTypeCatalog.internalFindContentTypesFor(ContentTypeCatalog.java:393)\n\tat\norg.eclipse.core.internal.content.ContentTypeCatalog.getDescriptionFor(ContentTypeCatalog.java:302)\n\tat\norg.eclipse.core.internal.content.ContentTypeCatalog.getDescriptionFor(ContentTypeCatalog.java:316)\n\tat\norg.eclipse.core.internal.content.ContentTypeMatcher.getDescriptionFor(ContentTypeMatcher.java:87)\n\tat\norg.eclipse.core.internal.resources.ContentDescriptionManager.readDescription(ContentDescriptionManager.java:394)\n\tat\norg.eclipse.core.internal.resources.ContentDescriptionManager.getDescriptionFor(ContentDescriptionManager.java:333)\n\tat org.eclipse.core.internal.resources.File.getContentDescription(File.java:276)\n\tat org.eclipse.ui.ide.IDE.getContentType(IDE.java:960)\n\tat org.eclipse.ui.ide.IDE.getDefaultEditor(IDE.java:910)\n\tat org.eclipse.ui.ide.IDE.getEditorDescriptor(IDE.java:538)\n\tat org.eclipse.ui.ide.IDE.openEditor(IDE.java:370)\n\tat org.eclipse.ui.ide.IDE.openEditor(IDE.java:334)\n\tat org.eclipse.ui.actions.OpenFileAction.openFile(OpenFileAction.java:98)\n\tat\norg.eclipse.ui.actions.OpenSystemEditorAction.run(OpenSystemEditorAction.java:98)\n\tat\norg.eclipse.ui.views.navigator.OpenActionGroup.runDefaultAction(OpenActionGroup.java:120)\n\tat\norg.eclipse.ui.views.navigator.MainActionGroup.runDefaultAction(MainActionGroup.java:326)\n\tat\norg.eclipse.ui.views.navigator.ResourceNavigator.handleOpen(ResourceNavigator.java:650)\n\tat\norg.eclipse.ui.views.navigator.ResourceNavigator$6.open(ResourceNavigator.java:409)\n\tat org.eclipse.jface.viewers.StructuredViewer$2.run(StructuredViewer.java:741)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1038)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:775)\n\tat org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)\n\tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148)\n\tat org.eclipse.jface.viewers.StructuredViewer.fireOpen(StructuredViewer.java:739)\n\tat org.eclipse.jface.viewers.StructuredViewer.handleOpen(StructuredViewer.java:968)\n\tat\norg.eclipse.jface.viewers.StructuredViewer$6.handleOpen(StructuredViewer.java:1067)\n\tat org.eclipse.jface.util.OpenStrategy.fireOpenEvent(OpenStrategy.java:243)\n\tat org.eclipse.jface.util.OpenStrategy.access$2(OpenStrategy.java:238)\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:277)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:844)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2929)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2562)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1694)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1658)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:366)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:375)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:162)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n\tat org.eclipse.core.launcher.Main.run(Main.java:973)\n\tat org.eclipse.core.launcher.Main.main(Main.java:948)\n\n\n\n\nThread [main] (Suspended (exception ResourceException))\n\tContentDescriptionManager.readDescription(File) line: 397\n\tContentDescriptionManager.getDescriptionFor(File, ResourceInfo) line: 333\n\tFile.getContentDescription() line: 276\n\tIDE.getContentType(IFile) line: 960\n\tIDE.getDefaultEditor(IFile, boolean) line: 910\n\tIDE.getEditorDescriptor(IFile, boolean) line: 538\n\tIDE.openEditor(IWorkbenchPage, IFile, boolean, boolean) line: 370\n\tIDE.openEditor(IWorkbenchPage, IFile, boolean) line: 334\n\tOpenFileAction.openFile(IFile) line: 98\n\tOpenFileAction(OpenSystemEditorAction).run() line: 98\n\tOpenActionGroup.runDefaultAction(IStructuredSelection) line: 120\n\tMainActionGroup.runDefaultAction(IStructuredSelection) line: 326\n\tResourceNavigator.handleOpen(OpenEvent) line: 650\n\tResourceNavigator$6.open(OpenEvent) line: 409\n\tStructuredViewer$2.run() line: 741\n\tInternalPlatform.run(ISafeRunnable) line: 1038\n\tPlatform.run(ISafeRunnable) line: 775\n\tJFaceUtil$1.run(ISafeRunnable) line: 44\n\tSafeRunnable.run(ISafeRunnable) line: 148\n\tTreeViewer(StructuredViewer).fireOpen(OpenEvent) line: 739\n\tTreeViewer(StructuredViewer).handleOpen(SelectionEvent) line: 968\n\tStructuredViewer$6.handleOpen(SelectionEvent) line: 1067\n\tOpenStrategy.fireOpenEvent(SelectionEvent) line: 243\n\tOpenStrategy.access$2(OpenStrategy, SelectionEvent) line: 238\n\tOpenStrategy$1.handleEvent(Event) line: 277\n\tEventTable.sendEvent(Event) line: 66\n\tTree(Widget).sendEvent(Event) line: 844\n\tDisplay.runDeferredEvents() line: 2929\n\tDisplay.readAndDispatch() line: 2562\n\tWorkbench.runEventLoop(Window$IExceptionHandler, Display) line: 1694\n\tWorkbench.runUI() line: 1658\n\tWorkbench.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 366\n\tPlatformUI.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 143\n\tIDEApplication.run(Object) line: 103\n\tPlatformActivator$1.run(Object) line: 226\n\tEclipseStarter.run(Object) line: 375\n\tEclipseStarter.run(String[], Runnable) line: 162\n\tNativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available\n[native method]\n\tNativeMethodAccessorImpl.invoke(Object, Object[]) line: 39\n\tDelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25\n\tMethod.invoke(Object, Object[]) line: 324\n\tMain.invokeFramework(String[], URL[]) line: 334\n\tMain.basicRun(String[]) line: 278\n\tMain.run(String[]) line: 973\n\tMain.main(String[]) line: 948",
    "Created an attachment (id\u003d22239)\npatch for org.eclipse.core.resources\n",
    "This patch fixes the problem. If the file does not exist anymore, the content\ntype detection process will see it as being empty.\n\nI believe we should fix it as a polish item if time permits. DJ?",
    "+1",
    "I was about to release this (even wrote a test for this scenario) when I\nrealized that we spec we fail if the contents of the file cannot be read. So I\nthink the current behavior is fine and we should not change it.\n\nMan, I just spared an RC2 approval. Can I use it for another PR of my choice? Or\ncan I at least cash it?",
    "Unfortuanatly bug approvals are like coupons... they carry the clause: Cannot be\nredeemed for cash value. :-)"
  ],
  "commentCreationDates": [
    "2005-06-02T17:01:11+02:00",
    "2005-06-02T17:57:56+02:00",
    "2005-06-02T18:02:09+02:00",
    "2005-06-03T13:26:58+02:00",
    "2005-06-03T22:31:47+02:00",
    "2005-06-06T15:45:45+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.io.FileNotFoundException",
      "message": "d:\\tmp\\97945\\org.eclipse.core.tools\\build.xml (The system cannot find the file specified)",
      "elements": [
        {
          "method": "java.io.FileInputStream.open",
          "source": "Native Method"
        },
        {
          "method": "java.io.FileInputStream.\u003cinit\u003e",
          "source": "FileInputStream.java:106"
        },
        {
          "method": "org.eclipse.core.internal.resources.ContentDescriptionManager$LazyFileInputStream.ensureOpened",
          "source": "ContentDescriptionManager.java:151"
        },
        {
          "method": "org.eclipse.core.internal.resources.ContentDescriptionManager$LazyFileInputStream.read",
          "source": "ContentDescriptionManager.java:160"
        },
        {
          "method": "java.io.InputStream.read",
          "source": "InputStream.java:89"
        },
        {
          "method": "org.eclipse.core.internal.content.LazyInputStream.loadBlock",
          "source": "LazyInputStream.java:99"
        },
        {
          "method": "org.eclipse.core.internal.content.LazyInputStream.ensureAvailable",
          "source": "LazyInputStream.java:64"
        },
        {
          "method": "org.eclipse.core.internal.content.LazyInputStream.read",
          "source": "LazyInputStream.java:119"
        },
        {
          "method": "org.eclipse.core.internal.content.TextContentDescriber.getByteOrderMark",
          "source": "TextContentDescriber.java:65"
        },
        {
          "method": "org.eclipse.core.internal.content.XMLContentDescriber.describe",
          "source": "XMLContentDescriber.java:35"
        },
        {
          "method": "org.eclipse.ant.internal.core.contentDescriber.AntBuildfileContentDescriber.describe",
          "source": "AntBuildfileContentDescriber.java:87"
        },
        {
          "method": "org.eclipse.core.internal.content.ContentType.describe",
          "source": "ContentType.java:162"
        },
        {
          "method": "org.eclipse.core.internal.content.ContentTypeCatalog.collectMatchingByContents",
          "source": "ContentTypeCatalog.java:188"
        },
        {
          "method": "org.eclipse.core.internal.content.ContentTypeCatalog.internalFindContentTypesFor",
          "source": "ContentTypeCatalog.java:356"
        },
        {
          "method": "org.eclipse.core.internal.content.ContentTypeCatalog.internalFindContentTypesFor",
          "source": "ContentTypeCatalog.java:393"
        },
        {
          "method": "org.eclipse.core.internal.content.ContentTypeCatalog.getDescriptionFor",
          "source": "ContentTypeCatalog.java:302"
        },
        {
          "method": "org.eclipse.core.internal.content.ContentTypeCatalog.getDescriptionFor",
          "source": "ContentTypeCatalog.java:316"
        },
        {
          "method": "org.eclipse.core.internal.content.ContentTypeMatcher.getDescriptionFor",
          "source": "ContentTypeMatcher.java:87"
        },
        {
          "method": "org.eclipse.core.internal.resources.ContentDescriptionManager.readDescription",
          "source": "ContentDescriptionManager.java:394"
        },
        {
          "method": "org.eclipse.core.internal.resources.ContentDescriptionManager.getDescriptionFor",
          "source": "ContentDescriptionManager.java:333"
        },
        {
          "method": "org.eclipse.core.internal.resources.File.getContentDescription",
          "source": "File.java:276"
        },
        {
          "method": "org.eclipse.ui.ide.IDE.getContentType",
          "source": "IDE.java:960"
        },
        {
          "method": "org.eclipse.ui.ide.IDE.getDefaultEditor",
          "source": "IDE.java:910"
        },
        {
          "method": "org.eclipse.ui.ide.IDE.getEditorDescriptor",
          "source": "IDE.java:538"
        },
        {
          "method": "org.eclipse.ui.ide.IDE.openEditor",
          "source": "IDE.java:370"
        },
        {
          "method": "org.eclipse.ui.ide.IDE.openEditor",
          "source": "IDE.java:334"
        },
        {
          "method": "org.eclipse.ui.actions.OpenFileAction.openFile",
          "source": "OpenFileAction.java:98"
        },
        {
          "method": "org.eclipse.ui.actions.OpenSystemEditorAction.run",
          "source": "OpenSystemEditorAction.java:98"
        },
        {
          "method": "org.eclipse.ui.views.navigator.OpenActionGroup.runDefaultAction",
          "source": "OpenActionGroup.java:120"
        },
        {
          "method": "org.eclipse.ui.views.navigator.MainActionGroup.runDefaultAction",
          "source": "MainActionGroup.java:326"
        },
        {
          "method": "org.eclipse.ui.views.navigator.ResourceNavigator.handleOpen",
          "source": "ResourceNavigator.java:650"
        },
        {
          "method": "org.eclipse.ui.views.navigator.ResourceNavigator$6.open",
          "source": "ResourceNavigator.java:409"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$2.run",
          "source": "StructuredViewer.java:741"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1038"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:775"
        },
        {
          "method": "org.eclipse.ui.internal.JFaceUtil$1.run",
          "source": "JFaceUtil.java:44"
        },
        {
          "method": "org.eclipse.jface.util.SafeRunnable.run",
          "source": "SafeRunnable.java:148"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.fireOpen",
          "source": "StructuredViewer.java:739"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleOpen",
          "source": "StructuredViewer.java:968"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$6.handleOpen",
          "source": "StructuredViewer.java:1067"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireOpenEvent",
          "source": "OpenStrategy.java:243"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$2",
          "source": "OpenStrategy.java:238"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "OpenStrategy.java:277"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:844"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2929"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2562"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1694"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1658"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:366"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:375"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:162"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "98121",
      "date": "2005-06-02T17:01:11+02:00",
      "product": "Platform",
      "component": "Resources",
      "severity": "normal"
    }
  ],
  "groupId": "98121",
  "bugId": "98121",
  "date": "2005-06-02T17:01:11+02:00",
  "product": "Platform",
  "component": "Resources",
  "severity": "normal"
}