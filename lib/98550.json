{
  "comments": [
    "I was debugging something in WTP when I stumbled over the following problem --\ndebugger would not be able to display value of one particular variable, log an\nexception and loose connection with the target VM. I had the same problem with\nthe three and 1/2 different target JVMs -- namely SUN 1.4.2_07, SUN 1.5.0_02 and\nIBM 1.4.2 cn1420-20040626 both in Sovereign and J9 modes -- so I figured that it\nmust be Eclipse\u0027s problem ;-) Also, after this problem Eclipse becomes sluggish\nand eventually hangs completely.\n\nMy setup. WinXP SP1, Eclipse I20050527-1300 running under SUN 1.5.0_02. Target\nis WTP I20050603 running under various JVMs mentioned above.\n\nI get the same exceptions regardless the target JVM. Most often it is either\nsome flavour of JDI \"timeout\" exception or \"Retrieved a different number of\nvalues\", here are few examples\n\n!ENTRY org.eclipse.core.runtime 4 2 2005-06-06 12:45:17.549\n!MESSAGE An internal error occurred during: \"Fetching children from debug target\".\n!STACK 0\njava.lang.InternalError: Retrieved a different number of values from the VM than\nrequested\n\tat org.eclipse.jdi.internal.ReferenceTypeImpl.getValues(ReferenceTypeImpl.java:923)\n\tat org.eclipse.jdi.internal.ReferenceTypeImpl.getValue(ReferenceTypeImpl.java:891)\n\tat\norg.eclipse.jdt.internal.debug.core.model.JDIFieldVariable.retrieveValue(JDIFieldVariable.java:74)\n\tat\norg.eclipse.jdt.internal.debug.core.model.JDIVariable.getCurrentValue(JDIVariable.java:67)\n\tat\norg.eclipse.jdt.internal.debug.core.model.JDIVariable.getValue(JDIVariable.java:89)\n\tat\norg.eclipse.debug.internal.ui.elements.adapters.DeferredVariable.hasChildren(DeferredVariable.java:86)\n\tat\norg.eclipse.debug.internal.ui.elements.adapters.DeferredVariable.fetchDeferredChildren(DeferredVariable.java:74)\n\tat\norg.eclipse.debug.internal.ui.views.RemoteTreeContentManager$FetchJob.run(RemoteTreeContentManager.java:82)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)\n\n\n!SUBENTRY 1 org.eclipse.jdt.debug 4 5010 2005-06-06 12:53:13.113\n!MESSAGE org.eclipse.jdi.TimeoutException: Timeout occurred while waiting for\npacket 24482. occurred retrieving source path debug attribute.\n!STACK 0\norg.eclipse.jdi.TimeoutException: Timeout occurred while waiting for packet 24482.\n\tat\norg.eclipse.jdi.internal.connect.PacketReceiveManager.getReply(PacketReceiveManager.java:174)\n\tat\norg.eclipse.jdi.internal.connect.PacketReceiveManager.getReply(PacketReceiveManager.java:184)\n\tat org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:174)\n\tat org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:192)\n\tat org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:222)\n\tat\norg.eclipse.jdi.internal.ReferenceTypeImpl.getSourceName(ReferenceTypeImpl.java:1569)\n\tat\norg.eclipse.jdi.internal.ReferenceTypeImpl.sourcePath(ReferenceTypeImpl.java:1739)\n\tat org.eclipse.jdi.internal.LocationImpl.sourcePath(LocationImpl.java:177)\n\tat org.eclipse.jdi.internal.LocationImpl.sourcePath(LocationImpl.java:184)\n\tat\norg.eclipse.jdt.internal.debug.core.model.JDIStackFrame.getSourcePath(JDIStackFrame.java:1180)\n\tat\norg.eclipse.jdt.launching.sourcelookup.containers.JavaSourceLookupParticipant.getSourceName(JavaSourceLookupParticipant.java:71)\n\tat\norg.eclipse.debug.core.sourcelookup.AbstractSourceLookupParticipant.findSourceElements(AbstractSourceLookupParticipant.java:60)\n\tat\norg.eclipse.debug.core.sourcelookup.AbstractSourceLookupDirector$SourceLookupQuery.run(AbstractSourceLookupDirector.java:126)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1038)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:775)\n\tat\norg.eclipse.debug.core.sourcelookup.AbstractSourceLookupDirector.doSourceLookup(AbstractSourceLookupDirector.java:465)\n\tat\norg.eclipse.debug.core.sourcelookup.AbstractSourceLookupDirector.getSourceElement(AbstractSourceLookupDirector.java:715)\n\tat\norg.eclipse.debug.internal.ui.sourcelookup.SourceLookupFacility.lookup(SourceLookupFacility.java:138)\n\tat org.eclipse.debug.ui.DebugUITools.lookupSource(DebugUITools.java:658)\n\tat\norg.eclipse.debug.internal.ui.views.launch.LaunchView$SourceLookupJob.run(LaunchView.java:176)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)",
    "What variable was being looked at? Can you attach a sample program?",
    "Created an attachment (id\u003d22460)\nsimple project that demonstratesthe problem\n\nI was able to reproduce the problem using a simple standalone java project (see\nattachement). I documented steps necessary to reproduce the problem using\ncomments in the sources. Feel free to email/sametime me if the steps are not\nclear enough.\n\nThis same problem occurs if I run Eclipse under SUN 1.4.2. Also, not sure if\nthis makes any difference, but I start eclipse with \"-debug -console\n-consolelog -vmargs -Xmx1024M\" command line parameters.\n",
    "I believe this is a dup of bug 94452 or something very close to it.",
    "Timeouts are a dup of 94452.\n\n*** This bug has been marked as a duplicate of 94452 ***"
  ],
  "commentCreationDates": [
    "2005-06-06T19:23:16+02:00",
    "2005-06-06T19:26:36+02:00",
    "2005-06-07T00:13:04+02:00",
    "2005-06-10T21:06:31+02:00",
    "2005-06-13T15:35:45+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.InternalError",
      "message": "Retrieved a different number of values from the VM than requested",
      "elements": [
        {
          "method": "org.eclipse.jdi.internal.ReferenceTypeImpl.getValues",
          "source": "ReferenceTypeImpl.java:923"
        },
        {
          "method": "org.eclipse.jdi.internal.ReferenceTypeImpl.getValue",
          "source": "ReferenceTypeImpl.java:891"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIFieldVariable.retrieveValue",
          "source": "JDIFieldVariable.java:74"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIVariable.getCurrentValue",
          "source": "JDIVariable.java:67"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIVariable.getValue",
          "source": "JDIVariable.java:89"
        },
        {
          "method": "org.eclipse.debug.internal.ui.elements.adapters.DeferredVariable.hasChildren",
          "source": "DeferredVariable.java:86"
        },
        {
          "method": "org.eclipse.debug.internal.ui.elements.adapters.DeferredVariable.fetchDeferredChildren",
          "source": "DeferredVariable.java:74"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.RemoteTreeContentManager$FetchJob.run",
          "source": "RemoteTreeContentManager.java:82"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:67"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "98550",
      "duplicateId": "94452",
      "date": "2005-06-06T19:23:16+02:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    },
    {
      "exceptionType": "org.eclipse.jdi.TimeoutException",
      "message": "Timeout occurred while waiting for packet 24482.",
      "elements": [
        {
          "method": "org.eclipse.jdi.internal.connect.PacketReceiveManager.getReply",
          "source": "PacketReceiveManager.java:174"
        },
        {
          "method": "org.eclipse.jdi.internal.connect.PacketReceiveManager.getReply",
          "source": "PacketReceiveManager.java:184"
        },
        {
          "method": "org.eclipse.jdi.internal.MirrorImpl.requestVM",
          "source": "MirrorImpl.java:174"
        },
        {
          "method": "org.eclipse.jdi.internal.MirrorImpl.requestVM",
          "source": "MirrorImpl.java:192"
        },
        {
          "method": "org.eclipse.jdi.internal.MirrorImpl.requestVM",
          "source": "MirrorImpl.java:222"
        },
        {
          "method": "org.eclipse.jdi.internal.ReferenceTypeImpl.getSourceName",
          "source": "ReferenceTypeImpl.java:1569"
        },
        {
          "method": "org.eclipse.jdi.internal.ReferenceTypeImpl.sourcePath",
          "source": "ReferenceTypeImpl.java:1739"
        },
        {
          "method": "org.eclipse.jdi.internal.LocationImpl.sourcePath",
          "source": "LocationImpl.java:177"
        },
        {
          "method": "org.eclipse.jdi.internal.LocationImpl.sourcePath",
          "source": "LocationImpl.java:184"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIStackFrame.getSourcePath",
          "source": "JDIStackFrame.java:1180"
        },
        {
          "method": "org.eclipse.jdt.launching.sourcelookup.containers.JavaSourceLookupParticipant.getSourceName",
          "source": "JavaSourceLookupParticipant.java:71"
        },
        {
          "method": "org.eclipse.debug.core.sourcelookup.AbstractSourceLookupParticipant.findSourceElements",
          "source": "AbstractSourceLookupParticipant.java:60"
        },
        {
          "method": "org.eclipse.debug.core.sourcelookup.AbstractSourceLookupDirector$SourceLookupQuery.run",
          "source": "AbstractSourceLookupDirector.java:126"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1038"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:775"
        },
        {
          "method": "org.eclipse.debug.core.sourcelookup.AbstractSourceLookupDirector.doSourceLookup",
          "source": "AbstractSourceLookupDirector.java:465"
        },
        {
          "method": "org.eclipse.debug.core.sourcelookup.AbstractSourceLookupDirector.getSourceElement",
          "source": "AbstractSourceLookupDirector.java:715"
        },
        {
          "method": "org.eclipse.debug.internal.ui.sourcelookup.SourceLookupFacility.lookup",
          "source": "SourceLookupFacility.java:138"
        },
        {
          "method": "org.eclipse.debug.ui.DebugUITools.lookupSource",
          "source": "DebugUITools.java:658"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchView$SourceLookupJob.run",
          "source": "LaunchView.java:176"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:67"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "98550",
      "duplicateId": "94452",
      "date": "2005-06-06T19:23:16+02:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "94452",
  "bugId": "98550",
  "duplicateId": "94452",
  "date": "2005-06-06T19:23:16+02:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "normal"
}