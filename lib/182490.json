{
  "comments": [
    "If NL pack is installed, resource name is not encoded to UTF-8 in workbench.xml at copy layout function in switching workspace\n\nPlatform : WindowsVista Business Japanese\nBuild: Eclipse 3.3 I20070410-1043\nNL pack: 20070317\n\nSteps to recreate\n1- launch eclipse with brand new workspace\n2- File \u003e Switch Workspace \u003e Other..., enter new workspace name\n3- turn on Workbench Layout, then click OK\n\nResult\nfollowing error was show at the start up. I found that NL resource names of workspace/.metadata/.plugins/org.eclipse.ui.workbench/workbench.xml were encoded by platform default MS932 not UTF-8. It\u0027s a cause of this problem. \n\n\neclipse.buildId\u003dI20070410-1043\njava.fullversion\u003dJ2RE 1.5.0 IBM J9 2.3 Windows Vista x86-32 j9vmwi3223-20070328 (JIT enabled)\nJ9VM - 20070326_12093_lHdSMR\nJIT  - 20070323_1801_r8\nGC   - 20070307_AA\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003dja_JP\nFramework arguments:  -startup D:\\IES33\\I20070412\\eclipse\\plugins\\org.eclipse.equinox.launcher_1.0.0.v20070409.jar\nCommand-line arguments:  -os win32 -ws win32 -arch x86 -startup D:\\IES33\\I20070412\\eclipse\\plugins\\org.eclipse.equinox.launcher_1.0.0.v20070409.jar -data D:\\IES33\\I20070412\\eclipse\\?V?????t?H???_1 -consolelog\n\n?G???[\nMon Apr 16 13:16:36 JST 2007\n?v???O?C?? \"org.eclipse.ui.workbench\" ???????R?[?h???N???????????????????????B\n\norg.eclipse.ui.WorkbenchException: XML ?t?@?C???????e???????????????????????B\nat org.eclipse.ui.XMLMemento.createReadRoot(XMLMemento.java:121)\nat org.eclipse.ui.XMLMemento.createReadRoot(XMLMemento.java:64)\nat org.eclipse.ui.internal.Workbench$46.run(Workbench.java:1869)\nat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\nat org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1864)\nat org.eclipse.ui.internal.WorkbenchConfigurer.restoreState(WorkbenchConfigurer.java:183)\nat org.eclipse.ui.application.WorkbenchAdvisor.openWindows(WorkbenchAdvisor.java:751)\nat org.eclipse.ui.internal.Workbench.init(Workbench.java:1338)\nat org.eclipse.ui.internal.Workbench.access$33(Workbench.java:1274)\nat org.eclipse.ui.internal.Workbench$55.run(Workbench.java:2280)\norg.eclipse.ui.WorkbenchException[0]: sun.io.MalformedInputException\nat sun.io.ByteToCharUTF8.convert(ByteToCharUTF8.java:262)\nat sun.nio.cs.StreamDecoder$ConverterSD.convertInto(StreamDecoder.java:314)\nat sun.nio.cs.StreamDecoder$ConverterSD.implRead(StreamDecoder.java:364)\nat sun.nio.cs.StreamDecoder.read(StreamDecoder.java:250)\nat java.io.InputStreamReader.read(InputStreamReader.java:212)\nat java.io.BufferedReader.fill(BufferedReader.java:157)\nat java.io.BufferedReader.read1(BufferedReader.java:208)\nat java.io.BufferedReader.read(BufferedReader.java:282)\nat org.apache.xerces.impl.XMLEntityScanner.load(Unknown Source)\nat org.apache.xerces.impl.XMLEntityScanner.skipString(Unknown Source)\nat org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)\nat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\nat org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\nat org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\nat org.apache.xerces.parsers.DOMParser.parse(Unknown Source)\nat org.apache.xerces.jaxp.DocumentBuilderImpl.parse(Unknown Source)\nat org.eclipse.ui.XMLMemento.createReadRoot(XMLMemento.java:94)\nat org.eclipse.ui.XMLMemento.createReadRoot(XMLMemento.java:64)\nat org.eclipse.ui.internal.Workbench$46.run(Workbench.java:1869)\nat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\nat org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1864)\nat org.eclipse.ui.internal.WorkbenchConfigurer.restoreState(WorkbenchConfigurer.java:183)\nat org.eclipse.ui.application.WorkbenchAdvisor.openWindows(WorkbenchAdvisor.java:751)\nat org.eclipse.ui.internal.Workbench.init(Workbench.java:1338)\nat org.eclipse.ui.internal.Workbench.access$33(Workbench.java:1274)\nat org.eclipse.ui.internal.Workbench$55.run(Workbench.java:2280)",
    "Fuse-san could you please attach your workbench.xml? I suspect we are declaring it correctly at the root of the document but not otherwise encoding it.",
    "Created an attachment (id\u003d64684)\nmy workbench.xml\n\n",
    "Fixed in build \u003e20070424. We were not setting the output stream encoding on the memento before creating it.\n\nThanks once again for all of your help Fuse-san.",
    "verified in I20070427-0010",
    "passed regression in M7. closing."
  ],
  "commentCreationDates": [
    "2007-04-16T06:35:14+02:00",
    "2007-04-23T15:44:54+02:00",
    "2007-04-24T06:59:13+02:00",
    "2007-04-24T15:37:08+02:00",
    "2007-04-27T12:32:47+02:00",
    "2007-05-08T11:05:02+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.ui.WorkbenchException",
      "message": "XML ?t?@?C???????e???????????????????????B",
      "elements": [
        {
          "method": "org.eclipse.ui.XMLMemento.createReadRoot",
          "source": "XMLMemento.java:121"
        },
        {
          "method": "org.eclipse.ui.XMLMemento.createReadRoot",
          "source": "XMLMemento.java:64"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$46.run",
          "source": "Workbench.java:1869"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.restoreState",
          "source": "Workbench.java:1864"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchConfigurer.restoreState",
          "source": "WorkbenchConfigurer.java:183"
        },
        {
          "method": "org.eclipse.ui.application.WorkbenchAdvisor.openWindows",
          "source": "WorkbenchAdvisor.java:751"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.init",
          "source": "Workbench.java:1338"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$33",
          "source": "Workbench.java:1274"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$55.run",
          "source": "Workbench.java:2280"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "182490",
      "date": "2007-04-16T06:35:14+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "major"
    },
    {
      "exceptionType": "sun.io.MalformedInputException",
      "elements": [
        {
          "method": "sun.io.ByteToCharUTF8.convert",
          "source": "ByteToCharUTF8.java:262"
        },
        {
          "method": "sun.nio.cs.StreamDecoder$ConverterSD.convertInto",
          "source": "StreamDecoder.java:314"
        },
        {
          "method": "sun.nio.cs.StreamDecoder$ConverterSD.implRead",
          "source": "StreamDecoder.java:364"
        },
        {
          "method": "sun.nio.cs.StreamDecoder.read",
          "source": "StreamDecoder.java:250"
        },
        {
          "method": "java.io.InputStreamReader.read",
          "source": "InputStreamReader.java:212"
        },
        {
          "method": "java.io.BufferedReader.fill",
          "source": "BufferedReader.java:157"
        },
        {
          "method": "java.io.BufferedReader.read1",
          "source": "BufferedReader.java:208"
        },
        {
          "method": "java.io.BufferedReader.read",
          "source": "BufferedReader.java:282"
        },
        {
          "method": "org.apache.xerces.impl.XMLEntityScanner.load",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLEntityScanner.skipString",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.impl.XMLVersionDetector.determineDocVersion",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.parsers.XML11Configuration.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.parsers.XML11Configuration.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.parsers.XMLParser.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.parsers.DOMParser.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xerces.jaxp.DocumentBuilderImpl.parse",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.ui.XMLMemento.createReadRoot",
          "source": "XMLMemento.java:94"
        },
        {
          "method": "org.eclipse.ui.XMLMemento.createReadRoot",
          "source": "XMLMemento.java:64"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$46.run",
          "source": "Workbench.java:1869"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.restoreState",
          "source": "Workbench.java:1864"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchConfigurer.restoreState",
          "source": "WorkbenchConfigurer.java:183"
        },
        {
          "method": "org.eclipse.ui.application.WorkbenchAdvisor.openWindows",
          "source": "WorkbenchAdvisor.java:751"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.init",
          "source": "Workbench.java:1338"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$33",
          "source": "Workbench.java:1274"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$55.run",
          "source": "Workbench.java:2280"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "182490",
      "date": "2007-04-16T06:35:14+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "182490",
  "bugId": "182490",
  "date": "2007-04-16T06:35:14+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "major"
}