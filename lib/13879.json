{
  "comments": [
    "I suggest to always keep the filter an set the working set to null (see\nPackageExplorerPart or JavaBrowsingPart)\n\norg.eclipse.swt.SWTException: Widget is disposed\n\tat org.eclipse.swt.SWT.error(SWT.java:1887)\n\tat org.eclipse.swt.SWT.error(SWT.java:1819)\n\tat org.eclipse.swt.widgets.Widget.error(Widget.java:368)\n\tat org.eclipse.swt.widgets.Control.getDisplay(Control.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.isValidThread(Widget.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.checkWidget(Widget.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Tree.setSelection(Tree.java(Compiled Code))\n\tat org.eclipse.jface.viewers.TreeViewer.setSelection(TreeViewer.java:214)\n\tat\norg.eclipse.jface.viewers.AbstractTreeViewer.setSelectionToWidget(AbstractTreeViewer.java(Compiled\nCode))\n\tat\norg.eclipse.jface.viewers.StructuredViewer.setSelectionToWidget(StructuredViewer.java(Compiled\nCode))\n\tat\norg.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:623)\n\tat org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:674)\n\tat \norg.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:636)\n\tat org.eclipse.jface.viewers.StructuredViewer.removeFilter(StructuredViewer.java:741)\n\tat\norg.eclipse.ui.views.navigator.ResourceNavigator$2.propertyChange(ResourceNavigator.java:121)\n\tat org.eclipse.ui.internal.WorkbenchPage.firePropertyChange(WorkbenchPage.java:965)\n\tat org.eclipse.ui.internal.WorkbenchPage.setWorkingSet(WorkbenchPage.java:2018)\n\tat org.eclipse.ui.internal.ClearWorkingSetAction.run(ClearWorkingSetAction.java:40)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:590)\n\tat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:407)\n\tat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionContributionItem.java(Compiled\nCode))\n\tat\norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(ActionContributionItem.java(Compiled\nCode))\n\tat\norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(ActionContributionItem.java(Compiled\nCode))\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:819)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:777)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:319)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:190)\n\tat org.eclipse.core.launcher.Main.run(Main.java:549)\n\tat org.eclipse.core.launcher.UIMain.main(UIMain.java:52)",
    "Do you have steps to reproduce?\nWhy is the StructuredViewer.removeFilter call not working? Am I using it \nincorrectly? Note that this is not a NullPointerException but a widget problem.\nThis doesn\u0027t seem like a working set bug but a StructuredViewer bug.\n\nIt seems slightly inefficient to keep the filter set if it doesn\u0027t do anything.",
    "Did not fully analyze the code but e.g.:\nif (newWorkingSet \u003d\u003d null) {\n\toldWorkingSet.removePropertyChangeListener(propertyChangeListener);\n         ^^^^^^^^^\nthere\u0027s no guard against oldWorkingSet being null. Or can\u0027t that happen?\n\n",
    "Knut, after sleeping over it, I think this is a duplicate:\n13631: ResourceNavigator does not remove property change listener\n\nTest Case:\n1. Open Navigator\n2. Select working set\n3. Close Navigator\n4. Select another working set \n\n\nBTW: oldWorkingSet still needs a guard though - I think.\n",
    "oldWorkingSet can not be null. However, you are correct if you say that this is \nnot defensively coded. I will change it to make it defensive.\nI\u0027ll investigate whether this is a dup of bug 13631. It seems like you\u0027re right \nthough.",
    "This walkback is indeed caused by the problem described in bug 13631.\nA walkback would also happen if the Navigator was closed and the page working \nset was edited.\nFixed both problems and also put in a null check for oldWorkingSet as described \nabove.\nWe may change the property change notification as indicated in bug 13631 to \navoid having to register more than one listener related to working set changes.",
    "*** Bug 14354 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2002-04-16T15:27:46+02:00",
    "2002-04-16T16:01:16+02:00",
    "2002-04-16T16:11:21+02:00",
    "2002-04-17T08:32:06+02:00",
    "2002-04-17T16:35:30+02:00",
    "2002-04-20T01:13:40+02:00",
    "2002-04-23T00:41:20+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Widget is disposed",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:1887"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:1819"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:368"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.getDisplay",
          "source": "Control.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.isValidThread",
          "source": "Widget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.checkWidget",
          "source": "Widget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.setSelection",
          "source": "Tree.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.setSelection",
          "source": "TreeViewer.java:214"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.setSelectionToWidget",
          "source": "AbstractTreeViewer.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.setSelectionToWidget",
          "source": "StructuredViewer.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.preservingSelection",
          "source": "StructuredViewer.java:623"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.refresh",
          "source": "StructuredViewer.java:674"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.refresh",
          "source": "StructuredViewer.java:636"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.removeFilter",
          "source": "StructuredViewer.java:741"
        },
        {
          "method": "org.eclipse.ui.views.navigator.ResourceNavigator$2.propertyChange",
          "source": "ResourceNavigator.java:121"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.firePropertyChange",
          "source": "WorkbenchPage.java:965"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.setWorkingSet",
          "source": "WorkbenchPage.java:2018"
        },
        {
          "method": "org.eclipse.ui.internal.ClearWorkingSetAction.run",
          "source": "ClearWorkingSetAction.java:40"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:590"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:407"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:819"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:777"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:319"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:190"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:549"
        },
        {
          "method": "org.eclipse.core.launcher.UIMain.main",
          "source": "UIMain.java:52"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "13879",
      "date": "2002-04-16T15:27:46+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "13879",
  "bugId": "13879",
  "date": "2002-04-16T15:27:46+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "major"
}