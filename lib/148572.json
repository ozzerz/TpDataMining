{
  "comments": [
    "Using Eclipse 3.2 RC7\n\nThe following two different NPEs were thrown from the manifest editor\u0027s Dependencies page while I was computing the dependencies and/or finding unused dependencies.  I\u0027m afraid I don\u0027t know the exact use-case for this.\n\nENTRY org.eclipse.ui 4 0 2006-06-25 15:11:00.398\n!MESSAGE java.lang.NullPointerException\n!STACK 0\njava.lang.NullPointerException\n\tat java.util.TreeMap.compare(TreeMap.java:1093)\n\tat java.util.TreeMap.getEntry(TreeMap.java:347)\n\tat java.util.TreeMap.get(TreeMap.java:265)\n\tat org.eclipse.pde.internal.core.text.bundle.PDEManifestElement.appendValuesToBuffer(PDEManifestElement.java:215)\n\tat org.eclipse.pde.internal.core.text.bundle.PDEManifestElement.write(PDEManifestElement.java:193)\n\tat org.eclipse.pde.internal.core.text.bundle.CompositeManifestHeader.update(CompositeManifestHeader.java:76)\n\tat org.eclipse.pde.internal.core.text.bundle.CompositeManifestHeader.update(CompositeManifestHeader.java:64)\n\tat org.eclipse.pde.internal.core.text.bundle.PackageObject.setVersion(PackageObject.java:70)\n\tat org.eclipse.pde.internal.ui.editor.plugin.ImportPackageSection.handleOpenProperties(ImportPackageSection.java:452)\n\tat org.eclipse.pde.internal.ui.editor.plugin.ImportPackageSection.buttonSelected(ImportPackageSection.java:303)\n\tat org.eclipse.pde.internal.ui.editor.TableSection$PartAdapter.buttonSelected(TableSection.java:37)\n\tat org.eclipse.pde.internal.ui.parts.SharedPartWithButtons$SelectionHandler.buttonSelected(SharedPartWithButtons.java:36)\n\tat org.eclipse.pde.internal.ui.parts.SharedPartWithButtons$SelectionHandler.widgetSelected(SharedPartWithButtons.java:29)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)\n\n\n!ENTRY org.eclipse.core.jobs 4 2 2006-06-25 15:11:15.390\n!MESSAGE An internal error occurred during: \"Find unused dependencies\".\n!STACK 0\njava.lang.NullPointerException\n\tat java.lang.String.compareTo(String.java:997)\n\tat java.lang.String.compareTo(String.java:90)\n\tat java.util.TreeMap.compare(TreeMap.java:1093)\n\tat java.util.TreeMap.getEntry(TreeMap.java:347)\n\tat java.util.TreeMap.get(TreeMap.java:265)\n\tat org.eclipse.pde.internal.core.text.bundle.PDEManifestElement.getTableValue(PDEManifestElement.java:93)\n\tat org.eclipse.pde.internal.core.text.bundle.PDEManifestElement.getAttribute(PDEManifestElement.java:55)\n\tat org.eclipse.pde.internal.ui.search.dependencies.GatherUnusedDependenciesOperation.minimizeDependencies(GatherUnusedDependenciesOperation.java:268)\n\tat org.eclipse.pde.internal.ui.search.dependencies.GatherUnusedDependenciesOperation.run(GatherUnusedDependenciesOperation.java:117)\n\tat org.eclipse.pde.internal.ui.search.dependencies.UnusedDependenciesJob.run(UnusedDependenciesJob.java:44)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)",
    "The first stack trace should be fixed in 3.3.  I found the problem when working a different defect.  \n\nAfter looking at the code and the second stack trace, I believe the same bug is very possibly the culprit.  \n\nThe bug was passing in null for the version attribute on an Import-Package object.  I believe this null value was stored in the attribute table and is why we get the NPE when comparing keys in the Tree table.  \n\nI am going to marked this as fixed and targeted for 3.3M1, but if you see the problem in 3.3 please reopen this bug.",
    "Your description regarding the null value in the table sounds spot on.  Once I filed the bug I returned to Eclipse and tried to set the version of an imported package, but every time I tried the NPE was thrown again.  This was only resolved after I closed and re-opened the manifest editor.  Yes, the two stack traces are very closely related, so I would imagine that your diagnosis of them as being the same root cause is accurate.  Thanks Brian for looking at this one so promptly."
  ],
  "commentCreationDates": [
    "2006-06-25T21:12:24+02:00",
    "2006-06-26T19:14:49+02:00",
    "2006-06-26T19:22:23+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "java.util.TreeMap.compare",
          "source": "TreeMap.java:1093"
        },
        {
          "method": "java.util.TreeMap.getEntry",
          "source": "TreeMap.java:347"
        },
        {
          "method": "java.util.TreeMap.get",
          "source": "TreeMap.java:265"
        },
        {
          "method": "org.eclipse.pde.internal.core.text.bundle.PDEManifestElement.appendValuesToBuffer",
          "source": "PDEManifestElement.java:215"
        },
        {
          "method": "org.eclipse.pde.internal.core.text.bundle.PDEManifestElement.write",
          "source": "PDEManifestElement.java:193"
        },
        {
          "method": "org.eclipse.pde.internal.core.text.bundle.CompositeManifestHeader.update",
          "source": "CompositeManifestHeader.java:76"
        },
        {
          "method": "org.eclipse.pde.internal.core.text.bundle.CompositeManifestHeader.update",
          "source": "CompositeManifestHeader.java:64"
        },
        {
          "method": "org.eclipse.pde.internal.core.text.bundle.PackageObject.setVersion",
          "source": "PackageObject.java:70"
        },
        {
          "method": "org.eclipse.pde.internal.ui.editor.plugin.ImportPackageSection.handleOpenProperties",
          "source": "ImportPackageSection.java:452"
        },
        {
          "method": "org.eclipse.pde.internal.ui.editor.plugin.ImportPackageSection.buttonSelected",
          "source": "ImportPackageSection.java:303"
        },
        {
          "method": "org.eclipse.pde.internal.ui.editor.TableSection$PartAdapter.buttonSelected",
          "source": "TableSection.java:37"
        },
        {
          "method": "org.eclipse.pde.internal.ui.parts.SharedPartWithButtons$SelectionHandler.buttonSelected",
          "source": "SharedPartWithButtons.java:36"
        },
        {
          "method": "org.eclipse.pde.internal.ui.parts.SharedPartWithButtons$SelectionHandler.widgetSelected",
          "source": "SharedPartWithButtons.java:29"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:90"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3348"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2968"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1914"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1878"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:280"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "148572",
      "date": "2006-06-25T21:12:24+02:00",
      "product": "PDE",
      "component": "UI",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "java.lang.String.compareTo",
          "source": "String.java:997"
        },
        {
          "method": "java.lang.String.compareTo",
          "source": "String.java:90"
        },
        {
          "method": "java.util.TreeMap.compare",
          "source": "TreeMap.java:1093"
        },
        {
          "method": "java.util.TreeMap.getEntry",
          "source": "TreeMap.java:347"
        },
        {
          "method": "java.util.TreeMap.get",
          "source": "TreeMap.java:265"
        },
        {
          "method": "org.eclipse.pde.internal.core.text.bundle.PDEManifestElement.getTableValue",
          "source": "PDEManifestElement.java:93"
        },
        {
          "method": "org.eclipse.pde.internal.core.text.bundle.PDEManifestElement.getAttribute",
          "source": "PDEManifestElement.java:55"
        },
        {
          "method": "org.eclipse.pde.internal.ui.search.dependencies.GatherUnusedDependenciesOperation.minimizeDependencies",
          "source": "GatherUnusedDependenciesOperation.java:268"
        },
        {
          "method": "org.eclipse.pde.internal.ui.search.dependencies.GatherUnusedDependenciesOperation.run",
          "source": "GatherUnusedDependenciesOperation.java:117"
        },
        {
          "method": "org.eclipse.pde.internal.ui.search.dependencies.UnusedDependenciesJob.run",
          "source": "UnusedDependenciesJob.java:44"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "148572",
      "date": "2006-06-25T21:12:24+02:00",
      "product": "PDE",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "148572",
  "bugId": "148572",
  "date": "2006-06-25T21:12:24+02:00",
  "product": "PDE",
  "component": "UI",
  "severity": "normal"
}