{
  "comments": [
    "We had deleted a class and was in the process of getting ready to shutdown.\n\nA toString() for debug purposes is being called before checking to see if we\u0027re \nactually in debug mode.  (This was the cause of our exception because it was \ncalling after we had already started to clean up, thereby causing the error).\n\nThe exception is:\n\ncom.ibm.etools.emf.ref.NotImplementedException: Feature is not a feature of the \nRefObject. Feature\u003d\"initializationString\"\n       at \ncom.ibm.etools.emf.ecore.impl.EStructuralFeatureAdapter.assertValidFeature\n(EStructuralFeatureAdapter.java(Compiled Code))\n       at com.ibm.etools.emf.ecore.impl.EAttributeAdapter.refIsSet\n(EAttributeAdapter.java(Compiled Code))\n       at com.ibm.etools.emf.ref.impl.RefObjectImpl.refIsSet(RefObjectImpl.java\n(Compiled Code))\n       at \ncom.ibm.etools.java.instantiation.base.JavaObjectInstance.isSetInitializationStr\ning(JavaObjectInstance.java:50)\n       at \ncom.ibm.etools.java.instantiation.base.JavaObjectInstance.getInitializationStrin\ng(JavaObjectInstance.java:39)\n       at com.ibm.etools.java.instantiation.base.JavaObjectInstance.toString\n(JavaObjectInstance.java:92)\n       at java.lang.StringBuffer.append(StringBuffer.java(Compiled Code))\n       at java.lang.StringBuffer.append(StringBuffer.java(Compiled Code))\n       at com.ibm.etools.gef.editparts.AbstractEditPart.toString\n(AbstractEditPart.java:1002)\n       at java.lang.StringBuffer.append(StringBuffer.java(Compiled Code))\n       at java.lang.StringBuffer.append(StringBuffer.java(Compiled Code))\n       at com.ibm.etools.gef.tools.TargetingTool.setTargetEditPart\n(TargetingTool.java:143)\n       at com.ibm.etools.gef.tools.TargetingTool.updateTargetUnderMouse\n(TargetingTool.java:175)\n       at com.ibm.etools.gef.tools.SelectionTool.handleMove\n(SelectionTool.java:238)\n       at com.ibm.etools.gef.tools.AbstractTool.mouseMove(AbstractTool.java:722)\n       at com.ibm.etools.gef.tools.SelectionTool.mouseMove\n(SelectionTool.java:352)\n       at com.ibm.etools.gef.DefaultEditDomain.mouseMove\n(DefaultEditDomain.java:245)\n       at com.ibm.etools.gef.ui.parts.DomainEventDispatcher.dispatchMouseMoved\n(DomainEventDispatcher.java:234)\n       at com.ibm.etools.draw2d.LightweightSystem$EventHandler.mouseMove\n(LightweightSystem.java:420)\n       at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java\n(Compiled Code))\n       at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java\n(Compiled Code))\n       at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled \nCode))\n       at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java\n(Compiled Code))\n       at org.eclipse.ui.internal.Workbench.run(Workbench.java:1160)\n       at org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:739)\n       at org.eclipse.core.boot.BootLoader.run(BootLoader.java:462)\n       at java.lang.reflect.Method.invoke(Native Method)\n       at org.eclipse.core.launcher.Main.basicRun(Main.java:248)\n       at org.eclipse.core.launcher.Main.run(Main.java:697)\n       at org.eclipse.core.launcher.Main.main(Main.java:530)\n\nThe problem is in TargetingTool.setTargetEditPart():\n\n       if (editpart !\u003d targetEditPart){\n              if (targetEditPart !\u003d null){\n                     debug(\"Leaving:\\t\" + targetEditPart);//$NON-NLS-1$   \u003c-----\n--------------- Here\n                     handleExitingEditPart();\n              }\n              targetEditPart \u003d editpart;\n              if (getTargetRequest() instanceof TargetRequest)\n                     ((TargetRequest)getTargetRequest()).setTargetEditPart\n(targetEditPart);\n              debug(\"Entering:\\t\" + targetEditPart);//$NON-NLS-1$  \u003c------------\n- and Here\n              handleEnteredEditPart();\n       }\n\nThe AbstractTool.debug() method checks to see if tool debug messages should be \ndisplayed, but this is after the toString() method has been called.  If the \ndebug flag was checked first, we wouldn\u0027t have gotton this exception. Also this \nadds time even though not needed.",
    "*** Bug 24455 has been marked as a duplicate of this bug. ***",
    "Pratik, Let\u0027s just remove all tracing.  No one is using it anyway.",
    "Removed invocations from:\n\nTargetingTool\nAbstractTool\nAbstractEditPart\nAbstractTransferDropTargetListener\nAbstractEditPolicy\nLayoutEditPolicy\nGraphicalNodeEditPolicy\nConnectionEndpointEditPolicy\n"
  ],
  "commentCreationDates": [
    "2002-08-26T23:51:34+02:00",
    "2003-03-10T15:53:05+01:00",
    "2004-05-26T21:23:11+02:00",
    "2004-06-15T19:35:04+02:00"
  ],
  "traces": [
    {
      "exceptionType": "com.ibm.etools.emf.ref.NotImplementedException",
      "message": "Feature is not a feature of the  RefObject. Feature\u003d\"initializationString\"",
      "elements": [
        {
          "method": "com.ibm.etools.emf.ecore.impl.EStructuralFeatureAdapter.assertValidFeature",
          "source": "EStructuralFeatureAdapter.java(Compiled Code)"
        },
        {
          "method": "com.ibm.etools.emf.ecore.impl.EAttributeAdapter.refIsSet",
          "source": "EAttributeAdapter.java(Compiled Code)"
        },
        {
          "method": "com.ibm.etools.emf.ref.impl.RefObjectImpl.refIsSet",
          "source": "RefObjectImpl.java (Compiled Code)"
        },
        {
          "method": "com.ibm.etools.java.instantiation.base.JavaObjectInstance.isSetInitializationString",
          "source": "JavaObjectInstance.java:50"
        },
        {
          "method": "com.ibm.etools.java.instantiation.base.JavaObjectInstance.getInitializationString",
          "source": "JavaObjectInstance.java:39"
        },
        {
          "method": "com.ibm.etools.java.instantiation.base.JavaObjectInstance.toString",
          "source": "JavaObjectInstance.java:92"
        },
        {
          "method": "java.lang.StringBuffer.append",
          "source": "StringBuffer.java(Compiled Code)"
        },
        {
          "method": "java.lang.StringBuffer.append",
          "source": "StringBuffer.java(Compiled Code)"
        },
        {
          "method": "com.ibm.etools.gef.editparts.AbstractEditPart.toString",
          "source": "AbstractEditPart.java:1002"
        },
        {
          "method": "java.lang.StringBuffer.append",
          "source": "StringBuffer.java(Compiled Code)"
        },
        {
          "method": "java.lang.StringBuffer.append",
          "source": "StringBuffer.java(Compiled Code)"
        },
        {
          "method": "com.ibm.etools.gef.tools.TargetingTool.setTargetEditPart",
          "source": "TargetingTool.java:143"
        },
        {
          "method": "com.ibm.etools.gef.tools.TargetingTool.updateTargetUnderMouse",
          "source": "TargetingTool.java:175"
        },
        {
          "method": "com.ibm.etools.gef.tools.SelectionTool.handleMove",
          "source": "SelectionTool.java:238"
        },
        {
          "method": "com.ibm.etools.gef.tools.AbstractTool.mouseMove",
          "source": "AbstractTool.java:722"
        },
        {
          "method": "com.ibm.etools.gef.tools.SelectionTool.mouseMove",
          "source": "SelectionTool.java:352"
        },
        {
          "method": "com.ibm.etools.gef.DefaultEditDomain.mouseMove",
          "source": "DefaultEditDomain.java:245"
        },
        {
          "method": "com.ibm.etools.gef.ui.parts.DomainEventDispatcher.dispatchMouseMoved",
          "source": "DomainEventDispatcher.java:234"
        },
        {
          "method": "com.ibm.etools.draw2d.LightweightSystem$EventHandler.mouseMove",
          "source": "LightweightSystem.java:420"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1160"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:739"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:462"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:248"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:697"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:530"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "22875",
      "date": "2002-08-26T23:51:34+02:00",
      "product": "GEF",
      "component": "GEF",
      "severity": "normal"
    }
  ],
  "groupId": "22875",
  "bugId": "22875",
  "date": "2002-08-26T23:51:34+02:00",
  "product": "GEF",
  "component": "GEF",
  "severity": "normal"
}