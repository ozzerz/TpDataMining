{
  "comments": [
    "Report design file works fine on Windows 2k3 server but causes problems when running on z/OS (possibly due to its underlying EDCDIC nature).\n\nI\u0027ve transferred the BIRT runtimes across to z/OS (jar\u0027d up, binary FTP, unjar\u0027d) along with our report design file.  When using genReport.sh (well, actually an EBCDIC copy of it), we get the following error when trying to run the report.\n\n\u003d\u003d\u003d\u003d\u003d\nMay 10, 2007 12:36:04 AM org.eclipse.birt.report.model.parser.ModuleReader readModule\nSEVERE: Line Number:1 Error Code:Error.XMLParserException.SAX_ERROR Exception:org.xml.sax.SAXParseException: Content is not allowed in prolog. Message:SAX detected an error with the basic XML syntax of the file.\nMay 10, 2007 12:36:04 AM org.eclipse.birt.report.engine.api.impl.ReportEngineHelper openReportDesign\nSEVERE: invalid design file file:/u/dummy/low/design/dummy_sysdummy1.rptdesign\nMay 10, 2007 12:36:04 AM org.eclipse.birt.report.engine.api.ReportRunner runAndRenderReport\nSEVERE: The design file file:/u/dummy/low/design/dummy_sysdummy1.rptdesign has error and can not be run.\norg.eclipse.birt.report.engine.api.EngineException: The design file file:/u/dummy/low/design/dummy_sysdummy1.rptdesign has error and can not be run.\n        at org.eclipse.birt.report.engine.api.impl.ReportEngineHelper.openReportDesign(ReportEngineHelper.java:248)\n        at org.eclipse.birt.report.engine.api.impl.ReportEngineHelper.openReportDesign(ReportEngineHelper.java:191)\n        at org.eclipse.birt.report.engine.api.impl.ReportEngineHelper.openReportDesign(ReportEngineHelper.java:125)\n        at org.eclipse.birt.report.engine.api.impl.ReportEngine.openReportDesign(ReportEngine.java:225)\n        at org.eclipse.birt.report.engine.api.ReportRunner.runAndRenderReport(ReportRunner.java:188)\n        at org.eclipse.birt.report.engine.api.ReportRunner.execute(ReportRunner.java:161)\n        at org.eclipse.birt.report.engine.api.ReportRunner.main(ReportRunner.java:117)\nCaused by: Error.DesignFileException.INVALID_XML - 2 errors found!\n1.)  ( line \u003d 1, tag \u003d null) org.eclipse.birt.report.model.util.XMLParserException (code \u003d Error.XMLParserException.SAX_ERROR, message : Line Number:1 Error Code:Error.XMLParserException.SAX_ERROR Exception:org.xml.sax.SAXParseException: Content is not allowed in prolog. Message:SAX detected an error with the basic XML syntax of the file. )\n2.)  ( line \u003d 1) org.xml.sax.SAXParseException (message : Content is not allowed in prolog.)\n\n        at org.eclipse.birt.report.model.parser.ModuleReader.readModule(ModuleReader.java:112)\n        at org.eclipse.birt.report.model.parser.DesignReader.read(DesignReader.java:90)\n        at org.eclipse.birt.report.model.core.DesignSession.openDesign(DesignSession.java:278)\n        at org.eclipse.birt.report.model.api.SessionHandle.openDesign(SessionHandle.java:291)\n        at org.eclipse.birt.report.engine.parser.ReportParser.getDesignHandle(ReportParser.java:160)\n        at org.eclipse.birt.report.engine.api.impl.ReportEngineHelper.openReportDesign(ReportEngineHelper.java:243)\n        ... 6 more\n\n\u003d\u003d\u003d\u003d\u003d\n\nThe \u0027content not allowed in prolog\u0027 seems to be (from Google searches) mostly related to bytes inserted before the initial xml line (i.e. BOMs) which is not the case here.  We\u0027ve done an \u0027od -xcb\u0027 on the files (ASCII and EBCDIC) to verify that the initial line is indeed \u0027\u003c?xml version\u003d\"1.0\" encoding\u003d\"UTF-8\"?\u003e\u0027.\n\nWe\u0027ve tried the XML file as raw ASCII (binary FTP) and converted to EBCDIC (both with ascii-mode FTP and using iconv to translate the binary FTP to EBCDIC) and tried using both \u0027java\u0027 (with its default encoding IBM-1047 and \u0027java -Dfile.encoding\u003dISO-8859-1\u0027 without much success.\n\nWe\u0027re using JDK 1.4.2 maint level UK07860.",
    "Can you please upload the design file?",
    "Created an attachment (id\u003d67185)\nASCII report design file\n\nAs requested, ASCII version of the report design xferred in binary mode.",
    "Need the test environment and more information for this bug. Set to p5 and consider to fix in next release. ",
    "There will be two possible reasons for the \u0027content not allowed in prolog\u0027:\n\n1. the xml file doesn\u0027t exist on the given file path.\n2. the input file is not xml file. For example, if try to parse a .css file.\n\nBTW, the failure was with BIRT 2.1.2,right? Can you please try 2.2.0 runtime build?"
  ],
  "commentCreationDates": [
    "2007-05-14T04:36:24+02:00",
    "2007-05-15T08:06:11+02:00",
    "2007-05-15T08:13:24+02:00",
    "2007-05-29T10:33:11+02:00",
    "2007-06-01T04:38:32+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.birt.report.engine.api.EngineException",
      "message": "The design file file:/u/dummy/low/design/dummy_sysdummy1.rptdesign has error and can not be run.",
      "elements": [
        {
          "method": "org.eclipse.birt.report.engine.api.impl.ReportEngineHelper.openReportDesign",
          "source": "ReportEngineHelper.java:248"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.ReportEngineHelper.openReportDesign",
          "source": "ReportEngineHelper.java:191"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.ReportEngineHelper.openReportDesign",
          "source": "ReportEngineHelper.java:125"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.impl.ReportEngine.openReportDesign",
          "source": "ReportEngine.java:225"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.ReportRunner.runAndRenderReport",
          "source": "ReportRunner.java:188"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.ReportRunner.execute",
          "source": "ReportRunner.java:161"
        },
        {
          "method": "org.eclipse.birt.report.engine.api.ReportRunner.main",
          "source": "ReportRunner.java:117"
        }
      ],
      "causedBy": {
        "exceptionType": "org.xml.sax.SAXParseException",
        "message": "Content is not allowed in prolog. Message:SAX detected an error with the basic XML syntax of the file. ) 2.)  ( line \u003d 1) org.xml.sax.SAXParseException (message : Content is not allowed in prolog.)",
        "elements": [
          {
            "method": "org.eclipse.birt.report.model.parser.ModuleReader.readModule",
            "source": "ModuleReader.java:112"
          },
          {
            "method": "org.eclipse.birt.report.model.parser.DesignReader.read",
            "source": "DesignReader.java:90"
          },
          {
            "method": "org.eclipse.birt.report.model.core.DesignSession.openDesign",
            "source": "DesignSession.java:278"
          },
          {
            "method": "org.eclipse.birt.report.model.api.SessionHandle.openDesign",
            "source": "SessionHandle.java:291"
          },
          {
            "method": "org.eclipse.birt.report.engine.parser.ReportParser.getDesignHandle",
            "source": "ReportParser.java:160"
          },
          {
            "method": "org.eclipse.birt.report.engine.api.impl.ReportEngineHelper.openReportDesign",
            "source": "ReportEngineHelper.java:243"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "186731",
      "date": "2007-05-14T04:36:24+02:00",
      "product": "BIRT",
      "component": "Report",
      "severity": "blocker"
    }
  ],
  "groupId": "186731",
  "bugId": "186731",
  "date": "2007-05-14T04:36:24+02:00",
  "product": "BIRT",
  "component": "Report",
  "severity": "blocker"
}