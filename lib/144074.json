{
  "comments": [
    "When I run AC (Build TPTP-4.2.0-200605251528) with 1.4.2_10 JVM (set it to this JVM during SetConfig run), the JUnit Test gives the following exception. When I switch to 1.5_06 JVM, then things work fine.\n\njava.lang.UnsupportedClassVersionError: tptp/testpass2/SampleURLTest (Unsupported major.minor version 49.0)\n\tat java.lang.ClassLoader.defineClass0(Native Method)\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:539)\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:123)\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:251)\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:55)\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:194)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:187)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:289)\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:274)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:235)\n\tat java.lang.ClassLoader.loadClassInternal(ClassLoader.java:302)\n\tat java.lang.Class.forName0(Native Method)\n\tat java.lang.Class.forName(Class.java:219)\n\tat org.eclipse.hyades.test.java.runner.HyadesJUnitRunner.main(HyadesJUnitRunner.java:188)",
    "I can\u0027t reproduce this.  Can you give me more details?  How reproducible is it?  Are you running client and server on the same machine?  What exactly is the test case you\u0027re running?",
    "I was running both client and AC on the same machine on Windows XP.And I tested with simple JUnit test case. I have seen this only with the build I mentioned. Before this build it wasn\u0027t a problem. I tried couple of times and reran SetConfig with 1.5 JVM and then it worked.",
    "It turns out that I was testing with an older client.  When I run with the 04120817 driver (using the 05251528 Agent Controller and the 1.4.11 Sun JVM), I don\u0027t see this problem.  However, when I updated to the 05251528B driver (still using the AC and JVM mentioned above), I get an inconclusive result from the JUnit test.  The results contain a single message, which tells me this:\n\njava.lang.ClassNotFoundException: JUTest\n\tat java.net.URLClassLoader$1.run(Unknown Source)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.net.URLClassLoader.findClass(Unknown Source)\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\n\tat java.lang.ClassLoader.loadClassInternal(Unknown Source)\n\tat java.lang.Class.forName0(Native Method)\n\tat java.lang.Class.forName(Unknown Source)\n\tat org.eclipse.hyades.test.java.runner.HyadesJUnitRunner.main(HyadesJUnitRunner.java:188)\n\nwhich isn\u0027t exactly what Vishnu reported, but ends the same and probably is equivalent.\n\nI did not test this with the Sun 1.5 JVM, but Vishnu reports that it works there.  I also have not tested this with any version of the IBM JVM.\n\nLooking at the JUnit runner history, and considering that it worked with the 4/12 driver, I wondered if this might be a regression related to bug 140715.",
    "Andy and Vishnu,\n\nCan you check which JVM you are using in eclipse (the default JRE defined in Preferences \u003e Java \u003e Installed JREs)?. This is the JVM used to compile classes, and using a JVM 5.0 to compile code for executing on 1.4 JVM is probably not supported. Thanks.",
    "Okay, I was able to reproduce Vishnu\u0027s exception.\nTo do this, you have to set the compiler compliance level to 5.0 (either in the general Java preferences, or in the Project-specific preferences). This setting is automatic at the project creation if you choose a JRE 5.0.\nThe execution fails because .class files produced with 5.0 compliance level cannot be executed on 1.4.x JRE. There\u0027s nothing that can be done about it, but switching your compiler compliance level to 1.4.\nI\u0027m marking this bugzilla record as invalid -- if I am wrong to assume that you compiled your code with 5.0 JRE, feel free to reopen it with any details you can provide about the JVM and builds you are using.",
    "To clarify things, here is some additional information. There are several JREs involved in this use case:\n\n1) the JRE used to compile Eclipse and TPTP (it is a 1.4)\n2) the JRE used to launch Eclipse (this is usually the default JVM on your system, the one in the PATH, unless there is \"jre\" folder under your eclipse directory, or unless the option \"-vm\" is used on eclipse command line).\n3) the JRE used by Eclipse to compile java projects (defined in preferences or project settings, see screen captures in attachments)\n4) the JRE defined in AC configuration file (used for running TPTP tests)\n\n1) and 2) do not matter in our case. The important ones are 3) and 4). Basically, the version of 3) must be lower or equal than the version of 4). More specifically, if the compiler compliance settings defined in 3) are set to \"5.0\", and the JRE used in 4) is 1.4.x, we have an invalid combination and it normal to get the exception \"java.lang.UnsupportedClassVersionError\".",
    "Created an attachment (id\u003d43964)\nScreen capture of JRE preferences page\n\n",
    "Created an attachment (id\u003d43965)\nScreen capture of compiler preferences page\n\n",
    "Created an attachment (id\u003d43966)\nScreen capture of compiler settings in project properties page\n\n"
  ],
  "commentCreationDates": [
    "2006-05-27T17:04:43+02:00",
    "2006-06-01T01:59:04+02:00",
    "2006-06-01T02:14:53+02:00",
    "2006-06-01T23:50:04+02:00",
    "2006-06-08T17:33:08+02:00",
    "2006-06-08T17:54:19+02:00",
    "2006-06-09T11:22:26+02:00",
    "2006-06-09T11:35:08+02:00",
    "2006-06-09T11:35:47+02:00",
    "2006-06-09T11:36:51+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.UnsupportedClassVersionError",
      "message": "tptp/testpass2/SampleURLTest (Unsupported major.minor version 49.0)",
      "elements": [
        {
          "method": "java.lang.ClassLoader.defineClass0",
          "source": "Native Method"
        },
        {
          "method": "java.lang.ClassLoader.defineClass",
          "source": "ClassLoader.java:539"
        },
        {
          "method": "java.security.SecureClassLoader.defineClass",
          "source": "SecureClassLoader.java:123"
        },
        {
          "method": "java.net.URLClassLoader.defineClass",
          "source": "URLClassLoader.java:251"
        },
        {
          "method": "java.net.URLClassLoader.access$100",
          "source": "URLClassLoader.java:55"
        },
        {
          "method": "java.net.URLClassLoader$1.run",
          "source": "URLClassLoader.java:194"
        },
        {
          "method": "java.security.AccessController.doPrivileged",
          "source": "Native Method"
        },
        {
          "method": "java.net.URLClassLoader.findClass",
          "source": "URLClassLoader.java:187"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:289"
        },
        {
          "method": "sun.misc.Launcher$AppClassLoader.loadClass",
          "source": "Launcher.java:274"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:235"
        },
        {
          "method": "java.lang.ClassLoader.loadClassInternal",
          "source": "ClassLoader.java:302"
        },
        {
          "method": "java.lang.Class.forName0",
          "source": "Native Method"
        },
        {
          "method": "java.lang.Class.forName",
          "source": "Class.java:219"
        },
        {
          "method": "org.eclipse.hyades.test.java.runner.HyadesJUnitRunner.main",
          "source": "HyadesJUnitRunner.java:188"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "144074",
      "date": "2006-05-27T17:04:43+02:00",
      "product": "TPTP Agent Controller",
      "component": "Platform.Collection",
      "severity": "critical"
    },
    {
      "exceptionType": "java.lang.ClassNotFoundException",
      "message": "JUTest",
      "elements": [
        {
          "method": "java.net.URLClassLoader$1.run",
          "source": "Unknown Source"
        },
        {
          "method": "java.security.AccessController.doPrivileged",
          "source": "Native Method"
        },
        {
          "method": "java.net.URLClassLoader.findClass",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "Unknown Source"
        },
        {
          "method": "sun.misc.Launcher$AppClassLoader.loadClass",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.ClassLoader.loadClassInternal",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.Class.forName0",
          "source": "Native Method"
        },
        {
          "method": "java.lang.Class.forName",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.hyades.test.java.runner.HyadesJUnitRunner.main",
          "source": "HyadesJUnitRunner.java:188"
        }
      ],
      "number": 1,
      "commentIndex": 3,
      "bugId": "144074",
      "date": "2006-06-01T23:50:04+02:00",
      "product": "TPTP Agent Controller",
      "component": "Platform.Collection",
      "severity": "critical"
    }
  ],
  "groupId": "144074",
  "bugId": "144074",
  "date": "2006-05-27T17:04:43+02:00",
  "product": "TPTP Agent Controller",
  "component": "Platform.Collection",
  "severity": "critical"
}