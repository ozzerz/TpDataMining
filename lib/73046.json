{
  "comments": [
    "I am developing plugins for various IDEs. Till now all our products were Swing \nbased and all the plugins were working fine. \nWe recently switched from Swing to SWT. Now I am trying to embedd our products \n(SWT components) in various IDEs( Swing components).\n\nI am using jars and dlls of Eclipse 3.\nEmbedding of SWT in Swing is working fine in stand alone application. But when \nI deploy my plugin in IDE eg IntelliJ IDEA, following error is thrown\n\norg.eclipse.swt.SWTError: Not implemented (java.lang.UnsatisfiedLinkError: \nNative Library D:\\Apps\\IDEs\\Idea4.0\\jre\\bin\\jawt.dll already loaded in another \nclassloader)\n        at org.eclipse.swt.SWT.error(SWT.java:2717)\n        at org.eclipse.swt.SWT.error(SWT.java:2616)\n        at org.eclipse.swt.awt.SWT_AWT.new_Shell(SWT_AWT.java:265)\n\n*** Stack trace of contained error ***\njava.lang.UnsatisfiedLinkError: Native Library D:\\Apps\\IDEs\\Idea4.0\\jre\\bin\\jawt\n.dll already loaded in another classloader\n        at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1525)\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1477)\n        at java.lang.Runtime.loadLibrary0(Runtime.java:788)\n        at java.lang.System.loadLibrary(System.java:834)\n        at org.eclipse.swt.awt.SWT_AWT.loadLibrary(SWT_AWT.java:67)\n        at org.eclipse.swt.awt.SWT_AWT.new_Shell(SWT_AWT.java:262)\n        at com.appperfect.plugins.common.SWTContainer$1.run(SWTContainer.java:49\n)\n        at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n        at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.ja\nva:106)\n        at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2749)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2434)\n        at com.appperfect.plugins.common.DisplayThread.swtEventLoop(DisplayThrea\nd.java:72)\n        at com.appperfect.plugins.common.DisplayThread.run\n(DisplayThread.java:65)\n\nWe are not able to proceed because of this problem. If problem is not resolved \nthen we may have to switched back to Swing. :(\n\nProblem is because SWT_AWT explicitly loads jawt.dll, this may be because \nSWT_AWT or some other class in swt.jar directly calls a native method in \njawt.dll. If this is not so and just swt dlls have internal dependeny on \njawt.dll then I think explicit loading of jawt is not required.\n\nIs there any work around?\nAm I missing something?\n\n-Sudhan.",
    "Problem is because IDEA loads jawt.dll in main class loader and my plugin gets \nloaded in a plugin class loader. So when SWT_AWT tries to load jawt.dll it \ngives error.\nSo I moved the swt.jar from my plugins lib folder to the IDEA\u0027s lib folder. \nThis solved the UnsatisfiedLinkError problem.\n\nIs this the correct way?\n\nAlso after this dll gets loaded but I am getting following exception \n\norg.eclipse.swt.SWTError: No more handles\n        at org.eclipse.swt.SWT.error(SWT.java:2717)\n        at org.eclipse.swt.SWT.error(SWT.java:2616)\n        at org.eclipse.swt.SWT.error(SWT.java:2587)\n        at org.eclipse.swt.widgets.Widget.error(Widget.java:381)\n        at org.eclipse.swt.widgets.Control.createHandle(Control.java:462)\n        at org.eclipse.swt.widgets.Composite.createHandle(Composite.java:173)\n        at org.eclipse.swt.widgets.Decorations.createHandle(Decorations.java:320\n)\n        at org.eclipse.swt.widgets.Shell.createHandle(Shell.java:436)\n        at org.eclipse.swt.widgets.Control.createWidget(Control.java:477)\n        at org.eclipse.swt.widgets.Scrollable.createWidget(Scrollable.java:129)\n        at org.eclipse.swt.widgets.Decorations.createWidget(Decorations.java:327\n)\n        at org.eclipse.swt.widgets.Shell.\u003cinit\u003e(Shell.java:251)\n        at org.eclipse.swt.widgets.Shell.win32_new(Shell.java:341)\n        at org.eclipse.swt.awt.SWT_AWT.new_Shell(SWT_AWT.java:269)\n\nI am getting the same exception in JBuilder and NetBeans also. I watched the \nprocesses in TaskManager, Handle count keeps changing for this processes even \nafter I get this error. That means Windows or process has not reached limit (if \nthere is any).\n\nThanks,\n-Sudhan.",
    "SWT should not have to load the \"jawt.dll\" explicitly because its lib \"swt-awt-\nwin32-XXXX.dll\" already depends on the \"jawt.dll\". The problem is that the \nJAWT library is (or may) not in the DLL loader path. So the loader cannot \nresolve the dependences when loading \"swt-awt-win32-XXXX.dll\". To solve this \nproblem SWT explicitily loaded \"jawt\" using System.loadLibrary() (which \nsomehow can find it always).\n\nI am going to catch exceptions when loading the jawt library. This should \nworkaround the problem when SWT_AWT is loaded after the other plugin and it \nshould not cause any side effects. But the problem may still happen, if the \nother the plugin is loaded after SWT_AWT and it does not take care of this \ncase.\n\nFixed to HEAD (3.1) \u003e 20040901."
  ],
  "commentCreationDates": [
    "2004-09-01T14:17:42+02:00",
    "2004-09-01T17:16:26+02:00",
    "2004-09-01T18:40:11+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.UnsatisfiedLinkError",
      "message": "Native Library D:\\Apps\\IDEs\\Idea4.0\\jre\\bin\\jawt.dll already loaded in another  classloader)",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2717"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2616"
        },
        {
          "method": "org.eclipse.swt.awt.SWT_AWT.new_Shell",
          "source": "SWT_AWT.java:265"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "73046",
      "date": "2004-09-01T14:17:42+02:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "blocker"
    },
    {
      "exceptionType": "java.lang.UnsatisfiedLinkError",
      "message": "Native Library D:\\Apps\\IDEs\\Idea4.0\\jre\\bin\\jawt .dll already loaded in another classloader",
      "elements": [
        {
          "method": "java.lang.ClassLoader.loadLibrary0",
          "source": "ClassLoader.java:1525"
        },
        {
          "method": "java.lang.ClassLoader.loadLibrary",
          "source": "ClassLoader.java:1477"
        },
        {
          "method": "java.lang.Runtime.loadLibrary0",
          "source": "Runtime.java:788"
        },
        {
          "method": "java.lang.System.loadLibrary",
          "source": "System.java:834"
        },
        {
          "method": "org.eclipse.swt.awt.SWT_AWT.loadLibrary",
          "source": "SWT_AWT.java:67"
        },
        {
          "method": "org.eclipse.swt.awt.SWT_AWT.new_Shell",
          "source": "SWT_AWT.java:262"
        },
        {
          "method": "com.appperfect.plugins.common.SWTContainer$1.run",
          "source": "SWTContainer.java:49 "
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.ja va:106"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:2749"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2434"
        },
        {
          "method": "com.appperfect.plugins.common.DisplayThread.swtEventLoop",
          "source": "DisplayThrea d.java:72"
        },
        {
          "method": "com.appperfect.plugins.common.DisplayThread.run",
          "source": "DisplayThread.java:65"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "73046",
      "date": "2004-09-01T14:17:42+02:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "blocker"
    },
    {
      "exceptionType": "org.eclipse.swt.SWTError",
      "message": "No more handles",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2717"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2616"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2587"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:381"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.createHandle",
          "source": "Control.java:462"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.createHandle",
          "source": "Composite.java:173"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.createHandle",
          "source": "Decorations.java:320 "
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.createHandle",
          "source": "Shell.java:436"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.createWidget",
          "source": "Control.java:477"
        },
        {
          "method": "org.eclipse.swt.widgets.Scrollable.createWidget",
          "source": "Scrollable.java:129"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.createWidget",
          "source": "Decorations.java:327 "
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.\u003cinit\u003e",
          "source": "Shell.java:251"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.win32_new",
          "source": "Shell.java:341"
        },
        {
          "method": "org.eclipse.swt.awt.SWT_AWT.new_Shell",
          "source": "SWT_AWT.java:269"
        }
      ],
      "number": 2,
      "commentIndex": 1,
      "bugId": "73046",
      "date": "2004-09-01T17:16:26+02:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "blocker"
    }
  ],
  "groupId": "73046",
  "bugId": "73046",
  "date": "2004-09-01T14:17:42+02:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "blocker"
}