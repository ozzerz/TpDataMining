{
  "comments": [
    "build I20030211 + latest UI from head\n\nWhen trying to run the tests, I got the following NPE.\nSeems to be caused by the fix for bug 30916.\n\njava.lang.NullPointerException\n\tat org.eclipse.ui.internal.NavigationHistory.markEditor\n(NavigationHistory.java:98)\n\tat org.eclipse.ui.internal.WorkbenchPage.setActivePart\n(WorkbenchPage.java:2468)\n\tat org.eclipse.ui.internal.WorkbenchPage.activate\n(WorkbenchPage.java:405)\n\tat org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor\n(WorkbenchPage.java:2053)\n\tat org.eclipse.ui.internal.WorkbenchPage.access$6\n(WorkbenchPage.java:1986)\n\tat org.eclipse.ui.internal.WorkbenchPage$8.run(WorkbenchPage.java:1973)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile\n(BusyIndicator.java:65)\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor\n(WorkbenchPage.java:1968)\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor\n(WorkbenchPage.java:1905)\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor\n(WorkbenchPage.java:1897)\n\tat org.eclipse.ui.internal.WorkbenchConfigurationInfo.openEditor\n(WorkbenchConfigurationInfo.java:345)\n\tat \norg.eclipse.ui.internal.WorkbenchConfigurationInfo.openWelcomeEditors\n(WorkbenchConfigurationInfo.java:103)\n\tat org.eclipse.ui.internal.Workbench.init(Workbench.java:734)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1259)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:845)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:431)\n\tat EclipseRuntimeLauncher.main(EclipseRuntimeLauncher.java:24)",
    "Is the following code in WorkbenchPage.setActivePart correct?\n    if(markLocation \u0026\u0026 activePart !\u003d null \u0026\u0026 activePart instanceof IEditorPart)\n        navigationHistory.markEditor(getActiveEditor());\n\nNote that the if checks activePart, but it then calls getActiveEditor().\nShould it be activePart?",
    "While tracing through this, also noticed that EditorManager.getVisibleEditor() \ndoes more work then it should (albeit small) since it calls \neditorPresentation.getVisibleEditor() twice.\n",
    "Added null check in NavigationHistory.markEditor.\n\nI then got an NPE further in:\njava.lang.NullPointerException\n\tat org.eclipse.ui.internal.NavigationHistory.addEntry\n(NavigationHistory.java:225)\n\tat org.eclipse.ui.internal.NavigationHistory.markEditor\n(NavigationHistory.java:100)\n\tat org.eclipse.ui.internal.WorkbenchPage.setActivePart\n(WorkbenchPage.java:2468)\n\tat org.eclipse.ui.internal.WorkbenchPage.activate\n(WorkbenchPage.java:405)\n\tat org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor\n(WorkbenchPage.java:2053)\n\tat org.eclipse.ui.internal.WorkbenchPage.access$6\n(WorkbenchPage.java:1986)\n\tat org.eclipse.ui.internal.WorkbenchPage$8.run(WorkbenchPage.java:1973)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile\n(BusyIndicator.java:65)\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor\n(WorkbenchPage.java:1968)\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor\n(WorkbenchPage.java:1905)\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor\n(WorkbenchPage.java:1897)\n\tat org.eclipse.ui.internal.WorkbenchConfigurationInfo.openEditor\n(WorkbenchConfigurationInfo.java:345)\n\tat \norg.eclipse.ui.internal.WorkbenchConfigurationInfo.openWelcomeEditors\n(WorkbenchConfigurationInfo.java:103)\n\tat org.eclipse.ui.internal.Workbench.init(Workbench.java:734)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1259)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:845)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:431)\n\tat EclipseRuntimeLauncher.main(EclipseRuntimeLauncher.java:24)\n",
    "Added null check for this one too.\n\nStepping through the code some more, noticed that calls to \nNavigationHistoryAction.getActivePage() are missing null checks.\n",
    "Released changes and resubmitted build input.\nPlease verify.\n",
    "Fixed the problem  described in comment #1 and comment #2.\nNavigationHistoryAction.getActivePage() will not run if the page is null.\n"
  ],
  "commentCreationDates": [
    "2003-02-13T06:29:01+01:00",
    "2003-02-13T06:32:36+01:00",
    "2003-02-13T06:35:38+01:00",
    "2003-02-13T06:51:58+01:00",
    "2003-02-13T06:56:01+01:00",
    "2003-02-13T07:09:37+01:00",
    "2003-02-13T19:48:45+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.internal.NavigationHistory.markEditor",
          "source": "NavigationHistory.java:98"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.setActivePart",
          "source": "WorkbenchPage.java:2468"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.activate",
          "source": "WorkbenchPage.java:405"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor",
          "source": "WorkbenchPage.java:2053"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.access$6",
          "source": "WorkbenchPage.java:1986"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$8.run",
          "source": "WorkbenchPage.java:1973"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:65"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:1968"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:1905"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:1897"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchConfigurationInfo.openEditor",
          "source": "WorkbenchConfigurationInfo.java:345"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchConfigurationInfo.openWelcomeEditors",
          "source": "WorkbenchConfigurationInfo.java:103"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.init",
          "source": "Workbench.java:734"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1259"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:431"
        },
        {
          "method": "EclipseRuntimeLauncher.main",
          "source": "EclipseRuntimeLauncher.java:24"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "31743",
      "date": "2003-02-13T06:29:01+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "critical"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.internal.NavigationHistory.addEntry",
          "source": "NavigationHistory.java:225"
        },
        {
          "method": "org.eclipse.ui.internal.NavigationHistory.markEditor",
          "source": "NavigationHistory.java:100"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.setActivePart",
          "source": "WorkbenchPage.java:2468"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.activate",
          "source": "WorkbenchPage.java:405"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor",
          "source": "WorkbenchPage.java:2053"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.access$6",
          "source": "WorkbenchPage.java:1986"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$8.run",
          "source": "WorkbenchPage.java:1973"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:65"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:1968"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:1905"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:1897"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchConfigurationInfo.openEditor",
          "source": "WorkbenchConfigurationInfo.java:345"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchConfigurationInfo.openWelcomeEditors",
          "source": "WorkbenchConfigurationInfo.java:103"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.init",
          "source": "Workbench.java:734"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1259"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:431"
        },
        {
          "method": "EclipseRuntimeLauncher.main",
          "source": "EclipseRuntimeLauncher.java:24"
        }
      ],
      "number": 1,
      "commentIndex": 3,
      "bugId": "31743",
      "date": "2003-02-13T06:51:58+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "critical"
    }
  ],
  "groupId": "31743",
  "bugId": "31743",
  "date": "2003-02-13T06:29:01+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "critical"
}