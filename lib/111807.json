{
  "comments": [
    "I saw the following exception occur a few times in the .log on our product \nbased on WTP M8:\n\n!ENTRY org.eclipse.jdt.core 4 4 2005-10-06 13:10:42.875\n!MESSAGE Exception occurred in listener of Java element change notification\n!STACK 0\njava.util.EmptyStackException\n\tat java.util.Stack.peek(Stack.java:94)\n\tat java.util.Stack.pop(Stack.java:76)\n\tat \norg.eclipse.jst.jsp.core.internal.contentmodel.TaglibIndex$ClasspathChangeListe\nner.handleClasspathChange(TaglibIndex.java:117)\n\tat \norg.eclipse.jst.jsp.core.internal.contentmodel.TaglibIndex$ClasspathChangeListe\nner.elementChanged(TaglibIndex.java:83)\n\tat \norg.eclipse.jst.jsp.core.internal.contentmodel.TaglibIndex$ClasspathChangeListe\nner.elementChanged(TaglibIndex.java:77)\n\tat \norg.eclipse.jst.jsp.core.internal.contentmodel.TaglibIndex$ClasspathChangeListe\nner.elementChanged(TaglibIndex.java:70)\n\tat org.eclipse.jdt.internal.core.DeltaProcessor$3.run\n(DeltaProcessor.java:1432)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:1044)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:783)\n\tat org.eclipse.jdt.internal.core.DeltaProcessor.notifyListeners\n(DeltaProcessor.java:1422)\n\tat org.eclipse.jdt.internal.core.DeltaProcessor.firePostChangeDelta\n(DeltaProcessor.java:1270)\n\tat org.eclipse.jdt.internal.core.DeltaProcessor.fire\n(DeltaProcessor.java:1245)\n\tat org.eclipse.jdt.internal.core.JavaModelOperation.run\n(JavaModelOperation.java:758)\n\tat org.eclipse.jdt.internal.core.JavaModelOperation.runOperation\n(JavaModelOperation.java:777)\n\tat org.eclipse.jdt.internal.core.CompilationUnit.getWorkingCopy\n(CompilationUnit.java:871)\n\tat \norg.eclipse.jst.jsp.core.internal.java.JSPTranslation.createCompilationUnit\n(JSPTranslation.java:405)\n\tat \norg.eclipse.jst.jsp.core.internal.java.JSPTranslation.getCompilationUnit\n(JSPTranslation.java:338)\n\tat \norg.eclipse.jst.jsp.core.internal.java.JSPTranslation.setProblemCollectingActiv\ne(JSPTranslation.java:467)\n\tat \norg.eclipse.jst.jsp.core.internal.validation.JSPValidator.validateFile\n(JSPValidator.java:171)\n\tat org.eclipse.jst.jsp.core.internal.validation.JSPValidator.validate\n(JSPValidator.java:138)\n\tat org.eclipse.wst.validation.internal.core.ValidatorLauncher.start\n(ValidatorLauncher.java:90)\n\tat \norg.eclipse.wst.validation.internal.operations.ValidationOperation.launchValida\ntor(ValidationOperation.java:1195)\n\tat \norg.eclipse.wst.validation.internal.operations.ValidationOperation.internalVali\ndate(ValidationOperation.java:1021)\n\tat \norg.eclipse.wst.validation.internal.operations.ValidationOperation.validate\n(ValidationOperation.java:927)\n\tat \norg.eclipse.wst.validation.internal.operations.ValidationOperation.run\n(ValidationOperation.java:638)\n\tat \norg.eclipse.wst.validation.internal.operations.ValidationBuilder.performFullBui\nld(ValidationBuilder.java:262)\n\tat \norg.eclipse.wst.validation.internal.operations.ValidationBuilder.performFullBui\nld(ValidationBuilder.java:254)\n\tat \norg.eclipse.wst.validation.internal.operations.ValidationBuilder.build\n(ValidationBuilder.java:195)\n\tat org.eclipse.core.internal.events.BuildManager$2.run\n(BuildManager.java:593)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:1044)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:783)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild\n(BuildManager.java:168)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild\n(BuildManager.java:202)\n\tat org.eclipse.core.internal.events.BuildManager$1.run\n(BuildManager.java:231)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:1044)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:783)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild\n(BuildManager.java:234)\n\tat org.eclipse.core.internal.events.BuildManager.basicBuildLoop\n(BuildManager.java:253)\n\tat org.eclipse.core.internal.events.BuildManager.build\n(BuildManager.java:282)\n\tat org.eclipse.core.internal.events.AutoBuildJob.doBuild\n(AutoBuildJob.java:139)\n\tat org.eclipse.core.internal.events.AutoBuildJob.run\n(AutoBuildJob.java:200)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)\n\nI haven\u0027t been able to figure out how to reproduce this.",
    "I\u0027ve not been able to reproduce it, either, but it looks like the classpath\nchange handling wasn\u0027t thread-safe.  I\u0027ve made some changes.  Please reopen if\nyou continue to see error messages.",
    "This has showed up in M200602141429, so the problem is still there.\n\n     [java] java.util.EmptyStackException\n     [java]            at java.util.Stack.peek(Stack.java:79)\n     [java]            at java.util.Stack.pop(Stack.java:61)\n     [java]            at org.eclipse.jst.jsp.core.taglib.TaglibIndex$ClasspathChangeListener.handleClasspathChange(TaglibIndex.java:123)\n     [java]            at org.eclipse.jst.jsp.core.taglib.TaglibIndex$ClasspathChangeListener.elementChanged(TaglibIndex.java:80)\n     [java]            at org.eclipse.jst.jsp.core.taglib.TaglibIndex$ClasspathChangeListener.elementChanged(TaglibIndex.java:73)\n     [java]            at org.eclipse.jst.jsp.core.taglib.TaglibIndex$ClasspathChangeListener.elementChanged(TaglibIndex.java:66)\n     [java]            at org.eclipse.jdt.internal.core.DeltaProcessor$3.run(DeltaProcessor.java:1432)\n     [java]            at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)\n     [java]            at org.eclipse.core.runtime.Platform.run(Platform.java:783)\n     [java]            at org.eclipse.jdt.internal.core.DeltaProcessor.notifyListeners(DeltaProcessor.java:1422)\n     [java]            at org.eclipse.jdt.internal.core.DeltaProcessor.firePostChangeDelta(DeltaProcessor.java:1270)\n     [java]            at org.eclipse.jdt.internal.core.DeltaProcessor.fire(DeltaProcessor.java:1245)\n     [java]            at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:758)\n     [java]            at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:777)\n     [java]            at org.eclipse.jdt.internal.core.CompilationUnit.getWorkingCopy(CompilationUnit.java:871)\n     [java]            at org.eclipse.jst.jsp.core.internal.java.JSPTranslation.createCompilationUnit(JSPTranslation.java:405)\n     [java]            at org.eclipse.jst.jsp.core.internal.java.JSPTranslation.getCompilationUnit(JSPTranslation.java:338)\n     [java]            at org.eclipse.jst.jsp.core.internal.java.JSPTranslation.setProblemCollectingActive(JSPTranslation.java:467)\n     [java]            at org.eclipse.jst.jsp.core.internal.validation.JSPValidator.validateFile(JSPValidator.java:225)\n     [java]            at org.eclipse.jst.jsp.core.internal.validation.JSPValidator.validate(JSPValidator.java:188)\n     [java]            at org.eclipse.wst.validation.internal.core.ValidatorLauncher.start(ValidatorLauncher.java:90)\n     [java]            at org.eclipse.wst.validation.internal.operations.ValidationOperation.launchValidator(ValidationOperation.java:1220)\n     [java]            at org.eclipse.wst.validation.internal.operations.ValidationOperation.internalValidate(ValidationOperation.java:1046)\n     [java]            at org.eclipse.wst.validation.internal.operations.ValidationOperation.validate(ValidationOperation.java:929)\n     [java]            at org.eclipse.wst.validation.internal.operations.ValidationOperation.run(ValidationOperation.java:640)\n     [java]            at org.eclipse.wst.validation.internal.operations.ValidationBuilder.performFullBuild(ValidationBuilder.java:262)\n     [java]            at org.eclipse.wst.validation.internal.operations.ValidationBuilder.performFullBuild(ValidationBuilder.java:254)\n     [java]            at org.eclipse.wst.validation.internal.operations.ValidationBuilder.build(ValidationBuilder.java:195)\n     [java]            at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:593)\n     [java]            at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)\n     [java]            at org.eclipse.core.runtime.Platform.run(Platform.java:783)\n     [java]            at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:168)\n",
    "ILocks were added in the 1.5 stream so it would be thread-safer.  They were deemed too risky for the 1.0 maintenance branch as they *could* introduce deadlocks and I still haven\u0027t reliably reproduced this problem in 1.0.x.",
    "This is part of a mass update to close out all stale WTP resolved bugs from the 1.0.x and 1.5.0 timeframe.  If you feel this bug was closed inappropriately, please reopen.\n\nThanks, John Lanuti"
  ],
  "commentCreationDates": [
    "2005-10-06T19:32:23+02:00",
    "2005-10-10T22:06:31+02:00",
    "2006-02-16T15:33:52+01:00",
    "2006-02-19T22:37:52+01:00",
    "2006-11-28T20:59:32+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.util.EmptyStackException",
      "elements": [
        {
          "method": "java.util.Stack.peek",
          "source": "Stack.java:94"
        },
        {
          "method": "java.util.Stack.pop",
          "source": "Stack.java:76"
        },
        {
          "method": "org.eclipse.jst.jsp.core.internal.contentmodel.TaglibIndex$ClasspathChangeListener.handleClasspathChange",
          "source": "TaglibIndex.java:117"
        },
        {
          "method": "org.eclipse.jst.jsp.core.internal.contentmodel.TaglibIndex$ClasspathChangeListener.elementChanged",
          "source": "TaglibIndex.java:83"
        },
        {
          "method": "org.eclipse.jst.jsp.core.internal.contentmodel.TaglibIndex$ClasspathChangeListener.elementChanged",
          "source": "TaglibIndex.java:77"
        },
        {
          "method": "org.eclipse.jst.jsp.core.internal.contentmodel.TaglibIndex$ClasspathChangeListener.elementChanged",
          "source": "TaglibIndex.java:70"
        },
        {
          "method": "org.eclipse.jdt.internal.core.DeltaProcessor$3.run",
          "source": "DeltaProcessor.java:1432"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1044"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:783"
        },
        {
          "method": "org.eclipse.jdt.internal.core.DeltaProcessor.notifyListeners",
          "source": "DeltaProcessor.java:1422"
        },
        {
          "method": "org.eclipse.jdt.internal.core.DeltaProcessor.firePostChangeDelta",
          "source": "DeltaProcessor.java:1270"
        },
        {
          "method": "org.eclipse.jdt.internal.core.DeltaProcessor.fire",
          "source": "DeltaProcessor.java:1245"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.run",
          "source": "JavaModelOperation.java:758"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.runOperation",
          "source": "JavaModelOperation.java:777"
        },
        {
          "method": "org.eclipse.jdt.internal.core.CompilationUnit.getWorkingCopy",
          "source": "CompilationUnit.java:871"
        },
        {
          "method": "org.eclipse.jst.jsp.core.internal.java.JSPTranslation.createCompilationUnit",
          "source": "JSPTranslation.java:405"
        },
        {
          "method": "org.eclipse.jst.jsp.core.internal.java.JSPTranslation.getCompilationUnit",
          "source": "JSPTranslation.java:338"
        },
        {
          "method": "org.eclipse.jst.jsp.core.internal.java.JSPTranslation.setProblemCollectingActive",
          "source": "JSPTranslation.java:467"
        },
        {
          "method": "org.eclipse.jst.jsp.core.internal.validation.JSPValidator.validateFile",
          "source": "JSPValidator.java:171"
        },
        {
          "method": "org.eclipse.jst.jsp.core.internal.validation.JSPValidator.validate",
          "source": "JSPValidator.java:138"
        },
        {
          "method": "org.eclipse.wst.validation.internal.core.ValidatorLauncher.start",
          "source": "ValidatorLauncher.java:90"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidationOperation.launchValidator",
          "source": "ValidationOperation.java:1195"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidationOperation.internalValidate",
          "source": "ValidationOperation.java:1021"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidationOperation.validate",
          "source": "ValidationOperation.java:927"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidationOperation.run",
          "source": "ValidationOperation.java:638"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidationBuilder.performFullBuild",
          "source": "ValidationBuilder.java:262"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidationBuilder.performFullBuild",
          "source": "ValidationBuilder.java:254"
        },
        {
          "method": "org.eclipse.wst.validation.internal.operations.ValidationBuilder.build",
          "source": "ValidationBuilder.java:195"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$2.run",
          "source": "BuildManager.java:593"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1044"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:783"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:168"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:202"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$1.run",
          "source": "BuildManager.java:231"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1044"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:783"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:234"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuildLoop",
          "source": "BuildManager.java:253"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.build",
          "source": "BuildManager.java:282"
        },
        {
          "method": "org.eclipse.core.internal.events.AutoBuildJob.doBuild",
          "source": "AutoBuildJob.java:139"
        },
        {
          "method": "org.eclipse.core.internal.events.AutoBuildJob.run",
          "source": "AutoBuildJob.java:200"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:76"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "111807",
      "date": "2005-10-06T19:32:23+02:00",
      "product": "Web Tools",
      "component": "jst.jsp",
      "severity": "normal"
    }
  ],
  "groupId": "111807",
  "bugId": "111807",
  "date": "2005-10-06T19:32:23+02:00",
  "product": "Web Tools",
  "component": "jst.jsp",
  "severity": "normal"
}