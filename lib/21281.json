{
  "comments": [
    "Using GM6 on Win2K Jdk 1.4.0 Running CVSNT 1.11.1.3 (Latest download)\nCreate repository in cvsnt. Add repository to Eclipse. Share project and point \nto existing. Eclipse commit all files to create first version in repository.\nContinue to work in Eclipse as normal. \nUsing another tool (WinCVS and jCVS both do it), look at a file in the \npository and make a change. Eclipse will now complain with the message\n\"Resource is out of sync with the file system: /VCF/CVS/Root\" if you right \nclick any resource in the navigators from now on.  A stack trace is also put \nin the log file (below).\n\nSolving it would be really good. I cant use Eclipse right now in a team \nsituation until its fixed as we share code.  Thoughts or workrounds would be \ngood.  Cheers,  Paul\n\n!STACK 1\norg.eclipse.core.internal.resources.ResourceException: Resource is out of sync \nwith the file system: /VCF/vConnector/CVS/Entries.\n\tat org.eclipse.core.internal.localstore.FileSystemResourceManager.read\n(FileSystemResourceManager.java:318)\n\tat org.eclipse.core.internal.resources.File.getContents(File.java:203)\n\tat org.eclipse.core.internal.resources.File.getContents(File.java:193)\n\tat org.eclipse.team.internal.ccvs.core.util.SyncFileWriter.readLines\n(SyncFileWriter.java:313)\n\tat \norg.eclipse.team.internal.ccvs.core.util.SyncFileWriter.readAllResourceSync\n(SyncFileWriter.java:96)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.cacheResource\nSyncForChildren(EclipseSynchronizer.java:597)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.getResourceSy\nnc(EclipseSynchronizer.java:196)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipsePhantomSynchronizer.getRes\nourceSync(EclipsePhantomSynchronizer.java:128)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseResource.getSyncInfo\n(EclipseResource.java:219)\n\tat \norg.eclipse.team.internal.ccvs.core.resources.EclipseResource.isManaged\n(EclipseResource.java:178)\n\tat org.eclipse.team.internal.ccvs.ui.actions.IgnoreAction.isEnabled\n(IgnoreAction.java:30)\n\tat org.eclipse.team.internal.ui.actions.TeamAction.selectionChanged\n(TeamAction.java:188)\n\tat org.eclipse.ui.internal.PluginAction.refreshEnablement\n(PluginAction.java:170)\n\tat org.eclipse.ui.internal.PluginAction.selectionChanged\n(PluginAction.java:232)\n\tat \norg.eclipse.ui.internal.ObjectActionContributor.contributeObjectActions\n(ObjectActionContributor.java:67)\n\tat \norg.eclipse.ui.internal.ObjectActionContributorManager.contributeObjectActions\n(ObjectActionContributorManager.java:108)\n\tat org.eclipse.ui.internal.PopupMenuExtender.addObjectActions\n(PopupMenuExtender.java:48)\n\tat org.eclipse.ui.internal.PopupMenuExtender.menuAboutToShow\n(PopupMenuExtender.java:68)\n\tat org.eclipse.jface.action.MenuManager.fireAboutToShow\n(MenuManager.java:235)\n\tat org.eclipse.jface.action.MenuManager.handleAboutToShow\n(MenuManager.java:306)\n\tat org.eclipse.jface.action.MenuManager.access$0(MenuManager.java:303)\n\tat org.eclipse.jface.action.MenuManager$2.menuShown\n(MenuManager.java:333)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent\n(TypedListener.java:114)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:77)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:843)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:848)\n\tat org.eclipse.swt.widgets.Control.WM_INITMENUPOPUP(Control.java:3012)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:2686)\n\tat org.eclipse.swt.widgets.Decorations.windowProc\n(Decorations.java:1340)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:1992)\n\tat org.eclipse.swt.internal.win32.OS.TrackPopupMenu(Native Method)\n\tat org.eclipse.swt.widgets.Menu.setVisible(Menu.java:903)\n\tat org.eclipse.swt.widgets.Control.WM_CONTEXTMENU(Control.java:2823)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:2668)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:1992)\n\tat org.eclipse.swt.internal.win32.OS.CallWindowProcW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.CallWindowProc(OS.java:1154)\n\tat org.eclipse.swt.widgets.Tree.callWindowProc(Tree.java:152)\n\tat org.eclipse.swt.widgets.Control.WM_RBUTTONUP(Control.java:3733)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:2720)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:1992)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1221)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1289)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1177)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1160)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:775)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:462)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:248)\n\tat org.eclipse.core.launcher.Main.run(Main.java:698)\n\tat org.eclipse.core.launcher.Main.main(Main.java:534)",
    "Paul, as a workaround you should be able to press F5 when the navigator is \nthe active view.  This should sychronize the workbench with the file system and \nprevent this error from being reported.\n\nMoving to team.. they shouldn\u0027t be throwing this exception when the user right \nclicks on a resource, but only when the action is executed.",
    "This is happening in the enablement code for a menu item. We definitely cannot \nshow the error to the user because this is not appropriate for enablement code. \nOur choices are to log the exceptions (as we do) or eat it.",
    "We should just eat it, provided we are informing the user of the situation when \nhe actually does the operation.",
    "Should consider for 2.1",
    "Currently, we log the exception and disable the menu item. If we eat the \nexception and leave the menu disabled, it may be difficult for the user to \ndetermine what the problem is because they wouldn\u0027t be able to run the operation\n(s) that would reveal the problem. I\u0027m tempted to do an auto-refresh of the \nfile involved however it is probably not appropriate to do this in menu \nenablement code. One possibility is to eat the exception and enable the menu \nitem, thus allowing the user to encounter the error but I am hestitant to do \nthis because some menu items that should not have been enabled may become so.\n\nGiven the above, I propose we do an auto-refresh only on the resource indicated \nin the exception and then rerun the enablement check.",
    "\u003e\u003eIf we eat the exception and leave the menu disabled, it may be difficult for \n\u003e\u003ethe user to \n\u003e\u003edetermine what the problem is because they wouldn\u0027t be able to run the \n\u003e\u003eoperation(s) that would reveal the problem. \n\nI agree.  I think the idea was:\n\n- eat the exception\n- on exception, return enabled\u003dtrue\n- allow the operation to proceed. It will fail further along where the problem \ncan be better reported.\n",
    "CVS actions that work on the local file structure will now ensure that any \nrequired sync info is available before testing enablement. If the sync info is \nnot available, the action is enabled. When actions are run, the sync info is \nloaded before that action is run and if an out-of-sync is detected, the user is \nprompted to refresh. The action enablement code is run before the action body \nto ensure that the action is valid.\n\nFix released to HEAD"
  ],
  "commentCreationDates": [
    "2002-07-06T21:08:04+02:00",
    "2002-07-08T16:08:36+02:00",
    "2002-07-08T16:38:24+02:00",
    "2002-07-08T18:11:46+02:00",
    "2002-08-22T18:50:44+02:00",
    "2002-08-28T22:15:19+02:00",
    "2002-08-28T22:26:32+02:00",
    "2002-09-03T15:25:22+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.internal.resources.ResourceException",
      "message": "Resource is out of sync  with the file system: /VCF/vConnector/CVS/Entries.",
      "elements": [
        {
          "method": "org.eclipse.core.internal.localstore.FileSystemResourceManager.read",
          "source": "FileSystemResourceManager.java:318"
        },
        {
          "method": "org.eclipse.core.internal.resources.File.getContents",
          "source": "File.java:203"
        },
        {
          "method": "org.eclipse.core.internal.resources.File.getContents",
          "source": "File.java:193"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.util.SyncFileWriter.readLines",
          "source": "SyncFileWriter.java:313"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.util.SyncFileWriter.readAllResourceSync",
          "source": "SyncFileWriter.java:96"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.cacheResourceSyncForChildren",
          "source": "EclipseSynchronizer.java:597"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseSynchronizer.getResourceSync",
          "source": "EclipseSynchronizer.java:196"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipsePhantomSynchronizer.getResourceSync",
          "source": "EclipsePhantomSynchronizer.java:128"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseResource.getSyncInfo",
          "source": "EclipseResource.java:219"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.core.resources.EclipseResource.isManaged",
          "source": "EclipseResource.java:178"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ui.actions.IgnoreAction.isEnabled",
          "source": "IgnoreAction.java:30"
        },
        {
          "method": "org.eclipse.team.internal.ui.actions.TeamAction.selectionChanged",
          "source": "TeamAction.java:188"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.refreshEnablement",
          "source": "PluginAction.java:170"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.selectionChanged",
          "source": "PluginAction.java:232"
        },
        {
          "method": "org.eclipse.ui.internal.ObjectActionContributor.contributeObjectActions",
          "source": "ObjectActionContributor.java:67"
        },
        {
          "method": "org.eclipse.ui.internal.ObjectActionContributorManager.contributeObjectActions",
          "source": "ObjectActionContributorManager.java:108"
        },
        {
          "method": "org.eclipse.ui.internal.PopupMenuExtender.addObjectActions",
          "source": "PopupMenuExtender.java:48"
        },
        {
          "method": "org.eclipse.ui.internal.PopupMenuExtender.menuAboutToShow",
          "source": "PopupMenuExtender.java:68"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.fireAboutToShow",
          "source": "MenuManager.java:235"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.handleAboutToShow",
          "source": "MenuManager.java:306"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.access$0",
          "source": "MenuManager.java:303"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager$2.menuShown",
          "source": "MenuManager.java:333"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:114"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:77"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:843"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:848"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.WM_INITMENUPOPUP",
          "source": "Control.java:3012"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:2686"
        },
        {
          "method": "org.eclipse.swt.widgets.Decorations.windowProc",
          "source": "Decorations.java:1340"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:1992"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.TrackPopupMenu",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.widgets.Menu.setVisible",
          "source": "Menu.java:903"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.WM_CONTEXTMENU",
          "source": "Control.java:2823"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:2668"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:1992"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.CallWindowProcW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.CallWindowProc",
          "source": "OS.java:1154"
        },
        {
          "method": "org.eclipse.swt.widgets.Tree.callWindowProc",
          "source": "Tree.java:152"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.WM_RBUTTONUP",
          "source": "Control.java:3733"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:2720"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:1992"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessageW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessage",
          "source": "OS.java:1221"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1177"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1160"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:775"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:462"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:248"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:698"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:534"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "21281",
      "date": "2002-07-06T21:08:04+02:00",
      "product": "Platform",
      "component": "Team",
      "severity": "major"
    }
  ],
  "groupId": "21281",
  "bugId": "21281",
  "date": "2002-07-06T21:08:04+02:00",
  "product": "Platform",
  "component": "Team",
  "severity": "major"
}