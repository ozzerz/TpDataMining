{
  "comments": [
    "When the program below is run, it produces a NullPointerException...\njava.lang.NullPointerException\n\tat A2.ajc$around$A2$3b6proceed(CflowCycles.java)\n\tat A2.ajc$around$A2$3b6_aroundBody3(CflowCycles.java:35)\n\tat Target.run(CflowCycles.java:24)\n\tat CflowCycles.run_aroundBody4(CflowCycles.java:8)\n\tat CflowCycles.main_aroundBody6(CflowCycles.java:24)\n\tat CflowCycles.main(CflowCycles.java:24)\n\n---(in new/CflowCycles.java and in ajcTestsFailing.xml)\n\nimport org.aspectj.testing.Tester; \n\n/** @testcase cflow cycles in advice from different aspects */\npublic class CflowCycles {\n  public static void main( String args[] ) {\n        Tester.expectEvent(\"target A1\");\n        Tester.expectEvent(\"target A2\");\n        new Target().run();\n        Tester.checkAllEventsIgnoreDups();\n  }\n}\n\nclass Target {\n    public void run(){ }\n}\n\naspect A1 {\n    pointcut TargetRunFlow () \n        // ok if no cflow: within(Target) \u0026\u0026 execution(* *(..)) \u0026\u0026 !within\n(A1+);\n        : !within(A1+) \u0026\u0026 !preinitialization(new(..)) \u0026\u0026 !initialization(new\n(..))//cflow(within(Target) \u0026\u0026 execution(* *(..))) \u0026\u0026 !within(A1+)\n        ;\n    Object around () : TargetRunFlow() {\n        Tester.event(\"target A1\");\n        return proceed();\n    }\n    // ok if in the same class\n}\n\naspect A2 {\n    pointcut TargetRun () \n        : within(Target) \u0026\u0026 execution(* *(..)) \u0026\u0026 !within(A2+);\n        ;\n    Object around () : TargetRun() {\n        Tester.event(\"target A2\");\n        return proceed();\n    }\n}",
    "fixed in current tree, fix is to not inline around advice that has\nother around advice applied to it"
  ],
  "commentCreationDates": [
    "2003-01-22T01:13:59+01:00",
    "2003-03-12T00:49:11+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "A2.ajc$around$A2$3b6proceed",
          "source": "CflowCycles.java"
        },
        {
          "method": "A2.ajc$around$A2$3b6_aroundBody3",
          "source": "CflowCycles.java:35"
        },
        {
          "method": "Target.run",
          "source": "CflowCycles.java:24"
        },
        {
          "method": "CflowCycles.run_aroundBody4",
          "source": "CflowCycles.java:8"
        },
        {
          "method": "CflowCycles.main_aroundBody6",
          "source": "CflowCycles.java:24"
        },
        {
          "method": "CflowCycles.main",
          "source": "CflowCycles.java:24"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "29934",
      "date": "2003-01-22T01:13:59+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "major"
    }
  ],
  "groupId": "29934",
  "bugId": "29934",
  "date": "2003-01-22T01:13:59+01:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "major"
}