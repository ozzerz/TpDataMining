{
  "comments": [
    "Observed in the M20050825 build. \nOpen the RCPMail\u0027s View in VE. Select the banner Composite graphically and\nrename it to \u0027bannera\u0027. Snippet update finishes and the composite is back in the\ntree view with all the children etc., but graphically it is a default sized\nComposite with no children shown. There are no exceptions in the log at this\npoint. Once one selects any of the children in the beans view then the following\nexception is thrown:\n\norg.eclipse.swt.SWTException: Failed to execute runnable\n(java.lang.NullPointerException)\n\tat org.eclipse.swt.SWT.error(SWT.java:2942)\n\tat org.eclipse.swt.SWT.error(SWT.java:2865)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:126)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3057)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2716)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n\tat org.eclipse.core.launcher.Main.run(Main.java:973)\n\tat org.eclipse.core.launcher.Main.main(Main.java:948)\nCaused by: java.lang.NullPointerException\n\tat\norg.eclipse.ve.internal.swt.GridLayoutEditPolicy.getFullCellBounds(GridLayoutEditPolicy.java:877)\n\tat\norg.eclipse.ve.internal.swt.GridSpanHandleLocator.relocate(GridSpanHandleLocator.java:49)\n\tat org.eclipse.gef.handles.AbstractHandle.validate(AbstractHandle.java:207)\n\tat org.eclipse.draw2d.Figure.validate(Figure.java:1738)\n\tat org.eclipse.draw2d.Figure.validate(Figure.java:1738)\n\tat org.eclipse.draw2d.FreeformLayeredPane.validate(FreeformLayeredPane.java:122)\n\tat\norg.eclipse.draw2d.FreeformViewport$FreeformViewportLayout.calculatePreferredSize(FreeformViewport.java:28)\n\tat org.eclipse.draw2d.AbstractLayout.getPreferredSize(AbstractLayout.java:93)\n\tat\norg.eclipse.draw2d.AbstractHintLayout.getPreferredSize(AbstractHintLayout.java:85)\n\tat org.eclipse.draw2d.Figure.getPreferredSize(Figure.java:737)\n\tat org.eclipse.draw2d.ScrollPaneSolver.solve(ScrollPaneSolver.java:75)\n\tat org.eclipse.draw2d.FigureCanvas.layoutViewport(FigureCanvas.java:237)\n\tat org.eclipse.draw2d.FigureCanvas.access$4(FigureCanvas.java:235)\n\tat org.eclipse.draw2d.FigureCanvas$3.notifyValidating(FigureCanvas.java:200)\n\tat org.eclipse.draw2d.UpdateManager.fireValidating(UpdateManager.java:109)\n\tat\norg.eclipse.draw2d.DeferredUpdateManager.validateFigures(DeferredUpdateManager.java:267)\n\tat\norg.eclipse.draw2d.DeferredUpdateManager.performUpdate(DeferredUpdateManager.java:143)\n\tat\norg.eclipse.draw2d.DeferredUpdateManager$UpdateRequest.run(DeferredUpdateManager.java:40)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\t... 18 more",
    "does not have to be RCPMail, similar thing occurs if you rename a composite with\nseveral controls in it in a standard SWT project",
    "This is a codegen problem which arose because of code put in to support moving\nof containers within containers. \n\nSuppose you have a Composite and a label as a child, and you rename the\ncomposite, during snippet update both the composite and the label should be\ndeleted from the BDM and added back in. However during the disposing of the\nComposite, the label is not being disposed. Becuase of which things like\nsetSize(), setText() are not being reapplied - which results in the parent\nhaving a smaller size. The problem is in CompositeAddDecoderHelper.java line 377\nwhich needs to be fixed.",
    "The problem was the way codegen was adding the label back to the composite. It\nwas adding it as a child of the composite and then removing it from the\ncomponents of the freeform. The removal of it from the components of the\nfreeform released it from the live VM. Now codegen removes from components first\nand then adds it to the controls list of Composite. Released\nSWTConstructorDecoderHelper.",
    "closed"
  ],
  "commentCreationDates": [
    "2005-08-25T21:19:03+02:00",
    "2005-08-25T22:14:10+02:00",
    "2005-08-26T01:19:06+02:00",
    "2005-08-26T19:36:29+02:00",
    "2005-10-05T17:32:34+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Failed to execute runnable (java.lang.NullPointerException)",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2942"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2865"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:126"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3057"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2716"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1699"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1663"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:367"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.NullPointerException",
        "elements": [
          {
            "method": "org.eclipse.ve.internal.swt.GridLayoutEditPolicy.getFullCellBounds",
            "source": "GridLayoutEditPolicy.java:877"
          },
          {
            "method": "org.eclipse.ve.internal.swt.GridSpanHandleLocator.relocate",
            "source": "GridSpanHandleLocator.java:49"
          },
          {
            "method": "org.eclipse.gef.handles.AbstractHandle.validate",
            "source": "AbstractHandle.java:207"
          },
          {
            "method": "org.eclipse.draw2d.Figure.validate",
            "source": "Figure.java:1738"
          },
          {
            "method": "org.eclipse.draw2d.Figure.validate",
            "source": "Figure.java:1738"
          },
          {
            "method": "org.eclipse.draw2d.FreeformLayeredPane.validate",
            "source": "FreeformLayeredPane.java:122"
          },
          {
            "method": "org.eclipse.draw2d.FreeformViewport$FreeformViewportLayout.calculatePreferredSize",
            "source": "FreeformViewport.java:28"
          },
          {
            "method": "org.eclipse.draw2d.AbstractLayout.getPreferredSize",
            "source": "AbstractLayout.java:93"
          },
          {
            "method": "org.eclipse.draw2d.AbstractHintLayout.getPreferredSize",
            "source": "AbstractHintLayout.java:85"
          },
          {
            "method": "org.eclipse.draw2d.Figure.getPreferredSize",
            "source": "Figure.java:737"
          },
          {
            "method": "org.eclipse.draw2d.ScrollPaneSolver.solve",
            "source": "ScrollPaneSolver.java:75"
          },
          {
            "method": "org.eclipse.draw2d.FigureCanvas.layoutViewport",
            "source": "FigureCanvas.java:237"
          },
          {
            "method": "org.eclipse.draw2d.FigureCanvas.access$4",
            "source": "FigureCanvas.java:235"
          },
          {
            "method": "org.eclipse.draw2d.FigureCanvas$3.notifyValidating",
            "source": "FigureCanvas.java:200"
          },
          {
            "method": "org.eclipse.draw2d.UpdateManager.fireValidating",
            "source": "UpdateManager.java:109"
          },
          {
            "method": "org.eclipse.draw2d.DeferredUpdateManager.validateFigures",
            "source": "DeferredUpdateManager.java:267"
          },
          {
            "method": "org.eclipse.draw2d.DeferredUpdateManager.performUpdate",
            "source": "DeferredUpdateManager.java:143"
          },
          {
            "method": "org.eclipse.draw2d.DeferredUpdateManager$UpdateRequest.run",
            "source": "DeferredUpdateManager.java:40"
          },
          {
            "method": "org.eclipse.swt.widgets.RunnableLock.run",
            "source": "RunnableLock.java:35"
          },
          {
            "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
            "source": "Synchronizer.java:123"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "108036",
      "date": "2005-08-25T21:19:03+02:00",
      "product": "VE",
      "component": "SWT",
      "severity": "major"
    }
  ],
  "groupId": "108036",
  "bugId": "108036",
  "date": "2005-08-25T21:19:03+02:00",
  "product": "VE",
  "component": "SWT",
  "severity": "major"
}