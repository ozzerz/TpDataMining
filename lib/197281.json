{
  "comments": [
    "Build ID:  I20070625-1500\n\nSteps To Reproduce:\n1.Create EJB JPA project \n2.Create java class in the project, open it in the source editor     \n3.Anotate the class as @Entity, add some field to the class         \n(add @Id field also) \n4.Save the java file\n5.Change some of the class fields\n6.Close the editor, and click \"NO\" to the saving confirmation dialog \nResult:                                                              \n\"Resynching JPA model\" error occured. (see attached stacktrace)      \nNow, if you create new class and try to type in it,the error will occ\nseveral times.                                                       \n\n\nError stack trace:\neclipse.buildId\u003dI20070608-1718\njava.version\u003d1.5.0_06\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003dbg_BG\nCommand-line arguments:  -os win32 -ws win32 -arch x86\n\nError\nFri Jul 20 13:58:08 EEST 2007\nAn internal error occurred during: \"Resynching JPA model ...\".\n\njava.lang.RuntimeException: Java Model Exception: Java Model Status [rsdfsdfsdf [in Z [in Z.java [in z [in ejbModule [in j4]]]]] does not exist]\nat org.eclipse.jpt.core.internal.jdtutility.FieldAttribute.typeSignature(FieldAttribute.java:76)\nat org.eclipse.jpt.core.internal.jdtutility.Attribute.resolvedTypeName(Attribute.java:49)\nat org.eclipse.jpt.core.internal.content.java.mappings.JavaEmbeddedProvider.embeddableFor(JavaEmbeddedProvider.java:54)\nat org.eclipse.jpt.core.internal.content.java.mappings.JavaEmbeddedProvider.defaultApplies(JavaEmbeddedProvider.java:50)\nat org.eclipse.jpt.core.internal.content.java.JavaPersistentAttribute.defaultAttributeMappingProvider(JavaPersistentAttribute.java:631)\nat org.eclipse.jpt.core.internal.content.java.JavaPersistentAttribute.refreshDefaults(JavaPersistentAttribute.java:612)\nat org.eclipse.jpt.core.internal.platform.JavaPersistentAttributeContext.refreshDefaultsInternal(JavaPersistentAttributeContext.java:67)\nat org.eclipse.jpt.core.internal.platform.JavaPersistentAttributeContext.refreshDefaults(JavaPersistentAttributeContext.java:63)\nat org.eclipse.jpt.core.internal.platform.JavaTypeContext.refreshDefaults(JavaTypeContext.java:59)\nat org.eclipse.jpt.core.internal.platform.JavaEntityContext.refreshDefaults(JavaEntityContext.java:121)\nat org.eclipse.jpt.core.internal.platform.PersistenceUnitContext.refreshDefaults(PersistenceUnitContext.java:244)\nat org.eclipse.jpt.core.internal.platform.BaseJpaProjectContext.refreshDefaults(BaseJpaProjectContext.java:148)\nat org.eclipse.jpt.core.internal.platform.BaseJpaProjectContext.refreshDefaults(BaseJpaProjectContext.java:141)\nat org.eclipse.jpt.core.internal.platform.BaseJpaPlatform.resynch(BaseJpaPlatform.java:201)\nat org.eclipse.jpt.core.internal.JpaProject$1.run(JpaProject.java:179)\nat org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)\nCaused by: Java Model Exception: Java Model Status [rsdfsdfsdf [in Z [in Z.java [in z [in ejbModule [in j4]]]]] does not exist]\nat org.eclipse.jdt.internal.core.JavaElement.newNotPresentException(JavaElement.java:485)\nat org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:516)\nat org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:249)\nat org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:235)\nat org.eclipse.jdt.internal.core.SourceField.getTypeSignature(SourceField.java:133)\nat org.eclipse.jpt.core.internal.jdtutility.FieldAttribute.typeSignature(FieldAttribute.java:74)\n... 15 more\n\n\n\nMore information:",
    "Making this major because this exception keeps occuring while opening other editors and trying to do any work.  Have to restart eclipse to get things back to normal",
    "It seems our fix for bug 189778 caused this problem.  We decided it was safe to ignore java changes to/from primary working copy.  This is the event being ignored in this case, but also included in the delta is the removal of the attribute added without saving.  The check in JpaCompilationUnit.synchCompilationUnitWithJavaDelta(IJavaElementDelta) is the culprit",
    "Created an attachment (id\u003d74475)\nproposed patch\n\nPatch does a check to make sure that only the PrimaryWorkingCopy flag is set before returning without synching the JPA model to the java model.",
    "Fixed in HEAD and 1_0_maintenance streams",
    "Verification confirmed with 2.0.1 RC3. "
  ],
  "commentCreationDates": [
    "2007-07-20T13:04:02+02:00",
    "2007-07-20T20:34:45+02:00",
    "2007-07-23T22:25:00+02:00",
    "2007-07-24T17:24:56+02:00",
    "2007-07-24T18:04:47+02:00",
    "2007-09-25T15:58:42+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.RuntimeException",
      "message": "Java Model Exception: Java Model Status [rsdfsdfsdf [in Z [in Z.java [in z [in ejbModule [in j4]]]]] does not exist]",
      "elements": [
        {
          "method": "org.eclipse.jpt.core.internal.jdtutility.FieldAttribute.typeSignature",
          "source": "FieldAttribute.java:76"
        },
        {
          "method": "org.eclipse.jpt.core.internal.jdtutility.Attribute.resolvedTypeName",
          "source": "Attribute.java:49"
        },
        {
          "method": "org.eclipse.jpt.core.internal.content.java.mappings.JavaEmbeddedProvider.embeddableFor",
          "source": "JavaEmbeddedProvider.java:54"
        },
        {
          "method": "org.eclipse.jpt.core.internal.content.java.mappings.JavaEmbeddedProvider.defaultApplies",
          "source": "JavaEmbeddedProvider.java:50"
        },
        {
          "method": "org.eclipse.jpt.core.internal.content.java.JavaPersistentAttribute.defaultAttributeMappingProvider",
          "source": "JavaPersistentAttribute.java:631"
        },
        {
          "method": "org.eclipse.jpt.core.internal.content.java.JavaPersistentAttribute.refreshDefaults",
          "source": "JavaPersistentAttribute.java:612"
        },
        {
          "method": "org.eclipse.jpt.core.internal.platform.JavaPersistentAttributeContext.refreshDefaultsInternal",
          "source": "JavaPersistentAttributeContext.java:67"
        },
        {
          "method": "org.eclipse.jpt.core.internal.platform.JavaPersistentAttributeContext.refreshDefaults",
          "source": "JavaPersistentAttributeContext.java:63"
        },
        {
          "method": "org.eclipse.jpt.core.internal.platform.JavaTypeContext.refreshDefaults",
          "source": "JavaTypeContext.java:59"
        },
        {
          "method": "org.eclipse.jpt.core.internal.platform.JavaEntityContext.refreshDefaults",
          "source": "JavaEntityContext.java:121"
        },
        {
          "method": "org.eclipse.jpt.core.internal.platform.PersistenceUnitContext.refreshDefaults",
          "source": "PersistenceUnitContext.java:244"
        },
        {
          "method": "org.eclipse.jpt.core.internal.platform.BaseJpaProjectContext.refreshDefaults",
          "source": "BaseJpaProjectContext.java:148"
        },
        {
          "method": "org.eclipse.jpt.core.internal.platform.BaseJpaProjectContext.refreshDefaults",
          "source": "BaseJpaProjectContext.java:141"
        },
        {
          "method": "org.eclipse.jpt.core.internal.platform.BaseJpaPlatform.resynch",
          "source": "BaseJpaPlatform.java:201"
        },
        {
          "method": "org.eclipse.jpt.core.internal.JpaProject$1.run",
          "source": "JpaProject.java:179"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:55"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "197281",
      "date": "2007-07-20T13:04:02+02:00",
      "product": "Dali JPA Tools",
      "component": "Framework",
      "severity": "major"
    }
  ],
  "groupId": "197281",
  "bugId": "197281",
  "date": "2007-07-20T13:04:02+02:00",
  "product": "Dali JPA Tools",
  "component": "Framework",
  "severity": "major"
}