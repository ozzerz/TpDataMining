{
  "comments": [
    "Old entry in my log from I200411050810.\n\njava.lang.NullPointerException\nat \norg.eclipse.debug.internal.ui.views.console.ProcessConsole$StreamListener.dispo\nse(ProcessConsole.java:452)\nat org.eclipse.debug.internal.ui.views.console.ProcessConsole.closeStreams\n(ProcessConsole.java:263)\nat org.eclipse.debug.internal.ui.views.console.ProcessConsole.handleDebugEvents\n(ProcessConsole.java:313)\nat org.eclipse.debug.core.DebugPlugin$EventNotifier.run(DebugPlugin.java:942)\nat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:616)\nat org.eclipse.core.runtime.Platform.run(Platform.java:747)\nat org.eclipse.debug.core.DebugPlugin$EventNotifier.dispatch\n(DebugPlugin.java:974)\nat org.eclipse.debug.core.DebugPlugin.fireDebugEventSet(DebugPlugin.java:340)\nat org.eclipse.debug.core.model.RuntimeProcess.fireEvent\n(RuntimeProcess.java:265)\nat org.eclipse.debug.core.model.RuntimeProcess.fireTerminateEvent\n(RuntimeProcess.java:273)\nat org.eclipse.debug.core.model.RuntimeProcess.terminated\n(RuntimeProcess.java:231)\nat org.eclipse.debug.core.model.RuntimeProcess$ProcessMonitorThread.run\n(RuntimeProcess.java:386)",
    "The code in question (which has since been moved to the first line of\ncloseStream()) apparently tried to synchronize on streamMonitor (the instance\nvariable) when its value was null. This causes an NPE.\n\nIf streamMonitor can ever be null (and apparently it can), then we can\u0027t have\nany code that synchronizes on it.\n\nWhile looking at this code, I noticed that \"streamMonitor\" is used in this same\nclass as a local variable name and as an instance variable. The result is that\nwe have multiple snippets of identical synchronization code (\"synchronized\n(streamMonitor)\") that don\u0027t actually synchronize on the same object.\nSpecifically, the connect(...) method calls \"synchronized (streamMonitor)\" in a\nscope where streamMonitor is a local variable (a method parameter). Does this\ncode actually intend to synchronize on a method parameter or was it intended to\nuse the instance variable? This is why we use the f prefix for fields. :-)",
    "changed variable names. added null check.\nfixed in ProcessConsole.",
    "Darins, please verify",
    "Verified."
  ],
  "commentCreationDates": [
    "2004-11-10T00:32:55+01:00",
    "2004-12-08T22:58:12+01:00",
    "2004-12-09T21:28:12+01:00",
    "2004-12-09T21:28:48+01:00",
    "2004-12-13T20:08:49+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.debug.internal.ui.views.console.ProcessConsole$StreamListener.dispose",
          "source": "ProcessConsole.java:452"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.console.ProcessConsole.closeStreams",
          "source": "ProcessConsole.java:263"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.console.ProcessConsole.handleDebugEvents",
          "source": "ProcessConsole.java:313"
        },
        {
          "method": "org.eclipse.debug.core.DebugPlugin$EventNotifier.run",
          "source": "DebugPlugin.java:942"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:616"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:747"
        },
        {
          "method": "org.eclipse.debug.core.DebugPlugin$EventNotifier.dispatch",
          "source": "DebugPlugin.java:974"
        },
        {
          "method": "org.eclipse.debug.core.DebugPlugin.fireDebugEventSet",
          "source": "DebugPlugin.java:340"
        },
        {
          "method": "org.eclipse.debug.core.model.RuntimeProcess.fireEvent",
          "source": "RuntimeProcess.java:265"
        },
        {
          "method": "org.eclipse.debug.core.model.RuntimeProcess.fireTerminateEvent",
          "source": "RuntimeProcess.java:273"
        },
        {
          "method": "org.eclipse.debug.core.model.RuntimeProcess.terminated",
          "source": "RuntimeProcess.java:231"
        },
        {
          "method": "org.eclipse.debug.core.model.RuntimeProcess$ProcessMonitorThread.run",
          "source": "RuntimeProcess.java:386"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "78248",
      "date": "2004-11-10T00:32:55+01:00",
      "product": "Platform",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "78248",
  "bugId": "78248",
  "date": "2004-11-10T00:32:55+01:00",
  "product": "Platform",
  "component": "Debug",
  "severity": "normal"
}