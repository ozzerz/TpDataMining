{
  "comments": [
    "Start with 2 java classes:\npublic class Animal {\n  private int id;\n}\npublic class Cat extends Animal {\n}\n\nIn the orm.xml file:\n1. Add Animal as a MappedSuperclass\n2. Add Cat as an Entity\nYou get this NPE:\n\n\njava.lang.NullPointerException\n\tat org.eclipse.jpt.core.internal.platform.XmlAttributeOverrideContext.javaAttributeOverride(XmlAttributeOverrideContext.java:64)\n\tat org.eclipse.jpt.core.internal.platform.XmlAttributeOverrideContext.buildDefaultTableName(XmlAttributeOverrideContext.java:51)\n\tat org.eclipse.jpt.core.internal.platform.AttributeOverrideContext$1.getDefault(AttributeOverrideContext.java:51)\n\tat org.eclipse.jpt.core.internal.content.orm.XmlColumn.refreshDefaults(XmlColumn.java:661)\n\tat org.eclipse.jpt.core.internal.platform.ColumnContext.refreshDefaults(ColumnContext.java:30)\n\tat org.eclipse.jpt.core.internal.platform.AttributeOverrideContext.refreshDefaults(AttributeOverrideContext.java:86)\n\tat org.eclipse.jpt.core.internal.platform.XmlEntityContext.refreshDefaults(XmlEntityContext.java:135)\n\tat org.eclipse.jpt.core.internal.platform.MappingFileContext.refreshDefaults(MappingFileContext.java:98)\n\tat org.eclipse.jpt.core.internal.platform.PersistenceUnitContext.refreshDefaults(PersistenceUnitContext.java:241)\n\tat org.eclipse.jpt.core.internal.platform.BaseJpaProjectContext.refreshDefaults(BaseJpaProjectContext.java:148)\n\tat org.eclipse.jpt.core.internal.platform.BaseJpaProjectContext.refreshDefaults(BaseJpaProjectContext.java:141)\n\tat org.eclipse.jpt.core.internal.platform.BaseJpaPlatform.resynch(BaseJpaPlatform.java:201)\n\tat org.eclipse.jpt.core.internal.JpaProject$1.run(JpaProject.java:176)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)",
    "You cannot recover from this error(it happens every time you change something) and you will be unable to map your project.  This is a problem for any project with attribute overrides where you are mapping purely in xml.",
    "Created an attachment (id\u003d70326)\nproposed patch\n\n",
    "Yes, this bug leads to a complete meltdown and Dali becomes unusable.  An Eclipse restart doesn\u0027t help as the bug continues to manifest due to the presence of mappings in the orm.xml.  All you can do is delete the orm.xml contents and go back to Java annotations.  This is a very severe bug and must be fixed for 1.0.  I believe it\u0027s a blocker.",
    "Reviewed, tested, and approved.  Low risk fix for critical bug.",
    "Agreed, does sound like a must fix, and in addition the fix is simple. Thanks. \n\n",
    "applied patch for 1.0RC3",
    "verified fixed",
    "Verified.  Closing."
  ],
  "commentCreationDates": [
    "2007-06-06T16:06:35+02:00",
    "2007-06-06T16:08:03+02:00",
    "2007-06-06T16:12:11+02:00",
    "2007-06-06T16:26:03+02:00",
    "2007-06-06T17:01:03+02:00",
    "2007-06-06T18:00:37+02:00",
    "2007-06-06T20:38:24+02:00",
    "2007-06-12T19:37:06+02:00",
    "2007-06-13T17:21:33+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jpt.core.internal.platform.XmlAttributeOverrideContext.javaAttributeOverride",
          "source": "XmlAttributeOverrideContext.java:64"
        },
        {
          "method": "org.eclipse.jpt.core.internal.platform.XmlAttributeOverrideContext.buildDefaultTableName",
          "source": "XmlAttributeOverrideContext.java:51"
        },
        {
          "method": "org.eclipse.jpt.core.internal.platform.AttributeOverrideContext$1.getDefault",
          "source": "AttributeOverrideContext.java:51"
        },
        {
          "method": "org.eclipse.jpt.core.internal.content.orm.XmlColumn.refreshDefaults",
          "source": "XmlColumn.java:661"
        },
        {
          "method": "org.eclipse.jpt.core.internal.platform.ColumnContext.refreshDefaults",
          "source": "ColumnContext.java:30"
        },
        {
          "method": "org.eclipse.jpt.core.internal.platform.AttributeOverrideContext.refreshDefaults",
          "source": "AttributeOverrideContext.java:86"
        },
        {
          "method": "org.eclipse.jpt.core.internal.platform.XmlEntityContext.refreshDefaults",
          "source": "XmlEntityContext.java:135"
        },
        {
          "method": "org.eclipse.jpt.core.internal.platform.MappingFileContext.refreshDefaults",
          "source": "MappingFileContext.java:98"
        },
        {
          "method": "org.eclipse.jpt.core.internal.platform.PersistenceUnitContext.refreshDefaults",
          "source": "PersistenceUnitContext.java:241"
        },
        {
          "method": "org.eclipse.jpt.core.internal.platform.BaseJpaProjectContext.refreshDefaults",
          "source": "BaseJpaProjectContext.java:148"
        },
        {
          "method": "org.eclipse.jpt.core.internal.platform.BaseJpaProjectContext.refreshDefaults",
          "source": "BaseJpaProjectContext.java:141"
        },
        {
          "method": "org.eclipse.jpt.core.internal.platform.BaseJpaPlatform.resynch",
          "source": "BaseJpaPlatform.java:201"
        },
        {
          "method": "org.eclipse.jpt.core.internal.JpaProject$1.run",
          "source": "JpaProject.java:176"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:55"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "191264",
      "date": "2007-06-06T16:06:35+02:00",
      "product": "Dali JPA Tools",
      "component": "General",
      "severity": "critical"
    }
  ],
  "groupId": "191264",
  "bugId": "191264",
  "date": "2007-06-06T16:06:35+02:00",
  "product": "Dali JPA Tools",
  "component": "General",
  "severity": "critical"
}