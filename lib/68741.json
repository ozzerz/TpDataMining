{
  "comments": [
    "As you can see from the stacktrace, we\u0027re running a Junit class \n(uk.gov.e_envoy.dotp.cma.contententryapi.pctschema.xsdgeneration.MetadataSpecXSD\nConverterTest.test(MetadataSpecXSDConverterTest.java:67)) that generates a \nNoSuchMethodError inside EMF. On the initial run of the Junit this error \noccurs. However, while still continuing to run the Junit client, we can get \nevery subsequent Junit test to run correctly. In other words the VM fails to \nfind  org.eclipse.emf.common.util.URI.toFileString(URI.java:1946) initially but \nfinds the method correctly thereafter.\n\nOur entry point into the XSD APIs, which leads eventually to our problem is at \norg.eclipse.xsd.impl.XSDSchemaImpl.getSchemaForSchema(XSDSchemaImpl.java:2364).\n\n\nStacktace follows:\n\njava.lang.NoSuchMethodError\n\n\tat org.eclipse.emf.common.util.URI.toFileString(URI.java:1946)\n\n\tat \norg.eclipse.emf.ecore.resource.impl.ResourceFactoryRegistryImpl.getFactory\n(ResourceFactoryRegistryImpl.java:64)\n\n\tat org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.createResource\n(ResourceSetImpl.java:302)\n\n\tat org.eclipse.xsd.impl.XSDSchemaDirectiveImpl.resolve\n(XSDSchemaDirectiveImpl.java:384)\n\n\tat org.eclipse.xsd.impl.XSDImportImpl.importSchema\n(XSDImportImpl.java:472)\n\n\tat org.eclipse.xsd.impl.XSDSchemaImpl.resolveSchema\n(XSDSchemaImpl.java:2036)\n\n\tat org.eclipse.xsd.impl.XSDSchemaImpl.resolveNamedComponent\n(XSDSchemaImpl.java:2059)\n\n\tat org.eclipse.xsd.impl.XSDSchemaImpl.resolveAttributeDeclaration\n(XSDSchemaImpl.java:2075)\n\n\tat \norg.eclipse.xsd.impl.XSDConcreteComponentImpl.resolveAttributeDeclaration\n(XSDConcreteComponentImpl.java:2454)\n\n\tat org.eclipse.xsd.impl.XSDAttributeDeclarationImpl.patch\n(XSDAttributeDeclarationImpl.java:199)\n\n\tat org.eclipse.xsd.impl.XSDConcreteComponentImpl.patch\n(XSDConcreteComponentImpl.java:510)\n\n\tat org.eclipse.xsd.impl.XSDAttributeUseImpl.patch\n(XSDAttributeUseImpl.java:733)\n\n\tat org.eclipse.xsd.impl.XSDConcreteComponentImpl.patch\n(XSDConcreteComponentImpl.java:510)\n\n\tat org.eclipse.xsd.impl.XSDNamedComponentImpl.patch\n(XSDNamedComponentImpl.java:722)\n\n\tat org.eclipse.xsd.impl.XSDTypeDefinitionImpl.patch\n(XSDTypeDefinitionImpl.java:244)\n\n\tat org.eclipse.xsd.impl.XSDComplexTypeDefinitionImpl.patch\n(XSDComplexTypeDefinitionImpl.java:990)\n\n\tat org.eclipse.xsd.impl.XSDConcreteComponentImpl.patch\n(XSDConcreteComponentImpl.java:510)\n\n\tat org.eclipse.xsd.impl.XSDNamedComponentImpl.patch\n(XSDNamedComponentImpl.java:722)\n\n\tat org.eclipse.xsd.impl.XSDElementDeclarationImpl.patch\n(XSDElementDeclarationImpl.java:541)\n\n\tat org.eclipse.xsd.impl.XSDConcreteComponentImpl.patch\n(XSDConcreteComponentImpl.java:510)\n\n\tat org.eclipse.xsd.impl.XSDSchemaImpl.patch(XSDSchemaImpl.java:1474)\n\n\tat org.eclipse.xsd.impl.XSDSchemaImpl.changeAttribute\n(XSDSchemaImpl.java:2221)\n\n\tat org.eclipse.xsd.impl.XSDConcreteComponentImpl.eNotify\n(XSDConcreteComponentImpl.java:1202)\n\n\tat org.eclipse.xsd.impl.XSDSchemaImpl.setSchemaLocation\n(XSDSchemaImpl.java:822)\n\n\tat org.eclipse.xsd.util.XSDResourceImpl.doLoad(XSDResourceImpl.java:470)\n\n\tat org.eclipse.emf.ecore.resource.impl.ResourceImpl.load\n(ResourceImpl.java:867)\n\n\tat org.eclipse.emf.ecore.resource.impl.ResourceImpl.load\n(ResourceImpl.java:741)\n\n\tat org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoad\n(ResourceSetImpl.java:215)\n\n\tat org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.getResource\n(ResourceSetImpl.java:281)\n\n\tat org.eclipse.xsd.impl.XSDSchemaImpl.getSchemaForSchema\n(XSDSchemaImpl.java:614)\n\n\tat org.eclipse.xsd.impl.XSDSchemaImpl.getSchemaForSchema\n(XSDSchemaImpl.java:2364)\n\n\tat \nuk.gov.e_envoy.dotp.cma.contententryapi.pctschema.xsdgeneration.AttributeXsdGene\nrator.createAttributeXsd(AttributeXsdGenerator.java:50)\n\n\tat \nuk.gov.e_envoy.dotp.cma.contententryapi.pctschema.xsdgeneration.ElementXsdGenera\ntor.createElementWithAttribute(ElementXsdGenerator.java:34)\n\n\tat \nuk.gov.e_envoy.dotp.cma.contententryapi.pctschema.xsdgeneration.MetadataSpecXSDC\nonverter.createMetadataSpecXSD(MetadataSpecXSDConverter.java:92)\n\n\tat \nuk.gov.e_envoy.dotp.cma.contententryapi.pctschema.xsdgeneration.MetadataSpecXSDC\nonverterTest.test(MetadataSpecXSDConverterTest.java:67)\n\n\tat org.apache.cactus.AbstractTestCase.runServerTest\n(AbstractTestCase.java:332)\n\n\tat org.apache.cactus.AbstractTestCase.runBareServerTest\n(AbstractTestCase.java:235)\n\n\tat org.apache.cactus.server.AbstractWebTestCaller.doTest\n(AbstractWebTestCaller.java:149)\n\n\tat \norg.apache.cactus.server.AbstractWebTestController.dispatch87_handleRequest\n(AbstractWebTestController.java;org/apache/cactus/util/log/LogAspect.java\n(1k):125)\n\n\tat \norg.apache.cactus.server.AbstractWebTestController.around87_handleRequest\n(AbstractWebTestController.java;org/apache/cactus/util/log/LogAspect.java\n(1k):1149)\n\n\tat org.apache.cactus.server.AbstractWebTestController.handleRequest\n(AbstractWebTestController.java;org/apache/cactus/util/log/LogAspect.java\n(1k):101)\n\n\tat org.apache.cactus.server.ServletTestRedirector.dispatch113_doPost\n(ServletTestRedirector.java;org/apache/cactus/util/log/LogAspect.java(1k):123)\n\n\tat org.apache.cactus.server.ServletTestRedirector.around113_doPost\n(ServletTestRedirector.java;org/apache/cactus/util/log/LogAspect.java(1k):1149)\n\n\tat org.apache.cactus.server.ServletTestRedirector.doPost\n(ServletTestRedirector.java;org/apache/cactus/util/log/LogAspect.java(1k):109)\n\n\tat org.apache.cactus.server.ServletTestRedirector.dispatch112_doGet\n(ServletTestRedirector.java;org/apache/cactus/util/log/LogAspect.java(1k):96)\n\n\tat org.apache.cactus.server.ServletTestRedirector.around112_doGet\n(ServletTestRedirector.java;org/apache/cactus/util/log/LogAspect.java(1k):1149)\n\n\tat org.apache.cactus.server.ServletTestRedirector.doGet\n(ServletTestRedirector.java;org/apache/cactus/util/log/LogAspect.java(1k):92)\n\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\n\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\n\tat weblogic.servlet.internal.ServletStubImpl$ServletInvocationAction.run\n(ServletStubImpl.java:1075)\n\n\tat weblogic.servlet.internal.ServletStubImpl.invokeServlet\n(ServletStubImpl.java:418)\n\n\tat weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:20)\n\n\tat weblogic.servlet.internal.FilterChainImpl.doFilter\n(FilterChainImpl.java:27)\n\n\tat \nweblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run\n(WebAppServletContext.java:5523)\n\n\tat weblogic.security.service.SecurityServiceManager.runAs\n(SecurityServiceManager.java:685)\n\n\tat weblogic.servlet.internal.WebAppServletContext.invokeServlet\n(WebAppServletContext.java:3156)\n\n\tat weblogic.servlet.internal.ServletRequestImpl.execute\n(ServletRequestImpl.java:2506)\n\n\tat weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:234)\n\n\tat weblogic.kernel.ExecuteThread.run(ExecuteThread.java:210)",
    "Since that method is clearly available, this sounds like a environment \nclassloader problem beyond our control. Perhaps using URI.toFileString on a \ndummy \"file:\" URI earlier in the JUnit can work around the problem or help track \nit down..."
  ],
  "commentCreationDates": [
    "2004-06-28T14:22:44+02:00",
    "2004-07-06T16:40:15+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoSuchMethodError",
      "elements": [
        {
          "method": "org.eclipse.emf.common.util.URI.toFileString",
          "source": "URI.java:1946"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceFactoryRegistryImpl.getFactory",
          "source": "ResourceFactoryRegistryImpl.java:64"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.createResource",
          "source": "ResourceSetImpl.java:302"
        },
        {
          "method": "org.eclipse.xsd.impl.XSDSchemaDirectiveImpl.resolve",
          "source": "XSDSchemaDirectiveImpl.java:384"
        },
        {
          "method": "org.eclipse.xsd.impl.XSDImportImpl.importSchema",
          "source": "XSDImportImpl.java:472"
        },
        {
          "method": "org.eclipse.xsd.impl.XSDSchemaImpl.resolveSchema",
          "source": "XSDSchemaImpl.java:2036"
        },
        {
          "method": "org.eclipse.xsd.impl.XSDSchemaImpl.resolveNamedComponent",
          "source": "XSDSchemaImpl.java:2059"
        },
        {
          "method": "org.eclipse.xsd.impl.XSDSchemaImpl.resolveAttributeDeclaration",
          "source": "XSDSchemaImpl.java:2075"
        },
        {
          "method": "org.eclipse.xsd.impl.XSDConcreteComponentImpl.resolveAttributeDeclaration",
          "source": "XSDConcreteComponentImpl.java:2454"
        },
        {
          "method": "org.eclipse.xsd.impl.XSDAttributeDeclarationImpl.patch",
          "source": "XSDAttributeDeclarationImpl.java:199"
        },
        {
          "method": "org.eclipse.xsd.impl.XSDConcreteComponentImpl.patch",
          "source": "XSDConcreteComponentImpl.java:510"
        },
        {
          "method": "org.eclipse.xsd.impl.XSDAttributeUseImpl.patch",
          "source": "XSDAttributeUseImpl.java:733"
        },
        {
          "method": "org.eclipse.xsd.impl.XSDConcreteComponentImpl.patch",
          "source": "XSDConcreteComponentImpl.java:510"
        },
        {
          "method": "org.eclipse.xsd.impl.XSDNamedComponentImpl.patch",
          "source": "XSDNamedComponentImpl.java:722"
        },
        {
          "method": "org.eclipse.xsd.impl.XSDTypeDefinitionImpl.patch",
          "source": "XSDTypeDefinitionImpl.java:244"
        },
        {
          "method": "org.eclipse.xsd.impl.XSDComplexTypeDefinitionImpl.patch",
          "source": "XSDComplexTypeDefinitionImpl.java:990"
        },
        {
          "method": "org.eclipse.xsd.impl.XSDConcreteComponentImpl.patch",
          "source": "XSDConcreteComponentImpl.java:510"
        },
        {
          "method": "org.eclipse.xsd.impl.XSDNamedComponentImpl.patch",
          "source": "XSDNamedComponentImpl.java:722"
        },
        {
          "method": "org.eclipse.xsd.impl.XSDElementDeclarationImpl.patch",
          "source": "XSDElementDeclarationImpl.java:541"
        },
        {
          "method": "org.eclipse.xsd.impl.XSDConcreteComponentImpl.patch",
          "source": "XSDConcreteComponentImpl.java:510"
        },
        {
          "method": "org.eclipse.xsd.impl.XSDSchemaImpl.patch",
          "source": "XSDSchemaImpl.java:1474"
        },
        {
          "method": "org.eclipse.xsd.impl.XSDSchemaImpl.changeAttribute",
          "source": "XSDSchemaImpl.java:2221"
        },
        {
          "method": "org.eclipse.xsd.impl.XSDConcreteComponentImpl.eNotify",
          "source": "XSDConcreteComponentImpl.java:1202"
        },
        {
          "method": "org.eclipse.xsd.impl.XSDSchemaImpl.setSchemaLocation",
          "source": "XSDSchemaImpl.java:822"
        },
        {
          "method": "org.eclipse.xsd.util.XSDResourceImpl.doLoad",
          "source": "XSDResourceImpl.java:470"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceImpl.load",
          "source": "ResourceImpl.java:867"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceImpl.load",
          "source": "ResourceImpl.java:741"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.demandLoad",
          "source": "ResourceSetImpl.java:215"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceSetImpl.getResource",
          "source": "ResourceSetImpl.java:281"
        },
        {
          "method": "org.eclipse.xsd.impl.XSDSchemaImpl.getSchemaForSchema",
          "source": "XSDSchemaImpl.java:614"
        },
        {
          "method": "org.eclipse.xsd.impl.XSDSchemaImpl.getSchemaForSchema",
          "source": "XSDSchemaImpl.java:2364"
        },
        {
          "method": "uk.gov.e_envoy.dotp.cma.contententryapi.pctschema.xsdgeneration.AttributeXsdGenerator.createAttributeXsd",
          "source": "AttributeXsdGenerator.java:50"
        },
        {
          "method": "uk.gov.e_envoy.dotp.cma.contententryapi.pctschema.xsdgeneration.ElementXsdGenerator.createElementWithAttribute",
          "source": "ElementXsdGenerator.java:34"
        },
        {
          "method": "uk.gov.e_envoy.dotp.cma.contententryapi.pctschema.xsdgeneration.MetadataSpecXSDConverter.createMetadataSpecXSD",
          "source": "MetadataSpecXSDConverter.java:92"
        },
        {
          "method": "uk.gov.e_envoy.dotp.cma.contententryapi.pctschema.xsdgeneration.MetadataSpecXSDConverterTest.test",
          "source": "MetadataSpecXSDConverterTest.java:67"
        },
        {
          "method": "org.apache.cactus.AbstractTestCase.runServerTest",
          "source": "AbstractTestCase.java:332"
        },
        {
          "method": "org.apache.cactus.AbstractTestCase.runBareServerTest",
          "source": "AbstractTestCase.java:235"
        },
        {
          "method": "org.apache.cactus.server.AbstractWebTestCaller.doTest",
          "source": "AbstractWebTestCaller.java:149"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "68741",
      "date": "2004-06-28T14:22:44+02:00",
      "product": "MDT",
      "component": "XSD",
      "severity": "normal"
    }
  ],
  "groupId": "68741",
  "bugId": "68741",
  "date": "2004-06-28T14:22:44+02:00",
  "product": "MDT",
  "component": "XSD",
  "severity": "normal"
}