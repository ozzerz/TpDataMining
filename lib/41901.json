{
  "comments": [
    "Build: I-20030820\n\nUpon startup, I found about the NPE pasted below was logged 12 times.\n\nError Aug 24, 2003 12:59:06.784 An internal error occurred during: \"Open \nProgress View\".\njava.lang.NullPointerException\nat org.eclipse.swt.widgets.Display.asyncExec(Display.java:461)\nat org.eclipse.ui.progress.UIJob.run(UIJob.java:73)\nat org.eclipse.core.internal.jobs.Worker.run(Worker.java:61)",
    "I got these errors in the middle of doing work.\nThis time it brought my workbench to its knees and crashed it.\nI will attach the log file",
    "Created an attachment (id\u003d5840)\nlog file\n",
    "Error occurred while opening the UI progress view.  Moving to UI.",
    "Looking at the log file you can see a series of issues here\n\n1) Out of Memory Error. This would have prevented the UIJobs from getting a \nnumber of objects so there would have been an NPE at some point.\n\n2) ConcurrentModificationException in\nat \norg.eclipse.jdt.internal.ui.javaeditor.filebuffers.CompilationUnitDocumentProvi\nder2.shutdown(CompilationUnitDocumentProvider2.\n\nThis looks like background builds\n\n3) org.eclipse.ui.views.markers.internal.MarkerView.itemsChanged was getting a \nnull for the display - once again likely due to the OutOfMemoryError.\n\nWhen an out of memory error occurs there is not much we can do but Core should \nlook into the ConcurrentModifications. Moving back.",
    "1) The NPE comes from the UIJob that is opening the progress view.  This job\ndoes the following (in ProgressUtil.openProgressView):\n\nwindow.getActivePage().showView(JobProgressManager.PROGRESS_VIEW_NAME);\n\nThis is vulnerable to NPE regardless of whether there has been an\nOutOfMemoryError in the past.  this could be where the NPE traces are coming from.\n\n2) This is a duplicate of bug 41784, since fixed (unrelated to builds).\n\n3) It\u0027s not a null display, but a disposed display.  This makes sense because,\nfrom the stack trace, I see this happens after the UI has been closed.  The\nMarkerView resource change listener should protect itself with if\n(!display.isDisposed()), since a resource change callback can occur any time,\neven after the workbench has shutdown.  For example,\nWorkbenchContentProvider.resourceChanged does this check.\n\nSorry for the PR ping pong, but there is nothing at all in this trace that is\nrelated to core.  I realize the main source of the problem is the\nOutOfMemoryError, and the log file gives no details about where this is coming\nfrom.  Wassim, if you can shed more light on this it would be great (ie., what\nwere you doing when it happened, whether you could reproduce it, what VM, etc).\nIn the meantime, I\u0027m moving back to UI to fix 1) and 3).",
    "You are right about the call to getActivePage - that will be fixed in \n20030826. My concern is the ConcurrentModificationException in at \norg.eclipse.jdt.internal.ui.javaeditor.filebuffers.CompilationUnitDocumentProvi\nder2 that occured in JDT and that it is associated with the background builds \nwhich is why I moved it to you.\n\nI will also put a test in for the MarkerView\n\n",
    "1) and 3) are fixed in build \u003e20030826",
    "Marking fixed",
    "Wassimm, if you still have your workspace around could you retest to verify \nthat it is now fixed?",
    "I haven\u0027t run across it in some time now."
  ],
  "commentCreationDates": [
    "2003-08-24T19:05:32+02:00",
    "2003-08-25T04:44:32+02:00",
    "2003-08-25T04:45:31+02:00",
    "2003-08-25T18:29:32+02:00",
    "2003-08-25T20:37:05+02:00",
    "2003-08-25T22:27:19+02:00",
    "2003-08-25T22:44:04+02:00",
    "2003-08-25T23:00:21+02:00",
    "2003-08-25T23:00:46+02:00",
    "2003-10-07T16:30:24+02:00",
    "2003-10-07T16:55:05+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.swt.widgets.Display.asyncExec",
          "source": "Display.java:461"
        },
        {
          "method": "org.eclipse.ui.progress.UIJob.run",
          "source": "UIJob.java:73"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:61"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "41901",
      "date": "2003-08-24T19:05:32+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "critical"
    }
  ],
  "groupId": "41901",
  "bugId": "41901",
  "date": "2003-08-24T19:05:32+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "critical"
}