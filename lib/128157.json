{
  "comments": [
    "Typing console command \u0027bundle \u003cid\u003e\u0027, I see NullPointerException every time.\nThis exception occurrs to almost every bundle.\n\n(Symptom capture)\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\nFramework is launched.\n\nid\tState       Bundle\n0\tACTIVE      system.bundle_3.1.0\n\t            Fragments\u003d12, 13\n1\tACTIVE      org.eclipse.core.runtime_3.1.0\n2\tACTIVE      org.eclipse.update.configurator_3.1.0\n3\tRESOLVED    org.eclipse.core.commands_3.2.0\n4\tRESOLVED    org.eclipse.core.expressions_3.1.0\n6\tRESOLVED    org.eclipse.ercp.app_1.0.0\n7\tRESOLVED    org.eclipse.ercp.example.ercpHello_1.0.0\n8\tACTIVE      org.eclipse.ercp.jface_1.0.0\n9\tACTIVE      org.eclipse.ercp.swt_1.0.0\n\t            Fragments\u003d11\n10\tRESOLVED    org.eclipse.ercp.swt.demo_1.0.0\n11\tRESOLVED    org.eclipse.ercp.swt.win32_1.0.0\n\t            Master\u003d9\n12\tRESOLVED    org.eclipse.ercp.xml_1.0.0\n\t            Master\u003d0\n13\tRESOLVED    org.eclipse.ercp.xmlParserAPIs_1.0.0\n\t            Master\u003d0\n15\tRESOLVED    org.eclipse.osgi.services_3.1.1\n16\tACTIVE      org.eclipse.ui_1.0.0\n17\tACTIVE      org.eclipse.ui.workbench_1.0.0\n19\tRESOLVED    org.eclipse.update.core_3.1.0\n\t            Fragments\u003d20\n20\tRESOLVED    org.eclipse.update.core.win32_3.1.0\n\t            Master\u003d19\n22\tRESOLVED    CeladonCommonEntities_1.0.0\n23\tRESOLVED    CeladonServiceLauncher_1.0.0\n24\tRESOLVED    DiscoveryXD_1.0.0\n25\tACTIVE      FeedbackCommonXD_1.0.0\n26\tRESOLVED    FinalCeladonAgentXD_1.0.0\n27\tRESOLVED    SessionXD_1.0.0\n28\tRESOLVED    com.ibm.celadon_1.0.0\n29\tRESOLVED    com.ibm.celadon.ImageViewer2_1.0.0\n30\tACTIVE      org.eclipse.ercp.eworkbench_1.0.0\n34\tACTIVE      com.ibm.pvcws.osgi_5.7.1\n38\tRESOLVED    file:C:\\TEMP\\Resources\\Bundles\\AssociationXD.jar [38]\n\nosgi\u003e bundle 38\nfile:C:\\TEMP\\Resources\\Bundles\\AssociationXD.jar [38]\n  Id\u003d38, Status\u003dRESOLVED    Data Root\u003dD:\\myfolder\\DevSpace\\Eclipse3\\Celadon-ercp-v1\\.metadata\\.plugins\\org.eclipse.pde.core\\test\\org.eclipse.osgi\\bundles\\38\\data  No registered services.\n  No services in use.\n  Exported packages\n    .; specification-version\u003d\"0.0.0\"[exported]\n    com.ibm.celadon.xd.assoc; specification-version\u003d\"0.0.0\"[exported]\n  Imported packages\n    org.osgi.framework; specification-version\u003d\"1.3.0\"\u003cSystem Bundle [0]\u003e\n    com.ibm.celadon.common; specification-version\u003d\"0.0.0\"\u003cupdate@../../../../../myfolder/DevSpace/Eclipse3/Celadon-ercp-v1/CeladonCommonEntities/ [22]\u003e\n    com.ibm.celadon.common.exception; specification-version\u003d\"0.0.0\"\u003cupdate@../../../../../myfolder/DevSpace/Eclipse3/Celadon-ercp-v1/CeladonCommonEntities/ [22]\u003e\n    com.ibm.celadon.common.generated; specification-version\u003d\"0.0.0\"\u003cupdate@../../../../../myfolder/DevSpace/Eclipse3/Celadon-ercp-v1/CeladonCommonEntities/ [22]\u003e\n    com.ibm.celadon.xd.discovery; specification-version\u003d\"0.0.0\"\u003cupdate@../../../../../myfolder/DevSpace/Eclipse3/Celadon-ercp-v1/DiscoveryXD/ [24]\u003e\n    com.ibm.celadon.xd.sa.share; specification-version\u003d\"0.0.0\"\u003cupdate@../../../../../myfolder/DevSpace/Eclipse3/Celadon-ercp-v1/FeedbackCommonXD/ [25]\u003e\n    com.ibm.pvcws.osgi.proxy; specification-version\u003d\"0.0.0\"\u003cfile:C:\\TEMP\\Resources\\Bundles\\wsosgi.jar [34]\u003e\njava.lang.NullPointerException\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.findDynamicSource(Unknown Source)\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.findSource(Unknown Source)\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.getPackageSource(Unknown Source)\n\tat org.eclipse.osgi.framework.internal.core.ExportedPackageImpl.getImportingBundles(Unknown Source)\n\tat org.eclipse.osgi.framework.internal.core.FrameworkCommandProvider._bundle(Unknown Source)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.osgi.framework.internal.core.FrameworkCommandInterpreter.execute(Unknown Source)\n\tat org.eclipse.osgi.framework.internal.core.FrameworkConsole.docommand(Unknown Source)\n\tat org.eclipse.osgi.framework.internal.core.FrameworkConsole.console(Unknown Source)\n\tat org.eclipse.osgi.framework.internal.core.FrameworkConsole.console(Unknown Source)\n\tat org.eclipse.osgi.framework.internal.core.FrameworkConsole.run(Unknown Source)\n\tat java.lang.Thread.run(Unknown Source)\n\nosgi\u003e bundle 34\nfile:C:\\TEMP\\Resources\\Bundles\\wsosgi.jar [34]\n  Id\u003d34, Status\u003dACTIVE      Data Root\u003dD:\\myfolder\\DevSpace\\Eclipse3\\Celadon-ercp-v1\\.metadata\\.plugins\\org.eclipse.pde.core\\test\\org.eclipse.osgi\\bundles\\34\\data  Registered Services\n    {com.ibm.pvcws.osgi.proxy.WSProxyService}\u003d{author\u003dted, description\u003dJSR172 Web Services for OSGI Manager, service.id\u003d16}\n    {com.ibm.pvcws.osgi.proxy.WebServiceProvider}\u003d{service.id\u003d17}\n  No services in use.\n  Exported packages\n    com.ibm.osgi.util.logtracker; specification-version\u003d\"0.0.0\"[exported]\n    com.ibm.pvcws.jaxp.util; specification-version\u003d\"0.0.0\"[exported]\n    com.ibm.pvcws.jaxrpc.rpc; specification-version\u003d\"0.0.0\"[exported]\n    com.ibm.pvcws.osgi.proxy; specification-version\u003d\"0.0.0\"[exported]\n    com.ibm.pvcws.proxy; specification-version\u003d\"0.0.0\"[exported]\n    com.ibm.pvcws.proxy.wsj2me; specification-version\u003d\"0.0.0\"[exported]\n    com.ibm.pvcws.wsdlgleaner; specification-version\u003d\"0.0.0\"[exported]\n    java.rmi; specification-version\u003d\"0.0.0\"[exported]\n    javax.microedition.xml.rpc; specification-version\u003d\"0.0.0\"[exported]\n    javax.xml.namespace; specification-version\u003d\"0.0.0\"[exported]\n    javax.xml.rpc; specification-version\u003d\"0.0.0\"[exported]\n    javax.rmi; specification-version\u003d\"0.0.0\"[exported]\n  Imported packages\n    org.osgi.framework; specification-version\u003d\"1.3.0\"\u003cSystem Bundle [0]\u003e\n    org.osgi.service.packageadmin; specification-version\u003d\"1.2.0\"\u003cSystem Bundle [0]\u003e\n    org.osgi.util.tracker; specification-version\u003d\"1.3.0\"\u003cSystem Bundle [0]\u003e\n    org.osgi.service.log; specification-version\u003d\"1.2.0\"\u003cupdate@plugins/org.eclipse.osgi.services_3.1.1.jar [15]\u003e\n    com.ibm.osgi.util.logtracker; specification-version\u003d\"0.0.0\"\u003cfile:C:\\TEMP\\Resources\\Bundles\\wsosgi.jar [34]\u003e\n    com.ibm.pvcws.jaxp.util; specification-version\u003d\"0.0.0\"\u003cfile:C:\\TEMP\\Resources\\Bundles\\wsosgi.jar [34]\u003e\n    com.ibm.pvcws.jaxrpc.rpc; specification-version\u003d\"0.0.0\"\u003cfile:C:\\TEMP\\Resources\\Bundles\\wsosgi.jar [34]\u003e\n    com.ibm.pvcws.osgi.proxy; specification-version\u003d\"0.0.0\"\u003cfile:C:\\TEMP\\Resources\\Bundles\\wsosgi.jar [34]\u003e\n    com.ibm.pvcws.proxy; specification-version\u003d\"0.0.0\"\u003cfile:C:\\TEMP\\Resources\\Bundles\\wsosgi.jar [34]\u003e\n    com.ibm.pvcws.proxy.wsj2me; specification-version\u003d\"0.0.0\"\u003cfile:C:\\TEMP\\Resources\\Bundles\\wsosgi.jar [34]\u003e\n    com.ibm.pvcws.wsdlgleaner; specification-version\u003d\"0.0.0\"\u003cfile:C:\\TEMP\\Resources\\Bundles\\wsosgi.jar [34]\u003e\njava.lang.NullPointerException\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.findDynamicSource(Unknown Source)\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.findSource(Unknown Source)\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.getPackageSource(Unknown Source)\n\tat org.eclipse.osgi.framework.internal.core.ExportedPackageImpl.getImportingBundles(Unknown Source)\n\tat org.eclipse.osgi.framework.internal.core.FrameworkCommandProvider._bundle(Unknown Source)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.osgi.framework.internal.core.FrameworkCommandInterpreter.execute(Unknown Source)\n\tat org.eclipse.osgi.framework.internal.core.FrameworkConsole.docommand(Unknown Source)\n\tat org.eclipse.osgi.framework.internal.core.FrameworkConsole.console(Unknown Source)\n\tat org.eclipse.osgi.framework.internal.core.FrameworkConsole.console(Unknown Source)\n\tat org.eclipse.osgi.framework.internal.core.FrameworkConsole.run(Unknown Source)\n\tat java.lang.Thread.run(Unknown Source)\n\nosgi\u003e",
    "Can you attach a small testcase that reproduces the problem?  Why is this critical, does it prevent the bundle from working?  This looks to be against 3.1.0  Can you try the latest 3.1.2 or better yet the upcomming 3.2 M5 build that should be ready by the end of the week?",
    "(In reply to comment #1)\n\u003e Can you attach a small testcase that reproduces the problem?\n--\u003e All right. I\u0027ll put some testcase later. Anyway, in my case, almost every bundle makes this error. So, please test with primitive bundles like \"bundle 0\", \"bundle 1\"\n\n\n\u003e Why is this critical, does it prevent the bundle from working?  \n--\u003e Right. In the console message below, the bundle, AssociationXD, actually imports more packages (such as javax.xml.rpc). However, framework does not find the packages. When I try to activate the bundle, using \"start 38\", AssociationXD brings eror message: ClassNotDefFoundError- javax.xml.rpc.JAXRPCExecption.\nI guess this symptom seems closely related to this error above. \n\n\n\u003e This looks to be against\n\u003e 3.1.0  Can you try the latest 3.1.2 or better yet the upcomming 3.2 M5 build\n\u003e that should be ready by the end of the week?\n--\u003e I tested with 3.1.1 and 3.2M4. I will test with the newer version, 3.2. M5 when it is available.\n",
    "We need a testcase that reproduces the problem because the bundles delivered with eclipse do not reproduce the issue.  I suspect some bundle in your environment is causing this error to occur.  We need to know what that is.  I suspect one of your bundles is using a DynamicImport-Package header.  Even so when I test with a bundle that has a DynamicImport-Package header I do not see this error.",
    "I have not used dynamic import.\nI posted test cases to you via notes.",
    "The error is occurring because there is a bundle which exports a java.* package.  This is explicitely not allowed by OSGi.\n\nI\u0027m closing as invalid because of this.  But in the latest builds of 3.2 this NPE is avoided.  The NPE is also avoided in the 3.1.2 build of Eclipse.  I\u0027m not sure what code base eRCP is using for the framework.  I would suggest you open a bug against the eRCP component."
  ],
  "commentCreationDates": [
    "2006-02-16T06:47:18+01:00",
    "2006-02-16T14:17:12+01:00",
    "2006-02-16T21:18:53+01:00",
    "2006-02-16T21:29:32+01:00",
    "2006-02-16T22:16:04+01:00",
    "2006-02-17T15:48:32+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findDynamicSource",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findSource",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.getPackageSource",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.ExportedPackageImpl.getImportingBundles",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkCommandProvider._bundle",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkCommandInterpreter.execute",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkConsole.docommand",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkConsole.console",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkConsole.console",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkConsole.run",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Unknown Source"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "128157",
      "date": "2006-02-16T06:47:18+01:00",
      "product": "Equinox",
      "component": "Framework",
      "severity": "critical"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findDynamicSource",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findSource",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.getPackageSource",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.ExportedPackageImpl.getImportingBundles",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkCommandProvider._bundle",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkCommandInterpreter.execute",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkConsole.docommand",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkConsole.console",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkConsole.console",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.FrameworkConsole.run",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Unknown Source"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "128157",
      "date": "2006-02-16T06:47:18+01:00",
      "product": "Equinox",
      "component": "Framework",
      "severity": "critical"
    }
  ],
  "groupId": "128157",
  "bugId": "128157",
  "date": "2006-02-16T06:47:18+01:00",
  "product": "Equinox",
  "component": "Framework",
  "severity": "critical"
}