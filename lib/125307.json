{
  "comments": [
    "I20060124\n\nAbstractDocument::checkStateOfPartitioner checks its own rewrite session, and then stops the one on the partitioner (but not its own). This results in the rewrite session being active on the editor, but no longer on the partitioner. In succeeding invocations of the checkStateOfPartitioner method, the (non existing) partitioner session is stopped again and, more important, a DocumentPartitioningChangedEvent is sent out, even though the partitioning has not changed at all.\n\nThe results is reduced performance (due to many partitioning changed events) and possibly neverending stacktraces as the one I found today:\n\n\norg.eclipse.swt.SWTException: Invalid thread access\n\tat org.eclipse.swt.SWT.error(SWT.java:3283)\n\tat org.eclipse.swt.SWT.error(SWT.java:3206)\n\tat org.eclipse.swt.SWT.error(SWT.java:3177)\n\tat org.eclipse.swt.widgets.Widget.error(Widget.java:428)\n\tat org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:366)\n\tat org.eclipse.swt.custom.StyledText.replaceStyleRanges(StyledText.java:6195)\n\tat org.eclipse.jface.text.TextViewer.addPresentation(TextViewer.java:4192)\n\tat org.eclipse.jface.text.TextViewer.changeTextPresentation(TextViewer.java:4271)\n\tat org.eclipse.jface.text.presentation.PresentationReconciler.applyTextRegionCollection(PresentationReconciler.java:573)\n\tat org.eclipse.jface.text.presentation.PresentationReconciler.processDamage(PresentationReconciler.java:562)\n\tat org.eclipse.jface.text.presentation.PresentationReconciler.access$3(PresentationReconciler.java:558)\n\tat org.eclipse.jface.text.presentation.PresentationReconciler$InternalListener.documentPartitioningChanged(PresentationReconciler.java:138)\n\tat org.eclipse.jface.text.presentation.PresentationReconciler$InternalListener.documentPartitioningChanged(PresentationReconciler.java:152)\n\tat org.eclipse.jface.text.AbstractDocument.fireDocumentPartitioningChanged(AbstractDocument.java:571)\n\tat org.eclipse.jface.text.AbstractDocument.checkStateOfPartitioner(AbstractDocument.java:1610)\n\tat org.eclipse.jface.text.AbstractDocument.computePartitioning(AbstractDocument.java:1329)\n\tat org.eclipse.jface.text.TextUtilities.computePartitioning(TextUtilities.java:426)\n\n[ 50 x repeat from ]\n\n\tat org.eclipse.jface.text.presentation.PresentationReconciler.createPresentation(PresentationReconciler.java:443)\n\tat org.eclipse.jface.text.presentation.PresentationReconciler.processDamage(PresentationReconciler.java:560)\n\tat org.eclipse.jface.text.presentation.PresentationReconciler.access$3(PresentationReconciler.java:558)\n\tat org.eclipse.jface.text.presentation.PresentationReconciler$InternalListener.documentPartitioningChanged(PresentationReconciler.java:138)\n\tat org.eclipse.jface.text.presentation.PresentationReconciler$InternalListener.documentPartitioningChanged(PresentationReconciler.java:152)\n\tat org.eclipse.jface.text.AbstractDocument.fireDocumentPartitioningChanged(AbstractDocument.java:571)\n\tat org.eclipse.jface.text.AbstractDocument.checkStateOfPartitioner(AbstractDocument.java:1610)\n\tat org.eclipse.jface.text.AbstractDocument.computePartitioning(AbstractDocument.java:1329)\n\tat org.eclipse.jface.text.TextUtilities.computePartitioning(TextUtilities.java:426)\n\n[ repeat to ]\n\n\tat org.eclipse.jdt.internal.ui.text.spelling.JavaSpellingEngine.check(JavaSpellingEngine.java:49)\n\tat org.eclipse.jdt.internal.ui.text.spelling.SpellingEngine.check(SpellingEngine.java:77)\n\tat org.eclipse.jdt.internal.ui.text.spelling.DefaultSpellingEngine.check(DefaultSpellingEngine.java:68)",
    "AbstractDocument::checkStateOfPartitioner must either check the partitioner\u0027s rewrite session instead of its own, or it must end the rewrite session altogether.",
    "Fixed in HEAD.\nAvailable in builds \u003e\u003d I20060327-0010."
  ],
  "commentCreationDates": [
    "2006-01-26T10:31:04+01:00",
    "2006-01-26T10:31:52+01:00",
    "2006-03-26T15:48:07+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Invalid thread access",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3283"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3206"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3177"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:428"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.checkWidget",
          "source": "Widget.java:366"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.replaceStyleRanges",
          "source": "StyledText.java:6195"
        },
        {
          "method": "org.eclipse.jface.text.TextViewer.addPresentation",
          "source": "TextViewer.java:4192"
        },
        {
          "method": "org.eclipse.jface.text.TextViewer.changeTextPresentation",
          "source": "TextViewer.java:4271"
        },
        {
          "method": "org.eclipse.jface.text.presentation.PresentationReconciler.applyTextRegionCollection",
          "source": "PresentationReconciler.java:573"
        },
        {
          "method": "org.eclipse.jface.text.presentation.PresentationReconciler.processDamage",
          "source": "PresentationReconciler.java:562"
        },
        {
          "method": "org.eclipse.jface.text.presentation.PresentationReconciler.access$3",
          "source": "PresentationReconciler.java:558"
        },
        {
          "method": "org.eclipse.jface.text.presentation.PresentationReconciler$InternalListener.documentPartitioningChanged",
          "source": "PresentationReconciler.java:138"
        },
        {
          "method": "org.eclipse.jface.text.presentation.PresentationReconciler$InternalListener.documentPartitioningChanged",
          "source": "PresentationReconciler.java:152"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.fireDocumentPartitioningChanged",
          "source": "AbstractDocument.java:571"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.checkStateOfPartitioner",
          "source": "AbstractDocument.java:1610"
        },
        {
          "method": "org.eclipse.jface.text.AbstractDocument.computePartitioning",
          "source": "AbstractDocument.java:1329"
        },
        {
          "method": "org.eclipse.jface.text.TextUtilities.computePartitioning",
          "source": "TextUtilities.java:426"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "125307",
      "date": "2006-01-26T10:31:04+01:00",
      "product": "Platform",
      "component": "Text",
      "severity": "normal"
    }
  ],
  "groupId": "125307",
  "bugId": "125307",
  "date": "2006-01-26T10:31:04+01:00",
  "product": "Platform",
  "component": "Text",
  "severity": "normal"
}