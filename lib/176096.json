{
  "comments": [
    "EXCEPTION  java.net.ConnectException: Connection refused: connect: Connection refused: connect",
    "Is this a new problem or an old one copied from the old bugzilla.\n\nIf it is a new one, I will need more information.  \n\nI am going to add a User Problem Determination and reporting page to the wiki.",
    "I am still not sure if this is a new bug or an old one.\n\nIf it is an old one,  it should be closed.\n\nIf it is a new bug,  I have tested generating a standalone RCP based on the using export with the current stem.product and it worked fine with GoogleEarth.\nI also tried it with the stemLinux.product and it started up the embedded tomcat server but I can not verify that GE works.   But it likely would.  \nSo if it is a new problem, it should be closed as WORKSFORME",
    "I encountered the bug while trying to start up GE while running GE.  I believe it is still a current bug.   There wasn\u0027t much else as context information to provide, the error message was the one line complaint of the problem.  ",
    "I cannot reproduce it but the fact that you were trying to start GE while an instance \nwas already active is a clue.   Having 2 instances of GE would be a problem since googleEaarth itself can not have more than one instance and 2 instances of STEM/GE talking to it would be a problem.  I have specified in the plugin that multiple instances are not allowed but that does not seem to disallow the starting of one instane in the designer perspective and one in the simulation perspective.  \nMore testing is needed. ",
    "I have added code to throw an exception if one tried to start a 2nd instance of GoogleEarth in STEM.\nThis is the ugley way to fix the problemm.\nI tried to use the \"stickyView\" property to force the a single instance of GE to be used on multiple perspectives but it did not work and had some very bad sideaffects in positioning the GE view.  \n\nLeave open for now in case a solution in suggested but it may be that throwing the exception is the only viable solution.\n",
    "In trying to verify the fix for the bug, I started STEM as an RCP application and then opened the GE view.  I got a blank informational dialog.\n\nThe exception shown below was reported in the Error Log as well as the subsequent messages \"GoogleEarth Servlet support disabled\" and \"StemKml: Unable to communicate with web server @ http://localhost:8080\"\n\n\norg.eclipse.core.runtime.CoreException: Exception occurred starting application server.\nat org.eclipse.help.internal.appserver.AppserverPlugin.startWebappServer(AppserverPlugin.java:140)\nat org.eclipse.help.internal.appserver.AppserverPlugin.getAppServer(AppserverPlugin.java:41)\nat org.eclipse.help.internal.appserver.WebappManager.start(WebappManager.java:58)\nat org.eclipse.ohf.stem.ui.ge.kml.StemKml.startWebServer(StemKml.java:481)\nat org.eclipse.ohf.stem.ui.ge.kml.StemKml.initWebServer(StemKml.java:438)\nat org.eclipse.ohf.stem.ui.ge.GEInterface.init(GEInterface.java:199)\nat org.eclipse.ohf.stem.ui.ge.views.GEView.createPartControl(GEView.java:207)\nat org.eclipse.ui.internal.ViewReference.createPartHelper(ViewReference.java:332)\nat org.eclipse.ui.internal.ViewReference.createPart(ViewReference.java:197)\nat org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:566)\nat org.eclipse.ui.internal.Perspective.showView(Perspective.java:1675)\nat org.eclipse.ui.internal.WorkbenchPage.busyShowView(WorkbenchPage.java:987)\nat org.eclipse.ui.internal.WorkbenchPage.access$13(WorkbenchPage.java:968)\nat org.eclipse.ui.internal.WorkbenchPage$13.run(WorkbenchPage.java:3514)\nat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)\nat org.eclipse.ui.internal.WorkbenchPage.showView(WorkbenchPage.java:3511)\nat org.eclipse.ui.internal.WorkbenchPage.showView(WorkbenchPage.java:3487)\nat org.eclipse.ui.handlers.ShowViewHandler.openView(ShowViewHandler.java:148)\nat org.eclipse.ui.handlers.ShowViewHandler.openOther(ShowViewHandler.java:104)\nat org.eclipse.ui.handlers.ShowViewHandler.execute(ShowViewHandler.java:70)\nat org.eclipse.ui.internal.ShowViewMenu$3.run(ShowViewMenu.java:114)\nat org.eclipse.jface.action.Action.runWithEvent(Action.java:499)\nat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539)\nat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\nat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1930)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1894)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:422)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\nat org.eclipse.ohf.stem.core.common.presentation.CoreEditorAdvisor$Application.run(CoreEditorAdvisor.java:108)\nat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:615)\nat org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:280)\nat org.eclipse.core.launcher.Main.run(Main.java:977)\nat org.eclipse.core.launcher.Main.main(Main.java:952)\n",
    "(In reply to comment #6)\n\u003e In trying to verify the fix for the bug, I started STEM as an RCP application\n\u003e and then opened the GE view.  I got a blank informational dialog.\n\u003e \n\nCould you email the RCP application to me.  \nI generate an RCP application and this does not happen.\n\nHow do you generate the RCP.  I use the product.stem file in ohf.stem.ui \n\nJohn",
    "I tried it on the exported version and it worked with no problems.  I get the error when I run it from a launch configuration inside Eclipse. ",
    "This problem really started while we wert using the IBM version of bugzilla.  So we don\u0027t lose the comments about the initial resolution I am including the older comments below.  Note that the comments are in reverse order.  Most recent first.\n\n****************************************************************************\n\nInitial Comment:\nWith the exported version of Stem,  the GoogleEarth interface is unable to startup the Eclipse embeded web server.   If one has another webserver running at localhost:8080 (for example Apache tomcat)  it will recover and try to use it.\n\n\n\n----------------------------------------------------------------------\n\n\u003eComment By: John Thomas (jthomas)\nDate: 2007-02-02 16:09\n\nMessage:\nI have made a change to MANIFEST.MF that appears to cause the ge pluging to be included in the build as a flat directory instead of a jar file.  This allows the embedded tomcat server to read the required files.\nThe change is to add to Manifest.mf for the ge plugin:\nBundle-ClassPath: bin/\n\n----------------------------------------------------------------------\n\nComment By: John Thomas (jthomas)\nDate: 2007-01-19 20:12\n\nMessage:\nThis problem has a resolution at last.\n\nThe problem does not occur if the product is built with the ge plugin NOT bundled into a jar file.  So if when we generate the product we need to manipulate the PDE export so that it does not jar this particular plugin.  Since we have not set up the PDE build process yet, I will leave this open until we do.\n\n----------------------------------------------------------------------\n\nComment By: John Thomas (jthomas)\nDate: 2007-01-18 17:15\n\nMessage:\nAs a temporary measure, the code has been modified to recognize if the embedded web server and external web server (if specified) do not work then the GE interface will adjust by only using the \"launch file\" methods to communicate with GE.\nRecent conversations with seemingly knowledgeable people indicate that it may not be possible to run the embedded web server in an RCP application outside of the eclipse environment.  In any case the current circumvention will have to suffice until I figure out what to do next.\n\n----------------------------------------------------------------------\n\nComment By: John Thomas (jthomas)\nDate: 2006-12-20 21:10\n\nMessage:\nAlso in the WEB-INF directory there is a classes directory\nthat needs to be copied to the plugin jar file.\n\nI have verified that the adding of the tomcat plugin\n(previous comment) does solve the initial problem with not\nbeing able to start the server but then once the server is\nstarted it needs the servlet classes.\n",
    "The problem does not occur in a run of STEM that is based on the product.stem (or productLinux.stem) either exported to run standalone or via a standard or debug launch from the product.stem file.  \n\nSince this is the documented way to launch stem,  I feel this should be closed.\n\nJohn  ",
    "fixed"
  ],
  "commentCreationDates": [
    "2007-03-01T21:00:54+01:00",
    "2007-03-02T04:21:48+01:00",
    "2007-03-07T00:55:54+01:00",
    "2007-03-07T01:33:13+01:00",
    "2007-03-14T16:35:34+01:00",
    "2007-03-18T00:08:36+01:00",
    "2007-03-18T20:09:15+01:00",
    "2007-03-19T01:20:22+01:00",
    "2007-03-19T15:16:54+01:00",
    "2007-03-19T17:48:36+01:00",
    "2007-03-22T00:54:11+01:00",
    "2007-03-22T14:10:38+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.runtime.CoreException",
      "message": "Exception occurred starting application server.",
      "elements": [
        {
          "method": "org.eclipse.help.internal.appserver.AppserverPlugin.startWebappServer",
          "source": "AppserverPlugin.java:140"
        },
        {
          "method": "org.eclipse.help.internal.appserver.AppserverPlugin.getAppServer",
          "source": "AppserverPlugin.java:41"
        },
        {
          "method": "org.eclipse.help.internal.appserver.WebappManager.start",
          "source": "WebappManager.java:58"
        },
        {
          "method": "org.eclipse.ohf.stem.ui.ge.kml.StemKml.startWebServer",
          "source": "StemKml.java:481"
        },
        {
          "method": "org.eclipse.ohf.stem.ui.ge.kml.StemKml.initWebServer",
          "source": "StemKml.java:438"
        },
        {
          "method": "org.eclipse.ohf.stem.ui.ge.GEInterface.init",
          "source": "GEInterface.java:199"
        },
        {
          "method": "org.eclipse.ohf.stem.ui.ge.views.GEView.createPartControl",
          "source": "GEView.java:207"
        },
        {
          "method": "org.eclipse.ui.internal.ViewReference.createPartHelper",
          "source": "ViewReference.java:332"
        },
        {
          "method": "org.eclipse.ui.internal.ViewReference.createPart",
          "source": "ViewReference.java:197"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPartReference.getPart",
          "source": "WorkbenchPartReference.java:566"
        },
        {
          "method": "org.eclipse.ui.internal.Perspective.showView",
          "source": "Perspective.java:1675"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.busyShowView",
          "source": "WorkbenchPage.java:987"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.access$13",
          "source": "WorkbenchPage.java:968"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$13.run",
          "source": "WorkbenchPage.java:3514"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:67"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.showView",
          "source": "WorkbenchPage.java:3511"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.showView",
          "source": "WorkbenchPage.java:3487"
        },
        {
          "method": "org.eclipse.ui.handlers.ShowViewHandler.openView",
          "source": "ShowViewHandler.java:148"
        },
        {
          "method": "org.eclipse.ui.handlers.ShowViewHandler.openOther",
          "source": "ShowViewHandler.java:104"
        },
        {
          "method": "org.eclipse.ui.handlers.ShowViewHandler.execute",
          "source": "ShowViewHandler.java:70"
        },
        {
          "method": "org.eclipse.ui.internal.ShowViewMenu$3.run",
          "source": "ShowViewMenu.java:114"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:499"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:539"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3348"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2968"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1930"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1894"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:422"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ohf.stem.core.common.presentation.CoreEditorAdvisor$Application.run",
          "source": "CoreEditorAdvisor.java:108"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:64"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:43"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:615"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:280"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 6,
      "bugId": "176096",
      "date": "2007-03-18T20:09:15+01:00",
      "product": "OHF",
      "component": "STEM",
      "severity": "normal"
    }
  ],
  "groupId": "176096",
  "bugId": "176096",
  "date": "2007-03-01T21:00:54+01:00",
  "product": "OHF",
  "component": "STEM",
  "severity": "normal"
}