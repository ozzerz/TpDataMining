{
  "comments": [
    "Build 20030206\n\nDebug inserts debug actions in Java editor menus, for which it has no context. \nThese actions should only be offered in proper context (if it has a stack \nframe).",
    "In other words, don\u0027t propose me actions which cannot be performed.",
    "Created an attachment (id\u003d3353)\nShould not see (non working) debug action in this context\n",
    "It looks like you had a debug session active, but tried to perform an \nevaluation in a window that did not contain the debug view. Is that correct?",
    "Yes. The debug session was a finished JUnit test suite (the view was still \nopen), and I had forgotten it, and was doing other things past that point.",
    "The debug view shows the debug session was still active - it is suspended. I am \nnot sure this is a bug.",
    "I can reproduce the problem. The problem is when the debug session is active in \na different window/page, and the inspect is invoked from another window (where \nthere is no debug view). In this case, there is an active debug session, but \nthe debug platform\u0027s #getDebugContext() method returns null (as per spec). The \nevaluate actions need to do a better job of determining the selected stack \nframe in another window.",
    "The problem also exists when there is an active debug target, but the selection \nis not a stack frame (for example, select another terminated target, or an \nactive target instead of the stack frame).",
    "Fixed. Created EvaluationContextManager that tracks the selected \"java\" stack \nframe. This sets the \"debuggerActive\" system property when applicable, such \nthat actions are added to the java editor menu when applicable.\n\nBug 31604 causes a slight problem for this implementation - if the debug view \nis closed, the selection is not cleared, so the actions still appear.",
    "Please verify, Darin (S)",
    "Darin, what should the behavior be when I select something other than the \nstack fram (target or suspended thread). Currently I am not seeing the actions \neven though that debug target / thread does have a suspended thread with stack \nframes. It is consistent from the run menu, other windows (with/without) debug \nview. I am just not sure from your description #7.",
    "With the current implementation, it only works with a stack frame. We could \nimprove this to allow for a thread to be selected (and use the top stack \nframe). A debug target seems less critical to allow.",
    "I would not even sweat allowing the thread...we could just consistently \nrequired you to select the stack frame. Just my 2 cents ($US)",
    "Fixed in JDIThread. The thread now returns a stack frame adapter when possible.",
    "Please verify, Darin (S).",
    "I am getting a stack overflow error when I am in a Java perspective only \nwindow.\nThe other window is a debug perspective with debug view visible.\nI select the stack frame in the debug view.\nGo to the Java perspective window, select some text in the editor.\nThe actions are in the context menu and enabled in the Run menu\nGo back and select the debug target in the debug view.\nThe actions are gone from the context menu in the editor but are still enabled \nin the Run menu.\nSelecting Execute I get:\n\njava.lang.StackOverflowError\nat java.util.ArrayList.toArray(ArrayList.java:301)\nat org.eclipse.ui.internal.WorkbenchWindow$PageList.getPages\n(WorkbenchWindow.java:1806)\nat org.eclipse.ui.internal.WorkbenchWindow.getPages(WorkbenchWindow.java:938)\nat \norg.eclipse.jdt.internal.debug.ui.EvaluationContextManager.getEvaluationContext\n(EvaluationContextManager.java:217)\nat \norg.eclipse.jdt.internal.debug.ui.EvaluationContextManager.getEvaluationContext\n(EvaluationContextManager.java:229)\nat \norg.eclipse.jdt.internal.debug.ui.EvaluationContextManager.getEvaluationContext\n(EvaluationContextManager.java:229)\nat \norg.eclipse.jdt.internal.debug.ui.EvaluationContextManager.getEvaluationContext\n(EvaluationContextManager.java:229)\nat \norg.eclipse.jdt.internal.debug.ui.EvaluationContextManager.getEvaluationContext\n(EvaluationContextManager.java:229)\nat \norg.eclipse.jdt.internal.debug.ui.EvaluationContextManager.getEvaluationContext\n(EvaluationContextManager.java:229)\nat \norg.eclipse.jdt.internal.debug.ui.EvaluationContextManager.getEvaluationContext\n(EvaluationContextManager.java:229)\nat \norg.eclipse.jdt.internal.debug.ui.EvaluationContextManager.getEvaluationContext\n(EvaluationContextManager.java:229)\nat \norg.eclipse.jdt.internal.debug.ui.EvaluationContextManager.getEvaluationContext\n(EvaluationContextManager.java:229) ...\n",
    "I have released a fix to the EvaluationContextManager to stop the unbounded \nrecursion.\n\nStill have the problem of the actions being enabled in the Run menu until a \nselection change occurs after moving to the second window after changing the \nselection in the debug view of the first window.",
    "Down-grading to P3. Everything works except the case mentioned - which is just \nannoying - but nothing is broken.",
    "Deferred",
    "Consider for 3.0 (needs workbench support)",
    "Deferred",
    "Closing, this works for me 3.3"
  ],
  "commentCreationDates": [
    "2003-02-07T12:57:14+01:00",
    "2003-02-07T12:57:59+01:00",
    "2003-02-07T13:00:42+01:00",
    "2003-02-07T14:03:51+01:00",
    "2003-02-07T15:42:55+01:00",
    "2003-02-07T21:01:00+01:00",
    "2003-02-12T19:34:01+01:00",
    "2003-02-12T19:53:44+01:00",
    "2003-02-13T02:56:54+01:00",
    "2003-02-13T02:57:58+01:00",
    "2003-02-15T03:04:20+01:00",
    "2003-02-15T15:53:45+01:00",
    "2003-02-15T15:57:15+01:00",
    "2003-02-15T16:18:06+01:00",
    "2003-02-15T16:18:31+01:00",
    "2003-02-15T21:54:43+01:00",
    "2003-02-17T02:15:23+01:00",
    "2003-02-19T15:16:19+01:00",
    "2003-02-25T01:32:21+01:00",
    "2003-05-26T22:22:14+02:00",
    "2004-05-12T17:06:31+02:00",
    "2007-05-11T18:22:18+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.StackOverflowError",
      "elements": [
        {
          "method": "java.util.ArrayList.toArray",
          "source": "ArrayList.java:301"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow$PageList.getPages",
          "source": "WorkbenchWindow.java:1806"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.getPages",
          "source": "WorkbenchWindow.java:938"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.EvaluationContextManager.getEvaluationContext",
          "source": "EvaluationContextManager.java:217"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.EvaluationContextManager.getEvaluationContext",
          "source": "EvaluationContextManager.java:229"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.EvaluationContextManager.getEvaluationContext",
          "source": "EvaluationContextManager.java:229"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.EvaluationContextManager.getEvaluationContext",
          "source": "EvaluationContextManager.java:229"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.EvaluationContextManager.getEvaluationContext",
          "source": "EvaluationContextManager.java:229"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.EvaluationContextManager.getEvaluationContext",
          "source": "EvaluationContextManager.java:229"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.EvaluationContextManager.getEvaluationContext",
          "source": "EvaluationContextManager.java:229"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.EvaluationContextManager.getEvaluationContext",
          "source": "EvaluationContextManager.java:229"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.ui.EvaluationContextManager.getEvaluationContext",
          "source": "EvaluationContextManager.java:229"
        }
      ],
      "number": 0,
      "commentIndex": 15,
      "bugId": "31264",
      "date": "2003-02-15T21:54:43+01:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "31264",
  "bugId": "31264",
  "date": "2003-02-07T12:57:14+01:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "normal"
}