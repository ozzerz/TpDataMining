{
  "comments": [
    "Build: 2.1 RC2\n\nIf an error occurs while initializing a decorator, the decorator thread tries to\npop up an error dialog (actually it uses the jface SafeRunnable class, which\npops up a dialog).  Since this is not in the UI thread, this results in an\ninvalid thread access.\n\norg.eclipse.swt.SWTException: Invalid thread access\n\tat org.eclipse.swt.SWT.error(SWT.java:2316)\n\tat org.eclipse.swt.SWT.error(SWT.java:2246)\n\tat org.eclipse.swt.widgets.Widget.error(Widget.java:381)\n\tat org.eclipse.swt.widgets.Shell.\u003cinit\u003e(Shell.java:242)\n\tat org.eclipse.swt.widgets.Shell.\u003cinit\u003e(Shell.java:320)\n\tat org.eclipse.jface.window.Window.createShell(Window.java:329)\n\tat org.eclipse.jface.window.Window.create(Window.java:295)\n\tat org.eclipse.jface.window.Window.open(Window.java:546)\n\tat org.eclipse.jface.dialogs.MessageDialog.openError(MessageDialog.java:279)\n\tat org.eclipse.jface.util.SafeRunnable.handleException(SafeRunnable.java:42)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.handleException(InternalPlatform.java:448)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:871)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:413)\n\tat\norg.eclipse.ui.internal.decorators.LightweightDecoratorDefinition.internalGetDecorator(LightweightDecoratorDefinition.java:81)\n\tat\norg.eclipse.ui.internal.decorators.LightweightDecoratorDefinition.decorate(LightweightDecoratorDefinition.java:150)\n\tat\norg.eclipse.ui.internal.decorators.LightweightDecoratorManager$LightweightRunnable.run(LightweightDecoratorManager.java:60)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:867)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:413)\n\tat\norg.eclipse.ui.internal.decorators.LightweightDecoratorManager.decorate(LightweightDecoratorManager.java:209)\n\tat\norg.eclipse.ui.internal.decorators.LightweightDecoratorManager.getDecorations(LightweightDecoratorManager.java:190)\n\tat\norg.eclipse.ui.internal.decorators.DecorationScheduler$3.run(DecorationScheduler.java:291)\n\tat java.lang.Thread.run(Thread.java:498)",
    "Since we\u0027ve had numerous threading issues with the decorator thread, I wouldn\u0027t\nadvise adding a syncExec here.  Logging the exception is probably sufficient.",
    "SafeRunnable should be spec\u0027ed that it can only be used from the UI thread.\nThe decorator manager should do its own error handling here.\n",
    "Created an attachment (id\u003d4055)\nPatch to applied once approved\n",
    "Tod, the exception should be logged already by Core. So your handleException \ndoes not need to do anything. I think that with this fix you will get the \nexception printed twice in the log (I may be wrong).\n\nYou can keep using a SafeRunnable and just implement the handleException to do \nnothing.",
    "Created an attachment (id\u003d4057)\nUpdated patch\n\nUpdated with Eduardos suggestions",
    "Approved by McQ.",
    "Fixed in build \u003e20030312",
    "Marking fixed",
    "Marking as closed."
  ],
  "commentCreationDates": [
    "2003-03-10T21:51:10+01:00",
    "2003-03-10T21:55:52+01:00",
    "2003-03-12T05:59:35+01:00",
    "2003-03-12T16:19:28+01:00",
    "2003-03-12T16:30:12+01:00",
    "2003-03-12T16:42:21+01:00",
    "2003-03-12T17:35:09+01:00",
    "2003-03-12T17:45:21+01:00",
    "2003-03-12T17:45:35+01:00",
    "2005-05-10T20:54:01+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Invalid thread access",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2316"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2246"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:381"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.\u003cinit\u003e",
          "source": "Shell.java:242"
        },
        {
          "method": "org.eclipse.swt.widgets.Shell.\u003cinit\u003e",
          "source": "Shell.java:320"
        },
        {
          "method": "org.eclipse.jface.window.Window.createShell",
          "source": "Window.java:329"
        },
        {
          "method": "org.eclipse.jface.window.Window.create",
          "source": "Window.java:295"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:546"
        },
        {
          "method": "org.eclipse.jface.dialogs.MessageDialog.openError",
          "source": "MessageDialog.java:279"
        },
        {
          "method": "org.eclipse.jface.util.SafeRunnable.handleException",
          "source": "SafeRunnable.java:42"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.handleException",
          "source": "InternalPlatform.java:448"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:871"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:413"
        },
        {
          "method": "org.eclipse.ui.internal.decorators.LightweightDecoratorDefinition.internalGetDecorator",
          "source": "LightweightDecoratorDefinition.java:81"
        },
        {
          "method": "org.eclipse.ui.internal.decorators.LightweightDecoratorDefinition.decorate",
          "source": "LightweightDecoratorDefinition.java:150"
        },
        {
          "method": "org.eclipse.ui.internal.decorators.LightweightDecoratorManager$LightweightRunnable.run",
          "source": "LightweightDecoratorManager.java:60"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:867"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:413"
        },
        {
          "method": "org.eclipse.ui.internal.decorators.LightweightDecoratorManager.decorate",
          "source": "LightweightDecoratorManager.java:209"
        },
        {
          "method": "org.eclipse.ui.internal.decorators.LightweightDecoratorManager.getDecorations",
          "source": "LightweightDecoratorManager.java:190"
        },
        {
          "method": "org.eclipse.ui.internal.decorators.DecorationScheduler$3.run",
          "source": "DecorationScheduler.java:291"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:498"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "34501",
      "date": "2003-03-10T21:51:10+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "34501",
  "bugId": "34501",
  "date": "2003-03-10T21:51:10+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "major"
}