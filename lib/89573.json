{
  "comments": [
    "I20050330-0500, GTK+ 2.2.4\n\nMy system does not support the browser widget.  When I double click on an HTML\nflie, I get an error dialog saying that it cannot launch the internal Web\nBrowser.  However, the editor still appears with an error and an NPE:\n\nava.lang.NullPointerException\n\tat org.eclipse.ui.internal.browser.BrowserViewer.getURL(BrowserViewer.java:723)\n\tat org.eclipse.ui.internal.browser.BrowserViewer.navigate(BrowserViewer.java:506)\n\tat org.eclipse.ui.internal.browser.BrowserViewer.setURL(BrowserViewer.java:545)\n\tat org.eclipse.ui.internal.browser.BrowserViewer.setURL(BrowserViewer.java:249)\n\tat\norg.eclipse.ui.internal.browser.WebBrowserEditor.createPartControl(WebBrowserEditor.java:84)\n\tat\norg.eclipse.ui.internal.EditorManager.busyRestoreEditorHelper(EditorManager.java:1237)\n\tat org.eclipse.ui.internal.EditorManager.busyRestoreEditor(EditorManager.java:1102)\n\tat org.eclipse.ui.internal.EditorManager$7.run(EditorManager.java:1064)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n\tat org.eclipse.ui.internal.EditorManager.restoreEditor(EditorManager.java:1062)\n\tat org.eclipse.ui.internal.EditorManager$Editor.getEditor(EditorManager.java:1648)\n\tat\norg.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched(WorkbenchPage.java:2238)\n\tat org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2165)\n\tat org.eclipse.ui.internal.WorkbenchPage.access$7(WorkbenchPage.java:2157)\n\tat org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:2143)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2138)\n\tat org.eclipse.ui.ide.IDE.openEditor(IDE.java:371)\n\tat org.eclipse.ui.ide.IDE.openEditor(IDE.java:334)\n\tat\norg.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:231)\n\tat\norg.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:124)\n\tat org.eclipse.jdt.internal.ui.actions.OpenActionUtil.open(OpenActionUtil.java:49)\n\tat org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:164)\n\tat org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:150)\n\tat\norg.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:212)\n\tat\norg.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:188)\n\tat\norg.eclipse.jdt.internal.ui.packageview.PackageExplorerActionGroup.handleOpen(PackageExplorerActionGroup.java:304)\n\tat\norg.eclipse.jdt.internal.ui.packageview.PackageExplorerPart$4.open(PackageExplorerPart.java:805)\n\tat org.eclipse.jface.viewers.StructuredViewer$2.run(StructuredViewer.java:658)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1021)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:757)\n\tat org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:40)\n\tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148)\n\tat org.eclipse.jface.viewers.StructuredViewer.fireOpen(StructuredViewer.java:656)\n\tat org.eclipse.jface.viewers.StructuredViewer.handleOpen(StructuredViewer.java:875)\n\tat\norg.eclipse.jface.viewers.StructuredViewer$6.handleOpen(StructuredViewer.java:974)\n\tat org.eclipse.jface.util.OpenStrategy.fireOpenEvent(OpenStrategy.java:243)\n\tat org.eclipse.jface.util.OpenStrategy.access$2(OpenStrategy.java:238)\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:277)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1012)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2778)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2472)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1570)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1534)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:306)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:338)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:151)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:268)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:260)\n\tat org.eclipse.core.launcher.Main.run(Main.java:887)\n\tat org.eclipse.core.launcher.Main.main(Main.java:871)",
    "Fixed as follows:\n\n- The editor will open and if the browser widget fails to create, it will be \nreplaced with a form.\n\n- The form will specify that the embedded browser cannot be created, and offer \na hyperlink to open the input in external editor.\n\n- The exception will also be available under \u0027Problem Details\u0027\n\n",
    "*** Bug 89673 has been marked as a duplicate of this bug. ***",
    "Just a heads-up that I still see something like this in the March 31st 8:00am\nbuild, though this report was marked fixed last night, so I would assume that\nthe fix should already be in (?).  What I see (running on hpux and aix):\n\n- I double-click the .html file to open it\n- I get an error dialog \"Could not launch internal web browser.  Please set an\nexternal browser in the Browser preferences.\" --\u003e OK\n- opens an editor, but the UI-provided \"Unable to create editor...\" editor is\nshown, with a Details button that reveals the NPE\n\nThis sounds somewhat like what you described putting in, but not quite the\nsame.  Am I seeing this because these installs think they don\u0027t have an external\nweb browser defined? (even though they do, as invoking Help-\u003eHelp contents\nconfirms)\n",
    "You are right, the first dialog is not mine - it comes from the platform UI \nfor some reason.\n\nI will double-check what happens.",
    "Finally fixed. There was an issue with the order of method calls in \nthe \u0027createPartControl\u0027. This order was not an issue on Windows but on Linux \nit made all the difference.\n\nNote that once you follow the link to open the system editor, I set the \ndefault editor to null so that it does not happen again. Unfortunately, this \nperfectly legal call is not tolerated well by the editor registry (see bug \n89903)."
  ],
  "commentCreationDates": [
    "2005-03-30T16:45:02+02:00",
    "2005-03-31T03:38:04+02:00",
    "2005-03-31T03:39:04+02:00",
    "2005-03-31T18:01:47+02:00",
    "2005-03-31T22:17:42+02:00",
    "2005-03-31T23:23:22+02:00"
  ],
  "traces": [
    {
      "exceptionType": "ava.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.internal.browser.BrowserViewer.getURL",
          "source": "BrowserViewer.java:723"
        },
        {
          "method": "org.eclipse.ui.internal.browser.BrowserViewer.navigate",
          "source": "BrowserViewer.java:506"
        },
        {
          "method": "org.eclipse.ui.internal.browser.BrowserViewer.setURL",
          "source": "BrowserViewer.java:545"
        },
        {
          "method": "org.eclipse.ui.internal.browser.BrowserViewer.setURL",
          "source": "BrowserViewer.java:249"
        },
        {
          "method": "org.eclipse.ui.internal.browser.WebBrowserEditor.createPartControl",
          "source": "WebBrowserEditor.java:84"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.busyRestoreEditorHelper",
          "source": "EditorManager.java:1237"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.busyRestoreEditor",
          "source": "EditorManager.java:1102"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager$7.run",
          "source": "EditorManager.java:1064"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.restoreEditor",
          "source": "EditorManager.java:1062"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager$Editor.getEditor",
          "source": "EditorManager.java:1648"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched",
          "source": "WorkbenchPage.java:2238"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor",
          "source": "WorkbenchPage.java:2165"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.access$7",
          "source": "WorkbenchPage.java:2157"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$9.run",
          "source": "WorkbenchPage.java:2143"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:2138"
        },
        {
          "method": "org.eclipse.ui.ide.IDE.openEditor",
          "source": "IDE.java:371"
        },
        {
          "method": "org.eclipse.ui.ide.IDE.openEditor",
          "source": "IDE.java:334"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor",
          "source": "EditorUtility.java:231"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor",
          "source": "EditorUtility.java:124"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.actions.OpenActionUtil.open",
          "source": "OpenActionUtil.java:49"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.OpenAction.run",
          "source": "OpenAction.java:164"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.OpenAction.run",
          "source": "OpenAction.java:150"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun",
          "source": "SelectionDispatchAction.java:212"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.run",
          "source": "SelectionDispatchAction.java:188"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.PackageExplorerActionGroup.handleOpen",
          "source": "PackageExplorerActionGroup.java:304"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart$4.open",
          "source": "PackageExplorerPart.java:805"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$2.run",
          "source": "StructuredViewer.java:658"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1021"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:757"
        },
        {
          "method": "org.eclipse.ui.internal.JFaceUtil$1.run",
          "source": "JFaceUtil.java:40"
        },
        {
          "method": "org.eclipse.jface.util.SafeRunnable.run",
          "source": "SafeRunnable.java:148"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.fireOpen",
          "source": "StructuredViewer.java:656"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleOpen",
          "source": "StructuredViewer.java:875"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$6.handleOpen",
          "source": "StructuredViewer.java:974"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireOpenEvent",
          "source": "OpenStrategy.java:243"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$2",
          "source": "OpenStrategy.java:238"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "OpenStrategy.java:277"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1012"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2778"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2472"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1570"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1534"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:306"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:228"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:338"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:151"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:268"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:260"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:887"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:871"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "89573",
      "date": "2005-03-30T16:45:02+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "89573",
  "bugId": "89573",
  "date": "2005-03-30T16:45:02+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}