{
  "comments": [
    "When I try to compare the two ajmap files in the attached eclipse project, I get\nthe following error and nothing displays in the viewer.\n\njava.lang.NullPointerException\nat\norg.eclipse.ajdt.core.model.ModelComparison.matchJavaElements(ModelComparison.java:77)\nat\norg.eclipse.ajdt.core.model.ModelComparison.removeMatchingRel(ModelComparison.java:84)\nat org.eclipse.ajdt.core.model.ModelComparison.compare(ModelComparison.java:49)\nat\norg.eclipse.ajdt.internal.ui.diff.ChangesView.performComparison(ChangesView.java:347)\nat org.eclipse.ajdt.internal.ui.diff.CompareAction.run(CompareAction.java:89)\nat org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:246)\nat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538)\nat\norg.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\nat\norg.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1380)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1404)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1389)\nat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:1237)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3060)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2712)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\nat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\nat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)",
    "Created an attachment (id\u003d26747)\nEclipse project that exhibits bug\n",
    "P.S. This bug is important to me because I\u0027m writing an article based on the\nproject and I want a screenshot from a particular use of the CCC tool.",
    "Hi Nick,\nThanks for the helpful project. I\u0027ve been able to reproduce and diagnose the\nproblem. A dev build with a fix should be available later today. I\u0027ll confirm\nhere when it is.\n\nThe problem is with the use of generics and the serialized form of the\ncrosscutting relationship map. These map files contain handle identifiers for\nall JavaElements (which includes the AspectJ subclasses) involved in\ncrosscutting relationships. One of the elements contains an incorrect handle\nindentifier, which  means that when the relationship model is loaded from the\nmap, it ends up containing a null element. The problem element is an intertype\ndeclared method with a generic parameterized type as an argument. It is given a\nhandle indentifier of:\n\n\u003dTestingAndDebugging/src\u003chiliting*AbstractHiliter.aj}AbstractHiliter?Hiliteable.setHilitedWords?QCollection\u003cQString;\u003e;\n\nbut it should (clearly!) be:\n\n\u003dTestingAndDebugging/src\u003chiliting*AbstractHiliter.aj}AbstractHiliter?Hiliteable.setHilitedWords?QCollection\\\u003cQString;\u003e;\n\nThe parameter is \"QCollection\u003cQString;\u003e\" but the \"\u003c\" character is used as a\npackage delimiter (as in \"src\u003chiliting\") so it needs to be escaped as\n\"QCollection\\\u003cQString;\u003e\"",
    "The fix is available in AJDT dev build \"1.3.0.20050901121950 for Eclipse 3.1\"\nonwards. You\u0027ll need to delete all the .ajmap files, do a clean build of your\nproject, and then recreate the .ajmap files.\n",
    "Fixed, and test added.\nOnly fixed for AJDT 1.3.0 for Eclipse 3.1, as generics don\u0027t apply to the\nEclipse 3.0 line."
  ],
  "commentCreationDates": [
    "2005-09-01T06:47:51+02:00",
    "2005-09-01T06:50:15+02:00",
    "2005-09-01T10:06:36+02:00",
    "2005-09-01T12:34:41+02:00",
    "2005-09-01T17:40:16+02:00",
    "2005-09-02T14:50:08+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ajdt.core.model.ModelComparison.matchJavaElements",
          "source": "ModelComparison.java:77"
        },
        {
          "method": "org.eclipse.ajdt.core.model.ModelComparison.removeMatchingRel",
          "source": "ModelComparison.java:84"
        },
        {
          "method": "org.eclipse.ajdt.core.model.ModelComparison.compare",
          "source": "ModelComparison.java:49"
        },
        {
          "method": "org.eclipse.ajdt.internal.ui.diff.ChangesView.performComparison",
          "source": "ChangesView.java:347"
        },
        {
          "method": "org.eclipse.ajdt.internal.ui.diff.CompareAction.run",
          "source": "CompareAction.java:89"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:246"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:538"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1380"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1404"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1389"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:1237"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3060"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2712"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1699"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1663"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:367"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "108552",
      "date": "2005-09-01T06:47:51+02:00",
      "product": "AJDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "108552",
  "bugId": "108552",
  "date": "2005-09-01T06:47:51+02:00",
  "product": "AJDT",
  "component": "UI",
  "severity": "normal"
}