{
  "comments": [
    "This occurred when saving a source in an AspectJ project with incremental \ncompilation turned on. This is using the 1.1.4 version of AJDT with Eclipse \n2.1.1\n\njava.lang.NullPointerException\nat org.eclipse.ajdt.internal.ui.editor.AspectJEditor$1.run\n(AspectJEditor.java:242)\nat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\nat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:98)\nat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:1815)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1549)\nat org.eclipse.jface.window.Window.runEventLoop(Window.java:583)\nat org.eclipse.jface.window.Window.open(Window.java:563)\nat org.eclipse.jface.dialogs.ErrorDialog.open(ErrorDialog.java:303)\nat org.eclipse.jface.dialogs.ErrorDialog.openError(ErrorDialog.java:366)\nat org.eclipse.jface.dialogs.ErrorDialog.openError(ErrorDialog.java:329)\nat org.eclipse.ajdt.internal.ui.ajde.ErrorHandler$2.run(ErrorHandler.java:119)\nat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\nat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:98)\nat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:1815)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1549)\nat org.eclipse.ui.internal.dialogs.EventLoopProgressMonitor.runEventLoop\n(EventLoopProgressMonitor.java:94)\nat org.eclipse.ui.internal.dialogs.EventLoopProgressMonitor.isCanceled\n(EventLoopProgressMonitor.java:73)\nat org.eclipse.core.runtime.ProgressMonitorWrapper.isCanceled\n(ProgressMonitorWrapper.java:87)\nat org.eclipse.core.runtime.ProgressMonitorWrapper.isCanceled\n(ProgressMonitorWrapper.java:87)\nat org.eclipse.core.internal.utils.Policy.checkCanceled(Policy.java:146)\nat org.eclipse.core.internal.events.BuildManager.basicBuild\n(BuildManager.java:192)\nat org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:151)\nat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:1006)\nat org.eclipse.core.runtime.Platform.run(Platform.java:413)\nat org.eclipse.core.internal.events.BuildManager.basicBuild\n(BuildManager.java:165)\nat org.eclipse.core.internal.events.BuildManager.basicBuildLoop\n(BuildManager.java:243)\nat org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:212)\nat org.eclipse.core.internal.resources.Workspace.endOperation\n(Workspace.java:884)\nat org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1600)\nat org.eclipse.ui.actions.WorkspaceModifyOperation.run\n(WorkspaceModifyOperation.java:85)\nat org.eclipse.ui.texteditor.AbstractTextEditor.performSaveOperation\n(AbstractTextEditor.java:3033)\nat \norg.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.performSaveOperati\non(CompilationUnitEditor.java:752)\nat org.eclipse.ajdt.internal.ui.editor.AspectJEditor.doSave\n(AspectJEditor.java:132)\nat org.eclipse.ui.internal.EditorManager$11.run(EditorManager.java:1090)\nat org.eclipse.ui.internal.EditorManager$8.run(EditorManager.java:960)\nat org.eclipse.jface.operation.ModalContext.runInCurrentThread\n(ModalContext.java:302)\nat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:252)\nat org.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.java:431)\nat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\nat org.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.java:428)\nat org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:1385)\nat org.eclipse.ui.internal.EditorManager.runProgressMonitorOperation\n(EditorManager.java:966)\nat org.eclipse.ui.internal.EditorManager.savePart(EditorManager.java:1095)\nat org.eclipse.ui.internal.WorkbenchPage.savePart(WorkbenchPage.java:2353)\nat org.eclipse.ui.internal.WorkbenchPage.saveEditor(WorkbenchPage.java:2365)\nat org.eclipse.ui.internal.SaveAction.run(SaveAction.java:57)\nat org.eclipse.jface.action.Action.runWithEvent(Action.java:842)\nat org.eclipse.ui.internal.WWinKeyBindingService.pressed\n(WWinKeyBindingService.java:214)\nat org.eclipse.ui.internal.WWinKeyBindingService$5.widgetSelected\n(WWinKeyBindingService.java:332)\nat org.eclipse.ui.internal.AcceleratorMenu$2.handleEvent\n(AcceleratorMenu.java:68)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:81)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:840)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1838)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1545)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1402)\nat org.eclipse.ui.internal.Workbench.run(Workbench.java:1385)\nat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:858)\nat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:291)\nat org.eclipse.core.launcher.Main.run(Main.java:747)\nat org.eclipse.core.launcher.Main.main(Main.java:583)",
    "Hmm.  I can\u0027t recreate this failure.  I can see where it is occurring, and I \ncan put in a guard against it - but I would like to know exactly how to create \nthe problem.  Some useful information would be:\n\n- Is it saving a .java or a .aj file?\n- Is the file really in the AspectJ project, or is it on a path outside of the \nproject and accessed through a source link?\n- What kind of task entries are in existence when the failure occurs?  Are \nthere compile time warnings? Compile time errors?\n\nAndy.",
    "I\u0027ve put the guards in.  At the moment, an AJDT event trace entry comes out \nwhen the NPE is about to hit.  This is temporary whilst we learn more about \nwhen this problem occurs.  I\u0027ve tried messing about with linked source folders \nbut still can\u0027t get it to occur.\n\nAndy.",
    "So many bugs seem to come back to this NPE that I thought i would investigate \nit properly.  It appears that problems occur when we try to add task markers \nto resources that don\u0027t exist as eclipse resources.  I have reproduced the \nscenario by:\n\nWith incremental on:\n- Open an editor on a specific resource in your project.\n- Compile the project (build button)\n- Delete (right click package view, delete) the same resource (this will close \nthe editor)\n- The .lst file is now wrong, to correct this go to a command line and \nreinstate the file you deleted (dont do it in eclipse) - you *did* back it up \ndidnt you :)\n- Now press the build button in eclipse again, the compiler will succeed as \nthe resource does exist on the disk, and you *should* get the error, due to us \ntrying to add markers to the resource that was removed.\n\nits a bit convaluted but does reproduce it for me.\n\nAnyway.  I\u0027ve now verified the guards do their job, and I also uncovered a \nmemory leak - when we close editors, we didn\u0027t unregister the outline view for \nthe editor from the AJDE infrastructure.  We would leak these outline views as \nyou open/close editors... not sure what the impact will be.\n\nSo, this is fixed, I believe.  Should be in the bsf update site in a day or \nso - currently bsf (best so far) builds are failing to build due to another \nproblem.",
    "*** Bug 44851 has been marked as a duplicate of this bug. ***",
    "*** Bug 44253 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2003-09-25T17:28:44+02:00",
    "2003-09-30T10:27:20+02:00",
    "2003-09-30T16:10:37+02:00",
    "2003-10-21T20:09:43+02:00",
    "2003-10-21T20:11:51+02:00",
    "2003-10-21T20:15:51+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ajdt.internal.ui.editor.AspectJEditor$1.run",
          "source": "AspectJEditor.java:242"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:98"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:1815"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1549"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:583"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:563"
        },
        {
          "method": "org.eclipse.jface.dialogs.ErrorDialog.open",
          "source": "ErrorDialog.java:303"
        },
        {
          "method": "org.eclipse.jface.dialogs.ErrorDialog.openError",
          "source": "ErrorDialog.java:366"
        },
        {
          "method": "org.eclipse.jface.dialogs.ErrorDialog.openError",
          "source": "ErrorDialog.java:329"
        },
        {
          "method": "org.eclipse.ajdt.internal.ui.ajde.ErrorHandler$2.run",
          "source": "ErrorHandler.java:119"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:98"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:1815"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1549"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.EventLoopProgressMonitor.runEventLoop",
          "source": "EventLoopProgressMonitor.java:94"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.EventLoopProgressMonitor.isCanceled",
          "source": "EventLoopProgressMonitor.java:73"
        },
        {
          "method": "org.eclipse.core.runtime.ProgressMonitorWrapper.isCanceled",
          "source": "ProgressMonitorWrapper.java:87"
        },
        {
          "method": "org.eclipse.core.runtime.ProgressMonitorWrapper.isCanceled",
          "source": "ProgressMonitorWrapper.java:87"
        },
        {
          "method": "org.eclipse.core.internal.utils.Policy.checkCanceled",
          "source": "Policy.java:146"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:192"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$1.run",
          "source": "BuildManager.java:151"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1006"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:413"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:165"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuildLoop",
          "source": "BuildManager.java:243"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.build",
          "source": "BuildManager.java:212"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.endOperation",
          "source": "Workspace.java:884"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1600"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation.run",
          "source": "WorkspaceModifyOperation.java:85"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor.performSaveOperation",
          "source": "AbstractTextEditor.java:3033"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.performSaveOperation",
          "source": "CompilationUnitEditor.java:752"
        },
        {
          "method": "org.eclipse.ajdt.internal.ui.editor.AspectJEditor.doSave",
          "source": "AspectJEditor.java:132"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager$11.run",
          "source": "EditorManager.java:1090"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager$8.run",
          "source": "EditorManager.java:960"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:302"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:252"
        },
        {
          "method": "org.eclipse.jface.window.ApplicationWindow$1.run",
          "source": "ApplicationWindow.java:431"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.jface.window.ApplicationWindow.run",
          "source": "ApplicationWindow.java:428"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.run",
          "source": "WorkbenchWindow.java:1385"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.runProgressMonitorOperation",
          "source": "EditorManager.java:966"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.savePart",
          "source": "EditorManager.java:1095"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.savePart",
          "source": "WorkbenchPage.java:2353"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.saveEditor",
          "source": "WorkbenchPage.java:2365"
        },
        {
          "method": "org.eclipse.ui.internal.SaveAction.run",
          "source": "SaveAction.java:57"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:842"
        },
        {
          "method": "org.eclipse.ui.internal.WWinKeyBindingService.pressed",
          "source": "WWinKeyBindingService.java:214"
        },
        {
          "method": "org.eclipse.ui.internal.WWinKeyBindingService$5.widgetSelected",
          "source": "WWinKeyBindingService.java:332"
        },
        {
          "method": "org.eclipse.ui.internal.AcceleratorMenu$2.handleEvent",
          "source": "AcceleratorMenu.java:68"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:81"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:840"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1838"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1545"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1402"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1385"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:858"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:291"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:747"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:583"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "43662",
      "date": "2003-09-25T17:28:44+02:00",
      "product": "AJDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "43662",
  "bugId": "43662",
  "date": "2003-09-25T17:28:44+02:00",
  "product": "AJDT",
  "component": "Core",
  "severity": "normal"
}