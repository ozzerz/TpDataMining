{
  "comments": [
    "inter-type declaration on a generic inner class crashes the compiler:\n\nclass Outer {\n  class Inner {}\n  class Generic_Inner\u003cT\u003e {}\n}\n\nclass Generic_Outer\u003cT\u003e {\n}\n\naspect Injector {\n  int Outer.outer; // works\n  int Outer.Inner.inner; // works\n  int Generic_Outer.outer; // works\n  int Outer.Generic_Inner.inner; // crashes\n}\n\n\n/home/user/sgelin3/dev/java/ajc/new_bug/Bug.java [error] Internal compiler error\njava.lang.RuntimeException: can\u0027t handle: class Generic_Inner#RAW\n        extends NULL TYPENULL SUPERINTERFACES\n        enclosing type : OuterNULL FIELDSNULL METHODS\n\n\n        at\norg.aspectj.ajdt.internal.compiler.lookup.InterTypeScope.makeSourceTypeBinding(InterTypeScope.java:35)\n        at\norg.aspectj.ajdt.internal.compiler.lookup.InterTypeScope.\u003cinit\u003e(InterTypeScope.java:28)\n        at\norg.aspectj.ajdt.internal.compiler.ast.InterTypeDeclaration.resolve(InterTypeDeclaration.java:101)\n        at\norg.aspectj.ajdt.internal.compiler.ast.InterTypeFieldDeclaration.resolve(InterTypeFieldDeclaration.java:141)\n        at\norg.aspectj.org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1076)\n        at\norg.aspectj.ajdt.internal.compiler.ast.AspectDeclaration.resolve(AspectDeclaration.java:110)\n        at\norg.aspectj.org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1125)\n...",
    "fix for M3.",
    "Bug occurs because InterTypeScope.makeSourceTypeBinding() doesn\u0027t acknowledge\nthat it may be passed a ParameterizedTypeBinding or a RawTypeBinding (the latter\nis a subclass of the former).  Neither of these are SourceTypeBindings *however*\nboth of them contain a field called \u0027type\u0027 that refers to the generic type which\nthey are based upon.  The fix is to recognize the PTB hierarchy and if it is\nbeing used return the type field.  Bit more testing, then I\u0027ll check in the fix.",
    "Fix checked in, waiting on build before closing.",
    "Fix available, see aspectj download page: aspectj-DEVELOPMENT-20050614164300.jar"
  ],
  "commentCreationDates": [
    "2005-06-09T17:21:17+02:00",
    "2005-06-09T17:59:45+02:00",
    "2005-06-14T13:11:49+02:00",
    "2005-06-14T16:53:22+02:00",
    "2005-06-14T18:04:45+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.RuntimeException",
      "message": "can\u0027t handle: class Generic_Inner#RAW         extends NULL TYPENULL SUPERINTERFACES         enclosing type : OuterNULL FIELDSNULL METHODS",
      "elements": [
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.InterTypeScope.makeSourceTypeBinding",
          "source": "InterTypeScope.java:35"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.lookup.InterTypeScope.\u003cinit\u003e",
          "source": "InterTypeScope.java:28"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.ast.InterTypeDeclaration.resolve",
          "source": "InterTypeDeclaration.java:101"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.ast.InterTypeFieldDeclaration.resolve",
          "source": "InterTypeFieldDeclaration.java:141"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve",
          "source": "TypeDeclaration.java:1076"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.ast.AspectDeclaration.resolve",
          "source": "AspectDeclaration.java:110"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve",
          "source": "TypeDeclaration.java:1125"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "99168",
      "date": "2005-06-09T17:21:17+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "99168",
  "bugId": "99168",
  "date": "2005-06-09T17:21:17+02:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}