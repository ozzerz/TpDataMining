{
  "comments": [
    "Driver: tptp.runtime-TPTP-4.4.0-200705310943 (4.4 RC2)\nO/S: Windows XP IA-32\n\nTo reproduce:\n1. Launch the Heap Profiler in \"controlled\" or \"enabled\" mode:\njava -agentlib:JPIBootLoader\u003dJPIAgent:server\u003dcontrolled;HeapProf \u003cJava Class\u003e\n\n2. Attach to the Agent and start Heap profiling\n3. From the Profiling Monitor view, click the \"Run Garbage Collection\" action. The operation will fail (see below) and Garbage Collection will not be executed.\n\nNote that this exception is not shown to the user (no error dialog) but is printed to the Console. It can be easily seen when running the JVMTI Client in debug mode.\n\nError details:\n\njava.net.SocketException: Socket is closed\n\tat java.net.Socket.getOutputStream(Socket.java:790)\n\tat org.eclipse.tptp.platform.execution.client.core.internal.ConnectionImpl.sendMessage(ConnectionImpl.java:491)\n\tat org.eclipse.tptp.platform.execution.client.core.internal.AgentController.sendCommand(AgentController.java:1356)\n\tat org.eclipse.tptp.platform.execution.client.agent.internal.AgentImpl.sendCommand(AgentImpl.java:347)\n\tat org.eclipse.tptp.platform.jvmti.client.internal.actions.RunGCActionDelegate.run(RunGCActionDelegate.java:103)\n\tat org.eclipse.tptp.platform.jvmti.client.internal.actions.RunGCActionDelegate.doAction(RunGCActionDelegate.java:45)\n\tat org.eclipse.tptp.platform.jvmti.client.internal.controlproviders.TIAgentControlProvider$RunGCControlItem.run(TIAgentControlProvider.java:100)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:498)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:545)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490)\n\tat org.eclipse.jface.action.ActionContributionItem$6.handleEvent(ActionContributionItem.java:443)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3682)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3293)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353)\n\tat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219)\n\tat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:504)\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:443)\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1169)\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1144)",
    "Are you seeing this only in the debug scenario and not otherwise.",
    "(In reply to comment #1)\nThis bug happens with a \"release\" build. The error is visible only in the console, so you must have a Console open (e.g, when running the Client from the development environment) or use java.exe (instead of javaw.exe) to launch Eclipse.\u0027",
    "The patch for the defect has been checked in - will resolve in the next driver.\n",
    "Bug still exists in latest driver (4.4.0-200706070100).\nI built a new version from CVS HEAD and the bug still exists.\n",
    "Alexander,\n Prioritize the testing with this defect. This is a high priority defect to be resolved",
    "Please add size estimates to this defect",
    "At last driver 4.4.0.1-200707040100 this defect can\u0027t be reproduced.\nChange in behavior is related to fix for Bug 193128. ",
    "I confirm. Please mark this bug as resolved/fixed in 4.4.0.1.\n",
    "defect fixed"
  ],
  "commentCreationDates": [
    "2007-06-06T12:59:36+02:00",
    "2007-06-06T16:32:41+02:00",
    "2007-06-06T16:35:14+02:00",
    "2007-06-06T23:57:41+02:00",
    "2007-06-11T10:00:35+02:00",
    "2007-06-11T19:29:43+02:00",
    "2007-06-26T16:24:01+02:00",
    "2007-07-04T14:13:21+02:00",
    "2007-07-04T14:52:01+02:00",
    "2007-07-04T14:54:44+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.net.SocketException",
      "message": "Socket is closed",
      "elements": [
        {
          "method": "java.net.Socket.getOutputStream",
          "source": "Socket.java:790"
        },
        {
          "method": "org.eclipse.tptp.platform.execution.client.core.internal.ConnectionImpl.sendMessage",
          "source": "ConnectionImpl.java:491"
        },
        {
          "method": "org.eclipse.tptp.platform.execution.client.core.internal.AgentController.sendCommand",
          "source": "AgentController.java:1356"
        },
        {
          "method": "org.eclipse.tptp.platform.execution.client.agent.internal.AgentImpl.sendCommand",
          "source": "AgentImpl.java:347"
        },
        {
          "method": "org.eclipse.tptp.platform.jvmti.client.internal.actions.RunGCActionDelegate.run",
          "source": "RunGCActionDelegate.java:103"
        },
        {
          "method": "org.eclipse.tptp.platform.jvmti.client.internal.actions.RunGCActionDelegate.doAction",
          "source": "RunGCActionDelegate.java:45"
        },
        {
          "method": "org.eclipse.tptp.platform.jvmti.client.internal.controlproviders.TIAgentControlProvider$RunGCControlItem.run",
          "source": "TIAgentControlProvider.java:100"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:498"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:545"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:490"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$6.handleEvent",
          "source": "ActionContributionItem.java:443"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:938"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3682"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3293"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2389"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2353"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2219"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:466"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:461"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:153"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:363"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:176"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:504"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:443"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1169"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1144"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "191215",
      "date": "2007-06-06T12:59:36+02:00",
      "product": "TPTP Profiling",
      "component": "Platform.Agents.JVMTI",
      "severity": "major"
    }
  ],
  "groupId": "191215",
  "bugId": "191215",
  "date": "2007-06-06T12:59:36+02:00",
  "product": "TPTP Profiling",
  "component": "Platform.Agents.JVMTI",
  "severity": "major"
}