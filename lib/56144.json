{
  "comments": [
    "0324 integration build\n\nProgram.isGnomeDesktop() is answering false when it shouldn\u0027t.",
    "Grant\u0027s machine is set up with Mandrake. There are 2 unusual things on his \nsetting\n- the window manager is not setting the _WIN_SUPPORTING_WM_CHECK property on \nthe root window - as it would to mark it is gnome compliant. This causes the \ngnome detection to rigthfully fail. (see \nhttp://developer.gnome.org/doc/standards/wm/c4.html. in particular: \"There is \na single unambiguous way to detect if there currently is a GNOME compliant \nWindow Manager running. It is the job of the Window Manager to set up a few \nthings to make this possible. Using the following method it is also possible \nfor applications to detect compliance by receiving an event when the Window \nManager exits.\n\nTo do this the Window Manager should create a Window, that is a child of the \nroot window. There is no need to map it, just create it. The Window Manager \nmay reuse ANY window it has for this purpose - even if it is mapped, just as \nlong as the window is never destroyed while the Window Manager is running.\n\nOnce the Window is created the Window Manager should set a property on the \nroot window of the name _WIN_SUPPORTING_WM_CHECK, and type CARDINAL. The \natom\u0027s data would be a CARDINAL that is the Window ID of the window that was \ncreated above. The window that was created would ALSO have this property set \non it with the same values and type.\"\n)\n- our swt-gnome library built on RH EL3 does not load under Mandrake. For some \nreason, on RH EL3, pkg-config --libs gnome-vfs-module-2.0 libgnome-2.0 \nlibgnomeui-2.0 adds a dependency on liblink.so. The same command on Mandrake \ndoes not. This library is not available under Mandrake. When recompiling the \nlibrary for Mandrake and forcing the gnome detection, it works.\n\nBecause the window manager does not identify itself as being gnome compliant, \nthis PR will be closed for now. This can be revisited if supported \ndistributions such as RH and suse start to exhibit the same behaviour.",
    "Actually, reopening to discuss further the issue Cherie is having with this \nAPI.\nCherie, can you confirm the following fails on your GNOME RH8 machine:\n\nimport org.eclipse.swt.*;\nimport org.eclipse.swt.widgets.*;\nimport org.eclipse.swt.graphics.*;\nimport org.eclipse.swt.program.*;\n\npublic class PR56144 {\n\n\tpublic static void main(String[] args) {\n\t\tDisplay display \u003d new Display();\n\t\tboolean res \u003d Program.launch\n(\"/home/myself/eclipse/workspace/.metadata/.log\"); // set your own path here\n\t\tSystem.out.println(\"launch: \"+res);\n\t\tShell shell \u003d new Shell(display);\n\t\tshell.setText(\"PR\");\n\t\tshell.open();\n\t\twhile (!shell.isDisposed()) {\n\t\t\tif (!display.readAndDispatch())\n\t\t\t\tdisplay.sleep();\n\t\t}\t\t\n\t}\n}\n\n- can you paste the output of the following command:\nxprop -root | grep WM_CHECK\n\nthanks!",
    "Hi Christophe,\n\nOn my machine I get the following error running your code:\nException in thread \"main\" java.lang.NoClassDefFoundError:\norg/eclipse/swt/internal/gtk/OS\n\tat org.eclipse.swt.internal.Converter.wcsToMbcs(Converter.java:63)\n\tat org.eclipse.swt.internal.Converter.wcsToMbcs(Converter.java:54)\n\tat org.eclipse.swt.widgets.Display.\u003cclinit\u003e(Display.java:112)\n\tat PR56144.main(PR56144.java:8)\n\n\noutput of xprop:\n_WIN_SUPPORTING_WM_CHECK(CARDINAL) \u003d 8388614\n_NET_SUPPORTING_WM_CHECK(WINDOW): window id # 0x800006",
    "\u003eException in thread \"main\" java.lang.NoClassDefFoundError:\n\u003eorg/eclipse/swt/internal/gtk/OS\n\n1) I assume you are running this snippet by adding the swt.jar from the \n\u003ceclipse\u003e/plugins/org.eclipse.swt.gtk_3.0.0/ws folder to your classpath. If \nthat\u0027s the case, can you also add the other jars in this folder (in \nparticular: swt-pi.jar).\n2) You then need to add the following argument into the Run dialog for this \napplication. In the Arguments tab, enter the following into the \"VM \narguments:\" field:\n-Djava.library.path\u003d\u003ceclipse\u003e/plugins/org.eclipse.swt.gtk_3.0.0/os/linux/x86\n\nFor both 1) and 2), \u003ceclipse\u003e needs to be replaced with the actual location of \nyour eclipse.\n\nThe snippet should then execute without further error - it seems quiet \ncomplicated to set up the first time isnt\u0027it ;-)\n",
    "Not at all :)  After adding those lovely jars and arguments, the snippet does \nin fact run without further complications.  I\u0027m looking at a shiney new shell \non my screen.\n\nSince I require the extra java libraries, would it imply that my Window Manager \nis not Gnome compliant?\n\n",
    "ldd output as requested on eclipse.platform.swt:\n\ndemonbane@Thief:/usr/lib/eclipse$ ldd libswt-gnome-gtk-2135.so\n                libgnomevfs-2.so.0 \u003d\u003e /usr/lib/libgnomevfs-2.so.0 (0x40010000)\n        libbonobo-activation.so.4 \u003d\u003e /usr/lib/libbonobo-activation.so.4 (0x4006e000)\n        libORBit-2.so.0 \u003d\u003e /usr/lib/libORBit-2.so.0 (0x40083000)\n        libgobject-2.0.so.0 \u003d\u003e /usr/lib/libgobject-2.0.so.0 (0x41272000)\n        libgthread-2.0.so.0 \u003d\u003e /usr/lib/libgthread-2.0.so.0 (0x400d2000)\n        libm.so.6 \u003d\u003e /lib/tls/libm.so.6 (0x400d7000)\n        libgmodule-2.0.so.0 \u003d\u003e /usr/lib/libgmodule-2.0.so.0 (0x4145d000)\n        libdl.so.2 \u003d\u003e /lib/tls/libdl.so.2 (0x400fb000)\n        libglib-2.0.so.0 \u003d\u003e /usr/lib/libglib-2.0.so.0 (0x4117e000)\n        libpthread.so.0 \u003d\u003e /lib/tls/libpthread.so.0 (0x400fe000)\n        libc.so.6 \u003d\u003e /lib/tls/libc.so.6 (0x4010d000)\n        libgconf-2.so.4 \u003d\u003e /usr/lib/libgconf-2.so.4 (0x40248000)\n        libbonobo-2.so.0 \u003d\u003e /usr/lib/libbonobo-2.so.0 (0x40271000)\n        libxml2.so.2 \u003d\u003e /usr/lib/libxml2.so.2 (0x402cd000)\n        libz.so.1 \u003d\u003e /usr/lib/libz.so.1 (0x4160d000)\n        libgnutls.so.10 \u003d\u003e /usr/lib/libgnutls.so.10 (0x403c6000)\n        librt.so.1 \u003d\u003e /lib/tls/librt.so.1 (0x40426000)\n        libORBitCosNaming-2.so.0 \u003d\u003e /usr/lib/libORBitCosNaming-2.so.0 (0x4042c000)\n        libpopt.so.0 \u003d\u003e /lib/libpopt.so.0 (0x4043a000)\n        /lib/ld-linux.so.2 \u003d\u003e /lib/ld-linux.so.2 (0x80000000)\n        libtasn1.so.2 \u003d\u003e /usr/lib/libtasn1.so.2 (0x40443000)\n        libgcrypt.so.7 \u003d\u003e /usr/lib/libgcrypt.so.7 (0x40453000)\n        libgpg-error.so.0 \u003d\u003e /usr/lib/libgpg-error.so.0 (0x4049f000)\n        libnsl.so.1 \u003d\u003e /lib/tls/libnsl.so.1 (0x404a3000)\n",
    "The _WIN_SUPPORTING_WM_CHECK hint should never be checked for, there are no more\nof these old GNOME-specific hints.  We should be only looking for\n_NET_SUPPORTING_WM_CHECK from the wm-spec.\n\nhttp://freedesktop.org/Standards/wm-spec\nhttp://mail.gnome.org/archives/wm-spec-list/2003-March/msg00076.html",
    "This is not a blocking problem because it does not prevent Eclipse from \nfunctioning - it just means that a feature is not enabled.  Downgrading \nseverity and priorty.",
    "The problems described in this bug are fixed in 3.1:\n\n  1. We check for _NET_SUPPORTING_WM_CHECK (although we should really not\n     even require this).\n  2. We don\u0027t link to liblinc anymore (it was never required anyway, this was\n     a bug in GNOME 2.2).\n\nMarking as WORKSFORME."
  ],
  "commentCreationDates": [
    "2004-03-25T14:58:13+01:00",
    "2004-03-25T20:49:43+01:00",
    "2004-03-25T21:20:52+01:00",
    "2004-03-25T22:12:28+01:00",
    "2004-03-26T14:52:03+01:00",
    "2004-03-26T15:59:31+01:00",
    "2004-05-01T02:05:13+02:00",
    "2004-05-04T16:51:54+02:00",
    "2004-05-25T22:32:07+02:00",
    "2005-04-24T05:41:19+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NoClassDefFoundError",
      "message": "org/eclipse/swt/internal/gtk/OS",
      "elements": [
        {
          "method": "org.eclipse.swt.internal.Converter.wcsToMbcs",
          "source": "Converter.java:63"
        },
        {
          "method": "org.eclipse.swt.internal.Converter.wcsToMbcs",
          "source": "Converter.java:54"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.\u003cclinit\u003e",
          "source": "Display.java:112"
        },
        {
          "method": "PR56144.main",
          "source": "PR56144.java:8"
        }
      ],
      "number": 0,
      "commentIndex": 3,
      "bugId": "56144",
      "date": "2004-03-25T22:12:28+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "major"
    }
  ],
  "groupId": "56144",
  "bugId": "56144",
  "date": "2004-03-25T14:58:13+01:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "major"
}