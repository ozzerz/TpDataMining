{
  "comments": [
    "Compiling the following two files (in package member_conflict) with\n\najc -Xlint -incremental -sourceroots member_conflict\n\nyeilds a well-formed error.\n\nFiles:\n----\npublic class SomeClass {\n\n    public String toString() {\n        return \"from SomeClass\";\n    }\n}\n\npublic aspect Conflicter {\n\n    public String SomeClass.toString() {\n        return \"from Conflicter\";\n    }\n\n    public static void main(String[] args) {\n       int i \u003d 0;\n    }\n}\n\nHowever, modifying Conflicter so that it reads:\n\npublic aspect Conflicter {\n\n//    public String SomeClass.toString() {\n//        return \"from Conflicter\";\n//    }\n\n    public static void main(String[] args) {\n       int i \u003d 0;\n    }\n}\n\nsaving the file and invoking the incremental compilation yeilds a\nNullPointerException (full output below).\n\nC:\\aopbook_tech\\aop7\u003eajc -Xlint -incremental -sourceroots member_conflict\ninter-type declaration from member_conflict.Conflicter conflicts with existing\nmember: java.lang.String member_conflict.\nSomeClass.toString()\ninter-type declaration from member_conflict.Conflicter conflicts with existing\nmember: java.lang.String member_conflict.\nSomeClass.toString()\n\n2 errors\n    press enter to recompile (q to quit):\n\nException thrown from AspectJ 1.1beta4\n\nThis might be logged as a bug already -- see the bug database at\n  http://dev.eclipse.org (product: AspectJ, component: compiler)\n\nBugs for exceptions thrown have titles File:line from the top stack,\ne.g., \"SomeFile.java:243\"\n\nIf you don\u0027t find the exception below in a bug, please add a new bug\nTo make the bug a priority, please include a test program\nthat can reproduce this exception.\nnull\njava.lang.NullPointerException\n        at org.eclipse.jdt.internal.core.builder.State.copyFrom(State.java:60)\n        at\norg.eclipse.jdt.internal.core.builder.IncrementalImageBuilder.\u003cinit\u003e(IncrementalImageBuilder.java:41)\n        at\norg.aspectj.ajdt.internal.core.builder.AjBuildManager$IncrementalBuilder.\u003cinit\u003e(AjBuildManager.java:661)\n        at\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.getIncrementalBuilder(AjBuildManager.java:127)\n        at\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.incrementalBuild(AjBuildManager.java:159)\n        at org.aspectj.ajdt.ajc.AjdtCommand.repeatCommand(AjdtCommand.java:90)\n        at org.aspectj.tools.ajc.Main.run(Main.java:203)\n        at org.aspectj.tools.ajc.Main.runMain(Main.java:138)\n        at org.aspectj.tools.ajc.Main.main(Main.java:58)\n\n\n1 fail|abort, 2 errors",
    "this bug is fixed in the current cvs tree with a test in scripts/incr.py\n\nthis bug revealed some more serious issues in the handling of types across \nincremental compiles and between the compiler and the weaver that must be \naddressed before any candidate"
  ],
  "commentCreationDates": [
    "2003-01-17T04:40:04+01:00",
    "2003-01-22T00:52:19+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.builder.State.copyFrom",
          "source": "State.java:60"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.IncrementalImageBuilder.\u003cinit\u003e",
          "source": "IncrementalImageBuilder.java:41"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager$IncrementalBuilder.\u003cinit\u003e",
          "source": "AjBuildManager.java:661"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.getIncrementalBuilder",
          "source": "AjBuildManager.java:127"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.incrementalBuild",
          "source": "AjBuildManager.java:159"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.repeatCommand",
          "source": "AjdtCommand.java:90"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.run",
          "source": "Main.java:203"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.runMain",
          "source": "Main.java:138"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.main",
          "source": "Main.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "29684",
      "date": "2003-01-17T04:40:04+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "major"
    }
  ],
  "groupId": "29684",
  "bugId": "29684",
  "date": "2003-01-17T04:40:04+01:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "major"
}