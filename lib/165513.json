{
  "comments": [
    "CVS synchronization crashes when using Apple\u0027s Java 1.5.06. When \nswitching to Java 1.42 (using the -vm ... argument), synchronization \n(or more precise SSH) works as expected. I guess that Apple removed \nsome crypto libraries in 1.5 that were previously available... \nThis is on MacOSX 1.4.8.\n\nMy CVSROOT looks something like this:\n\n:extssh:username@host:/path/to/repo\n\n\nThe \"Errors\" view has this to say:\n\neclipse.buildId\u003dM20060921-0945\njava.version\u003d1.5.0_06\njava.vendor\u003dApple Computer, Inc.\nBootLoader constants: OS\u003dmacosx, ARCH\u003dppc, WS\u003dcarbon, NL\u003den_US\nFramework arguments:  -keyring /Users/.../.eclipse_keyring -showlocation\nCommand-line arguments:  -os macosx -ws carbon -keyring /Users/.../.eclipse_keyring -consoleLog -showlocation\n\nError\nWed Nov 22 20:12:56 CET 2006\nAn internal error occurred during: \"Synchronizing CVS\".\n\njava.lang.InternalError: Could not start up the CDSA libraries.\nat java.lang.ClassLoader$NativeLibrary.load(Native Method)\nat java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1751)\nat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1668)\nat java.lang.Runtime.loadLibrary0(Runtime.java:822)\nat java.lang.System.loadLibrary(System.java:992)\nat com.apple.crypto.provider.HmacCore.\u003cclinit\u003e(HmacCore.java:26)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:494)\nat java.lang.Class.newInstance0(Class.java:350)\nat java.lang.Class.newInstance(Class.java:303)\nat java.security.Provider$Service.newInstance(Provider.java:1130)\nat javax.crypto.Mac.a(DashoA12275)\nat javax.crypto.Mac.init(DashoA12275)\nat com.jcraft.jsch.jce.HMACMD5.init(Unknown Source)\nat com.jcraft.jsch.Session.updateKeys(Unknown Source)\nat com.jcraft.jsch.Session.receive_newkeys(Unknown Source)\nat com.jcraft.jsch.Session.connect(Unknown Source)\nat com.jcraft.jsch.Session.connect(Unknown Source)\nat org.eclipse.team.internal.ccvs.ssh2.JSchSession.createSession(JSchSession.java:482)\n\u003csnip\u003e",
    "(In reply to comment #0)\n\u003e CVS synchronization crashes when using Apple\u0027s Java 1.5.06. When \n\u003e switching to Java 1.42 (using the -vm ... argument), synchronization \n\u003e (or more precise SSH) works as expected. I guess that Apple removed \n\u003e some crypto libraries in 1.5 that were previously available... \n\u003e This is on MacOSX 1.4.8.\n\nI don\u0027t have MacOSX 1.4.8, but I can not reproduce such a problem on\nMacOSX 10.4.8(PowerPC) with java 1.5.0_06.\n\nEven if your guess is correct....\n\n\u003e An internal error occurred during: \"Synchronizing CVS\".\n\u003e java.lang.InternalError: Could not start up the CDSA libraries.\n\u003e at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n\n\u0027NoSuchAlgorithm\u0027 exception will be thrown and such an internal error\nmust not be thrown.\n\nIMHO, there may be a problem in your java 1.5 installation.\n",
    "(In reply to comment #1)\n\u003e IMHO, there may be a problem in your java 1.5 installation.\n\nFunny thing is that the combination Eclipse 3.2.0 + Java 1.5.06 works as expected... Anyway, I will try to reinstall Java 1.5.06 (don\u0027t know how yet) and see if this helps.",
    "If the error happens with 3.2.1 and not with 3.2.0 then there is probably something wrong with your 3.2.1 install because there should be no differences between the two w.r.t SSH connections. You may want to reinstall 3.2.1 and try again.",
    "(In reply to comment #3)\n\u003e If the error happens with 3.2.1 and not with 3.2.0 then there is probably\n\u003e something wrong with your 3.2.1 install because there should be no differences\n\u003e between the two w.r.t SSH connections. You may want to reinstall 3.2.1 and try\n\u003e again.\n\nI already tried that - SSH worked well with 3.2.0; I then upgraded to 3.2.1 using Software Updates-\u003eFind and Install. After I noticed that SSH no longer works, I reinstalled 3.2.1 from tar.gz but this didn\u0027t help either.\n\nNext thing I will try is to use the JSch library directly for establishing an SSH connection and see if this works. ",
    "(In reply to comment #3)\n\u003e If the error happens with 3.2.1 and not with 3.2.0 then there is probably\n\u003e something wrong with your 3.2.1 install because there should be no differences\n\u003e between the two w.r.t SSH connections. You may want to reinstall 3.2.1 and try\n\u003e again.\n\nHere are some news... Reinstalled 3.2.0 and now the crash happens there aswell :-/ Hmmm I could swear that i was running 3.2.0 before.\n\n\nHowever, I can reproduce the bug using using JSch 0.1.28 + Java 1.5.0_06:\n\n$ java -version\njava version \"1.5.0_06\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_06-112)\nJava HotSpot(TM) Client VM (build 1.5.0_06-64, mixed mode, sharing)\n\n$ java -cp ../dist/lib/jsch-20061123.jar:. Shell\nCSSM_ModuleLoad(): DL_MDS_ERROR\nCouldn\u0027t find com/apple/crypto/provider/KeychainStore\nException in thread \"main\" java.lang.InternalError: Could not start up the CDSA libraries.\n        at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n        at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1751)\n        at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1668)\n        at java.lang.Runtime.loadLibrary0(Runtime.java:822)\n        at java.lang.System.loadLibrary(System.java:992)\n        at com.apple.crypto.provider.HmacCore.\u003cclinit\u003e(HmacCore.java:26)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:494)\n        at java.lang.Class.newInstance0(Class.java:350)\n        at java.lang.Class.newInstance(Class.java:303)\n        at java.security.Provider$Service.newInstance(Provider.java:1130)\n        at javax.crypto.Mac.a(DashoA12275)\n        at javax.crypto.Mac.init(DashoA12275)\n        at com.jcraft.jsch.jce.HMACMD5.init(Unknown Source)\n        at com.jcraft.jsch.Session.updateKeys(Unknown Source)\n        at com.jcraft.jsch.Session.receive_newkeys(Unknown Source)\n        at com.jcraft.jsch.Session.connect(Unknown Source)\n        at Shell.main(Shell.java:35)\n\nRunning the \"Shell\" example from JSch 0.1.30 using Java 1.5.0_06 works as expected.\n\nSo (at least on my system) it looks like this:\n\n            |Java 1.5.0_06 | 1.4.2_09\nJSch 0.1.28 | CRASHES      | OK\nJSch 0.1.30 | OK           | OK\n",
    "(In reply to comment #5)\n\u003e So (at least on my system) it looks like this:\n\u003e             |Java 1.5.0_06 | 1.4.2_09\n\u003e JSch 0.1.28 | CRASHES      | OK\n\u003e JSch 0.1.30 | OK           | OK\n\nThat is another problem.  I still guess that there is a problem in your\nJava 1.5.0_06 installation.\n\nThe reason for \u0027OK on Java 1.5.0_06 with jsch 0.1.30\u0027 is that\nsince jsch 0.1.30 it will not use HMAC{MD5/SHA-1} given by JCE because of\nthe memory leak problem, which occurrs only on MacOSX.\n\nFor your happiness, I\u0027ll recommend you to update jsch version at the update site,\n  http://eclipse.jcraft.com/\nHowever, please note that I have enjoyed Eclipse SDK 3.2.1 without any\nupdating and will suggest to change the status of this issue to INVALID or \nWORKSFORME.\n",
    "(In reply to comment #6)\n\u003e That is another problem.  I still guess that there is a problem in your\n\u003e Java 1.5.0_06 installation.\n\nDiscovered lots of \"MDS Error: bad system DB file\" messages in the syslog. So I rebooted my Mac in \"Safe Mode\" which magically repaired those DB files. After that, the problem is gone.\n\nSetting this bug to \"INVALID\".",
    "(In reply to comment #7)\n\u003e Discovered lots of \"MDS Error: bad system DB file\" messages in the syslog. So I\n\u003e rebooted my Mac in \"Safe Mode\" which magically repaired those DB files. After\n\u003e that, the problem is gone.\n\nI\u0027m newbie for MacOSX and it is useful tips/info for me, at least.\n\n\u003e Setting this bug to \"INVALID\".\n\nThank you for your contribution!\n\n"
  ],
  "commentCreationDates": [
    "2006-11-22T19:38:07+01:00",
    "2006-11-23T02:03:44+01:00",
    "2006-11-23T08:24:18+01:00",
    "2006-11-23T13:40:54+01:00",
    "2006-11-23T18:00:16+01:00",
    "2006-11-23T20:05:03+01:00",
    "2006-11-24T01:38:13+01:00",
    "2006-11-24T07:44:19+01:00",
    "2006-11-24T15:43:41+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.InternalError",
      "message": "Could not start up the CDSA libraries.",
      "elements": [
        {
          "method": "java.lang.ClassLoader$NativeLibrary.load",
          "source": "Native Method"
        },
        {
          "method": "java.lang.ClassLoader.loadLibrary0",
          "source": "ClassLoader.java:1751"
        },
        {
          "method": "java.lang.ClassLoader.loadLibrary",
          "source": "ClassLoader.java:1668"
        },
        {
          "method": "java.lang.Runtime.loadLibrary0",
          "source": "Runtime.java:822"
        },
        {
          "method": "java.lang.System.loadLibrary",
          "source": "System.java:992"
        },
        {
          "method": "com.apple.crypto.provider.HmacCore.\u003cclinit\u003e",
          "source": "HmacCore.java:26"
        },
        {
          "method": "sun.reflect.NativeConstructorAccessorImpl.newInstance0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeConstructorAccessorImpl.newInstance",
          "source": "NativeConstructorAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingConstructorAccessorImpl.newInstance",
          "source": "DelegatingConstructorAccessorImpl.java:27"
        },
        {
          "method": "java.lang.reflect.Constructor.newInstance",
          "source": "Constructor.java:494"
        },
        {
          "method": "java.lang.Class.newInstance0",
          "source": "Class.java:350"
        },
        {
          "method": "java.lang.Class.newInstance",
          "source": "Class.java:303"
        },
        {
          "method": "java.security.Provider$Service.newInstance",
          "source": "Provider.java:1130"
        },
        {
          "method": "javax.crypto.Mac.a",
          "source": "DashoA12275"
        },
        {
          "method": "javax.crypto.Mac.init",
          "source": "DashoA12275"
        },
        {
          "method": "com.jcraft.jsch.jce.HMACMD5.init",
          "source": "Unknown Source"
        },
        {
          "method": "com.jcraft.jsch.Session.updateKeys",
          "source": "Unknown Source"
        },
        {
          "method": "com.jcraft.jsch.Session.receive_newkeys",
          "source": "Unknown Source"
        },
        {
          "method": "com.jcraft.jsch.Session.connect",
          "source": "Unknown Source"
        },
        {
          "method": "com.jcraft.jsch.Session.connect",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.team.internal.ccvs.ssh2.JSchSession.createSession",
          "source": "JSchSession.java:482"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "165513",
      "date": "2006-11-22T19:38:07+01:00",
      "product": "Platform",
      "component": "CVS",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.InternalError",
      "message": "Could not start up the CDSA libraries. \u003e",
      "elements": [
        {
          "method": "java.lang.ClassLoader$NativeLibrary.load",
          "source": "Native Method"
        }
      ],
      "number": 1,
      "commentIndex": 1,
      "bugId": "165513",
      "date": "2006-11-23T02:03:44+01:00",
      "product": "Platform",
      "component": "CVS",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.InternalError",
      "message": "Could not start up the CDSA libraries.",
      "elements": [
        {
          "method": "java.lang.ClassLoader$NativeLibrary.load",
          "source": "Native Method"
        },
        {
          "method": "java.lang.ClassLoader.loadLibrary0",
          "source": "ClassLoader.java:1751"
        },
        {
          "method": "java.lang.ClassLoader.loadLibrary",
          "source": "ClassLoader.java:1668"
        },
        {
          "method": "java.lang.Runtime.loadLibrary0",
          "source": "Runtime.java:822"
        },
        {
          "method": "java.lang.System.loadLibrary",
          "source": "System.java:992"
        },
        {
          "method": "com.apple.crypto.provider.HmacCore.\u003cclinit\u003e",
          "source": "HmacCore.java:26"
        },
        {
          "method": "sun.reflect.NativeConstructorAccessorImpl.newInstance0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeConstructorAccessorImpl.newInstance",
          "source": "NativeConstructorAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingConstructorAccessorImpl.newInstance",
          "source": "DelegatingConstructorAccessorImpl.java:27"
        },
        {
          "method": "java.lang.reflect.Constructor.newInstance",
          "source": "Constructor.java:494"
        },
        {
          "method": "java.lang.Class.newInstance0",
          "source": "Class.java:350"
        },
        {
          "method": "java.lang.Class.newInstance",
          "source": "Class.java:303"
        },
        {
          "method": "java.security.Provider$Service.newInstance",
          "source": "Provider.java:1130"
        },
        {
          "method": "javax.crypto.Mac.a",
          "source": "DashoA12275"
        },
        {
          "method": "javax.crypto.Mac.init",
          "source": "DashoA12275"
        },
        {
          "method": "com.jcraft.jsch.jce.HMACMD5.init",
          "source": "Unknown Source"
        },
        {
          "method": "com.jcraft.jsch.Session.updateKeys",
          "source": "Unknown Source"
        },
        {
          "method": "com.jcraft.jsch.Session.receive_newkeys",
          "source": "Unknown Source"
        },
        {
          "method": "com.jcraft.jsch.Session.connect",
          "source": "Unknown Source"
        },
        {
          "method": "Shell.main",
          "source": "Shell.java:35"
        }
      ],
      "number": 2,
      "commentIndex": 5,
      "bugId": "165513",
      "date": "2006-11-23T20:05:03+01:00",
      "product": "Platform",
      "component": "CVS",
      "severity": "major"
    }
  ],
  "groupId": "165513",
  "bugId": "165513",
  "date": "2006-11-22T19:38:07+01:00",
  "product": "Platform",
  "component": "CVS",
  "severity": "major"
}