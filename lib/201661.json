{
  "comments": [
    "This should be done in a fresh workspace to be sure.\n\n1. Open \u0027Project Explorer\u0027 (not \u0027Package Explorer\u0027, this is important, we need it to be a resource working set not a Java one).\n2. Create a new resource working set named \u0027Resource\u0027, set it to be shown.\n3. Open/go to \u0027Package Explorer\u0027.\n4. Set the top level elements in \u0027Package Explorer\u0027 to be working sets.\n5. \u0027Other Projects\u0027 should be the only one available and already checked, click \u0027OK\u0027.\n6. Select \u0027Other Projects\u0027 in the \u0027Package Explorer\u0027.\n7. Open the new project wizard in the \u0027General\u0027 category.\n8. Click \u0027Select\u0027 in the working set combo control, and select \u0027Resource\u0027.\n9. Now \u0027Resource\u0027 is selected, click the combo and select \u0027Other Projects\u0027.\n10. Exception is thrown. :(\n\norg.eclipse.core.runtime.AssertionFailedException: null argument:\n\tat org.eclipse.core.runtime.Assert.isNotNull(Assert.java:84)\n\tat org.eclipse.core.runtime.Assert.isNotNull(Assert.java:72)\n\tat org.eclipse.ui.dialogs.WorkingSetConfigurationBlock.updateSelectedWorkingSets(WorkingSetConfigurationBlock.java:350)\n\tat org.eclipse.ui.dialogs.WorkingSetConfigurationBlock.access$7(WorkingSetConfigurationBlock.java:339)\n\tat org.eclipse.ui.dialogs.WorkingSetConfigurationBlock$3.widgetSelected(WorkingSetConfigurationBlock.java:264)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n        ...other stuff removed\n\nDebugging shows that a string comparison is being performed on the string \u0027Other Projects\u0027 and \u0027Aggregate for window 1188422961351\u0027, which fails. As a result, no matching working set is found, so null is returned, then the Assert.isNotNull fails.",
    "Created an attachment (id\u003d77317)\nPatch to ensure that only valid working sets can be chosen as \"default\" choices with the wizard appears.\n\nThis is modeled after the code in org.eclipse.jdt.internal.ui.wizards.JavaProjectWizard that prevents aggregate working sets and working sets that aren\u0027t within the JDT scope (Java or resource, in Platform\u0027s case, only resource) as the \"default\" choice in the wizard\u0027s combo control.\n\nThere is a lot of copy/pasting going on for the \"org.eclipse.ui.resourceWorkingSetPage\" string. The string is being declared as a _private_ constant in two classes (WorkingSet and WorkingSetRegistry), maybe the string could be exposed as internal \"non-private\" API or potentially even public API?",
    "Created an attachment (id\u003d77319)\nUpdated patch to check against the given working set IDs instead of only the resource set ID.\n\nGah, I forgot that IDs were being thrown into the configuration block and that those should be the ones that the check is performed against instead of \"default\" resource working set ID. :/\n\nWell, my API suggestion still holds though. :x",
    "If the entire selection isn\u0027t valid your patch is throwing away the good portions.  I think we want to retain those if possible.  I\u0027ve implemented the check in getSelection and released the change."
  ],
  "commentCreationDates": [
    "2007-08-29T23:35:01+02:00",
    "2007-08-30T00:13:03+02:00",
    "2007-08-30T00:28:53+02:00",
    "2007-08-30T15:45:34+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.runtime.AssertionFailedException",
      "message": "null argument:",
      "elements": [
        {
          "method": "org.eclipse.core.runtime.Assert.isNotNull",
          "source": "Assert.java:84"
        },
        {
          "method": "org.eclipse.core.runtime.Assert.isNotNull",
          "source": "Assert.java:72"
        },
        {
          "method": "org.eclipse.ui.dialogs.WorkingSetConfigurationBlock.updateSelectedWorkingSets",
          "source": "WorkingSetConfigurationBlock.java:350"
        },
        {
          "method": "org.eclipse.ui.dialogs.WorkingSetConfigurationBlock.access$7",
          "source": "WorkingSetConfigurationBlock.java:339"
        },
        {
          "method": "org.eclipse.ui.dialogs.WorkingSetConfigurationBlock$3.widgetSelected",
          "source": "WorkingSetConfigurationBlock.java:264"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:227"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "201661",
      "date": "2007-08-29T23:35:01+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "201661",
  "bugId": "201661",
  "date": "2007-08-29T23:35:01+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}