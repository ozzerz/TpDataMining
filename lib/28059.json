{
  "comments": [
    "Build 20021210\n\n1. Create a new project P1.\n2. Create a linked folder /P1/foo linked to the value of the path variable J1 \nbound to somewhere like c:\\temp\\junk\n(You need to edit P1\u0027s .project file to change location to J1.)\n3. Window \u003e Preferences \u003e Workbench \u003e Path Variables\nremove entry for J2\n4. Select P1 and hit Refresh.\n\nObserve: Internal error.\n\n!SESSION Dec 10, 2002 17:37:50.978 --------------------------------------------\n-\njava.fullversion\u003dJ2RE 1.3.1 IBM Windows 32 build cn131-20020403 (JIT enabled: \njitc)\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_US\nCommand-line arguments: -os win32 -ws win32 -arch x86 -install file:D:/eclipse-\nSDK-I20021210-win32/eclipse/\n!ENTRY org.eclipse.ui 4 4 Dec 10, 2002 17:37:50.978\n!MESSAGE Exception in org.eclipse.ui.actions.RefreshAction. run: \njava.lang.NullPointerException\n!ENTRY org.eclipse.ui 4 4 Dec 10, 2002 17:37:50.978\n!MESSAGE Exception in org.eclipse.ui.actions.RefreshAction. run: \njava.lang.NullPointerException\n!STACK 0\njava.lang.NullPointerException\n\tat \norg.eclipse.core.internal.localstore.UnifiedTree.createChildForLinkedResource\n(UnifiedTree.java:144)\n\tat org.eclipse.core.internal.localstore.UnifiedTree.addChildren\n(UnifiedTree.java:106)\n\tat \norg.eclipse.core.internal.localstore.UnifiedTree.addNodeChildrenToQueue\n(UnifiedTree.java:182)\n\tat org.eclipse.core.internal.localstore.UnifiedTree.accept\n(UnifiedTree.java:72)\n\tat \norg.eclipse.core.internal.localstore.FileSystemResourceManager.refreshResource\n(FileSystemResourceManager.java:500)\n\tat \norg.eclipse.core.internal.localstore.FileSystemResourceManager.refresh\n(FileSystemResourceManager.java:488)\n\tat \norg.eclipse.core.internal.localstore.FileSystemResourceManager.refreshRoot\n(FileSystemResourceManager.java:530)\n\tat \norg.eclipse.core.internal.localstore.FileSystemResourceManager.refresh\n(FileSystemResourceManager.java:481)\n\tat org.eclipse.core.internal.resources.Resource.refreshLocal\n(Resource.java:1031)\n\tat org.eclipse.ui.actions.RefreshAction.invokeOperation\n(RefreshAction.java:116)\n\tat org.eclipse.ui.actions.WorkspaceAction.execute\n(WorkspaceAction.java:111)\n\tat org.eclipse.ui.actions.WorkspaceAction$1.execute\n(WorkspaceAction.java:268)\n\tat org.eclipse.ui.actions.WorkspaceModifyOperation$1.run\n(WorkspaceModifyOperation.java:65)\n\tat org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1588)\n\tat org.eclipse.ui.actions.WorkspaceModifyOperation.run\n(WorkspaceModifyOperation.java:79)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run\n(ModalContext.java:95)",
    "Fixed and released.  New test added in LinkedResourceWithPathVariableTest.java.",
    "Reopening.  The fix was wrong.  I was simply aborting the refresh when\nencountering a linked resource with undefined path variable.  The desired\nbehaviour is:\n\n - Delete all children of the linked resource from the tree\n - Leave the linked resource itself intact in the tree\n - Throw an exception saying that refresh encountered a resource whose location\ncould not be determined.\n",
    "Released a real fix.  Resources with a null location are now treated as\ndeletions by refresh local. Linked resources will stay, but their children will\ndisappear.  I\u0027m holding off on throwing an exception from refresh local, as I\nrecall this has caused problems in the past for a number of callers of refresh\nlocal.  We\u0027ll see how it plays without an exception for now... adding an error\nmarker to these linked resources is another possibility.",
    "*** Bug 28385 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2002-12-10T22:32:11+01:00",
    "2002-12-11T16:10:32+01:00",
    "2002-12-11T22:27:57+01:00",
    "2002-12-13T22:03:19+01:00",
    "2002-12-16T17:04:13+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.core.internal.localstore.UnifiedTree.createChildForLinkedResource",
          "source": "UnifiedTree.java:144"
        },
        {
          "method": "org.eclipse.core.internal.localstore.UnifiedTree.addChildren",
          "source": "UnifiedTree.java:106"
        },
        {
          "method": "org.eclipse.core.internal.localstore.UnifiedTree.addNodeChildrenToQueue",
          "source": "UnifiedTree.java:182"
        },
        {
          "method": "org.eclipse.core.internal.localstore.UnifiedTree.accept",
          "source": "UnifiedTree.java:72"
        },
        {
          "method": "org.eclipse.core.internal.localstore.FileSystemResourceManager.refreshResource",
          "source": "FileSystemResourceManager.java:500"
        },
        {
          "method": "org.eclipse.core.internal.localstore.FileSystemResourceManager.refresh",
          "source": "FileSystemResourceManager.java:488"
        },
        {
          "method": "org.eclipse.core.internal.localstore.FileSystemResourceManager.refreshRoot",
          "source": "FileSystemResourceManager.java:530"
        },
        {
          "method": "org.eclipse.core.internal.localstore.FileSystemResourceManager.refresh",
          "source": "FileSystemResourceManager.java:481"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource.refreshLocal",
          "source": "Resource.java:1031"
        },
        {
          "method": "org.eclipse.ui.actions.RefreshAction.invokeOperation",
          "source": "RefreshAction.java:116"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceAction.execute",
          "source": "WorkspaceAction.java:111"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceAction$1.execute",
          "source": "WorkspaceAction.java:268"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation$1.run",
          "source": "WorkspaceModifyOperation.java:65"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1588"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation.run",
          "source": "WorkspaceModifyOperation.java:79"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:95"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "28059",
      "date": "2002-12-10T22:32:11+01:00",
      "product": "Platform",
      "component": "Resources",
      "severity": "normal"
    }
  ],
  "groupId": "28059",
  "bugId": "28059",
  "date": "2002-12-10T22:32:11+01:00",
  "product": "Platform",
  "component": "Resources",
  "severity": "normal"
}