{
  "comments": [
    "build 137\n\nCreate a complete (but very simple) plugin, with Project name Foo, say; run it \nand observe that it works; decide to experiment with renaming items -- choose to \nrename the autogenerated class FooPlugin.java, hit Next, and get the stack trace \nbelow.  Repeatable, and does not depend on the exact new name entered (if you \nenter a name which causes a problem, e.g. by collision or violating a \nconvention, you get the warning panel before the call stack).  The plugin is \nleft in a working state (i.e., nothing seems to have actually changed). \n\nIt may be that this class should never be renamed, but if so, this is an odd way \nto signal that!\n\n(in case it might matter: the action has target id \norg.eclipse.jdt.ui.CompilationUnitEditor, the actions\u0027 class was auto-genned, \nand the run() method contains only one line, writing to System.out)\n\njava.lang.StringIndexOutOfBoundsException: String index out of range: -11\n\tat java.lang.String.substring(String.java(Compiled Code))\n\tat \norg.eclipse.jdt.internal.core.refactoring.types.RenameTypeRefactoring$2.adjust(R\nenameTypeRefactoring.java:418)\n\tat \norg.eclipse.jdt.internal.core.refactoring.text.AbstractTextBufferChange.internal\nPerform(AbstractTextBufferChange.java:250)\n\tat \norg.eclipse.jdt.internal.core.refactoring.text.AbstractTextBufferChange.getPrevi\new(AbstractTextBufferChange.java:222)\n\tat \norg.eclipse.jdt.internal.ui.refactoring.MergeTextViewerContentProvider.getRightC\nontent(MergeTextViewerContentProvider.java:108)\n\tat \norg.eclipse.compare.contentmergeviewer.ContentMergeViewer.inputChanged(ContentMe\nrgeViewer.java:689)\n\tat \norg.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:234)\n\tat \norg.eclipse.jdt.internal.ui.refactoring.PreviewWizardPage$2.selectionChanged(Pre\nviewWizardPage.java:210)\n\tat \norg.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:147)\n\tat \norg.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java\n:907)\n\tat \norg.eclipse.jface.viewers.StructuredViewer.setSelection(StructuredViewer.java:68\n7)\n\tat org.eclipse.jface.viewers.Viewer.setSelection(Viewer.java:342)\n\tat \norg.eclipse.jdt.internal.ui.refactoring.PreviewWizardPage.setVisible(PreviewWiza\nrdPage.java:340)\n\tat org.eclipse.jface.wizard.WizardDialog.showPage(WizardDialog.java:884)\n\tat \norg.eclipse.jface.wizard.WizardDialog.nextPressed(WizardDialog.java:648)\n\tat \norg.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:309)\n\tat org.eclipse.jface.dialogs.Dialog$1.widgetSelected(Dialog.java:211)\n\tat \norg.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java(Compiled \nCode))\n\tat \norg.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled \nCode))\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java(Compiled \nCode))\n\tat org.eclipse.jface.window.Window.open(Window.java:523)\n\tat \norg.eclipse.jdt.internal.ui.reorg.RefactoringSupportFactory$RenameSupport.rename\n(RefactoringSupportFactory.java:64)\n\tat \norg.eclipse.jdt.internal.ui.reorg.RenameAction.doActionPerformed(RenameAction.ja\nva:79)\n\tat \norg.eclipse.jdt.internal.ui.reorg.ReorgAction.run(ReorgAction.java:131)\n\tat \norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionCont\nributionItem.java:407)\n\tat \norg.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionContribu\ntionItem.java:361)\n\tat \norg.eclipse.jface.action.ActionContributionItem.access$0(ActionContributionItem.\njava:352)\n\tat \norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(Actio\nnContributionItem.java:47)\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java(Compiled \nCode))\n\tat \norg.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled \nCode))\n\tat \norg.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:656)\n\tat \norg.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:81\n5)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:285)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:151)\n\tat org.eclipse.core.launcher.Main.run(Main.java:433)\n\tat org.eclipse.core.launcher.Main.main(Main.java:306)",
    "For \"warning panel before call stack\" read \"warning panel before stack trace\". \n\nThe String index in the stack trace \u003d -(length of package name).\n\nSomewhat erratic -- some combinations of package and plugin.java-file names are \naccepted; examples of rejected pairs (package, plugin.java) are (ForRename, \nThePlugin.java), (ForRename, MyPlugin.java), (ForRenamePI, ThePlugin.java), \n(ForRenamePI, MyPlugin.java); examples of accepted pairs (RenamerPI, \nThePlugin.java), (RenamerPI, MyPlugin.java).",
    "pls investigate whether this is still a problem in the 2.0 stream",
    "reproduced on 1.0 rollup - exact steps:\n1. create package Foo\n2. class FooPlugin in Foo\n3. renaming fails\n\n",
    "confirmed that the problem does not exist in the 2.0 stream\n(it was caused by a faulty heuristic used in 1.0 - that has been improved since)\n"
  ],
  "commentCreationDates": [
    "2002-01-04T14:38:57+01:00",
    "2002-01-04T15:22:16+01:00",
    "2002-01-07T10:03:29+01:00",
    "2002-01-07T10:36:27+01:00",
    "2002-01-07T10:45:21+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.StringIndexOutOfBoundsException",
      "message": "String index out of range: -11",
      "elements": [
        {
          "method": "java.lang.String.substring",
          "source": "String.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jdt.internal.core.refactoring.types.RenameTypeRefactoring$2.adjust",
          "source": "R enameTypeRefactoring.java:418"
        },
        {
          "method": "org.eclipse.jdt.internal.core.refactoring.text.AbstractTextBufferChange.internalPerform",
          "source": "AbstractTextBufferChange.java:250"
        },
        {
          "method": "org.eclipse.jdt.internal.core.refactoring.text.AbstractTextBufferChange.getPreview",
          "source": "AbstractTextBufferChange.java:222"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.MergeTextViewerContentProvider.getRightContent",
          "source": "MergeTextViewerContentProvider.java:108"
        },
        {
          "method": "org.eclipse.compare.contentmergeviewer.ContentMergeViewer.inputChanged",
          "source": "ContentMe rgeViewer.java:689"
        },
        {
          "method": "org.eclipse.jface.viewers.ContentViewer.setInput",
          "source": "ContentViewer.java:234"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.PreviewWizardPage$2.selectionChanged",
          "source": "Pre viewWizardPage.java:210"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer.fireSelectionChanged",
          "source": "Viewer.java:147"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateSelection",
          "source": "StructuredViewer.java :907"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.setSelection",
          "source": "StructuredViewer.java:68 7"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer.setSelection",
          "source": "Viewer.java:342"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.PreviewWizardPage.setVisible",
          "source": "PreviewWiza rdPage.java:340"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.showPage",
          "source": "WizardDialog.java:884"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.nextPressed",
          "source": "WizardDialog.java:648"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.buttonPressed",
          "source": "WizardDialog.java:309"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$1.widgetSelected",
          "source": "Dialog.java:211"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:523"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.reorg.RefactoringSupportFactory$RenameSupport.rename",
          "source": "RefactoringSupportFactory.java:64"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.reorg.RenameAction.doActionPerformed",
          "source": "RenameAction.ja va:79"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.reorg.ReorgAction.run",
          "source": "ReorgAction.java:131"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionCont ributionItem.java:407"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContribu tionItem.java:361"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem. java:352"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "Actio nContributionItem.java:47"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:656"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:81 5"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:285"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:151"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:433"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:306"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "7255",
      "date": "2002-01-04T14:38:57+01:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "7255",
  "bugId": "7255",
  "date": "2002-01-04T14:38:57+01:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}