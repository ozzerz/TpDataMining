{
  "comments": [
    "Running 3.0M5. I don\u0027t know if this\u0027s a bug or me just missing something from\nthe internal stuff. I\u0027m wondering if this method is ok?\n\nEspecially this part:\nIClasspathEntry[] userEntries\u003d model.getEntries(ClasspathModel.USER);\n\t\t\tfor (;i \u003c entries.length; i++) {\n\t\t\t\tif (i \u003e\u003d userEntries.length) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\nIn my setup i \u003d 9 when arriving to the loop for (;i \u003c entries.length; i++)...\nand it doesn\u0027t look like bootEntries and userEntries are ever from the same\narray. In (ClasspathModel)model.getEntries(entryType) there\u0027re separate arrays\nbootstrapEntries and userEntries.\n\n\n/**\n\t * @param configuration\n\t * @return\n\t */\n\tprivate boolean hasClasspathChanged(ILaunchConfiguration configuration) {\n\t\ttry {\n\t\t\tIRuntimeClasspathEntry[] entries\u003d\nJavaRuntime.computeUnresolvedRuntimeClasspath(configuration);\n\t\t\tIClasspathEntry[] bootEntries\u003d model.getEntries(ClasspathModel.BOOTSTRAP);\n\t\t\tIClasspathEntry entry;\n\t\t\tint i;\n\t\t\tfor (i \u003d 0; i \u003c bootEntries.length; i++) {\n\t\t\t\tif (i \u003d\u003d entries.length) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tentry \u003d bootEntries[i];\n\t\t\t\tif (i \u003e entries.length || !entry.equals(entries[i])) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tIClasspathEntry[] userEntries\u003d model.getEntries(ClasspathModel.USER);\n\t\t\tfor (;i \u003c entries.length; i++) {\n\t\t\t\tif (i \u003e\u003d userEntries.length) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tentry \u003d userEntries[i];\n\t\t\t\tif (i \u003e entries.length || !entry.equals(entries[i])) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t} catch (CoreException e) {\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\nThe actual reason i was looking JavaClassPath was due to NPE in public void\nperformApply(ILaunchConfigurationWorkingCopy configuration) caused by \n\ttry {\n\t\t\t\t\tIClasspathEntry[] boot \u003d model.getEntries(ClasspathModel.BOOTSTRAP);\n\t\t\t\t\tIClasspathEntry[] user \u003d model.getEntries(ClasspathModel.USER);\n\t\t\t\t\tList mementos \u003d new ArrayList(boot.length + user.length);\n\t\t\t\t\tIClasspathEntry bootEntry;\n\nuser being null.",
    "The problem with default classpath attribute setting is already reported (bug \n46030). Can you provide a stack trace for the NPE? ",
    "Full story available at\nhttp://www.jboss.org/index.html?module\u003dbb\u0026op\u003dviewtopic\u0026t\u003d43657\n\njava.lang.NullPointerException\nat\norg.eclipse.jdt.debug.ui.launchConfigurations.JavaClasspathTab.performApply(JavaClasspathTab.java:262)\nat\norg.eclipse.debug.ui.AbstractLaunchConfigurationTabGroup.performApply(AbstractLaunchConfigurationTabGroup.java:98)\nat\norg.jboss.ide.eclipse.launcher.ui.configuration.AbstractServerTabGroup.performApply(AbstractServerTabGroup.java:29)\nat\norg.jboss.ide.eclipse.launcher.ui.configuration.jboss.JBoss30xTabGroup.performApply(JBoss30xTabGroup.java:64)\nat\norg.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer.handleApplyPressed(LaunchConfigurationTabGroupViewer.java:1153)\nat\norg.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.handleLaunchPressed(LaunchConfigurationsDialog.java:1084)\nat\norg.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.buttonPressed(LaunchConfigurationsDialog.java:295)\nat org.eclipse.jface.dialogs.Dialog$1.widgetSelected(Dialog.java:430)\nat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:847)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2187)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1877)\nat org.eclipse.jface.window.Window.runEventLoop(Window.java:586)\nat org.eclipse.jface.window.Window.open(Window.java:566)\nat\norg.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.open(LaunchConfigurationsDialog.java:442)\nat org.eclipse.debug.ui.DebugUITools$1.run(DebugUITools.java:390) \n\n",
    "Looks like we are exposed to several NPEs here. The method \nClasspathModel.getEntries(..) can return null, and we never check for it. \nInstead, I propose to change the return value to an empty array, rather than \nchanging all the clients to check for null.\n\nMarking as M6 candidate",
    "Fixed in ClasspathModel (in Ant and in JDT). I also removed unused methods \nfrom the AntClasspathContentProvider (when I was tracking down clients of the \nmethod I changed).",
    "Please verify, Darin (S).",
    "Verified."
  ],
  "commentCreationDates": [
    "2003-12-17T07:26:02+01:00",
    "2003-12-17T14:12:36+01:00",
    "2003-12-17T16:07:51+01:00",
    "2003-12-17T16:26:39+01:00",
    "2003-12-17T21:04:02+01:00",
    "2003-12-17T21:04:19+01:00",
    "2003-12-18T03:51:57+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.debug.ui.launchConfigurations.JavaClasspathTab.performApply",
          "source": "JavaClasspathTab.java:262"
        },
        {
          "method": "org.eclipse.debug.ui.AbstractLaunchConfigurationTabGroup.performApply",
          "source": "AbstractLaunchConfigurationTabGroup.java:98"
        },
        {
          "method": "org.jboss.ide.eclipse.launcher.ui.configuration.AbstractServerTabGroup.performApply",
          "source": "AbstractServerTabGroup.java:29"
        },
        {
          "method": "org.jboss.ide.eclipse.launcher.ui.configuration.jboss.JBoss30xTabGroup.performApply",
          "source": "JBoss30xTabGroup.java:64"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer.handleApplyPressed",
          "source": "LaunchConfigurationTabGroupViewer.java:1153"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.handleLaunchPressed",
          "source": "LaunchConfigurationsDialog.java:1084"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.buttonPressed",
          "source": "LaunchConfigurationsDialog.java:295"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$1.widgetSelected",
          "source": "Dialog.java:430"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:89"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:847"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2187"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1877"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:586"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:566"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.open",
          "source": "LaunchConfigurationsDialog.java:442"
        },
        {
          "method": "org.eclipse.debug.ui.DebugUITools$1.run",
          "source": "DebugUITools.java:390"
        }
      ],
      "number": 0,
      "commentIndex": 2,
      "bugId": "48946",
      "date": "2003-12-17T16:07:51+01:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "48946",
  "bugId": "48946",
  "date": "2003-12-17T07:26:02+01:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "normal"
}