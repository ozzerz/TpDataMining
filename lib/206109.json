{
  "comments": [
    "Build ID: M20070921-1145\n\nBuilding a project for me is a very painful process. Granted I have a very large codebase of 4000+ files, and I would expect it to take a long time, that\u0027s fine. However as it stands, the builder actually ends up chewing my processor and memory completely for 10-15 minutes, making my machine impossible to use.\n\nAnd sometimes I end up with \u0027An out of memory error occurred.\u0027 and have to close the workbench. See More info for a stack trace.\n\nI\u0027ve also noticed that very large files can lock it up completely. For example I have a 1.5 mb php file which essentially consists of nothing but a single huge string. This one file will kill the builder completely (if it has already been through half my 4000 files that is).\n\nMy machine is a P4-3ghz with 1gb ram and plenty of HD space.\n\nI understand it is a cpu and memory intensive procedure, however it would be better for it to have its cpu and memory usage capped and take longer, than for it to make your computer unusable for 15 mins (even if that is ultimately quicker). And the out of memory thing is just a bug.\n\nMore information:\n!ENTRY org.eclipse.core.jobs 4 2 2007-10-12 16:24:55.874\n!MESSAGE An internal error occurred during: \"Building workspace\".\n!STACK 0\njava.lang.OutOfMemoryError: Java heap space\n\tat java.util.TreeMap.put(Unknown Source)\n\tat java.util.TreeSet.add(Unknown Source)\n\tat org.eclipse.php.internal.core.phpModel.parser.CompositePhpModel.getClasses(Unknown Source)\n\tat org.eclipse.php.internal.core.phpModel.parser.DefaultParserClient.fixObjectInstantiation(Unknown Source)\n\tat org.eclipse.php.internal.core.phpModel.parser.DefaultParserClient.finishParsing(Unknown Source)\n\tat org.eclipse.php.internal.core.phpModel.parser.ParserClientComposite.finishParsing(Unknown Source)\n\tat org.eclipse.php.internal.core.phpModel.parser.ParserExecuter.run(Unknown Source)\n\tat org.eclipse.php.internal.core.phpModel.parser.PHPParserManager.parseNow(Unknown Source)\n\tat org.eclipse.php.internal.core.phpModel.parser.management.ProjectParsingManager.fileAdded(Unknown Source)\n\tat org.eclipse.php.internal.core.phpModel.parser.PHPProjectModel.fireFileDataAdded(Unknown Source)\n\tat org.eclipse.php.internal.core.phpModel.parser.PHPProjectModel.addFileToModel(Unknown Source)\n\tat org.eclipse.php.internal.core.phpModel.parser.PHPWorkspaceModelManager.addFileToModel(Unknown Source)\n\tat org.eclipse.php.internal.core.project.build.FullPhpProjectBuildVisitor.handle(Unknown Source)\n\tat org.eclipse.php.internal.core.project.build.FullPhpProjectBuildVisitor.visit(Unknown Source)\n\tat org.eclipse.core.internal.resources.Resource$2.visit(Resource.java:105)\n\tat org.eclipse.core.internal.resources.Resource$1.visitElement(Resource.java:57)\n\tat org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java:81)\n\tat org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java:85)\n\tat org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java:85)\n\tat org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java:85)\n\tat org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java:85)\n\tat org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java:85)\n\tat org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java:85)\n\tat org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java:85)\n\tat org.eclipse.core.internal.watson.ElementTreeIterator.doIteration(ElementTreeIterator.java:85)\n\tat org.eclipse.core.internal.watson.ElementTreeIterator.iterate(ElementTreeIterator.java:126)\n\tat org.eclipse.core.internal.resources.Resource.accept(Resource.java:67)\n\tat org.eclipse.core.internal.resources.Resource.accept(Resource.java:103)\n\tat org.eclipse.core.internal.resources.Resource.accept(Resource.java:87)\n\tat org.eclipse.php.internal.core.project.build.DefaultPHPBuilderExtension.fullBuild(Unknown Source)\n\tat org.eclipse.php.internal.core.project.build.DefaultPHPBuilderExtension.build(Unknown Source)\n\tat org.eclipse.php.internal.core.project.build.PHPIncrementalProjectBuilder.build(Unknown Source)",
    "This bug sounds familier. Duplicate of bug 203984 ?",
    "Hi Marijn,\n\nIt doesn\u0027t sound the same to me, yes code completion doesn\u0027t work after the project fails to build, but the specific problem I am talking about is the fact that it fails to build with an out of memory error. (And also generally that building takes so long and makes the machine unresponsive).\n\nMy out of memory stack trace doesn\u0027t look anything like the stack traces on the ticket you linked.\n\nCheers\nTom",
    "Hmm, thought I saw some similarities in the stack trace, now can\u0027t find where I saw those, I must be seeing things. I took the guess because that bug did cause me to have similar memory issues but it\u0027s probably something else then :).",
    "Hi,\nWe are aware of the memory consumption issue and we plan on changing that on our next major release.\nIn the meantime I recommend you try to increasing the memory limit or use smaller code bases (dividing your code to smaller projects and opening only the ones you need for your work).",
    "Created an attachment (id\u003d85345)\nLog File of Error\n\nI\u0027ve never used Eclipse or PDT before and maybe after this bug is fixed I\u0027ll be able to build my first empty project.\n\nWinXP Pro SP2 /w 1 gig RAM\nJRE 1.6.0-03 -Xmx768m\nEclipse 3.3.1.1 Platform Binary (http://download.eclipse.org/eclipse/downloads/drops/R-3.3.1.1-200710231652/index.php)\nPDT 1.0.1 and requirements installed via update manager\nNo other updates or plugins installed."
  ],
  "commentCreationDates": [
    "2007-10-12T08:38:08+02:00",
    "2007-10-19T10:28:57+02:00",
    "2007-10-20T02:36:58+02:00",
    "2007-10-20T13:12:49+02:00",
    "2007-10-28T15:02:47+01:00",
    "2007-12-16T12:01:52+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.OutOfMemoryError",
      "message": "Java heap space",
      "elements": [
        {
          "method": "java.util.TreeMap.put",
          "source": "Unknown Source"
        },
        {
          "method": "java.util.TreeSet.add",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.php.internal.core.phpModel.parser.CompositePhpModel.getClasses",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.php.internal.core.phpModel.parser.DefaultParserClient.fixObjectInstantiation",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.php.internal.core.phpModel.parser.DefaultParserClient.finishParsing",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.php.internal.core.phpModel.parser.ParserClientComposite.finishParsing",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.php.internal.core.phpModel.parser.ParserExecuter.run",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.php.internal.core.phpModel.parser.PHPParserManager.parseNow",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.php.internal.core.phpModel.parser.management.ProjectParsingManager.fileAdded",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.php.internal.core.phpModel.parser.PHPProjectModel.fireFileDataAdded",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.php.internal.core.phpModel.parser.PHPProjectModel.addFileToModel",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.php.internal.core.phpModel.parser.PHPWorkspaceModelManager.addFileToModel",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.php.internal.core.project.build.FullPhpProjectBuildVisitor.handle",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.php.internal.core.project.build.FullPhpProjectBuildVisitor.visit",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource$2.visit",
          "source": "Resource.java:105"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource$1.visitElement",
          "source": "Resource.java:57"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.doIteration",
          "source": "ElementTreeIterator.java:81"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.doIteration",
          "source": "ElementTreeIterator.java:85"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.doIteration",
          "source": "ElementTreeIterator.java:85"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.doIteration",
          "source": "ElementTreeIterator.java:85"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.doIteration",
          "source": "ElementTreeIterator.java:85"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.doIteration",
          "source": "ElementTreeIterator.java:85"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.doIteration",
          "source": "ElementTreeIterator.java:85"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.doIteration",
          "source": "ElementTreeIterator.java:85"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.doIteration",
          "source": "ElementTreeIterator.java:85"
        },
        {
          "method": "org.eclipse.core.internal.watson.ElementTreeIterator.iterate",
          "source": "ElementTreeIterator.java:126"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource.accept",
          "source": "Resource.java:67"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource.accept",
          "source": "Resource.java:103"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource.accept",
          "source": "Resource.java:87"
        },
        {
          "method": "org.eclipse.php.internal.core.project.build.DefaultPHPBuilderExtension.fullBuild",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.php.internal.core.project.build.DefaultPHPBuilderExtension.build",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.php.internal.core.project.build.PHPIncrementalProjectBuilder.build",
          "source": "Unknown Source"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "206109",
      "date": "2007-10-12T08:38:08+02:00",
      "product": "PDT",
      "component": "Core",
      "severity": "major"
    }
  ],
  "groupId": "206109",
  "bugId": "206109",
  "date": "2007-10-12T08:38:08+02:00",
  "product": "PDT",
  "component": "Core",
  "severity": "major"
}