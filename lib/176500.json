{
  "comments": [
    "Build ID: M20060921-0945\n\nSteps To Reproduce:\n1. Create a new Java plugin project.\n2. Modify the plugin.xml so that it contains no XML content and instead just a line of text such as \"blah.\"\n3. Save plugin.xml, then try switching to view build.properties via the Navigator.  (You may have to try this twice.)\n4. You should get two errors via popup windows.  The first reports that the source page has errors.  The second reports that an error has been generated to the log; this error is the NPE.\n\n\nMore information:\nThe NPE occurs because XMLErrorReporter.fRootElement is null since it is never initialized to anything.  I believe this is because the XML document contains no XML-like data at all.\n\nXMLErrorReporter.endDocument() passes\nfRootElement\u0027s value (null) to DomDocument.appendChild(),\nwhich passes the value to DomDocument.checkNewChild(), which\nderferences the value and causes the exception.\n\nThe XMLErrorReporter object is initialized here:\n\norg.eclipse.pde.internal.builders.ManifestConsistencyChecker.checkFile(ManifestConsistencyChecker:76)\n\nHere\u0027s a stack trace:\n\njava.lang.NullPointerException\nat org.eclipse.ui.forms.editor.FormPage.setActive(FormPage.java:124)\nat org.eclipse.pde.internal.ui.editor.PDEFormPage.setActive(PDEFormPage.java:220)\nat org.eclipse.ui.forms.editor.FormEditor.setActivePage(FormEditor.java:598)\nat org.eclipse.ui.forms.editor.FormEditor.setActivePage(FormEditor.java:502)\nat org.eclipse.pde.internal.ui.editor.PDEFormEditor.setActivePage(PDEFormEditor.java:602)\nat org.eclipse.pde.internal.ui.editor.plugin.ManifestEditor.showEditorInput(ManifestEditor.java:567)\nat org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched(WorkbenchPage.java:2582)\nat org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2528)\nat org.eclipse.ui.internal.WorkbenchPage.access$10(WorkbenchPage.java:2520)\nat org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:2505)\nat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)\nat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2500)\nat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2485)\nat org.eclipse.ui.ide.IDE.openEditor(IDE.java:388)\nat org.eclipse.ui.ide.IDE.openEditor(IDE.java:350)\nat org.eclipse.ui.actions.OpenFileAction.openFile(OpenFileAction.java:98)\nat org.eclipse.ui.actions.OpenSystemEditorAction.run(OpenSystemEditorAction.java:98)\nat org.eclipse.ui.views.navigator.OpenActionGroup.runDefaultAction(OpenActionGroup.java:125)\nat org.eclipse.ui.views.navigator.MainActionGroup.runDefaultAction(MainActionGroup.java:328)\nat org.eclipse.ui.views.navigator.ResourceNavigator.handleOpen(ResourceNavigator.java:679)\nat org.eclipse.ui.views.navigator.ResourceNavigator$6.open(ResourceNavigator.java:434)\nat org.eclipse.jface.viewers.StructuredViewer$2.run(StructuredViewer.java:817)\nat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\nat org.eclipse.core.runtime.Platform.run(Platform.java:843)\nat org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)\nat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:149)\nat org.eclipse.jface.viewers.StructuredViewer.fireOpen(StructuredViewer.java:815)\nat org.eclipse.jface.viewers.StructuredViewer.handleOpen(StructuredViewer.java:1069)\nat org.eclipse.jface.viewers.StructuredViewer$6.handleOpen(StructuredViewer.java:1168)\nat org.eclipse.jface.util.OpenStrategy.fireOpenEvent(OpenStrategy.java:249)\nat org.eclipse.jface.util.OpenStrategy.access$2(OpenStrategy.java:243)\nat org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:283)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1085)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3166)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2842)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\nat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\nat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:585)\nat org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:280)\nat org.eclipse.core.launcher.Main.run(Main.java:977)\nat org.eclipse.core.launcher.Main.main(Main.java:952)",
    "Thanks a lot for the detailed bug report.\n\nI was not able to reproduce the problem you experienced on the following\nplatforms:\n\n* Windows:  Eclipse 3.2.1 and 3.3 M5\n\n* Linux:  Eclipse 3.3 M5eh  (I20070222-0952)\n\nThe plug-in manifest editor properly flags \"blah.\" using the following error\n\"Content is not allowed in prolog\" and no errors including NPEs are logged.\nI only get the \"Source page has errors\" dialog as expected when attempting\nto switch tabs.\n\nI did manage to get an NPE and host of other errors sent to the error log using\nthe following platform - but, only when the plugin.xml has no contents:\n\n* Linux:  Eclipse 3.3 M4\n\nCan you download and try out Eclipse 3.3 M5eh to verify the problem is \nresolved?  If you are still seeing the problem, can you execute \n\"java -version\" to see what version of JDK you are using?  The underlying XML\nparsers are different between versions and may have a bearing on the DOM \nrelated errors you described.",
    "Thanks for checking it out.\n\nI tried Eclipse 3.3 M5eh, but unfortunately I can\u0027t get far enough to create the workspace.  It hangs with these errors printed to the console:\n\n** (Eclipse:16469): WARNING **: Error result: Too many failed attempts\n\n** (Eclipse:16469): WARNING **: Error result: Too many failed attempts\n\n** (Eclipse:16469): WARNING **: Error getting printer list: Too many failed attempts\n\nHere\u0027s the output from java -version:\n\njava version \"1.5.0\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.5.0-b64)\nJava HotSpot(TM) Client VM (build 1.5.0-b64, mixed mode)\n\nWas the NPE stack trace you saw with the blank plugin.xml similar to mine?\n",
    "Sorry, I just realized the stack trace I provided initially is not consistent with the other source-level information I provided.\n\nThe stack trace applies to the error I got in Eclipse 3.2 using the Sun JVM.  But the other source-level info applies to a different stack trace that I got with Eclipse 3.1 using Jikes RVM.\n\nIn both cases I got a NPE when performing the steps described.\n\nI think the error in Eclipse 3.1 may be specific to Jikes RVM and the libraries it uses, since I can\u0027t reproduce it with the Sun JVM.\n\nSo I think the stack trace is good, but the other info I provided about what\u0027s happening in the source code, should be ignored.\n\nSorry for the confusion!\n",
    "The NPE I recieved with the blank plugin.xml was different from yours.  It \ncame directly from the underlying XML Parser.  Because I am using \nIBM JDK 1.5.0 on Red Hat Linux (IA32).  It came from the Xerces-J parser.\n\nThe version of Java you are using (Sun) should also contain the Xerces-J\nparser.  Also, I noticed it appears that your JDK is 64-bit.  \nWhat Linux distribution are you using and on what hardware architecture are \nyou running? Is it 32-bit or 64-bit.  I will need more details to determine why\nEclipse 3.3 M5eh is blowing up so bad for you.  I am just wondering if you\ndownloaded the 64-bit (x86_64) version of Eclipse rather than the 32-bit \nversion (x86).",
    "I\u0027m running on 32-bit hardware (a Pentium 4), and I think the JVM is also 32-bit (maybe the \"b64\" is the build number?).\n\nDid your NPE look anything like this:\n\nNullPointerException\n        at gnu.xml.dom.DomDocument.checkNewChild(DomDocument.java:315)\n        at gnu.xml.dom.DomDocument.appendChild(DomDocument.java:341)\n        at org.eclipse.pde.internal.builders.XMLErrorReporter.endDocument(XMLErrorReporter.java:159)\n        at gnu.xml.stream.SAXParser.parse(SAXParser.java:669)\n        at javax.xml.parsers.SAXParser.parse(SAXParser.java:273)\n        at javax.xml.parsers.SAXParser.parse(SAXParser.java:128)\n        at org.eclipse.pde.internal.builders.ValidatingSAXParser.parse(ValidatingSAXParser.java:29)\n        at org.eclipse.pde.internal.builders.ManifestConsistencyChecker.checkFile(ManifestConsistencyChecker.java:84)\n        at org.eclipse.pde.internal.builders.ManifestConsistencyChecker.checkThisProject(ManifestConsistencyChecker.java:44)\n        at org.eclipse.pde.internal.builders.ManifestConsistencyChecker.build(ManifestConsistencyChecker.java:33)\n        at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:593)\n        at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)\n        at org.eclipse.core.runtime.Platform.run(Platform.java:783)\n        at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:168)\n        at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:202)\n        at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:231)\n        at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044)\n        at org.eclipse.core.runtime.Platform.run(Platform.java:783)\n        at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:234)\n        at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:253)\n        at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:282)\n        at org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:139)\n        at org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:200)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)\n\n(That\u0027s the stack trace I got for Eclipse 3.1 with Jikes RVM.)\n",
    "Yes, the NPE looked similar to that except the underlying parser (Xerces-J)\nfrom where it was sourced was different.\n\nIn any event, in the latest version of Eclipse, no problems seem to be\napparent.  The only problem that remains is why Eclipse 3.3 M5eh is not \nworking for you.  Feel free to open another bug report with the pertinent\ndetails.\n\nAs for this issue, I am going to close as WORKSFORME.  Please reopen the\nbug if you encounter it in Eclipse M5eh or greater (when you get it working)",
    "Okay, thanks for looking into it.\n\nI\u0027ll try out some things with Eclipse 3.3 M5eh and file a bug report if it\u0027s still not working.  (Maybe it\u0027s a local problem, since the error was apparently related to getting the printer list.)\n"
  ],
  "commentCreationDates": [
    "2007-03-06T15:47:54+01:00",
    "2007-03-08T00:46:21+01:00",
    "2007-03-08T01:20:11+01:00",
    "2007-03-08T01:41:33+01:00",
    "2007-03-08T01:45:08+01:00",
    "2007-03-08T01:57:52+01:00",
    "2007-03-08T19:42:44+01:00",
    "2007-03-09T22:20:40+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.forms.editor.FormPage.setActive",
          "source": "FormPage.java:124"
        },
        {
          "method": "org.eclipse.pde.internal.ui.editor.PDEFormPage.setActive",
          "source": "PDEFormPage.java:220"
        },
        {
          "method": "org.eclipse.ui.forms.editor.FormEditor.setActivePage",
          "source": "FormEditor.java:598"
        },
        {
          "method": "org.eclipse.ui.forms.editor.FormEditor.setActivePage",
          "source": "FormEditor.java:502"
        },
        {
          "method": "org.eclipse.pde.internal.ui.editor.PDEFormEditor.setActivePage",
          "source": "PDEFormEditor.java:602"
        },
        {
          "method": "org.eclipse.pde.internal.ui.editor.plugin.ManifestEditor.showEditorInput",
          "source": "ManifestEditor.java:567"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched",
          "source": "WorkbenchPage.java:2582"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor",
          "source": "WorkbenchPage.java:2528"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.access$10",
          "source": "WorkbenchPage.java:2520"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$9.run",
          "source": "WorkbenchPage.java:2505"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:67"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:2500"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.openEditor",
          "source": "WorkbenchPage.java:2485"
        },
        {
          "method": "org.eclipse.ui.ide.IDE.openEditor",
          "source": "IDE.java:388"
        },
        {
          "method": "org.eclipse.ui.ide.IDE.openEditor",
          "source": "IDE.java:350"
        },
        {
          "method": "org.eclipse.ui.actions.OpenFileAction.openFile",
          "source": "OpenFileAction.java:98"
        },
        {
          "method": "org.eclipse.ui.actions.OpenSystemEditorAction.run",
          "source": "OpenSystemEditorAction.java:98"
        },
        {
          "method": "org.eclipse.ui.views.navigator.OpenActionGroup.runDefaultAction",
          "source": "OpenActionGroup.java:125"
        },
        {
          "method": "org.eclipse.ui.views.navigator.MainActionGroup.runDefaultAction",
          "source": "MainActionGroup.java:328"
        },
        {
          "method": "org.eclipse.ui.views.navigator.ResourceNavigator.handleOpen",
          "source": "ResourceNavigator.java:679"
        },
        {
          "method": "org.eclipse.ui.views.navigator.ResourceNavigator$6.open",
          "source": "ResourceNavigator.java:434"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$2.run",
          "source": "StructuredViewer.java:817"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:843"
        },
        {
          "method": "org.eclipse.ui.internal.JFaceUtil$1.run",
          "source": "JFaceUtil.java:44"
        },
        {
          "method": "org.eclipse.jface.util.SafeRunnable.run",
          "source": "SafeRunnable.java:149"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.fireOpen",
          "source": "StructuredViewer.java:815"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleOpen",
          "source": "StructuredViewer.java:1069"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$6.handleOpen",
          "source": "StructuredViewer.java:1168"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireOpenEvent",
          "source": "OpenStrategy.java:249"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$2",
          "source": "OpenStrategy.java:243"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "OpenStrategy.java:283"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1085"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3166"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2842"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1914"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1878"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:280"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "176500",
      "date": "2007-03-06T15:47:54+01:00",
      "product": "PDE",
      "component": "UI",
      "severity": "normal"
    },
    {
      "exceptionType": "NullPointerException",
      "elements": [
        {
          "method": "gnu.xml.dom.DomDocument.checkNewChild",
          "source": "DomDocument.java:315"
        },
        {
          "method": "gnu.xml.dom.DomDocument.appendChild",
          "source": "DomDocument.java:341"
        },
        {
          "method": "org.eclipse.pde.internal.builders.XMLErrorReporter.endDocument",
          "source": "XMLErrorReporter.java:159"
        },
        {
          "method": "gnu.xml.stream.SAXParser.parse",
          "source": "SAXParser.java:669"
        },
        {
          "method": "javax.xml.parsers.SAXParser.parse",
          "source": "SAXParser.java:273"
        },
        {
          "method": "javax.xml.parsers.SAXParser.parse",
          "source": "SAXParser.java:128"
        },
        {
          "method": "org.eclipse.pde.internal.builders.ValidatingSAXParser.parse",
          "source": "ValidatingSAXParser.java:29"
        },
        {
          "method": "org.eclipse.pde.internal.builders.ManifestConsistencyChecker.checkFile",
          "source": "ManifestConsistencyChecker.java:84"
        },
        {
          "method": "org.eclipse.pde.internal.builders.ManifestConsistencyChecker.checkThisProject",
          "source": "ManifestConsistencyChecker.java:44"
        },
        {
          "method": "org.eclipse.pde.internal.builders.ManifestConsistencyChecker.build",
          "source": "ManifestConsistencyChecker.java:33"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$2.run",
          "source": "BuildManager.java:593"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1044"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:783"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:168"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:202"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$1.run",
          "source": "BuildManager.java:231"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:1044"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:783"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:234"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuildLoop",
          "source": "BuildManager.java:253"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.build",
          "source": "BuildManager.java:282"
        },
        {
          "method": "org.eclipse.core.internal.events.AutoBuildJob.doBuild",
          "source": "AutoBuildJob.java:139"
        },
        {
          "method": "org.eclipse.core.internal.events.AutoBuildJob.run",
          "source": "AutoBuildJob.java:200"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:76"
        }
      ],
      "number": 1,
      "commentIndex": 5,
      "bugId": "176500",
      "date": "2007-03-08T01:57:52+01:00",
      "product": "PDE",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "176500",
  "bugId": "176500",
  "date": "2007-03-06T15:47:54+01:00",
  "product": "PDE",
  "component": "UI",
  "severity": "normal"
}