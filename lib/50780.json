{
  "comments": [
    "20040128 (uses jdt.core from I20040128 and HEAD)\n\n- select \u0027IOException\u0027 from \u0027foo\u0027 signature.\n- local rename, press \u0027RR\u0027\n\n-\u003e Illegal Argument Exception\n\npackage x;\n\nimport java.io.IOException;\nimport java.io.Reader;\n\npublic class B {\n\t\n\tprivate Reader reader;\n\t\n\tpublic void dispose() {\n\t\tif (reader !\u003d null) {\n\t\t\ttry {\n\t\t\t\treader.\n\t\t\t\t\tclose() ; // my formatting\n\t\t\t} catch (IOException e) {\n\t\t\t}\n\t\t}\n\t}\n\t\n\t/**\n\t * @param name1\n\t * @throws IOException\n\t */\n\tpublic void foo(int name1) throws IOException {\n\t\t\n\t}\n\t\n\t\t\n}\n\njava.lang.IllegalArgumentException: Argument not valid\n\tat java.lang.Throwable.\u003cinit\u003e(Throwable.java)\n\tat java.lang.Throwable.\u003cinit\u003e(Throwable.java:73)\n\tat org.eclipse.swt.SWT.error(SWT.java:2594)\n\tat org.eclipse.swt.SWT.error(SWT.java:2538)\n\tat\norg.eclipse.jface.text.DocumentAdapter.replaceTextRange(DocumentAdapter.java:196)\n\tat org.eclipse.swt.custom.StyledText.modifyContent(StyledText.java:6017)\n\tat org.eclipse.swt.custom.StyledText.sendKeyEvent(StyledText.java:6953)\n\tat org.eclipse.swt.custom.StyledText.doContent(StyledText.java:2554)\n\tat org.eclipse.swt.custom.StyledText.handleKey(StyledText.java:5322)\n\tat org.eclipse.swt.custom.StyledText.handleKeyDown(StyledText.java:5345)\n\tat org.eclipse.swt.custom.StyledText$8.handleEvent(StyledText.java:5070)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java)\n\tat org.eclipse.swt.widgets.Control.sendKeyEvent(Control.java)\n\tat org.eclipse.swt.widgets.Control.sendKeyEvent(Control.java)\n\tat org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3037)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1530)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1506)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:265)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:47)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:248)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:85)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:79)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:41)",
    "Reproduced on linux-gtk. To me its not obvious how linked mode plays into this\nas the stack trace shows no sign of it. Investigating.\n\nFunnily, the BadLocationException gets thrown in various locations of\nDocumentAdapter, so this might be a timing issue.",
    "*** Bug 50830 has been marked as a duplicate of this bug. ***",
    "When modifying the line:\n} catch (IOException e) {\nto read:\n} catch (Exception e) {\nthe IAE is gone.\n",
    "The problem is:\n- StyledText#modifyContent(..) calls content.replaceTextRange(..) (line 5995),\nwhich in linked mode not only modifies what StyledText expects, but also the\nlinked positions\n- StyledText#modifyContent(..) then calls internalSetSelection(..) (line 6000)\nfor updating the caret, it wants to set the caret to what *it* thinks is the new\ncaret position after the call to content.replaceTextRange(..), which happens to\nbe after the end of the document in this case, because linked mode also replaced\ntwo text ranges before the caret position\n",
    "The exception from comment 0 is a consequence of an initial exception. Bug\n51516, comment 0 captures the whole exception log.",
    "\n\n*** This bug has been marked as a duplicate of 51516 ***"
  ],
  "commentCreationDates": [
    "2004-01-28T18:03:40+01:00",
    "2004-01-28T20:06:07+01:00",
    "2004-01-29T09:54:06+01:00",
    "2004-02-11T15:32:20+01:00",
    "2004-02-11T16:38:20+01:00",
    "2004-02-11T16:42:29+01:00",
    "2004-02-11T17:43:39+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Argument not valid",
      "elements": [
        {
          "method": "java.lang.Throwable.\u003cinit\u003e",
          "source": "Throwable.java"
        },
        {
          "method": "java.lang.Throwable.\u003cinit\u003e",
          "source": "Throwable.java:73"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2594"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2538"
        },
        {
          "method": "org.eclipse.jface.text.DocumentAdapter.replaceTextRange",
          "source": "DocumentAdapter.java:196"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.modifyContent",
          "source": "StyledText.java:6017"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.sendKeyEvent",
          "source": "StyledText.java:6953"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.doContent",
          "source": "StyledText.java:2554"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.handleKey",
          "source": "StyledText.java:5322"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText.handleKeyDown",
          "source": "StyledText.java:5345"
        },
        {
          "method": "org.eclipse.swt.custom.StyledText$8.handleEvent",
          "source": "StyledText.java:5070"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.sendKeyEvent",
          "source": "Control.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.sendKeyEvent",
          "source": "Control.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.WM_CHAR",
          "source": "Control.java:3037"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessageW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessage",
          "source": "OS.java"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1530"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1506"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:265"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:139"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:47"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:248"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:79"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:41"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "50780",
      "duplicateId": "51516",
      "date": "2004-01-28T18:03:40+01:00",
      "product": "JDT",
      "component": "Text",
      "severity": "normal"
    }
  ],
  "groupId": "51516",
  "bugId": "50780",
  "duplicateId": "51516",
  "date": "2004-01-28T18:03:40+01:00",
  "product": "JDT",
  "component": "Text",
  "severity": "normal"
}