{
  "comments": [
    "The testInstructionPointerLeaks test has recently been failing frequently. Failures vary in the number of instruction pointers leaked.\n\n\nfrom N20060628-0010:\ntestInstructionPointerLeaks\tFailure\tLeaking instruction pointers expected:\u003c0\u003e but was:\u003c10\u003e\n\njunit.framework.AssertionFailedError: Leaking instruction pointers expected:\u003c0\u003e but was:\u003c10\u003e\nat org.eclipse.jdt.debug.tests.core.InstructionPointerTests.testInstructionPointerLeaks(InstructionPointerTests.java:33)\nat org.eclipse.jdt.debug.tests.DebugSuite$1.run(DebugSuite.java:53)\nat java.lang.Thread.run(Thread.java:534)",
    "this appears to be caused by the test calling getCachedTargetCount() before removeAnnotation call is complete. Synchronizing the public add, remove, and getCount method make green.",
    "I lied... synchronizing just leads to fewer failures.",
    "I think the failures are due to the asynhronous nature of adding/removing annoations. The instruction pointer annotations are added in response to a context change from the UI thread/selection in the debug view. The removal is triggered by debug events in a non-UI thread. The termination may happen after source lookup is triggered, but before it is complete. Added synchronization to the InstructionPointerManager for add/remove in the cache, and added a test that aborts adding instruction pointers for \u0027terminated\u0027 frames.\n\nCode released to HEAD... we should let this run in a few nightly builds.",
    "Fixed in 3.3",
    "Verified.",
    "Also released fix to 3.2.1"
  ],
  "commentCreationDates": [
    "2006-06-28T17:25:10+02:00",
    "2006-06-29T19:00:36+02:00",
    "2006-06-29T19:12:11+02:00",
    "2006-07-05T20:49:16+02:00",
    "2006-07-12T21:40:49+02:00",
    "2006-07-12T21:40:59+02:00",
    "2006-07-13T16:47:41+02:00"
  ],
  "traces": [
    {
      "exceptionType": "junit.framework.AssertionFailedError",
      "message": "Leaking instruction pointers expected:\u003c0\u003e but was:\u003c10\u003e",
      "elements": [
        {
          "method": "org.eclipse.jdt.debug.tests.core.InstructionPointerTests.testInstructionPointerLeaks",
          "source": "InstructionPointerTests.java:33"
        },
        {
          "method": "org.eclipse.jdt.debug.tests.DebugSuite$1.run",
          "source": "DebugSuite.java:53"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:534"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "149021",
      "date": "2006-06-28T17:25:10+02:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "149021",
  "bugId": "149021",
  "date": "2006-06-28T17:25:10+02:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "normal"
}