{
  "comments": [
    "Build ID: I20061214-1445\n\nSteps To Reproduce:\nError Dialog \"Save could not be completed: Protocol doesn\u0027t support output\" is shown on attempt to save Profile Diagram.  \n\n\nMore information:\nFollowing exception is caught in UMLDocumentProvider#doSaveDocument():\njava.net.UnknownServiceException: protocol doesn\u0027t support output\n\tat java.net.URLConnection.getOutputStream(Unknown Source)\n\tat org.eclipse.emf.ecore.resource.impl.URIConverterImpl.createURLOutputStream(URIConverterImpl.java:388)\n\tat org.eclipse.emf.ecore.resource.impl.URIConverterImpl.createOutputStream(URIConverterImpl.java:306)\n\tat org.eclipse.emf.ecore.resource.impl.ResourceImpl.saveOnlyIfChangedWithMemoryBuffer(ResourceImpl.java:1132)\n\tat org.eclipse.emf.ecore.resource.impl.ResourceImpl.save(ResourceImpl.java:956)\n\tat org.eclipse.uml2.diagram.profile.part.UMLDocumentProvider.doSaveDocument(UMLDocumentProvider.java:510)\n\tat org.eclipse.gmf.runtime.diagram.ui.resources.editor.document.AbstractDocumentProvider$1SaveOperation.execute(AbstractDocumentProvider.java:596)\n\tat org.eclipse.gmf.runtime.diagram.ui.resources.editor.document.AbstractDocumentProvider$DocumentProviderOperation.run(AbstractDocumentProvider.java:66)\n\tat org.eclipse.gmf.runtime.diagram.ui.resources.editor.document.AbstractDocumentProvider.executeOperation(AbstractDocumentProvider.java:530)\n\tat org.eclipse.gmf.runtime.diagram.ui.resources.editor.document.AbstractDocumentProvider.saveDocument(AbstractDocumentProvider.java:579)\n\tat org.eclipse.gmf.runtime.diagram.ui.resources.editor.parts.DiagramDocumentEditor.performSave(DiagramDocumentEditor.java:825)\n\tat org.eclipse.gmf.runtime.diagram.ui.resources.editor.parts.DiagramDocumentEditor.doSave(DiagramDocumentEditor.java:646)\n\tat org.eclipse.ui.internal.SaveableHelper$1.run(SaveableHelper.java:143)\n\tat org.eclipse.ui.internal.SaveableHelper$4.run(SaveableHelper.java:266)\n\tat org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:369)\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:313)\n\tat org.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.java:758)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)\n\tat org.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.java:755)\n\tat org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:2425)\n\tat org.eclipse.ui.internal.SaveableHelper.runProgressMonitorOperation(SaveableHelper.java:274)\n\tat org.eclipse.ui.internal.SaveableHelper.runProgressMonitorOperation(SaveableHelper.java:253)\n\tat org.eclipse.ui.internal.SaveableHelper.savePart(SaveableHelper.java:148)\n\tat org.eclipse.ui.internal.EditorManager.savePart(EditorManager.java:1345)\n\tat org.eclipse.ui.internal.WorkbenchPage.savePart(WorkbenchPage.java:3067)\n\tat org.eclipse.ui.internal.WorkbenchPage.saveEditor(WorkbenchPage.java:3080)\n\tat org.eclipse.ui.internal.SaveAction.run(SaveAction.java:73)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:498)\n\tat org.eclipse.jface.commands.ActionHandler.execute(ActionHandler.java:119)\n\tat org.eclipse.core.commands.Command.executeWithChecks(Command.java:471)\n\tat org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:424)\n\tat org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:164)\n\tat org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:467)\n\tat org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:791)\n\tat org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:838)\n\tat org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:565)\n\tat org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:507)\n\tat org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:124)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Display.filterEvent(Display.java:1139)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:937)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:962)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:947)\n\tat org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:975)\n\tat org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:971)\n\tat org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1285)\n\tat org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3770)\n\tat org.eclipse.swt.widgets.Control.windowProc(Control.java:3670)\n\tat org.eclipse.swt.widgets.Display.windowProc(Display.java:4342)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method)\n\tat org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2226)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3282)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2337)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2301)\n\tat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2176)\n\tat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:463)\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:458)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:101)\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:146)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:356)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:171)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:476)\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:416)\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1141)\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1116)",
    "Created an attachment (id\u003d63545)\nTest on save diagram\n\n",
    "The problem lies on GMF, not on the uml2tools. The method doSaveDocument from UMLDocumentProvider.java is the one to blame. It tries to save all the loaded resources, even if these are included in Jar files. The ecore.profile.uml depends on other other resources so it tries to save them too. These resources are included in Jar files and, obviusly, are not writeable, so when it tries to write on them, the exception pops up.\n\nI will search for this bug in the GMF bugs. In case of not finding it, I will open  new one.",
    "I tried to debug this already, and at the first look, this is windows specific problem (!). Below is my actual understanding of the problem. \n\nThe actual problem is in EMF. \nThe generated GMF code DOES use the option that save files only if files are changed (EMF implementation compares the actual contents of file against the disk contents reload to memory buffer)\n\nThe tricky part is that while working with UML installed builds, the uml resources files are loaded from jar\u0027s created on linus build server, and have linux specific line breaks. \n\nIn contrast, the actual version (in case if loaded on windows) contains different line breaks, thus, the EMF comparision always decide that file is changed. \n\nBTW, while working with UML resources plugin loaded from repository, this bug is not reproducible (because CVS transforms line breaks on checkout). This support the claim above.\n\nI am trying to write simple test and submit the bug to EMF. \nAlso, I believe that there should be simple workaround for this. \n\n",
    "Thank you very much Michael. I was not sure why the comparsion of the resources was not working properly and therefore why it was trying to save a non modified resource. Anyway, the problem also appears in Linux (at least in my ubuntu). Thanks again.",
    "Fixed in M7",
    "Fixed in M7b"
  ],
  "commentCreationDates": [
    "2007-04-11T20:54:45+02:00",
    "2007-04-11T22:16:30+02:00",
    "2007-05-10T11:26:34+02:00",
    "2007-05-10T11:38:40+02:00",
    "2007-05-10T12:02:29+02:00",
    "2007-05-24T16:01:04+02:00",
    "2007-05-24T18:34:50+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.net.UnknownServiceException",
      "message": "protocol doesn\u0027t support output",
      "elements": [
        {
          "method": "java.net.URLConnection.getOutputStream",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.URIConverterImpl.createURLOutputStream",
          "source": "URIConverterImpl.java:388"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.URIConverterImpl.createOutputStream",
          "source": "URIConverterImpl.java:306"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceImpl.saveOnlyIfChangedWithMemoryBuffer",
          "source": "ResourceImpl.java:1132"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceImpl.save",
          "source": "ResourceImpl.java:956"
        },
        {
          "method": "org.eclipse.uml2.diagram.profile.part.UMLDocumentProvider.doSaveDocument",
          "source": "UMLDocumentProvider.java:510"
        },
        {
          "method": "org.eclipse.gmf.runtime.diagram.ui.resources.editor.document.AbstractDocumentProvider$1SaveOperation.execute",
          "source": "AbstractDocumentProvider.java:596"
        },
        {
          "method": "org.eclipse.gmf.runtime.diagram.ui.resources.editor.document.AbstractDocumentProvider$DocumentProviderOperation.run",
          "source": "AbstractDocumentProvider.java:66"
        },
        {
          "method": "org.eclipse.gmf.runtime.diagram.ui.resources.editor.document.AbstractDocumentProvider.executeOperation",
          "source": "AbstractDocumentProvider.java:530"
        },
        {
          "method": "org.eclipse.gmf.runtime.diagram.ui.resources.editor.document.AbstractDocumentProvider.saveDocument",
          "source": "AbstractDocumentProvider.java:579"
        },
        {
          "method": "org.eclipse.gmf.runtime.diagram.ui.resources.editor.parts.DiagramDocumentEditor.performSave",
          "source": "DiagramDocumentEditor.java:825"
        },
        {
          "method": "org.eclipse.gmf.runtime.diagram.ui.resources.editor.parts.DiagramDocumentEditor.doSave",
          "source": "DiagramDocumentEditor.java:646"
        },
        {
          "method": "org.eclipse.ui.internal.SaveableHelper$1.run",
          "source": "SaveableHelper.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.SaveableHelper$4.run",
          "source": "SaveableHelper.java:266"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:369"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:313"
        },
        {
          "method": "org.eclipse.jface.window.ApplicationWindow$1.run",
          "source": "ApplicationWindow.java:758"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:67"
        },
        {
          "method": "org.eclipse.jface.window.ApplicationWindow.run",
          "source": "ApplicationWindow.java:755"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.run",
          "source": "WorkbenchWindow.java:2425"
        },
        {
          "method": "org.eclipse.ui.internal.SaveableHelper.runProgressMonitorOperation",
          "source": "SaveableHelper.java:274"
        },
        {
          "method": "org.eclipse.ui.internal.SaveableHelper.runProgressMonitorOperation",
          "source": "SaveableHelper.java:253"
        },
        {
          "method": "org.eclipse.ui.internal.SaveableHelper.savePart",
          "source": "SaveableHelper.java:148"
        },
        {
          "method": "org.eclipse.ui.internal.EditorManager.savePart",
          "source": "EditorManager.java:1345"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.savePart",
          "source": "WorkbenchPage.java:3067"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.saveEditor",
          "source": "WorkbenchPage.java:3080"
        },
        {
          "method": "org.eclipse.ui.internal.SaveAction.run",
          "source": "SaveAction.java:73"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:498"
        },
        {
          "method": "org.eclipse.jface.commands.ActionHandler.execute",
          "source": "ActionHandler.java:119"
        },
        {
          "method": "org.eclipse.core.commands.Command.executeWithChecks",
          "source": "Command.java:471"
        },
        {
          "method": "org.eclipse.core.commands.ParameterizedCommand.executeWithChecks",
          "source": "ParameterizedCommand.java:424"
        },
        {
          "method": "org.eclipse.ui.internal.handlers.HandlerService.executeCommand",
          "source": "HandlerService.java:164"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand",
          "source": "WorkbenchKeyboard.java:467"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.press",
          "source": "WorkbenchKeyboard.java:791"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent",
          "source": "WorkbenchKeyboard.java:838"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings",
          "source": "WorkbenchKeyboard.java:565"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3",
          "source": "WorkbenchKeyboard.java:507"
        },
        {
          "method": "org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent",
          "source": "WorkbenchKeyboard.java:124"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.filterEvent",
          "source": "Display.java:1139"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:937"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:962"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:947"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendKeyEvent",
          "source": "Widget.java:975"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendKeyEvent",
          "source": "Widget.java:971"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.wmChar",
          "source": "Widget.java:1285"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.WM_CHAR",
          "source": "Control.java:3770"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.windowProc",
          "source": "Control.java:3670"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:4342"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessageW",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.win32.OS.DispatchMessage",
          "source": "OS.java:2226"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3282"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2337"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2301"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2176"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:463"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:458"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:101"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:146"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:356"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:171"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:476"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:416"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1141"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1116"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "181999",
      "date": "2007-04-11T20:54:45+02:00",
      "product": "MDT",
      "component": "UML2Tools",
      "severity": "normal"
    }
  ],
  "groupId": "181999",
  "bugId": "181999",
  "date": "2007-04-11T20:54:45+02:00",
  "product": "MDT",
  "component": "UML2Tools",
  "severity": "normal"
}