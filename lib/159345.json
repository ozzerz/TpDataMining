{
  "comments": [
    "Using Mylar 0.6.2, I created a new Trac ticket using the Web UI. Then, I tried to \"Add Existing Ticket\" and got the following error:\n\n-- Error Log --\nDate: Fri Sep 29 15:57:21 BRT 2006\nMessage: Ticket download from http://vulcano/projetos/nf failed, please see details.\nSeverity: Error\nPlugin ID: org.eclipse.mylar.trac\nStack Trace:\norg.eclipse.mylar.internal.trac.core.TracException: org.eclipse.mylar.internal.trac.core.TracHttpClientTransportFactory$TracHttpException: HTTP Error 303\nat org.eclipse.mylar.internal.trac.core.TracXmlRpcClient.call(TracXmlRpcClient.java:97)\nat org.eclipse.mylar.internal.trac.core.TracXmlRpcClient.getTicket(TracXmlRpcClient.java:165)\nat org.eclipse.mylar.internal.trac.TracOfflineTaskHandler.downloadTaskData(TracOfflineTaskHandler.java:70)\nat org.eclipse.mylar.tasks.ui.SynchronizeTaskJob.run(SynchronizeTaskJob.java:91)\nat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\nCaused by: org.eclipse.mylar.internal.trac.core.TracHttpClientTransportFactory$TracHttpException: HTTP Error 303\nat org.eclipse.mylar.internal.trac.core.TracHttpClientTransportFactory$TracHttpClientTransport.getInputStream(TracHttpClientTransportFactory.java:80)\nat org.eclipse.mylar.internal.trac.core.TracHttpClientTransportFactory$TracHttpClientTransport.sendRequest(TracHttpClientTransportFactory.java:143)\nat org.apache.xmlrpc.client.XmlRpcClientWorker.execute(XmlRpcClientWorker.java:53)\nat org.apache.xmlrpc.client.XmlRpcClient.execute(XmlRpcClient.java:166)\nat org.apache.xmlrpc.client.XmlRpcClient.execute(XmlRpcClient.java:136)\nat org.apache.xmlrpc.client.XmlRpcClient.execute(XmlRpcClient.java:125)\nat org.eclipse.mylar.internal.trac.core.TracXmlRpcClient.call(TracXmlRpcClient.java:92)\n... 4 more\n\nThe Trac repository\u0027s access_log shows:\n\n128.1.1.78 - - [29/Sep/2006:15:48:37 -0300] \"POST /projetos/nf/login/xmlrpc HTTP/1.1\" 401 566 \"-\" \"Apache XML RPC 3.0 (Jakarta Commons httpcl\nient Transport)\"\n128.1.1.78 - dserodio [29/Sep/2006:15:48:37 -0300] \"POST /projetos/nf/login/xmlrpc HTTP/1.1\" 200 1038 \"-\" \"Apache XML RPC 3.0 (Jakarta Common\ns httpclient Transport)\"\n\nLooking at the stacktrace, it\u0027s not the same as 156271",
    "The same problem is present in Mylar 0.7.0. Looking at apache\u0027s error.log, I see:\n\n[Fri Sep 29 15:48:36 2006] [error] [client 128.1.1.78] Digest: client used wrong authentication scheme `Basic\u0027: /projetos/nf/login/xmlrpc\n\nIt seems that, when the \"Access Type\" is \"XML-RPC Plugin\", Mylar doesn\u0027t try to use digest auth (which is used by my Trac repository).",
    "Steffen: any news on this?",
    "Steffen: please let me know if you will be unable to investigate this for 0.8 (scheduled for next Friday)?",
    "Yes, I will look at this either today or tomorrow night.\n\nBTW, I have made some progress on the editor abstraction but I am not sure if I am going to be able to resolve the remaing errors for 0.8.",
    "I missed the comment about digest authentication. I\u0027ll need to modify the test repository to verify the problem.\n\nThe connector is supposed to try digest authentication first and fall back to basic authentication. I am not sure where the redirect comes from though. What did you enter for the ticket id?\n",
    "I have applied a few fixes to make the Trac connector work with recent changes in the Mylar framework. Adding of existing tasks works with the repository at http://mylar.eclipse.org/tractestdigest/  that uses digest authentication.\n\nCould you try to validate your credentials in the task repository properties dialog?\n",
    "Are these fixes available in a released build? If they\u0027re not, can you please post a build somewhere I can download it? Thanks.",
    "Mik is planning on posting a dev build later today (bug 117517 comment #42) that will contain the fixes.",
    "Daniel: the build is now available.  \n\nSteffen: please feel free to request a dev build whenever you would like someone to try out a fix or feature.  We do them on-demand in addition to having one out every Friday.",
    "I still get the same behaviour with 0.7.0.v20061016-2130\n\nHere\u0027s the relevant portion of my Trac\u0027s Apache config:\n\n\u003cLocation /projetos\u003e\n    # Trac setup\n    SetHandler mod_python\n    PythonHandler   trac.web.modpython_frontend\n    PythonOption    TracUriRoot         /projetos\n    PythonOption    TracEnvParentDir    /var/lib/trac\n    PythonOption    TracEnvIndexTemplate    /usr/share/trac/templates/env_index.cs\n    SetEnv          PYTHON_EGG_CACHE    /tmp/trac\n\n    # Auth\n    AuthType            Digest\n    AuthName            \"Intranet APT\"\n    AuthDigestFile      /var/lib/svn/conf/htdigest\n    AuthDigestGroupFile /var/lib/svn/conf/group\n    AuthDigestDomain    /projetos/\n    Require             valid-user\n\n    BrowserMatch    \"MSIE\"  AuthDigestEnableQueryStringHack\u003dOn\n\u003c/Location\u003e\n\nIs there something else I can do to help troubleshoot this problem?",
    "Need to push off to 0.9.\n\nSteffen: any ideas?  For Bugzilla we\u0027ve had to add detailed error handling to deal with this kind of problem, so if you need to put info or error item into the log to diagnose this kind of thing feel free, as long as they don\u0027t pollute the log on normal operation.",
    "I have setup the test repository in the exact same way but have not been able to reproduce the redirect. The apache log on the mylar test server looks exactly the same (including the error about the basic authentication scheme).\n\nDaniel, could you paste the stack trace that is produced by the latest dev build? What version of the Trac XmlRpc Plugin are you using?\n\nCould you also try to to validate your credentials in the properties dialog of the task repository?\n\nThanks for your help.",
    "Using Monday\u0027s dev build (0.7.0.v20061016-2130), the \"Validate Settings\" reported an error if \"XML-RPC Plugin\" was selected.\n\nI updated to today\u0027s build (0.7.0.v20061019-0130), and since I couldn\u0027t find out which version of the XML-RPC Plugin I has installed, I updated it to r1278.\n\nThen, I clicked on \"Validate Settings\" and it reported no errors. I tried to add an existing Trac ticket, and got:\n\norg.eclipse.mylar.internal.trac.core.TracException: org.eclipse.mylar.internal.trac.core.util.TracHttpClientTransportFactory$TracHttpException: HTTP Error 303\nat org.eclipse.mylar.internal.trac.core.TracXmlRpcClient.call(TracXmlRpcClient.java:99)\nat org.eclipse.mylar.internal.trac.core.TracXmlRpcClient.getAttributes(TracXmlRpcClient.java:361)\nat org.eclipse.mylar.internal.trac.core.TracXmlRpcClient.updateAttributes(TracXmlRpcClient.java:259)\nat org.eclipse.mylar.internal.trac.core.AbstractTracClient.updateAttributes(AbstractTracClient.java:100)\nat org.eclipse.mylar.internal.trac.core.TracOfflineTaskHandler.downloadTaskData(TracOfflineTaskHandler.java:72)\nat org.eclipse.mylar.internal.trac.core.TracRepositoryConnector.createTaskFromExistingKey(TracRepositoryConnector.java:159)\nat org.eclipse.mylar.internal.tasks.ui.wizards.CommonAddExistingTaskWizard$AddExistingTaskJob.run(CommonAddExistingTaskWizard.java:76)\nat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)\nCaused by: org.eclipse.mylar.internal.trac.core.util.TracHttpClientTransportFactory$TracHttpException: HTTP Error 303\nat org.eclipse.mylar.internal.trac.core.util.TracHttpClientTransportFactory$TracHttpClientTransport.getInputStream(TracHttpClientTransportFactory.java:80)\nat org.eclipse.mylar.internal.trac.core.util.TracHttpClientTransportFactory$TracHttpClientTransport.sendRequest(TracHttpClientTransportFactory.java:142)\nat org.apache.xmlrpc.client.XmlRpcClientWorker.execute(XmlRpcClientWorker.java:53)\nat org.apache.xmlrpc.client.XmlRpcClient.execute(XmlRpcClient.java:166)\nat org.apache.xmlrpc.client.XmlRpcClient.execute(XmlRpcClient.java:136)\nat org.apache.xmlrpc.client.XmlRpcClient.execute(XmlRpcClient.java:125)\nat org.eclipse.mylar.internal.trac.core.TracXmlRpcClient.call(TracXmlRpcClient.java:94)\n... 7 more\n\nJust to be sure, I tried to \"Validate Settings\" again, and this time I got an error message about HTTP Error 303. I restarted Eclipse with -clean, tried to validate the credentials again, and got an error.\n\nWithout closing the dialog, I tried to validate the credentials again, and it validated. I kept trying to validate again and again and again, and sometimes it works, sometimes it doesn\u0027t; the behaviour is pretty much intermittent and I wasn\u0027t able to recognize a pattern.\n\nI\u0027m glad to help, and thankful for your effort.",
    "I looked through the Trac sources and it is still not clear to me why the redirect occurs. It should at least show up in the web server logs. \n\nCould you try to restart your web server (in case you didn\u0027t already for the update of the XmlRpc Plug-in)? I have seen multiple instances of Trac running concurrently which causes odd behavior depending on which instance gets to handle the request.\n\nOn which web server and OS is the Trac repository running? Is the repository available through https also?",
    "Any news on this? Did you try restarting Apache?\n",
    "Trac is running on Debian with Apache 2.0.55 and mod_python 3.1.3. It\u0027s available thru http only. I forgot to mention that Trac is not 0.10, but an \"experimental\" package built from r3514. \n\nI\u0027ll see if I can update the Trac version later this week, and I\u0027ll keep you posted.\n\nPS: Sorry, I had this partly-written reply here in Mylar for a while, but forgot to synchronize it with Bugzilla...",
    "I\u0027ve finally managed to upgrade my Trac installation, but now the XML-RPC plugin stopped working... :-(\nhttp://groups.google.com/group/trac-users/browse_frm/thread/b58ff25e85d17407",
    "I just tested the latest XML-RPC plug-in (that has a fix for the missing \u0027\u003e\u0027) with Trac 0.10.2 and it worked. I used the stand-alone daemon though and did not run it on Apache.",
    "At last! I\u0027m finally able to add existing tickets from Trac to Mylar. Thank you very much for your efforts.",
    "Great! Thanks for your testing efforts."
  ],
  "commentCreationDates": [
    "2006-09-29T21:14:25+02:00",
    "2006-10-03T17:06:06+02:00",
    "2006-10-03T22:57:56+02:00",
    "2006-10-10T21:54:28+02:00",
    "2006-10-10T22:17:19+02:00",
    "2006-10-12T06:44:47+02:00",
    "2006-10-13T01:14:42+02:00",
    "2006-10-16T16:57:28+02:00",
    "2006-10-16T17:49:08+02:00",
    "2006-10-17T04:14:51+02:00",
    "2006-10-17T15:46:10+02:00",
    "2006-10-20T17:31:42+02:00",
    "2006-10-20T20:46:59+02:00",
    "2006-10-20T21:59:36+02:00",
    "2006-10-21T02:00:09+02:00",
    "2006-11-12T04:14:16+01:00",
    "2006-11-13T16:18:09+01:00",
    "2006-12-01T21:53:23+01:00",
    "2006-12-02T02:46:53+01:00",
    "2006-12-04T17:01:18+01:00",
    "2006-12-04T17:05:49+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.mylar.internal.trac.core.TracHttpClientTransportFactory$TracHttpException",
      "message": "HTTP Error 303",
      "elements": [
        {
          "method": "org.eclipse.mylar.internal.trac.core.TracXmlRpcClient.call",
          "source": "TracXmlRpcClient.java:97"
        },
        {
          "method": "org.eclipse.mylar.internal.trac.core.TracXmlRpcClient.getTicket",
          "source": "TracXmlRpcClient.java:165"
        },
        {
          "method": "org.eclipse.mylar.internal.trac.TracOfflineTaskHandler.downloadTaskData",
          "source": "TracOfflineTaskHandler.java:70"
        },
        {
          "method": "org.eclipse.mylar.tasks.ui.SynchronizeTaskJob.run",
          "source": "SynchronizeTaskJob.java:91"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "causedBy": {
        "exceptionType": "org.eclipse.mylar.internal.trac.core.TracHttpClientTransportFactory$TracHttpException",
        "message": "HTTP Error 303",
        "elements": [
          {
            "method": "org.eclipse.mylar.internal.trac.core.TracHttpClientTransportFactory$TracHttpClientTransport.getInputStream",
            "source": "TracHttpClientTransportFactory.java:80"
          },
          {
            "method": "org.eclipse.mylar.internal.trac.core.TracHttpClientTransportFactory$TracHttpClientTransport.sendRequest",
            "source": "TracHttpClientTransportFactory.java:143"
          },
          {
            "method": "org.apache.xmlrpc.client.XmlRpcClientWorker.execute",
            "source": "XmlRpcClientWorker.java:53"
          },
          {
            "method": "org.apache.xmlrpc.client.XmlRpcClient.execute",
            "source": "XmlRpcClient.java:166"
          },
          {
            "method": "org.apache.xmlrpc.client.XmlRpcClient.execute",
            "source": "XmlRpcClient.java:136"
          },
          {
            "method": "org.apache.xmlrpc.client.XmlRpcClient.execute",
            "source": "XmlRpcClient.java:125"
          },
          {
            "method": "org.eclipse.mylar.internal.trac.core.TracXmlRpcClient.call",
            "source": "TracXmlRpcClient.java:92"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "159345",
      "date": "2006-09-29T21:14:25+02:00",
      "product": "Mylyn",
      "component": "Trac",
      "severity": "normal"
    },
    {
      "exceptionType": "org.eclipse.mylar.internal.trac.core.util.TracHttpClientTransportFactory$TracHttpException",
      "message": "HTTP Error 303",
      "elements": [
        {
          "method": "org.eclipse.mylar.internal.trac.core.TracXmlRpcClient.call",
          "source": "TracXmlRpcClient.java:99"
        },
        {
          "method": "org.eclipse.mylar.internal.trac.core.TracXmlRpcClient.getAttributes",
          "source": "TracXmlRpcClient.java:361"
        },
        {
          "method": "org.eclipse.mylar.internal.trac.core.TracXmlRpcClient.updateAttributes",
          "source": "TracXmlRpcClient.java:259"
        },
        {
          "method": "org.eclipse.mylar.internal.trac.core.AbstractTracClient.updateAttributes",
          "source": "AbstractTracClient.java:100"
        },
        {
          "method": "org.eclipse.mylar.internal.trac.core.TracOfflineTaskHandler.downloadTaskData",
          "source": "TracOfflineTaskHandler.java:72"
        },
        {
          "method": "org.eclipse.mylar.internal.trac.core.TracRepositoryConnector.createTaskFromExistingKey",
          "source": "TracRepositoryConnector.java:159"
        },
        {
          "method": "org.eclipse.mylar.internal.tasks.ui.wizards.CommonAddExistingTaskWizard$AddExistingTaskJob.run",
          "source": "CommonAddExistingTaskWizard.java:76"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "causedBy": {
        "exceptionType": "org.eclipse.mylar.internal.trac.core.util.TracHttpClientTransportFactory$TracHttpException",
        "message": "HTTP Error 303",
        "elements": [
          {
            "method": "org.eclipse.mylar.internal.trac.core.util.TracHttpClientTransportFactory$TracHttpClientTransport.getInputStream",
            "source": "TracHttpClientTransportFactory.java:80"
          },
          {
            "method": "org.eclipse.mylar.internal.trac.core.util.TracHttpClientTransportFactory$TracHttpClientTransport.sendRequest",
            "source": "TracHttpClientTransportFactory.java:142"
          },
          {
            "method": "org.apache.xmlrpc.client.XmlRpcClientWorker.execute",
            "source": "XmlRpcClientWorker.java:53"
          },
          {
            "method": "org.apache.xmlrpc.client.XmlRpcClient.execute",
            "source": "XmlRpcClient.java:166"
          },
          {
            "method": "org.apache.xmlrpc.client.XmlRpcClient.execute",
            "source": "XmlRpcClient.java:136"
          },
          {
            "method": "org.apache.xmlrpc.client.XmlRpcClient.execute",
            "source": "XmlRpcClient.java:125"
          },
          {
            "method": "org.eclipse.mylar.internal.trac.core.TracXmlRpcClient.call",
            "source": "TracXmlRpcClient.java:94"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 1,
      "commentIndex": 13,
      "bugId": "159345",
      "date": "2006-10-20T21:59:36+02:00",
      "product": "Mylyn",
      "component": "Trac",
      "severity": "normal"
    }
  ],
  "groupId": "159345",
  "bugId": "159345",
  "date": "2006-09-29T21:14:25+02:00",
  "product": "Mylyn",
  "component": "Trac",
  "severity": "normal"
}