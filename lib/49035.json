{
  "comments": [
    "I got this when trying to reproduce bug 49008.\n\n- start up the build\n- import JDT-UI and all required plug-ins as binary projects\n- import osgi.services (not sure why it wasn\u0027t included before)\n- create new runtime workbench launch config\n- disable all external plug-ins and features\n- get the following stack trace on startup\n\nosgi\u003e !ENTRY org.eclipse.pde.core 4 4 Dec 17, 2003 11:14:27.892\n!MESSAGE Exception caught while creating platform configuration.\n!STACK 0\njava.lang.NullPointerException\n        at java.lang.Throwable.\u003cinit\u003e(Throwable.java)\n        at java.lang.Throwable.\u003cinit\u003e(Throwable.java:73)\n        at java.lang.NullPointerException.\u003cinit\u003e(NullPointerException.java:60)\n        at org.eclipse.pde.internal.core.DefaultRuntimeSupport.getPluginLocation\n(DefaultRuntimeSupport.java:39)\n        at org.eclipse.pde.internal.core.TargetPlatform.getPluginLocation(Target\nPlatform.java:356)\n        at org.eclipse.pde.internal.core.TargetPlatform.createConfigurationEntri\nes(TargetPlatform.java:345)\n        at org.eclipse.pde.internal.core.TargetPlatform.savePlatformConfiguratio\nn(TargetPlatform.java:275)\n        at org.eclipse.pde.internal.core.TargetPlatform.createPlatformConfigurat\nionArea(TargetPlatform.java:174)\n        at org.eclipse.pde.internal.ui.launcher.WorkbenchLaunchConfigurationDele\ngate.getProgramArguments(WorkbenchLaunchConfigurationDelegate.java:138)\n        at org.eclipse.pde.internal.ui.launcher.WorkbenchLaunchConfigurationDele\ngate.createVMRunner(WorkbenchLaunchConfigurationDelegate.java:86)\n        at org.eclipse.pde.internal.ui.launcher.WorkbenchLaunchConfigurationDele\ngate.launch(WorkbenchLaunchConfigurationDelegate.java:47)\n        at org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConf\niguration.java:156)\n        at org.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch(DebugUIPlu\ngin.java:740)\n        at org.eclipse.debug.ui.DebugUITools.buildAndLaunch(DebugUITools.java:62\n5)\n        at org.eclipse.debug.ui.DebugUITools$3.run(DebugUITools.java:581)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java)",
    "Sorry, I should have noted that I am using:\nbuild i1216:1717\nwinxp\nj9sc1212",
    "Dejan, NPEs with default runtime support has been appearing more and more \nfrequently in all aspects of self-hosting.\nFirst, bug 47255 (and many duplicates) and now this.  Did you ever figure out \nwhat is going on there?",
    "This is just coincidence. IMHO, the real problem is in the runtime - a number \nof assumptions we made in the past is not true in some situations any more.",
    "We didn\u0027t change this code in a while, but we did change the runtime and the \nstartup code and the way we configure what gets to run.",
    "The problem has nothing to do with DefaultRuntimeSupport. \nMethod \u0027getPluginLocation\u0027 crashes because it is given a null.\nThe real cause is in TargetPlatform class, namely in \nTargetPlatform.createConfigurationEntries. Looks like we are passing\nbootModel that is null:\n\n\t\t// Set boot location\n\t\tIPath bootPath \u003d getPluginLocation(bootModel);\n\t\tURL bootURL \u003d new URL(\"file:\" + bootPath.toOSString()); //$NON-\nNLS-1$",
    "Dejan, I realized that.  However, prematurely pointing the finger at you is \nalways fun :-)",
    "I never lost my cool, knowing that I conviniently didn\u0027t touch that class for a \nlong time :-).",
    "We still have bug 47255 to worry about though.",
    "The NPE is fixed.  When creating the platform.cfg, I was still setting the \nbootlocation as we did for 2.1, because I was not sure if Dorian needed it for \nUpdate.  So I played it safe by leaving the platform.cfg unchanged until \nfurther notice.\n\nHowever, when launching against an osgi platform, core.boot is not mandatory, \nso it is possible to launch without it and hence get a null pointer.  So when \nin osgi mode, I no longer set the boot location in platform.cfg because Jeff \ndoes not need it, and Dorian informed me that he didnt\u0027 either.\n\nThis NPE never occurs when the target platform is not osgi, because in this \ncase, if core.boot is missing, we don\u0027t even launch.\nIn osgi, the mandatory plugins, are the ones we set in the config.ini file.\n\nNote that with DJ\u0027s setup as described in this bug, you currently still won\u0027t \nbe able to launch.  You will get past the NPE, but bug 49008 will stop you.",
    "One more thing:\norg.eclipse.osgi.services was not automatically added to jdt ui\u0027s list of \nprereqs, but no plugin explicity requires it."
  ],
  "commentCreationDates": [
    "2003-12-17T16:18:01+01:00",
    "2003-12-17T16:18:42+01:00",
    "2003-12-17T16:48:16+01:00",
    "2003-12-17T16:51:13+01:00",
    "2003-12-17T16:55:08+01:00",
    "2003-12-17T17:05:49+01:00",
    "2003-12-17T17:08:22+01:00",
    "2003-12-17T17:10:05+01:00",
    "2003-12-17T17:12:03+01:00",
    "2003-12-17T17:30:42+01:00",
    "2003-12-17T17:32:15+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "java.lang.Throwable.\u003cinit\u003e",
          "source": "Throwable.java"
        },
        {
          "method": "java.lang.Throwable.\u003cinit\u003e",
          "source": "Throwable.java:73"
        },
        {
          "method": "java.lang.NullPointerException.\u003cinit\u003e",
          "source": "NullPointerException.java:60"
        },
        {
          "method": "org.eclipse.pde.internal.core.DefaultRuntimeSupport.getPluginLocation",
          "source": "DefaultRuntimeSupport.java:39"
        },
        {
          "method": "org.eclipse.pde.internal.core.TargetPlatform.getPluginLocation",
          "source": "Target Platform.java:356"
        },
        {
          "method": "org.eclipse.pde.internal.core.TargetPlatform.createConfigurationEntries",
          "source": "TargetPlatform.java:345"
        },
        {
          "method": "org.eclipse.pde.internal.core.TargetPlatform.savePlatformConfiguration",
          "source": "TargetPlatform.java:275"
        },
        {
          "method": "org.eclipse.pde.internal.core.TargetPlatform.createPlatformConfigurationArea",
          "source": "TargetPlatform.java:174"
        },
        {
          "method": "org.eclipse.pde.internal.ui.launcher.WorkbenchLaunchConfigurationDelegate.getProgramArguments",
          "source": "WorkbenchLaunchConfigurationDelegate.java:138"
        },
        {
          "method": "org.eclipse.pde.internal.ui.launcher.WorkbenchLaunchConfigurationDelegate.createVMRunner",
          "source": "WorkbenchLaunchConfigurationDelegate.java:86"
        },
        {
          "method": "org.eclipse.pde.internal.ui.launcher.WorkbenchLaunchConfigurationDelegate.launch",
          "source": "WorkbenchLaunchConfigurationDelegate.java:47"
        },
        {
          "method": "org.eclipse.debug.internal.core.LaunchConfiguration.launch",
          "source": "LaunchConf iguration.java:156"
        },
        {
          "method": "org.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch",
          "source": "DebugUIPlu gin.java:740"
        },
        {
          "method": "org.eclipse.debug.ui.DebugUITools.buildAndLaunch",
          "source": "DebugUITools.java:62 5"
        },
        {
          "method": "org.eclipse.debug.ui.DebugUITools$3.run",
          "source": "DebugUITools.java:581"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "49035",
      "date": "2003-12-17T16:18:01+01:00",
      "product": "PDE",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "49035",
  "bugId": "49035",
  "date": "2003-12-17T16:18:01+01:00",
  "product": "PDE",
  "component": "UI",
  "severity": "normal"
}