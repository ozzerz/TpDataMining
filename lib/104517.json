{
  "comments": [
    "The RCP UI tests currently run with all SDK plug-ins enabled.  This leads to\ncases where there are more views, toolbar items, ... than there would be in a\ntypical RCP app.  For example, in the context of the automated tests, an \"empty\"\nRCP app always has some toolbar items coming from SDK plug-ins, and this makes\nit impossible to test cases where you need an empty tool bar.\n\nWith help from Rafael, I managed to write a session test that runs with only the\nminimal set of RCP plug-ins.  However, this starts an Eclipse instance for every\ntest case.\n\nWe would like to be able to run a whole suite of tests as one session test, but\nget the individual test results reported as if the suite had not been run as a\nsession test.",
    "Created an attachment (id\u003d25278)\npatch for org.eclipse.core.tests.harness\n\nAdds support for running test suites in a single session. Usage:\n\nSessionTestSuite suite \u003d new SessionTestSuite(\u003cplug-in id\u003e, \u003csuite-class\u003e);\nsuite.setSharedSession(true);\n\nRestriction: this is the only form of creation supported, and crash tests\n(tests that are expected to crash the VM) are not supported.",
    "The patch only works if the suite class given has a number of test... methods \nitself.  I would like to use this for all our RCP tests, which means that the \ngiven suite class will have a suite() method that returns a suite of tests.\n\nIf I run my suite, I\u0027m getting a NPE at SessionTestRunner.java:111 which is \nprinted on the console, then the tests seem to be executed, but in the end I \nget just one error:\n\njava.lang.Exception: Test did not run\n\tat org.eclipse.core.tests.session.SessionTestRunner.run\n(SessionTestRunner.java:295)\n\tat org.eclipse.core.tests.session.SessionTestSuite.run\n(SessionTestSuite.java:139)\n\tat org.eclipse.core.tests.session.ConfigurationSessionTestSuite.run\n(ConfigurationSessionTestSuite.java:174)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests\n(RemoteTestRunner.java:478)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run\n(RemoteTestRunner.java:344)\n\tat org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main\n(RemotePluginTestRunner.java:57)\n\tat org.eclipse.pde.internal.junit.runtime.CoreTestApplication.run\n(CoreTestApplication.java:24)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run\n(PlatformActivator.java:226)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:376)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:163)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n\tat org.eclipse.core.launcher.Main.run(Main.java:973)\n\tat org.eclipse.core.launcher.Main.main(Main.java:948)\n\n",
    "Created an attachment (id\u003d25314)\npatch for org.eclipse.core.tests.harness\n\nI had made some wrong assumptions on how the junit.framework.TestSuite(Class)\nconstructor works (it does not handle suite() methods).\n\nThis new implementation requires the plug-in id constructor to be used (a Class\nshould *not* be provided), and then the test suite (only one) that is to be run\nmust be added as an additional step. This test suite can contain other suites.\nExample:\n\nSessionTestSuite suite \u003d new SessionTestSuite(\"org.eclipse.ui.tests.rcp\");\nsuite.addTest(new RcpTestSuite());\nsuite.setSharedSession(true);\n\nor: \n\nSessionTestSuite suite \u003d new SessionTestSuite(\"my.plugin\");\nsuite.addTestSuite(MyTestCase.class);\nsuite.setSharedSession(true);\n\nBoris, could you give this a try? I will release this as soon we know we won\u0027t\nhave any more i-builds this week.",
    "Boris verified the fix works for him.\n\nReleased to HEAD.",
    "*** Bug 79506 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2005-07-20T17:55:17+02:00",
    "2005-07-26T00:43:30+02:00",
    "2005-07-26T17:36:57+02:00",
    "2005-07-26T19:57:36+02:00",
    "2005-07-27T17:53:16+02:00",
    "2005-08-11T03:05:52+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.Exception",
      "message": "Test did not run",
      "elements": [
        {
          "method": "org.eclipse.core.tests.session.SessionTestRunner.run",
          "source": "SessionTestRunner.java:295"
        },
        {
          "method": "org.eclipse.core.tests.session.SessionTestSuite.run",
          "source": "SessionTestSuite.java:139"
        },
        {
          "method": "org.eclipse.core.tests.session.ConfigurationSessionTestSuite.run",
          "source": "ConfigurationSessionTestSuite.java:174"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests",
          "source": "RemoteTestRunner.java:478"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run",
          "source": "RemoteTestRunner.java:344"
        },
        {
          "method": "org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main",
          "source": "RemotePluginTestRunner.java:57"
        },
        {
          "method": "org.eclipse.pde.internal.junit.runtime.CoreTestApplication.run",
          "source": "CoreTestApplication.java:24"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "number": 0,
      "commentIndex": 2,
      "bugId": "104517",
      "date": "2005-07-26T17:36:57+02:00",
      "product": "Platform",
      "component": "Runtime",
      "severity": "normal"
    }
  ],
  "groupId": "104517",
  "bugId": "104517",
  "date": "2005-07-20T17:55:17+02:00",
  "product": "Platform",
  "component": "Runtime",
  "severity": "normal"
}