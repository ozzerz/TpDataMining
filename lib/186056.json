{
  "comments": [
    "+++ This bug was initially created as a clone of Bug #178444 +++\n\nDeploying a web service to Tomcat 6 is currently broken because we need to make changes to handle JEE5 case.\n\nThe new API is in developement, please see bug 175139 for details.",
    "Assuming RFE bug 175139 is completed and available in RC0 (but no earlier), we will not be able to react until RC1 at earliest. Chuck, when do you expect bug 175139 to be in a build?",
    "Also watch bug 186400 for details on bridging ArtifactEdit for JEE 5 projects.",
    "When using the current API, we run into the error (bug 184075):\n\nIWAB0020E Error in adding servlet in web.xml.\n    java.lang.ClassCastException:\norg.eclipse.jst.javaee.web.internal.util.WebResourceImpl\n    at\norg.eclipse.jst.j2ee.web.componentcore.util.WebArtifactEdit.getDeploymentDescriptorRoot(WebArtifactEdit.java:332)\n    at\norg.eclipse.jst.ws.internal.axis.creation.ui.command.UpdateWEBXMLCommand.addServlet(UpdateWEBXMLCommand.java:99)\n    at\norg.eclipse.jst.ws.internal.axis.creation.ui.command.UpdateWEBXMLCommand.execute(UpdateWEBXMLCommand.java:53)\n    at\norg.eclipse.jst.ws.internal.axis.creation.ui.command.BUCodeGenOperation$BottomUpWSModifyOperation.execute(BUCodeGenOperation.java:144)\n    at\norg.eclipse.jst.ws.internal.axis.creation.ui.command.BUCodeGenOperation.execute(BUCodeGenOperation.java:80)\n",
    "Didn\u0027t make it into RC1.  Retargetting to RC2.",
    "Still waiting for common API and helper method (bug 187899).",
    "The Problem:\n\nCannot create Axis 1.4 Web service on JEE5 servers such as Tomcat 6.0 since it has a different model for web.xml.\n\nSolution:\n\nUse org.eclipse.jst.j2ee.model.IModelProvider to get the model for the WebApp.  Since bug 187899 (common interface for WebApp) has not been addressed yet, when we are adding the Axis servlets, we are adding code to distinguish between JEE5 Web application  (org.eclipse.jst.javaee.web.WebApp) and non-JEE5 Web application (org.eclipse.jst.j2ee.webapplication.WebApp) models.  \n\nTesting:\n\nSuccessfully created Axis 1.4 Web service using Tomcat 6.0 (after working around bug 189473) and on Tomcat 5.5.\n\nRisk:\n\nLow.\n\nReviewed by:\nPeter Moogk\n\nBringing up for PMC approval for WTP 2.0 RC2.",
    "Patch committed to HEAD and released as v200705291733.",
    "Created an attachment (id\u003d69097)\nPatch\n\nSorry.  I forgot to attach a patch earlier.",
    "Verified TD, BU, Client scenarios in RC2.",
    "Verified. Closing."
  ],
  "commentCreationDates": [
    "2007-05-09T01:32:12+02:00",
    "2007-05-09T17:45:28+02:00",
    "2007-05-10T22:56:17+02:00",
    "2007-05-16T19:37:12+02:00",
    "2007-05-23T22:50:15+02:00",
    "2007-05-23T22:59:35+02:00",
    "2007-05-29T18:15:26+02:00",
    "2007-05-29T19:35:16+02:00",
    "2007-05-29T19:38:06+02:00",
    "2007-06-06T17:24:33+02:00",
    "2007-06-12T18:00:58+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.jst.javaee.web.internal.util.WebResourceImpl",
      "elements": [
        {
          "method": "org.eclipse.jst.j2ee.web.componentcore.util.WebArtifactEdit.getDeploymentDescriptorRoot",
          "source": "WebArtifactEdit.java:332"
        },
        {
          "method": "org.eclipse.jst.ws.internal.axis.creation.ui.command.UpdateWEBXMLCommand.addServlet",
          "source": "UpdateWEBXMLCommand.java:99"
        },
        {
          "method": "org.eclipse.jst.ws.internal.axis.creation.ui.command.UpdateWEBXMLCommand.execute",
          "source": "UpdateWEBXMLCommand.java:53"
        },
        {
          "method": "org.eclipse.jst.ws.internal.axis.creation.ui.command.BUCodeGenOperation$BottomUpWSModifyOperation.execute",
          "source": "BUCodeGenOperation.java:144"
        },
        {
          "method": "org.eclipse.jst.ws.internal.axis.creation.ui.command.BUCodeGenOperation.execute",
          "source": "BUCodeGenOperation.java:80"
        }
      ],
      "number": 0,
      "commentIndex": 3,
      "bugId": "186056",
      "date": "2007-05-16T19:37:12+02:00",
      "product": "Web Tools",
      "component": "jst.ws",
      "severity": "normal"
    }
  ],
  "groupId": "186056",
  "bugId": "186056",
  "date": "2007-05-09T01:32:12+02:00",
  "product": "Web Tools",
  "component": "jst.ws",
  "severity": "normal"
}