{
  "comments": [
    "I compiled the following code and I got the stack trace below.\nVersion used: Latest contents of JDTCORE HEAD on build 1127.\n\n[package p;\n\npublic class A {\n\n\tprotected void foo() {\n\t}\n\t\n\tprotected A a;\n\t\n\tpublic class F {\n\tpublic class D {\n\tpublic class B {\n\t\t\n\t\tpublic void bar() {\n\t\t\tfoo();\n\t\t\tclass C {\n\t\t\t\tvoid bar() {\n\t\t\t\t\tfoo();\n\t\t\t\t}\n\t\t\t}\n\t\t\tnew C().bar();\n\t\t}\n\t\t\n\t\tpublic Object bar2() {\n\t\t\tfoo();\n\t\t\treturn (new A() {\n\t\t\t\tObject foo2() {\n\t\t\t\t\tfoo();\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}).foo2();\n\t\t}\n\n\t}\n\t}\n\t}\n}]\n\njava.lang.ArrayIndexOutOfBoundsException: 5\n\tat \norg.eclipse.jdt.internal.core.search.indexing.SourceIndexerRequestor.popTypeName\n(SourceIndexerRequestor.java:243)\n\tat \norg.eclipse.jdt.internal.core.search.indexing.SourceIndexerRequestor.exitClass(S\nourceIndexerRequestor.java:204)\n\tat \norg.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequest\nor(SourceElementParser.java:926)\n\tat \norg.eclipse.jdt.internal.compiler.SourceElementParser$LocalDeclarationVisitor.vi\nsit(SourceElementParser.java:63)\n\tat \norg.eclipse.jdt.internal.compiler.ast.LocalTypeDeclaration.traverse(LocalTypeDec\nlaration.java:23)\n\tat \norg.eclipse.jdt.internal.compiler.SourceElementParser.visitIfNeeded(SourceElemen\ntParser.java:1199)\n\tat \norg.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequest\nor(SourceElementParser.java:746)\n\tat \norg.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequest\nor(SourceElementParser.java:915)\n\tat \norg.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequest\nor(SourceElementParser.java:919)\n\tat \norg.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequest\nor(SourceElementParser.java:919)\n\tat \norg.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequest\nor(SourceElementParser.java:919)\n\tat \norg.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequest\nor(SourceElementParser.java:581)\n\tat \norg.eclipse.jdt.internal.compiler.SourceElementParser.endParse(SourceElementPars\ner.java:328)\n\tat \norg.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java(Compiled \nCode))\n\tat \norg.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:6651)\n\tat \norg.eclipse.jdt.internal.compiler.SourceElementParser.parseCompilationUnit(Sourc\neElementParser.java:971)\n\tat \norg.eclipse.jdt.internal.core.search.indexing.SourceIndexer.indexFile(SourceInde\nxer.java:66)\n\tat \norg.eclipse.jdt.internal.core.search.indexing.AbstractIndexer.index(AbstractInde\nxer.java(Compiled Code))\n\tat \norg.eclipse.jdt.internal.core.index.impl.Index.add(Index.java(Compiled Code))\n\tat \norg.eclipse.jdt.internal.core.search.indexing.AddCompilationUnitToIndex.execute(\nAddCompilationUnitToIndex.java:54)\n\tat \norg.eclipse.jdt.internal.core.search.processing.JobManager.run(JobManager.java:2\n66)\n\tat java.lang.Thread.run(Thread.java:498)\njava.lang.ArrayIndexOutOfBoundsException: 5\n\tat \norg.eclipse.jdt.internal.core.search.indexing.SourceIndexerRequestor.popTypeName\n(SourceIndexerRequestor.java:243)\n\tat \norg.eclipse.jdt.internal.core.search.indexing.SourceIndexerRequestor.exitClass(S\nourceIndexerRequestor.java:204)\n\tat \norg.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequest\nor(SourceElementParser.java:926)\n\tat \norg.eclipse.jdt.internal.compiler.SourceElementParser$LocalDeclarationVisitor.vi\nsit(SourceElementParser.java:59)\n\tat \norg.eclipse.jdt.internal.compiler.ast.AnonymousLocalTypeDeclaration.traverse(Ano\nnymousLocalTypeDeclaration.java:124)\n\tat \norg.eclipse.jdt.internal.compiler.ast.QualifiedAllocationExpression.traverse(Qua\nlifiedAllocationExpression.java:259)\n\tat \norg.eclipse.jdt.internal.compiler.ast.MessageSend.traverse(MessageSend.java:254)\n\tat \norg.eclipse.jdt.internal.compiler.ast.ReturnStatement.traverse(ReturnStatement.j\nava:237)\n\tat \norg.eclipse.jdt.internal.compiler.SourceElementParser.visitIfNeeded(SourceElemen\ntParser.java:1199)\n\tat \norg.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequest\nor(SourceElementParser.java:746)\n\tat \norg.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequest\nor(SourceElementParser.java:915)\n\tat \norg.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequest\nor(SourceElementParser.java:919)\n\tat \norg.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequest\nor(SourceElementParser.java:919)\n\tat \norg.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequest\nor(SourceElementParser.java:919)\n\tat \norg.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequest\nor(SourceElementParser.java:581)\n\tat \norg.eclipse.jdt.internal.compiler.SourceElementParser.endParse(SourceElementPars\ner.java:328)\n\tat \norg.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java(Compiled \nCode))\n\tat \norg.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:6651)\n\tat \norg.eclipse.jdt.internal.compiler.SourceElementParser.parseCompilationUnit(Sourc\neElementParser.java:971)\n\tat \norg.eclipse.jdt.internal.core.search.indexing.SourceIndexer.indexFile(SourceInde\nxer.java:66)\n\tat \norg.eclipse.jdt.internal.core.search.indexing.AbstractIndexer.index(AbstractInde\nxer.java(Compiled Code))\n\tat \norg.eclipse.jdt.internal.core.index.impl.Index.add(Index.java(Compiled Code))\n\tat \norg.eclipse.jdt.internal.core.search.indexing.AddCompilationUnitToIndex.execute(\nAddCompilationUnitToIndex.java:54)\n\tat \norg.eclipse.jdt.internal.core.search.processing.JobManager.run(JobManager.java:2\n66)\n\tat java.lang.Thread.run(Thread.java:498)",
    "Fix is:\n\npublic void popTypeName(){\n\ttry {\n\tenclosingTypeNames[--depth] \u003d null;\n\t} catch (ArrayIndexOutOfBoundsException e) {\n\t\te.printStackTrace();\n\t}\n}",
    "Fixed"
  ],
  "commentCreationDates": [
    "2001-11-29T16:46:58+01:00",
    "2001-11-29T16:51:49+01:00",
    "2001-11-29T16:55:00+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "5",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.SourceIndexerRequestor.popTypeName",
          "source": "SourceIndexerRequestor.java:243"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.SourceIndexerRequestor.exitClass",
          "source": "S ourceIndexerRequestor.java:204"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequestor",
          "source": "SourceElementParser.java:926"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.SourceElementParser$LocalDeclarationVisitor.visit",
          "source": "SourceElementParser.java:63"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.LocalTypeDeclaration.traverse",
          "source": "LocalTypeDec laration.java:23"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.SourceElementParser.visitIfNeeded",
          "source": "SourceElemen tParser.java:1199"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequestor",
          "source": "SourceElementParser.java:746"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequestor",
          "source": "SourceElementParser.java:915"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequestor",
          "source": "SourceElementParser.java:919"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequestor",
          "source": "SourceElementParser.java:919"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequestor",
          "source": "SourceElementParser.java:919"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequestor",
          "source": "SourceElementParser.java:581"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.SourceElementParser.endParse",
          "source": "SourceElementPars er.java:328"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.parser.Parser.parse",
          "source": "Parser.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.parser.Parser.parse",
          "source": "Parser.java:6651"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.SourceElementParser.parseCompilationUnit",
          "source": "Sourc eElementParser.java:971"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.SourceIndexer.indexFile",
          "source": "SourceInde xer.java:66"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.AbstractIndexer.index",
          "source": "AbstractInde xer.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jdt.internal.core.index.impl.Index.add",
          "source": "Index.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.AddCompilationUnitToIndex.execute",
          "source": " AddCompilationUnitToIndex.java:54"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.processing.JobManager.run",
          "source": "JobManager.java:2 66"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:498"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "6431",
      "date": "2001-11-29T16:46:58+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "5",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.SourceIndexerRequestor.popTypeName",
          "source": "SourceIndexerRequestor.java:243"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.SourceIndexerRequestor.exitClass",
          "source": "S ourceIndexerRequestor.java:204"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequestor",
          "source": "SourceElementParser.java:926"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.SourceElementParser$LocalDeclarationVisitor.visit",
          "source": "SourceElementParser.java:59"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.AnonymousLocalTypeDeclaration.traverse",
          "source": "Ano nymousLocalTypeDeclaration.java:124"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.QualifiedAllocationExpression.traverse",
          "source": "Qua lifiedAllocationExpression.java:259"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.MessageSend.traverse",
          "source": "MessageSend.java:254"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.ReturnStatement.traverse",
          "source": "ReturnStatement.j ava:237"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.SourceElementParser.visitIfNeeded",
          "source": "SourceElemen tParser.java:1199"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequestor",
          "source": "SourceElementParser.java:746"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequestor",
          "source": "SourceElementParser.java:915"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequestor",
          "source": "SourceElementParser.java:919"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequestor",
          "source": "SourceElementParser.java:919"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequestor",
          "source": "SourceElementParser.java:919"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.SourceElementParser.notifySourceElementRequestor",
          "source": "SourceElementParser.java:581"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.SourceElementParser.endParse",
          "source": "SourceElementPars er.java:328"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.parser.Parser.parse",
          "source": "Parser.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.parser.Parser.parse",
          "source": "Parser.java:6651"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.SourceElementParser.parseCompilationUnit",
          "source": "Sourc eElementParser.java:971"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.SourceIndexer.indexFile",
          "source": "SourceInde xer.java:66"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.AbstractIndexer.index",
          "source": "AbstractInde xer.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jdt.internal.core.index.impl.Index.add",
          "source": "Index.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.AddCompilationUnitToIndex.execute",
          "source": " AddCompilationUnitToIndex.java:54"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.processing.JobManager.run",
          "source": "JobManager.java:2 66"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:498"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "6431",
      "date": "2001-11-29T16:46:58+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "6431",
  "bugId": "6431",
  "date": "2001-11-29T16:46:58+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}