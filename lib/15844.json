{
  "comments": [
    "Build 20020508\n\nDue to new global actions there are now more objects listening to selection \nchanges send out by a JFace viewer. We now had the case that one of the \nlistener generated a NPE. As a result all listeners registered after that one \ndidn\u0027t receive the selection change event.\n\nStructuredViewers should be more fault tolorant to exceptions when informing \nlisteners.",
    "The walkback is only present in the log. There wasn\u0027t any dialog informing the \nuser about the NPE.",
    "Should do as suggested to improve overall stability while notifying as many \nlisteners as possible.\n\nCould you attach the stack trace to see who logged the error without reporting \nit to the user?\nNote that if viewers are changed to be more resilient, then they will have this \nbehavior.  They can\u0027t do anything except log the error.\n\n",
    "Here is the trace\n\n!STACK java.lang.NullPointerException\n\tat org.eclipse.jdt.internal.corext.util.JavaModelUtil.isEditable\n(JavaModelUtil.java:461)\n\tat org.eclipse.jdt.ui.actions.AddGetterSetterAction.canEnable\n(AddGetterSetterAction.java:161)\n\tat org.eclipse.jdt.ui.actions.AddGetterSetterAction.selectionChanged\n(AddGetterSetterAction.java:130)\n\tat \norg.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchSelectionChanged\n(SelectionDispatchAction.java:168)\n\tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.selectionChanged\n(SelectionDispatchAction.java:163)\n\tat org.eclipse.jface.viewers.Viewer.fireSelectionChanged\n(Viewer.java:147)\n\tat org.eclipse.jface.viewers.StructuredViewer.updateSelection\n(StructuredViewer.java:1064)\n\tat org.eclipse.jface.viewers.StructuredViewer.handleSelect\n(StructuredViewer.java:510)\n\tat org.eclipse.jface.viewers.TableViewer$1.widgetSelected\n(TableViewer.java:299)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent\n(TypedListener.java:85)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:75)\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:637)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1432)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1221)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1062)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1045)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:739)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:420)\n\tat EclipseRuntimeLauncher.main(EclipseRuntimeLauncher.java:16)",
    "Note that we now simply log errors and do not bring up a dialog unless you\u0027re \nrunning in debug mode.  An exception is made for OutOfMemory and SWTError.\n",
    "Eduardo, we should use ISafeRunnable for all viewer callbacks.\nLog them if we can, but since this is in JFace we can\u0027t refer to the \norg.eclipse.ui plugin.",
    "Nick, I could use ISafeRunnable in JFace because it is in core.runtime and/or I \ncan replicate the SafeRunnableAdapter code if I want. \n\nThe question is how do I log the exception without getting the log from the \nplugin.",
    "We decided to simply use Platform.run(ISafeRunnable).",
    "Post 2.0 for wrapping viewer events in safe runnables.",
    "Due the org.eclipse.ui plugin separation we can\u0027t call Platform.run(...) from \nJFace anymore since it does not prerequire core.\n\nOptions: \n 1. Replicate the implementation of Platform.run in JFace\n 2. Have an API in JFace with an interface so we can pass an adapter of \nPlatform.run to JFace.\n\nThere are still other problems with the separation of UI and JFace. I.E classes \nfrom JFace that are in the UI plugins just because they are making reference to \ncore runtime. \n\nDefer this problem so we can adopt the same solution for these problem.\n\n",
    "See bug 29163. Moved jface classes back to jface.",
    "Fix released in the HEAD stream."
  ],
  "commentCreationDates": [
    "2002-05-13T15:31:20+02:00",
    "2002-05-13T15:36:50+02:00",
    "2002-05-13T16:46:02+02:00",
    "2002-05-13T17:02:12+02:00",
    "2002-05-13T20:17:08+02:00",
    "2002-05-16T17:22:12+02:00",
    "2002-05-16T17:41:39+02:00",
    "2002-05-17T00:07:47+02:00",
    "2002-06-14T21:35:05+02:00",
    "2002-10-22T19:50:01+02:00",
    "2003-01-14T20:32:05+01:00",
    "2003-01-15T19:26:14+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.corext.util.JavaModelUtil.isEditable",
          "source": "JavaModelUtil.java:461"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.AddGetterSetterAction.canEnable",
          "source": "AddGetterSetterAction.java:161"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.AddGetterSetterAction.selectionChanged",
          "source": "AddGetterSetterAction.java:130"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchSelectionChanged",
          "source": "SelectionDispatchAction.java:168"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.selectionChanged",
          "source": "SelectionDispatchAction.java:163"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer.fireSelectionChanged",
          "source": "Viewer.java:147"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateSelection",
          "source": "StructuredViewer.java:1064"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleSelect",
          "source": "StructuredViewer.java:510"
        },
        {
          "method": "org.eclipse.jface.viewers.TableViewer$1.widgetSelected",
          "source": "TableViewer.java:299"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:85"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:75"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:637"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1432"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1221"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1062"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1045"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:739"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:420"
        },
        {
          "method": "EclipseRuntimeLauncher.main",
          "source": "EclipseRuntimeLauncher.java:16"
        }
      ],
      "number": 0,
      "commentIndex": 3,
      "bugId": "15844",
      "date": "2002-05-13T17:02:12+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "15844",
  "bugId": "15844",
  "date": "2002-05-13T15:31:20+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "major"
}