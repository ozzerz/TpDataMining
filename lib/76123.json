{
  "comments": [
    "I have a project with source code ditributed across several linked resources.  \nAfter properly setting-up the include paths, the indexer runs.  I select a \nmethod and run the \"All References in Workspace\" search.  I may get several \nsearch results.  Those results that are located within linked resources cause \na problem.  If I double click on the search result, it does not open an \neditor, but results in a IllegalArgumentException.  I do not get the exception \nfor those results that physically reside within the project (not linked \ncontent).\n\n!SESSION Oct 12, 2004 08:09:21.227 --------------------------------------------\n-\neclipse.buildId\u003dunknown\njava.version\u003d1.4.2_04\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_US\nCommand-line arguments: -application org.eclipse.ui.ide.workbench\n\n!ENTRY org.eclipse.core.runtime 4 2 Oct 12, 2004 08:09:21.227\n!MESSAGE Problems occurred when invoking code from plug-\nin: \"org.eclipse.core.runtime\".\n!STACK 0\njava.lang.IllegalArgumentException\n\tat org.eclipse.ui.ide.IDE.getEditorDescriptor(IDE.java:415)\n\tat org.eclipse.ui.ide.IDE.openEditor(IDE.java:298)\n\tat org.eclipse.cdt.internal.ui.search.CSearchResultPage.showMatch\n(CSearchResultPage.java:125)\n\tat org.eclipse.search.ui.text.AbstractTextSearchViewPage$9.run\n(AbstractTextSearchViewPage.java:752)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:615)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:747)\n\tat org.eclipse.search.ui.text.AbstractTextSearchViewPage.showMatch\n(AbstractTextSearchViewPage.java:756)\n\tat \norg.eclipse.search.ui.text.AbstractTextSearchViewPage.showCurrentMatch\n(AbstractTextSearchViewPage.java:820)\n\tat org.eclipse.search.ui.text.AbstractTextSearchViewPage.gotoNextMatch\n(AbstractTextSearchViewPage.java:786)\n\tat org.eclipse.search.ui.text.AbstractTextSearchViewPage.handleOpen\n(AbstractTextSearchViewPage.java:1183)\n\tat org.eclipse.search.ui.text.AbstractTextSearchViewPage$6.open\n(AbstractTextSearchViewPage.java:623)\n\tat org.eclipse.jface.viewers.StructuredViewer$2.run\n(StructuredViewer.java:429)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:615)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:747)\n\tat org.eclipse.jface.viewers.StructuredViewer.fireOpen\n(StructuredViewer.java:427)\n\tat org.eclipse.jface.viewers.StructuredViewer.handleOpen\n(StructuredViewer.java:635)\n\tat org.eclipse.jface.viewers.StructuredViewer$6.handleOpen\n(StructuredViewer.java:731)\n\tat org.eclipse.jface.util.OpenStrategy.fireOpenEvent\n(OpenStrategy.java:211)\n\tat org.eclipse.jface.util.OpenStrategy.access$2(OpenStrategy.java:206)\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent\n(OpenStrategy.java:238)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2772)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2431)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1377)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1348)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench\n(Workbench.java:254)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run\n(IDEApplication.java:96)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run\n(PlatformActivator.java:335)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:273)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:129)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:183)\n\tat org.eclipse.core.launcher.Main.run(Main.java:644)\n\tat org.eclipse.core.launcher.Main.main(Main.java:628)\n\nI checked-out the CVS source code and think I have found the solution.  In the \nclass \"CSearchResultPage\", I changed the following method:\n\n[original]\nprivate IFile getCanonicalFile(IFile originalFile){\n\t\n\tif (originalFile \u003d\u003d null)\n\t\treturn null;\n\t\n\tFile tempFile \u003d originalFile.getRawLocation().toFile();\n\tString canonicalPath \u003d null;\n\ttry {\n\t\tcanonicalPath \u003d tempFile.getCanonicalPath();\n\t} catch (IOException e1) {}\n\t\n\tif (canonicalPath !\u003d null \u0026\u0026 (!(originalFile.isLinked()))){\n\t\tIPath path \u003d new Path(canonicalPath);\n\t\toriginalFile \u003d CUIPlugin.getWorkspace\n().getRoot).getFileForLocation(path);\n\t}\n\treturn originalFile;\n}\n\n[changed]\nprivate IFile getCanonicalFile(IFile originalFile){\n\t\n\tif (originalFile \u003d\u003d null)\n\t\treturn null;\n\t\n\tFile tempFile \u003d originalFile.getRawLocation().toFile();\n\tString canonicalPath \u003d null;\n\ttry {\n\t\tcanonicalPath \u003d tempFile.getCanonicalPath();\n\t} catch (IOException e1) {}\n\t\n\tif (canonicalPath !\u003d null \u0026\u0026 (!(originalFile.isLinked()))){\n\t\tIPath path \u003d new Path(canonicalPath);\n\t\t//BEGIN Added support for children of linked resources\n\t\tIFile[] matches \u003d CUIPlugin.getWorkspace\n().getRoot).findFilesForLocation(path);\n\t\tif (matches.length \u003e 0)\n\t\t\toriginalFile \u003d matches[0];\n\t\t//END\n\t\t//removed following line from original code\n\t\t//originalFile \u003d CUIPlugin.getWorkspace\n().getRoot).getFileForLocation(path);\n\t}\n\treturn originalFile;\n}\n\nThis appears to work better.  I think the original problem was a misuse of \nthe \"isLinked()\" method with \"getFileForLocation()\" method.  A child of a \nlinked resource would pass the \"!isLinked()\" test, but would fail \nthe \"getFileForLocation()\" method (return null).  This \"child of linked \nresource\" behavior is documented in the respective methods\u0027 java docs.\n\nI would like to know when this fix can make it into the CDT, and what version \nthat would be.  Also, I would like to know the larger ramifications of this \nfind.  Is the CDT as a whole plagued by these linked resource \nincompatibilities?\n\nChad Barnes\nRockwell Collins Inc.",
    "Bogdan,\n  This seems to be the correct fix, I\u0027ve move the\ntarget milestone back to 2.1.  If you do not have time\nfor this one, reassign to me and I\u0027ll take care of it 8-)\n\nThanks",
    "Fixed in head + 2.1\n\n- BG",
    "\u003e Fixed in head + 2.1\n\nCool, thanks bog you are the best.\n\nChad can you verify?\n\n"
  ],
  "commentCreationDates": [
    "2004-10-12T22:10:26+02:00",
    "2004-12-08T17:38:31+01:00",
    "2004-12-08T21:38:28+01:00",
    "2004-12-09T01:38:45+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "elements": [
        {
          "method": "org.eclipse.ui.ide.IDE.getEditorDescriptor",
          "source": "IDE.java:415"
        },
        {
          "method": "org.eclipse.ui.ide.IDE.openEditor",
          "source": "IDE.java:298"
        },
        {
          "method": "org.eclipse.cdt.internal.ui.search.CSearchResultPage.showMatch",
          "source": "CSearchResultPage.java:125"
        },
        {
          "method": "org.eclipse.search.ui.text.AbstractTextSearchViewPage$9.run",
          "source": "AbstractTextSearchViewPage.java:752"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:615"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:747"
        },
        {
          "method": "org.eclipse.search.ui.text.AbstractTextSearchViewPage.showMatch",
          "source": "AbstractTextSearchViewPage.java:756"
        },
        {
          "method": "org.eclipse.search.ui.text.AbstractTextSearchViewPage.showCurrentMatch",
          "source": "AbstractTextSearchViewPage.java:820"
        },
        {
          "method": "org.eclipse.search.ui.text.AbstractTextSearchViewPage.gotoNextMatch",
          "source": "AbstractTextSearchViewPage.java:786"
        },
        {
          "method": "org.eclipse.search.ui.text.AbstractTextSearchViewPage.handleOpen",
          "source": "AbstractTextSearchViewPage.java:1183"
        },
        {
          "method": "org.eclipse.search.ui.text.AbstractTextSearchViewPage$6.open",
          "source": "AbstractTextSearchViewPage.java:623"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$2.run",
          "source": "StructuredViewer.java:429"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:615"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:747"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.fireOpen",
          "source": "StructuredViewer.java:427"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleOpen",
          "source": "StructuredViewer.java:635"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$6.handleOpen",
          "source": "StructuredViewer.java:731"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireOpenEvent",
          "source": "OpenStrategy.java:211"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$2",
          "source": "OpenStrategy.java:206"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "OpenStrategy.java:238"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:796"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2772"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2431"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1377"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1348"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:254"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:141"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:96"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:335"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:273"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:183"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:644"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:628"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "76123",
      "date": "2004-10-12T22:10:26+02:00",
      "product": "CDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "76123",
  "bugId": "76123",
  "date": "2004-10-12T22:10:26+02:00",
  "product": "CDT",
  "component": "UI",
  "severity": "normal"
}