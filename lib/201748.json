{
  "comments": [
    "This is actually on AJ compiler 1.5.4.\n\nTo reproduce, use the following code:\n\naspect MyAspect{\n\n   Factory AnyClass.myfactory \u003d Factory.create();\n\n}\n\nwith Factory defined as follows:\n\nclass Factory{\n public static Factory[] create(){\n    return null;\n }\n}\n\nThis aspect code actually PASSES type checking. You then get a runtime error:\nException in thread \"Main Thread\" java.lang.VerifyError: (class: AspectTest, method: ajc$interFieldInit$AspectTest$Client$myfactory signature: (LClient;)V) Incompatible argument to function\n\tat Client.\u003cinit\u003e(Client.java:8)\n\tat Client.main(Client.java:14)",
    "I don\u0027t have enough info to go on there, I added a class to the two you suggested:\n\n\nclass AnyClass {public static void main(String[]argv) {}}\n\n\nand \u0027ajc *.java -showWeaveInfo\u0027\n\nType \u0027AnyClass\u0027 (A.java) has intertyped field from \u0027MyAspect\u0027 (A.java:\u0027Factory AnyClass.myfactory\u0027)\n\nBut when I then run it:\njava AnyClass\n\nit works fine.\n\nAre you able to supply the missing bits that actually fail?",
    "Sorry for late responding. You could try instantiate the class:\nclass AnyClass {\n  public static void main(String []args){\n      new AnyClass();\n  }\n}\n\n(In reply to comment #1)\n\u003e I don\u0027t have enough info to go on there, I added a class to the two you\n\u003e suggested:\n\u003e \n\u003e \n\u003e class AnyClass {public static void main(String[]argv) {}}\n\u003e \n\u003e \n\u003e and \u0027ajc *.java -showWeaveInfo\u0027\n\u003e \n\u003e Type \u0027AnyClass\u0027 (A.java) has intertyped field from \u0027MyAspect\u0027 (A.java:\u0027Factory\n\u003e AnyClass.myfactory\u0027)\n\u003e \n\u003e But when I then run it:\n\u003e java AnyClass\n\u003e \n\u003e it works fine.\n\u003e \n\u003e Are you able to supply the missing bits that actually fail?\n\u003e \n\n"
  ],
  "commentCreationDates": [
    "2007-08-30T16:58:34+02:00",
    "2007-10-09T18:55:23+02:00",
    "2007-12-08T04:40:08+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.VerifyError",
      "message": "(class: AspectTest, method: ajc$interFieldInit$AspectTest$Client$myfactory signature: (LClient;)V) Incompatible argument to function",
      "elements": [
        {
          "method": "Client.\u003cinit\u003e",
          "source": "Client.java:8"
        },
        {
          "method": "Client.main",
          "source": "Client.java:14"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "201748",
      "date": "2007-08-30T16:58:34+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "critical"
    }
  ],
  "groupId": "201748",
  "bugId": "201748",
  "date": "2007-08-30T16:58:34+02:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "critical"
}