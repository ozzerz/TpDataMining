{
  "comments": [
    "Dear Sir,\n\nRe: this is a bug?\n\nI bought the book SWT/JFace in Action.\nRunning the (simplest) JFace example from Chapter 2 listing 2.2 (given below) throws the following \nerror in the line \"w.open();\"\nIt does so when the Quit item in the SWT (application) menu is chosen, but not when the close box of \nthe window is clicked.\nI did not encounter this behaviour with a pure SWT application.\n\nException in thread \"main\" org.eclipse.swt.SWTException: Device is disposed\n\tat org.eclipse.swt.SWT.error(SWT.java:2860)\n\tat org.eclipse.swt.SWT.error(SWT.java:2783)\n\tat org.eclipse.swt.SWT.error(SWT.java:2754)\n\tat org.eclipse.swt.widgets.Display.error(Display.java:933)\n\tat org.eclipse.swt.widgets.Display.checkDevice(Display.java:522)\n\tat org.eclipse.swt.widgets.Display.update(Display.java:3501)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:809)\n\tat org.eclipse.jface.window.Window.open(Window.java:781)\n\tat jface.test.HelloJFace.main(HelloJFace.java:27)\n\nI am using Eclipse 3.1M6 on an Apple Macintosh.\nHow is that possible? Is it a bug specific for Apple Macintosh?\n\nThanks in advance,\nHans van der Meer\n\n\n/*\n * Created on May 10, 2005 by hans.\n */\npackage jface.test;\n\nimport org.eclipse.jface.window.*;\nimport org.eclipse.swt.SWT;\nimport org.eclipse.swt.widgets.*;\n\npublic class HelloJFace\n\textends ApplicationWindow {\n\npublic HelloJFace() {\n\tsuper(null);\n}\n\nprotected Control createContents(Composite parent) {\n\tText helloText \u003d new Text(parent, SWT.CENTER);\n\thelloText.setText(\"Hello JFace test\");\n\tparent.pack();\n\treturn parent;\n}\n\npublic static void main(String[] args) {\n\tHelloJFace w \u003d new HelloJFace();\n\tw.setBlockOnOpen(true);\n\tw.open();\n\tDisplay.getCurrent().dispose();\n}\n}",
    "You may be seeing Bug 71069 which is fixed in M7",
    "Switched to Eclipse 3.1M7, bug still exists, stack trace (same program as on first report):\nException in thread \"main\" org.eclipse.swt.SWTException: Device is disposed\n\tat org.eclipse.swt.SWT.error(SWT.java:2940)\n\tat org.eclipse.swt.SWT.error(SWT.java:2863)\n\tat org.eclipse.swt.SWT.error(SWT.java:2834)\n\tat org.eclipse.swt.widgets.Display.error(Display.java:948)\n\tat org.eclipse.swt.widgets.Display.checkDevice(Display.java:527)\n\tat org.eclipse.swt.widgets.Display.update(Display.java:3588)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:815)\n\tat org.eclipse.jface.window.Window.open(Window.java:787)\n\tat jface.test.HelloJFace.main(HelloJFace.java:41)\n\nHans van der Meer (hansm@science.uva.nl)",
    "I did some experimentation, helped by the 3.1M7 sources.\nIt is possible to prohibit the exception occuring by hooking into the Apple Quit-menu along the lines of \nSnippet178:\n\t\t\t\t\tcase kHICommandQuit:\n\t\t\t\t\t\t// Prohibits \"Display disposed\"-exception in JFace \u003c\u003d3.1M7\n\t\t\t\t\t\t// display is the default Display app started with.\n\t\t\t\t\t\tdisplay.getActiveShell().close();\n\t\t\t\t\t\treturn OS.noErr;\nAlas, to use this I had to resort to a system dependent call (HookApplicationMenu) in the consructor of \nthe application (but ot in return a method to put the About and Preferences menu calls in the proper \nplace in the Apple System menu; I am willing to supply the source of the HookApplicationMenu class if \nit is deemed useful.\n\nHans van der Meer\n",
    "You are disposing the Display while there is still a window open. When we try\nand process events we can\u0027t because you have destroyed the display.\n\nDisplay.getCurrent().dispose();\n\nshould be \n\nwhile(!window.isDisposed())\n   Display.getCurrent().readAndDispatch()",
    "Marking invalid as this is a programming error"
  ],
  "commentCreationDates": [
    "2005-05-10T20:42:15+02:00",
    "2005-05-10T21:54:36+02:00",
    "2005-05-15T11:41:53+02:00",
    "2005-05-15T22:05:16+02:00",
    "2005-05-16T14:14:29+02:00",
    "2005-05-16T14:36:32+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Device is disposed",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2860"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2783"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2754"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.error",
          "source": "Display.java:933"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.checkDevice",
          "source": "Display.java:522"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.update",
          "source": "Display.java:3501"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:809"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:781"
        },
        {
          "method": "jface.test.HelloJFace.main",
          "source": "HelloJFace.java:27"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "94472",
      "date": "2005-05-10T20:42:15+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    },
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Device is disposed",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2940"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2863"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2834"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.error",
          "source": "Display.java:948"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.checkDevice",
          "source": "Display.java:527"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.update",
          "source": "Display.java:3588"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:815"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:787"
        },
        {
          "method": "jface.test.HelloJFace.main",
          "source": "HelloJFace.java:41"
        }
      ],
      "number": 1,
      "commentIndex": 2,
      "bugId": "94472",
      "date": "2005-05-15T11:41:53+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "94472",
  "bugId": "94472",
  "date": "2005-05-10T20:42:15+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}