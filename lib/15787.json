{
  "comments": [
    "Integration build 20020510\n\n0. New install; new workspace\n1. Launch eclipse.exe -debug -update\n2. Update manager\n3. Open the Nevada test site\nhttp://sonialnx.ott.oti.com/downloads/hubba/NevadaTestSite/\n4. Select Eclipse Platform 1.9.0.200205100914 and hit Update.\nSay yes when it says to restart.\n\nObserve: Eclipse exits but has trouble restarting\n\n5. Launch eclipse.exe -debug -update\n\nObserve: Eclipse is unable to come up.\n\n6. Delete \u003cworkspace\u003e/.metadata/.config/\n7. Launch eclipse.exe -debug -update\n\nObserve: Eclipse is unable to come up.\n\n8. Delete \u003cinstall\u003e/eclipse/features/org.eclipse.platform.1.9.0.200205100914/\n9. Launch eclipse.exe -debug -update\n\nObserve: Eclipse comes up.",
    "Cannot reproduce while self hosting.\nThe workbench doesn\u0027t restart (self hosting) but it starts fine when I restart\nit manually and the correct platform is configured.\n\ncan you send .log and ploatform.cfg and run with the org.eclipse.update.debug\noption of .options of org.eclipse.update.core to true and send console ?\n\nwill attempt to reproduce while not self hosting",
    "OK, this is what is happenning ......\n\nThe new feature \"Eclipse Platform 1.9.0.200205100914\" has feature.xml that \nreferences plugins that are the same as the baseline feature\"Eclipse Platform \n1.9.0\" (ie. have 2 different features referencing the exact same plugin set).\n\nWhat got me on this is that I noticed the new feature took next to no time to \ninstall ... this is because the code detected we already had all the plugins \nlocally.\n\nThe install site uses EXCLUDE policy, so when we configure the new feature we \ndo not add anything to the site list, but when we unconfigure the old feature \nwe end up putting on the \"exclude\" list the sae plugins that are contained on \nthe new feature.\n\nSo, the fix is to add to the \"exclude\" list only those plugins we are actually \nexcluding ... ie. diff the old and new, and unconfigure only old plugins that \nare not in new.\n\nAlso, in chasing this I noticed another bug ... the only plugin we actually \ndownloaded and installed was Lucene .... internally it specifies version 1.2 \nand we reference to it as 1.2.0 and obviously don\u0027t equate. We likely have some \nstring comparisons left (rather than matching version objects). Will \ninvertigate/ open separate defect.\n\n",
    "One other detail .... the reason Eclipse does not restart is that we end up not \nhaving core.runtime (r any other platform plugin) on the plugin path\n\njava.lang.reflect.InvocationTargetException: java.lang.RuntimeException: Fatal \nError: Unable to locate matching org.eclipse.core.runtime plugin\n\tat \norg.eclipse.core.internal.boot.PlatformConfiguration.locateDefaultPlugins\n(PlatformConfiguration.java:1958)\n\tat org.eclipse.core.internal.boot.PlatformConfiguration.\u003cinit\u003e\n(PlatformConfiguration.java:838)\n\tat org.eclipse.core.internal.boot.PlatformConfiguration.startup\n(PlatformConfiguration.java:1268)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.initialize\n(InternalBootLoader.java:511)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.startup\n(InternalBootLoader.java:857)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:732)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:450)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:176)\n\tat org.eclipse.core.launcher.Main.run(Main.java:614)\n\tat org.eclipse.core.launcher.Main.main(Main.java:451)",
    "I have retried this scenario with 1.9.0.2002051009146 (that has 4-part plugin \nreferences) and all is well .... the platform restarts running the new platform \ncode",
    "Fixed and released\n\n(also fixed the Lucene problem (version matching) but never had opened defect \nfor it ... was getting in the way of this one) "
  ],
  "commentCreationDates": [
    "2002-05-10T22:33:35+02:00",
    "2002-05-11T16:38:55+02:00",
    "2002-05-11T17:49:59+02:00",
    "2002-05-11T17:55:39+02:00",
    "2002-05-11T18:07:56+02:00",
    "2002-05-11T23:59:12+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.RuntimeException",
      "message": "Fatal  Error: Unable to locate matching org.eclipse.core.runtime plugin",
      "elements": [
        {
          "method": "org.eclipse.core.internal.boot.PlatformConfiguration.locateDefaultPlugins",
          "source": "PlatformConfiguration.java:1958"
        },
        {
          "method": "org.eclipse.core.internal.boot.PlatformConfiguration.\u003cinit\u003e",
          "source": "PlatformConfiguration.java:838"
        },
        {
          "method": "org.eclipse.core.internal.boot.PlatformConfiguration.startup",
          "source": "PlatformConfiguration.java:1268"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.initialize",
          "source": "InternalBootLoader.java:511"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.startup",
          "source": "InternalBootLoader.java:857"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:732"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:450"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:176"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:614"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:451"
        }
      ],
      "number": 0,
      "commentIndex": 3,
      "bugId": "15787",
      "date": "2002-05-11T17:55:39+02:00",
      "product": "Platform",
      "component": "Update",
      "severity": "normal"
    }
  ],
  "groupId": "15787",
  "bugId": "15787",
  "date": "2002-05-10T22:33:35+02:00",
  "product": "Platform",
  "component": "Update",
  "severity": "normal"
}