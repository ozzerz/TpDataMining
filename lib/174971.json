{
  "comments": [
    "I get one or more of the following exception whenever I perform a CTRL-SHIFT-T and types are missing from the dialog. The build I am using is I20070220-0800.\n\njava.lang.ArrayIndexOutOfBoundsException: 2084\n\tat org.eclipse.jdt.internal.core.index.DiskIndex.readStreamInt(DiskIndex.java:1033)\n\tat org.eclipse.jdt.internal.core.index.DiskIndex.readCategoryTable(DiskIndex.java:675)\n\tat org.eclipse.jdt.internal.core.index.DiskIndex.mergeCategory(DiskIndex.java:434)\n\tat org.eclipse.jdt.internal.core.index.DiskIndex.mergeCategories(DiskIndex.java:426)\n\tat org.eclipse.jdt.internal.core.index.DiskIndex.mergeWith(DiskIndex.java:519)\n\tat org.eclipse.jdt.internal.core.index.Index.save(Index.java:176)\n\tat org.eclipse.jdt.internal.core.search.indexing.IndexManager.saveIndex(IndexManager.java:583)\n\tat org.eclipse.jdt.internal.core.search.indexing.SaveIndex.execute(SaveIndex.java:40)\n\tat org.eclipse.jdt.internal.core.search.processing.JobManager.run(JobManager.java:372)\n\tat java.lang.Thread.run(Thread.java:595)",
    "Frederic - we need to pull your latest changes until we can track this down.",
    "Restarting Eclipse seems to have fixed the problem.",
    "So, it seems not really critical in fact. Can you attach the .log to have the full story of exceptions you got?",
    "Created an attachment (id\u003d59490)\nLog file\n\n",
    "I could not reproduce this problem opening many different workspaces with integration build I20070220-1330. Michael cannot reproduce either after having cleaned all index files and restart the workspace.\n\nUnfortunately the .log file does not give more clues while these exceptions occurred\n\nSo, I think we can wait a little bit before reverting the change on DiskIndex, but I\u0027ll still try to figure out how this AIOOBE can happen...\n",
    "Created an attachment (id\u003d59507)\nProposed patch\n\nI think I\u0027ve found a potential issue which could explain the AIOOBE",
    "I got the exception in a eclipse 3.0 full source workspace (performance tests) and verified that patch fixes the problem....\n",
    "Created an attachment (id\u003d59597)\nNew proposed patch\n\nThis new patch also includes an optimization for write*(...) methods provided by Kent",
    "The patch also includes added performance tests to highlight the gain with this big change on DiskIndex (several tests in FullSourceWorkspaceSearchTests) and a new test suite FullSourceWorkspaceCompleteSearchTests which performs all possible search request on the eclipse 3.0 full source workspace to verify that the AIOOBE does not occur any longer. Note that this new test suite is not run while running JDT/Core performance tests as it would take too much time.\n\nReleased for 3.3 M6 in HEAD stream.\n",
    "*** Bug 175176 has been marked as a duplicate of this bug. ***",
    "*** Bug 175671 has been marked as a duplicate of this bug. ***",
    "Verified for 3.3 M6 using build I20070320-0010",
    "Note that the patch for R3_2_maintenance in bug 171653 also includes a fix for this bug. So this bug doesn\u0027t need to be backport to R3_2_maintenance per se."
  ],
  "commentCreationDates": [
    "2007-02-21T15:45:44+01:00",
    "2007-02-21T15:51:29+01:00",
    "2007-02-21T15:54:10+01:00",
    "2007-02-21T16:07:18+01:00",
    "2007-02-21T16:48:58+01:00",
    "2007-02-21T17:11:50+01:00",
    "2007-02-21T19:07:37+01:00",
    "2007-02-22T18:57:29+01:00",
    "2007-02-22T19:06:38+01:00",
    "2007-02-22T19:12:25+01:00",
    "2007-02-23T00:36:51+01:00",
    "2007-02-27T10:07:25+01:00",
    "2007-03-20T14:28:37+01:00",
    "2007-04-13T12:01:00+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "2084",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.index.DiskIndex.readStreamInt",
          "source": "DiskIndex.java:1033"
        },
        {
          "method": "org.eclipse.jdt.internal.core.index.DiskIndex.readCategoryTable",
          "source": "DiskIndex.java:675"
        },
        {
          "method": "org.eclipse.jdt.internal.core.index.DiskIndex.mergeCategory",
          "source": "DiskIndex.java:434"
        },
        {
          "method": "org.eclipse.jdt.internal.core.index.DiskIndex.mergeCategories",
          "source": "DiskIndex.java:426"
        },
        {
          "method": "org.eclipse.jdt.internal.core.index.DiskIndex.mergeWith",
          "source": "DiskIndex.java:519"
        },
        {
          "method": "org.eclipse.jdt.internal.core.index.Index.save",
          "source": "Index.java:176"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.IndexManager.saveIndex",
          "source": "IndexManager.java:583"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.SaveIndex.execute",
          "source": "SaveIndex.java:40"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.processing.JobManager.run",
          "source": "JobManager.java:372"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:595"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "174971",
      "date": "2007-02-21T15:45:44+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "174971",
  "bugId": "174971",
  "date": "2007-02-21T15:45:44+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}