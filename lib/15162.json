{
  "comments": [
    "When running the headless workbench, I sometimes see the following exception \nduring shutdown (I believe it\u0027s when BootLoader.shutdown() is called in the \nmain thread).  This exception comes from the background indexer thread.  Last \nseen on the M5 build.\n\nShutting down workbench.                                                       \norg.eclipse.core.internal.runtime.AssertionFailedException: assertion failed: \nmeta.appNotInit\n        at org.eclipse.core.internal.runtime.Assert.isTrue(Assert.java:95)\n        at org.eclipse.core.internal.runtime.InternalPlatform.assertInitialized\n(InternalPlatform.java:178)\n        at org.eclipse.core.internal.runtime.InternalPlatform.getPluginRegistry\n(InternalPlatform.java:391)\n        at org.eclipse.core.runtime.Platform.getPluginRegistry\n(Platform.java:319)\n        at org.eclipse.core.internal.runtime.PlatformURLPluginConnection.resolve\n(PlatformURLPluginConnection.java:46)\n        at org.eclipse.core.internal.boot.PlatformURLHandler.openConnection\n(PlatformURLHandler.java:57)\n        at java.net.URL.openConnection(URL.java:776)\n        at org.eclipse.core.internal.runtime.InternalPlatform.resolve\n(InternalPlatform.java:829)\n        at org.eclipse.core.runtime.Platform.resolve(Platform.java:401)\n        at org.eclipse.core.internal.plugins.PluginDescriptor.addLibrary\n(PluginDescriptor.java:474)\n        at \norg.eclipse.core.internal.plugins.PluginDescriptor.addLibraryWithFragments\n(PluginDescriptor.java:438)\n        at \norg.eclipse.core.internal.plugins.PluginDescriptor.resolveAndAddLibrary\n(PluginDescriptor.java:431)\n        at \norg.eclipse.core.internal.plugins.PluginDescriptor.getPluginClassLoaderPath\n(PluginDescriptor.java:408)\n        at \norg.eclipse.core.internal.plugins.PluginDescriptor.getPluginClassLoader\n(PluginDescriptor.java:308)\n        at \norg.eclipse.core.internal.plugins.PluginDescriptor.internalDoPluginActivation\n(PluginDescriptor.java:665)\n        at org.eclipse.core.internal.plugins.PluginDescriptor.doPluginActivation\n(PluginDescriptor.java:184)\n        at org.eclipse.core.internal.plugins.PluginClassLoader.activatePlugin\n(PluginClassLoader.java:52)\n        at \norg.eclipse.core.internal.plugins.PluginClassLoader.findClassParentsSelf\n(PluginClassLoader.java:130)\n        at org.eclipse.core.internal.boot.DelegatingURLClassLoader.loadClass\n(DelegatingURLClassLoader.java:771)\n        at org.eclipse.core.internal.boot.DelegatingURLClassLoader.loadClass\n(DelegatingURLClassLoader.java:751)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:250)\n        at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:310)\n        at org.eclipse.jdt.internal.core.index.impl.Index.merge(Index.java:231)\n        at org.eclipse.jdt.internal.core.index.impl.Index.save(Index.java:341)\n        at \norg.eclipse.jdt.internal.core.search.indexing.IndexManager.saveIndexes\n(IndexManager.java:396)\n        at org.eclipse.jdt.internal.core.search.indexing.IndexManager.notifyIdle\n(IndexManager.java:301)\n        at org.eclipse.jdt.internal.core.search.processing.JobManager.run\n(JobManager.java:286)\n        at java.lang.Thread.run(Thread.java:479)",
    "We should shut the background indexer down when exiting.",
    "We found a potential deadlock in the indexer shutdown code (bug 15857). Could \nthis be the same problem ?\n\nCould you try to use the latest STABLE patch posted there:\nhttp://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/jdt-core-\nhome/org.eclipse.jdt.core-STABLE.zip\n\nto see if it changes your scenario...",
    "I don\u0027t have a completely reproducible testcase for this, it works sometimes \nand fails others.  However I will try the patch and let you know what I see.",
    "Now forcing the background indexer thread to terminate before the platform \nshuts down.",
    "Don\u0027t know how to verify this.",
    "Verified."
  ],
  "commentCreationDates": [
    "2002-05-03T05:22:14+02:00",
    "2002-05-03T10:36:05+02:00",
    "2002-05-13T18:42:04+02:00",
    "2002-05-13T18:49:46+02:00",
    "2002-05-27T11:03:36+02:00",
    "2002-06-03T20:12:27+02:00",
    "2002-06-04T11:58:40+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.internal.runtime.AssertionFailedException",
      "message": "assertion failed:  meta.appNotInit",
      "elements": [
        {
          "method": "org.eclipse.core.internal.runtime.Assert.isTrue",
          "source": "Assert.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.assertInitialized",
          "source": "InternalPlatform.java:178"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.getPluginRegistry",
          "source": "InternalPlatform.java:391"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.getPluginRegistry",
          "source": "Platform.java:319"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformURLPluginConnection.resolve",
          "source": "PlatformURLPluginConnection.java:46"
        },
        {
          "method": "org.eclipse.core.internal.boot.PlatformURLHandler.openConnection",
          "source": "PlatformURLHandler.java:57"
        },
        {
          "method": "java.net.URL.openConnection",
          "source": "URL.java:776"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.resolve",
          "source": "InternalPlatform.java:829"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.resolve",
          "source": "Platform.java:401"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginDescriptor.addLibrary",
          "source": "PluginDescriptor.java:474"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginDescriptor.addLibraryWithFragments",
          "source": "PluginDescriptor.java:438"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginDescriptor.resolveAndAddLibrary",
          "source": "PluginDescriptor.java:431"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginDescriptor.getPluginClassLoaderPath",
          "source": "PluginDescriptor.java:408"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginDescriptor.getPluginClassLoader",
          "source": "PluginDescriptor.java:308"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginDescriptor.internalDoPluginActivation",
          "source": "PluginDescriptor.java:665"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginDescriptor.doPluginActivation",
          "source": "PluginDescriptor.java:184"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginClassLoader.activatePlugin",
          "source": "PluginClassLoader.java:52"
        },
        {
          "method": "org.eclipse.core.internal.plugins.PluginClassLoader.findClassParentsSelf",
          "source": "PluginClassLoader.java:130"
        },
        {
          "method": "org.eclipse.core.internal.boot.DelegatingURLClassLoader.loadClass",
          "source": "DelegatingURLClassLoader.java:771"
        },
        {
          "method": "org.eclipse.core.internal.boot.DelegatingURLClassLoader.loadClass",
          "source": "DelegatingURLClassLoader.java:751"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:250"
        },
        {
          "method": "java.lang.ClassLoader.loadClassInternal",
          "source": "ClassLoader.java:310"
        },
        {
          "method": "org.eclipse.jdt.internal.core.index.impl.Index.merge",
          "source": "Index.java:231"
        },
        {
          "method": "org.eclipse.jdt.internal.core.index.impl.Index.save",
          "source": "Index.java:341"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.IndexManager.saveIndexes",
          "source": "IndexManager.java:396"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.indexing.IndexManager.notifyIdle",
          "source": "IndexManager.java:301"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.processing.JobManager.run",
          "source": "JobManager.java:286"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:479"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "15162",
      "date": "2002-05-03T05:22:14+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "15162",
  "bugId": "15162",
  "date": "2002-05-03T05:22:14+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}