{
  "comments": [
    "3.0M5\n\nFound an NPE on some classes within our project when using the type hierarchy.  \nTHIS IS A DIFFERENT NPE than the other bugs registered in bugzilla.  I did \nreview all the othe bugs and none seemed to match.\n\nNotice the:\n Caused by: java.lang.NullPointerException        at\n    org.eclipse.jdt.internal.compiler.lookup.BinaryTypeBinding.\ngetField(BinaryTypeBinding.java:346)        at\n\n\u003csnip\u003e\n\n!ENTRY org.eclipse.jdt.ui 4 10001 Dec 11, 2003 15:29:36.06\n!MESSAGE Internal Error!STACK 0\njava.lang.reflect.InvocationTargetException        at\norg.eclipse.jface.operation.ModalContext.run(ModalContext.java:283)        at\norg.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.java:444)     \n   at\norg.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)        at\norg.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.java:441)       \n at\norg.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:1467)        at\norg.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyLifeCycle.\nensureRefreshedTypeHierarchy(TypeHierarchyLifeCycle.java:122)        at\norg.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart.\nupdateInput(TypeHierarchyViewPart.java:465)        at\norg.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart.\nsetInputElement(TypeHierarchyViewPart.java:446)        at\norg.eclipse.jdt.internal.ui.util.OpenTypeHierarchyUtil.\nopenInViewPart(OpenTypeHierarchyUtil.java:98)        at\norg.eclipse.jdt.internal.ui.util.OpenTypeHierarchyUtil.\nopen(OpenTypeHierarchyUtil.java:75)        at\norg.eclipse.jdt.ui.actions.OpenTypeHierarchyAction.run(OpenTypeHierarchyAction.\njava:175)        at\norg.eclipse.jdt.ui.actions.OpenTypeHierarchyAction.run(OpenTypeHierarchyAction.\njava:141)        at\norg.eclipse.jdt.ui.actions.SelectionDispatchAction.\ndispatchRun(SelectionDispatchAction.java:196)        at\norg.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.\njava:172)        at\norg.eclipse.jface.action.Action.runWithEvent(Action.java:842)        at\norg.eclipse.ui.actions.RetargetAction.runWithEvent(RetargetAction.java:212)      \n  at\norg.eclipse.ui.internal.WWinPluginAction.runWithEvent(WWinPluginAction.java:212) \n       at\norg.eclipse.jface.action.ActionContributionItem.\nhandleWidgetSelection(ActionContributionItem.java:542)        at\norg.eclipse.jface.action.ActionContributionItem.access$4(ActionContributionItem.\njava:494)        at\norg.eclipse.jface.action.ActionContributionItem$6.\nhandleEvent(ActionContributionItem.java:466)        at\norg.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)        at\norg.eclipse.swt.widgets.Widget.sendEvent(Widget.java:967)        at\norg.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1839)        at\norg.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1619)        at\norg.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1405)        at\norg.eclipse.ui.internal.Workbench.runUI(Workbench.java:1381)        at\norg.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:237)      \n  at\norg.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)        at\norg.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:47)        at\norg.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:\n858)        at\norg.eclipse.core.boot.BootLoader.run(BootLoader.java:461)        at\n sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)        at\n sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)   \n     at\n sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.\njava:25)        at\n  java.lang.reflect.Method.invoke(Method.java:324)        at\n   org.eclipse.core.launcher.Main.basicRun(Main.java:299)        at\n    org.eclipse.core.launcher.Main.run(Main.java:767)        at\n    org.eclipse.core.launcher.Main.main(Main.java:601)\n\n\n Caused by: java.lang.NullPointerException        at\n    org.eclipse.jdt.internal.compiler.lookup.BinaryTypeBinding.\ngetField(BinaryTypeBinding.java:346)        at\n    org.eclipse.jdt.internal.compiler.lookup.Scope.findField(Scope.java:205)     \n   at\n    org.eclipse.jdt.internal.compiler.lookup.MethodScope.findField(MethodScope.\njava:332)        at\n    org.eclipse.jdt.internal.compiler.lookup.BlockScope.getBinding(BlockScope.\njava:428)        at\n    org.eclipse.jdt.internal.compiler.ast.QualifiedNameReference.\nresolveType(QualifiedNameReference.java:746)        at\n    org.eclipse.jdt.internal.compiler.ast.MessageSend.resolveType(MessageSend.\njava:196)        at\n    org.eclipse.jdt.internal.compiler.ast.Expression.resolve(Expression.java:\n445)        at\n    org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.\nresolveStatements(AbstractMethodDeclaration.java:378)        at\n    org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.\nresolveStatements(MethodDeclaration.java:137)        at\n    org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.\nresolve(AbstractMethodDeclaration.java:355)        at\n    org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.\nresolve(TypeDeclaration.java:839)        at\n    org.eclipse.jdt.internal.compiler.ast.AnonymousLocalTypeDeclaration.\nresolve(AnonymousLocalTypeDeclaration.java:124)        at\n    org.eclipse.jdt.internal.compiler.ast.QualifiedAllocationExpression.\nresolveType(QualifiedAllocationExpression.java:294)        at\n    org.eclipse.jdt.internal.compiler.ast.FieldDeclaration.\nresolve(FieldDeclaration.java:193)        at\n    org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.\nresolve(TypeDeclaration.java:823)        at\n    org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.\nresolve(TypeDeclaration.java:889)        at\n    org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.\nresolve(CompilationUnitDeclaration.java:271)        at\n    org.eclipse.jdt.internal.core.hierarchy.HierarchyResolver.\nresolve(HierarchyResolver.java:668)        at\n    org.eclipse.jdt.internal.core.hierarchy.IndexBasedHierarchyBuilder.\nbuildForProject(IndexBasedHierarchyBuilder.java:199)        at\n    org.eclipse.jdt.internal.core.hierarchy.IndexBasedHierarchyBuilder.\nbuildFromPotentialSubtypes(IndexBasedHierarchyBuilder.java:311)        at\n    org.eclipse.jdt.internal.core.hierarchy.IndexBasedHierarchyBuilder.\nbuild(IndexBasedHierarchyBuilder.java:134)        at\n    org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.compute(TypeHierarchy.\njava:319)        at\n    org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.refresh(TypeHierarchy.\njava:1230)        at\n    org.eclipse.jdt.internal.core.CreateTypeHierarchyOperation.\nexecuteOperation(CreateTypeHierarchyOperation.java:90)        at\n    org.eclipse.jdt.internal.core.JavaModelOperation.execute(JavaModelOperation.\njava:367)        at\n    org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.\njava:706)        at\n    org.eclipse.jdt.internal.core.JavaElement.runOperation(JavaElement.java:523) \n       at\n    org.eclipse.jdt.internal.core.SourceType.newTypeHierarchy(SourceType.java:\n594)        at\n    org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyLifeCycle.\ndoHierarchyRefresh(TypeHierarchyLifeCycle.java:141)        at\n    org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyLifeCycle.\naccess$0(TypeHierarchyLifeCycle.java:127)        ato\n   rg.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyLifeCycle$1.\nrun(TypeHierarchyLifeCycle.java:115)        at\n   org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.\njava:101)",
    "Would you have steps to reproduce ?",
    "I\u0027d probably have to send the whole project, and I won\u0027t be able to due to \ncommercial code base.\n\nit seems to be on classes that have a fairly long tree of children... Like only \nwhen it has to work fairly hard to add all the child info.",
    "The problem is that the hierarchy resolver is created the BinaryTypeBinding \u0026 \nis choosing to NOT create its field/method bindings.\n\nAdded protection so that these 2 fields are empty arrays instead of null.\n\nNeed to examine if the hierarchy resolved needs fields/methods in this case.",
    "Fixed HierarchyResolver to always build field and method bindings for binary \ntypes. Workaround by Kent is also good to keep.\n\nAdded regression test TypeHierarchyTests.testBinarySubclass().",
    "Verified for 3.0M7"
  ],
  "commentCreationDates": [
    "2003-12-11T04:59:30+01:00",
    "2003-12-11T05:42:39+01:00",
    "2003-12-11T05:45:18+01:00",
    "2003-12-16T15:30:25+01:00",
    "2004-01-08T12:30:09+01:00",
    "2004-02-12T17:55:26+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.compiler.lookup.BinaryTypeBinding.getField",
          "source": "BinaryTypeBinding.java:346"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "48459",
      "date": "2003-12-11T04:59:30+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.reflect.InvocationTargetException",
      "elements": [
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:283"
        },
        {
          "method": "org.eclipse.jface.window.ApplicationWindow$1.run",
          "source": "ApplicationWindow.java:444"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:84"
        },
        {
          "method": "org.eclipse.jface.window.ApplicationWindow.run",
          "source": "ApplicationWindow.java:441"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.run",
          "source": "WorkbenchWindow.java:1467"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyLifeCycle.ensureRefreshedTypeHierarchy",
          "source": "TypeHierarchyLifeCycle.java:122"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart.updateInput",
          "source": "TypeHierarchyViewPart.java:465"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart.setInputElement",
          "source": "TypeHierarchyViewPart.java:446"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.util.OpenTypeHierarchyUtil.openInViewPart",
          "source": "OpenTypeHierarchyUtil.java:98"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.util.OpenTypeHierarchyUtil.open",
          "source": "OpenTypeHierarchyUtil.java:75"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.OpenTypeHierarchyAction.run",
          "source": "OpenTypeHierarchyAction. java:175"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.OpenTypeHierarchyAction.run",
          "source": "OpenTypeHierarchyAction. java:141"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun",
          "source": "SelectionDispatchAction.java:196"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.SelectionDispatchAction.run",
          "source": "SelectionDispatchAction. java:172"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:842"
        },
        {
          "method": "org.eclipse.ui.actions.RetargetAction.runWithEvent",
          "source": "RetargetAction.java:212"
        },
        {
          "method": "org.eclipse.ui.internal.WWinPluginAction.runWithEvent",
          "source": "WWinPluginAction.java:212"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:542"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$4",
          "source": "ActionContributionItem. java:494"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$6.handleEvent",
          "source": "ActionContributionItem.java:466"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:967"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1839"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1619"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1405"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1381"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:237"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:139"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:47"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java: 858"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl. java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:299"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:767"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:601"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.NullPointerException",
        "elements": [
          {
            "method": "org.eclipse.jdt.internal.compiler.lookup.BinaryTypeBinding.getField",
            "source": "BinaryTypeBinding.java:346"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.lookup.Scope.findField",
            "source": "Scope.java:205"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.lookup.MethodScope.findField",
            "source": "MethodScope. java:332"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.lookup.BlockScope.getBinding",
            "source": "BlockScope. java:428"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.ast.QualifiedNameReference.resolveType",
            "source": "QualifiedNameReference.java:746"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.ast.MessageSend.resolveType",
            "source": "MessageSend. java:196"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.ast.Expression.resolve",
            "source": "Expression.java: 445"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolveStatements",
            "source": "AbstractMethodDeclaration.java:378"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.resolveStatements",
            "source": "MethodDeclaration.java:137"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve",
            "source": "AbstractMethodDeclaration.java:355"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve",
            "source": "TypeDeclaration.java:839"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.ast.AnonymousLocalTypeDeclaration.resolve",
            "source": "AnonymousLocalTypeDeclaration.java:124"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.ast.QualifiedAllocationExpression.resolveType",
            "source": "QualifiedAllocationExpression.java:294"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.ast.FieldDeclaration.resolve",
            "source": "FieldDeclaration.java:193"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve",
            "source": "TypeDeclaration.java:823"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve",
            "source": "TypeDeclaration.java:889"
          },
          {
            "method": "org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve",
            "source": "CompilationUnitDeclaration.java:271"
          },
          {
            "method": "org.eclipse.jdt.internal.core.hierarchy.HierarchyResolver.resolve",
            "source": "HierarchyResolver.java:668"
          },
          {
            "method": "org.eclipse.jdt.internal.core.hierarchy.IndexBasedHierarchyBuilder.buildForProject",
            "source": "IndexBasedHierarchyBuilder.java:199"
          },
          {
            "method": "org.eclipse.jdt.internal.core.hierarchy.IndexBasedHierarchyBuilder.buildFromPotentialSubtypes",
            "source": "IndexBasedHierarchyBuilder.java:311"
          },
          {
            "method": "org.eclipse.jdt.internal.core.hierarchy.IndexBasedHierarchyBuilder.build",
            "source": "IndexBasedHierarchyBuilder.java:134"
          },
          {
            "method": "org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.compute",
            "source": "TypeHierarchy. java:319"
          },
          {
            "method": "org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.refresh",
            "source": "TypeHierarchy. java:1230"
          },
          {
            "method": "org.eclipse.jdt.internal.core.CreateTypeHierarchyOperation.executeOperation",
            "source": "CreateTypeHierarchyOperation.java:90"
          },
          {
            "method": "org.eclipse.jdt.internal.core.JavaModelOperation.execute",
            "source": "JavaModelOperation. java:367"
          },
          {
            "method": "org.eclipse.jdt.internal.core.JavaModelOperation.run",
            "source": "JavaModelOperation. java:706"
          },
          {
            "method": "org.eclipse.jdt.internal.core.JavaElement.runOperation",
            "source": "JavaElement.java:523"
          },
          {
            "method": "org.eclipse.jdt.internal.core.SourceType.newTypeHierarchy",
            "source": "SourceType.java: 594"
          },
          {
            "method": "org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyLifeCycle.doHierarchyRefresh",
            "source": "TypeHierarchyLifeCycle.java:141"
          },
          {
            "method": "org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyLifeCycle.access$0",
            "source": "TypeHierarchyLifeCycle.java:127"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 1,
      "commentIndex": 0,
      "bugId": "48459",
      "date": "2003-12-11T04:59:30+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "major"
    }
  ],
  "groupId": "48459",
  "bugId": "48459",
  "date": "2003-12-11T04:59:30+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "major"
}