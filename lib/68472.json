{
  "comments": [
    "3.0 20040624:08:00\n\nI opened the new build, and all my views are always in a detached window. When I\nclosed the detached window about 20 of the following exceptions were printed to\nthe log, then Eclipse crached saying that there are no more SWT handles. I will\ntry and reproduce and give more details.\n\nnote that debug.ui is in the stack, so this may be a debug bug.\n\n!ENTRY org.eclipse.core.runtime 4 2 Jun 24, 2004 09:43:20.816\n!MESSAGE Problems occurred when invoking code from plug-in:\n\"org.eclipse.core.runtime\".\n!STACK 0\njava.lang.NullPointerException\n        at org.eclipse.swt.widgets.Tree.getSelection(Tree.java:611)\n        at org.eclipse.jface.viewers.TreeViewer.getSelection(TreeViewer.java:198)\n        at\norg.eclipse.jface.viewers.AbstractTreeViewer.getSelectionFromWidget(AbstractTreeViewer.java:725)\n        at\norg.eclipse.jface.viewers.StructuredViewer.getSelection(StructuredViewer.java:565)\n        at\norg.eclipse.ui.internal.AbstractSelectionService.getSelection(AbstractSelectionService.java:209)\n        at\norg.eclipse.debug.internal.ui.stringsubstitution.SelectedResourceManager.windowActivated(SelectedResourceManager.j\n        at org.eclipse.ui.internal.Workbench$6.run(Workbench.java:369)\n        at\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:615)\n        at org.eclipse.core.runtime.Platform.run(Platform.java:758)\n        at org.eclipse.ui.internal.Workbench.fireWindowActivated(Workbench.java:367)\n        at\norg.eclipse.ui.internal.WorkbenchWindow$5.shellActivated(WorkbenchWindow.java:1917)\n        at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:163)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:820)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:801)\n        at org.eclipse.swt.widgets.Decorations.WM_ACTIVATE(Decorations.java:1453)\n        at org.eclipse.swt.widgets.Shell.WM_ACTIVATE(Shell.java:1336)\n        at org.eclipse.swt.widgets.Control.windowProc(Control.java:2969)\n        at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1429)\n        at org.eclipse.swt.widgets.Display.windowProc(Display.java:3298)\n        at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)\n        at org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1462)\n        at org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java:398)\n        at org.eclipse.swt.widgets.Control.windowProc(Control.java:3050)\n        at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1429)\n        at org.eclipse.swt.widgets.Display.windowProc(Display.java:3298)\n        at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)\n        at org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1462)\n        at org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java:398)\n        at org.eclipse.swt.widgets.Control.windowProc(Control.java:3050)\n        at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1429)\n        at org.eclipse.swt.widgets.Display.windowProc(Display.java:3298)\n        at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)\n        at org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1462)\n        at org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java:398)\n        at org.eclipse.swt.widgets.Control.windowProc(Control.java:3050)\n        at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1429)\n        at org.eclipse.swt.widgets.Display.windowProc(Display.java:3298)\n        at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)\n        at org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1462)\n        at org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java:398)\n        at org.eclipse.swt.widgets.Control.windowProc(Control.java:3050)\n        at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1429)\n        at org.eclipse.swt.widgets.Display.windowProc(Display.java:3298)\n        at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)\n        at org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1462)\n        at org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java:398)\n        at org.eclipse.swt.widgets.Control.windowProc(Control.java:3050)\n        at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1429)\n        at org.eclipse.swt.widgets.Display.windowProc(Display.java:3298)\n        at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)\n        at org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1462)\n        at org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java:398)\n        at org.eclipse.swt.widgets.Control.windowProc(Control.java:3050)\n        at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1429)\n        at org.eclipse.swt.widgets.Display.windowProc(Display.java:3298)\n        at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)\n        at org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1462)\n        at org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java:398)\n        at org.eclipse.swt.widgets.Control.windowProc(Control.java:3050)\n        at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1429)\n        at org.eclipse.swt.widgets.Display.windowProc(Display.java:3298)\n        at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)\n        at org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1462)\n        at org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java:398)\n        at org.eclipse.swt.widgets.Control.windowProc(Control.java:3050)\n        at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1429)\n        at org.eclipse.swt.widgets.Display.windowProc(Display.java:3298)\n        at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)\n        at org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1462)\n        at org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java:398)\n        at org.eclipse.swt.widgets.Control.windowProc(Control.java:3050)\n        at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1429)\n        at org.eclipse.swt.widgets.Display.windowProc(Display.java:3298)\n        at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)\n        at org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1462)\n        at org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java:398)\n        at org.eclipse.swt.widgets.Control.windowProc(Control.java:3050)\n        at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1429)\n        at org.eclipse.swt.widgets.Display.windowProc(Display.java:3298)\n        at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method)\n        at org.eclipse.swt.internal.win32.OS.DefWindowProc(OS.java:1462)\n        at org.eclipse.swt.widgets.Shell.callWindowProc(Shell.java:398)\n        at org.eclipse.swt.widgets.Control.windowProc(Control.java:3050)\n        at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1429)\n        at org.eclipse.swt.widgets.Display.windowProc(Display.java:3298)\n        at org.eclipse.swt.internal.win32.OS.PeekMessageW(Native Method)\n        at org.eclipse.swt.internal.win32.OS.PeekMessage(OS.java:1881)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2393)\n        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1377)\n        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1348)\n        at\norg.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:254)\n        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\n        at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96)\n        at\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:335)\n        at\norg.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)\n        at\norg.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:186)\n        at org.eclipse.core.launcher.Main.run(Main.java:647)\n        at org.eclipse.core.launcher.Main.main(Main.java:631)",
    "I have no idea how this can happen.  The variable that is null is a field of \nTree called \"items\".  It is set to null in releaseWidget() that gets called \nwhen the Tree is disposed.  When a method is entered, checkWidget() checks to \nsee if the widget is disposed.  In this case, the Tree was not disposed.  \nBetween the time that getSeletion() was called and the NPE, no application \ncode can run (ie. there is no sendEvent(SWT.????) or Windows API that can \ncause SWT events).  This means that there is no way \"items\" can be null ... \nbut it is.\n\nSSQ, can you browse the code and confirm?",
    "Can this be related to bug 62565 or bug 67660 - the old PeekMessage() problem?\n",
    "There is a PeekMessage() on the stack that is in this problem report but it \ndoesn\u0027t look like the same thing.  The PeekMessage() is coming from the event \nloop.",
    "Jean Michael, if you see this again, please reopen it.  It\u0027s still a mystery.",
    "Closing ..."
  ],
  "commentCreationDates": [
    "2004-06-24T15:51:59+02:00",
    "2004-06-24T19:16:01+02:00",
    "2004-07-06T21:51:00+02:00",
    "2004-07-06T21:59:08+02:00",
    "2004-07-28T17:28:53+02:00",
    "2004-07-28T17:29:13+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.swt.widgets.Tree.getSelection",
          "source": "Tree.java:611"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.getSelection",
          "source": "TreeViewer.java:198"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer.getSelectionFromWidget",
          "source": "AbstractTreeViewer.java:725"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.getSelection",
          "source": "StructuredViewer.java:565"
        },
        {
          "method": "org.eclipse.ui.internal.AbstractSelectionService.getSelection",
          "source": "AbstractSelectionService.java:209"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "68472",
      "date": "2004-06-24T15:51:59+02:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "critical"
    }
  ],
  "groupId": "68472",
  "bugId": "68472",
  "date": "2004-06-24T15:51:59+02:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "critical"
}