{
  "comments": [
    "When attempting to debug a jar file using Eclipse M7 the following error occurs:\n\n\"com.sun.jdi.VMDisconnectedException: Got IOException from Virtual Machine occurred retrieving \nsource name debug attribute.\"\n\nand a dialog appears informing me that the Java VM has crashed.\n\nThe console log shows the following stack trace:\n\norg.eclipse.debug.core.DebugException[5010]:\ncom.sun.jdi.VMDisconnectedException: Got IOException from Virtual Machine\nat org.eclipse.jdi.internal.connect.PacketSendManager.sendPacket(PacketSendManager.java:79)\nat org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:169)\nat org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:191)\nat org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:221)\nat org.eclipse.jdi.internal.ReferenceTypeImpl.getSourceName(ReferenceTypeImpl.java:1563)\nat org.eclipse.jdi.internal.ReferenceTypeImpl.sourceName(ReferenceTypeImpl.java:1648)\nat org.eclipse.jdi.internal.LocationImpl.sourceName(LocationImpl.java:170)\nat org.eclipse.jdi.internal.LocationImpl.sourceName(LocationImpl.java:123)\nat org.eclipse.jdt.internal.debug.core.model.JDIStackFrame.getSourceName(JDIStackFrame.java:839)\nat \norg.eclipse.jdt.launching.sourcelookup.JavaSourceLocator.getFullyQualfiedName(JavaSourceLocator.jav\na:274)\nat\norg.eclipse.jdt.launching.sourcelookup.JavaSourceLocator.getSourceElement(JavaSourceLocator.java:\n242)\nat org.eclipse.jdt.debug.ui.JavaUISourceLocator.getSourceElement(JavaUISourceLocator.java:153)\nat org.eclipse.debug.internal.ui.views.launch.LaunchView.lookupEditorInput(LaunchView.java:710)\nat\norg.eclipse.debug.internal.ui.views.launch.LaunchView.openEditorForStackFrame(LaunchView.java:\n783)\nat \norg.eclipse.debug.internal.ui.views.launch.LaunchView.showEditorForCurrentSelection(LaunchView.jav\na:689)\nat org.eclipse.debug.internal.ui.views.launch.LaunchView.selectionChanged(LaunchView.java:499)\nat org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:159)\nat org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:819)\nat org.eclipse.core.runtime.Platform.run(Platform.java:493)\nat org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:157)\nat org.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:1310)\nat org.eclipse.jface.viewers.StructuredViewer.setSelection(StructuredViewer.java:1033)\nat org.eclipse.debug.internal.ui.views.launch.LaunchView.autoExpand(LaunchView.java:1098)\nat \norg.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleSuspendThreadEvent(Lau\nnchViewEventHandler.java:224)\nat \norg.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleSuspendEvent(LaunchVie\nwEventHandler.java:184)\nat \norg.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleDebugEvents(LaunchVie\nwEventHandler.java:100)\nat \norg.eclipse.debug.internal.ui.views.AbstractDebugEventHandler$1.run(AbstractDebugEventHandler.jav\na:70)\nat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\nat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:102)\nat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2094)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1917)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1550)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1526)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:265)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)\nat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:47)\nat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:257)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:104)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:324)\nat org.eclipse.core.launcher.Main.basicRun(Main.java:279)\nat org.eclipse.core.launcher.Main.run(Main.java:742)\nat org.eclipse.core.launcher.Main.main(Main.java:581)\n\nNote that the same error occurs on a Windows XP system also running Eclipse M7. As far as can be \ndetermined the jar file is perfectly fine. It\u0027s contents can be displayed with jar and I\u0027ve also been able to \ndecompile it successfully and it executes without problem. Note also that this is not 100% reproducible, \ni.e., I\u0027ve been able to successfully debug the exact same jar file after many unsuccessful attempts or on \nother occasions successfully debugged a jar file after initially building it, only to have every subsequent \nattempt fail with the exception.\n\nBob Barnes",
    "How does the jar get created? Does it contain debug attributes (source name, \nline numbers, local variables, etc.)?",
    "(Note: target milestone field is for developers to note when the bug is \ntargeted to be fixed, not for the build the bug occurred in).",
    "Darin,\n\n  The jar file is produced using the \u0027Export - JAR File\u0027 dialog. The following are checked:\nFrom the \"Define which resources to package into which JAR.\" window.\n\nExport generated class files and resources.\nExport generated source files and resources.\nOverwrite existing file without warning.\n\nFrom the \"Define the options for the JAR export.\" window.\n\nExport class files with compile warnings. (Same result if this is unchecked)\nExport class files with compile errors. (Same result if this is unchecked)\nBuild projects if not built automatically. \nSave the description of this JAR in the workspace.\n\nThe \"Customize the manifest file for the JAR package.\" is left as it defaults, i.e., \u0027Generate the manifest \nfile\u0027 is checked but no manifest is named and nothing else is checked. Ditto for package sealing, the \n\u0027Seal some packages\u0027 is checked, but nothing is sealed.\n\nSine the jar file is a library (contains a JDBC driver) it has no main.\n\nBob",
    "Investigate",
    "Kevin is our resident Mac expert now. :-) Kevin, can you please take a look at this? I\u0027m lowering \nthe severity since we know that debugging on the Mac works in general. Whatever is causing this \nfailure must be an edge case.",
    "It seems to me that the VM crash would explain the stack trace since the PacketSendManager is trying \nto write data to a VM that has died. \nI haven\u0027t ever experienced this problem with M8+ on either a Mac or PC. \n\nBob is this still an issue for you or are things working more smoothly with newer builds?",
    "I haven\u0027t been able to reproduce the described behaviour. Marking as \nWORKSFORME. "
  ],
  "commentCreationDates": [
    "2004-03-25T07:19:43+01:00",
    "2004-03-25T13:46:14+01:00",
    "2004-03-25T13:47:10+01:00",
    "2004-03-25T18:27:05+01:00",
    "2004-03-26T22:47:14+01:00",
    "2004-04-24T00:14:29+02:00",
    "2004-04-26T23:14:23+02:00",
    "2004-04-29T16:53:02+02:00"
  ],
  "traces": [
    {
      "exceptionType": "com.sun.jdi.VMDisconnectedException",
      "message": "Got IOException from Virtual Machine",
      "elements": [
        {
          "method": "org.eclipse.jdi.internal.connect.PacketSendManager.sendPacket",
          "source": "PacketSendManager.java:79"
        },
        {
          "method": "org.eclipse.jdi.internal.MirrorImpl.requestVM",
          "source": "MirrorImpl.java:169"
        },
        {
          "method": "org.eclipse.jdi.internal.MirrorImpl.requestVM",
          "source": "MirrorImpl.java:191"
        },
        {
          "method": "org.eclipse.jdi.internal.MirrorImpl.requestVM",
          "source": "MirrorImpl.java:221"
        },
        {
          "method": "org.eclipse.jdi.internal.ReferenceTypeImpl.getSourceName",
          "source": "ReferenceTypeImpl.java:1563"
        },
        {
          "method": "org.eclipse.jdi.internal.ReferenceTypeImpl.sourceName",
          "source": "ReferenceTypeImpl.java:1648"
        },
        {
          "method": "org.eclipse.jdi.internal.LocationImpl.sourceName",
          "source": "LocationImpl.java:170"
        },
        {
          "method": "org.eclipse.jdi.internal.LocationImpl.sourceName",
          "source": "LocationImpl.java:123"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIStackFrame.getSourceName",
          "source": "JDIStackFrame.java:839"
        },
        {
          "method": "org.eclipse.jdt.launching.sourcelookup.JavaSourceLocator.getFullyQualfiedName",
          "source": "JavaSourceLocator.jav a:274"
        },
        {
          "method": "org.eclipse.jdt.launching.sourcelookup.JavaSourceLocator.getSourceElement",
          "source": "JavaSourceLocator.java: 242"
        },
        {
          "method": "org.eclipse.jdt.debug.ui.JavaUISourceLocator.getSourceElement",
          "source": "JavaUISourceLocator.java:153"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchView.lookupEditorInput",
          "source": "LaunchView.java:710"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchView.openEditorForStackFrame",
          "source": "LaunchView.java: 783"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchView.showEditorForCurrentSelection",
          "source": "LaunchView.jav a:689"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchView.selectionChanged",
          "source": "LaunchView.java:499"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer$2.run",
          "source": "Viewer.java:159"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:819"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:493"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer.fireSelectionChanged",
          "source": "Viewer.java:157"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateSelection",
          "source": "StructuredViewer.java:1310"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.setSelection",
          "source": "StructuredViewer.java:1033"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchView.autoExpand",
          "source": "LaunchView.java:1098"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleSuspendThreadEvent",
          "source": "Lau nchViewEventHandler.java:224"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleSuspendEvent",
          "source": "LaunchVie wEventHandler.java:184"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleDebugEvents",
          "source": "LaunchVie wEventHandler.java:100"
        },
        {
          "method": "org.eclipse.debug.internal.ui.views.AbstractDebugEventHandler$1.run",
          "source": "AbstractDebugEventHandler.jav a:70"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:102"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:2094"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1917"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1550"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1526"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:265"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:139"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:47"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:257"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:104"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:279"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:742"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:581"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "56103",
      "date": "2004-03-25T07:19:43+01:00",
      "product": "Platform",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "56103",
  "bugId": "56103",
  "date": "2004-03-25T07:19:43+01:00",
  "product": "Platform",
  "component": "Debug",
  "severity": "normal"
}