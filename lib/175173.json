{
  "comments": [
    "Build: I20070220-1330\n\nIntegration test failure:\n\ntestJobFamilyNULL\tFailure\t2.0: expected state: RUNNING actual state: SLEEPING\n\njunit.framework.AssertionFailedError: 2.0: expected state: RUNNING actual state: SLEEPING\nat org.eclipse.core.tests.runtime.jobs.IJobManagerTest.assertState(IJobManagerTest.java:87)\nat org.eclipse.core.tests.runtime.jobs.IJobManagerTest.testJobFamilyNULL(IJobManagerTest.java:921)\nat org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:332)\nat org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:202)\nat org.eclipse.test.CoreTestApplication.runTests(CoreTestApplication.java:35)\nat org.eclipse.test.CoreTestApplication.run(CoreTestApplication.java:31)\nat org.eclipse.equinox.internal.app.EclipseAppContainer.callMethod(EclipseAppContainer.java:529)\nat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:148)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)\nat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:476)\nat org.eclipse.equinox.launcher.Main.basicRun(Main.java:416)\nat org.eclipse.equinox.launcher.Main.run(Main.java:1124)\nat org.eclipse.equinox.launcher.Main.main(Main.java:1099)\nat org.eclipse.core.launcher.Main.main(Main.java:24)",
    "This is a bug in the test. The test does the following:\n\nwaitForStart(jobs[0]);\nassertState(\"1.0\", jobs[0], Job.RUNNING);\nmanager.sleep(null);\nassertState(\"2.0\", jobs[0], Job.RUNNING);\n\nSince a running job cannot be put to sleep, the job should not be affected by the sleep call. However, there is a brief time when a job is preparing to run when it\u0027s in the RUNNING state, but is still responsive to sleep() calls.  The purpose of this is to allow the aboutToRun hook to put the job to sleep before it actually starts running.  The test should really make sure the job\u0027s run(...) method has been entered before proceeding with the test.\n",
    "Test fix released. This faulty waitForStart method was quite possibly the cause of most of the IJobManagerTest intermittent failures, since it is used by most of the tests in that class."
  ],
  "commentCreationDates": [
    "2007-02-22T19:45:32+01:00",
    "2007-02-22T19:47:37+01:00",
    "2007-02-22T20:55:24+01:00"
  ],
  "traces": [
    {
      "exceptionType": "junit.framework.AssertionFailedError",
      "message": "2.0: expected state: RUNNING actual state: SLEEPING",
      "elements": [
        {
          "method": "org.eclipse.core.tests.runtime.jobs.IJobManagerTest.assertState",
          "source": "IJobManagerTest.java:87"
        },
        {
          "method": "org.eclipse.core.tests.runtime.jobs.IJobManagerTest.testJobFamilyNULL",
          "source": "IJobManagerTest.java:921"
        },
        {
          "method": "org.eclipse.test.EclipseTestRunner.run",
          "source": "EclipseTestRunner.java:332"
        },
        {
          "method": "org.eclipse.test.EclipseTestRunner.run",
          "source": "EclipseTestRunner.java:202"
        },
        {
          "method": "org.eclipse.test.CoreTestApplication.runTests",
          "source": "CoreTestApplication.java:35"
        },
        {
          "method": "org.eclipse.test.CoreTestApplication.run",
          "source": "CoreTestApplication.java:31"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppContainer.callMethod",
          "source": "EclipseAppContainer.java:529"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:148"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:354"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:169"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:476"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:416"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1124"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1099"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:24"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "175173",
      "date": "2007-02-22T19:45:32+01:00",
      "product": "Platform",
      "component": "Runtime",
      "severity": "normal"
    }
  ],
  "groupId": "175173",
  "bugId": "175173",
  "date": "2007-02-22T19:45:32+01:00",
  "product": "Platform",
  "component": "Runtime",
  "severity": "normal"
}