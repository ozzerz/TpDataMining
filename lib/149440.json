{
  "comments": [
    "I20060628-1135\n\n1. New Java Project\n2. Type in name \u0027P01\u0027\n3. Seperate src and output folder\n4. Next\u003e\nIs:\n default package is shown and \u0027src\u0027 is shown as a package\nShould:\n No default package and \u0027src\u0027 is a source folder\n\nSelect \"package\" \u0027src\u0027 and \u0027Add package src to bp\u0027:\norg.eclipse.core.runtime.CoreException: The folder is already a source folder.\n\tat org.eclipse.jdt.internal.corext.buildpath.ClasspathModifier.validateAndAddEntry(ClasspathModifier.java:1952)\n\tat org.eclipse.jdt.internal.corext.buildpath.ClasspathModifier.setNewEntry(ClasspathModifier.java:1880)\n\tat org.eclipse.jdt.internal.corext.buildpath.ClasspathModifier.addToClasspath(ClasspathModifier.java:236)\n\tat org.eclipse.jdt.internal.corext.buildpath.AddSelectedSourceFolderOperation.run(AddSelectedSourceFolderOperation.java:72)\n\tat org.eclipse.jdt.internal.ui.util.BusyIndicatorRunnableContext$BusyRunnable.internalRun(BusyIndicatorRunnableContext.java:113)\n\tat org.eclipse.jdt.internal.ui.util.BusyIndicatorRunnableContext$BusyRunnable.run(BusyIndicatorRunnableContext.java:80)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)\n\tat org.eclipse.jdt.internal.ui.util.BusyIndicatorRunnableContext.run(BusyIndicatorRunnableContext.java:126)\n\tat org.eclipse.jdt.internal.ui.wizards.buildpaths.newsourcepage.HintTextGroup$2.linkActivated(HintTextGroup.java:234)\n\tat org.eclipse.ui.forms.widgets.FormText.activateLink(FormText.java:1515)\n\tat org.eclipse.ui.forms.widgets.FormText.handleMouseClick(FormText.java:1330)\n\tat org.eclipse.ui.forms.widgets.FormText.access$16(FormText.java:1304)\n\tat org.eclipse.ui.forms.widgets.FormText$6.mouseUp(FormText.java:436)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:137)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3375)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2995)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\n\tat org.eclipse.jface.window.Window.open(Window.java:796)\n\tat org.eclipse.jdt.ui.actions.AbstractOpenWizardAction.run(AbstractOpenWizardAction.java:83)\n\tat org.eclipse.jdt.internal.ui.wizards.OpenJavaProjectWizardToolbarAction.run(OpenJavaProjectWizardToolbarAction.java:45)\n\tat org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:254)\n\tat org.eclipse.ui.internal.WWinPluginAction.runWithEvent(WWinPluginAction.java:229)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\n\tat org.eclipse.jface.action.ActionContributionItem$6.handleEvent(ActionContributionItem.java:441)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3375)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2995)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)\n!SUBENTRY 1 org.eclipse.jdt.ui 4 4 2006-07-03 12:41:54.210\n!MESSAGE The folder is already a source folder.\n\nWorks fine in 3.2",
    "It is a timing issue, sort of. Select \u0027Allow output folders for source folders\u0027 on the second page which forces a refresh of the tree: The correct content is shown. \n\nThe root cause is that the DialogPackageExplorer displays the raw Class Path Entries retrived from a (not yet up to date) IJavaProject. org.eclipse.jdt.internal.ui.wizards.buildpaths.BuildPathsBlock.configureJavaProject(IProgressMonitor)\ncalls flush which sets the raw class path on the project, then updateUI is called. Then the DialogPackageExplorer is refreshed, but still shows the old class path entries, not the one set by flush.\n\nIMHO DialogPackageExplorer should display the content of the fClassPathList (as all other parts of the dialog do). Fixing this seams to be a nightmare, again...\n\nMaybe a more realistic fix is to wait with the refresh until core has finished updating the class path?",
    "*** Bug 149545 has been marked as a duplicate of this bug. ***",
    "fixed \u003e I20060628-1135\n\nUsing the PackageExplorerContentProvider for the DialogPackageExplorer. "
  ],
  "commentCreationDates": [
    "2006-07-03T12:40:56+02:00",
    "2006-07-03T15:32:11+02:00",
    "2006-07-04T12:04:13+02:00",
    "2006-07-04T15:40:07+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.runtime.CoreException",
      "message": "The folder is already a source folder.",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.corext.buildpath.ClasspathModifier.validateAndAddEntry",
          "source": "ClasspathModifier.java:1952"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.buildpath.ClasspathModifier.setNewEntry",
          "source": "ClasspathModifier.java:1880"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.buildpath.ClasspathModifier.addToClasspath",
          "source": "ClasspathModifier.java:236"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.buildpath.AddSelectedSourceFolderOperation.run",
          "source": "AddSelectedSourceFolderOperation.java:72"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.util.BusyIndicatorRunnableContext$BusyRunnable.internalRun",
          "source": "BusyIndicatorRunnableContext.java:113"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.util.BusyIndicatorRunnableContext$BusyRunnable.run",
          "source": "BusyIndicatorRunnableContext.java:80"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:67"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.util.BusyIndicatorRunnableContext.run",
          "source": "BusyIndicatorRunnableContext.java:126"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.wizards.buildpaths.newsourcepage.HintTextGroup$2.linkActivated",
          "source": "HintTextGroup.java:234"
        },
        {
          "method": "org.eclipse.ui.forms.widgets.FormText.activateLink",
          "source": "FormText.java:1515"
        },
        {
          "method": "org.eclipse.ui.forms.widgets.FormText.handleMouseClick",
          "source": "FormText.java:1330"
        },
        {
          "method": "org.eclipse.ui.forms.widgets.FormText.access$16",
          "source": "FormText.java:1304"
        },
        {
          "method": "org.eclipse.ui.forms.widgets.FormText$6.mouseUp",
          "source": "FormText.java:436"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:137"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3375"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2995"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:820"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:796"
        },
        {
          "method": "org.eclipse.jdt.ui.actions.AbstractOpenWizardAction.run",
          "source": "AbstractOpenWizardAction.java:83"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.wizards.OpenJavaProjectWizardToolbarAction.run",
          "source": "OpenJavaProjectWizardToolbarAction.java:45"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:254"
        },
        {
          "method": "org.eclipse.ui.internal.WWinPluginAction.runWithEvent",
          "source": "WWinPluginAction.java:229"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:539"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$6.handleEvent",
          "source": "ActionContributionItem.java:441"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3375"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2995"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1914"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1878"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:280"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "149440",
      "date": "2006-07-03T12:40:56+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "149440",
  "bugId": "149440",
  "date": "2006-07-03T12:40:56+02:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}