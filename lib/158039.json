{
  "comments": [
    "Hi,\n\nfirst let me show you the stacktrace:\n     [java] Caused by: java.lang.ArrayIndexOutOfBoundsException: -1\n     [java]     at org.eclipse.jdt.internal.core.dom.rewrite.ASTRewriteAnalyzer.getIndentOfLine(ASTRewriteAnalyzer.java:228)\n     [java]     at org.eclipse.jdt.internal.core.dom.rewrite.ASTRewriteAnalyzer.getIndent(ASTRewriteAnalyzer.java:1016)\n     [java]     at org.eclipse.jdt.internal.core.dom.rewrite.ASTRewriteAnalyzer.rewriteRequiredNode(ASTRewriteAnalyzer.java:582)\n     [java]     at org.eclipse.jdt.internal.core.dom.rewrite.ASTRewriteAnalyzer.visit(ASTRewriteAnalyzer.java:2443)\n     [java]     at org.eclipse.jdt.core.dom.SingleVariableDeclaration.accept0(SingleVariableDeclaration.java:364)\n     [java]     at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2466)\n     [java]     at org.eclipse.jdt.internal.core.dom.rewrite.ASTRewriteAnalyzer.voidVisit(ASTRewriteAnalyzer.java:314)\n     [java]     at org.eclipse.jdt.internal.core.dom.rewrite.ASTRewriteAnalyzer.voidVisit(ASTRewriteAnalyzer.java:320)\n     [java]     at org.eclipse.jdt.internal.core.dom.rewrite.ASTRewriteAnalyzer.doVisitUnchangedChildren(ASTRewriteAnalyzer.java:335)\n     [java]     at org.eclipse.jdt.internal.core.dom.rewrite.ASTRewriteAnalyzer.visit(ASTRewriteAnalyzer.java:1812)\n     [java]     at org.eclipse.jdt.core.dom.CatchClause.accept0(CatchClause.java:160)\n     [java]     at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2466)\n     [java]     at org.eclipse.jdt.core.dom.rewrite.ASTRewrite.internalRewriteAST(ASTRewrite.java:255)\n     [java]     at org.eclipse.jdt.core.dom.rewrite.ASTRewrite.rewriteAST(ASTRewrite.java:188)\n     [java]     at ***.VisitorHandler.handle(VisitorHandler.java:183)\n\nI looked quickly at the code and got the impression that ListLineTracker.getLineOffset(line) returns -1 and so the method breaks. It might be investigated, why it returns -1 at all... I have a hard time reproducing the problem, as it only occurs on the production system, but not in my test environment.\n\nFor know I hope that you see something in the code which could explain that -1 at this point.\n\nAs soon as I find a way to reproduce the problem, I add the info here.\n\nThanks,\nDaniel",
    "Created an attachment (id\u003d56535)\nAST Parser test\n\nUse this file to reproduce the issue.",
    "I encountered this problem and it turned out to be caused by the fact that the Document I created for the rewrite was empty when I should have initialized it with the contents of the compilation unit from before the changes were made to the ASTNode\u0027s.\n\nObviously, the deeply nested ArrayIndexOutOfBoundsException is not the best way to report that programming error.",
    "fixed \u003e 20070212",
    "Verified for 3.3 M6 using build I20070320-0010"
  ],
  "commentCreationDates": [
    "2006-09-20T20:19:42+02:00",
    "2007-01-08T07:37:32+01:00",
    "2007-02-02T23:32:48+01:00",
    "2007-02-12T16:48:49+01:00",
    "2007-03-21T10:30:49+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "-1      [java]",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.dom.rewrite.ASTRewriteAnalyzer.getIndentOfLine",
          "source": "ASTRewriteAnalyzer.java:228"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "158039",
      "date": "2006-09-20T20:19:42+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "158039",
  "bugId": "158039",
  "date": "2006-09-20T20:19:42+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}