{
  "comments": [
    "Build 200311192030\n\n1. Create a Java project.\n2. Create a Scrapbook page in the project.\n3. Add org.eclipse.debug.core to the project build path.\n4. Enter the following text in the scrapbook and try to evaluate it.\nimport org.eclipse.debug.core.DebugPlugin;\nDebugPlugin.getDefault()\n5. The following exception is dumped to the console. Nothing is written to the log.\n\njava.lang.ArrayIndexOutOfBoundsException: -1\n        at org.eclipse.jdt.internal.eval.CodeSnippetParser.consumeStatementRetur \nn(CodeSnippetParser.java:424)\n        at org.eclipse.jdt.internal.eval.CodeSnippetParser.endParse(CodeSnippetP arser.java:481)\n        at org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:531 7)\n        at org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:556 7)\n        at org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.parseStatemen \nts(MethodDeclaration.java:97)\n        at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.parseMethod(Typ eDeclaration.java:\n710)\n        at org.eclipse.jdt.internal.compiler.parser.Parser.getMethodBodies(Parse r.java:4615)\n        at org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:504)\n        at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:328)\n        at org.eclipse.jdt.internal.eval.Evaluator.getClasses(Evaluator.java:130 )\n        at org.eclipse.jdt.internal.eval.EvaluationContext.evaluate(EvaluationCo ntext.java:232)\n        at org.eclipse.jdt.internal.eval.EvaluationContext.evaluate(EvaluationCo ntext.java:261)\n        at org.eclipse.jdt.internal.core.eval.EvaluationContextWrapper.evaluateC \nodeSnippet(EvaluationContextWrapper.java:252)\n        at org.eclipse.jdt.internal.debug.eval.LocalEvaluationEngine$1.run(Local EvaluationEngine.\njava:437)\n        at java.lang.Thread.run(Thread.java:536)",
    "The scrapbook does not support import statements. You have to use the import \naction in the toolbar.",
    "I know. I\u0027m just thinking that dumping a stack trace to the console is not the desired behavior here. \n;-)",
    "this.expressionLengthPtr \u003d -1.\nNeed to investigate why.",
    "I will investigate how to fail more nicely.",
    "I think the fix is that the error recovery in the code snippet parser should not\nbe reentrant. We try to recover expression and then we go for headers.\nRemoving the reentrance and the scrapbook page returns:\n\nSyntax error on token \"import\", assert expected\n\nIs this good enough?",
    "Fixed and released in HEAD.\nThe error message is consistent with what you would get if you defined an import\nstatement in a method body.",
    "Verified in 200311211210"
  ],
  "commentCreationDates": [
    "2003-11-20T20:28:57+01:00",
    "2003-11-20T20:32:49+01:00",
    "2003-11-20T20:36:54+01:00",
    "2003-11-20T20:53:57+01:00",
    "2003-11-21T13:48:51+01:00",
    "2003-11-21T14:11:22+01:00",
    "2003-11-21T14:42:36+01:00",
    "2003-11-21T18:44:56+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "-1",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.eval.CodeSnippetParser.consumeStatementReturn",
          "source": "CodeSnippetParser.java:424"
        },
        {
          "method": "org.eclipse.jdt.internal.eval.CodeSnippetParser.endParse",
          "source": "CodeSnippetP arser.java:481"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.parser.Parser.parse",
          "source": "Parser.java:531 7"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.parser.Parser.parse",
          "source": "Parser.java:556 7"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.parseStatements",
          "source": "MethodDeclaration.java:97"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.parseMethod",
          "source": "Typ eDeclaration.java: 710"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.parser.Parser.getMethodBodies",
          "source": "Parse r.java:4615"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.process",
          "source": "Compiler.java:504"
        },
        {
          "method": "org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:328"
        },
        {
          "method": "org.eclipse.jdt.internal.eval.Evaluator.getClasses",
          "source": "Evaluator.java:130 "
        },
        {
          "method": "org.eclipse.jdt.internal.eval.EvaluationContext.evaluate",
          "source": "EvaluationCo ntext.java:232"
        },
        {
          "method": "org.eclipse.jdt.internal.eval.EvaluationContext.evaluate",
          "source": "EvaluationCo ntext.java:261"
        },
        {
          "method": "org.eclipse.jdt.internal.core.eval.EvaluationContextWrapper.evaluateCodeSnippet",
          "source": "EvaluationContextWrapper.java:252"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.eval.LocalEvaluationEngine$1.run",
          "source": "Local EvaluationEngine. java:437"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:536"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "47160",
      "date": "2003-11-20T20:28:57+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "47160",
  "bugId": "47160",
  "date": "2003-11-20T20:28:57+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}