{
  "comments": [
    "Steps to reproduce:\n1.New a sample data source and add a data set from table \"CUSTOMERS\"\n2.New a dynamic report parameter \"a\" which refer to data set column \"CUSTOMERNAME\"\n3.Open data set, change its query to:\n  Select *\n  from CLASSICMODELS.CUSTOMERS\n  where CLASSICMODELS.CUSTOMERS.CUSTOMERNAME \u003d ?\n4.Switch to data set parameter: set parameter link to report parameter \"a\"\n5.Click \"ok\" to finish editing data set\n\nExpected result:\nDisable referring to recursive parameter or give warning when preview data set result\n\nActual result:\njava.lang.StackOverflowError\n\tat java.util.HashMap.hash(HashMap.java:264)\n\tat java.util.HashMap.get(HashMap.java:320)\n\tat org.eclipse.birt.report.model.core.DesignElement.getLocalProperty(DesignElement.java:1102)\n\tat org.eclipse.birt.report.model.core.PropertySearchStrategy.getPropertyFromSelf(PropertySearchStrategy.java:196)\n\tat org.eclipse.birt.report.model.core.PropertySearchStrategy.getPropertyFromElement(PropertySearchStrategy.java:139)\n\tat org.eclipse.birt.report.model.core.PropertySearchStrategy.getPropertyExceptRomDefault(PropertySearchStrategy.java:89)\n\tat org.eclipse.birt.report.model.core.DesignElement.getProperty(DesignElement.java:967)\n\tat org.eclipse.birt.report.model.core.MemberRef.getList(MemberRef.java:917)\n\tat org.eclipse.birt.report.model.core.CachedMemberRef.doCacheStructure(CachedMemberRef.java:191)\n\tat org.eclipse.birt.report.model.core.CachedMemberRef.checkOrCacheStructure(CachedMemberRef.java:166)\n\tat org.eclipse.birt.report.model.api.StructureHandle.\u003cinit\u003e(StructureHandle.java:80)\n\tat org.eclipse.birt.report.model.api.DataSetParameterHandle.\u003cinit\u003e(DataSetParameterHandle.java:68)\n\tat org.eclipse.birt.report.model.api.OdaDataSetParameterHandle.\u003cinit\u003e(OdaDataSetParameterHandle.java:51)\n\tat org.eclipse.birt.report.model.api.elements.structures.OdaDataSetParameter.handle(OdaDataSetParameter.java:77)\n\tat org.eclipse.birt.report.model.core.Structure.getHandle(Structure.java:288)\n\tat org.eclipse.birt.report.model.api.StructureIterator.next(StructureIterator.java:113)\n\tat org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newOdaDataSetParams(DataSetParameterAdapter.java:862)\n\tat org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.updateDataSetDesign(ModelOdaAdapter.java:362)\n\tat org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.createDataSetDesign(ModelOdaAdapter.java:103)\n\tat org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateInputElementAttrs(ReportParameterAdapter.java:732)\n\tat org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateParameterDefinitionFromReportParam(ReportParameterAdapter.java:644)\n\tat org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newParameterDefinition(DataSetParameterAdapter.java:90)\n\tat org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newOdaDataSetParams(DataSetParameterAdapter.java:864)\n\tat org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.updateDataSetDesign(ModelOdaAdapter.java:362)\n\tat org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.createDataSetDesign(ModelOdaAdapter.java:103)\n\tat org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateInputElementAttrs(ReportParameterAdapter.java:732)\n\tat org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateParameterDefinitionFromReportParam(ReportParameterAdapter.java:644)\n\tat org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newParameterDefinition(DataSetParameterAdapter.java:90)\n\tat org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newOdaDataSetParams(DataSetParameterAdapter.java:864)\n\tat org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.updateDataSetDesign(ModelOdaAdapter.java:362)\n\tat org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.createDataSetDesign(ModelOdaAdapter.java:103)\n\tat org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateInputElementAttrs(ReportParameterAdapter.java:732)\n\tat org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateParameterDefinitionFromReportParam(ReportParameterAdapter.java:644)\n\tat org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newParameterDefinition(DataSetParameterAdapter.java:90)\n\tat org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newOdaDataSetParams(DataSetParameterAdapter.java:864)\n\tat org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.updateDataSetDesign(ModelOdaAdapter.java:362)\n\tat org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.createDataSetDesign(ModelOdaAdapter.java:103)\n\tat org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateInputElementAttrs(ReportParameterAdapter.java:732)\n\tat org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateParameterDefinitionFromReportParam(ReportParameterAdapter.java:644)\n\tat org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newParameterDefinition(DataSetParameterAdapter.java:90)\n\tat org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newOdaDataSetParams(DataSetParameterAdapter.java:864)\n\tat org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.updateDataSetDesign(ModelOdaAdapter.java:362)\n\tat org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.createDataSetDesign(ModelOdaAdapter.java:103)\n\tat org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateInputElementAttrs(ReportParameterAdapter.java:732)\n\tat org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateParameterDefinitionFromReportParam(ReportParameterAdapter.java:644)\n\tat org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newParameterDefinition(DataSetParameterAdapter.java:90)\n\tat org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newOdaDataSetParams(DataSetParameterAdapter.java:864)\n\tat org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.updateDataSetDesign(ModelOdaAdapter.java:362)\n\tat org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.createDataSetDesign(ModelOdaAdapter.java:103)\n\tat org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateInputElementAttrs(ReportParameterAdapter.java:732)\n\tat org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateParameterDefinitionFromReportParam(ReportParameterAdapter.java:644)\n\tat org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newParameterDefinition(DataSetParameterAdapter.java:90)\n\tat org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newOdaDataSetParams(DataSetParameterAdapter.java:864)\n\tat org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.updateDataSetDesign(ModelOdaAdapter.java:362)\n\tat org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.createDataSetDesign(ModelOdaAdapter.java:103)\n\tat org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateInputElementAttrs(ReportParameterAdapter.java:732)\n\tat org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateParameterDefinitionFromReportParam(ReportParameterAdapter.java:644)\n\tat org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newParameterDefinition(DataSetParameterAdapter.java:90)\n\tat org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newOdaDataSetParams(DataSetParameterAdapter.java:864)\n\tat org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.updateDataSetDesign(ModelOdaAdapter.java:362)\n\tat org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.createDataSetDesign(ModelOdaAdapter.java:103)\n\tat org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateInputElementAttrs(ReportParameterAdapter.java:732)\n\tat org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateParameterDefinitionFromReportParam(ReportParameterAdapter.java:644)\n\tat org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newParameterDefinition(DataSetParameterAdapter.java:90)\n\tat org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newOdaDataSetParams(DataSetParameterAdapter.java:864).....",
    "This problem is somewhat like the column binding cycling issue we discussed early.\n\nThis kind of parameter should lead to an exception during runtime rather than a StackOverFlow error during design time. DtE or engine should add mechanism to check the recursive dependency of parameters. But before that we need model to allow this kind of dependency to be save to rptdesign.",
    "Can we disable referring to recursive parameter or give warning when preview data set result? For example, add a validator?",
    "Oda adapter classes removed the recursive update, however StackOverflowError still appeared in DTE code.",
    "When ModelOdaAdapter adapter into DataSetDesign, it will still cause a recursive reference in DataSetDesign.",
    "Fixed in Model oda adapter.",
    "Verified on build 20060901"
  ],
  "commentCreationDates": [
    "2006-08-30T08:08:47+02:00",
    "2006-08-30T08:40:57+02:00",
    "2006-08-30T08:57:01+02:00",
    "2006-08-30T10:17:35+02:00",
    "2006-08-31T07:14:34+02:00",
    "2006-08-31T07:40:05+02:00",
    "2006-09-01T05:06:41+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.StackOverflowError",
      "elements": [
        {
          "method": "java.util.HashMap.hash",
          "source": "HashMap.java:264"
        },
        {
          "method": "java.util.HashMap.get",
          "source": "HashMap.java:320"
        },
        {
          "method": "org.eclipse.birt.report.model.core.DesignElement.getLocalProperty",
          "source": "DesignElement.java:1102"
        },
        {
          "method": "org.eclipse.birt.report.model.core.PropertySearchStrategy.getPropertyFromSelf",
          "source": "PropertySearchStrategy.java:196"
        },
        {
          "method": "org.eclipse.birt.report.model.core.PropertySearchStrategy.getPropertyFromElement",
          "source": "PropertySearchStrategy.java:139"
        },
        {
          "method": "org.eclipse.birt.report.model.core.PropertySearchStrategy.getPropertyExceptRomDefault",
          "source": "PropertySearchStrategy.java:89"
        },
        {
          "method": "org.eclipse.birt.report.model.core.DesignElement.getProperty",
          "source": "DesignElement.java:967"
        },
        {
          "method": "org.eclipse.birt.report.model.core.MemberRef.getList",
          "source": "MemberRef.java:917"
        },
        {
          "method": "org.eclipse.birt.report.model.core.CachedMemberRef.doCacheStructure",
          "source": "CachedMemberRef.java:191"
        },
        {
          "method": "org.eclipse.birt.report.model.core.CachedMemberRef.checkOrCacheStructure",
          "source": "CachedMemberRef.java:166"
        },
        {
          "method": "org.eclipse.birt.report.model.api.StructureHandle.\u003cinit\u003e",
          "source": "StructureHandle.java:80"
        },
        {
          "method": "org.eclipse.birt.report.model.api.DataSetParameterHandle.\u003cinit\u003e",
          "source": "DataSetParameterHandle.java:68"
        },
        {
          "method": "org.eclipse.birt.report.model.api.OdaDataSetParameterHandle.\u003cinit\u003e",
          "source": "OdaDataSetParameterHandle.java:51"
        },
        {
          "method": "org.eclipse.birt.report.model.api.elements.structures.OdaDataSetParameter.handle",
          "source": "OdaDataSetParameter.java:77"
        },
        {
          "method": "org.eclipse.birt.report.model.core.Structure.getHandle",
          "source": "Structure.java:288"
        },
        {
          "method": "org.eclipse.birt.report.model.api.StructureIterator.next",
          "source": "StructureIterator.java:113"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newOdaDataSetParams",
          "source": "DataSetParameterAdapter.java:862"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.updateDataSetDesign",
          "source": "ModelOdaAdapter.java:362"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.createDataSetDesign",
          "source": "ModelOdaAdapter.java:103"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateInputElementAttrs",
          "source": "ReportParameterAdapter.java:732"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateParameterDefinitionFromReportParam",
          "source": "ReportParameterAdapter.java:644"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newParameterDefinition",
          "source": "DataSetParameterAdapter.java:90"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newOdaDataSetParams",
          "source": "DataSetParameterAdapter.java:864"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.updateDataSetDesign",
          "source": "ModelOdaAdapter.java:362"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.createDataSetDesign",
          "source": "ModelOdaAdapter.java:103"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateInputElementAttrs",
          "source": "ReportParameterAdapter.java:732"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateParameterDefinitionFromReportParam",
          "source": "ReportParameterAdapter.java:644"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newParameterDefinition",
          "source": "DataSetParameterAdapter.java:90"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newOdaDataSetParams",
          "source": "DataSetParameterAdapter.java:864"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.updateDataSetDesign",
          "source": "ModelOdaAdapter.java:362"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.createDataSetDesign",
          "source": "ModelOdaAdapter.java:103"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateInputElementAttrs",
          "source": "ReportParameterAdapter.java:732"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateParameterDefinitionFromReportParam",
          "source": "ReportParameterAdapter.java:644"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newParameterDefinition",
          "source": "DataSetParameterAdapter.java:90"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newOdaDataSetParams",
          "source": "DataSetParameterAdapter.java:864"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.updateDataSetDesign",
          "source": "ModelOdaAdapter.java:362"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.createDataSetDesign",
          "source": "ModelOdaAdapter.java:103"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateInputElementAttrs",
          "source": "ReportParameterAdapter.java:732"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateParameterDefinitionFromReportParam",
          "source": "ReportParameterAdapter.java:644"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newParameterDefinition",
          "source": "DataSetParameterAdapter.java:90"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newOdaDataSetParams",
          "source": "DataSetParameterAdapter.java:864"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.updateDataSetDesign",
          "source": "ModelOdaAdapter.java:362"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.createDataSetDesign",
          "source": "ModelOdaAdapter.java:103"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateInputElementAttrs",
          "source": "ReportParameterAdapter.java:732"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateParameterDefinitionFromReportParam",
          "source": "ReportParameterAdapter.java:644"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newParameterDefinition",
          "source": "DataSetParameterAdapter.java:90"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newOdaDataSetParams",
          "source": "DataSetParameterAdapter.java:864"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.updateDataSetDesign",
          "source": "ModelOdaAdapter.java:362"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.createDataSetDesign",
          "source": "ModelOdaAdapter.java:103"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateInputElementAttrs",
          "source": "ReportParameterAdapter.java:732"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateParameterDefinitionFromReportParam",
          "source": "ReportParameterAdapter.java:644"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newParameterDefinition",
          "source": "DataSetParameterAdapter.java:90"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newOdaDataSetParams",
          "source": "DataSetParameterAdapter.java:864"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.updateDataSetDesign",
          "source": "ModelOdaAdapter.java:362"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.createDataSetDesign",
          "source": "ModelOdaAdapter.java:103"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateInputElementAttrs",
          "source": "ReportParameterAdapter.java:732"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateParameterDefinitionFromReportParam",
          "source": "ReportParameterAdapter.java:644"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newParameterDefinition",
          "source": "DataSetParameterAdapter.java:90"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newOdaDataSetParams",
          "source": "DataSetParameterAdapter.java:864"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.updateDataSetDesign",
          "source": "ModelOdaAdapter.java:362"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ModelOdaAdapter.createDataSetDesign",
          "source": "ModelOdaAdapter.java:103"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateInputElementAttrs",
          "source": "ReportParameterAdapter.java:732"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.ReportParameterAdapter.updateParameterDefinitionFromReportParam",
          "source": "ReportParameterAdapter.java:644"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newParameterDefinition",
          "source": "DataSetParameterAdapter.java:90"
        },
        {
          "method": "org.eclipse.birt.report.model.adapter.oda.DataSetParameterAdapter.newOdaDataSetParams",
          "source": "DataSetParameterAdapter.java:864"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "155631",
      "date": "2006-08-30T08:08:47+02:00",
      "product": "BIRT",
      "component": "Data",
      "severity": "major"
    }
  ],
  "groupId": "155631",
  "bugId": "155631",
  "date": "2006-08-30T08:08:47+02:00",
  "product": "BIRT",
  "component": "Data",
  "severity": "major"
}