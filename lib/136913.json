{
  "comments": [
    "I was testing an RCP application with the latest Eclipse SDK 3.2RC1 and I get the exception reported below. Apparently this is caused by placing a ViewPart stacked on the org.eclipse.ui.editorss part, like this part now accepts only EditorParts.\n\nThe same application works well with Eclipse 3.1.\n\njava.lang.ClassCastException: org.eclipse.ui.internal.EditorSashContainer\n        at org.eclipse.ui.internal.PartStack.showPart(PartStack.java:1305)\n        at org.eclipse.ui.internal.PartStack.createControl(PartStack.java:603)\n        at org.eclipse.ui.internal.PartStack.createControl(PartStack.java:531)\n        at org.eclipse.ui.internal.PartSashContainer.createControl(PartSashContainer.java:562)\n        at org.eclipse.ui.internal.PerspectiveHelper.activate(PerspectiveHelper.java:244)\n        at org.eclipse.ui.internal.Perspective.onActivate(Perspective.java:832)\n        at org.eclipse.ui.internal.WorkbenchPage.onActivate(WorkbenchPage.java:2378)\n        at org.eclipse.ui.internal.WorkbenchWindow$6.run(WorkbenchWindow.java:2612)\n        at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n        at org.eclipse.ui.internal.WorkbenchWindow.setActivePage(WorkbenchWindow.java:2593)\n        at org.eclipse.ui.internal.WorkbenchWindow.busyOpenPage(WorkbenchWindow.java:657)\n        at org.eclipse.ui.internal.Workbench.busyOpenWorkbenchWindow(Workbench.java:795)\n        at org.eclipse.ui.internal.Workbench.doOpenFirstTimeWindow(Workbench.java:1437)\n        at org.eclipse.ui.internal.Workbench.openFirstTimeWindow(Workbench.java:1388)\n        at org.eclipse.ui.internal.WorkbenchConfigurer.openFirstTimeWindow(WorkbenchConfigurer.java:190)\n        at org.eclipse.ui.application.WorkbenchAdvisor.openWindows(WorkbenchAdvisor.java:708)\n        at org.eclipse.ui.internal.Workbench.init(Workbench.java:1085)\n        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1847)\n        at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n        at net.sourceforge.eclipsetrader.Application.run(Application.java:31)\n        at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n        at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:585)\n        at org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n        at org.eclipse.core.launcher.Main.run(Main.java:977)\n        at org.eclipse.core.launcher.Main.main(Main.java:952)",
    "What code causes this condition?  Is it a drag and drop operation?  Or a layout factory?\n\nViews and editors aren\u0027t the same.  Views can\u0027t exist in the editor stack, and editors can\u0027t exist in a view stack.\n\nBut it should just fail, not throw a class cast exception.\n\nPW\n",
    "(In reply to comment #1)\n\n\u003e What code causes this condition?  Is it a drag and drop operation?  Or a layout\n\u003e factory?\n\nIt is caused by just adding a perspectiveExtension that defines that the view is stacked on the editor area. The exception is thrown at the startup. You can easily reproduce it by modifying the \u0027RCP vith a view\u0027 template when creating a new plugin project.\n\n\u003e Views and editors aren\u0027t the same.  Views can\u0027t exist in the editor stack, and\n\u003e editors can\u0027t exist in a view stack.\n\nThat\u0027s not entirely true, at least until 3.2. It is true that an editor can\u0027t be placed outside the editor stack, but views (ViewPart instances) can be stacked on the editor part (org.eclipse.ui.editorss) without problems.\n\n\u003e But it should just fail, not throw a class cast exception.\n\nIt should not even fail, it should open the view and work like in 3.1.\n",
    "If it worked in 3.1 it sounds like a bug.  Views can\u0027t go in the editor stack.\n\nHowever I will check the intent before I code it one way or the other.\n\nPW\n",
    "I\u0027ve checked.  Trying to stack a view on the editor area is not permitted.\n\nThe perspective extension code has a bug where it will try and stack the editor area with a view (of course, that destabilizes the editor area).\n\nYou can make the editor area invisible, and still use relative to consume most of the editor area (with right or left instead of stack).\n\nPW\n",
    "I\u0027ve added updated logging, and will prevent parts from being dropped on editor stacks or view stacks.\n\nsee bug 137384\n\nPW\n"
  ],
  "commentCreationDates": [
    "2006-04-15T20:50:36+02:00",
    "2006-04-15T23:23:47+02:00",
    "2006-04-16T00:02:43+02:00",
    "2006-04-16T04:30:11+02:00",
    "2006-04-16T18:43:19+02:00",
    "2006-04-25T17:54:38+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.ui.internal.EditorSashContainer",
      "elements": [
        {
          "method": "org.eclipse.ui.internal.PartStack.showPart",
          "source": "PartStack.java:1305"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.createControl",
          "source": "PartStack.java:603"
        },
        {
          "method": "org.eclipse.ui.internal.PartStack.createControl",
          "source": "PartStack.java:531"
        },
        {
          "method": "org.eclipse.ui.internal.PartSashContainer.createControl",
          "source": "PartSashContainer.java:562"
        },
        {
          "method": "org.eclipse.ui.internal.PerspectiveHelper.activate",
          "source": "PerspectiveHelper.java:244"
        },
        {
          "method": "org.eclipse.ui.internal.Perspective.onActivate",
          "source": "Perspective.java:832"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.onActivate",
          "source": "WorkbenchPage.java:2378"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow$6.run",
          "source": "WorkbenchWindow.java:2612"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.setActivePage",
          "source": "WorkbenchWindow.java:2593"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.busyOpenPage",
          "source": "WorkbenchWindow.java:657"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.busyOpenWorkbenchWindow",
          "source": "Workbench.java:795"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.doOpenFirstTimeWindow",
          "source": "Workbench.java:1437"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.openFirstTimeWindow",
          "source": "Workbench.java:1388"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchConfigurer.openFirstTimeWindow",
          "source": "WorkbenchConfigurer.java:190"
        },
        {
          "method": "org.eclipse.ui.application.WorkbenchAdvisor.openWindows",
          "source": "WorkbenchAdvisor.java:708"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.init",
          "source": "Workbench.java:1085"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1847"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "net.sourceforge.eclipsetrader.Application.run",
          "source": "Application.java:31"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:169"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:280"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "136913",
      "date": "2006-04-15T20:50:36+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "136913",
  "bugId": "136913",
  "date": "2006-04-15T20:50:36+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}