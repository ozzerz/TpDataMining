{
  "comments": [
    "Build ID: Eclipse 3.3.1\n\nSteps To Reproduce:\n-Using Eclipse 3.3.1 build on Suse Linux Enterprise Desktop 10SP1, which xulrunner is 1.8.0.1.\n-Launch Eclipse, and show \"internal web browser\" view.\n-Open URL: http://map.baidu.com\n-Search the map(eg.type \u0026#21271;\u0026#20140; \u0026#29579;\u0026#24220;\u0026#20117;) (you can copy it)\n-After search result listed in the right, click one of the links.(eg. click A \u0026#29579;\u0026#24220;\u0026#20117;)\n- Eclipse crashes.\n\nMore information:\n1. We debugged into Eclipse code, and saw there is an XPCOM error within the OnStateChange callback, and in hookDOMListeners method. \n2. After we use try/catch blocks to catch Throwable, we can see an exception, and this time, it won\u0027t crash the Eclipse.\n3. As I suggested months ago, SWT should try to catch Java exception/throwables in the Callbacks, and notify the errors either in UI thread, or on console. An uncaught Java exception will cause a crash of whole eclipse client.",
    "Attach the captured XPCOM error, the \"focus\" event can\u0027t be added at that web page.\n\nint rc \u003d target.AddEventListener (string.getAddress (), domEventListener.getAddress (), false);\n\tif (rc !\u003d XPCOM.NS_OK) error (rc);\n\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\norg.eclipse.swt.SWTError: XPCOM error -2147221231\n\tat org.eclipse.swt.browser.Mozilla.error(Mozilla.java:1296)\n\tat org.eclipse.swt.browser.Mozilla.hookDOMListeners(Mozilla.java:1634)\n\tat org.eclipse.swt.browser.Mozilla.OnStateChange(Mozilla.java:1910)\n\tat org.eclipse.swt.browser.Mozilla$7.method3(Mozilla.java:1037)\n\tat org.eclipse.swt.internal.mozilla.XPCOMObject.callback3(XPCOMObject.java:259)\n\tat org.eclipse.swt.internal.gtk.OS._g_main_context_iteration(Native Method)\n\tat org.eclipse.swt.internal.gtk.OS.g_main_context_iteration(OS.java:1487)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2969)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353)\n\tat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219)\n\tat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:169)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:508)\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:447)\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1173)\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1148)\n",
    "It is not the job of a reusable class library to catch and swallow exceptions.  In this case, if we cannot determine why adding an event listener fails, we could consider failing silently and not throwing the exception in the first place.",
    "Steve, I wonder if you have problem with reproducible steps, since there are some Chinese chars in the steps. This is the only website we found it will occur the event registering failing.\n\nFor the problem handling, if we use java logging to log it, we can also avoid the crash and keep tracking of the problem if we view the java loggings.\n\n"
  ],
  "commentCreationDates": [
    "2007-12-05T03:37:01+01:00",
    "2007-12-05T03:41:30+01:00",
    "2007-12-05T20:12:35+01:00",
    "2007-12-09T08:49:14+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTError",
      "message": "XPCOM error -2147221231",
      "elements": [
        {
          "method": "org.eclipse.swt.browser.Mozilla.error",
          "source": "Mozilla.java:1296"
        },
        {
          "method": "org.eclipse.swt.browser.Mozilla.hookDOMListeners",
          "source": "Mozilla.java:1634"
        },
        {
          "method": "org.eclipse.swt.browser.Mozilla.OnStateChange",
          "source": "Mozilla.java:1910"
        },
        {
          "method": "org.eclipse.swt.browser.Mozilla$7.method3",
          "source": "Mozilla.java:1037"
        },
        {
          "method": "org.eclipse.swt.internal.mozilla.XPCOMObject.callback3",
          "source": "XPCOMObject.java:259"
        },
        {
          "method": "org.eclipse.swt.internal.gtk.OS._g_main_context_iteration",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.gtk.OS.g_main_context_iteration",
          "source": "OS.java:1487"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2969"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2389"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2353"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2219"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:466"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:461"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:169"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:363"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:176"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:508"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:447"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1173"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1148"
        }
      ],
      "number": 0,
      "commentIndex": 1,
      "bugId": "211949",
      "date": "2007-12-05T03:41:30+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "critical"
    }
  ],
  "groupId": "211949",
  "bugId": "211949",
  "date": "2007-12-05T03:37:01+01:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "critical"
}