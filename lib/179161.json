{
  "comments": [
    "The RegistryKey .net class does some pre-validation before actually hitting the registry.  It would be nice to do something similar in the java layer before calling OS.RegistryKey_OpenSubKey - ideally not only in Program.findProgram but as a common sanity check.  I believe the non-wpf win32 version returns null.\n\n\ne.g. \nString reallyLongExtension \u003d \"xxxxxx.....\";\nProgram.findProgram(reallyLongExtension);\n\nwill currently (3.3 M6) throw something like:\n\nSystem.ArgumentException: Registry subkeys should not be greater than 255 characters.\n   at System.ThrowHelper.ThrowArgumentException(ExceptionResource resource)\n   at Microsoft.Win32.RegistryKey.ValidateKeyName(String name)\n   at Microsoft.Win32.RegistryKey.OpenSubKey(String name, Boolean writable)\n   at Microsoft.Win32.RegistryKey.OpenSubKey(String name)\n   at Java_org_eclipse_swt_internal_wpf_OS_RegistryKey_1OpenSubKey(JNIEnv_* env, _jclass* that, Int32 arg0, Int32 arg1)\nJava: \njava.lang.Exception: Stack trace\n\tat java.lang.Thread.dumpStack(Unknown Source)\n\tat org.eclipse.swt.internal.wpf.OS.RegistryKey_OpenSubKey(Native Method)\n\tat org.eclipse.swt.program.Program.findProgram(Program.java:69)",
    "findProgram is the only place where we attempt to open a registry key based on user input. Other calls to OpenSubKey either use keys that we already retrieved from the registry or keys that we define ourselves and know are valid names.\nFixed in findProgram"
  ],
  "commentCreationDates": [
    "2007-03-24T20:25:41+01:00",
    "2007-03-26T16:41:20+02:00"
  ],
  "traces": [
    {
      "exceptionType": "System.ArgumentException",
      "message": "Registry subkeys should not be greater than 255 characters.",
      "elements": [
        {
          "method": "System.ThrowHelper.ThrowArgumentException",
          "source": "ExceptionResource resource"
        },
        {
          "method": "Microsoft.Win32.RegistryKey.ValidateKeyName",
          "source": "String name"
        },
        {
          "method": "Microsoft.Win32.RegistryKey.OpenSubKey",
          "source": "String name, Boolean writable"
        },
        {
          "method": "Microsoft.Win32.RegistryKey.OpenSubKey",
          "source": "String name"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "179161",
      "date": "2007-03-24T20:25:41+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.Exception",
      "message": "Stack trace",
      "elements": [
        {
          "method": "java.lang.Thread.dumpStack",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.swt.internal.wpf.OS.RegistryKey_OpenSubKey",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.program.Program.findProgram",
          "source": "Program.java:69"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "179161",
      "date": "2007-03-24T20:25:41+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    }
  ],
  "groupId": "179161",
  "bugId": "179161",
  "date": "2007-03-24T20:25:41+01:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "normal"
}