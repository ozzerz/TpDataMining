{
  "comments": [
    "I had an old workspace with several perspectives open in the same window.\nRunning build 20020305 with no changes.\nDid a Perspective / Close All.\nGot:\n\njava.lang.NullPointerException\n\tat org.eclipse.team.internal.ccvs.ui.HistoryView.dispose\n(HistoryView.java:507)\n\tat org.eclipse.ui.internal.WorkbenchPage.dispose\n(WorkbenchPage.java:569)\n\tat org.eclipse.ui.internal.WorkbenchWindow.closeAllPages\n(WorkbenchWindow.java:329)\n\tat org.eclipse.ui.internal.WorkbenchWindow.closeAllPages\n(WorkbenchWindow.java:340)\n\tat org.eclipse.ui.internal.CloseAllPagesAction.run\n(CloseAllPagesAction.java:34)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:452)\n\tat \norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:407)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent\n(ActionContributionItem.java:361)\n\tat org.eclipse.jface.action.ActionContributionItem.access$0\n(ActionContributionItem.java:352)\n\tat \norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent\n(ActionContributionItem.java:47)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:74)\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:637)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1420)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1208)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:700)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:683)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:777)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:319)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:151)\n\tat org.eclipse.core.launcher.Main.run(Main.java:502)\n\tat org.eclipse.core.launcher.Main.main(Main.java:362)",
    "Could this be caused by the bug which you fixed today?",
    "Looking at the HistoryView code, it is calling dispose on an image but no check \nto see if this image is not null. Should do the following (and for the other \nimage too)\n\nif (branchImage !\u003d null) {\n   branchImage.dispose();\n   branchImage \u003d\u003d null;\n}\n",
    "Any idea why it\u0027s null?  Was it never created?  Was it disposed twice?\n",
    "As the code is currently, I never null out the image. The only way it could\n*possibly* be null is if the call to getImageDescriptor failed, in which case\nall of our other imgaes would likely be broken too.\n\nI\u0027ve put the safety check around the dispose, so this won\u0027t happen again, but\nI\u0027m still a little uneasy about why this happened in the first place.",
    "It is possible for the workbench to create an instance of the view, but never \ncall the createPartControl() method prior to calling dispose. This would happen \nif your view was in a perspective that is open, but was never activated prior \nto the window closing.\n\nSo it is possible for those two image variable to be null (you only create them \nin the creatPartControl method, so if it does not get call...)",
    "Aaaah. Thanks for the info Nick.",
    "I believe this was the case.  I had not activated the perspective containing \nthis view.\nJames, you should think of dispose() as being the counterpart to init, not \ncreatePartControl.\n"
  ],
  "commentCreationDates": [
    "2002-03-07T04:03:28+01:00",
    "2002-03-07T04:03:47+01:00",
    "2002-03-07T15:39:59+01:00",
    "2002-03-07T15:59:26+01:00",
    "2002-03-08T16:22:48+01:00",
    "2002-03-08T16:55:14+01:00",
    "2002-03-08T17:00:20+01:00",
    "2002-03-11T14:31:58+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.team.internal.ccvs.ui.HistoryView.dispose",
          "source": "HistoryView.java:507"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.dispose",
          "source": "WorkbenchPage.java:569"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.closeAllPages",
          "source": "WorkbenchWindow.java:329"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.closeAllPages",
          "source": "WorkbenchWindow.java:340"
        },
        {
          "method": "org.eclipse.ui.internal.CloseAllPagesAction.run",
          "source": "CloseAllPagesAction.java:34"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:452"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:407"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java:361"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem.java:352"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java:47"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:74"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:637"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1420"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1208"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:700"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:683"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:777"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:319"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:151"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:502"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:362"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "10920",
      "date": "2002-03-07T04:03:28+01:00",
      "product": "Platform",
      "component": "Team",
      "severity": "normal"
    }
  ],
  "groupId": "10920",
  "bugId": "10920",
  "date": "2002-03-07T04:03:28+01:00",
  "product": "Platform",
  "component": "Team",
  "severity": "normal"
}