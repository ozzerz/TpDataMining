{
  "comments": [
    "When trying to create a skeleton web service with a wsdl that has an empty\ncomment (i.e. \u003c!----\u003e), xalan blows up in\norg.eclipse.jst.ws.internal.consumption.command.common.CopyWSDLCommand.copyXMLSchema(Environment\nenv, String uri, String destURI) with an ArrayIndexOutOfBoundsException.",
    "Thanks Dave. Do you mean your WSDL document contains only a comment, and no \n\u003cdefinitions\u003e element or other WSDL content? Would you please attach your WSDL \ndocument to this bug?\n\nPeter, I believe you\u0027ve done time recently in CopyWSDLCommand. This looks like \na case for us producing a decent error message vs. an OutOfBounds exception, \neven if the WSDL is fairly empty on the inside.\n\nThanks - CB.",
    "Created an attachment (id\u003d18496)\nWSDL demonstrating the error\n\nAttempting to create a java skeleton from this wsdl demonstrates the error\ncoming from xalan.",
    "Hi Dave,\n   I tried your WSDL file on our M3 driver and it worked fine for me.  What \ndriver were you using when you encountered the problem?  Thanks.",
    "Here\u0027s my setup:\n\nWTP 1.0M3\nEclipse 3.1M5a (I20050219-1500)\nJDK 1.5.0_01\nWindows XP SP2\n\nHere\u0027s the full stack trace:\n\nIWAB0028E Failed to copy WSDL\nfile:/E:/eclipse3.1M5/wtp-workspace/oagis-8.0/CommentTest.wsdl to\nfile:/E:/eclipse3.1M5/wtp-workspace/WebServiceClientProject/WebContent/wsdl/NewPort.wsdl\n    java.lang.ArrayIndexOutOfBoundsException: -1\n    at org.apache.xalan.serialize.SerializerToXML.comment(Unknown Source)\n    at org.apache.xalan.transformer.TransformerIdentityImpl.comment(Unknown Source)\n    at org.apache.xml.utils.TreeWalker.startNode(Unknown Source)\n    at org.apache.xml.utils.TreeWalker.traverse(Unknown Source)\n    at org.apache.xalan.transformer.TransformerIdentityImpl.transform(Unknown\nSource)\n    at\norg.eclipse.wst.wsdl.internal.util.WSDLResourceImpl.doSerialize(WSDLResourceImpl.java:138)\n    at\norg.eclipse.wst.wsdl.internal.util.WSDLResourceImpl.doSave(WSDLResourceImpl.java:100)\n    at org.eclipse.emf.ecore.resource.impl.ResourceImpl.save(ResourceImpl.java:888)\n    at\norg.eclipse.wst.wsdl.internal.impl.wsdl4j.WSDLWriterImpl.writeWSDL(WSDLWriterImpl.java:131)\n    at\norg.eclipse.jst.ws.internal.consumption.command.common.CopyWSDLCommand.copyWSDL(CopyWSDLCommand.java:117)\n    at\norg.eclipse.jst.ws.internal.consumption.command.common.CopyWSDLCommand.execute(CopyWSDLCommand.java:78)\n    at\norg.eclipse.jst.ws.internal.axis.creation.ui.task.Skeleton2WSDLCommand.execute(Skeleton2WSDLCommand.java:201)\n    at\norg.eclipse.wst.command.env.core.fragment.CommandFragmentEngine.runCommand(CommandFragmentEngine.java:322)\n    at\norg.eclipse.wst.command.env.core.fragment.CommandFragmentEngine.visitTop(CommandFragmentEngine.java:288)\n    at\norg.eclipse.wst.command.env.core.fragment.CommandFragmentEngine.moveForwardToNextStop(CommandFragmentEngine.java:208)\n    at\norg.eclipse.wst.command.env.ui.widgets.SimpleCommandEngineManager$4.run(SimpleCommandEngineManager.java:206)\n    at\norg.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:344)\n    at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:289)\n    at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:824)\n    at\norg.eclipse.wst.command.env.ui.widgets.SimpleCommandEngineManager.runForwardToNextStop(SimpleCommandEngineManager.java:175)\n    at\norg.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.runForwardToNextStop(WizardPageManager.java:69)\n    at\norg.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getNextPage(WizardPageManager.java:91)\n    at\norg.eclipse.wst.command.internal.env.ui.widgets.SimpleWizardPage.getNextPage(SimpleWizardPage.java:123)\n    at org.eclipse.jface.wizard.WizardDialog.nextPressed(WizardDialog.java:741)\n    at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:338)\n    at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:543)\n    at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2908)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2541)\n    at org.eclipse.jface.window.Window.runEventLoop(Window.java:718)\n    at org.eclipse.jface.window.Window.open(Window.java:696)\n    at\norg.eclipse.wst.command.internal.env.ui.widgets.popup.DynamicPopupWizard.run(DynamicPopupWizard.java:123)\n    at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:244)\n    at\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:557)\n    at\norg.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:507)\n    at\norg.eclipse.jface.action.ActionContributionItem$6.handleEvent(ActionContributionItem.java:421)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2908)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2541)\n    at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1612)\n    at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1578)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:293)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)\n    at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102)\n    at\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:333)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:150)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.eclipse.core.launcher.Main.invokeFramework(Main.java:268)\n    at org.eclipse.core.launcher.Main.basicRun(Main.java:260)\n    at org.eclipse.core.launcher.Main.run(Main.java:887)\n    at org.eclipse.core.launcher.Main.main(Main.java:871)\n",
    "Hmm.  I used IBMs 1.4.2 JDK and the scenario worked fine.  I\u0027ll try downloading \nSUNs 1.5 JDK and see if the problem surfaces.  The traceback shows that the \ncode is exploding in the xalan transformer so there might be some weird \nJDK/parser incompatibilty going on here.  I\u0027ll add a comment when I get a \nchance to try this out.  Thanks.",
    "Hi Dave,  I tried using the sun 1.5.0 jdk.  I didn\u0027t run into the problem that \nyou were having, but I did get a null pointer exception when the wizard tried \nto deploy using the axis runtime.  Can you try your WSDL file out on a 1.4.2 \njdk and see if you still run into the problem?  Thanks.",
    "Deferred to 1.0 to leave room for fixing more severe bugs in WTP 0.7.",
    "I can\u0027t reproduce this problem, so I\u0027m returning it as works for me.  If you continue to see this problem please reopen this defect.  Thanks.",
    "Closing as part of mass query to clean up old resolved bugs in untargetted milestones."
  ],
  "commentCreationDates": [
    "2005-03-07T18:01:42+01:00",
    "2005-03-07T18:17:06+01:00",
    "2005-03-07T18:43:42+01:00",
    "2005-03-11T18:57:53+01:00",
    "2005-03-11T19:10:21+01:00",
    "2005-03-14T18:53:06+01:00",
    "2005-03-14T22:59:08+01:00",
    "2005-06-16T19:33:28+02:00",
    "2007-03-22T18:47:02+01:00",
    "2007-04-03T17:52:51+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "-1",
      "elements": [
        {
          "method": "org.apache.xalan.serialize.SerializerToXML.comment",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xalan.transformer.TransformerIdentityImpl.comment",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xml.utils.TreeWalker.startNode",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xml.utils.TreeWalker.traverse",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.xalan.transformer.TransformerIdentityImpl.transform",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.wst.wsdl.internal.util.WSDLResourceImpl.doSerialize",
          "source": "WSDLResourceImpl.java:138"
        },
        {
          "method": "org.eclipse.wst.wsdl.internal.util.WSDLResourceImpl.doSave",
          "source": "WSDLResourceImpl.java:100"
        },
        {
          "method": "org.eclipse.emf.ecore.resource.impl.ResourceImpl.save",
          "source": "ResourceImpl.java:888"
        },
        {
          "method": "org.eclipse.wst.wsdl.internal.impl.wsdl4j.WSDLWriterImpl.writeWSDL",
          "source": "WSDLWriterImpl.java:131"
        },
        {
          "method": "org.eclipse.jst.ws.internal.consumption.command.common.CopyWSDLCommand.copyWSDL",
          "source": "CopyWSDLCommand.java:117"
        },
        {
          "method": "org.eclipse.jst.ws.internal.consumption.command.common.CopyWSDLCommand.execute",
          "source": "CopyWSDLCommand.java:78"
        },
        {
          "method": "org.eclipse.jst.ws.internal.axis.creation.ui.task.Skeleton2WSDLCommand.execute",
          "source": "Skeleton2WSDLCommand.java:201"
        },
        {
          "method": "org.eclipse.wst.command.env.core.fragment.CommandFragmentEngine.runCommand",
          "source": "CommandFragmentEngine.java:322"
        },
        {
          "method": "org.eclipse.wst.command.env.core.fragment.CommandFragmentEngine.visitTop",
          "source": "CommandFragmentEngine.java:288"
        },
        {
          "method": "org.eclipse.wst.command.env.core.fragment.CommandFragmentEngine.moveForwardToNextStop",
          "source": "CommandFragmentEngine.java:208"
        },
        {
          "method": "org.eclipse.wst.command.env.ui.widgets.SimpleCommandEngineManager$4.run",
          "source": "SimpleCommandEngineManager.java:206"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:344"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:289"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.run",
          "source": "WizardDialog.java:824"
        },
        {
          "method": "org.eclipse.wst.command.env.ui.widgets.SimpleCommandEngineManager.runForwardToNextStop",
          "source": "SimpleCommandEngineManager.java:175"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.runForwardToNextStop",
          "source": "WizardPageManager.java:69"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getNextPage",
          "source": "WizardPageManager.java:91"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.SimpleWizardPage.getNextPage",
          "source": "SimpleWizardPage.java:123"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.nextPressed",
          "source": "WizardDialog.java:741"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.buttonPressed",
          "source": "WizardDialog.java:338"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$2.widgetSelected",
          "source": "Dialog.java:543"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:89"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:842"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2908"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2541"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:718"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:696"
        },
        {
          "method": "org.eclipse.wst.command.internal.env.ui.widgets.popup.DynamicPopupWizard.run",
          "source": "DynamicPopupWizard.java:123"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:244"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:557"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:507"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$6.handleEvent",
          "source": "ActionContributionItem.java:421"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:842"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2908"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2541"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1612"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1578"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:293"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:144"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:102"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:228"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:333"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:150"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:268"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:260"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:887"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:871"
        }
      ],
      "number": 0,
      "commentIndex": 4,
      "bugId": "87297",
      "date": "2005-03-11T19:10:21+01:00",
      "product": "Web Tools",
      "component": "jst.ws",
      "severity": "normal"
    }
  ],
  "groupId": "87297",
  "bugId": "87297",
  "date": "2005-03-07T18:01:42+01:00",
  "product": "Web Tools",
  "component": "jst.ws",
  "severity": "normal"
}