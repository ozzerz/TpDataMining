{
  "comments": [
    "Build ID: I20070625-1500\n\nSteps To Reproduce:\nThere are currently two Unpack200 processing steps:\n1. org.eclipse.equinox.p2.tests.artifact.repository.processing.Pack200Unpacker\n2. org.eclipse.equinox.internal.p2.artifact.repository.Unpack200Step\n\nIn this test case they get mixed up. I think the Pack200Unpacker is the ?better? one. The Unpack200Step implements an outdated interface (method areRequirementsSatisfied).\n\nQuestions:\n- in which plugin do the (production) processing steps stay?\n- are there any intrinsic processing steps? which? which not?\n\n\nMore information:\njunit.framework.AssertionFailedError: expected:\u003cclass org.eclipse.equinox.p2.tests.artifact.repository.processing.Pack200Unpacker\u003e but was:\u003cclass org.eclipse.equinox.internal.p2.artifact.repository.Unpack200Step\u003e\n\tat junit.framework.Assert.fail(Assert.java:47)\n\tat junit.framework.Assert.failNotEquals(Assert.java:280)\n\tat junit.framework.Assert.assertEquals(Assert.java:64)\n\tat junit.framework.Assert.assertEquals(Assert.java:71)\n\tat org.eclipse.equinox.p2.tests.artifact.repository.processing.ProcessingStepHandlerTest.testCreatePack200UnpackerPS(ProcessingStepHandlerTest.java:173)\n...",
    "- in which plugin do the (production) processing steps stay?\n\nNone of the production code will live in the tests bundle. Processing steps will either be in the artifact repository bundle, or in separate bundles.\n\n- are there any intrinsic processing steps? which? which not?\n\nI don\u0027t know if Jeff has thoughts on this, but I expect pack200 will be an \"intrinsic\" step, in that it will be provided by the artifact repository bundle. Note since steps are provided via extension, we should be able to move processing steps into other bundles later without breaking anything. I.e., if we decide there is a better place for pack200, it could be moved out of the artifact repo bundle.\n\nI have fixed up the test to use Unpack200Step, and have deleted the old unpack200 step class from the p2 tests bundle.",
    "I also noticed that the artifact repository tests weren\u0027t linked to the master test suite (AutomatedTests). The pattern we use is that each package has an AllTests class that provides a suite for all tests in that package. Then there is a master AutomatedTests suite that gathers all the AllTests classes into a single big suite. When a new test class is added, it just needs to be put into AllTests for that package. When a new test package is added, it needs to be added to AutomatedTests.  That way, someone can run AutomatedTests at any time, and be sure they are running all of our test suites.  I have fixed up the artifact repository tests to do this.",
    "Created an attachment (id\u003d80628)\nUnpack200 processing step\n\nSomething got mixed up. Maybe my description was not that good.\nHowever, the attached patch should fix this.",
    "I have removed the unused areRequirementsSatisfied method, but the initialize method you added references an internal class from jarprocessor. Is this extra check necessary?",
    "The initialize method of a processing step is also responsible to check whether its preconditions are full filed, e.g. in the case of the Unpack200Step whether  unpack200 is available, or for the delta stuff whether the required predecessor of an artifact is  within a ?local? artifact repository.\nThis could also be done lazy when the actual processing is performed but this could lead to a lot of unnecessary io (maybe via network) and processing time.\nI would prefer to have this ?health? check.\n"
  ],
  "commentCreationDates": [
    "2007-10-16T09:03:13+02:00",
    "2007-10-17T16:52:22+02:00",
    "2007-10-17T16:55:11+02:00",
    "2007-10-18T08:12:18+02:00",
    "2007-10-22T05:58:56+02:00",
    "2007-10-22T11:06:46+02:00"
  ],
  "traces": [
    {
      "exceptionType": "junit.framework.AssertionFailedError",
      "message": "expected:\u003cclass org.eclipse.equinox.p2.tests.artifact.repository.processing.Pack200Unpacker\u003e but was:\u003cclass org.eclipse.equinox.internal.p2.artifact.repository.Unpack200Step\u003e",
      "elements": [
        {
          "method": "junit.framework.Assert.fail",
          "source": "Assert.java:47"
        },
        {
          "method": "junit.framework.Assert.failNotEquals",
          "source": "Assert.java:280"
        },
        {
          "method": "junit.framework.Assert.assertEquals",
          "source": "Assert.java:64"
        },
        {
          "method": "junit.framework.Assert.assertEquals",
          "source": "Assert.java:71"
        },
        {
          "method": "org.eclipse.equinox.p2.tests.artifact.repository.processing.ProcessingStepHandlerTest.testCreatePack200UnpackerPS",
          "source": "ProcessingStepHandlerTest.java:173"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "206424",
      "date": "2007-10-16T09:03:13+02:00",
      "product": "Equinox",
      "component": "Incubator",
      "severity": "minor"
    }
  ],
  "groupId": "206424",
  "bugId": "206424",
  "date": "2007-10-16T09:03:13+02:00",
  "product": "Equinox",
  "component": "Incubator",
  "severity": "minor"
}