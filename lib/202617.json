{
  "comments": [
    "When performing a plug-in test remote execution we receive the following exception:\n\neclipse.buildId\u003dM20070822-0800\njava.fullversion\u003dJ2RE 1.5.0 IBM J9 2.3 Windows XP x86-32 j9vmwi3223-20070823 (JIT enabled)\nJ9VM - 20070821_13594_lHdSMR\nJIT  - 20070820_1846_r8\nGC   - 200708_10\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_US\nCommand-line arguments:  -os win32 -ws win32 -arch x86\n\nInfo\nFri Sep 07 11:48:36 CEST 2007\njava.lang.RuntimeException: org.eclipse.hyades.internal.execution.core.file.ServerNotAvailableException: java.net.ConnectException: Connection refused: connect\n\njava.lang.RuntimeException: org.eclipse.hyades.internal.execution.core.file.ServerNotAvailableException: java.net.ConnectException: Connection refused: connect\n\tat org.eclipse.hyades.execution.harness.JavaExecutionDeploymentAdapter.deployFile(JavaExecutionDeploymentAdapter.java:430)\n\tat org.eclipse.hyades.execution.harness.JavaExecutionDeploymentAdapter.deployToNode(JavaExecutionDeploymentAdapter.java:490)\n\tat org.eclipse.hyades.execution.harness.JavaExecutionDeploymentAdapter.deployTestAssets(JavaExecutionDeploymentAdapter.java:463)\n\tat org.eclipse.tptp.test.tools.junit.plugin.internal.harness.WorkbenchExecutionDeploymentAdapter.deployTestAssets(WorkbenchExecutionDeploymentAdapter.java:103)\n\tat org.eclipse.hyades.execution.harness.util.ExecutionAdapterUtilities.adaptExecutionDeployment(ExecutionAdapterUtilities.java:158)\n\tat org.eclipse.hyades.execution.harness.TestExecutionHarness.launchTestExecution(TestExecutionHarness.java:1985)\n\tat org.eclipse.hyades.execution.harness.TestExecutionHarness.access$2(TestExecutionHarness.java:1830)\n\tat org.eclipse.hyades.execution.harness.TestExecutionHarness$2.run(TestExecutionHarness.java:750)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)\nCaused by: org.eclipse.hyades.internal.execution.core.file.ServerNotAvailableException: java.net.ConnectException: Connection refused: connect\n\tat org.eclipse.hyades.internal.execution.core.file.dynamic.FileServerCommandFactory.connectSocketChannel(FileServerCommandFactory.java:311)\n\tat org.eclipse.hyades.internal.execution.core.file.dynamic.FileServerCommandFactory.connectSocketChannel(FileServerCommandFactory.java:269)\n\tat org.eclipse.hyades.internal.execution.core.file.dynamic.FileServerCommandFactory.createPutFileCommand(FileServerCommandFactory.java:535)\n\tat org.eclipse.hyades.execution.local.file.FileManagerExtendedImpl.putFile(FileManagerExtendedImpl.java:1007)\n\tat org.eclipse.hyades.execution.local.file.FileManagerExtendedImpl.putFile(FileManagerExtendedImpl.java:1071)\n\tat org.eclipse.hyades.execution.local.file.FileManagerExtendedImpl.putFile(FileManagerExtendedImpl.java:1039)\n\tat org.eclipse.hyades.execution.local.file.FileManagerExtendedImpl.putFile(FileManagerExtendedImpl.java:1024)\n\tat org.eclipse.hyades.execution.harness.JavaExecutionDeploymentAdapter.deployFile(JavaExecutionDeploymentAdapter.java:424)\n\t... 8 more\nCaused by: java.net.ConnectException: Connection refused: connect\n\tat sun.nio.ch.Net.connect(Native Method)\n\tat sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:491)\n\tat org.eclipse.hyades.internal.execution.core.file.socket.SocketChannelFactory.create(SocketChannelFactory.java:78)\n\tat org.eclipse.hyades.internal.execution.core.file.socket.SocketChannelFactory.create(SocketChannelFactory.java:63)\n\tat org.eclipse.hyades.internal.execution.core.file.dynamic.FileServerCommandFactory.connectSocketChannel(FileServerCommandFactory.java:300)\n\t... 15 more\n\nHow to reproduce:\n\nLaunch the test\norg.eclipse.hyades.test.java.tests\\manual\\regressionTests\\Test.Execution.JUnitPluginRunner.testsuite",
    "Jerome: A couple of questions:\n\n1) Is the firewall open on the remote machine?  \n2) What is the OS of the remote machine?  \n3) Is this a standard test that passed during 4.4.0.x testing?\n4) Is this related to https://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d189175?\n\nJoe: Can you have a look at this defect? ",
    "(In reply to comment #1)\n\u003e Jerome: A couple of questions:\n\u003e \n\u003e 1) Is the firewall open on the remote machine?  \n\nYes firewalls were open on both machine during the test.\n\n\u003e 2) What is the OS of the remote machine?  \n\nXP\n\n\u003e 3) Is this a standard test that passed during 4.4.0.x testing?\n\nLast time there was another problem related to the path of the eclipse dir on the remote machine.\n\nI did my test first with different eclipse locations, and then I tried to put the remote eclipse workbench at the same place than the local one.\n\n\u003e 4) Is this related to https://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d189175?\n\nIt does not seem to be the same problem.\n\n\u003e Joe: Can you have a look at this defect? \n\u003e \n\n",
    "Joe is working today on isolating the problem to either test execution or the file server.",
    "I have verified that this use case works with the 4.4.1 candidate driver.  I have not been able to reproduce this exact problem, though I did have some problems running remote JUnit plug-in tests initially.  My problem was that the temp dir on the test machine was on a different drive than the test workbench.  This seems to be an eclipse limitation.  However, this problem resulted in an InactiveProcessException, not a connection refused error.  In order to get the JUnit plugin to run remotely, I copied my 4.4.1 build to a remote machine (different path, same drive as temp dir on the remote machine), created a workbench location with the remote machine\u0027s IP and eclipse workbench path, ran the AC on the remote machine and launched a plug-in JUnit test using a deployment that specified the new workbench location.  It ran correctly.\n\nJerome -- based on the stack trace you pasted below, I would infer that normal TPTP JUnit tests and AGR tests would also fail to run remotely using the machine in question.  (All of those TPTP test type use the same org.eclipse.hyades.execution.harness.JavaExecutionDeploymentAdapter.deployFile() method to copy files to the remote machine.)\n\nCan you confirm that you don\u0027t have something else running on the machine that is listening to port 10005?  Can you please look at the servicelog.log file for the remote AC and see if it shows any errors when trying to start the file service (it would be near the top of the file.)\n\nOnce we isolate the reason for the problem, hopefully we can close this as WORKSFORME.  In the meantime, I am reducing the severity to major.",
    "I  have tried again after cleaning my remote env.\nThis time remote execution works fine. I suspect that the JVM path in the serviceconfig.xml (which appears a couple of times) was wrong.\n\nI mark this defect WORKSFORME.\n\nSorry for the inconvenience."
  ],
  "commentCreationDates": [
    "2007-09-07T14:12:59+02:00",
    "2007-09-07T19:42:14+02:00",
    "2007-09-10T09:00:22+02:00",
    "2007-09-10T18:04:38+02:00",
    "2007-09-10T22:46:51+02:00",
    "2007-09-11T10:18:01+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.net.ConnectException",
      "message": "Connection refused: connect",
      "elements": [
        {
          "method": "org.eclipse.hyades.execution.harness.JavaExecutionDeploymentAdapter.deployFile",
          "source": "JavaExecutionDeploymentAdapter.java:430"
        },
        {
          "method": "org.eclipse.hyades.execution.harness.JavaExecutionDeploymentAdapter.deployToNode",
          "source": "JavaExecutionDeploymentAdapter.java:490"
        },
        {
          "method": "org.eclipse.hyades.execution.harness.JavaExecutionDeploymentAdapter.deployTestAssets",
          "source": "JavaExecutionDeploymentAdapter.java:463"
        },
        {
          "method": "org.eclipse.tptp.test.tools.junit.plugin.internal.harness.WorkbenchExecutionDeploymentAdapter.deployTestAssets",
          "source": "WorkbenchExecutionDeploymentAdapter.java:103"
        },
        {
          "method": "org.eclipse.hyades.execution.harness.util.ExecutionAdapterUtilities.adaptExecutionDeployment",
          "source": "ExecutionAdapterUtilities.java:158"
        },
        {
          "method": "org.eclipse.hyades.execution.harness.TestExecutionHarness.launchTestExecution",
          "source": "TestExecutionHarness.java:1985"
        },
        {
          "method": "org.eclipse.hyades.execution.harness.TestExecutionHarness.access$2",
          "source": "TestExecutionHarness.java:1830"
        },
        {
          "method": "org.eclipse.hyades.execution.harness.TestExecutionHarness$2.run",
          "source": "TestExecutionHarness.java:750"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:55"
        }
      ],
      "causedBy": {
        "exceptionType": "java.net.ConnectException",
        "message": "Connection refused: connect",
        "elements": [
          {
            "method": "org.eclipse.hyades.internal.execution.core.file.dynamic.FileServerCommandFactory.connectSocketChannel",
            "source": "FileServerCommandFactory.java:311"
          },
          {
            "method": "org.eclipse.hyades.internal.execution.core.file.dynamic.FileServerCommandFactory.connectSocketChannel",
            "source": "FileServerCommandFactory.java:269"
          },
          {
            "method": "org.eclipse.hyades.internal.execution.core.file.dynamic.FileServerCommandFactory.createPutFileCommand",
            "source": "FileServerCommandFactory.java:535"
          },
          {
            "method": "org.eclipse.hyades.execution.local.file.FileManagerExtendedImpl.putFile",
            "source": "FileManagerExtendedImpl.java:1007"
          },
          {
            "method": "org.eclipse.hyades.execution.local.file.FileManagerExtendedImpl.putFile",
            "source": "FileManagerExtendedImpl.java:1071"
          },
          {
            "method": "org.eclipse.hyades.execution.local.file.FileManagerExtendedImpl.putFile",
            "source": "FileManagerExtendedImpl.java:1039"
          },
          {
            "method": "org.eclipse.hyades.execution.local.file.FileManagerExtendedImpl.putFile",
            "source": "FileManagerExtendedImpl.java:1024"
          },
          {
            "method": "org.eclipse.hyades.execution.harness.JavaExecutionDeploymentAdapter.deployFile",
            "source": "JavaExecutionDeploymentAdapter.java:424"
          }
        ],
        "causedBy": {
          "exceptionType": "java.net.ConnectException",
          "message": "Connection refused: connect",
          "elements": [
            {
              "method": "sun.nio.ch.Net.connect",
              "source": "Native Method"
            },
            {
              "method": "sun.nio.ch.SocketChannelImpl.connect",
              "source": "SocketChannelImpl.java:491"
            },
            {
              "method": "org.eclipse.hyades.internal.execution.core.file.socket.SocketChannelFactory.create",
              "source": "SocketChannelFactory.java:78"
            },
            {
              "method": "org.eclipse.hyades.internal.execution.core.file.socket.SocketChannelFactory.create",
              "source": "SocketChannelFactory.java:63"
            },
            {
              "method": "org.eclipse.hyades.internal.execution.core.file.dynamic.FileServerCommandFactory.connectSocketChannel",
              "source": "FileServerCommandFactory.java:300"
            }
          ],
          "number": 0,
          "commentIndex": 0
        },
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "202617",
      "date": "2007-09-07T14:12:59+02:00",
      "product": "TPTP Testing",
      "component": "Test.UI.JUnit",
      "severity": "major"
    }
  ],
  "groupId": "202617",
  "bugId": "202617",
  "date": "2007-09-07T14:12:59+02:00",
  "product": "TPTP Testing",
  "component": "Test.UI.JUnit",
  "severity": "major"
}