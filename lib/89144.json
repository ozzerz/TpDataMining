{
  "comments": [
    "Until version 3.1M5, the build-in testrunner in Eclipse allowed for tests that\nimplemented junit.framework.Test instead of extending junit.framework.TestCase.\nIn 3.1M5 this throws ClassCastException.\n\nFor example:\n\npublic class ManualTestCase implements Test {\n    \n    public static Test suite() {\n        TestSuite suite \u003d new TestSuite();\n        suite.addTest(new ManualTestCase());\n        return suite;\n    }\n\n    public int countTestCases() {\n        return 1;\n    }\n\n    public void run(TestResult result) {\n        result.startTest(this);\n        result.endTest(this);\n        \n    }\n}\n\nMessage:\n\njava.lang.ClassCastException\n\tat\norg.eclipse.jdt.internal.junit.runner.RemoteTestRunner.notifyTestOrderEntry(RemoteTestRunner.java:583)\n\tat\norg.eclipse.jdt.internal.junit.runner.RemoteTestRunner.access$5(RemoteTestRunner.java:581)\n\tat\norg.eclipse.jdt.internal.junit.runner.RemoteTestRunner$1.visitTest(RemoteTestRunner.java:309)\n\nThis happens with the org.eclipse.jdt.junit.runtime 3.1.4 plugin. (I verified\nthat the test runs in Eclipse 3.0.1, which contains 3.0.1, 3.1.0, 3.1.1 versions\nof the org.eclipse.jdt.junit.runtime plugin).",
    "Suggested fix (based on decompiled version, as I could not find it in the cvs\nrepository!)\n\nOriginal:\n\n            private void notifyTestOrderEntry(Test test)\n            {\n/* 582*/        String testId \u003d getTestId(test);\n/* 583*/        String methodName \u003d ((TestCase)test).getName();\n/* 584*/        String className \u003d null;\n/* 585*/        className \u003d fGardener.testClassDecorator(test);\n/* 586*/        sendMessage(\"%TSTORDR\" + testId + \",\" + methodName + \",\" +\nclassName);\n            }\n\nSuggested new version:\n\n            private void notifyTestOrderEntry(Test test)\n            {\n/* 582*/        String testId \u003d getTestId(test);\n/* 583*/        String methodName \u003d test.toString();\n                if (test instanceof TestCase)\n                    methodName \u003d ((TestCase)test).getName();\n/* 584*/        String className \u003d null;\n/* 585*/        className \u003d fGardener.testClassDecorator(test);\n/* 586*/        sendMessage(\"%TSTORDR\" + testId + \",\" + methodName + \",\" +\nclassName);\n            }\n",
    "Move to JDT/UI",
    "Erich, any comments.",
    "This is actually a continuous testing bug (the hints are the 3.1.4 plug-in\nversion, and the fGardener instance variable).  Recommend we close this here\n(I\u0027ve opened it in the continuous testing bugzilla over at\nhttp://pag.csail.mit.edu/continuoustesting).  The desired functionality works in\nthe latest integration build.",
    "OK, Closing then as invalid."
  ],
  "commentCreationDates": [
    "2005-03-25T22:08:40+01:00",
    "2005-03-25T22:20:37+01:00",
    "2005-03-25T22:23:55+01:00",
    "2005-03-26T16:43:52+01:00",
    "2005-05-02T13:15:10+02:00",
    "2005-05-02T18:44:46+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.notifyTestOrderEntry",
          "source": "RemoteTestRunner.java:583"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.access$5",
          "source": "RemoteTestRunner.java:581"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner$1.visitTest",
          "source": "RemoteTestRunner.java:309"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "89144",
      "date": "2005-03-25T22:08:40+01:00",
      "product": "JDT",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "89144",
  "bugId": "89144",
  "date": "2005-03-25T22:08:40+01:00",
  "product": "JDT",
  "component": "UI",
  "severity": "major"
}