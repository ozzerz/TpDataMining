{
  "comments": [
    "It looks like the new code to migrate builders from config handles to config \nnames is messing up. The \u003e\\n is coming from the end of the config handle.",
    "I have no idea how it happened, but I somehow got a launch config that\u0027s got \n\"\u003e\\n\" on the end of the file name - New_Builder (2).launch\u003e\\n\n\nThis causes LaunchConfiguration to blow up with an index out of bounds \nexception.\n\njava.lang.StringIndexOutOfBoundsException: String index out of range: -5\nat java.lang.String.substring(String.java:1444)\nat org.eclipse.debug.internal.core.LaunchConfiguration.\ngetLastLocationSegment(LaunchConfiguration.java:219)\nat org.eclipse.debug.internal.core.LaunchConfiguration.\ngetName(LaunchConfiguration.java:214)\nat org.eclipse.debug.internal.core.LaunchManager.getInfo(LaunchManager.java:531)\nat org.eclipse.debug.internal.core.LaunchConfiguration.\ngetInfo(LaunchConfiguration.java:364)\nat org.eclipse.debug.internal.core.LaunchConfiguration.\ngetAttribute(LaunchConfiguration.java:259)\nat org.eclipse.ui.externaltools.internal.model.ExternalToolBuilder.\nbuildKindCompatible(ExternalToolBuilder.java:54)\nat org.eclipse.ui.externaltools.internal.model.ExternalToolBuilder.\nbuild(ExternalToolBuilder.java:69)\nat org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:493)\nat org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:\n788)\nat org.eclipse.core.runtime.Platform.run(Platform.java:497)\nat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:\n138)\nat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:\n209)\nat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:\n164)\nat org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:190)\nat org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:\n788)\nat org.eclipse.core.runtime.Platform.run(Platform.java:497)\nat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:\n193)\nat org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.\njava:227)\nat org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:255)\nat org.eclipse.core.internal.resources.Workspace.build(Workspace.java:174)\nat org.eclipse.jdt.internal.ui.preferences.OptionsConfigurationBlock$3.\nrun(OptionsConfigurationBlock.java:433)\nat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.\njava:101)",
    "The bug is in BuilderUtils#configFromBuildFromCommandArgs. The case that causes \nthis problem is when you\u0027ve got a .project file with a configuration memento \n(the XML format) which ends up throwing an exception when we call \nILaunchManager#getLaunchConfiguration(String handle).\n\nThis method is coded with the assumption that this exception will only occur if \nthe config is in the new format (a name, not a handle), but that\u0027s not always \nthe case. So we end up treating a config memento as if it were a file name \n(yikes).",
    "Fixed in BuilderUtils. We now validate the \"path\" before passing it to the \nconfig framework. Please verify, DarinW.",
    "Also added a length check in LanchConfiguration. It was actually trying to \nthrow an exception with the LC\u0027s name in the error message, but couldn\u0027t."
  ],
  "commentCreationDates": [
    "2004-02-27T19:56:03+01:00",
    "2004-02-27T19:59:44+01:00",
    "2004-02-27T20:04:02+01:00",
    "2004-02-27T20:22:39+01:00",
    "2004-03-01T15:33:48+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.StringIndexOutOfBoundsException",
      "message": "String index out of range: -5",
      "elements": [
        {
          "method": "java.lang.String.substring",
          "source": "String.java:1444"
        },
        {
          "method": "org.eclipse.debug.internal.core.LaunchConfiguration.getLastLocationSegment",
          "source": "LaunchConfiguration.java:219"
        },
        {
          "method": "org.eclipse.debug.internal.core.LaunchConfiguration.getName",
          "source": "LaunchConfiguration.java:214"
        },
        {
          "method": "org.eclipse.debug.internal.core.LaunchManager.getInfo",
          "source": "LaunchManager.java:531"
        },
        {
          "method": "org.eclipse.debug.internal.core.LaunchConfiguration.getInfo",
          "source": "LaunchConfiguration.java:364"
        },
        {
          "method": "org.eclipse.debug.internal.core.LaunchConfiguration.getAttribute",
          "source": "LaunchConfiguration.java:259"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.model.ExternalToolBuilder.buildKindCompatible",
          "source": "ExternalToolBuilder.java:54"
        },
        {
          "method": "org.eclipse.ui.externaltools.internal.model.ExternalToolBuilder.build",
          "source": "ExternalToolBuilder.java:69"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$2.run",
          "source": "BuildManager.java:493"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java: 788"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:497"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java: 138"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java: 209"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java: 164"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$1.run",
          "source": "BuildManager.java:190"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java: 788"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:497"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java: 193"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuildLoop",
          "source": "BuildManager. java:227"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.build",
          "source": "BuildManager.java:255"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.build",
          "source": "Workspace.java:174"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.preferences.OptionsConfigurationBlock$3.run",
          "source": "OptionsConfigurationBlock.java:433"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext. java:101"
        }
      ],
      "number": 0,
      "commentIndex": 1,
      "bugId": "53313",
      "date": "2004-02-27T19:59:44+01:00",
      "product": "Platform",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "53313",
  "bugId": "53313",
  "date": "2004-02-27T19:56:03+01:00",
  "product": "Platform",
  "component": "Debug",
  "severity": "normal"
}