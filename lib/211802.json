{
  "comments": [
    "I got an Invalid Thread Access when calling TaskRepositoryManager#addRepository from a non-UI thread. I think it is strange to have a method in a core library that needs to be called from a UI thread. I can work around this since my connector is implemented in a single plug-in that has access to SWT but I don\u0027t think you can assume that all clients would be able to do this. I think that the repositoryAdded callback is the best place to ensure that the refresh is performed in the UI thread.\n\norg.eclipse.swt.SWTException: Invalid thread access\n\tat org.eclipse.swt.SWT.error(SWT.java:3563)\n\tat org.eclipse.swt.SWT.error(SWT.java:3481)\n\tat org.eclipse.swt.SWT.error(SWT.java:3452)\n\tat org.eclipse.swt.widgets.Widget.error(Widget.java:432)\n\tat org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:326)\n\tat org.eclipse.swt.widgets.Table.deselectAll(Table.java:1606)\n\tat org.eclipse.jface.viewers.TableViewer.doDeselectAll(TableViewer.java:270)\n\tat org.eclipse.jface.viewers.AbstractTableViewer.setSelectionToWidget(AbstractTableViewer.java:864)\n\tat org.eclipse.jface.viewers.StructuredViewer.setSelectionToWidget(StructuredViewer.java:1685)\n\tat org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1375)\n\tat org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1330)\n\tat org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1431)\n\tat org.eclipse.jface.viewers.ColumnViewer.refresh(ColumnViewer.java:536)\n\tat org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1390)\n\tat org.eclipse.mylyn.internal.tasks.ui.views.TaskRepositoriesView.refresh(TaskRepositoriesView.java:221)\n\tat org.eclipse.mylyn.internal.tasks.ui.views.TaskRepositoriesView$1.repositoryAdded(TaskRepositoriesView.java:65)\n\tat org.eclipse.mylyn.tasks.core.TaskRepositoryManager.addRepository(TaskRepositoryManager.java:100)",
    "Created an attachment (id\u003d84347)\nPatch that asyncs callback if necessary\n\nI\u0027ve attached a patch that will ensure that the listener callbacks to the Tasks view will be asyncExeced if necessary.",
    "Patch looks good to me. It should not break anything. \n\n+1 to merge this for 2.2",
    "Great! Patch applied, ip log updated.",
    "Marking resolved."
  ],
  "commentCreationDates": [
    "2007-12-03T19:03:49+01:00",
    "2007-12-03T19:12:27+01:00",
    "2007-12-04T07:56:07+01:00",
    "2007-12-05T02:01:15+01:00",
    "2007-12-05T02:01:35+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Invalid thread access",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3563"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3481"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3452"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:432"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.checkWidget",
          "source": "Widget.java:326"
        },
        {
          "method": "org.eclipse.swt.widgets.Table.deselectAll",
          "source": "Table.java:1606"
        },
        {
          "method": "org.eclipse.jface.viewers.TableViewer.doDeselectAll",
          "source": "TableViewer.java:270"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTableViewer.setSelectionToWidget",
          "source": "AbstractTableViewer.java:864"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.setSelectionToWidget",
          "source": "StructuredViewer.java:1685"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.preservingSelection",
          "source": "StructuredViewer.java:1375"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.preservingSelection",
          "source": "StructuredViewer.java:1330"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.refresh",
          "source": "StructuredViewer.java:1431"
        },
        {
          "method": "org.eclipse.jface.viewers.ColumnViewer.refresh",
          "source": "ColumnViewer.java:536"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.refresh",
          "source": "StructuredViewer.java:1390"
        },
        {
          "method": "org.eclipse.mylyn.internal.tasks.ui.views.TaskRepositoriesView.refresh",
          "source": "TaskRepositoriesView.java:221"
        },
        {
          "method": "org.eclipse.mylyn.internal.tasks.ui.views.TaskRepositoriesView$1.repositoryAdded",
          "source": "TaskRepositoriesView.java:65"
        },
        {
          "method": "org.eclipse.mylyn.tasks.core.TaskRepositoryManager.addRepository",
          "source": "TaskRepositoryManager.java:100"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "211802",
      "date": "2007-12-03T19:03:49+01:00",
      "product": "Mylyn",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "211802",
  "bugId": "211802",
  "date": "2007-12-03T19:03:49+01:00",
  "product": "Mylyn",
  "component": "Core",
  "severity": "normal"
}