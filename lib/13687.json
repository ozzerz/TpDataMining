{
  "comments": [
    "Build 20020321\n\nI was trying to refactor a class using the \u0027extract local variable\u0027 refactor \noperation.  The oepration consistently fails with an error message: \u0027Internal \nerror while creating a change object.\u0027\n\nThe stack trace from the .log file is below.\n\nThere are some errors in my workspace, but none in the hierarchy of this class.\n\njava.lang.reflect.InvocationTargetException: java.lang.NullPointerException\n\tat \norg.eclipse.jdt.internal.corext.refactoring.code.ExtractTempRefactoring.getPare\nnts(ExtractTempRefactoring.java:489)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.code.ExtractTempRefactoring.findPar\nents(ExtractTempRefactoring.java:359)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.code.ExtractTempRefactoring.findDee\npestCommonSuperNodePathForReplacedNodes(ExtractTempRefactoring.java:318)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.code.ExtractTempRefactoring.getNode\nToInsertTempDeclarationBefore(ExtractTempRefactoring.java:301)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.code.ExtractTempRefactoring.addTemp\nDeclaration(ExtractTempRefactoring.java:290)\n\tat \norg.eclipse.jdt.internal.corext.refactoring.code.ExtractTempRefactoring.createC\nhange(ExtractTempRefactoring.java:264)\n\tat org.eclipse.jdt.internal.ui.refactoring.CreateChangeOperation.run\n(CreateChangeOperation.java:97)\n\tat org.eclipse.jdt.internal.ui.refactoring.PerformChangeOperation.run\n(PerformChangeOperation.java:118)\n\tat org.eclipse.jface.operation.ModalContext.runInCurrentThread\n(ModalContext.java:296)\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:249)\n\tat org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:713)\n\tat \norg.eclipse.jdt.internal.ui.refactoring.RefactoringWizard.performFinish\n(RefactoringWizard.java:330)\n\tat \norg.eclipse.jdt.internal.ui.refactoring.UserInputWizardPage.performFinish\n(UserInputWizardPage.java:122)\n\tat \norg.eclipse.jdt.internal.ui.refactoring.RefactoringWizard.performFinish\n(RefactoringWizard.java:461)\n\tat org.eclipse.jface.wizard.WizardDialog.finishPressed\n(WizardDialog.java:570)\n\tat org.eclipse.jface.wizard.WizardDialog.buttonPressed\n(WizardDialog.java:311)\n\tat org.eclipse.jface.dialogs.Dialog$1.widgetSelected(Dialog.java:363)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java\n(Compiled Code))\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java(Compiled \nCode))\n\tat org.eclipse.jface.window.Window.open(Window.java:525)\n\tat \norg.eclipse.jdt.internal.ui.refactoring.actions.RefactoringStarter.activate\n(RefactoringStarter.java:78)\n\tat \norg.eclipse.jdt.internal.ui.refactoring.actions.TextSelectionBasedRefactoringAc\ntion.run(TextSelectionBasedRefactoringAction.java:28)\n\tat \norg.eclipse.jdt.internal.ui.refactoring.actions.TextSelectionAction.run\n(TextSelectionAction.java:80)\n\tat org.eclipse.ui.internal.PluginAction.runWithEvent\n(PluginAction.java:204)\n\tat \norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:407)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent\n(ActionContributionItem.java(Compiled Code))\n\tat \norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent\n(ActionContributionItem.java(Compiled Code))\n\tat \norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent\n(ActionContributionItem.java(Compiled Code))\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java(Compiled \nCode))\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java\n(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java\n(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:705)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:777)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:319)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:196)\n\tat org.eclipse.core.launcher.Main.run(Main.java:555)\n\tat org.eclipse.core.launcher.Main.main(Main.java:396)",
    "can you provide a short test case that i could try? ",
    "The operation works in other classes.  I can\u0027t extract this class without \nsignificant changes, so I doubt that I can give you a test case.  Sorry :(",
    "can you have a lot at it once M5 is out (or can you try 0412?)\nand tell me if you still see the problem (this this has been reimplemented \nsince 0321)\nthx",
    "P2 until we have a test case",
    "never seen again\nclosing\nplease reopen if needed"
  ],
  "commentCreationDates": [
    "2002-04-12T20:26:41+02:00",
    "2002-04-13T15:29:28+02:00",
    "2002-04-15T18:23:37+02:00",
    "2002-04-16T13:28:03+02:00",
    "2002-04-16T13:51:15+02:00",
    "2002-04-24T14:02:36+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.code.ExtractTempRefactoring.getParents",
          "source": "ExtractTempRefactoring.java:489"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.code.ExtractTempRefactoring.findParents",
          "source": "ExtractTempRefactoring.java:359"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.code.ExtractTempRefactoring.findDeepestCommonSuperNodePathForReplacedNodes",
          "source": "ExtractTempRefactoring.java:318"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.code.ExtractTempRefactoring.getNodeToInsertTempDeclarationBefore",
          "source": "ExtractTempRefactoring.java:301"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.code.ExtractTempRefactoring.addTempDeclaration",
          "source": "ExtractTempRefactoring.java:290"
        },
        {
          "method": "org.eclipse.jdt.internal.corext.refactoring.code.ExtractTempRefactoring.createChange",
          "source": "ExtractTempRefactoring.java:264"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.CreateChangeOperation.run",
          "source": "CreateChangeOperation.java:97"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.PerformChangeOperation.run",
          "source": "PerformChangeOperation.java:118"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:296"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:249"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.run",
          "source": "WizardDialog.java:713"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.RefactoringWizard.performFinish",
          "source": "RefactoringWizard.java:330"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.UserInputWizardPage.performFinish",
          "source": "UserInputWizardPage.java:122"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.RefactoringWizard.performFinish",
          "source": "RefactoringWizard.java:461"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.finishPressed",
          "source": "WizardDialog.java:570"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.buttonPressed",
          "source": "WizardDialog.java:311"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$1.widgetSelected",
          "source": "Dialog.java:363"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:525"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.actions.RefactoringStarter.activate",
          "source": "RefactoringStarter.java:78"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.actions.TextSelectionBasedRefactoringAction.run",
          "source": "TextSelectionBasedRefactoringAction.java:28"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.refactoring.actions.TextSelectionAction.run",
          "source": "TextSelectionAction.java:80"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:204"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:407"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java(Compiled  Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:705"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:777"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:319"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:196"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:555"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:396"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "13687",
      "date": "2002-04-12T20:26:41+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "13687",
  "bugId": "13687",
  "date": "2002-04-12T20:26:41+02:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}