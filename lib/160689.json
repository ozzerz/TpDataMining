{
  "comments": [
    "Publishing Simple Web Prokect with Java Utility Project Web Library.\n\nCan forward example if needed...\n\n!ENTRY org.eclipse.jst.server.core 4 0 2006-10-12 11:15:36.781\n!MESSAGE Error creating zip file SDSD.jar: org.eclipse.core.internal.resources.Project\n!STACK 0\njava.lang.ClassCastException: org.eclipse.core.internal.resources.Project\n        at org.eclipse.jst.server.core.PublishUtil.addZipEntries(PublishUtil.java:665)\n        at org.eclipse.jst.server.core.PublishUtil.publishZip(PublishUtil.java:631)\n        at org.eclipse.jst.server.tomcat.core.internal.PublishOperation2.publishJar(PublishOperation2.java:109)\n        at org.eclipse.jst.server.tomcat.core.internal.PublishOperation2.execute(PublishOperation2.java:51)\n        at org.eclipse.wst.server.core.model.ServerBehaviourDelegate.performTasks(ServerBehaviourDelegate.java:806)\n        at org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish(ServerBehaviourDelegate.java:591)\n        at org.eclipse.wst.server.core.internal.Server.doPublish(Server.java:862)\n        at org.eclipse.wst.server.core.internal.Server.publish(Server.java:850)\n        at org.eclipse.wst.server.core.internal.PublishServerJob.run(PublishServerJob.java:142)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)",
    "I think I see the problem... any chance that your utility project does not have a source directory or the content is right out of the root? Could you zip up the project and send it to me?",
    "Yep - your right no source folder....\n",
    "Hi Tim,\n\nIs the problem you see that ProjectModule.getModuleResources() creates ModuleFolders using \"container\" instead of \"container2\", i.e. it specifies the parent container of the container coresponding to the specified name?  Making this change appears to fix it for me.\n\nLarry",
    "Created an attachment (id\u003d52282)\nPatch to fix casting\n\nOuch, Larry has actually found a worse problem than I was looking at. Here\u0027s the first patch - it was incorrectly adapting to IFolder instead of IContainer. Since IProject doesn\u0027t implement IFolder, the code is unable to publish to a zip any project whose content starts at the root.",
    "Created an attachment (id\u003d52283)\nPatch to fix ModuleFolder creation\n\nThis is the bug that Larry found - when the new optimized module structure case is used, it incorrectly uses the parent when creating a module folder. Although this will work fine in some cases, it will cause a failure during publishing whenever code tries to get the timestamp of a folder or adapt to IContainer or IFolder for other purposes.",
    "Raising for PMC approval.",
    "+1 for WTP 1.5.2\n\nThis is needed for an important performance fix.",
    "+1 \ntwo fixes for the price of one bug? :) ",
    "+1",
    "Fix released to 1.5.2 and 2.0 streams.",
    "+1",
    "I have verified this is fixed on Windows and Linux with the R-1.5.2-200610210315 build.  I don\u0027t have karma to change the status though.",
    "Verifying for Chuck and closing."
  ],
  "commentCreationDates": [
    "2006-10-12T17:29:56+02:00",
    "2006-10-12T19:44:24+02:00",
    "2006-10-12T22:27:19+02:00",
    "2006-10-18T18:02:18+02:00",
    "2006-10-18T23:55:24+02:00",
    "2006-10-18T23:57:51+02:00",
    "2006-10-18T23:58:15+02:00",
    "2006-10-19T00:27:56+02:00",
    "2006-10-19T00:35:09+02:00",
    "2006-10-19T01:08:32+02:00",
    "2006-10-19T15:12:17+02:00",
    "2006-10-19T20:18:30+02:00",
    "2006-10-26T17:44:46+02:00",
    "2006-10-26T18:06:49+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.core.internal.resources.Project",
      "elements": [
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.addZipEntries",
          "source": "PublishUtil.java:665"
        },
        {
          "method": "org.eclipse.jst.server.core.PublishUtil.publishZip",
          "source": "PublishUtil.java:631"
        },
        {
          "method": "org.eclipse.jst.server.tomcat.core.internal.PublishOperation2.publishJar",
          "source": "PublishOperation2.java:109"
        },
        {
          "method": "org.eclipse.jst.server.tomcat.core.internal.PublishOperation2.execute",
          "source": "PublishOperation2.java:51"
        },
        {
          "method": "org.eclipse.wst.server.core.model.ServerBehaviourDelegate.performTasks",
          "source": "ServerBehaviourDelegate.java:806"
        },
        {
          "method": "org.eclipse.wst.server.core.model.ServerBehaviourDelegate.publish",
          "source": "ServerBehaviourDelegate.java:591"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.Server.doPublish",
          "source": "Server.java:862"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.Server.publish",
          "source": "Server.java:850"
        },
        {
          "method": "org.eclipse.wst.server.core.internal.PublishServerJob.run",
          "source": "PublishServerJob.java:142"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "160689",
      "date": "2006-10-12T17:29:56+02:00",
      "product": "Web Tools",
      "component": "jst.server",
      "severity": "normal"
    }
  ],
  "groupId": "160689",
  "bugId": "160689",
  "date": "2006-10-12T17:29:56+02:00",
  "product": "Web Tools",
  "component": "jst.server",
  "severity": "normal"
}