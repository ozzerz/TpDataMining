{
  "comments": [
    "org.aspectj.ajde 1.0.5\norg.eclipse.ajdt.ui 0.5.0\nEclipse build: 200206271827\n\nDo the following to reproduce this error in an AspectJ Project:\n\n1. Create an aspectj project\n2. Create a class, name it \u0027Class1\u0027\n3. Using refactor-\u003erename, rename Class1 to be Class2\n4. Create a class, name it \u0027Class1\u0027 (note, it no longer exists b/c of 3)\n5. Build the project\n6. Examine the outline view: Both Class1 and Class2 will show Class1 \ninformation in the outline view.\n\nIf you close the files and re-open, the outline view now displays the correct \ninformation for each class.\n\nThis was tested in both AspectJ and Java projects, and could only be reproduced \nin aspectj projects.  \n\nNote: No aspects were included in the project.",
    "Created an attachment (id\u003d1899)\nPatched version of content outline page that detects input source changes\n",
    "For Mik... The content outline page wasn\u0027t detecting changes in its input \nsource over its lifetime (assumed it stayed constant, but this isn\u0027t true in \nthe face of refactoring). The attachment to this bug contains a patched \nAspectJContentOutlinePage. This correctly detects the input change, but causes \nan Ajde exception when it tries to load the new structure:\n\nHere\u0027s the stdout/err from a simple run.\n\nStructure Reload forced\nAspectJ ASM Error: could not buld structure model.\njava.util.ConcurrentModificationException\n\tat java.util.AbstractList$Itr.checkForComodification(Unknown Source)\n\tat java.util.AbstractList$Itr.next(Unknown Source)\n\tat org.aspectj.ajde.ui.StructureViewManager$1.modelUpdated\n(StructureViewManager.java:58)\n\tat org.aspectj.asm.StructureModelManager.notifyListeners\n(StructureModelManager.java:155)\n\tat org.aspectj.asm.StructureModelManager.buildStructureModel\n(StructureModelManager.java:76)\n\tat \norg.aspectj.asm.StructureModelManager$UpdateStructurePass.transformWorld\n(StructureModelManager.java:373)\n\tat org.aspectj.compiler.base.JavaCompiler.internalCompile\n(JavaCompiler.java:368)\n\tat org.aspectj.compiler.base.JavaCompiler.compile(JavaCompiler.java:144)\n\tat org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run\n(AspectJBuildManager.java:225)\n\nTo reproduce this, create a class, Class1. Build. Refactor-\u003erename to Class2. \nBuild.\n\nIf you look in the source you\u0027ll see I\u0027ve introduced hasInputChanged( ) and \nforceReloadOfStructureView( ) operations. Ideally I\u0027d like a single API call to \ntell Ajde to reload its configuration... How can we get around the concurrent \nupdate problem.. it\u0027s nearly impossible from the outline page to detect when a \nbuild has fully completed. ",
    "The AJDE (AspectJ) side changes required to fix this bug are non-trivial, so we \nhave agreed to wait for the AspectJ 1.1 compiler (due in next few weeks) based \non Eclipse which will make resolution much simpler. Leaving this problem open \nin the interim. ",
    "I have found that in AJDT 0.5.2, refactorings that change packages cause the \ncompiler to be permanently confused and pop up an error dialog box. The work \naround is to exit Eclipse and restart it.",
    "I\u0027ve followed the steps as detailed when this bug was opened in the following \ntwo situations:\n\n(1) Eclipse 3.0 (final) with AJDT 1.1.11 installed from update site\n(2) Eclipse 3.0 (final) with AJDT in a development environment with AJDT code \nas of 20040802.\n\nIn case (1) I reproduced this problem straight away, in case (2) I have yet to \nsee it. I will continue to look into this.",
    "I\u0027m closing this bug as I am no longer able to reproduce this in Eclipse 3.0 \nwith the following AJDT build: (AJDT 1.2.1M1)\n\nVersion: 1.2.0\nBuild id: 20041014111121\nAspectJ version: 1.2.0\n\nThanks, Helen"
  ],
  "commentCreationDates": [
    "2002-08-04T23:28:55+02:00",
    "2002-08-27T19:29:56+02:00",
    "2002-08-27T19:36:19+02:00",
    "2002-09-19T13:33:48+02:00",
    "2003-01-29T05:31:33+01:00",
    "2004-08-02T12:54:35+02:00",
    "2004-10-25T17:40:05+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.util.ConcurrentModificationException",
      "elements": [
        {
          "method": "java.util.AbstractList$Itr.checkForComodification",
          "source": "Unknown Source"
        },
        {
          "method": "java.util.AbstractList$Itr.next",
          "source": "Unknown Source"
        },
        {
          "method": "org.aspectj.ajde.ui.StructureViewManager$1.modelUpdated",
          "source": "StructureViewManager.java:58"
        },
        {
          "method": "org.aspectj.asm.StructureModelManager.notifyListeners",
          "source": "StructureModelManager.java:155"
        },
        {
          "method": "org.aspectj.asm.StructureModelManager.buildStructureModel",
          "source": "StructureModelManager.java:76"
        },
        {
          "method": "org.aspectj.asm.StructureModelManager$UpdateStructurePass.transformWorld",
          "source": "StructureModelManager.java:373"
        },
        {
          "method": "org.aspectj.compiler.base.JavaCompiler.internalCompile",
          "source": "JavaCompiler.java:368"
        },
        {
          "method": "org.aspectj.compiler.base.JavaCompiler.compile",
          "source": "JavaCompiler.java:144"
        },
        {
          "method": "org.aspectj.ajde.internal.AspectJBuildManager$CompilerThread.run",
          "source": "AspectJBuildManager.java:225"
        }
      ],
      "number": 0,
      "commentIndex": 2,
      "bugId": "22152",
      "date": "2002-08-27T19:36:19+02:00",
      "product": "AJDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "22152",
  "bugId": "22152",
  "date": "2002-08-04T23:28:55+02:00",
  "product": "AJDT",
  "component": "UI",
  "severity": "normal"
}