{
  "comments": [
    "Build 20020418\n\nAfter restarting after the deadlock in bug 14191, I did an Open Type.\nI got an internal error for the second stack below (both were in the log).\n\nThe first one is an error in the hierarchy view restoring itself.\nShould check for null input returned from JavaCore.create(elementId) [line \n1214].\nNo indication in the log for why JavaCore.create returned null.\n\nThe second one looks like OpenTypeHierarchyUtil.openInViewPart is not prepared \nto get an ErrorViewPart back.\n\n\u003clog-entry date\u003d\"Fri Apr 19 00:06:38 EDT 2002\"\u003e\n  \u003cstatus\n     plugin-id\u003d\"org.eclipse.ui\"\n     severity\u003d\"WARNING\"\n     message\u003d\"Problems occurred when invoking code from plug-in: \norg.eclipse.ui.\"\n     code\u003d\"2\"\u003e\n    \u003cexception\n       message\u003d\"null\"\n       trace\u003d\"\njava.lang.NullPointerException\n\tat \norg.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart.restoreState\n(TypeHierarchyViewPart.java:1214)\n\tat \norg.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart.createPartContr\nol(TypeHierarchyViewPart.java:655)\n\tat org.eclipse.ui.internal.PartPane$1.run(PartPane.java:53)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:782)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:411)\n\tat org.eclipse.ui.internal.PartPane.createChildControl\n(PartPane.java:51)\n\tat org.eclipse.ui.internal.PartPane.createControl(PartPane.java:93)\n\tat org.eclipse.ui.internal.ViewPane.createControl(ViewPane.java:178)\n\tat org.eclipse.ui.internal.PartTabFolder.createPartTab\n(PartTabFolder.java:245)\n\tat org.eclipse.ui.internal.PartTabFolder.createControl\n(PartTabFolder.java:217)\n\tat org.eclipse.ui.internal.PartSashContainer.createControl\n(PartSashContainer.java:177)\n\tat org.eclipse.ui.internal.PerspectivePresentation.activate\n(PerspectivePresentation.java:89)\n\tat org.eclipse.ui.internal.Perspective.onActivate(Perspective.java:575)\n\tat org.eclipse.ui.internal.WorkbenchPage.onActivate\n(WorkbenchPage.java:1437)\n\tat org.eclipse.ui.internal.WorkbenchWindow$6.run\n(WorkbenchWindow.java:1068)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile\n(BusyIndicator.java:56)\n\tat org.eclipse.ui.internal.WorkbenchWindow.setActivePage\n(WorkbenchWindow.java:1055)\n\tat org.eclipse.ui.internal.WorkbenchWindow.restoreState\n(WorkbenchWindow.java:972)\n\tat org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:791)\n\tat org.eclipse.ui.internal.Workbench$5.run(Workbench.java:638)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:782)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:411)\n\tat org.eclipse.ui.internal.Workbench.openPreviousWorkbenchState\n(Workbench.java:616)\n\tat org.eclipse.ui.internal.Workbench.openWindows(Workbench.java:674)\n\tat org.eclipse.ui.internal.Workbench.init(Workbench.java:509)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:813)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:643)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:349)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:195)\n\tat org.eclipse.core.launcher.Main.run(Main.java:541)\n\tat org.eclipse.core.launcher.Main.main(Main.java:396)\n\"\u003e\n    \u003c/exception\u003e\n  \u003c/status\u003e\n\u003c/log-entry\u003e\n\n\u003clog-entry date\u003d\"Fri Apr 19 00:15:11 EDT 2002\"\u003e\n  \u003cstatus\n     plugin-id\u003d\"org.eclipse.core.resources\"\n     severity\u003d\"INFO\"\n     message\u003d\"Unhandled exception caught in event loop.\"\n     code\u003d\"4\"\u003e\n  \u003c/status\u003e\n\u003c/log-entry\u003e\n\u003clog-entry date\u003d\"Fri Apr 19 00:15:12 EDT 2002\"\u003e\n  \u003cstatus\n     plugin-id\u003d\"org.eclipse.ui\"\n     severity\u003d\"ERROR\"\n     message\u003d\"org.eclipse.ui.internal.ViewPane$1$ErrorViewPart\"\n     code\u003d\"0\"\u003e\n    \u003cexception\n       message\u003d\"org.eclipse.ui.internal.ViewPane$1$ErrorViewPart\"\n       trace\u003d\"\njava.lang.ClassCastException: org.eclipse.ui.internal.ViewPane$1$ErrorViewPart\n\tat \norg.eclipse.jdt.internal.ui.util.OpenTypeHierarchyUtil.openInViewPart\n(OpenTypeHierarchyUtil.java:129)\n\tat org.eclipse.jdt.internal.ui.util.OpenTypeHierarchyUtil.open\n(OpenTypeHierarchyUtil.java:105)\n\tat org.eclipse.jdt.internal.ui.actions.OpenTypeAction.run\n(OpenTypeAction.java:59)\n\tat org.eclipse.jdt.internal.ui.actions.OpenTypeAction.run\n(OpenTypeAction.java:76)\n\tat org.eclipse.ui.internal.PluginAction.runWithEvent\n(PluginAction.java:202)\n\tat org.eclipse.ui.internal.WWinPluginAction.runWithEvent\n(WWinPluginAction.java:162)\n\tat \norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:407)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent\n(ActionContributionItem.java:361)\n\tat org.eclipse.jface.action.ActionContributionItem.access$0\n(ActionContributionItem.java:352)\n\tat \norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent\n(ActionContributionItem.java:47)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:75)\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:637)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1412)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1208)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:833)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:816)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:643)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:349)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:195)\n\tat org.eclipse.core.launcher.Main.run(Main.java:541)\n\tat org.eclipse.core.launcher.Main.main(Main.java:396)\n\"\u003e\n    \u003c/exception\u003e",
    "Here\u0027s a clue for why restore may have failed.\nIn the workbench.xml was the following memento for the hierarchy view:\n\n- \u003cview id\u003d\"org.eclipse.jdt.ui.TypeHierarchy\"\u003e\n  \u003cviewState hidefields\u003d\"false\" hidenonpublic\u003d\"false\" hidestatic\u003d\"false\" \ninput\u003d\"\u003dorg.eclipse.jdt.ui/ui\u003corg.eclipse.jdt.internal.ui.dialogs\n{TwoPaneElementSelector.java[TwoPaneElementSelector\" mv_vertical_scroll\u003d\"0\" \norientation\u003d\"0\" ratio\u003d\"350\" \nselection\u003d\"\u003dorg.eclipse.jdt.junit//org.eclipse.jdt.junit/junitsupport.jar\u003corg.e\nclipse.jdt.internal.junit.launcher(TestSelectionDialog.class\n[TestSelectionDialog\" showinherited\u003d\"false\" vertical_scroll\u003d\"0\" view\u003d\"2\" /\u003e \n  \u003c/view\u003e\n\nIt refers to TwoPaneElementSelector.java which I had been working on last \nnight (with JDT UI source in my workspace).\nAs bug 14191 describes, tonight I had imported all projects as binary except \nfor org.eclipse.ui, so this overwrote JDT UI.  Eclipse then crashed.\nSo, on subsequent restore, the CU referred to by the memento no longer existed \nin the workspace.\n",
    "restoring from a memento has to handle the case that an element stored in the \nmemento no longer exists. I will check in our other views as well.",
    "Packages view has a similar problem and it will result in null elements in the \nselection. Martin please move bug back to inbox when done.",
    "fixed in TypeHierarchyViewPart \u003e 20020418\n\n",
    "*** Bug 14990 has been marked as a duplicate of this bug. ***",
    "fixed packages view.\n\nDani pls check the Java Browsing views.",
    "Ok for Java Browsing views.\nClosing the BR.\n\n"
  ],
  "commentCreationDates": [
    "2002-04-19T06:18:40+02:00",
    "2002-04-19T06:25:09+02:00",
    "2002-04-19T11:10:48+02:00",
    "2002-04-19T11:11:30+02:00",
    "2002-04-19T12:12:11+02:00",
    "2002-05-03T09:40:24+02:00",
    "2002-05-05T16:15:02+02:00",
    "2002-05-06T12:19:47+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart.restoreState",
          "source": "TypeHierarchyViewPart.java:1214"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart.createPartControl",
          "source": "TypeHierarchyViewPart.java:655"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane$1.run",
          "source": "PartPane.java:53"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:782"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:411"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.createChildControl",
          "source": "PartPane.java:51"
        },
        {
          "method": "org.eclipse.ui.internal.PartPane.createControl",
          "source": "PartPane.java:93"
        },
        {
          "method": "org.eclipse.ui.internal.ViewPane.createControl",
          "source": "ViewPane.java:178"
        },
        {
          "method": "org.eclipse.ui.internal.PartTabFolder.createPartTab",
          "source": "PartTabFolder.java:245"
        },
        {
          "method": "org.eclipse.ui.internal.PartTabFolder.createControl",
          "source": "PartTabFolder.java:217"
        },
        {
          "method": "org.eclipse.ui.internal.PartSashContainer.createControl",
          "source": "PartSashContainer.java:177"
        },
        {
          "method": "org.eclipse.ui.internal.PerspectivePresentation.activate",
          "source": "PerspectivePresentation.java:89"
        },
        {
          "method": "org.eclipse.ui.internal.Perspective.onActivate",
          "source": "Perspective.java:575"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.onActivate",
          "source": "WorkbenchPage.java:1437"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow$6.run",
          "source": "WorkbenchWindow.java:1068"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:56"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.setActivePage",
          "source": "WorkbenchWindow.java:1055"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.restoreState",
          "source": "WorkbenchWindow.java:972"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.restoreState",
          "source": "Workbench.java:791"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$5.run",
          "source": "Workbench.java:638"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:782"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:411"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.openPreviousWorkbenchState",
          "source": "Workbench.java:616"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.openWindows",
          "source": "Workbench.java:674"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.init",
          "source": "Workbench.java:509"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:813"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:643"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:349"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:195"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:541"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:396"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "14192",
      "date": "2002-04-19T06:18:40+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.ui.internal.ViewPane$1$ErrorViewPart",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.ui.util.OpenTypeHierarchyUtil.openInViewPart",
          "source": "OpenTypeHierarchyUtil.java:129"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.util.OpenTypeHierarchyUtil.open",
          "source": "OpenTypeHierarchyUtil.java:105"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.actions.OpenTypeAction.run",
          "source": "OpenTypeAction.java:59"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.actions.OpenTypeAction.run",
          "source": "OpenTypeAction.java:76"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:202"
        },
        {
          "method": "org.eclipse.ui.internal.WWinPluginAction.runWithEvent",
          "source": "WWinPluginAction.java:162"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:407"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java:361"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem.java:352"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java:47"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:75"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:637"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1412"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1208"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:833"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:816"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:643"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:349"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:195"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:541"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:396"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "14192",
      "date": "2002-04-19T06:18:40+02:00",
      "product": "JDT",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "14192",
  "bugId": "14192",
  "date": "2002-04-19T06:18:40+02:00",
  "product": "JDT",
  "component": "UI",
  "severity": "normal"
}