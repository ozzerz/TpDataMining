{
  "comments": [
    "Not sure how and why, but Uwe found this NPE in his Log:\n\n!ENTRY org.eclipse.rse.ui 4 0 2007-09-04 18:58:12.443\n!MESSAGE Exception resolving filters\u0027 strings \n!STACK 0\njava.lang.NullPointerException\n\tat org.eclipse.rse.internal.services.ssh.files.SftpFileService.getUserHome(SftpFileService.java:576)\n\tat org.eclipse.rse.subsystems.files.core.servicesubsystem.FileServiceSubSystem.getUserHome(FileServiceSubSystem.java:263)\n\tat org.eclipse.rse.subsystems.files.core.servicesubsystem.FileServiceSubSystem.getRemoteFileObject(FileServiceSubSystem.java:186)\n\tat org.eclipse.rse.subsystems.files.core.subsystems.RemoteFileSubSystem.internalResolveFilterString(RemoteFileSubSystem.java:624)\n\tat org.eclipse.rse.subsystems.files.core.subsystems.RemoteFileSubSystem.internalResolveFilterStrings(RemoteFileSubSystem.java:451)\n\tat org.eclipse.rse.core.subsystems.SubSystem.resolveFilterStrings(SubSystem.java:2067)\n\tat org.eclipse.rse.internal.ui.view.SystemViewFilterReferenceAdapter.internalGetChildren(SystemViewFilterReferenceAdapter.java:416)\n\tat org.eclipse.rse.internal.ui.view.SystemViewFilterReferenceAdapter.getChildren(SystemViewFilterReferenceAdapter.java:257)\n\tat org.eclipse.rse.internal.ui.view.SystemViewFilterReferenceAdapter.getChildren(SystemViewFilterReferenceAdapter.java:265)\n\tat org.eclipse.rse.ui.operations.SystemFetchOperation.execute(SystemFetchOperation.java:265)\n\tat org.eclipse.rse.ui.operations.SystemFetchOperation.run(SystemFetchOperation.java:128)\n\tat org.eclipse.rse.ui.view.AbstractSystemViewAdapter.fetchDeferredChildren(AbstractSystemViewAdapter.java:1970)\n\tat org.eclipse.ui.progress.DeferredTreeContentManager$1.run(DeferredTreeContentManager.java:196)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)\n\n\n\n-----------Enter bugs above this line-----------\nTM 2.0.1 Testing\ninstallation : eclipse-SDK-3.3-linux-gtk-x86_64, emf-sdo-xsd-SDK-2.3.0\n     Download RSE-2.0.1RC1: RSE-SDK,examples,tests,discovery,terminal\njava.runtime : Sun 1.5.0_12-b04  64-bit Server VM, mixed mode\nos.name:     : OpenSUSE 10.2 64-bit\nuname        : Linux osgiliath 2.6.18.8-0.5-default x86_64 GNU/Linux\n------------------------------------------------\nsystemtype   : Linux-local / Unix-dstore (RExec) / FTP / Ssh\ntargetos1    : Linux RHEL4, Sun 1.5.0_11\ntargetos2    : Windows XP SP1, Sun 1.4.2_13\ntargetos3    : Solaris-sparc 5.9, Sun 1.4.2_05\ntargetuname  : SunOS szg-anar 5.9 Generic_118558-06 sun4u sparc SUNW,Sun-Blade-1500\n------------------------------------------------",
    "Created an attachment (id\u003d78471)\nPatch fixing the issue\n\nAttached patch fixes the issue.",
    "The fix is simple, though I\u0027m not sure why fUserHome is null here -- perhaps pwd() returned null for the given connection. Anyways, returning the root folder in that case seems the right thing to do.\n\nDaveM can you please review this?",
    "I\u0027m not sure why pwd would have returned null but at least this resolves the issue.",
    "Patch committed.",
    "Original patch was not good because if user chose \"Refresh\" on the \"My Home\" filter while not connected, the fallback (home\u003d\u003d\"/\") would be activated and not changed later. Users would not get access to their real home directory.\n\nAs per bug 204710, it is better to return null in case we are not yet connected.",
    "Created an attachment (id\u003d79228)\nNew patch (overriding the old one)\n\nAttached new patch fixes the issue properly for both Sftp and FTP, and also makes a minor performance improvement to SftpFileService by marking the inner classes used for Streams \"static\".\n\nDave can you please review this?",
    "The fix looks good.\n\nI ran the following scenarios:\n\nCreate ssh connection.  Before connect, refresh the My Home filter.  Then expand the My Home filter. Got logon dialog.  Logon.  My home directory displayed correctly.\n\nRepeat it for FTP connection. Things are fine too.\n",
    "Patch committed:\n\n[203490] Fix NPE in SftpService.getUserHome()\n   SftpFileService   1.21\n   FTPService 1.39"
  ],
  "commentCreationDates": [
    "2007-09-14T22:35:14+02:00",
    "2007-09-14T22:39:20+02:00",
    "2007-09-14T22:40:38+02:00",
    "2007-09-14T22:48:48+02:00",
    "2007-09-14T22:52:17+02:00",
    "2007-09-26T20:42:48+02:00",
    "2007-09-26T20:44:01+02:00",
    "2007-09-26T23:09:08+02:00",
    "2007-09-26T23:15:52+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.rse.internal.services.ssh.files.SftpFileService.getUserHome",
          "source": "SftpFileService.java:576"
        },
        {
          "method": "org.eclipse.rse.subsystems.files.core.servicesubsystem.FileServiceSubSystem.getUserHome",
          "source": "FileServiceSubSystem.java:263"
        },
        {
          "method": "org.eclipse.rse.subsystems.files.core.servicesubsystem.FileServiceSubSystem.getRemoteFileObject",
          "source": "FileServiceSubSystem.java:186"
        },
        {
          "method": "org.eclipse.rse.subsystems.files.core.subsystems.RemoteFileSubSystem.internalResolveFilterString",
          "source": "RemoteFileSubSystem.java:624"
        },
        {
          "method": "org.eclipse.rse.subsystems.files.core.subsystems.RemoteFileSubSystem.internalResolveFilterStrings",
          "source": "RemoteFileSubSystem.java:451"
        },
        {
          "method": "org.eclipse.rse.core.subsystems.SubSystem.resolveFilterStrings",
          "source": "SubSystem.java:2067"
        },
        {
          "method": "org.eclipse.rse.internal.ui.view.SystemViewFilterReferenceAdapter.internalGetChildren",
          "source": "SystemViewFilterReferenceAdapter.java:416"
        },
        {
          "method": "org.eclipse.rse.internal.ui.view.SystemViewFilterReferenceAdapter.getChildren",
          "source": "SystemViewFilterReferenceAdapter.java:257"
        },
        {
          "method": "org.eclipse.rse.internal.ui.view.SystemViewFilterReferenceAdapter.getChildren",
          "source": "SystemViewFilterReferenceAdapter.java:265"
        },
        {
          "method": "org.eclipse.rse.ui.operations.SystemFetchOperation.execute",
          "source": "SystemFetchOperation.java:265"
        },
        {
          "method": "org.eclipse.rse.ui.operations.SystemFetchOperation.run",
          "source": "SystemFetchOperation.java:128"
        },
        {
          "method": "org.eclipse.rse.ui.view.AbstractSystemViewAdapter.fetchDeferredChildren",
          "source": "AbstractSystemViewAdapter.java:1970"
        },
        {
          "method": "org.eclipse.ui.progress.DeferredTreeContentManager$1.run",
          "source": "DeferredTreeContentManager.java:196"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:55"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "203490",
      "date": "2007-09-14T22:35:14+02:00",
      "product": "Target Management",
      "component": "RSE",
      "severity": "minor"
    }
  ],
  "groupId": "203490",
  "bugId": "203490",
  "date": "2007-09-14T22:35:14+02:00",
  "product": "Target Management",
  "component": "RSE",
  "severity": "minor"
}