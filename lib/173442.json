{
  "comments": [
    "I20070208-0010.\n\nIf a target Eclipse is launched from Eclipse itself then a SWTException: \u0027Invalid thread access\u0027 happens if that target has more than one window. The second window\u0027s layout is destroyed and all other windows (3..n) are not opened.\n\nI\u0027m marking this as critical since it currently stops me from testing a fix that invokes two windows being open on restart and because I don\u0027t know whether this problem might also appear during start of the very first Eclipse instance.\n\nTEST CASE:\n1. start fresh workspace\n2. Run \u003e Run As \u003e Eclipse Application\n3. in the target: Window \u003e New Window\n4. repeat step 3 several times (just see those being lost later)\n5. in the target: File \u003e Exit\n6. Run \u003e Run As \u003e Eclipse Application\n\u003d\u003d\u003e\nError dialog (see attached picture) and .log entry:\n\neclipse.buildId\u003dI20070208-0010\njava.version\u003d1.5.0_10\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003dde_CH\nFramework arguments:  -launcher C:\\eclipse\\drops\\I20070208-0010\\eclipse -name Eclipse 600 -product org.eclipse.sdk.ide -pdelaunch\nCommand-line arguments:  -launcher C:\\eclipse\\drops\\I20070208-0010\\eclipse -name Eclipse 600 -product org.eclipse.sdk.ide -data C:\\eclipse\\workspaces\\tmp/../runtime-EclipseApplication -dev file:C:/eclipse/workspaces/tmp/.metadata/.plugins/org.eclipse.pde.core/Eclipse Application/dev.properties -pdelaunch -os win32 -ws win32 -arch x86\n\nError\nThu Feb 08 14:59:27 CET 2007\nProblems occurred when invoking code from plug-in: \"org.eclipse.ui.workbench\".\n\norg.eclipse.swt.SWTException: Invalid thread access\nat org.eclipse.swt.SWT.error(SWT.java:3478)\nat org.eclipse.swt.SWT.error(SWT.java:3401)\nat org.eclipse.swt.SWT.error(SWT.java:3372)\nat org.eclipse.swt.widgets.Widget.error(Widget.java:432)\nat org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:326)\nat org.eclipse.swt.widgets.Widget.getStyle(Widget.java:598)\nat org.eclipse.jface.action.ActionContributionItem.isDynamic(ActionContributionItem.java:603)\nat org.eclipse.jface.action.ContributionItem.isDirty(ContributionItem.java:128)\nat org.eclipse.jface.action.SubContributionItem.isDirty(SubContributionItem.java:107)\nat org.eclipse.jface.action.ContributionManager.isDirty(ContributionManager.java:364)\nat org.eclipse.jface.action.MenuManager.update(MenuManager.java:598)\nat org.eclipse.jface.action.MenuManager.updateAll(MenuManager.java:765)\nat org.eclipse.jface.action.MenuManager.update(MenuManager.java:707)\nat org.eclipse.jface.action.MenuManager.updateAll(MenuManager.java:765)\nat org.eclipse.ui.internal.WorkbenchWindow.updateActionBars(WorkbenchWindow.java:2860)\nat org.eclipse.ui.internal.WorkbenchWindow.largeUpdateEnd(WorkbenchWindow.java:2910)\nat org.eclipse.ui.internal.Workbench.largeUpdateEnd(Workbench.java:3069)\nat org.eclipse.ui.internal.WorkbenchWindow.fillActionBars(WorkbenchWindow.java:3196)\nat org.eclipse.ui.internal.WorkbenchWindow.\u003cinit\u003e(WorkbenchWindow.java:352)\nat org.eclipse.ui.internal.Workbench.newWorkbenchWindow(Workbench.java:1622)\nat org.eclipse.ui.internal.Workbench.doRestoreState(Workbench.java:3184)\nat org.eclipse.ui.internal.Workbench.access$32(Workbench.java:3155)\nat org.eclipse.ui.internal.Workbench$47.run(Workbench.java:1996)\nat org.eclipse.ui.internal.Workbench.runStartupWithProgress(Workbench.java:1711)\nat org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1994)\nat org.eclipse.ui.internal.Workbench.access$30(Workbench.java:1965)\nat org.eclipse.ui.internal.Workbench$42.run(Workbench.java:1823)\nat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\nat org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:1767)\nat org.eclipse.ui.internal.WorkbenchConfigurer.restoreState(WorkbenchConfigurer.java:183)\nat org.eclipse.ui.application.WorkbenchAdvisor.openWindows(WorkbenchAdvisor.java:751)\nat org.eclipse.ui.internal.Workbench.init(Workbench.java:1289)\nat org.eclipse.ui.internal.Workbench.access$33(Workbench.java:1234)\nat org.eclipse.ui.internal.Workbench$51.run(Workbench.java:2183)",
    "Created an attachment (id\u003d58554)\nPicture of error dialog\n\n",
    "This used to work in I20070130-0800.",
    "It happens as soon as you start with the splash screen. I start my first instance without splash screen that\u0027s why I didn\u0027t notice but as soon as I use eclipse.exe with splash screen this bug happens.\n\nI\u0027d say this is a blocker as all people that do not start without splash screen and want to use more than one window will be blocked by this bug.",
    "I have a fix.",
    "Fix in HEAD.",
    "*** Bug 173461 has been marked as a duplicate of this bug. ***",
    "Verified in I20070208-1200."
  ],
  "commentCreationDates": [
    "2007-02-08T14:11:11+01:00",
    "2007-02-08T14:11:46+01:00",
    "2007-02-08T14:21:20+01:00",
    "2007-02-08T14:54:51+01:00",
    "2007-02-08T15:30:25+01:00",
    "2007-02-08T15:51:59+01:00",
    "2007-02-08T15:59:34+01:00",
    "2007-02-08T19:59:55+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Invalid thread access",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3478"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3401"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3372"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.error",
          "source": "Widget.java:432"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.checkWidget",
          "source": "Widget.java:326"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.getStyle",
          "source": "Widget.java:598"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.isDynamic",
          "source": "ActionContributionItem.java:603"
        },
        {
          "method": "org.eclipse.jface.action.ContributionItem.isDirty",
          "source": "ContributionItem.java:128"
        },
        {
          "method": "org.eclipse.jface.action.SubContributionItem.isDirty",
          "source": "SubContributionItem.java:107"
        },
        {
          "method": "org.eclipse.jface.action.ContributionManager.isDirty",
          "source": "ContributionManager.java:364"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.update",
          "source": "MenuManager.java:598"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.updateAll",
          "source": "MenuManager.java:765"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.update",
          "source": "MenuManager.java:707"
        },
        {
          "method": "org.eclipse.jface.action.MenuManager.updateAll",
          "source": "MenuManager.java:765"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.updateActionBars",
          "source": "WorkbenchWindow.java:2860"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.largeUpdateEnd",
          "source": "WorkbenchWindow.java:2910"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.largeUpdateEnd",
          "source": "Workbench.java:3069"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.fillActionBars",
          "source": "WorkbenchWindow.java:3196"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.\u003cinit\u003e",
          "source": "WorkbenchWindow.java:352"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.newWorkbenchWindow",
          "source": "Workbench.java:1622"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.doRestoreState",
          "source": "Workbench.java:3184"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$32",
          "source": "Workbench.java:3155"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$47.run",
          "source": "Workbench.java:1996"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runStartupWithProgress",
          "source": "Workbench.java:1711"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.restoreState",
          "source": "Workbench.java:1994"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$30",
          "source": "Workbench.java:1965"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$42.run",
          "source": "Workbench.java:1823"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.restoreState",
          "source": "Workbench.java:1767"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchConfigurer.restoreState",
          "source": "WorkbenchConfigurer.java:183"
        },
        {
          "method": "org.eclipse.ui.application.WorkbenchAdvisor.openWindows",
          "source": "WorkbenchAdvisor.java:751"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.init",
          "source": "Workbench.java:1289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$33",
          "source": "Workbench.java:1234"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$51.run",
          "source": "Workbench.java:2183"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "173442",
      "date": "2007-02-08T14:11:11+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "blocker"
    }
  ],
  "groupId": "173442",
  "bugId": "173442",
  "date": "2007-02-08T14:11:11+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "blocker"
}