{
  "comments": [
    "Using I20061205-1200 (note: this test case works in 1129 build)\n\nI have a fragment of com.ibm.icu that I use to run tests against the ICU4J bundle.  In the 1205 build, I get a class not found exception on my JUnit test case class that it is in my workspace.  The tests themselves are in a jar file (also in my workspace, in as part of the fragment) that is on the bundle classpath of my fragment.  I can run the tests in the same manner using the I1129 build.\n\nNote the tests I am going to attach are going to actually fail against ICU4J 3.4.5, but if you get to that point then the bug is resolved.\n\nSteps:\nImport \u003e Project\nSelect archive, browse to icu-tests.zip (I will attach)\nCheck com.ibm.icu.tests\nFinish\nSelect com.ibm.icu.tests\nRun as JUnit Plugin test\n\nClass not found com.ibm.icu.tests.UnitTest\njava.lang.ClassNotFoundException: com.ibm.icu.tests.UnitTest\n\tat java.lang.ClassLoader.findClass(ClassLoader.java:341)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:289)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:235)\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:424)\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:361)\n\tat org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:83)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:235)\n\tat org.eclipse.osgi.framework.internal.core.BundleLoader.loadClass(BundleLoader.java:283)\n\tat org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleHost.java:227)\n\tat org.eclipse.osgi.framework.internal.core.AbstractBundle.loadClass(AbstractBundle.java:1269)\n\tat org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner$BundleClassLoader.findClass(RemotePluginTestRunner.java:36)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:289)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:235)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.loadClass(RemoteTestRunner.java:683)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.loadClasses(RemoteTestRunner.java:425)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:445)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673)\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386)\n\tat org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(RemotePluginTestRunner.java:58)\n\tat org.eclipse.pde.internal.junit.runtime.CoreTestApplication.run(CoreTestApplication.java:24)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.equinox.internal.app.EclipseAppContainer.callMethod(EclipseAppContainer.java:522)\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:147)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:104)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:74)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:170)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:339)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:283)\n\tat org.eclipse.core.launcher.Main.run(Main.java:984)\n\tat org.eclipse.core.launcher.Main.main(Main.java:959)",
    "The attachment is too big for Bugzilla (3MB) - email me and I can email it.",
    "I think this is a PDE-UI bug that has been fixed in the latest builds.  Brian Bauman should know.",
    "The problem still exists in I20061212-0010.  N1210 was unusable so I couldn\u0027t check using that build.",
    "Nothing changed in Runtime to effect this.  I think it must be something strange in how dev classpath is calculated for fragments by PDE.",
    "Brian has the test case.  I think he is looking into it.",
    "Sorry for not commenting on this bug earlier.  I have been out of the office for the past couple days.\n\nTom and I looked over the result and it appears the Bundle-ClassPath is not set up correctly.  Currently, the fragment only has the jar file.  The Bundle-ClassPath should look like \"Bundle-ClassPath: .,icu4jtests.jar\".  The J-Unit class in the source folder never actually gets on the classpath, which causes the CNFE.\n\nThis did not show up earlier because a recent update to our dev.properties calculation enforces classpath rules similar to how the runtime does.  Before, we just added everything no matter what your Bundle-ClassPath contained.",
    "Ah, I see.  So even though it worked prior to the I1205 build, it shouldn\u0027t have.",
    "Correct.  Tom mentioned that if the plug-in was exported and run in a regular Eclipse runtime, you would run into the same problem (the runtime would not be able to find the class).\n\nBy adding that \u0027.\u0027 to the classpath, all your problems should be solved."
  ],
  "commentCreationDates": [
    "2006-12-11T16:51:33+01:00",
    "2006-12-11T16:56:08+01:00",
    "2006-12-11T17:26:44+01:00",
    "2006-12-12T15:20:45+01:00",
    "2006-12-12T15:55:14+01:00",
    "2006-12-12T16:10:47+01:00",
    "2006-12-13T17:05:47+01:00",
    "2006-12-13T17:29:51+01:00",
    "2006-12-13T17:44:06+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassNotFoundException",
      "message": "com.ibm.icu.tests.UnitTest",
      "elements": [
        {
          "method": "java.lang.ClassLoader.findClass",
          "source": "ClassLoader.java:341"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:289"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:235"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClass",
          "source": "BundleLoader.java:424"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.findClass",
          "source": "BundleLoader.java:361"
        },
        {
          "method": "org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass",
          "source": "DefaultClassLoader.java:83"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:235"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleLoader.loadClass",
          "source": "BundleLoader.java:283"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleHost.loadClass",
          "source": "BundleHost.java:227"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.AbstractBundle.loadClass",
          "source": "AbstractBundle.java:1269"
        },
        {
          "method": "org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner$BundleClassLoader.findClass",
          "source": "RemotePluginTestRunner.java:36"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:289"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "ClassLoader.java:235"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.loadClass",
          "source": "RemoteTestRunner.java:683"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.loadClasses",
          "source": "RemoteTestRunner.java:425"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests",
          "source": "RemoteTestRunner.java:445"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests",
          "source": "RemoteTestRunner.java:673"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run",
          "source": "RemoteTestRunner.java:386"
        },
        {
          "method": "org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main",
          "source": "RemotePluginTestRunner.java:58"
        },
        {
          "method": "org.eclipse.pde.internal.junit.runtime.CoreTestApplication.run",
          "source": "CoreTestApplication.java:24"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppContainer.callMethod",
          "source": "EclipseAppContainer.java:522"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:147"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:104"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:74"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:353"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:170"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:339"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:283"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:984"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:959"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "167453",
      "date": "2006-12-11T16:51:33+01:00",
      "product": "PDE",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "167453",
  "bugId": "167453",
  "date": "2006-12-11T16:51:33+01:00",
  "product": "PDE",
  "component": "UI",
  "severity": "normal"
}