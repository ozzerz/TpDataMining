{
  "comments": [
    "The result of the query is some long text, then exception occurs and the whole table containing this dataset is not shown in the final report.\nI have tried to short the source of this data, then it is ok.\nIs there any limitation on the length of the query result?\n\nFollowing is the log:\nApr 27, 2007 4:09:08 PM org.eclipse.birt.report.engine.data.dte.DteResultSet next\nSEVERE: A report document error occurred when saving: {0}\nencoded string too long: 74119 bytes\norg.eclipse.birt.data.engine.core.DataException: A report document error occurred when saving: {0}\nencoded string too long: 74119 bytes\n\tat org.eclipse.birt.data.engine.executor.cache.MemoryCache.doSave(MemoryCache.java:187)\n\tat org.eclipse.birt.data.engine.executor.cache.SmartCache.doSave(SmartCache.java:198)\n\tat org.eclipse.birt.data.engine.executor.transform.CachedResultSet.doSave(CachedResultSet.java:231)\n\tat org.eclipse.birt.data.engine.impl.document.RDSaveUtil.saveForGeneration(RDSaveUtil.java:95)\n\tat org.eclipse.birt.data.engine.impl.document.RDSaveUtil.saveResultIterator(RDSaveUtil.java:60)\n\tat org.eclipse.birt.data.engine.impl.document.RDSave.saveResultIterator(RDSave.java:160)\n\tat org.eclipse.birt.data.engine.impl.ResultIterator$RDSaveHelper.doSave(ResultIterator.java:788)\n\tat org.eclipse.birt.data.engine.impl.ResultIterator$RDSaveHelper.doSaveExpr(ResultIterator.java:753)\n\tat org.eclipse.birt.data.engine.impl.BindingColumnsEvalUtil.getColumnsValue(BindingColumnsEvalUtil.java:160)\n\tat org.eclipse.birt.data.engine.impl.ResultIterator.prepareCurrentRow(ResultIterator.java:338)\n\tat org.eclipse.birt.data.engine.impl.ResultIterator.next(ResultIterator.java:192)\n\tat org.eclipse.birt.report.engine.data.dte.DteResultSet.next(DteResultSet.java:195)\n\tat org.eclipse.birt.report.engine.executor.QueryItemExecutor.executeQuery(QueryItemExecutor.java:65)\n\tat org.eclipse.birt.report.engine.executor.TableItemExecutor.execute(TableItemExecutor.java:73)\n\tat org.eclipse.birt.report.engine.layout.html.HTMLPageLM.layoutChildren(HTMLPageLM.java:123)\n\tat org.eclipse.birt.report.engine.layout.html.HTMLPageLM.layout(HTMLPageLM.java:81)\n\tat org.eclipse.birt.report.engine.layout.html.HTMLReportLayoutEngine.layout(HTMLReportLayoutEngine.java:85)\n\tat org.eclipse.birt.report.engine.presentation.ReportDocumentBuilder.build(ReportDocumentBuilder.java:143)\n\tat com.ibm.rmc.publishing.doc.service.PublishRunTask.doRun(PublishRunTask.java:227)\n\tat com.ibm.rmc.publishing.doc.service.PublishRunTask.run(PublishRunTask.java:102)\n\tat com.ibm.rmc.publishing.doc.service.DocumentGenerator$1.run(DocumentGenerator.java:76)\n\tat java.lang.Thread.run(Thread.java:797)\nCaused by: java.io.UTFDataFormatException: encoded string too long: 74119 bytes\n\tat java.io.DataOutputStream.writeUTF(DataOutputStream.java:375)\n\tat java.io.DataOutputStream.writeUTF(DataOutputStream.java:334)\n\tat org.eclipse.birt.core.util.IOUtil.writeObject(IOUtil.java:528)\n\tat org.eclipse.birt.data.engine.executor.cache.ResultSetUtil.writeResultObject(ResultSetUtil.java:58)\n\tat org.eclipse.birt.data.engine.executor.cache.MemoryCache.doSave(MemoryCache.java:177)\n\t... 21 more",
    "When the query result contains long text whose length is more than 65535 bytes, an I/O Exception will be thrown as you had seen.\n\nNow I will make an detailed investigation to see what we can do with this kind of problem for you.",
    "As per discussion we move this bug to RC2.",
    "It has great impact of our product\nAppreciate it can be fixed as soon as possible\nThanks!",
    "I have tried on org.eclipse.birt.data_2.2.0.v20070510-0630, still get this problem. Appreciate it could be fixed as soon as possible.\nThanks!\nFollowing is the log\norg.eclipse.birt.data.engine.core.DataException: Exception in writing temporary file for large data set.\nencoded string too long: 104389 bytes\n\tat org.eclipse.birt.data.engine.executor.cache.disk.DiskCache.\u003cinit\u003e(DiskCache.java:107)\n\tat org.eclipse.birt.data.engine.executor.cache.SmartCacheHelper.populateData(SmartCacheHelper.java:308)\n\tat org.eclipse.birt.data.engine.executor.cache.SmartCacheHelper.initInstance(SmartCacheHelper.java:241)\n\tat org.eclipse.birt.data.engine.executor.cache.SmartCacheHelper.getResultSetCache(SmartCacheHelper.java:204)\n\tat org.eclipse.birt.data.engine.executor.cache.SmartCache.\u003cinit\u003e(SmartCache.java:68)\n\tat org.eclipse.birt.data.engine.executor.transform.pass.PassUtil.populateOdiResultSet(PassUtil.java:133)\n\tat org.eclipse.birt.data.engine.executor.transform.pass.PassUtil.pass(PassUtil.java:66)\n\tat org.eclipse.birt.data.engine.executor.transform.pass.PassManager.doSinglePass(PassManager.java:181)\n\tat org.eclipse.birt.data.engine.executor.transform.pass.PassManager.pass(PassManager.java:89)\n\tat org.eclipse.birt.data.engine.executor.transform.pass.PassManager.populateResultSet(PassManager.java:71)\n\tat org.eclipse.birt.data.engine.executor.transform.ResultSetPopulator.populateResultSet(ResultSetPopulator.java:208)\n\tat org.eclipse.birt.data.engine.executor.transform.CachedResultSet.\u003cinit\u003e(CachedResultSet.java:111)\n\tat org.eclipse.birt.data.engine.executor.DataSourceQuery.execute(DataSourceQuery.java:524)\n\tat org.eclipse.birt.data.engine.impl.PreparedOdaDSQuery$OdaDSQueryExecutor.executeOdiQuery(PreparedOdaDSQuery.java:331)\n\tat org.eclipse.birt.data.engine.impl.QueryExecutor.execute(QueryExecutor.java:754)\n\tat org.eclipse.birt.data.engine.impl.ServiceForQueryResults.executeQuery(ServiceForQueryResults.java:198)\n\tat org.eclipse.birt.data.engine.impl.QueryResults.getResultIterator(QueryResults.java:148)\n\tat org.eclipse.birt.report.designer.data.ui.dataset.ResultSetPreviewPage.populateRecords(ResultSetPreviewPage.java:446)\n\tat org.eclipse.birt.report.designer.data.ui.dataset.ResultSetPreviewPage.access$2(ResultSetPreviewPage.java:439)\n\tat org.eclipse.birt.report.designer.data.ui.dataset.ResultSetPreviewPage$5.run(ResultSetPreviewPage.java:395)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:113)\nCaused by: java.io.UTFDataFormatException: encoded string too long: 104389 bytes\n\tat java.io.DataOutputStream.writeUTF(DataOutputStream.java:375)\n\tat java.io.DataOutputStream.writeUTF(DataOutputStream.java:334)\n\tat org.eclipse.birt.data.engine.executor.cache.ResultObjectUtil.writeData(ResultObjectUtil.java:274)\n\tat org.eclipse.birt.data.engine.executor.cache.ResultObjectUtil.writeData(ResultObjectUtil.java:222)\n\tat org.eclipse.birt.data.engine.executor.cache.disk.DataFileWriter.write(DataFileWriter.java:102)\n\tat org.eclipse.birt.data.engine.executor.cache.disk.RowFile.writeRowsToFile(RowFile.java:134)\n\tat org.eclipse.birt.data.engine.executor.cache.disk.RowFile.writeRows(RowFile.java:101)\n\tat org.eclipse.birt.data.engine.executor.cache.disk.DiskDirectExport.outputResultObjects(DiskDirectExport.java:86)\n\tat org.eclipse.birt.data.engine.executor.cache.disk.DiskDataExport.innerExportRestData(DiskDataExport.java:135)\n\tat org.eclipse.birt.data.engine.executor.cache.disk.DiskDirectExport.exportRestDataToDisk(DiskDirectExport.java:58)\n\tat org.eclipse.birt.data.engine.executor.cache.disk.DiskCacheResultSet.processRestResultObjects(DiskCacheResultSet.java:75)\n\tat org.eclipse.birt.data.engine.executor.cache.disk.DiskCache.\u003cinit\u003e(DiskCache.java:102)\n\t... 20 more \n",
    "in 2.1 only the recored that is too long is not queried out, but in 2.2 the whole result set fails.\nHope it could be resolved as soon as possible\nThanks.",
    "When the query result is too long, it will throw an exception as you have seen.\nNow we\u0027ve modified the I/O mechanism to resolve the problem for you. ",
    "Thanks!\nWhich build will the fix be included? rc0 ,or rc1?\nThanks again!",
    "I still can reproduce this problem on daily build 0607\nany regression on this?\n",
    "We abolished the limitation of the string\u0027s length when using cached data set to make long text valid.",
    "sorry, I still meet this error message on daily build 20070612\nJun 13, 2006 6:30:08 PM org.eclipse.birt.report.engine.data.dte.DteDataEngine doExecuteQuery\nSEVERE: There is an error in saving files of data set cache.\nencoded string too long: 144156 bytes",
    "Hi Wang,\n\nThe fixing is go to build v20070613 rather than v20070612.So please try the version v20070613 or later.\n\nSorry for the inconvenience.\n\nThanks.\nLin"
  ],
  "commentCreationDates": [
    "2007-04-27T12:53:30+02:00",
    "2007-05-08T07:56:56+02:00",
    "2007-05-15T13:39:42+02:00",
    "2007-05-18T10:30:04+02:00",
    "2007-05-18T12:01:34+02:00",
    "2007-05-22T10:02:46+02:00",
    "2007-05-23T12:25:52+02:00",
    "2007-05-23T12:41:47+02:00",
    "2007-06-08T08:59:59+02:00",
    "2007-06-12T10:31:44+02:00",
    "2007-06-13T12:31:36+02:00",
    "2007-06-13T15:15:05+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.birt.data.engine.core.DataException",
      "message": "A report document error occurred when saving: {0} encoded string too long: 74119 bytes",
      "elements": [
        {
          "method": "org.eclipse.birt.data.engine.executor.cache.MemoryCache.doSave",
          "source": "MemoryCache.java:187"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.cache.SmartCache.doSave",
          "source": "SmartCache.java:198"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.CachedResultSet.doSave",
          "source": "CachedResultSet.java:231"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.document.RDSaveUtil.saveForGeneration",
          "source": "RDSaveUtil.java:95"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.document.RDSaveUtil.saveResultIterator",
          "source": "RDSaveUtil.java:60"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.document.RDSave.saveResultIterator",
          "source": "RDSave.java:160"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.ResultIterator$RDSaveHelper.doSave",
          "source": "ResultIterator.java:788"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.ResultIterator$RDSaveHelper.doSaveExpr",
          "source": "ResultIterator.java:753"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.BindingColumnsEvalUtil.getColumnsValue",
          "source": "BindingColumnsEvalUtil.java:160"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.ResultIterator.prepareCurrentRow",
          "source": "ResultIterator.java:338"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.ResultIterator.next",
          "source": "ResultIterator.java:192"
        },
        {
          "method": "org.eclipse.birt.report.engine.data.dte.DteResultSet.next",
          "source": "DteResultSet.java:195"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.QueryItemExecutor.executeQuery",
          "source": "QueryItemExecutor.java:65"
        },
        {
          "method": "org.eclipse.birt.report.engine.executor.TableItemExecutor.execute",
          "source": "TableItemExecutor.java:73"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLPageLM.layoutChildren",
          "source": "HTMLPageLM.java:123"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLPageLM.layout",
          "source": "HTMLPageLM.java:81"
        },
        {
          "method": "org.eclipse.birt.report.engine.layout.html.HTMLReportLayoutEngine.layout",
          "source": "HTMLReportLayoutEngine.java:85"
        },
        {
          "method": "org.eclipse.birt.report.engine.presentation.ReportDocumentBuilder.build",
          "source": "ReportDocumentBuilder.java:143"
        },
        {
          "method": "com.ibm.rmc.publishing.doc.service.PublishRunTask.doRun",
          "source": "PublishRunTask.java:227"
        },
        {
          "method": "com.ibm.rmc.publishing.doc.service.PublishRunTask.run",
          "source": "PublishRunTask.java:102"
        },
        {
          "method": "com.ibm.rmc.publishing.doc.service.DocumentGenerator$1.run",
          "source": "DocumentGenerator.java:76"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:797"
        }
      ],
      "causedBy": {
        "exceptionType": "java.io.UTFDataFormatException",
        "message": "encoded string too long: 74119 bytes",
        "elements": [
          {
            "method": "java.io.DataOutputStream.writeUTF",
            "source": "DataOutputStream.java:375"
          },
          {
            "method": "java.io.DataOutputStream.writeUTF",
            "source": "DataOutputStream.java:334"
          },
          {
            "method": "org.eclipse.birt.core.util.IOUtil.writeObject",
            "source": "IOUtil.java:528"
          },
          {
            "method": "org.eclipse.birt.data.engine.executor.cache.ResultSetUtil.writeResultObject",
            "source": "ResultSetUtil.java:58"
          },
          {
            "method": "org.eclipse.birt.data.engine.executor.cache.MemoryCache.doSave",
            "source": "MemoryCache.java:177"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 0,
      "commentIndex": 0,
      "bugId": "184406",
      "date": "2007-04-27T12:53:30+02:00",
      "product": "BIRT",
      "component": "Data",
      "severity": "blocker"
    },
    {
      "exceptionType": "org.eclipse.birt.data.engine.core.DataException",
      "message": "Exception in writing temporary file for large data set. encoded string too long: 104389 bytes",
      "elements": [
        {
          "method": "org.eclipse.birt.data.engine.executor.cache.disk.DiskCache.\u003cinit\u003e",
          "source": "DiskCache.java:107"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.cache.SmartCacheHelper.populateData",
          "source": "SmartCacheHelper.java:308"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.cache.SmartCacheHelper.initInstance",
          "source": "SmartCacheHelper.java:241"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.cache.SmartCacheHelper.getResultSetCache",
          "source": "SmartCacheHelper.java:204"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.cache.SmartCache.\u003cinit\u003e",
          "source": "SmartCache.java:68"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.pass.PassUtil.populateOdiResultSet",
          "source": "PassUtil.java:133"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.pass.PassUtil.pass",
          "source": "PassUtil.java:66"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.pass.PassManager.doSinglePass",
          "source": "PassManager.java:181"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.pass.PassManager.pass",
          "source": "PassManager.java:89"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.pass.PassManager.populateResultSet",
          "source": "PassManager.java:71"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.ResultSetPopulator.populateResultSet",
          "source": "ResultSetPopulator.java:208"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.transform.CachedResultSet.\u003cinit\u003e",
          "source": "CachedResultSet.java:111"
        },
        {
          "method": "org.eclipse.birt.data.engine.executor.DataSourceQuery.execute",
          "source": "DataSourceQuery.java:524"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.PreparedOdaDSQuery$OdaDSQueryExecutor.executeOdiQuery",
          "source": "PreparedOdaDSQuery.java:331"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.QueryExecutor.execute",
          "source": "QueryExecutor.java:754"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.ServiceForQueryResults.executeQuery",
          "source": "ServiceForQueryResults.java:198"
        },
        {
          "method": "org.eclipse.birt.data.engine.impl.QueryResults.getResultIterator",
          "source": "QueryResults.java:148"
        },
        {
          "method": "org.eclipse.birt.report.designer.data.ui.dataset.ResultSetPreviewPage.populateRecords",
          "source": "ResultSetPreviewPage.java:446"
        },
        {
          "method": "org.eclipse.birt.report.designer.data.ui.dataset.ResultSetPreviewPage.access$2",
          "source": "ResultSetPreviewPage.java:439"
        },
        {
          "method": "org.eclipse.birt.report.designer.data.ui.dataset.ResultSetPreviewPage$5.run",
          "source": "ResultSetPreviewPage.java:395"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:113"
        }
      ],
      "causedBy": {
        "exceptionType": "java.io.UTFDataFormatException",
        "message": "encoded string too long: 104389 bytes",
        "elements": [
          {
            "method": "java.io.DataOutputStream.writeUTF",
            "source": "DataOutputStream.java:375"
          },
          {
            "method": "java.io.DataOutputStream.writeUTF",
            "source": "DataOutputStream.java:334"
          },
          {
            "method": "org.eclipse.birt.data.engine.executor.cache.ResultObjectUtil.writeData",
            "source": "ResultObjectUtil.java:274"
          },
          {
            "method": "org.eclipse.birt.data.engine.executor.cache.ResultObjectUtil.writeData",
            "source": "ResultObjectUtil.java:222"
          },
          {
            "method": "org.eclipse.birt.data.engine.executor.cache.disk.DataFileWriter.write",
            "source": "DataFileWriter.java:102"
          },
          {
            "method": "org.eclipse.birt.data.engine.executor.cache.disk.RowFile.writeRowsToFile",
            "source": "RowFile.java:134"
          },
          {
            "method": "org.eclipse.birt.data.engine.executor.cache.disk.RowFile.writeRows",
            "source": "RowFile.java:101"
          },
          {
            "method": "org.eclipse.birt.data.engine.executor.cache.disk.DiskDirectExport.outputResultObjects",
            "source": "DiskDirectExport.java:86"
          },
          {
            "method": "org.eclipse.birt.data.engine.executor.cache.disk.DiskDataExport.innerExportRestData",
            "source": "DiskDataExport.java:135"
          },
          {
            "method": "org.eclipse.birt.data.engine.executor.cache.disk.DiskDirectExport.exportRestDataToDisk",
            "source": "DiskDirectExport.java:58"
          },
          {
            "method": "org.eclipse.birt.data.engine.executor.cache.disk.DiskCacheResultSet.processRestResultObjects",
            "source": "DiskCacheResultSet.java:75"
          },
          {
            "method": "org.eclipse.birt.data.engine.executor.cache.disk.DiskCache.\u003cinit\u003e",
            "source": "DiskCache.java:102"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 1,
      "commentIndex": 4,
      "bugId": "184406",
      "date": "2007-05-18T12:01:34+02:00",
      "product": "BIRT",
      "component": "Data",
      "severity": "blocker"
    }
  ],
  "groupId": "184406",
  "bugId": "184406",
  "date": "2007-04-27T12:53:30+02:00",
  "product": "BIRT",
  "component": "Data",
  "severity": "blocker"
}