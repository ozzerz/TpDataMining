{
  "comments": [
    "Version: 3.2.0.v20060428-0010-F7snp1fW7B-a1TP\nBuild id: I20060428-1315\n\nUnable to do any kind of search.\n\n\n!ENTRY org.eclipse.ui 4 4 2006-05-17 10:02:50.659\n!MESSAGE Unhandled event loop exception\n\n!ENTRY org.eclipse.ui 4 0 2006-05-17 10:02:50.659\n!MESSAGE java.lang.NullPointerException\n!STACK 0\njava.lang.NullPointerException\n\tat org.eclipse.search2.internal.ui.text.PositionTracker.queryRemoved(PositionTracker.java:69)\n\tat org.eclipse.search2.internal.ui.QueryManager.fireRemoved(QueryManager.java:93)\n\tat org.eclipse.search2.internal.ui.QueryManager.removeQuery(QueryManager.java:48)\n\tat org.eclipse.search2.internal.ui.InternalSearchUI.removeQuery(InternalSearchUI.java:299)\n\tat org.eclipse.search2.internal.ui.InternalSearchUI.addQuery(InternalSearchUI.java:308)\n\tat org.eclipse.search2.internal.ui.InternalSearchUI.runSearchInBackground(InternalSearchUI.java:169)\n\tat org.eclipse.search.ui.NewSearchUI.runQueryInBackground(NewSearchUI.java:120)\n\tat org.eclipse.search.ui.NewSearchUI.runQueryInBackground(NewSearchUI.java:96)\n\tat org.eclipse.jdt.internal.ui.search.JavaSearchPage.performNewSearch(JavaSearchPage.java:314)\n\tat org.eclipse.jdt.internal.ui.search.JavaSearchPage.performAction(JavaSearchPage.java:263)\n\tat org.eclipse.search.internal.ui.SearchDialog.performAction(SearchDialog.java:457)\n\tat org.eclipse.search.internal.ui.util.ExtendedDialogWindow.buttonPressed(ExtendedDialogWindow.java:159)\n\tat org.eclipse.jface.dialogs.Dialog$3.widgetSelected(Dialog.java:660)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\n\tat org.eclipse.jface.window.Window.open(Window.java:796)\n\tat org.eclipse.search.internal.ui.OpenSearchDialogAction.run(OpenSearchDialogAction.java:54)\n\tat org.eclipse.search.ui.NewSearchUI.openSearchDialog(NewSearchUI.java:265)\n\tat org.eclipse.search.internal.ui.OpenFileSearchPageAction.run(OpenFileSearchPageAction.java:43)\n\tat org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:254)\n\tat org.eclipse.ui.internal.WWinPluginAction.runWithEvent(WWinPluginAction.java:229)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:282)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)",
    "Do you have this reproducable? E.g. steps when starting up after Eclipse?",
    "I start Eclipse with -clean. Select some text in any edit window. Click on Search. Click the Search button. The search window is displayed with no content and an exception is logged. Happens all the time. It\u0027s a solid defect in my environment. Selecting different kinds of search (\"File\", Java\", \"Plug-in\") and different options (\"Search for\", \"Limit to\", etc) makes no difference. Same problem if I do Alt+Shift+Q, S.",
    "Did you configure the search history size?",
    "No. I did not change any of the Search Preferences -- none are altered or selected.",
    "can you run with an different VM to see if this is a JIT bug?",
    "I don\u0027t have the problem if I run with Eclipse 3.1 with the same JVM. Neither did I have the problem with 3.2 until I updated (two days ago) with the latest Callisto version. ",
    "What do you mean by \u0027the latest callisto version\u0027. Just Eclipse or did you install additional components (web tools, ect...)\n\nSorry that I have to ask you for more, I can\u0027t reproduce the problem and also looking in the code it is hard to explain.\n\nThis is your scenario:\n- start eclipse new\n  question: (1) is it with an empty workpspace?\n  question: (2) is it bare eclipse sdk\n            (3) extra plugins\n            (4) or in a different product?\n- can you attach your configuration data? Help \u003e About \u003e Configuration Data\n  ",
    "Created an attachment (id\u003d42045)\nconfig info\n\n",
    "I can reproduce the problem on a new workspace.\n\nHere is my version info:\n\nEclipse Java Development Tools\n\nVersion: 3.2.0.v20060428-0010-F7snp1fW7B-a1TP\nBuild id: I20060428-1315\n\nI have attached the config info as attachment #42045.",
    "Hello-\n\nI\u0027m having a very similar, if not the same, problem.\n\nI double click a java variable to select it, and then press CTRL+SHIFT+G to search for references, and I get an error dialog box \"\u0027References in workspace\u0027 did not complete normally.  Please see the log for more information.  Reason: java.lang.NullPointerException.\"\n\nThe log has a stack trace of:\n\njava.lang.NullPointerException\nat org.eclipse.search2.internal.ui.text.PositionTracker.queryRemoved(PositionTracker.java:69)\nat org.eclipse.search2.internal.ui.QueryManager.fireRemoved(QueryManager.java:93)\nat org.eclipse.search2.internal.ui.QueryManager.removeQuery(QueryManager.java:48)\nat org.eclipse.search2.internal.ui.InternalSearchUI.removeQuery(InternalSearchUI.java:299)\n...\n\nThis happens every time, but it just started after the upgrade manager informed me of updates, so I let it install \"Eclipse Project SDK 3.2.0.v20060609m-GNq6oQq-7es-Y81\" which now shows up in the product configuration window along with my other plugins.\n\nMy other plugins are:\n  AnyEditTools 1.4.2\n  com.ywords.antexplorer 1.0.3\n  Eclipse Checkstyle Plugin 4.0.91\n\nI disabled the 3 above plugins and restarted Eclipse, and the error still happens, but now the null pointer is on a different line of code.\n\njava.lang.NullPointerException\n\tat org.eclipse.search2.internal.ui.SearchView.queryRemoved(SearchView.java:484)\n\tat org.eclipse.search2.internal.ui.QueryManager.fireRemoved(QueryManager.java:93)\n\tat org.eclipse.search2.internal.ui.QueryManager.removeQuery(QueryManager.java:48)\n\tat org.eclipse.search2.internal.ui.InternalSearchUI.removeQuery(InternalSearchUI.java:299)\n...\n\n\nWhen I go to the search menu, \"file\" and \"java\" searches also throw the null pointer exception from the same line of code. Interestingly, variable renaming still works when I press ALT+SHIFT+R, and CTRL+F still works for finding text within a file.\n\nI will attach my eclipse configuration as it exists after the plug-ins were disabled.\n\nLet me know if you need more info.\n\n\nThanks much,\nDavid",
    "Created an attachment (id\u003d45897)\nmy Eclipse configuration data\n\n",
    "I fixed the problem by deleting my eclipse installation and downloading a clean copy of the current release, which happens to be Eclipse SDK 3.2.0 build M20060629-1905.  \n\nI didn\u0027t need to delete my workspace, so all my projects still existed after the clean install.  Once I installed my 3rd party plug-ins, I was back to normal.",
    "released fixes to 3.2.1 and 3.3 that should target this problem. I myself wasn\u0027t yet able to reproduce it.\n\u003e 20060717",
    "Created an attachment (id\u003d46759)\npatch to use the recommended way of initializing preferences\n\nMartin, I was able to reproduce the problem with an old config.ini file. With that it is possible that the search-plugin is activated before the \u0027org.eclipse.equinox.preferences\u0027-plugin. In this case the preferences of the search-plugin never get initialized and therefore the history limit is 0.\n\nIn addtion to your fix, I suggest to use the recommended extension point to initialize the preferences.",
    "Thanks a lot, Markus! That makes sense and would explain the NPEs.\n\nPatch released in 3.2.1 and 3.3 \u003e 20060725",
    "Created an attachment (id\u003d46796)\npatch that makes code robust against history limit of 0.\n\nI just noticed that the code still is not robust against a history-limit of 0. If the history-limit for some reason turns out to be 0, the search will run into an infinite loop (instead of throwing the NPE). I propose to handle that case, even if it should not occur.",
    "You\u0027re right. Fixed in 3.2.1 and applied patch to 3.3",
    "Starting verification...",
    "Verified in M20060830-0800 by hacking the preference file. Tested with -1, 0 and 9999.\n\nFiled bug 155782 for minor problems with the history limit dialog if the value is \u003e 100."
  ],
  "commentCreationDates": [
    "2006-05-17T19:24:29+02:00",
    "2006-05-18T17:12:58+02:00",
    "2006-05-18T18:38:20+02:00",
    "2006-05-18T18:57:37+02:00",
    "2006-05-18T19:01:40+02:00",
    "2006-05-18T19:04:44+02:00",
    "2006-05-18T19:12:25+02:00",
    "2006-05-19T16:21:13+02:00",
    "2006-05-19T18:51:06+02:00",
    "2006-05-19T18:55:42+02:00",
    "2006-07-07T02:48:35+02:00",
    "2006-07-07T02:52:26+02:00",
    "2006-07-08T02:31:05+02:00",
    "2006-07-17T18:20:57+02:00",
    "2006-07-25T16:55:53+02:00",
    "2006-07-25T17:54:18+02:00",
    "2006-07-26T08:28:00+02:00",
    "2006-07-26T12:53:26+02:00",
    "2006-08-31T10:54:05+02:00",
    "2006-08-31T11:20:01+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.search2.internal.ui.text.PositionTracker.queryRemoved",
          "source": "PositionTracker.java:69"
        },
        {
          "method": "org.eclipse.search2.internal.ui.QueryManager.fireRemoved",
          "source": "QueryManager.java:93"
        },
        {
          "method": "org.eclipse.search2.internal.ui.QueryManager.removeQuery",
          "source": "QueryManager.java:48"
        },
        {
          "method": "org.eclipse.search2.internal.ui.InternalSearchUI.removeQuery",
          "source": "InternalSearchUI.java:299"
        },
        {
          "method": "org.eclipse.search2.internal.ui.InternalSearchUI.addQuery",
          "source": "InternalSearchUI.java:308"
        },
        {
          "method": "org.eclipse.search2.internal.ui.InternalSearchUI.runSearchInBackground",
          "source": "InternalSearchUI.java:169"
        },
        {
          "method": "org.eclipse.search.ui.NewSearchUI.runQueryInBackground",
          "source": "NewSearchUI.java:120"
        },
        {
          "method": "org.eclipse.search.ui.NewSearchUI.runQueryInBackground",
          "source": "NewSearchUI.java:96"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.search.JavaSearchPage.performNewSearch",
          "source": "JavaSearchPage.java:314"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.search.JavaSearchPage.performAction",
          "source": "JavaSearchPage.java:263"
        },
        {
          "method": "org.eclipse.search.internal.ui.SearchDialog.performAction",
          "source": "SearchDialog.java:457"
        },
        {
          "method": "org.eclipse.search.internal.ui.util.ExtendedDialogWindow.buttonPressed",
          "source": "ExtendedDialogWindow.java:159"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$3.widgetSelected",
          "source": "Dialog.java:660"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:90"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:925"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3348"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2968"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:820"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:796"
        },
        {
          "method": "org.eclipse.search.internal.ui.OpenSearchDialogAction.run",
          "source": "OpenSearchDialogAction.java:54"
        },
        {
          "method": "org.eclipse.search.ui.NewSearchUI.openSearchDialog",
          "source": "NewSearchUI.java:265"
        },
        {
          "method": "org.eclipse.search.internal.ui.OpenFileSearchPageAction.run",
          "source": "OpenFileSearchPageAction.java:43"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:254"
        },
        {
          "method": "org.eclipse.ui.internal.WWinPluginAction.runWithEvent",
          "source": "WWinPluginAction.java:229"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:539"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:925"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3348"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2968"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1914"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1878"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:338"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:282"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "142292",
      "date": "2006-05-17T19:24:29+02:00",
      "product": "Platform",
      "component": "Search",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.search2.internal.ui.text.PositionTracker.queryRemoved",
          "source": "PositionTracker.java:69"
        },
        {
          "method": "org.eclipse.search2.internal.ui.QueryManager.fireRemoved",
          "source": "QueryManager.java:93"
        },
        {
          "method": "org.eclipse.search2.internal.ui.QueryManager.removeQuery",
          "source": "QueryManager.java:48"
        },
        {
          "method": "org.eclipse.search2.internal.ui.InternalSearchUI.removeQuery",
          "source": "InternalSearchUI.java:299"
        }
      ],
      "number": 1,
      "commentIndex": 10,
      "bugId": "142292",
      "date": "2006-07-07T02:48:35+02:00",
      "product": "Platform",
      "component": "Search",
      "severity": "major"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.search2.internal.ui.SearchView.queryRemoved",
          "source": "SearchView.java:484"
        },
        {
          "method": "org.eclipse.search2.internal.ui.QueryManager.fireRemoved",
          "source": "QueryManager.java:93"
        },
        {
          "method": "org.eclipse.search2.internal.ui.QueryManager.removeQuery",
          "source": "QueryManager.java:48"
        },
        {
          "method": "org.eclipse.search2.internal.ui.InternalSearchUI.removeQuery",
          "source": "InternalSearchUI.java:299"
        }
      ],
      "number": 2,
      "commentIndex": 10,
      "bugId": "142292",
      "date": "2006-07-07T02:48:35+02:00",
      "product": "Platform",
      "component": "Search",
      "severity": "major"
    }
  ],
  "groupId": "142292",
  "bugId": "142292",
  "date": "2006-05-17T19:24:29+02:00",
  "product": "Platform",
  "component": "Search",
  "severity": "major"
}