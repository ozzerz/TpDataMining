{
  "comments": [
    "I20031216 2000\n\nAs a test I created a trival rich client application.  It hides all menus and\ntoolbars, and opens in an empty perspective. I get an exception starting up and\nthe application crashes:\n\njava.lang.ArrayIndexOutOfBoundsException: 0\n\tat\norg.eclipse.ui.internal.ActionSetActionBars.findAlphabeticalOrder(ActionSetActionBars.java:262)\n\tat\norg.eclipse.ui.internal.ActionSetActionBars.getToolBarManager(ActionSetActionBars.java:160)\n\tat\norg.eclipse.ui.internal.PluginActionSetBuilder$ActionSetContribution.contributeCoolbarAction(PluginActionSetBuilder.java:347)\n\tat\norg.eclipse.ui.internal.PluginActionSetBuilder$ActionSetContribution.contribute(PluginActionSetBuilder.java:272)\n\tat\norg.eclipse.ui.internal.PluginActionSetBuilder.readActionExtensions(PluginActionSetBuilder.java:213)\n\tat\norg.eclipse.ui.internal.PluginActionSetBuilder.processActionSets(PluginActionSetBuilder.java:176)\n\tat\norg.eclipse.ui.internal.ActionPresentation.setActionSets(ActionPresentation.java:155)\n\tat\norg.eclipse.ui.internal.WorkbenchWindow.updateActionSets(WorkbenchWindow.java:1993)\n\tat org.eclipse.ui.internal.WorkbenchWindow$6.run(WorkbenchWindow.java:1766)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)\n\tat org.eclipse.ui.internal.WorkbenchWindow.setActivePage(WorkbenchWindow.java:1741)\n\tat org.eclipse.ui.internal.WorkbenchWindow.busyOpenPage(WorkbenchWindow.java:579)\n\tat org.eclipse.ui.internal.WorkbenchWindow$5.run(WorkbenchWindow.java:1099)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84)\n\tat org.eclipse.ui.internal.WorkbenchWindow.openPage(WorkbenchWindow.java:1096)\n\tat org.eclipse.ui.internal.Workbench.openFirstTimeWindow(Workbench.java:1142)\n\tat org.eclipse.ui.internal.Workbench.init(Workbench.java:875)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1459)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:246)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)\n\tat org.eclipse.recipe.RecipeWorkbench.run(RecipeWorkbench.java:15)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:233)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:85)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:281)\n\tat org.eclipse.core.launcher.Main.run(Main.java:744)\n\tat org.eclipse.core.launcher.Main.main(Main.java:583)",
    "Created an attachment (id\u003d7219)\nZip file of trivial RCP application\n",
    "In the same test application I noticed this error in the console:\n\nInvalid Menu Extension (Path is invalid): org.eclipse.help.internal.ui.HelpAction",
    "Created an attachment (id\u003d7232)\nPatch for ActionSetActionBars\n\nApply patch to fix Index out of bounds error.",
    "I suspect the invalid menu extension error is because my app didn\u0027t have a help\nmenu, but there was a plugin contributing an action to the help menu... feels\nlike this will be a common occurrence in RCP apps (plug-ins can no longer be\ncertain that standard menus will be there).",
    "The problem with plugins referring to missing menus is a known issue.\nBasically there\u0027s no magic here -- if a plugin refers to a menu, it needs to \nknow that the menu will exist in all apps in which it expects to run.\n",
    "Kosta, under what cirumstances can findAlphabeticalOrder return null?\nCurrently if it returns null, the action does not get added.  Is this the \nintent?  If this is an error case, then it should be logged.  If it\u0027s not an \nerror case, then the action could simply be added to the end.\n",
    "I\u0027ve released the patch in the meantime.\n",
    "Created an attachment (id\u003d7236)\npatch for workbench\n\nThis patch should be used instead of the older patch",
    "Fixes the array out of bounds errors with ActionSetActionBars, \nPluginActionSetBuilder and WorkbenchWindow. Instead of not adding the items \nlike it was doing before, now if the index is out of bounds it adds it to the \nend of the list.\n\nTod, Can you commit this please.",
    "Patches released.",
    "*** Bug 49788 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2003-12-17T22:30:32+01:00",
    "2003-12-17T22:32:10+01:00",
    "2003-12-17T22:40:16+01:00",
    "2003-12-18T17:03:37+01:00",
    "2003-12-18T17:11:32+01:00",
    "2003-12-18T17:53:58+01:00",
    "2003-12-18T17:56:05+01:00",
    "2003-12-18T17:58:20+01:00",
    "2003-12-18T18:30:09+01:00",
    "2003-12-18T18:32:42+01:00",
    "2003-12-18T19:24:41+01:00",
    "2004-01-27T02:25:11+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ArrayIndexOutOfBoundsException",
      "message": "0",
      "elements": [
        {
          "method": "org.eclipse.ui.internal.ActionSetActionBars.findAlphabeticalOrder",
          "source": "ActionSetActionBars.java:262"
        },
        {
          "method": "org.eclipse.ui.internal.ActionSetActionBars.getToolBarManager",
          "source": "ActionSetActionBars.java:160"
        },
        {
          "method": "org.eclipse.ui.internal.PluginActionSetBuilder$ActionSetContribution.contributeCoolbarAction",
          "source": "PluginActionSetBuilder.java:347"
        },
        {
          "method": "org.eclipse.ui.internal.PluginActionSetBuilder$ActionSetContribution.contribute",
          "source": "PluginActionSetBuilder.java:272"
        },
        {
          "method": "org.eclipse.ui.internal.PluginActionSetBuilder.readActionExtensions",
          "source": "PluginActionSetBuilder.java:213"
        },
        {
          "method": "org.eclipse.ui.internal.PluginActionSetBuilder.processActionSets",
          "source": "PluginActionSetBuilder.java:176"
        },
        {
          "method": "org.eclipse.ui.internal.ActionPresentation.setActionSets",
          "source": "ActionPresentation.java:155"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.updateActionSets",
          "source": "WorkbenchWindow.java:1993"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow$6.run",
          "source": "WorkbenchWindow.java:1766"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:84"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.setActivePage",
          "source": "WorkbenchWindow.java:1741"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.busyOpenPage",
          "source": "WorkbenchWindow.java:579"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow$5.run",
          "source": "WorkbenchWindow.java:1099"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:84"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchWindow.openPage",
          "source": "WorkbenchWindow.java:1096"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.openFirstTimeWindow",
          "source": "Workbench.java:1142"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.init",
          "source": "Workbench.java:875"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1459"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:246"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:139"
        },
        {
          "method": "org.eclipse.recipe.RecipeWorkbench.run",
          "source": "RecipeWorkbench.java:15"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:233"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:281"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:744"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:583"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "49088",
      "date": "2003-12-17T22:30:32+01:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "49088",
  "bugId": "49088",
  "date": "2003-12-17T22:30:32+01:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}