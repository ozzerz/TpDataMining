{
  "comments": [
    "Build ID: I20070601-1539\n\nSteps To Reproduce:\n1.Set Web Page Editor as JSP default editor.\n2.Open a JSP page.\n3.Or open a JSPF page too.\n\n\nMore information:\nThis is the exception throwed:\n\njava.lang.ClassCastException: org.apache.xerces.jaxp.DocumentBuilderFactoryImpl cannot be cast to javax.xml.parsers.DocumentBuilderFactory\n\tat javax.xml.parsers.DocumentBuilderFactory.newInstance(Unknown Source)\n\tat org.eclipse.jst.jsp.core.internal.util.CommonXML.getDocumentBuilder(CommonXML.java:48)\n\tat org.eclipse.jst.jsp.core.internal.util.DocumentProvider.getDocumentBuilder(DocumentProvider.java:144)\n\tat org.eclipse.jst.jsp.core.internal.util.DocumentProvider._getParsedDocumentDOM2(DocumentProvider.java:83)\n\tat org.eclipse.jst.jsp.core.internal.util.DocumentProvider.getParsedDocument(DocumentProvider.java:334)\n\tat org.eclipse.jst.jsp.core.internal.util.DocumentProvider.load(DocumentProvider.java:392)\n\tat org.eclipse.jst.jsp.core.internal.util.DocumentProvider.getDocument(DocumentProvider.java:139)\n\tat org.eclipse.jst.jsp.core.internal.util.DocumentProvider.getDocument(DocumentProvider.java:134)\n\tat org.eclipse.jst.jsp.core.internal.util.DocumentProvider.getRootElement(DocumentProvider.java:346)\n\tat org.eclipse.jst.jsp.core.taglib.ProjectDescription.extractInfo(ProjectDescription.java:904)\n\tat org.eclipse.jst.jsp.core.taglib.ProjectDescription.updateClasspathLibrary(ProjectDescription.java:1857)\n\tat org.eclipse.jst.jsp.core.taglib.ProjectDescription.indexClasspath(ProjectDescription.java:1290)\n\tat org.eclipse.jst.jsp.core.taglib.ProjectDescription.indexClasspath(ProjectDescription.java:1356)\n\tat org.eclipse.jst.jsp.core.taglib.ProjectDescription.indexClasspath(ProjectDescription.java:1248)\n\tat org.eclipse.jst.jsp.core.taglib.ProjectDescription.ensureUpTodate(ProjectDescription.java:891)\n\tat org.eclipse.jst.jsp.core.taglib.ProjectDescription.getAvailableTaglibRecords(ProjectDescription.java:943)\n\tat org.eclipse.jst.jsp.core.taglib.TaglibIndex.internalGetAvailableTaglibRecords(TaglibIndex.java:768)\n\tat org.eclipse.jst.jsp.core.taglib.TaglibIndex.getAvailableTaglibRecords(TaglibIndex.java:437)\n\tat org.eclipse.jst.pagedesigner.editors.palette.impl.PaletteItemManager.registerTldFromClasspath(PaletteItemManager.java:200)\n\tat org.eclipse.jst.pagedesigner.editors.palette.impl.PaletteItemManager.initFromProject(PaletteItemManager.java:179)\n\tat org.eclipse.jst.pagedesigner.editors.palette.impl.PaletteItemManager.init(PaletteItemManager.java:145)\n\tat org.eclipse.jst.pagedesigner.editors.palette.impl.PaletteItemManager.\u003cinit\u003e(PaletteItemManager.java:125)\n\tat org.eclipse.jst.pagedesigner.editors.palette.impl.PaletteItemManager.getInstance(PaletteItemManager.java:71)\n\tat org.eclipse.jst.pagedesigner.editors.palette.DesignerPaletteRootFactory.createPaletteRoot(DesignerPaletteRootFactory.java:94)\n\tat org.eclipse.jst.pagedesigner.editors.SimpleGraphicalEditor.getPaletteRoot(SimpleGraphicalEditor.java:456)\n\tat org.eclipse.gef.ui.parts.GraphicalEditorWithFlyoutPalette.setEditDomain(GraphicalEditorWithFlyoutPalette.java:143)\n\tat org.eclipse.jst.pagedesigner.editors.SimpleGraphicalEditor.\u003cinit\u003e(SimpleGraphicalEditor.java:142)\n\tat org.eclipse.jst.pagedesigner.editors.HTMLEditor.sash_createAndAddDesignSourcePage(HTMLEditor.java:202)\n\tat org.eclipse.jst.pagedesigner.editors.HTMLEditor.createPages(HTMLEditor.java:370)\n\tat org.eclipse.ui.part.MultiPageEditorPart.createPartControl(MultiPageEditorPart.java:283)\n\tat org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:661)\n\tat org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:426)\n\tat org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:592)\n\tat org.eclipse.ui.internal.EditorReference.getEditor(EditorReference.java:263)\n\tat org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched(WorkbenchPage.java:2721)\n\tat org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2633)\n\tat org.eclipse.ui.internal.WorkbenchPage.access$12(WorkbenchPage.java:2625)\n\tat org.eclipse.ui.internal.WorkbenchPage$10.run(WorkbenchPage.java:2577)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)",
    "Please review to see if this belongs to JSP",
    "The last JSF method call in the stacktrace is org.eclipse.jst.pagedesigner.editors.palette.impl.PaletteItemManager.registerTldFromClasspath(PaletteItemManager.java:200). From here, functionality in the jst.jsp component is entered. There would appear to be a problem with jst.jsp\u0027s ability to open an XML document (probably a TLD?).\n\nI\u0027d need to know more about the TLDs contained in the JARs on the classpath to understand why jst.jsp is failing, so that I could understand if it\u0027s a condition from which JSF code should recover gracefully or if it should be handled at a higher level (jst.jsp).",
    "Looking at the exception more closely, it\u0027s not even an XML parse issue, it\u0027s a ClassCastException when trying to treat org.apache.xerces.jaxp.DocumentBuilderFactoryImpl as a javax.xml.parsers.DocumentBuilderFactory. Possibly a version mis-match issue?\n\nDefinitely should be addressed (or at least investigated further) as an issue in the jst.jsp component.",
    "For review by the JSP team.",
    "David, was this a packaging problem with just that build, possibly having multiple DOM APIs in the bundle prereqs?  Marcos, are you still seeing this problem with the final 2.0 build?"
  ],
  "commentCreationDates": [
    "2007-07-03T19:09:28+02:00",
    "2007-07-03T22:36:27+02:00",
    "2007-07-03T23:21:17+02:00",
    "2007-07-03T23:29:15+02:00",
    "2007-07-04T01:22:19+02:00",
    "2007-07-06T10:03:24+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.apache.xerces.jaxp.DocumentBuilderFactoryImpl cannot be cast to javax.xml.parsers.DocumentBuilderFactory",
      "elements": [
        {
          "method": "javax.xml.parsers.DocumentBuilderFactory.newInstance",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jst.jsp.core.internal.util.CommonXML.getDocumentBuilder",
          "source": "CommonXML.java:48"
        },
        {
          "method": "org.eclipse.jst.jsp.core.internal.util.DocumentProvider.getDocumentBuilder",
          "source": "DocumentProvider.java:144"
        },
        {
          "method": "org.eclipse.jst.jsp.core.internal.util.DocumentProvider._getParsedDocumentDOM2",
          "source": "DocumentProvider.java:83"
        },
        {
          "method": "org.eclipse.jst.jsp.core.internal.util.DocumentProvider.getParsedDocument",
          "source": "DocumentProvider.java:334"
        },
        {
          "method": "org.eclipse.jst.jsp.core.internal.util.DocumentProvider.load",
          "source": "DocumentProvider.java:392"
        },
        {
          "method": "org.eclipse.jst.jsp.core.internal.util.DocumentProvider.getDocument",
          "source": "DocumentProvider.java:139"
        },
        {
          "method": "org.eclipse.jst.jsp.core.internal.util.DocumentProvider.getDocument",
          "source": "DocumentProvider.java:134"
        },
        {
          "method": "org.eclipse.jst.jsp.core.internal.util.DocumentProvider.getRootElement",
          "source": "DocumentProvider.java:346"
        },
        {
          "method": "org.eclipse.jst.jsp.core.taglib.ProjectDescription.extractInfo",
          "source": "ProjectDescription.java:904"
        },
        {
          "method": "org.eclipse.jst.jsp.core.taglib.ProjectDescription.updateClasspathLibrary",
          "source": "ProjectDescription.java:1857"
        },
        {
          "method": "org.eclipse.jst.jsp.core.taglib.ProjectDescription.indexClasspath",
          "source": "ProjectDescription.java:1290"
        },
        {
          "method": "org.eclipse.jst.jsp.core.taglib.ProjectDescription.indexClasspath",
          "source": "ProjectDescription.java:1356"
        },
        {
          "method": "org.eclipse.jst.jsp.core.taglib.ProjectDescription.indexClasspath",
          "source": "ProjectDescription.java:1248"
        },
        {
          "method": "org.eclipse.jst.jsp.core.taglib.ProjectDescription.ensureUpTodate",
          "source": "ProjectDescription.java:891"
        },
        {
          "method": "org.eclipse.jst.jsp.core.taglib.ProjectDescription.getAvailableTaglibRecords",
          "source": "ProjectDescription.java:943"
        },
        {
          "method": "org.eclipse.jst.jsp.core.taglib.TaglibIndex.internalGetAvailableTaglibRecords",
          "source": "TaglibIndex.java:768"
        },
        {
          "method": "org.eclipse.jst.jsp.core.taglib.TaglibIndex.getAvailableTaglibRecords",
          "source": "TaglibIndex.java:437"
        },
        {
          "method": "org.eclipse.jst.pagedesigner.editors.palette.impl.PaletteItemManager.registerTldFromClasspath",
          "source": "PaletteItemManager.java:200"
        },
        {
          "method": "org.eclipse.jst.pagedesigner.editors.palette.impl.PaletteItemManager.initFromProject",
          "source": "PaletteItemManager.java:179"
        },
        {
          "method": "org.eclipse.jst.pagedesigner.editors.palette.impl.PaletteItemManager.init",
          "source": "PaletteItemManager.java:145"
        },
        {
          "method": "org.eclipse.jst.pagedesigner.editors.palette.impl.PaletteItemManager.\u003cinit\u003e",
          "source": "PaletteItemManager.java:125"
        },
        {
          "method": "org.eclipse.jst.pagedesigner.editors.palette.impl.PaletteItemManager.getInstance",
          "source": "PaletteItemManager.java:71"
        },
        {
          "method": "org.eclipse.jst.pagedesigner.editors.palette.DesignerPaletteRootFactory.createPaletteRoot",
          "source": "DesignerPaletteRootFactory.java:94"
        },
        {
          "method": "org.eclipse.jst.pagedesigner.editors.SimpleGraphicalEditor.getPaletteRoot",
          "source": "SimpleGraphicalEditor.java:456"
        },
        {
          "method": "org.eclipse.gef.ui.parts.GraphicalEditorWithFlyoutPalette.setEditDomain",
          "source": "GraphicalEditorWithFlyoutPalette.java:143"
        },
        {
          "method": "org.eclipse.jst.pagedesigner.editors.SimpleGraphicalEditor.\u003cinit\u003e",
          "source": "SimpleGraphicalEditor.java:142"
        },
        {
          "method": "org.eclipse.jst.pagedesigner.editors.HTMLEditor.sash_createAndAddDesignSourcePage",
          "source": "HTMLEditor.java:202"
        },
        {
          "method": "org.eclipse.jst.pagedesigner.editors.HTMLEditor.createPages",
          "source": "HTMLEditor.java:370"
        },
        {
          "method": "org.eclipse.ui.part.MultiPageEditorPart.createPartControl",
          "source": "MultiPageEditorPart.java:283"
        },
        {
          "method": "org.eclipse.ui.internal.EditorReference.createPartHelper",
          "source": "EditorReference.java:661"
        },
        {
          "method": "org.eclipse.ui.internal.EditorReference.createPart",
          "source": "EditorReference.java:426"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPartReference.getPart",
          "source": "WorkbenchPartReference.java:592"
        },
        {
          "method": "org.eclipse.ui.internal.EditorReference.getEditor",
          "source": "EditorReference.java:263"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched",
          "source": "WorkbenchPage.java:2721"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor",
          "source": "WorkbenchPage.java:2633"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.access$12",
          "source": "WorkbenchPage.java:2625"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage$10.run",
          "source": "WorkbenchPage.java:2577"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:67"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "195294",
      "date": "2007-07-03T19:09:28+02:00",
      "product": "Web Tools",
      "component": "jst.jsp",
      "severity": "normal"
    }
  ],
  "groupId": "195294",
  "bugId": "195294",
  "date": "2007-07-03T19:09:28+02:00",
  "product": "Web Tools",
  "component": "jst.jsp",
  "severity": "normal"
}