{
  "comments": [
    "Found this in my log:\n\n!ENTRY org.eclipse.ui 4 4 Feb 19, 2003 15:19:03.358\n!MESSAGE Unhandled exception caught in event loop.\n!ENTRY org.eclipse.ui 4 0 Feb 19, 2003 15:19:03.508\n!MESSAGE Failed to execute runnable (java.lang.NullPointerException)\n!STACK 0\norg.eclipse.swt.SWTException: Failed to execute runnable \n(java.lang.NullPointerException)\n\tat org.eclipse.swt.SWT.error(SWT.java:2316)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages\n(Synchronizer.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java\n(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java\n(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1271)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:845)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:247)\n\tat org.eclipse.core.launcher.Main.run(Main.java:703)\n\tat org.eclipse.core.launcher.Main.main(Main.java:539)\n!ENTRY org.eclipse.ui 4 4 Feb 19, 2003 15:19:07.314\n!MESSAGE \n*** Stack trace of contained exception ***\n!ENTRY org.eclipse.ui 4 0 Feb 19, 2003 15:19:07.594\n!MESSAGE java.lang.NullPointerException\n!STACK 0\njava.lang.NullPointerException\n\tat org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.canSuspend\n(JDIDebugTarget.java(Compiled Code))\n\tat \norg.eclipse.debug.internal.ui.actions.SuspendActionDelegate.isEnabledFor\n(SuspendActionDelegate.java(Compiled Code))\n\tat \norg.eclipse.debug.internal.ui.actions.AbstractDebugActionDelegate.getEnableState\nForSelection(AbstractDebugActionDelegate.java(Compiled Code))\n\tat \norg.eclipse.debug.internal.ui.actions.AbstractDebugActionDelegate.update\n(AbstractDebugActionDelegate.java(Compiled Code))\n\tat \norg.eclipse.debug.internal.ui.actions.AbstractListenerActionDelegate.doHandleDeb\nugEvent(AbstractListenerActionDelegate.java(Compiled Code))\n\tat \norg.eclipse.debug.internal.ui.actions.AbstractListenerActionDelegate$1.run\n(AbstractListenerActionDelegate.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages\n(Synchronizer.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages\n(Synchronizer.java(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java\n(Compiled Code))\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java\n(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java\n(Compiled Code))\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1271)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:845)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:247)\n\tat org.eclipse.core.launcher.Main.run(Main.java:703)\n\tat org.eclipse.core.launcher.Main.main(Main.java:539)",
    "I don\u0027t understand how we can get an NPE in this code. The only objects that\nare passed messages here are elements in an array that is generated from an\nArrayList. I\u0027ve looked at all references to the list and the only items that\nare added are items that are explicitly created via \"new\".\n\nThe only thing I can imagine is that an item was removed from the List while\nthe list was being converted to an array and a null value got put into the\narray. Is that even possible?",
    "That was the same as my conclusion - but I did not think it was possible. \nClosing for now, unless it becomes reproduceable. The other thought I had was a \nJIT bug.",
    "I studied the code and get the same conclusion as yours, there is no \u0027null\u0027\nelement added to the list, so we shouldn\u0027t get any \u0027null\u0027 in the array.\n\nI checked the documentation of Collection#toArray(Object[]), it says that if the\nsize of the given array is bigger than the number of element in the list, the \nextra spots of the array will be fill with \u0027null\u0027.\n\nSo, what happens is, one thread (or more) has been unlikely removed from the\nlist between the execution of threads.getSize() and the execution of\nthreads.toArray(...).",
    "Fixed.\n\nReplaced \u0027new IThread[threads.getSize()]\u0027 by \u0027new IThread[0]\u0027 in\nJDIDebugTarget#getThreads().",
    "I disagree - the list of threads is a copy of the threads -\u003e not the underlying \nthreads. the List size will not change.",
    "Oops. I lied, the list is the underlying list. ",
    "Fixed.",
    "Verified."
  ],
  "commentCreationDates": [
    "2003-02-19T21:44:23+01:00",
    "2003-02-20T16:20:56+01:00",
    "2003-02-20T16:27:30+01:00",
    "2003-02-20T16:57:04+01:00",
    "2003-02-20T16:59:22+01:00",
    "2003-02-20T17:03:20+01:00",
    "2003-02-20T17:04:05+01:00",
    "2003-02-20T17:06:17+01:00",
    "2003-02-20T17:06:30+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Failed to execute runnable  (java.lang.NullPointerException)",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2316"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1271"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:247"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:703"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:539"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "32291",
      "date": "2003-02-19T21:44:23+01:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.canSuspend",
          "source": "JDIDebugTarget.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.debug.internal.ui.actions.SuspendActionDelegate.isEnabledFor",
          "source": "SuspendActionDelegate.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.debug.internal.ui.actions.AbstractDebugActionDelegate.getEnableStateForSelection",
          "source": "AbstractDebugActionDelegate.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.debug.internal.ui.actions.AbstractDebugActionDelegate.update",
          "source": "AbstractDebugActionDelegate.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.debug.internal.ui.actions.AbstractListenerActionDelegate.doHandleDebugEvent",
          "source": "AbstractListenerActionDelegate.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.debug.internal.ui.actions.AbstractListenerActionDelegate$1.run",
          "source": "AbstractListenerActionDelegate.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java(Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java (Compiled Code)"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1271"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:247"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:703"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:539"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "32291",
      "date": "2003-02-19T21:44:23+01:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "32291",
  "bugId": "32291",
  "date": "2003-02-19T21:44:23+01:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "normal"
}