{
  "comments": [
    "PROBLEM:\n\nIt appears to me that there is some memory problems with eclipse swt library. \nIt causes problem with clearcase based version tree browser and clearcase file \nbrowser. \n\nThis problem only happens to RHE3W. It does not happen to SLES9.0 (SUSE).\n\nIMPACT ANALYSIS:\nI did some impact analysis about this problem. It is by no mean complete but \ndo provide some info.\n1) It only happens to eclipse navigator view, not eclipse package explorer \nview. So not all eclipse viewers are affected, some may not. About how many of \nthem getting affected is still unknown.\n\n2) It only happens to clearcase based version tree browser (xlsvtree or \nxclearcase -vtree) and clearcase file browser (xclearcase). It does not happen \nto cleartool, history browser (clearhistory), and clearcase merge manager \n(clearmrgman) \n\nNOTE:\nI did not know who should this defect be sent to and I did not know whether \nthis should be fixed from clearcase side or eclipse side. I created a defect \nto clearcase plugin group first (RATLC00534115). After analysis, John P \nPetrakis/Lexington/IBM@IBMUS (from clearcase plugin team) told me that this is \nSWT bug and asked me to create a new defect to SWT group.  \n\n\n\nCOMMENTS from John P Petrakis/Lexington/IBM@IBMUS about the PROBLEM:\n\nI am fairly confident that this is a bug in eclipse/swt.  Here is why:\n1) I downloaded and installed eclipse-platform-SDK-M20050216-linux-gtk.zip, \nand installed the cc plugin.\n2) Following your procedure, I reproduced the problem this morning... using a \nnon-j9 enabled IBM jvm.\n3) I uninstalled the ccplugin and got the same problem... in other words, it \nhappend without the cc plug in, so it is not a problem with the plug in.\n4) I then switched to Sun\u0027s JVM (1.4.2_04-b05) and got the same problem.\n\nThis is curcumstantial evidence that it is in eclipse, probably swt.  You do \nrealize that there are more recent builds of eclipse 3.0.2... I used the \nlatest motif build yesterday since the gtk build seems to not be up to spec \n(it had a red \"X\" next to it).\n\nIBM JVM I used is:\njava version \"1.4.2\"\nJava(TM) 2 Runtime Environment, Standard Edition (build 1.4.2)\nClassic VM (build 1.4.2, J2RE 1.4.2 IBM build cxia32142ifx-20041203 \n(142SR1+80507) (JIT enabled: jitc))\n\nI do not believe that the problem is with XClearCase executables... the other \nthing I noted was that in the console I ran eclipse from, the following \nmessage appeard:\n\nFrom the IBM JVM:\nJVMST100: Unable to allocate an array object, Array element exceedes IBM JDK \nlimit of 268435455 elements\nUnhandled event loop exception\nReason:\n\nFrom Sun\u0027s JVM:\nUnhandled event loop exception\nReason:\njava.lang.OutOfMemoryError\n\nThis makes me think it\u0027s an SWT bug... \n\nJohn\n\n\n\n\nSTEPS to REPRODUCE:\n\n1) Start Eclipse, go to Navigator view, create a simple project named \nproject1. Add a java file under it named test1.java (No need to share this \nproject with clearcase view)\n\n2) There is a clearcase VOB with a snapshot view (view1) in it. There is a \njava file under the souce control named test2.java\n\n3) From command line, type \"xclearcase\" to start linux clearcase file browser.\n\n4) From clearcase file browser, navigate to view1. select test2.java, \n\n5) From clearcase file browser, select Version-\u003eDiff-\u003eSelected vs predecessor\n\n6) clearcase xcompare editor shows up.\n\n7) Go back to Eclipse, From navigator view, double-click on test1.java to open \nthe file. A dialog shows up saying Eclipse is out of memory. Also, in error \nlog view, I got an out of memory exception. Below is the exception stack.\n\nNote:\nIf I close clearcase file browser and try to open test1.java again. The \nproblem does not happen.\nIf I try to open test1.java from package explorer view rather than navigator \nview, the problem does not happen.\n\n\nEXCEPTION STACKS:\n\njava.lang.OutOfMemoryError\n\tat org.eclipse.ui.part.ResourceTransfer.nativeToJava\n(ResourceTransfer.java:147)\n\tat org.eclipse.swt.dnd.Clipboard.getContents(Clipboard.java:212)\n\tat org.eclipse.ui.views.navigator.PasteAction$1.run\n(PasteAction.java:167)\n\tat org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:135)\n\tat org.eclipse.ui.internal.UISynchronizer.syncExec\n(UISynchronizer.java:25)\n\tat org.eclipse.swt.widgets.Display.syncExec(Display.java:3022)\n\tat org.eclipse.ui.views.navigator.PasteAction.updateSelection\n(PasteAction.java:163)\n\tat org.eclipse.ui.actions.BaseSelectionListenerAction.selectionChanged\n(BaseSelectionListenerAction.java:123)\n\tat org.eclipse.ui.views.navigator.RefactorActionGroup.updateActionBars\n(RefactorActionGroup.java:143)\n\tat org.eclipse.ui.views.navigator.MainActionGroup.updateActionBars\n(MainActionGroup.java:283)\n\tat org.eclipse.ui.views.navigator.ResourceNavigator.updateActionBars\n(ResourceNavigator.java:1151)\n\tat \norg.eclipse.ui.views.navigator.ResourceNavigator.handleSelectionChanged\n(ResourceNavigator.java:656)\n\tat org.eclipse.ui.views.navigator.ResourceNavigator$4.selectionChanged\n(ResourceNavigator.java:378)\n\tat org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:159)\n\tat org.eclipse.core.internal.runtime.InternalPlatform.run\n(InternalPlatform.java:616)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:747)\n\tat org.eclipse.jface.viewers.Viewer.fireSelectionChanged\n(Viewer.java:157)\n\tat org.eclipse.jface.viewers.StructuredViewer.updateSelection\n(StructuredViewer.java:1394)\n\tat org.eclipse.jface.viewers.StructuredViewer.handleSelect\n(StructuredViewer.java:693)\n\tat org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected\n(StructuredViewer.java:718)\n\tat org.eclipse.jface.util.OpenStrategy.fireSelectionEvent\n(OpenStrategy.java:180)\n\tat org.eclipse.jface.util.OpenStrategy.access$3(OpenStrategy.java:175)\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent\n(OpenStrategy.java:324)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:954)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2595)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2298)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1377)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1348)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench\n(Workbench.java:254)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run\n(IDEApplication.java:96)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run\n(PlatformActivator.java:335)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:273)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run\n(EclipseStarter.java:129)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:85)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:58)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:60)\n\tat java.lang.reflect.Method.invoke(Method.java:391)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\n\tat org.eclipse.core.launcher.Main.run(Main.java:704)\n\tat org.eclipse.core.launcher.Main.main(Main.java:688)\n\n\n\nBUILD INFO:\n1) cleartool -ver\nClearCase version 2003.06.00 (Tue Dec 16 21:15:58 EST 2003)\nTEST_clearcase_p2003.06.00-10 (Mon Aug 09 14:20:45 EDT 2004)\nTEST_clearcase_p2003.06.00-11 (Mon Aug 09 15:46:25 EDT 2004)\n@(#) MVFS version 2003.06.10 (Wed Aug  4 14:36:36 EDT 2004) VNODE built $Date: \n2004-08-13.16:12:23 (UTC) $\ncleartool                         2003.06.10+ (Sun Jun 20 11:11:34 EDT 2004)\ndb_server                         2003.06.10+ (Sun Jun 20 14:08:42 EDT 2004)\n\n\n2)  Eclipse\neclipse-platform-SDK-M20050216-linux-gtk.zip\nibm-java2-ws-jre-pj9xia32142-20040928a.tar.gz\n\n\n3) Redhat Enterprise Edition 3W",
    "Sorry but if Java is running out of memory, there\u0027s not much SWT can do about \nit.  Try running your code again and increasing Java memory size using the \"-\nXmx????m\" flag.",
    "Increasing memory with vm args does not solve the problem. Note: the problem \nwas first found from testing of Rational Software Modeler/ClearCase \nintegration. Then the defect was logged to clearcase plugin team (RATLC ID: \nRATLC00534115) from IBM. The defect was reproducible there by John P \nPetrakis/Lexington/IBM@IBMUS. After analysing the defect, John said that the \nproblem was SWT related.\n\nPlease try to reproduce the problem following the instruction. and let me know \nif you can\u0027t reproduce it. \n",
    "Vikki, could you please take a look at ResourceTransfer.nativeToJava to see if \nthey are allocating too much memory, perhaps because they have a bogus size?",
    "We failed to get to this one.  I\u0027m closing as WONTFIX for now."
  ],
  "commentCreationDates": [
    "2005-03-22T17:35:50+01:00",
    "2005-04-07T22:22:58+02:00",
    "2005-04-07T22:41:40+02:00",
    "2005-04-07T23:54:03+02:00",
    "2007-06-15T00:10:56+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.OutOfMemoryError",
      "elements": [
        {
          "method": "org.eclipse.ui.part.ResourceTransfer.nativeToJava",
          "source": "ResourceTransfer.java:147"
        },
        {
          "method": "org.eclipse.swt.dnd.Clipboard.getContents",
          "source": "Clipboard.java:212"
        },
        {
          "method": "org.eclipse.ui.views.navigator.PasteAction$1.run",
          "source": "PasteAction.java:167"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.syncExec",
          "source": "Synchronizer.java:135"
        },
        {
          "method": "org.eclipse.ui.internal.UISynchronizer.syncExec",
          "source": "UISynchronizer.java:25"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.syncExec",
          "source": "Display.java:3022"
        },
        {
          "method": "org.eclipse.ui.views.navigator.PasteAction.updateSelection",
          "source": "PasteAction.java:163"
        },
        {
          "method": "org.eclipse.ui.actions.BaseSelectionListenerAction.selectionChanged",
          "source": "BaseSelectionListenerAction.java:123"
        },
        {
          "method": "org.eclipse.ui.views.navigator.RefactorActionGroup.updateActionBars",
          "source": "RefactorActionGroup.java:143"
        },
        {
          "method": "org.eclipse.ui.views.navigator.MainActionGroup.updateActionBars",
          "source": "MainActionGroup.java:283"
        },
        {
          "method": "org.eclipse.ui.views.navigator.ResourceNavigator.updateActionBars",
          "source": "ResourceNavigator.java:1151"
        },
        {
          "method": "org.eclipse.ui.views.navigator.ResourceNavigator.handleSelectionChanged",
          "source": "ResourceNavigator.java:656"
        },
        {
          "method": "org.eclipse.ui.views.navigator.ResourceNavigator$4.selectionChanged",
          "source": "ResourceNavigator.java:378"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer$2.run",
          "source": "Viewer.java:159"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:616"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:747"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer.fireSelectionChanged",
          "source": "Viewer.java:157"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateSelection",
          "source": "StructuredViewer.java:1394"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleSelect",
          "source": "StructuredViewer.java:693"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected",
          "source": "StructuredViewer.java:718"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireSelectionEvent",
          "source": "OpenStrategy.java:180"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$3",
          "source": "OpenStrategy.java:175"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "OpenStrategy.java:324"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:954"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2595"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2298"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1377"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1348"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:254"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:141"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:96"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:335"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:273"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:85"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:58"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:60"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:391"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:704"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:688"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "88773",
      "date": "2005-03-22T17:35:50+01:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "major"
    }
  ],
  "groupId": "88773",
  "bugId": "88773",
  "date": "2005-03-22T17:35:50+01:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "major"
}