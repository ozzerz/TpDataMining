{
  "comments": [
    "Can\u0027t create a WSDL message in WSDL editor in the following Stockquote.wsdl file.\nhere is stack trace:\n------------- \njava.lang.NullPointerException\n\tat org.eclipse.wst.xsd.contentmodel.internal.XSDImpl.isTypeDerivedFrom(XSDImpl.java:467)\n\tat org.eclipse.wst.xsd.contentmodel.internal.XSDImpl.isTypeDerivedFrom(XSDImpl.java:480)\n\tat org.eclipse.wst.xsd.contentmodel.internal.XSDImpl.isTypeDerivedFrom(XSDImpl.java:480)\n\tat org.eclipse.wst.xsd.contentmodel.internal.XSDImpl.findTypesDerivedFrom(XSDImpl.java:431)\n\tat org.eclipse.wst.xsd.contentmodel.internal.XSDImpl$XSDElementDeclarationAdapter.computeDerivedTypeInfoHelper(XSDImpl.java:2041)\n\tat org.eclipse.wst.xsd.contentmodel.internal.XSDImpl$XSDElementDeclarationAdapter.computeDerivedTypeInfo(XSDImpl.java:2034)\n\tat org.eclipse.wst.xsd.contentmodel.internal.XSDImpl$XSDElementDeclarationAdapter.getXSITypes(XSDImpl.java:2025)\n\tat org.eclipse.wst.xsd.contentmodel.internal.XSDImpl$ElementDeclarationBaseImpl.addXSITypeAttribute(XSDImpl.java:1739)\n\tat org.eclipse.wst.xsd.contentmodel.internal.XSDImpl$ElementDeclarationBaseImpl.getAttributes(XSDImpl.java:1451)\n\tat org.eclipse.wst.xml.core.internal.document.AttrImpl.getDeclaration(AttrImpl.java:91)\n\tat org.eclipse.wst.xml.core.internal.document.CMNodeUtil.getAttributeDeclaration(CMNodeUtil.java:32)\n\tat org.eclipse.wst.xml.core.internal.document.XMLGeneratorImpl.generateAttrName(XMLGeneratorImpl.java:109)\n\tat org.eclipse.wst.xml.core.internal.document.XMLModelUpdater.replaceAttr(XMLModelUpdater.java:1326)\n\tat org.eclipse.wst.xml.core.internal.document.DOMModelImpl.attrReplaced(DOMModelImpl.java:110)\n\tat org.eclipse.wst.xml.core.internal.document.ElementImpl.notifyAttrReplaced(ElementImpl.java:916)\n\tat org.eclipse.wst.xml.core.internal.document.ElementImpl.appendAttributeNode(ElementImpl.java:172)\n\tat org.eclipse.wst.xml.core.internal.document.ElementImpl.setAttributeNS(ElementImpl.java:1273)\n\tat org.eclipse.wst.wsdl.internal.impl.WSDLElementImpl.niceSetAttribute(WSDLElementImpl.java:1236)\n\tat org.eclipse.wst.wsdl.internal.impl.MessageImpl.changeAttribute(MessageImpl.java:595)\n\tat org.eclipse.wst.wsdl.internal.impl.WSDLElementImpl.updateElement(WSDLElementImpl.java:1022)\n\tat org.eclipse.wst.wsdl.internal.impl.WSDLElementImpl.adoptContent(WSDLElementImpl.java:638)\n\tat org.eclipse.wst.wsdl.internal.impl.WSDLElementImpl.eNotify(WSDLElementImpl.java:380)\n\tat org.eclipse.wst.wsdl.internal.impl.DefinitionImpl.eNotify(DefinitionImpl.java:505)\n\tat org.eclipse.emf.common.notify.impl.NotificationChainImpl.dispatch(NotificationChainImpl.java:113)\n\tat org.eclipse.emf.common.notify.impl.NotificationChainImpl.dispatch(NotificationChainImpl.java:101)\n\tat org.eclipse.emf.common.notify.impl.NotifyingListImpl.addUnique(NotifyingListImpl.java:288)\n\tat org.eclipse.emf.common.util.BasicEList.add(BasicEList.java:599)\n\tat org.eclipse.wst.wsdl.internal.impl.DefinitionImpl.addMessage(DefinitionImpl.java:568)\n\tat org.eclipse.wst.wsdl.ui.internal.commands.AddMessageCommand.run(AddMessageCommand.java:71)\n\tat org.eclipse.wst.wsdl.ui.internal.actions.AddMessageAction.performAddElement(WSDLMenuActionContributor.java:925)\n\tat org.eclipse.wst.wsdl.ui.internal.actions.AddElementAction.run(AddElementAction.java:100)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:492)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:530)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:480)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:392)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:914)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3285)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2905)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1762)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1726)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:397)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:109)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:379)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:338)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:282)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)\n\n----------------\n\nWSDL file\n-----------------------\n\u003c?xml version\u003d\"1.0\"?\u003e\n\u003cdefinitions name\u003d\"StockQuote\"\n\ntargetNamespace\u003d\"http://example.com/stockquote.wsdl\"\n          xmlns:tns\u003d\"http://example.com/stockquote.wsdl\"\n          xmlns:xsd1\u003d\"http://example.com/stockquote.xsd\"\n          xmlns:soap\u003d\"http://schemas.xmlsoap.org/wsdl/soap/\"\n          xmlns\u003d\"http://schemas.xmlsoap.org/wsdl/\"\u003e\n\n    \u003ctypes\u003e\n       \u003cschema targetNamespace\u003d\"http://example.com/stockquote.xsd\"\n              xmlns\u003d\"http://www.w3.org/2000/10/XMLSchema\"\u003e\n           \u003celement name\u003d\"TradePriceRequest\"\u003e\n              \u003ccomplexType\u003e\n                  \u003call\u003e\n                      \u003celement name\u003d\"tickerSymbol\" type\u003d\"string\"/\u003e\n                  \u003c/all\u003e\n              \u003c/complexType\u003e\n           \u003c/element\u003e\n           \u003celement name\u003d\"TradePrice\"\u003e\n              \u003ccomplexType\u003e\n                  \u003call\u003e\n                      \u003celement name\u003d\"price\" type\u003d\"float\"/\u003e\n                  \u003c/all\u003e\n              \u003c/complexType\u003e\n           \u003c/element\u003e\n       \u003c/schema\u003e\n    \u003c/types\u003e\n\n    \u003cmessage name\u003d\"GetLastTradePriceInput\"\u003e\n        \u003cpart name\u003d\"body\" element\u003d\"xsd1:TradePriceRequest\"/\u003e\n    \u003c/message\u003e\n\n    \u003cmessage name\u003d\"GetLastTradePriceOutput\"\u003e\n        \u003cpart name\u003d\"body\" element\u003d\"xsd1:TradePrice\"/\u003e\n    \u003c/message\u003e\n\n    \u003cportType name\u003d\"StockQuotePortType\"\u003e\n        \u003coperation name\u003d\"GetLastTradePrice\"\u003e\n           \u003cinput message\u003d\"tns:GetLastTradePriceInput\"/\u003e\n           \u003coutput message\u003d\"tns:GetLastTradePriceOutput\"/\u003e\n        \u003c/operation\u003e\n    \u003c/portType\u003e\n\n    \u003cbinding name\u003d\"StockQuoteSoapBinding\" type\u003d\"tns:StockQuotePortType\"\u003e\n        \u003csoap:binding style\u003d\"document\" transport\u003d\"http://schemas.xmlsoap.org/soap/http\"/\u003e\n        \u003coperation name\u003d\"GetLastTradePrice\"\u003e\n           \u003csoap:operation soapAction\u003d\"http://example.com/GetLastTradePrice\"/\u003e\n           \u003cinput\u003e\n               \u003csoap:body use\u003d\"literal\"/\u003e\n           \u003c/input\u003e\n           \u003coutput\u003e\n               \u003csoap:body use\u003d\"literal\"/\u003e\n           \u003c/output\u003e\n        \u003c/operation\u003e\n    \u003c/binding\u003e\n\n    \u003cservice name\u003d\"StockQuoteService1\"\u003e\n        \u003cdocumentation\u003eMy first service\u003c/documentation\u003e\n        \u003cport name\u003d\"StockQuotePort1\" binding\u003d\"tns:StockQuoteSoapBinding\"\u003e\n           \u003csoap:address location\u003d\"http://example.com/stockquote\"/\u003e\n        \u003c/port\u003e\n    \u003c/service\u003e\n\n\u003c/definitions\u003e",
    "Created an attachment (id\u003d34638)\nPatch to fix the bug\n\nFor some reason, the code (in XSDImpl) to find supertypes of the type being added (tMessage) is suddenly live.\n\nI couln\u0027t find the offending commit, but the error is clear enough: isTypeDerivedFrom(\"xsd:any\", \"whateverNS\", \"whateverElem\") would give this NPE, since it clearly inquires the XSD model for a baseType and then calls into that blindly. The baseType of certain types (like xsd:anyType) is null.",
    "Created an attachment (id\u003d34640)\nTest plugin project which reproduces this bug\n\nI created this test plugin for wst.wsdl.ui in bug 112838, and extended it to cover this test.\n\nWhat is the procedure for adding test plugins - is there a minimum number of tests that need to be implemented before it is considered?\n",
    "Hi thanks for the test plugin.  We\u0027ll take a look at it.  Nope no minimum test case criteria ... any test is better than none (as long as it\u0027s a reliable JUnit  test).",
    "I\u0027ve committed and released the patch.  Looks very safe.  I\u0027m assigning to Valentin to look at the test to see if this can be easily added to our existing JUnits.\n\nNitin (cc\u0027d) this stack concerns me a bit.  I\u0027m rather spooked that calling ElementImpl.setAttributeNS would result in the SSE DOM eventually calling into the content model.  Is there a simple explanation for why this happens?",
    "This should be fixed now. Some plugin dependency changes need to occur in order to add a JUnit for this.  I\u0027d like to postpone doing that until after WTP 1.5 so I\u0027ve opened bug 141610 to track the JUnit requirement.",
    "Closing."
  ],
  "commentCreationDates": [
    "2006-02-07T20:13:23+01:00",
    "2006-02-14T01:39:51+01:00",
    "2006-02-14T02:26:47+01:00",
    "2006-02-23T06:15:33+01:00",
    "2006-05-10T08:44:09+02:00",
    "2006-05-12T20:55:29+02:00",
    "2006-09-22T05:38:01+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.wst.xsd.contentmodel.internal.XSDImpl.isTypeDerivedFrom",
          "source": "XSDImpl.java:467"
        },
        {
          "method": "org.eclipse.wst.xsd.contentmodel.internal.XSDImpl.isTypeDerivedFrom",
          "source": "XSDImpl.java:480"
        },
        {
          "method": "org.eclipse.wst.xsd.contentmodel.internal.XSDImpl.isTypeDerivedFrom",
          "source": "XSDImpl.java:480"
        },
        {
          "method": "org.eclipse.wst.xsd.contentmodel.internal.XSDImpl.findTypesDerivedFrom",
          "source": "XSDImpl.java:431"
        },
        {
          "method": "org.eclipse.wst.xsd.contentmodel.internal.XSDImpl$XSDElementDeclarationAdapter.computeDerivedTypeInfoHelper",
          "source": "XSDImpl.java:2041"
        },
        {
          "method": "org.eclipse.wst.xsd.contentmodel.internal.XSDImpl$XSDElementDeclarationAdapter.computeDerivedTypeInfo",
          "source": "XSDImpl.java:2034"
        },
        {
          "method": "org.eclipse.wst.xsd.contentmodel.internal.XSDImpl$XSDElementDeclarationAdapter.getXSITypes",
          "source": "XSDImpl.java:2025"
        },
        {
          "method": "org.eclipse.wst.xsd.contentmodel.internal.XSDImpl$ElementDeclarationBaseImpl.addXSITypeAttribute",
          "source": "XSDImpl.java:1739"
        },
        {
          "method": "org.eclipse.wst.xsd.contentmodel.internal.XSDImpl$ElementDeclarationBaseImpl.getAttributes",
          "source": "XSDImpl.java:1451"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.AttrImpl.getDeclaration",
          "source": "AttrImpl.java:91"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.CMNodeUtil.getAttributeDeclaration",
          "source": "CMNodeUtil.java:32"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.XMLGeneratorImpl.generateAttrName",
          "source": "XMLGeneratorImpl.java:109"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.XMLModelUpdater.replaceAttr",
          "source": "XMLModelUpdater.java:1326"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.DOMModelImpl.attrReplaced",
          "source": "DOMModelImpl.java:110"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.ElementImpl.notifyAttrReplaced",
          "source": "ElementImpl.java:916"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.ElementImpl.appendAttributeNode",
          "source": "ElementImpl.java:172"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.ElementImpl.setAttributeNS",
          "source": "ElementImpl.java:1273"
        },
        {
          "method": "org.eclipse.wst.wsdl.internal.impl.WSDLElementImpl.niceSetAttribute",
          "source": "WSDLElementImpl.java:1236"
        },
        {
          "method": "org.eclipse.wst.wsdl.internal.impl.MessageImpl.changeAttribute",
          "source": "MessageImpl.java:595"
        },
        {
          "method": "org.eclipse.wst.wsdl.internal.impl.WSDLElementImpl.updateElement",
          "source": "WSDLElementImpl.java:1022"
        },
        {
          "method": "org.eclipse.wst.wsdl.internal.impl.WSDLElementImpl.adoptContent",
          "source": "WSDLElementImpl.java:638"
        },
        {
          "method": "org.eclipse.wst.wsdl.internal.impl.WSDLElementImpl.eNotify",
          "source": "WSDLElementImpl.java:380"
        },
        {
          "method": "org.eclipse.wst.wsdl.internal.impl.DefinitionImpl.eNotify",
          "source": "DefinitionImpl.java:505"
        },
        {
          "method": "org.eclipse.emf.common.notify.impl.NotificationChainImpl.dispatch",
          "source": "NotificationChainImpl.java:113"
        },
        {
          "method": "org.eclipse.emf.common.notify.impl.NotificationChainImpl.dispatch",
          "source": "NotificationChainImpl.java:101"
        },
        {
          "method": "org.eclipse.emf.common.notify.impl.NotifyingListImpl.addUnique",
          "source": "NotifyingListImpl.java:288"
        },
        {
          "method": "org.eclipse.emf.common.util.BasicEList.add",
          "source": "BasicEList.java:599"
        },
        {
          "method": "org.eclipse.wst.wsdl.internal.impl.DefinitionImpl.addMessage",
          "source": "DefinitionImpl.java:568"
        },
        {
          "method": "org.eclipse.wst.wsdl.ui.internal.commands.AddMessageCommand.run",
          "source": "AddMessageCommand.java:71"
        },
        {
          "method": "org.eclipse.wst.wsdl.ui.internal.actions.AddMessageAction.performAddElement",
          "source": "WSDLMenuActionContributor.java:925"
        },
        {
          "method": "org.eclipse.wst.wsdl.ui.internal.actions.AddElementAction.run",
          "source": "AddElementAction.java:100"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:492"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:530"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:480"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:392"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:914"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3285"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2905"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1762"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1726"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:397"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:109"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:379"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:338"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:282"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "126793",
      "date": "2006-02-07T20:13:23+01:00",
      "product": "Web Tools",
      "component": "wst.wsdl",
      "severity": "critical"
    }
  ],
  "groupId": "126793",
  "bugId": "126793",
  "date": "2006-02-07T20:13:23+01:00",
  "product": "Web Tools",
  "component": "wst.wsdl",
  "severity": "critical"
}