{
  "comments": [
    "Consider the follwing use case:\n\nA batch process (for instance a build process) produces \nan GMF diagram (for instance an Ecore model with an appropiate\nnotation model) and invokes an headless RCP application which\nrenders the generated diagram as an image (to be included in\na generated web site).\n\nI evaluated a headless RCP which uses OffscreenEditPartFactory and CopyToImageUtil to render a given diagram. The initialization of this\nRCP fails with the following exception:\n\norg.eclipse.jface.util.Assert$AssertionFailedException: null argument;\nat org.eclipse.jface.util.Assert.isNotNull(Assert.java:150)\nat org.eclipse.jface.util.Assert.isNotNull(Assert.java:126)\nat org.eclipse.jface.resource.FontRegistry.\u003cinit\u003e(FontRegistry.java:273)\nat org.eclipse.jface.resource.FontRegistry.\u003cinit\u003e(FontRegistry.java:288)\nat org.eclipse.jface.resource.JFaceResources.getFontRegistry(JFaceResources.java:267)\nat org.eclipse.jface.resource.JFaceResources.getDefaultFont(JFaceResources.java:220)\nat org.eclipse.gmf.runtime.diagram.ui.preferences.AppearancePreferencePage.setDefaultFontPreference(AppearancePreferencePage.java:228)\nat org.eclipse.gmf.runtime.diagram.ui.preferences.AppearancePreferencePage.initDefaults(AppearancePreferencePage.java:169)\nat org.eclipse.gmf.runtime.diagram.ui.internal.DiagramUIPlugin.initializeDefaultDiagramPreferenceStore(DiagramUIPlugin.java:95)\nat org.eclipse.gmf.runtime.diagram.ui.internal.DiagramUIPlugin.start(DiagramUIPlugin.java:76)\nat org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run(BundleContextImpl.java:995)\n\n\n\nCherie Revells\u0027 comment:\nWhen the Diagram UI plugin starts up it initializes the preference store with font values. It is calling JFaceResources.getDefaultFont() and when a new font registry is created in SWT it requires a Display.\n\n\nCompare the newsgroup thread http://dev.eclipse.org/newslists/news.eclipse.modeling.gmf/msg01826.html"
  ],
  "commentCreationDates": [
    "2006-11-03T20:19:13+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.jface.util.Assert$AssertionFailedException",
      "message": "null argument;",
      "elements": [
        {
          "method": "org.eclipse.jface.util.Assert.isNotNull",
          "source": "Assert.java:150"
        },
        {
          "method": "org.eclipse.jface.util.Assert.isNotNull",
          "source": "Assert.java:126"
        },
        {
          "method": "org.eclipse.jface.resource.FontRegistry.\u003cinit\u003e",
          "source": "FontRegistry.java:273"
        },
        {
          "method": "org.eclipse.jface.resource.FontRegistry.\u003cinit\u003e",
          "source": "FontRegistry.java:288"
        },
        {
          "method": "org.eclipse.jface.resource.JFaceResources.getFontRegistry",
          "source": "JFaceResources.java:267"
        },
        {
          "method": "org.eclipse.jface.resource.JFaceResources.getDefaultFont",
          "source": "JFaceResources.java:220"
        },
        {
          "method": "org.eclipse.gmf.runtime.diagram.ui.preferences.AppearancePreferencePage.setDefaultFontPreference",
          "source": "AppearancePreferencePage.java:228"
        },
        {
          "method": "org.eclipse.gmf.runtime.diagram.ui.preferences.AppearancePreferencePage.initDefaults",
          "source": "AppearancePreferencePage.java:169"
        },
        {
          "method": "org.eclipse.gmf.runtime.diagram.ui.internal.DiagramUIPlugin.initializeDefaultDiagramPreferenceStore",
          "source": "DiagramUIPlugin.java:95"
        },
        {
          "method": "org.eclipse.gmf.runtime.diagram.ui.internal.DiagramUIPlugin.start",
          "source": "DiagramUIPlugin.java:76"
        },
        {
          "method": "org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run",
          "source": "BundleContextImpl.java:995"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "163380",
      "date": "2006-11-03T20:19:13+01:00",
      "product": "GMF",
      "component": "Runtime Common",
      "severity": "enhancement"
    }
  ],
  "groupId": "163380",
  "bugId": "163380",
  "date": "2006-11-03T20:19:13+01:00",
  "product": "GMF",
  "component": "Runtime Common",
  "severity": "enhancement"
}