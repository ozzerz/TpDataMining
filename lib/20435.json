{
  "comments": [
    "While trying to search declarations of a java method in a working set on stable \nbuild F3 I get the following error message:\n\n!SESSION Jun 17, 2002 14:29:45.708 ---------------------------------------------\njava.version\u003d1.3.1_03\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_GB\nCommand-line arguments: -os win32 -ws win32 -arch x86 -install file:D:/eclipse/\n!ENTRY org.eclipse.jdt.ui 4 1 Jun 17, 2002 14:29:45.708\n!MESSAGE Internal Error\n!STACK 0\njava.lang.reflect.InvocationTargetException: java.lang.NullPointerException\n\tat java.lang.Thread.setPriority(Unknown Source)\n\tat \norg.eclipse.jdt.internal.core.search.processing.JobManager.performConcurrentJob\n(JobManager.java:247)\n\tat org.eclipse.jdt.core.search.SearchEngine.search\n(SearchEngine.java:400)\n\tat org.eclipse.jdt.internal.ui.search.JavaSearchOperation.execute\n(JavaSearchOperation.java:86)\n\tat org.eclipse.ui.actions.WorkspaceModifyOperation$1.run\n(WorkspaceModifyOperation.java:64)\n\tat org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1361)\n\tat org.eclipse.ui.actions.WorkspaceModifyOperation.run\n(WorkspaceModifyOperation.java:78)\n\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run\n(ModalContext.java:98)",
    "This appears to be a very rare race condition. The code were the NPE is thrown \nis:\n  if (this.thread !\u003d null) {\n    this.thread.setPriority(originalPriority); // line 247\n  }\nThe \u0027thread\u0027 field is only set to null on shut down, or if a RuntimeException \nis thrown by the background indexer (and this is only temporary, as a new \nthread is created right away). A subsequent search should work.\n\nAnother possibility is a JIT bug. In this case, there is nothing we can do.\n\n",
    "Need to investigate, post 2.0",
    "Reopening",
    "Clearing resolution",
    "Fixed in HEAD by using a local variable to avoid the race condition.",
    "Verified"
  ],
  "commentCreationDates": [
    "2002-06-17T14:45:56+02:00",
    "2002-06-17T15:54:47+02:00",
    "2002-06-20T13:46:49+02:00",
    "2002-07-25T12:59:34+02:00",
    "2002-07-25T13:00:52+02:00",
    "2002-08-13T16:57:56+02:00",
    "2002-09-19T16:41:12+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "java.lang.Thread.setPriority",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jdt.internal.core.search.processing.JobManager.performConcurrentJob",
          "source": "JobManager.java:247"
        },
        {
          "method": "org.eclipse.jdt.core.search.SearchEngine.search",
          "source": "SearchEngine.java:400"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.search.JavaSearchOperation.execute",
          "source": "JavaSearchOperation.java:86"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation$1.run",
          "source": "WorkspaceModifyOperation.java:64"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1361"
        },
        {
          "method": "org.eclipse.ui.actions.WorkspaceModifyOperation.run",
          "source": "WorkspaceModifyOperation.java:78"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:98"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "20435",
      "date": "2002-06-17T14:45:56+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "major"
    }
  ],
  "groupId": "20435",
  "bugId": "20435",
  "date": "2002-06-17T14:45:56+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "major"
}