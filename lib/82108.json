{
  "comments": [
    "Starting with 3.1M3, I get the following exception when running the\norg.eclipse.update.core.standaloneUpdate application in an RCP environment where\nthere is no org.eclipse.ui plugin present. \n\norg.eclipse.core.runtime.CoreException[0]: java.lang.NullPointerException\n\tat\norg.eclipse.update.internal.core.InstallHandlerProxy$InstallHandlerClassLoader.\u003cinit\u003e(InstallHandlerProxy.java:44)\n\tat\norg.eclipse.update.internal.core.InstallHandlerProxy.getLocalHandler(InstallHandlerProxy.java:527)\n\tat\norg.eclipse.update.internal.core.InstallHandlerProxy.initialize(InstallHandlerProxy.java:135)\n\tat\norg.eclipse.update.internal.core.InstallHandlerProxy.\u003cinit\u003e(InstallHandlerProxy.java:91)\n\tat org.eclipse.update.core.Feature.install(Feature.java:273)\n\tat org.eclipse.update.internal.core.SiteFile.install(SiteFile.java:73)\n\tat org.eclipse.update.internal.core.ConfiguredSite.install(ConfiguredSite.java:121)\n\tat org.eclipse.update.internal.core.ConfiguredSite.install(ConfiguredSite.java:85)\n\tat\norg.eclipse.update.internal.operations.InstallOperation.execute(InstallOperation.java:73)\n\tat\norg.eclipse.update.internal.operations.BatchInstallOperation.execute(BatchInstallOperation.java:85)\n\tat org.eclipse.update.standalone.InstallCommand.run(InstallCommand.java:162)\n\tat org.eclipse.update.standalone.ScriptedCommand.run(ScriptedCommand.java:64)\n\tat\norg.eclipse.update.standalone.StandaloneUpdateApplication.run(StandaloneUpdateApplication.java:46)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:220)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\n\tat org.eclipse.core.launcher.Main.run(Main.java:710)\n\tat org.eclipse.core.launcher.Main.main(Main.java:694)\n\nThe exception happens in the following code. \n\n\t\tpublic InstallHandlerClassLoader(URL classpath) {\n\t\t\tsuper(new URL[] {classpath});\n\t\t\tupdateCore \u003d Platform.getBundle(EXT_PLUGIN);\n\t\t\teclipseUI \u003d Platform.getBundle(UI_PLUGIN);\nNPE right here---\u003e\tif (eclipseUI.getState() !\u003d Bundle.ACTIVE) \n\t\t\t\teclipseUI \u003d null;\n\t\t}\n\nShould there be a check of eclipseUI against null here? Is it truly required\nthat the org.eclipse.ui bundle be present?",
    "fixed by adding a check for eclipseUI being null.\nIf the eclipse UI plugin is not there, the install handler\u0027s class loader will \nbe just that of org.eclipse.update.core."
  ],
  "commentCreationDates": [
    "2005-01-03T21:26:06+01:00",
    "2005-01-05T17:19:30+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.update.internal.core.InstallHandlerProxy$InstallHandlerClassLoader.\u003cinit\u003e",
          "source": "InstallHandlerProxy.java:44"
        },
        {
          "method": "org.eclipse.update.internal.core.InstallHandlerProxy.getLocalHandler",
          "source": "InstallHandlerProxy.java:527"
        },
        {
          "method": "org.eclipse.update.internal.core.InstallHandlerProxy.initialize",
          "source": "InstallHandlerProxy.java:135"
        },
        {
          "method": "org.eclipse.update.internal.core.InstallHandlerProxy.\u003cinit\u003e",
          "source": "InstallHandlerProxy.java:91"
        },
        {
          "method": "org.eclipse.update.core.Feature.install",
          "source": "Feature.java:273"
        },
        {
          "method": "org.eclipse.update.internal.core.SiteFile.install",
          "source": "SiteFile.java:73"
        },
        {
          "method": "org.eclipse.update.internal.core.ConfiguredSite.install",
          "source": "ConfiguredSite.java:121"
        },
        {
          "method": "org.eclipse.update.internal.core.ConfiguredSite.install",
          "source": "ConfiguredSite.java:85"
        },
        {
          "method": "org.eclipse.update.internal.operations.InstallOperation.execute",
          "source": "InstallOperation.java:73"
        },
        {
          "method": "org.eclipse.update.internal.operations.BatchInstallOperation.execute",
          "source": "BatchInstallOperation.java:85"
        },
        {
          "method": "org.eclipse.update.standalone.InstallCommand.run",
          "source": "InstallCommand.java:162"
        },
        {
          "method": "org.eclipse.update.standalone.ScriptedCommand.run",
          "source": "ScriptedCommand.java:64"
        },
        {
          "method": "org.eclipse.update.standalone.StandaloneUpdateApplication.run",
          "source": "StandaloneUpdateApplication.java:46"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:220"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:273"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:710"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:694"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "82108",
      "date": "2005-01-03T21:26:06+01:00",
      "product": "Platform",
      "component": "Update",
      "severity": "normal"
    }
  ],
  "groupId": "82108",
  "bugId": "82108",
  "date": "2005-01-03T21:26:06+01:00",
  "product": "Platform",
  "component": "Update",
  "severity": "normal"
}