{
  "comments": [
    "I have some class Q:\n\npackage et;\npublic class Q {}\n\nand the following aspect:\n\npublic aspect EnumTest {\n    public static enum Test {\n\tA,B,C\n    }\n\n    public void et.Q.foo(Test t) {\n\tswitch (t) {\n\tcase B:\n\t    break;\n\t}\n    }\n}\n\nFirst I compile Q. Then I weave in the aspect:\n\najc -1.5 EnumTest.java -inpath et\n\nand get this exception:\n\njava.lang.NullPointerException\n        at\norg.aspectj.org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.addSyntheticFieldForSwitchEnum(SourceTypeBinding.java:411)\n        at\norg.aspectj.org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.addSyntheticMethodForSwitchEnum(SourceTypeBinding.java:457)\n        at\norg.aspectj.org.eclipse.jdt.internal.compiler.ast.SwitchStatement.analyseCode(SwitchStatement.java:83)\n        at\norg.aspectj.org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.analyseCode(MethodDeclaration.java:84)\n        at\norg.aspectj.ajdt.internal.compiler.ast.InterTypeMethodDeclaration.analyseCode(InterTypeMethodDeclaration.java:73)\n        at\norg.aspectj.org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.internalAnalyseCode(TypeDeclaration.java:720)\n        at\norg.aspectj.org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.analyseCode(TypeDeclaration.java:270)\n        at\norg.aspectj.org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.analyseCode(CompilationUnitDeclaration.java:80)\n        at\norg.aspectj.org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:517)\n        at\norg.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:329)\n        at\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:728)\n        at\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:206)\n        at\norg.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:140)\n        at org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:112)\n        at org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:60)\n        at org.aspectj.tools.ajc.Main.run(Main.java:324)\n        at org.aspectj.tools.ajc.Main.runMain(Main.java:238)\n        at org.aspectj.tools.ajc.Main.main(Main.java:82)\n\nApparently, it only appears if the switch has at least one case construct (i.e.\nit does not happen on default).",
    "tagging with M4 ...",
    "The problem occurs when the target type of the ITD method is placed on the\ninpath, and the code inside the method requires the generation of one or more\nsynthetic members. Since the target type is only known to JDT as a\n*Binary*TypeBinding these members can\u0027t be added (and doing so would give a\nlousy independent compilation story anyway). Resolved by adding the synthetic\nmembers to the declaring type of the ITD instead. ",
    "fix now available in latest published build"
  ],
  "commentCreationDates": [
    "2005-08-30T16:27:42+02:00",
    "2005-08-30T17:10:34+02:00",
    "2005-08-31T15:19:02+02:00",
    "2005-08-31T18:22:56+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.addSyntheticFieldForSwitchEnum",
          "source": "SourceTypeBinding.java:411"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.lookup.SourceTypeBinding.addSyntheticMethodForSwitchEnum",
          "source": "SourceTypeBinding.java:457"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.SwitchStatement.analyseCode",
          "source": "SwitchStatement.java:83"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.analyseCode",
          "source": "MethodDeclaration.java:84"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.ast.InterTypeMethodDeclaration.analyseCode",
          "source": "InterTypeMethodDeclaration.java:73"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.internalAnalyseCode",
          "source": "TypeDeclaration.java:720"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.analyseCode",
          "source": "TypeDeclaration.java:270"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.analyseCode",
          "source": "CompilationUnitDeclaration.java:80"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.process",
          "source": "Compiler.java:517"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:329"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:728"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:206"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBuildManager.java:140"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.doCommand",
          "source": "AjdtCommand.java:112"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.runCommand",
          "source": "AjdtCommand.java:60"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.run",
          "source": "Main.java:324"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.runMain",
          "source": "Main.java:238"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.main",
          "source": "Main.java:82"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "108370",
      "date": "2005-08-30T16:27:42+02:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "108370",
  "bugId": "108370",
  "date": "2005-08-30T16:27:42+02:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}