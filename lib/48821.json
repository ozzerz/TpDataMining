{
  "comments": [
    "Calling the create() method on an IFolder object gives a ResourceException (\"A \nresource exists on disk with a different case\") if there still exists a folder \nwith different spelling.\nThis happens although calling exists() on the same object right before create() \nyields false. \nThe reason is (AFAICS) that the exists() is too simple and that during create \nthe real (i.e. java.io) exists() is called which leads to the exception.\n\nThe problem can be easily reproduced by replacing the run method of the \nHelloWorld example action (or any other action) by:\n\n  public void run(IAction action) {\n    IProject[] projs \u003d ResourcesPlugin.getWorkspace().getRoot().getProjects();\n    if (projs.length \u003e 0) {\n      IProject testProj \u003d projs[0];\n      // first creating a folder with i/o   vvvvvv\n      IFolder ioFolder \u003d testProj.getFolder(\"test\");\n      File folderAsIO \u003d ioFolder.getRawLocation().toFile();\n      if (!folderAsIO.exists()) {\n        folderAsIO.mkdir();\n      }\n      // refresh just to be sure\n      try {\n        testProj.refreshLocal(IResource.DEPTH_INFINITE, new NullProgressMonitor\n());\n      } catch (CoreException e1) {\n        e1.printStackTrace();\n      }\n      // second use IFolder (dif. case !)        vvvvvv\n      IFolder eclipseFolder \u003d testProj.getFolder(\"TeSt\");\n      if (!eclipseFolder.exists()) {\n        try {\n          eclipseFolder.create(true, false, new NullProgressMonitor());\n        } catch (CoreException e) {\n          e.printStackTrace();\n        }\n      }\n    }\n  }\n\nThe exception is:\n\norg.eclipse.core.internal.resources.ResourceException: A resource exists with a \ndifferent case: /P1/test.\n\tat org.eclipse.core.internal.resources.Resource.checkDoesNotExist\n(Resource.java:274)\n\tat org.eclipse.core.internal.resources.Folder.assertCreateRequirements\n(Folder.java:23)\n\tat org.eclipse.core.internal.resources.Folder.create(Folder.java:84)\n\tat org.eclipse.core.internal.resources.Folder.create(Folder.java:114)\n\tat TestPlugin.actions.SampleAction.run(SampleAction.java:70)\n\tat org.eclipse.ui.internal.PluginAction.runWithEvent\n(PluginAction.java:251)\n\tat org.eclipse.ui.internal.WWinPluginAction.runWithEvent\n(WWinPluginAction.java:207)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:456)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent\n(ActionContributionItem.java:403)\n\tat org.eclipse.jface.action.ActionContributionItem.access$0\n(ActionContributionItem.java:397)\n\tat \norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent\n(ActionContributionItem.java:72)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:81)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:840)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1838)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1545)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1402)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:1385)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run\n(InternalBootLoader.java:858)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke\n(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke\n(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:291)\n\tat org.eclipse.core.launcher.Main.run(Main.java:747)\n\tat org.eclipse.core.launcher.Main.main(Main.java:583)\n\nThe problem could be avoided by just calling\neclipseFolder.getFullPath().toFile().exists() instead of eclipseFolder.exists()\nIt is clear that this cannot be the official solution.",
    "Eclipse version is 2.1.1 not 2.1.2 ! ",
    "See:\n\nhttp://dev.eclipse.org/viewcvs/index.cgi/%7Echeckout%7E/platform-core-home/rfc/0001/index.html"
  ],
  "commentCreationDates": [
    "2003-12-16T06:09:19+01:00",
    "2003-12-16T06:16:56+01:00",
    "2003-12-16T14:37:02+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.internal.resources.ResourceException",
      "message": "A resource exists with a  different case: /P1/test.",
      "elements": [
        {
          "method": "org.eclipse.core.internal.resources.Resource.checkDoesNotExist",
          "source": "Resource.java:274"
        },
        {
          "method": "org.eclipse.core.internal.resources.Folder.assertCreateRequirements",
          "source": "Folder.java:23"
        },
        {
          "method": "org.eclipse.core.internal.resources.Folder.create",
          "source": "Folder.java:84"
        },
        {
          "method": "org.eclipse.core.internal.resources.Folder.create",
          "source": "Folder.java:114"
        },
        {
          "method": "TestPlugin.actions.SampleAction.run",
          "source": "SampleAction.java:70"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:251"
        },
        {
          "method": "org.eclipse.ui.internal.WWinPluginAction.runWithEvent",
          "source": "WWinPluginAction.java:207"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:456"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java:403"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem.java:397"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java:72"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:81"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:840"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1838"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1545"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1402"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1385"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:858"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:291"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:747"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:583"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "48821",
      "date": "2003-12-16T06:09:19+01:00",
      "product": "Platform",
      "component": "Resources",
      "severity": "normal"
    }
  ],
  "groupId": "48821",
  "bugId": "48821",
  "date": "2003-12-16T06:09:19+01:00",
  "product": "Platform",
  "component": "Resources",
  "severity": "normal"
}