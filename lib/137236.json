{
  "comments": [
    "Hi,\nI encounter an issue when trying to setEchochar on a text created by a\nStringFieldEditor in a preference Panel.\nCode snippet for editor creation\n\nStringFieldEditor passwordFieldEditor \u003d new\nStringFieldEditor(PreferenceConstants.P_PASSWORD,\nMessages.getString(\"preference.existpassword\"), groupExist); //$NON-NLS-1$\nText text \u003d passwordFieldEditor.getTextControl(groupExist);\ntext.setEchoChar(\u0027*\u0027);\n\nEverythings run smoothly the first time and echo char are well displayed. But when i open a second time the preference panel, (with this time not empty preference value) i have the following exception:\n\njava.lang.StringIndexOutOfBoundsException: String index out of range: 6\nat java.lang.String.getChars(String.java:484)\nat org.eclipse.swt.widgets.Text.getEditText(Text.java:1062)\nat org.eclipse.swt.widgets.Text.getText(Text.java:1008)\nat\norg.eclipse.jface.preference.StringFieldEditor.getStringValue(StringFieldEditor.java:301)\n\nI\u0027m quite confident with my code since i do the same things with the login\nfield and it work. The only differrence is the echoChar.\n\nIt works with eclipse 3.1 with patched swt lib for intel, but failed in eclipse 3.2RC1",
    "I was able to reproduce a similar problem with this testcase. Please try the latest and reopen the bug if you still have the problem. I am not certain I fixed your problem, since I did not have running code to confirm it. Fixed \u003e 20060418. \n\nimport org.eclipse.swt.*;\nimport org.eclipse.swt.layout.*;\nimport org.eclipse.swt.widgets.*;\n\n\npublic class PR137236 {\n\tpublic static void main (String [] args) {\n\t\tDisplay display \u003d new Display ();\n\t\tShell shell \u003d new Shell (display);\n\t\tshell.setLayout (new FillLayout ());\n\t\tfinal Button button \u003d new Button(shell, SWT.PUSH);\n\t\tbutton.setText(\"getText()\");\n\t\tfinal Text text \u003d new Text (shell, SWT.SINGLE | SWT.BORDER);\n\t\ttext.setEchoChar (\u0027*\u0027);\n\t\ttext.setText(\"silenio\");\n\t\tbutton.addListener(SWT.Selection, new Listener() {\n\t\t\tpublic void handleEvent(Event event) {\n//\t\t\t\ttext.append(\"+\");\n\t\t\t\tSystem.out.println(text.getText());\n\t\t\t}\n\t\t});\n\t\tshell.pack ();\n\t\tshell.open ();\t\t\n\t\twhile (!shell.isDisposed ()) {\n\t\t\tif (!display.readAndDispatch ()) display.sleep ();\n\t\t}\n\t\tdisplay.dispose ();\n\t}\n}",
    "Hi,\nI have tested my code and your snippet with eclipse-SDK-N20060425-0010-macosx-carbon.tar.\n\nThe bug is fixed there is not more exception thrown.\nBut when you typed text into the Text widget the getText method return ***** string instead of the typed text.\n ",
    "Wow, that was bad. Thanks for verifing it. Fixed \u003e 20060425. Please try the next nightly.\n\nAs a side note, you should consider using the style SWT.PASSWORD instead of calling setEchoChar(), if you just want a password text field. This style maches the platform better (bullet char instead of * on Mac)",
    "HI,\nIt work in 3.2RC2.\nThanks you."
  ],
  "commentCreationDates": [
    "2006-04-18T17:17:44+02:00",
    "2006-04-18T20:46:27+02:00",
    "2006-04-25T18:35:09+02:00",
    "2006-04-25T20:55:11+02:00",
    "2006-05-03T18:26:20+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.StringIndexOutOfBoundsException",
      "message": "String index out of range: 6",
      "elements": [
        {
          "method": "java.lang.String.getChars",
          "source": "String.java:484"
        },
        {
          "method": "org.eclipse.swt.widgets.Text.getEditText",
          "source": "Text.java:1062"
        },
        {
          "method": "org.eclipse.swt.widgets.Text.getText",
          "source": "Text.java:1008"
        },
        {
          "method": "org.eclipse.jface.preference.StringFieldEditor.getStringValue",
          "source": "StringFieldEditor.java:301"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "137236",
      "date": "2006-04-18T17:17:44+02:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "normal"
    }
  ],
  "groupId": "137236",
  "bugId": "137236",
  "date": "2006-04-18T17:17:44+02:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "normal"
}