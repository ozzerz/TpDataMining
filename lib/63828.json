{
  "comments": [
    "With M9 i get now and then a classcast exception when a breakpoints hits\nWhen i see this class cast exception eclipse hangs.\n\njava.lang.ClassCastException: \norg.eclipse.jdt.internal.debug.core.model.JDINullValue\n        at \norg.eclipse.jdt.internal.debug.core.logicalstructures.MapStructureType$1.run\n(MapStructureType.java:33)\n        at org.eclipse.jdt.internal.debug.core.model.JDIThread.runEvaluation\n(JDIThread.java:659)\n\n\nwhen it hangs i get this thread dump:\n\n\"Console Polling Thread\" prio\u003d7 tid\u003d0x01684e50 nid\u003d0x160 waiting on condition [0\nx03d4f000..0x03d4fc68]\n        at java.lang.Thread.sleep(Native Method)\n        at org.eclipse.debug.internal.ui.views.console.ConsoleDocumentPartitione\nr.pollAndSleep(ConsoleDocumentPartitioner.java:565)\n        at org.eclipse.debug.internal.ui.views.console.ConsoleDocumentPartitione\nr$1.run(ConsoleDocumentPartitioner.java:549)\n        at java.lang.Thread.run(Thread.java:566)\n\n\"org.eclipse.jdt.debug: JDI Event Dispatcher\" prio\u003d7 tid\u003d0x0164b308 nid\u003d0xe54 in\n Object.wait() [0x03a4f000..0x03a4fce8]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x5059bd00\u003e (a org.eclipse.jdi.internal.connect.PacketRece\niveManager)\n        at java.lang.Object.wait(Object.java:468)\n        at org.eclipse.jdi.internal.connect.PacketReceiveManager.waitForPacketAv\nailable(PacketReceiveManager.java:168)\n        at org.eclipse.jdi.internal.connect.PacketReceiveManager.getCommand(Pack\netReceiveManager.java:93)\n        - locked \u003c0x5059bd00\u003e (a org.eclipse.jdi.internal.connect.PacketReceiveM\nanager)\n        at org.eclipse.jdi.internal.MirrorImpl.getCommandVM(MirrorImpl.java:276)\n\n        at org.eclipse.jdi.internal.event.EventQueueImpl.remove(EventQueueImpl.j\nava:63)\n        at org.eclipse.jdi.internal.event.EventQueueImpl.remove(EventQueueImpl.j\nava:48)\n        at org.eclipse.jdt.internal.debug.core.EventDispatcher.run(EventDispatch\ner.java:213)\n        at java.lang.Thread.run(Thread.java:566)\n\n\"Packet Send Manager\" prio\u003d7 tid\u003d0x0168c190 nid\u003d0x898 in Object.wait() [0x03c4f0\n00..0x03c4f9e8]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x5059be80\u003e (a org.eclipse.jdi.internal.connect.PacketSend\nManager)\n        at java.lang.Object.wait(Object.java:468)\n        at org.eclipse.jdi.internal.connect.PacketSendManager.sendAvailablePacke\nts(PacketSendManager.java:94)\n        - locked \u003c0x5059be80\u003e (a org.eclipse.jdi.internal.connect.PacketSendMana\nger)\n        at org.eclipse.jdi.internal.connect.PacketSendManager.run(PacketSendMana\nger.java:54)\n        at java.lang.Thread.run(Thread.java:566)\n\n\"Packet Receive Manager\" prio\u003d7 tid\u003d0x0168c008 nid\u003d0x2f8 runnable [0x03b4f000..0\nx03b4fd68]\n        at java.net.SocketInputStream.socketRead0(Native Method)\n        at java.net.SocketInputStream.read(SocketInputStream.java:129)\n        at java.net.SocketInputStream.read(SocketInputStream.java:182)\n        at java.io.DataInputStream.readInt(DataInputStream.java:450)\n        at org.eclipse.jdi.internal.jdwp.JdwpPacket.read(JdwpPacket.java:124)\n        at org.eclipse.jdi.internal.connect.PacketReceiveManager.readAvailablePa\ncket(PacketReceiveManager.java:224)\n        at org.eclipse.jdi.internal.connect.PacketReceiveManager.run(PacketRecei\nveManager.java:70)\n        at java.lang.Thread.run(Thread.java:566)\n\n\"Input Stream Monitor\" prio\u003d7 tid\u003d0x0164b490 nid\u003d0xc1c in Object.wait() [0x0394f\n000..0x0394fae8]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x5059bfc8\u003e (a java.lang.Object)\n        at java.lang.Object.wait(Object.java:468)\n        at org.eclipse.debug.internal.core.InputStreamMonitor.writeNext(InputStr\neamMonitor.java:124)\n        - locked \u003c0x5059bfc8\u003e (a java.lang.Object)\n        at org.eclipse.debug.internal.core.InputStreamMonitor.write(InputStreamM\nonitor.java:99)\n        at org.eclipse.debug.internal.core.InputStreamMonitor$1.run(InputStreamM\nonitor.java:75)\n        at java.lang.Thread.run(Thread.java:566)\n\n\"Output Stream Monitor\" prio\u003d7 tid\u003d0x0164a670 nid\u003d0x8a8 runnable [0x0352f000..0x\n0352fb68]\n        at java.io.FileInputStream.readBytes(Native Method)\n        at java.io.FileInputStream.read(FileInputStream.java:177)\n        at org.eclipse.debug.internal.core.OutputStreamMonitor.read(OutputStream\nMonitor.java:132)\n        at org.eclipse.debug.internal.core.OutputStreamMonitor.access$1(OutputSt\nreamMonitor.java:124)\n        at org.eclipse.debug.internal.core.OutputStreamMonitor$1.run(OutputStrea\nmMonitor.java:177)\n        at java.lang.Thread.run(Thread.java:566)\n\n\"Output Stream Monitor\" prio\u003d7 tid\u003d0x0164a7f8 nid\u003d0x100 runnable [0x0342f000..0x\n0342fbe8]\n        at java.io.FileInputStream.readBytes(Native Method)\n        at java.io.FileInputStream.read(FileInputStream.java:194)\n        at java.io.BufferedInputStream.read1(BufferedInputStream.java:228)\n        at java.io.BufferedInputStream.read(BufferedInputStream.java:285)\n        - locked \u003c0x505a0158\u003e (a java.io.BufferedInputStream)\n        at java.io.FilterInputStream.read(FilterInputStream.java:90)\n        at org.eclipse.debug.internal.core.OutputStreamMonitor.read(OutputStream\nMonitor.java:132)\n        at org.eclipse.debug.internal.core.OutputStreamMonitor.access$1(OutputSt\nreamMonitor.java:124)\n        at org.eclipse.debug.internal.core.OutputStreamMonitor$1.run(OutputStrea\nmMonitor.java:177)\n        at java.lang.Thread.run(Thread.java:566)\n\n\"Worker-14\" prio\u003d5 tid\u003d0x01619de0 nid\u003d0x400 in Object.wait() [0x0332f000..0x0332\nfbe8]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x4d7caf98\u003e (a org.eclipse.core.internal.jobs.WorkerPool)\n        at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:209)\n        - locked \u003c0x4d7caf98\u003e (a org.eclipse.core.internal.jobs.WorkerPool)\n        at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:23\n6)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:59)\n\n\"Worker-13\" prio\u003d5 tid\u003d0x016f79a0 nid\u003d0xd40 in Object.wait() [0x0312f000..0x0312\nfc68]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x4d7caf98\u003e (a org.eclipse.core.internal.jobs.WorkerPool)\n        at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:209)\n        - locked \u003c0x4d7caf98\u003e (a org.eclipse.core.internal.jobs.WorkerPool)\n        at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:23\n6)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:59)\n\n\"Worker-12\" prio\u003d5 tid\u003d0x01266518 nid\u003d0xbe4 in Object.wait() [0x0302f000..0x0302\nfce8]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x4d7caf98\u003e (a org.eclipse.core.internal.jobs.WorkerPool)\n        at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:209)\n        - locked \u003c0x4d7caf98\u003e (a org.eclipse.core.internal.jobs.WorkerPool)\n        at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:23\n6)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:59)\n\n\"Worker-11\" prio\u003d5 tid\u003d0x013afb70 nid\u003d0x688 runnable [0x02f2f000..0x02f2fd68]\n        at java.lang.ProcessImpl.waitFor(Native Method)\n        at org.eclipse.debug.core.model.RuntimeProcess$ProcessMonitorJob.run(Run\ntimeProcess.java:362)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)\n\n\"Worker-10\" prio\u003d5 tid\u003d0x01608ff8 nid\u003d0x224 in Object.wait() [0x025ef000..0x025e\nf9e8]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x4d7caf98\u003e (a org.eclipse.core.internal.jobs.WorkerPool)\n        at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:209)\n        - locked \u003c0x4d7caf98\u003e (a org.eclipse.core.internal.jobs.WorkerPool)\n        at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:23\n6)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:59)\n\n\"org.eclipse.jdt.internal.ui.text.JavaReconciler\" daemon prio\u003d2 tid\u003d0x026988d8 n\nid\u003d0xd8c in Object.wait() [0x0382f000..0x0382fae8]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x4e7ffea8\u003e (a org.eclipse.jface.text.reconciler.DirtyRegi\nonQueue)\n        at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread\n.run(AbstractReconciler.java:172)\n        - locked \u003c0x4e7ffea8\u003e (a org.eclipse.jface.text.reconciler.DirtyRegionQu\neue)\n\n\"Java indexing\" daemon prio\u003d4 tid\u003d0x011cdfe0 nid\u003d0x848 in Object.wait() [0x0238f\n000..0x0238fd68]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x4de3a880\u003e (a org.eclipse.jdt.internal.core.search.indexi\nng.IndexManager)\n        at java.lang.Object.wait(Object.java:468)\n        at org.eclipse.jdt.internal.core.search.processing.JobManager.run(JobMan\nager.java:344)\n        - locked \u003c0x4de3a880\u003e (a org.eclipse.jdt.internal.core.search.indexing.I\nndexManager)\n        at java.lang.Thread.run(Thread.java:566)\n\n\"Thread-1\" prio\u003d7 tid\u003d0x011ca9a0 nid\u003d0xbd4 in Object.wait() [0x021bf000..0x021bf\n9e8]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x4de5ae18\u003e (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:116)\n        - locked \u003c0x4de5ae18\u003e (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:132)\n        at org.eclipse.jface.action.ActionContributionItem$ImageCache$ReferenceC\nleanerThread.run(ActionContributionItem.java:196)\n\n\"Thread-0\" prio\u003d7 tid\u003d0x01503e28 nid\u003d0x46c in Object.wait() [0x020bf000..0x020bf\na68]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x4de5aea0\u003e (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:116)\n        - locked \u003c0x4de5aea0\u003e (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:132)\n        at org.eclipse.jface.action.ActionContributionItem$ImageCache$ReferenceC\nleanerThread.run(ActionContributionItem.java:196)\n\n\"Start Level Event Dispatcher\" daemon prio\u003d5 tid\u003d0x00987960 nid\u003d0xa44 in Object.\nwait() [0x0195f000..0x0195fb68]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x4d4fe110\u003e (a org.eclipse.osgi.framework.eventmgr.EventTh\nread)\n        at java.lang.Object.wait(Object.java:468)\n        at org.eclipse.osgi.framework.eventmgr.EventThread.getNextEvent(EventThr\nead.java:162)\n        - locked \u003c0x4d4fe110\u003e (a org.eclipse.osgi.framework.eventmgr.EventThread\n)\n        at org.eclipse.osgi.framework.eventmgr.EventThread.run(EventThread.java:\n100)\n\n\"Framework Event Dispatcher\" daemon prio\u003d5 tid\u003d0x00987748 nid\u003d0xf24 in Object.wa\nit() [0x0185f000..0x0185fbe8]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x4d4fe178\u003e (a org.eclipse.osgi.framework.eventmgr.EventTh\nread)\n        at java.lang.Object.wait(Object.java:468)\n        at org.eclipse.osgi.framework.eventmgr.EventThread.getNextEvent(EventThr\nead.java:162)\n        - locked \u003c0x4d4fe178\u003e (a org.eclipse.osgi.framework.eventmgr.EventThread\n)\n        at org.eclipse.osgi.framework.eventmgr.EventThread.run(EventThread.java:\n100)\n\n\"Low Memory Detector\" daemon prio\u003d5 tid\u003d0x008ff060 nid\u003d0x430 runnable [0x0000000\n0..0x00000000]\n\n\"CompilerThread0\" daemon prio\u003d10 tid\u003d0x008fdd28 nid\u003d0x55c waiting on condition [\n0x00000000..0x00f5fa58]\n\n\"Signal Dispatcher\" daemon prio\u003d10 tid\u003d0x008fd0d8 nid\u003d0xefc waiting on condition\n [0x00000000..0x00000000]\n\n\"Finalizer\" daemon prio\u003d9 tid\u003d0x008f4188 nid\u003d0x8e4 in Object.wait() [0x00d5f000.\n.0x00d5fa68]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x4d4fe360\u003e (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:116)\n        - locked \u003c0x4d4fe360\u003e (a java.lang.ref.ReferenceQueue$Lock)\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:132)\n        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:159)\n\n\"Reference Handler\" daemon prio\u003d10 tid\u003d0x008f2ce8 nid\u003d0x1f0 in Object.wait() [0x\n00c5f000..0x00c5fae8]\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x4d4fe3e0\u003e (a java.lang.ref.Reference$Lock)\n        at java.lang.Object.wait(Object.java:468)\n        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:118)\n        - locked \u003c0x4d4fe3e0\u003e (a java.lang.ref.Reference$Lock)\n\n\"main\" prio\u003d7 tid\u003d0x000366d0 nid\u003d0xeb0 in Object.wait() [0x0007e000..0x0007fc3c]\n\n        at java.lang.Object.wait(Native Method)\n        - waiting on \u003c0x4bfa0850\u003e (a org.eclipse.jdt.internal.debug.core.logical\nstructures.MapStructureType)\n        at java.lang.Object.wait(Object.java:468)\n        at org.eclipse.jdt.internal.debug.core.logicalstructures.LogicalObjectSt\nructureInterfaceType.getLogicalStructure(LogicalObjectStructureInterfaceType.jav\na:132)\n        - locked \u003c0x4bfa0850\u003e (a org.eclipse.jdt.internal.debug.core.logicalstru\nctures.MapStructureType)\n        - locked \u003c0x4bfa0850\u003e (a org.eclipse.jdt.internal.debug.core.logicalstru\nctures.MapStructureType)\n        at org.eclipse.debug.internal.core.LogicalStructureType.getLogicalStruct\nure(LogicalStructureType.java:91)\n        at org.eclipse.debug.internal.ui.views.variables.VariablesViewContentPro\nvider.getLogicalValue(VariablesViewContentProvider.java:222)\n        at org.eclipse.debug.internal.ui.views.variables.VariablesViewContentPro\nvider.getValueChildren(VariablesViewContentProvider.java:124)\n        at org.eclipse.debug.internal.ui.views.variables.VariablesViewContentPro\nvider.getModelSpecificChildren(VariablesViewContentProvider.java:109)\n        at org.eclipse.debug.internal.ui.views.variables.VariablesViewContentPro\nvider.getChildren(VariablesViewContentProvider.java:89)\n        at org.eclipse.jface.viewers.AbstractTreeViewer.getRawChildren(AbstractT\nreeViewer.java:703)\n        at org.eclipse.jface.viewers.AbstractTreeViewer.isExpandable(AbstractTre\neViewer.java:1144)\n        at org.eclipse.jface.viewers.AbstractTreeViewer.updatePlus(AbstractTreeV\niewer.java:1597)\n        at org.eclipse.jface.viewers.AbstractTreeViewer.updateChildren(AbstractT\nreeViewer.java:1545)\n        at org.eclipse.jface.viewers.AbstractTreeViewer.internalRefreshStruct(Ab\nstractTreeViewer.java:1038)\n        at org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh(Abstract\nTreeViewer.java:1013)\n        at org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh(Abstract\nTreeViewer.java:976)\n        at org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh(Abstract\nTreeViewer.java:964)\n        at org.eclipse.jface.viewers.StructuredViewer$7.run(StructuredViewer.jav\na:925)\n        at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(Struct\nuredViewer.java:863)\n        at org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.j\nava:923)\n        at org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.j\nava:882)\n        at org.eclipse.debug.internal.ui.views.variables.VariablesViewer.refresh\n(VariablesViewer.java:69)\n        at org.eclipse.debug.internal.ui.views.variables.ToggleLogicalStructureA\nction$1.run(ToggleLogicalStructureAction.java:57)\n        at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n\n        at org.eclipse.debug.internal.ui.views.variables.ToggleLogicalStructureA\nction.valueChanged(ToggleLogicalStructureAction.java:55)\n        at org.eclipse.debug.internal.ui.views.variables.ToggleLogicalStructureA\nction.run(ToggleLogicalStructureAction.java:47)\n        at org.eclipse.debug.ui.AbstractDebugView$3.run(AbstractDebugView.java:5\n91)\n        at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n        at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.ja\nva:106)\n        - locked \u003c0x506d8eb0\u003e (a org.eclipse.swt.widgets.RunnableLock)\n        at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2693)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2385)\n        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1363)\n        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1334)\n        at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.jav\na:253)\n        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141)\n        at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:97\n)\n        at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformAct\nivator.java:307)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.ja\nva:256)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.ja\nva:127)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\njava:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:494)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:185)\n        at org.eclipse.core.launcher.Main.run(Main.java:638)\n        at org.eclipse.core.launcher.Main.main(Main.java:622)\n\n\"VM Thread\" prio\u003d10 tid\u003d0x008f0468 nid\u003d0x954 runnable\n\n\"VM Periodic Task Thread\" prio\u003d10 tid\u003d0x00900160 nid\u003d0x9a4 waiting on condition\n        at \norg.eclipse.jdt.internal.debug.core.logicalstructures.LogicalObjectStructureInte\nrfaceType$1.run(LogicalObjectStructureInterfaceType.java:119)\n        at org.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run\n(JDIThread.java:2510)\n        at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)",
    "Looks like you have \"logical structures\" turned on, and the map you are \nlooking at is reutrning \"null\" for Map.entrySet(). According to javadoc, \n#entrySet() should not return null, but we can protect against it.",
    "Fixed in MapStructureType.",
    "Please verify, Luc.",
    "Verified."
  ],
  "commentCreationDates": [
    "2004-05-25T14:45:13+02:00",
    "2004-05-25T15:28:19+02:00",
    "2004-05-25T22:41:03+02:00",
    "2004-05-25T22:41:22+02:00",
    "2004-05-25T23:36:30+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.jdt.internal.debug.core.model.JDINullValue",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.debug.core.logicalstructures.MapStructureType$1.run",
          "source": "MapStructureType.java:33"
        },
        {
          "method": "org.eclipse.jdt.internal.debug.core.model.JDIThread.runEvaluation",
          "source": "JDIThread.java:659"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "63828",
      "date": "2004-05-25T14:45:13+02:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "63828",
  "bugId": "63828",
  "date": "2004-05-25T14:45:13+02:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "normal"
}