{
  "comments": [
    "I tried to weave the action/ directory of an exploded struts jar but get an Abort. \n\n\u003d\u003d ajc.bat command \u003d\u003d:\najc.bat -inpath action -d actionNew -classpath \u003cmyclasspath\u003e\n-aspectpath \"C:/Core/aspects/aspects.jar\" -Xlintfile \"C:/Core/Xlint.properties \n\n\u003d\u003d PointCut in one of the aspects (there are several aj files) looks like this \u003d\u003d:\npointcut strutsAction(ActionMapping mapping, ActionForm form, HttpServletRequest request, HttpServletResponse response):\n\texecution(ActionForward Action.*(ActionMapping, ActionForm,  \n                  HttpServletRequest, HttpServletResponse))\n\t          \u0026\u0026 args(mapping, form, request, response);\n\n\n\u003d\u003d error in the core dump \u003d\u003d: \nabort ABORT -- (BCException) Can\u0027t find bcel delegate for org.apache.struts.action.ActionMapping type\u003dclass org.aspectj.weaver.ReferenceType\nwhen weaving classes \nwhen weaving \nwhen batch building BuildConfig[null] #Files\u003d0\n\nCan\u0027t find bcel delegate for org.apache.struts.action.ActionMapping type\u003dclass org.aspectj.weaver.ReferenceType\nwhen weaving classes \nwhen weaving \nwhen batch building BuildConfig[null] #Files\u003d0\n\norg.aspectj.weaver.BCException: Can\u0027t find bcel delegate for org.apache.struts.action.ActionMapping type\u003dclass org.aspectj.weaver.ReferenceType\nwhen weaving classes \nwhen weaving \nwhen batch building BuildConfig[null] #Files\u003d0\n\n\tat org.aspectj.weaver.bcel.BcelWeaver.weave(BcelWeaver.java:1111)\n\tat org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave(AjCompilerAdapter.java:311)\n\tat org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling(AjCompilerAdapter.java:183)\n\tat org.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$afterReturning$org_aspectj_ajdt_internal_compiler_CompilerAdapter$2$f9cc9ca0(CompilerAdapter.aj:70)\n\tat org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:367)\n\tat org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation(AjBuildManager.java:862)\n\tat org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild(AjBuildManager.java:242)\n\tat org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild(AjBuildManager.java:161)\n\tat org.aspectj.ajdt.ajc.AjdtCommand.doCommand(AjdtCommand.java:112)\n\tat org.aspectj.ajdt.ajc.AjdtCommand.runCommand(AjdtCommand.java:60)\n\tat org.aspectj.tools.ajc.Main.run(Main.java:367)\n\tat org.aspectj.tools.ajc.Main.runMain(Main.java:246)\n\tat org.aspectj.tools.ajc.Main.main(Main.java:86)\n\n\u003d\u003d Alternatives that worked \u003d\u003d:\nIf I do \n1) each class file one at a time (per ajc call), i.e. the -inpath directory has only one class file.\n2) each aspect file at a time (per ajc call), i.e. \najc.bat -inpath action -d actionNew -classpath \u003cmyclasspath\u003e\nSampleAspect.aj -Xlintfile \"C:/Core/Xlint.properties \n\nthen weaving succeeds. \n\n1) I thought that the compiler would be doing the same thing given one file or multiple files in a directory internally. Is there some optimization for multiple files? Same question for multiple vs. one aspect. \n \n \nPlease let me know if you need any other information."
  ],
  "commentCreationDates": [
    "2007-01-12T03:20:05+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.aspectj.weaver.BCException",
      "message": "Can\u0027t find bcel delegate for org.apache.struts.action.ActionMapping type\u003dclass org.aspectj.weaver.ReferenceType when weaving classes  when weaving  when batch building BuildConfig[null] #Files\u003d0",
      "elements": [
        {
          "method": "org.aspectj.weaver.bcel.BcelWeaver.weave",
          "source": "BcelWeaver.java:1111"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.weave",
          "source": "AjCompilerAdapter.java:311"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.AjCompilerAdapter.afterCompiling",
          "source": "AjCompilerAdapter.java:183"
        },
        {
          "method": "org.aspectj.ajdt.internal.compiler.CompilerAdapter.ajc$afterReturning$org_aspectj_ajdt_internal_compiler_CompilerAdapter$2$f9cc9ca0",
          "source": "CompilerAdapter.aj:70"
        },
        {
          "method": "org.aspectj.org.eclipse.jdt.internal.compiler.Compiler.compile",
          "source": "Compiler.java:367"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.performCompilation",
          "source": "AjBuildManager.java:862"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.doBuild",
          "source": "AjBuildManager.java:242"
        },
        {
          "method": "org.aspectj.ajdt.internal.core.builder.AjBuildManager.batchBuild",
          "source": "AjBuildManager.java:161"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.doCommand",
          "source": "AjdtCommand.java:112"
        },
        {
          "method": "org.aspectj.ajdt.ajc.AjdtCommand.runCommand",
          "source": "AjdtCommand.java:60"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.run",
          "source": "Main.java:367"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.runMain",
          "source": "Main.java:246"
        },
        {
          "method": "org.aspectj.tools.ajc.Main.main",
          "source": "Main.java:86"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "170288",
      "date": "2007-01-12T03:20:05+01:00",
      "product": "AspectJ",
      "component": "Compiler",
      "severity": "normal"
    }
  ],
  "groupId": "170288",
  "bugId": "170288",
  "date": "2007-01-12T03:20:05+01:00",
  "product": "AspectJ",
  "component": "Compiler",
  "severity": "normal"
}