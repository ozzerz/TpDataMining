{
  "comments": [
    "1. Select File \u003e Open File from a runtime workspace\n2. Choose a known valid SML-IF file to open that is *not* already in the workspace\n3. After the editor opens, click the Validate link on the Overview page of the editor\n4. Observe that nothing appears to happen.  Open the error log view and notice the following error has been logged:\n\njava.lang.ClassCastException: org.eclipse.ui.internal.editors.text.JavaFileEditorInput incompatible with org.eclipse.ui.part.FileEditorInput\n\tat org.eclipse.cosmos.rm.smlif.internal.editor.OverviewPage$1.linkActivated(OverviewPage.java:161)\n\tat org.eclipse.ui.forms.widgets.AbstractHyperlink.handleActivate(AbstractHyperlink.java:208)\n\tat org.eclipse.ui.forms.widgets.AbstractHyperlink.handleMouseUp(AbstractHyperlink.java:289)\n\tat org.eclipse.ui.forms.widgets.AbstractHyperlink.access$1(AbstractHyperlink.java:273)\n\tat org.eclipse.ui.forms.widgets.AbstractHyperlink$4.handleEvent(AbstractHyperlink.java:110)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)",
    "Note: here is the offending line of code:\n\n\t\t\t\tvalidateAction.selectionChanged(null, new StructuredSelection(((FileEditorInput)input).getFile()));\n\nI am not sure how we got a JavaFileEditorInput instance in the case of an external file.  Also, the API getFile() does not exist on JavaFileEditor.  We would probably have to use getPath() and try to create an IFile instance from that, since presumably the validate action expects an IFile in the selection.",
    "Fixed.  There are actually 3 cases that need to be handled by the ResourceWrapper.  The case we weren\u0027t handling is that we have an IResource instance, and we are in Eclipse, but the resource doesn\u0027t actually exist in the workspace.  I have added logic to the wrapper to handle that third case, and these changes are transparent to ValidateResourceAction.",
    "fixed"
  ],
  "commentCreationDates": [
    "2007-05-10T17:44:50+02:00",
    "2007-05-10T17:49:03+02:00",
    "2007-05-10T19:09:42+02:00",
    "2007-11-21T18:23:00+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.ui.internal.editors.text.JavaFileEditorInput incompatible with org.eclipse.ui.part.FileEditorInput",
      "elements": [
        {
          "method": "org.eclipse.cosmos.rm.smlif.internal.editor.OverviewPage$1.linkActivated",
          "source": "OverviewPage.java:161"
        },
        {
          "method": "org.eclipse.ui.forms.widgets.AbstractHyperlink.handleActivate",
          "source": "AbstractHyperlink.java:208"
        },
        {
          "method": "org.eclipse.ui.forms.widgets.AbstractHyperlink.handleMouseUp",
          "source": "AbstractHyperlink.java:289"
        },
        {
          "method": "org.eclipse.ui.forms.widgets.AbstractHyperlink.access$1",
          "source": "AbstractHyperlink.java:273"
        },
        {
          "method": "org.eclipse.ui.forms.widgets.AbstractHyperlink$4.handleEvent",
          "source": "AbstractHyperlink.java:110"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "186396",
      "date": "2007-05-10T17:44:50+02:00",
      "product": "Cosmos",
      "component": "ResourceModeling",
      "severity": "normal"
    }
  ],
  "groupId": "186396",
  "bugId": "186396",
  "date": "2007-05-10T17:44:50+02:00",
  "product": "Cosmos",
  "component": "ResourceModeling",
  "severity": "normal"
}