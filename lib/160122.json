{
  "comments": [
    "From time to time I get this weird exception:\n\njava.lang.IllegalArgumentException: Argument not valid\n        at org.eclipse.swt.SWT.error(SWT.java:3358)\n        at org.eclipse.swt.SWT.error(SWT.java:3297)\n        at org.eclipse.swt.SWT.error(SWT.java:3268)\n        at org.eclipse.swt.graphics.GC.setFont(GC.java:2920)\n        at org.eclipse.ui.forms.widgets.Hyperlink.paintText(Hyperlink.java:177)\n        at org.eclipse.ui.forms.widgets.Hyperlink.paintHyperlink(Hyperlink.java:165)\n        at org.eclipse.ui.forms.widgets.AbstractHyperlink.paint(AbstractHyperlink.java:265)\n        at org.eclipse.ui.forms.widgets.AbstractHyperlink$2.paintControl(AbstractHyperlink.java:72)\n        at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:83)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1085)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1109)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1094)\n        at org.eclipse.swt.widgets.Control.gtk_expose_event(Control.java:2024)\n        at org.eclipse.swt.widgets.Composite.gtk_expose_event(Composite.java:605)\n        at org.eclipse.swt.widgets.Canvas.gtk_expose_event(Canvas.java:133)\n        at org.eclipse.swt.widgets.Widget.windowProc(Widget.java:1430)\n        at org.eclipse.swt.widgets.Display.windowProc(Display.java:3796)\n        at org.eclipse.swt.internal.gtk.OS._gtk_main_do_event(Native Method)\n        at org.eclipse.swt.internal.gtk.OS.gtk_main_do_event(OS.java:5245)\n        at org.eclipse.swt.widgets.Display.eventProc(Display.java:1133)\n        at org.eclipse.swt.internal.gtk.OS._g_main_context_iteration(Native Method)\n        at org.eclipse.swt.internal.gtk.OS.g_main_context_iteration(OS.java:1427)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2838)\n        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)\n        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)\n        at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\nMy Eclipse config is attached.",
    "Created an attachment (id\u003d51596)\nMy Eclipse config.\n\n",
    "punting to the father of Forms",
    "The hyperlink color management is currently flawed in that it borrows the colors from JFaceColors (which delegates to ColorRegistry), and hangs onto these Color objects. These colors can be disposed when the setting changes via the preference page. We need to somehow add ourselves as resource listeners for these colors. However, I would hate adding each hyperlink group as a listener to the color registry. We need to carefully fix this one.\n\nCan you clarify \u0027from time to time\u0027? Is there a repeatable sequence of steps that causes this exception to be thrown?",
    "Nope...\nI have a FormEditor with multiple FormPage\u0027s, when moving between tabs - it happens occasionally, with no reproduction scenario. My workaround was: to change the type of Section to non-expandable.",
    "In that case, the title of the bug may be incorrect. The exception claims that \u0027Argument is not valid\u0027, not that it has been disposed. It is possible that font is null, not disposed.\n\nMoving to SWT team for comment. The code in question is:\n\n\tprotected void paintText(GC gc, Rectangle bounds) {\n\t\tgc.setFont(getFont()); \u003c--- line 177\n\t\tgc.setForeground(getForeground());\n\nHyperlink class extends Canvas. My assumption has been that \u0027getFont\u0027 should always return a valid font even if \u0027setFont(null)\u0027 has been used. What does \u0027Argument no valid\u0027 mean - that Font resource has been disposed or something else?",
    "A disposed font is being answered by getFont(), so the font that was previously set into your Canvas subclass has been prematurely disposed bby someone while it\u0027s still being used.\n\nUsing a small test snippet it appears that in this scenario getFont() will not answer a disposed font on win32, so there is a platform difference here that makes your scenario not fail on win32.  However this behaviour is not spec\u0027d and cannot be counted on.\n\nReturning report to UA since disposing a font that is still in use is never valid.\n"
  ],
  "commentCreationDates": [
    "2006-10-07T10:58:19+02:00",
    "2006-10-07T11:01:34+02:00",
    "2006-10-09T18:02:49+02:00",
    "2006-11-14T22:47:12+01:00",
    "2006-11-15T05:22:41+01:00",
    "2006-11-15T13:04:29+01:00",
    "2006-12-04T21:22:16+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Argument not valid",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3358"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3297"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:3268"
        },
        {
          "method": "org.eclipse.swt.graphics.GC.setFont",
          "source": "GC.java:2920"
        },
        {
          "method": "org.eclipse.ui.forms.widgets.Hyperlink.paintText",
          "source": "Hyperlink.java:177"
        },
        {
          "method": "org.eclipse.ui.forms.widgets.Hyperlink.paintHyperlink",
          "source": "Hyperlink.java:165"
        },
        {
          "method": "org.eclipse.ui.forms.widgets.AbstractHyperlink.paint",
          "source": "AbstractHyperlink.java:265"
        },
        {
          "method": "org.eclipse.ui.forms.widgets.AbstractHyperlink$2.paintControl",
          "source": "AbstractHyperlink.java:72"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:83"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1085"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1109"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1094"
        },
        {
          "method": "org.eclipse.swt.widgets.Control.gtk_expose_event",
          "source": "Control.java:2024"
        },
        {
          "method": "org.eclipse.swt.widgets.Composite.gtk_expose_event",
          "source": "Composite.java:605"
        },
        {
          "method": "org.eclipse.swt.widgets.Canvas.gtk_expose_event",
          "source": "Canvas.java:133"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.windowProc",
          "source": "Widget.java:1430"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.windowProc",
          "source": "Display.java:3796"
        },
        {
          "method": "org.eclipse.swt.internal.gtk.OS._gtk_main_do_event",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.gtk.OS.gtk_main_do_event",
          "source": "OS.java:5245"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.eventProc",
          "source": "Display.java:1133"
        },
        {
          "method": "org.eclipse.swt.internal.gtk.OS._g_main_context_iteration",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.swt.internal.gtk.OS.g_main_context_iteration",
          "source": "OS.java:1427"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2838"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1914"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1878"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "160122",
      "date": "2006-10-07T10:58:19+02:00",
      "product": "Platform",
      "component": "User Assistance",
      "severity": "major"
    }
  ],
  "groupId": "160122",
  "bugId": "160122",
  "date": "2006-10-07T10:58:19+02:00",
  "product": "Platform",
  "component": "User Assistance",
  "severity": "major"
}