{
  "comments": [
    "I20071212-0010.\n\nCaused by bug 185502.\n\n1. start a simple Java app (no plug-ins)\n2. try to import binary projects\n\n\u003d\u003d\u003e\n\n!ENTRY org.eclipse.ui 4 0 2007-12-12 15:03:27.639\n!MESSAGE Unhandled event loop exception\n!STACK 0\njava.lang.NullPointerException\n\tat org.eclipse.pde.internal.ui.launcher.BundleLauncherHelper.getWorkspaceBundleMap(BundleLauncherHelper.java:33)\n\tat org.eclipse.pde.internal.ui.wizards.imports.PluginImportWizard.areConflictingConfigurations(PluginImportWizard.java:125)\n\tat org.eclipse.pde.internal.ui.wizards.imports.PluginImportWizard.performFinish(PluginImportWizard.java:92)\n\tat org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:742)\n\tat org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:373)\n\tat org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:623)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:952)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3750)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3361)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:825)\n\tat org.eclipse.jface.window.Window.open(Window.java:801)\n\tat org.eclipse.ui.internal.handlers.WizardHandler$Import.executeHandler(WizardHandler.java:159)\n\tat org.eclipse.ui.internal.handlers.WizardHandler.execute(WizardHandler.java:280)\n\tat org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:240)\n\tat org.eclipse.core.commands.Command.executeWithChecks(Command.java:475)\n\tat org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:470)\n\tat org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:165)\n\tat org.eclipse.ui.internal.handlers.SlaveHandlerService.executeCommand(SlaveHandlerService.java:247)\n\tat org.eclipse.ui.internal.actions.CommandAction.runWithEvent(CommandAction.java:157)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:582)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:499)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:410)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:952)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3750)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3361)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2381)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2345)\n\tat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2211)\n\tat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:473)\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:288)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:468)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:362)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:175)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:561)\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:501)\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1239)\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1215)\n\tat org.eclipse.core.launcher.Main.main(Main.java:30)",
    "Created an attachment (id\u003d85087)\npossible fix\n\nAs I couldn\u0027t reproduce that I can only assume that this is a good patch. NPE can happen in this method only when ILaunchConfiguration passed as parameter to org.eclipse.pde.internal.ui.launcher.BundleLauncherHelper.getWorkspaceBundleMap(BundleLauncherHelper.java:33)\nis null. \n",
    "Bartosz, thanks for creating a fix so quickly.  Since it was milestone week and this is a major sev. bug, I was also working on the bug.\n\nI figured we would take it one step further by checking to see if the running ILaunchConfiguration was actually a PDE configuration.  If it is not, then  we can ignore it and move on.  It seemed a little funny to get a warning about a possible conflict when the only thing running was a java application :)",
    "\u003eI figured we would take it one step further by checking to see if the running\n\u003eILaunchConfiguration was actually a PDE configuration.  If it is not, then  we\n\u003ecan ignore it and move on. \nWhat about a simple Java launch config that runs an SWT snippet which is in a Java project that has the imported SWT project on its dependency list?\n\n\u003eAs I couldn\u0027t reproduce that ...\nI can now also not reproduce with the simple steps from comment 0. I made\nseveral tests and launch configs, so maybe it was caused by another config and\nnot the simply one I was running.\n",
    "\u003e What about a simple Java launch config that runs an SWT snippet which is in a\n\u003e Java project that has the imported SWT project on its dependency list?\n\nI was trying to fix bug 212763 without knowing you opened it.  I will remove the fix I placed in there to look for PDE launch configs and we can fix it in that bug.",
    "Reassigned bug to Bartosz since we used his patch to fix the bug.  Will be in I20071212-1800. ",
    "Tried various scenarios using I20071212-1800 and could not trigger the NPE anymore."
  ],
  "commentCreationDates": [
    "2007-12-12T14:09:09+01:00",
    "2007-12-12T16:55:04+01:00",
    "2007-12-12T17:30:57+01:00",
    "2007-12-12T17:34:49+01:00",
    "2007-12-12T20:53:57+01:00",
    "2007-12-12T20:55:20+01:00",
    "2007-12-13T08:47:49+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.pde.internal.ui.launcher.BundleLauncherHelper.getWorkspaceBundleMap",
          "source": "BundleLauncherHelper.java:33"
        },
        {
          "method": "org.eclipse.pde.internal.ui.wizards.imports.PluginImportWizard.areConflictingConfigurations",
          "source": "PluginImportWizard.java:125"
        },
        {
          "method": "org.eclipse.pde.internal.ui.wizards.imports.PluginImportWizard.performFinish",
          "source": "PluginImportWizard.java:92"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.finishPressed",
          "source": "WizardDialog.java:742"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.buttonPressed",
          "source": "WizardDialog.java:373"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$2.widgetSelected",
          "source": "Dialog.java:623"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:227"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:952"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3750"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3361"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:825"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:801"
        },
        {
          "method": "org.eclipse.ui.internal.handlers.WizardHandler$Import.executeHandler",
          "source": "WizardHandler.java:159"
        },
        {
          "method": "org.eclipse.ui.internal.handlers.WizardHandler.execute",
          "source": "WizardHandler.java:280"
        },
        {
          "method": "org.eclipse.ui.internal.handlers.HandlerProxy.execute",
          "source": "HandlerProxy.java:240"
        },
        {
          "method": "org.eclipse.core.commands.Command.executeWithChecks",
          "source": "Command.java:475"
        },
        {
          "method": "org.eclipse.core.commands.ParameterizedCommand.executeWithChecks",
          "source": "ParameterizedCommand.java:470"
        },
        {
          "method": "org.eclipse.ui.internal.handlers.HandlerService.executeCommand",
          "source": "HandlerService.java:165"
        },
        {
          "method": "org.eclipse.ui.internal.handlers.SlaveHandlerService.executeCommand",
          "source": "SlaveHandlerService.java:247"
        },
        {
          "method": "org.eclipse.ui.internal.actions.CommandAction.runWithEvent",
          "source": "CommandAction.java:157"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:582"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:499"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:410"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:952"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3750"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:3361"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2381"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2345"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2211"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:473"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:288"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:468"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:193"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:362"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:175"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:597"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:561"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:501"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1239"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.main",
          "source": "Main.java:1215"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:30"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "212744",
      "date": "2007-12-12T14:09:09+01:00",
      "product": "PDE",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "212744",
  "bugId": "212744",
  "date": "2007-12-12T14:09:09+01:00",
  "product": "PDE",
  "component": "UI",
  "severity": "major"
}