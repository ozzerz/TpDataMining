{
  "comments": [
    "I have created a plugin which needs to choose the icon based on local (i.e. NLS\nfor icons).  When I enter the icon value as %wizard1.icon, the plugin.xml editor\nwill not save it.  I can enter the value from the source view, but the\nextensions view will no longer work correctly.  The runtime environment\ncorrectly looks up the value and the icon is displayed in the debug environment.\nHere is an example plugin.xml file as well as a partial trace of the error when\ntrying to save the plugin.xml file.\n\n\u003c?xml version\u003d\"1.0\" encoding\u003d\"UTF-8\"?\u003e\n\u003cplugin\n   id\u003d\"TestPlugin\"\n   name\u003d\"Test Plugin Plug-in\"\n   version\u003d\"1.0.0\"\n   provider-name\u003d\"ME\"\n   class\u003d\"TestPlugin.TestPluginPlugin\"\u003e\n\n   \u003cruntime\u003e\n      \u003clibrary name\u003d\"TestPlugin.jar\"/\u003e\n   \u003c/runtime\u003e\n   \u003crequires\u003e\n      \u003cimport plugin\u003d\"org.eclipse.core.resources\"/\u003e\n      \u003cimport plugin\u003d\"org.eclipse.ui\"/\u003e\n   \u003c/requires\u003e\n\n\n   \u003cextension\n         id\u003d\"com.example.testplugin\"\n         name\u003d\"com.example.testplugin\"\n         point\u003d\"org.eclipse.ui.newWizards\"\u003e\n      \u003ccategory\n            name\u003d\"%description\"\n            id\u003d\"Test Plugin.category1\"\u003e\n      \u003c/category\u003e\n      \u003cwizard\n            name\u003d\"%wizard\"\n            icon\u003d\"%wizard1.icon\"\n            category\u003d\"Test Plugin.category1\"\n            class\u003d\"Test Plugin.NewWizard1\"\n            id\u003d\"Test Plugin.wizard1\"\u003e\n      \u003c/wizard\u003e\n   \u003c/extension\u003e\n\n\u003c/plugin\u003e\n\n\n\n\njava.lang.IllegalArgumentException\n\tat sun.net.www.ParseUtil.decode(Unknown Source)\n\tat sun.net.www.protocol.file.Handler.openConnection(Unknown Source)\n\tat java.net.URL.openConnection(Unknown Source)\n\tat java.net.URL.openStream(Unknown Source)\n\tat\norg.eclipse.jface.resource.URLImageDescriptor.getStream(URLImageDescriptor.java:77)\n\tat\norg.eclipse.jface.resource.URLImageDescriptor.getImageData(URLImageDescriptor.java:48)\n\tat org.eclipse.jface.resource.ImageDescriptor.createImage(ImageDescriptor.java:118)\n\tat org.eclipse.jface.resource.ImageDescriptor.createImage(ImageDescriptor.java:94)\n\tat org.eclipse.jface.resource.ImageDescriptor.createImage(ImageDescriptor.java:83)\n\tat\norg.eclipse.pde.internal.ui.util.SharedLabelProvider.getImageFromURL(SharedLabelProvider.java:184)\n\tat\norg.eclipse.pde.internal.ui.editor.manifest.DetailExtensionSection.getImageFromPlugin(DetailExtensionSection.java:579)\n\tat\norg.eclipse.pde.internal.ui.editor.manifest.DetailExtensionSection.getCustomImage(DetailExtensionSection.java:554)\n\tat\norg.eclipse.pde.internal.ui.editor.manifest.DetailExtensionSection.resolveObjectImage(DetailExtensionSection.java:529)\n\tat\norg.eclipse.pde.internal.ui.editor.manifest.DetailExtensionSection.access$1(DetailExtensionSection.java:522)\n\tat\norg.eclipse.pde.internal.ui.editor.manifest.DetailExtensionSection$ExtensionLabelProvider.getColumnImage(DetailExtensionSection.java:128)\n\tat\norg.eclipse.pde.internal.ui.editor.manifest.DetailExtensionSection$ExtensionLabelProvider.getImage(DetailExtensionSection.java:118)\n\tat org.eclipse.jface.viewers.TreeViewer.doUpdateItem(TreeViewer.java:96)\n\tat\norg.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run(AbstractTreeViewer.java:87)\n\tat\norg.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:889)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:413)",
    "Yeah, it\u0027s a bug - PDE tries to load the image to display it instead of the \ngeneric XML object image but chokes on \u0027%\u0027.",
    "Fixed. The fix will show up in tomorrow\u0027s integration build (how\u0027s that for \nservice :-)."
  ],
  "commentCreationDates": [
    "2003-06-24T20:59:27+02:00",
    "2003-06-24T21:19:35+02:00",
    "2003-06-24T21:22:34+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "elements": [
        {
          "method": "sun.net.www.ParseUtil.decode",
          "source": "Unknown Source"
        },
        {
          "method": "sun.net.www.protocol.file.Handler.openConnection",
          "source": "Unknown Source"
        },
        {
          "method": "java.net.URL.openConnection",
          "source": "Unknown Source"
        },
        {
          "method": "java.net.URL.openStream",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.jface.resource.URLImageDescriptor.getStream",
          "source": "URLImageDescriptor.java:77"
        },
        {
          "method": "org.eclipse.jface.resource.URLImageDescriptor.getImageData",
          "source": "URLImageDescriptor.java:48"
        },
        {
          "method": "org.eclipse.jface.resource.ImageDescriptor.createImage",
          "source": "ImageDescriptor.java:118"
        },
        {
          "method": "org.eclipse.jface.resource.ImageDescriptor.createImage",
          "source": "ImageDescriptor.java:94"
        },
        {
          "method": "org.eclipse.jface.resource.ImageDescriptor.createImage",
          "source": "ImageDescriptor.java:83"
        },
        {
          "method": "org.eclipse.pde.internal.ui.util.SharedLabelProvider.getImageFromURL",
          "source": "SharedLabelProvider.java:184"
        },
        {
          "method": "org.eclipse.pde.internal.ui.editor.manifest.DetailExtensionSection.getImageFromPlugin",
          "source": "DetailExtensionSection.java:579"
        },
        {
          "method": "org.eclipse.pde.internal.ui.editor.manifest.DetailExtensionSection.getCustomImage",
          "source": "DetailExtensionSection.java:554"
        },
        {
          "method": "org.eclipse.pde.internal.ui.editor.manifest.DetailExtensionSection.resolveObjectImage",
          "source": "DetailExtensionSection.java:529"
        },
        {
          "method": "org.eclipse.pde.internal.ui.editor.manifest.DetailExtensionSection.access$1",
          "source": "DetailExtensionSection.java:522"
        },
        {
          "method": "org.eclipse.pde.internal.ui.editor.manifest.DetailExtensionSection$ExtensionLabelProvider.getColumnImage",
          "source": "DetailExtensionSection.java:128"
        },
        {
          "method": "org.eclipse.pde.internal.ui.editor.manifest.DetailExtensionSection$ExtensionLabelProvider.getImage",
          "source": "DetailExtensionSection.java:118"
        },
        {
          "method": "org.eclipse.jface.viewers.TreeViewer.doUpdateItem",
          "source": "TreeViewer.java:96"
        },
        {
          "method": "org.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run",
          "source": "AbstractTreeViewer.java:87"
        },
        {
          "method": "org.eclipse.core.internal.runtime.InternalPlatform.run",
          "source": "InternalPlatform.java:889"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:413"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "39283",
      "date": "2003-06-24T20:59:27+02:00",
      "product": "PDE",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "39283",
  "bugId": "39283",
  "date": "2003-06-24T20:59:27+02:00",
  "product": "PDE",
  "component": "UI",
  "severity": "normal"
}