{
  "comments": [
    "Build ID: 2.2.1.1\n\nSteps To Reproduce:\n1.deploy Birt 2.2.1.1 war to Jboss 4.2.1\n2. deploy an ear with an EJB3 entity bean\n3. access the EJB3 entity bean\n\n\nMore information:\njavax.ejb.EJBTransactionRolledbackException: java.lang.IllegalArgumentException: Provided id of the wrong type. Expected: class java.lang.Integer, got class java.lang.Boolean\n\tat org.jboss.ejb3.tx.Ejb3TxPolicy.handleInCallerTx(Ejb3TxPolicy.java:87)\n\tat org.jboss.aspects.tx.TxPolicy.invokeInCallerTx(TxPolicy.java:130)\n\tat org.jboss.aspects.tx.TxInterceptor$Required.invoke(TxInterceptor.java:195)\n\tat org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)\n\tat org.jboss.ejb3.stateless.StatelessInstanceInterceptor.invoke(StatelessInstanceInterceptor.java:62)\n\tat org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)\n\tat org.jboss.ejb3.mdb.MessagingContainer.localInvoke(MessagingContainer.java:249)\n\tat org.jboss.ejb3.mdb.inflow.MessageInflowLocalProxy.delivery(MessageInflowLocalProxy.java:268)\n\tat org.jboss.ejb3.mdb.inflow.MessageInflowLocalProxy.invoke(MessageInflowLocalProxy.java:138)\n\tat $Proxy241.onMessage(Unknown Source)\n\tat org.jboss.resource.adapter.jms.inflow.JmsServerSession.onMessage(JmsServerSession.java:178)\n\tat org.jboss.jms.client.container.ClientConsumer.callOnMessage(ClientConsumer.java:157)\n\tat org.jboss.jms.client.container.SessionAspect.handleRun(SessionAspect.java:802)\n\tat org.jboss.aop.advice.org.jboss.jms.client.container.SessionAspect14.invoke(SessionAspect14.java)\n\tat org.jboss.jms.client.delegate.ClientSessionDelegate$run_N8003352271541955702.invokeNext(ClientSessionDelegate$run_N8003352271541955702.java)\n\tat org.jboss.jms.client.container.ClosedInterceptor.invoke(ClosedInterceptor.java:170)\n\tat org.jboss.aop.advice.PerInstanceInterceptor.invoke(PerInstanceInterceptor.java:105)\n\tat org.jboss.jms.client.delegate.ClientSessionDelegate$run_N8003352271541955702.invokeNext(ClientSessionDelegate$run_N8003352271541955702.java)\n\tat org.jboss.jms.client.delegate.ClientSessionDelegate.run(ClientSessionDelegate.java)\n\tat org.jboss.jms.client.JBossSession.run(JBossSession.java:199)\n\tat org.jboss.resource.adapter.jms.inflow.JmsServerSession.run(JmsServerSession.java:237)\n\tat org.jboss.resource.work.WorkWrapper.execute(WorkWrapper.java:204)\n\tat org.jboss.util.threadpool.BasicTaskWrapper.run(BasicTaskWrapper.java:275)\n\tat EDU.oswego.cs.dl.util.concurrent.PooledExecutor$Worker.run(PooledExecutor.java:756)\n\tat java.lang.Thread.run(Thread.java:595)\nCaused by: java.lang.RuntimeException: java.lang.IllegalArgumentException: Provided id of the wrong type. Expected: class java.lang.Integer, got class java.lang.Boolean\n\tat com.zattoo.adserver.fim.aggregator.CampaignRunDailyAggregator.onMessage(CampaignRunDailyAggregator.java:74)\n\tat sun.reflect.GeneratedMethodAccessor398.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:112)\n\tat org.jboss.ejb3.interceptor.InvocationContextImpl.proceed(InvocationContextImpl.java:166)\n\tat org.jboss.ejb3.interceptor.EJB3InterceptorsInterceptor.invoke(EJB3InterceptorsInterceptor.java:63)\n\tat org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)\n\tat org.jboss.ejb3.entity.TransactionScopedEntityManagerInterceptor.invoke(TransactionScopedEntityManagerInterceptor.java:54)\n\tat org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)\n\tat org.jboss.ejb3.AllowedOperationsInterceptor.invoke(AllowedOperationsInterceptor.java:47)\n\tat org.jboss.aop.joinpoint.MethodInvocation.invokeNext(MethodInvocation.java:101)\n\tat org.jboss.aspects.tx.TxPolicy.invokeInCallerTx(TxPolicy.java:126)\n\t... 23 more\nCaused by: java.lang.IllegalArgumentException: Provided id of the wrong type. Expected: class java.lang.Integer, got class java.lang.Boolean\n\tat org.hibernate.ejb.AbstractEntityManagerImpl.find(AbstractEntityManagerImpl.java:188)\n\tat org.jboss.ejb3.entity.TransactionScopedEntityManager.find(TransactionScopedEntityManager.java:171)\n\tat com.zattoo.adserver.fim.aggregator.CampaignRunDailyAggregator.sendCapEvent(CampaignRunDailyAggregator.java:133)\n\tat com.zattoo.adserver.fim.aggregator.CampaignRunDailyAggregator.updateSumRow(CampaignRunDailyAggregator.java:104)\n\tat com.zattoo.adserver.fim.aggregator.CampaignRunDailyAggregator.onMessage(CampaignRunDailyAggregator.java:67)\n\t... 35 more\nCaused by: org.hibernate.TypeMismatchException: Provided id of the wrong type. Expected: class java.lang.Integer, got class java.lang.Boolean\n\tat org.hibernate.event.def.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:86)\n\tat org.hibernate.impl.SessionImpl.fireLoad(SessionImpl.java:878)\n\tat org.hibernate.impl.SessionImpl.internalLoad(SessionImpl.java:846)\n\tat org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:557)\n\tat org.hibernate.type.ManyToOneType.assemble(ManyToOneType.java:196)\n\tat org.hibernate.type.TypeFactory.assemble(TypeFactory.java:420)\n\tat org.hibernate.cache.entry.CacheEntry.assemble(CacheEntry.java:96)\n\tat org.hibernate.cache.entry.CacheEntry.assemble(CacheEntry.java:82)\n\tat org.hibernate.event.def.DefaultLoadEventListener.assembleCacheEntry(DefaultLoadEventListener.java:553)\n\tat org.hibernate.event.def.DefaultLoadEventListener.loadFromSecondLevelCache(DefaultLoadEventListener.java:508)\n\tat org.hibernate.event.def.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:357)\n\tat org.hibernate.event.def.DefaultLoadEventListener.load(DefaultLoadEventListener.java:139)\n\tat org.hibernate.event.def.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:195)\n\tat org.hibernate.event.def.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:103)\n\tat org.hibernate.impl.SessionImpl.fireLoad(SessionImpl.java:878)\n\tat org.hibernate.impl.SessionImpl.get(SessionImpl.java:815)\n\tat org.hibernate.impl.SessionImpl.get(SessionImpl.java:808)\n\tat org.hibernate.ejb.AbstractEntityManagerImpl.find(AbstractEntityManagerImpl.java:174)\n\t... 39 more\n\n\n\n\nIf I remove the birt.war, everything works fine.  Add it back in and restart JBoss, I see this.",
    "Could you please attach an example EAR which produces this bug?\n\nThank you.",
    "I deployed the birt war and a simple EAR, but the bug doesn\u0027t appear.\n\nCan you please provide the following information:\n- Linux distribution and version\n- JDK version\n- which kind of data source do you use (I tried with HSQLDB)\n- simple example code which produces the bug\n- maybe a portion of the DB schema where that ID type may be wrong, according to the exception\n- possible relationships between BIRT and your EAR: do they somehow share the same datasource?\n\nThank you.",
    "Couldn\u0027t reproduce the bug. Setting the status on WORKSFORME."
  ],
  "commentCreationDates": [
    "2007-11-22T04:22:53+01:00",
    "2007-11-27T04:08:09+01:00",
    "2007-11-27T06:46:55+01:00",
    "2007-12-05T03:15:42+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Provided id of the wrong type. Expected: class java.lang.Integer, got class java.lang.Boolean",
      "elements": [
        {
          "method": "org.jboss.ejb3.tx.Ejb3TxPolicy.handleInCallerTx",
          "source": "Ejb3TxPolicy.java:87"
        },
        {
          "method": "org.jboss.aspects.tx.TxPolicy.invokeInCallerTx",
          "source": "TxPolicy.java:130"
        },
        {
          "method": "org.jboss.aspects.tx.TxInterceptor$Required.invoke",
          "source": "TxInterceptor.java:195"
        },
        {
          "method": "org.jboss.aop.joinpoint.MethodInvocation.invokeNext",
          "source": "MethodInvocation.java:101"
        },
        {
          "method": "org.jboss.ejb3.stateless.StatelessInstanceInterceptor.invoke",
          "source": "StatelessInstanceInterceptor.java:62"
        },
        {
          "method": "org.jboss.aop.joinpoint.MethodInvocation.invokeNext",
          "source": "MethodInvocation.java:101"
        },
        {
          "method": "org.jboss.ejb3.mdb.MessagingContainer.localInvoke",
          "source": "MessagingContainer.java:249"
        },
        {
          "method": "org.jboss.ejb3.mdb.inflow.MessageInflowLocalProxy.delivery",
          "source": "MessageInflowLocalProxy.java:268"
        },
        {
          "method": "org.jboss.ejb3.mdb.inflow.MessageInflowLocalProxy.invoke",
          "source": "MessageInflowLocalProxy.java:138"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "210613",
      "date": "2007-11-22T04:22:53+01:00",
      "product": "BIRT",
      "component": "Report Viewer",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Provided id of the wrong type. Expected: class java.lang.Integer, got class java.lang.Boolean",
      "elements": [
        {
          "method": "com.zattoo.adserver.fim.aggregator.CampaignRunDailyAggregator.onMessage",
          "source": "CampaignRunDailyAggregator.java:74"
        },
        {
          "method": "sun.reflect.GeneratedMethodAccessor398.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.jboss.aop.joinpoint.MethodInvocation.invokeNext",
          "source": "MethodInvocation.java:112"
        },
        {
          "method": "org.jboss.ejb3.interceptor.InvocationContextImpl.proceed",
          "source": "InvocationContextImpl.java:166"
        },
        {
          "method": "org.jboss.ejb3.interceptor.EJB3InterceptorsInterceptor.invoke",
          "source": "EJB3InterceptorsInterceptor.java:63"
        },
        {
          "method": "org.jboss.aop.joinpoint.MethodInvocation.invokeNext",
          "source": "MethodInvocation.java:101"
        },
        {
          "method": "org.jboss.ejb3.entity.TransactionScopedEntityManagerInterceptor.invoke",
          "source": "TransactionScopedEntityManagerInterceptor.java:54"
        },
        {
          "method": "org.jboss.aop.joinpoint.MethodInvocation.invokeNext",
          "source": "MethodInvocation.java:101"
        },
        {
          "method": "org.jboss.ejb3.AllowedOperationsInterceptor.invoke",
          "source": "AllowedOperationsInterceptor.java:47"
        },
        {
          "method": "org.jboss.aop.joinpoint.MethodInvocation.invokeNext",
          "source": "MethodInvocation.java:101"
        },
        {
          "method": "org.jboss.aspects.tx.TxPolicy.invokeInCallerTx",
          "source": "TxPolicy.java:126"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.IllegalArgumentException",
        "message": "Provided id of the wrong type. Expected: class java.lang.Integer, got class java.lang.Boolean",
        "elements": [
          {
            "method": "org.hibernate.ejb.AbstractEntityManagerImpl.find",
            "source": "AbstractEntityManagerImpl.java:188"
          },
          {
            "method": "org.jboss.ejb3.entity.TransactionScopedEntityManager.find",
            "source": "TransactionScopedEntityManager.java:171"
          },
          {
            "method": "com.zattoo.adserver.fim.aggregator.CampaignRunDailyAggregator.sendCapEvent",
            "source": "CampaignRunDailyAggregator.java:133"
          },
          {
            "method": "com.zattoo.adserver.fim.aggregator.CampaignRunDailyAggregator.updateSumRow",
            "source": "CampaignRunDailyAggregator.java:104"
          },
          {
            "method": "com.zattoo.adserver.fim.aggregator.CampaignRunDailyAggregator.onMessage",
            "source": "CampaignRunDailyAggregator.java:67"
          }
        ],
        "causedBy": {
          "exceptionType": "org.hibernate.TypeMismatchException",
          "message": "Provided id of the wrong type. Expected: class java.lang.Integer, got class java.lang.Boolean",
          "elements": [
            {
              "method": "org.hibernate.event.def.DefaultLoadEventListener.onLoad",
              "source": "DefaultLoadEventListener.java:86"
            },
            {
              "method": "org.hibernate.impl.SessionImpl.fireLoad",
              "source": "SessionImpl.java:878"
            },
            {
              "method": "org.hibernate.impl.SessionImpl.internalLoad",
              "source": "SessionImpl.java:846"
            },
            {
              "method": "org.hibernate.type.EntityType.resolveIdentifier",
              "source": "EntityType.java:557"
            },
            {
              "method": "org.hibernate.type.ManyToOneType.assemble",
              "source": "ManyToOneType.java:196"
            },
            {
              "method": "org.hibernate.type.TypeFactory.assemble",
              "source": "TypeFactory.java:420"
            },
            {
              "method": "org.hibernate.cache.entry.CacheEntry.assemble",
              "source": "CacheEntry.java:96"
            },
            {
              "method": "org.hibernate.cache.entry.CacheEntry.assemble",
              "source": "CacheEntry.java:82"
            },
            {
              "method": "org.hibernate.event.def.DefaultLoadEventListener.assembleCacheEntry",
              "source": "DefaultLoadEventListener.java:553"
            },
            {
              "method": "org.hibernate.event.def.DefaultLoadEventListener.loadFromSecondLevelCache",
              "source": "DefaultLoadEventListener.java:508"
            },
            {
              "method": "org.hibernate.event.def.DefaultLoadEventListener.doLoad",
              "source": "DefaultLoadEventListener.java:357"
            },
            {
              "method": "org.hibernate.event.def.DefaultLoadEventListener.load",
              "source": "DefaultLoadEventListener.java:139"
            },
            {
              "method": "org.hibernate.event.def.DefaultLoadEventListener.proxyOrLoad",
              "source": "DefaultLoadEventListener.java:195"
            },
            {
              "method": "org.hibernate.event.def.DefaultLoadEventListener.onLoad",
              "source": "DefaultLoadEventListener.java:103"
            },
            {
              "method": "org.hibernate.impl.SessionImpl.fireLoad",
              "source": "SessionImpl.java:878"
            },
            {
              "method": "org.hibernate.impl.SessionImpl.get",
              "source": "SessionImpl.java:815"
            },
            {
              "method": "org.hibernate.impl.SessionImpl.get",
              "source": "SessionImpl.java:808"
            },
            {
              "method": "org.hibernate.ejb.AbstractEntityManagerImpl.find",
              "source": "AbstractEntityManagerImpl.java:174"
            }
          ],
          "number": 0,
          "commentIndex": 0
        },
        "number": 0,
        "commentIndex": 0
      },
      "number": 1,
      "commentIndex": 0,
      "bugId": "210613",
      "date": "2007-11-22T04:22:53+01:00",
      "product": "BIRT",
      "component": "Report Viewer",
      "severity": "normal"
    }
  ],
  "groupId": "210613",
  "bugId": "210613",
  "date": "2007-11-22T04:22:53+01:00",
  "product": "BIRT",
  "component": "Report Viewer",
  "severity": "normal"
}