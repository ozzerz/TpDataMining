{
  "comments": [
    "When starting the TPTP-4.3.0-200610260100 driver, I get the following error in the Error Log view of Eclipse:\n\nNo image specified for action Launch JMX Agent. Default image will be used.\n\norg.eclipse.core.runtime.CoreException: Executable extension definition for \"displayImageProvider\" not found.\nat org.eclipse.core.internal.registry.ConfigurationElement.throwException(ConfigurationElement.java:62)\nat org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:222)\nat org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:51)\nat org.eclipse.tptp.monitoring.managedagent.ui.explorer.internal.ActionManager.createAction(ActionManager.java:75)\nat org.eclipse.tptp.monitoring.managedagent.ui.explorer.internal.ActionManager.processActionProviderElements(ActionManager.java:97)\nat org.eclipse.tptp.monitoring.managedagent.ui.explorer.internal.ActionManager.\u003cinit\u003e(ActionManager.java:34)\nat org.eclipse.tptp.monitoring.managedagent.ui.explorer.internal.ManagedAgentUIPlugin.collectActionProviders(ManagedAgentUIPlugin.java:169)\nat org.eclipse.tptp.monitoring.managedagent.ui.explorer.internal.ManagedAgentUIPlugin.earlyStartup(ManagedAgentUIPlugin.java:262)\nat org.eclipse.ui.internal.EarlyStartupRunnable.runEarlyStartup(EarlyStartupRunnable.java:87)\nat org.eclipse.ui.internal.EarlyStartupRunnable.run(EarlyStartupRunnable.java:66)\nat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\nat org.eclipse.ui.internal.Workbench$20.run(Workbench.java:1759)\nat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)",
    "Matt, Balan, is there an icon missing here.  Please investigate. If this has an effect on the UI that the user sees, the severity should be raised.",
    "Explanation for bug:\nEach extension to the MAX that contributes a ManagedAgent (JMX, WSDM etc.) typically provides an action that is added to the context menu of the resource type when shown in the MAX topology tree. They do this by extending the org.eclipse.tptp.monitoring.managedagent.ui.actionProvider extension point. As part of this extension, they can provide a class that extends org.eclipse.tptp.monitoring.managedagent.ui.explorer.provisional.IDisplayImageProvider - the only method in this class is to return an image descriptor object.\n\nBoth the JMX and WSDM extensions provide a LaunchAgent action contribution but they do different things when the action is invoked. Currently this contribution for WSDM is in the ui package (wrong, see below) and uses the org.eclipse.tptp.monitoring.managedagent.ui.explorer.provisional.actions.LaunchAgentImageProvider class. The JMX agent does not specify any image class and hence this exception (ore of a warning) is written to the error log - an image could not be found/was not specified and hence a default image is being used.\n\nAs part of the fix for 151014 some icons were moved to different folders. Hence even though it doesn\u0027t show up in this exception, the default image is not found and hence no icon is shown next to the launch agent action for JMX resources.\n\nAs part of the fix for \n\nProposed Fixes:\n1. The WSDM action contribution must be moved out of the managedagent.ui plugin (in GA stream) into the managedagent.wsdm plugin (tech preview in 4.3). This requires only removing the extension from the plugin.xml for managedagent.ui plugin (GA stream). This will be added to the plugin.xml in the managedagent.wsdm plugin (tech preview). The LaunchWSDMManagedAgentAction class will be moved into the tech preview stream and as such is only a deletion from the GA stream.\n2. The ActionManager class in managedagent.ui plugin (in GA) needs a 1 line change to use the ImageUtil class to get the default launch agent icon instead of referencing that file directly.\n3. The managedagent.jmx (GA) plugin needs one change in its plugin.xml to use the LaunchAgentImageProvider provided in the managedagent.ui plugin which it depends on anyway. This change allows the extensionto explicitly specify which image it wants to use. In this case, instead of providing a separate image, it references the standard launch agent image.\n\nThese are the only changes required in the GA code.\n\nIn the tech preview code:\n1. The managedagent.wsdm plugin,\n\t- gets the LaunchWSDMManagedAgent class from the managedagent.ui plugin (1 above)\n\t- exports the org.eclipse.tptp.monitoring.managedagent.wsdm.provisional.actions package this action is placed in (see 2 below)\n3. The org.eclipse.tptp.wsdm.tooling.codegeneration plugin uses this LaunchWSDMAgentAction so it,\n\t- needs to express a depedency on the managedagent.wsdm plugin instead of the managedagent.ui plugin\n\t- import this class instead of the older class from managedagent.ui\n\t\nA patch is attached.\n",
    "Created an attachment (id\u003d52845)\nPatch describing minor changes to GA code for this bug\n\n",
    "Created an attachment (id\u003d52846)\nPatch with minor changes to tech preview code for this bug\n\n",
    "This should be fixed in 4.3 as it completes the work to move the WSDM extension code to tech preview.",
    "Checked in patches and added new manual test case in org.eclipse.tptp.monitoring.managedagent.test",
    "Created an attachment (id\u003d53052)\nA missed dependency for the other two patches attached here\n\n",
    "This bug was fixed with the last patch.",
    "Verified on TPTP-4.3.0-200611160100. Closing."
  ],
  "commentCreationDates": [
    "2006-10-26T18:01:45+02:00",
    "2006-10-26T21:28:56+02:00",
    "2006-10-27T17:33:46+02:00",
    "2006-10-27T17:35:21+02:00",
    "2006-10-27T17:35:54+02:00",
    "2006-10-30T17:28:09+01:00",
    "2006-10-31T08:11:09+01:00",
    "2006-11-01T12:25:03+01:00",
    "2006-11-01T17:57:59+01:00",
    "2006-11-17T19:50:57+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.runtime.CoreException",
      "message": "Executable extension definition for \"displayImageProvider\" not found.",
      "elements": [
        {
          "method": "org.eclipse.core.internal.registry.ConfigurationElement.throwException",
          "source": "ConfigurationElement.java:62"
        },
        {
          "method": "org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension",
          "source": "ConfigurationElement.java:222"
        },
        {
          "method": "org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension",
          "source": "ConfigurationElementHandle.java:51"
        },
        {
          "method": "org.eclipse.tptp.monitoring.managedagent.ui.explorer.internal.ActionManager.createAction",
          "source": "ActionManager.java:75"
        },
        {
          "method": "org.eclipse.tptp.monitoring.managedagent.ui.explorer.internal.ActionManager.processActionProviderElements",
          "source": "ActionManager.java:97"
        },
        {
          "method": "org.eclipse.tptp.monitoring.managedagent.ui.explorer.internal.ActionManager.\u003cinit\u003e",
          "source": "ActionManager.java:34"
        },
        {
          "method": "org.eclipse.tptp.monitoring.managedagent.ui.explorer.internal.ManagedAgentUIPlugin.collectActionProviders",
          "source": "ManagedAgentUIPlugin.java:169"
        },
        {
          "method": "org.eclipse.tptp.monitoring.managedagent.ui.explorer.internal.ManagedAgentUIPlugin.earlyStartup",
          "source": "ManagedAgentUIPlugin.java:262"
        },
        {
          "method": "org.eclipse.ui.internal.EarlyStartupRunnable.runEarlyStartup",
          "source": "EarlyStartupRunnable.java:87"
        },
        {
          "method": "org.eclipse.ui.internal.EarlyStartupRunnable.run",
          "source": "EarlyStartupRunnable.java:66"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$20.run",
          "source": "Workbench.java:1759"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "162423",
      "date": "2006-10-26T18:01:45+02:00",
      "product": "TPTP GLA",
      "component": "Monitor.Execution",
      "severity": "major"
    }
  ],
  "groupId": "162423",
  "bugId": "162423",
  "date": "2006-10-26T18:01:45+02:00",
  "product": "TPTP GLA",
  "component": "Monitor.Execution",
  "severity": "major"
}