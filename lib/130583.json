{
  "comments": [
    "Repro:\n\n1. Open Dynamic Web Project wizard.\n2. Enter a project name and select any runtime that supports EARs.\n3. Check the \"Add project to an EAR\" checkbox.\n4. Delete the ear project name from the EAR Project Name combo. The combo text should be empty.\n5. Select Finish to create the project.\n6. Try to open the Dynamic Web Project wizard again.\n\nResult:\n\nThe Dynamic Web Project wizard does not open. The following exception appears in the error log. Setting the severity to critical as at this point your workspace is hosed. You will not be able to create any WTP module project. Restarting Eclipse does not help.\n\nA simple fix would be to disable the next/finish buttons if the \"Add project to an EAR\" checkbox is checked and the \"EAR Project Name\" combo is empty. Might want to check for invalid project name characters here as well. What if the user types in a name of an existing project that\u0027s not an ear.\n\njava.lang.IllegalArgumentException: Path for project must have only one segment.\nat org.eclipse.core.internal.utils.Assert.isLegal(Assert.java:60)\nat org.eclipse.core.internal.resources.WorkspaceRoot.getProject(WorkspaceRoot.java:134)\nat org.eclipse.jem.util.emf.workbench.ProjectUtilities.getProject(ProjectUtilities.java:728)\nat org.eclipse.jst.j2ee.project.facet.J2EEModuleFacetInstallDataModelProvider.getDefaultProperty(J2EEModuleFacetInstallDataModelProvider.java:65)\nat org.eclipse.jst.j2ee.web.project.facet.WebFacetInstallDataModelProvider.getDefaultProperty(WebFacetInstallDataModelProvider.java:50)\nat org.eclipse.wst.common.frameworks.internal.datamodel.DataModelImpl.getProperty(DataModelImpl.java:130)\nat org.eclipse.wst.common.frameworks.internal.datamodel.DataModelImpl.getPropertyDescriptor(DataModelImpl.java:327)\nat org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelSynchHelper.setWidgetValue(DataModelSynchHelper.java:305)\nat org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelSynchHelper$1.run(DataModelSynchHelper.java:221)\nat org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:152)\nat org.eclipse.ui.internal.UISynchronizer.syncExec(UISynchronizer.java:28)\nat org.eclipse.swt.widgets.Display.syncExec(Display.java:3458)\nat org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelSynchHelper.synchUIWithModel(DataModelSynchHelper.java:212)\nat org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelSynchHelper.propertyChanged(DataModelSynchHelper.java:183)\nat org.eclipse.wst.common.frameworks.internal.datamodel.DataModelImpl.notifyListeners(DataModelImpl.java:346)\nat org.eclipse.wst.common.frameworks.internal.datamodel.DataModelImpl.notifyPropertyChange(DataModelImpl.java:337)\nat org.eclipse.jst.j2ee.project.facet.J2EEModuleFacetInstallDataModelProvider.propertySet(J2EEModuleFacetInstallDataModelProvider.java:120)\nat org.eclipse.jst.j2ee.web.project.facet.WebFacetInstallDataModelProvider.propertySet(WebFacetInstallDataModelProvider.java:69)\nat org.eclipse.wst.common.frameworks.internal.datamodel.DataModelImpl.internalSetProperty(DataModelImpl.java:182)\nat org.eclipse.wst.common.frameworks.internal.datamodel.DataModelImpl.setProperty(DataModelImpl.java:172)\nat org.eclipse.jst.j2ee.internal.wizard.J2EEComponentFacetCreationWizardPage.restoreDefaultSettings(J2EEComponentFacetCreationWizardPage.java:94)\nat org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelWizardPage.setDefaults(DataModelWizardPage.java:170)\nat org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelWizardPage.createControl(DataModelWizardPage.java:104)\nat org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:179)\nat org.eclipse.wst.common.project.facet.ui.AddRemoveFacetsWizard.createPageControls(AddRemoveFacetsWizard.java:259)\nat org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:611)\nat org.eclipse.jface.wizard.WizardDialog.setWizard(WizardDialog.java:965)\nat org.eclipse.jface.wizard.WizardDialog.updateForPage(WizardDialog.java:1016)\nat org.eclipse.jface.wizard.WizardDialog.access$2(WizardDialog.java:1013)\nat org.eclipse.jface.wizard.WizardDialog$4.run(WizardDialog.java:1003)\nat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\nat org.eclipse.jface.wizard.WizardDialog.showPage(WizardDialog.java:1001)",
    "Added to 1.0.2 hotlist. Setting priority to P2.",
    "If the list of valid EAR projects is known, shouldn\u0027t we just not allow the user to tamper with the text in the Combo?  And just disable it and the \"Add project to an EAR\" checkbox if no EAR projects exist (assuming we\u0027re not going to provide a hot Link to create one from within the web project wizard)?",
    "We shouldn\u0027t disable the checkbox, because I should be able to check \"add to ear\" and then hit the \"new\" button to create an ear. While I am doing that (\"add to ear\" is checked but no ear is selected), I should be prevented from doing next/finish. \n\nAs far as making the combo read-only, I would certainly be happy with that as I think it\u0027s a usability issue. However other people within WTP like the ability to auto-create an ear without hitting the new button, so the feature stayed last time this was brought up.\n",
    "fixed, code is in  CVS",
    "Verified."
  ],
  "commentCreationDates": [
    "2006-03-06T17:19:05+01:00",
    "2006-03-06T20:14:07+01:00",
    "2006-03-07T07:51:26+01:00",
    "2006-03-07T14:22:48+01:00",
    "2006-03-08T15:05:28+01:00",
    "2006-04-11T22:32:04+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Path for project must have only one segment.",
      "elements": [
        {
          "method": "org.eclipse.core.internal.utils.Assert.isLegal",
          "source": "Assert.java:60"
        },
        {
          "method": "org.eclipse.core.internal.resources.WorkspaceRoot.getProject",
          "source": "WorkspaceRoot.java:134"
        },
        {
          "method": "org.eclipse.jem.util.emf.workbench.ProjectUtilities.getProject",
          "source": "ProjectUtilities.java:728"
        },
        {
          "method": "org.eclipse.jst.j2ee.project.facet.J2EEModuleFacetInstallDataModelProvider.getDefaultProperty",
          "source": "J2EEModuleFacetInstallDataModelProvider.java:65"
        },
        {
          "method": "org.eclipse.jst.j2ee.web.project.facet.WebFacetInstallDataModelProvider.getDefaultProperty",
          "source": "WebFacetInstallDataModelProvider.java:50"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.DataModelImpl.getProperty",
          "source": "DataModelImpl.java:130"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.DataModelImpl.getPropertyDescriptor",
          "source": "DataModelImpl.java:327"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelSynchHelper.setWidgetValue",
          "source": "DataModelSynchHelper.java:305"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelSynchHelper$1.run",
          "source": "DataModelSynchHelper.java:221"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.syncExec",
          "source": "Synchronizer.java:152"
        },
        {
          "method": "org.eclipse.ui.internal.UISynchronizer.syncExec",
          "source": "UISynchronizer.java:28"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.syncExec",
          "source": "Display.java:3458"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelSynchHelper.synchUIWithModel",
          "source": "DataModelSynchHelper.java:212"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelSynchHelper.propertyChanged",
          "source": "DataModelSynchHelper.java:183"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.DataModelImpl.notifyListeners",
          "source": "DataModelImpl.java:346"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.DataModelImpl.notifyPropertyChange",
          "source": "DataModelImpl.java:337"
        },
        {
          "method": "org.eclipse.jst.j2ee.project.facet.J2EEModuleFacetInstallDataModelProvider.propertySet",
          "source": "J2EEModuleFacetInstallDataModelProvider.java:120"
        },
        {
          "method": "org.eclipse.jst.j2ee.web.project.facet.WebFacetInstallDataModelProvider.propertySet",
          "source": "WebFacetInstallDataModelProvider.java:69"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.DataModelImpl.internalSetProperty",
          "source": "DataModelImpl.java:182"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.DataModelImpl.setProperty",
          "source": "DataModelImpl.java:172"
        },
        {
          "method": "org.eclipse.jst.j2ee.internal.wizard.J2EEComponentFacetCreationWizardPage.restoreDefaultSettings",
          "source": "J2EEComponentFacetCreationWizardPage.java:94"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelWizardPage.setDefaults",
          "source": "DataModelWizardPage.java:170"
        },
        {
          "method": "org.eclipse.wst.common.frameworks.internal.datamodel.ui.DataModelWizardPage.createControl",
          "source": "DataModelWizardPage.java:104"
        },
        {
          "method": "org.eclipse.jface.wizard.Wizard.createPageControls",
          "source": "Wizard.java:179"
        },
        {
          "method": "org.eclipse.wst.common.project.facet.ui.AddRemoveFacetsWizard.createPageControls",
          "source": "AddRemoveFacetsWizard.java:259"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.createPageControls",
          "source": "WizardDialog.java:611"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.setWizard",
          "source": "WizardDialog.java:965"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.updateForPage",
          "source": "WizardDialog.java:1016"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.access$2",
          "source": "WizardDialog.java:1013"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog$4.run",
          "source": "WizardDialog.java:1003"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.showPage",
          "source": "WizardDialog.java:1001"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "130583",
      "date": "2006-03-06T17:19:05+01:00",
      "product": "Web Tools",
      "component": "jst.j2ee",
      "severity": "critical"
    }
  ],
  "groupId": "130583",
  "bugId": "130583",
  "date": "2006-03-06T17:19:05+01:00",
  "product": "Web Tools",
  "component": "jst.j2ee",
  "severity": "critical"
}