{
  "comments": [
    "Steps to reproduce:\n-in the admin UI, install sdk v3.4.0.20071209-1500\n-use \"check for updates\" and update to sdk v3.4.0.20071211-0954 (the most current at the time of reporting this)\n-try to run this provisioned install\n\nI receive the following stack trace and the launch is aborted:\njava.lang.ClassNotFoundException: org.eclipse.core.runtime.adaptor.EclipseStarter\n\tat java.net.URLClassLoader$1.run(Unknown Source)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.net.URLClassLoader.findClass(Unknown Source)\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:558)\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:501)\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1239)",
    "Note that I am able to run both provisioned sdk versions 3.4.0.20071209-1500 and 3.4.0.20071211-0954 by simply installing then running.",
    "I will investigate.",
    "Allan, I can\u0027t reproduce this, either with latest admin UI from HEAD, or using the test build agent from yesterday (20071211-0954). If you get a chance, can you try again and reopen with new steps if you can reproduce it.",
    "My mistake for not being specific.  It turns out that this bug occurs only when the install folder and bundle pool location for the profile in question are identical.  Updated steps to reproduce:\n\n-in the admin UI, create a profile whose install folder and bundle pool location are identical. \n-into this profile, install sdk v3.4.0.20071209-1500\n-use \"check for updates\" and update to sdk v3.4.0.20071211-0954 (the most\ncurrent at the time of reporting this)\n-try to run this provisioned install\n",
    "I got this same error when trying to reproduce bug 212633. Note that my install locations and bundle pool locations were the same as well.",
    "Created an attachment (id\u003d85136)\nPatch\n\nThis isn\u0027t the complete fixed, but we found and fixed a few bugs while investigating:\n - You sometimes get Resolved IUs wrapping other Resolved IUs. This patch prevents this from happening\n - There was a bug in the OperationGenerator, where it was removing items from a list that was being iterated by index. When an item is removed, all later items are shifted left, and when the index is incremented in the next pass of the loop, items may be skipped.",
    "Here is what was happening:\n\n - org.eclipse.osgi bundle was being updated between these versions of the SDK\n - After the uninstall phase, the old org.eclipse.osgi has been removed from the bundles list in the fwAdmin manipulator. However, when writing the config.ini, there is some code that says, \"Hey, osgi is missing from the bundle list, I will go find it for you.\" It searches in the file system for a directory called \"plugins\" and finds the old version of osgi, and adds it back to config.ini.\n - The install phase adds the new version of osgi\n\n-\u003e Now there are two versions of osgi in bundles.txt, and config.ini still retains the old fw jar in the osgi.framework property.",
    "Created an attachment (id\u003d85144)\nProposed fix\n\n",
    "Fix released for midnight build."
  ],
  "commentCreationDates": [
    "2007-12-11T19:57:34+01:00",
    "2007-12-11T20:04:37+01:00",
    "2007-12-12T15:33:37+01:00",
    "2007-12-12T16:28:47+01:00",
    "2007-12-12T18:30:17+01:00",
    "2007-12-12T20:44:27+01:00",
    "2007-12-12T22:29:10+01:00",
    "2007-12-13T00:01:55+01:00",
    "2007-12-13T00:02:29+01:00",
    "2007-12-13T00:21:28+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassNotFoundException",
      "message": "org.eclipse.core.runtime.adaptor.EclipseStarter",
      "elements": [
        {
          "method": "java.net.URLClassLoader$1.run",
          "source": "Unknown Source"
        },
        {
          "method": "java.security.AccessController.doPrivileged",
          "source": "Native Method"
        },
        {
          "method": "java.net.URLClassLoader.findClass",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:558"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:501"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1239"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "212651",
      "date": "2007-12-11T19:57:34+01:00",
      "product": "Equinox",
      "component": "Incubator",
      "severity": "normal"
    }
  ],
  "groupId": "212651",
  "bugId": "212651",
  "date": "2007-12-11T19:57:34+01:00",
  "product": "Equinox",
  "component": "Incubator",
  "severity": "normal"
}