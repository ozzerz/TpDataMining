{
  "comments": [
    "For one particular project I have, any attempt to \"Run as JUnit Test\", yields\nthe following exception in the .log.  The tests never get started.\n\n\n!MESSAGE java.lang.NullPointerException\n!STACK 0\njava.lang.NullPointerException\n    at\norg.eclipse.jdt.launching.JavaRuntime.resolveRuntimeClasspathEntry(JavaRuntime.java:716)\n    at\norg.eclipse.jdt.launching.StandardClasspathProvider.resolveClasspath(StandardClasspathProvider.java:71)\n    at\norg.eclipse.jdt.launching.JavaRuntime.resolveRuntimeClasspath(JavaRuntime.java:950)\n    at\norg.eclipse.jdt.launching.AbstractJavaLaunchConfigurationDelegate.getClasspath(AbstractJavaLaunchConfigurationDelegate.java:229)\n    at\norg.eclipse.jdt.internal.junit.launcher.JUnitLaunchConfiguration.createClassPath(JUnitLaunchConfiguration.java:105)\n    at\norg.eclipse.jdt.internal.junit.launcher.JUnitLaunchConfiguration.createVMRunner(JUnitLaunchConfiguration.java:41)\n    at\norg.eclipse.jdt.internal.junit.launcher.JUnitBaseLaunchConfiguration.launchTypes(JUnitBaseLaunchConfiguration.java:82)\n    at\norg.eclipse.jdt.internal.junit.launcher.JUnitBaseLaunchConfiguration.launch(JUnitBaseLaunchConfiguration.java:63)\n    at\norg.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:151)\n    at\norg.eclipse.jdt.internal.junit.launcher.JUnitLaunchShortcut.launchConfiguration(JUnitLaunchShortcut.java:182)\n    at\norg.eclipse.jdt.internal.junit.launcher.JUnitLaunchShortcut.launch(JUnitLaunchShortcut.java:151)\n    at\norg.eclipse.jdt.internal.junit.launcher.JUnitLaunchShortcut.launchType(JUnitLaunchShortcut.java:108)\n    at\norg.eclipse.jdt.internal.junit.launcher.JUnitLaunchShortcut.searchAndLaunch(JUnitLaunchShortcut.java:84)\n    at\norg.eclipse.jdt.internal.junit.launcher.JUnitLaunchShortcut.launch(JUnitLaunchShortcut.java:53)\n    at\norg.eclipse.debug.internal.ui.launchConfigurations.LaunchShortcutExtension.launch(LaunchShortcutExtension.java:182)\n    at\norg.eclipse.debug.internal.ui.actions.LaunchShortcutAction.run(LaunchShortcutAction.java:53)\n    at org.eclipse.jface.action.Action.runWithEvent(Action.java:842)\n    at\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:456)\n    at\norg.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionContributionItem.java:403)\n    at\norg.eclipse.jface.action.ActionContributionItem.access$0(ActionContributionItem.java:397)\n    at\norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(ActionContributionItem.java:72)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:77)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:902)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1507)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1324)\n    at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1271)\n    at org.eclipse.ui.internal.Workbench.run(Workbench.java:1254)\n    at\norg.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:845)\n    at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:324)\n    at org.eclipse.core.launcher.Main.basicRun(Main.java:247)\n    at org.eclipse.core.launcher.Main.run(Main.java:703)\n    at org.eclipse.core.launcher.Main.main(Main.java:539)",
    "Which version of the SDK are you running?",
    "Java SDK \u003d 1.4.1_01, Eclipse \u003d I20030227",
    "Can you provide more details of the launch configuration \u0026 project? Is it a \ndefault classpath? Is it a non-default classpath? What is on the classpath?",
    "It is a default classpath, but nearly all the entries are dependent on Classpath\nVariables.  (I know there is a bug related to that that was recently fixed, but\nI don\u0027t know if it was fixed in I20030227).  \n\nThere was nothing special about the configuration.  I created by using \"Run as\nJUnit Test\", and haven\u0027t edited it.  Here\u0027s the .classpath the project has, if\nthat helps.\n\n\u003c?xml version\u003d\"1.0\" encoding\u003d\"UTF-8\"?\u003e\n\u003cclasspath\u003e\n    \u003cclasspathentry kind\u003d\"src\" path\u003d\"src/java\"/\u003e\n    \u003cclasspathentry kind\u003d\"src\" path\u003d\"target/xmlc-java\"/\u003e\n    \u003cclasspathentry kind\u003d\"src\" path\u003d\"conf\"/\u003e\n    \u003cclasspathentry kind\u003d\"var\" path\u003d\"JRE_LIB\" sourcepath\u003d\"JRE_SRC\"/\u003e\n    \u003cclasspathentry kind\u003d\"src\" path\u003d\"/web.util\"/\u003e\n    \u003cclasspathentry kind\u003d\"var\" path\u003d\"LIB_REPOSITORY/struts-1.1b2.jar\"\nsourcepath\u003d\"LIB_REPOSITORY/jakarta-struts-1.1-b2-src.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"var\" path\u003d\"LIB_REPOSITORY/servlet-1.0.x.jar\"\nsourcepath\u003d\"LIB_REPOSITORY/struts-1.1-b2-src.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"var\" path\u003d\"LIB_REPOSITORY/jtidy-r7-xmlc.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"var\" path\u003d\"LIB_REPOSITORY/xhtml-2.1-p1.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"var\" path\u003d\"LIB_REPOSITORY/xerces-1.4.4-xmlc.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"var\" path\u003d\"LIB_REPOSITORY/xmlc-2.1-p1.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"var\" path\u003d\"LIB_REPOSITORY/commons-beanutils-1.4.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"var\"\n        path\u003d\"LIB_REPOSITORY/commons-collections-2.0.jar\"\nsourcepath\u003d\"LIB_REPOSITORY/collections-2.0-src.zip\"/\u003e\n    \u003cclasspathentry kind\u003d\"var\" path\u003d\"LIB_REPOSITORY/commons-digester-1.2.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"var\" path\u003d\"LIB_REPOSITORY/commons-logging-1.0.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"var\" path\u003d\"LIB_REPOSITORY/commons-validator-1.1b2.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"var\" path\u003d\"LIB_REPOSITORY/dom4j-1.3.jar\"\nsourcepath\u003d\"HOME/tools/lib/dom4j-1.3-src.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"var\" path\u003d\"LIB_REPOSITORY/saxpath-1.0.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"var\" path\u003d\"LIB_REPOSITORY/jspunit-1.0.3.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"var\" path\u003d\"LIB_REPOSITORY/oro-2.0.6.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"var\" path\u003d\"LIB_REPOSITORY/easymock-0.8.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"var\" path\u003d\"LIB_REPOSITORY/log4j-1.2.4.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"var\"\npath\u003d\"ECLIPSE_HOME/plugins/org.junit_3.8.1/junit.jar\"/\u003e\n    \u003cclasspathentry kind\u003d\"output\" path\u003d\"wiki.war/WEB-INF/classes\"/\u003e\n\u003c/classpath\u003e",
    "I am having the same problem both when launching my Test Case using the \"JUnit \nLauncher\" and the \"Java Application Launcher\" - I\u0027ve added a main mathod to \nthe test case.\n\nI am using I030227 with the IMB\u0027s jdk cn131_20020403.  Here\u0027s a copy of the \nstack trace.\n\njava.lang.reflect.InvocationTargetException: java.lang.NullPointerException\n at org.eclipse.jdt.launching.JavaRuntime.resolveRuntimeClasspathEntry\n(JavaRuntime.java:716)\n at org.eclipse.jdt.launching.StandardClasspathProvider.resolveClasspath\n(StandardClasspathProvider.java:71)\n at org.eclipse.jdt.launching.JavaRuntime.resolveRuntimeClasspath\n(JavaRuntime.java:950)\n at \norg.eclipse.jdt.launching.AbstractJavaLaunchConfigurationDelegate.getClasspath\n(AbstractJavaLaunchConfigurationDelegate.java:229)\n at \norg.eclipse.jdt.internal.launching.JavaLocalApplicationLaunchConfigurationDeleg\nate.launch(JavaLocalApplicationLaunchConfigurationDelegate.java:77)\n at org.eclipse.debug.internal.core.LaunchConfiguration.launch\n(LaunchConfiguration.java:151)\n at org.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch\n(DebugUIPlugin.java:668)\n at org.eclipse.debug.ui.DebugUITools.buildAndLaunch(DebugUITools.java:537)\n at org.eclipse.debug.ui.DebugUITools$2.run(DebugUITools.java:486)\n at org.eclipse.jface.operation.ModalContext$ModalContextThread.run\n(ModalContext.java:95)\n\n\n\u003d\u003d\u003e My workspace is\n\n- jp1 (java project)\n    - src (source folder)\n        - test (package)\n            SuiteTest.java (class with main method and no compilation errors)\n    - JRE System Library (variable pointing to JRE)\n    - M5_RC_Plugins/org.junit_3.8.1/junit.jar\n\nwhere M5_RC_Plugins is a classpath variable that points to \nC:\\eclipse\\_eclipse_RC1\\eclipse\\plugins.\n\n\n\u003d\u003d\u003e SuiteTest.java is \n\n\npackage test;\n\nimport junit.framework.Test;\nimport junit.framework.TestCase;\nimport junit.framework.TestSuite;\n\npublic class SuiteTest extends TestCase\n{\n\tpublic SuiteTest(String name){\n\t\tsuper(name);\n\t}\n\t\n\tpublic static Test suite(){\n\t\tTestSuite testSuite \u003d new TestSuite();\n\t\ttestSuite.addTestSuite(SuiteTest.class);\n\t\treturn testSuite;\n\t}\n\n\tpublic static void main(String args[]) { \n\t\tjunit.textui.TestRunner.run(suite());\n\t}\n\n\tpublic void testFoo1(){\n\t\tassertEquals(true, false);\n\t}\n\n\tpublic void testFoo2(){\n\t\tassertEquals(true, false);\n\t}\n}",
    "Marcelo, I haven\u0027t been able to reproduce the problem (on Linux, anyway) with\nyour test case using the IBM 1.3.1 for Linux build from 20020410. Do you get\nthis absolutely every time? Also, if you create a new workspace and set up a\nproject with the same structure do you still get it?",
    "Jared,\n\nThe answers are yes and no.  Starting from the latter, I don\u0027t have this \nproblem when creating a workspace from the scratch (both Java Application and \nJUnit Test launchers are working).  But it *always* happens when running my \ncode from my development workspace which was created a long time ago and which \nis working fine with the I030107 driver.",
    "One other question so I know how to set up a migrated workspace correctly. Was\nthe launch config you\u0027re using created on an older build too?",
    "I had a bunch of different configurations including one for the class below.  \nAfter a couple of attempts I\u0027ve created a new configuration but the output was \nthe same.",
    "The java core can return null when resolving a variable (if it cannot be bound \nfor some reason). This could cause the NPE.",
    "Fixed. Added null checks for variable resolutions from JavaCore.\nSee changes in JavaRuntime.\n\nAdded ClasspathVariableTests. The test that duplicates the problem is:\n#testVariableExtensionWithNullSourceAttachmentWithExtension. I.e. there was a \nvariable used for a source attachment that had an extension, and the variable \ncould not be resolved.\n\nI think there should be an error in the user\u0027s workspace indicating that \nLIB_REPOSITORY could not be resolved? (if it\u0027s on the build path of a project).",
    "Please verify, Jared.",
    "Isn\u0027t it a problem that JavaCore is returning null in the first place? I know\nthe API says that it can return null, but should it be in this case?",
    "It\u0027s part of the API - we were wrong to ignore it.",
    "Right. But the fact that the API says it can return null doesn\u0027t mean that it\n*should* be returning null. Do we understand why it was returning null? I\u0027m\nwondering if we should be forwarding this bug on to Java core?",
    "My test reproduces it - a variable that cannot be resolved by a \nClasspathVariableInitializer. The reason a variable cannot be resolved is up to \nthe initializer - which is an extension point and can be defined by any 3rd \nparty. Even if there was a bug with JCORE, we have to handle null.\n\nAdding Philippe as CC so they are aware of the failure.",
    "If the classpath variable cannot be resolved, null is the expected value. \n\nNote that the same rule is true for unresolved classpath containers.",
    "Verified code."
  ],
  "commentCreationDates": [
    "2003-03-01T22:04:57+01:00",
    "2003-03-02T02:19:01+01:00",
    "2003-03-02T03:06:35+01:00",
    "2003-03-02T23:08:02+01:00",
    "2003-03-02T23:25:35+01:00",
    "2003-03-03T16:16:14+01:00",
    "2003-03-03T23:03:12+01:00",
    "2003-03-03T23:46:35+01:00",
    "2003-03-03T23:56:26+01:00",
    "2003-03-04T01:11:56+01:00",
    "2003-03-04T19:44:08+01:00",
    "2003-03-04T20:51:49+01:00",
    "2003-03-04T20:52:11+01:00",
    "2003-03-04T21:07:14+01:00",
    "2003-03-04T21:14:49+01:00",
    "2003-03-04T22:17:21+01:00",
    "2003-03-04T22:22:20+01:00",
    "2003-03-05T17:40:06+01:00",
    "2003-03-05T23:44:18+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.launching.JavaRuntime.resolveRuntimeClasspathEntry",
          "source": "JavaRuntime.java:716"
        },
        {
          "method": "org.eclipse.jdt.launching.StandardClasspathProvider.resolveClasspath",
          "source": "StandardClasspathProvider.java:71"
        },
        {
          "method": "org.eclipse.jdt.launching.JavaRuntime.resolveRuntimeClasspath",
          "source": "JavaRuntime.java:950"
        },
        {
          "method": "org.eclipse.jdt.launching.AbstractJavaLaunchConfigurationDelegate.getClasspath",
          "source": "AbstractJavaLaunchConfigurationDelegate.java:229"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.launcher.JUnitLaunchConfiguration.createClassPath",
          "source": "JUnitLaunchConfiguration.java:105"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.launcher.JUnitLaunchConfiguration.createVMRunner",
          "source": "JUnitLaunchConfiguration.java:41"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.launcher.JUnitBaseLaunchConfiguration.launchTypes",
          "source": "JUnitBaseLaunchConfiguration.java:82"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.launcher.JUnitBaseLaunchConfiguration.launch",
          "source": "JUnitBaseLaunchConfiguration.java:63"
        },
        {
          "method": "org.eclipse.debug.internal.core.LaunchConfiguration.launch",
          "source": "LaunchConfiguration.java:151"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.launcher.JUnitLaunchShortcut.launchConfiguration",
          "source": "JUnitLaunchShortcut.java:182"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.launcher.JUnitLaunchShortcut.launch",
          "source": "JUnitLaunchShortcut.java:151"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.launcher.JUnitLaunchShortcut.launchType",
          "source": "JUnitLaunchShortcut.java:108"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.launcher.JUnitLaunchShortcut.searchAndLaunch",
          "source": "JUnitLaunchShortcut.java:84"
        },
        {
          "method": "org.eclipse.jdt.internal.junit.launcher.JUnitLaunchShortcut.launch",
          "source": "JUnitLaunchShortcut.java:53"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchShortcutExtension.launch",
          "source": "LaunchShortcutExtension.java:182"
        },
        {
          "method": "org.eclipse.debug.internal.ui.actions.LaunchShortcutAction.run",
          "source": "LaunchShortcutAction.java:53"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:842"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:456"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java:403"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem.java:397"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java:72"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:77"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:902"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1507"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1324"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1271"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:1254"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:845"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:461"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:247"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:703"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:539"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "33612",
      "date": "2003-03-01T22:04:57+01:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.jdt.launching.JavaRuntime.resolveRuntimeClasspathEntry",
          "source": "JavaRuntime.java:716"
        },
        {
          "method": "org.eclipse.jdt.launching.StandardClasspathProvider.resolveClasspath",
          "source": "StandardClasspathProvider.java:71"
        },
        {
          "method": "org.eclipse.jdt.launching.JavaRuntime.resolveRuntimeClasspath",
          "source": "JavaRuntime.java:950"
        },
        {
          "method": "org.eclipse.jdt.launching.AbstractJavaLaunchConfigurationDelegate.getClasspath",
          "source": "AbstractJavaLaunchConfigurationDelegate.java:229"
        },
        {
          "method": "org.eclipse.jdt.internal.launching.JavaLocalApplicationLaunchConfigurationDelegate.launch",
          "source": "JavaLocalApplicationLaunchConfigurationDelegate.java:77"
        },
        {
          "method": "org.eclipse.debug.internal.core.LaunchConfiguration.launch",
          "source": "LaunchConfiguration.java:151"
        },
        {
          "method": "org.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch",
          "source": "DebugUIPlugin.java:668"
        },
        {
          "method": "org.eclipse.debug.ui.DebugUITools.buildAndLaunch",
          "source": "DebugUITools.java:537"
        },
        {
          "method": "org.eclipse.debug.ui.DebugUITools$2.run",
          "source": "DebugUITools.java:486"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext$ModalContextThread.run",
          "source": "ModalContext.java:95"
        }
      ],
      "number": 1,
      "commentIndex": 5,
      "bugId": "33612",
      "date": "2003-03-03T16:16:14+01:00",
      "product": "JDT",
      "component": "Debug",
      "severity": "normal"
    }
  ],
  "groupId": "33612",
  "bugId": "33612",
  "date": "2003-03-01T22:04:57+01:00",
  "product": "JDT",
  "component": "Debug",
  "severity": "normal"
}