{
  "comments": [
    "The following code produces invalid bytecode:\n\n\u003csnip\u003e\npublic class EnumBug {\n\n    interface Interface {\n        public int value();\n    }\n    \n    public enum TheEnum implements Interface {\n        ;\n        \n        TheEnum(int value) { this.value \u003d value; }        \n        public int value() { return value; }\n        \n        private int value;\n    }\n    \n    public static void main(String[] args) {\n        TheEnum x \u003d null;\n    }\n}\n\u003c/snip\u003e\n\nError when executing: \njava.lang.ClassFormatError: Illegal class modifiers in class EnumBug: 0x4419\n\tat java.lang.ClassLoader.defineClass1(Native Method)\n\tat java.lang.ClassLoader.defineClass(Unknown Source)\n\tat java.security.SecureClassLoader.defineClass(Unknown Source)\n\tat java.net.URLClassLoader.defineClass(Unknown Source)\n\tat java.net.URLClassLoader.access$100(Unknown Source)\n\tat java.net.URLClassLoader$1.run(Unknown Source)\n\tat java.security.AccessController.doPrivileged(Native Method)\n\tat java.net.URLClassLoader.findClass(Unknown Source)\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\n\tat java.lang.ClassLoader.loadClassInternal(Unknown Source)\nException in thread \"main\" \n\n---\n\nThe same code compiles / executes fine with the Sun JDK compiler.",
    "I\u0027ll investigate.",
    "We are wrong to set the abstract bit when the enum type has no enum constant.\nThis bit should be set only when some enum constants don\u0027t define the interface method.",
    "Created an attachment (id\u003d49656)\nProposed fix\n\n",
    "Released for 3.3M2.\nFixed and released in HEAD.\nAdded regression test in org.eclipse.jdt.core.tests.compiler.regression.EnumTest#test137",
    "Verified for 3.3 M2 using build I20060918-0010."
  ],
  "commentCreationDates": [
    "2006-09-07T17:51:26+02:00",
    "2006-09-07T21:01:50+02:00",
    "2006-09-07T21:53:32+02:00",
    "2006-09-07T21:53:52+02:00",
    "2006-09-08T03:04:36+02:00",
    "2006-09-18T16:14:55+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassFormatError",
      "message": "Illegal class modifiers in class EnumBug: 0x4419",
      "elements": [
        {
          "method": "java.lang.ClassLoader.defineClass1",
          "source": "Native Method"
        },
        {
          "method": "java.lang.ClassLoader.defineClass",
          "source": "Unknown Source"
        },
        {
          "method": "java.security.SecureClassLoader.defineClass",
          "source": "Unknown Source"
        },
        {
          "method": "java.net.URLClassLoader.defineClass",
          "source": "Unknown Source"
        },
        {
          "method": "java.net.URLClassLoader.access$100",
          "source": "Unknown Source"
        },
        {
          "method": "java.net.URLClassLoader$1.run",
          "source": "Unknown Source"
        },
        {
          "method": "java.security.AccessController.doPrivileged",
          "source": "Native Method"
        },
        {
          "method": "java.net.URLClassLoader.findClass",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "Unknown Source"
        },
        {
          "method": "sun.misc.Launcher$AppClassLoader.loadClass",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.ClassLoader.loadClass",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.ClassLoader.loadClassInternal",
          "source": "Unknown Source"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "156540",
      "date": "2006-09-07T17:51:26+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "156540",
  "bugId": "156540",
  "date": "2006-09-07T17:51:26+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}