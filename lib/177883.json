{
  "comments": [
    "Build ID: M20070212-1330\n\nI can\u0027t compile a project. Their files were created by the Maven 2 plugin. I\u0027m gettin this:\n\njava.lang.StringIndexOutOfBoundsException: String index out of range: 2\nat java.lang.String.charAt(String.java:687)\nat org.eclipse.jdt.internal.core.JavaModelManager$CompilationParticipants.indexForSourceLevel(JavaModelManager.java:332)\nat org.eclipse.jdt.internal.core.JavaModelManager$CompilationParticipants.getCompilationParticipants(JavaModelManager.java:218)\nat org.eclipse.jdt.internal.core.builder.JavaBuilder.initializeBuilder(JavaBuilder.java:537)\nat org.eclipse.jdt.internal.core.builder.JavaBuilder.build(JavaBuilder.java:165)\nat org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:603)\nat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\nat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:167)\nat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:201)\nat org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:230)\nat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\nat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:233)\nat org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:252)\nat org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:285)\nat org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:154)\nat org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:217)\nat org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)",
    "Sounds similar to bug 164707...\n\nPlease attach the org.eclipse.jdt.core.prefs of this project (you\u0027ll find it\nin .settings directory) to confirm this assumption.\n\nThanks\n\n",
    "Philippe, sounds clear that we surely need to backport the fix for this bug...\n",
    "\nMy org.eclipse.jdt.core.prefs file was:\n\norg.eclipse.jdt.core.compiler.codegen.targetPlatform\u003d6\neclipse.preferences.version\u003d1\norg.eclipse.jdt.core.compiler.source\u003d6\norg.eclipse.jdt.core.compiler.compliance\u003d6\n\nI\u0027ve removed the project specific compiler settings and now everything works, thanks \u003d).\n",
    "Uhm, If I correctly read the patch at bug 164707, versionToJdkLevel() will fail to recognize \"6.0\" as a JDK1_6...\n\nWhy not just do:\n\nif(versionID.startsWith(\"1.\"))\n        versionID \u003d versionID.substring(2);\n\n... and check agains \"1\", \"2\", \"3\"...\n",
    "(In reply to comment #4)\n\u003e Uhm, If I correctly read the patch at bug 164707, versionToJdkLevel() will fail\n\u003e to recognize \"6.0\" as a JDK1_6...\n\u003e \n\u003e Why not just do:\n\u003e \n\u003e if(versionID.startsWith(\"1.\"))\n\u003e         versionID \u003d versionID.substring(2);\n\u003e \n\u003e ... and check agains \"1\", \"2\", \"3\"...\n\u003e \nThe bug is in Maven as they directly modify the org.eclipse.jdt.core.prefs file instead of using API methods of IJavaProject... As these values are internal, for obvious performance reason, we\u0027re *only* expecting them and do not want to accept/verify all possible ones...\n\nSorry for the late answer but close this bug as WONTFIX\n",
    "Use API to modify org.eclipse.jdt.core.prefs file\nVerified for 3.4 M2 using build I20070917-0010."
  ],
  "commentCreationDates": [
    "2007-03-17T09:05:37+01:00",
    "2007-03-17T16:51:40+01:00",
    "2007-03-17T16:52:51+01:00",
    "2007-03-17T18:40:27+01:00",
    "2007-03-17T18:51:05+01:00",
    "2007-08-14T15:32:20+02:00",
    "2007-09-18T10:42:52+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.StringIndexOutOfBoundsException",
      "message": "String index out of range: 2",
      "elements": [
        {
          "method": "java.lang.String.charAt",
          "source": "String.java:687"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelManager$CompilationParticipants.indexForSourceLevel",
          "source": "JavaModelManager.java:332"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelManager$CompilationParticipants.getCompilationParticipants",
          "source": "JavaModelManager.java:218"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.JavaBuilder.initializeBuilder",
          "source": "JavaBuilder.java:537"
        },
        {
          "method": "org.eclipse.jdt.internal.core.builder.JavaBuilder.build",
          "source": "JavaBuilder.java:165"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$2.run",
          "source": "BuildManager.java:603"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:167"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:201"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager$1.run",
          "source": "BuildManager.java:230"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuild",
          "source": "BuildManager.java:233"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.basicBuildLoop",
          "source": "BuildManager.java:252"
        },
        {
          "method": "org.eclipse.core.internal.events.BuildManager.build",
          "source": "BuildManager.java:285"
        },
        {
          "method": "org.eclipse.core.internal.events.AutoBuildJob.doBuild",
          "source": "AutoBuildJob.java:154"
        },
        {
          "method": "org.eclipse.core.internal.events.AutoBuildJob.run",
          "source": "AutoBuildJob.java:217"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:58"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "177883",
      "date": "2007-03-17T09:05:37+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "177883",
  "bugId": "177883",
  "date": "2007-03-17T09:05:37+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}