{
  "comments": [
    "AJDT\nVersion: 1.5.0.200705230420\nAspectJ version: 1.5.4.200705211336\n\nSDK\nVersion: 3.3.0   (ie 3.3RC4)\nBuild id: I20070608-1718\n\nPDE\nVersion: 3.3.0.v20070607-7N7M-DUUEF6Ez0FD6JXCD\nBuild id: I20070608-1718\n\n\nStep to reproduce:\n 1. Create a eclipse rcp project\n 2. Add AspectJ nature\n 3. Create a *.product file\n 4. Right click -\u003e export -\u003e \"Eclipse product with AspectJ support\"\n 5. \"Finish\"\n\nExpected Result:\n - product with aspectj support exported\n\nResult:\n\njava.lang.ClassCastException: org.eclipse.pde.internal.ui.wizards.exports.CrossPlatformExportPage cannot be cast to org.eclipse.ajdt.internal.ui.wizards.exports.AbstractExportWizardPage\nat org.eclipse.ajdt.internal.ui.wizards.exports.BaseExportWizard.saveSettings(BaseExportWizard.java:82)\nat org.eclipse.ajdt.internal.ui.wizards.exports.BaseExportWizard.performFinish(BaseExportWizard.java:64)\nat org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:742)\nat org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:373)\nat org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:616)\nat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1101)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3319)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2971)\nat org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\nat org.eclipse.jface.window.Window.open(Window.java:796)\nat org.eclipse.ui.actions.ExportResourcesAction.run(ExportResourcesAction.java:180)\nat org.eclipse.ui.actions.BaseSelectionListenerAction.runWithEvent(BaseSelectionListenerAction.java:168)\nat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:545)\nat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490)\nat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:402)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1101)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3319)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2971)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353)\nat org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219)\nat org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466)\nat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\nat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106)\nat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\nat java.lang.reflect.Method.invoke(Method.java:597)\nat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:504)\nat org.eclipse.equinox.launcher.Main.basicRun(Main.java:443)\nat org.eclipse.equinox.launcher.Main.run(Main.java:1169)",
    "I haven\u0027t been able to reproduce this.\nPlease could you include your .product file here, or even better attach a complete example rcp project which shows the problem.\n",
    "This problem goes away after I have create a new workspace and import the old projects. I can\u0027t give you my workspace, as it contain something I can\u0027t release at current stage. ",
    "ok, closing for now. please reopen if/when it happens again, and you can provide exact steps to reproduce or a testcase",
    "Hi,\n\nI\u0027m having the same problem with the exact same stacktrace. Is it possible that this bug only occurs when you have installed the delta pack. Otherwise there would be no need for the CrossPlatformExportPage.\n\nI\u0027m using Eclipse 3.3.1 and AJDT 1.5.\n\nCreating a new workspace didn\u0027t do the trick for me.\n\nCould this bug please be reopened?",
    "Hi again,\n\nI\u0027ve verified my assumption by doing a clean eclipse install without the delta-pack. Without the delta-pack, the export runs fine. With it installed, it stops with the above mentioned exception. So IMO this is a bug.\n\nDominik",
    "what is this delta-pack you refer to?\n",
    "The delta-pack is a download from the Eclipse Platform project. You could get one for Eclipse 3.3.1.1 at this page: http://download.eclipse.org/eclipse/downloads/drops/R-3.3.1.1-200710231652/index.php\n\nThere it is located in the RCP SDK category at the last position. It contains launchers, SWT, and possibly more plugins to enable a developer to create a eclipse product for another platform.\n\nI use it regularly as I develop Win32 applications on a Linux workstation. After you\u0027ve installed the delta-pack, an additional page appears in the product export wizard asking you for which target platforms you want to export the product.\n\nIt appears as if this dialog page does not extend the ajdt AbstractExportWizardPage and this causes the Exception.\n\nSomehow Eclipse omits this page from the wizard if the delta pack is not installed. So this bug does not occur then.\n\nI hope this information helps you :)",
    "thanks for the info. reopening the bug."
  ],
  "commentCreationDates": [
    "2007-06-22T14:02:06+02:00",
    "2007-06-25T12:08:52+02:00",
    "2007-06-26T10:32:36+02:00",
    "2007-06-26T18:20:27+02:00",
    "2007-11-12T14:03:32+01:00",
    "2007-11-12T15:37:47+01:00",
    "2007-11-13T12:01:07+01:00",
    "2007-11-13T15:14:36+01:00",
    "2007-11-13T15:40:55+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.pde.internal.ui.wizards.exports.CrossPlatformExportPage cannot be cast to org.eclipse.ajdt.internal.ui.wizards.exports.AbstractExportWizardPage",
      "elements": [
        {
          "method": "org.eclipse.ajdt.internal.ui.wizards.exports.BaseExportWizard.saveSettings",
          "source": "BaseExportWizard.java:82"
        },
        {
          "method": "org.eclipse.ajdt.internal.ui.wizards.exports.BaseExportWizard.performFinish",
          "source": "BaseExportWizard.java:64"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.finishPressed",
          "source": "WizardDialog.java:742"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.buttonPressed",
          "source": "WizardDialog.java:373"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$2.widgetSelected",
          "source": "Dialog.java:616"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:227"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1101"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3319"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2971"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:820"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:796"
        },
        {
          "method": "org.eclipse.ui.actions.ExportResourcesAction.run",
          "source": "ExportResourcesAction.java:180"
        },
        {
          "method": "org.eclipse.ui.actions.BaseSelectionListenerAction.runWithEvent",
          "source": "BaseSelectionListenerAction.java:168"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:545"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:490"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:402"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:1101"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3319"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2971"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:2389"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:2353"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.access$4",
          "source": "Workbench.java:2219"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench$4.run",
          "source": "Workbench.java:466"
        },
        {
          "method": "org.eclipse.core.databinding.observable.Realm.runWithDefault",
          "source": "Realm.java:289"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:461"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.application.IDEApplication.start",
          "source": "IDEApplication.java:106"
        },
        {
          "method": "org.eclipse.equinox.internal.app.EclipseAppHandle.run",
          "source": "EclipseAppHandle.java:153"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:106"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:76"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:363"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:176"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:597"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.invokeFramework",
          "source": "Main.java:504"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.basicRun",
          "source": "Main.java:443"
        },
        {
          "method": "org.eclipse.equinox.launcher.Main.run",
          "source": "Main.java:1169"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "193966",
      "date": "2007-06-22T14:02:06+02:00",
      "product": "AJDT",
      "component": "UI",
      "severity": "major"
    }
  ],
  "groupId": "193966",
  "bugId": "193966",
  "date": "2007-06-22T14:02:06+02:00",
  "product": "AJDT",
  "component": "UI",
  "severity": "major"
}