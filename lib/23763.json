{
  "comments": [
    "In the method findImage() in org.eclipse.ui.internal.MessageLine, \nPlatformUI.getWorkbench() is used witout checking if the return value is null \nor not. This resulted a NullPointerException when SelectionStatusDialog is used.",
    "PlatformUI.getWorkbench() should never return null.  \n\nIf you can, please provide steps to reproduce this problem.  If you can\u0027t \nreproduce it, give as much detail as possible.",
    "Actually, this behavior is consistant. I get it every time I bring up my \nselection dialog.\n\nHere are the steps:\n1- I subclassed ElementTreeSelectionDialog to customize it to my application, \nlet\u0027s call it MySelectionDialog.\n2- I created an instance of ISelectionStatusValidator and setValidator() of \nMySelectionDialog to be that instance.\n3- In my stand-alone SWT application (it\u0027s not a plugin), whenever I say \ndialog.open() I get the following:\njava.lang.NullPointerException\n\tat org.eclipse.ui.PlatformUI.getWorkbench(PlatformUI.java:41)\n\tat org.eclipse.ui.internal.MessageLine.findImage(MessageLine.java:50)\n\tat org.eclipse.ui.internal.MessageLine.setErrorStatus\n(MessageLine.java:68)\n\tat org.eclipse.ui.dialogs.SelectionStatusDialog.updateStatus\n(SelectionStatusDialog.java:108)\n\tat org.eclipse.ui.dialogs.ElementTreeSelectionDialog.updateOKStatus\n(ElementTreeSelectionDialog.java:163)\n\tat org.eclipse.ui.dialogs.ElementTreeSelectionDialog$2.selectionChanged\n(ElementTreeSelectionDialog.java:258)\n\tat org.eclipse.jface.viewers.Viewer.fireSelectionChanged\n(Viewer.java:147)\n\tat org.eclipse.jface.viewers.StructuredViewer.updateSelection\n(StructuredViewer.java:1155)\n\tat org.eclipse.jface.viewers.StructuredViewer.handleSelect\n(StructuredViewer.java:544)\n\tat org.eclipse.jface.viewers.StructuredViewer$1.widgetSelected\n(StructuredViewer.java:568)\n\tat org.eclipse.jface.util.OpenStrategy.fireSelectionEvent\n(OpenStrategy.java:171)\n\tat org.eclipse.jface.util.OpenStrategy.access$3(OpenStrategy.java:168)\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent\n(OpenStrategy.java:297)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:77)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:827)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1529)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1291)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:562)\n\tat org.eclipse.jface.window.Window.open(Window.java:542)\n\tat org.eclipse.ui.dialogs.ElementTreeSelectionDialog.access$superOpen\n(ElementTreeSelectionDialog.java:188)\n\tat org.eclipse.ui.dialogs.ElementTreeSelectionDialog.access$0\n(ElementTreeSelectionDialog.java:187)\n\tat org.eclipse.ui.dialogs.ElementTreeSelectionDialog$1.run\n(ElementTreeSelectionDialog.java:180)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:66)\n\tat org.eclipse.ui.dialogs.ElementTreeSelectionDialog.open\n(ElementTreeSelectionDialog.java:178)\n\tat myapp.dialogs.MyWizardPage1$5.widgetSelected(MyWizardPage1.java:156)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent\n(TypedListener.java:87)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:77)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:827)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1529)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1291)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:562)\n\tat org.eclipse.jface.window.Window.open(Window.java:542)\n\tat myapp.ui.dialogs.MainClass.open(MainClass.java:33)\n\tat myapp.ui.dialogs.MainClass.main(MainClass.java:18)\n\nI think what happening is that because the intial value of MySelectionDialog is \ninvalid, the ISelectionStatusValidator is trying to bring up the ERROR image \nthat is associated with the workbench. However, since my application is a stand-\nalone one, there is no workench.",
    "The workbench is designed to work inside eclipse as a plugin and as the main \neclipse aplication. The plugin org.eclipse.ui is being devided in several \nplugins. Some of them (jface for example) may be used in a standalone \naplication but some (workbench for example) are disigned to be used inside \neclipse. I.E. you can\u0027t use ElementTreeSelectionDialog in your standalone \napplication because it is part of the workbench.\n\nClosing as invalid. Please reopen if it that is not what you are trying to do.",
    "Is it possible to make this a requestment for enhancment? This is a very useful \ndialog that should be available outside of a plugin. Since it\u0027s been already \nwritten, why should we reinvent the wheel?\n\nThanks!"
  ],
  "commentCreationDates": [
    "2002-09-18T20:21:56+02:00",
    "2002-09-27T14:28:54+02:00",
    "2002-09-27T15:33:19+02:00",
    "2002-09-27T17:49:33+02:00",
    "2002-10-01T14:51:43+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.PlatformUI.getWorkbench",
          "source": "PlatformUI.java:41"
        },
        {
          "method": "org.eclipse.ui.internal.MessageLine.findImage",
          "source": "MessageLine.java:50"
        },
        {
          "method": "org.eclipse.ui.internal.MessageLine.setErrorStatus",
          "source": "MessageLine.java:68"
        },
        {
          "method": "org.eclipse.ui.dialogs.SelectionStatusDialog.updateStatus",
          "source": "SelectionStatusDialog.java:108"
        },
        {
          "method": "org.eclipse.ui.dialogs.ElementTreeSelectionDialog.updateOKStatus",
          "source": "ElementTreeSelectionDialog.java:163"
        },
        {
          "method": "org.eclipse.ui.dialogs.ElementTreeSelectionDialog$2.selectionChanged",
          "source": "ElementTreeSelectionDialog.java:258"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer.fireSelectionChanged",
          "source": "Viewer.java:147"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateSelection",
          "source": "StructuredViewer.java:1155"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleSelect",
          "source": "StructuredViewer.java:544"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$1.widgetSelected",
          "source": "StructuredViewer.java:568"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireSelectionEvent",
          "source": "OpenStrategy.java:171"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$3",
          "source": "OpenStrategy.java:168"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "OpenStrategy.java:297"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:77"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:827"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1529"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1291"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:562"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:542"
        },
        {
          "method": "org.eclipse.ui.dialogs.ElementTreeSelectionDialog.access$superOpen",
          "source": "ElementTreeSelectionDialog.java:188"
        },
        {
          "method": "org.eclipse.ui.dialogs.ElementTreeSelectionDialog.access$0",
          "source": "ElementTreeSelectionDialog.java:187"
        },
        {
          "method": "org.eclipse.ui.dialogs.ElementTreeSelectionDialog$1.run",
          "source": "ElementTreeSelectionDialog.java:180"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:66"
        },
        {
          "method": "org.eclipse.ui.dialogs.ElementTreeSelectionDialog.open",
          "source": "ElementTreeSelectionDialog.java:178"
        },
        {
          "method": "myapp.dialogs.MyWizardPage1$5.widgetSelected",
          "source": "MyWizardPage1.java:156"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:87"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:77"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:827"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1529"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1291"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:562"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:542"
        },
        {
          "method": "myapp.ui.dialogs.MainClass.open",
          "source": "MainClass.java:33"
        },
        {
          "method": "myapp.ui.dialogs.MainClass.main",
          "source": "MainClass.java:18"
        }
      ],
      "number": 0,
      "commentIndex": 2,
      "bugId": "23763",
      "date": "2002-09-27T15:33:19+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "critical"
    }
  ],
  "groupId": "23763",
  "bugId": "23763",
  "date": "2002-09-18T20:21:56+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "critical"
}