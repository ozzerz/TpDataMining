{
  "comments": [
    "Copy a folder from one connection to an archive file in a different connection does not work.\n\nCopy a folder with contents in local connection, and paste it into a zip file in DStore connection.\nThe folder is created inside the zip file.  But the folder is empty.",
    "This problem seem to be related to the searching files inside folder of a archive file:\n\nFileServiceSubSystem.search(IHostSearchResultConfiguration) line: 653\t\nSystemViewRemoteFileAdapter.getFlatRemoteResourceSet(List, SystemRemoteResourceSet, IProgressMonitor) line: 1550\t\nSystemViewRemoteFileAdapter.doDrag(SystemRemoteResourceSet, IProgressMonitor) line: 1459\t\nSystemDNDTransferRunnable.transferRSEResources(Object, ISubSystem, ISystemDragDropAdapter, IProgressMonitor) line: 185\t\nSystemDNDTransferRunnable.runInWorkspace(IProgressMonitor) line: 589\t\nSystemDNDTransferRunnable(InternalWorkspaceJob).run(IProgressMonitor) line: 38\t\nWorker.run() line: 55\t\n\n\nSearching inside Archive file does not work right now (bug # 194956, and it seems not just only dstore).  We need to investigate it first.",
    "Just some additional information:\n\nIf I copied a folder inside the archive file whose member file has never been opened in the editor before, I got the following error when doing \n\n_searchService.search(_searchConfig, _fileService, monitor);\n\ncall:\n\norg.eclipse.core.internal.resources.ResourceException: Resource \u0027/RemoteSystemsTempFiles/LOCALHOST/d/tmp/aaaaa.zip#035virtual#035/mydummy_tocopy\u0027 does not exist.\n\tat org.eclipse.core.internal.resources.Resource.checkExists(Resource.java:310)\n\tat org.eclipse.core.internal.resources.Resource.checkAccessible(Resource.java:193)\n\tat org.eclipse.core.internal.resources.Container.members(Container.java:181)\n\tat org.eclipse.core.internal.resources.Container.members(Container.java:164)\n\tat org.eclipse.rse.files.ui.resources.UniversalFileTransferUtility.copyWorkspaceResourcesToRemote(UniversalFileTransferUtility.java:1183)\n\tat org.eclipse.rse.internal.files.ui.view.SystemViewRemoteFileAdapter.doDrop(SystemViewRemoteFileAdapter.java:1775)\n\tat org.eclipse.rse.internal.ui.view.SystemDNDTransferRunnable.transferRSEResources(SystemDNDTransferRunnable.java:214)\n\tat org.eclipse.rse.internal.ui.view.SystemDNDTransferRunnable.runInWorkspace(SystemDNDTransferRunnable.java:589)\n\tat org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:38)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)\n\nBut if I open a file inside a folder in an Archive file, I was able to copy this folder across connection (local -\u003e dstore).   It seems to me search assume the folder in archive file has been extracted to a temp location.",
    "Created an attachment (id\u003d79694)\nfix for bug 202949\n\n",
    "I committed the fixes.\nI also checked in 12 JUnit testcases.\n\nOne API change made because for this fix:\n\nNew constant \n\nArchiveHandlerManager#VIRTUAL_FOLDER_SEPARATOR\n\nwas added.",
    "Some of the fix is for dstore server.  So you need to update the server to verify the fix.",
    "Verified it 3.0 M3 I20071108-0100 driver.\n\n",
    "fixed."
  ],
  "commentCreationDates": [
    "2007-09-11T18:04:09+02:00",
    "2007-09-15T03:43:39+02:00",
    "2007-09-21T21:26:48+02:00",
    "2007-10-04T06:33:43+02:00",
    "2007-10-04T06:42:20+02:00",
    "2007-10-05T22:27:43+02:00",
    "2007-11-09T15:41:26+01:00",
    "2007-11-09T15:41:49+01:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.core.internal.resources.ResourceException",
      "message": "Resource \u0027/RemoteSystemsTempFiles/LOCALHOST/d/tmp/aaaaa.zip#035virtual#035/mydummy_tocopy\u0027 does not exist.",
      "elements": [
        {
          "method": "org.eclipse.core.internal.resources.Resource.checkExists",
          "source": "Resource.java:310"
        },
        {
          "method": "org.eclipse.core.internal.resources.Resource.checkAccessible",
          "source": "Resource.java:193"
        },
        {
          "method": "org.eclipse.core.internal.resources.Container.members",
          "source": "Container.java:181"
        },
        {
          "method": "org.eclipse.core.internal.resources.Container.members",
          "source": "Container.java:164"
        },
        {
          "method": "org.eclipse.rse.files.ui.resources.UniversalFileTransferUtility.copyWorkspaceResourcesToRemote",
          "source": "UniversalFileTransferUtility.java:1183"
        },
        {
          "method": "org.eclipse.rse.internal.files.ui.view.SystemViewRemoteFileAdapter.doDrop",
          "source": "SystemViewRemoteFileAdapter.java:1775"
        },
        {
          "method": "org.eclipse.rse.internal.ui.view.SystemDNDTransferRunnable.transferRSEResources",
          "source": "SystemDNDTransferRunnable.java:214"
        },
        {
          "method": "org.eclipse.rse.internal.ui.view.SystemDNDTransferRunnable.runInWorkspace",
          "source": "SystemDNDTransferRunnable.java:589"
        },
        {
          "method": "org.eclipse.core.internal.resources.InternalWorkspaceJob.run",
          "source": "InternalWorkspaceJob.java:38"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:55"
        }
      ],
      "number": 0,
      "commentIndex": 2,
      "bugId": "202949",
      "date": "2007-09-21T21:26:48+02:00",
      "product": "Target Management",
      "component": "RSE",
      "severity": "normal"
    }
  ],
  "groupId": "202949",
  "bugId": "202949",
  "date": "2007-09-11T18:04:09+02:00",
  "product": "Target Management",
  "component": "RSE",
  "severity": "normal"
}