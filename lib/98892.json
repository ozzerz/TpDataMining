{
  "comments": [
    "The following code executes differently depending on whether it is compiled\nusing the Eclipse compiler (3.1 RC1), or Sun\u0027s javac.\n\npublic class TooManyTimes {\n\n    public static void main(String[] args) {\n        new InnerClass().start();\n    }\n\n    public static class InnerClass {\n        public Object start() {\n            System.err.println(\"So long!\");\n            try {\n                return null;\n            } finally {\n                System.err.println(\"And thanks for all the fish!\");\n                foo();\n            }\n        }\n\n        private void foo() {\n            throw new IllegalStateException(\"Gah!\");\n        }\n    }\n\n}\n\n\nThe output generated when compiled with eclipse is:\nSo long!\nAnd thanks for all the fish!\nAnd thanks for all the fish!\nException in thread \"main\" java.lang.IllegalStateException: Gah!\n\tat TooManyTimes$InnerClass.foo(TooManyTimes.java:19)\n\tat TooManyTimes$InnerClass.start(TooManyTimes.java:14)\n\tat TooManyTimes.main(TooManyTimes.java:4)\n\n\n\n\nThe output when compiled with javac is:\nSo long!\nAnd thanks for all the fish!\nException in thread \"main\" java.lang.IllegalStateException: Gah!\n        at TooManyTimes$InnerClass.foo(TooManyTimes.java:19)\n        at TooManyTimes$InnerClass.start(TooManyTimes.java:14)\n        at TooManyTimes.main(TooManyTimes.java:4)\n\n\n\n\nThe difference is that \"And thanks for all the fish!\" is printed twice for the\neclipse compiled version :-) The finally clause is executed twice!!!",
    "Oops ! Thanks for finding this.",
    "This only occurs when performing JSR inline (like in compliant 1.5 mode).",
    "Problem comes from an exception attribute range which comprises the inlined\nfinally block, thus in case of exception, it gets trapped and activates the any\nexception handler (second invocation of the finally block).",
    "Added TryStatementTest#test027-028.\n\nFixed by exit/entering subroutine code when performing inlining of finally block\nat exit locations in code.\n\nFixed",
    "Thanks Philippe! Good work :-)",
    "Output is now:\nSo long!\nAnd thanks for all the fish!\nException in thread \"main\" java.lang.IllegalStateException: Gah!\n\tat TooManyTimes$InnerClass.foo(TooManyTimes.java:19)\n\tat TooManyTimes$InnerClass.start(TooManyTimes.java:14)\n\tat TooManyTimes.main(TooManyTimes.java:4)\n\nVerified with N20050609-0010 + JDT/Core HEAD",
    "Verified for 3.1 RC2 using build I20050610-0010"
  ],
  "commentCreationDates": [
    "2005-06-08T10:30:22+02:00",
    "2005-06-08T17:58:25+02:00",
    "2005-06-08T18:37:01+02:00",
    "2005-06-08T18:39:16+02:00",
    "2005-06-08T19:07:47+02:00",
    "2005-06-09T02:27:56+02:00",
    "2005-06-09T15:33:52+02:00",
    "2005-06-10T17:15:06+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalStateException",
      "message": "Gah!",
      "elements": [
        {
          "method": "TooManyTimes$InnerClass.foo",
          "source": "TooManyTimes.java:19"
        },
        {
          "method": "TooManyTimes$InnerClass.start",
          "source": "TooManyTimes.java:14"
        },
        {
          "method": "TooManyTimes.main",
          "source": "TooManyTimes.java:4"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "98892",
      "date": "2005-06-08T10:30:22+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "critical"
    },
    {
      "exceptionType": "java.lang.IllegalStateException",
      "message": "Gah!",
      "elements": [
        {
          "method": "TooManyTimes$InnerClass.foo",
          "source": "TooManyTimes.java:19"
        },
        {
          "method": "TooManyTimes$InnerClass.start",
          "source": "TooManyTimes.java:14"
        },
        {
          "method": "TooManyTimes.main",
          "source": "TooManyTimes.java:4"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "98892",
      "date": "2005-06-08T10:30:22+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "critical"
    },
    {
      "exceptionType": "java.lang.IllegalStateException",
      "message": "Gah!",
      "elements": [
        {
          "method": "TooManyTimes$InnerClass.foo",
          "source": "TooManyTimes.java:19"
        },
        {
          "method": "TooManyTimes$InnerClass.start",
          "source": "TooManyTimes.java:14"
        },
        {
          "method": "TooManyTimes.main",
          "source": "TooManyTimes.java:4"
        }
      ],
      "number": 2,
      "commentIndex": 6,
      "bugId": "98892",
      "date": "2005-06-09T15:33:52+02:00",
      "product": "JDT",
      "component": "Core",
      "severity": "critical"
    }
  ],
  "groupId": "98892",
  "bugId": "98892",
  "date": "2005-06-08T10:30:22+02:00",
  "product": "JDT",
  "component": "Core",
  "severity": "critical"
}