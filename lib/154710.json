{
  "comments": [
    "This occurs on the 0.6.1.v20060821-1900 dev-build:\n\nWhen trying to attach context with a empty message, a \"Communication error occurred during upload.\" appears on error log.\n\nStack trace:\n\njava.io.IOException: A communication error occurred.\n\tat org.eclipse.mylar.internal.bugzilla.core.BugzillaAttachmentHandler.uploadAttachment(BugzillaAttachmentHandler.java:175)\n\tat org.eclipse.mylar.internal.bugzilla.core.BugzillaAttachmentHandler.uploadAttachment(BugzillaAttachmentHandler.java:106)\n\tat org.eclipse.mylar.tasks.ui.AbstractRepositoryConnector.attachContext(AbstractRepositoryConnector.java:232)\n\tat org.eclipse.mylar.internal.tasks.ui.wizards.ContextAttachWizard.performFinish(ContextAttachWizard.java:65)\n\tat org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:680)\n\tat org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:355)\n\tat org.eclipse.jface.dialogs.Dialog$3.widgetSelected(Dialog.java:660)\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\n\tat org.eclipse.jface.window.Window.open(Window.java:796)\n\tat org.eclipse.mylar.internal.context.ui.actions.ContextAttachAction.run(ContextAttachAction.java:69)\n\tat org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:254)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)\n\nAfter that, if I try again, it shows a messagebox: \"Task must be synchronized before attaching context\".",
    "The fix for this didn\u0027t make it into yesturday\u0027s dev build. A new dev build is up for you to try out (sorry for the inconvenience).",
    "It didn\u0027t work on 20060822-1230.\n\nIt now shows a messagebox saying: \"Attachment of task context FAILED. Communication error occurred during upload.\".\n\nThere is no message in error log.",
    "Is the repository you\u0027re working with setup with anonymous login (ie. is your username and password empty in the task repositories view)?",
    "No, the user/password are right (authentication credentials valid).\n\nMy queries work fine.",
    "Figured so, just had to ask since there were some changes that may have affected this in the latest builds.\nI haven\u0027t been able to reproduce this but I\u0027ll keep digging.",
    "Looks like http post is failing for you.  I\u0027ve improved the logging of failed HttpClient posts during Bugzilla attachment. We\u0027ll cut another dev build tonight and hopefully the error message will point us in the right direction. :)",
    "Good ;-)\n\nApparently this is a attachment-specific bug, because I can submit changes to a bug via bugzilla editor with no problem.",
    "Tested with last night dev-build:\n\nThe message is: \"Attachment of task context FAILED. Communication error occurred during upload. Proxy authentication required\".\n\nThen, I did this:\n\n- I\u0027m behind a ISA proxy, but the bugzilla server is in the internal network.\n- The \"Validate Settings\" now says \"No Bugzilla Server found at url\" (it worked in the previous dev-build).\n- I verified the proxy settings (all 3 of them), and it seems OK.\n\nI disabled the proxy (in Internet -\u003e Proxy Settings) and tried again. Now it works.\n\nSo, it worked now and I don\u0027t know why. And it didn\u0027t work before, and I also don\u0027t know why :)\n\nAlso, in the previous version, the only thing that didn\u0027t work was the attach context.\n\nI\u0027ll make some more intensive tests, and if there is something new, I let you know.\n\nBTW, is the encoding combobox gone in the repository settings?",
    "Thanks, yes encoding was was missing and is now back.\nSo working via a proxy is simply no longer working for you?",
    "Hi Rob, sorry for the delay,\n\nI tested again with the 0.6.1.v20060825-1300, and it seems to be working fine.\n\nI think there was many problems occurring at the same time:\n\n(1) many proxy settings in Eclipse confusing me: bug#146603, bug#119278.\n(2) the dawn ISA server!\n(3) some changes in the internal networking (they are changing the internal domain here at work).\n(4) the not-so-helpful error message on attach context :)\n\nI disabled the proxy settings (all of them) and it is working now.\n\nBut I really don\u0027t know why it was all working at the first time with the exception of the attach context.\n\nAt least this bug could be used to make the error message more helpful ;-)\n\nSo, I think you could mark this bug as INVALID. If I find a similar issue again, I\u0027ll let you know.\n\nThanks.",
    "Okay great. Keep your eye on it and if proxy related issues rise again we\u0027ll create a new bug report.\nIndeed, at least we were able to improve the error handling! :)\n"
  ],
  "commentCreationDates": [
    "2006-08-22T17:44:39+02:00",
    "2006-08-22T21:41:52+02:00",
    "2006-08-22T22:46:03+02:00",
    "2006-08-22T23:05:13+02:00",
    "2006-08-22T23:17:11+02:00",
    "2006-08-22T23:26:59+02:00",
    "2006-08-23T01:39:16+02:00",
    "2006-08-23T02:06:30+02:00",
    "2006-08-23T19:45:47+02:00",
    "2006-08-23T21:01:40+02:00",
    "2006-08-25T23:47:37+02:00",
    "2006-08-26T00:02:12+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.io.IOException",
      "message": "A communication error occurred.",
      "elements": [
        {
          "method": "org.eclipse.mylar.internal.bugzilla.core.BugzillaAttachmentHandler.uploadAttachment",
          "source": "BugzillaAttachmentHandler.java:175"
        },
        {
          "method": "org.eclipse.mylar.internal.bugzilla.core.BugzillaAttachmentHandler.uploadAttachment",
          "source": "BugzillaAttachmentHandler.java:106"
        },
        {
          "method": "org.eclipse.mylar.tasks.ui.AbstractRepositoryConnector.attachContext",
          "source": "AbstractRepositoryConnector.java:232"
        },
        {
          "method": "org.eclipse.mylar.internal.tasks.ui.wizards.ContextAttachWizard.performFinish",
          "source": "ContextAttachWizard.java:65"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.finishPressed",
          "source": "WizardDialog.java:680"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.buttonPressed",
          "source": "WizardDialog.java:355"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$3.widgetSelected",
          "source": "Dialog.java:660"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:90"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3348"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2968"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:820"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:796"
        },
        {
          "method": "org.eclipse.mylar.internal.context.ui.actions.ContextAttachAction.run",
          "source": "ContextAttachAction.java:69"
        },
        {
          "method": "org.eclipse.ui.internal.PluginAction.runWithEvent",
          "source": "PluginAction.java:254"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:539"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3348"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2968"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1914"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1878"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:280"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "154710",
      "date": "2006-08-22T17:44:39+02:00",
      "product": "Mylyn",
      "component": "Bugzilla",
      "severity": "normal"
    }
  ],
  "groupId": "154710",
  "bugId": "154710",
  "date": "2006-08-22T17:44:39+02:00",
  "product": "Mylyn",
  "component": "Bugzilla",
  "severity": "normal"
}