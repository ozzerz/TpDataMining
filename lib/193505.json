{
  "comments": [
    "Build ID: 3.3 RC4\nCDT: 4.0.0-I200706200100\n\nError resolving \u0027first_edge\u0027 in .../face_triangl.cc.\n\njava.lang.NullPointerException\n\tat org.eclipse.cdt.internal.core.pdom.db.PDOMNodeLinkedList.accept(PDOMNodeLinkedList.java:67)\n\tat org.eclipse.cdt.internal.core.pdom.dom.cpp.PDOMCPPClassType.accept(PDOMCPPClassType.java:160)\n\tat org.eclipse.cdt.internal.core.pdom.dom.cpp.PDOMCPPClassType.getBindingsViaCache(PDOMCPPClassType.java:367)\n\tat org.eclipse.cdt.internal.core.pdom.dom.cpp.PDOMCPPClassType.getBinding(PDOMCPPClassType.java:327)\n\tat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.lookupInParents(CPPSemantics.java:1222)\n\tat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.lookup(CPPSemantics.java:1124)\n\tat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.resolveBinding(CPPSemantics.java:632)\n\tat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPVisitor.resolveBinding(CPPVisitor.java:1001)\n\tat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPVisitor.createBinding(CPPVisitor.java:191)\n\tat org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTName.resolveBinding(CPPASTName.java:78)\n\tat org.eclipse.cdt.internal.core.pdom.PDOMWriter.addSymbols(PDOMWriter.java:163)\n\tat org.eclipse.cdt.internal.core.pdom.indexer.PDOMIndexerTask.parseTU(PDOMIndexerTask.java:300)\n\tat org.eclipse.cdt.internal.core.pdom.indexer.PDOMIndexerTask.internalParseTUs(PDOMIndexerTask.java:218)\n\tat org.eclipse.cdt.internal.core.pdom.indexer.PDOMIndexerTask.parseTUs(PDOMIndexerTask.java:192)\n\tat org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastIndexerTask.run(PDOMFastIndexerTask.java:102)\n\tat org.eclipse.cdt.internal.core.pdom.indexer.PDOMRebuildTask.run(PDOMRebuildTask.java:75)\n\tat org.eclipse.cdt.internal.core.pdom.PDOMIndexerJob.run(PDOMIndexerJob.java:89)\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)",
    "hi Jens,\n\n do you have a means to reproduce this? the only time I\u0027ve seen this sort of error was during development when the index had become corrupt (e.g. by killing a debug session during indexer write)\n\nthanks,\nAndrew",
    "(In reply to comment #1)\n\u003e  do you have a means to reproduce this? the only time I\u0027ve seen this sort of\n\u003e error was during development when the index had become corrupt (e.g. by killing\n\u003e a debug session during indexer write)\n\nYes, it is reproducable with a file in a larger project. I was able to\nreduce this file to three lines. Nevertheless copying this file into\na new poject doesn\u0027t confuse the indexer!\n\nI tried already to extent it but it is hard ...\n\nI reported today also some other problems in CDT. Maybe one of it is\nresponsible for a broken index? Please note that I used this new CDT\nonly one or two hours, not much time to create a faulty index!\n\nOK, I will try again to reduce my original project. But I\u0027m not shure whether I will be successfully.",
    "(In reply to comment #2)\n\u003e ... Please note that I used this new CDT\n\u003e only one or two hours, not much time to create a faulty index!\nCan you provide the log of the entire session?\n",
    "(In reply to comment #3)\n\u003e (In reply to comment #2)\n\u003e \u003e ... Please note that I used this new CDT\n\u003e \u003e only one or two hours, not much time to create a faulty index!\n\u003e Can you provide the log of the entire session?\n\nOK. It\u0027s available on http://alioth.debian.org/~jseidel-guest/\nfilenames .log and .bak_0.log.\n(99% of it is unrelated to this bug, that\u0027s why I did not attach it.)\n\nPS: I tried already to report everything in the log, but maybe I forgot\nsome exceptions ... \n",
    "\u003e OK. It\u0027s available on http://alioth.debian.org/~jseidel-guest/\n\u003e filenames .log and .bak_0.log.\n\u003e (99% of it is unrelated to this bug, that\u0027s why I did not attach it.)\n\u003e PS: I tried already to report everything in the log, but maybe I forgot\n\u003e some exceptions ... \n\nThanks.\nI had a quick look, most of the exceptions are thrown by the IndexView. I am not too worried about those as this view does not obtain a read-lock when accessing the index (bug 172842). Please close the IndexView and rebuild the index and see whether you get any exceptions, then.\n",
    "(In reply to comment #5)\n\u003e I had a quick look, most of the exceptions are thrown by the IndexView. I am\n\u003e not too worried about those as this view does not obtain a read-lock when\n\u003e accessing the index (bug 172842). Please close the IndexView and rebuild the\n\u003e index and see whether you get any exceptions, then.\n\nThanks, I verified that at least this exception definitivly vanished!\nI did indeed not opened the IndexView. \n\nSo I\u0027m sorry for the useless bug reports I created today (not all are affected\nby this but most). I will be more carefully in the future. Could you please\ncheck the other reports as well and close or comment these?\n\nAffected bugs:\n\n 193512    nor   P3   Linu   cdt-core-inbox@eclipse.org   NEW   ArrayIndexOutOfBoundsException in org.eclipse.cdt.ui.test... \n  193554    nor   P3   Linu   cdt-launch-inbox@eclipse.org   NEW   NPE in AbstractCLaunchDelegate.getProjectName \n  193559    nor   P3   Linu   cdt-core-inbox@eclipse.org   NEW   NullPointerException at org.eclipse.jface.action.ActionCo... \n  193508    nor   P3   Linu   cdt-core-inbox@eclipse.org   NEW   Many NPE and \"Unhandled event loop exception\" during inde... \n  193505    nor   P3   Linu   cdt-core-inbox@eclipse.org   NEW   NPE in PDOMNodeLinkedList.accept\n\nThanks, again!",
    "Jens, just in time you have found an important bug! So many thanks for reporting it and sharing your logs. Here my explanation of what\u0027s going on:\n\n(1) As said before the IndexView accesses the index without obtaining a lock,\n    this may lead to occasional exceptions (bug 172842).\n(2) In case such an unprotected read-operation works on the same database\n    chunk as a concurrent write-operation this may cause false data to be\n    written to the index. Whenever the index is used after that, all sorts of \n    exceptions will be thrown.\n(3) Furthermore, concurrent read-operations (which are allowed!) may also \n    lead to wrong data to be read causing occasional exceptions. However,\n    this will not corrupt the index.\n\nI am confident that I can fix (2) and (3) for RC4. The changes will be limited to the class \u0027Chunk\u0027 and will not require additional sychronization. So the risk is very low.",
    "Created an attachment (id\u003d72030)\nproposed fix\n\nThis is the fix I am going to apply. Before, I will run the indexer on a couple of projects, though.",
    "I have checked in my fix. Indexing with the IndexView open no longer corrupts the index. However, since the view violates the rules, there are still chances that something goes wrong. \n\nIt is safer (and faster) not to use the IndexView during indexing! \n\n",
    "*** Bug 193508 has been marked as a duplicate of this bug. ***",
    "*** Bug 193592 has been marked as a duplicate of this bug. ***"
  ],
  "commentCreationDates": [
    "2007-06-20T15:25:15+02:00",
    "2007-06-20T15:33:30+02:00",
    "2007-06-20T17:20:29+02:00",
    "2007-06-20T17:32:26+02:00",
    "2007-06-20T17:40:35+02:00",
    "2007-06-20T18:13:20+02:00",
    "2007-06-20T18:28:39+02:00",
    "2007-06-21T09:51:43+02:00",
    "2007-06-21T13:31:08+02:00",
    "2007-06-21T15:07:34+02:00",
    "2007-06-21T15:10:21+02:00",
    "2007-06-22T08:34:07+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.cdt.internal.core.pdom.db.PDOMNodeLinkedList.accept",
          "source": "PDOMNodeLinkedList.java:67"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.dom.cpp.PDOMCPPClassType.accept",
          "source": "PDOMCPPClassType.java:160"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.dom.cpp.PDOMCPPClassType.getBindingsViaCache",
          "source": "PDOMCPPClassType.java:367"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.dom.cpp.PDOMCPPClassType.getBinding",
          "source": "PDOMCPPClassType.java:327"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.lookupInParents",
          "source": "CPPSemantics.java:1222"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.lookup",
          "source": "CPPSemantics.java:1124"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPSemantics.resolveBinding",
          "source": "CPPSemantics.java:632"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPVisitor.resolveBinding",
          "source": "CPPVisitor.java:1001"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPVisitor.createBinding",
          "source": "CPPVisitor.java:191"
        },
        {
          "method": "org.eclipse.cdt.internal.core.dom.parser.cpp.CPPASTName.resolveBinding",
          "source": "CPPASTName.java:78"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.PDOMWriter.addSymbols",
          "source": "PDOMWriter.java:163"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.PDOMIndexerTask.parseTU",
          "source": "PDOMIndexerTask.java:300"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.PDOMIndexerTask.internalParseTUs",
          "source": "PDOMIndexerTask.java:218"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.PDOMIndexerTask.parseTUs",
          "source": "PDOMIndexerTask.java:192"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.fast.PDOMFastIndexerTask.run",
          "source": "PDOMFastIndexerTask.java:102"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.indexer.PDOMRebuildTask.run",
          "source": "PDOMRebuildTask.java:75"
        },
        {
          "method": "org.eclipse.cdt.internal.core.pdom.PDOMIndexerJob.run",
          "source": "PDOMIndexerJob.java:89"
        },
        {
          "method": "org.eclipse.core.internal.jobs.Worker.run",
          "source": "Worker.java:55"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "193505",
      "date": "2007-06-20T15:25:15+02:00",
      "product": "CDT",
      "component": "CDT-parser",
      "severity": "normal"
    }
  ],
  "groupId": "193505",
  "bugId": "193505",
  "date": "2007-06-20T15:25:15+02:00",
  "product": "CDT",
  "component": "CDT-parser",
  "severity": "normal"
}