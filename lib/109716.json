{
  "comments": [
    "When executing the statement \"java.awt.GraphicsEnvironment g \u003d \nGraphicsEnvironment.getLocalGraphicsEnvironment();\" on Red Hat Enterprise Linux \n3 as an Eclipse Application, then I get the following error messages:\n\n1. time:\n\n_X11TransSocketOpen: socket() failed for tcp\n_X11TransSocketOpenCOTSClient: Unable to open socket for tcp\n_X11TransOpen: transport open failed for tcp/localhost:10\n\nInternal Error: Can\u0027t connect to X11 window server using \u0027localhost:10.0\u0027 as \nthe value of the DISPLAY variable.\n\njava.lang.InternalError: Can\u0027t connect to X11 window server \nusing \u0027localhost:10.0\u0027 as the value of the DISPLAY variable.\n\tat sun.awt.X11GraphicsEnvironment.initDisplay(Native Method)\n\tat sun.awt.X11GraphicsEnvironment.\u003cclinit\u003e\n(X11GraphicsEnvironment.java:175)\n\tat java.lang.Class.initializeImpl(Native Method)\n\tat java.lang.Class.initialize(Class.java:350)\n\tat java.lang.Class.forNameImpl(Native Method)\n\tat java.lang.Class.forName(Class.java:116)\n\tat java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment\n(GraphicsEnvironment.java:91)\n\tat java.awt.image.BufferedImage.createGraphics(BufferedImage.java:1073)\n\tat org.apache.batik.svggen.SVGGraphics2D.\u003cinit\u003e(Unknown Source)\n\tat org.apache.batik.svggen.SVGGraphics2D.\u003cinit\u003e(Unknown Source)\n\tat com.ibm.wbit.reporting.imageutility.BToolsDraw2dSvgGraphics.\u003cinit\u003e\n(BToolsDraw2dSvgGraphics.java)\n\tat com.ibm.wbit.reporting.imageutility.SvgExportUtility.\u003cinit\u003e\n(SvgExportUtility.java)\n\tat com.ibm.wbit.bpel.ui.reporting.BPELReportImage.getImageByName\n(Unknown Source)\n\tat \ncom.ibm.wbit.reporting.imageprovider.ImageProviderSelector.getImageByName\n(ImageProviderSelector.java:169)\n\tat \ncom.ibm.wbit.reporting.reportunit.bpel.BpelReportUnit.createReportChapter\n(BpelReportUnit.java:357)\n\tat \ncom.ibm.wbit.reporting.infrastructure.generator.ReportGenerator.retrieveReportUn\nitSnippet(ReportGenerator.java:960)\n\tat \ncom.ibm.wbit.reporting.infrastructure.generator.ReportGenerator.createReportTota\nlInput(ReportGenerator.java:625)\n\tat \ncom.ibm.wbit.reporting.infrastructure.generator.ReportGenerator.generateReport\n(ReportGenerator.java:431)\n\tat com.ibm.wbit.reporting.infrastructure.wizard.ReportOperation.execute\n(ReportOperation.java:68)\n\tat com.ibm.wtp.common.operation.WTPOperation.doRun\n(WTPOperation.java:267)\n\tat com.ibm.wtp.common.operation.WTPOperation$1.run\n(WTPOperation.java:181)\n\tat org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1673)\n\tat org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1693)\n\tat com.ibm.wtp.common.operation.WTPOperation.run(WTPOperation.java:199)\n\tat com.ibm.wtp.common.ui.RunnableWithProgressWrapper.run\n(RunnableWithProgressWrapper.java:62)\n\tat org.eclipse.jface.operation.ModalContext.runInCurrentThread\n(ModalContext.java:303)\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:253)\n\tat org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:752)\n\tat \ncom.ibm.wbit.reporting.infrastructure.wizard.ReportWizard.performFinish\n(ReportWizard.java:648)\n...\n\nnext times:\n\njava.lang.NoClassDefFoundError: sun.awt.X11GraphicsEnvironment\n\tat java.lang.Class.initialize(Class.java:318)\n\tat java.lang.Class.forNameImpl(Native Method)\n\tat java.lang.Class.forName(Class.java:116)\n\tat java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment\n(GraphicsEnvironment.java:91)\n\tat java.awt.image.BufferedImage.createGraphics(BufferedImage.java:1073)\n\tat org.apache.batik.svggen.SVGGraphics2D.\u003cinit\u003e(Unknown Source)\n\tat org.apache.batik.svggen.SVGGraphics2D.\u003cinit\u003e(Unknown Source)\n\tat com.ibm.wbit.reporting.imageutility.BToolsDraw2dSvgGraphics.\u003cinit\u003e\n(BToolsDraw2dSvgGraphics.java)\n\tat com.ibm.wbit.reporting.imageutility.SvgExportUtility.\u003cinit\u003e\n(SvgExportUtility.java)\n\tat com.ibm.wbit.ie.extensionhandlers.InterfaceReportImage.getImageByName\n(Unknown Source)\n\tat \ncom.ibm.wbit.reporting.imageprovider.ImageProviderSelector.getImageByName\n(ImageProviderSelector.java:169)\n\tat \ncom.ibm.wbit.reporting.reportunit.wsdl.WsdlReportUnit.createReportChapter\n(WsdlReportUnit.java:234)\n\tat \ncom.ibm.wbit.reporting.infrastructure.generator.ReportGenerator.retrieveReportUn\nitSnippet(ReportGenerator.java:960)\n\tat \ncom.ibm.wbit.reporting.infrastructure.generator.ReportGenerator.createReportTota\nlInput(ReportGenerator.java:625)\n\tat \ncom.ibm.wbit.reporting.infrastructure.generator.ReportGenerator.generateReport\n(ReportGenerator.java:431)\n\tat com.ibm.wbit.reporting.infrastructure.wizard.ReportOperation.execute\n(ReportOperation.java:68)\n\tat com.ibm.wtp.common.operation.WTPOperation.doRun\n(WTPOperation.java:267)\n\tat com.ibm.wtp.common.operation.WTPOperation$1.run\n(WTPOperation.java:181)\n\tat org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1673)\n\tat org.eclipse.core.internal.resources.Workspace.run\n(Workspace.java:1693)\n\tat com.ibm.wtp.common.operation.WTPOperation.run(WTPOperation.java:199)\n\tat com.ibm.wtp.common.ui.RunnableWithProgressWrapper.run\n(RunnableWithProgressWrapper.java:62)\n\tat org.eclipse.jface.operation.ModalContext.runInCurrentThread\n(ModalContext.java:303)\n\tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:253)\n\tat org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:752)\n\tat \ncom.ibm.wbit.reporting.infrastructure.wizard.ReportWizard.performFinish\n(ReportWizard.java:648)\n\tat org.eclipse.jface.wizard.WizardDialog.finishPressed\n(WizardDialog.java:609)    \n...\n\nThis problem does not occur on Suse or Windows but on Red Hat. Furhteron, this \nproblem does not occur in Java Applications or SWT Applications but with \nEclipse Applications.",
    "X11 Window Server is running!",
    "Usually you see display variables on high ports like :10.0 when you are running\nover an ssh tunnel.  Is this true in your case?  Does the problem occur when you\nare running locally?\n\nAlso, what Java VM are you using, what specific version of Red Hat Linux, and\nwhat kernel version?  The X error you are seeing occurs when a call to\n\"socket()\" fails, which shouldn\u0027t normally happen.",
    "(Q) Usually you see display variables on high ports like :10.0 when you are \nrunning over an ssh tunnel.  Is this true in your case?  \n(A) Yes\n\n(Q) Does the problem occur when you are running locally?\n(A) Yes\n\n(Q) what Java VM are you using?\n(A) Classic VM (build 1.4.2, J2RE 1.4.2 IBM build cxia32142-20040926 (JIT \nenabled: jitc))\n\n(Q) what specific version of Red Hat Linux?\n(A) RHEL 3 update 5\n\n(Q) what kernel version?  \n(A) 2.4.21-32.0.1.EL\n\n\nBy the way, if I set java.awt.headless\u003d\"true\", then all works fine -\u003e no \nError/Exception will be thrown. But I really do not know why it works with this \nJVM setting, because I do not have headless Java -\u003e I have a GUI application. \nSo I think, this could not be the solution - propably a workaround, but then I \nneed a description for this.",
    "You are running AWT code here (not SWT).  Does the error occur in a simple AWT\nonly example using org.apache.batik.svggen.SVGGraphics2D?",
    "The reason I was asking about the kernel/VM is because of the recent\ninvestigation in bug 106396.  There seems to be some strangeness with\nrunning WTP on RHEL3 that in that case was solved by setting the\nmysterious environment variable JAVA_HIGH_ZIPFDS to something big\nlike 500.\n\nMy theory is that something about the number of files or sockets opened\ntriggers some bug with this kernel/VM combination, but I would really\nlike to know for sure.  Can you try that out as well?",
    "(Q) Does the error occur in a simple AWT only example using \norg.apache.batik.svggen.SVGGraphics2D?\n(A) Yes. I have developed a very small test plug-in which just executes the \nfollowing statement: \"java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment\n()\" -\u003e the error occurs.\n\nSetting the environment variable JAVA_HIGH_ZIPFDS to 300 or higher fixes the \nproblem. Is this the \u0027official\u0027 workaround for Eclipse Applictions on RHEL and \nhow should I describe it in a README of our product? I cannot find any \ndocumentation of this environment variable.",
    "I don\u0027t know.  I suspect it\u0027s a bug in the VM.  Also, I think that you wouldn\u0027t\nhave this problem if WTP wasn\u0027t loaded.  We should discuss in bug 106396.\n\n*** This bug has been marked as a duplicate of 106396 ***"
  ],
  "commentCreationDates": [
    "2005-09-16T10:40:29+02:00",
    "2005-09-16T11:05:13+02:00",
    "2005-09-17T05:55:52+02:00",
    "2005-09-19T11:00:24+02:00",
    "2005-09-19T19:39:06+02:00",
    "2005-09-19T20:28:20+02:00",
    "2005-09-20T09:27:58+02:00",
    "2005-09-20T16:12:54+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.InternalError",
      "message": "Can\u0027t connect to X11 window server  using \u0027localhost:10.0\u0027 as the value of the DISPLAY variable.",
      "elements": [
        {
          "method": "sun.awt.X11GraphicsEnvironment.initDisplay",
          "source": "Native Method"
        },
        {
          "method": "sun.awt.X11GraphicsEnvironment.\u003cclinit\u003e",
          "source": "X11GraphicsEnvironment.java:175"
        },
        {
          "method": "java.lang.Class.initializeImpl",
          "source": "Native Method"
        },
        {
          "method": "java.lang.Class.initialize",
          "source": "Class.java:350"
        },
        {
          "method": "java.lang.Class.forNameImpl",
          "source": "Native Method"
        },
        {
          "method": "java.lang.Class.forName",
          "source": "Class.java:116"
        },
        {
          "method": "java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment",
          "source": "GraphicsEnvironment.java:91"
        },
        {
          "method": "java.awt.image.BufferedImage.createGraphics",
          "source": "BufferedImage.java:1073"
        },
        {
          "method": "org.apache.batik.svggen.SVGGraphics2D.\u003cinit\u003e",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.batik.svggen.SVGGraphics2D.\u003cinit\u003e",
          "source": "Unknown Source"
        },
        {
          "method": "com.ibm.wbit.reporting.imageutility.BToolsDraw2dSvgGraphics.\u003cinit\u003e",
          "source": "BToolsDraw2dSvgGraphics.java"
        },
        {
          "method": "com.ibm.wbit.reporting.imageutility.SvgExportUtility.\u003cinit\u003e",
          "source": "SvgExportUtility.java"
        },
        {
          "method": "com.ibm.wbit.bpel.ui.reporting.BPELReportImage.getImageByName",
          "source": "Unknown Source"
        },
        {
          "method": "com.ibm.wbit.reporting.imageprovider.ImageProviderSelector.getImageByName",
          "source": "ImageProviderSelector.java:169"
        },
        {
          "method": "com.ibm.wbit.reporting.reportunit.bpel.BpelReportUnit.createReportChapter",
          "source": "BpelReportUnit.java:357"
        },
        {
          "method": "com.ibm.wbit.reporting.infrastructure.generator.ReportGenerator.retrieveReportUnitSnippet",
          "source": "ReportGenerator.java:960"
        },
        {
          "method": "com.ibm.wbit.reporting.infrastructure.generator.ReportGenerator.createReportTotalInput",
          "source": "ReportGenerator.java:625"
        },
        {
          "method": "com.ibm.wbit.reporting.infrastructure.generator.ReportGenerator.generateReport",
          "source": "ReportGenerator.java:431"
        },
        {
          "method": "com.ibm.wbit.reporting.infrastructure.wizard.ReportOperation.execute",
          "source": "ReportOperation.java:68"
        },
        {
          "method": "com.ibm.wtp.common.operation.WTPOperation.doRun",
          "source": "WTPOperation.java:267"
        },
        {
          "method": "com.ibm.wtp.common.operation.WTPOperation$1.run",
          "source": "WTPOperation.java:181"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1673"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1693"
        },
        {
          "method": "com.ibm.wtp.common.operation.WTPOperation.run",
          "source": "WTPOperation.java:199"
        },
        {
          "method": "com.ibm.wtp.common.ui.RunnableWithProgressWrapper.run",
          "source": "RunnableWithProgressWrapper.java:62"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:303"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:253"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.run",
          "source": "WizardDialog.java:752"
        },
        {
          "method": "com.ibm.wbit.reporting.infrastructure.wizard.ReportWizard.performFinish",
          "source": "ReportWizard.java:648"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "109716",
      "duplicateId": "106396",
      "date": "2005-09-16T10:40:29+02:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "blocker"
    },
    {
      "exceptionType": "java.lang.NoClassDefFoundError",
      "message": "sun.awt.X11GraphicsEnvironment",
      "elements": [
        {
          "method": "java.lang.Class.initialize",
          "source": "Class.java:318"
        },
        {
          "method": "java.lang.Class.forNameImpl",
          "source": "Native Method"
        },
        {
          "method": "java.lang.Class.forName",
          "source": "Class.java:116"
        },
        {
          "method": "java.awt.GraphicsEnvironment.getLocalGraphicsEnvironment",
          "source": "GraphicsEnvironment.java:91"
        },
        {
          "method": "java.awt.image.BufferedImage.createGraphics",
          "source": "BufferedImage.java:1073"
        },
        {
          "method": "org.apache.batik.svggen.SVGGraphics2D.\u003cinit\u003e",
          "source": "Unknown Source"
        },
        {
          "method": "org.apache.batik.svggen.SVGGraphics2D.\u003cinit\u003e",
          "source": "Unknown Source"
        },
        {
          "method": "com.ibm.wbit.reporting.imageutility.BToolsDraw2dSvgGraphics.\u003cinit\u003e",
          "source": "BToolsDraw2dSvgGraphics.java"
        },
        {
          "method": "com.ibm.wbit.reporting.imageutility.SvgExportUtility.\u003cinit\u003e",
          "source": "SvgExportUtility.java"
        },
        {
          "method": "com.ibm.wbit.ie.extensionhandlers.InterfaceReportImage.getImageByName",
          "source": "Unknown Source"
        },
        {
          "method": "com.ibm.wbit.reporting.imageprovider.ImageProviderSelector.getImageByName",
          "source": "ImageProviderSelector.java:169"
        },
        {
          "method": "com.ibm.wbit.reporting.reportunit.wsdl.WsdlReportUnit.createReportChapter",
          "source": "WsdlReportUnit.java:234"
        },
        {
          "method": "com.ibm.wbit.reporting.infrastructure.generator.ReportGenerator.retrieveReportUnitSnippet",
          "source": "ReportGenerator.java:960"
        },
        {
          "method": "com.ibm.wbit.reporting.infrastructure.generator.ReportGenerator.createReportTotalInput",
          "source": "ReportGenerator.java:625"
        },
        {
          "method": "com.ibm.wbit.reporting.infrastructure.generator.ReportGenerator.generateReport",
          "source": "ReportGenerator.java:431"
        },
        {
          "method": "com.ibm.wbit.reporting.infrastructure.wizard.ReportOperation.execute",
          "source": "ReportOperation.java:68"
        },
        {
          "method": "com.ibm.wtp.common.operation.WTPOperation.doRun",
          "source": "WTPOperation.java:267"
        },
        {
          "method": "com.ibm.wtp.common.operation.WTPOperation$1.run",
          "source": "WTPOperation.java:181"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1673"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1693"
        },
        {
          "method": "com.ibm.wtp.common.operation.WTPOperation.run",
          "source": "WTPOperation.java:199"
        },
        {
          "method": "com.ibm.wtp.common.ui.RunnableWithProgressWrapper.run",
          "source": "RunnableWithProgressWrapper.java:62"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.runInCurrentThread",
          "source": "ModalContext.java:303"
        },
        {
          "method": "org.eclipse.jface.operation.ModalContext.run",
          "source": "ModalContext.java:253"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.run",
          "source": "WizardDialog.java:752"
        },
        {
          "method": "com.ibm.wbit.reporting.infrastructure.wizard.ReportWizard.performFinish",
          "source": "ReportWizard.java:648"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.finishPressed",
          "source": "WizardDialog.java:609"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "109716",
      "duplicateId": "106396",
      "date": "2005-09-16T10:40:29+02:00",
      "product": "Platform",
      "component": "SWT",
      "severity": "blocker"
    }
  ],
  "groupId": "106396",
  "bugId": "109716",
  "duplicateId": "106396",
  "date": "2005-09-16T10:40:29+02:00",
  "product": "Platform",
  "component": "SWT",
  "severity": "blocker"
}