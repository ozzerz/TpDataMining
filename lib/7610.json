{
  "comments": [
    "1. JUnit setup\n2. Open TestCase (or any other type)\n3. Enter a character (or more)\n4. Revert\n5. Undo\n6. Revert\n\n\u003d\u003d\u003e IllegalArgumentException\n\nLog: Tue Jan 15 16:55:56 CET 2002\n1 org.eclipse.core.resources 4 Unhandled exception caught in event loop.\nLog: Tue Jan 15 16:55:56 CET 2002\n4 org.eclipse.ui 0 Invalid range argument\njava.lang.IllegalArgumentException: Invalid range argument\n\tat org.eclipse.jface.text.TextViewer.internalRevealRange(TextViewer.java:1519)\n\tat org.eclipse.jface.text.TextViewer.revealRange(TextViewer.java:1431)\n\tat\norg.eclipse.ui.texteditor.AbstractTextEditor.selectAndReveal(AbstractTextEditor.java:2128)\n\tat\norg.eclipse.ui.texteditor.AbstractTextEditor.restoreSelection(AbstractTextEditor.java:687)\n\tat\norg.eclipse.ui.texteditor.AbstractTextEditor$ElementStateListener.elementContentReplaced(AbstractTextEditor.java:173)\n\tat\norg.eclipse.ui.texteditor.AbstractDocumentProvider.fireElementContentReplaced(AbstractDocumentProvider.java:443)\n\tat\norg.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider.resetDocument(CompilationUnitDocumentProvider.java:370)\n\tat\norg.eclipse.ui.texteditor.AbstractTextEditor.doRevertToSaved(AbstractTextEditor.java:1588)\n\tat org.eclipse.ui.texteditor.RevertToSavedAction.run(RevertToSavedAction.java:41)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:452)\n\tat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:407)\n\tat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionContributionItem.java:361)\n\tat\norg.eclipse.jface.action.ActionContributionItem.access$0(ActionContributionItem.java:352)\n\tat\norg.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(ActionContributionItem.java:47)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:74)\n\tat org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:637)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1408)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1200)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:815)\n\tat org.eclipse.ui.internal.Workbench.run(Workbench.java:798)\n\tat org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:821)\n\tat org.eclipse.core.boot.BootLoader.run(BootLoader.java:285)\n\tat java.lang.reflect.Method.invoke(Native Method)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:151)\n\tat org.eclipse.core.launcher.Main.run(Main.java:502)\n\tat org.eclipse.core.launcher.Main.main(Main.java:362)",
    "Claude can you please investigate.",
    "For some reason undo positions the selection at the end of the document.\nThe remembered selection can drop out of the document when reverting results in\na shorter document. Boundary checking for selectAndReveal() was only done in\ncase of method view but not im compilation unit view.\n\nI made a quick fix to do the boundary checking both when in method view as well\nas in compilation unit view.\n\nThe right thing would be to update the position of the selection according to\nthe document change. The priority of this bug is decreased, since it no longer\nresults in an exception.\n",
    "*** Bug 7831 has been marked as a duplicate of this bug. ***",
    "\"Unassign\" PRs because of changes in staffing",
    "Updating the selecting on revert can be done only in a \"best effort\" manner, as \nthere is no well described document change. I.e. position for updating the \nselection would be deleted.",
    "Get rid of deprecated state."
  ],
  "commentCreationDates": [
    "2002-01-15T16:00:50+01:00",
    "2002-01-15T16:24:20+01:00",
    "2002-01-16T09:57:00+01:00",
    "2002-01-18T09:10:25+01:00",
    "2003-01-13T17:13:55+01:00",
    "2003-01-15T14:05:32+01:00",
    "2007-06-22T15:58:59+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Invalid range argument",
      "elements": [
        {
          "method": "org.eclipse.jface.text.TextViewer.internalRevealRange",
          "source": "TextViewer.java:1519"
        },
        {
          "method": "org.eclipse.jface.text.TextViewer.revealRange",
          "source": "TextViewer.java:1431"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor.selectAndReveal",
          "source": "AbstractTextEditor.java:2128"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor.restoreSelection",
          "source": "AbstractTextEditor.java:687"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor$ElementStateListener.elementContentReplaced",
          "source": "AbstractTextEditor.java:173"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractDocumentProvider.fireElementContentReplaced",
          "source": "AbstractDocumentProvider.java:443"
        },
        {
          "method": "org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider.resetDocument",
          "source": "CompilationUnitDocumentProvider.java:370"
        },
        {
          "method": "org.eclipse.ui.texteditor.AbstractTextEditor.doRevertToSaved",
          "source": "AbstractTextEditor.java:1588"
        },
        {
          "method": "org.eclipse.ui.texteditor.RevertToSavedAction.run",
          "source": "RevertToSavedAction.java:41"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:452"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:407"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent",
          "source": "ActionContributionItem.java:361"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$0",
          "source": "ActionContributionItem.java:352"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent",
          "source": "ActionContributionItem.java:47"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:74"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.notifyListeners",
          "source": "Widget.java:637"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:1408"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:1200"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:815"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.run",
          "source": "Workbench.java:798"
        },
        {
          "method": "org.eclipse.core.internal.boot.InternalBootLoader.run",
          "source": "InternalBootLoader.java:821"
        },
        {
          "method": "org.eclipse.core.boot.BootLoader.run",
          "source": "BootLoader.java:285"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Native Method"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:151"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:502"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:362"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "7610",
      "date": "2002-01-15T16:00:50+01:00",
      "product": "Platform",
      "component": "Text",
      "severity": "normal"
    }
  ],
  "groupId": "7610",
  "bugId": "7610",
  "date": "2002-01-15T16:00:50+01:00",
  "product": "Platform",
  "component": "Text",
  "severity": "normal"
}