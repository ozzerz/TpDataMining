{
  "comments": [
    "I apologize if this is an FAQ.  I found references to it in Google, but not in bugzilla (which may be just that I am not quite awake yet).\n\nConfiguration: Eclipse 3.1.2, VE 1.0.1.1 on Windows XP\n\nThe code works in \"production\", but fails when I try to use the visual editor.\n\nThis initialization code fails when the Visual Editor \"ignores\" the dragsource.  The fail point is commented:\n\n\n    /**\n     * This method initializes sShell\n     */\n    private void createSShell() {\n        sShell \u003d new org.eclipse.swt.widgets.Shell();\t\t   \n        label1 \u003d new Label(sShell, SWT.NONE);\n        createCombo();\n        createCombo1();\n        list \u003d new List(sShell, SWT.BORDER|SWT.V_SCROLL);\n        list1 \u003d new List(sShell, SWT.BORDER|SWT.V_SCROLL);\n        list2 \u003d new List(sShell, SWT.BORDER|SWT.V_SCROLL);\n        createListPopups(list);\n        createListPopups(list1);\n        createTable();\n        label2 \u003d new Label(sShell, SWT.NONE);\n        label3 \u003d new Label(sShell, SWT.NONE);\n        label4 \u003d new Label(sShell, SWT.NONE);\n        label5 \u003d new Label(sShell, SWT.NONE);\n        button \u003d new Button(sShell, SWT.NONE);\n        button1 \u003d new Button(sShell, SWT.NONE);\n        label \u003d new Label(sShell, SWT.NONE);\n        sShell.setText(\"JB Hunt Data Mapping\");\n        label1.setBounds(new org.eclipse.swt.graphics.Rectangle(15,35,71,19));\n        label1.setText(\"Unit of Work:\");\n        list.setBounds(new org.eclipse.swt.graphics.Rectangle(15,110,150,50));\n        list1.setBounds(new org.eclipse.swt.graphics.Rectangle(280,110,150,50));\n        list2.setBounds(new org.eclipse.swt.graphics.Rectangle(15,188,230,215));\n        label2.setBounds(new org.eclipse.swt.graphics.Rectangle(16,69,73,13));\n        label2.setText(\"Source\");\n        label3.setBounds(new org.eclipse.swt.graphics.Rectangle(281,67,101,13));\n        label3.setText(\"Destination\");\n        label4.setBounds(new org.eclipse.swt.graphics.Rectangle(17,96,76,13));\n        label4.setText(\"Tables\");\n        label5.setBounds(new org.eclipse.swt.graphics.Rectangle(280,96,76,13));\n        label5.setText(\"Tables\");\n        button.setBounds(new org.eclipse.swt.graphics.Rectangle(17,412,88,23));\n        button.setText(\"Save Changes\");\n        button1.setBounds(new org.eclipse.swt.graphics.Rectangle(107,412,88,23));\n        button1.setText(\"Cancel Changes\");\n        label.setBounds(new org.eclipse.swt.graphics.Rectangle(16,8,70,21));\n        label.setText(\"Mapped product:\");\n        sShell.setSize(new org.eclipse.swt.graphics.Point(623,473));\n\n/* Start of code block that exposes failure */\n        dragSource \u003d new DragSource (list2, DND.DROP_COPY);\n        dragSource.setTransfer (new Transfer [] {TextTransfer.getInstance()});\n        dragSource.addDragListener(new DragFieldAdapter ());\n        dropTarget \u003d new DropTarget (table, DND.DROP_COPY);\n/* End of code block that exposes failure */\n\n        sShell.addControlListener(new org.eclipse.swt.events.ControlAdapter() { \n            public void controlResized(org.eclipse.swt.events.ControlEvent e) {    \n                resize ();\n            }\n        });\n        button1.addSelectionListener(new org.eclipse.swt.events.SelectionAdapter() { \n            public void widgetSelected(org.eclipse.swt.events.SelectionEvent e) {    \n                cancelChanges ();\n            }\n        });\n        button.addSelectionListener(new org.eclipse.swt.events.SelectionAdapter() {\n            \n            public void widgetSelected(org.eclipse.swt.events.SelectionEvent e) {    \n                saveToBackingStore(); // TODO Auto-generated Event stub widgetSelected()\n            }\n        });\n        \n    }\n\n\nContents of .log:\n\n\n!ENTRY org.eclipse.ve.java.core 2 0 2006-05-08 10:17:35.693\n!MESSAGE \n+++ Warning +++: Mon May 08 10:17:35 CDT 2006    Skipping expression: dragSource \u003d new DragSource (list2, DND.DROP_COPY)\n\n!ENTRY org.eclipse.ve.java.core 4 0 2006-05-08 10:17:35.693\n!MESSAGE Invalid PropertyDecorator\n\n!ENTRY org.eclipse.ve.java.core 4 0 2006-05-08 10:17:37.333\n!MESSAGE Exception thrown.\n!STACK 0\njava.lang.NullPointerException\n\tat org.eclipse.ve.internal.swt.CompositeGraphicalEditPart.setupControl(CompositeGraphicalEditPart.java:98)\n\tat org.eclipse.ve.internal.swt.CompositeGraphicalEditPart.createChild(CompositeGraphicalEditPart.java:84)\n\tat org.eclipse.gef.editparts.AbstractEditPart.refreshChildren(AbstractEditPart.java:733)\n\tat org.eclipse.gef.editparts.AbstractEditPart.refresh(AbstractEditPart.java:684)\n\tat org.eclipse.gef.editparts.AbstractGraphicalEditPart.refresh(AbstractGraphicalEditPart.java:554)\n\tat org.eclipse.gef.editparts.AbstractEditPart.addNotify(AbstractEditPart.java:232)\n\tat org.eclipse.gef.editparts.AbstractGraphicalEditPart.addNotify(AbstractGraphicalEditPart.java:212)\n\tat org.eclipse.gef.editparts.AbstractEditPart.addChild(AbstractEditPart.java:195)\n\tat org.eclipse.gef.editparts.AbstractEditPart.refreshChildren(AbstractEditPart.java:734)\n\tat org.eclipse.gef.editparts.AbstractEditPart.refresh(AbstractEditPart.java:684)\n\tat org.eclipse.gef.editparts.AbstractGraphicalEditPart.refresh(AbstractGraphicalEditPart.java:554)\n\tat org.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart.setRootModel(JavaVisualEditorPart.java:505)\n\tat org.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart.initializeViewers(JavaVisualEditorPart.java:986)\n\tat org.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart$13.run(JavaVisualEditorPart.java:2001)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3102)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2761)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n\tat org.eclipse.core.launcher.Main.run(Main.java:973)\n\tat org.eclipse.core.launcher.Main.main(Main.java:948)\n\n!ENTRY org.eclipse.ui 4 4 2006-05-08 10:17:37.333\n!MESSAGE Unhandled event loop exception\n\n!ENTRY org.eclipse.ui 4 0 2006-05-08 10:17:37.349\n!MESSAGE Failed to execute runnable (java.lang.NullPointerException)\n!STACK 0\norg.eclipse.swt.SWTException: Failed to execute runnable (java.lang.NullPointerException)\n\tat org.eclipse.swt.SWT.error(SWT.java:2942)\n\tat org.eclipse.swt.SWT.error(SWT.java:2865)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:126)\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3102)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2761)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1699)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1663)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:367)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\tat java.lang.reflect.Method.invoke(Unknown Source)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:334)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:278)\n\tat org.eclipse.core.launcher.Main.run(Main.java:973)\n\tat org.eclipse.core.launcher.Main.main(Main.java:948)\nCaused by: java.lang.NullPointerException\n\tat org.eclipse.ve.internal.swt.CompositeGraphicalEditPart.setupControl(CompositeGraphicalEditPart.java:98)\n\tat org.eclipse.ve.internal.swt.CompositeGraphicalEditPart.createChild(CompositeGraphicalEditPart.java:84)\n\tat org.eclipse.gef.editparts.AbstractEditPart.refreshChildren(AbstractEditPart.java:733)\n\tat org.eclipse.gef.editparts.AbstractEditPart.refresh(AbstractEditPart.java:684)\n\tat org.eclipse.gef.editparts.AbstractGraphicalEditPart.refresh(AbstractGraphicalEditPart.java:554)\n\tat org.eclipse.gef.editparts.AbstractEditPart.addNotify(AbstractEditPart.java:232)\n\tat org.eclipse.gef.editparts.AbstractGraphicalEditPart.addNotify(AbstractGraphicalEditPart.java:212)\n\tat org.eclipse.gef.editparts.AbstractEditPart.addChild(AbstractEditPart.java:195)\n\tat org.eclipse.gef.editparts.AbstractEditPart.refreshChildren(AbstractEditPart.java:734)\n\tat org.eclipse.gef.editparts.AbstractEditPart.refresh(AbstractEditPart.java:684)\n\tat org.eclipse.gef.editparts.AbstractGraphicalEditPart.refresh(AbstractGraphicalEditPart.java:554)\n\tat org.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart.setRootModel(JavaVisualEditorPart.java:505)\n\tat org.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart.initializeViewers(JavaVisualEditorPart.java:986)\n\tat org.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart$13.run(JavaVisualEditorPart.java:2001)\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123)\n\t... 18 more"
  ],
  "commentCreationDates": [
    "2006-05-08T17:46:02+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ve.internal.swt.CompositeGraphicalEditPart.setupControl",
          "source": "CompositeGraphicalEditPart.java:98"
        },
        {
          "method": "org.eclipse.ve.internal.swt.CompositeGraphicalEditPart.createChild",
          "source": "CompositeGraphicalEditPart.java:84"
        },
        {
          "method": "org.eclipse.gef.editparts.AbstractEditPart.refreshChildren",
          "source": "AbstractEditPart.java:733"
        },
        {
          "method": "org.eclipse.gef.editparts.AbstractEditPart.refresh",
          "source": "AbstractEditPart.java:684"
        },
        {
          "method": "org.eclipse.gef.editparts.AbstractGraphicalEditPart.refresh",
          "source": "AbstractGraphicalEditPart.java:554"
        },
        {
          "method": "org.eclipse.gef.editparts.AbstractEditPart.addNotify",
          "source": "AbstractEditPart.java:232"
        },
        {
          "method": "org.eclipse.gef.editparts.AbstractGraphicalEditPart.addNotify",
          "source": "AbstractGraphicalEditPart.java:212"
        },
        {
          "method": "org.eclipse.gef.editparts.AbstractEditPart.addChild",
          "source": "AbstractEditPart.java:195"
        },
        {
          "method": "org.eclipse.gef.editparts.AbstractEditPart.refreshChildren",
          "source": "AbstractEditPart.java:734"
        },
        {
          "method": "org.eclipse.gef.editparts.AbstractEditPart.refresh",
          "source": "AbstractEditPart.java:684"
        },
        {
          "method": "org.eclipse.gef.editparts.AbstractGraphicalEditPart.refresh",
          "source": "AbstractGraphicalEditPart.java:554"
        },
        {
          "method": "org.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart.setRootModel",
          "source": "JavaVisualEditorPart.java:505"
        },
        {
          "method": "org.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart.initializeViewers",
          "source": "JavaVisualEditorPart.java:986"
        },
        {
          "method": "org.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart$13.run",
          "source": "JavaVisualEditorPart.java:2001"
        },
        {
          "method": "org.eclipse.swt.widgets.RunnableLock.run",
          "source": "RunnableLock.java:35"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:123"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3102"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2761"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1699"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1663"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:367"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "140598",
      "date": "2006-05-08T17:46:02+02:00",
      "product": "VE",
      "component": "SWT",
      "severity": "major"
    },
    {
      "exceptionType": "org.eclipse.swt.SWTException",
      "message": "Failed to execute runnable (java.lang.NullPointerException)",
      "elements": [
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2942"
        },
        {
          "method": "org.eclipse.swt.SWT.error",
          "source": "SWT.java:2865"
        },
        {
          "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
          "source": "Synchronizer.java:126"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runAsyncMessages",
          "source": "Display.java:3102"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2761"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1699"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1663"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:367"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:143"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:103"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:226"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:376"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:163"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Unknown Source"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:334"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:278"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:973"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:948"
        }
      ],
      "causedBy": {
        "exceptionType": "java.lang.NullPointerException",
        "elements": [
          {
            "method": "org.eclipse.ve.internal.swt.CompositeGraphicalEditPart.setupControl",
            "source": "CompositeGraphicalEditPart.java:98"
          },
          {
            "method": "org.eclipse.ve.internal.swt.CompositeGraphicalEditPart.createChild",
            "source": "CompositeGraphicalEditPart.java:84"
          },
          {
            "method": "org.eclipse.gef.editparts.AbstractEditPart.refreshChildren",
            "source": "AbstractEditPart.java:733"
          },
          {
            "method": "org.eclipse.gef.editparts.AbstractEditPart.refresh",
            "source": "AbstractEditPart.java:684"
          },
          {
            "method": "org.eclipse.gef.editparts.AbstractGraphicalEditPart.refresh",
            "source": "AbstractGraphicalEditPart.java:554"
          },
          {
            "method": "org.eclipse.gef.editparts.AbstractEditPart.addNotify",
            "source": "AbstractEditPart.java:232"
          },
          {
            "method": "org.eclipse.gef.editparts.AbstractGraphicalEditPart.addNotify",
            "source": "AbstractGraphicalEditPart.java:212"
          },
          {
            "method": "org.eclipse.gef.editparts.AbstractEditPart.addChild",
            "source": "AbstractEditPart.java:195"
          },
          {
            "method": "org.eclipse.gef.editparts.AbstractEditPart.refreshChildren",
            "source": "AbstractEditPart.java:734"
          },
          {
            "method": "org.eclipse.gef.editparts.AbstractEditPart.refresh",
            "source": "AbstractEditPart.java:684"
          },
          {
            "method": "org.eclipse.gef.editparts.AbstractGraphicalEditPart.refresh",
            "source": "AbstractGraphicalEditPart.java:554"
          },
          {
            "method": "org.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart.setRootModel",
            "source": "JavaVisualEditorPart.java:505"
          },
          {
            "method": "org.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart.initializeViewers",
            "source": "JavaVisualEditorPart.java:986"
          },
          {
            "method": "org.eclipse.ve.internal.java.codegen.editorpart.JavaVisualEditorPart$13.run",
            "source": "JavaVisualEditorPart.java:2001"
          },
          {
            "method": "org.eclipse.swt.widgets.RunnableLock.run",
            "source": "RunnableLock.java:35"
          },
          {
            "method": "org.eclipse.swt.widgets.Synchronizer.runAsyncMessages",
            "source": "Synchronizer.java:123"
          }
        ],
        "number": 0,
        "commentIndex": 0
      },
      "number": 1,
      "commentIndex": 0,
      "bugId": "140598",
      "date": "2006-05-08T17:46:02+02:00",
      "product": "VE",
      "component": "SWT",
      "severity": "major"
    }
  ],
  "groupId": "140598",
  "bugId": "140598",
  "date": "2006-05-08T17:46:02+02:00",
  "product": "VE",
  "component": "SWT",
  "severity": "major"
}