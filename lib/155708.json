{
  "comments": [
    "Using Eclipse:\nVersion: 3.2.1\nBuild id: M20060802-0800\n\nWTP:\nwtp-M-1.5.1-200608241726.zip and requirements as listed on download page (except for Eclipse itself which is a post 3.2 M build)\n\nI was trying to do a search and replace for the web content path in the attached file (a WTP generated settings file). Eclipse generated following error and basically hung.\n\nError\nWed Aug 30 12:16:14 EDT 2006\njava.lang.OutOfMemoryError: allocLargeArray - Object size: 363244192, Num elements: 90811043\n\njava.lang.RuntimeException: java.lang.OutOfMemoryError: allocLargeArray - Object size: 363244192, Num elements: 90811043\nat org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.replaceText(JobSafeStructuredDocument.java:117)\nat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText(BasicStructuredDocument.java:2385)\nat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replace(BasicStructuredDocument.java:2348)\nat org.eclipse.jface.text.FindReplaceDocumentAdapter.findReplace(FindReplaceDocumentAdapter.java:183)\nat org.eclipse.jface.text.FindReplaceDocumentAdapter.replace(FindReplaceDocumentAdapter.java:276)\nat org.eclipse.jface.text.TextViewer$FindReplaceTarget.replaceSelection(TextViewer.java:774)\nat org.eclipse.ui.texteditor.FindReplaceTarget.replaceSelection(FindReplaceTarget.java:141)\nat org.eclipse.ui.texteditor.FindReplaceDialog.replaceSelection(FindReplaceDialog.java:826)\nat org.eclipse.ui.texteditor.FindReplaceDialog.replaceAll(FindReplaceDialog.java:1396)\nat org.eclipse.ui.texteditor.FindReplaceDialog.access$39(FindReplaceDialog.java:1371)\nat org.eclipse.ui.texteditor.FindReplaceDialog$1$ReplaceAllRunnable.run(FindReplaceDialog.java:1236)\nat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)\nat org.eclipse.ui.texteditor.FindReplaceDialog.performReplaceAll(FindReplaceDialog.java:1242)\nat org.eclipse.ui.texteditor.FindReplaceDialog.access$31(FindReplaceDialog.java:1225)\nat org.eclipse.ui.texteditor.FindReplaceDialog$4.widgetSelected(FindReplaceDialog.java:335)\nat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)\nat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\nat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\nat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\nat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2963)\nat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)\nat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)\nat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\nat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\nat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95)\nat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\nat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\nat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\nat jrockit.reflect.InitialMethodInvoker.invoke(Ljava.lang.Object;[Ljava.lang.Object;)Ljava.lang.Object;(Unknown Source)\nCaused by: java.lang.OutOfMemoryError: allocLargeArray - Object size: 363244192, Num elements: 90811043\nat java.util.ArrayList.ensureCapacity(ArrayList.java:169)\nat java.util.ArrayList.add(ArrayList.java:353)\nat org.eclipse.wst.xml.ui.internal.contentoutline.RefreshStructureJob.addRequest(RefreshStructureJob.java:84)\nat org.eclipse.wst.xml.ui.internal.contentoutline.RefreshStructureJob.refresh(RefreshStructureJob.java:207)\nat org.eclipse.wst.xml.ui.internal.contentoutline.JFaceNodeAdapter.notifyChanged(JFaceNodeAdapter.java:233)\nat org.eclipse.wst.sse.core.internal.provisional.AbstractNotifier.notify(AbstractNotifier.java:201)\nat org.eclipse.wst.xml.core.internal.document.XMLModelNotifierImpl.notify(XMLModelNotifierImpl.java:238)\nat org.eclipse.wst.xml.core.internal.document.XMLModelNotifierImpl.notifyDeferred(XMLModelNotifierImpl.java:340)\nat org.eclipse.wst.xml.core.internal.document.XMLModelNotifierImpl.endChanging(XMLModelNotifierImpl.java:178)\nat org.eclipse.wst.xml.core.internal.document.DOMModelImpl.changedModel(DOMModelImpl.java:163)\nat org.eclipse.wst.sse.core.internal.model.AbstractStructuredModel$DocumentToModelNotifier.regionChanged(AbstractStructuredModel.java:164)\nat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument._fireEvent(BasicStructuredDocument.java:542)\nat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.fireStructuredDocumentEvent(BasicStructuredDocument.java:1181)\nat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.internalReplaceText(BasicStructuredDocument.java:1953)\nat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText(BasicStructuredDocument.java:2389)\nat org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.access$0(JobSafeStructuredDocument.java:1)\nat org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument$1.run(JobSafeStructuredDocument.java:98)\nat org.eclipse.wst.sse.ui.EditorExecutionContext.execute(EditorExecutionContext.java:42)\nat org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.replaceText(JobSafeStructuredDocument.java:109)\nat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText(BasicStructuredDocument.java:2385)\nat org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replace(BasicStructuredDocument.java:2348)\nat org.eclipse.jface.text.FindReplaceDocumentAdapter.findReplace(FindReplaceDocumentAdapter.java:183)\nat org.eclipse.jface.text.FindReplaceDocumentAdapter.replace(FindReplaceDocumentAdapter.java:276)\nat org.eclipse.jface.text.TextViewer$FindReplaceTarget.replaceSelection(TextViewer.java:774)\nat org.eclipse.ui.texteditor.FindReplaceTarget.replaceSelection(FindReplaceTarget.java:141)\nat org.eclipse.ui.texteditor.FindReplaceDialog.replaceSelection(FindReplaceDialog.java:826)\nat org.eclipse.ui.texteditor.FindReplaceDialog.replaceAll(FindReplaceDialog.java:1396)\nat org.eclipse.ui.texteditor.FindReplaceDialog.access$39(FindReplaceDialog.java:1371)\nat org.eclipse.ui.texteditor.FindReplaceDialog$1$ReplaceAllRunnable.run(FindReplaceDialog.java:1236)\nat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67)\nat org.eclipse.ui.texteditor.FindReplaceDialog.performReplaceAll(FindReplaceDialog.java:1242)\nat org.eclipse.ui.texteditor.FindReplaceDialog.access$31(FindReplaceDialog.java:1225)\nat org.eclipse.ui.texteditor.FindReplaceDialog$4.widgetSelected(FindReplaceDialog.java:335)\nat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90)",
    "Created an attachment (id\u003d49073)\nThe xml file in which search \u0026 replace fails\n\n",
    "Thanks. That\u0027s a preety small file, to find this kind of error. \n\nWhat was your search and replace strings? \n\nAlso, what was your VM, heap size, etc? \n\n",
    "I\u0027m using the JRockit VM - jrockit-R26.3.0-jdk1.5.0_06-win-ia32.exe\n\nThe Eclipse command line:\neclipse.exe -clean -showlocation -vm d:\\dev\\jdk1.5.0-jr\\bin\\javaw.exe -vmargs -Xms:512m -Xmx:512m\n\nDon\u0027t know if the heap settings actually do anything with JRockit, btw. I Googled around and I think that\u0027s how (with \u0027:\u0027) they have to be specified for this VM. \n\nI have relatively decent performance with quite a lot of plugins and I don\u0027t seem to have any other memory issues at present, so I think the heap JRockit uses is more than the default. Looking at the process with Process Explorer, though, it\u0027s hard to gauge what memory is used since the process\u0027 allocated memory shows over 700 MB for the working set and over 800 MB for the virtual size memory.\n\nThe search/replace I attempted was \"WebContent\"/\"webapp\".\n\nI guess I should\u0027ve tried switching back to the Sun VM..."
  ],
  "commentCreationDates": [
    "2006-08-30T18:25:35+02:00",
    "2006-08-30T18:27:18+02:00",
    "2006-09-01T05:41:34+02:00",
    "2006-09-01T16:45:30+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.OutOfMemoryError",
      "message": "allocLargeArray - Object size: 363244192, Num elements: 90811043",
      "elements": [
        {
          "method": "org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.replaceText",
          "source": "JobSafeStructuredDocument.java:117"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText",
          "source": "BasicStructuredDocument.java:2385"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replace",
          "source": "BasicStructuredDocument.java:2348"
        },
        {
          "method": "org.eclipse.jface.text.FindReplaceDocumentAdapter.findReplace",
          "source": "FindReplaceDocumentAdapter.java:183"
        },
        {
          "method": "org.eclipse.jface.text.FindReplaceDocumentAdapter.replace",
          "source": "FindReplaceDocumentAdapter.java:276"
        },
        {
          "method": "org.eclipse.jface.text.TextViewer$FindReplaceTarget.replaceSelection",
          "source": "TextViewer.java:774"
        },
        {
          "method": "org.eclipse.ui.texteditor.FindReplaceTarget.replaceSelection",
          "source": "FindReplaceTarget.java:141"
        },
        {
          "method": "org.eclipse.ui.texteditor.FindReplaceDialog.replaceSelection",
          "source": "FindReplaceDialog.java:826"
        },
        {
          "method": "org.eclipse.ui.texteditor.FindReplaceDialog.replaceAll",
          "source": "FindReplaceDialog.java:1396"
        },
        {
          "method": "org.eclipse.ui.texteditor.FindReplaceDialog.access$39",
          "source": "FindReplaceDialog.java:1371"
        },
        {
          "method": "org.eclipse.ui.texteditor.FindReplaceDialog$1$ReplaceAllRunnable.run",
          "source": "FindReplaceDialog.java:1236"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:67"
        },
        {
          "method": "org.eclipse.ui.texteditor.FindReplaceDialog.performReplaceAll",
          "source": "FindReplaceDialog.java:1242"
        },
        {
          "method": "org.eclipse.ui.texteditor.FindReplaceDialog.access$31",
          "source": "FindReplaceDialog.java:1225"
        },
        {
          "method": "org.eclipse.ui.texteditor.FindReplaceDialog$4.widgetSelected",
          "source": "FindReplaceDialog.java:335"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:90"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3348"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2963"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1914"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1878"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:95"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "jrockit.reflect.InitialMethodInvoker.invoke",
          "source": "Ljava.lang.Object;[Ljava.lang.Object;"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "155708",
      "date": "2006-08-30T18:25:35+02:00",
      "product": "Web Tools",
      "component": "wst.xml",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.OutOfMemoryError",
      "message": "allocLargeArray - Object size: 363244192, Num elements: 90811043",
      "elements": [
        {
          "method": "java.util.ArrayList.ensureCapacity",
          "source": "ArrayList.java:169"
        },
        {
          "method": "java.util.ArrayList.add",
          "source": "ArrayList.java:353"
        },
        {
          "method": "org.eclipse.wst.xml.ui.internal.contentoutline.RefreshStructureJob.addRequest",
          "source": "RefreshStructureJob.java:84"
        },
        {
          "method": "org.eclipse.wst.xml.ui.internal.contentoutline.RefreshStructureJob.refresh",
          "source": "RefreshStructureJob.java:207"
        },
        {
          "method": "org.eclipse.wst.xml.ui.internal.contentoutline.JFaceNodeAdapter.notifyChanged",
          "source": "JFaceNodeAdapter.java:233"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.provisional.AbstractNotifier.notify",
          "source": "AbstractNotifier.java:201"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.XMLModelNotifierImpl.notify",
          "source": "XMLModelNotifierImpl.java:238"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.XMLModelNotifierImpl.notifyDeferred",
          "source": "XMLModelNotifierImpl.java:340"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.XMLModelNotifierImpl.endChanging",
          "source": "XMLModelNotifierImpl.java:178"
        },
        {
          "method": "org.eclipse.wst.xml.core.internal.document.DOMModelImpl.changedModel",
          "source": "DOMModelImpl.java:163"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.model.AbstractStructuredModel$DocumentToModelNotifier.regionChanged",
          "source": "AbstractStructuredModel.java:164"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument._fireEvent",
          "source": "BasicStructuredDocument.java:542"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.fireStructuredDocumentEvent",
          "source": "BasicStructuredDocument.java:1181"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.internalReplaceText",
          "source": "BasicStructuredDocument.java:1953"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText",
          "source": "BasicStructuredDocument.java:2389"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.access$0",
          "source": "JobSafeStructuredDocument.java:1"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument$1.run",
          "source": "JobSafeStructuredDocument.java:98"
        },
        {
          "method": "org.eclipse.wst.sse.ui.EditorExecutionContext.execute",
          "source": "EditorExecutionContext.java:42"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.JobSafeStructuredDocument.replaceText",
          "source": "JobSafeStructuredDocument.java:109"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replaceText",
          "source": "BasicStructuredDocument.java:2385"
        },
        {
          "method": "org.eclipse.wst.sse.core.internal.text.BasicStructuredDocument.replace",
          "source": "BasicStructuredDocument.java:2348"
        },
        {
          "method": "org.eclipse.jface.text.FindReplaceDocumentAdapter.findReplace",
          "source": "FindReplaceDocumentAdapter.java:183"
        },
        {
          "method": "org.eclipse.jface.text.FindReplaceDocumentAdapter.replace",
          "source": "FindReplaceDocumentAdapter.java:276"
        },
        {
          "method": "org.eclipse.jface.text.TextViewer$FindReplaceTarget.replaceSelection",
          "source": "TextViewer.java:774"
        },
        {
          "method": "org.eclipse.ui.texteditor.FindReplaceTarget.replaceSelection",
          "source": "FindReplaceTarget.java:141"
        },
        {
          "method": "org.eclipse.ui.texteditor.FindReplaceDialog.replaceSelection",
          "source": "FindReplaceDialog.java:826"
        },
        {
          "method": "org.eclipse.ui.texteditor.FindReplaceDialog.replaceAll",
          "source": "FindReplaceDialog.java:1396"
        },
        {
          "method": "org.eclipse.ui.texteditor.FindReplaceDialog.access$39",
          "source": "FindReplaceDialog.java:1371"
        },
        {
          "method": "org.eclipse.ui.texteditor.FindReplaceDialog$1$ReplaceAllRunnable.run",
          "source": "FindReplaceDialog.java:1236"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:67"
        },
        {
          "method": "org.eclipse.ui.texteditor.FindReplaceDialog.performReplaceAll",
          "source": "FindReplaceDialog.java:1242"
        },
        {
          "method": "org.eclipse.ui.texteditor.FindReplaceDialog.access$31",
          "source": "FindReplaceDialog.java:1225"
        },
        {
          "method": "org.eclipse.ui.texteditor.FindReplaceDialog$4.widgetSelected",
          "source": "FindReplaceDialog.java:335"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java:90"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "155708",
      "date": "2006-08-30T18:25:35+02:00",
      "product": "Web Tools",
      "component": "wst.xml",
      "severity": "normal"
    }
  ],
  "groupId": "155708",
  "bugId": "155708",
  "date": "2006-08-30T18:25:35+02:00",
  "product": "Web Tools",
  "component": "wst.xml",
  "severity": "normal"
}