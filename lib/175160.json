{
  "comments": [
    "With the I20070222-1133 driver on WinXP SP1:\n\nWindow \u003e Show View \u003e Other \u003e RSE Testing \u003e Test Suites\nSelect RSE Combined Test Suite, Right-click \u003e Run\n\nWith the \"Run in background button\" enabled, there are 3 failures:\n  1. java.lang.NullPointerException at org.eclipse.rse.tests.subsystems.testsubsystem.TestSubsystemTestCase.testBugzilla170728(TestSubsystemTestCase.java:133)\n  2. java.lang.NullPointerException at org.eclipse.rse.tests.subsystems.testsubsystem.TestSubsystemTestCase.testAddAndDeleteNodes(TestSubsystemTestCase.java:86)\n  3. java.lang.NullPointerException at org.eclipse.rse.tests.subsystems.testsubsystem.TestSubsystemTestCase.testAddAndDeleteNodes(TestSubsystemTestCase.java:86)\n\nNow disable the \"Run in background\" button, there are 2 failures:\n  1. junit.framework.AssertionFailedError: invalid number of selected items expected:\u003c0\u003e but was:\u003c1\u003e at org.eclipse.rse.tests.subsystems.testsubsystem.TestSubsystemTestCase.testAddAndDeleteNodes(TestSubsystemTestCase.java:112)\n  2. junit.framework.AssertionFailedError: invalid number of selected items expected:\u003c1\u003e but was:\u003c0\u003e at org.eclipse.rse.tests.subsystems.testsubsystem.TestSubsystemTestCase.testAddAndDeleteNodes(TestSubsystemTestCase.java:96)\n\nPlease check what\u0027s going wrong.\n\n-----------Enter bugs above this line-----------\nTM 2.0M5 Testing\ninstallation : eclipse-SDK-3.3M5 (I20070209-1006), cdt-4.0M5, emf-2.3M5\nRSE install  : RSE-SDK I20070222-1133 + discovery + remotecdt + efs + tests\njava.runtime : Sun 1.4.2_13\nos.name:     : Windows XP 5.1, Service Pack 1\n------------------------------------------------\nsystemtype   : Unix-ssh / Linux-dstore (REXEC Launcher)\ntargetos     : Red Hat Enterprise Linux WS release 4 (Nahant Update 3)\ntargetuname  : Linux parser.takefive.co.at 2.6.9-34.EL #1 Fri Feb 24 16:44:51 EST 2006 i686 athlon i386 GNU/Linux\ntargetvm     : Sun Java HotSpot(TM) Client VM (build 1.4.2_13-b06, mixed mode)\n------------------------------------------------",
    "Enforce the test subsystem test cases to run in UI thread as they access SWT elements directly.",
    "Verification FAILED with I20070223-0730 on WinXP SP1:\n\nWhen the green \"Run in background\" button is pressed, I get all 20 tests passed.\n\nBut when the green \"Run in background\" button is released afterwards,\nI get 1 failure and 2 errors:\n\n1. junit.framework.AssertionFailedError: invalid number of selected items expected:\u003c0\u003e but was:\u003c1\u003e at org.eclipse.rse.tests.subsystems.testsubsystem.TestSubsystemTestCase.internalTestAddAndDeleteNodes(TestSubsystemTestCase.java:157)\n*** testAddAndDeleteDeepNodes(org.eclipse.rse.tests.subsystems.testsubsystem.TestSubsystemTestCase): invalid number of selected items expected:\u003c0\u003e but was:\u003c1\u003e\n\n2. java.lang.NullPointerException at org.eclipse.rse.internal.ui.view.SystemViewLabelAndContentProvider.getChildren(SystemViewLabelAndContentProvider.java:271)\n*** testAddAndDeleteFlatNodes(org.eclipse.rse.tests.subsystems.testsubsystem.TestSubsystemTestCase): null\n\n\n3. java.lang.NullPointerException at org.eclipse.rse.internal.ui.view.SystemViewLabelAndContentProvider.getChildren(SystemViewLabelAndContentProvider.java:271)\n*** testBugzilla170728(org.eclipse.rse.tests.subsystems.testsubsystem.TestSubsystemTestCase): null",
    "(In reply to comment #2)\n\u003e Verification FAILED with I20070223-0730 on WinXP SP1:\nPS I did this with the upcoming Eclipse SDK M5a candidate:  I20070222-0951",
    "On Linux-GTK (RHEL4, Sun 1.6.0) with Eclipse 3.3M5 / RSE I20070223-0730,\nI get two slightly different failures:\n\n1. junit.framework.AssertionFailedError: invalid number of selected items\nexpected:\u003c1\u003e but was:\u003c0\u003e at\norg.eclipse.rse.tests.subsystems.testsubsystem.TestSubsystemTestCase.internalTestAddAndDeleteNodes(TestSubsystemTestCase.java:157)\n***\ntestAddAndDeleteDeepNodes(org.eclipse.rse.tests.subsystems.testsubsystem.TestSubsystemTestCase):\ninvalid number of selected items expected:\u003c1\u003e but was:\u003c0\u003e\n\n2. junit.framework.AssertionFailedError: invalid number of selected items\nexpected:\u003c0\u003e but was:\u003c1\u003e at\norg.eclipse.rse.tests.subsystems.testsubsystem.TestSubsystemTestCase.internalTestAddAndDeleteNodes(TestSubsystemTestCase.java:157)\n***\ntestAddAndDeleteFlatNodes(org.eclipse.rse.tests.subsystems.testsubsystem.TestSubsystemTestCase):\ninvalid number of selected items expected:\u003c0\u003e but was:\u003c1\u003e\n\n\nI suspect that this is not a problem with the test, but actually a problem with the SystemView itself. If you agree, please reassign to DaveM.",
    "Well, there are multiple issues here:\na) Timing issues. Which is the most ugliest one. I would have expected to be able to make viewer.setSelection(...) and viewer.getSelection() just one after the other and get back what has been set in the call before. Unfortunately that had not been the case and therefor the selection had been empty where it is expected not to be. \n\nb) If setting a selection, I could expect to get back the selection. So, in the second case, the expect value had been wrong.\n\nc) non-null checked adapter use in the systems view label provider. As there is always the chance that getAdapter(...) may return null, the returned object should be always tested to be non-null before calling a method from it.\n\nThe fixes for all three issues has been checked in separately as I had to test each of them separately on different host platforms.",
    "Thanks for looking into this.\nAre the fixes safe? Especially the SystemViewLabelAndContentProvider?\n\nI want an OK from DaveM before I release this for M5.",
    "(In reply to comment #4)\nFYI, with I20070223-0730 (without the fix), Solaris-Motif has the same results as Linux-GTK: 2 failures. (Tested on Solaris9, Sun1.5.0_08)\n",
    "\u003eAre the fixes safe? Especially the SystemViewLabelAndContentProvider?\n\nYes. This fix is safe. It a single changed line.\n\nFrom:\n\nadapter \u003d getAdapter(...);\nif (manager !\u003d null \u0026\u0026 adapter.supportsDeferredQueries()) {\n...\n}\n\nto:\nadapter \u003d getAdapter(...);\nif (manager !\u003d null \u0026\u0026 adapter !\u003d null \u0026\u0026 adapter.supportsDeferredQueries()) {\n...\n}\n\nLater on the same method, the adapter variable had been correctly tested for null value already. Only this one use did not checked it.\n",
    "The change to systemviewlabelandcontent provider looks good.  On windows, running the junit tests, I still get the \"\"invalid number of selected items\" failure.  Is there any change for that?",
    "David, have you updated the tests plugin recently? I\u0027ve done a few cosmetics to get rid of the failure. I cannot fix the source of the problem as it is a) unexplainable to me and b) the selection handling (getSelection and setSelection) is not overriden in SystemsView. So it is down in JFace/SWT.\n\nYou may attach the stack trace either here or send it to me per eMail.",
    "(In reply to comment #4)\nVERIFICATION FAILED with RSE I20070315-0600 / Platform I20070313-1051:\n\nI\u0027m running on Linux-GTK (RHEL4, Sun 1.6.0). Installed RSE-SDK.zip and RSE-tests.zip, opened the RSE Test Suite View, green button deselected (so they run in foreground), Running Combined Test suite.\n\nFailures are the same as in comment #4:\n\u003e 1. junit.framework.AssertionFailedError: invalid number of selected items\n\u003e expected:\u003c1\u003e but was:\u003c0\u003e at\n\u003e org.eclipse.rse.tests.subsystems.testsubsystem.TestSubsystemTestCase.internalTestAddAndDeleteNodes(TestSubsystemTestCase.java:157)\n\u003e ***\n\u003e testAddAndDeleteDeepNodes(org.eclipse.rse.tests.subsystems.testsubsystem.TestSubsystemTestCase):\n\u003e invalid number of selected items expected:\u003c1\u003e but was:\u003c0\u003e\n\u003e \n\u003e 2. junit.framework.AssertionFailedError: invalid number of selected items\n\u003e expected:\u003c0\u003e but was:\u003c1\u003e at\n\u003e org.eclipse.rse.tests.subsystems.testsubsystem.TestSubsystemTestCase.internalTestAddAndDeleteNodes(TestSubsystemTestCase.java:157)\n\u003e ***\n\u003e testAddAndDeleteFlatNodes(org.eclipse.rse.tests.subsystems.testsubsystem.TestSubsystemTestCase):\n\u003e invalid number of selected items expected:\u003c0\u003e but was:\u003c1\u003e\n\nFrom previous discussions, I\u0027m unsure what testing the selection is really good for?",
    "Removed the test regarding set selections. They are asynchronous event based, we will never get it stable as it is unpredictable how long the event processing will be.",
    "Verified with I20070405-0600.\nAll 20 tests run fine now on both Windows and Linux.\nClosing."
  ],
  "commentCreationDates": [
    "2007-02-22T18:36:48+01:00",
    "2007-02-23T11:24:28+01:00",
    "2007-02-23T13:53:55+01:00",
    "2007-02-23T13:55:17+01:00",
    "2007-02-23T14:02:00+01:00",
    "2007-02-23T15:11:38+01:00",
    "2007-02-23T15:18:26+01:00",
    "2007-02-23T15:38:50+01:00",
    "2007-02-23T15:47:39+01:00",
    "2007-02-23T16:11:33+01:00",
    "2007-02-23T19:47:41+01:00",
    "2007-03-15T12:01:53+01:00",
    "2007-03-15T13:32:09+01:00",
    "2007-04-05T13:29:13+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.rse.tests.subsystems.testsubsystem.TestSubsystemTestCase.testBugzilla170728",
          "source": "TestSubsystemTestCase.java:133"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "175160",
      "date": "2007-02-22T18:36:48+01:00",
      "product": "Target Management",
      "component": "RSE",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.rse.tests.subsystems.testsubsystem.TestSubsystemTestCase.testAddAndDeleteNodes",
          "source": "TestSubsystemTestCase.java:86"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "175160",
      "date": "2007-02-22T18:36:48+01:00",
      "product": "Target Management",
      "component": "RSE",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.rse.tests.subsystems.testsubsystem.TestSubsystemTestCase.testAddAndDeleteNodes",
          "source": "TestSubsystemTestCase.java:86"
        }
      ],
      "number": 2,
      "commentIndex": 0,
      "bugId": "175160",
      "date": "2007-02-22T18:36:48+01:00",
      "product": "Target Management",
      "component": "RSE",
      "severity": "normal"
    },
    {
      "exceptionType": "junit.framework.AssertionFailedError",
      "message": "invalid number of selected items expected:\u003c0\u003e but was:\u003c1\u003e",
      "elements": [
        {
          "method": "org.eclipse.rse.tests.subsystems.testsubsystem.TestSubsystemTestCase.testAddAndDeleteNodes",
          "source": "TestSubsystemTestCase.java:112"
        }
      ],
      "number": 3,
      "commentIndex": 0,
      "bugId": "175160",
      "date": "2007-02-22T18:36:48+01:00",
      "product": "Target Management",
      "component": "RSE",
      "severity": "normal"
    },
    {
      "exceptionType": "junit.framework.AssertionFailedError",
      "message": "invalid number of selected items expected:\u003c1\u003e but was:\u003c0\u003e",
      "elements": [
        {
          "method": "org.eclipse.rse.tests.subsystems.testsubsystem.TestSubsystemTestCase.testAddAndDeleteNodes",
          "source": "TestSubsystemTestCase.java:96"
        }
      ],
      "number": 4,
      "commentIndex": 0,
      "bugId": "175160",
      "date": "2007-02-22T18:36:48+01:00",
      "product": "Target Management",
      "component": "RSE",
      "severity": "normal"
    },
    {
      "exceptionType": "junit.framework.AssertionFailedError",
      "message": "invalid number of selected items expected:\u003c0\u003e but was:\u003c1\u003e",
      "elements": [
        {
          "method": "org.eclipse.rse.tests.subsystems.testsubsystem.TestSubsystemTestCase.internalTestAddAndDeleteNodes",
          "source": "TestSubsystemTestCase.java:157"
        }
      ],
      "number": 5,
      "commentIndex": 2,
      "bugId": "175160",
      "date": "2007-02-23T13:53:55+01:00",
      "product": "Target Management",
      "component": "RSE",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.rse.internal.ui.view.SystemViewLabelAndContentProvider.getChildren",
          "source": "SystemViewLabelAndContentProvider.java:271"
        }
      ],
      "number": 6,
      "commentIndex": 2,
      "bugId": "175160",
      "date": "2007-02-23T13:53:55+01:00",
      "product": "Target Management",
      "component": "RSE",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.rse.internal.ui.view.SystemViewLabelAndContentProvider.getChildren",
          "source": "SystemViewLabelAndContentProvider.java:271"
        }
      ],
      "number": 7,
      "commentIndex": 2,
      "bugId": "175160",
      "date": "2007-02-23T13:53:55+01:00",
      "product": "Target Management",
      "component": "RSE",
      "severity": "normal"
    },
    {
      "exceptionType": "junit.framework.AssertionFailedError",
      "message": "invalid number of selected items expected:\u003c1\u003e but was:\u003c0\u003e",
      "elements": [
        {
          "method": "org.eclipse.rse.tests.subsystems.testsubsystem.TestSubsystemTestCase.internalTestAddAndDeleteNodes",
          "source": "TestSubsystemTestCase.java:157"
        }
      ],
      "number": 8,
      "commentIndex": 4,
      "bugId": "175160",
      "date": "2007-02-23T14:02:00+01:00",
      "product": "Target Management",
      "component": "RSE",
      "severity": "normal"
    },
    {
      "exceptionType": "junit.framework.AssertionFailedError",
      "message": "invalid number of selected items expected:\u003c0\u003e but was:\u003c1\u003e",
      "elements": [
        {
          "method": "org.eclipse.rse.tests.subsystems.testsubsystem.TestSubsystemTestCase.internalTestAddAndDeleteNodes",
          "source": "TestSubsystemTestCase.java:157"
        }
      ],
      "number": 9,
      "commentIndex": 4,
      "bugId": "175160",
      "date": "2007-02-23T14:02:00+01:00",
      "product": "Target Management",
      "component": "RSE",
      "severity": "normal"
    }
  ],
  "groupId": "175160",
  "bugId": "175160",
  "date": "2007-02-22T18:36:48+01:00",
  "product": "Target Management",
  "component": "RSE",
  "severity": "normal"
}