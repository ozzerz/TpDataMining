{
  "comments": [
    "build i0324:0800, winxp, sunjdk1.4.2\n\nI did a preference import with this build and I got the following stack trace on\nthe console. I\u0027m not sure when I exported the prefs file. Will attach prefs\nfile. Let me know...it could be something that I\u0027ve done wrong in the prefs code.\n\n\nosgi\u003e !SESSION Mar 24, 2004 14:23:27.729 ---------------------------------------\n------\njava.version\u003d1.4.2\njava.vendor\u003dSun Microsystems Inc.\nBootLoader constants: OS\u003dwin32, ARCH\u003dx86, WS\u003dwin32, NL\u003den_US\nCommand-line arguments: -showlocation -vmargs -cp C:\\eclipse\\dev\\i0324-0800\\ecli\npse\\startup.jar org.eclipse.core.launcher.Main\n!ENTRY org.eclipse.ui 4 4 Mar 24, 2004 14:23:27.729\n!MESSAGE Unhandled event loop exception\nUnhandled event loop exception\nReason:\n!ENTRY org.eclipse.ui 4 0 Mar 24, 2004 14:23:27.739\n!MESSAGE Assertion failed; Source attachment path for IClasspathEntry must be ab\nsolute\n!STACK 0\norg.eclipse.jdt.internal.core.Assert$AssertionFailedException: Assertion failed;\n Source attachment path for IClasspathEntry must be absolute\n        at org.eclipse.jdt.internal.core.Assert.isTrue(Assert.java:89)\n        at org.eclipse.jdt.core.JavaCore.newLibraryEntry(JavaCore.java:2708)\n        at org.eclipse.jdt.core.JavaCore.getResolvedClasspathEntry(JavaCore.java\n:2226)\n        at org.eclipse.jdt.internal.core.ClasspathEntry.validateClasspathEntry(C\nlasspathEntry.java:953)\n        at org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaPr\noject.java:1822)\n        at org.eclipse.jdt.internal.core.SetClasspathOperation.updateProjectRefe\nrencesIfNecessary(SetClasspathOperation.java:760)\n        at org.eclipse.jdt.internal.core.SetClasspathOperation.executeOperation(\nSetClasspathOperation.java:233)\n        at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperati\non.java:700)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1559\n)\n        at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaMod\nelOperation.java:744)\n        at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject\n.java:2584)\n        at org.eclipse.jdt.core.JavaCore$5.run(JavaCore.java:3339)\n        at org.eclipse.jdt.internal.core.BatchOperation.executeOperation(BatchOp\neration.java:34)\n        at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperati\non.java:700)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1559\n)\n        at org.eclipse.jdt.core.JavaCore.run(JavaCore.java:3196)\n        at org.eclipse.jdt.core.JavaCore.setClasspathContainer(JavaCore.java:332\n5)\n        at org.eclipse.jdt.internal.launching.JREContainerInitializer.initialize\n(JREContainerInitializer.java:51)\n        at org.eclipse.jdt.internal.launching.LaunchingPlugin$VMChanges.rebind(L\naunchingPlugin.java:244)\n        at org.eclipse.jdt.internal.launching.LaunchingPlugin$VMChanges.access$0\n(LaunchingPlugin.java:208)\n        at org.eclipse.jdt.internal.launching.LaunchingPlugin$1.run(LaunchingPlu\ngin.java:198)\n        at org.eclipse.jdt.internal.core.BatchOperation.executeOperation(BatchOp\neration.java:34)\n        at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperati\non.java:700)\n        at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1559\n)\n        at org.eclipse.jdt.core.JavaCore.run(JavaCore.java:3196)\n        at org.eclipse.jdt.internal.launching.LaunchingPlugin$VMChanges.process(\nLaunchingPlugin.java:201)\n        at org.eclipse.jdt.internal.launching.LaunchingPlugin.processVMPrefsChan\nged(LaunchingPlugin.java:585)\n        at org.eclipse.jdt.internal.launching.LaunchingPlugin.propertyChange(Lau\nnchingPlugin.java:492)\n        at org.eclipse.core.internal.preferences.PreferenceForwarder.preferenceC\nhange(PreferenceForwarder.java:102)\n        at org.eclipse.core.internal.preferences.EclipsePreferences.preferenceCh\nanged(EclipsePreferences.java:831)\n        at org.eclipse.core.internal.preferences.EclipsePreferences.put(EclipseP\nreferences.java:163)\n        at org.eclipse.core.internal.preferences.PreferencesService$1.visit(Pref\nerencesService.java:420)\n        at org.eclipse.core.internal.preferences.EclipsePreferences.accept(Eclip\nsePreferences.java:1028)\n        at org.eclipse.core.internal.preferences.EclipsePreferences.accept(Eclip\nsePreferences.java:1033)\n        at org.eclipse.core.internal.preferences.EclipsePreferences.accept(Eclip\nsePreferences.java:1033)\n        at org.eclipse.core.internal.preferences.PreferencesService.applyPrefere\nnces(PreferencesService.java:432)\n        at org.eclipse.core.internal.preferences.PreferencesService.importPrefer\nences(PreferencesService.java:366)\n        at org.eclipse.core.runtime.Preferences.importPreferences(Preferences.ja\nva:377)\n        at org.eclipse.ui.internal.dialogs.PreferenceImportExportWizard.performF\ninish(PreferenceImportExportWizard.java:182)\n        at org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java\n:606)\n        at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java\n:319)\n        at org.eclipse.jface.dialogs.Dialog$1.widgetSelected(Dialog.java:413)\n        at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:\n89)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:769)\n        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2584)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2262)\n        at org.eclipse.jface.window.Window.runEventLoop(Window.java:670)\n        at org.eclipse.jface.window.Window.open(Window.java:650)\n        at org.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog.loadPressed\n(WorkbenchPreferenceDialog.java:117)\n        at org.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog.buttonPress\ned(WorkbenchPreferenceDialog.java:67)\n        at org.eclipse.jface.dialogs.Dialog$1.widgetSelected(Dialog.java:413)\n        at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:\n89)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:769)\n        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2584)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2262)\n        at org.eclipse.jface.window.Window.runEventLoop(Window.java:670)\n        at org.eclipse.jface.window.Window.open(Window.java:650)\n        at org.eclipse.ui.internal.OpenPreferencesAction.run(OpenPreferencesActi\non.java:72)\n        at org.eclipse.jface.action.Action.runWithEvent(Action.java:881)\n        at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection\n(ActionContributionItem.java:550)\n        at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContri\nbutionItem.java:502)\n        at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionC\nontributionItem.java:435)\n        at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n        at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:769)\n        at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2584)\n        at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2262)\n        at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1541)\n        at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1515)\n        at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.jav\na:257)\n        at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139)\n        at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:90\n)\n        at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformAct\nivator.java:288)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.ja\nva:232)\n        at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.ja\nva:116)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\njava:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:324)\n        at org.eclipse.core.launcher.Main.basicRun(Main.java:315)\n        at org.eclipse.core.launcher.Main.run(Main.java:740)\n        at org.eclipse.core.launcher.Main.main(Main.java:724)\nAssertion failed; Source attachment path for IClasspathEntry must be absolute",
    "Created an attachment (id\u003d8846)\nexported preferences\n",
    "I\u0027m not sure how I got into this state...I can\u0027t reproduce this problem in a\nruntime workbench with this build.",
    "Some project seem to have a bogus classpath with a non absolute source \nattachment attribute. \n\nIt corresponds to a case where a variable entry refers to an external class \nfolder.\n\nThe illegal argument exception is legite, but it is questionable that it causes \nour validation check to abort in this way. We should protect the validation by \neither catching the exception or better use status to report the problem nicely.",
    "Although I was not able to reproduce this exception using provided exported \npreferences file, I\u0027ve modified code to catch this exception when it may happen\nwhile verifying class path entry.\n\n[jdt-core-internal]\nChanges done in callers as ClasspathEntry.validateClasspathEntry, \nJavaProject.getResolvedClasspath and CopyPackageFragmentRootOperation.copy \nmethods.\nNote that change in CopyPackageFragmentRootOperation was purely theoretical as \nall senders already verified that path and source path were valid...\n\nTest cases added in ClasspathTests for ClasspathEntry.validateClasspathEntry \nand JavaProject.getResolvedClasspath respectively in testBug55992a and \ntestBug55992b\n",
    "Verified in 200405180816"
  ],
  "commentCreationDates": [
    "2004-03-24T19:29:42+01:00",
    "2004-03-24T19:30:07+01:00",
    "2004-03-24T19:58:39+01:00",
    "2004-03-25T10:25:34+01:00",
    "2004-04-02T12:27:59+02:00",
    "2004-05-18T18:09:58+02:00"
  ],
  "traces": [
    {
      "exceptionType": "org.eclipse.jdt.internal.core.Assert$AssertionFailedException",
      "message": "Assertion failed;  Source attachment path for IClasspathEntry must be absolute",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.Assert.isTrue",
          "source": "Assert.java:89"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore.newLibraryEntry",
          "source": "JavaCore.java:2708"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore.getResolvedClasspathEntry",
          "source": "JavaCore.java :2226"
        },
        {
          "method": "org.eclipse.jdt.internal.core.ClasspathEntry.validateClasspathEntry",
          "source": "C lasspathEntry.java:953"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath",
          "source": "JavaPr oject.java:1822"
        },
        {
          "method": "org.eclipse.jdt.internal.core.SetClasspathOperation.updateProjectReferencesIfNecessary",
          "source": "SetClasspathOperation.java:760"
        },
        {
          "method": "org.eclipse.jdt.internal.core.SetClasspathOperation.executeOperation",
          "source": " SetClasspathOperation.java:233"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.run",
          "source": "JavaModelOperati on.java:700"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1559 "
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.runOperation",
          "source": "JavaMod elOperation.java:744"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaProject.setRawClasspath",
          "source": "JavaProject .java:2584"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore$5.run",
          "source": "JavaCore.java:3339"
        },
        {
          "method": "org.eclipse.jdt.internal.core.BatchOperation.executeOperation",
          "source": "BatchOp eration.java:34"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.run",
          "source": "JavaModelOperati on.java:700"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1559 "
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore.run",
          "source": "JavaCore.java:3196"
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore.setClasspathContainer",
          "source": "JavaCore.java:332 5"
        },
        {
          "method": "org.eclipse.jdt.internal.launching.JREContainerInitializer.initialize",
          "source": "JREContainerInitializer.java:51"
        },
        {
          "method": "org.eclipse.jdt.internal.launching.LaunchingPlugin$VMChanges.rebind",
          "source": "L aunchingPlugin.java:244"
        },
        {
          "method": "org.eclipse.jdt.internal.launching.LaunchingPlugin$VMChanges.access$0",
          "source": "LaunchingPlugin.java:208"
        },
        {
          "method": "org.eclipse.jdt.internal.launching.LaunchingPlugin$1.run",
          "source": "LaunchingPlu gin.java:198"
        },
        {
          "method": "org.eclipse.jdt.internal.core.BatchOperation.executeOperation",
          "source": "BatchOp eration.java:34"
        },
        {
          "method": "org.eclipse.jdt.internal.core.JavaModelOperation.run",
          "source": "JavaModelOperati on.java:700"
        },
        {
          "method": "org.eclipse.core.internal.resources.Workspace.run",
          "source": "Workspace.java:1559 "
        },
        {
          "method": "org.eclipse.jdt.core.JavaCore.run",
          "source": "JavaCore.java:3196"
        },
        {
          "method": "org.eclipse.jdt.internal.launching.LaunchingPlugin$VMChanges.process",
          "source": " LaunchingPlugin.java:201"
        },
        {
          "method": "org.eclipse.jdt.internal.launching.LaunchingPlugin.processVMPrefsChanged",
          "source": "LaunchingPlugin.java:585"
        },
        {
          "method": "org.eclipse.jdt.internal.launching.LaunchingPlugin.propertyChange",
          "source": "Lau nchingPlugin.java:492"
        },
        {
          "method": "org.eclipse.core.internal.preferences.PreferenceForwarder.preferenceChange",
          "source": "PreferenceForwarder.java:102"
        },
        {
          "method": "org.eclipse.core.internal.preferences.EclipsePreferences.preferenceChanged",
          "source": "EclipsePreferences.java:831"
        },
        {
          "method": "org.eclipse.core.internal.preferences.EclipsePreferences.put",
          "source": "EclipseP references.java:163"
        },
        {
          "method": "org.eclipse.core.internal.preferences.PreferencesService$1.visit",
          "source": "Pref erencesService.java:420"
        },
        {
          "method": "org.eclipse.core.internal.preferences.EclipsePreferences.accept",
          "source": "Eclip sePreferences.java:1028"
        },
        {
          "method": "org.eclipse.core.internal.preferences.EclipsePreferences.accept",
          "source": "Eclip sePreferences.java:1033"
        },
        {
          "method": "org.eclipse.core.internal.preferences.EclipsePreferences.accept",
          "source": "Eclip sePreferences.java:1033"
        },
        {
          "method": "org.eclipse.core.internal.preferences.PreferencesService.applyPreferences",
          "source": "PreferencesService.java:432"
        },
        {
          "method": "org.eclipse.core.internal.preferences.PreferencesService.importPreferences",
          "source": "PreferencesService.java:366"
        },
        {
          "method": "org.eclipse.core.runtime.Preferences.importPreferences",
          "source": "Preferences.ja va:377"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.PreferenceImportExportWizard.performFinish",
          "source": "PreferenceImportExportWizard.java:182"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.finishPressed",
          "source": "WizardDialog.java :606"
        },
        {
          "method": "org.eclipse.jface.wizard.WizardDialog.buttonPressed",
          "source": "WizardDialog.java :319"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$1.widgetSelected",
          "source": "Dialog.java:413"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java: 89"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:769"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2584"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2262"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:670"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:650"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog.loadPressed",
          "source": "WorkbenchPreferenceDialog.java:117"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog.buttonPressed",
          "source": "WorkbenchPreferenceDialog.java:67"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog$1.widgetSelected",
          "source": "Dialog.java:413"
        },
        {
          "method": "org.eclipse.swt.widgets.TypedListener.handleEvent",
          "source": "TypedListener.java: 89"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:769"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2584"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2262"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:670"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:650"
        },
        {
          "method": "org.eclipse.ui.internal.OpenPreferencesAction.run",
          "source": "OpenPreferencesActi on.java:72"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:881"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:550"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContri butionItem.java:502"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionC ontributionItem.java:435"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:769"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2584"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2262"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1541"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1515"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.jav a:257"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:139"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:90 "
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformAct ivator.java:288"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.ja va:232"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.ja va:116"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl. java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAcces sorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:315"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:740"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:724"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "55992",
      "date": "2004-03-24T19:29:42+01:00",
      "product": "JDT",
      "component": "Core",
      "severity": "normal"
    }
  ],
  "groupId": "55992",
  "bugId": "55992",
  "date": "2004-03-24T19:29:42+01:00",
  "product": "JDT",
  "component": "Core",
  "severity": "normal"
}