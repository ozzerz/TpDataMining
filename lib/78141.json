{
  "comments": [
    "Hi,\n\nsince 3.1M3 I can no longer use Eclipse to run an Ant script which depends on\nthe \"import\" task. I see varying symptoms. In one case, the build window opens,\nbut the list of targets is incomplete and an error message occurs at the top. In\nanother case, I receive the exception below.\n\nThe latter case is possibly reproducible, because it is in the checked out MAIN\ntrunc an open source project: http://ws.apache.org/jaxme\n\n\nException quoted from .log:\n\n!ENTRY org.eclipse.ui 4 4 2004-11-09 08:22:48.469\n!MESSAGE Unhandled event loop exception\n\n!ENTRY org.eclipse.ui 4 0 2004-11-09 08:22:48.496\n!MESSAGE java.lang.NullPointerException\n!STACK 0\njava.lang.NullPointerException\n\tat\norg.eclipse.ant.internal.ui.launchConfigurations.AntTargetsTab.updateSelectionCount(AntTargetsTab.java:459)\n\tat\norg.eclipse.ant.internal.ui.launchConfigurations.AntTargetsTab.setExecuteInput(AntTargetsTab.java:653)\n\tat\norg.eclipse.ant.internal.ui.launchConfigurations.AntTargetsTab.initializeFrom(AntTargetsTab.java:618)\n\tat\norg.eclipse.debug.ui.AbstractLaunchConfigurationTabGroup.initializeFrom(AbstractLaunchConfigurationTabGroup.java:86)\n\tat\norg.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer.displayInstanceTabs(LaunchConfigurationTabGroupViewer.java:538)\n\tat\norg.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer$5.run(LaunchConfigurationTabGroupViewer.java:471)\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69)\n\tat\norg.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer.inputChanged(LaunchConfigurationTabGroupViewer.java:488)\n\tat\norg.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer.setInput(LaunchConfigurationTabGroupViewer.java:452)\n\tat\norg.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationDialog.initializeContent(LaunchConfigurationDialog.java:69)\n\tat\norg.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.createContents(LaunchConfigurationsDialog.java:306)\n\tat org.eclipse.jface.window.Window.create(Window.java:375)\n\tat org.eclipse.jface.dialogs.Dialog.create(Dialog.java:983)\n\tat\norg.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.create(LaunchConfigurationsDialog.java:1603)\n\tat org.eclipse.jface.window.Window.open(Window.java:685)\n\tat\norg.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.open(LaunchConfigurationsDialog.java:433)\n\tat\norg.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationPropertiesDialog.open(LaunchConfigurationPropertiesDialog.java:246)\n\tat\norg.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialog(DebugUITools.java:423)\n\tat\norg.eclipse.ant.internal.ui.launchConfigurations.AntLaunchShortcut.launch(AntLaunchShortcut.java:232)\n\tat\norg.eclipse.ant.internal.ui.launchConfigurations.AntLaunchShortcut.launch(AntLaunchShortcut.java:169)\n\tat\norg.eclipse.ant.internal.ui.launchConfigurations.AntLaunchShortcut.launch(AntLaunchShortcut.java:83)\n\tat\norg.eclipse.debug.internal.ui.launchConfigurations.LaunchShortcutExtension.launch(LaunchShortcutExtension.java:337)\n\tat\norg.eclipse.debug.internal.ui.actions.LaunchShortcutAction.run(LaunchShortcutAction.java:62)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:988)\n\tat\norg.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:946)\n\tat\norg.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:896)\n\tat\norg.eclipse.jface.action.ActionContributionItem$7.handleEvent(ActionContributionItem.java:810)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:989)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2666)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2365)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1529)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1500)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:276)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144)\n\tat org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:102)\n\tat\norg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:335)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:585)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:185)\n\tat org.eclipse.core.launcher.Main.run(Main.java:704)\n\tat org.eclipse.core.launcher.Main.main(Main.java:688)",
    "I can reproduce the NPE but in a buildfile that does not have a default target \n(or the default target is incorrectly named)\n\nIs is possible for you to just provide the buildfile that exhibits the problem \nas an attachment to this bug report. Thanks.",
    "The target resolution code for the Ant launch configuration dialog is not \nresolving targets from imports. This results in missing default targets which \nshows the other problem of the code not properly handling buildfiles without \ndefault targets. \nI have logged the NPE/missing default target problem as bug 78198.",
    "As a workaround you can execute the target of choice using the Ant editor \noutline. \nSelect the target, context menu\u003eRun As\u003eAnt Build",
    "Fixed in the AntModel.\nWhen an AntModel is not interested in task level resolution (for the targets \ntab) it still needs to deal with tasks defined in the implicit target (top \nlevel tasks). This is because the import task can only be defined at the top \nlevel and needs to be executed to parse the imported buildfile and retrieve \nthe targets defined in those files.\n\nAlso made some improvements to the models handling of external targets \n(defined via import)",
    "Please verify Jared.",
    "Just as a note, Darin: I believe, your diagnosis with the missing default target\nis right: Indeed, the build file in question doesn\u0027t have such a target, at\nleast not in the main file. (The target is located in one of the files being\nincluded.)\n",
    "Reopening for comment. I don\u0027t know anything about how this code works, but just \nreading it over, the following bit caught my attention. Is this really the logic \nyou want here? Doesn\u0027t this code say that only a non-null name of length 0 is \ngood?\n if (name \u003d\u003d null || name.length() !\u003d 0 ) {\n   //not the top level implicit target            \n   return;\n }",
    "The logic is correct. \nThe implicit target is the only target allowed to have a non-null empty string \nname. Tasks within the implicit target are the only ones we are interested in \nwhen the Ant Model is not collected task information. The implicit target is \nthe only place import tasks can live.\n\nNote that comments for discussions like this can be made without \nreopening/reassigning the bug.",
    "Back to verify mode.",
    "K. Verified.",
    "*** Bug 79831 has been marked as a duplicate of this bug. ***",
    "The bug seems still to be there when using linked resources.\nFor example:\n\u003cimport file\u003d\"D:/eclipse_workspaces/3.1M3/___EXT_AntTools/ant-commons.ant.xml\" /\u003e\nwhere \"___EXT_AntTools\" is a project linked to a location\n(\"D:\\SWCode\\Java\\AntTools-ExtEclipseProject\") outside eclipse workspace.\nDoesn\u0027t work no longer (it worked in 3.0.1).\n\nMaking the reference to the real file system folder explicit:\n\u003cimport file\u003d\"D:\\SWCode\\Java\\AntTools-ExtEclipseProject\\ant-commons.ant.xml\" /\u003e\nsolves the problem, but I\u0027d really like to have back the hold behaviour.\nThanks a lot.",
    "I do not believe the linking problem is the same issue.\nLogged bug 80044."
  ],
  "commentCreationDates": [
    "2004-11-09T07:45:40+01:00",
    "2004-11-09T17:42:53+01:00",
    "2004-11-09T18:30:37+01:00",
    "2004-11-09T18:38:22+01:00",
    "2004-11-09T23:56:03+01:00",
    "2004-11-09T23:56:21+01:00",
    "2004-11-10T08:08:04+01:00",
    "2004-11-10T18:04:41+01:00",
    "2004-11-10T18:13:36+01:00",
    "2004-11-10T18:13:55+01:00",
    "2004-11-10T19:44:49+01:00",
    "2004-12-01T22:31:34+01:00",
    "2004-12-02T14:16:52+01:00",
    "2004-12-02T18:36:32+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ant.internal.ui.launchConfigurations.AntTargetsTab.updateSelectionCount",
          "source": "AntTargetsTab.java:459"
        },
        {
          "method": "org.eclipse.ant.internal.ui.launchConfigurations.AntTargetsTab.setExecuteInput",
          "source": "AntTargetsTab.java:653"
        },
        {
          "method": "org.eclipse.ant.internal.ui.launchConfigurations.AntTargetsTab.initializeFrom",
          "source": "AntTargetsTab.java:618"
        },
        {
          "method": "org.eclipse.debug.ui.AbstractLaunchConfigurationTabGroup.initializeFrom",
          "source": "AbstractLaunchConfigurationTabGroup.java:86"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer.displayInstanceTabs",
          "source": "LaunchConfigurationTabGroupViewer.java:538"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer$5.run",
          "source": "LaunchConfigurationTabGroupViewer.java:471"
        },
        {
          "method": "org.eclipse.swt.custom.BusyIndicator.showWhile",
          "source": "BusyIndicator.java:69"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer.inputChanged",
          "source": "LaunchConfigurationTabGroupViewer.java:488"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer.setInput",
          "source": "LaunchConfigurationTabGroupViewer.java:452"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationDialog.initializeContent",
          "source": "LaunchConfigurationDialog.java:69"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.createContents",
          "source": "LaunchConfigurationsDialog.java:306"
        },
        {
          "method": "org.eclipse.jface.window.Window.create",
          "source": "Window.java:375"
        },
        {
          "method": "org.eclipse.jface.dialogs.Dialog.create",
          "source": "Dialog.java:983"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.create",
          "source": "LaunchConfigurationsDialog.java:1603"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:685"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.open",
          "source": "LaunchConfigurationsDialog.java:433"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationPropertiesDialog.open",
          "source": "LaunchConfigurationPropertiesDialog.java:246"
        },
        {
          "method": "org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialog",
          "source": "DebugUITools.java:423"
        },
        {
          "method": "org.eclipse.ant.internal.ui.launchConfigurations.AntLaunchShortcut.launch",
          "source": "AntLaunchShortcut.java:232"
        },
        {
          "method": "org.eclipse.ant.internal.ui.launchConfigurations.AntLaunchShortcut.launch",
          "source": "AntLaunchShortcut.java:169"
        },
        {
          "method": "org.eclipse.ant.internal.ui.launchConfigurations.AntLaunchShortcut.launch",
          "source": "AntLaunchShortcut.java:83"
        },
        {
          "method": "org.eclipse.debug.internal.ui.launchConfigurations.LaunchShortcutExtension.launch",
          "source": "LaunchShortcutExtension.java:337"
        },
        {
          "method": "org.eclipse.debug.internal.ui.actions.LaunchShortcutAction.run",
          "source": "LaunchShortcutAction.java:62"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:988"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:946"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:896"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$7.handleEvent",
          "source": "ActionContributionItem.java:810"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:82"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:989"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:2666"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2365"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1529"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1500"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:276"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:144"
        },
        {
          "method": "org.eclipse.ui.internal.ide.IDEApplication.run",
          "source": "IDEApplication.java:102"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:335"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:273"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:129"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:585"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:185"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:704"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:688"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "78141",
      "date": "2004-11-09T07:45:40+01:00",
      "product": "Platform",
      "component": "Ant",
      "severity": "major"
    }
  ],
  "groupId": "78141",
  "bugId": "78141",
  "date": "2004-11-09T07:45:40+01:00",
  "product": "Platform",
  "component": "Ant",
  "severity": "major"
}