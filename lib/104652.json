{
  "comments": [
    "Unable to reload the .genmodel after generating model code from annotated \nJava.  Using eclipse 3.1 and EMF 2.1 build date 2005/07/07 02:00\n\nSteps to reproduce:\n\n1.Create a new Java project and add a Class Foo to something other than the \ndefault package.  Annotate the class as follows(note the parentheses in the \nname\u003d\"Default(Property)\")\n/**\n * @model\n */\npublic final class Foo {\n\t/**\n\t * @model name\u003d\"Default(Property)\"\n\t */\n\tpublic static final int DEFAULT \u003d 0;\n}\n\n2. Choose to create a new EMF Model, select the com package and My.genmodel.  \nImport from Annotated Java and finish the wizard\n3. Choose \u0027Generate Model Code\u0027 on My.genmodel\n\nThe generated code has compile errors.  The Foo class is not touched in the \ncode generation.  A warning message appears in the Error log:\n\njava.lang.IllegalArgumentException: Attempt to insert null sibling\nat org.eclipse.jdt.internal.core.jdom.DOMNode.insertSibling(DOMNode.java:668)\nat org.eclipse.jdt.internal.core.jdom.DOMField.insertSibling(DOMField.java:443)\nat org.eclipse.emf.codegen.jmerge.JMerger.insertClone(JMerger.java:1180)\nat org.eclipse.emf.codegen.jmerge.JMerger.pushSourceMethod(JMerger.java:981)\nat org.eclipse.emf.codegen.jmerge.JMerger.pushSourceType(JMerger.java:947)\nat org.eclipse.emf.codegen.jmerge.JMerger.pushSourceCompilationUnit\n(JMerger.java:900)\nat org.eclipse.emf.codegen.jmerge.JMerger.merge(JMerger.java:89)\nat org.eclipse.emf.codegen.ecore.genmodel.impl.GenBaseImpl.generate\n(GenBaseImpl.java:401)\n...\n\nNow if you try to reload the genmodel the Package Selection page is empty and \nyou cannot finish.  The problem with the above annotated java is the \nparentheses, but this is not obvious from what occurs. When trying to reload \nthe genmodel another warning is written to the error log:\n\njava.lang.ClassCastException: org.eclipse.jdt.internal.core.jdom.DOMMethod\n\tat org.eclipse.jdt.internal.core.jdom.DOMBuilder.createType\n(DOMBuilder.java:271)\n\tat org.eclipse.jdt.core.jdom.DOMFactory.createType(DOMFactory.java:158)\n\tat org.eclipse.jdt.internal.core.jdom.DOMType.getDetailedNode\n(DOMType.java:392)\n\tat org.eclipse.jdt.internal.core.jdom.DOMNode.becomeDetailed\n(DOMNode.java:390)\n\tat org.eclipse.jdt.internal.core.jdom.DOMMember.getComment\n(DOMMember.java:218)\n\tat org.eclipse.emf.importer.java.builder.JavaEcoreBuilder.analyzeType\n(JavaEcoreBuilder.java:692)\n\tat \norg.eclipse.emf.importer.java.builder.JavaEcoreBuilder.analyzeCompilationUnit\n(JavaEcoreBuilder.java:671)\n\tat org.eclipse.emf.importer.java.builder.JavaEcoreBuilder.traverse\n(JavaEcoreBuilder.java:653)\n\tat org.eclipse.emf.importer.java.builder.JavaEcoreBuilder.traverse\n(JavaEcoreBuilder.java:612)\n\tat org.eclipse.emf.importer.java.builder.JavaEcoreBuilder.traverse\n(JavaEcoreBuilder.java:616)\n\tat org.eclipse.emf.importer.java.builder.JavaEcoreBuilder.traverse\n(JavaEcoreBuilder.java:616)\n\tat org.eclipse.emf.importer.java.builder.JavaEcoreBuilder.analyseProject\n(JavaEcoreBuilder.java:240)\n\tat \norg.eclipse.emf.importer.java.builder.JavaEcoreBuilder.computeEPackages\n(JavaEcoreBuilder.java:455)\n\tat org.eclipse.emf.importer.java.JavaImporter.doComputeEPackages\n(JavaImporter.java:75)\n\tat org.eclipse.emf.importer.ModelImporter.computeEPackages\n(ModelImporter.java:664)\n\tat org.eclipse.emf.importer.java.ui.JavaPackagePage.computeEPackages\n(JavaPackagePage.java:103)\n\tat org.eclipse.emf.importer.java.ui.JavaPackagePage$2.execute\n(JavaPackagePage.java:78)\n...",
    "We\u0027ve created a \"Plan Item\" so we can track what are the improvements we should\nmake on the code generation error reporting and handling.\n\n*** This bug has been marked as a duplicate of 104727 ***",
    "Created an attachment (id\u003d41405)\nThis type of warning is now produced.\n\n",
    "I\u0027ll reopen it to return it as fixed.",
    "This produces a nicer warning message and doesn\u0027t result in a bad model."
  ],
  "commentCreationDates": [
    "2005-07-21T15:50:50+02:00",
    "2005-07-21T22:13:42+02:00",
    "2006-05-13T18:56:21+02:00",
    "2006-05-13T18:56:58+02:00",
    "2006-05-13T18:57:39+02:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalArgumentException",
      "message": "Attempt to insert null sibling",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.jdom.DOMNode.insertSibling",
          "source": "DOMNode.java:668"
        },
        {
          "method": "org.eclipse.jdt.internal.core.jdom.DOMField.insertSibling",
          "source": "DOMField.java:443"
        },
        {
          "method": "org.eclipse.emf.codegen.jmerge.JMerger.insertClone",
          "source": "JMerger.java:1180"
        },
        {
          "method": "org.eclipse.emf.codegen.jmerge.JMerger.pushSourceMethod",
          "source": "JMerger.java:981"
        },
        {
          "method": "org.eclipse.emf.codegen.jmerge.JMerger.pushSourceType",
          "source": "JMerger.java:947"
        },
        {
          "method": "org.eclipse.emf.codegen.jmerge.JMerger.pushSourceCompilationUnit",
          "source": "JMerger.java:900"
        },
        {
          "method": "org.eclipse.emf.codegen.jmerge.JMerger.merge",
          "source": "JMerger.java:89"
        },
        {
          "method": "org.eclipse.emf.codegen.ecore.genmodel.impl.GenBaseImpl.generate",
          "source": "GenBaseImpl.java:401"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "104652",
      "date": "2005-07-21T15:50:50+02:00",
      "product": "EMF",
      "component": "Tools",
      "severity": "normal"
    },
    {
      "exceptionType": "java.lang.ClassCastException",
      "message": "org.eclipse.jdt.internal.core.jdom.DOMMethod",
      "elements": [
        {
          "method": "org.eclipse.jdt.internal.core.jdom.DOMBuilder.createType",
          "source": "DOMBuilder.java:271"
        },
        {
          "method": "org.eclipse.jdt.core.jdom.DOMFactory.createType",
          "source": "DOMFactory.java:158"
        },
        {
          "method": "org.eclipse.jdt.internal.core.jdom.DOMType.getDetailedNode",
          "source": "DOMType.java:392"
        },
        {
          "method": "org.eclipse.jdt.internal.core.jdom.DOMNode.becomeDetailed",
          "source": "DOMNode.java:390"
        },
        {
          "method": "org.eclipse.jdt.internal.core.jdom.DOMMember.getComment",
          "source": "DOMMember.java:218"
        },
        {
          "method": "org.eclipse.emf.importer.java.builder.JavaEcoreBuilder.analyzeType",
          "source": "JavaEcoreBuilder.java:692"
        },
        {
          "method": "org.eclipse.emf.importer.java.builder.JavaEcoreBuilder.analyzeCompilationUnit",
          "source": "JavaEcoreBuilder.java:671"
        },
        {
          "method": "org.eclipse.emf.importer.java.builder.JavaEcoreBuilder.traverse",
          "source": "JavaEcoreBuilder.java:653"
        },
        {
          "method": "org.eclipse.emf.importer.java.builder.JavaEcoreBuilder.traverse",
          "source": "JavaEcoreBuilder.java:612"
        },
        {
          "method": "org.eclipse.emf.importer.java.builder.JavaEcoreBuilder.traverse",
          "source": "JavaEcoreBuilder.java:616"
        },
        {
          "method": "org.eclipse.emf.importer.java.builder.JavaEcoreBuilder.traverse",
          "source": "JavaEcoreBuilder.java:616"
        },
        {
          "method": "org.eclipse.emf.importer.java.builder.JavaEcoreBuilder.analyseProject",
          "source": "JavaEcoreBuilder.java:240"
        },
        {
          "method": "org.eclipse.emf.importer.java.builder.JavaEcoreBuilder.computeEPackages",
          "source": "JavaEcoreBuilder.java:455"
        },
        {
          "method": "org.eclipse.emf.importer.java.JavaImporter.doComputeEPackages",
          "source": "JavaImporter.java:75"
        },
        {
          "method": "org.eclipse.emf.importer.ModelImporter.computeEPackages",
          "source": "ModelImporter.java:664"
        },
        {
          "method": "org.eclipse.emf.importer.java.ui.JavaPackagePage.computeEPackages",
          "source": "JavaPackagePage.java:103"
        },
        {
          "method": "org.eclipse.emf.importer.java.ui.JavaPackagePage$2.execute",
          "source": "JavaPackagePage.java:78"
        }
      ],
      "number": 1,
      "commentIndex": 0,
      "bugId": "104652",
      "date": "2005-07-21T15:50:50+02:00",
      "product": "EMF",
      "component": "Tools",
      "severity": "normal"
    }
  ],
  "groupId": "104652",
  "bugId": "104652",
  "date": "2005-07-21T15:50:50+02:00",
  "product": "EMF",
  "component": "Tools",
  "severity": "normal"
}