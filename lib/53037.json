{
  "comments": [
    "I20040224\n\n- launch I20020219 (the last version that works for me) with empty workspace\n- binary import all plugins from I20040224\n- launch as Run-time workbench\nObserve these messages in the .log (for console messages see below):\n\n!SESSION ----------------------------------------------------------------------\n!ENTRY org.eclipse.core.launcher 4 0 Feb 25, 2004 12:32:36.882\n!MESSAGE Exception launching the Eclipse Platform:\n!STACK\njava.lang.IllegalStateException: Bundle reference:file:/Eclipse/SDKs/eclipse/plugins/\norg.eclipse.osgi.util_3.0.0/ [2] is not active\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.ensureBundlesActive(EclipseStarter.java:123)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:93)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:279)\n\tat org.eclipse.core.launcher.Main.run(Main.java:742)\n\tat org.eclipse.core.launcher.Main.main(Main.java:581)\n\n\n\nCould not uninstall unused bundle reference:file:/Eclipse/SDKs/eclipse/plugins/\norg.eclipse.update.configurator_3.0.0/\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.apache.ant_1.6.1\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.apache.lucene_1.3.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.apache.xerces_4.0.13\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.ant.core_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.ant.ui_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.compare_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.core.expressions_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.core.filebuffers_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.core.resources.macosx_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.core.resources_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.core.runtime.compatibility_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.core.runtime_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.core.variables_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.debug.core_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.debug.ui_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.help.appserver_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.help.base_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.help.ide_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.help.ui_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.help.webapp_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.help_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.jdt.core_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.jdt.debug.ui_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.jdt.debug_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.jdt.doc.isv_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.jdt.doc.user_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.jdt.junit.runtime_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.jdt.junit_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.jdt.launching.macosx_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.jdt.launching_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/\norg.eclipse.jdt.source.macosx.carbon.ppc_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.jdt.source_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.jdt.ui_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.jdt_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.jface.text_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.jface_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.pde.build_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.pde.core_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.pde.doc.user_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.pde.junit.runtime_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.pde.runtime_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.pde.source_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.pde.ui_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.pde_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.platform.doc.isv_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.platform.doc.user_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/\norg.eclipse.platform.source.macosx.carbon.ppc_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.platform.source_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.platform_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.sdk_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.search_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.swt.carbon_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.swt_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.team.core_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.team.cvs.core_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.team.cvs.ssh2_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.team.cvs.ssh_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.team.cvs.ui_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.team.ui_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.text_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.tomcat_4.1.29\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.ui.carbon_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.ui.console_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.ui.editors_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.ui.externaltools_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.ui.forms_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.ui.ide_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.ui.versioncheck_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.ui.views_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.ui.workbench.compatibility_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.ui.workbench.texteditor_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.ui.workbench_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.ui_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.update.configurator_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.update.core_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.update.scheduler_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.update.ui.forms_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.eclipse.update.ui_3.0.0\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.junit_3.8.1",
    "This is a known issue that has been fixed in the latest i-build. Pascal knows\nthe details and a workaround.",
    "Pascal,\nsince the latest I-build hasn\u0027t shown up on this side of the atlantic,\ncould you please give me some details about the workaround?\nAnd why is this a Mac OS X specific problem?\nThanks.",
    "I\u0027m not sure that I recognize the bug, or know how to fix it. But if it is the \nbug I think it is, then you should get all the pde and update plugins and put \nthem in your I20020219.\n\nWhy are you saying that this is a macos specific problem?",
    "Because I don\u0027t see the problem on Windows.",
    "I could reproduce it using i20040219. What seems to be happening is that the update \nconfigurator was finding the basic bundles from i20040219 as cached bundles(!), and \nreinstalling them from i20040225. The exception is caused because since the basic \nbundles were reinstalled after being started, they are in the resolved state - and all basic \nbundles should be active.\n\nUnfortunately, due to bug 53099, I have not had an opportunity to see if it happens with \ntoday\u0027s build.",
    "Original summary: \"Cannot selfhost on Mac\"\n\nI could reproduce it on Windows as well. The trigger is that the osgi.bundles\nproperty is being filled with locations for bundles in my host install\n(i20040219), even if my target platform points to a diffent location (i20040225).\nThis causes the update configurator to try to reinstall the basic bundles\n(including itself), what makes them go to the RESOLVED state.\n\nThis problem does not happen with i20040225, so this may have been fixed. Moving\nto PDE for comments/closure.",
    "Rafael, check the config.ini that PDE generates.  Are the locations in the \nosgi.bundles correct?  If so, then it\u0027s an Update configurator problem.\n\nIf the values set in osgi.bundles point to plug-ins that are NOT in your \ntarget platform, as specified on the preference page, then make sure you don\u0027t \nhave these projects imported into your workspace, as they will mask the \nexternal ones.  If they are not in your workspace, and we are still not \npicking up the correct osgi.bundles location then it\u0027s a PDE bug.   This is \nvery unlikely.",
    "Yes, they are correct in the config.ini generated by PDE. They point to plugins\nin my target platform.",
    "I know how solid my code is :-)  Moving to Update.",
    "Jeff, is this the problem you were mentioning in the morning ?",
    "I think I fixed this problem in HEAD just a few minutes ago.  At least I was \nhaving something similar and my changes fixed it.  Look carefully at the \noutput...\n\nCould not uninstall unused bundle reference:file:/Eclipse/SDKs/eclipse/plugins/\norg.eclipse.update.configurator_3.0.0/\nIgnoring bundle at: reference:file:/Eclipse/SDKs/plugins/org.apache.ant_1.6.1\n...\n\nNotice the missing \"eclipse\" segment in the second line.  In my case this was \nbecause the value of the install URL used internally and exposed through \nPlatform.getInstallURL() did not have a trailing /.  The update code uses\n   new URL(Platform.getInstallURL(), \"plugins/whatever\");\nWithout the trailing /, the URL constructor removes the last segment of the \ncontext and adds on the second arg (just like a web browser).  The last segment \nis \"eclipse\".  D\u0027oh!\n\nAs I say, this is fixed in HEAD.\n\nI\u0027ll leave this open to ensure that this fixed your problem.\n",
    "Jeff, I don\u0027t know if this will help, but I\u0027m running the I20040226 build and I\ncan not self-host on the Mac. The target starts to launch and fails with this\nmessage from the console. There are no log messages or stack traces. Can you\nsuggest which projects to take from HEAD to get your fixes? Thanks, Chris\n\nIgnoring bundle at: reference:file:/workspace/org.eclipse.ui",
    "Chris see bug 53080 for the mac issue. It may be related but either way I \nexpect all of this is fixed in HEAD now.",
    "Created an attachment (id\u003d8194)\nlogfile from failed self-host launch\n\nJeff, I grabbed org.eclipse.{update, update.configurator, update.core,\nupdate.ui} from HEAD and tried again, but it still fails. This time, I got a\nlog that I could read. It\u0027s attached. BTW, I do not use the -data option on my\nMacOS box.",
    "If you don\u0027t use -data, the workspace location will default to \"workspace\"\n(relative to current dir). So the workaround require users to specify -data even\nif they don\u0027t use to.",
    "\n\n*** This bug has been marked as a duplicate of 53080 ***"
  ],
  "commentCreationDates": [
    "2004-02-25T11:58:16+01:00",
    "2004-02-25T15:03:20+01:00",
    "2004-02-25T15:11:11+01:00",
    "2004-02-25T15:23:51+01:00",
    "2004-02-25T17:13:29+01:00",
    "2004-02-25T19:06:35+01:00",
    "2004-02-25T19:43:16+01:00",
    "2004-02-25T20:09:07+01:00",
    "2004-02-25T20:28:44+01:00",
    "2004-02-25T20:30:50+01:00",
    "2004-02-25T20:44:53+01:00",
    "2004-02-25T22:16:36+01:00",
    "2004-02-26T19:02:47+01:00",
    "2004-02-26T19:32:08+01:00",
    "2004-02-26T19:50:16+01:00",
    "2004-02-26T20:00:28+01:00",
    "2004-02-26T21:02:48+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.IllegalStateException",
      "message": "Bundle reference:file:/Eclipse/SDKs/eclipse/plugins/ org.eclipse.osgi.util_3.0.0/ [2] is not active",
      "elements": [
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.ensureBundlesActive",
          "source": "EclipseStarter.java:123"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:93"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:279"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:742"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:581"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "53037",
      "duplicateId": "53080",
      "date": "2004-02-25T11:58:16+01:00",
      "product": "Platform",
      "component": "Update",
      "severity": "blocker"
    }
  ],
  "groupId": "53080",
  "bugId": "53037",
  "duplicateId": "53080",
  "date": "2004-02-25T11:58:16+01:00",
  "product": "Platform",
  "component": "Update",
  "severity": "blocker"
}