{
  "comments": [
    "I have problems while developing a RCP application. I get a NullPointerException in the EditActionSets Action if I want to change the visibility of an actionset. The problem only occurs if I want to add the action to a toolbar defined in the ActionBarAdvisor. If I use an identifier not defined in the ActionBarAdvisor the action appears in a separate toolbar and no exception is thrown. You can reproduce this with the following code:\n\nAdd the EditActionSets Action to the menu and define a toolbar in the ActionBarAdvisor like this:\n\nmakeActions(IWorkbenchWindow window) {\n\n   editActionSetsAction \u003d ActionFactory.EDIT_ACTION_SETS.create(window);\n   register(editActionSetsAction);\n}\n\nfillMenuBar(IMenuManager menuBar) {\n   MenuManager windowMenu \u003d new MenuManager(\"\u0026Window\", IWorkbenchActionConstants.M_WINDOW);\n   windowMenu.add(editActionSetsAction);\n   menuBar.add(windowMenu);\n}\nfillCoolBar(ICoolBarManager coolBar)\n{\n   IToolBarManager toolbar \u003d new ToolBarManager(SWT.FLAT | SWT.RIGHT);\n   toolbar.add(new GroupMarker(IWorkbenchActionConstants.OPEN_EXT));\n   coolBar.add(new ToolBarContributionItem(toolbar, \"standard\"));\n}\n\nAdd an action via the extension-point org.eclipse.ui.actionSets:\n\n\u003cactionSet\n   id\u003d\"OpenFilesActionSet\"\n   label\u003d\"Open Files\"\n    visible\u003d\"true\"\u003e\n   \u003caction\n      class\u003d\"OpenAction\"\n      id\u003d\"openAction\"\n      label\u003d\"Open\"\n      style\u003d\"push\"\n      toolbarPath\u003d\"standard/open.ext\"/\u003e\n\u003c/actionSet\u003e\n\nThen start the application and open the Edit Actionsets Dialog. Try to disable the OpenFilesActionSet. The following NullPointerException is thrown:\n\n!ENTRY org.eclipse.jface 4 2 2006-10-18 10:44:00.156\n!MESSAGE Problems occurred when invoking code from plug-in: \"org.eclipse.jface\".\n!STACK 0\njava.lang.NullPointerException\n\tat org.eclipse.ui.internal.dialogs.DialogUtil.removeAccel(DialogUtil.java:69)\n\tat org.eclipse.ui.internal.dialogs.CustomizePerspectiveDialog$ActionSetDisplayItem.\u003cinit\u003e(CustomizePerspectiveDialog.java:214)\n\tat org.eclipse.ui.internal.dialogs.CustomizePerspectiveDialog$ActionSetDisplayItem.fillToolsFor(CustomizePerspectiveDialog.java:308)\n\tat org.eclipse.ui.internal.dialogs.CustomizePerspectiveDialog.handleActionSetSelected(CustomizePerspectiveDialog.java:1336)\n\tat org.eclipse.ui.internal.dialogs.CustomizePerspectiveDialog$2.selectionChanged(CustomizePerspectiveDialog.java:900)\n\tat org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:162)\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37)\n\tat org.eclipse.core.runtime.Platform.run(Platform.java:843)\n\tat org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44)\n\tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:149)\n\tat org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:160)\n\tat org.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:1976)\n\tat org.eclipse.jface.viewers.StructuredViewer.handleSelect(StructuredViewer.java:1128)\n\tat org.eclipse.jface.viewers.CheckboxTableViewer.handleSelect(CheckboxTableViewer.java:269)\n\tat org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected(StructuredViewer.java:1154)\n\tat org.eclipse.jface.util.OpenStrategy.fireSelectionEvent(OpenStrategy.java:213)\n\tat org.eclipse.jface.util.OpenStrategy.access$3(OpenStrategy.java:207)\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:374)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:820)\n\tat org.eclipse.jface.window.Window.open(Window.java:796)\n\tat org.eclipse.ui.internal.WorkbenchPage.editActionSets(WorkbenchPage.java:1693)\n\tat org.eclipse.ui.internal.EditActionSetsAction.run(EditActionSetsAction.java:49)\n\tat org.eclipse.ui.internal.PerspectiveAction.run(PerspectiveAction.java:70)\n\tat org.eclipse.jface.action.Action.runWithEvent(Action.java:499)\n\tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539)\n\tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488)\n\tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400)\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928)\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348)\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968)\n\tat org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914)\n\tat org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878)\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419)\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)\n\tat de.ingmbh.sphinx.editor.Application.run(Application.java:18)\n\tat org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92)\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400)\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:324)\n\tat org.eclipse.core.launcher.Main.invokeFramework(Main.java:336)\n\tat org.eclipse.core.launcher.Main.basicRun(Main.java:280)\n\tat org.eclipse.core.launcher.Main.run(Main.java:977)\n\tat org.eclipse.core.launcher.Main.main(Main.java:952)\n\nI\u0027m not sure if this is a bug, but I posted it in the newsgroups and they said I should open a bug report.\n\nBest regards,\n\nIngo",
    "Is there any progress on this issue? I have the same problem.",
    "This probably won\u0027t be looked at until after 3.3M5\n\nPW\n",
    "I cannot reproduce the NPE with the given test case. When disabling the action set, no NPE is thrown and the action set is disabled as expected.",
    "I\u0027m marking this as WORKSFORME since I cannot reproduce the bug. This bug can be reopened if it\u0027s still a problem and can be reproduced."
  ],
  "commentCreationDates": [
    "2006-10-18T10:48:46+02:00",
    "2006-11-27T09:32:01+01:00",
    "2006-11-27T13:48:34+01:00",
    "2007-10-17T19:45:01+02:00",
    "2007-11-14T18:44:15+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.NullPointerException",
      "elements": [
        {
          "method": "org.eclipse.ui.internal.dialogs.DialogUtil.removeAccel",
          "source": "DialogUtil.java:69"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.CustomizePerspectiveDialog$ActionSetDisplayItem.\u003cinit\u003e",
          "source": "CustomizePerspectiveDialog.java:214"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.CustomizePerspectiveDialog$ActionSetDisplayItem.fillToolsFor",
          "source": "CustomizePerspectiveDialog.java:308"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.CustomizePerspectiveDialog.handleActionSetSelected",
          "source": "CustomizePerspectiveDialog.java:1336"
        },
        {
          "method": "org.eclipse.ui.internal.dialogs.CustomizePerspectiveDialog$2.selectionChanged",
          "source": "CustomizePerspectiveDialog.java:900"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer$2.run",
          "source": "Viewer.java:162"
        },
        {
          "method": "org.eclipse.core.runtime.SafeRunner.run",
          "source": "SafeRunner.java:37"
        },
        {
          "method": "org.eclipse.core.runtime.Platform.run",
          "source": "Platform.java:843"
        },
        {
          "method": "org.eclipse.ui.internal.JFaceUtil$1.run",
          "source": "JFaceUtil.java:44"
        },
        {
          "method": "org.eclipse.jface.util.SafeRunnable.run",
          "source": "SafeRunnable.java:149"
        },
        {
          "method": "org.eclipse.jface.viewers.Viewer.fireSelectionChanged",
          "source": "Viewer.java:160"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.updateSelection",
          "source": "StructuredViewer.java:1976"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer.handleSelect",
          "source": "StructuredViewer.java:1128"
        },
        {
          "method": "org.eclipse.jface.viewers.CheckboxTableViewer.handleSelect",
          "source": "CheckboxTableViewer.java:269"
        },
        {
          "method": "org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected",
          "source": "StructuredViewer.java:1154"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.fireSelectionEvent",
          "source": "OpenStrategy.java:213"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy.access$3",
          "source": "OpenStrategy.java:207"
        },
        {
          "method": "org.eclipse.jface.util.OpenStrategy$1.handleEvent",
          "source": "OpenStrategy.java:374"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3348"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2968"
        },
        {
          "method": "org.eclipse.jface.window.Window.runEventLoop",
          "source": "Window.java:820"
        },
        {
          "method": "org.eclipse.jface.window.Window.open",
          "source": "Window.java:796"
        },
        {
          "method": "org.eclipse.ui.internal.WorkbenchPage.editActionSets",
          "source": "WorkbenchPage.java:1693"
        },
        {
          "method": "org.eclipse.ui.internal.EditActionSetsAction.run",
          "source": "EditActionSetsAction.java:49"
        },
        {
          "method": "org.eclipse.ui.internal.PerspectiveAction.run",
          "source": "PerspectiveAction.java:70"
        },
        {
          "method": "org.eclipse.jface.action.Action.runWithEvent",
          "source": "Action.java:499"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection",
          "source": "ActionContributionItem.java:539"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem.access$2",
          "source": "ActionContributionItem.java:488"
        },
        {
          "method": "org.eclipse.jface.action.ActionContributionItem$5.handleEvent",
          "source": "ActionContributionItem.java:400"
        },
        {
          "method": "org.eclipse.swt.widgets.EventTable.sendEvent",
          "source": "EventTable.java:66"
        },
        {
          "method": "org.eclipse.swt.widgets.Widget.sendEvent",
          "source": "Widget.java:928"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.runDeferredEvents",
          "source": "Display.java:3348"
        },
        {
          "method": "org.eclipse.swt.widgets.Display.readAndDispatch",
          "source": "Display.java:2968"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runEventLoop",
          "source": "Workbench.java:1914"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.runUI",
          "source": "Workbench.java:1878"
        },
        {
          "method": "org.eclipse.ui.internal.Workbench.createAndRunWorkbench",
          "source": "Workbench.java:419"
        },
        {
          "method": "org.eclipse.ui.PlatformUI.createAndRunWorkbench",
          "source": "PlatformUI.java:149"
        },
        {
          "method": "de.ingmbh.sphinx.editor.Application.run",
          "source": "Application.java:18"
        },
        {
          "method": "org.eclipse.core.internal.runtime.PlatformActivator$1.run",
          "source": "PlatformActivator.java:78"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication",
          "source": "EclipseAppLauncher.java:92"
        },
        {
          "method": "org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start",
          "source": "EclipseAppLauncher.java:68"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:400"
        },
        {
          "method": "org.eclipse.core.runtime.adaptor.EclipseStarter.run",
          "source": "EclipseStarter.java:177"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke0",
          "source": "Native Method"
        },
        {
          "method": "sun.reflect.NativeMethodAccessorImpl.invoke",
          "source": "NativeMethodAccessorImpl.java:39"
        },
        {
          "method": "sun.reflect.DelegatingMethodAccessorImpl.invoke",
          "source": "DelegatingMethodAccessorImpl.java:25"
        },
        {
          "method": "java.lang.reflect.Method.invoke",
          "source": "Method.java:324"
        },
        {
          "method": "org.eclipse.core.launcher.Main.invokeFramework",
          "source": "Main.java:336"
        },
        {
          "method": "org.eclipse.core.launcher.Main.basicRun",
          "source": "Main.java:280"
        },
        {
          "method": "org.eclipse.core.launcher.Main.run",
          "source": "Main.java:977"
        },
        {
          "method": "org.eclipse.core.launcher.Main.main",
          "source": "Main.java:952"
        }
      ],
      "number": 0,
      "commentIndex": 0,
      "bugId": "161374",
      "date": "2006-10-18T10:48:46+02:00",
      "product": "Platform",
      "component": "UI",
      "severity": "normal"
    }
  ],
  "groupId": "161374",
  "bugId": "161374",
  "date": "2006-10-18T10:48:46+02:00",
  "product": "Platform",
  "component": "UI",
  "severity": "normal"
}