{
  "comments": [
    "Smoke:Report can not be previewed.\n\nSteps:\n1.Create a report\n2.Drag a label into layout\n3.Preview\n\nActual Results:\n1.System throws exception\nHTTP Status 503 - Servlet ViewerServlet is currently unavailable\n\n--------------------------------------------------------------------------------\n\ntype Status report\n\nmessage Servlet ViewerServlet is currently unavailable\n\ndescription The requested service (Servlet ViewerServlet is currently unavailable) is not currently available.\n\n\nExpected Results:\n1.System can be previewed.",
    "There is one mistake in birt/WEB-INF/web.xml:\n\"\u003cservlet-class\u003eorg.eclipse.birt.report.viewer.servlet.ViewerServlet\u003c/servlet-class\u003e\" should be \"\u003cservlet-class\u003eorg.eclipse.birt.report.servlet.ViewerServlet\u003c/servlet-class\u003e\"\n\nFor Eclipse 3.2 M4, we can preview by correcting birt/WEB-INF/web.xml.\nBut for Eclipse 3.2 M5, we must delete org.eclipse.datatools.connectivity.oda/lib/birt-core.jar except correcting birt/WEB-INF/web.xml. Maybe there are some changes in Eclipse classloader from 3.2 M4 to 3.2 M5.",
    "Linda,\nWill it cause other issues excluding birt-core.jar from org.eclipse.datatools.connectivity.oda?",
    "fixed",
    "Changing ODA plugin dependency to the birt.core plugin, instead of its jar, would introduce DTP dependency on BIRT installation.\n\nWhat\u0027s the error in 3.2M5, if the oda/lib/birt-core.jar is *not* deleted?\n \n\n",
    "web.xml issue is resolved.",
    "Now switch to eclipse 3.2m5, when preview I see this error\n\njava.lang.LinkageError: loader constraints violated when linking org/eclipse/birt/core/framework/IPlatformContext class\n\tat org.eclipse.birt.report.engine.api.ReportEngine.\u003cinit\u003e(ReportEngine.java:80)\n\tat org.eclipse.birt.report.service.ReportEngineService.setEngineContext(ReportEngineService.java:284)\n\tat org.eclipse.birt.report.servlet.ViewerServlet.doGet(ViewerServlet.java:144)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:740)\n\tat org.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:327)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:853)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:247)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:256)\n\tat org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n\tat org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n\tat org.apache.catalina.valves.CertificatesValve.invoke(CertificatesValve.java:246)\n\tat org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2422)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:180)\n\tat org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n\tat org.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherValve.java:171)\n\tat org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)\n\tat org.eclipse.tomcat.internal.EclipseErrorReportValve.invoke(EclipseErrorReportValve.java:153)\n\tat org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:174)\n\tat org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)\n\tat org.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:199)\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:828)\n\tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:700)\n\tat org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:584)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:683)\n\tat java.lang.Thread.run(Thread.java:534)\n\n",
    "Removing the oda/lib/birt-core.jar and changing the oda plugin dependencies rsolves the symptom here, but not the root cause.\n\nThe class loading here is obviously having a problem.  Wonder whether it is due to using the same class loader here, when it shouldn\u0027t?\n\nRe-assigned to the Engine team to look into the BIRT platform class loader issue.  And see whether the recent class loader changes done for https://bugs.eclipse.org/bugs/show_bug.cgi?id\u003d126509 \nis related.\n\n",
    "In this case, the ENGINE always use the Eclipse Platform. The Eclipse Bundle class loader add requires that the class can\u0027t be loaded more than once. It is not the issue of engine.\n\nHere is another case about the class loading problem (duplicate servlet.jar)\n\nhttp://dev.eclipse.org/newslists/news.eclipse.platform/msg39915.html",
    "Verified"
  ],
  "commentCreationDates": [
    "2006-03-01T03:53:58+01:00",
    "2006-03-01T08:03:00+01:00",
    "2006-03-01T08:05:17+01:00",
    "2006-03-01T19:10:21+01:00",
    "2006-03-01T19:42:08+01:00",
    "2006-03-01T20:10:22+01:00",
    "2006-03-01T23:29:21+01:00",
    "2006-03-02T04:16:07+01:00",
    "2006-03-03T02:06:53+01:00",
    "2006-03-06T06:33:21+01:00"
  ],
  "traces": [
    {
      "exceptionType": "java.lang.LinkageError",
      "message": "loader constraints violated when linking org/eclipse/birt/core/framework/IPlatformContext class",
      "elements": [
        {
          "method": "org.eclipse.birt.report.engine.api.ReportEngine.\u003cinit\u003e",
          "source": "ReportEngine.java:80"
        },
        {
          "method": "org.eclipse.birt.report.service.ReportEngineService.setEngineContext",
          "source": "ReportEngineService.java:284"
        },
        {
          "method": "org.eclipse.birt.report.servlet.ViewerServlet.doGet",
          "source": "ViewerServlet.java:144"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:740"
        },
        {
          "method": "org.apache.axis.transport.http.AxisServletBase.service",
          "source": "AxisServletBase.java:327"
        },
        {
          "method": "javax.servlet.http.HttpServlet.service",
          "source": "HttpServlet.java:853"
        },
        {
          "method": "org.apache.catalina.core.ApplicationFilterChain.internalDoFilter",
          "source": "ApplicationFilterChain.java:247"
        },
        {
          "method": "org.apache.catalina.core.ApplicationFilterChain.doFilter",
          "source": "ApplicationFilterChain.java:193"
        },
        {
          "method": "org.apache.catalina.core.StandardWrapperValve.invoke",
          "source": "StandardWrapperValve.java:256"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext",
          "source": "StandardPipeline.java:643"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline.invoke",
          "source": "StandardPipeline.java:480"
        },
        {
          "method": "org.apache.catalina.core.ContainerBase.invoke",
          "source": "ContainerBase.java:995"
        },
        {
          "method": "org.apache.catalina.core.StandardContextValve.invoke",
          "source": "StandardContextValve.java:191"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext",
          "source": "StandardPipeline.java:643"
        },
        {
          "method": "org.apache.catalina.valves.CertificatesValve.invoke",
          "source": "CertificatesValve.java:246"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext",
          "source": "StandardPipeline.java:641"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline.invoke",
          "source": "StandardPipeline.java:480"
        },
        {
          "method": "org.apache.catalina.core.ContainerBase.invoke",
          "source": "ContainerBase.java:995"
        },
        {
          "method": "org.apache.catalina.core.StandardContext.invoke",
          "source": "StandardContext.java:2422"
        },
        {
          "method": "org.apache.catalina.core.StandardHostValve.invoke",
          "source": "StandardHostValve.java:180"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext",
          "source": "StandardPipeline.java:643"
        },
        {
          "method": "org.apache.catalina.valves.ErrorDispatcherValve.invoke",
          "source": "ErrorDispatcherValve.java:171"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext",
          "source": "StandardPipeline.java:641"
        },
        {
          "method": "org.eclipse.tomcat.internal.EclipseErrorReportValve.invoke",
          "source": "EclipseErrorReportValve.java:153"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext",
          "source": "StandardPipeline.java:641"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline.invoke",
          "source": "StandardPipeline.java:480"
        },
        {
          "method": "org.apache.catalina.core.ContainerBase.invoke",
          "source": "ContainerBase.java:995"
        },
        {
          "method": "org.apache.catalina.core.StandardEngineValve.invoke",
          "source": "StandardEngineValve.java:174"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext",
          "source": "StandardPipeline.java:643"
        },
        {
          "method": "org.apache.catalina.core.StandardPipeline.invoke",
          "source": "StandardPipeline.java:480"
        },
        {
          "method": "org.apache.catalina.core.ContainerBase.invoke",
          "source": "ContainerBase.java:995"
        },
        {
          "method": "org.apache.coyote.tomcat4.CoyoteAdapter.service",
          "source": "CoyoteAdapter.java:199"
        },
        {
          "method": "org.apache.coyote.http11.Http11Processor.process",
          "source": "Http11Processor.java:828"
        },
        {
          "method": "org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection",
          "source": "Http11Protocol.java:700"
        },
        {
          "method": "org.apache.tomcat.util.net.TcpWorkerThread.runIt",
          "source": "PoolTcpEndpoint.java:584"
        },
        {
          "method": "org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run",
          "source": "ThreadPool.java:683"
        },
        {
          "method": "java.lang.Thread.run",
          "source": "Thread.java:534"
        }
      ],
      "number": 0,
      "commentIndex": 6,
      "bugId": "129875",
      "date": "2006-03-01T23:29:21+01:00",
      "product": "BIRT",
      "component": "Report Viewer",
      "severity": "critical"
    }
  ],
  "groupId": "129875",
  "bugId": "129875",
  "date": "2006-03-01T03:53:58+01:00",
  "product": "BIRT",
  "component": "Report Viewer",
  "severity": "critical"
}